(self.webpackChunkAngularDijkstra=self.webpackChunkAngularDijkstra||[]).push([[792],{8550:(gr,Kn,we)=>{"use strict";var St={};we.r(St),we.d(St,{Decoder:()=>qU,Encoder:()=>xDe,PacketType:()=>Ki,protocol:()=>CDe});var _t=we(467);let dn=null,Mn=!1,zn=1;const Hn=Symbol("SIGNAL");function bt(n){const e=dn;return dn=n,e}const mt={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zt(n){if(Mn)throw new Error("");if(null===dn)return;dn.consumerOnSignalRead(n);const e=dn.nextProducerIndex++;fi(dn),e<dn.producerNode.length&&dn.producerNode[e]!==n&&Pi(dn)&&xs(dn.producerNode[e],dn.producerIndexOfThis[e]),dn.producerNode[e]!==n&&(dn.producerNode[e]=n,dn.producerIndexOfThis[e]=Pi(dn)?po(n,dn,e):0),dn.producerLastReadVersion[e]=n.version}function nn(n){if((!Pi(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==zn)){if(!n.producerMustRecompute(n)&&!mr(n))return n.dirty=!1,void(n.lastCleanEpoch=zn);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=zn}}function Yr(n){if(void 0===n.liveConsumerNode)return;const e=Mn;Mn=!0;try{for(const t of n.liveConsumerNode)t.dirty||Hs(t)}finally{Mn=e}}function fs(){return!1!==dn?.consumerAllowSignalWrites}function Hs(n){n.dirty=!0,Yr(n),n.consumerMarkedDirty?.(n)}function mr(n){fi(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(nn(t),r!==t.version))return!0}return!1}function po(n,e,t){if(bi(n),fi(n),0===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=po(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function xs(n,e){if(bi(n),fi(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)xs(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];fi(i),i.producerIndexOfThis[r]=e}}function Pi(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function fi(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function bi(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}let md=function eu(){throw new Error};function Hp(){md()}let vd=null;function yd(n,e){fs()||Hp(),n.equal(n.value,e)||(n.value=e,function ht(n){n.version++,function Yt(){zn++}(),Yr(n),vd?.()}(n))}const zp={...mt,equal:function Ct(n,e){return Object.is(n,e)},value:void 0};function fn(n){return"function"==typeof n}function Vs(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ai=Vs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ti(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class mi{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(fn(r))try{r()}catch(s){e=s instanceof ai?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ql(s)}catch(o){e=e??[],o instanceof ai?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ai(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ql(e);else{if(e instanceof mi){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ti(t,e)}remove(e){const{_finalizers:t}=this;t&&Ti(t,e),e instanceof mi&&e._removeParent(this)}}mi.EMPTY=(()=>{const n=new mi;return n.closed=!0,n})();const _c=mi.EMPTY;function Uu(n){return n instanceof mi||n&&"closed"in n&&fn(n.remove)&&fn(n.add)&&fn(n.unsubscribe)}function ql(n){fn(n)?n():n.unsubscribe()}const el={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_o={setTimeout(n,e,...t){const{delegate:r}=_o;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=_o;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function jl(n){_o.setTimeout(()=>{const{onUnhandledError:e}=el;if(!e)throw n;e(n)})}function Qs(){}const vh=He("C",void 0,void 0);function He(n,e,t){return{kind:n,value:e,error:t}}let Ze=null;function lt(n){if(el.useDeprecatedSynchronousErrorHandling){const e=!Ze;if(e&&(Ze={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ze;if(Ze=null,t)throw r}}else n()}class qt extends mi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Uu(e)&&e.add(this)):this.destination=oo}static create(e,t,r){return new xn(e,t,r)}next(e){this.isStopped?zi(function yh(n){return He("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?zi(function pA(n){return He("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?zi(vh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ht=Function.prototype.bind;function Cn(n,e){return Ht.call(n,e)}class en{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Zt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Zt(r)}else Zt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Zt(t)}}}class xn extends qt{constructor(e,t,r){let i;if(super(),fn(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&el.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Cn(e.next,s),error:e.error&&Cn(e.error,s),complete:e.complete&&Cn(e.complete,s)}):i=e}this.destination=new en(i)}}function Zt(n){el.useDeprecatedSynchronousErrorHandling?function Rt(n){el.useDeprecatedSynchronousErrorHandling&&Ze&&(Ze.errorThrown=!0,Ze.error=n)}(n):jl(n)}function zi(n,e){const{onStoppedNotification:t}=el;t&&_o.setTimeout(()=>t(n,e))}const oo={closed:!0,next:Qs,error:function Li(n){throw n},complete:Qs},ko="function"==typeof Symbol&&Symbol.observable||"@@observable";function ds(n){return n}function Pa(n){return 0===n.length?ds:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let di=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function cw(n){return n&&n instanceof qt||function ay(n){return n&&fn(n.next)&&fn(n.error)&&fn(n.complete)}(n)&&Uu(n)}(t)?t:new xn(t,r,i);return lt(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Af(r))((i,s)=>{const o=new xn({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[ko](){return this}pipe(...t){return Pa(t)(this)}toPromise(t){return new(t=Af(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Af(n){var e;return null!==(e=n??el.Promise)&&void 0!==e?e:Promise}const uw=Vs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $r=(()=>{class n extends di{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new li(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new uw}next(t){lt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){lt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){lt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?_c:(this.currentObservers=null,s.push(t),new mi(()=>{this.currentObservers=null,Ti(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new di;return t.source=this,t}}return n.create=(e,t)=>new li(e,t),n})();class li extends $r{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:_c}}class Es extends $r{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Gp(n){return fn(n?.lift)}function Gi(n){return e=>{if(Gp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function qi(n,e,t,r,i){return new ly(n,e,t,r,i)}class ly extends qt{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Vr(n,e){return Gi((t,r)=>{let i=0;t.subscribe(qi(r,s=>{r.next(n.call(e,s,i++))}))})}const qp=Vs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ao(n,e){return Gi((t,r)=>{let i=0;t.subscribe(qi(r,s=>n.call(e,s,i++)&&r.next(s)))})}const wl=new di(n=>n.complete());function Mo(n){return n<=0?()=>wl:Gi((e,t)=>{let r=0;e.subscribe(qi(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function jp(n){return Gi((e,t)=>{let r=!1;e.subscribe(qi(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function cy(n=hw){return Gi((e,t)=>{let r=!1;e.subscribe(qi(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function hw(){return new qp}function _h(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ao((i,s)=>n(i,s,r)):ds,Mo(1),t?jp(e):cy(()=>new qp))}const uy="https://g.co/ng/security#xss";class dt extends Error{constructor(e,t){super(function ku(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Is(n){return{toString:n}.toString()}const Hu="__parameters__";function gf(n,e,t){return Is(()=>{const r=function Kp(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const h=l.hasOwnProperty(Hu)?l[Hu]:Object.defineProperty(l,Hu,{value:[]})[Hu];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}const as=globalThis;function As(n){for(let e in n)if(n[e]===As)return e;throw Error("Could not find renamed property on target object.")}function fR(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ea(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ea).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function fw(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const AR=As({__forward_ref__:As});function ls(n){return n.__forward_ref__=ls,n.toString=function(){return ea(this())},n}function or(n){return dy(n)?n():n}function dy(n){return"function"==typeof n&&n.hasOwnProperty(AR)&&n.__forward_ref__===ls}function bh(n,e,t){n!=e&&function ur(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(t,n,e,"==")}function Lt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zr(n){return{providers:n.providers||[],imports:n.imports||[]}}function $m(n){return dw(n,ta)||dw(n,gA)}function dw(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ay(n){return n&&(n.hasOwnProperty(Aw)||n.hasOwnProperty(wR))?n[Aw]:null}const ta=As({\u0275prov:As}),Aw=As({\u0275inj:As}),gA=As({ngInjectableDef:As}),wR=As({ngInjectorDef:As});class bn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Lt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function yw(n){return n&&!!n.\u0275providers}const Xm=As({\u0275cmp:As}),_w=As({\u0275dir:As}),bw=As({\u0275pipe:As}),n2=As({\u0275mod:As}),vf=As({\u0275fac:As}),Ym=As({__NG_ELEMENT_ID__:As}),r2=As({__NG_ENV_ID__:As});function Tr(n){return"string"==typeof n?n:null==n?"":String(n)}function ww(n,e){throw new dt(-201,!1)}var vi=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(vi||{});let Cw;function s2(){return Cw}function $l(n){const e=Cw;return Cw=n,e}function gy(n,e,t){const r=$m(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&vi.Optional?null:void 0!==e?e:void ww()}const yf={},_d="__NG_DI_FLAG__",Ji="ngTempTokenPath",xw=/\n/gm,vA="__source";let Cl;function xl(n){const e=Cl;return Cl=n,e}function Ho(n,e=vi.Default){if(void 0===Cl)throw new dt(-203,!1);return null===Cl?gy(n,void 0,e):Cl.get(n,e&vi.Optional?null:void 0,e)}function Wt(n,e=vi.Default){return(s2()||Ho)(or(n),e)}function Ve(n,e=vi.Default){return Wt(n,Vu(e))}function Vu(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function yA(n){const e=[];for(let t=0;t<n.length;t++){const r=or(n[t]);if(Array.isArray(r)){if(0===r.length)throw new dt(900,!1);let i,s=vi.Default;for(let o=0;o<r.length;o++){const a=r[o],l=a2(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(Wt(i,s))}else e.push(Wt(r))}return e}function cs(n,e){return n[_d]=e,n.prototype[_d]=e,n}function a2(n){return n[_d]}const _A=cs(gf("Optional"),8),Zm=cs(gf("SkipSelf"),4);function Kl(n,e){return n.hasOwnProperty(vf)?n[vf]:null}function Cc(n,e){n.forEach(t=>Array.isArray(t)?Cc(t,e):e(t))}function Ew(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Jm(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xc(n,e,t){let r=_f(n,e);return r>=0?n[1|r]=t:(r=~r,function Jp(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Sw(n,e){const t=_f(n,e);if(t>=0)return n[1|t]}function _f(n,e){return function f2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const wh={},Lr=[],bf=new bn(""),d2=new bn("",-1),Dw=new bn("");class bA{get(e,t=yf){if(t===yf){const r=new Error(`NullInjectorError: No provider for ${ea(e)}!`);throw r.name="NullInjectorError",r}return t}}var vy=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(vy||{}),iu=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(iu||{}),Fr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Fr||{});function A2(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function yy(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Tw(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Mw(n){return 3===n||4===n||6===n}function Tw(n){return 64===n.charCodeAt(0)}function eg(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Bw(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Bw(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const p2="ng-template";function _y(n,e,t,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==A2(e[i+1].toLowerCase(),t,0))return!0}else if(Nw(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&"string"==typeof(s=e[i]);)if(s.toLowerCase()===t)return!0}return!1}function Nw(n){return 4===n.type&&n.value!==p2}function BR(n,e,t){return e===(4!==n.type||t?n.value:p2)}function Iw(n,e,t){let r=4;const i=n.attrs,s=null!==i?function IR(n){for(let e=0;e<n.length;e++)if(Mw(n[e]))return e;return n.length}(i):0;let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!BR(n,l,t)||""===l&&1===e.length){if(Qu(r))return!1;o=!0}}else if(8&r){if(null===i||!_y(n,i,l,t)){if(Qu(r))return!1;o=!0}}else{const c=e[++a],u=g2(l,i,Nw(n),t);if(-1===u){if(Qu(r))return!1;o=!0;continue}if(""!==c){let h;if(h=u>s?"":i[u+1].toLowerCase(),2&r&&c!==h){if(Qu(r))return!1;o=!0}}}}else{if(!o&&!Qu(r)&&!Qu(l))return!1;if(o&&Qu(l))continue;o=!1,r=l|1&r}}return Qu(r)||o}function Qu(n){return!(1&n)}function g2(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function FR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function m2(n,e,t=!1){for(let r=0;r<e.length;r++)if(Iw(n,e[r],t))return!0;return!1}function RR(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function tg(n,e){return n?":not("+e.trim()+")":e}function OR(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Qu(o)&&(e+=tg(s,i),i=""),r=o,s=s||!Qu(r);t++}return""!==i&&(e+=tg(s,i)),e}function fr(n){return Is(()=>{const e=v2(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===vy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||iu.Emulated,styles:n.styles||Lr,_:null,schemas:n.schemas||null,tView:null,id:""};y2(t);const r=n.dependencies;return t.directiveDefs=wA(r,!1),t.pipeDefs=wA(r,!0),t.id=function HR(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function LR(n){return ui(n)||na(n)}function UR(n){return null!==n}function ci(n){return Is(()=>({type:n.type,bootstrap:n.bootstrap||Lr,declarations:n.declarations||Lr,imports:n.imports||Lr,exports:n.exports||Lr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ev(n,e){if(null==n)return wh;const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];let s,o,a=Fr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==Fr.None?[r,a]:r,e[s]=o):t[s]=r}return t}function mn(n){return Is(()=>{const e=v2(n);return y2(e),e})}function Xl(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ui(n){return n[Xm]||null}function na(n){return n[_w]||null}function Vo(n){return n[bw]||null}function tl(n,e){const t=n[n2]||null;if(!t&&!0===e)throw new Error(`Type ${ea(n)} does not have '\u0275mod' property.`);return t}function v2(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||wh,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Lr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ev(n.inputs,e),outputs:ev(n.outputs),debugInfo:null}}function y2(n){n.features?.forEach(e=>e(n))}function wA(n,e){if(!n)return null;const t=e?Vo:LR;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(UR)}function ng(n){return{\u0275providers:n}}function VR(...n){return{\u0275providers:Fw(0,n),\u0275fromNgModule:!0}}function Fw(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Cc(e,o=>{const a=o;wy(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&_2(i,s),t}function _2(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Rw(i,s=>{e(s,r)})}}function wy(n,e,t,r){if(!(n=or(n)))return!1;let i=null,s=Ay(n);const o=!s&&ui(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=Ay(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)wy(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Cc(s.imports,u=>{wy(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&_2(c,e)}if(!a){const c=Kl(i)||(()=>new i);e({provide:i,useFactory:c,deps:Lr},i),e({provide:Dw,useValue:i,multi:!0},i),e({provide:bf,useValue:()=>Wt(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=n;Rw(l,u=>{e(u,c)})}}}return i!==n&&void 0!==n.providers}function Rw(n,e){for(let t of n)yw(t)&&(t=t.\u0275providers),Array.isArray(t)?Rw(t,e):e(t)}const QR=As({provide:String,useValue:As});function tv(n){return null!==n&&"object"==typeof n&&QR in n}function xd(n){return"function"==typeof n}const Ow=new bn(""),rg={},Cy={};let Pw;function xy(){return void 0===Pw&&(Pw=new bA),Pw}class La{}class ig extends La{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uw(e,o=>this.processProvider(o)),this.records.set(d2,sg(void 0,this)),i.has("environment")&&this.records.set(La,sg(void 0,this));const s=this.records.get(Ow);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Dw,Lr,vi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=bt(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),bt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=xl(this),r=$l(void 0);try{return e()}finally{xl(t),$l(r)}}get(e,t=yf,r=vi.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(r2))return e[r2](this);r=Vu(r);const s=xl(this),o=$l(void 0);try{if(!(r&vi.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function WR(n){return"function"==typeof n||"object"==typeof n&&n instanceof bn}(e)&&$m(e);l=c&&this.injectableDefInScope(c)?sg(Lw(e),rg):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&vi.Self?xy():this.parent).get(e,t=r&vi.Optional&&t===yf?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ji]=a[Ji]||[]).unshift(ea(e)),s)throw a;return function l2(n,e,t,r){const i=n[Ji];throw e[vA]&&i.unshift(e[vA]),n.message=function c2(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ea(e);if(Array.isArray(e))i=e.map(ea).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ea(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(xw,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ji]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{$l(o),xl(s)}}resolveInjectorInitializers(){const e=bt(null),t=xl(this),r=$l(void 0);try{const s=this.get(bf,Lr,vi.Self);for(const o of s)o()}finally{xl(t),$l(r),bt(e)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ea(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new dt(205,!1)}processProvider(e){let t=xd(e=or(e))?e:or(e&&e.provide);const r=function Ey(n){return tv(n)?sg(void 0,n.useValue):sg(C2(n),rg)}(e);if(!xd(e)&&!0===e.multi){let i=this.records.get(t);i||(i=sg(void 0,rg,!0),i.factory=()=>yA(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){const r=bt(null);try{return t.value===rg&&(t.value=Cy,t.value=t.factory()),"object"==typeof t.value&&t.value&&function jR(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{bt(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=or(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Lw(n){const e=$m(n),t=null!==e?e.factory:Kl(n);if(null!==t)return t;if(n instanceof bn)throw new dt(204,!1);if(n instanceof Function)return function GR(n){if(n.length>0)throw new dt(204,!1);const t=function bR(n){return n&&(n[ta]||n[gA])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new dt(204,!1)}function C2(n,e,t){let r;if(xd(n)){const i=or(n);return Kl(i)||Lw(i)}if(tv(n))r=()=>or(n.useValue);else if(function w2(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...yA(n.deps||[]));else if(function b2(n){return!(!n||!n.useExisting)}(n))r=()=>Wt(or(n.useExisting));else{const i=or(n&&(n.useClass||n.provide));if(!function qR(n){return!!n.deps}(n))return Kl(i)||Lw(i);r=()=>new i(...yA(n.deps))}return r}function sg(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Uw(n,e){for(const t of n)Array.isArray(t)?Uw(t,e):t&&yw(t)?Uw(t.\u0275providers,e):e(t)}function Ch(n,e){n instanceof ig&&n.assertNotDestroyed();const r=xl(n),i=$l(void 0);try{return e()}finally{xl(r),$l(i)}}function x2(){return void 0!==s2()||null!=function MR(){return Cl}()}const lo=0,hn=1,er=2,To=3,ps=4,nl=5,Ec=6,ag=7,zs=8,zo=9,su=10,vr=11,iv=12,D2=13,lg=14,go=15,sv=16,CA=17,En=18,ov=19,M2=20,xh=21,Sc=22,xA=23,Er=25,EA=1,Ed=6,Eh=7,cg=9,Fs=10;var av=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(av||{});function _a(n){return Array.isArray(n)&&"object"==typeof n[EA]}function rl(n){return Array.isArray(n)&&!0===n[EA]}function Ty(n){return!!(4&n.flags)}function SA(n){return n.componentOffset>-1}function ug(n){return!(1&~n.flags)}function zu(n){return!!n.template}function Hw(n){return!!(512&n[er])}class O2{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function qw(n,e,t,r){null!==e?e.applyValueToInputSignal(e,r):n[t]=r}function Bo(){return P2}function P2(n){return n.type.prototype.ngOnChanges&&(n.setInput=hO),uO}function uO(){const n=By(this),e=n?.current;if(e){const t=n.previous;if(t===wh)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function hO(n,e,t,r,i){const s=this.declaredInputs[r],o=By(n)||function fO(n,e){return n[Dc]=e}(n,{previous:wh,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new O2(c&&c.currentValue,t,l===wh),qw(n,e,i,t)}Bo.ngInherit=!0;const Dc="__ngSimpleChanges__";function By(n){return n[Dc]||null}const Sh=function(n,e,t){};let k2=!1;function gs(n){for(;Array.isArray(n);)n=n[lo];return n}function DA(n,e){return gs(e[n])}function il(n,e){return gs(e[n.index])}function wf(n,e){return n.data[e]}function hg(n,e){return n[e]}function Mc(n,e){const t=e[n];return _a(t)?t:t[lo]}function lv(n){return!(128&~n[er])}function Dh(n,e){return null==e?null:n[e]}function V2(n){n[CA]=0}function gO(n){1024&n[er]||(n[er]|=1024,lv(n)&&uv(n))}function $w(n){return!!(9216&n[er]||n[xA]?.dirty)}function Kw(n){n[su].changeDetectionScheduler?.notify(1),$w(n)?uv(n):64&n[er]&&(function AO(){return k2}()?(n[er]|=1024,uv(n)):n[su].changeDetectionScheduler?.notify())}function uv(n){n[su].changeDetectionScheduler?.notify();let e=Sd(n);for(;null!==e&&!(8192&e[er])&&(e[er]|=8192,lv(e));)e=Sd(e)}function hv(n,e){if(!(256&~n[er]))throw new dt(911,!1);null===n[xh]&&(n[xh]=[]),n[xh].push(e)}function Sd(n){const e=n[To];return rl(e)?e[To]:e}const dr={lFrame:J2(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fv(){return dr.bindingsEnabled}function Cf(){return null!==dr.skipHydrationRootTNode}function xt(){return dr.lFrame.lView}function yi(){return dr.lFrame.tView}function Vn(n){return dr.lFrame.contextLView=n,n[zs]}function qn(n){return dr.lFrame.contextLView=null,n}function us(){let n=j2();for(;null!==n&&64===n.type;)n=n.parent;return n}function j2(){return dr.lFrame.currentTNode}function dv(){const n=dr.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Gu(n,e){const t=dr.lFrame;t.currentTNode=n,t.isParent=e}function Dd(){return dr.lFrame.isParent}function Av(){dr.lFrame.isParent=!1}function El(){const n=dr.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Tc(){return dr.lFrame.bindingIndex++}function Mh(n){const e=dr.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Ry(n){dr.lFrame.inI18n=n}function K2(n,e){const t=dr.lFrame;t.bindingIndex=t.bindingRootIndex=n,Zw(e)}function Zw(n){dr.lFrame.currentDirectiveIndex=n}function dg(){return dr.lFrame.currentQueryIndex}function pv(n){dr.lFrame.currentQueryIndex=n}function Y2(n){const e=n[hn];return 2===e.type?e.declTNode:1===e.type?n[nl]:null}function Z2(n,e,t){if(t&vi.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&vi.Host||(i=Y2(s),null===i||(s=s[lg],10&i.type))););if(null===i)return!1;e=i,n=s}const r=dr.lFrame=Jw();return r.currentTNode=e,r.lView=n,!0}function Oy(n){const e=Jw(),t=n[hn];dr.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Jw(){const n=dr.lFrame,e=null===n?null:n.child;return null===e?J2(n):e}function J2(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function eD(){const n=dr.lFrame;return dr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const MA=eD;function Py(){const n=eD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function bo(){return dr.lFrame.selectedIndex}function ou(n){dr.lFrame.selectedIndex=n}function Ui(){const n=dr.lFrame;return wf(n.tView,n.selectedIndex)}function eC(){return dr.lFrame.currentNamespace}let tC=!0;function TA(){return tC}function Yl(n){tC=n}function mv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function BA(n,e,t){rD(n,e,3,t)}function Ly(n,e,t,r){(3&n[er])===t&&rD(n,e,t,r)}function nC(n,e){let t=n[er];(3&t)===e&&(t&=16383,t+=1,n[er]=t)}function rD(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[CA]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[CA]+=65536),(a<s||-1==s)&&(bO(n,t,e,l),n[CA]=(4294901760&n[CA])+l+2),l++}function iD(n,e){Sh(4,n,e);const t=bt(null);try{e.call(n)}finally{bt(t),Sh(5,n,e)}}function bO(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[er]>>14<n[CA]>>16&&(3&n[er])===e&&(n[er]+=16384,iD(a,s)):iD(a,s)}const Md=-1;class vv{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function sC(n){return n!==Md}function yv(n){return 32767&n}function _v(n,e){let t=function oD(n){return n>>16}(n),r=e;for(;t>0;)r=r[lg],t--;return r}let oC=!0;function Uy(n){const e=oC;return oC=n,e}const aD=255,ky=5;let SO=0;const au={};function Tn(n,e){const t=bv(n,e);if(-1!==t)return t;const r=e[hn];r.firstCreatePass&&(n.injectorIndex=e.length,Td(r.data,n),Td(e,null),Td(r.blueprint,null));const i=Sl(n,e),s=n.injectorIndex;if(sC(i)){const o=yv(i),a=_v(i,e),l=a[hn].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Td(n,e){n.push(0,0,0,0,0,0,0,0,e)}function bv(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Sl(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=cC(i),null===r)return Md;if(t++,i=i[lg],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Md}function aC(n,e,t){!function DO(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ym)&&(r=t[Ym]),null==r&&(r=t[Ym]=SO++);const i=r&aD;e.data[n+(i>>ky)]|=1<<i}(n,e,t)}function Ys(n,e,t){if(t&vi.Optional||void 0!==n)return n;ww()}function wv(n,e,t,r){if(t&vi.Optional&&void 0===r&&(r=null),!(t&(vi.Self|vi.Host))){const i=n[zo],s=$l(void 0);try{return i?i.get(e,r,t&vi.Optional):gy(e,r,t&vi.Optional)}finally{$l(s)}}return Ys(r,0,t)}function lD(n,e,t,r=vi.Default,i){if(null!==n){if(2048&e[er]&&!(r&vi.Self)){const o=function BO(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[er]&&!(512&o[er]);){const a=Cv(s,o,t,r|vi.Self,au);if(a!==au)return a;let l=s.parent;if(!l){const c=o[M2];if(c){const u=c.get(t,au,r);if(u!==au)return u}l=cC(o),o=o[lg]}s=l}return i}(n,e,t,r,au);if(o!==au)return o}const s=Cv(n,e,t,r,au);if(s!==au)return s}return wv(e,t,r,i)}function Cv(n,e,t,r,i){const s=function TO(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ym)?n[Ym]:void 0;return"number"==typeof e?e>=0?e&aD:uD:e}(t);if("function"==typeof s){if(!Z2(e,n,r))return r&vi.Host?Ys(i,0,r):wv(e,t,r,i);try{let o;if(o=s(r),null!=o||r&vi.Optional)return o;ww()}finally{MA()}}else if("number"==typeof s){let o=null,a=bv(n,e),l=Md,c=r&vi.Host?e[go][nl]:null;for((-1===a||r&vi.SkipSelf)&&(l=-1===a?Sl(n,e):e[a+8],l!==Md&&cD(r,!1)?(o=e[hn],a=yv(l),e=_v(l,e)):a=-1);-1!==a;){const u=e[hn];if(lC(s,a,u.data)){const h=MO(a,e,t,o,r,c);if(h!==au)return h}l=e[a+8],l!==Md&&cD(r,e[hn].data[a+8]===c)&&lC(s,a,e)?(o=u,a=yv(l),e=_v(l,e)):a=-1}}return i}function MO(n,e,t,r,i,s){const o=e[hn],a=o.data[n+8],u=NA(a,o,t,null==r?SA(a)&&oC:r!=o&&!!(3&a.type),i&vi.Host&&s===a);return null!==u?IA(e,o,u,a):au}function NA(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,d=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<d;f++){const A=o[f];if(f<l&&t===A||f>=l&&A.type===t)return f}if(i){const f=o[l];if(f&&zu(f)&&f.type===t)return l}return null}function IA(n,e,t,r){let i=n[t];const s=e.data;if(function wO(n){return n instanceof vv}(i)){const o=i;o.resolving&&function CR(n,e){throw e&&e.join(" > "),new dt(-200,n)}(function Zi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Tr(n)}(s[t]));const a=Uy(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?$l(o.injectImpl):null;Z2(n,r,vi.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function nD(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=P2(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&$l(c),Uy(a),o.resolving=!1,MA()}}return i}function lC(n,e,t){return!!(t[e+(n>>ky)]&1<<n)}function cD(n,e){return!(n&vi.Self||n&vi.Host&&e)}class Go{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return lD(this._tNode,this._lView,e,Vu(r),t)}}function uD(){return new Go(us(),xt())}function vs(n){return Is(()=>{const e=n.prototype.constructor,t=e[vf]||Hy(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[vf]||Hy(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Hy(n){return dy(n)?()=>{const e=Hy(or(n));return e&&e()}:Kl(n)}function cC(n){const e=n[hn],t=e.type;return 2===t?e.declTNode:1===t?n[nl]:null}function fD(n,e=null,t=null,r){const i=hC(n,e,t,r);return i.resolveInjectorInitializers(),i}function hC(n,e=null,t=null,r,i=new Set){const s=[t||Lr,VR(n)];return r=r||("object"==typeof n?void 0:ea(n)),new ig(s,e||xy(),r||null,i)}let Io=(()=>{class n{static{this.THROW_IF_NOT_FOUND=yf}static{this.NULL=new bA}static create(t,r){if(Array.isArray(t))return fD({name:""},r,t,"");{const i=t.name??"";return fD({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=Lt({token:n,providedIn:"any",factory:()=>Wt(d2)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function fC(n){return n.ngOriginalError}class qu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&fC(e);for(;t&&fC(t);)t=fC(t);return t||null}}const AD=new bn("",{providedIn:"root",factory:()=>Ve(qu).handleError.bind(void 0)});let Th=(()=>{class n{static{this.__NG_ELEMENT_ID__=LO}static{this.__NG_ENV_ID__=t=>t}}return n})();class PO extends Th{constructor(e){super(),this._lView=e}onDestroy(e){return hv(this._lView,e),()=>function Ny(n,e){if(null===n[xh])return;const t=n[xh].indexOf(e);-1!==t&&n[xh].splice(t,1)}(this._lView,e)}}function LO(){return new PO(xt())}function S(){return x(us(),xt())}function x(n,e){return new N(il(n,e))}let N=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=S}}return n})();function I(n){return n instanceof N?n.nativeElement:n}function J(n){return e=>{setTimeout(n,void 0,e)}}const ie=class z extends $r{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,x2()&&(this.destroyRef=Ve(Th,{optional:!0})??void 0)}emit(e){const t=bt(null);try{super.next(e)}finally{bt(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=J(s),i&&(i=J(i)),o&&(o=J(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof mi&&e.add(a),a}};function De(){return this._results[Symbol.iterator]()}class Se{get changes(){return this._changes??=new ie}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=Se.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=De)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const r=function es(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function bd(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const qe="ngSkipHydration",Je="ngskiphydration";function at(n){const e=n.mergedAttrs;if(null===e)return!1;for(let t=0;t<e.length;t+=2){const r=e[t];if("number"==typeof r)return!1;if("string"==typeof r&&r.toLowerCase()===Je)return!0}return!1}function Et(n){return n.hasAttribute(qe)}function In(n){return!(128&~n.flags)}const Sn=new Map;let Kr=0;const yr="__ngContext__";function Si(n,e){_a(e)?(n[yr]=e[ov],function Gn(n){Sn.set(n[ov],n)}(e)):n[yr]=e}function Id(n){return LA(n[iv])}function Bh(n){return LA(n[ps])}function LA(n){for(;null!==n&&!rl(n);)n=n[ps];return n}let UO;function vg(){if(void 0!==UO)return UO;if(typeof document<"u")return document;throw new dt(210,!1)}const gD=new bn("",{providedIn:"root",factory:()=>Due}),Due="ng",VV=new bn(""),Nh=new bn("",{providedIn:"platform",factory:()=>"unknown"}),kO=new bn(""),QV=new bn("",{providedIn:"root",factory:()=>vg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Bue(){const n=new zy;return"browser"===Ve(Nh)&&(n.store=function Nue(n,e){const t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(vg(),Ve(gD))),n}let zy=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=Lt({token:n,providedIn:"root",factory:Bue})}get(t,r){return void 0!==this.store[t]?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const HO="h",VO="b";var Gy=function(n){return n.FirstChild="f",n.NextSibling="n",n}(Gy||{});const QO="e",zO="t",dC="c",mD="x",qy="r",GO="i",qO="n",vD="d",jO="__nghData__",AC="ngh",Iue="nghm";let zV=()=>null;function Fue(n,e,t=!1){let r=n.getAttribute(AC);if(null==r)return null;const[i,s]=r.split("|");if(r=t?s:i,!r)return null;const a=t?i:s?`|${s}`:"";let l={};if(""!==r){const u=e.get(zy,null,{optional:!0});null!==u&&(l=u.get(jO,[])[Number(r)])}const c={data:l,firstChild:n.firstChild??null};return t&&(c.firstChild=n,yD(c,0,n.nextSibling)),a?n.setAttribute(AC,a):n.removeAttribute(AC),c}function WO(n,e,t=!1){return zV(n,e,t)}function GV(n){let e=n._lView;return 2===e[hn].type?null:(Hw(e)&&(e=e[Er]),e)}function yD(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function KO(n,e){return n.segmentHeads?.[e]??null}function jV(n,e){return n.data[dC]?.[e]??null}function XO(n,e){const t=jV(n,e)??[];let r=0;for(let i of t)r+=i[qy]*(i[mD]??1);return r}function _D(n,e){if(typeof n.disconnectedNodes>"u"){const t=n.data[vD];n.disconnectedNodes=t?new Set(t):null}return!!n.disconnectedNodes?.has(e)}const bD=new bn(""),$V=new bn("",{providedIn:"root",factory:()=>!1}),KV=new bn("");let wD,CD;function jy(n){return function YO(){if(void 0===wD&&(wD=null,as.trustedTypes))try{wD=as.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wD}()?.createHTML(n)||n}function ZV(n){return function ZO(){if(void 0===CD&&(CD=null,as.trustedTypes))try{CD=as.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return CD}()?.createScriptURL(n)||n}class JV{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uy})`}}function yg(n){return n instanceof JV?n.changingThisBreaksApplicationSecurity:n}function mC(n,e){const t=function Wue(n){return n instanceof JV&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${uy})`)}return t===e}class $ue{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(jy(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Kue{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=jy(e),t}}const Yue=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function JO(n){return(n=String(n)).match(Yue)?n:"unsafe:"+n}function UA(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function vC(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const tQ=UA("area,br,col,hr,img,wbr"),nQ=UA("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rQ=UA("rp,rt"),eP=vC(tQ,vC(nQ,UA("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vC(rQ,UA("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vC(rQ,nQ)),tP=UA("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iQ=vC(tP,UA("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),UA("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Wy=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Wy||{});function wo(n){const e=yC();return e?e.sanitize(Wy.URL,n)||"":mC(n,"URL")?yg(n):JO(Tr(n))}function lQ(n){const e=yC();if(e)return ZV(e.sanitize(Wy.RESOURCE_URL,n)||"");if(mC(n,"ResourceURL"))return ZV(yg(n));throw new dt(904,!1)}function yC(){const n=xt();return n&&n[su].sanitizer}const dhe=/^>|^->|<!--|-->|--!>|<!-$/g,Ahe=/(<|>)/g,phe="\u200b$1\u200b";function dQ(n){return n.ownerDocument.defaultView}function Wu(n){return n instanceof Function?n():n}function Tf(n){return"browser"===(n??Ve(Io)).get(Nh)}var _g=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(_g||{});let oP;function aP(n,e){return oP(n,e)}function Ky(n,e,t,r,i){if(null!=r){let s,o=!1;rl(r)?s=r:_a(r)&&(o=!0,r=r[lo]);const a=gs(r);0===n&&null!==t?null==i?wQ(e,t,a):Ev(e,t,a,i||null,!0):1===n&&null!==t?Ev(e,t,a,i||null,!0):2===n?wC(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Phe(n,e,t,r,i){const s=t[Eh];s!==gs(t)&&Ky(e,n,r,s,i);for(let a=Fs;a<t.length;a++){const l=t[a];ND(l[hn],l,n,e,r,s)}}(e,n,s,t,i)}}function lP(n,e){return n.createText(e)}function cP(n,e){return n.createComment(function uQ(n){return n.replace(dhe,e=>e.replace(Ahe,phe))}(e))}function DD(n,e,t){return n.createElement(e,t)}function yQ(n,e){e[su].changeDetectionScheduler?.notify(1),ND(n,e,e[vr],2,null,null)}function _Q(n,e){const t=n[cg],r=t.indexOf(e);t.splice(r,1)}function _C(n,e){if(n.length<=Fs)return;const t=Fs+e,r=n[t];if(r){const i=r[sv];null!==i&&i!==n&&_Q(i,r),e>0&&(n[t-1][ps]=r[ps]);const s=Jm(n,Fs+e);!function She(n,e){yQ(n,e),e[lo]=null,e[nl]=null}(r[hn],r);const o=s[En];null!==o&&o.detachView(s[hn]),r[To]=null,r[ps]=null,r[er]&=-129}return r}function MD(n,e){if(!(256&e[er])){const t=e[vr];t.destroyNode&&ND(n,e,t,3,null,null),function Mhe(n){let e=n[iv];if(!e)return uP(n[hn],n);for(;e;){let t=null;if(_a(e))t=e[iv];else{const r=e[Fs];r&&(t=r)}if(!t){for(;e&&!e[ps]&&e!==n;)_a(e)&&uP(e[hn],e),e=e[To];null===e&&(e=n),_a(e)&&uP(e[hn],e),t=e&&e[ps]}e=t}}(e)}}function uP(n,e){if(256&e[er])return;const t=bt(null);try{e[er]&=-129,e[er]|=256,e[xA]&&function Oi(n){if(fi(n),Pi(n))for(let e=0;e<n.producerNode.length;e++)xs(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[xA]),function Ihe(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof vv)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Sh(4,a,l);try{l.call(a)}finally{Sh(5,a,l)}}else{Sh(4,i,s);try{s.call(i)}finally{Sh(5,i,s)}}}}}(n,e),function Nhe(n,e){const t=n.cleanup,r=e[ag];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[ag]=null);const i=e[xh];if(null!==i){e[xh]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[hn].type&&e[vr].destroy();const r=e[sv];if(null!==r&&rl(e[To])){r!==e[To]&&_Q(r,e);const i=e[En];null!==i&&i.detachView(n)}!function Jr(n){Sn.delete(n[ov])}(e)}finally{bt(t)}}function hP(n,e,t){return bQ(n,e.parent,t)}function bQ(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[lo];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===iu.None||s===iu.Emulated)return null}return il(r,t)}}function Ev(n,e,t,r,i){n.insertBefore(e,t,r,i)}function wQ(n,e,t){n.appendChild(e,t)}function CQ(n,e,t,r,i){null!==r?Ev(n,e,t,r,i):wQ(n,e,t)}function TD(n,e){return n.parentNode(e)}function xQ(n,e,t){return SQ(n,e,t)}function EQ(n,e,t){return 40&n.type?il(n,t):null}let fP,SQ=EQ;function DQ(n,e){SQ=n,fP=e}function BD(n,e,t,r){const i=hP(n,r,e),s=e[vr],a=xQ(r.parent||e[nl],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)CQ(s,i,t[l],a,!1);else CQ(s,i,t,a,!1);void 0!==fP&&fP(s,r,e,t,i)}function bC(n,e){if(null!==e){const t=e.type;if(3&t)return il(e,n);if(4&t)return dP(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return bC(n,r);{const i=n[e.index];return rl(i)?dP(-1,i):gs(i)}}if(32&t)return aP(e,n)()||gs(n[e.index]);{const r=MQ(n,e);return null!==r?Array.isArray(r)?r[0]:bC(Sd(n[go]),r):bC(n,e.next)}}return null}function MQ(n,e){return null!==e?n[go][nl].projection[e.projection]:null}function dP(n,e){const t=Fs+n+1;if(t<e.length){const r=e[t],i=r[hn].firstChild;if(null!==i)return bC(r,i)}return e[Eh]}function wC(n,e,t){const r=TD(n,e);r&&function Fhe(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}function TQ(n){n.textContent=""}function AP(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Si(gs(a),r),t.flags|=2),32&~t.flags)if(8&l)AP(n,e,t.child,r,i,s,!1),Ky(e,n,i,a,s);else if(32&l){const c=aP(t,r);let u;for(;u=c();)Ky(e,n,i,u,s);Ky(e,n,i,a,s)}else 16&l?BQ(n,e,r,t,i,s):Ky(e,n,i,a,s);t=o?t.projectionNext:t.next}}function ND(n,e,t,r,i,s){AP(t,r,n.firstChild,e,i,s,!1)}function BQ(n,e,t,r,i,s){const o=t[go],l=o[nl].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ky(e,n,i,l[c],s);else{let c=l;const u=o[To];In(r)&&(c.flags|=128),AP(n,e,c,u,i,s,!0)}}function NQ(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function IQ(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&yy(n,e,r),null!==i&&NQ(n,e,i),null!==s&&function Uhe(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}const Qr={};function Ne(n=1){FQ(yi(),xt(),bo()+n,!1)}function FQ(n,e,t,r){if(!r)if(3&~e[er]){const s=n.preOrderHooks;null!==s&&Ly(e,s,0,t)}else{const s=n.preOrderCheckHooks;null!==s&&BA(e,s,t)}ou(t)}function gt(n,e=vi.Default){const t=xt();return null===t?Wt(n,e):lD(us(),t,or(n),e)}function OQ(n,e,t,r,i,s){const o=bt(null);try{let a=null;i&Fr.SignalBased&&(a=e[r][Hn]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&Fr.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),null!==n.setInput?n.setInput(e,a,s,t,r):qw(e,a,r,s)}finally{bt(o)}}function ID(n,e,t,r,i,s,o,a,l,c,u){const h=e.blueprint.slice();return h[lo]=i,h[er]=204|r,(null!==c||n&&2048&n[er])&&(h[er]|=2048),V2(h),h[To]=h[lg]=n,h[zs]=t,h[su]=o||n&&n[su],h[vr]=a||n&&n[vr],h[zo]=l||n&&n[zo]||null,h[nl]=s,h[ov]=function Xn(){return Kr++}(),h[Ec]=u,h[M2]=c,h[go]=2==e.type?n[go]:h,h}function Xy(n,e,t,r,i){let s=n.data[e];if(null===s)s=pP(n,e,t,r,i),function $2(){return dr.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=dv();s.injectorIndex=null===o?-1:o.injectorIndex}return Gu(s,!0),s}function pP(n,e,t,r,i){const s=j2(),o=Dd(),l=n.data[e]=function jhe(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Cf()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}function CC(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function PQ(n,e,t,r,i){const s=bo(),o=2&r;try{ou(-1),o&&e.length>Er&&FQ(n,e,Er,!1),Sh(o?2:0,i),t(r,i)}finally{ou(s),Sh(o?3:1,i)}}function gP(n,e,t){if(Ty(e)){const r=bt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{bt(r)}}}function mP(n,e,t){fv()&&(function Jhe(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;SA(t)&&function ofe(n,e,t){const r=il(e,n),i=LQ(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=FD(n,ID(n,i,null,o,r,e,null,n[su].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Tn(t,e),Si(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=IA(e,n,a,t);Si(c,e),null!==o&&afe(0,a-i,c,l,0,o),zu(l)&&(Mc(t.index,e)[zs]=IA(e,n,a,t))}}(n,e,t,il(t,e)),!(64&~t.flags)&&QQ(n,e,t))}function vP(n,e,t=il){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function LQ(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=yP(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function yP(n,e,t,r,i,s,o,a,l,c,u){const h=Er+r,d=h+i,f=function Hhe(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Qr);return t}(h,d),A="function"==typeof c?c():c;return f[hn]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:A,incompleteFirstPass:!1,ssrId:u}}let UQ=()=>null;function zhe(n){Et(n)?TQ(n):function Pue(n){const e=vg(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(s){const o=function Oue(n){return n.textContent?.replace(/\s/gm,"")}(s);return"ngetn"===o||"ngtns"===o?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=t.nextNode();)i.push(r);for(const s of i)"ngetn"===s.textContent?s.replaceWith(e.createTextNode("")):s.remove()}(n)}function kQ(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];if(void 0===o)continue;r??={};let a,l=Fr.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(null!==i){if(!i.hasOwnProperty(s))continue;c=i[s]}0===n?HQ(r,t,c,a,l):HQ(r,t,c,a)}return r}function HQ(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],void 0!==i&&s.push(i)}function lu(n,e,t,r,i,s,o,a){const l=il(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(xP(n,t,u,r,i),SA(e)&&function Khe(n,e){const t=Mc(e,n);16&t[er]||(t[er]|=64)}(t,e.index)):3&e.type&&(r=function $he(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function _P(n,e,t,r){if(fv()){const i=null===r?null:{"":-1},s=function tfe(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(m2(e,o.selectors,!1))if(r||(r=[]),zu(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),bP(n,e,a.length)}else r.unshift(o),bP(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&VQ(n,e,t,o,i,a),i&&function nfe(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new dt(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=eg(t.mergedAttrs,t.attrs)}function VQ(n,e,t,r,i,s){for(let c=0;c<r.length;c++)aC(Tn(t,e),n,r[c].type);!function ife(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=CC(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=eg(t.mergedAttrs,u.hostAttrs),sfe(n,t,e,l,u),rfe(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function Whe(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const h=s[u],d=t?t.get(h):null,A=d?d.outputs:null;l=kQ(0,h.inputs,u,l,d?d.inputs:null),c=kQ(1,h.outputs,u,c,A);const p=null===l||null===o||Nw(e)?null:lfe(l,u,o);a.push(p)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function QQ(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function X2(){return dr.lFrame.currentDirectiveIndex}();try{ou(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];Zw(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&efe(l,c)}}finally{ou(-1),Zw(o)}}function efe(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function bP(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function rfe(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;zu(e)&&(t[""]=n)}}function sfe(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Kl(i.type)),o=new vv(s,zu(i),gt);n.blueprint[r]=o,t[r]=o,function Yhe(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function Zhe(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,CC(n,t,i.hostVars,Qr),i)}function Rd(n,e,t,r,i,s){const o=il(n,e);!function wP(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Tr(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[vr],o,s,n.value,t,r,i)}function afe(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)OQ(r,t,o[a++],o[a++],o[a++],o[a++])}function lfe(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function zQ(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function GQ(n,e){const t=n.contentQueries;if(null!==t){const r=bt(null);try{for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const a=n.data[o];pv(t[i]),a.contentQueries(2,e[o],o)}}}finally{bt(r)}}}function FD(n,e){return n[iv]?n[D2][ps]=e:n[iv]=e,n[D2]=e,e}function CP(n,e,t){pv(0);const r=bt(null);try{e(n,t)}finally{bt(r)}}function qQ(n){return n[ag]||(n[ag]=[])}function jQ(n){return n.cleanup||(n.cleanup=[])}function RD(n,e){const t=n[zo],r=t?t.get(qu,null):null;r&&r.handleError(e)}function xP(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=t[s++];OQ(n.data[o],e[o],r,a,l,i)}}function kA(n,e,t){const r=DA(e,n);!function vQ(n,e,t){n.setValue(e,t)}(n[vr],r,t)}function cfe(n,e){const t=Mc(e,n),r=t[hn];!function ufe(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[lo];null!==i&&null===t[Ec]&&(t[Ec]=WO(i,t[zo])),EP(r,t,t[zs])}function EP(n,e,t){Oy(e);try{const r=n.viewQuery;null!==r&&CP(1,r,t);const i=n.template;null!==i&&PQ(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[En]?.finishViewCreation(n),n.staticContentQueries&&GQ(n,e),n.staticViewQueries&&CP(2,n.viewQuery,t);const s=n.components;null!==s&&function hfe(n,e){for(let t=0;t<e.length;t++)cfe(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[er]&=-5,Py()}}function xC(n,e,t,r){const i=bt(null);try{const s=e.tView,l=ID(n,s,t,4096&n[er]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[sv]=n[e.index];const u=n[En];return null!==u&&(l[En]=u.createEmbeddedView(s)),EP(s,l,t),l}finally{bt(i)}}function $Q(n,e){const t=Fs+e;if(t<n.length)return n[t]}function Yy(n,e){return!e||null===e.firstChild||In(n)}function EC(n,e,t,r=!0){const i=e[hn];if(function The(n,e,t,r){const i=Fs+r,s=t.length;r>0&&(t[i-1][ps]=e),r<s-Fs?(e[ps]=t[i],Ew(t,Fs+r,e)):(t.push(e),e[ps]=null),e[To]=t;const o=e[sv];null!==o&&t!==o&&function Bhe(n,e){const t=n[cg];e[go]!==e[To][To][go]&&(n[er]|=av.HasTransplantedViews),null===t?n[cg]=[e]:t.push(e)}(o,e);const a=e[En];null!==a&&a.insertView(n),Kw(e),e[er]|=128}(i,e,n,t),r){const o=dP(t,n),a=e[vr],l=TD(a,n[Eh]);null!==l&&function Dhe(n,e,t,r,i,s){r[lo]=i,r[nl]=e,ND(n,r,t,1,i,s)}(i,n[nl],a,e,l,o)}const s=e[Ec];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function SP(n,e){const t=_C(n,e);return void 0!==t&&MD(t[hn],t),t}function SC(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(gs(s)),rl(s)&&KQ(s,r);const o=t.type;if(8&o)SC(n,e,t.child,r);else if(32&o){const a=aP(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=MQ(e,t);if(Array.isArray(a))r.push(...a);else{const l=Sd(e[go]);SC(l[hn],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function KQ(n,e){for(let t=Fs;t<n.length;t++){const r=n[t],i=r[hn].firstChild;null!==i&&SC(r[hn],r,i,e)}n[Eh]!==n[lo]&&e.push(n[Eh])}let XQ=[];const pfe={...mt,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{uv(n.lView)},consumerOnSignalRead(){this.lView[xA]=this}},YQ=100;function OD(n,e=!0,t=0){const r=n[su],i=r.rendererFactory;i.begin?.();try{!function gfe(n,e){DP(n,e);let t=0;for(;$w(n);){if(t===YQ)throw new dt(103,!1);t++,DP(n,1)}}(n,t)}catch(o){throw e&&RD(n,o),o}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function mfe(n,e,t,r){const i=e[er];if(!(256&~i))return;e[su].inlineEffectRunner?.flush(),Oy(e);let o=null,a=null;(function vfe(n){return 2!==n.type})(n)&&(a=function ffe(n){return n[xA]??function dfe(n){const e=XQ.pop()??Object.create(pfe);return e.lView=n,e}(n)}(e),o=function Ns(n){return n&&(n.nextProducerIndex=0),bt(n)}(a));try{V2(e),function Yw(n){return dr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&PQ(n,e,t,2,r);const l=!(3&~i);if(l){const h=n.preOrderCheckHooks;null!==h&&BA(e,h,null)}else{const h=n.preOrderHooks;null!==h&&Ly(e,h,0,null),nC(e,0)}if(function yfe(n){for(let e=Id(n);null!==e;e=Bh(e)){if(!(e[er]&av.HasTransplantedViews))continue;const t=e[cg];for(let r=0;r<t.length;r++){gO(t[r])}}}(e),ZQ(e,0),null!==n.contentQueries&&GQ(n,e),l){const h=n.contentCheckHooks;null!==h&&BA(e,h)}else{const h=n.contentHooks;null!==h&&Ly(e,h,1),nC(e,1)}!function khe(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ou(~i);else{const s=i,o=t[++r],a=t[++r];K2(o,s),a(2,e[s])}}}finally{ou(-1)}}(n,e);const c=n.components;null!==c&&e7(e,c,0);const u=n.viewQuery;if(null!==u&&CP(2,u,r),l){const h=n.viewCheckHooks;null!==h&&BA(e,h)}else{const h=n.viewHooks;null!==h&&Ly(e,h,2),nC(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Sc]){for(const h of e[Sc])h();e[Sc]=null}e[er]&=-73}catch(l){throw uv(e),l}finally{null!==a&&(function ga(n,e){if(bt(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Pi(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)xs(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,o),function Afe(n){n.lView[xA]!==n&&(n.lView=null,XQ.push(n))}(a)),Py()}}function ZQ(n,e){for(let t=Id(n);null!==t;t=Bh(t))for(let r=Fs;r<t.length;r++)JQ(t[r],e)}function _fe(n,e,t){JQ(Mc(e,n),t)}function JQ(n,e){lv(n)&&DP(n,e)}function DP(n,e){const r=n[hn],i=n[er],s=n[xA];let o=!!(0===e&&16&i);if(o||=!!(64&i&&0===e),o||=!!(1024&i),o||=!(!s?.dirty||!mr(s)),s&&(s.dirty=!1),n[er]&=-9217,o)mfe(r,n,r.template,n[zs]);else if(8192&i){ZQ(n,1);const a=r.components;null!==a&&e7(n,a,1)}}function e7(n,e,t){for(let r=0;r<e.length;r++)_fe(n,e[r],t)}function DC(n){for(n[su].changeDetectionScheduler?.notify();n;){n[er]|=64;const e=Sd(n);if(Hw(n)&&!e)return n;n=e}return null}class MC{get rootNodes(){const e=this._lView,t=e[hn];return SC(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zs]}set context(e){this._lView[zs]=e}get destroyed(){return!(256&~this._lView[er])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[To];if(rl(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(_C(e,r),Jm(t,r))}this._attachedToViewContainer=!1}MD(this._lView[hn],this._lView)}onDestroy(e){hv(this._lView,e)}markForCheck(){DC(this._cdRefInjectingView||this._lView)}detach(){this._lView[er]&=-129}reattach(){Kw(this._lView),this._lView[er]|=128}detectChanges(){this._lView[er]|=1024,OD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new dt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,yQ(this._lView[hn],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new dt(902,!1);this._appRef=e,Kw(this._lView)}}let ra=(()=>{class n{static{this.__NG_ELEMENT_ID__=Cfe}}return n})();const bfe=ra,wfe=class extends bfe{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=xC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new MC(i)}};function Cfe(){return PD(us(),xt())}function PD(n,e){return 4&n.type?new wfe(e,n,x(n,e)):null}function r7(n){const e=n[Ed]??[],r=n[To][vr];for(const i of e)Ife(i,r);n[Ed]=Lr}function Ife(n,e){let t=0,r=n.firstChild;if(r){const i=n.data[qy];for(;t<i;){const s=r.nextSibling;wC(e,r,!1),r=s,t++}}}function i7(n){r7(n);for(let e=Fs;e<n.length;e++)UD(n[e])}function UD(n){!function Ffe(n){const e=n[Ec]?.i18nNodes;if(e){const t=n[vr];for(const r of e.values())wC(t,r,!1);n[Ec].i18nNodes=void 0}}(n);const e=n[hn];for(let t=Er;t<e.bindingStartIndex;t++)rl(n[t])?i7(n[t]):_a(n[t])&&UD(n[t])}const Ofe=new RegExp(`^(\\d+)*(${VO}|${HO})*(.*)`);function NP(n){return n.index-Er}function kD(n,e,t,r){const i=NP(r);let s=function kfe(n,e){const t=n.i18nNodes;if(t){const r=t.get(e);return r&&t.delete(e),r}return null}(n,i);if(!s){const o=n.data[qO];if(o?.[i])s=function Vfe(n,e){const[t,...r]=function Lfe(n){const e=n.match(Ofe),[t,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(const[l,c,u]of s.matchAll(/(f|n)(\d*)/g)){const h=parseInt(u,10)||1;a.push(c,h)}return[o,...a]}(n);let i;return i=t===HO?e[go][lo]:t===VO?function AQ(n){return n.ownerDocument.body}(e[go][lo]):gs(e[Number(t)+Er]),function Hfe(n,e){let t=n;for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Gy.FirstChild:t=t.firstChild;break;case Gy.NextSibling:t=t.nextSibling}}return t}(i,r)}(o[i],t);else if(e.firstChild===r)s=n.firstChild;else{const a=null===r.prev,l=r.prev??r.parent;if(function Ufe(n){return!n.prev&&8===n.parent?.type}(r))s=KO(n,NP(r.parent));else{let c=il(l,t);if(a)s=c.firstChild;else{const u=NP(l),h=KO(n,u);s=2===l.type&&h?HD(XO(n,u)+1,h):c.nextSibling}}}}return s}function HD(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}let o7=()=>null;function qfe(n,e){const t=n[Ed];return e&&null!==t&&0!==t.length?t[0].data[GO]===e?t.shift():(r7(n),null):null}function Zy(n,e){return o7(n,e)}class VD{}class Wfe{}class a7{}class Kfe{resolveComponentFactory(e){throw function $fe(n){const e=Error(`No component factory found for ${ea(n)}.`);return e.ngComponent=n,e}(e)}}let FC=(()=>{class n{static{this.NULL=new Kfe}}return n})();class FP{}let Bf=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Xfe(){const n=xt(),t=Mc(us().index,n);return(_a(t)?t:n)[vr]}()}}return n})(),Yfe=(()=>{class n{static{this.\u0275prov=Lt({token:n,providedIn:"root",factory:()=>null})}}return n})();const RP={},c7=new Set;function Nf(n){c7.has(n)||(c7.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function u7(...n){}class Sr{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ie(!1),this.onMicrotaskEmpty=new ie(!1),this.onStable=new ie(!1),this.onError=new ie(!1),typeof Zone>"u")throw new dt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Zfe(){const n="function"==typeof as.requestAnimationFrame;let e=as[n?"requestAnimationFrame":"setTimeout"],t=as[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function tde(n){const e=()=>{!function ede(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(as,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,PP(n),n.isCheckStableRunning=!0,OP(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),PP(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function nde(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return h7(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),f7(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return h7(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),f7(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,PP(n),OP(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sr.isInAngularZone())throw new dt(909,!1)}static assertNotInAngularZone(){if(Sr.isInAngularZone())throw new dt(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Jfe,u7,u7);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Jfe={};function OP(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function PP(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function h7(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function f7(n){n._nesting--,OP(n)}class d7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ie,this.onMicrotaskEmpty=new ie,this.onStable=new ie,this.onError=new ie}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}var Sv=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Sv||{});const A7={destroy(){}};function UP(n,e){!e&&function nv(n){if(!x2())throw new dt(-203,!1)}();const t=e?.injector??Ve(Io);if(!Tf(t))return A7;Nf("NgAfterNextRender");const r=t.get(RC),i=r.handler??=new g7,s=e?.phase??Sv.MixedReadWrite,o=()=>{i.unregister(l),a()},a=t.get(Th).onDestroy(o),l=Ch(t,()=>new p7(s,()=>{o(),n()}));return i.register(l),{destroy:o}}class p7{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=Ve(Sr),this.errorHandler=Ve(qu,{optional:!0}),Ve(VD,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class g7{constructor(){this.executingCallbacks=!1,this.buckets={[Sv.EarlyRead]:new Set,[Sv.Write]:new Set,[Sv.MixedReadWrite]:new Set,[Sv.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let RC=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Lt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function zD(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=fw(i,a):2==s&&(r=fw(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}class y7 extends FC{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ui(e);return new LC(t,this.ngModule)}}function _7(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const r=n[t];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}class GD{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Vu(r);const i=this.injector.get(e,RP,r);return i!==RP||t===RP?i:this.parentInjector.get(e,t,r)}}class LC extends a7{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=_7(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return _7(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function PR(n){return n.map(OR).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){const s=bt(null);try{let o=(i=i||this.ngModule)instanceof La?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new GD(e,o):e,l=a.get(FP,null);if(null===l)throw new dt(407,!1);const c=a.get(Yfe,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:a.get(RC,null),changeDetectionScheduler:a.get(VD,null)},f=l.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",p=r?function Vhe(n,e,t,r){const s=r.get($V,!1)||t===iu.ShadowDom,o=n.selectRootElement(e,s);return function Qhe(n){UQ(n)}(o),o}(f,r,this.componentDef.encapsulation,a):DD(f,A,function ade(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(A));let m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let g=null;null!==p&&(g=WO(p,a,!0));const y=yP(0,null,null,1,0,null,null,null,null,null,null),v=ID(null,y,null,m,null,null,d,f,a,null,g);let _,C;Oy(v);try{const b=this.componentDef;let M,D=null;b.findHostDirectiveDefs?(M=[],D=new Map,b.findHostDirectiveDefs(b,M,D),M.push(b)):M=[b];const E=function cde(n,e){const t=n[hn],r=Er;return n[r]=e,Xy(t,r,2,"#host",null)}(v,p),T=function ude(n,e,t,r,i,s,o){const a=i[hn];!function hde(n,e,t,r){for(const i of n)e.mergedAttrs=eg(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(zD(e,e.mergedAttrs,!0),null!==t&&IQ(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=WO(e,i[zo]));const c=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const h=ID(i,LQ(t),null,u,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&bP(a,n,r.length-1),FD(i,h),i[n.index]=h}(E,p,b,M,v,d,f);C=wf(y,Er),p&&function dde(n,e,t,r){if(r)yy(n,t,["ng-version","17.3.12"]);else{const{attrs:i,classes:s}=function by(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Qu(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&yy(n,t,i),s&&s.length>0&&NQ(n,t,s.join(" "))}}(f,b,p,r),void 0!==t&&function Ade(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(C,this.ngContentSelectors,t),_=function fde(n,e,t,r,i,s){const o=us(),a=i[hn],l=il(o,i);VQ(a,i,o,t,null,r);for(let u=0;u<t.length;u++)Si(IA(i,a,o.directiveStart+u,o),i);QQ(a,i,o),l&&Si(l,i);const c=IA(i,a,o.directiveStart+o.componentOffset,o);if(n[zs]=i[zs]=c,null!==s)for(const u of s)u(c,e);return gP(a,o,i),c}(T,b,M,D,v,[pde]),EP(y,v,null)}finally{Py()}return new lde(this.componentType,_,x(C,v),v,C)}finally{bt(s)}}}class lde extends Wfe{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new MC(i,void 0,!1),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;xP(s[hn],s,i,e,t),this.previousInputValues.set(e,t),DC(Mc(this._tNode.index,s))}}get injector(){return new Go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function pde(){const n=us();mv(xt()[hn],n)}let cu=(()=>{class n{static{this.__NG_ELEMENT_ID__=gde}}return n})();function gde(){return C7(us(),xt())}const mde=cu,b7=class extends mde{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return x(this._hostTNode,this._hostLView)}get injector(){return new Go(this._hostTNode,this._hostLView)}get parentInjector(){const e=Sl(this._hostTNode,this._hostLView);if(sC(e)){const t=_v(e,this._hostLView),r=yv(e);return new Go(t[hn].data[r+8],t)}return new Go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=w7(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Fs}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=Zy(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,Yy(this._hostTNode,o)),a}createComponent(e,t,r,i,s){const o=e&&!function rv(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const A=t||{};a=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}const l=o?e:new LC(ui(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const p=(o?c:this.parentInjector).get(La,null);p&&(s=p)}const u=ui(l.componentType??{}),h=Zy(this._lContainer,u?.id??null),f=l.create(c,i,h?.firstChild??null,s);return this.insertImpl(f.hostView,a,Yy(this._hostTNode,h)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){const i=e._lView;if(function pO(n){return rl(n[To])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[To],c=new b7(l,l[nl],l[To]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;return EC(o,i,s,r),e.attachToViewContainerRef(),Ew(VP(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=w7(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=_C(this._lContainer,t);r&&(Jm(VP(this._lContainer),t),MD(r[hn],r))}detach(e){const t=this._adjustIndex(e,-1),r=_C(this._lContainer,t);return r&&null!=Jm(VP(this._lContainer),t)?new MC(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function w7(n){return n[8]}function VP(n){return n[8]||(n[8]=[])}function C7(n,e){let t;const r=e[n.index];return rl(r)?t=r:(t=zQ(r,e,null,n),e[n.index]=t,FD(e,t)),x7(t,e,n,r),new b7(t,n,e)}let x7=S7,QP=()=>!1;function S7(n,e,t,r){if(n[Eh])return;let i;i=8&t.type?gs(r):function vde(n,e){const t=n[vr],r=t.createComment(""),i=il(e,n);return Ev(t,TD(t,i),r,function Rhe(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Eh]=i}function yde(n,e,t){if(n[Eh]&&n[Ed])return!0;const r=t[Ec],i=e.index-Er;if(!r||function ln(n){if(In(n))return!0;let e=n.parent;for(;e;){if(In(n)||at(e))return!0;e=e.parent}return!1}(e)||_D(r,i))return!1;const o=KO(r,i),a=r.data[dC]?.[i],[l,c]=function Gfe(n,e){const t=[];for(const r of e)for(let i=0;i<(r[mD]??1);i++){const s={data:r,firstChild:null};r[qy]>0&&(s.firstChild=n,n=HD(r[qy],n)),t.push(s)}return[n,t]}(o,a);return n[Eh]=l,n[Ed]=c,!0}function _de(n,e,t,r){QP(n,t,e)||S7(n,e,t,r)}class zP{constructor(e){this.queryList=e,this.matches=null}clone(){return new zP(this.queryList)}setDirty(){this.queryList.setDirty()}}class GP{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new GP(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==KP(e,t).matches&&this.queries[t].setDirty()}}class D7{constructor(e,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof e?function Sde(n){return n.split(",").map(e=>e.trim())}(e):e}}class qP{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new qP(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class jP{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new jP(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,wde(t,s)),this.matchTNodeWithReadOption(e,t,NA(t,e,s,!1,!1))}else r===ra?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,NA(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===N||i===cu||i===ra&&4&t.type)this.addMatch(t.index,-2);else{const s=NA(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function wde(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function xde(n,e,t,r){return-1===t?function Cde(n,e){return 11&n.type?x(n,e):4&n.type?PD(n,e):null}(e,n):-2===t?function Ede(n,e,t){return t===N?x(e,n):t===ra?PD(e,n):t===cu?C7(e,n):void 0}(n,e,r):IA(n,n[hn],t,e)}function M7(n,e,t,r){const i=e[En].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;null!==o&&l<o.length;l+=2){const c=o[l];a.push(c<0?null:xde(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function WP(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=M7(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let h=Fs;h<u.length;h++){const d=u[h];d[sv]===d[To]&&WP(d[hn],d,c,r)}if(null!==u[cg]){const h=u[cg];for(let d=0;d<h.length;d++){const f=h[d];WP(f[hn],f,c,r)}}}}}return r}function T7(n,e,t){const r=new Se(!(4&~t));return function qhe(n,e,t,r){const i=qQ(e);i.push(t),n.firstCreatePass&&jQ(n).push(r,i.length-1)}(n,e,r,r.destroy),(e[En]??=new GP).queries.push(new zP(r))-1}function I7(n,e,t){null===n.queries&&(n.queries=new qP),n.queries.track(new jP(e,t))}function KP(n,e){return n.queries.getByIndex(e)}function F7(n,e){const t=n[hn],r=KP(t,e);return r.crossesNgTemplate?WP(t,n,e,[]):M7(t,n,r,e)}function XP(n,e){Nf("NgSignals");const t=function Gm(n){const e=Object.create(zp);e.value=n;const t=()=>(zt(e),e.value);return t[Hn]=e,t}(n),r=t[Hn];return e?.equal&&(r.equal=e.equal),t.set=i=>yd(r,i),t.update=i=>function Qp(n,e){fs()||Hp(),yd(n,e(n.value))}(r,i),t.asReadonly=O7.bind(t),t}function O7(){const n=this[Hn];if(void 0===n.readonlyFn){const e=()=>this();e[Hn]=n,n.readonlyFn=e}return n.readonlyFn}function P7(n){return function R7(n){return"function"==typeof n&&void 0!==n[Hn]}(n)&&"function"==typeof n.set}function ts(n){let e=function W7(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(zu(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new dt(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=jD(n.inputs),o.inputTransforms=jD(n.inputTransforms),o.declaredInputs=jD(n.declaredInputs),o.outputs=jD(n.outputs);const a=i.hostBindings;a&&Vde(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&kde(n,l),c&&Hde(n,c),Lde(n,i),fR(n.outputs,i.outputs),zu(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ts&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Ude(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=eg(i.hostAttrs,t=eg(t,i.hostAttrs))}}(r)}function Lde(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const r=e.inputs[t];if(void 0!==r&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function jD(n){return n===wh?{}:n===Lr?[]:n}function kde(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Hde(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Vde(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function kC(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}class Dv{}class Y7{}class JP extends Dv{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new y7(this);const i=tl(e);this._bootstrapComponents=Wu(i.bootstrap),this._r3Injector=hC(e,t,[{provide:Dv,useValue:this},{provide:FC,useValue:this.componentFactoryResolver},...r],ea(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class e5 extends Y7{constructor(e){super(),this.moduleType=e}create(e){return new JP(this.moduleType,e,[])}}class Z7 extends Dv{constructor(e){super(),this.componentFactoryResolver=new y7(this),this.instance=null;const t=new ig([...e.providers,{provide:Dv,useValue:this},{provide:FC,useValue:this.componentFactoryResolver}],e.parent||xy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function WD(n,e,t=null){return new Z7({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Cg=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Es(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function KD(n){return!!t5(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function t5(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Od(n,e,t){return n[e]=t}function ia(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Mv(n,e,t,r){const i=ia(n,e,t);return ia(n,e+1,r)||i}function VC(n){return!(32&~n.flags)}function An(n,e,t,r,i,s,o,a){const l=xt(),c=yi(),u=n+Er,h=c.firstCreatePass?function Jde(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Xy(e,n,4,o||null,Dh(c,a));_P(e,t,u,Dh(c,l)),mv(e,u);const h=u.tView=yP(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Gu(h,!1);const d=J7(c,l,h,n);TA()&&BD(c,l,d,h),Si(d,l);const f=zQ(d,l,d,h);return l[u]=f,FD(l,f),function E7(n,e,t){return QP(n,e,t)}(f,h,l),ug(h)&&mP(c,l,h),null!=o&&vP(l,h,a),An}let J7=ez;function ez(n,e,t,r){return Yl(!0),e[vr].createComment("")}function eAe(n,e,t,r){const i=e[Ec],s=!i||Cf()||VC(t)||_D(i,r);if(Yl(s),s)return ez(0,e);const o=i.data[zO]?.[r]??null;null!==o&&null!==t.tView&&null===t.tView.ssrId&&(t.tView.ssrId=o);const a=kD(i,n,e,t);return yD(i,r,a),HD(XO(i,r),a)}function Bi(n,e,t,r){const i=xt();return ia(i,Tc(),e)&&(yi(),Rd(Ui(),i,n,e,t,r)),Bi}function a_(n,e,t,r){return ia(n,Tc(),t)?e+Tr(t)+r:Qr}function l_(n,e,t,r,i,s){const a=Mv(n,function xf(){return dr.lFrame.bindingIndex}(),t,i);return Mh(2),a?e+Tr(t)+r+Tr(i)+s:Qr}function nM(n,e){return n<<17|e<<2}function Eg(n){return n>>17&32767}function f5(n){return 2|n}function Bv(n){return(131068&n)>>2}function d5(n,e){return-131069&n|e<<2}function A5(n){return 1|n}function Nz(n,e,t,r){const i=n[t+1],s=null===e;let o=r?Eg(i):Bv(i),a=!1;for(;0!==o&&(!1===a||s);){const c=n[o+1];kAe(n[o],e)&&(a=!0,n[o+1]=r?A5(c):f5(c)),o=r?Eg(c):Bv(c)}a&&(n[t+1]=r?f5(i):A5(i))}function kAe(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&_f(n,e)>=0}const Ha={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Iz(n){return n.substring(Ha.key,Ha.keyEnd)}function HAe(n){return n.substring(Ha.value,Ha.valueEnd)}function Fz(n,e){const t=Ha.textEnd;return t===e?-1:(e=Ha.keyEnd=function zAe(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ha.key=e,t),p_(n,e,t))}function Rz(n,e){const t=Ha.textEnd;let r=Ha.key=p_(n,e,t);return t===r?-1:(r=Ha.keyEnd=function GAe(n,e,t){let r;for(;e<t&&(45===(r=n.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(n,r,t),r=Pz(n,r,t),r=Ha.value=p_(n,r,t),r=Ha.valueEnd=function qAe(n,e,t){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<t;){const l=n.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=Lz(n,l,o,t):e===o-4&&85===s&&82===i&&76===r&&40===l?a=o=Lz(n,41,o,t):l>32&&(a=o),s=i,i=r,r=-33&l}return a}(n,r,t),Pz(n,r,t))}function Oz(n){Ha.key=0,Ha.keyEnd=0,Ha.value=0,Ha.valueEnd=0,Ha.textEnd=n.length}function p_(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Pz(n,e,t,r){return(e=p_(n,e,t))<t&&e++,e}function Lz(n,e,t,r){let i=-1,s=t;for(;s<r;){const o=n.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function $e(n,e,t){const r=xt();return ia(r,Tc(),e)&&lu(yi(),Ui(),r,n,e,r[vr],t,!1),$e}function p5(n,e,t,r,i){const o=i?"class":"style";xP(n,t,e.inputs[o],o,r)}function qC(n,e,t){return If(n,e,t,!1),qC}function Ci(n,e){return If(n,e,null,!0),Ci}function Fh(n){Ff(Hz,jAe,n,!1)}function jAe(n,e){for(let t=function QAe(n){return Oz(n),Rz(n,p_(n,0,Ha.textEnd))}(e);t>=0;t=Rz(e,t))Hz(n,Iz(e),HAe(e))}function Sg(n){Ff(ZAe,Pd,n,!0)}function Pd(n,e){for(let t=function VAe(n){return Oz(n),Fz(n,p_(n,0,Ha.textEnd))}(e);t>=0;t=Fz(e,t))xc(n,Iz(e),!0)}function If(n,e,t,r){const i=xt(),s=yi(),o=Mh(2);s.firstUpdatePass&&kz(s,n,o,r),e!==Qr&&ia(i,o,e)&&Vz(s,s.data[bo()],i,i[vr],n,i[o+1]=function epe(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ea(yg(n)))),n}(e,t),r,o)}function Ff(n,e,t,r){const i=yi(),s=Mh(2);i.firstUpdatePass&&kz(i,null,s,r);const o=xt();if(t!==Qr&&ia(o,s,t)){const a=i.data[bo()];if(zz(a,r)&&!Uz(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=fw(l,t||"")),p5(i,a,o,t,r)}else!function JAe(n,e,t,r,i,s,o,a){i===Qr&&(i=Lr);let l=0,c=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,A=null;u===h?(l+=2,c+=2,d!==f&&(A=h,p=f)):null===h||null!==u&&u<h?(l+=2,A=u):(c+=2,A=h,p=f),null!==A&&Vz(n,e,t,r,A,p,o,a),u=l<i.length?i[l]:null,h=c<s.length?s[c]:null}}(i,a,o,o[vr],o[s+1],o[s+1]=function YAe(n,e,t){if(null==t||""===t)return Lr;const r=[],i=yg(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function Uz(n,e){return e>=n.expandoStartIndex}function kz(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[bo()],o=Uz(n,t);zz(s,r)&&null===e&&!o&&(e=!1),e=function WAe(n,e,t,r){const i=function fg(n){const e=dr.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=jC(t=g5(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=g5(i,n,e,t,r),null===s){let l=function $Ae(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Bv(r))return n[Eg(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=g5(null,n,e,l[1],r),l=jC(l,e.attrs,r),function KAe(n,e,t,r){n[Eg(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function XAe(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=jC(r,n[s].hostAttrs,t);return jC(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function LAe(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Eg(o),l=Bv(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||_f(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const d=Eg(n[a+1]);n[r+1]=nM(d,a),0!==d&&(n[d+1]=d5(n[d+1],r)),n[a+1]=function OAe(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=nM(a,0),0!==a&&(n[a+1]=d5(n[a+1],r)),a=r;else n[r+1]=nM(l,0),0===a?a=r:n[l+1]=d5(n[l+1],r),l=r;c&&(n[r+1]=f5(n[r+1])),Nz(n,u,r,!0),Nz(n,u,r,!1),function UAe(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&_f(s,e)>=0&&(t[r+1]=A5(t[r+1]))}(e,u,n,r,s),o=nM(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function g5(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=jC(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function jC(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xc(n,o,!!t||e[++s]))}return void 0===n?null:n}function Hz(n,e,t){xc(n,e,yg(t))}function ZAe(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&xc(n,r,t)}function Vz(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function PAe(n){return!(1&~n)}(c)?Qz(l,e,t,i,Bv(c),o):void 0;rM(u)||(rM(s)||function RAe(n){return!(2&~n)}(c)&&(s=Qz(l,null,t,i,a,o)),function Lhe(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:_g.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=_g.Important),n.setStyle(t,r,i,s))}}(r,o,DA(bo(),t),i,s))}function Qz(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let d=t[i+1];d===Qr&&(d=h?Lr:void 0);let f=h?Sw(d,r):u===r?d:void 0;if(c&&!rM(f)&&(f=Sw(l,r)),rM(f)&&(a=f,o))return a;const A=n[i+1];i=o?Eg(A):Bv(A)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Sw(l,r))}return a}function rM(n){return void 0!==n}function zz(n,e){return!!(n.flags&(e?8:16))}class hpe{destroy(e){}updateValue(e,t){}swap(e,t){const r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){const o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}}function m5(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function v5(n,e,t,r){return!(void 0===e||!e.has(r)||(n.attach(t,e.get(r)),e.delete(r),0))}function Gz(n,e,t,r,i){if(v5(n,e,r,t(r,i)))n.updateValue(r,i);else{const s=n.create(r,i);n.attach(r,s)}}function qz(n,e,t,r){const i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}class jz{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}}function Fo(n,e,t){Nf("NgControlFlow");const r=xt(),i=Tc(),s=y5(r,Er+n);if(ia(r,i,e)){const a=bt(null);try{if(SP(s,0),-1!==e){const l=_5(r[hn],Er+e),c=Zy(s,l.tView.ssrId);EC(s,xC(r,l,t,{dehydratedView:c}),0,Yy(l,c))}}finally{bt(a)}}else{const a=$Q(s,0);void 0!==a&&(a[zs]=t)}}class dpe{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Fs}}function Rf(n,e){return e}class ppe{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}}function Ku(n,e,t,r,i,s,o,a,l,c,u,h,d){Nf("NgControlFlow");const f=void 0!==l,A=xt(),p=a?o.bind(A[go][zs]):o,m=new ppe(f,p);A[Er+n]=m,An(n+1,e,t,r,i,s),f&&An(n+2,l,c,u,h,d)}class gpe extends hpe{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Fs}at(e){return this.getLView(e)[zs].$implicit}attach(e,t){const r=t[Ec];this.needsIndexUpdate||=e!==this.length,EC(this.lContainer,t,e,Yy(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function mpe(n,e){return _C(n,e)}(this.lContainer,e)}create(e,t){const r=Zy(this.lContainer,this.templateTNode.tView.ssrId);return xC(this.hostLView,this.templateTNode,new dpe(this.lContainer,t,e),{dehydratedView:r})}destroy(e){MD(e[hn],e)}updateValue(e,t){this.getLView(e)[zs].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[zs].$index=e}getLView(e){return function vpe(n,e){return $Q(n,e)}(this.lContainer,e)}}function Xu(n){const e=bt(null),t=bo();try{const r=xt(),i=r[hn],s=r[t];if(void 0===s.liveCollection){const a=t+1,l=y5(r,a),c=_5(i,a);s.liveCollection=new gpe(l,r,c)}else s.liveCollection.reset();const o=s.liveCollection;if(function fpe(n,e,t){let r,i,s=0,o=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){const l=n.at(s),c=e[s],u=m5(s,l,s,c,t);if(0!==u){u<0&&n.updateValue(s,c),s++;continue}const h=n.at(o),d=e[a],f=m5(o,h,a,d,t);if(0!==f){f<0&&n.updateValue(o,d),o--,a--;continue}const A=t(s,l),p=t(o,h),m=t(s,c);if(Object.is(m,p)){const g=t(a,d);Object.is(g,A)?(n.swap(s,o),n.updateValue(o,d),a--,o--):n.move(o,s),n.updateValue(s,c),s++}else if(r??=new jz,i??=qz(n,s,o,t),v5(n,r,s,m))n.updateValue(s,c),s++,o++;else if(i.has(m))r.set(A,n.detach(s)),o--;else{const g=n.create(s,e[s]);n.attach(s,g),s++,o++}}for(;s<=a;)Gz(n,r,t,s,e[s]),s++}else if(null!=e){const a=e[Symbol.iterator]();let l=a.next();for(;!l.done&&s<=o;){const c=n.at(s),u=l.value,h=m5(s,c,s,u,t);if(0!==h)h<0&&n.updateValue(s,u),s++,l=a.next();else{r??=new jz,i??=qz(n,s,o,t);const d=t(s,u);if(v5(n,r,s,d))n.updateValue(s,u),s++,o++,l=a.next();else if(i.has(d)){const f=t(s,c);r.set(f,n.detach(s)),o--}else n.attach(s,n.create(s,u)),s++,o++,l=a.next()}}for(;!l.done;)Gz(n,r,t,n.length,l.value),l=a.next()}for(;s<=o;)n.destroy(n.detach(o--));r?.forEach(a=>{n.destroy(a)})}(o,n,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){const a=Tc(),l=0===o.length;if(ia(r,a,l)){const c=t+2,u=y5(r,c);if(l){const h=_5(i,c),d=Zy(u,h.tView.ssrId);EC(u,xC(r,h,void 0,{dehydratedView:d}),0,Yy(h,d))}else SP(u,0)}}}finally{bt(e)}}function y5(n,e){return n[e]}function _5(n,e){return wf(n,e)}function fe(n,e,t,r){const i=xt(),s=yi(),o=Er+n,a=i[vr],l=s.firstCreatePass?function ype(n,e,t,r,i,s){const o=e.consts,l=Xy(e,n,2,r,Dh(o,i));return _P(e,t,l,Dh(o,s)),null!==l.attrs&&zD(l,l.attrs,!1),null!==l.mergedAttrs&&zD(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=Wz(s,i,l,a,e,n);i[o]=c;const u=ug(l);return Gu(l,!0),IQ(a,c,l),!VC(l)&&TA()&&BD(s,i,c,l),0===function mO(){return dr.lFrame.elementDepthCount}()&&Si(c,i),function vO(){dr.lFrame.elementDepthCount++}(),u&&(mP(s,i,l),gP(s,l,i)),null!==r&&vP(i,l),fe}function he(){let n=us();Dd()?Av():(n=n.parent,Gu(n,!1));const e=n;(function _O(n){return dr.skipHydrationRootTNode===n})(e)&&function q2(){dr.skipHydrationRootTNode=null}(),function yO(){dr.lFrame.elementDepthCount--}();const t=yi();return t.firstCreatePass&&(mv(t,n),Ty(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function xO(n){return!!(8&n.flags)}(e)&&p5(t,e,xt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function iC(n){return!!(16&n.flags)}(e)&&p5(t,e,xt(),e.stylesWithoutHost,!1),he}function ft(n,e,t,r){return fe(n,e,t,r),he(),ft}let Wz=(n,e,t,r,i,s)=>(Yl(!0),DD(r,i,eC()));function _pe(n,e,t,r,i,s){const o=e[Ec],a=!o||Cf()||VC(t)||_D(o,s);if(Yl(a),a)return DD(r,i,eC());const l=kD(o,n,e,t);return jV(o,s)&&yD(o,s,l.nextSibling),o&&(at(t)||Et(l))&&SA(t)&&(function Xw(n){dr.skipHydrationRootTNode=n}(t),TQ(l)),l}function Nv(n,e,t){const r=xt(),i=yi(),s=n+Er,o=i.firstCreatePass?function wpe(n,e,t,r,i){const s=e.consts,o=Dh(s,r),a=Xy(e,n,8,"ng-container",o);return null!==o&&zD(a,o,!0),_P(e,t,a,Dh(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Gu(o,!0);const a=$z(i,r,o,n);return r[s]=a,TA()&&BD(i,r,a,o),Si(a,r),ug(o)&&(mP(i,r,o),gP(i,o,r)),null!=t&&vP(r,o),Nv}function Iv(){let n=us();const e=yi();return Dd()?Av():(n=n.parent,Gu(n,!1)),e.firstCreatePass&&(mv(e,n),Ty(n)&&e.queries.elementEnd(n)),Iv}function b5(n,e,t){return Nv(n,e,t),Iv(),b5}let $z=(n,e,t,r)=>(Yl(!0),cP(e[vr],""));function Cpe(n,e,t,r){let i;const s=e[Ec],o=!s||Cf()||VC(t);if(Yl(o),o)return cP(e[vr],"");const a=kD(s,n,e,t),l=function kue(n,e){const t=n.data;let r=t[QO]?.[e]??null;return null===r&&t[dC]?.[e]&&(r=XO(n,e)),r}(s,r);return yD(s,r,a),i=HD(l,a),i}function Rs(){return xt()}const Fv=void 0;var Spe=["en",[["a","p"],["AM","PM"],Fv],[["AM","PM"],Fv,Fv],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fv,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fv,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fv,"{1} 'at' {0}",Fv],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Epe(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let g_={};function Bc(n){const e=function Dpe(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=Yz(e);if(t)return t;const r=e.split("-")[0];if(t=Yz(r),t)return t;if("en"===r)return Spe;throw new dt(701,!1)}function Yz(n){return n in g_||(g_[n]=as.ng&&as.ng.common&&as.ng.common.locales&&as.ng.common.locales[n]),g_[n]}var co=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(co||{});const m_="en-US",iM={marker:"element"},sM={marker:"ICU"};var uu=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(uu||{});let Zz=m_;function eG(n,e,t){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?EQ(n,0,t):gs(t[i])}function tG(n,e,t,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&-1===e.componentOffset)for(let l=1;l<s.length;l++)Ev(n,o,t[s[l]],a,!1)}}function nG(n,e){if(n.push(e),n.length>1)for(let t=n.length-2;t>=0;t--){const r=n[t];rG(r)||Ipe(r,e)&&null===Fpe(r)&&Rpe(r,e.index)}}function rG(n){return!(64&n.type)}function Ipe(n,e){return rG(e)||n.index>e.index}function Fpe(n){const e=n.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Rpe(n,e){const t=n.insertBeforeIndex;Array.isArray(t)?t[0]=e:(DQ(eG,tG),n.insertBeforeIndex=e)}function Lpe(n,e,t){const r=pP(n,t,64,null,null);return nG(e,r),r}function aG(n,e,t){const r=n[vr];switch(t){case Node.COMMENT_NODE:return cP(r,e);case Node.TEXT_NODE:return lP(r,e);case Node.ELEMENT_NODE:return DD(r,e,null)}}let XC=(n,e,t,r)=>(Yl(!0),aG(n,t,r));function Vpe(n,e,t,r){return Yl(!0),aG(n,t,r)}function jpe(){const n=[];let t,r,e=-1;function s(a,l){e=0;const c=function oM(n,e){const t=e[n.currentCaseLViewIndex];return null===t?t:t<0?~t:t}(a,l);r=null!==c?a.remove[c]:Lr}function o(){if(e<r.length){const a=r[e++];return a>0?t[a]:(n.push(e,r),s(t[hn].data[~a],t),o())}return 0===n.length?null:(r=n.pop(),e=n.pop(),o())}return function i(a,l){for(t=l;n.length;)n.pop();return s(a.value,l),o}}const aM=/\ufffd(\d+):?\d*\ufffd/gi,$pe=/\ufffd(\d+)\ufffd/,dG=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,YC="\ufffd",Kpe=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Xpe=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ype=/\uE500/g;function AG(n,e,t,r,i,s,o){const a=CC(n,r,1,null);let l=a<<uu.SHIFT,c=dv();e===c&&(c=null),null===c&&(l|=uu.APPEND_EAGERLY),o&&(l|=uu.COMMENT,function Ehe(n){void 0===oP&&(oP=n())}(jpe)),i.push(l,null===s?"":s);const u=pP(n,a,o?32:1,null===s?"":s,null);nG(t,u);const h=u.index;return Gu(u,!1),null!==c&&e!==c&&function Ppe(n,e){let t=n.insertBeforeIndex;null===t?(DQ(eG,tG),t=n.insertBeforeIndex=[null,e]):(bh(Array.isArray(t),!0,"Expecting array here"),t.push(e))}(c,h),u}function ege(n,e,t,r,i,s,o,a){const l=a.match(aM),u=AG(e,t,r,o,i,l?null:a,!1).index;l&&ZC(s,a,u,null,0,null),n.push({kind:0,index:u})}function ZC(n,e,t,r,i,s){const o=n.length,a=o+1;n.push(null,null);const l=o+2,c=e.split(aM);let u=0;for(let h=0;h<c.length;h++){const d=c[h];if(1&h){const f=i+parseInt(d,10);n.push(-1-f),u|=pG(f)}else""!==d&&n.push(d)}return n.push(t<<2|(r?1:0)),r&&n.push(r,s),n[o]=u,n[a]=n.length-l,u}function pG(n){return 1<<Math.min(n,31)}function gG(n){let e,s,t="",r=0,i=!1;for(;null!==(e=Kpe.exec(n));)i?e[0]===`${YC}/*${s}${YC}`&&(r=e.index,i=!1):(t+=n.substring(r,e.index+e[0].length),s=e[1],i=!0);return t+=n.slice(r),t}function mG(n,e,t,r,i,s,o){let a=0;const l={type:s.type,currentCaseLViewIndex:CC(e,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};(function lge(n,e,t){n.push(pG(e.mainBinding),2,-1-e.mainBinding,t<<2|2)})(r,s,o),function Ope(n,e,t){const r=n.data[e];null===r?n.data[e]=t:r.value=t}(e,o,l);const c=s.values,u=[];for(let h=0;h<c.length;h++){const d=c[h],f=[];for(let p=0;p<d.length;p++){const m=d[p];if("string"!=typeof m){const g=f.push(m)-1;d[p]=`\x3c!--\ufffd${g}\ufffd--\x3e`}}const A=[];u.push(A),a=oge(A,e,l,t,r,i,s.cases[h],d.join(""),f)|a}a&&function cge(n,e,t){n.push(e,1,t<<2|3)}(r,a,o),n.push({kind:3,index:o,cases:u,currentCaseLViewIndex:l.currentCaseLViewIndex})}function sge(n){const e=[],t=[];let r=1,i=0;const s=w5(n=n.replace(dG,function(o,a,l){return r="select"===l?0:1,i=parseInt(a.slice(1),10),""}));for(let o=0;o<s.length;){let a=s[o++].trim();1===r&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);const l=w5(s[o++]);e.length>t.length&&t.push(l)}return{type:r,mainBinding:i,cases:e,values:t}}function w5(n){if(!n)return[];let e=0;const t=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(n);){const a=s.index;if("}"==s[0]){if(t.pop(),0==t.length){const l=n.substring(e,a);dG.test(l)?r.push(sge(l)):r.push(l),e=a+1}}else{if(0==t.length){const l=n.substring(e,a);r.push(l),e=a+1}t.push("{")}}const o=n.substring(e);return r.push(o),r}function oge(n,e,t,r,i,s,o,a,l){const c=[],u=[],h=[];t.cases.push(o),t.create.push(c),t.remove.push(u),t.update.push(h);const f=function eQ(n){const e=new Kue(n);return function Xue(){try{return!!(new window.DOMParser).parseFromString(jy(""),"text/html")}catch{return!1}}()?new $ue(e):e}(vg()).getInertBodyElement(a),A=function nP(n){return"content"in n&&function ohe(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(f)||f;return A?vG(n,e,t,r,i,c,u,h,A,s,l,0):0}function vG(n,e,t,r,i,s,o,a,l,c,u,h){let d=0,f=l.firstChild;for(;f;){const A=CC(e,r,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const p=f,m=p.tagName.toLowerCase();if(eP.hasOwnProperty(m)){C5(s,iM,m,c,A),e.data[A]=m;const _=p.attributes;for(let b=0;b<_.length;b++){const M=_.item(b),D=M.name.toLowerCase();M.value.match(aM)?iQ.hasOwnProperty(D)&&ZC(a,M.value,A,M.name,0,tP[D]?JO:null):uge(s,A,M)}const C={kind:1,index:A,children:[]};n.push(C),d=vG(C.children,e,t,r,i,s,o,a,f,A,u,h+1)|d,yG(o,A,h)}break;case Node.TEXT_NODE:const g=f.textContent||"",y=g.match(aM);C5(s,null,y?"":g,c,A),yG(o,A,h),y&&(d=ZC(a,g,A,null,0,null)|d),n.push({kind:0,index:A});break;case Node.COMMENT_NODE:const v=$pe.exec(f.textContent||"");if(v){const C=u[parseInt(v[1],10)];C5(s,sM,"",c,A),mG(n,e,r,i,c,C,A),age(o,A,h)}}f=f.nextSibling}return d}function yG(n,e,t){0===t&&n.push(e)}function age(n,e,t){0===t&&(n.push(~e),n.push(e))}function C5(n,e,t,r,i){null!==e&&n.push(e),n.push(t,i,function Upe(n,e,t){return n|e<<17|t<<1}(0,r,i))}function uge(n,e,t){n.push(e<<1|1,t.name,t.value)}function bG(n,e,t=-1){const r=yi(),i=xt(),s=Er+n,o=Dh(r.consts,e),a=dv();r.firstCreatePass&&function Jpe(n,e,t,r,i,s){const o=dv(),a=[],l=[],c=[[]],u=[[]];i=function ige(n,e){if(function rge(n){return-1===n}(e))return gG(n);{const t=n.indexOf(`:${e}${YC}`)+2+e.toString().length,r=n.search(new RegExp(`${YC}\\/\\*\\d+:${e}${YC}`));return gG(n.substring(t,r))}}(i,s);const h=function Zpe(n){return n.replace(Ype," ")}(i).split(Xpe);for(let d=0;d<h.length;d++){let f=h[d];if(1&d){const A=47===f.charCodeAt(0),p=f.charCodeAt(A?1:0),m=Er+Number.parseInt(f.substring(A?2:1));if(A)c.shift(),u.shift(),Gu(dv(),!1);else{const g=Lpe(n,c[0],m);c.unshift([]),Gu(g,!0);const y={kind:2,index:m,children:[],type:35===p?0:1};u[0].push(y),u.unshift(y.children)}}else{const A=w5(f);for(let p=0;p<A.length;p++){let m=A[p];if(1&p){const g=m;if("object"!=typeof g)throw new Error(`Unable to parse ICU expression in "${i}" message.`);const v=AG(n,o,c[0],t,a,"",!0).index;mG(u[0],n,t,l,e,g,v)}else""!==m&&ege(u[0],n,o,c[0],a,l,t,m)}}}n.data[r]={create:a,update:l,ast:u[0]}}(r,null===a?0:a.index,i,s,o,t),2===r.type?i[go][er]|=32:i[er]|=32;const l=r.data[s],u=bQ(r,a===i[nl]?null:a,i);(function zpe(n,e,t,r){const i=n[vr];for(let s=0;s<e.length;s++){const o=e[s++],c=(o&uu.APPEND_EAGERLY)===uu.APPEND_EAGERLY,u=o>>>uu.SHIFT;let h=n[u],d=!1;null===h&&(h=n[u]=XC(n,u,e[s],(o&uu.COMMENT)===uu.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),d=TA()),c&&null!==t&&d&&Ev(i,t,h,r,!1)}})(i,l.create,u,a&&8&a.type?i[a.index]:null),Ry(!0)}function JC(n,e,t){bG(n,e,t),function wG(){Ry(!1)}()}function jt(n,e,t,r){const i=xt(),s=yi(),o=us();return x5(s,i,i[vr],o,n,e,r),jt}function x5(n,e,t,r,i,s,o){const a=ug(r),c=n.firstCreatePass&&jQ(n),u=e[zs],h=qQ(e);let d=!0;if(3&r.type||o){const p=il(r,e),m=o?o(p):p,g=h.length,y=o?_=>o(gs(_[r.index])):r.index;let v=null;if(!o&&a&&(v=function wge(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[ag],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,d=!1;else{s=SG(r,e,u,s,!1);const _=t.listen(m,i,s);h.push(s,_),c&&c.push(i,y,g,g+1)}}else s=SG(r,e,u,s,!1);const f=r.outputs;let A;if(d&&null!==f&&(A=f[i])){const p=A.length;if(p)for(let m=0;m<p;m+=2){const C=e[A[m]][A[m+1]].subscribe(s),b=h.length;h.push(s,C),c&&c.push(i,r.index,b,-(b+1))}}}function EG(n,e,t,r){const i=bt(null);try{return Sh(6,e,t),!1!==t(r)}catch(s){return RD(n,s),!1}finally{Sh(7,e,t),bt(i)}}function SG(n,e,t,r,i){return function s(o){if(o===Function)return r;DC(n.componentOffset>-1?Mc(n.index,e):e);let l=EG(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=EG(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function on(n=1){return function No(n){return(dr.lFrame.contextLView=function Q2(n,e){for(;n>0;)e=e[lg],n--;return e}(n,dr.lFrame.contextLView))[zs]}(n)}function Cge(n,e){let t=null;const r=function NR(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?m2(n,s,!0):RR(r,s))return i}else t=i}return t}function ex(n){const e=xt()[go][nl];if(!e.projection){const r=e.projection=function Zp(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?Cge(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function tx(n,e=0,t){const r=xt(),i=yi(),s=Xy(i,Er+n,16,null,t||null);null===s.projection&&(s.projection=e),Av(),(!r[Ec]||Cf())&&32&~s.flags&&function Ohe(n,e,t){BQ(e[vr],0,e,t,hP(n,t,e),xQ(t.parent||e[nl],t,e))}(i,r,s)}function Rv(n,e,t){return nx(n,"",e,"",t),Rv}function nx(n,e,t,r,i){const s=xt(),o=a_(s,e,t,r);return o!==Qr&&lu(yi(),Ui(),s,n,o,s[vr],i,!1),nx}function wa(n,e,t,r){!function N7(n,e,t,r){const i=yi();if(i.firstCreatePass){const s=us();I7(i,new D7(e,t,r),s.index),function Dde(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),!(2&~t)&&(i.staticContentQueries=!0)}return T7(i,xt(),t)}(n,e,t,r)}function Wi(n,e,t){!function B7(n,e,t){const r=yi();return r.firstCreatePass&&(I7(r,new D7(n,e,t),-1),!(2&~e)&&(r.staticViewQueries=!0)),T7(r,xt(),e)}(n,e,t)}function ar(n){const e=xt(),t=yi(),r=dg();pv(r+1);const i=KP(t,r);if(n.dirty&&function H2(n){return!(4&~n[er])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)n.reset([]);else{const s=F7(e,r);n.reset(s,I),n.notifyOnChanges()}return!0}return!1}function lr(){return function $P(n,e){return n[En].queries[e].queryList}(xt(),dg())}function Of(n){return hg(function Fy(){return dr.lFrame.contextLView}(),Er+n)}function Fe(n,e=""){const t=xt(),r=yi(),i=n+Er,s=r.firstCreatePass?Xy(r,i,1,e,null):r.data[i],o=GG(r,t,s,e,n);t[i]=o,TA()&&BD(r,t,o,s),Gu(s,!1)}let GG=(n,e,t,r,i)=>(Yl(!0),lP(e[vr],r));function Lge(n,e,t,r,i){const s=e[Ec],o=!s||Cf()||VC(t)||_D(s,i);return Yl(o),o?lP(e[vr],r):kD(s,n,e,t)}function Br(n){return ns("",n,""),Br}function ns(n,e,t){const r=xt(),i=a_(r,n,e,t);return i!==Qr&&kA(r,bo(),i),ns}function lM(n,e,t,r,i){const s=xt(),o=l_(s,n,e,t,r,i);return o!==Qr&&kA(s,bo(),o),lM}function Ld(n,e,t){P7(e)&&(e=e());const r=xt();return ia(r,Tc(),e)&&lu(yi(),Ui(),r,n,e,r[vr],t,!1),Ld}function HA(n,e){const t=P7(n);return t&&n.set(e),t}function Ud(n,e){const t=xt(),r=yi(),i=us();return x5(r,t,t[vr],i,n,e),Ud}function E5(n,e,t,r,i){if(n=or(n),Array.isArray(n))for(let s=0;s<n.length;s++)E5(n[s],e,t,r,i);else{const s=yi(),o=xt(),a=us();let l=xd(n)?n:or(n.provide);const c=C2(n),u=1048575&a.providerIndexes,h=a.directiveStart,d=a.providerIndexes>>20;if(xd(n)||!n.multi){const f=new vv(c,i,gt),A=D5(l,e,i?u:u+d,h);-1===A?(aC(Tn(a,o),s,l),S5(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),o.push(f)):(t[A]=f,o[A]=f)}else{const f=D5(l,e,u+d,h),A=D5(l,e,u,u+d),m=A>=0&&t[A];if(i&&!m||!i&&!(f>=0&&t[f])){aC(Tn(a,o),s,l);const g=function Qge(n,e,t,r,i){const s=new vv(n,t,gt);return s.multi=[],s.index=e,s.componentProviders=0,ZG(s,i,r&&!t),s}(i?Vge:Hge,t.length,i,r,c);!i&&m&&(t[A].providerFactory=g),S5(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),o.push(g)}else S5(s,n,f>-1?f:A,ZG(t[i?A:f],c,!i&&r));!i&&r&&m&&t[A].componentProviders++}}}function S5(n,e,t,r){const i=xd(e),s=function zR(n){return!!n.useClass}(e);if(i||s){const l=(s?or(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function ZG(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function D5(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Hge(n,e,t,r){return M5(this.multi,[])}function Vge(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=IA(t,t[hn],this.providerFactory.index,r);s=a.slice(0,o),M5(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],M5(i,s);return s}function M5(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Zs(n,e=[]){return t=>{t.providersResolver=(r,i)=>function kge(n,e,t){const r=yi();if(r.firstCreatePass){const i=zu(n);E5(t,r.data,r.blueprint,i,!0),E5(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}let zge=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Fw(0,t.type),i=r.length>0?WD([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Lt({token:n,providedIn:"environment",factory:()=>new n(Wt(La))})}}return n})();function Ca(n){Nf("NgStandalone"),n.getStandaloneInjector=e=>e.get(zge).getOrCreateStandaloneInjector(n)}function rx(n,e,t){const r=El()+n,i=xt();return i[r]===Qr?Od(i,r,t?e.call(t):e()):function HC(n,e){return n[e]}(i,r)}function kd(n,e,t,r){return t9(xt(),El(),n,e,t,r)}function ix(n,e,t,r,i){return function n9(n,e,t,r,i,s,o){const a=e+t;return Mv(n,a,i,s)?Od(n,a+2,o?r.call(o,i,s):r(i,s)):sx(n,a+2)}(xt(),El(),n,e,t,r,i)}function T5(n,e,t,r,i,s){return function r9(n,e,t,r,i,s,o,a){const l=e+t;return function XD(n,e,t,r,i){const s=Mv(n,e,t,r);return ia(n,e+2,i)||s}(n,l,i,s,o)?Od(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):sx(n,l+3)}(xt(),El(),n,e,t,r,i,s)}function sx(n,e){const t=n[e];return t===Qr?void 0:t}function t9(n,e,t,r,i,s){const o=e+t;return ia(n,o,i)?Od(n,o+1,s?r.call(s,i):r(i)):sx(n,o+1)}function hu(n,e){const t=yi();let r;const i=n+Er;t.firstCreatePass?(r=function Yge(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Kl(r.type)),a=$l(gt);try{const l=Uy(!1),c=s();return Uy(l),function Dge(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,xt(),i,c),c}finally{$l(a)}}function fu(n,e,t){const r=n+Er,i=xt(),s=hg(i,r);return function ox(n,e){return n[hn].data[e].pure}(i,r)?t9(i,El(),e,s.transform,t,s):s.transform(t)}function Pf(n,e){return PD(n,e)}class lx{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const b9=new lx("17.3.12");let R5=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const S9=new bn(""),fM=new bn("");let U5,P5=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,U5||(function $me(n){U5=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(Wt(Sr),Wt(L5),Wt(fM))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})(),L5=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return U5?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function ux(n){return!!n&&"function"==typeof n.then}function D9(n){return!!n&&"function"==typeof n.subscribe}const dM=new bn("");let k5=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Ve(dM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(ux(s))t.push(s);else if(D9(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const AM=new bn("");function B9(n,e){return Array.isArray(e)?e.reduce(B9,n):{...n,...e}}let gM,Lf=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ve(AD),this.afterRenderEffectManager=Ve(RC),this.externalTestViews=new Set,this.beforeRender=new $r,this.afterTick=new $r,this.componentTypes=[],this.components=[],this.isStable=Ve(Cg).hasPendingTasks.pipe(Vr(t=>!t)),this._injector=Ve(La)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof a7;if(!this._injector.get(k5).done)throw!i&&function Cd(n){const e=ui(n)||na(n)||Vo(n);return null!==e&&e.standalone}(t),new dt(405,!1);let o;o=i?t:this._injector.get(FC).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Kme(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Dv),c=o.create(Io.NULL,[],r||o.selector,a),u=c.location.nativeElement,h=c.injector.get(S9,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),pM(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new dt(101,!1);const r=bt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,bt(r)}}detectChangesInAttachedViews(t){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===YQ)throw new dt(103,!1);if(t){const s=0===r;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)Xme(o,s,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>H5(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>H5(s))))break}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;pM(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(AM,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>pM(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new dt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function N9(n){gM??=new WeakMap;const e=gM.get(n);if(e)return e;const t=n.isStable.pipe(_h(r=>r)).toPromise().then(()=>{});return gM.set(n,t),n.onDestroy(()=>gM?.delete(n)),t}function Xme(n,e,t){!e&&!H5(n)||function Yme(n,e,t){let r;t?(r=0,n[er]|=1024):r=64&n[er]?0:1,OD(n,e,r)}(n,t,e)}function H5(n){return $w(n)}class Zme{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let I9=(()=>{class n{compileModuleSync(t){return new e5(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Wu(tl(t).declarations).reduce((o,a)=>{const l=ui(a);return l&&o.push(new LC(l)),o},[]);return new Zme(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tve=(()=>{class n{constructor(){this.zone=Ve(Sr),this.applicationRef=Ve(Lf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function nve(){const n=Ve(Sr),e=Ve(qu);return t=>n.runOutsideAngular(()=>e.handleError(t))}let ive=(()=>{class n{constructor(){this.subscription=new mi,this.initialized=!1,this.zone=Ve(Sr),this.pendingTasks=Ve(Cg)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Sr.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Sr.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Hd=new bn("",{providedIn:"root",factory:()=>Ve(Hd,vi.Optional|vi.SkipSelf)||function sve(){return typeof $localize<"u"&&$localize.locale||m_}()}),V5=new bn("");let P9=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function rde(n="zone.js",e){return"noop"===n?new d7:"zone.js"===n?new Sr(e):n}(r?.ngZone,function O9(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Wde(n,e,t){return new JP(n,e,t)}(t.moduleType,this.injector,function R9(n){return[{provide:Sr,useFactory:n},{provide:bf,multi:!0,useFactory:()=>{const e=Ve(tve,{optional:!0});return()=>e.initialize()}},{provide:bf,multi:!0,useFactory:()=>{const e=Ve(ive);return()=>{e.initialize()}}},{provide:AD,useFactory:nve}]}(()=>i)),o=s.injector.get(qu,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{pM(this._modules,s),a.unsubscribe()})}),function T9(n,e,t){try{const r=t();return ux(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(k5);return a.runInitializers(),a.donePromise.then(()=>(function Jz(n){"string"==typeof n&&(Zz=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Hd,m_)||m_),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=B9({},r);return function eve(n,e,t){const r=new e5(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Lf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new dt(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new dt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(V5,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(Wt(Io))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Dg=null;const L9=new bn("");function U9(n,e,t=[]){const r=`Platform: ${e}`,i=new bn(r);return(s=[])=>{let o=Q5();if(!o||o.injector.get(L9,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function lve(n){if(Dg&&!Dg.get(L9,!1))throw new dt(400,!1);(function M9(){!function Vp(n){md=n}(()=>{throw new dt(600,!1)})})(),Dg=n;const e=n.get(P9);(function H9(n){n.get(VV,null)?.forEach(t=>t())})(n)}(function k9(n=[],e){return Io.create({name:e,providers:[{provide:Ow,useValue:"platform"},{provide:V5,useValue:new Set([()=>Dg=null])},...n]})}(a,r))}return function cve(n){const e=Q5();if(!e)throw new dt(401,!1);return e}()}}function Q5(){return Dg?.get(P9)??null}let Uf=(()=>{class n{static{this.__NG_ELEMENT_ID__=hve}}return n})();function hve(n){return function fve(n,e,t){if(SA(n)&&!t){const r=Mc(n.index,e);return new MC(r,r)}return 47&n.type?new MC(e[go],e):null}(us(),xt(),!(16&~n))}class q9{constructor(){}supports(e){return KD(e)}create(e){return new mve(e)}}const gve=(n,e)=>e;class mve{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gve}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<W9(r,i,s)?t:r,a=W9(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let d=0;d<c;d++){const f=d<s.length?s[d]:s[d]=0,A=f+d;u<=A&&A<c&&(s[d]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!KD(e))throw new dt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function Yde(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new vve(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new j9),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new j9),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class vve{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yve{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class j9{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new yve,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function W9(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class $9{constructor(){}supports(e){return e instanceof Map||t5(e)}create(){return new _ve}}class _ve{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||t5(e)))throw new dt(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new bve(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class bve{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function K9(){return new W5([new q9])}let W5=(()=>{class n{static{this.\u0275prov=Lt({token:n,providedIn:"root",factory:K9})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||K9()),deps:[[n,new Zm,new _A]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new dt(901,!1)}}return n})();function X9(){return new yM([new $9])}let yM=(()=>{class n{static{this.\u0275prov=Lt({token:n,providedIn:"root",factory:X9})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||X9()),deps:[[n,new Zm,new _A]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new dt(901,!1)}}return n})();const xve=U9(null,"core",[]);let Eve=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(Wt(Lf))}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),uq=!1,hq=!1;function zve(){return ng([{provide:bD,useFactory:()=>{let n=!0;return Tf()&&(n=!!Ve(zy,{optional:!0})?.get(jO,null)),n&&Nf("NgHydration"),n}},{provide:bf,useValue:()=>{hq=!!Ve(KV,{optional:!0}),Tf()&&Ve(bD)&&(function qve(){const n=vg();let e;for(const t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===Iue){e=t;break}if(!e)throw new dt(-507,!1)}(),function Vve(){uq||(uq=!0,function Rue(){zV=Fue}(),function bpe(){Wz=_pe}(),function Uge(){GG=Lge}(),function xpe(){$z=Cpe}(),function tAe(){J7=eAe}(),function bde(){x7=_de,QP=yde}(),function jfe(){o7=qfe}(),function Ghe(){UQ=zhe}(),function Qpe(){XC=Vpe}())}())},multi:!0},{provide:$V,useFactory:()=>Tf()&&Ve(bD)},{provide:AM,useFactory:()=>{if(Tf()&&Ve(bD)){const n=Ve(Lf);return Ve(Io),()=>{(function Qve(n,e){return N9(n)})(n).then(()=>{!function Rfe(n){const e=n._views;for(const t of e){const r=GV(t);null!==r&&null!==r[lo]&&(_a(r)?UD(r):(UD(r[lo]),i7(r)))}}(n)})}}return()=>{}},multi:!0}])}function Tl(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function t0e(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}function vq(n){const e=bt(null);try{return n()}finally{bt(e)}}function X5(n,e){const t=ui(n),r=e.elementInjector||xy();return new LC(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let yq=null;function Mg(){return yq}class u0e{}const rs=new bn("");let Y5=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>Ve(f0e),providedIn:"platform"})}}return n})();const h0e=new bn("");let f0e=(()=>{class n extends Y5{constructor(){super(),this._doc=Ve(rs),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mg().getBaseHref(this._doc)}onPopState(t){const r=Mg().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Mg().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Z5(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function _q(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function VA(n){return n&&"?"!==n[0]?"?"+n:n}let Pv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>Ve(wq),providedIn:"root"})}}return n})();const bq=new bn("");let wq=(()=>{class n extends Pv{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ve(rs).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Z5(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+VA(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+VA(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+VA(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Wt(Y5),Wt(bq,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),d0e=(()=>{class n extends Pv{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Z5(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+VA(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+VA(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Wt(Y5),Wt(bq,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})(),b_=(()=>{class n{constructor(t){this._subject=new ie,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function g0e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(_q(Cq(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+VA(r))}normalize(t){return n.stripTrailingSlash(function p0e(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Cq(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+VA(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+VA(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=VA}static{this.joinWithSlash=Z5}static{this.stripTrailingSlash=_q}static{this.\u0275fac=function(r){return new(r||n)(Wt(Pv))}}static{this.\u0275prov=Lt({token:n,factory:()=>function A0e(){return new b_(Wt(Pv))}(),providedIn:"root"})}}return n})();function Cq(n){return n.replace(/\/index.html$/,"")}var EM=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(EM||{}),sl=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(sl||{}),is=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(is||{}),Yu=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Yu||{});const xa={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function SM(n,e){return Ph(Bc(n)[co.DateFormat],e)}function DM(n,e){return Ph(Bc(n)[co.TimeFormat],e)}function MM(n,e){return Ph(Bc(n)[co.DateTimeFormat],e)}function Oh(n,e){const t=Bc(n),r=t[co.NumberSymbols][e];if(typeof r>"u"){if(e===xa.CurrencyDecimal)return t[co.NumberSymbols][xa.Decimal];if(e===xa.CurrencyGroup)return t[co.NumberSymbols][xa.Group]}return r}function Sq(n){if(!n[co.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[co.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ph(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function tL(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const M0e=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,TM={},T0e=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var QA=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(QA||{}),_s=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(_s||{}),bs=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(bs||{});function Dq(n,e,t,r){let i=function U0e(n){if(Bq(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return BM(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(M0e))return function k0e(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(r)}const e=new Date(n);if(!Bq(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=zA(t,e)||e;let a,o=[];for(;e;){if(a=T0e.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=i.getTimezoneOffset();r&&(l=Tq(r,l),i=function L0e(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function P0e(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Tq(e,i)-i))}(i,r,!0));let c="";return o.forEach(u=>{const h=function O0e(n){if(rL[n])return rL[n];let e;switch(n){case"G":case"GG":case"GGG":e=uo(bs.Eras,is.Abbreviated);break;case"GGGG":e=uo(bs.Eras,is.Wide);break;case"GGGGG":e=uo(bs.Eras,is.Narrow);break;case"y":e=Ea(_s.FullYear,1,0,!1,!0);break;case"yy":e=Ea(_s.FullYear,2,0,!0,!0);break;case"yyy":e=Ea(_s.FullYear,3,0,!1,!0);break;case"yyyy":e=Ea(_s.FullYear,4,0,!1,!0);break;case"Y":e=RM(1);break;case"YY":e=RM(2,!0);break;case"YYY":e=RM(3);break;case"YYYY":e=RM(4);break;case"M":case"L":e=Ea(_s.Month,1,1);break;case"MM":case"LL":e=Ea(_s.Month,2,1);break;case"MMM":e=uo(bs.Months,is.Abbreviated);break;case"MMMM":e=uo(bs.Months,is.Wide);break;case"MMMMM":e=uo(bs.Months,is.Narrow);break;case"LLL":e=uo(bs.Months,is.Abbreviated,sl.Standalone);break;case"LLLL":e=uo(bs.Months,is.Wide,sl.Standalone);break;case"LLLLL":e=uo(bs.Months,is.Narrow,sl.Standalone);break;case"w":e=nL(1);break;case"ww":e=nL(2);break;case"W":e=nL(1,!0);break;case"d":e=Ea(_s.Date,1);break;case"dd":e=Ea(_s.Date,2);break;case"c":case"cc":e=Ea(_s.Day,1);break;case"ccc":e=uo(bs.Days,is.Abbreviated,sl.Standalone);break;case"cccc":e=uo(bs.Days,is.Wide,sl.Standalone);break;case"ccccc":e=uo(bs.Days,is.Narrow,sl.Standalone);break;case"cccccc":e=uo(bs.Days,is.Short,sl.Standalone);break;case"E":case"EE":case"EEE":e=uo(bs.Days,is.Abbreviated);break;case"EEEE":e=uo(bs.Days,is.Wide);break;case"EEEEE":e=uo(bs.Days,is.Narrow);break;case"EEEEEE":e=uo(bs.Days,is.Short);break;case"a":case"aa":case"aaa":e=uo(bs.DayPeriods,is.Abbreviated);break;case"aaaa":e=uo(bs.DayPeriods,is.Wide);break;case"aaaaa":e=uo(bs.DayPeriods,is.Narrow);break;case"b":case"bb":case"bbb":e=uo(bs.DayPeriods,is.Abbreviated,sl.Standalone,!0);break;case"bbbb":e=uo(bs.DayPeriods,is.Wide,sl.Standalone,!0);break;case"bbbbb":e=uo(bs.DayPeriods,is.Narrow,sl.Standalone,!0);break;case"B":case"BB":case"BBB":e=uo(bs.DayPeriods,is.Abbreviated,sl.Format,!0);break;case"BBBB":e=uo(bs.DayPeriods,is.Wide,sl.Format,!0);break;case"BBBBB":e=uo(bs.DayPeriods,is.Narrow,sl.Format,!0);break;case"h":e=Ea(_s.Hours,1,-12);break;case"hh":e=Ea(_s.Hours,2,-12);break;case"H":e=Ea(_s.Hours,1);break;case"HH":e=Ea(_s.Hours,2);break;case"m":e=Ea(_s.Minutes,1);break;case"mm":e=Ea(_s.Minutes,2);break;case"s":e=Ea(_s.Seconds,1);break;case"ss":e=Ea(_s.Seconds,2);break;case"S":e=Ea(_s.FractionalSeconds,1);break;case"SS":e=Ea(_s.FractionalSeconds,2);break;case"SSS":e=Ea(_s.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=IM(QA.Short);break;case"ZZZZZ":e=IM(QA.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=IM(QA.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=IM(QA.Long);break;default:return null}return rL[n]=e,e}(u);c+=h?h(i,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function BM(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function zA(n,e){const t=function v0e(n){return Bc(n)[co.LocaleId]}(n);if(TM[t]??={},TM[t][e])return TM[t][e];let r="";switch(e){case"shortDate":r=SM(n,Yu.Short);break;case"mediumDate":r=SM(n,Yu.Medium);break;case"longDate":r=SM(n,Yu.Long);break;case"fullDate":r=SM(n,Yu.Full);break;case"shortTime":r=DM(n,Yu.Short);break;case"mediumTime":r=DM(n,Yu.Medium);break;case"longTime":r=DM(n,Yu.Long);break;case"fullTime":r=DM(n,Yu.Full);break;case"short":const i=zA(n,"shortTime"),s=zA(n,"shortDate");r=NM(MM(n,Yu.Short),[i,s]);break;case"medium":const o=zA(n,"mediumTime"),a=zA(n,"mediumDate");r=NM(MM(n,Yu.Medium),[o,a]);break;case"long":const l=zA(n,"longTime"),c=zA(n,"longDate");r=NM(MM(n,Yu.Long),[l,c]);break;case"full":const u=zA(n,"fullTime"),h=zA(n,"fullDate");r=NM(MM(n,Yu.Full),[u,h])}return r&&(TM[t][e]=r),r}function NM(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function kf(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Ea(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function N0e(n,e){switch(n){case _s.FullYear:return e.getFullYear();case _s.Month:return e.getMonth();case _s.Date:return e.getDate();case _s.Hours:return e.getHours();case _s.Minutes:return e.getMinutes();case _s.Seconds:return e.getSeconds();case _s.FractionalSeconds:return e.getMilliseconds();case _s.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===_s.Hours)0===a&&-12===t&&(a=12);else if(n===_s.FractionalSeconds)return function B0e(n,e){return kf(n,3).substring(0,e)}(a,e);const l=Oh(o,xa.MinusSign);return kf(a,e,l,r,i)}}function uo(n,e,t=sl.Format,r=!1){return function(i,s){return function I0e(n,e,t,r,i,s){switch(t){case bs.Months:return function J5(n,e,t){const r=Bc(n),s=Ph([r[co.MonthsFormat],r[co.MonthsStandalone]],e);return Ph(s,t)}(e,i,r)[n.getMonth()];case bs.Days:return function Eq(n,e,t){const r=Bc(n),s=Ph([r[co.DaysFormat],r[co.DaysStandalone]],e);return Ph(s,t)}(e,i,r)[n.getDay()];case bs.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function C0e(n){const e=Bc(n);return Sq(e),(e[co.ExtraData][2]||[]).map(r=>"string"==typeof r?tL(r):[tL(r[0]),tL(r[1])])}(e),u=function x0e(n,e,t){const r=Bc(n);Sq(r);const s=Ph([r[co.ExtraData][0],r[co.ExtraData][1]],e)||[];return Ph(s,t)||[]}(e,i,r),h=c.findIndex(d=>{if(Array.isArray(d)){const[f,A]=d,p=o>=f.hours&&a>=f.minutes,m=o<A.hours||o===A.hours&&a<A.minutes;if(f.hours<A.hours){if(p&&m)return!0}else if(p||m)return!0}else if(d.hours===o&&d.minutes===a)return!0;return!1});if(-1!==h)return u[h]}return function y0e(n,e,t){const r=Bc(n),s=Ph([r[co.DayPeriodsFormat],r[co.DayPeriodsStandalone]],e);return Ph(s,t)}(e,i,r)[o<12?0:1];case bs.Eras:return function _0e(n,e){return Ph(Bc(n)[co.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function IM(n){return function(e,t,r){const i=-1*r,s=Oh(t,xa.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case QA.Short:return(i>=0?"+":"")+kf(o,2,s)+kf(Math.abs(i%60),2,s);case QA.ShortGMT:return"GMT"+(i>=0?"+":"")+kf(o,1,s);case QA.Long:return"GMT"+(i>=0?"+":"")+kf(o,2,s)+":"+kf(Math.abs(i%60),2,s);case QA.Extended:return 0===r?"Z":(i>=0?"+":"")+kf(o,2,s)+":"+kf(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const F0e=0,FM=4;function Mq(n){const e=n.getDay(),t=0===e?-3:FM-e;return BM(n.getFullYear(),n.getMonth(),n.getDate()+t)}function nL(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=Mq(t),o=function R0e(n){const e=BM(n,F0e,1).getDay();return BM(n,0,1+(e<=FM?FM:FM+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return kf(i,n,Oh(r,xa.MinusSign))}}function RM(n,e=!1){return function(t,r){return kf(Mq(t).getFullYear(),n,Oh(r,xa.MinusSign),e)}}const rL={};function Tq(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Bq(n){return n instanceof Date&&!isNaN(n.valueOf())}const H0e=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function aL(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Rq(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const cL=/\s+/,Oq=[];let uL=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=Oq,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(cL):Oq}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(cL):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(cL).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(gt(N),gt(Bf))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[Fr.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class Z0e{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bl=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Z0e(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Lq(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Lq(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(gt(cu),gt(ra),gt(W5))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function Lq(n,e){n.context.$implicit=e.item}let Ic=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new J0e,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Uq("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Uq("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(gt(cu),gt(ra))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class J0e{constructor(){this.$implicit=null,this.ngIf=null}}function Uq(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ea(e)}'.`)}let PM=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:_g.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(gt(N),gt(yM),gt(Bf))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),C_=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||n)(gt(cu))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Bo]})}}return n})();function Hf(n,e){return new dt(2100,!1)}class iye{createSubscription(e,t){return vq(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){vq(()=>e.unsubscribe())}}class sye{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const oye=new sye,aye=new iye;let x_=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(ux(t))return oye;if(D9(t))return aye;throw Hf()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(gt(Uf,16))}}static{this.\u0275pipe=Xl({name:"async",type:n,pure:!1,standalone:!0})}}return n})();const dye=new bn(""),Aye=new bn("");let dL=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(null==t||""===t||t!=t)return null;try{return Dq(t,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw Hf()}}static{this.\u0275fac=function(r){return new(r||n)(gt(Hd,16),gt(dye,24),gt(Aye,24))}}static{this.\u0275pipe=Xl({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),LM=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function AL(n){return!(null==n||""===n||n!=n)}(t))return null;i||=this._locale;try{return function j0e(n,e,t){return function sL(n,e,t,r,i,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function $0e(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(c=function W0e(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let u=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const y=s.match(H0e);if(null===y)throw new Error(`${s} is not a valid digit info`);const v=y[1],_=y[3],C=y[5];null!=v&&(u=aL(v)),null!=_&&(h=aL(_)),null!=C?d=aL(C):null!=_&&h>d&&(d=h)}!function K0e(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let h=o;h<r.length;h++)r[h]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let h=1;h<o;h++)r[h]=0}if(a>=5)if(o-1<0){for(let h=0;h>o;h--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const c=e+n.integerLen,u=r.reduceRight(function(h,d,f,A){return A[f]=(d+=h)<10?d:d-10,l&&(0===A[f]&&f>=c?A.pop():l=!1),d>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}(c,h,d);let f=c.digits,A=c.integerLen;const p=c.exponent;let m=[];for(l=f.every(y=>!y);A<u;A++)f.unshift(0);for(;A<0;A++)f.unshift(0);A>0?m=f.splice(A,f.length):(m=f,f=[0]);const g=[];for(f.length>=e.lgSize&&g.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)g.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&g.unshift(f.join("")),a=g.join(Oh(t,r)),m.length&&(a+=Oh(t,i)+m.join("")),p&&(a+=Oh(t,xa.Exponential)+"+"+p)}else a=Oh(t,xa.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function oL(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const h=l.charAt(u);"0"===h?t.minFrac=t.maxFrac=u+1:"#"===h?t.maxFrac=u+1:t.posSuf+=h}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=i.length-t.posPre.length-t.posSuf.length,h=s.indexOf("#");t.negPre=s.substring(0,h).replace(/'/g,""),t.negSuf=s.slice(h+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function eL(n,e){return Bc(n)[co.NumberFormats][e]}(e,EM.Decimal),Oh(e,xa.MinusSign)),e,xa.Group,xa.Decimal,t)}(function pL(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw Hf()}}static{this.\u0275fac=function(r){return new(r||n)(gt(Hd,16))}}static{this.\u0275pipe=Xl({name:"number",type:n,pure:!0,standalone:!0})}}return n})();let Lv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})();const Vq="browser",Cye="server";function UM(n){return n===Vq}function gL(n){return n===Cye}let Sye=(()=>{class n{static{this.\u0275prov=Lt({token:n,providedIn:"root",factory:()=>UM(Ve(Nh))?new Dye(Ve(rs),window):new Tye})}}return n})();class Dye{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function Mye(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}}class Tye{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class Qq{}function Yq(n){return n&&fn(n.schedule)}function vL(n){return n[n.length-1]}function QM(n){return fn(vL(n))?n.pop():void 0}function gx(n){return Yq(vL(n))?n.pop():void 0}function Tg(n){return this instanceof Tg?(this.v=n,this):new Tg(n)}function tj(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function wL(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const xL=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function nj(n){return fn(n?.then)}function rj(n){return fn(n[ko])}function ij(n){return Symbol.asyncIterator&&fn(n?.[Symbol.asyncIterator])}function sj(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const oj=function B_e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function aj(n){return fn(n?.[oj])}function lj(n){return function ej(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(f){return function(A){return Promise.resolve(A).then(f,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,A){r[f]&&(i[f]=function(p){return new Promise(function(m,g){s.push([f,p,m,g])>1||l(f,p)})},A&&(i[f]=A(i[f])))}function l(f,A){try{!function c(f){f.value instanceof Tg?Promise.resolve(f.value.v).then(u,h):d(s[0][2],f)}(r[f](A))}catch(p){d(s[0][3],p)}}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,A){f(A),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Tg(t.read());if(i)return yield Tg(void 0);yield yield Tg(r)}}finally{t.releaseLock()}})}function cj(n){return fn(n?.getReader)}function ol(n){if(n instanceof di)return n;if(null!=n){if(rj(n))return function N_e(n){return new di(e=>{const t=n[ko]();if(fn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(xL(n))return function I_e(n){return new di(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(nj(n))return function F_e(n){return new di(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,jl)})}(n);if(ij(n))return uj(n);if(aj(n))return function R_e(n){return new di(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(cj(n))return function O_e(n){return uj(lj(n))}(n)}throw sj(n)}function uj(n){return new di(e=>{(function P_e(n,e){var t,r,i,s;return function Zq(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=tj(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function GA(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function hj(n,e=0){return Gi((t,r)=>{t.subscribe(qi(r,i=>GA(r,n,()=>r.next(i),e),()=>GA(r,n,()=>r.complete(),e),i=>GA(r,n,()=>r.error(i),e)))})}function fj(n,e=0){return Gi((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function dj(n,e){if(!n)throw new Error("Iterable cannot be null");return new di(t=>{GA(t,e,()=>{const r=n[Symbol.asyncIterator]();GA(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function qo(n,e){return e?function Q_e(n,e){if(null!=n){if(rj(n))return function L_e(n,e){return ol(n).pipe(fj(e),hj(e))}(n,e);if(xL(n))return function k_e(n,e){return new di(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(nj(n))return function U_e(n,e){return ol(n).pipe(fj(e),hj(e))}(n,e);if(ij(n))return dj(n,e);if(aj(n))return function H_e(n,e){return new di(t=>{let r;return GA(t,e,()=>{r=n[oj](),GA(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>fn(r?.return)&&r.return()})}(n,e);if(cj(n))return function V_e(n,e){return dj(lj(n),e)}(n,e)}throw sj(n)}(n,e):ol(n)}function Jn(...n){return qo(n,gx(n))}function al(n,e,t=1/0){return fn(e)?al((r,i)=>Vr((s,o)=>e(r,s,i,o))(ol(n(r,i))),t):("number"==typeof e&&(t=e),Gi((r,i)=>function z_e(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,h=!1;const d=()=>{h&&!l.length&&!c&&e.complete()},f=p=>c<r?A(p):l.push(p),A=p=>{s&&e.next(p),c++;let m=!1;ol(t(p,u++)).subscribe(qi(e,g=>{i?.(g),s?f(g):e.next(g)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const g=l.shift();o?GA(e,o,()=>A(g)):A(g)}d()}catch(g){e.error(g)}}))};return n.subscribe(qi(e,f,()=>{h=!0,d()})),()=>{a?.()}}(r,i,n,t)))}function Bg(n,e){return fn(e)?al(n,e,1):al(n,1)}function E_(n){return Gi((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function du(n,e){return Gi((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(qi(r,l=>{i?.unsubscribe();let c=0;const u=s++;ol(n(l,u)).subscribe(i=qi(r,h=>r.next(e?e(l,h,u,c++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ro(n,e,t){const r=fn(n)||e||t?{next:n,error:e,complete:t}:n;return r?Gi((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(qi(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ds}class zM{}class GM{}class Nl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Nl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Nl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Nl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class G_e{encodeKey(e){return Aj(e)}encodeValue(e){return Aj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const j_e=/%(\d[a-f0-9])/gi,W_e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Aj(n){return encodeURIComponent(n).replace(j_e,(e,t)=>W_e[t]??e)}function qM(n){return`${n}`}class Ng{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new G_e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function q_e(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(qM):[qM(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ng({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(qM(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(qM(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class $_e{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function pj(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function gj(n){return typeof Blob<"u"&&n instanceof Blob}function mj(n){return typeof FormData<"u"&&n instanceof FormData}class qA{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function K_e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Nl,this.context??=new $_e,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ng,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||pj(this.body)||gj(this.body)||mj(this.body)||function X_e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ng?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mj(this.body)?null:gj(this.body)?this.body.type||null:pj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ng?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),u)),new qA(t,r,o,{params:u,headers:c,context:h,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}}var jA=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(jA||{});class EL{constructor(e,t=mx.Ok,r="OK"){this.headers=e.headers||new Nl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class jM extends EL{constructor(e={}){super(e),this.type=jA.ResponseHeader}clone(e={}){return new jM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class WA extends EL{constructor(e={}){super(e),this.type=jA.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new WA({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class S_ extends EL{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var mx=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(mx||{});function SL(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let D_=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof qA)s=t;else{let l,c;l=i.headers instanceof Nl?i.headers:new Nl(i.headers),i.params&&(c=i.params instanceof Ng?i.params:new Ng({fromObject:i.params})),s=new qA(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const o=Jn(s).pipe(Bg(l=>this.handler.handle(l)));if(t instanceof qA||"events"===i.observe)return o;const a=o.pipe(ao(l=>l instanceof WA));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Vr(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Vr(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Vr(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Vr(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ng).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,SL(i,r))}post(t,r,i={}){return this.request("POST",t,SL(i,r))}put(t,r,i={}){return this.request("PUT",t,SL(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Wt(zM))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();function yj(n,e){return e(n)}function t1e(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const _j=new bn(""),vx=new bn(""),bj=new bn(""),wj=new bn("");function r1e(){let n=null;return(e,t)=>{null===n&&(n=(Ve(_j,{optional:!0})??[]).reduceRight(t1e,yj));const r=Ve(Cg),i=r.add();return n(e,t).pipe(E_(()=>r.remove(i)))}}let Cj=(()=>{class n extends zM{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Ve(Cg);const i=Ve(wj,{optional:!0});this.backend=i??t}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(vx),...this.injector.get(bj,[])]));this.chain=i.reduceRight((s,o)=>function n1e(n,e,t){return(r,i)=>Ch(t,()=>e(r,s=>n(s,i)))}(s,o,this.injector),yj)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(E_(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(Wt(GM),Wt(La))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const l1e=/^\)\]\}',?\n/;let Ej=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new dt(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?qo(r.\u0275loadImpl()):Jn(null)).pipe(du(()=>new di(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((p,m)=>o.setRequestHeader(p,m.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const p=t.detectContentTypeHeader();null!==p&&o.setRequestHeader("Content-Type",p)}if(t.responseType){const p=t.responseType.toLowerCase();o.responseType="json"!==p?p:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const p=o.statusText||"OK",m=new Nl(o.getAllResponseHeaders()),g=function c1e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new jM({headers:m,status:o.status,statusText:p,url:g}),l},u=()=>{let{headers:p,status:m,statusText:g,url:y}=c(),v=null;m!==mx.NoContent&&(v=typeof o.response>"u"?o.responseText:o.response),0===m&&(m=v?mx.Ok:0);let _=m>=200&&m<300;if("json"===t.responseType&&"string"==typeof v){const C=v;v=v.replace(l1e,"");try{v=""!==v?JSON.parse(v):null}catch(b){v=C,_&&(_=!1,v={error:b,text:v})}}_?(s.next(new WA({body:v,headers:p,status:m,statusText:g,url:y||void 0})),s.complete()):s.error(new S_({error:v,headers:p,status:m,statusText:g,url:y||void 0}))},h=p=>{const{url:m}=c(),g=new S_({error:p,status:o.status||0,statusText:o.statusText||"Unknown Error",url:m||void 0});s.error(g)};let d=!1;const f=p=>{d||(s.next(c()),d=!0);let m={type:jA.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),"text"===t.responseType&&o.responseText&&(m.partialText=o.responseText),s.next(m)},A=p=>{let m={type:jA.UploadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),s.next(m)};return o.addEventListener("load",u),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),t.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",A)),o.send(a),s.next({type:jA.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",u),o.removeEventListener("timeout",h),t.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",A)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Wt(Qq))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const TL=new bn(""),Sj=new bn("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Dj=new bn("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Mj{}let f1e=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rq(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs),Wt(Nh),Wt(Sj))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();function d1e(n,e){const t=n.url.toLowerCase();if(!Ve(TL)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=Ve(Mj).getToken(),i=Ve(Dj);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Ig=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Ig||{});function Uv(n,e){return{\u0275kind:n,\u0275providers:e}}function A1e(...n){const e=[D_,Ej,Cj,{provide:zM,useExisting:Cj},{provide:GM,useExisting:Ej},{provide:vx,useValue:d1e,multi:!0},{provide:TL,useValue:!0},{provide:Mj,useClass:f1e}];for(const t of n)e.push(...t.\u0275providers);return ng(e)}const Tj=new bn("");let g1e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({providers:[A1e(Uv(Ig.LegacyInterceptors,[{provide:Tj,useFactory:r1e},{provide:vx,useExisting:Tj,multi:!0}]))]})}}return n})();const Bj="b",Nj="h",Ij="s",Fj="st",Rj="u",Oj="rt",WM=new bn(""),m1e=["GET","HEAD"];function v1e(n,e){const{isCacheActive:t,...r}=Ve(WM),{transferCache:i,method:s}=n;if(!t||"POST"===s&&!r.includePostRequests&&!i||"POST"!==s&&!m1e.includes(s)||!1===i||!1===r.filter?.(n))return e(n);const o=Ve(zy),a=function _1e(n){const{params:e,method:t,responseType:r,url:i}=n,s=Pj(e);let o=n.serializeBody();o instanceof URLSearchParams?o=Pj(o):"string"!=typeof o&&(o="");const l=function b1e(n){let e=0;for(const t of n)e=Math.imul(31,e)+t.charCodeAt(0)|0;return e+=2147483648,e.toString()}([t,r,i,o,s].join("|"));return l}(n),l=o.get(a,null);let c=r.includeHeaders;if("object"==typeof i&&i.includeHeaders&&(c=i.includeHeaders),l){const{[Bj]:h,[Oj]:d,[Nj]:f,[Ij]:A,[Fj]:p,[Rj]:m}=l;let g=h;switch(d){case"arraybuffer":g=(new TextEncoder).encode(h).buffer;break;case"blob":g=new Blob([h])}let y=new Nl(f);return Jn(new WA({body:g,headers:y,status:A,statusText:p,url:m}))}const u=gL(Ve(Nh));return e(n).pipe(Ro(h=>{h instanceof WA&&u&&o.set(a,{[Bj]:h.body,[Nj]:y1e(h.headers,c),[Ij]:h.status,[Fj]:h.statusText,[Rj]:h.url||"",[Oj]:n.responseType})}))}function y1e(n,e){if(!e)return{};const t={};for(const r of e){const i=n.getAll(r);null!==i&&(t[r]=i)}return t}function Pj(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function w1e(n){return[{provide:WM,useFactory:()=>(Nf("NgHttpTransferCache"),{isCacheActive:!0,...n})},{provide:bj,useValue:v1e,multi:!0,deps:[zy,WM]},{provide:AM,multi:!0,useFactory:()=>{const e=Ve(Lf),t=Ve(WM);return()=>{N9(e).then(()=>{t.isCacheActive=!1})}}}]}class C1e extends u0e{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class BL extends C1e{static makeCurrent(){!function c0e(n){yq??=n}(new BL)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function x1e(){return yx=yx||document.querySelector("base"),yx?yx.getAttribute("href"):null}();return null==t?null:function E1e(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){yx=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Rq(document.cookie,e)}}let yx=null,D1e=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const NL=new bn("");let Lj=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new dt(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Wt(NL),Wt(Sr))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();class Uj{constructor(e){this._doc=e}}const IL="ng-app-id";let kj=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gL(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${IL}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(IL),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(IL,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs),Wt(gD),Wt(QV,8),Wt(Nh))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const FL={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},RL=/%COMP%/g,N1e=new bn("",{providedIn:"root",factory:()=>!0});function Vj(n,e){return e.map(t=>t.replace(RL,n))}let OL=(()=>{class n{constructor(t,r,i,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=gL(a),this.defaultRenderer=new PL(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===iu.ShadowDom&&(r={...r,encapsulation:iu.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof zj?i.applyToHost(t):i instanceof LL&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case iu.Emulated:s=new zj(l,c,r,this.appId,u,o,a,h);break;case iu.ShadowDom:return new O1e(l,c,t,r,o,a,this.nonce,h);default:s=new LL(l,c,r,u,o,a,h)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Wt(Lj),Wt(kj),Wt(gD),Wt(N1e),Wt(rs),Wt(Nh),Wt(Sr),Wt(QV))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();class PL{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(FL[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Qj(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Qj(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new dt(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=FL[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=FL[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(_g.DashCase|_g.Important)?e.style.setProperty(t,r,i&_g.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&_g.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Mg().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Qj(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class O1e extends PL{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Vj(i.id,i.styles);for(const u of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class LL extends PL{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?Vj(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zj extends LL{constructor(e,t,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,t,r,s,o,a,l,c),this.contentAttr=function I1e(n){return"_ngcontent-%COMP%".replace(RL,n)}(c),this.hostAttr=function F1e(n){return"_nghost-%COMP%".replace(RL,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let P1e=(()=>{class n extends Uj{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const Gj=["alt","control","meta","shift"],L1e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},U1e={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let k1e=(()=>{class n extends Uj{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mg().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Gj.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=L1e[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Gj.forEach(o=>{o!==i&&(0,U1e[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const jj=[{provide:Nh,useValue:Vq},{provide:VV,useValue:function H1e(){BL.makeCurrent()},multi:!0},{provide:rs,useFactory:function Q1e(){return function Sue(n){UO=n}(document),document},deps:[]}],z1e=U9(xve,"browser",jj),G1e=new bn(""),Wj=[{provide:fM,useClass:class S1e{addToWindow(e){as.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new dt(5103,!1);return s},as.getAllAngularTestabilities=()=>e.getAllTestabilities(),as.getAllAngularRootElements=()=>e.getAllRootElements(),as.frameworkStabilizers||(as.frameworkStabilizers=[]),as.frameworkStabilizers.push(r=>{const i=as.getAllAngularTestabilities();let s=i.length;const o=function(){s--,0==s&&r()};i.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Mg().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:S9,useClass:P5,deps:[Sr,L5,fM]},{provide:P5,useClass:P5,deps:[Sr,L5,fM]}],$j=[{provide:Ow,useValue:"root"},{provide:qu,useFactory:function V1e(){return new qu},deps:[]},{provide:NL,useClass:P1e,multi:!0,deps:[rs,Sr,Nh]},{provide:NL,useClass:k1e,multi:!0,deps:[rs]},OL,kj,Lj,{provide:FP,useExisting:OL},{provide:Qq,useClass:D1e,deps:[]},[]];let Kj=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:gD,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(Wt(G1e,12))}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({providers:[...$j,...Wj],imports:[Lv,Eve]})}}return n})(),$M=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _x=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n}(_x||{});function $1e(...n){const e=[],t=new Set,r=t.has(_x.HttpTransferCacheOptions);for(const{\u0275providers:i,\u0275kind:s}of n)t.add(s),i.length&&e.push(i);return ng([[],zve(),t.has(_x.NoHttpTransferCache)||r?[]:w1e({}),e])}const{isArray:K1e}=Array,{getPrototypeOf:X1e,prototype:Y1e,keys:Z1e}=Object;function Jj(n){if(1===n.length){const e=n[0];if(K1e(e))return{args:e,keys:null};if(function J1e(n){return n&&"object"==typeof n&&X1e(n)===Y1e}(e)){const t=Z1e(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:ebe}=Array;function UL(n){return Vr(e=>function tbe(n,e){return ebe(e)?n(...e):n(e)}(n,e))}function eW(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let tW=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(gt(Bf),gt(N))}}static{this.\u0275dir=mn({type:n})}}return n})(),kv=(()=>{class n extends tW{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vs(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,features:[ts]})}}return n})();const Lh=new bn(""),ibe={provide:Lh,useExisting:ls(()=>Fg),multi:!0},obe=new bn("");let Fg=(()=>{class n extends tW{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sbe(){const n=Mg()?Mg().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(gt(Bf),gt(N),gt(obe,8))}}static{this.\u0275dir=mn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&jt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Zs([ibe]),ts]})}}return n})();function Rg(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function rW(n){return null!=n&&"number"==typeof n.length}const Il=new bn(""),Og=new bn(""),abe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lbe{static min(e){return function iW(n){return e=>{if(Rg(e.value)||Rg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function sW(n){return e=>{if(Rg(e.value)||Rg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return oW(e)}static requiredTrue(e){return function aW(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function lW(n){return Rg(n.value)||abe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function cW(n){return e=>Rg(e.value)||!rW(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return uW(e)}static pattern(e){return function hW(n){if(!n)return KM;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Rg(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return mW(e)}static composeAsync(e){return vW(e)}}function oW(n){return Rg(n.value)?{required:!0}:null}function uW(n){return e=>rW(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function KM(n){return null}function fW(n){return null!=n}function dW(n){return ux(n)?qo(n):n}function AW(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function pW(n,e){return e.map(t=>t(n))}function gW(n){return n.map(e=>function cbe(n){return!n.validate}(e)?e:t=>e.validate(t))}function mW(n){if(!n)return null;const e=n.filter(fW);return 0==e.length?null:function(t){return AW(pW(t,e))}}function kL(n){return null!=n?mW(gW(n)):null}function vW(n){if(!n)return null;const e=n.filter(fW);return 0==e.length?null:function(t){return function nbe(...n){const e=QM(n),{args:t,keys:r}=Jj(n),i=new di(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;ol(t[u]).subscribe(qi(s,d=>{h||(h=!0,c--),a[u]=d},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(r?eW(r,a):a),s.complete())}))}});return e?i.pipe(UL(e)):i}(pW(t,e).map(dW)).pipe(Vr(AW))}}function HL(n){return null!=n?vW(gW(n)):null}function yW(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function _W(n){return n._rawValidators}function bW(n){return n._rawAsyncValidators}function VL(n){return n?Array.isArray(n)?n:[n]:[]}function XM(n,e){return Array.isArray(n)?n.includes(e):n===e}function wW(n,e){const t=VL(e);return VL(n).forEach(i=>{XM(t,i)||t.push(i)}),t}function CW(n,e){return VL(e).filter(t=>!XM(n,t))}class xW{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Fc extends xW{get formDirective(){return null}get path(){return null}}class Pg extends xW{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class EW{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let M_=(()=>{class n extends EW{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(gt(Pg,2))}}static{this.\u0275dir=mn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ci("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ts]})}}return n})(),bx=(()=>{class n extends EW{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(gt(Fc,10))}}static{this.\u0275dir=mn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ci("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ts]})}}return n})();const wx="VALID",ZM="INVALID",T_="PENDING",Cx="DISABLED";function GL(n){return(JM(n)?n.validators:n)||null}function qL(n,e){return(JM(e)?e.asyncValidators:n)||null}function JM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function DW(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new dt(1e3,"");if(!r[t])throw new dt(1001,"")}function MW(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new dt(1002,"")})}class eT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wx}get invalid(){return this.status===ZM}get pending(){return this.status==T_}get disabled(){return this.status===Cx}get enabled(){return this.status!==Cx}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(wW(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wW(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CW(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CW(e,this._rawAsyncValidators))}hasValidator(e){return XM(this._rawValidators,e)}hasAsyncValidator(e){return XM(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=T_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cx,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wx,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wx||this.status===T_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cx:wx}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=T_,this._hasOwnPendingAsyncValidator=!0;const t=dW(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ie,this.statusChanges=new ie}_calculateStatus(){return this._allControlsDisabled()?Cx:this.errors?ZM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(T_)?T_:this._anyControlsHaveStatus(ZM)?ZM:wx}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){JM(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function dbe(n){return Array.isArray(n)?kL(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Abe(n){return Array.isArray(n)?HL(n):n||null}(this._rawAsyncValidators)}}class xx extends eT{constructor(e,t,r){super(GL(t),qL(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){MW(this,0,e),Object.keys(e).forEach(r=>{DW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class TW extends xx{}const Hv=new bn("CallSetDisabledState",{providedIn:"root",factory:()=>Ex}),Ex="always";function tT(n,e){return[...e.path,n]}function Sx(n,e,t=Ex){jL(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function gbe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BW(n,e)})}(n,e),function vbe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function mbe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BW(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function pbe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function nT(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),iT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function jL(n,e){const t=_W(n);null!==e.validator?n.setValidators(yW(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=bW(n);null!==e.asyncValidator?n.setAsyncValidators(yW(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();rT(e._rawValidators,i),rT(e._rawAsyncValidators,i)}function iT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=_W(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=bW(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return rT(e._rawValidators,r),rT(e._rawAsyncValidators,r),t}function BW(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function NW(n,e){jL(n,e)}function $L(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function IW(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function KL(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Fg?t=s:function bbe(n){return Object.getPrototypeOf(n.constructor)===kv}(s)?r=s:i=s}),i||r||t||null}const Cbe={provide:Fc,useExisting:ls(()=>B_)},Dx=Promise.resolve();let B_=(()=>{class n extends Fc{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ie,this.form=new xx({},kL(t),HL(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Dx.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Sx(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Dx.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Dx.then(()=>{const r=this._findContainer(t.path),i=new xx({});NW(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Dx.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Dx.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,IW(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(gt(Il,10),gt(Og,10),gt(Hv,8))}}static{this.\u0275dir=mn({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&jt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[Fr.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zs([Cbe]),ts]})}}return n})();function FW(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function RW(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Mx=class extends eT{constructor(e=null,t,r){super(GL(t),qL(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),JM(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=RW(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){RW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Sbe={provide:Pg,useExisting:ls(()=>N_)},LW=Promise.resolve();let N_=(()=>{class n extends Pg{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Mx,this._registered=!1,this.name="",this.update=new ie,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=KL(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),$L(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){LW.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Tl(r);LW.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?tT(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(gt(Fc,9),gt(Il,10),gt(Og,10),gt(Lh,10),gt(Uf,8),gt(Hv,8))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Fr.None,"disabled","isDisabled"],model:[Fr.None,"ngModel","model"],options:[Fr.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zs([Sbe]),ts,Bo]})}}return n})(),Tx=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const XL=new bn(""),Ibe={provide:Fc,useExisting:ls(()=>sT)};let sT=(()=>{class n extends Fc{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ie,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(iT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Sx(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){nT(t.control||null,t,!1),function wbe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,IW(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(nT(r||null,t),(n=>n instanceof Mx)(i)&&(Sx(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);NW(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function ybe(n,e){return iT(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jL(this.form,this),this._oldForm&&iT(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||n)(gt(Il,10),gt(Og,10),gt(Hv,8))}}static{this.\u0275dir=mn({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&jt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[Fr.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zs([Ibe]),ts,Bo]})}}return n})();const Obe={provide:Pg,useExisting:ls(()=>JL)};let JL=(()=>{class n extends Pg{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new ie,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=KL(0,s)}ngOnChanges(t){this._added||this._setUpControl(),$L(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return tT(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(gt(Fc,13),gt(Il,10),gt(Og,10),gt(Lh,10),gt(XL,8))}}static{this.\u0275dir=mn({type:n,selectors:[["","formControlName",""]],inputs:{name:[Fr.None,"formControlName","name"],isDisabled:[Fr.None,"disabled","isDisabled"],model:[Fr.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Zs([Obe]),ts,Bo]})}}return n})();const Pbe={provide:Lh,useExisting:ls(()=>Bx),multi:!0};function zW(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Bx=(()=>{class n extends kv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=zW(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Lbe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vs(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&jt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zs([Pbe]),ts]})}}return n})(),Vv=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(zW(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(gt(N),gt(Bf),gt(Bx,9))}}static{this.\u0275dir=mn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const Ube={provide:Lh,useExisting:ls(()=>e3),multi:!0};function GW(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let e3=(()=>{class n extends kv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function kbe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vs(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&jt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zs([Ube]),ts]})}}return n})(),Qv=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(GW(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(GW(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(gt(N),gt(Bf),gt(e3,9))}}static{this.\u0275dir=mn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let zv=(()=>{class n{constructor(){this._validator=KM}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):KM,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,features:[Bo]})}}return n})();const Qbe={provide:Il,useExisting:ls(()=>oT),multi:!0};let oT=(()=>{class n extends zv{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Tl,this.createValidator=t=>oW}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vs(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Bi("required",i._enabled?"":null)},inputs:{required:"required"},features:[Zs([Qbe]),ts]})}}return n})();const jbe={provide:Il,useExisting:ls(()=>t3),multi:!0};let t3=(()=>{class n extends zv{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function qW(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>uW(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vs(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Bi("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Zs([jbe]),ts]})}}return n})(),JW=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})();class e$ extends eT{constructor(e,t,r){super(GL(t),qL(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){MW(this,0,e),e.forEach((r,i)=>{DW(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function t$(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let $be=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return t$(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new xx(i,s)}record(t,r=null){const i=this._reduceControls(t);return new TW(i,r)}control(t,r,i){let s={};return this.useNonNullable?(t$(r)?s=r:(s.validators=r,s.asyncValidators=i),new Mx(t,{...s,nonNullable:!0})):new Mx(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new e$(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Mx||t instanceof eT?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),n$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Hv,useValue:t.callSetDisabledState??Ex}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({imports:[JW]})}}return n})(),Kbe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:XL,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Hv,useValue:t.callSetDisabledState??Ex}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({imports:[JW]})}}return n})();var Dr=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Dr||{});const $A="*";function r$(n){return{type:Dr.Style,styles:n,offset:null}}class Nx{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class i${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function s$(n){return new dt(3e3,!1)}function Lg(n){switch(n.length){case 0:return new Nx;case 1:return n[0];default:return new i$(n)}}function o$(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,h=u&&a||new Map;l.forEach((d,f)=>{let A=f,p=d;if("offset"!==f)switch(A=n.normalizePropertyName(A,i),p){case"!":p=t.get(f);break;case $A:p=r.get(f);break;default:p=n.normalizeStyleValue(f,A,p,i)}h.set(A,p)}),u||s.push(h),a=h,o=c}),i.length)throw function Cwe(n){return new dt(3502,!1)}();return s}function r3(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&i3(t,"start",n)));break;case"done":n.onDone(()=>r(t&&i3(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&i3(t,"destroy",n)))}}function i3(n,e,t){const s=s3(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function s3(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Zu(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function a$(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Owe=typeof document>"u"?null:document.documentElement;function o3(n){const e=n.parentNode||n.host||null;return e===Owe?null:e}let Gv=null,l$=!1;function c$(n,e){for(;e;){if(e===n)return!0;e=o3(e)}return!1}function u$(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let a3=(()=>{class n{validateStyleProperty(t){return function Lwe(n){Gv||(Gv=function Uwe(){return typeof document<"u"?document.body:null}()||{},l$=!!Gv.style&&"WebkitAppearance"in Gv.style);let e=!0;return Gv.style&&!function Pwe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Gv.style,!e&&l$&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Gv.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return c$(t,r)}getParentElement(t){return o3(t)}query(t,r,i){return u$(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Nx(i,s)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();class l3{static{this.NOOP=new a3}}class c3{}const Hwe=1e3,u3="ng-enter",aT="ng-leave",lT="ng-trigger",cT=".ng-trigger",f$="ng-animating",h3=".ng-animating";function KA(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:f3(parseFloat(e[1]),e[2])}function f3(n,e){return"s"===e?n*Hwe:n}function uT(n,e,t){return n.hasOwnProperty("duration")?n:function Qwe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(s$()),{duration:0,delay:0,easing:""};i=f3(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=f3(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function twe(){return new dt(3100,!1)}()),a=!0),s<0&&(e.push(function nwe(){return new dt(3101,!1)}()),a=!0),a&&e.splice(l,0,s$())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Vd(n,e,t){e.forEach((r,i)=>{const s=A3(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function qv(n,e){e.forEach((t,r)=>{const i=A3(r);n.style[i]=""})}function Ix(n){return Array.isArray(n)?1==n.length?n[0]:function Xbe(n,e=null){return{type:Dr.Sequence,steps:n,options:e}}(n):n}const d3=new RegExp("{{\\s*(.+?)\\s*}}","g");function A$(n){let e=[];if("string"==typeof n){let t;for(;t=d3.exec(n);)e.push(t[1]);d3.lastIndex=0}return e}function Fx(n,e,t){const r=`${n}`,i=r.replace(d3,(s,o)=>{let a=e[o];return null==a&&(t.push(function iwe(n){return new dt(3003,!1)}()),a=""),a.toString()});return i==r?n:i}const qwe=/-+([a-z0-9])/g;function A3(n){return n.replace(qwe,(...e)=>e[1].toUpperCase())}function Ju(n,e,t){switch(e.type){case Dr.Trigger:return n.visitTrigger(e,t);case Dr.State:return n.visitState(e,t);case Dr.Transition:return n.visitTransition(e,t);case Dr.Sequence:return n.visitSequence(e,t);case Dr.Group:return n.visitGroup(e,t);case Dr.Animate:return n.visitAnimate(e,t);case Dr.Keyframes:return n.visitKeyframes(e,t);case Dr.Style:return n.visitStyle(e,t);case Dr.Reference:return n.visitReference(e,t);case Dr.AnimateChild:return n.visitAnimateChild(e,t);case Dr.AnimateRef:return n.visitAnimateRef(e,t);case Dr.Query:return n.visitQuery(e,t);case Dr.Stagger:return n.visitStagger(e,t);default:throw function swe(n){return new dt(3004,!1)}()}}function p3(n,e){return window.getComputedStyle(n)[e]}const $we=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class p$ extends c3{normalizePropertyName(e,t){return A3(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if($we.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function owe(n,e){return new dt(3005,!1)}())}return o+s}}const hT="*";const fT=new Set(["true","1"]),dT=new Set(["false","0"]);function g$(n,e){const t=fT.has(n)||dT.has(n),r=fT.has(e)||dT.has(e);return(i,s)=>{let o=n==hT||n==i,a=e==hT||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?fT.has(n):dT.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?fT.has(e):dT.has(e)),o&&a}}const Zwe=new RegExp("s*:selfs*,?","g");function g3(n,e,t,r){return new Jwe(n).build(e,t,r)}class Jwe{constructor(e){this._driver=e}build(e,t,r){const i=new nCe(t);return this._resetContextStyleTimingState(i),Ju(this,Ix(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function awe(){return new dt(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Dr.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==Dr.Transition){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function lwe(){return new dt(3007,!1)}())}),{type:Dr.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{A$(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(function cwe(n,e){return new dt(3008,!1)}(0,s.values()))}return{type:Dr.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ju(this,Ix(e.animation),t),i=function Kwe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Xwe(n,e,t){if(":"==n[0]){const l=function Ywe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function ywe(n){return new dt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function vwe(n){return new dt(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(g$(i,o)),"<"==s[0]&&(i!=hT||o!=hT)&&e.push(g$(o,i))}(r,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Dr.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:jv(e.options)}}visitSequence(e,t){return{type:Dr.Sequence,steps:e.steps.map(r=>Ju(this,r,t)),options:jv(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Ju(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Dr.Group,steps:s,options:jv(e.options)}}visitAnimate(e,t){const r=function iCe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return m3(uT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=m3(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=uT(t,e);return m3(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:r$({});if(s.type==Dr.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=r$(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:Dr.Animate,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===$A?r.push(a):t.errors.push(new dt(3002,!1)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:Dr.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let h=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function hwe(n,e,t,r,i){return new dt(3010,!1)}()),h=!1),s=u.startTime),h&&c.set(l,{startTime:s,endTime:i}),t.options&&function Gwe(n,e,t){const r=e.params||{},i=A$(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function rwe(n){return new dt(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:Dr.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function fwe(){return new dt(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(g=>{const y=this._makeStyleAst(g,t);let v=null!=y.offset?y.offset:function rCe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(y.styles),_=0;return null!=v&&(s++,_=y.offset=v),l=l||_<0||_>1,a=a||_<c,c=_,o.push(_),y});l&&t.errors.push(function dwe(){return new dt(3012,!1)}()),a&&t.errors.push(function Awe(){return new dt(3200,!1)}());const h=e.steps.length;let d=0;s>0&&s<h?t.errors.push(function pwe(){return new dt(3202,!1)}()):0==s&&(d=1/(h-1));const f=h-1,A=t.currentTime,p=t.currentAnimateTimings,m=p.duration;return u.forEach((g,y)=>{const v=d>0?y==f?1:d*y:o[y],_=v*m;t.currentTime=A+p.delay+_,p.duration=_,this._validateStyleAst(g,t),g.offset=v,r.styles.push(g)}),r}visitReference(e,t){return{type:Dr.Reference,animation:Ju(this,Ix(e.animation),t),options:jv(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Dr.AnimateChild,options:jv(e.options)}}visitAnimateRef(e,t){return{type:Dr.AnimateRef,animation:this.visitReference(e.animation,t),options:jv(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function eCe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Zwe,"")),n=n.replace(/@\*/g,cT).replace(/@\w+/g,t=>cT+"-"+t.slice(1)).replace(/:animating/g,h3),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Zu(t.collectedStyles,t.currentQuerySelector,new Map);const a=Ju(this,Ix(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Dr.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:jv(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function gwe(){return new dt(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:uT(e.timings,t.errors,!0);return{type:Dr.Stagger,animation:Ju(this,Ix(e.animation),t),timings:r,options:null}}}class nCe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jv(n){return n?(n={...n}).params&&(n.params=function tCe(n){return n?{...n}:null}(n.params)):n={},n}function m3(n,e,t){return{duration:n,delay:e,easing:t}}function v3(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class AT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const aCe=new RegExp(":enter","g"),cCe=new RegExp(":leave","g");function y3(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new uCe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class uCe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new AT;const h=new _3(e,t,c,i,s,u,[]);h.options=l;const d=l.delay?KA(l.delay):0;h.currentTimeline.delayNextStep(d),h.currentTimeline.setStyles([o],null,h.errors,l),Ju(this,r,h);const f=h.timelines.filter(A=>A.containsAnimation());if(f.length&&a.size){let A;for(let p=f.length-1;p>=0;p--){const m=f[p];if(m.element===t){A=m;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([a],null,h.errors,l)}return f.length?f.map(A=>A.buildKeyframes()):[v3(t,[],[],[],0,d,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:KA(Fx(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?KA(r.duration):null,a=null!=r.delay?KA(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ju(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){i.previousNode.type==Dr.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=pT);const o=KA(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ju(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?KA(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Ju(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return uT(t.params?Fx(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;s.type==Dr.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?KA(i.delay):0;s&&(t.previousNode.type===Dr.Style||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=pT);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const h=t.createSubContext(e.options,c);s&&h.delayNextStep(s),c===t.element&&(l=h.currentTimeline),Ju(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;Ju(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}}const pT={};class _3{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new gT(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=KA(r.duration)),null!=r.delay&&(i.delay=KA(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Fx(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new _3(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=pT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new hCe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(aCe,"."+this._enterClassName)).replace(cCe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function mwe(n){return new dt(3014,!1)}()),a}}class gT{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new gT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||$A),this._currentKeyframe.set(t,$A);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function fCe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r??=e.keys();for(let s of r)t.set(s,$A)}else for(let[s,o]of i)t.set(s,o)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=Fx(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??$A),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((u,h)=>{"!"===u?e.add(h):u===$A&&t.add(h)}),r||c.set("offset",l/this.duration),i.push(c)});const s=[...e.values()],o=[...t.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return v3(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class hCe extends gT{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);const c=new Map(e[0]);c.set("offset",y$(a)),s.push(c);const u=e.length-1;for(let h=1;h<=u;h++){let d=new Map(e[h]);const f=d.get("offset");d.set("offset",y$((t+f*r)/o)),s.push(d)}r=o,t=0,i="",e=s}return v3(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function y$(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function _$(n,e,t,r,i,s,o,a,l,c,u,h,d){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const b3={};class b${constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function dCe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const h=[],d=this.ast.options&&this.ast.options.params||b3,A=this.buildStyles(r,a&&a.params||b3,h),p=l&&l.params||b3,m=this.buildStyles(i,p,h),g=new Set,y=new Map,v=new Map,_="void"===i,C={params:w$(p,d),delay:this.ast.options?.delay},b=u?[]:y3(e,t,this.ast.animation,s,o,A,m,C,c,h);let M=0;return b.forEach(D=>{M=Math.max(D.duration+D.delay,M)}),h.length?_$(t,this._triggerName,r,i,_,A,m,[],[],y,v,M,h):(b.forEach(D=>{const E=D.element,T=Zu(y,E,new Set);D.preStyleProps.forEach(R=>T.add(R));const B=Zu(v,E,new Set);D.postStyleProps.forEach(R=>B.add(R)),E!==t&&g.add(E)}),_$(t,this._triggerName,r,i,_,A,m,b,[...g.values()],y,v,M))}}function w$(n,e){const t={...e};return Object.entries(n).forEach(([r,i])=>{null!=i&&(t[r]=i)}),t}class ACe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=w$(e,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Fx(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class gCe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new ACe(i.style,i.options&&i.options.params||{},r))}),C$(this.states,"true","1"),C$(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new b$(e,i,this.states))}),this.fallbackTransition=function mCe(n,e,t){return new b$(n,{type:Dr.Transition,animation:{type:Dr.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function C$(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const vCe=new AT;class yCe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=g3(this._driver,t,r,[]);if(r.length)throw function xwe(n){return new dt(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=o$(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=y3(this._driver,t,s,u3,aT,new Map,new Map,r,vCe,i),o.forEach(u=>{const h=Zu(a,u.element,new Map);u.postStyleProps.forEach(d=>h.set(d,null))})):(i.push(function Ewe(){return new dt(3300,!1)}()),o=[]),i.length)throw function Swe(n){return new dt(3504,!1)}();a.forEach((u,h)=>{u.forEach((d,f)=>{u.set(f,this._driver.computeStyle(h,f,$A))})});const c=Lg(o.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,new Map,h)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Dwe(n){return new dt(3301,!1)}();return t}listen(e,t,r,i){const s=s3(t,"","","");return r3(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const x$="ng-animate-queued",w3="ng-animate-disabled",xCe=[],E$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ECe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vf="__ng_removed";class C3{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function TCe(n){return n??null}(r?e.value:e),r){const{value:s,...o}=e;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Rx="void",x3=new C3(Rx);class SCe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Uh(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Mwe(n,e){return new dt(3302,!1)}();if(null==r||0==r.length)throw function Twe(n){return new dt(3303,!1)}();if(!function BCe(n){return"start"==n||"done"==n}(r))throw function Bwe(n,e){return new dt(3400,!1)}();const s=Zu(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Zu(this._engine.statesByElement,e,new Map);return a.has(t)||(Uh(e,lT),Uh(e,lT+"-"+t),a.set(t,x3)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Nwe(n){return new dt(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new E3(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Uh(e,lT),Uh(e,lT+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new C3(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=x3),c.value!==Rx&&l.value===c.value){if(!function FCe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const p=[],m=s.matchStyles(l.value,l.params,p),g=s.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(()=>{qv(e,m),Vd(e,g)})}return}const d=Zu(this._engine.playersByElement,e,[]);d.forEach(p=>{p.namespaceId==this.id&&p.triggerName==t&&p.queued&&p.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),A=!1;if(!f){if(!i)return;f=s.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:A}),A||(Uh(e,x$),o.onStart(()=>{I_(e,x$)})),o.onDone(()=>{let p=this.players.indexOf(o);p>=0&&this.players.splice(p,1);const m=this._engine.playersByElement.get(e);if(m){let g=m.indexOf(o);g>=0&&m.splice(g,1)}}),this.players.push(o),d.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,cT,!0);r.forEach(i=>{if(i[Vf])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Rx,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Lg(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||x3,u=new C3(Rx),h=new E3(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Vf];(!s||s===E$)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Uh(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=s3(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,r3(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class DCe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r,i){this.bodyNode=e,this.driver=t,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new SCe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(mT(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!mT(t))return;const s=t[Vf];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Uh(e,w3)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),I_(e,w3))}removeNode(e,t,r){if(mT(t)){this.scheduler?.notify();const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Vf]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return mT(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,cT,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,h3,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Lg(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Vf];if(t&&t.setForRemoval){if(e[Vf]=E$,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(w3)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Uh(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Lg(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Iwe(n){return new dt(3402,!1)}()}_flushAnimations(e,t){const r=new AT,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(O=>{u.add(O);const P=this.driver.query(O,".ng-animate-queued",!0);for(let G=0;G<P.length;G++)u.add(P[G])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=M$(d,this.collectedEnterElements),A=new Map;let p=0;f.forEach((O,P)=>{const G=u3+p++;A.set(P,G),O.forEach(H=>Uh(H,G))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const P=this.collectedLeaveElements[O],G=P[Vf];G&&G.setForRemoval&&(m.push(P),g.add(P),G.hasAnimation?this.driver.query(P,".ng-star-inserted",!0).forEach(H=>g.add(H)):y.add(P))}const v=new Map,_=M$(d,Array.from(g));_.forEach((O,P)=>{const G=aT+p++;v.set(P,G),O.forEach(H=>Uh(H,G))}),e.push(()=>{f.forEach((O,P)=>{const G=A.get(P);O.forEach(H=>I_(H,G))}),_.forEach((O,P)=>{const G=v.get(P);O.forEach(H=>I_(H,G))}),m.forEach(O=>{this.processLeaveNode(O)})});const C=[],b=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(G=>{const H=G.player,ae=G.element;if(C.push(H),this.collectedEnterElements.length){const le=ae[Vf];if(le&&le.setForMove){if(le.previousTriggersValues&&le.previousTriggersValues.has(G.triggerName)){const te=le.previousTriggersValues.get(G.triggerName),ee=this.statesByElement.get(G.element);if(ee&&ee.has(G.triggerName)){const Ae=ee.get(G.triggerName);Ae.value=te,ee.set(G.triggerName,Ae)}}return void H.destroy()}}const ve=!h||!this.driver.containsElement(h,ae),Q=v.get(ae),q=A.get(ae),K=this._buildInstruction(G,r,q,Q,ve);if(K.errors&&K.errors.length)return void b.push(K);if(ve)return H.onStart(()=>qv(ae,K.fromStyles)),H.onDestroy(()=>Vd(ae,K.toStyles)),void i.push(H);if(G.isFallbackTransition)return H.onStart(()=>qv(ae,K.fromStyles)),H.onDestroy(()=>Vd(ae,K.toStyles)),void i.push(H);const oe=[];K.timelines.forEach(le=>{le.stretchStartingKeyframe=!0,this.disabledNodes.has(le.element)||oe.push(le)}),K.timelines=oe,r.append(ae,K.timelines),o.push({instruction:K,player:H,element:ae}),K.queriedElements.forEach(le=>Zu(a,le,[]).push(H)),K.preStyleProps.forEach((le,te)=>{if(le.size){let ee=l.get(te);ee||l.set(te,ee=new Set),le.forEach((Ae,xe)=>ee.add(xe))}}),K.postStyleProps.forEach((le,te)=>{let ee=c.get(te);ee||c.set(te,ee=new Set),le.forEach((Ae,xe)=>ee.add(xe))})});if(b.length){const O=[];b.forEach(P=>{O.push(function Fwe(n,e){return new dt(3505,!1)}())}),C.forEach(P=>P.destroy()),this.reportError(O)}const M=new Map,D=new Map;o.forEach(O=>{const P=O.element;r.has(P)&&(D.set(P,P),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,M))}),i.forEach(O=>{const P=O.element;this._getPreviousPlayers(P,!1,O.namespaceId,O.triggerName,null).forEach(H=>{Zu(M,P,[]).push(H),H.destroy()})});const E=m.filter(O=>B$(O,l,c)),T=new Map;D$(T,this.driver,y,c,$A).forEach(O=>{B$(O,l,c)&&E.push(O)});const R=new Map;f.forEach((O,P)=>{D$(R,this.driver,new Set(O),l,"!")}),E.forEach(O=>{const P=T.get(O),G=R.get(O);T.set(O,new Map([...P?.entries()??[],...G?.entries()??[]]))});const U=[],k=[],j={};o.forEach(O=>{const{element:P,player:G,instruction:H}=O;if(r.has(P)){if(u.has(P))return G.onDestroy(()=>Vd(P,H.toStyles)),G.disabled=!0,G.overrideTotalTime(H.totalTime),void i.push(G);let ae=j;if(D.size>1){let Q=P;const q=[];for(;Q=Q.parentNode;){const K=D.get(Q);if(K){ae=K;break}q.push(Q)}q.forEach(K=>D.set(K,ae))}const ve=this._buildAnimation(G.namespaceId,H,M,s,R,T);if(G.setRealPlayer(ve),ae===j)U.push(G);else{const Q=this.playersByElement.get(ae);Q&&Q.length&&(G.parentPlayer=Lg(Q)),i.push(G)}}else qv(P,H.fromStyles),G.onDestroy(()=>Vd(P,H.toStyles)),k.push(G),u.has(P)&&i.push(G)}),k.forEach(O=>{const P=s.get(O.element);if(P&&P.length){const G=Lg(P);O.setRealPlayer(G)}}),i.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<m.length;O++){const P=m[O],G=P[Vf];if(I_(P,aT),G&&G.hasAnimation)continue;let H=[];if(a.size){let ve=a.get(P);ve&&ve.length&&H.push(...ve);let Q=this.driver.query(P,h3,!0);for(let q=0;q<Q.length;q++){let K=a.get(Q[q]);K&&K.length&&H.push(...K)}}const ae=H.filter(ve=>!ve.destroyed);ae.length?NCe(this,P,ae):this.processLeaveNode(P)}return m.length=0,U.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const P=this.players.indexOf(O);this.players.splice(P,1)}),O.play()}),U}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Rx;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,h=Zu(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const A=f.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),f.destroy(),h.push(f)})}qv(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,d=t.timelines.map(A=>{const p=A.element;u.add(p);const m=p[Vf];if(m&&m.removedBeforeQueried)return new Nx(A.duration,A.delay);const g=p!==l,y=function ICe(n){const e=[];return T$(n,e),e}((r.get(p)||xCe).map(M=>M.getRealPlayer())).filter(M=>!!M.element&&M.element===p),v=s.get(p),_=o.get(p),C=o$(this._normalizer,A.keyframes,v,_),b=this._buildPlayer(A,C,y);if(A.subTimeline&&i&&h.add(p),g){const M=new E3(e,a,p);M.setRealPlayer(b),c.push(M)}return b});c.forEach(A=>{Zu(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function MCe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,A.element,A))}),u.forEach(A=>Uh(A,f$));const f=Lg(d);return f.onDestroy(()=>{u.forEach(A=>I_(A,f$)),Vd(l,t.toStyles)}),h.forEach(A=>{Zu(i,A,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Nx(e.duration,e.delay)}}class E3{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Nx,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>r3(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Zu(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mT(n){return n&&1===n.nodeType}function S$(n,e){const t=n.style.display;return n.style.display=e??"none",t}function D$(n,e,t,r,i){const s=[];t.forEach(l=>s.push(S$(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(h=>{const d=e.computeStyle(c,h,i);u.set(h,d),(!d||0==d.length)&&(c[Vf]=ECe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>S$(l,s[a++])),o}function M$(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Uh(n,e){n.classList?.add(e)}function I_(n,e){n.classList?.remove(e)}function NCe(n,e,t){Lg(t).onDone(()=>n.processLeaveNode(e))}function T$(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof i$?T$(r.players,e):e.push(r)}}function B$(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Ox{constructor(e,t,r,i){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new DCe(e.body,t,r,i),this._timelineEngine=new yCe(e.body,t,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=g3(this._driver,s,l,[]);if(l.length)throw function wwe(n,e){return new dt(3404,!1)}();a=function pCe(n,e,t){return new gCe(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=a$(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=a$(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class Px{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=Px.initialStylesByElement.get(e);i||Px.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Vd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vd(this._element,this._initialStyles),this._endStyles&&(Vd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Px.initialStylesByElement.delete(this._element),this._startStyles&&(qv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qv(this._element,this._endStyles),this._endStyles=null),Vd(this._element,this._initialStyles),this._state=3)}}function S3(n){let e=null;return n.forEach((t,r)=>{(function OCe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class N${constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:p3(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class I${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return c$(e,t)}getParentElement(e){return o3(e)}query(e,t,r){return u$(e,t,r)}computeStyle(e,t,r){return p3(e,t)}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof N$);(function jwe(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((A,p)=>c.set(p,A))});let h=function zwe(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(f=>new Map(f));h=function Wwe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,p3(n,a)))}}return e}(e,h,c);const d=function RCe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=S3(e[0]),e.length>1&&(r=S3(e[e.length-1]))):e instanceof Map&&(t=S3(e)),t||r?new Px(n,t,r):null}(e,h);return new N$(e,h,l,d)}}const F$="@.disabled";class R${constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==F$?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class PCe extends R${constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==F$?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function LCe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function UCe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}class kCe{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,s)=>{const o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const c=this._rendererCache;let u=c.get(i);return u||(u=new R$("",i,this.engine,()=>c.delete(i)),c.set(i,u)),u}const s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new PCe(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let HCe=(()=>{class n extends Ox{constructor(t,r,i){super(t,r,i,Ve(VD,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs),Wt(l3),Wt(c3))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const O$=[{provide:c3,useFactory:function VCe(){return new p$}},{provide:Ox,useClass:HCe},{provide:FP,useFactory:function QCe(n,e,t){return new kCe(n,e,t)},deps:[OL,Ox,Sr]}],D3=[{provide:l3,useFactory:()=>new I$},{provide:kO,useValue:"BrowserAnimations"},...O$],P$=[{provide:l3,useClass:a3},{provide:kO,useValue:"NoopAnimations"},...O$];let zCe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?P$:D3}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({providers:D3,imports:[Kj]})}}return n})();function M3(...n){const e=gx(n),t=QM(n),{args:r,keys:i}=Jj(n);if(0===r.length)return qo([],e);const s=new di(function qCe(n,e,t=ds){return r=>{L$(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)L$(e,()=>{const c=qo(n[l],e);let u=!1;c.subscribe(qi(r,h=>{s[l]=h,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>eW(i,o):ds));return t?s.pipe(UL(t)):s}function L$(n,e,t){n?GA(t,n,e):e()}function F_(n=1/0){return al(ds,n)}function Lx(...n){return function jCe(){return F_(1)}()(qo(n,gx(n)))}function U$(n){return new di(e=>{ol(n()).subscribe(e)})}function yT(n,e){const t=fn(n)?n:()=>n,r=i=>i.error(t());return new di(e?i=>e.schedule(r,0,i):r)}function T3(){return Gi((n,e)=>{let t=null;n._refCount++;const r=qi(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class k$ extends di{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Gp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mi;const t=this.getSubject();e.add(this.source.subscribe(qi(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mi.EMPTY)}return e}refCount(){return T3()(this)}}function R_(n){return Gi((e,t)=>{let s,r=null,i=!1;r=e.subscribe(qi(t,void 0,void 0,o=>{s=ol(n(o,R_(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function B3(n){return n<=0?()=>wl:Gi((e,t)=>{let r=[];e.subscribe(qi(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function V$(n){return Vr(()=>n)}function ll(n){return Gi((e,t)=>{ol(n).subscribe(qi(t,()=>t.complete(),Qs)),!t.closed&&e.subscribe(t)})}const hi="primary",Ux=Symbol("RouteTitle");class XCe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function O_(n){return new XCe(n)}function YCe(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Qd(n,e){const t=n?N3(n):void 0,r=e?N3(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Q$(n[i],e[i]))return!1;return!0}function N3(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Q$(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function z$(n){return n.length>0?n[n.length-1]:null}function Ug(n){return function GCe(n){return!!n&&(n instanceof di||fn(n.lift)&&fn(n.subscribe))}(n)?n:ux(n)?qo(Promise.resolve(n)):Jn(n)}const JCe={exact:function j$(n,e,t){if(!Wv(n.segments,e.segments)||!_T(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!j$(n.children[r],e.children[r],t))return!1;return!0},subset:W$},G$={exact:function exe(n,e){return Qd(n,e)},subset:function txe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Q$(n[t],e[t]))},ignored:()=>!0};function q$(n,e,t){return JCe[t.paths](n.root,e.root,t.matrixParams)&&G$[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function W$(n,e,t){return $$(n,e,e.segments,t)}function $$(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Wv(i,t)||e.hasChildren()||!_T(i,t,r))}if(n.segments.length===t.length){if(!Wv(n.segments,t)||!_T(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!W$(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Wv(n.segments,i)&&_T(n.segments,i,r)&&n.children[hi])&&$$(n.children[hi],e,s,r)}}function _T(n,e,t){return e.every((r,i)=>G$[t](n[i].parameters,r.parameters))}class P_{constructor(e=new Gs([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=O_(this.queryParams),this._queryParamMap}toString(){return ixe.serialize(this)}}class Gs{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bT(this)}}class kx{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=O_(this.parameters),this._parameterMap}toString(){return Y$(this)}}function Wv(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let L_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>new I3,providedIn:"root"})}}return n})();class I3{parse(e){const t=new pxe(e);return new P_(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Hx(e.root,!0)}`,r=function axe(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${wT(t)}=${wT(i)}`).join("&"):`${wT(t)}=${wT(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function sxe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ixe=new I3;function bT(n){return n.segments.map(e=>Y$(e)).join("/")}function Hx(n,e){if(!n.hasChildren())return bT(n);if(e){const t=n.children[hi]?Hx(n.children[hi],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==hi&&r.push(`${i}:${Hx(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function rxe(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===hi&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==hi&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===hi?[Hx(n.children[hi],!1)]:[`${i}:${Hx(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[hi]?`${bT(n)}/${t[0]}`:`${bT(n)}/(${t.join("//")})`}}function K$(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wT(n){return K$(n).replace(/%3B/gi,";")}function F3(n){return K$(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function CT(n){return decodeURIComponent(n)}function X$(n){return CT(n.replace(/\+/g,"%20"))}function Y$(n){return`${F3(n.path)}${function oxe(n){return Object.entries(n).map(([e,t])=>`;${F3(e)}=${F3(t)}`).join("")}(n.parameters)}`}const lxe=/^[^\/()?;#]+/;function R3(n){const e=n.match(lxe);return e?e[0]:""}const cxe=/^[^\/()?;=#]+/,hxe=/^[^=?&#]+/,dxe=/^[^&#]+/;class pxe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gs([],{}):new Gs([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[hi]=new Gs(e,t)),r}parseSegment(){const e=R3(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new dt(4009,!1);return this.capture(e),new kx(CT(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function uxe(n){const e=n.match(cxe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=R3(this.remaining);i&&(r=i,this.capture(r))}e[CT(t)]=CT(r)}parseQueryParam(e){const t=function fxe(n){const e=n.match(hxe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Axe(n){const e=n.match(dxe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=X$(t),s=X$(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=R3(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new dt(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=hi);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[hi]:new Gs([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new dt(4011,!1)}}function Z$(n){return n.segments.length>0?new Gs([],{[hi]:n}):n}function J$(n){const e={};for(const[r,i]of Object.entries(n.children)){const s=J$(i);if(r===hi&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function gxe(n){if(1===n.numberOfChildren&&n.children[hi]){const e=n.children[hi];return new Gs(n.segments.concat(e.segments),e.children)}return n}(new Gs(n.segments,e))}function U_(n){return n instanceof P_}function eK(n){let e;const i=Z$(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new Gs(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function tK(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return O3(i,i,i,t,r);const s=function vxe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new rK(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new rK(t,e,r)}(e);if(s.toRoot())return O3(i,i,new Gs([],{}),t,r);const o=function yxe(n,e,t){if(n.isAbsolute)return new ET(e,!0,0);if(!t)return new ET(e,!1,NaN);if(null===t.parent)return new ET(t,!0,0);const r=xT(n.commands[0])?0:1;return function _xe(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new dt(4005,!1);i=r.segments.length}return new ET(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?Qx(o.segmentGroup,o.index,s.commands):iK(o.segmentGroup,o.index,s.commands);return O3(i,o.segmentGroup,a,t,r)}function xT(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vx(n){return"object"==typeof n&&null!=n&&n.outlets}function O3(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:nK(n,e,t);const a=Z$(J$(o));return new P_(a,s,i)}function nK(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:nK(s,e,t)}),new Gs(n.segments,r)}class rK{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&xT(r[0]))throw new dt(4003,!1);const i=r.find(Vx);if(i&&i!==z$(r))throw new dt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ET{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function iK(n,e,t){if(n??=new Gs([],{}),0===n.segments.length&&n.hasChildren())return Qx(n,e,t);const r=function wxe(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Vx(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!oK(l,c,o))return s;r+=2}else{if(!oK(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Gs(n.segments.slice(0,r.pathIndex),{});return s.children[hi]=new Gs(n.segments.slice(r.pathIndex),n.children),Qx(s,0,i)}return r.match&&0===i.length?new Gs(n.segments,{}):r.match&&!n.hasChildren()?P3(n,e,t):r.match?Qx(n,0,i):P3(n,e,t)}function Qx(n,e,t){if(0===t.length)return new Gs(n.segments,{});{const r=function bxe(n){return Vx(n[0])?n[0].outlets:{[hi]:n}}(t),i={};if(Object.keys(r).some(s=>s!==hi)&&n.children[hi]&&1===n.numberOfChildren&&0===n.children[hi].segments.length){const s=Qx(n.children[hi],e,t);return new Gs(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=iK(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Gs(n.segments,i)}}function P3(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Vx(s)){const l=Cxe(s.outlets);return new Gs(r,l)}if(0===i&&xT(t[0])){r.push(new kx(n.segments[e].path,sK(t[0]))),i++;continue}const o=Vx(s)?s.outlets[hi]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&xT(a)?(r.push(new kx(o,sK(a))),i+=2):(r.push(new kx(o,{})),i++)}return new Gs(r,{})}function Cxe(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=P3(new Gs([],{}),0,r))}),e}function sK(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function oK(n,e,t){return n==t.path&&Qd(e,t.parameters)}const zx="imperative";var Hi=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Hi||{});class zd{constructor(e,t){this.id=e,this.url=t}}class ST extends zd{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Hi.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class XA extends zd{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Hi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var eh=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(eh||{}),DT=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(DT||{});class k_ extends zd{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Hi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class H_ extends zd{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Hi.NavigationSkipped}}class MT extends zd{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Hi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aK extends zd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Hi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xxe extends zd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Hi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Exe extends zd{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Hi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sxe extends zd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Hi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dxe extends zd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Hi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mxe{constructor(e){this.route=e,this.type=Hi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Txe{constructor(e){this.route=e,this.type=Hi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bxe{constructor(e){this.snapshot=e,this.type=Hi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nxe{constructor(e){this.snapshot=e,this.type=Hi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ixe{constructor(e){this.snapshot=e,this.type=Hi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fxe{constructor(e){this.snapshot=e,this.type=Hi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lK{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Hi.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class L3{}class U3{constructor(e){this.url=e}}class Rxe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gx,this.attachRef=null}}let Gx=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Rxe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class cK{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=k3(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=k3(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=H3(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return H3(e,this._root).map(t=>t.value)}}function k3(n,e){if(n===e.value)return e;for(const t of e.children){const r=k3(n,t);if(r)return r}return null}function H3(n,e){if(n===e.value)return[e];for(const t of e.children){const r=H3(n,t);if(r.length)return r.unshift(e),r}return[]}class Qf{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function V_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class uK extends cK{constructor(e,t){super(e),this.snapshot=t,z3(this,e)}toString(){return this.snapshot.toString()}}function hK(n){const e=function Oxe(n){const s=new Q3([],{},{},"",{},hi,n,null,{});return new fK("",new Qf(s,[]))}(n),t=new Es([new kx("",{})]),r=new Es({}),i=new Es({}),s=new Es({}),o=new Es(""),a=new $v(t,r,s,o,i,hi,n,e.root);return a.snapshot=e.root,new uK(new Qf(a,[]),e)}class $v{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Vr(c=>c[Ux]))??Jn(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Vr(e=>O_(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Vr(e=>O_(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function V3(n,e,t="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===e||"always"!==t&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...i?.data,...n._resolvedData}},i&&AK(i)&&(r.resolve[Ux]=i.title),r}class Q3{get title(){return this.data?.[Ux]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=O_(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=O_(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fK extends cK{constructor(e,t){super(t),this.url=e,z3(this,t)}toString(){return dK(this._root)}}function z3(n,e){e.value._routerState=n,e.children.forEach(t=>z3(n,t))}function dK(n){const e=n.children.length>0?` { ${n.children.map(dK).join(", ")} } `:"";return`${n.value}${e}`}function G3(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qd(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Qd(e.params,t.params)||n.paramsSubject.next(t.params),function ZCe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qd(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Qd(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function q3(n,e){const t=Qd(n.params,e.params)&&function nxe(n,e){return Wv(n,e)&&n.every((t,r)=>Qd(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||q3(n.parent,e.parent))}function AK(n){return"string"==typeof n.title||null===n.title}let j3=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=hi,this.activateEvents=new ie,this.deactivateEvents=new ie,this.attachEvents=new ie,this.detachEvents=new ie,this.parentContexts=Ve(Gx),this.location=Ve(cu),this.changeDetector=Ve(Uf),this.environmentInjector=Ve(La),this.inputBinder=Ve(TT,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new dt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new dt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new dt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new dt(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new W3(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bo]})}}return n})();class W3{__ngOutletInjector(e){return new W3(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===$v?this.route:e===Gx?this.childContexts:this.parent.get(e,t)}}const TT=new bn("");let pK=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=M3([r.queryParams,r.params,r.data]).pipe(du(([s,o,a],l)=>(a={...s,...o,...a},0===l?Jn(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function l0e(n){const e=ui(n);if(!e)return null;const t=new LC(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();function qx(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Lxe(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return qx(n,r,i);return qx(n,r)})}(n,e,t);return new Qf(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>qx(n,a)),o}}const r=function Uxe(n){return new $v(new Es(n.url),new Es(n.params),new Es(n.queryParams),new Es(n.fragment),new Es(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>qx(n,s));return new Qf(r,i)}}const gK="ngNavigationCancelingError";function mK(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=U_(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vK(!1,eh.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function vK(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[gK]=!0,t.cancellationCode=e,t}function yK(n){return!!n&&n[gK]}let _K=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ca],decls:1,vars:0,template:function(r,i){1&r&&ft(0,"router-outlet")},dependencies:[j3],encapsulation:2})}}return n})();function $3(n){const e=n.children&&n.children.map($3),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==hi&&(t.component=_K),t}function Gd(n){return n.outlet||hi}function jx(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class jxe{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),G3(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=V_(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=V_(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=V_(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=V_(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Fxe(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Nxe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(G3(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),G3(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=jx(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class bK{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class BT{constructor(e,t){this.component=e,this.route=t}}function Wxe(n,e,t){const r=n._root;return Wx(r,e?e._root:null,t,[r.value])}function Q_(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function JS(n){return null!==$m(n)}(n)?e.get(n):n:r}function Wx(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=V_(e);return n.children.forEach(o=>{(function Kxe(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Xxe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Wv(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wv(n.url,e.url)||!Qd(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!q3(n,e)||!Qd(n.queryParams,e.queryParams);default:return!q3(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new bK(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Wx(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new BT(a.outlet.component,o))}else o&&$x(e,a,i),i.canActivateChecks.push(new bK(r)),Wx(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>$x(a,t.getContext(o),i)),i}function $x(n,e,t){const r=V_(n),i=n.value;Object.entries(r).forEach(([s,o])=>{$x(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new BT(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Kx(n){return"function"==typeof n}function wK(n){return n instanceof qp||"EmptyError"===n?.name}const NT=Symbol("INITIAL_VALUE");function z_(){return du(n=>M3(n.map(e=>e.pipe(Mo(1),function H$(...n){const e=gx(n);return Gi((t,r)=>{(e?Lx(n,t,e):Lx(n,t)).subscribe(r)})}(NT)))).pipe(Vr(e=>{for(const t of e)if(!0!==t){if(t===NT)return NT;if(!1===t||t instanceof P_)return t}return!0}),ao(e=>e!==NT),Mo(1)))}function CK(n){return function bl(...n){return Pa(n)}(Ro(e=>{if(U_(e))throw mK(0,e)}),Vr(e=>!0===e))}class K3{constructor(e){this.segmentGroup=e||null}}class X3 extends Error{constructor(e){super(),this.urlTree=e}}function G_(n){return yT(new K3(n))}class pEe{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Jn(r);if(i.numberOfChildren>1||!i.children[hi])return yT(new dt(4e3,!1));i=i.children[hi]}}applyRedirectCommands(e,t,r){const i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new X3(i);return i}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new P_(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Gs(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new dt(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const Y3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gEe(n,e,t,r,i){const s=Z3(n,e,t);return s.matched?(r=function Hxe(n,e){return n.providers&&!n._injector&&(n._injector=WD(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function fEe(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Jn(i.map(o=>{const a=Q_(o,n);return Ug(function nEe(n){return n&&Kx(n.canMatch)}(a)?a.canMatch(e,t):Ch(n,()=>a(e,t)))})).pipe(z_(),CK()):Jn(!0)}(r,e,t).pipe(Vr(o=>!0===o?s:{...Y3}))):Jn(s)}function Z3(n,e,t){if("**"===e.path)return function mEe(n){return{matched:!0,parameters:n.length>0?z$(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Y3}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||YCe)(t,n,e);if(!i)return{...Y3};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function xK(n,e,t,r){return t.length>0&&function _Ee(n,e,t){return t.some(r=>IT(n,e,r)&&Gd(r)!==hi)}(n,t,r)?{segmentGroup:new Gs(e,yEe(r,new Gs(t,n.children))),slicedSegments:[]}:0===t.length&&function bEe(n,e,t){return t.some(r=>IT(n,e,r))}(n,t,r)?{segmentGroup:new Gs(n.segments,vEe(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Gs(n.segments,n.children),slicedSegments:t}}function vEe(n,e,t,r){const i={};for(const s of t)if(IT(n,e,s)&&!r[Gd(s)]){const o=new Gs([],{});i[Gd(s)]=o}return{...r,...i}}function yEe(n,e){const t={};t[hi]=e;for(const r of n)if(""===r.path&&Gd(r)!==hi){const i=new Gs([],{});t[Gd(r)]=i}return t}function IT(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class xEe{}class DEe{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new pEe(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new dt(4002,`'${e.segmentGroup}'`)}recognize(){const e=xK(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Vr(t=>{const r=new Q3([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},hi,this.rootComponentType,null,{}),i=new Qf(r,t),s=new fK("",i),o=function mxe(n,e,t=null,r=null){return tK(eK(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,hi).pipe(R_(r=>{if(r instanceof X3)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof K3?this.noMatchError(r):r}))}inheritParamsAndData(e,t){const r=e.value,i=V3(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(Vr(s=>s instanceof Qf?[s]:[]))}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return qo(i).pipe(Bg(s=>{const o=r.children[s],a=function Gxe(n,e){const t=n.filter(r=>Gd(r)===e);return t.push(...n.filter(r=>Gd(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function $Ce(n,e){return Gi(function WCe(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(qi(o,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),jp(null),function KCe(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ao((i,s)=>n(i,s,r)):ds,B3(1),t?jp(e):cy(()=>new qp))}(),al(s=>{if(null===s)return G_(r);const o=EK(s);return function MEe(n){n.sort((e,t)=>e.value.outlet===hi?-1:t.value.outlet===hi?1:e.value.outlet.localeCompare(t.value.outlet))}(o),Jn(o)}))}processSegment(e,t,r,i,s,o){return qo(t).pipe(Bg(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(R_(l=>{if(l instanceof K3)return Jn(null);throw l}))),_h(a=>!!a),R_(a=>{if(wK(a))return function CEe(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?Jn(new xEe):G_(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function wEe(n,e,t,r){return!!(Gd(n)===r||r!==hi&&IT(e,t,n))&&Z3(e,n,t).matched}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):G_(i):G_(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=Z3(t,i,s);if(!a)return G_(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,h).pipe(al(d=>this.processSegment(e,r,t,d.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){const o=gEe(t,r,i,e);return"**"===r.path&&(t.children={}),o.pipe(du(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(du(({routes:l})=>{const c=r._loadedInjector??e,{consumedSegments:u,remainingSegments:h,parameters:d}=a,f=new Q3(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function BEe(n){return n.data||{}}(r),Gd(r),r.component??r._loadedComponent??null,r,function NEe(n){return n.resolve||{}}(r)),{segmentGroup:A,slicedSegments:p}=xK(t,u,h,l);if(0===p.length&&A.hasChildren())return this.processChildren(c,l,A).pipe(Vr(g=>null===g?null:new Qf(f,g)));if(0===l.length&&0===p.length)return Jn(new Qf(f,[]));const m=Gd(r)===s;return this.processSegment(c,l,A,p,m?hi:s,!0).pipe(Vr(g=>new Qf(f,g instanceof Qf?[g]:[])))})):G_(t)))}getChildConfig(e,t,r){return t.children?Jn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Jn({routes:t._loadedRoutes,injector:t._loadedInjector}):function hEe(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Jn(!0):Jn(i.map(o=>{const a=Q_(o,n);return Ug(function Zxe(n){return n&&Kx(n.canLoad)}(a)?a.canLoad(e,t):Ch(n,()=>a(e,t)))})).pipe(z_(),CK())}(e,t,r).pipe(al(i=>i?this.configLoader.loadChildren(e,t).pipe(Ro(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function AEe(n){return yT(vK(!1,eh.GuardRejected))}())):Jn({routes:[],injector:e})}}function TEe(n){const e=n.value.routeConfig;return e&&""===e.path}function EK(n){const e=[],t=new Set;for(const r of n){if(!TEe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=EK(r.children);e.push(new Qf(r.value,i))}return e.filter(r=>!t.has(r))}function SK(n){const e=n.children.map(t=>SK(t)).flat();return[n,...e]}function J3(n){return du(e=>{const t=n(e);return t?qo(t).pipe(Vr(()=>e)):Jn(e)})}let DK=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===hi);return r}getResolvedTitleForRoute(t){return t.data[Ux]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>Ve(LEe),providedIn:"root"})}}return n})(),LEe=(()=>{class n extends DK{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Wt($M))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const q_=new bn("",{providedIn:"root",factory:()=>({})}),j_=new bn("");let eU=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ve(I9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Jn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ug(t.loadComponent()).pipe(Vr(MK),Ro(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),E_(()=>{this.componentLoaders.delete(t)})),i=new k$(r,()=>new $r).pipe(T3());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Jn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function UEe(n,e,t,r){return Ug(n.loadChildren()).pipe(Vr(MK),al(i=>i instanceof Y7||Array.isArray(i)?Jn(i):qo(e.compileModuleAsync(i))),Vr(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(j_,[],{optional:!0,self:!0}).flat()),{routes:o.map($3),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(E_(()=>{this.childrenLoaders.delete(r)})),o=new k$(s,()=>new $r).pipe(T3());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function MK(n){return function kEe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let tU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>Ve(HEe),providedIn:"root"})}}return n})(),HEe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const TK=new bn(""),BK=new bn("");function VEe(n,e,t){const r=n.get(BK),i=n.get(rs);return n.get(Sr).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),function QEe(n){return new Promise(e=>{UP(e,{injector:n})})}(n))),{onViewTransitionCreated:l}=r;return l&&Ch(n,()=>l({transition:a,from:e,to:t})),o})}let FT=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $r,this.transitionAbortSubject=new $r,this.configLoader=Ve(eU),this.environmentInjector=Ve(La),this.urlSerializer=Ve(L_),this.rootContexts=Ve(Gx),this.location=Ve(b_),this.inputBindingEnabled=null!==Ve(TT,{optional:!0}),this.titleStrategy=Ve(DK),this.options=Ve(q_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ve(tU),this.createViewTransition=Ve(TK,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Jn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Txe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Mxe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Es({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zx,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ao(s=>0!==s.id),Vr(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),du(s=>{let o=!1,a=!1;return Jn(s).pipe(du(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",eh.SupersededByNewNavigation),wl;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new H_(l.id,this.urlSerializer.serialize(l.rawUrl),h,DT.IgnoredSameUrlNavigation)),l.resolve(null),wl}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Jn(l).pipe(du(h=>{const d=this.transitions?.getValue();return this.events.next(new ST(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),d!==this.transitions?.getValue()?wl:Promise.resolve(h)}),function IEe(n,e,t,r,i,s){return al(o=>function EEe(n,e,t,r,i,s,o="emptyOnly"){return new DEe(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Vr(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ro(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const d=new aK(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:d,source:f,restoredState:A,extras:p}=l,m=new ST(h,this.urlSerializer.serialize(d),f,A);this.events.next(m);const g=hK(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:g,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=d,Jn(s)}{const h="";return this.events.next(new H_(l.id,this.urlSerializer.serialize(l.extractedUrl),h,DT.IgnoredByUrlHandlingStrategy)),l.resolve(null),wl}}),Ro(l=>{const c=new xxe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Vr(l=>(this.currentTransition=s={...l,guards:Wxe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function rEe(n,e){return al(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Jn({...t,guardsResult:!0}):function iEe(n,e,t,r){return qo(n).pipe(al(i=>function uEe(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Jn(s.map(a=>{const l=jx(e)??i,c=Q_(a,l);return Ug(function tEe(n){return n&&Kx(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):Ch(l,()=>c(n,e,t,r))).pipe(_h())})).pipe(z_()):Jn(!0)}(i.component,i.route,t,e,r)),_h(i=>!0!==i,!0))}(o,r,i,n).pipe(al(a=>a&&function Yxe(n){return"boolean"==typeof n}(a)?function sEe(n,e,t,r){return qo(e).pipe(Bg(i=>Lx(function aEe(n,e){return null!==n&&e&&e(new Bxe(n)),Jn(!0)}(i.route.parent,r),function oEe(n,e){return null!==n&&e&&e(new Ixe(n)),Jn(!0)}(i.route,r),function cEe(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function $xe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>U$(()=>Jn(o.guards.map(l=>{const c=jx(o.node)??t,u=Q_(l,c);return Ug(function eEe(n){return n&&Kx(n.canActivateChild)}(u)?u.canActivateChild(r,n):Ch(c,()=>u(r,n))).pipe(_h())})).pipe(z_())));return Jn(s).pipe(z_())}(n,i.path,t),function lEe(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Jn(!0);const i=r.map(s=>U$(()=>{const o=jx(e)??t,a=Q_(s,o);return Ug(function Jxe(n){return n&&Kx(n.canActivate)}(a)?a.canActivate(e,n):Ch(o,()=>a(e,n))).pipe(_h())}));return Jn(i).pipe(z_())}(n,i.route,t))),_h(i=>!0!==i,!0))}(r,s,n,e):Jn(a)),Vr(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Ro(l=>{if(s.guardsResult=l.guardsResult,U_(l.guardsResult))throw mK(0,l.guardsResult);const c=new Exe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ao(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",eh.GuardRejected),!1)),J3(l=>{if(l.guards.canActivateChecks.length)return Jn(l).pipe(Ro(c=>{const u=new Sxe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),du(c=>{let u=!1;return Jn(c).pipe(function FEe(n,e){return al(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Jn(t);const s=new Set(i.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const c of SK(l))o.add(c);let a=0;return qo(o).pipe(Bg(l=>s.has(l)?function REe(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!AK(i)&&(s[Ux]=i.title),function OEe(n,e,t,r){const i=N3(n);if(0===i.length)return Jn({});const s={};return qo(i).pipe(al(o=>function PEe(n,e,t,r){const i=jx(e)??r,s=Q_(n,i);return Ug(s.resolve?s.resolve(e,t):Ch(i,()=>s(e,t)))}(n[o],e,t,r).pipe(_h(),Ro(a=>{s[o]=a}))),B3(1),V$(s),R_(o=>wK(o)?wl:yT(o)))}(s,n,e,r).pipe(Vr(o=>(n._resolvedData=o,n.data=V3(n,n.parent,t).resolve,null)))}(l,r,n,e):(l.data=V3(l,l.parent,n).resolve,Jn(void 0))),Ro(()=>a++),B3(1),al(l=>a===o.size?Jn(t):wl))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ro({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",eh.NoDataFromResolver)}}))}),Ro(c=>{const u=new Dxe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),J3(l=>{const c=u=>{const h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ro(d=>{u.component=d}),Vr(()=>{})));for(const d of u.children)h.push(...c(d));return h};return M3(c(l.targetSnapshot.root)).pipe(jp(null),Mo(1))}),J3(()=>this.afterPreactivation()),du(()=>{const{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?qo(u).pipe(Vr(()=>s)):Jn(s)}),Vr(l=>{const c=function Pxe(n,e,t){const r=qx(n,e._root,t?t._root:void 0);return new uK(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,s}),Ro(()=>{this.events.next(new L3)}),((n,e,t,r)=>Vr(i=>(new jxe(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Mo(1),Ro({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new XA(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),ll(this.transitionAbortSubject.pipe(Ro(l=>{throw l}))),E_(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",eh.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),R_(l=>{if(a=!0,yK(l))this.events.next(new k_(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function kxe(n){return yK(n)&&U_(n.url)}(l)?this.events.next(new U3(l.url)):s.resolve(!1);else{this.events.next(new MT(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return wl}))}))}cancelNavigationTransition(t,r,i){const s=new k_(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zEe(n){return n!==zx}let GEe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>Ve(jEe),providedIn:"root"})}}return n})();class qEe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let jEe=(()=>{class n extends qEe{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vs(n)))(i||n)}})()}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NK=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>Ve(WEe),providedIn:"root"})}}return n})(),WEe=(()=>{class n extends NK{constructor(){super(...arguments),this.location=Ve(b_),this.urlSerializer=Ve(L_),this.options=Ve(q_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ve(tU),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new P_,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=hK(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ST)this.stateMemento=this.createStateMemento();else if(t instanceof H_)this.rawUrlTree=r.initialUrl;else if(t instanceof aK){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof L3?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof k_&&(t.code===eh.GuardRejected||t.code===eh.NoDataFromResolver)?this.restoreHistory(r):t instanceof MT?this.restoreHistory(r,!0):t instanceof XA&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=vs(n)))(i||n)}})()}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Xx=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Xx||{});function IK(n,e){n.events.pipe(ao(t=>t instanceof XA||t instanceof k_||t instanceof MT||t instanceof H_),Vr(t=>t instanceof XA||t instanceof H_?Xx.COMPLETE:t instanceof k_&&(t.code===eh.Redirect||t.code===eh.SupersededByNewNavigation)?Xx.REDIRECTING:Xx.FAILED),ao(t=>t!==Xx.REDIRECTING),Mo(1)).subscribe(()=>{e()})}function $Ee(n){throw n}const KEe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XEe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rc=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Ve(R5),this.stateManager=Ve(NK),this.options=Ve(q_,{optional:!0})||{},this.pendingTasks=Ve(Cg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ve(FT),this.urlSerializer=Ve(L_),this.location=Ve(b_),this.urlHandlingStrategy=Ve(tU),this._events=new $r,this.errorHandler=this.options.errorHandler||$Ee,this.navigated=!1,this.routeReuseStrategy=Ve(GEe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ve(j_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ve(TT,{optional:!0}),this.eventsSubscription=new mi,this.isNgZoneEnabled=Ve(Sr)instanceof Sr&&Sr.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof k_&&r.code!==eh.Redirect&&r.code!==eh.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof XA)this.navigated=!0;else if(r instanceof U3){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zEe(i.source)};this.scheduleNavigation(o,zx,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function ZEe(n){return!(n instanceof L3||n instanceof U3)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zx,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map($3),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let h,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{h=eK(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),h=this.currentUrlTree.root}return tK(h,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=U_(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,zx,null,r)}navigate(t,r={skipLocationChange:!1}){return function YEe(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new dt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...KEe}:!1===r?{...XEe}:r,U_(t))return q$(this.currentUrlTree,t,i);const s=this.parseUrl(t);return q$(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(null!=s&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,d)=>{a=h,l=d});const u=this.pendingTasks.add();return IK(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ss=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new $r,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof XA&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const r=null===this.href?null:function cQ(n,e,t){return function fhe(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?lQ:wo}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(gt(Rc),gt($v),function Bd(n){return function ms(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Mw(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(us(),n)}("tabindex"),gt(Bf),gt(N),gt(Pv))}}static{this.\u0275dir=mn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&jt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Bi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Fr.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Tl],skipLocationChange:[Fr.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Tl],replaceUrl:[Fr.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Tl],routerLink:"routerLink"},standalone:!0,features:[kC,Bo]})}}return n})();class FK{}let tSe=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ao(t=>t instanceof XA),Bg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=WD(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return qo(i).pipe(F_())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Jn(null);const s=i.pipe(al(o=>null===o?Jn(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?qo([s,this.loader.loadComponent(r)]).pipe(F_()):s})}static{this.\u0275fac=function(r){return new(r||n)(Wt(Rc),Wt(I9),Wt(La),Wt(FK),Wt(eU))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const nU=new bn("");let RK=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=Ve(La),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ST?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof XA?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof H_&&t.code===DT.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof lK&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){var i=this;this.zone.runOutsideAngular((0,_t.A)(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),UP(()=>{s()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new lK(t,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function RQ(){throw new Error("invalid")}()}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();function qd(n,e){return{\u0275kind:n,\u0275providers:e}}function PK(){const n=Ve(Io);return e=>{const t=n.get(Lf);if(e!==t.components[0])return;const r=n.get(Rc),i=n.get(LK);1===n.get(rU)&&r.initialNavigation(),n.get(UK,null,vi.Optional)?.setUpPreloading(),n.get(nU,null,vi.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const LK=new bn("",{factory:()=>new $r}),rU=new bn("",{providedIn:"root",factory:()=>1}),UK=new bn("");function sSe(n){return qd(0,[{provide:UK,useExisting:tSe},{provide:FK,useExisting:n}])}function aSe(n){return qd(9,[{provide:TK,useValue:VEe},{provide:BK,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const kK=new bn("ROUTER_FORROOT_GUARD"),lSe=[b_,{provide:L_,useClass:I3},Rc,Gx,{provide:$v,useFactory:function OK(n){return n.routerState.root},deps:[Rc]},eU,[]];let HK=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[lSe,[],{provide:j_,multi:!0,useValue:t},{provide:kK,useFactory:fSe,deps:[[Rc,new _A,new Zm]]},{provide:q_,useValue:r||{}},r?.useHash?{provide:Pv,useClass:d0e}:{provide:Pv,useClass:wq},{provide:nU,useFactory:()=>{const n=Ve(Sye),e=Ve(Sr),t=Ve(q_),r=Ve(FT),i=Ve(L_);return t.scrollOffset&&n.setOffset(t.scrollOffset),new RK(i,r,n,e,t)}},r?.preloadingStrategy?sSe(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?dSe(r):[],r?.bindToComponentInputs?qd(8,[pK,{provide:TT,useExisting:pK}]).\u0275providers:[],r?.enableViewTransitions?aSe().\u0275providers:[],[{provide:VK,useFactory:PK},{provide:AM,multi:!0,useExisting:VK}]]}}static forChild(t){return{ngModule:n,providers:[{provide:j_,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(Wt(kK,8))}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})();function fSe(n){return"guarded"}function dSe(n){return["disabled"===n.initialNavigation?qd(3,[{provide:dM,multi:!0,useFactory:()=>{const e=Ve(Rc);return()=>{e.setUpLocationChangeListener()}}},{provide:rU,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?qd(2,[{provide:rU,useValue:0},{provide:dM,multi:!0,deps:[Io],useFactory:e=>{const t=e.get(h0e,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Rc),s=e.get(LK);IK(i,()=>{r(!0)}),e.get(FT).afterPreactivation=()=>(r(!0),s.closed?Jn(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const VK=new bn(""),kg={externalConfig:{},pageSettingDictionary:{},scmList:[],aiPrompts:[]};let Hg=(()=>{class n{constructor(t){this.http=t}loadSCMList(){return this.http.get("./assets/json/scm.json").toPromise().then(t=>{console.log("loading scm list..."+JSON.stringify(t)),kg.scmList=t}).catch(t=>{console.error("Error loading configuration:",t)})}loadAiPrompts(){return this.http.get("./assets/json/llm.json").toPromise().then(t=>{console.log("loading LLMs..."+JSON.stringify(t)),kg.aiPrompts=t}).catch(t=>{console.error("Error loading configuration:",t)})}loadConfig(){return this.http.get("./assets/config.json").toPromise().then(t=>{kg.externalConfig=t}).catch(t=>{console.error("Error loading configuration:",t)})}getConfigValue(t){return JSON.parse(JSON.stringify(kg.externalConfig))[t]}static{this.\u0275fac=function(r){return new(r||n)(Wt(D_))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QK=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.configService=r,this.titleService=i,this.customErrorHandler=s,this.loggingInterceptor=o,this.route=a,this.title="PWA_DEMO_ENV_TEST",this._title="",this._appName="",this._appVersion="",this.runtimeVersion=b9.full,this.redirectPage=null;let l="",c="";l="appName",c=this.configService.getConfigValue(l),this._appName=c,l="appVersion",c=this.configService.getConfigValue(l),this._appVersion=c,console.log(`${l} :  ${this.configService.getConfigValue(l)} `)}ngOnInit(){this.titleService.setTitle(`${this._appName} ${this._appVersion}`),this.route.queryParams.subscribe(t=>{this.redirectPage=t.redirectPage?t.redirectPage:"",void 0!==this.redirectPage&&"sudoku"===this.redirectPage&&(console.log("Redirecting To Page : "+this.redirectPage),this.router.navigateByUrl("/Sudoku"))})}getValueFromConfig(t){return this.configService.getConfigValue(t)}static{this.\u0275fac=function(r){return new(r||n)(gt(Rc),gt(Hg),gt($M),gt(TF),gt(BF),gt($v))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&ft(0,"app-nav")},styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center}']})}}return n})();var iU=function(n){return n[n.Info=1]="Info",n[n.Debug=2]="Debug",n[n.Error=3]="Error",n}(iU||{});class ec{constructor(e,t,r){this._index=e,this._value=t,this._selected=r}}let zK=(()=>{class n{get _baseUrlNetCore(){return this.__baseUrlNetCore}get _baseUrlNodeJs(){return this.__baseUrlNodeJs}constructor(t,r){this.http=t,this.configService=r,this.HTTPOptions_Text={headers:new Nl({Accept:"application/text"}),responseType:"text"},this.HTTPOptions_JSON={headers:new Nl({"Content-Type":"application/json"}),responseType:"text"},this.__baseUrlNetCore="",this.__baseUrlNodeJs="",this.__baseUrlSpringBoot="",this.__baseUrlNetCore=this.configService.getConfigValue("baseUrlNetCore"),this.__baseUrlNodeJs=this.configService.getConfigValue("baseUrlNodeJs"),this.__baseUrlSpringBoot=this.configService.getConfigValue("baseUrlSpringBoot"),console.log("baseUrlNetCore     : "+this.__baseUrlNetCore),console.log("baseUrlNodeJs      : "+this.__baseUrlNodeJs),console.log("baseUrlSpringBoot  : "+this.__baseUrlSpringBoot)}_GetSudoku(){return this.http.get(`${this.__baseUrlNetCore}Demos/Sudoku_Generate_CPP`,this.HTTPOptions_Text)}_GetSudoku_NodeJS(){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Generate_NodeJS`,this.HTTPOptions_JSON)}_SolveSudoku(t){return this.http.get(`${this.__baseUrlNetCore}Demos/Sudoku_Solve_CPP?p_matrix=${t}`,this.HTTPOptions_Text)}_SolveSudoku_NodeJS(t){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Solve_NodeJS?p_matrix=${t}`,this.HTTPOptions_Text)}uploadSudoku(t){const r=new FormData;r.append("file",t);let i=`${this.__baseUrlNetCore}demos/Sudoku_Upload_File`;console.log("[SUDOKU] - (UPLOADING FILE) url: "+i);const s=new qA("POST",i,r,{reportProgress:!0,responseType:"text"});return this.http.request(s)}_TestNodeJs(){let t=`${this.__baseUrlNodeJs}databaseconnect`,r=this.http.get(t,this.HTTPOptions_JSON);return console.log("Testing Url : ["+t+"]"),r}_TestSprinbBoot(){let t=`${this.__baseUrlSpringBoot}hello`,r=this.http.get(t,this.HTTPOptions_Text);return console.log("Testing Url : ["+t+"]"),r}static{this.\u0275fac=function(r){return new(r||n)(Wt(D_),Wt(Hg))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var pSe=we(7239),gSe=we.n(pSe),Js=we(2284),Os=Uint8Array,Oc=Uint16Array,Yx=Int32Array,W_=new Os([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$_=new Os([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Zx=new Os([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qK=function(n,e){for(var t=new Oc(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];var i=new Yx(t[30]);for(r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},jK=qK(W_,2),sU=jK.b,RT=jK.r;sU[28]=258,RT[258]=28;for(var WK=qK($_,0),$K=WK.b,oU=WK.r,Jx=new Oc(32768),mo=0;mo<32768;++mo){var Vg=(43690&mo)>>1|(21845&mo)<<1;Jx[mo]=((65280&(Vg=(61680&(Vg=(52428&Vg)>>2|(13107&Vg)<<2))>>4|(3855&Vg)<<4))>>8|(255&Vg)<<8)>>1}var kh=function(n,e,t){for(var r=n.length,i=0,s=new Oc(e);i<r;++i)n[i]&&++s[n[i]-1];var a,o=new Oc(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;if(t){a=new Oc(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],h=o[n[i]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)a[Jx[h]>>l]=c}else for(a=new Oc(r),i=0;i<r;++i)n[i]&&(a[i]=Jx[o[n[i]-1]++]>>15-n[i]);return a},YA=new Os(288);for(mo=0;mo<144;++mo)YA[mo]=8;for(mo=144;mo<256;++mo)YA[mo]=9;for(mo=256;mo<280;++mo)YA[mo]=7;for(mo=280;mo<288;++mo)YA[mo]=8;var K_=new Os(32);for(mo=0;mo<32;++mo)K_[mo]=5;var KK=kh(YA,9,0),XK=kh(YA,9,1),YK=kh(K_,5,0),ZK=kh(K_,5,1),OT=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Hh=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(7&e)&t},PT=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(7&e)},eE=function(n){return(n+7)/8|0},Qg=function(n,e,t){return(null==e||e<0)&&(e=0),(null==t||t>n.length)&&(t=n.length),new Os(n.subarray(e,t))},JK=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$i=function(n,e,t){var r=new Error(e||JK[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,$i),!t)throw r;return r},jd=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8},X_=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8,n[r+2]|=t>>16},UT=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:uU,l:0};if(1==i){var o=new Os(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(C,b){return C.f-b.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[h].f?c++:h++],l=t[c!=u&&t[c].f<t[h].f?c++:h++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};var d=s[0].s;for(r=1;r<i;++r)s[r].s>d&&(d=s[r].s);var f=new Oc(d+1),A=kT(t[u-1],f,0);if(A>e){r=0;var p=0,m=A-e,g=1<<m;for(s.sort(function(b,M){return f[M.s]-f[b.s]||b.f-M.f});r<i;++r){var y=s[r].s;if(!(f[y]>e))break;p+=g-(1<<A-f[y]),f[y]=e}for(p>>=m;p>0;){var v=s[r].s;f[v]<e?p-=1<<e-f[v]++-1:++r}for(;r>=0&&p;--r){var _=s[r].s;f[_]==e&&(--f[_],++p)}A=e}return{t:new Os(f),l:A}},kT=function(n,e,t){return-1==n.s?Math.max(kT(n.l,e,t+1),kT(n.r,e,t+1)):e[n.s]=t},aU=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Oc(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},Y_=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},lU=function(n,e,t){var r=t.length,i=eE(e+2);n[i]=255&r,n[i+1]=r>>8,n[i+2]=255^n[i],n[i+3]=255^n[i+1];for(var s=0;s<r;++s)n[i+s+4]=t[s];return 8*(i+4+r)},cU=function(n,e,t,r,i,s,o,a,l,c,u){jd(e,u++,t),++i[256];for(var h=UT(i,15),d=h.t,f=h.l,A=UT(s,15),p=A.t,m=A.l,g=aU(d),y=g.c,v=g.n,_=aU(p),C=_.c,b=_.n,M=new Oc(19),D=0;D<y.length;++D)++M[31&y[D]];for(D=0;D<C.length;++D)++M[31&C[D]];for(var E=UT(M,7),T=E.t,B=E.l,R=19;R>4&&!T[Zx[R-1]];--R);var O,P,G,H,U=c+5<<3,k=Y_(i,YA)+Y_(s,K_)+o,j=Y_(i,d)+Y_(s,p)+o+14+3*R+Y_(M,T)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&U<=k&&U<=j)return lU(e,u,n.subarray(l,l+c));if(jd(e,u,1+(j<k)),u+=2,j<k){O=kh(d,f,0),P=d,G=kh(p,m,0),H=p;var ae=kh(T,B,0);for(jd(e,u,v-257),jd(e,u+5,b-1),jd(e,u+10,R-4),u+=14,D=0;D<R;++D)jd(e,u+3*D,T[Zx[D]]);u+=3*R;for(var ve=[y,C],Q=0;Q<2;++Q){var q=ve[Q];for(D=0;D<q.length;++D)jd(e,u,ae[K=31&q[D]]),u+=T[K],K>15&&(jd(e,u,q[D]>>5&127),u+=q[D]>>12)}}else O=KK,P=YA,G=YK,H=K_;for(D=0;D<a;++D){var oe=r[D];if(oe>255){var K;X_(e,u,O[257+(K=oe>>18&31)]),u+=P[K+257],K>7&&(jd(e,u,oe>>23&31),u+=W_[K]);var se=31&oe;X_(e,u,G[se]),u+=H[se],se>3&&(X_(e,u,oe>>5&8191),u+=$_[se])}else X_(e,u,O[oe]),u+=P[oe]}return X_(e,u,O[256]),u+P[256]},eX=new Yx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uU=new Os(0),hU=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=0|t.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}n=r,e=i},d:function(){return(255&(n%=65521))<<24|(65280&n)<<8|(255&(e%=65521))<<8|e>>8}}},VT=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Os(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return function(n,e,t,r,i,s){var o=s.z||n.length,a=new Os(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=7&(s.r||0);if(e){u&&(l[0]=s.r>>3);for(var h=eX[e-1],d=h>>13,f=8191&h,A=(1<<t)-1,p=s.p||new Oc(32768),m=s.h||new Oc(A+1),g=Math.ceil(t/3),y=2*g,v=function(ne){return(n[ne]^n[ne+1]<<g^n[ne+2]<<y)&A},_=new Yx(25e3),C=new Oc(288),b=new Oc(32),M=0,D=0,E=s.i||0,T=0,B=s.w||0,R=0;E+2<o;++E){var U=v(E),k=32767&E,j=m[U];if(p[k]=j,m[U]=k,B<=E){var O=o-E;if((M>7e3||T>24576)&&(O>423||!c)){u=cU(n,l,0,_,C,b,D,T,R,E-R,u),T=M=D=0,R=E;for(var P=0;P<286;++P)C[P]=0;for(P=0;P<30;++P)b[P]=0}var G=2,H=0,ae=f,ve=k-j&32767;if(O>2&&U==v(E-ve))for(var Q=Math.min(d,O)-1,q=Math.min(32767,E),K=Math.min(258,O);ve<=q&&--ae&&k!=j;){if(n[E+G]==n[E+G-ve]){for(var oe=0;oe<K&&n[E+oe]==n[E+oe-ve];++oe);if(oe>G){if(G=oe,H=ve,oe>Q)break;var se=Math.min(ve,oe-2),le=0;for(P=0;P<se;++P){var te=E-ve+P&32767,Ae=te-p[te]&32767;Ae>le&&(le=Ae,j=te)}}}ve+=(k=j)-(j=p[k])&32767}if(H){_[T++]=268435456|RT[G]<<18|oU[H];var xe=31&RT[G],ge=31&oU[H];D+=W_[xe]+$_[ge],++C[257+xe],++b[ge],B=E+G,++M}else _[T++]=n[E],++C[n[E]]}}for(E=Math.max(E,B);E<o;++E)_[T++]=n[E],++C[n[E]];u=cU(n,l,c,_,C,b,D,T,R,E-R,u),c||(s.r=7&u|l[u/8|0]<<3,u-=7,s.h=m,s.p=p,s.i=E,s.w=B)}else{for(E=s.w||0;E<o+c;E+=65535){var Ee=E+65535;Ee>=o&&(l[u/8|0]=c,Ee=o),u=lU(l,u+1,n.subarray(E,Ee))}s.i=o}return Qg(a,0,r+eE(u)+i)}(n,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):20:12+e.mem,t,r,i)},Co=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};function nE(n,e){e||(e={});var t=hU();t.p(n);var r=VT(n,e,e.dictionary?6:2,4);return function(n,e){var t=e.level,r=0==t?0:t<6?1:9==t?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=hU();i.p(e.dictionary),Co(n,2,i.d())}}(r,e),Co(r,r.length-4,t.d()),r}function qT(n,e){return function(n,e,t,r){var i=n.length,s=r?r.length:0;if(!i||e.f&&!e.l)return t||new Os(0);var o=!t,a=o||2!=e.i,l=e.i;o&&(t=new Os(3*i));var c=function(xe){var ge=t.length;if(xe>ge){var Ee=new Os(Math.max(2*ge,xe));Ee.set(t),t=Ee}},u=e.f||0,h=e.p||0,d=e.b||0,f=e.l,A=e.d,p=e.m,m=e.n,g=8*i;do{if(!f){u=Hh(n,h,1);var y=Hh(n,h+1,3);if(h+=3,!y){var _=n[(v=eE(h)+4)-4]|n[v-3]<<8,C=v+_;if(C>i){l&&$i(0);break}a&&c(d+_),t.set(n.subarray(v,C),d),e.b=d+=_,e.p=h=8*C,e.f=u;continue}if(1==y)f=XK,A=ZK,p=9,m=5;else if(2==y){var b=Hh(n,h,31)+257,M=Hh(n,h+10,15)+4,D=b+Hh(n,h+5,31)+1;h+=14;for(var E=new Os(D),T=new Os(19),B=0;B<M;++B)T[Zx[B]]=Hh(n,h+3*B,7);h+=3*M;var R=OT(T),U=(1<<R)-1,k=kh(T,R,1);for(B=0;B<D;){var v,j=k[Hh(n,h,U)];if(h+=15&j,(v=j>>4)<16)E[B++]=v;else{var O=0,P=0;for(16==v?(P=3+Hh(n,h,3),h+=2,O=E[B-1]):17==v?(P=3+Hh(n,h,7),h+=3):18==v&&(P=11+Hh(n,h,127),h+=7);P--;)E[B++]=O}}var G=E.subarray(0,b),H=E.subarray(b);p=OT(G),m=OT(H),f=kh(G,p,1),A=kh(H,m,1)}else $i(1);if(h>g){l&&$i(0);break}}a&&c(d+131072);for(var ae=(1<<p)-1,ve=(1<<m)-1,Q=h;;Q=h){var q=(O=f[PT(n,h)&ae])>>4;if((h+=15&O)>g){l&&$i(0);break}if(O||$i(2),q<256)t[d++]=q;else{if(256==q){Q=h,f=null;break}var K=q-254;q>264&&(K=Hh(n,h,(1<<(oe=W_[B=q-257]))-1)+sU[B],h+=oe);var se=A[PT(n,h)&ve],le=se>>4;if(se||$i(3),h+=15&se,H=$K[le],le>3){var oe=$_[le];H+=PT(n,h)&(1<<oe)-1,h+=oe}if(h>g){l&&$i(0);break}a&&c(d+131072);var te=d+K;if(d<H){var ee=s-H,Ae=Math.min(H,te);for(ee+d<0&&$i(3);d<Ae;++d)t[d]=r[ee+d]}for(;d<te;++d)t[d]=t[d-H]}}e.l=f,e.p=Q,e.b=d,e.f=u,f&&(u=1,e.m=p,e.d=A,e.n=m)}while(!u);return d!=t.length&&o?Qg(t,0,d):t.subarray(0,d)}(n.subarray(function(n,e){return(8!=(15&n[0])||n[0]>>4>7||(n[0]<<8|n[1])%31)&&$i(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&$i(6,"invalid zlib data: "+(32&n[1]?"need":"unexpected")+" dictionary"),2+(n[1]>>3&4)}(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var vU=typeof TextDecoder<"u"&&new TextDecoder;try{vU.decode(uU,{stream:!0})}catch{}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var Cr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function yU(){Cr.console&&"function"==typeof Cr.console.log&&Cr.console.log.apply(Cr.console,arguments)}var eo={log:yU,warn:function(n){Cr.console&&("function"==typeof Cr.console.warn?Cr.console.warn.apply(Cr.console,arguments):yU.call(null,arguments))},error:function(n){Cr.console&&("function"==typeof Cr.console.error?Cr.console.error.apply(Cr.console,arguments):yU(n))}};function _U(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Kv(r.response,e,t)},r.onerror=function(){eo.error("could not download file")},r.send()}function mX(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function KT(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var iE,bU,Kv=Cr.saveAs||("object"!==(typeof window>"u"?"undefined":(0,Js.A)(window))||window!==Cr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Cr.URL||Cr.webkitURL,i=document.createElement("a");i.download=e=e||n.name||"download",i.rel="noopener","string"==typeof n?(i.href=n,i.origin!==location.origin?mX(i.href)?_U(n,e,t):KT(i,i.target="_blank"):KT(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){KT(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download","string"==typeof n)if(mX(n))_U(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){KT(r)})}else navigator.msSaveOrOpenBlob((i=n,void 0===(s=t)?s={autoBom:!1}:"object"!==(0,Js.A)(s)&&(eo.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\ufeff",i],{type:i.type}):i),e);var i,s}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof n)return _U(n,e,t);var i="application/octet-stream"===n.type,s=/constructor/i.test(Cr.HTMLElement)||Cr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&"object"===(typeof FileReader>"u"?"undefined":(0,Js.A)(FileReader))){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=Cr.URL||Cr.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function vX(n){var e;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var s=t[r].process,o=t[r].re.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==l.length&&(l="0"+l),1==c.length&&(c="0"+c),"#"+a+l+c}}function wU(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=tc(t,r,i,s,e[0],7,-680876936),s=tc(s,t,r,i,e[1],12,-389564586),i=tc(i,s,t,r,e[2],17,606105819),r=tc(r,i,s,t,e[3],22,-1044525330),t=tc(t,r,i,s,e[4],7,-176418897),s=tc(s,t,r,i,e[5],12,1200080426),i=tc(i,s,t,r,e[6],17,-1473231341),r=tc(r,i,s,t,e[7],22,-45705983),t=tc(t,r,i,s,e[8],7,1770035416),s=tc(s,t,r,i,e[9],12,-1958414417),i=tc(i,s,t,r,e[10],17,-42063),r=tc(r,i,s,t,e[11],22,-1990404162),t=tc(t,r,i,s,e[12],7,1804603682),s=tc(s,t,r,i,e[13],12,-40341101),i=tc(i,s,t,r,e[14],17,-1502002290),t=nc(t,r=tc(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=nc(s,t,r,i,e[6],9,-1069501632),i=nc(i,s,t,r,e[11],14,643717713),r=nc(r,i,s,t,e[0],20,-373897302),t=nc(t,r,i,s,e[5],5,-701558691),s=nc(s,t,r,i,e[10],9,38016083),i=nc(i,s,t,r,e[15],14,-660478335),r=nc(r,i,s,t,e[4],20,-405537848),t=nc(t,r,i,s,e[9],5,568446438),s=nc(s,t,r,i,e[14],9,-1019803690),i=nc(i,s,t,r,e[3],14,-187363961),r=nc(r,i,s,t,e[8],20,1163531501),t=nc(t,r,i,s,e[13],5,-1444681467),s=nc(s,t,r,i,e[2],9,-51403784),i=nc(i,s,t,r,e[7],14,1735328473),t=rc(t,r=nc(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=rc(s,t,r,i,e[8],11,-2022574463),i=rc(i,s,t,r,e[11],16,1839030562),r=rc(r,i,s,t,e[14],23,-35309556),t=rc(t,r,i,s,e[1],4,-1530992060),s=rc(s,t,r,i,e[4],11,1272893353),i=rc(i,s,t,r,e[7],16,-155497632),r=rc(r,i,s,t,e[10],23,-1094730640),t=rc(t,r,i,s,e[13],4,681279174),s=rc(s,t,r,i,e[0],11,-358537222),i=rc(i,s,t,r,e[3],16,-722521979),r=rc(r,i,s,t,e[6],23,76029189),t=rc(t,r,i,s,e[9],4,-640364487),s=rc(s,t,r,i,e[12],11,-421815835),i=rc(i,s,t,r,e[15],16,530742520),t=ic(t,r=rc(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ic(s,t,r,i,e[7],10,1126891415),i=ic(i,s,t,r,e[14],15,-1416354905),r=ic(r,i,s,t,e[5],21,-57434055),t=ic(t,r,i,s,e[12],6,1700485571),s=ic(s,t,r,i,e[3],10,-1894986606),i=ic(i,s,t,r,e[10],15,-1051523),r=ic(r,i,s,t,e[1],21,-2054922799),t=ic(t,r,i,s,e[8],6,1873313359),s=ic(s,t,r,i,e[15],10,-30611744),i=ic(i,s,t,r,e[6],15,-1560198380),r=ic(r,i,s,t,e[13],21,1309151649),t=ic(t,r,i,s,e[4],6,-145523070),s=ic(s,t,r,i,e[11],10,-1120210379),i=ic(i,s,t,r,e[2],15,718787259),r=ic(r,i,s,t,e[9],21,-343485551),n[0]=Gg(t,n[0]),n[1]=Gg(r,n[1]),n[2]=Gg(i,n[2]),n[3]=Gg(s,n[3])}function XT(n,e,t,r,i,s){return e=Gg(Gg(e,n),Gg(r,s)),Gg(e<<i|e>>>32-i,t)}function tc(n,e,t,r,i,s,o){return XT(e&t|~e&r,n,e,i,s,o)}function nc(n,e,t,r,i,s,o){return XT(e&r|t&~r,n,e,i,s,o)}function rc(n,e,t,r,i,s,o){return XT(e^t^r,n,e,i,s,o)}function ic(n,e,t,r,i,s,o){return XT(t^(e|~r),n,e,i,s,o)}function yX(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)wU(r,BSe(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(wU(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,wU(r,i),r}function BSe(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}iE=Cr.atob.bind(Cr),bU=Cr.btoa.bind(Cr);var _X="0123456789abcdef".split("");function NSe(n){for(var e="",t=0;t<4;t++)e+=_X[n>>8*t+4&15]+_X[n>>8*t&15];return e}function ISe(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function CU(n){return yX(n).map(ISe).join("")}var FSe="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var e=0;e<n.length;e++)n[e]=NSe(n[e]);return n.join("")}(yX("hello"));function Gg(n,e){if(FSe){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function xU(n,e){var t,r,i;if(n!==t){for(var o=(i=n,new Array(1+(256/n.length|0)+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var h=e.length,d=0,f=0,A="";for(l=0;l<h;l++)f=(f+(u=a[d=(d+1)%256]))%256,a[d]=a[f],a[f]=u,o=a[(a[d]+a[f])%256],A+=String.fromCharCode(e.charCodeAt(l)^o);return A}var bX={print:4,modify:8,copy:16,"annot-forms":32};function J_(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(void 0!==bX.perm)throw new Error("Invalid permission: "+a);i+=bX[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=CU(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=xU(this.encryptionKey,this.padding)}function e1(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function wX(n){if("object"!==(0,Js.A)(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,"string"!=typeof t||"function"!=typeof r||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],0===Object.keys(e[r]).length&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){Cr.console&&eo.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function YT(n){if(!(this instanceof YT))return new YT(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function CX(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Xv(n,e,t,r,i){if(!(this instanceof Xv))return new Xv(n,e,t,r,i);this.type="axial"===n?2:3,this.coords=e,this.colors=t,CX.call(this,r,i)}function t1(n,e,t,r,i){if(!(this instanceof t1))return new t1(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,CX.call(this,r,i)}function _r(n){var e,t="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;"object"===(0,Js.A)(n=n||{})&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,null!==(u=n.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(e=n.precision),void 0!==n.floatPrecision&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(!0===s?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=wX;var A="1.3",p=f.__private__.getPdfVersion=function(){return A};f.__private__.setPdfVersion=function(L){A=L};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return m};var g=f.__private__.getPageFormat=function(L){return m[L]};i=i||"a4";var v="compat";function _(){this.saveGraphicsState(),W(new Zn(st,0,0,-st,0,Im()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),c="n",v="advanced"}function C(){this.restoreGraphicsState(),c="S",v="compat"}var b=f.__private__.combineFontStyleAndFontWeight=function(L,ue){if("bold"==L&&"normal"==ue||"bold"==L&&400==ue||"normal"==L&&"italic"==ue||"bold"==L&&"italic"==ue)throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(L=400==ue||"normal"===ue?"italic"===L?"italic":"normal":700!=ue&&"bold"!==ue||"normal"!==L?(700==ue?"bold":ue)+""+L:"bold"),L};f.advancedAPI=function(L){var ue="compat"===v;return ue&&_.call(this),"function"!=typeof L||(L(this),ue&&C.call(this)),this},f.compatAPI=function(L){var ue="advanced"===v;return ue&&C.call(this),"function"!=typeof L||(L(this),ue&&_.call(this)),this},f.isAdvancedAPI=function(){return"advanced"===v};var M,D=function(L){if("advanced"!==v)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=f.roundToPrecision=f.__private__.roundToPrecision=function(L,ue){var Le=e||ue;if(isNaN(L)||isNaN(Le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Le).replace(/0+$/,"")};M=f.hpf=f.__private__.hpf="number"==typeof l?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return E(L,l)}:"smart"===l?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return E(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return E(L,16)};var T=f.f2=f.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return E(L,2)},B=f.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return E(L,3)},R=f.scale=f.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===v?L*st:"advanced"===v?L:void 0},k=function(L){return R(function(L){return"compat"===v?Im()-L:"advanced"===v?L:void 0}(L))};f.__private__.setPrecision=f.setPrecision=function(L){"number"==typeof parseInt(L,10)&&(e=parseInt(L,10))};var j,O="00000000000000000000000000000000",P=f.__private__.getFileId=function(){return O},G=f.__private__.setFileId=function(L){return O=void 0!==L&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():O.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(vc=new J_(u.userPermissions,u.userPassword,u.ownerPassword,O)),O};f.setFileId=function(L){return G(L),this},f.getFileId=function(){return P()};var H=f.__private__.convertDateToPDFDate=function(L){var ue=L.getTimezoneOffset(),Le=ue<0?"+":"-",ze=Math.floor(Math.abs(ue/60)),ot=Math.abs(ue%60),Mt=[Le,K(ze),"'",K(ot),"'"].join("");return["D:",L.getFullYear(),K(L.getMonth()+1),K(L.getDate()),K(L.getHours()),K(L.getMinutes()),K(L.getSeconds()),Mt].join("")},ae=f.__private__.convertPDFDateToDate=function(L){var ue=parseInt(L.substr(2,4),10),Le=parseInt(L.substr(6,2),10)-1,ze=parseInt(L.substr(8,2),10),ot=parseInt(L.substr(10,2),10),Mt=parseInt(L.substr(12,2),10),Jt=parseInt(L.substr(14,2),10);return new Date(ue,Le,ze,ot,Mt,Jt,0)},ve=f.__private__.setCreationDate=function(L){var ue;if(void 0===L&&(L=new Date),L instanceof Date)ue=H(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=L}return j=ue},Q=f.__private__.getCreationDate=function(L){var ue=j;return"jsDate"===L&&(ue=ae(j)),ue};f.setCreationDate=function(L){return ve(L),this},f.getCreationDate=function(L){return Q(L)};var q,K=f.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},oe=f.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},se=0,le=[],te=[],ee=0,Ae=[],xe=[],ge=!1,Ee=te;f.__private__.setCustomOutputDestination=function(L){ge=!0,Ee=L};var Y=function(L){ge||(Ee=L)};f.__private__.resetCustomOutputDestination=function(){ge=!1,Ee=te};var W=f.__private__.out=function(L){return L=L.toString(),ee+=L.length+1,Ee.push(L),Ee},Me=f.__private__.write=function(L){return W(1===arguments.length?L.toString():Array.prototype.join.call(arguments," "))},Ce=f.__private__.getArrayBuffer=function(L){for(var ue=L.length,Le=new ArrayBuffer(ue),ze=new Uint8Array(Le);ue--;)ze[ue]=L.charCodeAt(ue);return Le},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Pe};var Oe=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(L){return Oe="advanced"===v?L/st:L,this};var re,Z=f.__private__.getFontSize=f.getFontSize=function(){return"compat"===v?Oe:Oe*st},Ue=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(L){return Ue=L,this},f.__private__.getR2L=f.getR2L=function(){return Ue};var Qe,rt=f.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))re=L;else if(isNaN(L)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');re=L}else re=parseInt(L,10)};f.__private__.getZoomMode=function(){return re};var Xe,Pt=f.__private__.setPageMode=function(L){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Qe=L};f.__private__.getPageMode=function(){return Qe};var Ft=f.__private__.setLayoutMode=function(L){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Xe=L};f.__private__.getLayoutMode=function(){return Xe},f.__private__.setDisplayMode=f.setDisplayMode=function(L,ue,Le){return rt(L),Ft(ue),Pt(Le),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(L){if(-1===Object.keys(Tt).indexOf(L))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[L]},f.__private__.getDocumentProperties=function(){return Tt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(L){for(var ue in Tt)Tt.hasOwnProperty(ue)&&L[ue]&&(Tt[ue]=L[ue]);return this},f.__private__.setDocumentProperty=function(L,ue){if(-1===Object.keys(Tt).indexOf(L))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[L]=ue};var yn,st,vn,pn,_n,tn={},$={},Ie=[],Ke={},Te={},yt={},nt={},Dt=null,an=0,Vt=[],Rn=new wX(f),Ts=n.hotfixes||[],Xi={},gi={},Ko=[],Zn=function L(ue,Le,ze,ot,Mt,Jt){if(!(this instanceof L))return new L(ue,Le,ze,ot,Mt,Jt);isNaN(ue)&&(ue=1),isNaN(Le)&&(Le=0),isNaN(ze)&&(ze=0),isNaN(ot)&&(ot=1),isNaN(Mt)&&(Mt=0),isNaN(Jt)&&(Jt=0),this._matrix=[ue,Le,ze,ot,Mt,Jt]};Object.defineProperty(Zn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Zn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Zn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Zn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Zn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Zn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Zn.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Zn.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Zn.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Zn.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Zn.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Zn.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Zn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Zn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Zn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Zn.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Zn.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(L)},Zn.prototype.multiply=function(L){return new Zn(L.sx*this.sx+L.shy*this.shx,L.sx*this.shy+L.shy*this.sy,L.shx*this.sx+L.sy*this.shx,L.shx*this.shy+L.sy*this.sy,L.tx*this.sx+L.ty*this.shx+this.tx,L.tx*this.shy+L.ty*this.sy+this.ty)},Zn.prototype.decompose=function(){var L=this.sx,ue=this.shy,Le=this.shx,ze=this.sy,ot=this.tx,Mt=this.ty,Jt=Math.sqrt(L*L+ue*ue),On=(L/=Jt)*Le+(ue/=Jt)*ze;Le-=L*On,ze-=ue*On;var sr=Math.sqrt(Le*Le+ze*ze);return On/=sr,L*(ze/=sr)<ue*(Le/=sr)&&(L=-L,ue=-ue,On=-On,Jt=-Jt),{scale:new Zn(Jt,0,0,sr,0,0),translate:new Zn(1,0,0,1,ot,Mt),rotate:new Zn(L,ue,-ue,L,0,0),skew:new Zn(1,0,On,1,0,0)}},Zn.prototype.toString=function(L){return this.join(" ")},Zn.prototype.inversed=function(){var L=this.sx,ue=this.shy,Le=this.shx,ze=this.sy,ot=this.tx,Mt=this.ty,Jt=1/(L*ze-ue*Le),On=ze*Jt,sr=-ue*Jt,Xr=-Le*Jt,Wr=L*Jt;return new Zn(On,sr,Xr,Wr,-On*ot-Xr*Mt,-sr*ot-Wr*Mt)},Zn.prototype.applyToPoint=function(L){return new jb(L.x*this.sx+L.y*this.shx+this.tx,L.x*this.shy+L.y*this.sy+this.ty)},Zn.prototype.applyToRectangle=function(L){var ue=this.applyToPoint(L),Le=this.applyToPoint(new jb(L.x+L.w,L.y+L.h));return new NS(ue.x,ue.y,Le.x-ue.x,Le.y-ue.y)},Zn.prototype.clone=function(){return new Zn(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},f.Matrix=Zn;var Bu=f.matrixMult=function(L,ue){return ue.multiply(L)},fh=new Zn(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=fh;var Xo=function(L,ue){if(!Te[L]){var Le=(ue instanceof Xv?"Sh":"P")+(Object.keys(Ke).length+1).toString(10);ue.id=Le,Te[L]=Le,Ke[Le]=ue,Rn.publish("addPattern",ue)}};f.ShadingPattern=Xv,f.TilingPattern=t1,f.addShadingPattern=function(L,ue){return D("addShadingPattern()"),Xo(L,ue),this},f.beginTilingPattern=function(L){D("beginTilingPattern()"),HF(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},f.endTilingPattern=function(L,ue){D("endTilingPattern()"),ue.stream=xe[q].join("\n"),Xo(L,ue),Rn.publish("endTilingPattern",ue),Ko.pop().restore()};var L,Po=f.__private__.newObject=function(){var L=Lo();return pc(L,!0),L},Lo=f.__private__.newObjectDeferred=function(){return se++,le[se]=function(){return ee},se},pc=function(L,ue){return ue="boolean"==typeof ue&&ue,le[L]=ee,ue&&W(L+" 0 obj"),L},hd=f.__private__.newAdditionalObject=function(){var L={objId:Lo(),content:""};return Ae.push(L),L},nf=Lo(),gc=Lo(),Nu=f.__private__.decodeColorString=function(L){var ue=L.split(" ");if(2!==ue.length||"g"!==ue[1]&&"G"!==ue[1])5===ue.length&&("k"===ue[4]||"K"===ue[4])&&(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var Le=parseFloat(ue[0]);ue=[Le,Le,Le,"r"]}for(var ze="#",ot=0;ot<3;ot++)ze+=("0"+Math.floor(255*parseFloat(ue[ot])).toString(16)).slice(-2);return ze},Iu=f.__private__.encodeColorString=function(L){var ue;"string"==typeof L&&(L={ch1:L});var Le=L.ch1,ze=L.ch2,ot=L.ch3,Mt=L.ch4,Jt="draw"===L.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Le&&"#"!==Le.charAt(0)){var On=new vX(Le);if(On.ok)Le=On.toHex();else if(!/^\d*\.?\d*$/.test(Le))throw new Error('Invalid color "'+Le+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Le&&/^#[0-9A-Fa-f]{3}$/.test(Le)&&(Le="#"+Le[1]+Le[1]+Le[2]+Le[2]+Le[3]+Le[3]),"string"==typeof Le&&/^#[0-9A-Fa-f]{6}$/.test(Le)){var sr=parseInt(Le.substr(1),16);Le=sr>>16&255,ze=sr>>8&255,ot=255&sr}if(void 0===ze||void 0===Mt&&Le===ze&&ze===ot)ue="string"==typeof Le?Le+" "+Jt[0]:2===L.precision?T(Le/255)+" "+Jt[0]:B(Le/255)+" "+Jt[0];else if(void 0===Mt||"object"===(0,Js.A)(Mt)){if(Mt&&!isNaN(Mt.a)&&0===Mt.a)return["1.","1.","1.",Jt[1]].join(" ");ue="string"==typeof Le?[Le,ze,ot,Jt[1]].join(" "):2===L.precision?[T(Le/255),T(ze/255),T(ot/255),Jt[1]].join(" "):[B(Le/255),B(ze/255),B(ot/255),Jt[1]].join(" ")}else ue="string"==typeof Le?[Le,ze,ot,Mt,Jt[2]].join(" "):2===L.precision?[T(Le),T(ze),T(ot),T(Mt),Jt[2]].join(" "):[B(Le),B(ze),B(ot),B(Mt),Jt[2]].join(" ");return ue},rf=f.__private__.getFilters=function(){return o},Fu=f.__private__.putStream=function(L){var ue=(L=L||{}).data||"",Le=L.filters||rf(),ze=L.alreadyAppliedFilters||[],ot=L.addLength1||!1,Mt=ue.length,Jt=L.objectId,On=function(yc){return yc};if(null!==u&&void 0===Jt)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(On=vc.encryptor(Jt,0));var sr={};!0===Le&&(Le=["FlateEncode"]);var Xr=L.additionalKeyValues||[],Wr=(sr=void 0!==_r.API.processDataByFilters?_r.API.processDataByFilters(ue,Le):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray(ze)?ze.join(" "):ze.toString());if(0!==sr.data.length&&(Xr.push({key:"Length",value:sr.data.length}),!0===ot&&Xr.push({key:"Length1",value:Mt})),0!=Wr.length)if(Wr.split("/").length-1==1)Xr.push({key:"Filter",value:Wr});else{Xr.push({key:"Filter",value:"["+Wr+"]"});for(var Yi=0;Yi<Xr.length;Yi+=1)if("DecodeParms"===Xr[Yi].key){for(var Uo=[],Zo=0;Zo<sr.reverseChain.split("/").length-1;Zo+=1)Uo.push("null");Uo.push(Xr[Yi].value),Xr[Yi].value="["+Uo.join(" ")+"]"}}W("<<");for(var Fa=0;Fa<Xr.length;Fa++)W("/"+Xr[Fa].key+" "+Xr[Fa].value);W(">>"),0!==sr.data.length&&(W("stream"),W(On(sr.data)),W("endstream"))},sf=f.__private__.putPage=function(L){var ue=L.number,Le=L.data,ze=L.objId,ot=L.contentsObjId;pc(ze,!0),W("<</Type /Page"),W("/Parent "+L.rootDictionaryObjId+" 0 R"),W("/Resources "+L.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(M(L.mediaBox.bottomLeftX))+" "+parseFloat(M(L.mediaBox.bottomLeftY))+" "+M(L.mediaBox.topRightX)+" "+M(L.mediaBox.topRightY)+"]"),null!==L.cropBox&&W("/CropBox ["+M(L.cropBox.bottomLeftX)+" "+M(L.cropBox.bottomLeftY)+" "+M(L.cropBox.topRightX)+" "+M(L.cropBox.topRightY)+"]"),null!==L.bleedBox&&W("/BleedBox ["+M(L.bleedBox.bottomLeftX)+" "+M(L.bleedBox.bottomLeftY)+" "+M(L.bleedBox.topRightX)+" "+M(L.bleedBox.topRightY)+"]"),null!==L.trimBox&&W("/TrimBox ["+M(L.trimBox.bottomLeftX)+" "+M(L.trimBox.bottomLeftY)+" "+M(L.trimBox.topRightX)+" "+M(L.trimBox.topRightY)+"]"),null!==L.artBox&&W("/ArtBox ["+M(L.artBox.bottomLeftX)+" "+M(L.artBox.bottomLeftY)+" "+M(L.artBox.topRightX)+" "+M(L.artBox.topRightY)+"]"),"number"==typeof L.userUnit&&1!==L.userUnit&&W("/UserUnit "+L.userUnit),Rn.publish("putPage",{objId:ze,pageContext:Vt[ue],pageNumber:ue,page:Le}),W("/Contents "+ot+" 0 R"),W(">>"),W("endobj");var Mt=Le.join("\n");return"advanced"===v&&(Mt+="\nQ"),pc(ot,!0),Fu({data:Mt,filters:rf(),objectId:ot}),W("endobj"),ze},Bp=f.__private__.putPages=function(){var L,ue,Le=[];for(L=1;L<=an;L++)Vt[L].objId=Lo(),Vt[L].contentsObjId=Lo();for(L=1;L<=an;L++)Le.push(sf({number:L,data:xe[L],objId:Vt[L].objId,contentsObjId:Vt[L].contentsObjId,mediaBox:Vt[L].mediaBox,cropBox:Vt[L].cropBox,bleedBox:Vt[L].bleedBox,trimBox:Vt[L].trimBox,artBox:Vt[L].artBox,userUnit:Vt[L].userUnit,rootDictionaryObjId:nf,resourceDictionaryObjId:gc}));pc(nf,!0),W("<</Type /Pages");var ze="/Kids [";for(ue=0;ue<an;ue++)ze+=Le[ue]+" 0 R ";W(ze+"]"),W("/Count "+an),W(">>"),W("endobj"),Rn.publish("postPutPages")},Mm=function(L){Rn.publish("putFont",{font:L,out:W,newObject:Po,putStream:Fu}),!0!==L.isAlreadyPutted&&(L.objectNumber=Po(),W("<<"),W("/Type /Font"),W("/BaseFont /"+e1(L.postScriptName)),W("/Subtype /Type1"),"string"==typeof L.encoding&&W("/Encoding /"+L.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},et=function(L){L.objectNumber=Po();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[M(L.x),M(L.y),M(L.x+L.width),M(L.y+L.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Le=L.pages[1].join("\n");Fu({data:Le,additionalKeyValues:ue,objectId:L.objectNumber}),W("endobj")},it=function(L,ue){ue||(ue=21);var Le=Po(),ze=function(L,ue){var Le,ze=[],ot=1/(ue-1);for(Le=0;Le<1;Le+=ot)ze.push(Le);ze.push(1),0!=L[0].offset&&L.unshift({offset:0,color:L[0].color}),1!=L[L.length-1].offset&&L.push({offset:1,color:L[L.length-1].color});for(var On="",sr=0,Xr=0;Xr<ze.length;Xr++){for(Le=ze[Xr];Le>L[sr+1].offset;)sr++;var Wr=L[sr].offset,Yi=(Le-Wr)/(L[sr+1].offset-Wr),Uo=L[sr].color,Zo=L[sr+1].color;On+=oe(Math.round((1-Yi)*Uo[0]+Yi*Zo[0]).toString(16))+oe(Math.round((1-Yi)*Uo[1]+Yi*Zo[1]).toString(16))+oe(Math.round((1-Yi)*Uo[2]+Yi*Zo[2]).toString(16))}return On.trim()}(L.colors,ue),ot=[];ot.push({key:"FunctionType",value:"0"}),ot.push({key:"Domain",value:"[0.0 1.0]"}),ot.push({key:"Size",value:"["+ue+"]"}),ot.push({key:"BitsPerSample",value:"8"}),ot.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ot.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fu({data:ze,additionalKeyValues:ot,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Le}),W("endobj"),L.objectNumber=Po(),W("<< /ShadingType "+L.type),W("/ColorSpace /DeviceRGB");var Mt="/Coords ["+M(parseFloat(L.coords[0]))+" "+M(parseFloat(L.coords[1]))+" ";Mt+=2===L.type?M(parseFloat(L.coords[2]))+" "+M(parseFloat(L.coords[3])):M(parseFloat(L.coords[2]))+" "+M(parseFloat(L.coords[3]))+" "+M(parseFloat(L.coords[4]))+" "+M(parseFloat(L.coords[5])),W(Mt+="]"),L.matrix&&W("/Matrix ["+L.matrix.toString()+"]"),W("/Function "+Le+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},sn=function(L,ue){var Le=Lo(),ze=Po();ue.push({resourcesOid:Le,objectOid:ze}),L.objectNumber=ze;var ot=[];ot.push({key:"Type",value:"/Pattern"}),ot.push({key:"PatternType",value:"1"}),ot.push({key:"PaintType",value:"1"}),ot.push({key:"TilingType",value:"1"}),ot.push({key:"BBox",value:"["+L.boundingBox.map(M).join(" ")+"]"}),ot.push({key:"XStep",value:M(L.xStep)}),ot.push({key:"YStep",value:M(L.yStep)}),ot.push({key:"Resources",value:Le+" 0 R"}),L.matrix&&ot.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Fu({data:L.stream,additionalKeyValues:ot,objectId:L.objectNumber}),W("endobj")},Un=function(L){for(var ue in L.objectNumber=Po(),W("<<"),L)switch(ue){case"opacity":W("/ca "+T(L[ue]));break;case"stroke-opacity":W("/CA "+T(L[ue]))}W(">>"),W("endobj")},jr=function(L){pc(L.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var L in W("/Font <<"),tn)tn.hasOwnProperty(L)&&(!1===h||!0===h&&d.hasOwnProperty(L))&&W("/"+L+" "+tn[L].objectNumber+" 0 R");W(">>")}(),function(){if(Object.keys(Ke).length>0){for(var L in W("/Shading <<"),Ke)Ke.hasOwnProperty(L)&&Ke[L]instanceof Xv&&Ke[L].objectNumber>=0&&W("/"+L+" "+Ke[L].objectNumber+" 0 R");Rn.publish("putShadingPatternDict"),W(">>")}}(),function(L){if(Object.keys(Ke).length>0){for(var ue in W("/Pattern <<"),Ke)Ke.hasOwnProperty(ue)&&Ke[ue]instanceof f.TilingPattern&&Ke[ue].objectNumber>=0&&Ke[ue].objectNumber<L&&W("/"+ue+" "+Ke[ue].objectNumber+" 0 R");Rn.publish("putTilingPatternDict"),W(">>")}}(L.objectOid),function(){if(Object.keys(yt).length>0){var L;for(L in W("/ExtGState <<"),yt)yt.hasOwnProperty(L)&&yt[L].objectNumber>=0&&W("/"+L+" "+yt[L].objectNumber+" 0 R");Rn.publish("putGStateDict"),W(">>")}}(),function(){for(var L in W("/XObject <<"),Xi)Xi.hasOwnProperty(L)&&Xi[L].objectNumber>=0&&W("/"+L+" "+Xi[L].objectNumber+" 0 R");Rn.publish("putXobjectDict"),W(">>")}(),W(">>"),W("endobj")},Yo=function(L){$[L.fontName]=$[L.fontName]||{},$[L.fontName][L.fontStyle]=L.id},Fi=function(L,ue,Le,ze,ot){var Mt={id:"F"+(Object.keys(tn).length+1).toString(10),postScriptName:L,fontName:ue,fontStyle:Le,encoding:ze,isStandardFont:ot||!1,metadata:{}};return Rn.publish("addFont",{font:Mt,instance:this}),tn[Mt.id]=Mt,Yo(Mt),Mt.id},Na=f.__private__.pdfEscape=f.pdfEscape=function(L,ue){return function(L,ue){var Le,ze,ot,Mt,Jt,On,sr,Xr,Wr;if(ot=(ue=ue||{}).sourceEncoding||"Unicode",Jt=ue.outputEncoding,(ue.autoencode||Jt)&&tn[yn].metadata&&tn[yn].metadata[ot]&&tn[yn].metadata[ot].encoding&&(Mt=tn[yn].metadata[ot].encoding,!Jt&&tn[yn].encoding&&(Jt=tn[yn].encoding),!Jt&&Mt.codePages&&(Jt=Mt.codePages[0]),"string"==typeof Jt&&(Jt=Mt[Jt]),Jt)){for(sr=!1,On=[],Le=0,ze=L.length;Le<ze;Le++)(Xr=Jt[L.charCodeAt(Le)])?On.push(String.fromCharCode(Xr)):On.push(L[Le]),On[Le].charCodeAt(0)>>8&&(sr=!0);L=On.join("")}for(Le=L.length;void 0===sr&&0!==Le;)L.charCodeAt(Le-1)>>8&&(sr=!0),Le--;if(!sr)return L;for(On=ue.noBOM?[]:[254,255],Le=0,ze=L.length;Le<ze;Le++){if((Wr=(Xr=L.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");On.push(Wr),On.push(Xr-(Wr<<8))}return String.fromCharCode.apply(void 0,On)}(L,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bs=f.__private__.beginPage=function(L){xe[++an]=[],Vt[an]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Ia(an),Y(xe[q])},Ql=function(L,ue){var Le,ze,ot;switch(t=ue||t,"string"==typeof L&&(Le=g(L.toLowerCase()),Array.isArray(Le)&&(ze=Le[0],ot=Le[1])),Array.isArray(L)&&(ze=L[0]*st,ot=L[1]*st),isNaN(ze)&&(ze=i[0],ot=i[1]),(ze>14400||ot>14400)&&(eo.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ze=Math.min(14400,ze),ot=Math.min(14400,ot)),i=[ze,ot],t.substr(0,1)){case"l":ot>ze&&(i=[ot,ze]);break;case"p":ze>ot&&(i=[ot,ze])}Bs(i),OF(DS),W(dd),0!==TS&&W(TS+" J"),0!==BS&&W(BS+" j"),Rn.publish("addPage",{pageNumber:an})},mc=function(L){L>0&&L<=an&&(xe.splice(L,1),Vt.splice(L,1),an--,q>an&&(q=an),this.setPage(q))},Ia=function(L){L>0&&L<=an&&(q=L)},ml=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return xe.length-1},Tm=function(L,ue,Le){var ze,ot=void 0;return Le=Le||{},ue=void 0!==ue?ue:tn[yn].fontStyle,ze=(L=void 0!==L?L:tn[yn].fontName).toLowerCase(),void 0!==$[ze]&&void 0!==$[ze][ue]?ot=$[ze][ue]:void 0!==$[L]&&void 0!==$[L][ue]?ot=$[L][ue]:!1===Le.disableWarning&&eo.warn("Unable to look up font label for font '"+L+"', '"+ue+"'. Refer to getFontList() for available fonts."),ot||Le.noFallback||null==(ot=$.times[ue])&&(ot=$.times.normal),ot},fd=f.__private__.putInfo=function(){var L=Po(),ue=function(ze){return ze};for(var Le in null!==u&&(ue=vc.encryptor(L,0)),W("<<"),W("/Producer ("+Na(ue("jsPDF "+_r.version))+")"),Tt)Tt.hasOwnProperty(Le)&&Tt[Le]&&W("/"+Le.substr(0,1).toUpperCase()+Le.substr(1)+" ("+Na(ue(Tt[Le]))+")");W("/CreationDate ("+Na(ue(j))+")"),W(">>"),W("endobj")},xS=f.__private__.putCatalog=function(L){var ue=(L=L||{}).rootDictionaryObjId||nf;switch(Po(),W("<<"),W("/Type /Catalog"),W("/Pages "+ue+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Le=""+re;"%"===Le.substr(Le.length-1)&&(re=parseInt(re)/100),"number"==typeof re&&W("/OpenAction [3 0 R /XYZ null null "+T(re)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}Qe&&W("/PageMode /"+Qe),Rn.publish("putCatalog"),W(">>"),W("endobj")},S6=f.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(se+1)),W("/Root "+se+" 0 R"),W("/Info "+(se-1)+" 0 R"),null!==u&&W("/Encrypt "+vc.oid+" 0 R"),W("/ID [ <"+O+"> <"+O+"> ]"),W(">>")},D6=f.__private__.putHeader=function(){W("%PDF-"+A),W("%\xba\xdf\xac\xe0")},M6=f.__private__.putXRef=function(){var L="0000000000";W("xref"),W("0 "+(se+1)),W("0000000000 65535 f ");for(var ue=1;ue<=se;ue++)W("function"==typeof le[ue]?(L+le[ue]()).slice(-10)+" 00000 n ":void 0!==le[ue]?(L+le[ue]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Np=f.__private__.buildDocument=function(){se=0,ee=0,te=[],le=[],Ae=[],nf=Lo(),gc=Lo(),Y(te),Rn.publish("buildDocument"),D6(),Bp(),function(){Rn.publish("putAdditionalObjects");for(var L=0;L<Ae.length;L++){var ue=Ae[L];pc(ue.objId,!0),W(ue.content),W("endobj")}Rn.publish("postPutAdditionalObjects")}(),function(){var L=[];(function(){for(var L in tn)tn.hasOwnProperty(L)&&(!1===h||!0===h&&d.hasOwnProperty(L))&&Mm(tn[L])})(),function(){var L;for(L in yt)yt.hasOwnProperty(L)&&Un(yt[L])}(),function(){for(var L in Xi)Xi.hasOwnProperty(L)&&et(Xi[L])}(),function(L){var ue;for(ue in Ke)Ke.hasOwnProperty(ue)&&(Ke[ue]instanceof Xv?it(Ke[ue]):Ke[ue]instanceof t1&&sn(Ke[ue],L))}(L),Rn.publish("putResources"),L.forEach(jr),jr({resourcesOid:gc,objectOid:Number.MAX_SAFE_INTEGER}),Rn.publish("postPutResources")}(),null!==u&&(vc.oid=Po(),W("<<"),W("/Filter /Standard"),W("/V "+vc.v),W("/R "+vc.r),W("/U <"+vc.toHexString(vc.U)+">"),W("/O <"+vc.toHexString(vc.O)+">"),W("/P "+vc.P),W(">>"),W("endobj")),fd(),xS();var L=ee;return M6(),S6(),W("startxref"),W(""+L),W("%%EOF"),Y(xe[q]),te.join("\n")},Vb=f.__private__.getBlob=function(L){return new Blob([Ce(L)],{type:"application/pdf"})},Qb=f.output=f.__private__.output=((L=function(L,ue){switch("string"==typeof(ue=ue||{})?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",L){case void 0:return Np();case"save":f.save(ue.filename);break;case"arraybuffer":return Ce(Np());case"blob":return Vb(Np());case"bloburi":case"bloburl":if(void 0!==Cr.URL&&"function"==typeof Cr.URL.createObjectURL)return Cr.URL&&Cr.URL.createObjectURL(Vb(Np()))||void 0;eo.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Le="",ze=Np();try{Le=bU(ze)}catch{Le=bU(unescape(encodeURIComponent(ze)))}return"data:application/pdf;filename="+ue.filename+";base64,"+Le;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Cr)){var ot="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Mt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(ot=ue.pdfObjectUrl,Mt="");var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ot+'"'+Mt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",On=Cr.open();return null!==On&&On.document.write(Jt),On}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Cr)){var sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',Xr=Cr.open();if(null!==Xr){Xr.document.write(sr);var Wr=this;Xr.document.documentElement.querySelector("#pdfViewer").onload=function(){Xr.document.title=ue.filename,Xr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Wr.output("bloburl"))}}return Xr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Cr))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',Uo=Cr.open();if(null!==Uo&&(Uo.document.write(Yi),Uo.document.title=ue.filename),Uo||typeof safari>"u")return Uo;break;case"datauri":case"dataurl":return Cr.document.location.href=this.output("datauristring",ue);default:return null}}).foo=function(){try{return L.apply(this,arguments)}catch(ze){var ue=ze.stack||"";~ue.indexOf(" at ")&&(ue=ue.split(" at ")[1]);var Le="Error in function "+ue.split("\n")[0].split("<")[0]+": "+ze.message;if(!Cr.console)throw new Error(Le);Cr.console.error(Le,ze),Cr.alert&&alert(Le)}},L.foo.bar=L,L.foo),NF=function(L){return!0===Array.isArray(Ts)&&Ts.indexOf(L)>-1};switch(r){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=1==NF("px_scaling")?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);st=r}var vc=null;ve(),G();var IF=f.__private__.getPageInfo=f.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[L].objId,pageNumber:L,pageContext:Vt[L]}},Hr=f.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in Vt)if(Vt[ue].objId===L)break;return IF(ue)},B6=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Vt[q].objId,pageNumber:q,pageContext:Vt[q]}};f.addPage=function(){return Ql.apply(this,arguments),this},f.setPage=function(){return Ia.apply(this,arguments),Y.call(this,xe[q]),this},f.insertPage=function(L){return this.addPage(),this.movePage(q,L),this},f.movePage=function(L,ue){var Le,ze;if(L>ue){Le=xe[L],ze=Vt[L];for(var ot=L;ot>ue;ot--)xe[ot]=xe[ot-1],Vt[ot]=Vt[ot-1];xe[ue]=Le,Vt[ue]=ze,this.setPage(ue)}else if(L<ue){Le=xe[L],ze=Vt[L];for(var Mt=L;Mt<ue;Mt++)xe[Mt]=xe[Mt+1],Vt[Mt]=Vt[Mt+1];xe[ue]=Le,Vt[ue]=ze,this.setPage(ue)}return this},f.deletePage=function(){return mc.apply(this,arguments),this},f.__private__.text=f.text=function(L,ue,Le,ze,ot){var Mt,Jt,On,sr,Xr,Wr,Yi,Uo,Zo,Fa=(ze=ze||{}).scope||this;if("number"==typeof L&&"number"==typeof ue&&("string"==typeof Le||Array.isArray(Le))){var yc=Le;Le=ue,ue=L,L=yc}if(arguments[3]instanceof Zn?(D("The transform parameter of text() with a Matrix value"),Zo=ot):(On=arguments[4],sr=arguments[5],"object"===(0,Js.A)(Yi=arguments[3])&&null!==Yi||("string"==typeof On&&(sr=On,On=null),"string"==typeof Yi&&(sr=Yi,Yi=null),"number"==typeof Yi&&(On=Yi,Yi=null),ze={flags:Yi,angle:On,align:sr})),isNaN(ue)||isNaN(Le)||null==L)throw new Error("Invalid arguments passed to jsPDF.text");if(0===L.length)return Fa;var Ad,vl="",dh="number"==typeof ze.lineHeightFactor?ze.lineHeightFactor:Z0,fA=Fa.internal.scaleFactor;function VF(fo){return fo=fo.split("\t").join(Array(ze.TabLen||9).join(" ")),Na(fo,Yi)}function OS(fo){for(var Ao,pa=fo.concat(),Ya=[],Pp=pa.length;Pp--;)"string"==typeof(Ao=pa.shift())?Ya.push(Ao):Array.isArray(fo)&&(1===Ao.length||void 0===Ao[1]&&void 0===Ao[2])?Ya.push(Ao[0]):Ya.push([Ao[0],Ao[1],Ao[2]]);return Ya}function PS(fo,Ao){var pa;if("string"==typeof fo)pa=Ao(fo)[0];else if(Array.isArray(fo)){for(var Ya,Pp,GS=fo.concat(),rw=[],jF=GS.length;jF--;)"string"==typeof(Ya=GS.shift())?rw.push(Ao(Ya)[0]):Array.isArray(Ya)&&"string"==typeof Ya[0]&&(Pp=Ao(Ya[0],Ya[1],Ya[2]),rw.push([Pp[0],Pp[1],Pp[2]]));pa=rw}return pa}var $b=!1,LS=!0;if("string"==typeof L)$b=!0;else if(Array.isArray(L)){var US=L.concat();Jt=[];for(var Kb,zl=US.length;zl--;)("string"!=typeof(Kb=US.shift())||Array.isArray(Kb)&&"string"!=typeof Kb[0])&&(LS=!1);$b=LS}if(!1===$b)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');"string"==typeof L&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Xb=Oe/Fa.internal.scaleFactor,Yb=Xb*(dh-1);switch(ze.baseline){case"bottom":Le-=Yb;break;case"top":Le+=Xb-Yb;break;case"hanging":Le+=Xb-2*Yb;break;case"middle":Le+=Xb/2-Yb}if((Wr=ze.maxWidth||0)>0&&("string"==typeof L?L=Fa.splitTextToSize(L,Wr):"[object Array]"===Object.prototype.toString.call(L)&&(L=L.reduce(function(fo,Ao){return fo.concat(Fa.splitTextToSize(Ao,Wr))},[]))),Rn.publish("preProcessText",Mt={text:L,x:ue,y:Le,options:ze,mutex:{pdfEscape:Na,activeFontKey:yn,fonts:tn,activeFontSize:Oe}}),L=Mt.text,On=(ze=Mt.options).angle,Zo instanceof Zn||!On||"number"!=typeof On)On&&On instanceof Zn&&(Zo=On);else{On*=Math.PI/180,0===ze.rotationDirection&&(On=-On),"advanced"===v&&(On=-On);var Zb=Math.cos(On),kS=Math.sin(On);Zo=new Zn(Zb,kS,-kS,Zb,0,0)}"advanced"!==v||Zo||(Zo=fh),void 0!==(Xr=ze.charSpace||qb)&&(vl+=M(R(Xr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Uo=ze.horizontalScale)&&(vl+=M(100*Uo)+" Tz\n");var Ru=-1,H6=void 0!==ze.renderingMode?ze.renderingMode:ze.stroke,HS=Fa.internal.getCurrentPageInfo().pageContext;switch(H6){case 0:case!1:case"fill":Ru=0;break;case 1:case!0:case"stroke":Ru=1;break;case 2:case"fillThenStroke":Ru=2;break;case 3:case"invisible":Ru=3;break;case 4:case"fillAndAddForClipping":Ru=4;break;case 5:case"strokeAndAddPathForClipping":Ru=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ru=6;break;case 7:case"addToPathForClipping":Ru=7}-1!==Ru?vl+=Ru+" Tr\n":-1!==(void 0!==HS.usedRenderingMode?HS.usedRenderingMode:-1)&&(vl+="0 Tr\n"),-1!==Ru&&(HS.usedRenderingMode=Ru),sr=ze.align||"left";var af,Jb=Oe*dh,zF=Fa.internal.pageSize.getWidth(),GF=tn[yn];Xr=ze.charSpace||qb,Wr=ze.maxWidth||0,Yi=Object.assign({autoencode:!0,noBOM:!0},ze.flags);var Fm=[],ty=function(fo){return Fa.getStringUnitWidth(fo,{font:GF,charSpace:Xr,fontSize:Oe,doKerning:!1})*Oe/fA};if("[object Array]"===Object.prototype.toString.call(L)){var Ou;Jt=OS(L),"left"!==sr&&(af=Jt.map(ty));var Yc,Rm=0;if("right"===sr){ue-=af[0],L=[],zl=Jt.length;for(var Fp=0;Fp<zl;Fp++)0===Fp?(Yc=hA(ue),Ou=Ip(Le)):(Yc=R(Rm-af[Fp]),Ou=-Jb),L.push([Jt[Fp],Yc,Ou]),Rm=af[Fp]}else if("center"===sr){ue-=af[0]/2,L=[],zl=Jt.length;for(var Rp=0;Rp<zl;Rp++)0===Rp?(Yc=hA(ue),Ou=Ip(Le)):(Yc=R((Rm-af[Rp])/2),Ou=-Jb),L.push([Jt[Rp],Yc,Ou]),Rm=af[Rp]}else if("left"===sr){L=[],zl=Jt.length;for(var ew=0;ew<zl;ew++)L.push(Jt[ew])}else if("justify"===sr&&"Identity-H"===GF.encoding){L=[],zl=Jt.length,Wr=0!==Wr?Wr:zF;for(var Op=0,Aa=0;Aa<zl;Aa++)if(Ou=0===Aa?Ip(Le):-Jb,Yc=0===Aa?hA(ue):Op,Aa<zl-1){var VS=R((Wr-af[Aa])/(Jt[Aa].split(" ").length-1)),Zc=Jt[Aa].split(" ");L.push([Zc[0]+" ",Yc,Ou]),Op=0;for(var lf=1;lf<Zc.length;lf++){var tw=(ty(Zc[lf-1]+" "+Zc[lf])-ty(Zc[lf]))*fA+VS;L.push(lf==Zc.length-1?[Zc[lf],tw,0]:[Zc[lf]+" ",tw,0]),Op-=tw}}else L.push([Jt[Aa],Yc,Ou]);L.push(["",Op,0])}else{if("justify"!==sr)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],zl=Jt.length,Wr=0!==Wr?Wr:zF,Aa=0;Aa<zl;Aa++)Ou=0===Aa?Ip(Le):-Jb,Yc=0===Aa?hA(ue):0,Fm.push(Aa<zl-1?M(R((Wr-af[Aa])/(Jt[Aa].split(" ").length-1))):0),L.push([Jt[Aa],Yc,Ou])}}!0===("boolean"==typeof ze.R2L?ze.R2L:Ue)&&(L=PS(L,function(fo,Ao,pa){return[fo.split("").reverse().join(""),Ao,pa]})),Rn.publish("postProcessText",Mt={text:L,x:ue,y:Le,options:ze,mutex:{pdfEscape:Na,activeFontKey:yn,fonts:tn,activeFontSize:Oe}}),L=Mt.text,Ad=Mt.mutex.isHex||!1;var QS=tn[yn].encoding;"WinAnsiEncoding"!==QS&&"StandardEncoding"!==QS||(L=PS(L,function(fo,Ao,pa){return[VF(fo),Ao,pa]})),Jt=OS(L),L=[];for(var ny,ry,Om,sy=Array.isArray(Jt[0])?1:0,Pm="",zS=function(fo,Ao,pa){var Ya="";return pa instanceof Zn?(pa="number"==typeof ze.angle?Bu(pa,new Zn(1,0,0,1,fo,Ao)):Bu(new Zn(1,0,0,1,fo,Ao),pa),"advanced"===v&&(pa=Bu(new Zn(1,0,0,-1,0,0),pa)),Ya=pa.join(" ")+" Tm\n"):Ya=M(fo)+" "+M(Ao)+" Td\n",Ya},cf=0;cf<Jt.length;cf++){switch(Pm="",sy){case 1:Om=(Ad?"<":"(")+Jt[cf][0]+(Ad?">":")"),ny=parseFloat(Jt[cf][1]),ry=parseFloat(Jt[cf][2]);break;case 0:Om=(Ad?"<":"(")+Jt[cf]+(Ad?">":")"),ny=hA(ue),ry=Ip(Le)}void 0!==Fm&&void 0!==Fm[cf]&&(Pm=Fm[cf]+" Tw\n"),0===cf?L.push(Pm+zS(ny,ry,Zo)+Om):0===sy?L.push(Pm+Om):1===sy&&L.push(Pm+zS(ny,ry,Zo)+Om)}L=L.join(0===sy?" Tj\nT* ":" Tj\n"),L+=" Tj\n";var uf="BT\n/";return uf+=yn+" "+Oe+" Tf\n",uf+=M(Oe*dh)+" TL\n",uf+=J0+"\n",uf+=vl,uf+=L,W(uf+="ET"),d[yn]=!0,Fa};var N6=f.__private__.clip=f.clip=function(L){return W("evenodd"===L?"W*":"W"),this};f.clipEvenOdd=function(){return N6("evenodd")},f.__private__.discardPath=f.discardPath=function(){return W("n"),this};var uA=f.__private__.isValidStyle=function(L){var ue=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)&&(ue=!0),ue};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(L){return uA(L)&&(c=L),this};var FF=f.__private__.getStyle=f.getStyle=function(L){var ue=c;switch(L){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=L}return ue},RF=f.close=function(){return W("h"),this};f.stroke=function(){return W("S"),this},f.fill=function(L){return zb("f",L),this},f.fillEvenOdd=function(L){return zb("f*",L),this},f.fillStroke=function(L){return zb("B",L),this},f.fillStrokeEvenOdd=function(L){return zb("B*",L),this};var zb=function(L,ue){"object"===(0,Js.A)(ue)?F6(ue,L):W(L)},ES=function(L){null===L||"advanced"===v&&void 0===L||(L=FF(L),W(L))};function I6(L,ue,Le,ze,ot){var Mt=new t1(ue||this.boundingBox,Le||this.xStep,ze||this.yStep,this.gState,ot||this.matrix);Mt.stream=this.stream;var Jt=L+"$$"+this.cloneIndex+++"$$";return Xo(Jt,Mt),Mt}var F6=function(L,ue){var Le=Te[L.key],ze=Ke[Le];if(ze instanceof Xv)W("q"),W(R6(ue)),ze.gState&&f.setGState(ze.gState),W(L.matrix.toString()+" cm"),W("/"+Le+" sh"),W("Q");else if(ze instanceof t1){var ot=new Zn(1,0,0,-1,0,Im());L.matrix&&(ot=ot.multiply(L.matrix||fh),Le=I6.call(ze,L.key,L.boundingBox,L.xStep,L.yStep,ot).id),W("q"),W("/Pattern cs"),W("/"+Le+" scn"),ze.gState&&f.setGState(ze.gState),W(ue),W("Q")}},R6=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},SS=f.moveTo=function(L,ue){return W(M(R(L))+" "+M(k(ue))+" m"),this},Y0=f.lineTo=function(L,ue){return W(M(R(L))+" "+M(k(ue))+" l"),this},Bm=f.curveTo=function(L,ue,Le,ze,ot,Mt){return W([M(R(L)),M(k(ue)),M(R(Le)),M(k(ze)),M(R(ot)),M(k(Mt)),"c"].join(" ")),this};f.__private__.line=f.line=function(L,ue,Le,ze,ot){if(isNaN(L)||isNaN(ue)||isNaN(Le)||isNaN(ze)||!uA(ot))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===v?this.lines([[Le-L,ze-ue]],L,ue,[1,1],ot||"S"):this.lines([[Le-L,ze-ue]],L,ue,[1,1]).stroke()},f.__private__.lines=f.lines=function(L,ue,Le,ze,ot,Mt){var Jt,On,sr,Xr,Wr,yc,vl,Ad;if("number"==typeof L&&(Ad=Le,Le=ue,ue=L,L=Ad),ze=ze||[1,1],Mt=Mt||!1,isNaN(ue)||isNaN(Le)||!Array.isArray(L)||!Array.isArray(ze)||!uA(ot)||"boolean"!=typeof Mt)throw new Error("Invalid arguments passed to jsPDF.lines");for(SS(ue,Le),Jt=ze[0],On=ze[1],Xr=L.length,yc=ue,vl=Le,sr=0;sr<Xr;sr++)2===(Wr=L[sr]).length?Y0(yc=Wr[0]*Jt+yc,vl=Wr[1]*On+vl):Bm(Wr[0]*Jt+yc,Wr[1]*On+vl,Wr[2]*Jt+yc,Wr[3]*On+vl,yc=Wr[4]*Jt+yc,vl=Wr[5]*On+vl);return Mt&&RF(),ES(ot),this},f.path=function(L){for(var ue=0;ue<L.length;ue++){var Le=L[ue],ze=Le.c;switch(Le.op){case"m":SS(ze[0],ze[1]);break;case"l":Y0(ze[0],ze[1]);break;case"c":Bm.apply(this,ze);break;case"h":RF()}}return this},f.__private__.rect=f.rect=function(L,ue,Le,ze,ot){if(isNaN(L)||isNaN(ue)||isNaN(Le)||isNaN(ze)||!uA(ot))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===v&&(ze=-ze),W([M(R(L)),M(k(ue)),M(R(Le)),M(R(ze)),"re"].join(" ")),ES(ot),this},f.__private__.triangle=f.triangle=function(L,ue,Le,ze,ot,Mt,Jt){if(isNaN(L)||isNaN(ue)||isNaN(Le)||isNaN(ze)||isNaN(ot)||isNaN(Mt)||!uA(Jt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Le-L,ze-ue],[ot-Le,Mt-ze],[L-ot,ue-Mt]],L,ue,[1,1],Jt,!0),this},f.__private__.roundedRect=f.roundedRect=function(L,ue,Le,ze,ot,Mt,Jt){if(isNaN(L)||isNaN(ue)||isNaN(Le)||isNaN(ze)||isNaN(ot)||isNaN(Mt)||!uA(Jt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var On=4/3*(Math.SQRT2-1);return ot=Math.min(ot,.5*Le),Mt=Math.min(Mt,.5*ze),this.lines([[Le-2*ot,0],[ot*On,0,ot,Mt-Mt*On,ot,Mt],[0,ze-2*Mt],[0,Mt*On,-ot*On,Mt,-ot,Mt],[2*ot-Le,0],[-ot*On,0,-ot,-Mt*On,-ot,-Mt],[0,2*Mt-ze],[0,-Mt*On,ot*On,-Mt,ot,-Mt]],L+ot,ue,[1,1],Jt,!0),this},f.__private__.ellipse=f.ellipse=function(L,ue,Le,ze,ot){if(isNaN(L)||isNaN(ue)||isNaN(Le)||isNaN(ze)||!uA(ot))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Mt=4/3*(Math.SQRT2-1)*Le,Jt=4/3*(Math.SQRT2-1)*ze;return SS(L+Le,ue),Bm(L+Le,ue-Jt,L+Mt,ue-ze,L,ue-ze),Bm(L-Mt,ue-ze,L-Le,ue-Jt,L-Le,ue),Bm(L-Le,ue+Jt,L-Mt,ue+ze,L,ue+ze),Bm(L+Mt,ue+ze,L+Le,ue+Jt,L+Le,ue),ES(ot),this},f.__private__.circle=f.circle=function(L,ue,Le,ze){if(isNaN(L)||isNaN(ue)||isNaN(Le)||!uA(ze))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,ue,Le,Le,ze)},f.setFont=function(L,ue,Le){return Le&&(ue=b(ue,Le)),yn=Tm(L,ue,{disableWarning:!1}),this};var O6=f.__private__.getFont=f.getFont=function(){return tn[Tm.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var L,ue,Le={};for(L in $)if($.hasOwnProperty(L))for(ue in Le[L]=[],$[L])$[L].hasOwnProperty(ue)&&Le[L].push(ue);return Le},f.addFont=function(L,ue,Le,ze,ot){var Mt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Mt.indexOf(arguments[3])?ot=arguments[3]:arguments[3]&&-1==Mt.indexOf(arguments[3])&&(Le=b(Le,ze)),Fi.call(this,L,ue,Le,ot=ot||"Identity-H")};var Z0,DS=n.lineWidth||.200025,Gb=f.__private__.getLineWidth=f.getLineWidth=function(){return DS},OF=f.__private__.setLineWidth=f.setLineWidth=function(L){return DS=L,W(M(R(L))+" w"),this};f.__private__.setLineDash=_r.API.setLineDash=_r.API.setLineDashPattern=function(L,ue){if(L=L||[],ue=ue||0,isNaN(ue)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Le){return M(R(Le))}).join(" "),ue=M(R(ue)),W("["+L+"] "+ue+" d"),this};var PF=f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*Z0};f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*Z0};var LF=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(L){return"number"==typeof(L=L||1.15)&&(Z0=L),this},UF=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Z0};LF(n.lineHeight);var hA=f.__private__.getHorizontalCoordinate=function(L){return R(L)},Ip=f.__private__.getVerticalCoordinate=function(L){return"advanced"===v?L:Vt[q].mediaBox.topRightY-Vt[q].mediaBox.bottomLeftY-R(L)},P6=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(L){return M(hA(L))},Nm=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(L){return M(Ip(L))},dd=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Nu(dd)},f.__private__.setStrokeColor=f.setDrawColor=function(L,ue,Le,ze){return dd=Iu({ch1:L,ch2:ue,ch3:Le,ch4:ze,pdfColorType:"draw",precision:2}),W(dd),this};var MS=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Nu(MS)},f.__private__.setFillColor=f.setFillColor=function(L,ue,Le,ze){return MS=Iu({ch1:L,ch2:ue,ch3:Le,ch4:ze,pdfColorType:"fill",precision:2}),W(MS),this};var J0=n.textColor||"0 g",L6=f.__private__.getTextColor=f.getTextColor=function(){return Nu(J0)};f.__private__.setTextColor=f.setTextColor=function(L,ue,Le,ze){return J0=Iu({ch1:L,ch2:ue,ch3:Le,ch4:ze,pdfColorType:"text",precision:3}),this};var qb=n.charSpace,U6=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(qb||0)};f.__private__.setCharSpace=f.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return qb=L,this};var TS=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(L){var ue=f.CapJoinStyles[L];if(void 0===ue)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return TS=ue,W(ue+" J"),this};var BS=0;f.__private__.setLineJoin=f.setLineJoin=function(L){var ue=f.CapJoinStyles[L];if(void 0===ue)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return BS=ue,W(ue+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(M(R(L))+" M"),this},f.GState=YT,f.setGState=function(L){(L="string"==typeof L?yt[nt[L]]:kF(null,L)).equals(Dt)||(W("/"+L.id+" gs"),Dt=L)};var kF=function(L,ue){if(!L||!nt[L]){var Le=!1;for(var ze in yt)if(yt.hasOwnProperty(ze)&&yt[ze].equals(ue)){Le=!0;break}if(Le)ue=yt[ze];else{var ot="GS"+(Object.keys(yt).length+1).toString(10);yt[ot]=ue,ue.id=ot}return L&&(nt[L]=ue.id),Rn.publish("addGState",ue),ue}};f.addGState=function(L,ue){return kF(L,ue),this},f.saveGraphicsState=function(){return W("q"),Ie.push({key:yn,size:Oe,color:J0}),this},f.restoreGraphicsState=function(){W("Q");var L=Ie.pop();return yn=L.key,Oe=L.size,J0=L.color,Dt=null,this},f.setCurrentTransformationMatrix=function(L){return W(L.toString()+" cm"),this},f.comment=function(L){return W("#"+L),this};var jb=function(L,ue){var Le=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Le},set:function(Mt){isNaN(Mt)||(Le=parseFloat(Mt))}});var ze=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ze},set:function(Mt){isNaN(Mt)||(ze=parseFloat(Mt))}});var ot="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ot},set:function(Mt){ot=Mt.toString()}}),this},NS=function(L,ue,Le,ze){jb.call(this,L,ue),this.type="rect";var ot=Le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ot},set:function(Jt){isNaN(Jt)||(ot=parseFloat(Jt))}});var Mt=ze||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Mt},set:function(Jt){isNaN(Jt)||(Mt=parseFloat(Jt))}}),this},IS=function(){this.page=an,this.currentPage=q,this.pages=xe.slice(0),this.pagesContext=Vt.slice(0),this.x=vn,this.y=pn,this.matrix=_n,this.width=ey(q),this.height=Im(q),this.outputDestination=Ee,this.id="",this.objectNumber=-1};IS.prototype.restore=function(){an=this.page,Vt=this.pagesContext,xe=this.pages,vn=this.x,pn=this.y,_n=this.matrix,FS(q=this.currentPage,this.width),RS(q,this.height),Ee=this.outputDestination};var HF=function(L,ue,Le,ze,ot){Ko.push(new IS),an=q=0,xe=[],vn=L,pn=ue,_n=ot,Bs([Le,ze])};for(var Wb in f.beginFormObject=function(L,ue,Le,ze,ot){return HF(L,ue,Le,ze,ot),this},f.endFormObject=function(L){return function(L){if(gi[L])Ko.pop().restore();else{var ue=new IS,Le="Xo"+(Object.keys(Xi).length+1).toString(10);ue.id=Le,gi[L]=Le,Xi[Le]=ue,Rn.publish("addFormObject",ue),Ko.pop().restore()}}(L),this},f.doFormObject=function(L,ue){var Le=Xi[gi[L]];return W("q"),W(ue.toString()+" cm"),W("/"+Le.id+" Do"),W("Q"),this},f.getFormObject=function(L){var ue=Xi[gi[L]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},f.save=function(L,ue){return L=L||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,!1===ue.returnPromise?(Kv(Vb(Np()),L),"function"==typeof Kv.unload&&Cr.setTimeout&&setTimeout(Kv.unload,911),this):new Promise(function(Le,ze){try{var ot=Kv(Vb(Np()),L);"function"==typeof Kv.unload&&Cr.setTimeout&&setTimeout(Kv.unload,911),Le(ot)}catch(Mt){ze(Mt.message)}})},_r.API)_r.API.hasOwnProperty(Wb)&&("events"===Wb&&_r.API.events.length?function(L,ue){var ze,ot;for(ot=ue.length-1;-1!==ot;ot--)L.subscribe.apply(L,[ue[ot][0]].concat("function"==typeof(ze=ue[ot][1])?[ze]:ze))}(Rn,_r.API.events):f[Wb]=_r.API[Wb]);var ey=f.getPageWidth=function(L){return(Vt[L=L||q].mediaBox.topRightX-Vt[L].mediaBox.bottomLeftX)/st},FS=f.setPageWidth=function(L,ue){Vt[L].mediaBox.topRightX=ue*st+Vt[L].mediaBox.bottomLeftX},Im=f.getPageHeight=function(L){return(Vt[L=L||q].mediaBox.topRightY-Vt[L].mediaBox.bottomLeftY)/st},RS=f.setPageHeight=function(L,ue){Vt[L].mediaBox.topRightY=ue*st+Vt[L].mediaBox.bottomLeftY};return f.internal={pdfEscape:Na,getStyle:FF,getFont:O6,getFontSize:Z,getCharSpace:U6,getTextColor:L6,getLineHeight:PF,getLineHeightFactor:UF,getLineWidth:Gb,write:Me,getHorizontalCoordinate:hA,getVerticalCoordinate:Ip,getCoordinateString:P6,getVerticalCoordinateString:Nm,collections:{},newObject:Po,newAdditionalObject:hd,newObjectDeferred:Lo,newObjectDeferredBegin:pc,getFilters:rf,putStream:Fu,events:Rn,scaleFactor:st,pageSize:{getWidth:function(){return ey(q)},setWidth:function(L){FS(q,L)},getHeight:function(){return Im(q)},setHeight:function(L){RS(q,L)}},encryptionOptions:u,encryption:vc,getEncryptor:function(L){return null!==u?vc.encryptor(L,0):function(ue){return ue}},output:Qb,getNumberOfPages:ml,pages:xe,out:W,f2:T,f3:B,getPageInfo:IF,getPageInfoByObjId:Hr,getCurrentPageInfo:B6,getPDFVersion:p,Point:jb,Rectangle:NS,Matrix:Zn,hasHotfix:NF},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ey(q)},set:function(L){FS(q,L)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Im(q)},set:function(L){RS(q,L)},enumerable:!0,configurable:!0}),function(L){for(var ue=0,Le=Pe.length;ue<Le;ue++){var ze=Fi.call(this,L[ue][0],L[ue][1],L[ue][2],Pe[ue][3],!0);!1===h&&(d[ze]=!0);var ot=L[ue][0].split("-");Yo({id:ze,fontName:ot[0],fontStyle:ot[1]||""})}Rn.publish("addFonts",{fonts:tn,dictionary:$})}.call(f,Pe),yn="F1",Ql(i,t),Rn.publish("initialized"),f}J_.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},J_.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},J_.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},J_.prototype.processOwnerPassword=function(n,e){return xU(CU(e).substr(0,5),n)},J_.prototype.encryptor=function(n,e){var t=CU(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return xU(t,r)}},YT.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||(0,Js.A)(n)!==(0,Js.A)(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return 0===r},_r.API={events:[]},_r.version="2.5.2";var jo=_r.API,EU=1,Yv=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},n1=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},zr=function(n){return n.toFixed(2)},qg=function(n){return n.toFixed(5)};jo.__acroform__={};var Au=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},xX=function(n){return n*EU},Wd=function(n){var e=new SX,t=Wn.internal.getHeight(n)||0,r=Wn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(zr(r)),Number(zr(t))],e},RSe=jo.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},OSe=jo.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},PSe=jo.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},aa=jo.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return PSe(n,e-1)},la=jo.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return RSe(n,e-1)},ca=jo.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return OSe(n,e-1)},LSe=jo.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(zr(l.lowerLeft_X)),Number(zr(l.lowerLeft_Y)),Number(zr(l.upperRight_X)),Number(zr(l.upperRight_Y))]},USe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],r=SU(n,n._V||n.DV),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+zr(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Wd(n);return s.scope=n.scope,s.stream=e.join("\n"),s}},SU=function(n,e){var t=0===n.fontSize?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(n.multiline?function(B){return B.split("\n")}:function(B){return[B]});var s=t,o=Wn.internal.getHeight(n)||0;o=o<0?-o:o;var B,a=Wn.internal.getWidth(n)||0;a=a<0?-a:a,s++;e:for(;s>0;){e="",s--;var c,u,h=ZT("3",n,s).height,d=n.multiline?o-s:(o-h)/2,f=d+=2,A=0,p=0,m=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+ZT(e,n,s=12).width+", FieldWidth:"+a+"\n";break}for(var g="",y=0,v=0;v<i.length;v++)if(i.hasOwnProperty(v)){var _=!1;if(1!==i[v].length&&m!==i[v].length-1){if((h+2)*(y+2)+2>o)continue e;g+=i[v][m],_=!0,p=v,v--}else{g=" "==(g+=i[v][m]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var C=parseInt(v),b=(B=C)+1<i.length&&ZT(g+" "+i[B+1][0],n,s).width<=a-4,M=v>=i.length-1;if(b&&!M){g+=" ",m=0;continue}if(b||M){if(M)p=C;else if(n.multiline&&(h+2)*(y+2)+2>o)continue e}else{if(!n.multiline||(h+2)*(y+2)+2>o)continue e;p=C}}for(var D="",E=A;E<=p;E++){var T=i[E];if(n.multiline){if(E===p){D+=T[m]+" ",m=(m+1)%T.length;continue}if(E===A){D+=T[T.length-1]+" ";continue}}D+=T[0]+" "}switch(D=" "==D.substr(D.length-1)?D.substr(0,D.length-1):D,u=ZT(D,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=zr(c)+" "+zr(f)+" Td\n",e+="("+Yv(D)+") Tj\n",e+=-zr(c)+" 0 Td\n",f=-(s+2),u=0,A=_?p:p+1,y++,g=""}break}return r.text=e,r.fontSize=s,r},ZT=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},kSe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},HSe=function(n,e){var t={type:"reference",object:n};void 0===e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},EX=jo.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(0!==s&&(i+=" "),(0,Js.A)(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":"/"!==n[s].substr(0,1)?(void 0!==e&&t&&(r=t.internal.getEncryptor(e)),i+="("+Yv(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},DU=function(n,e,t){var r=function(i){return i};return void 0!==e&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Yv(r(n))+")"},$d=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$d.prototype.toString=function(){return this.objId+" 0 R"},$d.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},$d.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var t in e)if(!1===Object.getOwnPropertyDescriptor(this,e[t]).configurable){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:EX(i,this.objId,this.scope)}):i instanceof $d?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&n.push({key:r,value:i}))}return n};var SX=function(){$d.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Au(SX,$d);var DX=function(){$d.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Yv(t(n))+")"}},set:function(t){n=t}})};Au(DX,$d);var Gf=function n(){$d.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!aa(e,3)},set:function(g){this.F=g?la(e,3):ca(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');t=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(g){r=void 0!==g?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof tB)return;s="FieldObject"+n.FieldNum++}var g=function(y){return y};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Yv(g(s))+")"},set:function(g){s=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(g){s=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/EU:c},set:function(g){c=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof tB||this instanceof Zv))return DU(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=g}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof cl?d:DU(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=this instanceof cl?g:"("===g.substr(0,1)?n1(g.substr(1,g.length-2)):n1(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof cl?n1(d.substr(1,d.length-1)):d},set:function(g){g=g.toString(),d=this instanceof cl?"/"+g:g}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof cl?f:DU(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=this instanceof cl?g:"("===g.substr(0,1)?n1(g.substr(1,g.length-2)):n1(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof cl?n1(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof cl?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(g){p=g=!!g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(g){A=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,1)},set:function(g){this.Ff=g?la(this.Ff,1):ca(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,2)},set:function(g){this.Ff=g?la(this.Ff,2):ca(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,3)},set:function(g){this.Ff=g?la(this.Ff,3):ca(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(g){if(-1===[0,1,2].indexOf(g))throw new Error('Invalid value "'+g+'" for attribute Q supplied.');m=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(m){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};Au(Gf,$d);var r1=function(){Gf.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return EX(e,this.objId,this.scope)},set:function(t){var r,i;i=[],"string"==typeof(r=t)&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,18)},set:function(t){this.Ff=t?la(this.Ff,18):ca(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,19)},set:function(t){!0===this.combo&&(this.Ff=t?la(this.Ff,19):ca(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,20)},set:function(t){t?(this.Ff=la(this.Ff,20),e.sort()):this.Ff=ca(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,22)},set:function(t){this.Ff=t?la(this.Ff,22):ca(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,23)},set:function(t){this.Ff=t?la(this.Ff,23):ca(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,27)},set:function(t){this.Ff=t?la(this.Ff,27):ca(this.Ff,27)}}),this.hasAppearanceStream=!1};Au(r1,Gf);var i1=function(){r1.call(this),this.fontName="helvetica",this.combo=!1};Au(i1,r1);var s1=function(){i1.call(this),this.combo=!0};Au(s1,i1);var JT=function(){s1.call(this),this.edit=!0};Au(JT,s1);var cl=function(){Gf.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,15)},set:function(t){this.Ff=t?la(this.Ff,15):ca(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,16)},set:function(t){this.Ff=t?la(this.Ff,16):ca(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,17)},set:function(t){this.Ff=t?la(this.Ff,17):ca(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,26)},set:function(t){this.Ff=t?la(this.Ff,26):ca(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Yv(t(e[r]))+")");return i.push(">>"),i.join("\n")}},set:function(t){"object"===(0,Js.A)(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Au(cl,Gf);var eB=function(){cl.call(this),this.pushButton=!0};Au(eB,cl);var o1=function(){cl.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=void 0!==e?e:[]}})};Au(o1,cl);var tB=function(){var n,e;Gf.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Yv(i(r[s]))+")");return o.push(">>"),o.join("\n")},set:function(i){"object"===(0,Js.A)(i)&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){"string"==typeof i&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Wn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Au(tB,Gf),o1.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},o1.prototype.createOption=function(n){var e=new tB;return e.Parent=this,e.optionName=n,this.Kids.push(e),zSe.call(this.scope,e),e};var nB=function(){cl.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Wn.CheckBox.createAppearanceStream()};Au(nB,cl);var Zv=function(){Gf.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,13)},set:function(e){this.Ff=e?la(this.Ff,13):ca(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,21)},set:function(e){this.Ff=e?la(this.Ff,21):ca(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,23)},set:function(e){this.Ff=e?la(this.Ff,23):ca(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,24)},set:function(e){this.Ff=e?la(this.Ff,24):ca(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,25)},set:function(e){this.Ff=e?la(this.Ff,25):ca(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,26)},set:function(e){this.Ff=e?la(this.Ff,26):ca(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Au(Zv,Gf);var rB=function(){Zv.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!aa(this.Ff,14)},set:function(n){this.Ff=n?la(this.Ff,14):ca(this.Ff,14)}}),this.password=!0};Au(rB,Zv);var Wn={CheckBox:{createAppearanceStream:function(){return{N:{On:Wn.CheckBox.YesNormal},D:{On:Wn.CheckBox.YesPushDown,Off:Wn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Wd(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=SU(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+zr(Wn.internal.getWidth(n))+" "+zr(Wn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+zr(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(n){var e=Wd(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Wn.internal.getHeight(n),o=Wn.internal.getWidth(n),a=SU(n,n.caption);return i.push("1 g"),i.push("0 0 "+zr(o)+" "+zr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+zr(o-1)+" "+zr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+zr(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(n){var e=Wd(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+zr(Wn.internal.getWidth(n))+" "+zr(Wn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Wn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Wn.RadioButton.Circle.YesNormal,e.D[n]=Wn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Wd(n);e.scope=n.scope;var t=[],r=Wn.internal.getWidth(n)<=Wn.internal.getHeight(n)?Wn.internal.getWidth(n)/4:Wn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((r*Wn.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+qg(Wn.internal.getWidth(n)/2)+" "+qg(Wn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=Wd(n);e.scope=n.scope;var t=[],r=Wn.internal.getWidth(n)<=Wn.internal.getHeight(n)?Wn.internal.getWidth(n)/4:Wn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Wn.internal.Bezier_C).toFixed(5)),o=Number((r*Wn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+qg(Wn.internal.getWidth(n)/2)+" "+qg(Wn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+qg(Wn.internal.getWidth(n)/2)+" "+qg(Wn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(n){var e=Wd(n);e.scope=n.scope;var t=[],r=Wn.internal.getWidth(n)<=Wn.internal.getHeight(n)?Wn.internal.getWidth(n)/4:Wn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Wn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+qg(Wn.internal.getWidth(n)/2)+" "+qg(Wn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Wn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Wn.RadioButton.Cross.YesNormal,e.D[n]=Wn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Wd(n);e.scope=n.scope;var t=[],r=Wn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+zr(Wn.internal.getWidth(n)-2)+" "+zr(Wn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(zr(r.x1.x)+" "+zr(r.x1.y)+" m"),t.push(zr(r.x2.x)+" "+zr(r.x2.y)+" l"),t.push(zr(r.x4.x)+" "+zr(r.x4.y)+" m"),t.push(zr(r.x3.x)+" "+zr(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=Wd(n);e.scope=n.scope;var t=Wn.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+zr(Wn.internal.getWidth(n))+" "+zr(Wn.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+zr(Wn.internal.getWidth(n)-2)+" "+zr(Wn.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(zr(t.x1.x)+" "+zr(t.x1.y)+" m"),r.push(zr(t.x2.x)+" "+zr(t.x2.y)+" l"),r.push(zr(t.x4.x)+" "+zr(t.x4.y)+" m"),r.push(zr(t.x3.x)+" "+zr(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(n){var e=Wd(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+zr(Wn.internal.getWidth(n))+" "+zr(Wn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Wn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Wn.internal.getWidth(n),t=Wn.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Wn.internal.getWidth=function(n){var e=0;return"object"===(0,Js.A)(n)&&(e=xX(n.Rect[2])),e},Wn.internal.getHeight=function(n){var e=0;return"object"===(0,Js.A)(n)&&(e=xX(n.Rect[3])),e};var n,e,zSe=jo.addField=function(n){if(function(n,e){if(e.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(Gf.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(kSe)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");EU=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new DX,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var t;(t=n).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&HSe(s,t)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(t){!function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=LSe(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Wn.createDefaultAppearanceStream(a),"object"===(0,Js.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=USe(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var f=a.appearanceStreamContent[d];if(h+="/"+d+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var A=f[o];"function"==typeof A&&(A=A.call(i,a)),h+="/"+o+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else"function"==typeof(A=f)&&(A=A.call(i,a)),h+="/"+o+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);h+=">>"}l.push({key:"AP",value:"<<\n"+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),"object"===(0,Js.A)(i)&&"function"==typeof i.putStream&&i.putStream(),delete n[r]}}(i.internal.acroformPlugin.xForms,i)}(t,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof Gf))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function MX(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}jo.AcroFormChoiceField=r1,jo.AcroFormListBox=i1,jo.AcroFormComboBox=s1,jo.AcroFormEditBox=JT,jo.AcroFormButton=cl,jo.AcroFormPushButton=eB,jo.AcroFormRadioButton=o1,jo.AcroFormCheckBox=nB,jo.AcroFormTextField=Zv,jo.AcroFormPasswordField=rB,jo.AcroFormAppearance=Wn,jo.AcroForm={ChoiceField:r1,ListBox:i1,ComboBox:s1,EditBox:JT,Button:cl,PushButton:eB,RadioButton:o1,CheckBox:nB,TextField:Zv,PasswordField:rB,Appearance:Wn},_r.AcroForm={ChoiceField:r1,ListBox:i1,ComboBox:s1,EditBox:JT,Button:cl,PushButton:eB,RadioButton:o1,CheckBox:nB,TextField:Zv,PasswordField:rB,Appearance:Wn},function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(B,R){var U,k,j,O,P,G=e;if("RGBA"===(R=R||e)||void 0!==B.data&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(b(B))for(P in t)for(j=t[P],U=0;U<j.length;U+=1){for(O=!0,k=0;k<j[U].length;k+=1)if(void 0!==j[U][k]&&j[U][k]!==B[k]){O=!1;break}if(!0===O){G=P;break}}else for(P in t)for(j=t[P],U=0;U<j.length;U+=1){for(O=!0,k=0;k<j[U].length;k+=1)if(void 0!==j[U][k]&&j[U][k]!==B.charCodeAt(k)){O=!1;break}if(!0===O){G=P;break}}return G===e&&R!==e&&(G=R),G},i=function B(R){for(var U=this.internal.write,k=this.internal.putStream,j=(0,this.internal.getFilters)();-1!==j.indexOf("FlateEncode");)j.splice(j.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var O=[];if(O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Image"}),O.push({key:"Width",value:R.width}),O.push({key:"Height",value:R.height}),R.colorSpace===m.INDEXED?O.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&void 0!==R.sMask?R.objectId+2:R.objectId+1)+" 0 R]"}):(O.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===m.DEVICE_CMYK&&O.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),O.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&void 0!==R.decodeParameters&&O.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var P="",G=0,H=R.transparency.length;G<H;G++)P+=R.transparency[G]+" "+R.transparency[G]+" ";O.push({key:"Mask",value:"["+P+"]"})}if(void 0!==R.sMask&&O.push({key:"SMask",value:R.objectId+1+" 0 R"}),k({data:R.data,additionalKeyValues:O,alreadyAppliedFilters:void 0!==R.filter?["/"+R.filter]:void 0,objectId:R.objectId}),U("endobj"),"sMask"in R&&void 0!==R.sMask){var Q={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:"/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,data:R.sMask};"filter"in R&&(Q.filter=R.filter),B.call(this,Q)}if(R.colorSpace===m.INDEXED){var q=this.internal.newObject();k({data:D(new Uint8Array(R.palette)),objectId:q}),U("endobj")}},s=function(){var B=this.internal.collections.addImage_images;for(var R in B)i.call(this,B[R])},o=function(){var B,R=this.internal.collections.addImage_images,U=this.internal.write;for(var k in R)U("/I"+(B=R[k]).index,B.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var B=this.internal.collections.addImage_images;return a.call(this),B},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(B){return"function"==typeof n["process"+B.toUpperCase()]},h=function(B){return"object"===(0,Js.A)(B)&&1===B.nodeType},d=function(B,R){if("IMG"===B.nodeName&&B.hasAttribute("src")){var U=""+B.getAttribute("src");if(0===U.indexOf("data:image/"))return iE(unescape(U).split("base64,").pop());var k=n.loadFile(U,!0);if(void 0!==k)return k}if("CANVAS"===B.nodeName){if(0===B.width||0===B.height)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var j;switch(R){case"PNG":j="image/png";break;case"WEBP":j="image/webp";break;default:j="image/jpeg"}return iE(B.toDataURL(j,1).split("base64,").pop())}},f=function(B){var R=this.internal.collections.addImage_images;if(R)for(var U in R)if(B===R[U].alias)return R[U]},A=function(B,R,U){return B||R||(B=-96,R=-96),B<0&&(B=-1*U.width*72/B/this.internal.scaleFactor),R<0&&(R=-1*U.height*72/R/this.internal.scaleFactor),0===B&&(B=R*U.width/U.height),0===R&&(R=B*U.height/U.width),[B,R]},p=function(B,R,U,k,j,O){var P=A.call(this,U,k,j),G=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,ae=l.call(this);if(U=P[0],k=P[1],ae[j.index]=j,O){O*=Math.PI/180;var ve=Math.cos(O),Q=Math.sin(O),q=function(oe){return oe.toFixed(4)},K=[q(ve),q(Q),q(-1*Q),q(ve),0,0,"cm"]}this.internal.write("q"),O?(this.internal.write([1,"0","0",1,G(B),H(R+k),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([G(U),"0","0",G(k),"0","0","cm"].join(" "))):this.internal.write([G(U),"0","0",G(k),G(B),H(R+k),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+j.index+" Do"),this.internal.write("Q")},m=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=n.__addimage__.sHashCode=function(B){var R,U,k=0;if("string"==typeof B)for(U=B.length,R=0;R<U;R++)k=(k<<5)-k+B.charCodeAt(R),k|=0;else if(b(B))for(U=B.byteLength/2,R=0;R<U;R++)k=(k<<5)-k+B[R],k|=0;return k},v=n.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var R=!0;return 0===B.length&&(R=!1),B.length%4!=0&&(R=!1),!1===/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))&&(R=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))&&(R=!1),R},_=n.__addimage__.extractImageFromDataUrl=function(B){var R=(B=B||"").split("base64,"),U=null;if(2===R.length){var k=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(k)&&(U={mimeType:k[1],charset:k[2],data:R[1]})}return U},C=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(B){return C()&&B instanceof ArrayBuffer};var b=n.__addimage__.isArrayBufferView=function(B){return C()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},M=n.__addimage__.binaryStringToUint8Array=function(B){for(var R=B.length,U=new Uint8Array(R),k=0;k<R;k++)U[k]=B.charCodeAt(k);return U},D=n.__addimage__.arrayBufferToBinaryString=function(B){for(var R="",U=b(B)?B:new Uint8Array(B),k=0;k<U.length;k+=8192)R+=String.fromCharCode.apply(null,U.subarray(k,k+8192));return R};n.addImage=function(){var B,R,U,k,j,O,P,G,H;if("number"==typeof arguments[1]?(R=e,U=arguments[1],k=arguments[2],j=arguments[3],O=arguments[4],P=arguments[5],G=arguments[6],H=arguments[7]):(R=arguments[1],U=arguments[2],k=arguments[3],j=arguments[4],O=arguments[5],P=arguments[6],G=arguments[7],H=arguments[8]),"object"===(0,Js.A)(B=arguments[0])&&!h(B)&&"imageData"in B){var ae=B;B=ae.imageData,R=ae.format||R||e,U=ae.x||U||0,k=ae.y||k||0,j=ae.w||ae.width||j,O=ae.h||ae.height||O,P=ae.alias||P,G=ae.compression||G,H=ae.rotation||ae.angle||H}var ve=this.internal.getFilters();if(void 0===G&&-1!==ve.indexOf("FlateEncode")&&(G="SLOW"),isNaN(U)||isNaN(k))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var Q=E.call(this,B,R,P,G);return p.call(this,U,k,j,O,Q,H),this};var E=function(B,R,U,k){var j,O,P,H;if("string"==typeof B&&r(B)===e){B=unescape(B);var G=T(B,!1);(""!==G||void 0!==(G=n.loadFile(B,!0)))&&(B=G)}if(h(B)&&(B=d(B,R)),R=r(B,R),!u(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if((null==(P=U)||0===P.length)&&(U="string"==typeof(H=B)||b(H)?y(H):b(H.data)?y(H.data):null),(j=f.call(this,U))||(C()&&(B instanceof Uint8Array||"RGBA"===R||(O=B,B=M(B))),j=this["process"+R.toUpperCase()](B,c.call(this),U,function(H){return H&&"string"==typeof H&&(H=H.toUpperCase()),H in n.image_compression?H:g.NONE}(k),O)),!j)throw new Error("An unknown error occurred whilst processing the image.");return j},T=n.__addimage__.convertBase64ToBinaryString=function(B,R){var U;R="boolean"!=typeof R||R;var k,j="";if("string"==typeof B){k=null!==(U=_(B))?U.data:B;try{j=iE(k)}catch(O){if(R)throw v(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+O.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return j};n.getImageProperties=function(B){var R,U,k="";if(h(B)&&(B=d(B)),"string"==typeof B&&r(B)===e&&(""===(k=T(B,!1))&&(k=n.loadFile(B)||""),B=k),U=r(B),!u(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!C()||B instanceof Uint8Array||(B=M(B)),!(R=this["process"+U.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=U,R}}(_r.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
n=_r.API,e=function(t){if(void 0!==t&&""!=t)return!0},_r.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){r=c[d];var f=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),y=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(g(r.contents))+")",s+=" /Popup "+m.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(g(y))+") >>",p.content=s;var v=p.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+v,r.open&&(s+=" /Open true"),m.content=s+=" >>",this.internal.write(p.objId,"0 R",m.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var _=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(A(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(A(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var b=a(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+b+" "+r.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var u=this.splitTextToSize(t,a=s.maxWidth).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,r,i,s),"center"===s.align&&(r-=l/2),"right"===s.align&&(r-=l),this.link(r,(i+=.2*c)-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(p){return void 0!==e[p.charCodeAt(0)]},o=n.__arabicParser__.isArabicLetter=function(p){return"string"==typeof p&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},a=n.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&i.indexOf(p.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&s(p)&&4==e[p.charCodeAt(0)].length},h=n.__arabicParser__.resolveLigatures=function(p){var m=0,g=t,y="",v=0;for(m=0;m<p.length;m+=1)void 0!==g[p.charCodeAt(m)]?(v++,"number"==typeof(g=g[p.charCodeAt(m)])&&(y+=String.fromCharCode(g),g=t,v=0),m===p.length-1&&(g=t,y+=p.charAt(m-(v-1)),m-=v-1,v=0)):(g=t,y+=p.charAt(m-v),m-=v,v=0);return y};n.__arabicParser__.isArabicDiacritic=function(p){return void 0!==p&&void 0!==r[p.charCodeAt(0)]};var d=n.__arabicParser__.getCorrectForm=function(p,m,g){return o(p)?!1===s(p)?-1:!c(p)||!o(m)&&!o(g)||!o(g)&&a(m)||a(p)&&!o(m)||a(p)&&l(m)||a(p)&&a(m)?0:u(p)&&o(m)&&!a(m)&&o(g)&&c(g)?3:a(p)||!o(g)?1:2:-1},f=function(p){var m=0,g=0,y=0,v="",_="",C="",b=(p=p||"").split("\\s+"),M=[];for(m=0;m<b.length;m+=1){for(M.push(""),g=0;g<b[m].length;g+=1)_=b[m][g-1],C=b[m][g+1],o(v=b[m][g])?(y=d(v,_,C),M[m]+=-1!==y?String.fromCharCode(e[v.charCodeAt(0)][y]):v):M[m]+=v;M[m]=h(M[m])}return M.join(" ")},A=n.__arabicParser__.processArabic=n.processArabic=function(){var p,m="string"==typeof arguments[0]?arguments[0]:arguments[0].text,g=[];if(Array.isArray(m)){var y=0;for(g=[],y=0;y<m.length;y+=1)Array.isArray(m[y])?g.push([f(m[y][0]),m[y][1],m[y][2]]):g.push([f(m[y])]);p=g}else p=f(m);return"string"==typeof arguments[0]?p:(arguments[0].text=p,arguments[0])};n.events.push(["preProcessText",A])}(_r.API),_r.API.autoPrint=function(n){var e;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if("2d"!==(t=t||"2d"))return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(_r.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(p){A=p}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof l?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,f=0,A=0,p=0,m=this;if(!Array.isArray(l)&&"string"!=typeof l){if("number"!=typeof l)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?"string"==typeof l?l=this.splitTextToSize(l,g):"[object Array]"===Object.prototype.toString.call(l)&&(l=l.reduce(function(v,_){return v.concat(m.splitTextToSize(_,g))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)f<(p=this.getStringUnitWidth(l[y],{font:h})*u)&&(f=p);return 0!==f&&(A=l.length),{w:f/=d,h:Math.max((A*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return void 0!==c.lineNumber&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),void 0!==l.text[0]&&(this.rect(l.x,l.y,l.width,l.height,!0===t?"FD":void 0),"right"===l.align?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):"center"===l.align?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,h,d){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,A,p,m,g=[],y=[],v=[],_={},C={},b=[],M=[],D=(d=d||{}).autoSize||!1,E=!1!==d.printHeaders,T=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,B=d.margins||Object.assign({width:this.getPageWidth()},e),R="number"==typeof d.padding?d.padding:3,U=d.headerBackgroundColor||"#c8c8c8",k=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=k,this.setFontSize(T),null==h)y=g=Object.keys(u[0]),v=g.map(function(){return"left"});else if(Array.isArray(h)&&"object"===(0,Js.A)(h[0]))for(g=h.map(function(ae){return ae.name}),y=h.map(function(ae){return ae.prompt||ae.name||""}),v=h.map(function(ae){return ae.align||"left"}),f=0;f<h.length;f+=1)C[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&"string"==typeof h[0]&&(y=g=h,v=g.map(function(){return"left"}));if(D||Array.isArray(h)&&"string"==typeof h[0])for(f=0;f<g.length;f+=1){for(_[m=g[f]]=u.map(function(ae){return ae[m]}),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=_[m],this.setFont(void 0,"normal"),p=0;p<A.length;p+=1)b.push(this.getTextDimensions(A[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[m]=Math.max.apply(null,b)+R+R,b=[]}if(E){var j={};for(f=0;f<g.length;f+=1)j[g[f]]={},j[g[f]].text=y[f],j[g[f]].align=v[f];var O=a.call(this,j,C);M=g.map(function(ae){return new s(l,c,C[ae],O,j[ae].text,void 0,j[ae].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var P=h.reduce(function(ae,ve){return ae[ve.name]=ve.align,ae},{});for(f=0;f<u.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:u[f]},this);var G=a.call(this,u[f],C);for(p=0;p<g.length;p+=1){var H=u[f][g[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:p,data:H},this),o.call(this,new s(l,c,C[g[p]],G,H,f+2,P[g[p]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(f){var A=l[f];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/d+u+u},this).reduce(function(f,A){return Math.max(f,A)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(A)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),t=!1}}(_r.API);var TX={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},BX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],MU=MX(BX),NX=[100,200,300,400,500,600,700,800,900],GSe=MX(NX);function TU(n){var s,e=n.family.replace(/"|'/g,"").toLowerCase(),t=TX[s=(s=n.style)||"normal"]?s:"normal",r=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(n.weight),i=function(s){return"number"==typeof MU[s=s||"normal"]?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function IX(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var qSe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},FX={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function RX(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function OX(n){return n.trimLeft()}function WSe(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function $Se(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],n.substring(e[0].length)]}var iB,PX,LX,BU=["times"];(function(n){var e,t,r,i,s,o,a,l,c,u=function(Q){return this.isStrokeTransparent=(Q=Q||{}).isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=void 0!==Q.transform?Q.transform.clone():new l,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new o,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new o,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof Q.ignoreClearRect||Q.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=Q;Object.defineProperty(this,"pdf",{get:function(){return q}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(Y){K=!!Y}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(Y){oe=!!Y}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Y){isNaN(Y)||(se=Y)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Y){isNaN(Y)||(le=Y)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Y){var W;"number"==typeof Y?W=[Y,Y,Y,Y]:((W=new Array(4))[0]=Y[0],W[1]=Y.length>=2?Y[1]:W[0],W[2]=Y.length>=3?Y[2]:W[0],W[3]=Y.length>=4?Y[3]:W[1]),c.margin=W}});var te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return te},set:function(Y){te=Y}});var ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return ee},set:function(Y){ee=Y}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(Y){Ae=Y}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Y){Y instanceof u&&(c=Y)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Y){c.path=Y}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(Y){xe=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var W;W=d(Y),this.ctx.fillStyle=W.style,this.ctx.isFillTransparent=0===W.a,this.ctx.fillOpacity=W.a,this.pdf.setFillColor(W.r,W.g,W.b,{a:W.a}),this.pdf.setTextColor(W.r,W.g,W.b,{a:W.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var W=d(Y);this.ctx.strokeStyle=W.style,this.ctx.isStrokeTransparent=0===W.a,this.ctx.strokeOpacity=W.a,0===W.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(W.r,W.g,W.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){-1!==["butt","round","square"].indexOf(Y)&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){-1!==["bevel","round","miter"].indexOf(Y)&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){-1!==["right","end","center","left","start"].indexOf(Y)&&(this.ctx.textAlign=Y)}});var ge=null,ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return ne},set:function(Y){ge=null,ne=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var W;if(this.ctx.font=Y,null!==(W=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Y))){var Me=W[1],Ce=W[3],Pe=W[4],Oe=W[6],re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor("px"===re?parseFloat(Pe)*this.pdf.internal.scaleFactor:"em"===re?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var Z=function(Tt){var yn,st,vn=[],pn=Tt.trim();if(""===pn)return BU;if(pn in FX)return[FX[pn]];for(;""!==pn;){switch(st=null,yn=(pn=OX(pn)).charAt(0)){case'"':case"'":st=WSe(pn.substring(1),yn);break;default:st=$Se(pn)}if(null===st||(vn.push(st[0]),""!==(pn=OX(st[1]))&&","!==pn.charAt(0)))return BU;pn=pn.replace(/^,/,"")}return vn}(Oe);if(this.fontFaces){var Ue=function jSe(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},qSe,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=TU(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+RX(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=MU[l],d=IX(c,BX,u,u<=MU.normal?-1:1);if(!d)throw new Error("Could not find a matching font-stretch value for "+l);return d}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=TX[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(400===l&&c[500])return c[500];if(500===l&&c[400])return c[400];var h=IX(c,NX,GSe[l],l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+RX(s)+"'.");return o}(function Ee(Y,W){if(null===ge){var Me=(Ce=Y.getFontList(),Pe=[],Object.keys(Ce).forEach(function(Oe){Ce[Oe].forEach(function(re){var Z=null;switch(re){case"bold":Z={family:Oe,weight:"bold"};break;case"italic":Z={family:Oe,style:"italic"};break;case"bolditalic":Z={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":Z={family:Oe}}null!==Z&&(Z.ref={name:Oe,style:re},Pe.push(Z))})}),Pe);ge=function(Ce){for(var Pe={},Oe=0;Oe<Ce.length;++Oe){var re=TU(Ce[Oe]),Z=re.family,Ue=re.stretch,Qe=re.style,rt=re.weight;Pe[Z]=Pe[Z]||{},Pe[Z][Ue]=Pe[Z][Ue]||{},Pe[Z][Ue][Qe]=Pe[Z][Ue][Qe]||{},Pe[Z][Ue][Qe][rt]=re}return Pe}(Me.concat(W))}var Ce,Pe;return ge}(this.pdf,this.fontFaces),Z.map(function(Tt){return{family:Tt,stretch:"normal",weight:Ce,style:Me}}));this.pdf.setFont(Ue.ref.name,Ue.ref.style)}else{var Qe="";("bold"===Ce||parseInt(Ce,10)>=700||"bold"===Me)&&(Qe="bold"),"italic"===Me&&(Qe+="italic"),0===Qe.length&&(Qe="normal");for(var rt="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<Z.length;Pt++){if(void 0!==this.pdf.internal.getFont(Z[Pt],Qe,{noFallback:!0,disableWarning:!0})){rt=Z[Pt];break}if("bolditalic"===Qe&&void 0!==this.pdf.internal.getFont(Z[Pt],"bold",{noFallback:!0,disableWarning:!0}))rt=Z[Pt],Qe="bold";else if(void 0!==this.pdf.internal.getFont(Z[Pt],"normal",{noFallback:!0,disableWarning:!0})){rt=Z[Pt],Qe="normal";break}}if(""===rt)for(var Ft=0;Ft<Z.length;Ft++)if(Xe[Z[Ft]]){rt=Xe[Z[Ft]];break}this.pdf.setFont(rt=""===rt?"Times":rt,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};h.prototype.setLineDash=function(Q){this.lineDash=Q},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){_.call(this,"fill",!1)},h.prototype.stroke=function(){_.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(Q,q){if(isNaN(Q)||isNaN(q))throw eo.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(Q,q));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(Q,q)},h.prototype.closePath=function(){var Q=new o(0,0),q=0;for(q=this.path.length-1;-1!==q;q--)if("begin"===this.path[q].type&&"object"===(0,Js.A)(this.path[q+1])&&"number"==typeof this.path[q+1].x){Q=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.lineTo=function(Q,q){if(isNaN(Q)||isNaN(q))throw eo.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(Q,q));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},h.prototype.quadraticCurveTo=function(Q,q,K,oe){if(isNaN(K)||isNaN(oe)||isNaN(Q)||isNaN(q))throw eo.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(K,oe)),le=this.ctx.transform.applyToPoint(new o(Q,q));this.path.push({type:"qct",x1:le.x,y1:le.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},h.prototype.bezierCurveTo=function(Q,q,K,oe,se,le){if(isNaN(se)||isNaN(le)||isNaN(Q)||isNaN(q)||isNaN(K)||isNaN(oe))throw eo.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var te=this.ctx.transform.applyToPoint(new o(se,le)),ee=this.ctx.transform.applyToPoint(new o(Q,q)),Ae=this.ctx.transform.applyToPoint(new o(K,oe));this.path.push({type:"bct",x1:ee.x,y1:ee.y,x2:Ae.x,y2:Ae.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},h.prototype.arc=function(Q,q,K,oe,se,le){if(isNaN(Q)||isNaN(q)||isNaN(K)||isNaN(oe)||isNaN(se))throw eo.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var te=this.ctx.transform.applyToPoint(new o(Q,q));Q=te.x,q=te.y;var ee=this.ctx.transform.applyToPoint(new o(0,K)),Ae=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(ee.x-Ae.x,2)+Math.pow(ee.y-Ae.y,2))}Math.abs(se-oe)>=2*Math.PI&&(oe=0,se=2*Math.PI),this.path.push({type:"arc",x:Q,y:q,radius:K,startAngle:oe,endAngle:se,counterclockwise:le})},h.prototype.arcTo=function(Q,q,K,oe,se){throw new Error("arcTo not implemented.")},h.prototype.rect=function(Q,q,K,oe){if(isNaN(Q)||isNaN(q)||isNaN(K)||isNaN(oe))throw eo.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,q),this.lineTo(Q+K,q),this.lineTo(Q+K,q+oe),this.lineTo(Q,q+oe),this.lineTo(Q,q),this.lineTo(Q+K,q),this.lineTo(Q,q)},h.prototype.fillRect=function(Q,q,K,oe){if(isNaN(Q)||isNaN(q)||isNaN(K)||isNaN(oe))throw eo.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var se={};"butt"!==this.lineCap&&(se.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,q,K,oe),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},h.prototype.strokeRect=function(Q,q,K,oe){if(isNaN(Q)||isNaN(q)||isNaN(K)||isNaN(oe))throw eo.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(Q,q,K,oe),this.stroke())},h.prototype.clearRect=function(Q,q,K,oe){if(isNaN(Q)||isNaN(q)||isNaN(K)||isNaN(oe))throw eo.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,q,K,oe))},h.prototype.save=function(Q){Q="boolean"!=typeof Q||Q;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},h.prototype.restore=function(Q){Q="boolean"!=typeof Q||Q;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(q),Q&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(Q){var q,K,oe,se;if(!0===Q.isCanvasGradient&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))q=0,K=0,oe=0,se=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(null!==le)q=parseInt(le[1]),K=parseInt(le[2]),oe=parseInt(le[3]),se=1;else if(null!==(le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q)))q=parseInt(le[1]),K=parseInt(le[2]),oe=parseInt(le[3]),se=parseFloat(le[4]);else{if(se=1,"string"==typeof Q&&"#"!==Q.charAt(0)){var te=new vX(Q);Q=te.ok?te.toHex():"#000000"}4===Q.length?(q=Q.substring(1,2),q+=q,K=Q.substring(2,3),K+=K,oe=Q.substring(3,4),oe+=oe):(q=Q.substring(1,3),K=Q.substring(3,5),oe=Q.substring(5,7)),q=parseInt(q,16),K=parseInt(K,16),oe=parseInt(oe,16)}}return{r:q,g:K,b:oe,a:se,style:Q}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},A=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};h.prototype.fillText=function(Q,q,K,oe){if(isNaN(q)||isNaN(K)||"string"!=typeof Q)throw eo.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!f.call(this)){var se=G(this.ctx.transform.rotation);R.call(this,{text:Q,x:q,y:K,scale:this.ctx.transform.scaleX,angle:se,align:this.textAlign,maxWidth:oe})}},h.prototype.strokeText=function(Q,q,K,oe){if(isNaN(q)||isNaN(K)||"string"!=typeof Q)throw eo.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){oe=isNaN(oe)?void 0:oe;var se=G(this.ctx.transform.rotation);R.call(this,{text:Q,x:q,y:K,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:oe})}},h.prototype.measureText=function(Q){if("string"!=typeof Q)throw eo.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,K=this.pdf.internal.scaleFactor,oe=q.internal.getFontSize(),se=q.getStringUnitWidth(Q)*oe/q.internal.scaleFactor;return new function(te){var ee=(te=te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ee}}),this}({width:se*=Math.round(96*K/72*1e4)/1e4})},h.prototype.scale=function(Q,q){if(isNaN(Q)||isNaN(q))throw eo.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(Q,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.rotate=function(Q){if(isNaN(Q))throw eo.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.translate=function(Q,q){if(isNaN(Q)||isNaN(q))throw eo.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,Q,q);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.transform=function(Q,q,K,oe,se,le){if(isNaN(Q)||isNaN(q)||isNaN(K)||isNaN(oe)||isNaN(se)||isNaN(le))throw eo.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var te=new l(Q,q,K,oe,se,le);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.setTransform=function(Q,q,K,oe,se,le){Q=isNaN(Q)?1:Q,q=isNaN(q)?0:q,K=isNaN(K)?0:K,oe=isNaN(oe)?1:oe,se=isNaN(se)?0:se,le=isNaN(le)?0:le,this.ctx.transform=new l(Q,q,K,oe,se,le)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(Q,q,K,oe,se,le,te,ee,Ae){var xe=this.pdf.getImageProperties(Q),ge=1,Ee=1,ne=1,Y=1;void 0!==oe&&void 0!==ee&&(ne=ee/oe,Y=Ae/se,ge=xe.width/oe*ee/oe,Ee=xe.height/se*Ae/se),void 0===le&&(le=q,te=K,q=0,K=0),void 0!==oe&&void 0===ee&&(ee=oe,Ae=se),void 0===oe&&void 0===ee&&(ee=xe.width,Ae=xe.height);for(var W,Me=this.ctx.transform.decompose(),Ce=G(Me.rotate.shx),Pe=new l,Oe=(Pe=(Pe=(Pe=Pe.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new a(le-q*ne,te-K*Y,oe*ge,se*Ee)),re=m.call(this,Oe),Z=[],Ue=0;Ue<re.length;Ue+=1)-1===Z.indexOf(re[Ue])&&Z.push(re[Ue]);if(v(Z),this.autoPaging)for(var Qe=Z[0],rt=Z[Z.length-1],Xe=Qe;Xe<rt+1;Xe++){this.pdf.setPage(Xe);var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=1===Xe?this.posY+this.margin[0]:this.margin[0],yn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=1===Xe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Xe-2)*yn;if(0!==this.ctx.clip_path.length){var vn=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(W,this.posX+this.margin[3],-st+Ft+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=vn}var pn=JSON.parse(JSON.stringify(Oe));pn=y([pn],this.posX+this.margin[3],-st+Ft+this.ctx.prevPageLastElemOffset)[0];var _n=(Xe>Qe||Xe<rt)&&p.call(this);_n&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,yn,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",pn.x,pn.y,pn.w,pn.h,null,null,Ce),_n&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Ce)};var m=function(Q,q,K){var oe=[];q=q||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":oe.push(Math.floor((Q.y+se)/K)+1);break;case"arc":oe.push(Math.floor((Q.y+se-Q.radius)/K)+1),oe.push(Math.floor((Q.y+se+Q.radius)/K)+1);break;case"qct":var le=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);oe.push(Math.floor((le.y+se)/K)+1),oe.push(Math.floor((le.y+le.h+se)/K)+1);break;case"bct":var te=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);oe.push(Math.floor((te.y+se)/K)+1),oe.push(Math.floor((te.y+te.h+se)/K)+1);break;case"rect":oe.push(Math.floor((Q.y+se)/K)+1),oe.push(Math.floor((Q.y+Q.h+se)/K)+1)}for(var ee=0;ee<oe.length;ee+=1)for(;this.pdf.internal.getNumberOfPages()<oe[ee];)g.call(this);return oe},g=function(){var Q=this.fillStyle,q=this.strokeStyle,K=this.font,oe=this.lineCap,se=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=q,this.font=K,this.lineCap=oe,this.lineWidth=se,this.lineJoin=le},y=function(Q,q,K){for(var oe=0;oe<Q.length;oe++)switch(Q[oe].type){case"bct":Q[oe].x2+=q,Q[oe].y2+=K;case"qct":Q[oe].x1+=q,Q[oe].y1+=K;default:Q[oe].x+=q,Q[oe].y+=K}return Q},v=function(Q){return Q.sort(function(q,K){return q-K})},_=function(Q,q){for(var K,oe,se=this.fillStyle,le=this.strokeStyle,te=this.lineCap,ee=this.lineWidth,Ae=Math.abs(ee*this.ctx.transform.scaleX),xe=this.lineJoin,ge=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),ne=[],Y=0;Y<Ee.length;Y++)if(void 0!==Ee[Y].x)for(var W=m.call(this,Ee[Y]),Me=0;Me<W.length;Me+=1)-1===ne.indexOf(W[Me])&&ne.push(W[Me]);for(var Ce=0;Ce<ne.length;Ce++)for(;this.pdf.internal.getNumberOfPages()<ne[Ce];)g.call(this);if(v(ne),this.autoPaging)for(var Pe=ne[0],Oe=ne[ne.length-1],re=Pe;re<Oe+1;re++){this.pdf.setPage(re),this.fillStyle=se,this.strokeStyle=le,this.lineCap=te,this.lineWidth=Ae,this.lineJoin=xe;var Z=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=1===re?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=1===re?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(re-2)*rt;if(0!==this.ctx.clip_path.length){var Pt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(K,this.posX+this.margin[3],-Xe+Ue+this.ctx.prevPageLastElemOffset),C.call(this,Q,!0),this.path=Pt}if(oe=JSON.parse(JSON.stringify(ge)),this.path=y(oe,this.posX+this.margin[3],-Xe+Ue+this.ctx.prevPageLastElemOffset),!1===q||0===re){var Ft=(re>Pe||re<Oe)&&p.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Z,rt,null).clip().discardPath()),C.call(this,Q,q),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=ee}else this.lineWidth=Ae,C.call(this,Q,q),this.lineWidth=ee;this.path=ge},C=function(Q,q){if(("stroke"!==Q||q||!A.call(this))&&("stroke"===Q||q||!f.call(this))){for(var K,oe,se=[],le=this.path,te=0;te<le.length;te++){var ee=le[te];switch(ee.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ee,deltas:[],abs:[]});break;case"lt":var Ae=se.length;if(le[te-1]&&!isNaN(le[te-1].x)&&(K=[ee.x-le[te-1].x,ee.y-le[te-1].y],Ae>0))for(;Ae>=0;Ae--)if(!0!==se[Ae-1].close&&!0!==se[Ae-1].begin){se[Ae-1].deltas.push(K),se[Ae-1].abs.push(ee);break}break;case"bct":se[se.length-1].deltas.push(K=[ee.x1-le[te-1].x,ee.y1-le[te-1].y,ee.x2-le[te-1].x,ee.y2-le[te-1].y,ee.x-le[te-1].x,ee.y-le[te-1].y]);break;case"qct":se[se.length-1].deltas.push(K=[le[te-1].x+2/3*(ee.x1-le[te-1].x)-le[te-1].x,le[te-1].y+2/3*(ee.y1-le[te-1].y)-le[te-1].y,ee.x+2/3*(ee.x1-ee.x)-le[te-1].x,ee.y+2/3*(ee.y1-ee.y)-le[te-1].y,ee.x-le[te-1].x,ee.y-le[te-1].y]);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ee)}}oe=q?null:"stroke"===Q?"stroke":"fill";for(var Me=!1,Ce=0;Ce<se.length;Ce++)if(se[Ce].arc)for(var Pe=se[Ce].abs,Oe=0;Oe<Pe.length;Oe++){var re=Pe[Oe];"arc"===re.type?D.call(this,re.x,re.y,re.radius,re.startAngle,re.endAngle,re.counterclockwise,void 0,q,!Me):U.call(this,re.x,re.y),Me=!0}else!0===se[Ce].close?(this.pdf.internal.out("h"),Me=!1):!0!==se[Ce].begin&&(k.call(this,se[Ce].deltas,se[Ce].start.x,se[Ce].start.y),Me=!0);oe&&E.call(this,oe),q&&T.call(this)}},b=function(Q){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-K;case"top":return Q+q-K;case"hanging":return Q+q-2*K;case"middle":return Q+q/2-K;default:return Q}},M=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(q,K){this.colorStops.push([q,K])},Q.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(Q,q,K,oe,se,le,te,ee,Ae){for(var xe=O.call(this,K,oe,se,le),ge=0;ge<xe.length;ge++){var Ee=xe[ge];0===ge&&(Ae?B.call(this,Ee.x1+Q,Ee.y1+q):U.call(this,Ee.x1+Q,Ee.y1+q)),j.call(this,Q,q,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}ee?T.call(this):E.call(this,te)},E=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(Q,q){this.pdf.internal.out(t(Q)+" "+r(q)+" m")},R=function(Q){var q;switch(Q.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var K=this.pdf.getTextDimensions(Q.text),oe=b.call(this,Q.y),se=M.call(this,oe)-K.h,le=this.ctx.transform.applyToPoint(new o(Q.x,oe)),te=this.ctx.transform.decompose(),ee=new l;ee=(ee=(ee=ee.multiply(te.translate)).multiply(te.skew)).multiply(te.scale);for(var Ae,xe,ge,Ee=this.ctx.transform.applyToRectangle(new a(Q.x,oe,K.w,K.h)),ne=ee.applyToRectangle(new a(Q.x,se,K.w,K.h)),Y=m.call(this,ne),W=[],Me=0;Me<Y.length;Me+=1)-1===W.indexOf(Y[Me])&&W.push(Y[Me]);if(v(W),this.autoPaging)for(var Ce=W[0],Pe=W[W.length-1],Oe=Ce;Oe<Pe+1;Oe++){this.pdf.setPage(Oe);var re=1===Oe?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.margin[2],Qe=Ue-this.margin[0],rt=this.pdf.internal.pageSize.width-this.margin[1],Xe=rt-this.margin[3],Pt=1===Oe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Oe-2)*Qe;if(0!==this.ctx.clip_path.length){var Ft=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Ae,this.posX+this.margin[3],-1*Pt+re),C.call(this,"fill",!0),this.path=Ft}var Tt=y([JSON.parse(JSON.stringify(ne))],this.posX+this.margin[3],-Pt+re+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*Q.scale),this.lineWidth=(ge=this.lineWidth)*Q.scale);var yn="text"!==this.autoPaging;if(yn||Tt.y+Tt.h<=Ue){if(yn||Tt.y>=re&&Tt.x<=rt){var st=yn?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||rt-Tt.x)[0],vn=y([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-Pt+re+this.ctx.prevPageLastElemOffset)[0],pn=yn&&(Oe>Ce||Oe<Pe)&&p.call(this);pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,Qe,null).clip().discardPath()),this.pdf.text(st,vn.x,vn.y,{angle:Q.angle,align:q,renderingMode:Q.renderingMode}),pn&&this.pdf.restoreGraphicsState()}}else Tt.y<Ue&&(this.ctx.prevPageLastElemOffset+=Ue-Tt.y);Q.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=ge)}else Q.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*Q.scale),this.lineWidth=(ge=this.lineWidth)*Q.scale),this.pdf.text(Q.text,le.x+this.posX,le.y+this.posY,{angle:Q.angle,align:q,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=ge)},U=function(Q,q,K,oe){oe=oe||0,this.pdf.internal.out(t(Q+(K=K||0))+" "+r(q+oe)+" l")},k=function(Q,q,K){return this.pdf.lines(Q,q,K,null,null)},j=function(Q,q,K,oe,se,le,te,ee){this.pdf.internal.out([e(i(K+Q)),e(s(oe+q)),e(i(se+Q)),e(s(le+q)),e(i(te+Q)),e(s(ee+q)),"c"].join(" "))},O=function(Q,q,K,oe){for(var se=2*Math.PI,le=Math.PI/2;q>K;)q-=se;var te=Math.abs(K-q);te<se&&oe&&(te=se-te);for(var ee=[],Ae=oe?-1:1,xe=q;te>1e-5;){var ge=xe+Ae*Math.min(te,le);ee.push(P.call(this,Q,xe,ge)),te-=Math.abs(ge-xe),xe=ge}return ee},P=function(Q,q,K){var oe=(K-q)/2,se=Q*Math.cos(oe),le=Q*Math.sin(oe),te=se,ee=-le,Ae=te*te+ee*ee,xe=Ae+te*se+ee*le,ge=4/3*(Math.sqrt(2*Ae*xe)-xe)/(te*le-ee*se),Ee=te-ge*ee,ne=ee+ge*te,Y=Ee,W=-ne,Me=oe+q,Ce=Math.cos(Me),Pe=Math.sin(Me);return{x1:Q*Math.cos(q),y1:Q*Math.sin(q),x2:Ee*Ce-ne*Pe,y2:Ee*Pe+ne*Ce,x3:Y*Ce-W*Pe,y3:Y*Pe+W*Ce,x4:Q*Math.cos(K),y4:Q*Math.sin(K)}},G=function(Q){return 180*Q/Math.PI},H=function(Q,q,K,oe,se,le){var te=Q+.5*(K-Q),ee=q+.5*(oe-q),Ae=se+.5*(K-se),xe=le+.5*(oe-le),ge=Math.min(Q,se,te,Ae),Ee=Math.max(Q,se,te,Ae),ne=Math.min(q,le,ee,xe),Y=Math.max(q,le,ee,xe);return new a(ge,ne,Ee-ge,Y-ne)},ae=function(Q,q,K,oe,se,le,te,ee){var Ae,xe,ge,Ee,ne,Y,W,Me,Ce,Pe,Oe,re,Z,Ue,Qe=K-Q,rt=oe-q,Xe=se-K,Pt=le-oe,Ft=te-se,Tt=ee-le;for(xe=0;xe<41;xe++)Ce=(W=(ge=Q+(Ae=xe/40)*Qe)+Ae*((ne=K+Ae*Xe)-ge))+Ae*(ne+Ae*(se+Ae*Ft-ne)-W),Pe=(Me=(Ee=q+Ae*rt)+Ae*((Y=oe+Ae*Pt)-Ee))+Ae*(Y+Ae*(le+Ae*Tt-Y)-Me),0==xe?(Oe=Ce,re=Pe,Z=Ce,Ue=Pe):(Oe=Math.min(Oe,Ce),re=Math.min(re,Pe),Z=Math.max(Z,Ce),Ue=Math.max(Ue,Pe));return new a(Math.round(Oe),Math.round(re),Math.round(Z-Oe),Math.round(Ue-re))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var K=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(_r.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(s){var o,a,l,c,u,h,d,f,A,p;for(/[^\x00-\xFF]/.test(s),a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)0!==(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))?(h=(u=((u=((u=((u=(u-(p=u%85))/85)-(A=u%85))/85)-(f=u%85))/85)-(d=u%85))/85)%85,a.push(h+33,d+33,f+33,A+33,p+33)):a.push(122);return function(m,g){for(var y=g;y>0;y--)m.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,l,c,u,h=String,d="length",f=255,A="charCodeAt",p="slice",m="replace";for(s[p](-2),s=s[p](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[p](s[d]%5||5))[d];u>c;c+=5)a=52200625*(s[A](c)-33)+614125*(s[A](c+1)-33)+7225*(s[A](c+2)-33)+85*(s[A](c+3)-33)+(s[A](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(g,y){for(var v=y;v>0;v--)g.pop()}(l,o[d]),h.fromCharCode.apply(h,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===o.test(s))return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return(o=nE(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(_r.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=!1!==s,o="function"==typeof o?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,d=0,f=function(A){var p=A.length,m=[],g=String.fromCharCode;for(d=0;d<p;d+=1)m.push(g(255&A.charCodeAt(d)));return m.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),!1===c&&(h.onload=function(){u(200===h.status?f(this.responseText):void 0)}),h.send(null),c&&200===h.status)return f(h.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(_r.API),function(n){function e(){return(Cr.html2canvas?Promise.resolve(Cr.html2canvas):Promise.resolve().then(we.t.bind(we,7239,23))).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Cr.DOMPurify?Promise.resolve(Cr.DOMPurify):we.e(973).then(we.t.bind(we,1973,23))).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=(0,Js.A)(o);return"undefined"===a?"undefined":"string"===a||o instanceof String?"string":"number"===a||o instanceof Number?"number":"function"===a||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&1===o.nodeType?"element":"object"===a?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return"canvas"===l.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var h=3===c.nodeType?document.createTextNode(c.nodeValue):c.cloneNode(!1),d=c.firstChild;d;d=d.nextSibling)!0!==u&&1===d.nodeType&&"SCRIPT"===d.nodeName||h.appendChild(l(d,u));return 1===c.nodeType&&("CANVAS"===c.nodeName?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):"TEXTAREA"!==c.nodeName&&"SELECT"!==c.nodeName||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===a.tagName&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var d=0;d<c.length;++d){var f=c[d],A=f.src.find(function(p){return"truetype"===p.format});A&&l.addFont(A.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=0==h.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return"img"===(l=l||"pdf").toLowerCase()||"image"===l.toLowerCase()?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if("object"!==r(o))return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(2===o.length&&(o=[o[0],o[1],o[0],o[1]]),4===o.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||_r.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return null!=o&&(this.progress.val=o),null!=a&&(this.progress.state=a),null!=l&&(this.progress.n=l),null!=c&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,_r.getPageSize=function(o,a,l){if("object"===(0,Js.A)(o)){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,A=0,p=0;if(d.hasOwnProperty(h))A=d[h][1]/u,p=d[h][0]/u;else try{A=l[1],p=l[0]}catch{throw new Error("Invalid format: "+l)}if("p"===o||"portrait"===o)o="p",p>A&&(f=p,p=A,A=f);else{if("l"!==o&&"landscape"!==o)throw"Invalid orientation: "+o;o="l",A>p&&(f=p,p=A,A=f)}return{width:p,height:A,unit:a,k:u,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(TU):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(_r.API),_r.API.addJS=function(n){return LX=n,this.internal.events.subscribe("postPutResources",function(){iB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(iB+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),PX=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+LX+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==iB&&void 0!==PX&&this.internal.out("/Names <</JavaScript "+iB+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);null!=a&&t.internal.newObjectDeferredBegin(a[1],!1),t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=t.internal.newObject();u.push(h);var d=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return null==r&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+"\r\n"},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(_r.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=o||t)?new Uint8Array(t):t,(l=function(h){for(var d,f=256*h.charCodeAt(4)+h.charCodeAt(5),A=h.length,p={width:0,height:0,numcomponents:1},m=4;m<A;m+=2){if(-1!==e.indexOf(h.charCodeAt((m+=f)+1))){d=256*h.charCodeAt(m+5)+h.charCodeAt(m+6),p={width:256*h.charCodeAt(m+7)+h.charCodeAt(m+8),height:d,numcomponents:h.charCodeAt(m+9)};break}f=256*h.charCodeAt(m+2)+h.charCodeAt(m+3)}return p}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(_r.API);var a1,sB,UX,kX,HX,KSe=function(){var n,e,t;function r(s){var o,l,c,u,h,d,f,A,p,m,g,y,v;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),A=function(){var _,C;for(C=[],_=0;_<4;++_)C.push(String.fromCharCode(this.data[this.pos++]));return C}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for("fdAT"===A&&(this.pos+=4,o-=4),s=h?.data||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((p=l-this.transparency.indexed.length)>0)for(y=0;0<=p?y<p:y>p;0<=p?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":d=(m=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,m.slice(0,d)),this.text[f]=String.fromCharCode.apply(String,m.slice(d+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(v=this.colorType)||6===v,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function u(h,d,f,A){var p,m,g,y,v,_,C,b,D,E,T,B,R,U,k,j,O,P,G,H,ae=Math.ceil((c.width-h)/f),ve=Math.ceil((c.height-d)/A),Q=c.width==ae&&c.height==ve;for(R=o*ae,T=Q?a:new Uint8Array(R*ve),_=s.length,B=0,m=0;B<ve&&l<_;){switch(s[l++]){case 0:for(y=j=0;j<R;y=j+=1)T[m++]=s[l++];break;case 1:for(y=O=0;O<R;y=O+=1)p=s[l++],v=y<o?0:T[m-o],T[m++]=(p+v)%256;break;case 2:for(y=P=0;P<R;y=P+=1)p=s[l++],g=(y-y%o)/o,T[m++]=((U=B&&T[(B-1)*R+g*o+y%o])+p)%256;break;case 3:for(y=G=0;G<R;y=G+=1)p=s[l++],g=(y-y%o)/o,v=y<o?0:T[m-o],U=B&&T[(B-1)*R+g*o+y%o],T[m++]=(p+Math.floor((v+U)/2))%256;break;case 4:for(y=H=0;H<R;y=H+=1)p=s[l++],g=(y-y%o)/o,0===B?U=k=0:(U=T[(B-1)*R+g*o+y%o],k=g&&T[(B-1)*R+(g-1)*o+y%o]),C=(v=y<o?0:T[m-o])+U-k,b=Math.abs(C-v),D=Math.abs(C-U),E=Math.abs(C-k),T[m++]=(p+(b<=D&&b<=E?v:D<=E?U:k))%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!Q){var q=((d+B*A)*c.width+h)*o,K=B*R;for(y=0;y<ae;y+=1){for(var oe=0;oe<o;oe+=1)a[q++]=T[K++];q+=(f-1)*o}}B++}}return s=qT(s),1==c.interlaceMethod?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,h,d,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=h=0,d=a.length;h<d;o=h+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=null!=(f=u[s++])?f:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,h,d,f,A,p,m,g;if(l=this.colors,p=null,a=this.hasAlphaChannel,this.palette.length&&(p=null!=(g=this._decodedPalette)?g:this._decodedPalette=this.decodePalette(),l=4,a=!0),A=(c=s.data||s).length,h=p||o,u=d=0,1===l)for(;u<A;)f=p?4*o[u/4]:d,m=h[f++],c[u++]=m,c[u++]=m,c[u++]=m,c[u++]=a?h[f++]:255,d=f;else for(;u<A;)f=p?4*o[u/4]:d,c[u++]=h[f++],c[u++]=h[f++],c[u++]=h[f++],c[u++]=a?h[f++]:255,d=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if("[object Window]"===Object.prototype.toString.call(Cr)){try{e=Cr.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(!0===i())return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,h,d,f;if(this.animation){for(f=[],a=u=0,h=(d=this.animation.frames).length;u<h;a=++u)l=s.createImageData((o=d[a]).width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=n(l));return f}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],0===o&&s.clearRect(0,0,this.width,this.height),1===c?.disposeOp?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):2===c?.disposeOp&&s.putImageData(c.imageData,c.xOffset,c.yOffset),0===a.blendOp&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,h,d=this;return a=0,c=(h=this.animation).numFrames,l=h.frames,u=h.numPlays,(o=function(){var f,A;if(f=a++%c,A=l[f],d.renderFrame(s,f),c>1&&a/c<u)return d.animation._timeout=setTimeout(o,A.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();function XSe(n){var e=0;if(71!==n[e++]||73!==n[e++]||70!==n[e++]||56!==n[e++]||56!=(n[e++]+1&253)||97!==n[e++])throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=1<<1+(7&i);e++,e++;var a=null,l=null;i>>7&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,d=null,f=0,A=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(11!==n[e]||78==n[e+1]&&69==n[e+2]&&84==n[e+3]&&83==n[e+4]&&67==n[e+5]&&65==n[e+6]&&80==n[e+7]&&69==n[e+8]&&50==n[e+9]&&46==n[e+10]&&48==n[e+11]&&3==n[e+12]&&1==n[e+13]&&0==n[e+16])e+=14,A=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(0===B)break;e+=B}break;case 249:if(4!==n[e++]||0!==n[e+4])throw new Error("Invalid graphics extension block.");var p=n[e++];h=n[e++]|n[e++]<<8,d=n[e++],!(1&p)&&(d=null),f=p>>2&7,e++;break;case 254:for(;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(0===B)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var m=n[e++]|n[e++]<<8,g=n[e++]|n[e++]<<8,y=n[e++]|n[e++]<<8,v=n[e++]|n[e++]<<8,_=n[e++],C=_>>6&1,b=1<<1+(7&_),M=a,D=l,E=!1;_>>7&&(E=!0,M=e,D=b,e+=3*b);var T=e;for(e++;;){var B;if(!((B=n[e++])>=0))throw Error("Invalid block size");if(0===B)break;e+=B}u.push({x:m,y:g,width:y,height:v,has_local_palette:E,palette_offset:M,palette_size:D,data_offset:T,data_length:e-T,transparent_index:d,interlaced:!!C,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return A},this.frameInfo=function(R){if(R<0||R>=u.length)throw new Error("Frame index out of range.");return u[R]},this.decodeAndBlitFrameBGRA=function(R,U){var k=this.frameInfo(R),j=k.width*k.height,O=new Uint8Array(j);VX(n,k.data_offset,O,j);var P=k.palette_offset,G=k.transparent_index;null===G&&(G=256);var H=k.width,ae=t-H,ve=H,Q=4*(k.y*t+k.x),q=4*((k.y+k.height)*t+k.x),K=Q,oe=4*ae;!0===k.interlaced&&(oe+=4*t*7);for(var se=8,le=0,te=O.length;le<te;++le){var ee=O[le];if(0===ve&&(ve=H,(K+=oe)>=q&&(oe=4*ae+4*t*(se-1),K=Q+(H+ae)*(se<<1),se>>=1)),ee===G)K+=4;else{var Ae=n[P+3*ee],xe=n[P+3*ee+1];U[K++]=n[P+3*ee+2],U[K++]=xe,U[K++]=Ae,U[K++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(R,U){var k=this.frameInfo(R),j=k.width*k.height,O=new Uint8Array(j);VX(n,k.data_offset,O,j);var P=k.palette_offset,G=k.transparent_index;null===G&&(G=256);var H=k.width,ae=t-H,ve=H,Q=4*(k.y*t+k.x),q=4*((k.y+k.height)*t+k.x),K=Q,oe=4*ae;!0===k.interlaced&&(oe+=4*t*7);for(var se=8,le=0,te=O.length;le<te;++le){var ee=O[le];if(0===ve&&(ve=H,(K+=oe)>=q&&(oe=4*ae+4*t*(se-1),K=Q+(H+ae)*(se<<1),se>>=1)),ee===G)K+=4;else{var xe=n[P+3*ee+1],ge=n[P+3*ee+2];U[K++]=n[P+3*ee],U[K++]=xe,U[K++]=ge,U[K++]=255}--ve}}}function VX(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,d=0,f=n[e++],A=new Int32Array(4096),p=null;;){for(;u<16&&0!==f;)h|=n[e++]<<u,u+=8,1===f?f=n[e++]:--f;if(u<l)break;var m=h&c;if(h>>=l,u-=l,m!==s){if(m===o)break;for(var g=m<a?m:p,y=0,v=g;v>s;)v=A[v]>>8,++y;var _=v;if(d+y+(g!==m?1:0)>r)return void eo.log("Warning, gif stream longer than expected.");t[d++]=_;var C=d+=y;for(g!==m&&(t[d++]=_),v=g;y--;)t[--C]=255&(v=A[v]),v>>=8;null!==p&&a<4096&&(A[a++]=p<<8|_,a>=c+1&&l<12&&(++l,c=c<<1|1)),p=m}else a=o+1,c=(1<<(l=i+1))-1,p=null}return d!==r&&eo.log("Warning, gif stream shorter than expected."),t}function NU(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),A=new Array(64),p=[],m=0,g=7,y=new Array(64),v=new Array(64),_=new Array(64),C=new Array(256),b=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],j=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(Q,q){for(var K=0,oe=0,se=new Array,le=1;le<=16;le++){for(var te=1;te<=Q[le];te++)se[q[oe]]=[],se[q[oe]][0]=K,se[q[oe]][1]=le,oe++,K++;K*=2}return se}function P(Q){for(var q=Q[0],K=Q[1]-1;K>=0;)q&1<<K&&(m|=1<<g),K--,--g<0&&(255==m?(G(255),G(0)):G(m),g=7,m=0)}function G(Q){p.push(Q)}function H(Q){G(Q>>8&255),G(255&Q)}function ae(Q,q,K,oe,se){for(var le,te=se[0],ee=se[240],Ae=function(Pe,Oe){var re,Z,Ue,Qe,rt,Xe,Pt,Ft,Tt,yn,st=0;for(Tt=0;Tt<8;++Tt){var vn=(re=Pe[st])+(Ft=Pe[st+7]),pn=re-Ft,_n=(Z=Pe[st+1])+(Pt=Pe[st+6]),tn=Z-Pt,$=(Ue=Pe[st+2])+(Xe=Pe[st+5]),Ie=Ue-Xe,Ke=(Qe=Pe[st+3])+(rt=Pe[st+4]),Te=Qe-rt,yt=vn+Ke,nt=vn-Ke,Dt=_n+$,an=_n-$;Pe[st]=yt+Dt,Pe[st+4]=yt-Dt;var Vt=.707106781*(an+nt);Pe[st+2]=nt+Vt,Pe[st+6]=nt-Vt;var Rn=.382683433*((yt=Te+Ie)-(an=tn+pn)),Ts=.5411961*yt+Rn,Xi=1.306562965*an+Rn,gi=.707106781*(Dt=Ie+tn),Ko=pn+gi,Zn=pn-gi;Pe[st+5]=Zn+Ts,Pe[st+3]=Zn-Ts,Pe[st+1]=Ko+Xi,Pe[st+7]=Ko-Xi,st+=8}for(st=0,Tt=0;Tt<8;++Tt){var Bu=(re=Pe[st])+(Ft=Pe[st+56]),fh=re-Ft,Xo=(Z=Pe[st+8])+(Pt=Pe[st+48]),Po=Z-Pt,Lo=(Ue=Pe[st+16])+(Xe=Pe[st+40]),pc=Ue-Xe,hd=(Qe=Pe[st+24])+(rt=Pe[st+32]),nf=Qe-rt,gc=Bu+hd,Nu=Bu-hd,Iu=Xo+Lo,rf=Xo-Lo;Pe[st]=gc+Iu,Pe[st+32]=gc-Iu;var Fu=.707106781*(rf+Nu);Pe[st+16]=Nu+Fu,Pe[st+48]=Nu-Fu;var sf=.382683433*((gc=nf+pc)-(rf=Po+fh)),Bp=.5411961*gc+sf,Mm=1.306562965*rf+sf,be=.707106781*(Iu=pc+Po),et=fh+be,At=fh-be;Pe[st+40]=At+Bp,Pe[st+24]=At-Bp,Pe[st+8]=et+Mm,Pe[st+56]=et-Mm,st++}for(Tt=0;Tt<64;++Tt)f[Tt]=(yn=Pe[Tt]*Oe[Tt])>0?yn+.5|0:yn-.5|0;return f}(Q,q),xe=0;xe<64;++xe)A[M[xe]]=Ae[xe];var ge=A[0]-K;K=A[0],0==ge?P(oe[0]):(P(oe[d[le=32767+ge]]),P(h[le]));for(var Ee=63;Ee>0&&0==A[Ee];)Ee--;if(0==Ee)return P(te),K;for(var ne,Y=1;Y<=Ee;){for(var W=Y;0==A[Y]&&Y<=Ee;)++Y;var Me=Y-W;if(Me>=16){ne=Me>>4;for(var Ce=1;Ce<=ne;++Ce)P(ee);Me&=15}P(se[(Me<<4)+d[le=32767+A[Y]]]),P(h[le]),Y++}return 63!=Ee&&P(te),K}function ve(Q){Q=Math.min(Math.max(Q,1),100),s!=Q&&(function(q){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var se=o((K[oe]*q+50)/100);se=Math.min(Math.max(se,1),255),a[M[oe]]=se}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],te=0;te<64;te++){var ee=o((le[te]*q+50)/100);ee=Math.min(Math.max(ee,1),255),l[M[te]]=ee}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,ge=0;ge<8;ge++)for(var Ee=0;Ee<8;Ee++)c[xe]=1/(a[M[xe]]*Ae[ge]*Ae[Ee]*8),u[xe]=1/(l[M[xe]]*Ae[ge]*Ae[Ee]*8),xe++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),s=Q)}this.encode=function(Q,q){var Z,Ue;q&&ve(q),p=new Array,m=0,g=7,H(65496),H(65504),H(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),H(1),H(1),G(0),G(0),function(){H(65499),H(132),G(0);for(var Z=0;Z<64;Z++)G(a[Z]);G(1);for(var Ue=0;Ue<64;Ue++)G(l[Ue])}(),Z=Q.width,Ue=Q.height,H(65472),H(17),G(8),H(Ue),H(Z),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1),function(){H(65476),H(418),G(0);for(var Z=0;Z<16;Z++)G(D[Z+1]);for(var Ue=0;Ue<=11;Ue++)G(E[Ue]);G(16);for(var Qe=0;Qe<16;Qe++)G(T[Qe+1]);for(var rt=0;rt<=161;rt++)G(B[rt]);G(1);for(var Xe=0;Xe<16;Xe++)G(R[Xe+1]);for(var Pt=0;Pt<=11;Pt++)G(U[Pt]);G(17);for(var Ft=0;Ft<16;Ft++)G(k[Ft+1]);for(var Tt=0;Tt<=161;Tt++)G(j[Tt])}(),H(65498),H(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var K=0,oe=0,se=0;m=0,g=7,this.encode.displayName="_encode_";for(var le,te,ee,Ae,xe,ge,Ee,ne,Y,W=Q.data,Ce=Q.height,Pe=4*Q.width,Oe=0;Oe<Ce;){for(le=0;le<Pe;){for(xe=Pe*Oe+le,Ee=-1,ne=0,Y=0;Y<64;Y++)ge=xe+(ne=Y>>3)*Pe+(Ee=4*(7&Y)),Oe+ne>=Ce&&(ge-=Pe*(Oe+1+ne-Ce)),le+Ee>=Pe&&(ge-=le+Ee-Pe+4),te=W[ge++],ee=W[ge++],Ae=W[ge++],y[Y]=(b[te]+b[ee+256|0]+b[Ae+512|0]>>16)-128,v[Y]=(b[te+768|0]+b[ee+1024|0]+b[Ae+1280|0]>>16)-128,_[Y]=(b[te+1280|0]+b[ee+1536|0]+b[Ae+1792|0]>>16)-128;K=ae(y,c,K,e,r),oe=ae(v,u,oe,t,i),se=ae(_,u,se,t,i),le+=32}Oe+=8}if(g>=0){var re=[];re[1]=g+1,re[0]=(1<<g+1)-1,P(re)}return H(65497),new Uint8Array(p)},n=n||50,function(){for(var Q=String.fromCharCode,q=0;q<256;q++)C[q]=Q(q)}(),e=O(D,E),t=O(R,U),r=O(T,B),i=O(k,j),function(){for(var Q=1,q=2,K=1;K<=15;K++){for(var oe=Q;oe<q;oe++)d[32767+oe]=K,h[32767+oe]=[],h[32767+oe][1]=K,h[32767+oe][0]=oe;for(var se=-(q-1);se<=-Q;se++)d[32767+se]=K,h[32767+se]=[],h[32767+se][1]=K,h[32767+se][0]=q-1+se;Q<<=1,q<<=1}}(),function(){for(var Q=0;Q<256;Q++)b[Q]=19595*Q,b[Q+256|0]=38470*Q,b[Q+512|0]=7471*Q+32768,b[Q+768|0]=-11059*Q,b[Q+1024|0]=-21709*Q,b[Q+1280|0]=32768*Q+8421375,b[Q+1536|0]=-27439*Q,b[Q+1792|0]=-5329*Q}(),ve(n)}function qf(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function QX(n){function e(D){if(!D)throw Error("assert :P")}function t(D,E,T){for(var B=0;4>B;B++)if(D[E+B]!=T.charCodeAt(B))return!0;return!1}function r(D,E,T,B,R){for(var U=0;U<R;U++)D[E+U]=T[B+U]}function i(D,E,T,B){for(var R=0;R<B;R++)D[E+R]=T}function s(D){return new Int32Array(D)}function o(D,E){for(var T=[],B=0;B<D;B++)T.push(new E);return T}function a(D,E){var T=[];return function B(R,U,k){for(var j=k[U],O=0;O<j&&(R.push(k.length>U+1?[]:new E),!(k.length<U+1));O++)B(R[O],U+1,k)}(T,0,D),T}var l=function(){var D=this;function E(w,F){for(var V=1<<F-1>>>0;w&V;)V>>>=1;return V?(w&V-1)+V:w}function T(w,F,V,X,ce){e(!(X%V));do{w[F+(X-=V)]=ce}while(0<X)}function B(w,F,V,X,ce){if(e(2328>=ce),512>=ce)var de=s(512);else if(null==(de=s(ce)))return 0;return function(pe,me,_e,Be,je,ct){var ut,tt,Gt=me,wt=1<<_e,We=s(16),Ye=s(16);for(e(0!=je),e(null!=Be),e(null!=pe),e(0<_e),tt=0;tt<je;++tt){if(15<Be[tt])return 0;++We[Be[tt]]}if(We[0]==je)return 0;for(Ye[1]=0,ut=1;15>ut;++ut){if(We[ut]>1<<ut)return 0;Ye[ut+1]=Ye[ut]+We[ut]}for(tt=0;tt<je;++tt)ut=Be[tt],0<Be[tt]&&(ct[Ye[ut]++]=tt);if(1==Ye[15])return(Be=new R).g=0,Be.value=ct[0],T(pe,Gt,1,wt,Be),wt;var kt,Kt=-1,Qt=wt-1,Pn=0,Dn=1,hr=1,Nn=1<<_e;for(tt=0,ut=1,je=2;ut<=_e;++ut,je<<=1){if(Dn+=hr<<=1,0>(hr-=We[ut]))return 0;for(;0<We[ut];--We[ut])(Be=new R).g=ut,Be.value=ct[tt++],T(pe,Gt+Pn,je,Nn,Be),Pn=E(Pn,ut)}for(ut=_e+1,je=2;15>=ut;++ut,je<<=1){if(Dn+=hr<<=1,0>(hr-=We[ut]))return 0;for(;0<We[ut];--We[ut]){if(Be=new R,(Pn&Qt)!=Kt){for(Gt+=Nn,kt=1<<(Kt=ut)-_e;15>Kt&&!(0>=(kt-=We[Kt]));)++Kt,kt<<=1;wt+=Nn=1<<(kt=Kt-_e),pe[me+(Kt=Pn&Qt)].g=kt+_e,pe[me+Kt].value=Gt-me-Kt}Be.g=ut-_e,Be.value=ct[tt++],T(pe,Gt+(Pn>>_e),je,Nn,Be),Pn=E(Pn,ut)}}return Dn!=2*Ye[15]-1?0:wt}(w,F,V,X,ce,de)}function R(){this.value=this.g=0}function U(){this.value=this.g=0}function k(){this.G=o(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(zl,U)}function j(w,F,V,X){e(null!=w),e(null!=F),e(2147483648>X),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=F,w.pa=V,w.Jd=F,w.Yc=V+X,w.Zc=4<=X?V+X-4+1:V,le(w)}function O(w,F){for(var V=0;0<F--;)V|=ee(w,128)<<F;return V}function P(w,F){var V=O(w,F);return te(w)?-V:V}function G(w,F,V,X){var ce,de=0;for(e(null!=w),e(null!=F),e(4294967288>X),w.Sb=X,w.Ra=0,w.u=0,w.h=0,4<X&&(X=4),ce=0;ce<X;++ce)de+=F[V+ce]<<8*ce;w.Ra=de,w.bb=X,w.oa=F,w.pa=V}function H(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<Zb-8>>>0,++w.bb,w.u-=8;K(w)&&(w.h=1,w.u=0)}function ae(w,F){if(e(0<=F),!w.h&&F<=Yb){var V=q(w)&Xb[F];return w.u+=F,H(w),V}return w.h=1,w.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(w){return w.Ra>>>(w.u&Zb-1)>>>0}function K(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>Zb}function oe(w,F){w.u=F,w.h=K(w)}function se(w){w.u>=kS&&(e(w.u>=kS),H(w))}function le(w){e(null!=w&&null!=w.oa),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(null!=w&&null!=w.oa),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function te(w){return O(w,1)}function ee(w,F){var V=w.Ca;0>w.b&&le(w);var X=w.b,ce=V*F>>>8,de=(w.I>>>X>ce)+0;for(de?(V-=ce,w.I-=ce+1<<X>>>0):V=ce+1,X=V,ce=0;256<=X;)ce+=8,X>>=8;return w.b-=X=7^ce+Ru[X],w.Ca=(V<<X)-1,de}function Ae(w,F,V){w[F+0]=V>>24&255,w[F+1]=V>>16&255,w[F+2]=V>>8&255,w[F+3]=255&V}function xe(w,F){return w[F+0]|w[F+1]<<8}function ge(w,F){return xe(w,F)|w[F+2]<<16}function Ee(w,F){return xe(w,F)|xe(w,F+2)<<16}function ne(w,F){var V=1<<F;return e(null!=w),e(0<F),w.X=s(V),null==w.X?0:(w.Mb=32-F,w.Xa=F,1)}function Y(w,F){e(null!=w),e(null!=F),e(w.Xa==F.Xa),r(F.X,0,w.X,0,1<<F.Xa)}function W(){this.X=[],this.Xa=this.Mb=0}function Me(w,F,V,X){e(null!=V),e(null!=X);var ce=V[0],de=X[0];return 0==ce&&(ce=(w*de+F/2)/F),0==de&&(de=(F*ce+w/2)/w),0>=ce||0>=de?0:(V[0]=ce,X[0]=de,1)}function Ce(w,F){return w+(1<<F)-1>>>F}function Pe(w,F){return((4278255360&w)+(4278255360&F)>>>0&4278255360)+((16711935&w)+(16711935&F)>>>0&16711935)>>>0}function Oe(w,F){D[F]=function(V,X,ce,de,pe,me,_e){var Be;for(Be=0;Be<pe;++Be){var je=D[w](me[_e+Be-1],ce,de+Be);me[_e+Be]=Pe(V[X+Be],je)}}}function re(){this.ud=this.hd=this.jd=0}function Z(w,F){return((4278124286&(w^F))>>>1)+(w&F)>>>0}function Ue(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Qe(w,F){return Ue(w+(w-F+.5>>1))}function rt(w,F,V){return Math.abs(F-V)-Math.abs(w-V)}function Xe(w,F,V,X,ce,de,pe){for(X=de[pe-1],V=0;V<ce;++V)de[pe+V]=X=Pe(w[F+V],X)}function Pt(w,F,V,X,ce){var de;for(de=0;de<V;++de){var pe=w[F+de],me=pe>>8&255,_e=16711935&(_e=(_e=16711935&pe)+((me<<16)+me));X[ce+de]=(4278255360&pe)+_e>>>0}}function Ft(w,F){F.jd=255&w,F.hd=w>>8&255,F.ud=w>>16&255}function Tt(w,F,V,X,ce,de){var pe;for(pe=0;pe<X;++pe){var me=F[V+pe],_e=me>>>8,Be=me,je=255&(je=(je=me>>>16)+((w.jd<<24>>24)*(_e<<24>>24)>>>5));Be=255&(Be=(Be+=(w.hd<<24>>24)*(_e<<24>>24)>>>5)+((w.ud<<24>>24)*(je<<24>>24)>>>5)),ce[de+pe]=(4278255360&me)+(je<<16)+Be}}function yn(w,F,V,X,ce){D[F]=function(de,pe,me,_e,Be,je,ct,ut,tt){for(_e=ct;_e<ut;++_e)for(ct=0;ct<tt;++ct)Be[je++]=ce(me[X(de[pe++])])},D[w]=function(de,pe,me,_e,Be,je,ct){var ut=8>>de.b,tt=de.Ea,Gt=de.K[0],wt=de.w;if(8>ut)for(de=(1<<de.b)-1,wt=(1<<ut)-1;pe<me;++pe){var We,Ye=0;for(We=0;We<tt;++We)We&de||(Ye=X(_e[Be++])),je[ct++]=ce(Gt[Ye&wt]),Ye>>=ut}else D["VP8LMapColor"+V](_e,Be,Gt,wt,je,ct,pe,me,tt)}}function st(w,F,V,X,ce){for(V=F+V;F<V;){var de=w[F++];X[ce++]=de>>16&255,X[ce++]=de>>8&255,X[ce++]=255&de}}function vn(w,F,V,X,ce){for(V=F+V;F<V;){var de=w[F++];X[ce++]=de>>16&255,X[ce++]=de>>8&255,X[ce++]=255&de,X[ce++]=de>>24&255}}function pn(w,F,V,X,ce){for(V=F+V;F<V;){var de=(pe=w[F++])>>16&240|pe>>12&15,pe=240&pe|pe>>28&15;X[ce++]=de,X[ce++]=pe}}function _n(w,F,V,X,ce){for(V=F+V;F<V;){var de=(pe=w[F++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;X[ce++]=de,X[ce++]=pe}}function tn(w,F,V,X,ce){for(V=F+V;F<V;){var de=w[F++];X[ce++]=255&de,X[ce++]=de>>8&255,X[ce++]=de>>16&255}}function $(w,F,V,X,ce,de){if(0==de)for(V=F+V;F<V;)Ae(X,((de=w[F++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),ce+=32;else r(X,ce,w,F,V)}function Ie(w,F){D[F][0]=D[w+"0"],D[F][1]=D[w+"1"],D[F][2]=D[w+"2"],D[F][3]=D[w+"3"],D[F][4]=D[w+"4"],D[F][5]=D[w+"5"],D[F][6]=D[w+"6"],D[F][7]=D[w+"7"],D[F][8]=D[w+"8"],D[F][9]=D[w+"9"],D[F][10]=D[w+"10"],D[F][11]=D[w+"11"],D[F][12]=D[w+"12"],D[F][13]=D[w+"13"],D[F][14]=D[w+"0"],D[F][15]=D[w+"0"]}function Ke(w){return w==z6||w==G6||w==ZF||w==q6}function Te(){this.eb=[],this.size=this.A=this.fb=0}function yt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function nt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Te,this.f.kb=new yt,this.sd=null}function Dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function an(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vt(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Rn(w,F){var V=w.T,X=F.ba.f.RGBA,ce=X.eb,de=X.fb+w.ka*X.A,pe=ff[F.ba.S],me=w.y,_e=w.O,Be=w.f,je=w.N,ct=w.ea,ut=w.W,tt=F.cc,Gt=F.dc,wt=F.Mc,We=F.Nc,Ye=w.ka,kt=w.ka+w.T,Kt=w.U,Qt=Kt+1>>1;for(0==Ye?pe(me,_e,null,null,Be,je,ct,ut,Be,je,ct,ut,ce,de,null,null,Kt):(pe(F.ec,F.fc,me,_e,tt,Gt,wt,We,Be,je,ct,ut,ce,de-X.A,ce,de,Kt),++V);Ye+2<kt;Ye+=2)pe(me,(_e+=2*w.fa)-w.fa,me,_e,tt=Be,Gt=je,wt=ct,We=ut,Be,je+=w.Rc,ct,ut+=w.Rc,ce,(de+=2*X.A)-X.A,ce,de,Kt);return _e+=w.fa,w.j+kt<w.o?(r(F.ec,F.fc,me,_e,Kt),r(F.cc,F.dc,Be,je,Qt),r(F.Mc,F.Nc,ct,ut,Qt),V--):1&kt||pe(me,_e,null,null,Be,je,ct,ut,Be,je,ct,ut,ce,de+X.A,null,null,Kt),V}function Ts(w,F,V){var X=w.F,ce=[w.J];if(null!=X){var de=w.U,pe=F.ba.S,me=pe==YF||pe==ZF;F=F.ba.f.RGBA;var _e=[0],Be=w.ka;_e[0]=w.T,w.Kb&&(0==Be?--_e[0]:(--Be,ce[0]-=w.width),w.j+w.ka+w.T==w.o&&(_e[0]=w.o-w.j-Be));var je=F.eb;w=Ao(X,ce[0],w.width,de,_e,je,(Be=F.fb+Be*F.A)+(me?0:3),F.A),e(V==_e),w&&Ke(pe)&&uf(je,Be,me,de,_e,F.A)}return 0}function Xi(w){var F=w.ma,V=F.ba.S,X=11>V,ce=V==KF||V==XF||V==YF||V==Q6||12==V||Ke(V);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!LS(F.Oa,w,ce?11:12))return 0;if(ce&&Ke(V)&&Jt(),w.da)alert("todo:use_scaling");else{if(X){if(F.Ib=Vt,w.Kb){if(F.memory=s(w.U+2*(V=w.U+1>>1)),null==F.memory)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+w.U,F.Mc=F.cc,F.Nc=F.dc+V,F.Ib=Rn,Jt()}}else alert("todo:EmitYUV");ce&&(F.Jb=Ts,X&&ot())}if(X&&!tue){for(w=0;256>w;++w)Vat[w]=89858*(w-128)+eR>>JF,Gat[w]=-22014*(w-128)+eR,zat[w]=-45773*(w-128),Qat[w]=113618*(w-128)+eR>>JF;for(w=jS;w<$6;++w)qat[w-jS]=dh(F=76283*(w-16)+eR>>JF,255),jat[w-jS]=dh(F+8>>4,15);tue=1}return 1}function gi(w){var F=w.ma,V=w.U,X=w.T;return e(!(1&w.ka)),0>=V||0>=X?0:(V=F.Ib(w,F),null!=F.Jb&&F.Jb(w,F,V),F.Dc+=V,1)}function Ko(w){w.ma.memory=null}function Zn(w,F,V,X){return 47!=ae(w,8)?0:(F[0]=ae(w,14)+1,V[0]=ae(w,14)+1,X[0]=ae(w,1),0!=ae(w,3)?0:!w.h)}function Bu(w,F){if(4>w)return w+1;var V=w-2>>1;return(2+(1&w)<<V)+ae(F,V)+1}function fh(w,F){return 120<F?F-120:1<=(V=((V=Dat[F-1])>>4)*w+(8-(15&V)))?V:1;var V}function Xo(w,F,V){var X=q(V),ce=w[F+=255&X].g-8;return 0<ce&&(oe(V,V.u+8),X=q(V),F+=w[F].value,F+=X&(1<<ce)-1),oe(V,V.u+w[F].g),w[F].value}function Po(w,F,V){return V.g+=w.g,V.value+=w.value<<F>>>0,e(8>=V.g),w.g}function Lo(w,F,V){var X=w.xc;return e((F=0==X?0:w.vc[w.md*(V>>X)+(F>>X)])<w.Wb),w.Ya[F]}function pc(w,F,V,X){var ce=w.ab,de=w.c*F,pe=w.C;F=pe+F;var me=V,_e=X;for(X=w.Ta,V=w.Ua;0<ce--;){var Be=w.gc[ce],je=pe,ct=F,ut=me,tt=_e,Gt=(_e=X,me=V,Be.Ea);switch(e(je<ct),e(ct<=Be.nc),Be.hc){case 2:QF(ut,tt,(ct-je)*Gt,_e,me);break;case 0:var wt=je,We=ct,Ye=_e,kt=me,Kt=(Nn=Be).Ea;0==wt&&(H6(ut,tt,null,null,1,Ye,kt),Xe(ut,tt+1,0,0,Kt-1,Ye,kt+1),tt+=Kt,kt+=Kt,++wt);for(var Qt=1<<Nn.b,Pn=Qt-1,Dn=Ce(Kt,Nn.b),hr=Nn.K,Nn=Nn.w+(wt>>Nn.b)*Dn;wt<We;){var Cs=hr,Us=Nn,os=1;for(HS(ut,tt,Ye,kt-Kt,1,Ye,kt);os<Kt;){var Ri=(os&~Pn)+Qt;Ri>Kt&&(Ri=Kt),(0,Fm[Cs[Us++]>>8&15])(ut,tt+ +os,Ye,kt+os-Kt,Ri-os,Ye,kt+os),os=Ri}tt+=Kt,kt+=Kt,++wt&Pn||(Nn+=Dn)}ct!=Be.nc&&r(_e,me-Gt,_e,me+(ct-je-1)*Gt,Gt);break;case 1:for(Gt=ut,We=tt,Kt=(ut=Be.Ea)-(kt=ut&~(Ye=(tt=1<<Be.b)-1)),wt=Ce(ut,Be.b),Qt=Be.K,Be=Be.w+(je>>Be.b)*wt;je<ct;){for(Pn=Qt,Dn=Be,hr=new re,Nn=We+kt,Cs=We+ut;We<Nn;)Ft(Pn[Dn++],hr),ty(hr,Gt,We,tt,_e,me),We+=tt,me+=tt;We<Cs&&(Ft(Pn[Dn++],hr),ty(hr,Gt,We,Kt,_e,me),We+=Kt,me+=Kt),++je&Ye||(Be+=wt)}break;case 3:if(ut==_e&&tt==me&&0<Be.b){for(We=_e,ut=Gt=me+(ct-je)*Gt-(kt=(ct-je)*Ce(Be.Ea,Be.b)),tt=_e,Ye=me,wt=[],kt=(Kt=kt)-1;0<=kt;--kt)wt[kt]=tt[Ye+kt];for(kt=Kt-1;0<=kt;--kt)We[ut+kt]=wt[kt];af(Be,je,ct,_e,Gt,_e,me)}else af(Be,je,ct,ut,tt,_e,me)}me=X,_e=V}_e!=V&&r(X,V,me,_e,de)}function hd(w,F){var V=w.V,X=w.Ba+w.c*w.C,ce=F-w.C;if(e(F<=w.l.o),e(16>=ce),0<ce){var de=w.l,pe=w.Ta,me=w.Ua,_e=de.width;if(pc(w,ce,V,X),ce=me=[me],e((V=w.C)<(X=F)),e(de.v<de.va),X>de.o&&(X=de.o),V<de.j){var Be=de.j-V;V=de.j,ce[0]+=Be*_e}if(V>=X?V=0:(ce[0]+=4*de.v,de.ka=V-de.j,de.U=de.va-de.v,de.T=X-V,V=1),V){if(me=me[0],11>(V=w.ca).S){var je=V.f.RGBA,ct=(X=V.S,ce=de.U,de=de.T,Be=je.eb,je.A),ut=de;for(je=je.fb+w.Ma*je.A;0<ut--;){var tt=pe,Gt=me,wt=ce,We=Be,Ye=je;switch(X){case $F:Ou(tt,Gt,wt,We,Ye);break;case KF:Yc(tt,Gt,wt,We,Ye);break;case z6:Yc(tt,Gt,wt,We,Ye),uf(We,Ye,0,wt,1,0);break;case qce:Rp(tt,Gt,wt,We,Ye);break;case XF:$(tt,Gt,wt,We,Ye,1);break;case G6:$(tt,Gt,wt,We,Ye,1),uf(We,Ye,0,wt,1,0);break;case YF:$(tt,Gt,wt,We,Ye,0);break;case ZF:$(tt,Gt,wt,We,Ye,0),uf(We,Ye,1,wt,1,0);break;case Q6:Rm(tt,Gt,wt,We,Ye);break;case q6:Rm(tt,Gt,wt,We,Ye),fo(We,Ye,wt,1,0);break;case jce:Fp(tt,Gt,wt,We,Ye);break;default:e(0)}me+=_e,je+=ct}w.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=V.height)}}w.C=F,e(w.C<=w.i)}function nf(w){var F;if(0<w.ua)return 0;for(F=0;F<w.Wb;++F){var V=w.Ya[F].G,X=w.Ya[F].H;if(0<V[1][X[1]+0].g||0<V[2][X[2]+0].g||0<V[3][X[3]+0].g)return 0}return 1}function gc(w,F,V,X,ce,de){if(0!=w.Z){var pe=w.qd,me=w.rd;for(e(null!=Um[w.Z]);F<V;++F)Um[w.Z](pe,me,X,ce,X,ce,de),pe=X,me=ce,ce+=de;w.qd=pe,w.rd=me}}function Nu(w,F){var V=w.l.ma,X=0==V.Z||1==V.Z?w.l.j:w.C;if(X=w.C<X?X:w.C,e(F<=w.l.o),F>X){var ce=w.l.width,de=V.ca,pe=V.tb+ce*X,me=w.V,_e=w.Ba+w.c*X,Be=w.gc;e(1==w.ab),e(3==Be[0].hc),zF(Be[0],X,F,me,_e,de,pe),gc(V,X,F,de,pe,ce)}w.C=w.Ma=F}function Iu(w,F,V,X,ce,de,pe){var me=w.$/X,_e=w.$%X,Be=w.m,je=w.s,ct=V+w.$,ut=ct;ce=V+X*ce;var tt=V+X*de,Gt=280+je.ua,wt=w.Pb?me:16777216,We=0<je.ua?je.Wa:null,Ye=je.wc,kt=ct<tt?Lo(je,_e,me):null;e(w.C<de),e(tt<=ce);var Kt=!1;e:for(;;){for(;Kt||ct<tt;){var Qt=0;if(me>=wt){var Pn=ct-V;e((wt=w).Pb),wt.wd=wt.m,wt.xd=Pn,0<wt.s.ua&&Y(wt.s.Wa,wt.s.vb),wt=me+Tat}if(_e&Ye||(kt=Lo(je,_e,me)),e(null!=kt),kt.Qb&&(F[ct]=kt.qb,Kt=!0),!Kt)if(se(Be),kt.jc){Pn=F;var Dn=ct,hr=kt.pd[q(Qt=Be)&zl-1];e(kt.jc),256>hr.g?(oe(Qt,Qt.u+hr.g),Pn[Dn]=hr.value,Qt=0):(oe(Qt,Qt.u+hr.g-256),e(256<=hr.value),Qt=hr.value),0==Qt&&(Kt=!0)}else Qt=Xo(kt.G[0],kt.H[0],Be);if(Be.h)break;if(Kt||256>Qt){if(!Kt)if(kt.nd)F[ct]=(kt.qb|Qt<<8)>>>0;else{if(se(Be),Kt=Xo(kt.G[1],kt.H[1],Be),se(Be),Pn=Xo(kt.G[2],kt.H[2],Be),Dn=Xo(kt.G[3],kt.H[3],Be),Be.h)break;F[ct]=(Dn<<24|Kt<<16|Qt<<8|Pn)>>>0}if(Kt=!1,++ct,++_e>=X&&(_e=0,++me,null!=pe&&me<=de&&!(me%16)&&pe(w,me),null!=We))for(;ut<ct;)Qt=F[ut++],We.X[(506832829*Qt&4294967295)>>>We.Mb]=Qt}else if(280>Qt){if(Qt=Bu(Qt-256,Be),Pn=Xo(kt.G[4],kt.H[4],Be),se(Be),Pn=fh(X,Pn=Bu(Pn,Be)),Be.h)break;if(ct-V<Pn||ce-ct<Qt)break e;for(Dn=0;Dn<Qt;++Dn)F[ct+Dn]=F[ct+Dn-Pn];for(ct+=Qt,_e+=Qt;_e>=X;)_e-=X,++me,null!=pe&&me<=de&&!(me%16)&&pe(w,me);if(e(ct<=ce),_e&Ye&&(kt=Lo(je,_e,me)),null!=We)for(;ut<ct;)Qt=F[ut++],We.X[(506832829*Qt&4294967295)>>>We.Mb]=Qt}else{if(!(Qt<Gt))break e;for(Kt=Qt-280,e(null!=We);ut<ct;)Qt=F[ut++],We.X[(506832829*Qt&4294967295)>>>We.Mb]=Qt;Qt=ct,e(!(Kt>>>(Pn=We).Xa)),F[Qt]=Pn.X[Kt],Kt=!0}Kt||e(Be.h==K(Be))}if(w.Pb&&Be.h&&ct<ce)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Y(w.s.vb,w.s.Wa);else{if(Be.h)break e;pe?.(w,me>de?de:me),w.a=0,w.$=ct-V}return 1}return w.a=3,0}function rf(w){e(null!=w),w.vc=null,w.yc=null,w.Ya=null;var F=w.Wa;null!=F&&(F.X=null),w.vb=null,e(null!=w)}function Fu(){var w=new k6;return null==w?null:(w.a=0,w.xb=Kce,Ie("Predictor","VP8LPredictors"),Ie("Predictor","VP8LPredictors_C"),Ie("PredictorAdd","VP8LPredictorsAdd"),Ie("PredictorAdd","VP8LPredictorsAdd_C"),QF=Pt,ty=Tt,Ou=st,Yc=vn,Rm=pn,Fp=_n,Rp=tn,D.VP8LMapColor32b=Jb,D.VP8LMapColor8b=GF,w)}function sf(w,F,V,X,ce){var de=1,pe=[w],me=[F],_e=X.m,Be=X.s,je=null,ct=0;e:for(;;){if(V)for(;de&&ae(_e,1);){var ut=pe,tt=me,Gt=X,wt=1,We=Gt.m,Ye=Gt.gc[Gt.ab],kt=ae(We,2);if(Gt.Oc&1<<kt)de=0;else{switch(Gt.Oc|=1<<kt,Ye.hc=kt,Ye.Ea=ut[0],Ye.nc=tt[0],Ye.K=[null],++Gt.ab,e(4>=Gt.ab),kt){case 0:case 1:Ye.b=ae(We,3)+2,wt=sf(Ce(Ye.Ea,Ye.b),Ce(Ye.nc,Ye.b),0,Gt,Ye.K),Ye.K=Ye.K[0];break;case 3:var Kt,Qt=ae(We,8)+1,Pn=16<Qt?0:4<Qt?1:2<Qt?2:3;if(ut[0]=Ce(Ye.Ea,Pn),Ye.b=Pn,Kt=wt=sf(Qt,1,0,Gt,Ye.K)){var Dn,hr=Qt,Nn=Ye,Cs=1<<(8>>Nn.b),Us=s(Cs);if(null==Us)Kt=0;else{var os=Nn.K[0],Ri=Nn.w;for(Us[0]=Nn.K[0][0],Dn=1;Dn<1*hr;++Dn)Us[Dn]=Pe(os[Ri+Dn],Us[Dn-1]);for(;Dn<4*Cs;++Dn)Us[Dn]=0;Nn.K[0]=null,Nn.K[0]=Us,Kt=1}}wt=Kt;break;case 2:break;default:e(0)}de=wt}}if(pe=pe[0],me=me[0],de&&ae(_e,1)&&!(de=1<=(ct=ae(_e,4))&&11>=ct)){X.a=3;break e}var so;if(so=de)t:{var Xs,oi,Ra,Pu=X,Oa=pe,Lu=me,ks=ct,ph=V,gh=Pu.m,yl=Pu.s,Gl=[null],Jc=1,df=0,dA=Mat[ks];n:for(;;){if(ph&&ae(gh,1)){var _l=ae(gh,3)+2,Up=Ce(Oa,_l),oy=Ce(Lu,_l),iw=Up*oy;if(!sf(Up,oy,0,Pu,Gl))break n;for(Gl=Gl[0],yl.xc=_l,Xs=0;Xs<iw;++Xs){var km=Gl[Xs]>>8&65535;Gl[Xs]=km,km>=Jc&&(Jc=km+1)}}if(gh.h)break n;for(oi=0;5>oi;++oi){var Jo=Wce[oi];!oi&&0<ks&&(Jo+=1<<ks),df<Jo&&(df=Jo)}var K6=o(Jc*dA,R),iue=Jc,sue=o(iue,k);if(null==sue)var nR=null;else e(65536>=iue),nR=sue;var WS=s(df);if(null==nR||null==WS||null==K6){Pu.a=1;break n}var rR=K6;for(Xs=Ra=0;Xs<Jc;++Xs){var gd=nR[Xs],sw=gd.G,ow=gd.H,oue=0,iR=1,aue=0;for(oi=0;5>oi;++oi){Jo=Wce[oi],sw[oi]=rR,ow[oi]=Ra,!oi&&0<ks&&(Jo+=1<<ks);i:{var sR,X6=Jo,oR=Pu,$S=WS,Kat=rR,Xat=Ra,Y6=0,Hm=oR.m,Yat=ae(Hm,1);if(i($S,0,0,X6),Yat){var Zat=ae(Hm,1)+1,Jat=ae(Hm,1),lue=ae(Hm,0==Jat?1:8);$S[lue]=1,2==Zat&&($S[lue=ae(Hm,8)]=1);var aR=1}else{var cue=s(19),uue=ae(Hm,4)+4;if(19<uue){oR.a=3;var lR=0;break i}for(sR=0;sR<uue;++sR)cue[Sat[sR]]=ae(Hm,3);var Z6=void 0,KS=void 0,hue=oR,elt=cue,cR=X6,fue=$S,J6=0,Vm=hue.m,due=8,Aue=o(128,R);r:for(;B(Aue,0,7,elt,19);){if(ae(Vm,1)){var tlt=2+2*ae(Vm,3);if((Z6=2+ae(Vm,tlt))>cR)break r}else Z6=cR;for(KS=0;KS<cR&&Z6--;){se(Vm);var pue=Aue[0+(127&q(Vm))];oe(Vm,Vm.u+pue.g);var aw=pue.value;if(16>aw)fue[KS++]=aw,0!=aw&&(due=aw);else{var nlt=16==aw,gue=aw-16,rlt=xat[gue],mue=ae(Vm,Cat[gue])+rlt;if(KS+mue>cR)break r;for(var ilt=nlt?due:0;0<mue--;)fue[KS++]=ilt}}J6=1;break r}J6||(hue.a=3),aR=J6}(aR=aR&&!Hm.h)&&(Y6=B(Kat,Xat,8,$S,X6)),aR&&0!=Y6?lR=Y6:(oR.a=3,lR=0)}if(0==lR)break n;if(iR&&1==Eat[oi]&&(iR=0==rR[Ra].g),oue+=rR[Ra].g,Ra+=lR,3>=oi){var XS,eV=WS[0];for(XS=1;XS<Jo;++XS)WS[XS]>eV&&(eV=WS[XS]);aue+=eV}}if(gd.nd=iR,gd.Qb=0,iR&&(gd.qb=(sw[3][ow[3]+0].value<<24|sw[1][ow[1]+0].value<<16|sw[2][ow[2]+0].value)>>>0,0==oue&&256>sw[0][ow[0]+0].value&&(gd.Qb=1,gd.qb+=sw[0][ow[0]+0].value<<8)),gd.jc=!gd.Qb&&6>aue,gd.jc){var uR,kp=gd;for(uR=0;uR<zl;++uR){var Qm=uR,zm=kp.pd[Qm],hR=kp.G[0][kp.H[0]+Qm];256<=hR.value?(zm.g=hR.g+256,zm.value=hR.value):(zm.g=0,zm.value=0,Qm>>=Po(hR,8,zm),Qm>>=Po(kp.G[1][kp.H[1]+Qm],16,zm),Qm>>=Po(kp.G[2][kp.H[2]+Qm],0,zm),Po(kp.G[3][kp.H[3]+Qm],24,zm))}}}yl.vc=Gl,yl.Wb=Jc,yl.Ya=nR,yl.yc=K6,so=1;break t}so=0}if(!(de=so)){X.a=3;break e}if(0<ct){if(Be.ua=1<<ct,!ne(Be.Wa,ct)){X.a=1,de=0;break e}}else Be.ua=0;var tV=X,vue=pe,slt=me,nV=tV.s,rV=nV.xc;if(tV.c=vue,tV.i=slt,nV.md=Ce(vue,rV),nV.wc=0==rV?-1:(1<<rV)-1,V){X.xb=Pat;break e}if(null==(je=s(pe*me))){X.a=1,de=0;break e}de=(de=Iu(X,je,0,pe,me,me,null))&&!_e.h;break e}return de?(null!=ce?ce[0]=je:(e(null==je),e(V)),X.$=0,V||rf(Be)):rf(Be),de}function Bp(w,F){var V=w.c*w.i,X=V+F+16*F;return e(w.c<=F),w.V=s(X),null==w.V?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+V+F,1)}function Mm(w,F){var V=w.C,X=F-V,ce=w.V,de=w.Ba+w.c*V;for(e(F<=w.l.o);0<X;){var pe=16<X?16:X,me=w.l.ma,_e=w.l.width,Be=_e*pe,je=me.ca,ct=me.tb+_e*V,ut=w.Ta,tt=w.Ua;pc(w,pe,ce,de),pa(ut,tt,je,ct,Be),gc(me,V,V+pe,je,ct,_e),X-=pe,ce+=pe*w.c,V+=pe}e(V==F),w.C=w.Ma=F}function be(){this.ub=this.yd=this.td=this.Rb=0}function et(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function At(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function pt(){var w;this.Yb=(function F(V,X,ce){for(var de=ce[X],pe=0;pe<de&&(V.push(ce.length>X+1?[]:0),!(ce.length<X+1));pe++)F(V[pe],X+1,ce)}(w=[],0,[3,11]),w)}function it(){this.jb=s(3),this.Wc=a([4,8],pt),this.Xc=a([4,17],pt)}function sn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function wn(){this.ld=this.La=this.dd=this.tc=0}function Un(){this.Na=this.la=0}function Qn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pr(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Mr(){this.uc=this.M=this.Nb=0,this.wa=Array(new wn),this.Y=0,this.ya=Array(new pr),this.aa=0,this.l=new Ii}function rr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function _i(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new be,this.Kc=new et,this.ed=new sn,this.Qa=new At,this.Ic=this.$c=this.Aa=0,this.D=new Mr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ve),this.ia=0,this.pb=o(4,Qn),this.Pa=new it,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rr),this.Hd=0,this.rb=Array(new Un),this.sb=0,this.wa=Array(new wn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pr),this.L=this.aa=0,this.gd=a([4,2],wn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ii(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function io(){var w=new _i;return null!=w&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,qS||(qS=Yo)),w}function jr(w,F,V){return 0==w.a&&(w.a=F,w.sc=V,w.cb=0),0}function Mi(w,F,V){return 3<=V&&157==w[F+0]&&1==w[F+1]&&42==w[F+2]}function ir(w,F){if(null==w)return 0;if(w.a=0,w.sc="OK",null==F)return jr(w,2,"null VP8Io passed to VP8GetHeaders()");var V=F.data,X=F.w,ce=F.ha;if(4>ce)return jr(w,7,"Truncated header.");var de=V[X+0]|V[X+1]<<8|V[X+2]<<16,pe=w.Od;if(pe.Rb=!(1&de),pe.td=de>>1&7,pe.yd=de>>4&1,pe.ub=de>>5,3<pe.td)return jr(w,3,"Incorrect keyframe parameters.");if(!pe.yd)return jr(w,4,"Frame not displayable.");X+=3,ce-=3;var me=w.Kc;if(pe.Rb){if(7>ce)return jr(w,7,"cannot parse picture header");if(!Mi(V,X,ce))return jr(w,3,"Bad code word");me.c=16383&(V[X+4]<<8|V[X+3]),me.Td=V[X+4]>>6,me.i=16383&(V[X+6]<<8|V[X+5]),me.Ud=V[X+6]>>6,X+=7,ce-=7,w.za=me.c+15>>4,w.Ub=me.i+15>>4,F.width=me.c,F.height=me.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,i((de=w.Pa).jb,0,255,de.jb.length),e(null!=(de=w.Qa)),de.Cb=0,de.Bb=0,de.Fb=1,i(de.Zb,0,0,de.Zb.length),i(de.Lb,0,0,de.Lb)}if(pe.ub>ce)return jr(w,7,"bad partition length");j(de=w.m,V,X,pe.ub),X+=pe.ub,ce-=pe.ub,pe.Rb&&(me.Ld=te(de),me.Kd=te(de)),me=w.Qa;var _e,Be=w.Pa;if(e(null!=de),e(null!=me),me.Cb=te(de),me.Cb){if(me.Bb=te(de),te(de)){for(me.Fb=te(de),_e=0;4>_e;++_e)me.Zb[_e]=te(de)?P(de,7):0;for(_e=0;4>_e;++_e)me.Lb[_e]=te(de)?P(de,6):0}if(me.Bb)for(_e=0;3>_e;++_e)Be.jb[_e]=te(de)?O(de,8):255}else me.Bb=0;if(de.Ka)return jr(w,3,"cannot parse segment header");if((me=w.ed).zd=te(de),me.Tb=O(de,6),me.wb=O(de,3),me.Pc=te(de),me.Pc&&te(de)){for(Be=0;4>Be;++Be)te(de)&&(me.vd[Be]=P(de,6));for(Be=0;4>Be;++Be)te(de)&&(me.od[Be]=P(de,6))}if(w.L=0==me.Tb?0:me.zd?1:2,de.Ka)return jr(w,3,"cannot parse filter header");var je=ce;if(ce=_e=X,X=_e+je,me=je,w.Xb=(1<<O(w.m,2))-1,je<3*(Be=w.Xb))V=7;else{for(_e+=3*Be,me-=3*Be,je=0;je<Be;++je){var ct=V[ce+0]|V[ce+1]<<8|V[ce+2]<<16;ct>me&&(ct=me),j(w.Jc[+je],V,_e,ct),_e+=ct,me-=ct,ce+=3}j(w.Jc[+Be],V,_e,me),V=_e<X?0:5}if(0!=V)return jr(w,V,"cannot parse partitions");for(V=O(_e=w.m,7),ce=te(_e)?P(_e,4):0,X=te(_e)?P(_e,4):0,me=te(_e)?P(_e,4):0,Be=te(_e)?P(_e,4):0,_e=te(_e)?P(_e,4):0,je=w.Qa,ct=0;4>ct;++ct){if(je.Cb){var ut=je.Zb[ct];je.Fb||(ut+=V)}else{if(0<ct){w.pb[ct]=w.pb[0];continue}ut=V}var tt=w.pb[ct];tt.Sc[0]=j6[dh(ut+ce,127)],tt.Sc[1]=W6[dh(ut+0,127)],tt.Eb[0]=2*j6[dh(ut+X,127)],tt.Eb[1]=101581*W6[dh(ut+me,127)]>>16,8>tt.Eb[1]&&(tt.Eb[1]=8),tt.Qc[0]=j6[dh(ut+Be,117)],tt.Qc[1]=W6[dh(ut+_e,127)],tt.lc=ut+_e}if(!pe.Rb)return jr(w,4,"Not a key frame.");for(te(de),pe=w.Pa,V=0;4>V;++V){for(ce=0;8>ce;++ce)for(X=0;3>X;++X)for(me=0;11>me;++me)Be=ee(de,Rat[V][ce][X][me])?O(de,8):Iat[V][ce][X][me],pe.Wc[V][ce].Yb[X][me]=Be;for(ce=0;17>ce;++ce)pe.Xc[V][ce]=pe.Wc[V][Oat[ce]]}return w.kc=te(de),w.kc&&(w.Bd=O(de,8)),w.cb=1}function Yo(w,F,V,X,ce,de,pe){var me=F[ce].Yb[V];for(V=0;16>ce;++ce){if(!ee(w,me[V+0]))return ce;for(;!ee(w,me[V+1]);)if(me=F[++ce].Yb[0],V=0,16==ce)return 16;var _e=F[ce+1].Yb;if(ee(w,me[V+2])){var Be=w,je=0;if(ee(Be,(ut=me)[(ct=V)+3]))if(ee(Be,ut[ct+6])){for(me=0,ct=2*(je=ee(Be,ut[ct+8]))+(ut=ee(Be,ut[ct+9+je])),je=0,ut=Bat[ct];ut[me];++me)je+=je+ee(Be,ut[me]);je+=3+(8<<ct)}else ee(Be,ut[ct+7])?(je=7+2*ee(Be,165),je+=ee(Be,145)):je=5+ee(Be,159);else je=ee(Be,ut[ct+4])?3+ee(Be,ut[ct+5]):2;me=_e[2]}else je=1,me=_e[1];_e=pe+Nat[ce],0>(Be=w).b&&le(Be);var ct,ut=Be.b,tt=(ct=Be.Ca>>1)-(Be.I>>ut)>>31;--Be.b,Be.Ca+=tt,Be.Ca|=1,Be.I-=(ct+1&tt)<<ut,de[_e]=((je^tt)-tt)*X[(0<ce)+0]}return 16}function Fi(w){var F=w.rb[w.sb-1];F.la=0,F.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function gl(w,F,V,X,ce){w[F+V+32*X]=-256&(ce=w[F+V+32*X]+(ce>>3))?0>ce?0:255:ce}function Ba(w,F,V,X,ce,de){gl(w,F,0,V,X+ce),gl(w,F,1,V,X+de),gl(w,F,2,V,X-de),gl(w,F,3,V,X-ce)}function Na(w){return(20091*w>>16)+w}function Bs(w,F,V,X){var ce,de=0,pe=s(16);for(ce=0;4>ce;++ce){var me=w[F+0]+w[F+8],_e=w[F+0]-w[F+8],Be=(35468*w[F+4]>>16)-Na(w[F+12]),je=Na(w[F+4])+(35468*w[F+12]>>16);pe[de+0]=me+je,pe[de+1]=_e+Be,pe[de+2]=_e-Be,pe[de+3]=me-je,de+=4,F++}for(ce=de=0;4>ce;++ce)me=(w=pe[de+0]+4)+pe[de+8],_e=w-pe[de+8],Be=(35468*pe[de+4]>>16)-Na(pe[de+12]),gl(V,X,0,0,me+(je=Na(pe[de+4])+(35468*pe[de+12]>>16))),gl(V,X,1,0,_e+Be),gl(V,X,2,0,_e-Be),gl(V,X,3,0,me-je),de++,X+=32}function Ql(w,F,V,X){var ce=w[F+0]+4,de=35468*w[F+4]>>16,pe=Na(w[F+4]),me=35468*w[F+1]>>16;Ba(V,X,0,ce+pe,w=Na(w[F+1]),me),Ba(V,X,1,ce+de,w,me),Ba(V,X,2,ce-de,w,me),Ba(V,X,3,ce-pe,w,me)}function mc(w,F,V,X,ce){Bs(w,F,V,X),ce&&Bs(w,F+16,V,X+4)}function Ia(w,F,V,X){Op(w,F+0,V,X,1),Op(w,F+32,V,X+128,1)}function ml(w,F,V,X){var ce;for(w=w[F+0]+4,ce=0;4>ce;++ce)for(F=0;4>F;++F)gl(V,X,F,ce,w)}function Tm(w,F,V,X){w[F+0]&&Zc(w,F+0,V,X),w[F+16]&&Zc(w,F+16,V,X+4),w[F+32]&&Zc(w,F+32,V,X+128),w[F+48]&&Zc(w,F+48,V,X+128+4)}function fd(w,F,V,X){var ce,de=s(16);for(ce=0;4>ce;++ce){var pe=w[F+0+ce]+w[F+12+ce],me=w[F+4+ce]+w[F+8+ce],_e=w[F+4+ce]-w[F+8+ce],Be=w[F+0+ce]-w[F+12+ce];de[0+ce]=pe+me,de[8+ce]=pe-me,de[4+ce]=Be+_e,de[12+ce]=Be-_e}for(ce=0;4>ce;++ce)pe=(w=de[0+4*ce]+3)+de[3+4*ce],_e=de[1+4*ce]-de[2+4*ce],Be=w-de[3+4*ce],V[X+0]=pe+(me=de[1+4*ce]+de[2+4*ce])>>3,V[X+16]=Be+_e>>3,V[X+32]=pe-me>>3,V[X+48]=Be-_e>>3,X+=64}function xS(w,F,V){var X,ce=F-32,de=Ah,pe=255-w[ce-1];for(X=0;X<V;++X){var me,_e=de,Be=pe+w[F-1];for(me=0;me<V;++me)w[F+me]=_e[Be+w[ce+me]];F+=32}}function S6(w,F){xS(w,F,4)}function D6(w,F){xS(w,F,8)}function M6(w,F){xS(w,F,16)}function Np(w,F){var V;for(V=0;16>V;++V)r(w,F+32*V,w,F-32,16)}function Vb(w,F){var V;for(V=16;0<V;--V)i(w,F,w[F-1],16),F+=32}function Qb(w,F,V){var X;for(X=0;16>X;++X)i(F,V+32*X,w,16)}function NF(w,F){var V,X=16;for(V=0;16>V;++V)X+=w[F-1+32*V]+w[F+V-32];Qb(X>>5,w,F)}function vc(w,F){var V,X=8;for(V=0;16>V;++V)X+=w[F-1+32*V];Qb(X>>4,w,F)}function T6(w,F){var V,X=8;for(V=0;16>V;++V)X+=w[F+V-32];Qb(X>>4,w,F)}function IF(w,F){Qb(128,w,F)}function Hr(w,F,V){return w+2*F+V+2>>2}function B6(w,F){var V,X=F-32;for(X=new Uint8Array([Hr(w[X-1],w[X+0],w[X+1]),Hr(w[X+0],w[X+1],w[X+2]),Hr(w[X+1],w[X+2],w[X+3]),Hr(w[X+2],w[X+3],w[X+4])]),V=0;4>V;++V)r(w,F+32*V,X,0,X.length)}function N6(w,F){var V=w[F-1],X=w[F-1+32],ce=w[F-1+64],de=w[F-1+96];Ae(w,F+0,16843009*Hr(w[F-1-32],V,X)),Ae(w,F+32,16843009*Hr(V,X,ce)),Ae(w,F+64,16843009*Hr(X,ce,de)),Ae(w,F+96,16843009*Hr(ce,de,de))}function uA(w,F){var V,X=4;for(V=0;4>V;++V)X+=w[F+V-32]+w[F-1+32*V];for(X>>=3,V=0;4>V;++V)i(w,F+32*V,X,4)}function FF(w,F){var V=w[F-1+0],X=w[F-1+32],ce=w[F-1+64],de=w[F-1-32],pe=w[F+0-32],me=w[F+1-32],_e=w[F+2-32],Be=w[F+3-32];w[F+0+96]=Hr(X,ce,w[F-1+96]),w[F+1+96]=w[F+0+64]=Hr(V,X,ce),w[F+2+96]=w[F+1+64]=w[F+0+32]=Hr(de,V,X),w[F+3+96]=w[F+2+64]=w[F+1+32]=w[F+0+0]=Hr(pe,de,V),w[F+3+64]=w[F+2+32]=w[F+1+0]=Hr(me,pe,de),w[F+3+32]=w[F+2+0]=Hr(_e,me,pe),w[F+3+0]=Hr(Be,_e,me)}function RF(w,F){var V=w[F+1-32],X=w[F+2-32],ce=w[F+3-32],de=w[F+4-32],pe=w[F+5-32],me=w[F+6-32],_e=w[F+7-32];w[F+0+0]=Hr(w[F+0-32],V,X),w[F+1+0]=w[F+0+32]=Hr(V,X,ce),w[F+2+0]=w[F+1+32]=w[F+0+64]=Hr(X,ce,de),w[F+3+0]=w[F+2+32]=w[F+1+64]=w[F+0+96]=Hr(ce,de,pe),w[F+3+32]=w[F+2+64]=w[F+1+96]=Hr(de,pe,me),w[F+3+64]=w[F+2+96]=Hr(pe,me,_e),w[F+3+96]=Hr(me,_e,_e)}function zb(w,F){var V=w[F-1+0],X=w[F-1+32],ce=w[F-1+64],de=w[F-1-32],pe=w[F+0-32],me=w[F+1-32],_e=w[F+2-32],Be=w[F+3-32];w[F+0+0]=w[F+1+64]=de+pe+1>>1,w[F+1+0]=w[F+2+64]=pe+me+1>>1,w[F+2+0]=w[F+3+64]=me+_e+1>>1,w[F+3+0]=_e+Be+1>>1,w[F+0+96]=Hr(ce,X,V),w[F+0+64]=Hr(X,V,de),w[F+0+32]=w[F+1+96]=Hr(V,de,pe),w[F+1+32]=w[F+2+96]=Hr(de,pe,me),w[F+2+32]=w[F+3+96]=Hr(pe,me,_e),w[F+3+32]=Hr(me,_e,Be)}function ES(w,F){var V=w[F+0-32],X=w[F+1-32],ce=w[F+2-32],de=w[F+3-32],pe=w[F+4-32],me=w[F+5-32],_e=w[F+6-32],Be=w[F+7-32];w[F+0+0]=V+X+1>>1,w[F+1+0]=w[F+0+64]=X+ce+1>>1,w[F+2+0]=w[F+1+64]=ce+de+1>>1,w[F+3+0]=w[F+2+64]=de+pe+1>>1,w[F+0+32]=Hr(V,X,ce),w[F+1+32]=w[F+0+96]=Hr(X,ce,de),w[F+2+32]=w[F+1+96]=Hr(ce,de,pe),w[F+3+32]=w[F+2+96]=Hr(de,pe,me),w[F+3+64]=Hr(pe,me,_e),w[F+3+96]=Hr(me,_e,Be)}function I6(w,F){var V=w[F-1+0],X=w[F-1+32],ce=w[F-1+64],de=w[F-1+96];w[F+0+0]=V+X+1>>1,w[F+2+0]=w[F+0+32]=X+ce+1>>1,w[F+2+32]=w[F+0+64]=ce+de+1>>1,w[F+1+0]=Hr(V,X,ce),w[F+3+0]=w[F+1+32]=Hr(X,ce,de),w[F+3+32]=w[F+1+64]=Hr(ce,de,de),w[F+3+64]=w[F+2+64]=w[F+0+96]=w[F+1+96]=w[F+2+96]=w[F+3+96]=de}function F6(w,F){var V=w[F-1+0],X=w[F-1+32],ce=w[F-1+64],de=w[F-1+96],pe=w[F-1-32],me=w[F+0-32],_e=w[F+1-32],Be=w[F+2-32];w[F+0+0]=w[F+2+32]=V+pe+1>>1,w[F+0+32]=w[F+2+64]=X+V+1>>1,w[F+0+64]=w[F+2+96]=ce+X+1>>1,w[F+0+96]=de+ce+1>>1,w[F+3+0]=Hr(me,_e,Be),w[F+2+0]=Hr(pe,me,_e),w[F+1+0]=w[F+3+32]=Hr(V,pe,me),w[F+1+32]=w[F+3+64]=Hr(X,V,pe),w[F+1+64]=w[F+3+96]=Hr(ce,X,V),w[F+1+96]=Hr(de,ce,X)}function R6(w,F){var V;for(V=0;8>V;++V)r(w,F+32*V,w,F-32,8)}function SS(w,F){var V;for(V=0;8>V;++V)i(w,F,w[F-1],8),F+=32}function Y0(w,F,V){var X;for(X=0;8>X;++X)i(F,V+32*X,w,8)}function Bm(w,F){var V,X=8;for(V=0;8>V;++V)X+=w[F+V-32]+w[F-1+32*V];Y0(X>>4,w,F)}function O6(w,F){var V,X=4;for(V=0;8>V;++V)X+=w[F+V-32];Y0(X>>3,w,F)}function Z0(w,F){var V,X=4;for(V=0;8>V;++V)X+=w[F-1+32*V];Y0(X>>3,w,F)}function DS(w,F){Y0(128,w,F)}function Gb(w,F,V){var X=w[F-V],ce=w[F+0],de=3*(ce-X)+V6[1020+w[F-2*V]-w[F+V]],pe=WF[112+(de+4>>3)];w[F-V]=Ah[255+X+WF[112+(de+3>>3)]],w[F+0]=Ah[255+ce-pe]}function OF(w,F,V,X){return hf[255+w[F-2*V]-w[F-V]]>X||hf[255+w[F+V]-w[F+0]]>X}function PF(w,F,V,X){return 4*hf[255+w[F-V]-w[F+0]]+hf[255+w[F-2*V]-w[F+V]]<=X}function LF(w,F,V,X,ce){var de=w[F-3*V],pe=w[F-2*V],me=w[F-V],_e=w[F+0],Be=w[F+V],je=w[F+2*V];return 4*hf[255+me-_e]+hf[255+pe-Be]>X?0:hf[255+w[F-4*V]-de]<=ce&&hf[255+de-pe]<=ce&&hf[255+pe-me]<=ce&&hf[255+w[F+3*V]-je]<=ce&&hf[255+je-Be]<=ce&&hf[255+Be-_e]<=ce}function UF(w,F,V,X){var ce=2*X+1;for(X=0;16>X;++X)PF(w,F+X,V,ce)&&Gb(w,F+X,V)}function hA(w,F,V,X){var ce=2*X+1;for(X=0;16>X;++X)PF(w,F+X*V,1,ce)&&Gb(w,F+X*V,1)}function Ip(w,F,V,X){var ce;for(ce=3;0<ce;--ce)UF(w,F+=4*V,V,X)}function P6(w,F,V,X){var ce;for(ce=3;0<ce;--ce)hA(w,F+=4,V,X)}function Nm(w,F,V,X,ce,de,pe,me){for(de=2*de+1;0<ce--;){if(LF(w,F,V,de,pe))if(OF(w,F,V,me))Gb(w,F,V);else{var _e=w,Be=F,je=V,ct=_e[Be-2*je],ut=_e[Be-je],tt=_e[Be+0],Gt=_e[Be+je],wt=_e[Be+2*je],We=27*(kt=V6[1020+3*(tt-ut)+V6[1020+ct-Gt]])+63>>7,Ye=18*kt+63>>7,kt=9*kt+63>>7;_e[Be-3*je]=Ah[255+_e[Be-3*je]+kt],_e[Be-2*je]=Ah[255+ct+Ye],_e[Be-je]=Ah[255+ut+We],_e[Be+0]=Ah[255+tt-We],_e[Be+je]=Ah[255+Gt-Ye],_e[Be+2*je]=Ah[255+wt-kt]}F+=X}}function dd(w,F,V,X,ce,de,pe,me){for(de=2*de+1;0<ce--;){if(LF(w,F,V,de,pe))if(OF(w,F,V,me))Gb(w,F,V);else{var _e=w,Be=F,je=V,ct=_e[Be-je],ut=_e[Be+0],tt=_e[Be+je],Gt=WF[112+(4+(wt=3*(ut-ct))>>3)],wt=WF[112+(wt+3>>3)],We=Gt+1>>1;_e[Be-2*je]=Ah[255+_e[Be-2*je]+We],_e[Be-je]=Ah[255+ct+wt],_e[Be+0]=Ah[255+ut-Gt],_e[Be+je]=Ah[255+tt-We]}F+=X}}function MS(w,F,V,X,ce,de){Nm(w,F,V,1,16,X,ce,de)}function J0(w,F,V,X,ce,de){Nm(w,F,1,V,16,X,ce,de)}function L6(w,F,V,X,ce,de){var pe;for(pe=3;0<pe;--pe)dd(w,F+=4*V,V,1,16,X,ce,de)}function qb(w,F,V,X,ce,de){var pe;for(pe=3;0<pe;--pe)dd(w,F+=4,1,V,16,X,ce,de)}function U6(w,F,V,X,ce,de,pe,me){Nm(w,F,ce,1,8,de,pe,me),Nm(V,X,ce,1,8,de,pe,me)}function TS(w,F,V,X,ce,de,pe,me){Nm(w,F,1,ce,8,de,pe,me),Nm(V,X,1,ce,8,de,pe,me)}function BS(w,F,V,X,ce,de,pe,me){dd(w,F+4*ce,ce,1,8,de,pe,me),dd(V,X+4*ce,ce,1,8,de,pe,me)}function kF(w,F,V,X,ce,de,pe,me){dd(w,F+4,1,ce,8,de,pe,me),dd(V,X+4,1,ce,8,de,pe,me)}function jb(){this.ba=new nt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new an,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function NS(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function IS(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function HF(){this.ua=0,this.Wa=new W,this.vb=new W,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new k,this.yc=new R}function k6(){this.xb=this.a=0,this.l=new Ii,this.ca=new nt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new HF,this.ab=0,this.gc=o(4,IS),this.Oc=0}function Wb(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ii,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ey(w,F,V,X,ce,de,pe){for(w=null==w?0:w[F+0],F=0;F<pe;++F)ce[de+F]=w+V[X+F]&255,w=ce[de+F]}function FS(w,F,V,X,ce,de,pe){var me;if(null==w)ey(null,null,V,X,ce,de,pe);else for(me=0;me<pe;++me)ce[de+me]=w[F+me]+V[X+me]&255}function Im(w,F,V,X,ce,de,pe){if(null==w)ey(null,null,V,X,ce,de,pe);else{var me,_e=w[F+0],Be=_e,je=_e;for(me=0;me<pe;++me)Be=je+(_e=w[F+me])-Be,je=V[X+me]+(-256&Be?0>Be?0:255:Be)&255,Be=_e,ce[de+me]=je}}function RS(w,F,V,X){var ce=F.width,de=F.o;if(e(null!=w&&null!=F),0>V||0>=X||V+X>de)return null;if(!w.Cc){if(null==w.ga){var pe;if(w.ga=new Wb,(pe=null==w.ga)||(pe=F.width*F.o,e(0==w.Gb.length),w.Gb=s(pe),w.Uc=0,null==w.Gb?pe=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,pe=1),pe=!pe),!pe){var me=w.Fa,_e=w.P,Be=w.qc,je=w.mb,ct=w.nb,ut=_e+1,tt=Be-1,Gt=(pe=w.ga).l;if(e(null!=me&&null!=je&&null!=F),Um[0]=null,Um[1]=ey,Um[2]=FS,Um[3]=Im,pe.ca=je,pe.tb=ct,pe.c=F.width,pe.i=F.height,e(0<pe.c&&0<pe.i),1>=Be)F=0;else if(pe.$a=3&me[_e+0],pe.Z=me[_e+0]>>2&3,pe.Lc=me[_e+0]>>4&3,_e=me[_e+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||_e)F=0;else if(Gt.put=gi,Gt.ac=Xi,Gt.bc=Ko,Gt.ma=pe,Gt.width=F.width,Gt.height=F.height,Gt.Da=F.Da,Gt.v=F.v,Gt.va=F.va,Gt.j=F.j,Gt.o=F.o,pe.$a)e:{e(1==pe.$a),F=Fu();t:for(;;){if(null==F){F=0;break e}if(e(null!=pe),pe.mc=F,F.c=pe.c,F.i=pe.i,F.l=pe.l,F.l.ma=pe,F.l.width=pe.c,F.l.height=pe.i,F.a=0,G(F.m,me,ut,tt),!sf(pe.c,pe.i,1,F,null)||(1==F.ab&&3==F.gc[0].hc&&nf(F.s)?(pe.ic=1,me=F.c*F.i,F.Ta=null,F.Ua=0,F.V=s(me),F.Ba=0,null==F.V?(F.a=1,F=0):F=1):(pe.ic=0,F=Bp(F,pe.c)),!F))break t;F=1;break e}pe.mc=null,F=0}else F=tt>=pe.c*pe.i;pe=!F}if(pe)return null;1!=w.ga.Lc?w.Ga=0:X=de-V}e(null!=w.ga),e(V+X<=de);e:{if(F=(me=w.ga).c,de=me.l.o,0==me.$a){if(ut=w.rc,tt=w.Vc,Gt=w.Fa,Be=w.mb,je=w.nb+V*F,e((_e=w.P+1+V*F)<=w.P+w.qc),0!=me.Z)for(e(null!=Um[me.Z]),pe=0;pe<X;++pe)Um[me.Z](ut,tt,Gt,_e,Be,je,F),ut=Be,tt=je,je+=F,_e+=F;else for(pe=0;pe<X;++pe)r(Be,je,Gt,_e,F),ut=Be,tt=je,je+=F,_e+=F;w.rc=ut,w.Vc=tt}else{if(e(null!=me.mc),F=V+X,e(null!=(pe=me.mc)),e(F<=pe.i),pe.C>=F)F=1;else if(me.ic||ot(),me.ic){me=pe.V,ut=pe.Ba;var wt=pe.i,We=(Gt=1,_e=pe.$/(tt=pe.c),Be=pe.$%tt,je=pe.m,ct=pe.s,pe.$),Ye=tt*wt,kt=tt*F,Kt=ct.wc,Qt=We<kt?Lo(ct,Be,_e):null;e(We<=Ye),e(F<=wt),e(nf(ct));t:for(;;){for(;!je.h&&We<kt;){if(Be&Kt||(Qt=Lo(ct,Be,_e)),e(null!=Qt),se(je),256>(wt=Xo(Qt.G[0],Qt.H[0],je)))me[ut+We]=wt,++We,++Be>=tt&&(Be=0,++_e<=F&&!(_e%16)&&Nu(pe,_e));else{if(!(280>wt)){Gt=0;break t}wt=Bu(wt-256,je);var Pn,Dn=Xo(Qt.G[4],Qt.H[4],je);if(se(je),!(We>=(Dn=fh(tt,Dn=Bu(Dn,je)))&&Ye-We>=wt)){Gt=0;break t}for(Pn=0;Pn<wt;++Pn)me[ut+We+Pn]=me[ut+We+Pn-Dn];for(We+=wt,Be+=wt;Be>=tt;)Be-=tt,++_e<=F&&!(_e%16)&&Nu(pe,_e);We<kt&&Be&Kt&&(Qt=Lo(ct,Be,_e))}e(je.h==K(je))}Nu(pe,_e>F?F:_e);break t}!Gt||je.h&&We<Ye?(Gt=0,pe.a=je.h?5:3):pe.$=We,F=Gt}else F=Iu(pe,pe.V,pe.Ba,pe.c,pe.i,F,Mm);if(!F){X=0;break e}}V+X>=de&&(w.Cc=1),X=1}if(!X)return null;if(w.Cc&&(null!=(X=w.ga)&&(X.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+V*ce}function L(w,F,V,X,ce,de){for(;0<ce--;){var pe,me=w,_e=F+(V?1:0),Be=w,je=F+(V?0:3);for(pe=0;pe<X;++pe){var ct=Be[je+4*pe];255!=ct&&(me[_e+4*pe+0]=me[_e+4*pe+0]*(ct*=32897)>>23,me[_e+4*pe+1]=me[_e+4*pe+1]*ct>>23,me[_e+4*pe+2]=me[_e+4*pe+2]*ct>>23)}F+=de}}function ue(w,F,V,X,ce){for(;0<X--;){var de;for(de=0;de<V;++de){var pe=w[F+2*de+0],me=15&(Be=w[F+2*de+1]),_e=4369*me,Be=(240&Be|Be>>4)*_e>>16;w[F+2*de+0]=(240&pe|pe>>4)*_e>>16&240|(15&pe|pe<<4)*_e>>16>>4&15,w[F+2*de+1]=240&Be|me}F+=ce}}function Le(w,F,V,X,ce,de,pe,me){var _e,Be,je=255;for(Be=0;Be<ce;++Be){for(_e=0;_e<X;++_e){var ct=w[F+_e];de[pe+4*_e]=ct,je&=ct}F+=V,pe+=me}return 255!=je}function ze(w,F,V,X,ce){var de;for(de=0;de<ce;++de)V[X+de]=w[F+de]>>8}function ot(){uf=L,fo=ue,Ao=Le,pa=ze}function Mt(w,F,V){D[w]=function(X,ce,de,pe,me,_e,Be,je,ct,ut,tt,Gt,wt,We,Ye,kt,Kt){var Qt,Pn=Kt-1>>1,Dn=me[_e+0]|Be[je+0]<<16,hr=ct[ut+0]|tt[Gt+0]<<16;e(null!=X);var Nn=3*Dn+hr+131074>>2;for(F(X[ce+0],255&Nn,Nn>>16,wt,We),null!=de&&F(de[pe+0],255&(Nn=3*hr+Dn+131074>>2),Nn>>16,Ye,kt),Qt=1;Qt<=Pn;++Qt){var Cs=me[_e+Qt]|Be[je+Qt]<<16,Us=ct[ut+Qt]|tt[Gt+Qt]<<16,os=Dn+Cs+hr+Us+524296,Ri=os+2*(Cs+hr)>>3;Nn=Ri+Dn>>1,Dn=(os=os+2*(Dn+Us)>>3)+Cs>>1,F(X[ce+2*Qt-1],255&Nn,Nn>>16,wt,We+(2*Qt-1)*V),F(X[ce+2*Qt-0],255&Dn,Dn>>16,wt,We+(2*Qt-0)*V),null!=de&&(Dn=Ri+Us>>1,F(de[pe+2*Qt-1],255&(Nn=os+hr>>1),Nn>>16,Ye,kt+(2*Qt-1)*V),F(de[pe+2*Qt+0],255&Dn,Dn>>16,Ye,kt+(2*Qt+0)*V)),Dn=Cs,hr=Us}1&Kt||(F(X[ce+Kt-1],255&(Nn=3*Dn+hr+131074>>2),Nn>>16,wt,We+(Kt-1)*V),null!=de&&F(de[pe+Kt-1],255&(Nn=3*hr+Dn+131074>>2),Nn>>16,Ye,kt+(Kt-1)*V))}}function Jt(){ff[$F]=Lat,ff[KF]=Xce,ff[qce]=Uat,ff[XF]=Yce,ff[YF]=Zce,ff[Q6]=Jce,ff[jce]=kat,ff[z6]=Xce,ff[G6]=Yce,ff[ZF]=Zce,ff[q6]=Jce}function On(w){return w&~Hat?0>w?0:255:w>>eue}function sr(w,F){return On((19077*w>>8)+(26149*F>>8)-14234)}function Xr(w,F,V){return On((19077*w>>8)-(6419*F>>8)-(13320*V>>8)+8708)}function Wr(w,F){return On((19077*w>>8)+(33050*F>>8)-17685)}function Yi(w,F,V,X,ce){X[ce+0]=sr(w,V),X[ce+1]=Xr(w,F,V),X[ce+2]=Wr(w,F)}function Uo(w,F,V,X,ce){X[ce+0]=Wr(w,F),X[ce+1]=Xr(w,F,V),X[ce+2]=sr(w,V)}function Zo(w,F,V,X,ce){var de=Xr(w,F,V);F=de<<3&224|Wr(w,F)>>3,X[ce+0]=248&sr(w,V)|de>>5,X[ce+1]=F}function Fa(w,F,V,X,ce){var de=240&Wr(w,F)|15;X[ce+0]=240&sr(w,V)|Xr(w,F,V)>>4,X[ce+1]=de}function yc(w,F,V,X,ce){X[ce+0]=255,Yi(w,F,V,X,ce+1)}function vl(w,F,V,X,ce){Uo(w,F,V,X,ce),X[ce+3]=255}function Ad(w,F,V,X,ce){Yi(w,F,V,X,ce),X[ce+3]=255}function dh(w,F){return 0>w?0:w>F?F:w}function fA(w,F,V){D[w]=function(X,ce,de,pe,me,_e,Be,je,ct){for(var ut=je+(-2&ct)*V;je!=ut;)F(X[ce+0],de[pe+0],me[_e+0],Be,je),F(X[ce+1],de[pe+0],me[_e+0],Be,je+V),ce+=2,++pe,++_e,je+=2*V;1&ct&&F(X[ce+0],de[pe+0],me[_e+0],Be,je)}}function VF(w,F,V){return 0==V?0==w?0==F?6:5:0==F?4:0:V}function OS(w,F,V,X,ce){switch(w>>>30){case 3:Op(F,V,X,ce,0);break;case 2:Aa(F,V,X,ce);break;case 1:Zc(F,V,X,ce)}}function PS(w,F){var V,X,ce=F.M,de=F.Nb,pe=w.oc,me=w.pc+40,_e=w.oc,Be=w.pc+584,je=w.oc,ct=w.pc+600;for(V=0;16>V;++V)pe[me+32*V-1]=129;for(V=0;8>V;++V)_e[Be+32*V-1]=129,je[ct+32*V-1]=129;for(0<ce?pe[me-1-32]=_e[Be-1-32]=je[ct-1-32]=129:(i(pe,me-32-1,127,21),i(_e,Be-32-1,127,9),i(je,ct-32-1,127,9)),X=0;X<w.za;++X){var ut=F.ya[F.aa+X];if(0<X){for(V=-1;16>V;++V)r(pe,me+32*V-4,pe,me+32*V+12,4);for(V=-1;8>V;++V)r(_e,Be+32*V-4,_e,Be+32*V+4,4),r(je,ct+32*V-4,je,ct+32*V+4,4)}var tt=w.Gd,Gt=w.Hd+X,wt=ut.ad,We=ut.Hc;if(0<ce&&(r(pe,me-32,tt[Gt].y,0,16),r(_e,Be-32,tt[Gt].f,0,8),r(je,ct-32,tt[Gt].ea,0,8)),ut.Za){var Ye=pe,kt=me-32+16;for(0<ce&&(X>=w.za-1?i(Ye,kt,tt[Gt].y[15],4):r(Ye,kt,tt[Gt+1].y,0,4)),V=0;4>V;V++)Ye[kt+128+V]=Ye[kt+256+V]=Ye[kt+384+V]=Ye[kt+0+V];for(V=0;16>V;++V,We<<=2)pd[ut.Ob[V]](Ye=pe,kt=me+nue[V]),OS(We,wt,16*+V,Ye,kt)}else if(Ye=VF(X,ce,ut.Ob[0]),Lm[Ye](pe,me),0!=We)for(V=0;16>V;++V,We<<=2)OS(We,wt,16*+V,pe,me+nue[V]);for(V=ut.Gc,Ye=VF(X,ce,ut.Dd),Lp[Ye](_e,Be),Lp[Ye](je,ct),We=wt,Ye=_e,kt=Be,255&(ut=0|V)&&(170&ut?VS(We,256,Ye,kt):lf(We,256,Ye,kt)),ut=je,We=ct,255&(V>>=8)&&(170&V?VS(wt,320,ut,We):lf(wt,320,ut,We)),ce<w.Ub-1&&(r(tt[Gt].y,0,pe,me+480,16),r(tt[Gt].f,0,_e,Be+224,8),r(tt[Gt].ea,0,je,ct+224,8)),tt=w.sa,Gt=w.ta+16*X+16*de*w.R,wt=w.qa,ut=w.ra+8*X+(V=8*de*w.B),We=w.Ha,Ye=w.Ia+8*X+V,V=0;16>V;++V)r(tt,Gt+V*w.R,pe,me+32*V,16);for(V=0;8>V;++V)r(wt,ut+V*w.B,_e,Be+32*V,8),r(We,Ye+V*w.B,je,ct+32*V,8)}}function $b(w,F,V,X,ce,de,pe,me,_e){var Be=[0],je=[0],ct=0,ut=null!=_e?_e.kd:0,tt=_e??new NS;if(null==w||12>V)return 7;tt.data=w,tt.w=F,tt.ha=V,F=[F],V=[V],tt.gb=[tt.gb];e:{var Gt=F,wt=V,We=tt.gb;if(e(null!=w),e(null!=wt),e(null!=We),We[0]=0,12<=wt[0]&&!t(w,Gt[0],"RIFF")){if(t(w,Gt[0]+8,"WEBP")){We=3;break e}var Ye=Ee(w,Gt[0]+4);if(12>Ye||4294967286<Ye){We=3;break e}if(ut&&Ye>wt[0]-8){We=7;break e}We[0]=Ye,Gt[0]+=12,wt[0]-=12}We=0}if(0!=We)return We;for(Ye=0<tt.gb[0],V=V[0];;){e:{var kt=w;wt=F,We=V;var Kt=Be,Qt=je,Pn=Gt=[0];if((Nn=ct=[ct])[0]=0,8>We[0])We=7;else{if(!t(kt,wt[0],"VP8X")){if(10!=Ee(kt,wt[0]+4)){We=3;break e}if(18>We[0]){We=7;break e}var Dn=Ee(kt,wt[0]+8),hr=1+ge(kt,wt[0]+12);if(2147483648<=hr*(kt=1+ge(kt,wt[0]+15))){We=3;break e}null!=Pn&&(Pn[0]=Dn),null!=Kt&&(Kt[0]=hr),null!=Qt&&(Qt[0]=kt),wt[0]+=18,We[0]-=18,Nn[0]=1}We=0}}if(ct=ct[0],0!=We)return We;if(wt=!!(2&(Gt=Gt[0])),!Ye&&ct)return 3;if(null!=de&&(de[0]=!!(16&Gt)),null!=pe&&(pe[0]=wt),null!=me&&(me[0]=0),pe=Be[0],Gt=je[0],ct&&wt&&null==_e){We=0;break}if(4>V){We=7;break}if(Ye&&ct||!Ye&&!ct&&!t(w,F[0],"ALPH")){V=[V],tt.na=[tt.na],tt.P=[tt.P],tt.Sa=[tt.Sa];e:{We=F,Ye=V;var Nn=tt.gb;Kt=tt.na,Qt=tt.P,Pn=tt.Sa,hr=22,e(null!=(Dn=w)),e(null!=Ye),kt=We[0];var Cs=Ye[0];for(e(null!=Kt),e(null!=Pn),Kt[0]=null,Qt[0]=null,Pn[0]=0;;){if(We[0]=kt,Ye[0]=Cs,8>Cs){We=7;break e}var Us=Ee(Dn,kt+4);if(4294967286<Us){We=3;break e}var os=8+Us+1&-2;if(hr+=os,0<Nn&&hr>Nn){We=3;break e}if(!t(Dn,kt,"VP8 ")||!t(Dn,kt,"VP8L")){We=0;break e}if(Cs[0]<os){We=7;break e}t(Dn,kt,"ALPH")||(Kt[0]=Dn,Qt[0]=kt+8,Pn[0]=Us),kt+=os,Cs-=os}}if(V=V[0],tt.na=tt.na[0],tt.P=tt.P[0],tt.Sa=tt.Sa[0],0!=We)break}V=[V],tt.Ja=[tt.Ja],tt.xa=[tt.xa];e:if(Nn=w,We=F,Ye=V,Kt=tt.gb[0],Qt=tt.Ja,Pn=tt.xa,Dn=We[0],kt=!t(Nn,Dn,"VP8 "),hr=!t(Nn,Dn,"VP8L"),e(null!=Nn),e(null!=Ye),e(null!=Qt),e(null!=Pn),8>Ye[0])We=7;else{if(kt||hr){if(Nn=Ee(Nn,Dn+4),12<=Kt&&Nn>Kt-12){We=3;break e}if(ut&&Nn>Ye[0]-8){We=7;break e}Qt[0]=Nn,We[0]+=8,Ye[0]-=8,Pn[0]=hr}else Pn[0]=5<=Ye[0]&&47==Nn[Dn+0]&&!(Nn[Dn+4]>>5),Qt[0]=Ye[0];We=0}if(V=V[0],tt.Ja=tt.Ja[0],tt.xa=tt.xa[0],F=F[0],0!=We)break;if(4294967286<tt.Ja)return 3;if(null==me||wt||(me[0]=tt.xa?2:1),pe=[pe],Gt=[Gt],tt.xa){if(5>V){We=7;break}me=pe,ut=Gt,wt=de,null==w||5>V?w=0:5<=V&&47==w[F+0]&&!(w[F+4]>>5)?(Ye=[0],Nn=[0],Kt=[0],G(Qt=new Q,w,F,V),Zn(Qt,Ye,Nn,Kt)?(null!=me&&(me[0]=Ye[0]),null!=ut&&(ut[0]=Nn[0]),null!=wt&&(wt[0]=Kt[0]),w=1):w=0):w=0}else{if(10>V){We=7;break}me=Gt,null==w||10>V||!Mi(w,F+3,V-3)?w=0:(ut=w[F+0]|w[F+1]<<8|w[F+2]<<16,wt=16383&(w[F+7]<<8|w[F+6]),w=16383&(w[F+9]<<8|w[F+8]),1&ut||3<(ut>>1&7)||!(ut>>4&1)||ut>>5>=tt.Ja||!wt||!w?w=0:(pe&&(pe[0]=wt),me&&(me[0]=w),w=1))}if(!w||(pe=pe[0],Gt=Gt[0],ct&&(Be[0]!=pe||je[0]!=Gt)))return 3;null!=_e&&(_e[0]=tt,_e.offset=F-_e.w,e(4294967286>F-_e.w),e(_e.offset==_e.ha-V));break}return 0==We||7==We&&ct&&null==_e?(null!=de&&(de[0]|=null!=tt.na&&0<tt.na.length),null!=X&&(X[0]=pe),null!=ce&&(ce[0]=Gt),0):We}function LS(w,F,V){var X=F.width,ce=F.height,de=0,pe=0,me=X,_e=ce;if(F.Da=null!=w&&0<w.Da,F.Da&&(me=w.cd,_e=w.bd,de=w.v,pe=w.j,11>V||(de&=-2,pe&=-2),0>de||0>pe||0>=me||0>=_e||de+me>X||pe+_e>ce))return 0;if(F.v=de,F.j=pe,F.va=de+me,F.o=pe+_e,F.U=me,F.T=_e,F.da=null!=w&&0<w.da,F.da){if(!Me(me,_e,V=[w.ib],de=[w.hb]))return 0;F.ib=V[0],F.hb=de[0]}return F.ob=null!=w&&w.ob,F.Kb=null==w||!w.Sd,F.da&&(F.ob=F.ib<3*X/4&&F.hb<3*ce/4,F.Kb=0),1}function US(w){if(null==w)return 2;if(11>w.S){var F=w.f.RGBA;F.fb+=(w.height-1)*F.A,F.A=-F.A}else(F=w.f.kb).O+=((w=w.height)-1)*F.fa,F.fa=-F.fa,F.N+=(w-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(w-1>>1)*F.Db,F.Db=-F.Db,null!=F.F&&(F.J+=(w-1)*F.lb,F.lb=-F.lb);return 0}function Kb(w,F,V,X){if(null==X||0>=w||0>=F)return 2;if(null!=V){if(V.Da){var ce=V.cd,de=V.bd,pe=-2&V.v,me=-2&V.j;if(0>pe||0>me||0>=ce||0>=de||pe+ce>w||me+de>F)return 2;w=ce,F=de}if(V.da){if(!Me(w,F,ce=[V.ib],de=[V.hb]))return 2;w=ce[0],F=de[0]}}X.width=w,X.height=F;e:{var _e=X.width,Be=X.height;if(w=X.S,0>=_e||0>=Be||!(w>=$F&&13>w))w=2;else{if(0>=X.Rd&&null==X.sd){pe=de=ce=F=0;var je=(me=_e*rue[w])*Be;if(11>w||(de=(Be+1)/2*(F=(_e+1)/2),12==w&&(pe=(ce=_e)*Be)),null==(Be=s(je+2*de+pe))){w=1;break e}X.sd=Be,11>w?((_e=X.f.RGBA).eb=Be,_e.fb=0,_e.A=me,_e.size=je):((_e=X.f.kb).y=Be,_e.O=0,_e.fa=me,_e.Fd=je,_e.f=Be,_e.N=0+je,_e.Ab=F,_e.Cd=de,_e.ea=Be,_e.W=0+je+de,_e.Db=F,_e.Ed=de,12==w&&(_e.F=Be,_e.J=0+je+2*de),_e.Tc=pe,_e.lb=ce)}if(F=1,de=X.width,pe=X.height,(ce=X.S)>=$F&&13>ce)if(11>ce)w=X.f.RGBA,F&=(me=Math.abs(w.A))*(pe-1)+de<=w.size,F&=me>=de*rue[ce],F&=null!=w.eb;else{w=X.f.kb,me=(de+1)/2,je=(pe+1)/2,_e=Math.abs(w.fa),Be=Math.abs(w.Ab);var ct=Math.abs(w.Db),ut=Math.abs(w.lb);F&=_e*(pe-1)+de<=w.Fd,F&=Be*(je-1)+me<=w.Cd,F=(F&=ct*(je-1)+me<=w.Ed)&_e>=de&Be>=me&ct>=me,F&=null!=w.y,F&=null!=w.f,F&=null!=w.ea,12==ce&&(F&=ut>=de,F&=ut*(pe-1)+de<=w.Tc,F&=null!=w.F)}else F=0;w=F?0:2}}return 0!=w||null!=V&&V.fd&&(w=US(X)),w}var zl=64,Xb=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yb=24,Zb=32,kS=8,Ru=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(w){return w},D.Predictor2=function(w,F,V){return F[V+0]},D.Predictor3=function(w,F,V){return F[V+1]},D.Predictor4=function(w,F,V){return F[V-1]},D.Predictor5=function(w,F,V){return Z(Z(w,F[V+1]),F[V+0])},D.Predictor6=function(w,F,V){return Z(w,F[V-1])},D.Predictor7=function(w,F,V){return Z(w,F[V+0])},D.Predictor8=function(w,F,V){return Z(F[V-1],F[V+0])},D.Predictor9=function(w,F,V){return Z(F[V+0],F[V+1])},D.Predictor10=function(w,F,V){return Z(Z(w,F[V-1]),Z(F[V+0],F[V+1]))},D.Predictor11=function(w,F,V){var X=F[V+0];return 0>=rt(X>>24&255,w>>24&255,(F=F[V-1])>>24&255)+rt(X>>16&255,w>>16&255,F>>16&255)+rt(X>>8&255,w>>8&255,F>>8&255)+rt(255&X,255&w,255&F)?X:w},D.Predictor12=function(w,F,V){var X=F[V+0];return(Ue((w>>24&255)+(X>>24&255)-((F=F[V-1])>>24&255))<<24|Ue((w>>16&255)+(X>>16&255)-(F>>16&255))<<16|Ue((w>>8&255)+(X>>8&255)-(F>>8&255))<<8|Ue((255&w)+(255&X)-(255&F)))>>>0},D.Predictor13=function(w,F,V){var X=F[V-1];return(Qe((w=Z(w,F[V+0]))>>24&255,X>>24&255)<<24|Qe(w>>16&255,X>>16&255)<<16|Qe(w>>8&255,X>>8&255)<<8|Qe(255&w,255&X))>>>0};var H6=D.PredictorAdd0;D.PredictorAdd1=Xe,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var HS=D.PredictorAdd2;yn("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),yn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var QF,af=D.ColorIndexInverseTransform,Jb=D.MapARGB,zF=D.VP8LColorIndexInverseTransformAlpha,GF=D.MapAlpha,Fm=D.VP8LPredictorsAdd=[];Fm.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var ty,Ou,Yc,Rm,Fp,Rp,ew,Op,Aa,VS,Zc,lf,tw,qF,QS,ny,ry,Om,iy,nw,sy,Pm,zS,cf,uf,fo,Ao,pa,Ya=s(511),Pp=s(2041),GS=s(225),rw=s(767),jF=0,V6=Pp,WF=GS,Ah=rw,hf=Ya,$F=0,KF=1,qce=2,XF=3,YF=4,Q6=5,jce=6,z6=7,G6=8,ZF=9,q6=10,Cat=[2,3,7],xat=[3,3,11],Wce=[280,256,256,256,40],Eat=[0,1,1,1,0],Sat=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Dat=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Mat=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tat=8,j6=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],W6=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qS=null,Bat=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Nat=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$ce=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Iat=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Fat=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rat=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Oat=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Lm=[],pd=[],Lp=[],Pat=1,Kce=2,Um=[],ff=[];Mt("UpsampleRgbLinePair",Yi,3),Mt("UpsampleBgrLinePair",Uo,3),Mt("UpsampleRgbaLinePair",Ad,4),Mt("UpsampleBgraLinePair",vl,4),Mt("UpsampleArgbLinePair",yc,4),Mt("UpsampleRgba4444LinePair",Fa,2),Mt("UpsampleRgb565LinePair",Zo,2);var Lat=D.UpsampleRgbLinePair,Uat=D.UpsampleBgrLinePair,Xce=D.UpsampleRgbaLinePair,Yce=D.UpsampleBgraLinePair,Zce=D.UpsampleArgbLinePair,Jce=D.UpsampleRgba4444LinePair,kat=D.UpsampleRgb565LinePair,JF=16,eR=1<<JF-1,jS=-227,$6=482,eue=6,Hat=(256<<eue)-1,tue=0,Vat=s(256),Qat=s(256),zat=s(256),Gat=s(256),qat=s($6-jS),jat=s($6-jS);fA("YuvToRgbRow",Yi,3),fA("YuvToBgrRow",Uo,3),fA("YuvToRgbaRow",Ad,4),fA("YuvToBgraRow",vl,4),fA("YuvToArgbRow",yc,4),fA("YuvToRgba4444Row",Fa,2),fA("YuvToRgb565Row",Zo,2);var nue=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tR=[0,2,8],Wat=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(w,F,V,X,ce){var de=KF,pe=new jb,me=new nt;pe.ba=me,me.S=de,me.width=[me.width],me.height=[me.height];var _e=me.width,Be=me.height,je=new Dt;if(null==je||null==w)var ct=2;else e(null!=je),ct=$b(w,F,V,je.width,je.height,je.Pd,je.Qd,je.format,null);if(0!=ct?_e=0:(null!=_e&&(_e[0]=je.width[0]),null!=Be&&(Be[0]=je.height[0]),_e=1),_e){me.width=me.width[0],me.height=me.height[0],null!=X&&(X[0]=me.width),null!=ce&&(ce[0]=me.height);e:{if(X=new Ii,(ce=new NS).data=w,ce.w=F,ce.ha=V,ce.kd=1,F=[0],e(null!=ce),(0==(w=$b(ce.data,ce.w,ce.ha,null,null,null,F,null,ce))||7==w)&&F[0]&&(w=4),0==(F=w)){if(e(null!=pe),X.data=ce.data,X.w=ce.w+ce.offset,X.ha=ce.ha-ce.offset,X.put=gi,X.ac=Xi,X.bc=Ko,X.ma=pe,ce.xa){if(null==(w=Fu())){pe=1;break e}if(function(ut,tt){var Gt=[0],wt=[0],We=[0];t:for(;;){if(null==ut)return 0;if(null==tt)return ut.a=2,0;if(ut.l=tt,ut.a=0,G(ut.m,tt.data,tt.w,tt.ha),!Zn(ut.m,Gt,wt,We)){ut.a=3;break t}if(ut.xb=Kce,tt.width=Gt[0],tt.height=wt[0],!sf(Gt[0],wt[0],1,ut,null))break t;return 1}return e(0!=ut.a),0}(w,X)){if(X=0==(F=Kb(X.width,X.height,pe.Oa,pe.ba))){t:{X=w;n:for(;;){if(null==X){X=0;break t}if(e(null!=X.s.yc),e(null!=X.s.Ya),e(0<X.s.Wb),e(null!=(V=X.l)),e(null!=(ce=V.ma)),0!=X.xb){if(X.ca=ce.ba,X.tb=ce.tb,e(null!=X.ca),!LS(ce.Oa,V,XF)){X.a=2;break n}if(!Bp(X,V.width)||V.da)break n;if((V.da||Ke(X.ca.S))&&ot(),11>X.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=X.ca.f.kb.F&&ot()),X.Pb&&0<X.s.ua&&null==X.s.vb.X&&!ne(X.s.vb,X.s.Wa.Xa)){X.a=1;break n}X.xb=0}if(!Iu(X,X.V,X.Ba,X.c,X.i,V.o,hd))break n;ce.Dc=X.Ma,X=1;break t}e(0!=X.a),X=0}X=!X}X&&(F=w.a)}else F=w.a}else{if(null==(w=new io)){pe=1;break e}if(w.Fa=ce.na,w.P=ce.P,w.qc=ce.Sa,ir(w,X)){if(0==(F=Kb(X.width,X.height,pe.Oa,pe.ba))){if(w.Aa=0,V=pe.Oa,e(null!=(ce=w)),null!=V){if(0<(_e=0>(_e=V.Md)?0:100<_e?255:255*_e/100)){for(Be=je=0;4>Be;++Be)12>(ct=ce.pb[Be]).lc&&(ct.ia=_e*Wat[0>ct.lc?0:ct.lc]>>3),je|=ct.ia;je&&(alert("todo:VP8InitRandom"),ce.ia=1)}ce.Ga=V.Id,100<ce.Ga?ce.Ga=100:0>ce.Ga&&(ce.Ga=0)}(function Xc(w,F){if(null==w)return 0;if(null==F)return jr(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!ir(w,F))return 0;if(e(w.cb),null==F.ac||F.ac(F)){F.ob&&(w.L=0);var V=tR[w.L];if(2==w.L?(w.yb=0,w.zb=0):(w.yb=F.v-V>>4,w.zb=F.j-V>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=F.o+15+V>>4,w.Hb=F.va+15+V>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var X=w.ed;for(V=0;4>V;++V){var ce;if(w.Qa.Cb){var de=w.Qa.Lb[V];w.Qa.Fb||(de+=X.Tb)}else de=X.Tb;for(ce=0;1>=ce;++ce){var pe=w.gd[V][ce],me=de;if(X.Pc&&(me+=X.vd[0],ce&&(me+=X.od[0])),0<(me=0>me?0:63<me?63:me)){var _e=me;0<X.wb&&(_e=4<X.wb?_e>>2:_e>>1)>9-X.wb&&(_e=9-X.wb),1>_e&&(_e=1),pe.dd=_e,pe.tc=2*me+_e,pe.ld=40<=me?2:15<=me?1:0}else pe.tc=0;pe.La=ce}}}V=0}else jr(w,6,"Frame setup failed"),V=w.a;if(V=0==V){if(V){w.$c=0,0<w.Aa||(w.Ic=1);e:{X=4*(_e=w.za);var Be=32*_e,je=_e+1,ct=0<w.L?_e*(0<w.Aa?2:1):0,ut=(2==w.Aa?2:1)*_e;if((pe=X+832+(ce=3*(16*(V=w.Ic)+tR[w.L])/2*Be)+(de=null!=w.Fa&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=pe)V=0;else{if(pe>w.Vb){if(w.Vb=0,w.Ec=s(pe),w.Fc=0,null==w.Ec){V=jr(w,1,"no memory during frame initialization.");break e}w.Vb=pe}me=w.Fc,w.Ac=pe=w.Ec,w.Bc=me,me+=X,w.Gd=o(Be,rr),w.Hd=0,w.rb=o(je+1,Un),w.sb=1,w.wa=ct?o(ct,wn):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=_e),e(!0),w.oc=pe,w.pc=me,me+=832,w.ya=o(ut,pr),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,2==w.Aa&&(w.D.aa+=_e),w.R=16*_e,w.B=8*_e,_e=(Be=tR[w.L])*w.R,Be=Be/2*w.B,w.sa=pe,w.ta=me+_e,w.qa=w.sa,w.ra=w.ta+16*V*w.R+Be,w.Ha=w.qa,w.Ia=w.ra+8*V*w.B+Be,w.$c=0,me+=ce,w.mb=de?pe:null,w.nb=de?me:null,e(me+de<=w.Fc+w.Vb),Fi(w),i(w.Ac,w.Bc,0,X),V=1}}if(V){if(F.ka=0,F.y=w.sa,F.O=w.ta,F.f=w.qa,F.N=w.ra,F.ea=w.Ha,F.Vd=w.Ia,F.fa=w.R,F.Rc=w.B,F.F=null,F.J=0,!jF){for(V=-255;255>=V;++V)Ya[255+V]=0>V?-V:V;for(V=-1020;1020>=V;++V)Pp[1020+V]=-128>V?-128:127<V?127:V;for(V=-112;112>=V;++V)GS[112+V]=-16>V?-16:15<V?15:V;for(V=-255;510>=V;++V)rw[255+V]=0>V?0:255<V?255:V;jF=1}ew=fd,Op=mc,VS=Ia,Zc=ml,lf=Tm,Aa=Ql,tw=MS,qF=J0,QS=U6,ny=TS,ry=L6,Om=qb,iy=BS,nw=kF,sy=UF,Pm=hA,zS=Ip,cf=P6,pd[0]=uA,pd[1]=S6,pd[2]=B6,pd[3]=N6,pd[4]=FF,pd[5]=zb,pd[6]=RF,pd[7]=ES,pd[8]=F6,pd[9]=I6,Lm[0]=NF,Lm[1]=M6,Lm[2]=Np,Lm[3]=Vb,Lm[4]=vc,Lm[5]=T6,Lm[6]=IF,Lp[0]=Bm,Lp[1]=D6,Lp[2]=R6,Lp[3]=SS,Lp[4]=Z0,Lp[5]=O6,Lp[6]=DS,V=1}else V=0}V&&(V=function(tt,Gt){for(tt.M=0;tt.M<tt.Va;++tt.M){var wt,We=tt.Jc[tt.M&tt.Xb],Ye=tt.m,kt=tt;for(wt=0;wt<kt.za;++wt){var Kt=Ye,Qt=kt,Pn=Qt.Ac,Dn=Qt.Bc+4*wt,hr=Qt.zc,Nn=Qt.ya[Qt.aa+wt];if(Nn.$b=Qt.Qa.Bb?ee(Kt,Qt.Pa.jb[0])?2+ee(Kt,Qt.Pa.jb[2]):ee(Kt,Qt.Pa.jb[1]):0,Qt.kc&&(Nn.Ad=ee(Kt,Qt.Bd)),Nn.Za=!ee(Kt,145)+0,Nn.Za){var Cs=Nn.Ob,Us=0;for(Qt=0;4>Qt;++Qt){var os,Ri=hr[0+Qt];for(os=0;4>os;++os){for(var so=$ce[ee(Kt,(Ri=Fat[Pn[Dn+os]][Ri])[0])];0<so;)so=$ce[2*so+ee(Kt,Ri[so])];Pn[Dn+os]=Ri=-so}r(Cs,Us,Pn,Dn,4),Us+=4,hr[0+Qt]=Ri}}else Ri=ee(Kt,156)?ee(Kt,128)?1:3:ee(Kt,163)?2:0,Nn.Ob[0]=Ri,i(Pn,Dn,Ri,4),i(hr,0,Ri,4);Nn.Dd=ee(Kt,142)?ee(Kt,114)?ee(Kt,183)?1:3:2:0}if(kt.m.Ka)return jr(tt,7,"Premature end-of-partition0 encountered.");for(;tt.ja<tt.za;++tt.ja){if(kt=We,Kt=(Ye=tt).rb[Ye.sb-1],Pn=Ye.rb[Ye.sb+Ye.ja],wt=Ye.ya[Ye.aa+Ye.ja],Dn=Ye.kc?wt.Ad:0)Kt.la=Pn.la=0,wt.Za||(Kt.Na=Pn.Na=0),wt.Hc=0,wt.Gc=0,wt.ia=0;else{var Xs,oi;if(Kt=Pn,Pn=kt,Dn=Ye.Pa.Xc,Nn=Ye.pb[(hr=Ye.ya[Ye.aa+Ye.ja]).$b],Us=Ye.rb[Ye.sb-1],Ri=os=0,i(Qt=hr.ad,Cs=0,0,384),hr.Za)var Ra=0,Pu=Dn[3];else{so=s(16);var Oa=Kt.Na+Us.Na;if(Oa=qS(Pn,Dn[1],Oa,Nn.Eb,0,so,0),Kt.Na=Us.Na=(0<Oa)+0,1<Oa)ew(so,0,Qt,Cs);else{var Lu=so[0]+3>>3;for(so=0;256>so;so+=16)Qt[Cs+so]=Lu}Ra=1,Pu=Dn[0]}var ks=15&Kt.la,ph=15&Us.la;for(so=0;4>so;++so){var gh=1&ph;for(Lu=oi=0;4>Lu;++Lu)ks=ks>>1|(gh=(Oa=qS(Pn,Pu,Oa=gh+(1&ks),Nn.Sc,Ra,Qt,Cs))>Ra)<<7,oi=oi<<2|(3<Oa?3:1<Oa?2:0!=Qt[Cs+0]),Cs+=16;ks>>=4,ph=ph>>1|gh<<7,os=(os<<8|oi)>>>0}for(Pu=ks,Ra=ph>>4,Xs=0;4>Xs;Xs+=2){for(oi=0,ks=Kt.la>>4+Xs,ph=Us.la>>4+Xs,so=0;2>so;++so){for(gh=1&ph,Lu=0;2>Lu;++Lu)ks=ks>>1|(gh=0<(Oa=qS(Pn,Dn[2],Oa=gh+(1&ks),Nn.Qc,0,Qt,Cs)))<<3,oi=oi<<2|(3<Oa?3:1<Oa?2:0!=Qt[Cs+0]),Cs+=16;ks>>=2,ph=ph>>1|gh<<5}Ri|=oi<<4*Xs,Pu|=ks<<4<<Xs,Ra|=(240&ph)<<Xs}Kt.la=Pu,Us.la=Ra,hr.Hc=os,hr.Gc=Ri,hr.ia=43690&Ri?0:Nn.ia,Dn=!(os|Ri)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[wt.$b][wt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!Dn),kt.Ka)return jr(tt,7,"Premature end-of-file encountered.")}if(Fi(tt),Ye=Gt,kt=1,wt=(We=tt).D,Kt=0<We.L&&We.M>=We.zb&&We.M<=We.Va,0==We.Aa)e:{if(wt.M=We.M,wt.uc=Kt,PS(We,wt),kt=1,wt=(oi=We.D).Nb,Kt=(Ri=tR[We.L])*We.R,Dn=We.sa,hr=We.ta-Kt+(so=16*wt*We.R),Nn=We.qa,Qt=We.ra-(Pn=Ri/2*We.B)+(Lu=8*wt*We.B),Cs=We.Ha,Us=We.Ia-Pn+Lu,ph=0==(ks=oi.M),os=ks>=We.Va-1,2==We.Aa&&PS(We,oi),oi.uc)for(gh=(Oa=We).D.M,e(Oa.D.uc),oi=Oa.yb;oi<Oa.Hb;++oi){Pu=gh;var yl=(Gl=(Jo=Oa).D).Nb,Gl=Gl.wa[Gl.Y+(Ra=oi)],Jc=Jo.sa,df=Jo.ta+16*yl*(Xs=Jo.R)+16*Ra,dA=Gl.dd,_l=Gl.tc;if(0!=_l)if(e(3<=_l),1==Jo.L)0<Ra&&Pm(Jc,df,Xs,_l+4),Gl.La&&cf(Jc,df,Xs,_l),0<Pu&&sy(Jc,df,Xs,_l+4),Gl.La&&zS(Jc,df,Xs,_l);else{var Up=Jo.B,oy=Jo.qa,iw=Jo.ra+8*yl*Up+8*Ra,km=Jo.Ha,Jo=Jo.Ia+8*yl*Up+8*Ra;yl=Gl.ld,0<Ra&&(qF(Jc,df,Xs,_l+4,dA,yl),ny(oy,iw,km,Jo,Up,_l+4,dA,yl)),Gl.La&&(Om(Jc,df,Xs,_l,dA,yl),nw(oy,iw,km,Jo,Up,_l,dA,yl)),0<Pu&&(tw(Jc,df,Xs,_l+4,dA,yl),QS(oy,iw,km,Jo,Up,_l+4,dA,yl)),Gl.La&&(ry(Jc,df,Xs,_l,dA,yl),iy(oy,iw,km,Jo,Up,_l,dA,yl))}}if(We.ia&&alert("todo:DitherRow"),null!=Ye.put){if(oi=16*ks,ks=16*(ks+1),ph?(Ye.y=We.sa,Ye.O=We.ta+so,Ye.f=We.qa,Ye.N=We.ra+Lu,Ye.ea=We.Ha,Ye.W=We.Ia+Lu):(oi-=Ri,Ye.y=Dn,Ye.O=hr,Ye.f=Nn,Ye.N=Qt,Ye.ea=Cs,Ye.W=Us),os||(ks-=Ri),ks>Ye.o&&(ks=Ye.o),Ye.F=null,Ye.J=null,null!=We.Fa&&0<We.Fa.length&&oi<ks&&(Ye.J=RS(We,Ye,oi,ks-oi),Ye.F=We.mb,null==Ye.F&&0==Ye.F.length)){kt=jr(We,3,"Could not decode alpha data.");break e}oi<Ye.j&&(Ri=Ye.j-oi,oi=Ye.j,e(!(1&Ri)),Ye.O+=We.R*Ri,Ye.N+=We.B*(Ri>>1),Ye.W+=We.B*(Ri>>1),null!=Ye.F&&(Ye.J+=Ye.width*Ri)),oi<ks&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,null!=Ye.F&&(Ye.J+=Ye.v),Ye.ka=oi-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=ks-oi,kt=Ye.put(Ye))}wt+1!=We.Ic||os||(r(We.sa,We.ta-Kt,Dn,hr+16*We.R,Kt),r(We.qa,We.ra-Pn,Nn,Qt+8*We.B,Pn),r(We.Ha,We.Ia-Pn,Cs,Us+8*We.B,Pn))}if(!kt)return jr(tt,6,"Output aborted.")}return 1}(w,F)),null!=F.bc&&F.bc(F),V&=1}return V?(w.cb=0,V):0})(w,X)||(F=w.a)}}else F=w.a}0==F&&null!=pe.Oa&&pe.Oa.fd&&(F=US(pe.ba))}pe=F}de=0!=pe?null:11>de?me.f.RGBA.eb:me.f.kb.y}else de=null;return de};var rue=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(D,E){for(var T="",B=0;B<4;B++)T+=String.fromCharCode(D[E++]);return T}function u(D,E){return(D[E+0]|D[E+1]<<8|D[E+2]<<16)>>>0}function h(D,E){return(D[E+0]|D[E+1]<<8|D[E+2]<<16|D[E+3]<<24)>>>0}new l;var d=[0],f=[0],A=[],p=new l,m=n,g=function(D,E){var T={},B=0,R=!1,U=0,k=0;if(T.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(q,K,oe,se){for(var le=0;le<4;le++)if(q[K+le]!="RIFF".charCodeAt(le))return!0;return!1}(D,E)){var j,O;for(h(D,E+=4),E+=8;E<D.length;){var P=c(D,E),G=h(D,E+=4);E+=4;var H=G+(1&G);switch(P){case"VP8 ":case"VP8L":void 0===T.frames[B]&&(T.frames[B]={}),(Q=T.frames[B]).src_off=R?k:E-8,Q.src_size=U+G+8,B++,R&&(R=!1,U=0,k=0);break;case"VP8X":(Q=T.header={}).feature_flags=D[E];var ae=E+4;Q.canvas_width=1+u(D,ae),Q.canvas_height=1+u(D,ae+=3),ae+=3;break;case"ALPH":R=!0,U=H+8,k=E-8;break;case"ANIM":(Q=T.header).bgcolor=h(D,E),Q.loop_count=(j=D)[(O=ae=E+4)+0]|j[O+1]<<8,ae+=2;break;case"ANMF":var ve,Q;(Q=T.frames[B]={}).offset_x=2*u(D,E),Q.offset_y=2*u(D,E+=3),Q.width=1+u(D,E+=3),Q.height=1+u(D,E+=3),Q.duration=u(D,E+=3),E+=3,ve=D[E++],Q.dispose=1&ve,Q.blend=ve>>1&1}"ANMF"!=P&&(E+=H)}return T}}(m,0);g.response=m,g.rgbaoutput=!0,g.dataurl=!1;var y=g.header?g.header:null,v=g.frames?g.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],f=[y.canvas_width];for(var _=0;_<v.length&&0!=v[_].blend;_++);}var C=v[0],b=p.WebPDecodeRGBA(m,C.src_off,C.src_size,f,d);C.rgba=b,C.imgwidth=f[0],C.imgheight=d[0];for(var M=0;M<f[0]*d[0]*4;M++)A[M]=b[M];return this.width=f,this.height=d,this.data=A,this}(function(n){var t=function(d,f,A,p){var m=4,g=o;switch(p){case n.image_compression.FAST:m=1,g=s;break;case n.image_compression.MEDIUM:m=6,g=a;break;case n.image_compression.SLOW:m=9,g=l}var y=nE(d=r(d,f,A,g),{level:m});return n.__addimage__.arrayBufferToBinaryString(y)},r=function(d,f,A,p){for(var m,g,y,v=d.length/f,_=new Uint8Array(d.length+v),C=u(),b=0;b<v;b+=1){if(m=d.subarray(y=b*f,y+f),p)_.set(p(m,A,g),y+b);else{for(var M,D=C.length,E=[];M<D;M+=1)E[M]=C[M](m,A,g);var T=h(E.concat());_.set(E[T],y+b)}g=m}return _},i=function(d){var f=Array.apply([],d);return f.unshift(0),f},s=function(d,f){var p=[],m=d.length;p[0]=1;for(var g=0;g<m;g+=1)p[g+1]=d[g]-(d[g-f]||0)+256&255;return p},o=function(d,f,A){var m=[],g=d.length;m[0]=2;for(var y=0;y<g;y+=1)m[y+1]=d[y]-(A&&A[y]||0)+256&255;return m},a=function(d,f,A){var g=[],y=d.length;g[0]=3;for(var v=0;v<y;v+=1)g[v+1]=d[v]+256-((d[v-f]||0)+(A&&A[v]||0)>>>1)&255;return g},l=function(d,f,A){var y,v=[],_=d.length;v[0]=4;for(var C=0;C<_;C+=1)y=c(d[C-f]||0,A&&A[C]||0,A&&A[C-f]||0),v[C+1]=d[C]-y+256&255;return v},c=function(d,f,A){if(d===f&&f===A)return d;var p=Math.abs(f-A),m=Math.abs(d-A),g=Math.abs(d+f-A-A);return p<=m&&p<=g?d:m<=g?f:A},u=function(){return[i,s,o,a,l]},h=function(d){var f=d.map(function(A){return A.reduce(function(p,m){return p+Math.abs(m)},0)});return f.indexOf(Math.min.apply(null,f))};n.processPNG=function(d,f,A,p){var m,g,y,v,_,C,b,M,D,E,T,B,R,U,k,j=this.decode.FLATE_DECODE,O="";if(this.__addimage__.isArrayBuffer(d)&&(d=new Uint8Array(d)),this.__addimage__.isArrayBufferView(d)){if(d=(y=new KSe(d)).imgData,g=y.bits,m=y.colorSpace,_=y.colors,-1!==[4,6].indexOf(y.colorType)){if(8===y.bits){D=(M=32==y.pixelBitlength?new Uint32Array(y.decodePixels().buffer):16==y.pixelBitlength?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,T=new Uint8Array(D*y.colors),E=new Uint8Array(D);var P,G=y.pixelBitlength-y.bits;for(U=0,k=0;U<D;U++){for(R=M[U],P=0;P<G;)T[k++]=R>>>P&255,P+=y.bits;E[U]=R>>>P&255}}if(16===y.bits){D=(M=new Uint32Array(y.decodePixels().buffer)).length,T=new Uint8Array(D*(32/y.pixelBitlength)*y.colors),E=new Uint8Array(D*(32/y.pixelBitlength)),B=y.colors>1,U=0,k=0;for(var H=0;U<D;)R=M[U++],T[k++]=R>>>0&255,B&&(T[k++]=R>>>16&255,R=M[U++],T[k++]=R>>>0&255),E[H++]=R>>>16&255;g=8}p!==n.image_compression.NONE?(d=t(T,y.width*y.colors,y.colors,p),b=t(E,y.width,1,p)):(d=T,b=E,j=void 0)}if(3===y.colorType&&(m=this.color_spaces.INDEXED,C=y.palette,y.transparency.indexed)){var ae=y.transparency.indexed,ve=0;for(U=0,D=ae.length;U<D;++U)ve+=ae[U];if((ve/=255)==D-1&&-1!==ae.indexOf(0))v=[ae.indexOf(0)];else if(ve!==D){for(M=y.decodePixels(),E=new Uint8Array(M.length),U=0,D=M.length;U<D;U++)E[U]=ae[M[U]];b=t(E,y.width,1)}}var Q=function(q){var K;switch(q){case n.image_compression.FAST:K=11;break;case n.image_compression.MEDIUM:K=13;break;case n.image_compression.SLOW:K=14;break;default:K=12}return K}(p);return j===this.decode.FLATE_DECODE&&(O="/Predictor "+Q+" "),O+="/Colors "+_+" /BitsPerComponent "+g+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:A,data:d,index:f,filter:j,decodeParameters:O,transparency:v,palette:C,sMask:b,predictor:Q,width:y.width,height:y.height,bitsPerComponent:g,colorSpace:m}}}})(_r.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new XSe(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new NU(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(_r.API),qf.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qf.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(t){eo.log("bit decode error:"+t)}},qf.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}0!==t&&(this.pos+=4-t)}},qf.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=15&s,c=this.palette[s>>4];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;this.data[o+4]=(c=this.palette[l]).blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==e&&(this.pos+=4-e)}},qf.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==n&&(this.pos+=4-n)}},qf.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=(s>>10&e)/e*255|0,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},qf.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,u=i*this.width*4+4*s;this.data[u]=(o>>11)/e*255|0,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},qf.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},qf.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},qf.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processBMP=function(e,t,r,i){var s=new qf(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new NU(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(_r.API),QX.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processWEBP=function(e,t,r,i){var s=new QX(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new NU(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(_r.API),_r.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var h=r[c+1],d=r[c+2],f=r[c+3];s[a++]=r[c],s[a++]=h,s[a++]=d,o[l++]=f}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},_r.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sB=(a1=_r.API).getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=!1!==e.doKerning,d=0,f=n.length,A=0,p=a[0]||l,m=[];for(t=0;t<f;t++)r=n.charCodeAt(t),"function"==typeof i.metadata.widthOfString?m.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(d=h&&"object"===(0,Js.A)(c[r])&&!isNaN(parseInt(c[r][A],10))?c[r][A]/u:0,m.push((a[r]||p)/l+d)),A=r;return m},UX=a1.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return a1.processArabic&&(n=a1.processArabic(n)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(n,t,i)/t:sB.apply(this,arguments).reduce(function(s,o){return s+o},0)},kX=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},HX=function(n,e,t){t||(t={});var r,i,s,o,a,l,u=[],h=[u],d=t.textIndent||0,f=0,A=0,p=n.split(" "),m=sB.apply(this,[" ",t])[0];if(l=-1===t.lineIndent?p[0].length+2:t.lineIndent||0){var g=Array(l).join(" "),y=[];p.map(function(_){(_=_.split(/\s*\n/)).length>1?y=y.concat(_.map(function(C,b){return(b&&C.length?"\n":"")+C})):y.push(_[0])}),p=y,l=UX.apply(this,[g,t])}for(s=0,o=p.length;s<o;s++){var v=0;if(r=p[s],l&&"\n"==r[0]&&(r=r.substr(1),v=1),d+f+(A=(i=sB.apply(this,[r,t])).reduce(function(_,C){return _+C},0))>e||v){if(A>e){for(a=kX.apply(this,[r,i,e-(d+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);A=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(_,C){return _+C},0)}else u=[r];h.push(u),d=A+l,f=m}else u.push(r),d+=f+A,f=m}return h.map(l?function(_,C){return(C?g:"")+_.join(" ")}:function(_){return _.join(" ")})},a1.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(HX.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<16;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=n.__fontmetrics__.compress=function(h){var d,f,A,p,m=["{"];for(var g in h){if(d=h[g],isNaN(parseInt(g,10))?f="'"+g+"'":(g=parseInt(g,10),f=(f=s(g).slice(2)).slice(0,-1)+r[f.slice(-1)]),"number"==typeof d)d<0?(A=s(d).slice(3),p="-"):(A=s(d).slice(2),p=""),A=p+A.slice(0,-1)+r[A.slice(-1)];else{if("object"!==(0,Js.A)(d))throw new Error("Don't know what to do with value type "+(0,Js.A)(d)+".");A=o(d)}m.push(f+A)}return m.push("}"),m.join("")},a=n.__fontmetrics__.uncompress=function(h){if("string"!=typeof h)throw new Error("Invalid argument passed to uncompress.");for(var d,f,A,p,m={},g=1,y=m,v=[],_="",C="",b=h.length-1,M=1;M<b;M+=1)"'"==(p=h[M])?d?(A=d.join(""),d=void 0):d=[]:d?d.push(p):"{"==p?(v.push([y,A]),y={},A=void 0):"}"==p?((f=v.pop())[0][f[1]]=y,A=void 0,y=f[0]):"-"==p?g=-1:void 0===A?t.hasOwnProperty(p)?(_+=t[p],A=parseInt(_,16)*g,g=1,_=""):_+=p:t.hasOwnProperty(p)?(C+=t[p],y[A]=parseInt(C,16)*g,g=1,A=void 0,C=""):C+=p;return m},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var d=h.font,f=u.Unicode[d.postScriptName];f&&(d.metadata.Unicode={},d.metadata.Unicode.widths=f.widths,d.metadata.Unicode.kerning=f.kerning);var A=c.Unicode[d.postScriptName];A&&(d.metadata.Unicode.encoding=A,d.encoding=A.codePages[0])}])}(_r.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var o,a,r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(i.postScriptName)?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");o=i,a=/^\x00\x01\x00\x00/.test(a=r)?e(a):e(iE(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]}}])}(_r),_r.API.addSvgAsImage=function(t,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw eo.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw eo.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return function e(){return(Cr.canvg?Promise.resolve(Cr.canvg):we.e(147).then(we.bind(we,147))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}().then(function(A){return A.fromString(h,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(d)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})},_r.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},_r.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function d(A,p){var m,g=!1;for(m=0;m<A.length;m+=1)A[m]===p&&(g=!0);return g}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===n||!0===e){var f=a.length;for(h=0;h<f;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if("object"===(0,Js.A)(n))for(i in n)if(s=n[i],d(a,i)&&void 0!==s){if("boolean"===t[i].type&&"boolean"==typeof s)t[i].value=s;else if("name"===t[i].type&&d(t[i].valueSet,s))t[i].value=s;else if("integer"===t[i].type&&Number.isInteger(s))t[i].value=s;else if("array"===t[i].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)"number"!=typeof s[c][u]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var A,p=[];for(A in t)!0===t[A].explicitSet&&p.push("name"===t[A].type?"/"+A+" /"+t[A].value:"/"+A+" "+t[A].value);0!==p.length&&this.internal.write("/ViewerPreferences\n<<\n"+p.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(_r.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,d=s.length;h<d;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),-1==l.indexOf(a)&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),"0"==a)return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,h,d;for(u="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",l=[],h=0,d=(a=Object.keys(s).sort(function(f,A){return f-A})).length;h<d;h++)o=a[h],l.length>=100&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar",l=[]),null!=s[o]&&"function"==typeof s[o].toString&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar\n"),u+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"Identity-H"===a.encoding){for(var h=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",A=0;A<d.length;A++)f+=String.fromCharCode(d[A]);var p=c();u({data:f,addLength1:!0,objectId:p}),l("endobj");var m=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+e1(a.fontName)),l("/FontFile2 "+p+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+e1(a.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+m+" 0 R"),l("/BaseFont /"+e1(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]),e.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var h=a.metadata.rawData,d="",f=0;f<h.length;f++)d+=String.fromCharCode(h[f]);var A=c();u({data:d,addLength1:!0,objectId:A}),l("endobj");var p=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var m=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+A+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+e1(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var g=0;g<a.metadata.hmtx.widths.length;g++)a.metadata.hmtx.widths[g]=parseInt(a.metadata.hmtx.widths[g]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+e1(a.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},d=h.pdfEscape,f=h.activeFontKey,A=h.fonts,p=f,m="",g=0,y="",v=A[p].encoding;if("Identity-H"!==A[p].encoding)return{text:a,x:l,y:c,options:u,mutex:h};for(y=a,p=f,Array.isArray(a)&&(y=a[0]),g=0;g<y.length;g+=1)A[p].metadata.hasOwnProperty("cmap")&&(o=A[p].metadata.cmap.unicode.codeMap[y[g].charCodeAt(0)]),o||y[g].charCodeAt(0)<256&&A[p].metadata.hasOwnProperty("Unicode")?m+=y[g]:m+="";var _="";return parseInt(p.slice(1))<14||"WinAnsiEncoding"===v?_=d(m,p).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):"Identity-H"===v&&(_=t(m,A[p])),h.isHex=!0,{text:_,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&3===o[c].length?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(_r),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(_r.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,h=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,v=0;this.__bidiEngine__={};var _=function(B){var R=B.charCodeAt(),U=R>>8,k=p[U];return void 0!==k?h[256*k+(255&R)]:252===U||253===U?"AL":g.test(U)?"L":8===U?"R":"N"},C=function(B){for(var R,U=0;U<B.length;U++){if("L"===(R=_(B.charAt(U))))return!1;if("R"===R)return!0}return!1},b=function(B,R,U,k){var j,O,P,G,H=R[k];switch(H){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(H="AN");break;case"AL":y=!0,H="R";break;case"WS":case"BN":H="N";break;case"CS":k<1||k+1>=R.length||"EN"!==(j=U[k-1])&&"AN"!==j||"EN"!==(O=R[k+1])&&"AN"!==O?H="N":y&&(O="AN"),H=O===j?O:"N";break;case"ES":H="EN"===(j=k>0?U[k-1]:"B")&&k+1<R.length&&"EN"===R[k+1]?"EN":"N";break;case"ET":if(k>0&&"EN"===U[k-1]){H="EN";break}if(y){H="N";break}for(P=k+1,G=R.length;P<G&&"ET"===R[P];)P++;H=P<G&&"EN"===R[P]?"EN":"N";break;case"NSM":if(o&&!a){for(G=R.length,P=k+1;P<G&&"NSM"===R[P];)P++;if(P<G){var ae=B[k];if(j=R[P],(ae>=1425&&ae<=2303||64286===ae)&&("R"===j||"AL"===j)){H="R";break}}}H=k<1||"B"===(j=R[k-1])?"N":U[k-1];break;case"B":y=!1,i=!0,H=v;break;case"S":s=!0,H="N"}return H},M=function(B,R,U){var k=B.split("");return U&&D(k,U,{hiLevel:v}),k.reverse(),R&&R.reverse(),k.join("")},D=function(B,R,U){var k,j,O,P,G,H=-1,ae=B.length,ve=0,Q=[],q=v?f:d,K=[];for(y=!1,i=!1,s=!1,j=0;j<ae;j++)K[j]=_(B[j]);for(O=0;O<ae;O++){if(G=ve,Q[O]=b(B,K,Q,O),k=240&(ve=q[G][A[Q[O]]]),R[O]=P=q[ve&=15][5],k>0)if(16===k){for(j=H;j<O;j++)R[j]=1;H=-1}else H=-1;if(q[ve][6])-1===H&&(H=O);else if(H>-1){for(j=H;j<O;j++)R[j]=P;H=-1}"B"===K[O]&&(R[O]=0),U.hiLevel|=P}s&&function(oe,se,le){for(var te=0;te<le;te++)if("S"===oe[te]){se[te]=v;for(var ee=te-1;ee>=0&&"WS"===oe[ee];ee--)se[ee]=v}}(K,R,ae)},E=function(B,R,U,k,j){if(!(j.hiLevel<B)){if(1===B&&1===v&&!i)return R.reverse(),void(U&&U.reverse());for(var O,P,G,H,ae=R.length,ve=0;ve<ae;){if(k[ve]>=B){for(G=ve+1;G<ae&&k[G]>=B;)G++;for(H=ve,P=G-1;H<P;H++,P--)O=R[H],R[H]=R[P],R[P]=O,U&&(O=U[H],U[H]=U[P],U[P]=O);ve=G}ve++}}},T=function(B,R,U){var k=B.split(""),j={hiLevel:v};return U||(U=[]),D(k,U,j),function(O,P,G){if(0!==G.hiLevel&&u)for(var H,ae=0;ae<O.length;ae++)1===P[ae]&&(H=m.indexOf(O[ae]))>=0&&(O[ae]=m[H+1])}(k,U,j),E(2,k,R,U,j),E(1,k,R,U,j),k.join("")};return this.__bidiEngine__.doBidiReorder=function(B,R,U){if(function(j,O){if(O)for(var P=0;P<j.length;P++)O[P]=P;void 0===a&&(a=C(j)),void 0===c&&(c=C(j))}(B,R),o||!l||c)if(o&&l&&a^c)v=a?1:0,B=M(B,R,U);else if(!o&&l&&c)v=a?1:0,B=T(B,R,U),B=M(B,R);else if(!o||a||l||c){if(o&&!l&&a^c)B=M(B,R),a?(v=0,B=T(B,R,U)):(v=1,B=T(B,R,U),B=M(B,R));else if(o&&a&&!l&&c)v=1,B=T(B,R,U),B=M(B,R);else if(!o&&!l&&a^c){var k=u;a?(v=1,B=T(B,R,U),v=0,u=!1,B=T(B,R,U),u=k):(v=0,B=T(B,R,U),B=M(B,R),v=1,u=!1,B=T(B,R,U),u=k,B=M(B,R))}}else v=0,B=T(B,R,U);else v=a?1:0,B=T(B,R,U);return B},this.__bidiEngine__.setOptions=function(B){B&&(o=B.isInputVisual,l=B.isOutputVisual,a=B.isInputRtl,c=B.isOutputRtl,u=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=r.options||{},o=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,t.setOptions(s),"[object Array]"===Object.prototype.toString.call(i)){var a=0;for(o=[],a=0;a<i.length;a+=1)"[object Array]"===Object.prototype.toString.call(i[a])?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(_r),_r.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new jg(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new h2e(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new YSe(this.contents),this.head=new JSe(this),this.name=new i2e(this),this.cmap=new GX(this),this.toUnicode={},this.hhea=new e2e(this),this.maxp=new s2e(this),this.hmtx=new o2e(this),this.post=new n2e(this),this.os2=new t2e(this),this.loca=new u2e(this),this.glyf=new a2e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)c.push(Math.round(l[o]*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},n}();var jf,jg=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var r,i,s;for(s=[],r=0,i=e.length;r<i;r++)s.push(this.writeByte(e[r]));return s},n}(),YSe=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,a,l,c,u,h,d,f,A,p;for(p in f=Object.keys(t).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),u=16*f-h,(i=new jg).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(u),c=i.pos+16*f,a=null,A=[],t)for(d=t[p],i.writeString(p),i.writeInt(n(d)),i.writeInt(c),i.writeInt(d.length),A=A.concat(d),"head"===p&&(a=c),c+=d.length;c%4;)A.push(0),c++;return i.write(A),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=qX.call(t);t.length%4;)t.push(0);for(s=new jg(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),ZSe={}.hasOwnProperty,Kd=function(n,e){for(var t in e)ZSe.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};jf=function(){function n(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var JSe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kd(e,jf),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new jg).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),zX=function(){function n(e,t){var r,i,s,o,a,l,c,u,h,d,f,A,p,m,g,y,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,s=function(){var _,C;for(C=[],l=_=0;0<=d?_<d:_>d;l=0<=d?++_:--_)C.push(e.readUInt16());return C}(),e.pos+=2,p=function(){var _,C;for(C=[],l=_=0;0<=d?_<d:_>d;l=0<=d?++_:--_)C.push(e.readUInt16());return C}(),c=function(){var _,C;for(C=[],l=_=0;0<=d?_<d:_>d;l=0<=d?++_:--_)C.push(e.readUInt16());return C}(),u=function(){var _,C;for(C=[],l=_=0;0<=d?_<d:_>d;l=0<=d?++_:--_)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,a=function(){var _,C;for(C=[],l=_=0;0<=i?_<i:_>i;l=0<=i?++_:--_)C.push(e.readUInt16());return C}(),l=g=0,v=s.length;g<v;l=++g)for(m=s[l],r=y=A=p[l];A<=m?y<=m:y>=m;r=A<=m?++y:--y)0===u[l]?o=r+c[l]:0!==(o=a[u[l]/2+(r-A)-(d-l)]||0)&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return n.encode=function(e,t){var r,i,s,o,a,l,c,u,h,d,f,A,p,m,g,y,v,C,b,M,D,E,T,B,R,U,k,j,O,P,G,H,ae,ve,Q,q,K,oe,se,le,te,ee,Ae,xe,ge;switch(k=new jg,o=Object.keys(e).sort(function(Ee,ne){return Ee-ne}),t){case"macroman":for(p=0,m=function(){var Ee=[];for(A=0;A<256;++A)Ee.push(0);return Ee}(),y={0:0},s={},j=0,H=o.length;j<H;j++)null==y[ee=e[i=o[j]]]&&(y[ee]=++p),s[i]={old:e[i],new:y[e[i]]},m[i]=y[e[i]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(m),{charMap:s,subtable:k.data,maxGlyphID:p+1};case"unicode":for(R=[],h=[],v=0,y={},r={},g=c=null,O=0,ae=o.length;O<ae;O++)null==y[C=e[i=o[O]]]&&(y[C]=++v),r[i]={old:C,new:y[C]},a=y[C]-i,null!=g&&a===c||(g&&h.push(g),R.push(i),c=a),g=i;for(g&&h.push(g),h.push(65535),R.push(65535),T=2*(E=R.length),D=2*Math.pow(Math.log(E)/Math.LN2,2),d=Math.log(D/2)/Math.LN2,M=2*E-D,l=[],b=[],f=[],A=P=0,ve=R.length;P<ve;A=++P){if(u=h[A],65535===(B=R[A])){l.push(0),b.push(0);break}if(B-(U=r[B].new)>=32768)for(l.push(0),b.push(2*(f.length+E-A)),i=G=B;B<=u?G<=u:G>=u;i=B<=u?++G:--G)f.push(r[i].new);else l.push(U-B),b.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*E+2*f.length),k.writeUInt16(0),k.writeUInt16(T),k.writeUInt16(D),k.writeUInt16(d),k.writeUInt16(M),le=0,Q=h.length;le<Q;le++)k.writeUInt16(i=h[le]);for(k.writeUInt16(0),te=0,q=R.length;te<q;te++)k.writeUInt16(i=R[te]);for(Ae=0,K=l.length;Ae<K;Ae++)k.writeUInt16(a=l[Ae]);for(xe=0,oe=b.length;xe<oe;xe++)k.writeUInt16(b[xe]);for(ge=0,se=f.length;ge<se;ge++)k.writeUInt16(p=f[ge]);return{charMap:r,subtable:k.data,maxGlyphID:v+1}}},n}(),GX=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kd(e,jf),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new zX(t,this.offset),this.tables.push(r),r.isUnicode&&null==this.unicode&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return null==r&&(r="macroman"),i=zX.encode(t,r),(s=new jg).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),e2e=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kd(e,jf),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),t2e=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kd(e,jf),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),n2e=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kd(e,jf),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(t.readUInt32());return c}.call(this)}},e}(),r2e=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},i2e=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kd(e,jf),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,l,c,u,h,d,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},o=h=0,d=i.length;h<d;o=++h)t.pos=(s=i[o]).offset,u=t.readString(s.length),a=new r2e(u,s),null==c[f=s.nameID]&&(c[f]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),s2e=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kd(e,jf),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),o2e=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kd(e,jf),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(t.readInt16());return h}(),this.widths=function(){var u,h,d,f;for(f=[],u=0,h=(d=this.metrics).length;u<h;u++)f.push(d[u].advance);return f}.call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),qX=[].slice,a2e=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kd(e,jf),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,l,c,u,h,d;return t in this.cache?this.cache[t]:(r=this.file.contents,i=(o=this.file.loca).indexOf(t),0===(s=o.lengthOf(t))?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new jg(r.read(s))).readShort(),u=l.readShort(),d=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=-1===a?new c2e(l,u,d,c,h):new l2e(l,a,u,d,c,h),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=t[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),l2e=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),c2e=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new jg(qX.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),u2e=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Kd(e,jf),e.prototype.tag="loca",e.prototype.parse=function(t){var i;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}.call(this):function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var c=this.offsets[a+1]-this.offsets[a];c>0&&(s+=c)}for(var u=new Array(4*i.length),h=0;h<i.length;++h)u[4*h+3]=255&i[h],u[4*h+2]=(65280&i[h])>>8,u[4*h+1]=(16711680&i[h])>>16,u[4*h]=(4278190080&i[h])>>24;return u},e}(),h2e=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)e[t]=i[s[t]];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)null!=(r=i[s])&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))i[s]=r=l[s];return i},n.prototype.encode=function(e,t){var r,i,s,o,l,c,u,h,d,f,A,p,m,g;for(i in r=GX.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},g=r.charMap)f[(l=g[i]).old]=l.new;for(A in d=r.maxGlyphID,o)A in f||(f[A]=d++);return u=function(y){var v,_;for(v in _={},y)_[y[v]]=v;return _}(f),h=Object.keys(u).sort(function(y,v){return y-v}),p=function(){var y,v,_;for(_=[],y=0,v=h.length;y<v;y++)_.push(u[h[y]]);return _}(),s=this.font.glyf.encode(o,p,f),c=this.font.loca.encode(s.offsets,p),m={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},n}();_r.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var i,s;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)c.push(e.convert(t[a]));return c}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(i in s=["<<"],t)s.push("/"+i+" "+e.convert(t[i]));return s.push(">>"),s.join("\n")}return""+t},e}();const f2e=_r;let d2e=(()=>{class n{getPdf(t,r,i,s,o){console.log(t+": [GENERANDO PDF]");const a=(new Date).toISOString();s=`${s}_${a}.pdf`;const l=r.nativeElement,c=i.nativeElement;gSe()(l).then(u=>{let h=c.offsetWidth,d=c.offsetHeight,f=u.toDataURL("image/jpeg"),A=new f2e("landscape","px",[h,d]);A.addImage(f,0,0,h,d),A.save(s)}),o.next(s),o.complete()}_GetPDF(t,r,i,s){return new di(a=>this.getPdf(t,r,i,s,a))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const A2e=["_languajeList"],p2e=["_SourceList"],g2e=["_fileUpload"],m2e=["_sudoku_board"],v2e=n=>({width:n});function y2e(n,e){if(1&n&&(fe(0,"td")(1,"div",31),Fe(2),he()()),2&n){const t=e.$implicit,r=e.index,i=on().index;Ne(),$e("className",r>=3&&r<=5&&i>=0&&i<3||!(r>=3&&r<=5)&&i>=3&&i<=5||r>=3&&r<=5&&i>5&&i<=8?"sudoku-cell_bright":"sudoku-cell_dark"),Ne(),Br(t)}}function _2e(n,e){if(1&n&&(fe(0,"tr"),An(1,y2e,3,2,"td",5),he()),2&n){const t=e.$implicit;Ne(),$e("ngForOf",t)}}function b2e(n,e){if(1&n&&(fe(0,"option",32),Fe(1),he()),2&n){const t=e.$implicit;$e("value",t._index)("selected",t._selected),Ne(),ns("",t._value," ")}}function w2e(n,e){if(1&n&&(fe(0,"option",32),Fe(1),he()),2&n){const t=e.$implicit;$e("value",t._index)("selected",t._selected),Ne(),ns("",t._value," ")}}function C2e(n,e){if(1&n&&(fe(0,"div",33)(1,"div",34),Fe(2),he()()),2&n){const t=on();Ne(),$e("ngStyle",kd(3,v2e,t.progress+"%")),Bi("aria-valuenow",t.progress),Ne(),ns(" ",t.progress,"% ")}}function x2e(n,e){if(1&n&&(fe(0,"div",35),Fe(1),he()),2&n){const t=on();Ne(),Br(t.message)}}function E2e(n,e){if(1&n){const t=Rs();fe(0,"div",24)(1,"input",36),jt("click",function(){return Vn(t),qn(on()._GetPdf())}),he()()}if(2&n){const t=on();Ne(),$e("disabled","[...Generando PDF...]"==t.message)}}let S2e=(()=>{class n{constructor(t,r,i){this.algorithmService=t,this.formBuilder=r,this.pdfEngine=i,this.board=[],this.tituloListadoLenguajes="Seleccione Backend",this.btnGenerateCaption="[GENERAR]",this.btnSolveCaption="[RESOLVER]",this.tituloGenerarDesde="Generar Desde",this._cppSourceDivHidden=!0,this._fileUploadDivHidden=!0,this.sudokuSolved=!0,this._sudokuGenerated="",this.progress=0,this.message="",this.downloadLink="",this.rf_searchForm=this.formBuilder.group({_fileUpload:["",lbe.required]}),this.pageTitle="[SUDOKU]",console.log("[SUDOKU - INGRESO]")}ngAfterViewInit(){}ngOnInit(){this.__languajeList=new Array,this.__languajeList.push(new ec(0,"(SELECCIONE OPCION..)",!1)),this.__languajeList.push(new ec(1,"(.NET Core/C++)",!0)),this.__languajeList.push(new ec(2,"(Node.js)",!1)),this._cppSourceDivHidden=!1,this.__generateSourceList=new Array,this.__generateSourceList.push(new ec(0,"(SELECCIONE OPCION..)",!1)),this.__generateSourceList.push(new ec(1,"[Desde Archivo]",!1)),this.__generateSourceList.push(new ec(2,"[Desde Backend]",!0))}_cppSourceDivHiddenChanged(){console.log("SUDOKU - [DIV CPP SOURCE CHANGED]"),this._cppSourceDivHidden=1!=this._languajeList.nativeElement.options.selectedIndex,this.message=""}_fileUploadDivHiddenChanged(){console.log("SUDOKU - [DIV FILEUPLOAD CHANGED]"),this._fileUploadDivHidden=1!=this._sourceList.nativeElement.options.selectedIndex,this.message=""}GenerateFromBackend(){let t;switch(console.log("[SUDOKU - GENERATE FROM BACKEND]"),this._languajeList.nativeElement.options.selectedIndex){case 1:t=this.algorithmService._GetSudoku();break;case 2:t=this.algorithmService._GetSudoku_NodeJS();break;default:return}this.sudokuSolved=!1,this.btnGenerateCaption="[...generando...]",t.subscribe({next:s=>{console.log("[SUDOKU - GENERATE] - (return): "+s),this._sudokuGenerated=s;let o=(s=(s=(s=(s=(s=s.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let a=0;a<9;a++){const l=[];console.log(o[a]);const c=o[a].split(",");for(let u=0;u<9;u++)l.push(parseInt(c[u]));this.board.push(l)}},error:s=>{console.error("[SUDOKU - GENERATE] - (ERROR) : "+JSON.stringify(s.message)),this.btnGenerateCaption="[GENERAR]"},complete:()=>{console.log("[SUDOKU - GENERATE] -  (COMPLETE)"),this.btnGenerateCaption="[GENERAR]",this.message="[Se gener\xf3 correctamente]"}})}selectFile(t){this.selectedFiles=t.target.files}upload(){if(console.log("[SUDOKU - GENERATE  FROM FILE]"),this.selectedFiles){const t=this.selectedFiles.item(0);t&&(this.progress=0,this.message="...cargando...",this.sudokuSolved=!1,this.btnGenerateCaption="[...generando...]",this.currentFile=t,this.algorithmService.uploadSudoku(this.currentFile).subscribe({next:r=>{if(r.type===jA.UploadProgress)this.progress=Math.round(100*r.loaded/r.total);else if(r instanceof WA){console.log("RESPONSE : "+r.body);let i=r.body;i=i.replaceAll('"',""),i=i.replace(/\\r/g,""),i=i.replace(/\\n/g,""),this._sudokuGenerated=i,i=i.replaceAll("[",""),i=i.replaceAll("]",""),i=i.replaceAll("},","|"),i=i.replaceAll("{",""),i=i.replaceAll("}","");let s=i.split("|");this.board=[];for(let o=0;o<9;o++){const a=[];console.log(s[o]);const l=s[o].split(",");for(let c=0;c<9;c++)a.push(parseInt(l[c]));this.board.push(a)}}},error:r=>{console.error("[SUDOKU - GENERATE  FROM FILE] -  (ERROR)"),console.error(r),this.progress=0,this.message=r.error&&r.error.message?r.error.message:"[Could not upload the file!]",this.currentFile=void 0,this.btnGenerateCaption="[GENERAR]"},complete:()=>{console.log("[SUDOKU - GENERATE  FROM FILE] -  (COMPLETE)"),this.btnGenerateCaption="[GENERAR]",this.message="[Se gener\xf3 correctamente]",this.selectedFiles=void 0,this.currentFile=void 0}}))}else this.message="[Favor seleccione archivo...]"}_GetSudoku(){switch(console.log("[SUDOKU - GENERATE - MAIN MENU]"),this._sourceList.nativeElement.options.selectedIndex){case 1:this.upload();break;case 2:this.GenerateFromBackend();break;default:return}}_SolveSudoku(){let t;switch(console.log("[SUDOKU - SOLVE] \n"+this._sudokuGenerated),this.sudokuSolved=!0,this.btnSolveCaption="[...resolviendo...]",this._languajeList.nativeElement.options.selectedIndex){case 1:t=this.algorithmService._SolveSudoku(this._sudokuGenerated);break;case 2:t=this.algorithmService._SolveSudoku_NodeJS(this._sudokuGenerated);break;default:return}t.subscribe({next:s=>{console.log("[SUDOKU - SOLVE] - (return): "+s),this._sudokuGenerated=s;let o=(s=(s=(s=(s=(s=s.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let a=0;a<9;a++){const l=[];console.log(o[a]);const c=o[a].split(",");for(let u=0;u<9;u++)l.push(parseInt(c[u]));this.board.push(l)}},error:s=>{console.error("[SUDOKU - SOLVE] - (ERROR) : "+JSON.stringify(s.message)),this.message="[Ha ocurrido un error]"},complete:()=>{console.log("[SUDOKU - SOLVE] -  (COMPLETE)"),this.btnSolveCaption="[RESOLVER]",this.message="[Se resolvi\xf3 correctamente]",this.selectedFiles=void 0,this.currentFile=void 0,this.rf_searchForm.reset()}})}_GetPdf(){let r="SUDOKU_BOARD_"+(this.sudokuSolved?"SOLVED":"STARTED"),i="";this.message="[...Generando PDF...]",this.pdfEngine._GetPDF(this.pageTitle,this._sudoku_board,this._sudoku_board,r).subscribe({next:s=>{i=s},error:s=>{this.message="ha ocurrido un error : "+s.message},complete:()=>{this.message=`Se ha generado el archivo PDF :[ ${i} ]`}})}static{this.\u0275fac=function(r){return new(r||n)(gt(zK),gt($be),gt(d2e))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-sudoku"]],viewQuery:function(r,i){if(1&r&&(Wi(A2e,5),Wi(p2e,5),Wi(g2e,5),Wi(m2e,5)),2&r){let s;ar(s=lr())&&(i._languajeList=s.first),ar(s=lr())&&(i._sourceList=s.first),ar(s=lr())&&(i._fileUpload=s.first),ar(s=lr())&&(i._sudoku_board=s.first)}},decls:58,vars:15,consts:[["_sudoku_board",""],["_languajeList",""],["_SourceList",""],["_fileUpload",""],[1,"sudoku-board"],[4,"ngFor","ngForOf"],["id","LangListDiv","align","left"],["id","tituloListadoLenguajes"],["for","LanguajeList"],["id","LanguageList","name","LanguajeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","cppSoureDiv",3,"hidden"],["href","javascript: void window.open('https://github.com/aperezNWO/CppBuilder01/blob/master/Project2/Sudoku.cpp')"],["id","SourceListDiv","align","left"],["for","SourceList"],["id","SourceList","name","SourceList",3,"change"],[3,"ngSubmit","formGroup"],["align","left",1,"fileUpload",3,"hidden"],["href","./assets/sudoku.txt","target","_blank","download","sudoku.txt"],[1,"col-12"],[1,"btn","btn-default","p-0"],["type","file","name","_fileUpload","formControlName","_fileUpload",3,"change"],["id","resetFile","type","reset"],["class","progress my-3",4,"ngIf"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["id","GetSudoku","type","button",3,"click","value","disabled"],["id","SolveSudoku","type","submit",3,"value","disabled"],["align","left",4,"ngIf"],["align","right"],["routerLink","/Dev"],[3,"className"],[3,"value","selected"],[1,"progress","my-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped",3,"ngStyle"],["role","alert",1,"alert","alert-secondary"],["type","button","name","btnGeneratePdf","value","[GENERAR PDF]",3,"click","disabled"]],template:function(r,i){if(1&r){const s=Rs();fe(0,"h1"),Fe(1,"SUDOKU BOARD"),he(),ft(2,"hr"),fe(3,"div",4,0)(5,"table")(6,"tbody"),An(7,_2e,2,1,"tr",5),he()()(),ft(8,"hr"),fe(9,"div",6)(10,"span",7),Fe(11),he(),ft(12,"label",8),Fe(13," \xa0\xa0 "),fe(14,"select",9,1),jt("change",function(){return Vn(s),qn(i._cppSourceDivHiddenChanged())}),An(16,b2e,2,3,"option",10),he(),Fe(17," \xa0\xa0 "),fe(18,"span",11)(19,"a",12),Fe(20,"[View Source]"),he()()(),ft(21,"hr"),fe(22,"div",13)(23,"span",7),Fe(24),he(),ft(25,"label",14),Fe(26," \xa0\xa0 "),fe(27,"select",15,2),jt("change",function(){return Vn(s),qn(i._fileUploadDivHiddenChanged())}),An(29,w2e,2,3,"option",10),he()(),ft(30,"hr"),fe(31,"form",16),jt("ngSubmit",function(){return Vn(s),qn(i._SolveSudoku())}),fe(32,"div",17)(33,"a",18),Fe(34,"[Download Template]"),he(),ft(35,"hr"),fe(36,"div",19)(37,"label",20)(38,"input",21,3),jt("change",function(a){return Vn(s),qn(i.selectFile(a))}),he()(),Fe(40," | "),fe(41,"button",22),Fe(42,"[RESET]"),he()(),ft(43,"hr"),An(44,C2e,3,5,"div",23),he(),fe(45,"div",24),An(46,x2e,2,1,"div",25),he(),ft(47,"hr"),fe(48,"div",24)(49,"input",26),jt("click",function(){return Vn(s),qn(i._GetSudoku())}),he(),Fe(50," | "),ft(51,"input",27),he()(),ft(52,"hr"),An(53,E2e,2,1,"div",28),ft(54,"hr"),fe(55,"div",29)(56,"a",30),Fe(57,"[Volver al menu]"),he()()}2&r&&(Ne(7),$e("ngForOf",i.board),Ne(4),Br(i.tituloListadoLenguajes),Ne(5),$e("ngForOf",i.__languajeList),Ne(2),$e("hidden",i._cppSourceDivHidden),Ne(6),Br(i.tituloGenerarDesde),Ne(5),$e("ngForOf",i.__generateSourceList),Ne(2),$e("formGroup",i.rf_searchForm),Ne(),$e("hidden",i._fileUploadDivHidden),Ne(12),$e("ngIf",i.currentFile),Ne(2),$e("ngIf",i.message),Ne(3),$e("value",i.btnGenerateCaption)("disabled","[...generando...]"==i.btnGenerateCaption||"[...resolviendo...]"==i.btnSolveCaption),Ne(2),$e("value",i.btnSolveCaption)("disabled","[...resolviendo...]"==i.btnSolveCaption||"[...generando...]"==i.btnGenerateCaption||1==i.sudokuSolved),Ne(2),$e("ngIf",i.board.length>0))},dependencies:[Ss,Bl,Ic,PM,Tx,Vv,Qv,Fg,M_,bx,sT,JL],styles:[".sudoku-board[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;height:auto;border:1px solid black}.sudoku-cell_bright[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid black;text-align:center;font-size:20px;background-color:#fff}.sudoku-cell_dark[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid black;text-align:center;font-size:20px;background-color:#ccc}.fileUpload[_ngcontent-%COMP%]{padding:1em;background-color:#ccc}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#007bff}"]})}}return n})(),D2e=(()=>{class n{constructor(){this.value=null,this.clickEvent=new ie}onClick(){this.clickEvent.emit()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-square"]],inputs:{value:"value"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[Ca],decls:2,vars:1,consts:[[1,"square",3,"click"]],template:function(r,i){1&r&&(fe(0,"button",0),jt("click",function(){return i.onClick()}),Fe(1),he()),2&r&&(Ne(),Br(null==i.value?"_":i.value))},dependencies:[Lv],styles:[".square[_ngcontent-%COMP%]{width:50px;height:50px}"]})}}return n})(),jX=(()=>{class n{constructor(){this.COMPUTER=1,this.HUMAN=2,this.COMPUTERMOVE="O",this.HUMANMOVE="X",this.SIDE=3,this.boardSurface=this.SIDE*this.SIDE,this.whoseTurn=this.HUMAN,this.moveIndex=0,this.board=[],this.winner=null,this.squares=Array(this.boardSurface).fill(null),this.message="",this.initialise()}initialise(){this.squares=[],this.squares=Array(9).fill(null),this.board=[];for(let t=0;t<this.SIDE;t++){const r=[];for(let i=0;i<this.SIDE;i++)r.push(null);this.board.push(r)}this.winner=null,this.moveIndex=0,this.message=""}declareWinner(t){t==this.COMPUTER?(this.message="[gan\xf3 COMPUTADOR]",this.winner=this.COMPUTERMOVE):(this.message="[gan\xf3 HUMANO]",this.winner=this.HUMANMOVE)}rowCrossed(t){for(let r=0;r<this.SIDE;r++)if(t[r][0]==t[r][1]&&t[r][1]==t[r][2]&&null!=t[r][0])return!0;return!1}columnCrossed(t){for(let r=0;r<this.SIDE;r++)if(t[0][r]==t[1][r]&&t[1][r]==t[2][r]&&null!=t[0][r])return!0;return!1}diagonalCrossed(t){return t[0][0]==t[1][1]&&t[1][1]==t[2][2]&&null!=t[0][0]||t[0][2]==t[1][1]&&t[1][1]==t[2][0]&&null!=t[0][2]}gameOver(t){return this.rowCrossed(t)||this.columnCrossed(t)||this.diagonalCrossed(t)}minimax(t,r,i){let s=0,o=0;if(1==this.gameOver(t)){if(1==i)return-1;if(0==i)return 1}if(r<9){if(1==i){o=-999;for(let a=0;a<this.SIDE;a++)for(let l=0;l<this.SIDE;l++)null==t[a][l]&&(t[a][l]=this.COMPUTERMOVE,s=this.minimax(t,r+1,!1),t[a][l]=null,s>o&&(o=s));return o}o=999;for(let a=0;a<this.SIDE;a++)for(let l=0;l<this.SIDE;l++)null==t[a][l]&&(t[a][l]=this.HUMANMOVE,s=this.minimax(t,r+1,!0),t[a][l]=null,s<o&&(o=s));return o}return 0}bestMove(t,r){let i=-1,s=-1,o=0,a=-999;for(let l=0;l<this.SIDE;l++)for(let c=0;c<this.SIDE;c++)null==t[l][c]&&(t[l][c]=this.COMPUTERMOVE,o=this.minimax(t,r+1,!1),t[l][c]=null,o>a&&(a=o,i=l,s=c));return 3*i+s}doPlay(t,r,i){this.whoseTurn=t;let s=0;switch(t){case this.COMPUTER:s=Math.abs(this.bestMove(this.board,this.moveIndex));break;case this.HUMAN:s=i}let o=Math.floor(s/this.SIDE),a=Math.floor(s%this.SIDE);this.board[o][a]=r,this.squares[s]=r,this.moveIndex++}_declareWinner(){let t=0==this.gameOver(this.board);return console.log("[TIC-TAC-TOE] - [Declare Winner] "),0==(t&&this.moveIndex!=this.boardSurface)&&(t&&this.moveIndex==this.boardSurface?(this.message="[EMPATE]",this.winner=null):this.declareWinner(this.whoseTurn),!0)}makeHumanMove(t){this.doPlay(this.HUMAN,this.HUMANMOVE,t)}makeComputerMove(){this.doPlay(this.COMPUTER,this.COMPUTERMOVE,0)}makeMove(t){this.squares[t]||this.winner||(this.makeHumanMove(t),0==this._declareWinner()&&(this.makeComputerMove(),this._declareWinner()))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const M2e=["_SourceList"],WX=()=>[0,1,2];function T2e(n,e){if(1&n){const t=Rs();fe(0,"app-square",15),jt("clickEvent",function(){const i=Vn(t).$implicit,s=on().$implicit;return qn(on(2).makeMove(3*s+i))}),he()}if(2&n){const t=e.$implicit,r=on().$implicit;$e("value",on(2).ticTacToeEngine.squares[3*r+t])}}function B2e(n,e){1&n&&(fe(0,"div",13),An(1,T2e,1,1,"app-square",14),he()),2&n&&(Ne(),$e("ngForOf",rx(1,WX)))}function N2e(n,e){1&n&&(fe(0,"span",11),An(1,B2e,2,2,"div",12),he()),2&n&&(Ne(),$e("ngForOf",rx(1,WX)))}function I2e(n,e){if(1&n&&(fe(0,"option",16),Fe(1),he()),2&n){const t=e.$implicit;$e("value",t._index)("selected",t._selected),Ne(),ns("",t._value," ")}}function F2e(n,e){if(1&n&&(fe(0,"div",17)(1,"b"),Fe(2),he()()),2&n){const t=on();Ne(2),Br(t.ticTacToeEngine.message)}}let $X=(()=>{class n{constructor(){this.tituloSource="\xbfQuien Inicia?",this.IsNewGame=!1,this.showBoard=!1,this.ticTacToeEngine=new jX}ngOnInit(){console.log("[TIC-TAC-TOE - INICIAR VALORES"),this.__SourceList=new Array,this.__SourceList.push(new ec(0,"(SELECCIONE OPCION..)",!1)),this.__SourceList.push(new ec(this.ticTacToeEngine.COMPUTER,"[INICIA MAQUINA]",!0)),this.__SourceList.push(new ec(this.ticTacToeEngine.HUMAN,"[INICIA JUGADOR]",!1)),this.ticTacToeEngine.initialise()}ngAfterViewInit(){this._sourceList.nativeElement.options.selectedIndex=1}_tituloSourceChanged(){}makeMove(t){console.log(`[TIC-TAC-TOE] - [Click on cel : {${t}}] `),this.ticTacToeEngine.makeMove(t)}newGame(){console.log("[GAME - TIC-TAC-TOE] - [NEW GAME]"),this.ticTacToeEngine.initialise(),this.IsNewGame=!0,this.showBoard=!1}startGame(){console.log("[GAME - TIC-TAC-TOE] - [START GAME]"),this._sourceList.nativeElement.options[this._sourceList.nativeElement.options.selectedIndex].value==this.ticTacToeEngine.COMPUTER&&this.ticTacToeEngine.makeComputerMove(),this.IsNewGame=!1,this.showBoard=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-board"]],viewQuery:function(r,i){if(1&r&&Wi(M2e,5),2&r){let s;ar(s=lr())&&(i._sourceList=s.first)}},standalone:!0,features:[Ca],decls:19,vars:7,consts:[["_SourceList",""],["class","board","align","center",4,"ngIf"],["id","SourceListDiv","align","left"],["id","tituloSource"],["for","_SourceList"],["id","_SourceList","name","_SourceList",3,"change","disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["type","button","value","[NUEVO]",3,"click","disabled"],["type","button","value","[INICIAR]",3,"click","disabled"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["align","center",1,"board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"value","clickEvent",4,"ngFor","ngForOf"],[3,"clickEvent","value"],[3,"value","selected"],["role","alert",1,"alert","alert-secondary"]],template:function(r,i){if(1&r){const s=Rs();fe(0,"h1"),Fe(1,"[TIC-TAC-TOE BOARD]"),he(),ft(2,"hr"),An(3,N2e,2,2,"span",1),ft(4,"hr"),fe(5,"div",2)(6,"span",3),Fe(7),he(),ft(8,"label",4),Fe(9," \xa0\xa0 "),fe(10,"select",5,0),jt("change",function(){return Vn(s),qn(i._tituloSourceChanged())}),An(12,I2e,2,3,"option",6),he()(),ft(13,"hr"),fe(14,"input",7),jt("click",function(){return Vn(s),qn(i.newGame())}),he(),fe(15,"input",8),jt("click",function(){return Vn(s),qn(i.startGame())}),he(),ft(16,"hr"),fe(17,"div",9),An(18,F2e,3,1,"div",10),he()}2&r&&(Ne(3),$e("ngIf",i.showBoard),Ne(4),Br(i.tituloSource),Ne(3),$e("disabled",0==i.IsNewGame),Ne(2),$e("ngForOf",i.__SourceList),Ne(2),$e("disabled",1==i.IsNewGame),Ne(),$e("disabled",0==i.IsNewGame),Ne(3),$e("ngIf",i.ticTacToeEngine.message))},dependencies:[D2e,Lv,Bl,Ic]})}}return n})(),R2e=(()=>{class n{constructor(){console.log("[TIC-TAC-TOE - INICIO COMPONENTE")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-tic-tac-toe"]],decls:5,vars:0,consts:[["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(ft(0,"app-board")(1,"hr"),fe(2,"div",0)(3,"a",1),Fe(4,"[Volver al Menu]"),he()())},dependencies:[$X,Ss]})}}return n})(),O2e=(()=>{class n{constructor(){this.value=null,this.clickEvent=new ie}onClick(){this.clickEvent.emit()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-square-online"]],inputs:{value:"value"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[Ca],decls:2,vars:1,consts:[[1,"square",3,"click"]],template:function(r,i){1&r&&(fe(0,"button",0),jt("click",function(){return i.onClick()}),Fe(1),he()),2&r&&(Ne(),Br(null==i.value?"_":i.value))},styles:[".square[_ngcontent-%COMP%]{width:50px;height:50px}"]})}}return n})();const Xd=Object.create(null);Xd.open="0",Xd.close="1",Xd.ping="2",Xd.pong="3",Xd.message="4",Xd.upgrade="5",Xd.noop="6";const oB=Object.create(null);Object.keys(Xd).forEach(n=>{oB[Xd[n]]=n});const IU={type:"error",data:"parser error"},KX="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),XX="function"==typeof ArrayBuffer,YX=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,FU=({type:n,data:e},t,r)=>KX&&e instanceof Blob?t?r(e):ZX(e,r):XX&&(e instanceof ArrayBuffer||YX(e))?t?r(e):ZX(new Blob([e]),r):r(Xd[n]+(e||"")),ZX=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function JX(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let RU;const sE=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<64;n++)sE["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(n)]=n;const U2e="function"==typeof ArrayBuffer,OU=(n,e)=>{if("string"!=typeof n)return{type:"message",data:eY(n,e)};const t=n.charAt(0);return"b"===t?{type:"message",data:k2e(n.substring(1),e)}:oB[t]?n.length>1?{type:oB[t],data:n.substring(1)}:{type:oB[t]}:IU},k2e=(n,e)=>{if(U2e){const t=(n=>{let r,s,o,a,l,e=.75*n.length,t=n.length,i=0;"="===n[n.length-1]&&(e--,"="===n[n.length-2]&&e--);const c=new ArrayBuffer(e),u=new Uint8Array(c);for(r=0;r<t;r+=4)s=sE[n.charCodeAt(r)],o=sE[n.charCodeAt(r+1)],a=sE[n.charCodeAt(r+2)],l=sE[n.charCodeAt(r+3)],u[i++]=s<<2|o>>4,u[i++]=(15&o)<<4|a>>2,u[i++]=(3&a)<<6|63&l;return c})(n);return eY(t,e)}return{base64:!0,data:n}},eY=(n,e)=>"blob"===e?n instanceof Blob?n:new Blob([n]):n instanceof ArrayBuffer?n:n.buffer;let PU;function aB(n){return n.reduce((e,t)=>e+t.length,0)}function lB(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function Sa(n){if(n)return function G2e(n){for(var e in Sa.prototype)n[e]=Sa.prototype[e];return n}(n)}Sa.prototype.on=Sa.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},Sa.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},Sa.prototype.off=Sa.prototype.removeListener=Sa.prototype.removeAllListeners=Sa.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if((r=t[i])===e||r.fn===e){t.splice(i,1);break}return 0===t.length&&delete this._callbacks["$"+n],this},Sa.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){r=0;for(var i=(t=t.slice(0)).length;r<i;++r)t[r].apply(this,e)}return this},Sa.prototype.emitReserved=Sa.prototype.emit,Sa.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Sa.prototype.hasListeners=function(n){return!!this.listeners(n).length};const cB="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Vh=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function rY(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const j2e=Vh.setTimeout,W2e=Vh.clearTimeout;function uB(n,e){e.useNativeTimers?(n.setTimeoutFn=j2e.bind(Vh),n.clearTimeoutFn=W2e.bind(Vh)):(n.setTimeoutFn=Vh.setTimeout.bind(Vh),n.clearTimeoutFn=Vh.clearTimeout.bind(Vh))}function K2e(n){return"string"==typeof n?function X2e(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}(n):Math.ceil(1.33*(n.byteLength||n.size))}function iY(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class J2e extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class LU extends Sa{constructor(e){super(),this.writable=!1,uB(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new J2e(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=OU(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function Y2e(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}(e);return t.length?"?"+t:""}}class eDe extends LU{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((n,e)=>{const t=n.split("\x1e"),r=[];for(let i=0;i<t.length;i++){const s=OU(t[i],e);if(r.push(s),"error"===s.type)break}return r})(e,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((s,o)=>{FU(s,!1,a=>{r[o]=a,++i===t&&e(r.join("\x1e"))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=iY()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let sY=!1;try{sY=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const tDe=sY;function nDe(){}class rDe extends eDe{constructor(e){if(super(e),typeof location<"u"){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}let hB=(()=>{class n extends Sa{constructor(t,r,i){super(),this.createRequest=t,uB(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=void 0!==i.data?i.data:null,this._create()}_create(){var t;const r=rY(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if("POST"===this._method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var s;3===i.readyState&&(null===(s=this._opts.cookieJar)||void 0===s||s.parseCookies(i.getResponseHeader("set-cookie"))),4===i.readyState&&(200===i.status||1223===i.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof i.status?i.status:0)},0))},i.send(this._data)}catch(s){return void this.setTimeoutFn(()=>{this._onError(s)},0)}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||null===this._xhr)){if(this._xhr.onreadystatechange=nDe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();function oY(){for(let n in hB.requests)hB.requests.hasOwnProperty(n)&&hB.requests[n].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",oY):"function"==typeof addEventListener&&addEventListener("onpagehide"in Vh?"pagehide":"unload",oY,!1));const iDe=function(){const n=aY({xdomain:!1});return n&&null!==n.responseType}();function aY(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||tDe))return new XMLHttpRequest}catch{}if(!e)try{return new(Vh[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}const lY=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class oDe extends LU{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=lY?{}:rY(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;FU(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&cB(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=iY()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const UU=Vh.WebSocket||Vh.MozWebSocket,cDe={websocket:class aDe extends oDe{createSocket(e,t,r){return lY?new UU(e,t,r):t?new UU(e,t):new UU(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class lDe extends LU{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function z2e(n,e){PU||(PU=new TextDecoder);const t=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(0===r){if(aB(t)<1)break;const l=lB(t,1);s=!(128&~l[0]),i=127&l[0],r=i<126?3:126===i?1:2}else if(1===r){if(aB(t)<2)break;const l=lB(t,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(2===r){if(aB(t)<8)break;const l=lB(t,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(IU);break}i=u*Math.pow(2,32)+c.getUint32(4),r=3}else{if(aB(t)<i)break;const l=lB(t,i);a.enqueue(OU(s?l:PU.decode(l),e)),r=0}if(0===i||i>n){a.enqueue(IU);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=function Q2e(){return new TransformStream({transform(n,e){!function P2e(n,e){KX&&n.data instanceof Blob?n.data.arrayBuffer().then(JX).then(e):XX&&(n.data instanceof ArrayBuffer||YX(n.data))?e(JX(n.data)):FU(n,!1,t=>{RU||(RU=new TextEncoder),e(RU.encode(t))})}(n,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}n.data&&"string"!=typeof n.data&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=t===e.length-1;this._writer.write(e[t]).then(()=>{i&&cB(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class sDe extends rDe{constructor(e){super(e),this.supportsBinary=iDe&&!(e&&e.forceBase64)}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new hB(aY,this.uri(),e)}}},uDe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,hDe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function kU(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),r=n.indexOf("]");-1!=t&&-1!=r&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=uDe.exec(n||""),s={},o=14;for(;o--;)s[hDe[o]]=i[o]||"";return-1!=t&&-1!=r&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function fDe(n,e){const r=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.slice(0,1)||0===e.length)&&r.splice(0,1),"/"==e.slice(-1)&&r.splice(r.length-1,1),r}(0,s.path),s.queryKey=function dDe(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(t[i]=s)}),t}(0,s.query),s}const HU="function"==typeof addEventListener&&"function"==typeof removeEventListener,fB=[];HU&&addEventListener("offline",()=>{fB.forEach(n=>n())},!1);let VU=(()=>{class n extends Sa{constructor(t,r){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(r=t,t=null),t){const i=kU(t);r.hostname=i.host,r.secure="https"===i.protocol||"wss"===i.protocol,r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=kU(r.host).host);uB(this,r),this.secure=null!=r.secure?r.secure:typeof location<"u"&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{const s=i.prototype.name;this.transports.push(s),this._transportsByName[s]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function Z2e(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let s=t[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}(this.opts.query)),HU&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},fB.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(r+=K2e(s)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,cB(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,s){if("function"==typeof r&&(s=r,r=void 0),"function"==typeof i&&(s=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const o={type:t,data:r,options:i};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),HU&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=fB.indexOf(this._offlineEventListener);-1!==i&&fB.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=4,n})();class ADe extends VU{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;VU.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!r)if("pong"===h.type&&"probe"===h.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;VU.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=t.name,this.emitReserved("upgradeError",d)}}))};function s(){r||(r=!0,u(),t.close(),t=null)}const o=h=>{const d=new Error("probe error: "+h);d.transport=t.name,s(),this.emitReserved("upgradeError",d)};function a(){o("transport closed")}function l(){o("socket closed")}function c(h){t&&h.name!==t.name&&s()}const u=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};t.once("open",i),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class cY extends ADe{constructor(e,t={}){const r="object"==typeof e?e:t;(!r.transports||r.transports&&"string"==typeof r.transports[0])&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>cDe[i]).filter(i=>!!i)),super(e,r)}}const gDe="function"==typeof ArrayBuffer,mDe=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,uY=Object.prototype.toString,vDe="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===uY.call(Blob),yDe="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===uY.call(File);function QU(n){return gDe&&(n instanceof ArrayBuffer||mDe(n))||vDe&&n instanceof Blob||yDe&&n instanceof File}function dB(n,e){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(dB(n[t]))return!0;return!1}if(QU(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return dB(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&dB(n[t]))return!0;return!1}function _De(n){const e=[],r=n;return r.data=zU(n.data,e),r.attachments=e.length,{packet:r,buffers:e}}function zU(n,e){if(!n)return n;if(QU(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=zU(n[r],e);return t}if("object"==typeof n&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=zU(n[r],e));return t}return n}function bDe(n,e){return n.data=GU(n.data,e),delete n.attachments,n}function GU(n,e){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=GU(n[t],e);else if("object"==typeof n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=GU(n[t],e));return n}const wDe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],CDe=5;var Ki=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(Ki||{});class xDe{constructor(e){this.replacer=e}encode(e){return e.type!==Ki.EVENT&&e.type!==Ki.ACK||!dB(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Ki.EVENT?Ki.BINARY_EVENT:Ki.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return(e.type===Ki.BINARY_EVENT||e.type===Ki.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=_De(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}function hY(n){return"[object Object]"===Object.prototype.toString.call(n)}class qU extends Sa{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===Ki.BINARY_EVENT;r||t.type===Ki.BINARY_ACK?(t.type=r?Ki.EVENT:Ki.ACK,this.reconstructor=new EDe(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!QU(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===Ki[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Ki.BINARY_EVENT||r.type===Ki.BINARY_ACK){const s=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(s,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(t+1)){const s=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(s,t)}else r.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const s=t+1;for(;++t;){const o=e.charAt(t);if(null==o||Number(o)!=o){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(!qU.isPayloadValid(r.type,s))throw new Error("invalid payload");r.data=s}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Ki.CONNECT:return hY(t);case Ki.DISCONNECT:return void 0===t;case Ki.CONNECT_ERROR:return"string"==typeof t||hY(t);case Ki.EVENT:case Ki.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===wDe.indexOf(t[0]));case Ki.ACK:case Ki.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class EDe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=bDe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Wf(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const SDe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class fY extends Sa{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Wf(e,"open",this.onopen.bind(this)),Wf(e,"packet",this.onpacket.bind(this)),Wf(e,"error",this.onerror.bind(this)),Wf(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,s;if(SDe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:Ki.EVENT,data:t,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const u=this.ids++,h=t.pop();this._registerAckCallback(u,h),o.id=u}const a=null===(i=null===(r=this.io.engine)||void 0===r?void 0:r.transport)||void 0===i?void 0:i.writable,l=this.connected&&!(null!==(s=this.io.engine)&&void 0!==s&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r;const i=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(null!==i?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ki.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ki.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ki.EVENT:case Ki.BINARY_EVENT:this.onevent(e);break;case Ki.ACK:case Ki.BINARY_ACK:this.onack(e);break;case Ki.DISCONNECT:this.ondisconnect();break;case Ki.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:Ki.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ki.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function c1(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}c1.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=1&Math.floor(10*e)?n+t:n-t}return 0|Math.min(n,this.max)},c1.prototype.reset=function(){this.attempts=0},c1.prototype.setMin=function(n){this.ms=n},c1.prototype.setMax=function(n){this.max=n},c1.prototype.setJitter=function(n){this.jitter=n};class jU extends Sa{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,uB(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new c1({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||St;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new cY(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Wf(t,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Wf(t,"error",s);if(!1!==this._timeout){const l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),t.close()},this._timeout);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Wf(e,"ping",this.onping.bind(this)),Wf(e,"data",this.ondata.bind(this)),Wf(e,"error",this.onerror.bind(this)),Wf(e,"close",this.onclose.bind(this)),Wf(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){cB(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new fY(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const oE={};function AB(n,e){"object"==typeof n&&(e=n,n=void 0);const t=function pDe(n,e="",t){let r=n;t=t||typeof location<"u"&&location,null==n&&(n=t.protocol+"//"+t.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?t.protocol+n:t.host+n),/^(https?|wss?):\/\//.test(n)||(n=typeof t<"u"?t.protocol+"//"+n:"https://"+n),r=kU(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}(n,(e=e||{}).path||"/socket.io"),r=t.source,i=t.id;let l;return e.forceNew||e["force new connection"]||!1===e.multiplex||oE[i]&&t.path in oE[i].nsps?l=new jU(r,e):(oE[i]||(oE[i]=new jU(r,e)),l=oE[i]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(AB,{Manager:jU,Socket:fY,io:AB,connect:AB});let dY=(()=>{class n{constructor(t){this.messages=[],this.onNewMessage=new $r;let r=t.getConfigValue("baseUrlNodeJsChat");console.log("Setting chat from url : "+r),this.socket=AB(r,{extraHeaders:{"Access-Control-Allow-Origin":"*"}}),this.socket.on("message",i=>{console.log("received message : ["+JSON.stringify(i)+"]"),this.messages.push(i),console.log("Message Array (service) : "+this.messages),this.onNewMessage.next(i)})}getMessages(){return console.log("Receiving messages to UIX..."),Jn(this.messages)}sendMessage(t){this.socket.emit("message",t)}static{this.\u0275fac=function(r){return new(r||n)(Wt(Hg))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const DDe=["_SourceList"],AY=()=>[0,1,2];function MDe(n,e){if(1&n){const t=Rs();fe(0,"app-square-online",18),jt("clickEvent",function(){const i=Vn(t).$implicit,s=on().$implicit;return qn(on(2).makeMove(3*s+i))}),he()}if(2&n){const t=e.$implicit,r=on().$implicit;$e("value",on(2).ticTacToeEngine.squares[3*r+t])}}function TDe(n,e){1&n&&(fe(0,"div",16),An(1,MDe,1,1,"app-square-online",17),he()),2&n&&(Ne(),$e("ngForOf",rx(1,AY)))}function BDe(n,e){1&n&&(fe(0,"span",14),An(1,TDe,2,2,"div",15),he()),2&n&&(Ne(),$e("ngForOf",rx(1,AY)))}function NDe(n,e){if(1&n&&(fe(0,"option",19),Fe(1),he()),2&n){const t=e.$implicit;$e("value",t._index)("selected",t._selected),Ne(),ns("",t._value," ")}}function IDe(n,e){if(1&n&&(fe(0,"div",20)(1,"b"),Fe(2),he()()),2&n){const t=on();Ne(2),Br(t.ticTacToeEngine.message)}}function FDe(n,e){if(1&n&&(fe(0,"table",21)(1,"tr")(2,"td")(3,"span"),Fe(4),he()()()()),2&n){const t=e.$implicit;Ne(4),ns(" ",t," ")}}let pY=(()=>{class n{constructor(t,r){this.chatService=t,this.ticTacToeEngine=r,this.parentData=[],this.tituloSource="\xbfQuien Inicia?",this.IsNewGame=!1,this.showBoard=!1}ngOnInit(){this.chatService.getMessages().subscribe(t=>this.parentData=t),this.chatService.onNewMessage.subscribe(t=>this.NotifyingMessage(t)),console.log("[TIC-TAC-TOE - INICIAR VALORES"),this.__SourceList=new Array,this.__SourceList.push(new ec(0,"(SELECCIONE OPCION..)",!1)),this.__SourceList.push(new ec(this.ticTacToeEngine.COMPUTER,"[INICIA MAQUINA]",!0)),this.__SourceList.push(new ec(this.ticTacToeEngine.HUMAN,"[INICIA JUGADOR]",!1)),this.__SourceList.push(new ec(this.ticTacToeEngine.HUMAN,"[JUGAR EN LINEA]",!1)),this.ticTacToeEngine.initialise()}ngAfterViewInit(){this._sourceList.nativeElement.options.selectedIndex=1}NotifyingMessage(t){console.log("Pushing data to client : "+t),console.log("Message Array (client) : "+this.parentData)}sendMessage(t){console.log("sending message: ",t),this.chatService.sendMessage(t)}makeMove(t){let r=`[TIC-TAC-TOE] - [Click on cel : {${t+1}}] `;console.log(r),this.ticTacToeEngine.makeMove(t),this.chatService.sendMessage(r)}newGame(){console.log("[GAME - TIC-TAC-TOE] - [NEW GAME]"),this.ticTacToeEngine.initialise(),this.IsNewGame=!0,this.showBoard=!1}startGame(){console.log("[GAME - TIC-TAC-TOE] - [START GAME]"),this._sourceList.nativeElement.options[this._sourceList.nativeElement.options.selectedIndex].value==this.ticTacToeEngine.COMPUTER&&this.ticTacToeEngine.makeComputerMove(),this.IsNewGame=!1,this.showBoard=!0}static{this.\u0275fac=function(r){return new(r||n)(gt(dY),gt(jX))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-board-online"]],viewQuery:function(r,i){if(1&r&&Wi(DDe,5),2&r){let s;ar(s=lr())&&(i._sourceList=s.first)}},standalone:!0,features:[Ca],decls:26,vars:8,consts:[["_SourceList",""],["class","board","align","center",4,"ngIf"],["id","SourceListDiv","align","left"],["id","tituloSource"],["for","_SourceList"],["id","_SourceList","name","_SourceList",3,"disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["align","center"],["type","button","value","[NUEVO]",3,"click","disabled"],["type","button","value","[INICIAR]",3,"click","disabled"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["id","divMessages"],["class","message-data",4,"ngFor","ngForOf"],["align","center",1,"board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"value","clickEvent",4,"ngFor","ngForOf"],[3,"clickEvent","value"],[3,"value","selected"],["role","alert",1,"alert","alert-secondary"],[1,"message-data"]],template:function(r,i){if(1&r){const s=Rs();fe(0,"h1"),Fe(1,"[TIC-TAC-TOE BOARD]"),he(),ft(2,"hr"),An(3,BDe,2,2,"span",1),ft(4,"hr"),fe(5,"div",2)(6,"span",3),Fe(7),he(),ft(8,"label",4),Fe(9," \xa0\xa0 "),fe(10,"select",5,0),An(12,NDe,2,3,"option",6),he()(),ft(13,"hr"),fe(14,"div",7)(15,"input",8),jt("click",function(){return Vn(s),qn(i.newGame())}),he(),fe(16,"input",9),jt("click",function(){return Vn(s),qn(i.startGame())}),he()(),ft(17,"hr"),fe(18,"div",10),An(19,IDe,3,1,"div",11),he(),ft(20,"hr"),fe(21,"h4"),Fe(22,"[MESSAGES]"),he(),ft(23,"hr"),fe(24,"div",12),An(25,FDe,5,1,"table",13),he()}2&r&&(Ne(3),$e("ngIf",i.showBoard),Ne(4),Br(i.tituloSource),Ne(3),$e("disabled",0==i.IsNewGame),Ne(2),$e("ngForOf",i.__SourceList),Ne(3),$e("disabled",1==i.IsNewGame),Ne(),$e("disabled",0==i.IsNewGame),Ne(3),$e("ngIf",i.ticTacToeEngine.message),Ne(6),$e("ngForOf",i.parentData))},dependencies:[Lv,Bl,Ic,O2e]})}}return n})(),RDe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-tic-tac-toe-online"]],decls:5,vars:0,consts:[["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(ft(0,"app-board-online")(1,"hr"),fe(2,"div",0)(3,"a",1),Fe(4,"[Volver al Menu]"),he()())},dependencies:[pY,Ss]})}}return n})();class u1{constructor(e,t){this.value=e,this.graph=t}}class ODe{constructor(e,t,r){this.n=e,this.from=t,this.to=r}}let gY=(()=>{class n{constructor(){this.towerA=new Map,this.towerB=new Map,this.towerC=new Map,this.steps=[],this._steps=[],this._stepsIndex=0,this._startGame=!0,this._delayInMilliseconds=1500,this._stepsAmt=0,this._diskAmt=0,this.tituloDiskAmtList="Cantidad de Discos",this.gameState$=new Es([[{size:3},{size:2},{size:1}],[],[]]),this.towers$=this.gameState$.asObservable(),this.movesSubject$=new Es(0),this.moves$=this.movesSubject$.asObservable(),this.selectedTower=null,this._diskAmtList=new Array,this._diskAmtList.push(new ec(0,"(seleccione opcion...)",!1)),this._diskAmtList.push(new ec(3,"3",!0)),this._diskAmtList.push(new ec(4,"4",!1))}manual_selectTower(t){null===this.selectedTower?this.selectedTower=t:(this.manual_moveDisk(this.selectedTower,t),this.selectedTower=null)}manual_moveDisk(t,r){const i=this.gameState$.getValue(),s=i[t].pop();if(s){const o=i[r];0===o.length||o[o.length-1].size>s.size?(o.push(s),this.gameState$.next(i),this.movesSubject$.next(this.movesSubject$.getValue()+1),this._checkWinCondition()):i[t].push(s)}}manual_resetGame(){this.gameState$.next([[{size:3},{size:2},{size:1}],[],[]]),this.movesSubject$.next(0),this.selectedTower=null,this.auto_newGame()}_checkWinCondition(){return 3===this.gameState$.getValue()[2].length&&(console.log("Congratulations! You solved the puzzle!"),!0)}auto_printSteps(){if(this._stepsIndex>this._stepsAmt)clearTimeout(this._timeoutId);else{if(0==this._stepsIndex&&this.steps.push("[BEGIN STEPS]"),this._steps[this._stepsIndex]){let t=document.querySelector(".steps-container");t&&(t.scrollTop=t.scrollHeight);let r=this._steps[this._stepsIndex],a=`Step ${this._stepsIndex+1} of ${this._stepsAmt}. Move disk ${r.n} from Tower ${r.from} to Tower ${r.to}`;console.log(a),this.steps.push(a),this.auto_makeMove(r);let l=r.from.charCodeAt(0)-65,c=r.to.charCodeAt(0)-65;console.log(` Manuel Step ${l} to ${c} `),this.manual_moveDisk(l,c)}this._stepsIndex++,this._stepsIndex==this._stepsAmt&&this.steps.push("[END STEPS]"),this._timeoutId=setTimeout(()=>{this.auto_printSteps()},this._delayInMilliseconds)}}auto_makeMove(t){let o,r=t.n,s=t.to;switch(t.from){case"A":o=this.towerA.get(r),this.towerA.set(r,new u1(r,"-"));break;case"B":o=this.towerB.get(r),this.towerB.set(r,new u1(r,"-"));break;case"C":o=this.towerC.get(r),this.towerC.set(r,new u1(r,"-"))}switch(s){case"A":this.towerA.set(r,o);break;case"B":this.towerB.set(r,o);break;case"C":this.towerC.set(r,o)}}auto_saveStep(t,r,i){let s=new ODe(t,r,i);this._steps.push(s),this._stepsAmt++}auto_towerOfHanoi(t,r,i,s){0!==t&&(this.auto_towerOfHanoi(t-1,r,s,i),this.auto_saveStep(t,r,i),this.auto_towerOfHanoi(t-1,s,i,r))}auto_newGame(){if(console.log("[HANOI TOWERS] - [NEW GAME]"),this._diskAmt=3,0===this._diskAmt)return;this.towerA=new Map;let t="";for(let r=1;r<=this._diskAmt;r++)t+="*",this.towerA.set(r,new u1(r,t));this.towerB=new Map;for(let r=1;r<=this._diskAmt;r++)this.towerB.set(r,new u1(r,"-"));this.towerC=new Map;for(let r=1;r<=this._diskAmt;r++)this.towerC.set(r,new u1(r,"-"));this.steps=[],this._steps=[],this._stepsIndex=0,this._stepsAmt=0,this._startGame=!1}auto_startGame(){this.auto_newGame(),console.log("[HANOI TOWERS] - [START GAME]"),0!==this._diskAmt&&(this._startGame=!0,this.auto_towerOfHanoi(this._diskAmt,"A","C","B"),this.auto_printSteps())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function PDe(n,e){if(1&n&&(fe(0,"div",8),Fe(1),he()),2&n){const t=e.$implicit;qC("width",20*t.size,"px"),Ne(),ns(" ",t.size," ")}}function LDe(n,e){if(1&n&&(fe(0,"div",5)(1,"h2"),Fe(2),he(),fe(3,"div",6),An(4,PDe,2,3,"div",7),he()()),2&n){const t=e.$implicit,r=e.index;Ne(2),ns("Tower ",r+1,""),Ne(2),$e("ngForOf",t)}}let UDe=(()=>{class n{constructor(t){this.hanoiEngine=t}ngOnInit(){this.hanoiEngine.manual_resetGame()}static{this.\u0275fac=function(r){return new(r||n)(gt(gY))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-hanoi-auto"]],decls:20,vars:8,consts:[[1,"game-container"],["class","tower",4,"ngFor","ngForOf"],[3,"click","disabled"],["align","right"],["routerLink","/Dev"],[1,"tower"],[1,"disks-container"],["class","disk",3,"width",4,"ngFor","ngForOf"],[1,"disk"]],template:function(r,i){1&r&&(fe(0,"h4"),Fe(1,"[HANOI- AUTO]"),he(),ft(2,"br"),fe(3,"div",0),An(4,LDe,5,2,"div",1),hu(5,"async"),he(),ft(6,"hr"),fe(7,"div")(8,"p"),Fe(9),hu(10,"async"),he(),fe(11,"button",2),jt("click",function(){return i.hanoiEngine.manual_resetGame()}),Fe(12,"Reset Game"),he(),Fe(13," | "),fe(14,"button",2),jt("click",function(){return i.hanoiEngine.auto_startGame()}),Fe(15,"Start Game"),he()(),ft(16,"hr"),fe(17,"div",3)(18,"a",4),Fe(19,"[Volver al Men\xfa]"),he()()),2&r&&(Ne(4),$e("ngForOf",fu(5,4,i.hanoiEngine.towers$)),Ne(5),ns("Moves: ",fu(10,6,i.hanoiEngine.moves$),""),Ne(2),$e("disabled",!i.hanoiEngine._checkWinCondition()),Ne(3),$e("disabled",i.hanoiEngine._steps.length>0))},dependencies:[Ss,Bl,x_],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.tower[_ngcontent-%COMP%]{text-align:center}.disks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100px}.disk[_ngcontent-%COMP%]{height:20px;background-color:#007bff;margin:2px;display:flex;justify-content:center;align-items:center;color:#fff}"]})}}return n})();function kDe(n,e){if(1&n&&(fe(0,"div",2)(1,"span"),Fe(2),he()()),2&n){const t=e.$implicit;Ne(2),Br(t[1].graph)}}let mY=(()=>{class n{toArray(t){return Array.from(t.entries())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-tower"]],inputs:{tower:"tower"},standalone:!0,features:[Ca],decls:2,vars:1,consts:[[1,"tower"],["class","disk",4,"ngFor","ngForOf"],[1,"disk"]],template:function(r,i){1&r&&(fe(0,"div",0),An(1,kDe,3,1,"div",1),he()),2&r&&(Ne(),$e("ngForOf",i.toArray(i.tower)))},dependencies:[Lv,Bl]})}}return n})();function HDe(n,e){if(1&n&&(fe(0,"div",17)(1,"span"),Fe(2),he()()),2&n){const t=e.$implicit;Ne(2),Br(t)}}function VDe(n,e){if(1&n&&(fe(0,"option",18),Fe(1),he()),2&n){const t=e.$implicit;$e("value",t._index)("selected",t._selected),Ne(),ns("",t._value," ")}}let QDe=(()=>{class n{constructor(t){this.hanoiEngine=t}static{this.\u0275fac=function(r){return new(r||n)(gt(gY))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-games-hanoi"]],decls:40,vars:8,consts:[["__diskAmtList",""],["align","left",1,"game-container"],["width","100%"],["align","center"],["width","33%","align","center"],[3,"tower"],["align","left",1,"steps-container"],["align","left","class","steps-content",4,"ngFor","ngForOf"],["id","diskAmtListDiv","align","left"],["for","diskAmtList"],["id","diskAmtList","name","diskAmtList"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left"],["type","button","id","btnNewGame","value","[NEW GAME]",3,"click","disabled"],["type","button","id","btnStartGame","value","[START GAME]",3,"click","disabled"],["align","right"],["routerLink","/Dev"],["align","left",1,"steps-content"],[3,"value","selected"]],template:function(r,i){if(1&r){const s=Rs();fe(0,"h1"),Fe(1,"[HANOI TOWER BOARD]"),he(),ft(2,"hr"),fe(3,"div",1)(4,"table",2)(5,"thead")(6,"td",3),Fe(7,"A"),he(),fe(8,"td",3),Fe(9,"B"),he(),fe(10,"td",3),Fe(11,"C"),he()(),fe(12,"tr")(13,"td",4),ft(14,"app-tower",5),he(),fe(15,"td",4),ft(16,"app-tower",5),he(),fe(17,"td",4),ft(18,"app-tower",5),he()(),ft(19,"tfoot"),he()(),ft(20,"hr"),fe(21,"div",6),An(22,HDe,3,1,"div",7),he(),ft(23,"hr"),fe(24,"div",8)(25,"label",9),Fe(26),he(),Fe(27," \xa0\xa0 "),fe(28,"select",10,0),An(30,VDe,2,3,"option",11),he()(),ft(31,"hr"),fe(32,"div",12)(33,"input",13),jt("click",function(){return Vn(s),qn(i.hanoiEngine.auto_newGame())}),he(),Fe(34," | "),fe(35,"input",14),jt("click",function(){return Vn(s),qn(i.hanoiEngine.auto_startGame())}),he()(),ft(36,"hr"),fe(37,"div",15)(38,"a",16),Fe(39,"[Volver al Men\xfa]"),he()()}2&r&&(Ne(14),$e("tower",i.hanoiEngine.towerA),Ne(2),$e("tower",i.hanoiEngine.towerB),Ne(2),$e("tower",i.hanoiEngine.towerC),Ne(4),$e("ngForOf",i.hanoiEngine.steps),Ne(4),Br(i.hanoiEngine.tituloDiskAmtList),Ne(4),$e("ngForOf",i.hanoiEngine._diskAmtList),Ne(3),$e("disabled",0==i.hanoiEngine._startGame),Ne(2),$e("disabled",1==i.hanoiEngine._startGame))},dependencies:[mY,Ss,Bl,Vv,Qv],styles:['.game-container[_ngcontent-%COMP%]{width:"100%";padding:1em;background-color:#ccc}.steps-container[_ngcontent-%COMP%]{height:auto;width:100%;border:1px solid #000;padding:.1em;background-color:#ccc}.steps-content[_ngcontent-%COMP%]{padding:.1em}table[_ngcontent-%COMP%]{width:150px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc}']})}}return n})();function zDe(n,e){if(1&n&&(fe(0,"div",8),Fe(1),he()),2&n){const t=e.$implicit;qC("width",20*t.size,"px"),Ne(),ns(" ",t.size," ")}}function GDe(n,e){if(1&n){const t=Rs();fe(0,"div",5)(1,"h2"),Fe(2),he(),fe(3,"div",6),An(4,zDe,2,3,"div",7),he(),fe(5,"button",2),jt("click",function(){const i=Vn(t).index;return qn(on().selectTower(i))}),Fe(6,"Select"),he()()}if(2&n){const t=e.$implicit,r=e.index;Ne(2),ns("Tower ",r+1,""),Ne(2),$e("ngForOf",t)}}let qDe=(()=>{class n{constructor(){this.gameState$=new Es([[{size:3},{size:2},{size:1}],[],[]]),this.towers$=this.gameState$.asObservable(),this.movesSubject$=new Es(0),this.moves$=this.movesSubject$.asObservable(),this.selectedTower=null}ngOnInit(){this.resetGame()}selectTower(t){null===this.selectedTower?this.selectedTower=t:(this.moveDisk(this.selectedTower,t),this.selectedTower=null)}moveDisk(t,r){const i=this.gameState$.getValue(),s=i[t].pop();if(s){const o=i[r];0===o.length||o[o.length-1].size>s.size?(o.push(s),this.gameState$.next(i),this.movesSubject$.next(this.movesSubject$.getValue()+1),this.checkWinCondition()):i[t].push(s)}}resetGame(){this.gameState$.next([[{size:3},{size:2},{size:1}],[],[]]),this.movesSubject$.next(0),this.selectedTower=null}checkWinCondition(){3===this.gameState$.getValue()[2].length&&console.log("Congratulations! You solved the puzzle!")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-hanoi-tower"]],decls:16,vars:6,consts:[[1,"game-container"],["class","tower",4,"ngFor","ngForOf"],[3,"click"],["align","right"],["routerLink","/Dev"],[1,"tower"],[1,"disks-container"],["class","disk",3,"width",4,"ngFor","ngForOf"],[1,"disk"]],template:function(r,i){1&r&&(fe(0,"h4"),Fe(1,"[HANOI- OBSERVABLE]"),he(),ft(2,"br"),fe(3,"div",0),An(4,GDe,7,2,"div",1),hu(5,"async"),he(),fe(6,"div")(7,"p"),Fe(8),hu(9,"async"),he(),fe(10,"button",2),jt("click",function(){return i.resetGame()}),Fe(11,"Reset Game"),he()(),ft(12,"hr"),fe(13,"div",3)(14,"a",4),Fe(15,"[Volver al Men\xfa]"),he()()),2&r&&(Ne(4),$e("ngForOf",fu(5,2,i.towers$)),Ne(4),ns("Moves: ",fu(9,4,i.moves$),""))},dependencies:[Ss,Bl,x_],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.tower[_ngcontent-%COMP%]{text-align:center}.disks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:200px}.disk[_ngcontent-%COMP%]{height:20px;background-color:#007bff;margin:2px;display:flex;justify-content:center;align-items:center;color:#fff}"]})}}return n})();class Yd{constructor(e,t,r){this._index=e,this._value=t,this._selected=r}}let aE=(()=>{class n{get _baseUrlNetCore(){return this.__baseUrlNetCore}set _baseUrlNetCore(t){this.__baseUrlNetCore=t}get _baseUrlNodeJs(){return this.__baseUrlNodeJs}set _baseUrlNodeJs(t){this.__baseUrlNodeJs=t}ngOnInit(){console.log("Calling MCSDService initialization...")}constructor(t,r){this.http=t,this._configService=r,this.HTTPOptions_Text={headers:new Nl({Accept:"application/text"}),responseType:"text"},this.HTTPOptions_JSON={headers:new Nl({"Content-Type":"application/json"}),responseType:"text"},this.__baseUrlNetCore="",this.__baseUrlNodeJs="",console.log("Calling MCSDService constructor..."),this.__baseUrlNetCore=this._configService.getConfigValue("baseUrlNetCore"),this.__baseUrlNodeJs=this._configService.getConfigValue("baseUrlNodeJs"),console.log("baseUrlNetCore : "+this.__baseUrlNetCore),console.log("baseUrlNodeJs  : "+this.__baseUrlNodeJs)}_GetWebApiAppVersion(){return this.http.get(`${this._baseUrlNetCore}demos/_GetAppVersion`,this.HTTPOptions_Text)}getCSVLinkGET(){return this.http.get(this._baseUrlNetCore+"demos/_GetCSVLinkJsonGET")}getCSVLink(){return this.http.post(this._baseUrlNetCore+"demos/_GetCSVLinkJson",this.HTTPOptions_Text)}getInformeRemotoCSV(){return this.http.get(this._baseUrlNetCore+"demos/GenerarInformeCSVJson",this.HTTPOptions_Text)}getInformeRemotoCSV_STAT(){return this.http.get(this._baseUrlNetCore+"demos/GenerarInformeCSVJsonSTAT",this.HTTPOptions_Text)}_SetSTATPieCache(t){let r=`${t}demos/_SetSTATPieCache`;console.log("Setting STAT Pie data to cache :  "+r),this.http.get(r,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetSTATPieCache - (return): "+o)},error:o=>{console.error("_SetSTATPieCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetSTATPieCache -  (COMPLETE)")}})}getInformeRemotoCSV_NodeJS(){let t=`${this._baseUrlNodeJs}GenerarInformeCSVJson`;console.warn(" REQUESTING URL : "+t);var r={headers:new Nl({Accept:"application/text"}),responseType:"text"};return this.http.get(t,r)}getLogRemoto(t){return this.http.get(`${this._baseUrlNetCore}demos/generarinformejson`)}getLogRemotoNodeJS(t){let r=`${this._baseUrlNetCore}demos/generarinformejson`,i=this.http.get(r,this.HTTPOptions_JSON);return console.log("getLogRemotoNodeJS : "+r),i}getInformeExcel(t){return this.http.get(this._baseUrlNetCore+"demos/generarinformexls",this.HTTPOptions_Text)}getLogStatPOST(){return this.http.post(`${this._baseUrlNetCore}demos/GetConsultaLogStatPost`,this.HTTPOptions_JSON)}getLogStatGET(){return this.http.get(`${this._baseUrlNetCore}demos/GetConsultaLogStatGet`)}_SetSTATBarCache(t){let r=`${t}demos/_SetSTATBarCache`;console.log("Setting STAT Bar data to cache :  "+r),this.http.get(r,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetSTATBarCache - (return): "+o)},error:o=>{console.error("_SetSTATBarCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetSTATBarCache -  (COMPLETE)")}})}upload(t){const r=new FormData;r.append("file",t);let i=`${this._baseUrlNetCore}demos/_ZipDemoGetFileName`;console.log("[GENERATE ZIP FILE] - (UPLOADING FILE) url: "+i);const s=new qA("POST",i,r,{reportProgress:!0,responseType:"text"});return this.http.request(s)}SetZip(t){let r=`${this._baseUrlNetCore}demos/_SetZip?p_fileName=${t}`;return console.log("[GENERATE ZIP FILE] - [GETTING ZIP] - fileName: "+t),console.log("[GENERATE ZIP FILE] - [GETTING ZIP] - url     : "+r),this.http.get(r,this.HTTPOptions_JSON)}GetPDF(t){let r=`${this._baseUrlNetCore}demos/_GetPdf?subjectName=${t}`;console.log("[GENERATE PDF FILE] - [GETTING ZIP] - subjectName  : "+t),console.log("[GENERATE PDF FILE] - [GETTING ZIP] - url          : "+r);const i=new qA("GET",r,{reportProgress:!0,responseType:"text"});return this.http.request(i)}getRandomVertex(t,r){return this.http.get(`${this._baseUrlNetCore}demos/GenerateRandomVertex?p_vertexSize=${t}&p_sourcePoint=${r}`,this.HTTPOptions_Text)}getRandomVertexCpp(t,r){return this.http.get(`${this._baseUrlNetCore}demos/GenerateRandomVertex_CPP?p_vertexSize=${t}&p_sourcePoint=${r}`,this.HTTPOptions_Text)}getNewSort(){return this.http.get(`${this._baseUrlNetCore}demos/_NewSort`,this.HTTPOptions_Text)}getSort(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_GetSort?p_sortAlgoritm=${t}&p_unsortedList=${r}`,this.HTTPOptions_Text)}getSort_CPP(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_GetSort_CPP?p_sortAlgoritm=${t}&p_unsortedList=${r}`,this.HTTPOptions_Text)}_GetXmlData(){return this.http.get(`${this._baseUrlNetCore}demos/_GetXmlData`,this.HTTPOptions_Text)}_SetXmlDataToCache(t){let r=`${t}demos/_SetXmlDataToCache`;console.log("Setting XML data to cache :  "+r),this.http.get(r,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetXmlDataToCache - (return): "+o)},error:o=>{console.error("_SetXmlDataToCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetXmlDataToCache -  (COMPLETE)")}})}_RegExEval(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_RegExEval?p_tagSearch=${t}&p_textSearch=${r}`,this.HTTPOptions_Text)}_RegExEval_CPP(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_RegExEval_CPP?p_tagSearch=${t}&p_textSearch=${r}`,this.HTTPOptions_Text)}SetLog(t,r,i=iU.Info){let s,o=`${this._baseUrlNetCore}demos/_SetLog?p_logMsg=${r}&logType=${i.toString()}`;s=this.http.get(o,this.HTTPOptions_Text),s.subscribe({next:l=>{console.warn(t+" - [LOG] - [RESULT] : "+l)},error:l=>{console.error(t+" - [LOG] - [ERROR]  : "+l)},complete:()=>{console.info(t+" - [LOG] - [COMPLETE]")}})}_GetSudoku_NodeJS(){return this.http.get(`${this._baseUrlNodeJs}Sudoku_Generate_NodeJS`,this.HTTPOptions_JSON)}_GetSudoku(){return this.http.get(`${this._baseUrlNetCore}Demos/Sudoku_Generate_CPP`,this.HTTPOptions_Text)}_SolveSudoku(t){return this.http.get(`${this._baseUrlNetCore}Demos/Sudoku_Solve_CPP?p_matrix=${t}`,this.HTTPOptions_Text)}_SolveSudoku_NodeJS(t){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Solve_NodeJS?p_matrix=${t}`,this.HTTPOptions_Text)}uploadSudoku(t){const r=new FormData;r.append("file",t);let i=`${this._baseUrlNetCore}demos/Sudoku_Upload_File`;console.log("[SUDOKU] - (UPLOADING FILE) url: "+i);const s=new qA("POST",i,r,{reportProgress:!0,responseType:"text"});return this.http.request(s)}uploadBase64Image(t){let r=this._configService.getConfigValue("baseUrlNodeJsOcr");return this.http.post(r,{base64Image:t})}static{this.\u0275fac=function(r){return new(r||n)(Wt(D_),Wt(Hg))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class pB{constructor(e,t,r){this.x=e,this.y=t,this.time=r||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class WU{constructor(e,t,r,i,s,o){this.startPoint=e,this.control2=t,this.control1=r,this.endPoint=i,this.startWidth=s,this.endWidth=o}static fromPoints(e,t){const r=this.calculateControlPoints(e[0],e[1],e[2]).c2,i=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new WU(e[1],r,i,e[2],t.start,t.end)}static calculateControlPoints(e,t,r){const i=e.x-t.x,s=e.y-t.y,o=t.x-r.x,a=t.y-r.y,l_x=(e.x+t.x)/2,l_y=(e.y+t.y)/2,c_x=(t.x+r.x)/2,c_y=(t.y+r.y)/2,u=Math.sqrt(i*i+s*s),h=Math.sqrt(o*o+a*a),A=h/(u+h),m=t.x-(c_x+(l_x-c_x)*A),g=t.y-(c_y+(l_y-c_y)*A);return{c1:new pB(l_x+m,l_y+g),c2:new pB(c_x+m,c_y+g)}}length(){let r,i,t=0;for(let s=0;s<=10;s+=1){const o=s/10,a=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){const c=a-r,u=l-i;t+=Math.sqrt(c*c+u*u)}r=a,i=l}return t}point(e,t,r,i,s){return t*(1-e)*(1-e)*(1-e)+3*r*(1-e)*(1-e)*e+3*i*(1-e)*e*e+s*e*e*e}}class gB{constructor(e,t={}){this.canvas=e,this.options=t,this._handleMouseDown=r=>{1===r.which&&(this._mouseButtonDown=!0,this._strokeBegin(r))},this._handleMouseMove=r=>{this._mouseButtonDown&&this._strokeMoveUpdate(r)},this._handleMouseUp=r=>{1===r.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(r))},this._handleTouchStart=r=>{r.preventDefault(),1===r.targetTouches.length&&this._strokeBegin(r.changedTouches[0])},this._handleTouchMove=r=>{r.preventDefault(),this._strokeMoveUpdate(r.targetTouches[0])},this._handleTouchEnd=r=>{r.target===this.canvas&&(r.preventDefault(),this._strokeEnd(r.changedTouches[0]))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this._strokeMoveUpdate=this.throttle?function WDe(n,e=250){let i,s,o,t=0,r=null;const a=()=>{t=Date.now(),r=null,i=n.apply(s,o),r||(s=null,o=[])};return function(...l){const c=Date.now(),u=e-(c-t);return s=this,o=l,u<=0||u>e?(r&&(clearTimeout(r),r=null),t=c,i=n.apply(s,o),r||(s=null,o=[])):r||(r=window.setTimeout(a,u)),i}}(gB.prototype._strokeUpdate,this.throttle):gB.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._ctx=e.getContext("2d"),this.clear(),this.on()}clear(){const e=this._ctx,t=this.canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(e,t={},r){const i=new Image,s=t.ratio||window.devicePixelRatio||1,o=t.width||this.canvas.width/s,a=t.height||this.canvas.height/s;this._reset(),i.onload=()=>{this._ctx.drawImage(i,0,0,o,a),r&&r()},i.onerror=l=>{r&&r(l)},i.src=e,this._isEmpty=!1}toDataURL(e="image/png",t){return"image/svg+xml"===e?this._toSVG():this.canvas.toDataURL(e,t)}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e){this.clear(),this._fromData(e,({color:t,curve:r})=>this._drawCurve({color:t,curve:r}),({color:t,point:r})=>this._drawDot({color:t,point:r})),this._data=e}toData(){return this._data}_strokeBegin(e){this._data.push({color:this.penColor,points:[]}),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)}_strokeUpdate(e){const i=this._createPoint(e.clientX,e.clientY),s=this._data[this._data.length-1],o=s.points,a=o.length>0&&o[o.length-1],l=!!a&&i.distanceTo(a)<=this.minDistance,c=s.color;if(!a||!a||!l){const u=this._addPoint(i);a?u&&this._drawCurve({color:c,curve:u}):this._drawDot({color:c,point:i}),o.push({time:i.time,x:i.x,y:i.y})}}_strokeEnd(e){this._strokeUpdate(e),"function"==typeof this.onEnd&&this.onEnd(e)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(e,t){const r=this.canvas.getBoundingClientRect();return new pB(e-r.left,t-r.top,(new Date).getTime())}_addPoint(e){const{_lastPoints:t}=this;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);const r=this._calculateCurveWidths(t[1],t[2]),i=WU.fromPoints(t,r);return t.shift(),i}return null}_calculateCurveWidths(e,t){const r=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(r),s={end:i,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=i,s}_strokeWidth(e){return Math.max(this.maxWidth/(e+1),this.minWidth)}_drawCurveSegment(e,t,r){const i=this._ctx;i.moveTo(e,t),i.arc(e,t,r,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:e,curve:t}){const r=this._ctx,i=t.endWidth-t.startWidth,s=2*Math.floor(t.length());r.beginPath(),r.fillStyle=e;for(let o=0;o<s;o+=1){const a=o/s,l=a*a,c=l*a,u=1-a,h=u*u,d=h*u;let f=d*t.startPoint.x;f+=3*h*a*t.control1.x,f+=3*u*l*t.control2.x,f+=c*t.endPoint.x;let A=d*t.startPoint.y;A+=3*h*a*t.control1.y,A+=3*u*l*t.control2.y,A+=c*t.endPoint.y,this._drawCurveSegment(f,A,t.startWidth+c*i)}r.closePath(),r.fill()}_drawDot({color:e,point:t}){const r=this._ctx,i="function"==typeof this.dotSize?this.dotSize():this.dotSize;r.beginPath(),this._drawCurveSegment(t.x,t.y,i),r.closePath(),r.fillStyle=e,r.fill()}_fromData(e,t,r){for(const i of e){const{color:s,points:o}=i;if(o.length>1)for(let a=0;a<o.length;a+=1){const l=o[a],c=new pB(l.x,l.y,l.time);this.penColor=s,0===a&&this._reset();const u=this._addPoint(c);u&&t({color:s,curve:u})}else this._reset(),r({color:s,point:o[0]})}}_toSVG(){const e=this._data,t=Math.max(window.devicePixelRatio||1,1),s=this.canvas.width/t,o=this.canvas.height/t,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width",this.canvas.width.toString()),a.setAttribute("height",this.canvas.height.toString()),this._fromData(e,({color:f,curve:A})=>{const p=document.createElement("path");if(!(isNaN(A.control1.x)||isNaN(A.control1.y)||isNaN(A.control2.x)||isNaN(A.control2.y))){const m=`M ${A.startPoint.x.toFixed(3)},${A.startPoint.y.toFixed(3)} C ${A.control1.x.toFixed(3)},${A.control1.y.toFixed(3)} ${A.control2.x.toFixed(3)},${A.control2.y.toFixed(3)} ${A.endPoint.x.toFixed(3)},${A.endPoint.y.toFixed(3)}`;p.setAttribute("d",m),p.setAttribute("stroke-width",(2.25*A.endWidth).toFixed(3)),p.setAttribute("stroke",f),p.setAttribute("fill","none"),p.setAttribute("stroke-linecap","round"),a.appendChild(p)}},({color:f,point:A})=>{const p=document.createElement("circle"),m="function"==typeof this.dotSize?this.dotSize():this.dotSize;p.setAttribute("r",m.toString()),p.setAttribute("cx",A.x.toString()),p.setAttribute("cy",A.y.toString()),p.setAttribute("fill",f),a.appendChild(p)});const c=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ${s} ${o}" width="${s}" height="${o}">`;let u=a.innerHTML;if(void 0===u){const f=document.createElement("dummy"),A=a.childNodes;f.innerHTML="";for(let p=0;p<A.length;p+=1)f.appendChild(A[p].cloneNode(!0));u=f.innerHTML}return"data:image/svg+xml;base64,"+btoa(c+u+"</svg>")}}const vY=gB;class $U{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class $De extends $U{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class yY extends $U{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class KDe extends $U{constructor(e){super(),this.element=e instanceof N?e.nativeElement:e}}class XDe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof $De?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof yY?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof KDe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class YDe extends XDe{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Io.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let ZDe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})();function _Y(n){return Array.isArray(n)?n:[n]}function Da(n){return null==n?"":"string"==typeof n?n:`${n}px`}const tMe=["addListener","removeListener"],nMe=["addEventListener","removeEventListener"],rMe=["on","off"];function ul(n,e,t,r){if(fn(t)&&(r=t,t=void 0),r)return ul(n,e,t).pipe(UL(r));const[i,s]=function oMe(n){return fn(n.addEventListener)&&fn(n.removeEventListener)}(n)?nMe.map(o=>a=>n[o](e,a,t)):function iMe(n){return fn(n.addListener)&&fn(n.removeListener)}(n)?tMe.map(bY(n,e)):function sMe(n){return fn(n.on)&&fn(n.off)}(n)?rMe.map(bY(n,e)):[];if(!i&&xL(n))return al(o=>ul(o,e,t))(ol(n));if(!i)throw new TypeError("Invalid event target");return new di(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function bY(n,e){return t=>r=>n[t](e,r)}class aMe extends mi{constructor(e,t){super()}schedule(e,t=0){return this}}const mB={setInterval(n,e,...t){const{delegate:r}=mB;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=mB;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class KU extends aMe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return mB.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&mB.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ti(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const lE={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=lE;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new mi(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=lE;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=lE;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},wY={now:()=>(wY.delegate||Date).now(),delegate:void 0};class cE{constructor(e,t=cE.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}cE.now=wY.now;class XU extends cE{constructor(e,t=cE.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}new class cMe extends XU{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class lMe extends KU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=lE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(lE.cancelAnimationFrame(t),e._scheduled=void 0)}});let YU,hMe=1;const vB={};function CY(n){return n in vB&&(delete vB[n],!0)}const fMe={setImmediate(n){const e=hMe++;return vB[e]=!0,YU||(YU=Promise.resolve()),YU.then(()=>CY(e)&&n()),e},clearImmediate(n){CY(n)}},{setImmediate:dMe,clearImmediate:AMe}=fMe,yB={setImmediate(...n){const{delegate:e}=yB;return(e?.setImmediate||dMe)(...n)},clearImmediate(n){const{delegate:e}=yB;return(e?.clearImmediate||AMe)(n)},delegate:void 0},uE=(new class gMe extends XU{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class pMe extends KU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=yB.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(yB.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),new XU(KU)),vMe=uE;function _B(n=0,e,t=vMe){let r=-1;return null!=e&&(Yq(e)?t=e:r=e),new di(i=>{let s=function _Me(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function xY(n,e=uE){return function yMe(n){return Gi((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(qi(t,c=>{r=!0,i=c,s||ol(n(c)).subscribe(s=qi(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>_B(n,e))}let ZU;try{ZU=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ZU=!1}let Jv,hE=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?UM(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ZU)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||n)(Wt(Nh))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wMe(){if(null==Jv){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Jv=!1,Jv;if("scrollBehavior"in document.documentElement.style)Jv=!0;else{const n=Element.prototype.scrollTo;Jv=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Jv}function SY(n){return n.composedPath?n.composedPath()[0]:n.target}function DY(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const xMe=new bn("cdk-dir-doc",{providedIn:"root",factory:function EMe(){return Ve(rs)}}),SMe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let MMe=(()=>{class n{constructor(t){this.value="ltr",this.change=new ie,t&&(this.value=function DMe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?SMe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||n)(Wt(xMe,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),e4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),BMe=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new $r,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new di(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(xY(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Jn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(ao(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function eMe(n){return n instanceof N?n.nativeElement:n}(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ul(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||n)(Wt(Sr),Wt(hE),Wt(rs,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),MY=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new $r,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(xY(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||n)(Wt(hE),Wt(Sr),Wt(rs,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),TY=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),BY=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({imports:[e4,TY,e4,TY]})}}return n})();const IY=wMe();class IMe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Da(-this._previousScrollPosition.left),e.style.top=Da(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),IY&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),IY&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class FMe{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(ao(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class FY{enable(){}disable(){}attach(){}}function t4(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function RY(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class RMe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();t4(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let OMe=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new FY,this.close=o=>new FMe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new IMe(this._viewportRuler,this._document),this.reposition=o=>new RMe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(r){return new(r||n)(Wt(BMe),Wt(MY),Wt(Sr),Wt(rs))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class PMe{constructor(e){if(this.scrollStrategy=new FY,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class LMe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let OY=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),UMe=(()=>{class n extends OY{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs),Wt(Sr,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kMe=(()=>{class n extends OY{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=SY(s)},this._clickListener=s=>{const o=SY(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs),Wt(hE),Wt(Sr,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),PY=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||DY()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),DY()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs),Wt(hE))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class HMe{constructor(e,t,r,i,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new $r,this._attachments=new $r,this._detachments=new $r,this._locationChanges=mi.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new $r,this._outsidePointerEvents=new $r,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Mo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Da(this._config.width),e.height=Da(this._config.height),e.minWidth=Da(this._config.minWidth),e.minHeight=Da(this._config.minHeight),e.maxWidth=Da(this._config.maxWidth),e.maxHeight=Da(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=_Y(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ll(function NY(...n){const e=gx(n),t=function r_e(n,e){return"number"==typeof vL(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?ol(r[0]):F_(t)(qo(r,e)):wl}(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const LY="cdk-overlay-connected-position-bounding-box",VMe=/([A-Za-z%]+)$/;class QMe{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $r,this._resizeSubscription=mi.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(LY),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&e0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(LY),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=kY(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let d=0-a,f=a+s.height-r.height,A=this._subtractOverflows(s.width,0-o,o+s.width-r.width),p=this._subtractOverflows(s.height,d,f),m=A*p;return{visibleArea:m,isCompletelyWithinViewport:s.width*s.height===m,fitsInViewportVertically:p===s.height,fitsInViewportHorizontally:A==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=UY(this._overlayRef.getConfig().minHeight),a=UY(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=kY(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,h=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,h=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:h},{x:e.x+u,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function zMe(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new LMe(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,h,d;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),A=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>A&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-A/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)d=r.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)h=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),A=this._lastBoundingBoxSize.width;u=2*f,h=e.x-f,u>A&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-A/2)}return{top:o,left:h,bottom:a,right:d,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Da(r.height),i.top=Da(r.top),i.bottom=Da(r.bottom),i.width=Da(r.width),i.left=Da(r.left),i.right=Da(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Da(s)),o&&(i.maxWidth=Da(o))}this._lastBoundingBoxSize=r,e0(this._boundingBox.style,i)}_resetBoundingBoxStyles(){e0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){e0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();e0(r,this._getExactOverlayY(t,e,u)),e0(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Da(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Da(o.maxWidth):s&&(r.maxWidth="")),e0(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Da(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Da(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:RY(e,r),isOriginOutsideView:t4(e,r),isOverlayClipped:RY(t,r),isOverlayOutsideView:t4(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&_Y(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof N)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function e0(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function UY(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(VMe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function kY(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const HY="cdk-global-overlay-wrapper";class GMe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(HY),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,h=this._xOffset,d="rtl"===this._overlayRef.getConfig().direction;let f="",A="",p="";l?p="flex-start":"center"===u?(p="center",d?A=h:f=h):d?"left"===u||"end"===u?(p="flex-end",f=h):("right"===u||"start"===u)&&(p="flex-start",A=h):"left"===u||"start"===u?(p="flex-start",f=h):("right"===u||"end"===u)&&(p="flex-end",A=h),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":A,t.justifyContent=p,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(HY),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let qMe=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new GMe}flexibleConnectedTo(t){return new QMe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||n)(Wt(MY),Wt(rs),Wt(hE),Wt(PY))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jMe=0,wB=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,h,d,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=d,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new PMe(t);return o.direction=o.direction||this._directionality.value,new HMe(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+jMe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Lf)),new YDe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||n)(Wt(OMe),Wt(PY),Wt(FC),Wt(qMe),Wt(UMe),Wt(Io),Wt(Sr),Wt(rs),Wt(MMe),Wt(b_),Wt(kMe),Wt(kO,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const WMe=new bn("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ve(wB);return()=>n.scrollStrategies.reposition()}}),KMe={provide:WMe,deps:[wB],useFactory:function $Me(n){return()=>n.scrollStrategies.reposition()}};let XMe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({providers:[wB,KMe],imports:[e4,ZDe,BY,BY]})}}return n})();const YMe=["fullScreenTpl"],ZMe=["nspSmall"],JMe=["nspBig"],eTe=["*"],VY=n=>({height:n});function tTe(n,e){if(1&n&&(fe(0,"div",3),ft(1,"div",4)(2,"canvas",null,2)(4,"div",5),tx(5),he()),2&n){const t=on();Ne(),$e("ngStyle",kd(2,VY,t.sectionHeight+"px")),Ne(3),$e("ngStyle",kd(4,VY,t.sectionHeight+"px"))}}let n4=(()=>{class n{renderer2;overlay;viewContainerRef;smallPad;bigPad;smallCanvas;bigCanvas;overlayRef;portal;signDataHistory=[];fullScreenWidth;fullScreenHeight;_isEmpty=!0;isFullScreen=!1;sectionHeight;get activePad(){return this.isFullScreen?this.bigPad:this.smallPad}options={};beginSign=new ie;endSign=new ie;fullScreenTpl;nspSmall;nspBig;fullScreen(){this.portal=new yY(this.fullScreenTpl,this.viewContainerRef),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block(),height:"100%",width:"100%"}),this.overlayRef.attach(this.portal),setTimeout(()=>{this.initBigPad();const{width:t,height:r}=this.options,i=this.bigCanvas.getContext("2d");i.save(),i.translate(this.fullScreenWidth,0),i.rotate(90*Math.PI/180),i.drawImage(this.smallCanvas,0,0,t,r,0,0,this.fullScreenHeight,this.fullScreenWidth),i.restore()},0),this.isFullScreen=!0}miniScreen(){this.smallPad.clear();const{width:t,height:r}=this.options,i=t/this.fullScreenHeight,s=r/this.fullScreenWidth,o=this.smallCanvas.getContext("2d");o.save(),o.translate(0,r),o.rotate(-90*Math.PI/180),o.drawImage(this.bigCanvas,0,0,this.fullScreenWidth,this.fullScreenHeight,0,0,this.fullScreenWidth*i,this.fullScreenHeight*s),o.restore(),this.overlayRef.dispose(),this.bigCanvas=null,this.bigPad=null,this.isFullScreen=!1}toData(){return this.activePad.toData()}fromData(t){this.activePad.fromData(t)}toDataURL(t){switch(t){case"image/jpeg":return this.activePad.toDataURL("image/jpeg");case"image/svg+xml":return this.activePad.toDataURL("image/svg+xml");default:return this.activePad.toDataURL()}}fromDataURL(t,r,i){this.activePad.fromDataURL(t,r,i)}revert(){this.signDataHistory.pop(),this.fromData(this.signDataHistory),0===this.signDataHistory.length&&this.setEmpty()}clear(){this.setEmpty(),this.signDataHistory=[],this.activePad.clear()}isEmpty(){return this._isEmpty}setDirty(){this._isEmpty=!1}setEmpty(){this._isEmpty=!0}getContext(){return this.isFullScreen?this.bigCanvas.getContext("2d"):this.smallCanvas.getContext("2d")}initBigPad(){this.bigCanvas=this.nspBig.nativeElement;const t=JSON.parse(JSON.stringify(this.options));this.fullScreenWidth=document.documentElement.clientWidth;const{width:r,height:i}=this.options;this.fullScreenHeight=this.fullScreenWidth*r/i;const o=document.documentElement.clientHeight-this.fullScreenHeight;this.sectionHeight=o/2,t.width=this.fullScreenWidth,t.height=this.fullScreenHeight;const{css:a}=t;this.bigCanvas.width=this.fullScreenWidth,this.bigCanvas.height=this.fullScreenHeight;for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&this.renderer2.setStyle(this.bigCanvas,l,a[l]);this.bigPad=new vY(this.bigCanvas,t),this.bigPad.onBegin=this._onBegin.bind(this),this.bigPad.onEnd=this._onEnd.bind(this)}initSmallPad(){this.smallCanvas=this.nspSmall.nativeElement;const{width:t,height:r,css:i}=this.options;this.options.width=t||300,this.options.height=r||150,this.smallCanvas.width=this.options.width,this.smallCanvas.height=this.options.height;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&this.renderer2.setStyle(this.smallCanvas,s,i[s]);this.smallPad=new vY(this.smallCanvas,this.options),this.smallPad.onBegin=this._onBegin.bind(this),this.smallPad.onEnd=this._onEnd.bind(this)}_onBegin(){this.setDirty(),this.beginSign.emit()}_onEnd(){this.signDataHistory=this.toData(),this.endSign.emit()}setPadAttribute(t,r){this.bigPad&&(this.bigPad[t]=r),this.smallPad[t]=r}constructor(t,r,i){this.renderer2=t,this.overlay=r,this.viewContainerRef=i}ngAfterViewInit(){this.initSmallPad()}ngOnChanges(t){if(t.options.firstChange)return;const{dotSize:r,minWidth:i,maxWidth:s,throttle:o,minDistance:a,backgroundColor:l,penColor:c,velocityFilterWeight:u,width:h,height:d,css:f}=t.options.currentValue;if(r&&this.setPadAttribute("dotSize",r),i&&this.setPadAttribute("minWidth",i),s&&this.setPadAttribute("maxWidth",s),o&&this.setPadAttribute("throttle",o),a&&this.setPadAttribute("minDistance",a),l&&this.setPadAttribute("backgroundColor",l),c&&this.setPadAttribute("penColor",c),u&&this.setPadAttribute("velocityFilterWeight",u),h||d){const{width:A,height:p}=t.options.previousValue,m=this.smallPad.toDataURL(),g=new Image;g.src=m,g.onload=()=>{this.initSmallPad(),this.smallCanvas.getContext("2d").drawImage(g,0,0,A,p,0,0,h,d)}}if(f){if(this.bigCanvas)for(const A in f)Object.prototype.hasOwnProperty.call(f,A)&&this.renderer2.setStyle(this.bigCanvas,A,f[A]);if(this.smallCanvas)for(const A in f)Object.prototype.hasOwnProperty.call(f,A)&&this.renderer2.setStyle(this.smallCanvas,A,f[A])}}static \u0275fac=function(r){return new(r||n)(gt(Bf),gt(wB),gt(cu))};static \u0275cmp=fr({type:n,selectors:[["ngx-signature-pad"]],viewQuery:function(r,i){if(1&r&&(Wi(YMe,5),Wi(ZMe,5),Wi(JMe,5)),2&r){let s;ar(s=lr())&&(i.fullScreenTpl=s.first),ar(s=lr())&&(i.nspSmall=s.first),ar(s=lr())&&(i.nspBig=s.first)}},inputs:{options:"options"},outputs:{beginSign:"beginSign",endSign:"endSign"},features:[Bo],ngContentSelectors:eTe,decls:4,vars:0,consts:[["nspSmall",""],["fullScreenTpl",""],["nspBig",""],[1,"nsp-container"],[1,"section","left",2,"width","100%",3,"ngStyle"],[1,"section","right",2,"width","100%",3,"ngStyle"]],template:function(r,i){1&r&&(ex(),ft(0,"canvas",null,0),An(2,tTe,6,6,"ng-template",null,1,Pf))},dependencies:[PM],styles:[".nsp-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;left:0;top:0;width:100%;height:100vh;background:#fff}.nsp-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{flex:1}.nsp-container[_ngcontent-%COMP%]   .section.left[_ngcontent-%COMP%]{border-bottom:2px dashed #dedee5}.nsp-container[_ngcontent-%COMP%]   .section.right[_ngcontent-%COMP%]{border-top:2px dashed #dedee5}"]})}return n})(),nTe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ci({type:n});static \u0275inj=Zr({imports:[Lv,XMe]})}return n})();const rTe=["signature"],iTe=["video"],sTe=["canvas"],oTe=["_sourceList"],aTe=["_engineList"];function lTe(n,e){if(1&n&&ft(0,"img",28),2&n){const t=on();$e("src",t.capturedImage,wo)("hidden",t.capturedImageHidden)}}function cTe(n,e){if(1&n&&(fe(0,"option",29),Fe(1),he()),2&n){const t=e.$implicit;$e("value",t._index)("selected",t._selected),Ne(),Br(t._value)}}function uTe(n,e){if(1&n&&(fe(0,"option",29),Fe(1),he()),2&n){const t=e.$implicit;$e("value",t._index)("selected",t._selected),Ne(),Br(t._value)}}let hTe=(()=>{class n{constructor(t){this.mcsdService=t,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[ORIGEN CAPTURA]",this.titleEngineList="[ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=0,this.selectedIndexEngines=0,this.detectedShapes=[],this.imageURL=null}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera()}ngAfterViewInit(){this.__sourceList=new Array,this.__sourceList.push(new Yd(0,"(SELECCIONE OPCION..)",!1)),this.__sourceList.push(new Yd(1,"(DESDE CANVAS)",!0)),this.__sourceList.push(new Yd(2,"(DESDE CAMARA)",!1)),this.__engineList=new Array,this.__engineList.push(new Yd(0,"(SELECCIONE OPCION..)",!1)),this.__engineList.push(new Yd(1,"(OCR / TESSERACT - javascript)",!0))}ngOnDestroy(){this.stopCamera()}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status="",console.log(`Selected Source : ${this.selectedIndex}`)}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex}onBeginSign(){}onEndSign(){}saveSignature(){if(1===(console.log("Saving signature..."),this.selectionChangeEngines(),this.selectedIndexEngines)){let t=this.signature?.toDataURL();this.uploadImage(t)}else this.status="Favor seleccione la opci\xf3n [ENGINE]"}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}uploadImage(t){this.statusButton="..parsing..",this.statusButtonSaveImage="..parsing..",this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!0,this.mcsdService.uploadBase64Image(t).subscribe(r=>{console.log("Image uploaded successfully:",r),this.status=JSON.parse(JSON.stringify(r)).message;const i=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(i),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1},r=>{console.error("Error uploading image:",r),this.status=r,this.statusButton="[save]"})}startCamera(){var t=this;return(0,_t.A)(function*(){try{t.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:t.isFrontCamera?"user":"environment"}}),t.videoStream&&(t.videoElement.nativeElement.srcObject=t.videoStream)}catch(r){console.error("Error accessing the camera:",r)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(t=>t.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const t=this.videoElement.nativeElement,r=this.canvas.nativeElement,i=r.getContext("2d");i&&(r.width=t.videoWidth/4,r.height=t.videoHeight/4,console.log("width: "+r.width+" height: "+r.height),i.drawImage(t,0,0,r.width,r.height),this.capturedImage=r.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){1===(this.selectionChangeEngines(),this.selectedIndexEngines)?this.capturedImage&&this.uploadImage(this.capturedImage):this.status="Favor seleccione la opci\xf3n [ENGINE]"}dataURLToBlob(t){const r=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return new Blob([s],{type:i})}flipCamera(){var t=this;return(0,_t.A)(function*(){console.log("flippling camera"),t.isFrontCamera=!t.isFrontCamera,t.stopCamera(),yield t.startCamera()})()}static{this.\u0275fac=function(r){return new(r||n)(gt(aE))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-ocr-photo-capture"]],viewQuery:function(r,i){if(1&r&&(Wi(rTe,5),Wi(iTe,7),Wi(sTe,5),Wi(oTe,5),Wi(aTe,5)),2&r){let s;ar(s=lr())&&(i.signature=s.first),ar(s=lr())&&(i.videoElement=s.first),ar(s=lr())&&(i.canvas=s.first),ar(s=lr())&&(i._sourceList=s.first),ar(s=lr())&&(i._engineList=s.first)}},decls:53,vars:18,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[3,"click","disabled"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],["routerLink","/Dev"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(r,i){if(1&r){const s=Rs();fe(0,"div",5)(1,"h1"),Fe(2,"[MISCELANEOUS - OCR]"),he(),fe(3,"div",6),ft(4,"hr"),fe(5,"ngx-signature-pad",7,0),jt("beginSign",function(){return Vn(s),qn(i.onBeginSign())})("endSign",function(){return Vn(s),qn(i.onEndSign())}),he(),ft(7,"hr"),fe(8,"input",8),jt("click",function(){return Vn(s),qn(i.saveSignature())}),he(),Fe(9," | "),fe(10,"button",9),jt("click",function(){return Vn(s),qn(i.clearSignature())}),Fe(11,"Clear Signature"),he(),ft(12,"br"),he(),fe(13,"div",10),ft(14,"hr"),fe(15,"div",11),ft(16,"video",12,1)(18,"canvas",13,2),he(),An(20,lTe,1,2,"img",14),ft(21,"hr"),fe(22,"button",15),jt("click",function(){return Vn(s),qn(i.capturePhoto())}),Fe(23),he(),Fe(24," | "),fe(25,"button",15),jt("click",function(){return Vn(s),qn(i.saveImage())}),Fe(26),he(),Fe(27," | "),fe(28,"button",9),jt("click",function(){return Vn(s),qn(i.flipCamera())}),Fe(29,"Flip Camera"),he()(),ft(30,"hr"),fe(31,"span",16),Fe(32),he(),ft(33,"hr"),fe(34,"div",17)(35,"label",18)(36,"span",19),Fe(37),he()(),Fe(38," \xa0"),fe(39,"select",20,3),jt("change",function(){return Vn(s),qn(i.selectionChange())}),An(41,cTe,2,3,"option",21),he()(),fe(42,"div",22)(43,"label",23)(44,"span",24),Fe(45),he()(),Fe(46," \xa0"),fe(47,"select",25,4),jt("change",function(){return Vn(s),qn(i.selectionChangeEngines())}),An(49,uTe,2,3,"option",21),he()(),fe(50,"div",26)(51,"a",27),Fe(52,"[Volver al Menu]"),he()()()}2&r&&(Ne(3),$e("hidden",i.hiddenCanvasContainer),Ne(2),$e("options",i.options),Ne(3),Rv("value",i.statusButton),$e("disabled","..parsing.."==i.statusButton),Ne(5),$e("hidden",i.hiddenCameraContainer),Ne(2),$e("hidden",i.cameraContainerHidden),Ne(),Fh(i.videoStyle),Ne(4),$e("ngIf",i.capturedImage),Ne(2),$e("disabled",i.captureButtonDisabled),Ne(),Br(i.captureButtonStatus),Ne(2),$e("disabled",i.saveImageButtonDisabled),Ne(),Br(i.statusButtonSaveImage),Ne(6),Br(i.status),Ne(5),Br(i.tituloListadOrigen),Ne(4),$e("ngForOf",i.__sourceList),Ne(4),Br(i.titleEngineList),Ne(4),$e("ngForOf",i.__engineList))},dependencies:[Ss,Bl,Ic,Vv,Qv,n4],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})(),sc=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),dTe=(()=>{class n{ripple=!1;inputStyle=XP("outlined");overlayOptions={};csp=XP({nonce:void 0});filterMatchModeOptions={text:[sc.STARTS_WITH,sc.CONTAINS,sc.NOT_CONTAINS,sc.ENDS_WITH,sc.EQUALS,sc.NOT_EQUALS],numeric:[sc.EQUALS,sc.NOT_EQUALS,sc.LESS_THAN,sc.LESS_THAN_OR_EQUAL_TO,sc.GREATER_THAN,sc.GREATER_THAN_OR_EQUAL_TO],date:[sc.DATE_IS,sc.DATE_IS_NOT,sc.DATE_BEFORE,sc.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new $r;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ATe=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(gt(ra))};static \u0275dir=mn({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[Fr.None,"pTemplate","name"]},standalone:!0})}return n})(),pTe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ci({type:n});static \u0275inj=Zr({})}return n})(),Pc=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)t.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)t.className+=" "+i[s]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,r){t&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,r){return!(!t||!r)&&(t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==t)return i;1==r[s].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==t)return s;i[o].attributes&&i[o].attributes[r]&&1==i[o].nodeType&&s++}return-1}static appendOverlay(t,r,i="self"){"self"!==i&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,i="self",s=!0){t&&r&&(s&&(t.style.minWidth=`${n.getOuterWidth(r)}px`),"self"===i?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r,i=!0){const s=y=>{if(y)return"relative"===getComputedStyle(y).getPropertyValue("position")?y:s(y.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=r.offsetHeight??r.getBoundingClientRect().height,l=r.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),h=this.getViewport(),f=s(t)?.getBoundingClientRect()||{top:-1*c,left:-1*u};let A,p;l.top+a+o.height>h.height?(A=l.top-f.top-o.height,t.style.transformOrigin="bottom",l.top+A<0&&(A=-1*l.top)):(A=a+l.top-f.top,t.style.transformOrigin="top");const m=l.left+o.width-h.width;p=o.width>h.width?-1*(l.left-f.left):m>0?l.left-f.left-m:l.left-f.left,t.style.top=A+"px",t.style.left=p+"px",i&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,r,i=!0){const s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=r.offsetHeight??r.getBoundingClientRect().height,c=r.offsetWidth??r.getBoundingClientRect().width,u=r.getBoundingClientRect(),h=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),f=this.getViewport();let A,p;u.top+l+o>f.height?(A=u.top+h-o,t.style.transformOrigin="bottom",A<0&&(A=h)):(A=l+u.top+h,t.style.transformOrigin="top"),p=u.left+a>f.width?Math.max(0,u.left+d+c-a):u.left+d,t.style.top=A+"px",t.style.left=p+"px",i&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of i){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let h=this.findSingle(a,u);h&&o(h)&&r.push(h)}}9!==a.nodeType&&o(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),u=r.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,h=t.scrollTop,d=t.clientHeight,f=this.getOuterHeight(r);u<0?t.scrollTop=h+u:u+f>d&&(t.scrollTop=h+u-d+f)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,r){var i=1,a=50/r;let l=setInterval(()=>{(i-=a)<=0&&(i=0,clearInterval(l)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||s.clientWidth,height:t.innerHeight||i.clientHeight||s.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!(r&&r.el&&r.el.nativeElement))throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,r=""){let i=this.find(t,this.getFocusableSelectorString(r)),s=[];for(let o of i){const a=getComputedStyle(o);this.isVisible(o)&&"none"!=a.display&&"hidden"!=a.visibility&&s.push(o)}return s}static getFocusableElement(t,r=""){let i=this.findSingle(t,this.getFocusableSelectorString(r));if(i){const s=getComputedStyle(i);if(this.isVisible(i)&&"none"!=s.display&&"hidden"!=s.visibility)return i}return null}static getFirstFocusableElement(t,r=""){const i=this.getFocusableElements(t,r);return i.length>0?i[0]:null}static getLastFocusableElement(t,r){const i=this.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(t,r=!1){const i=n.getFocusableElements(t);let s=0;if(i&&i.length>0){const o=i.indexOf(i[0].ownerDocument.activeElement);r?s=-1==o||0===o?i.length-1:o-1:-1!=o&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:const i=typeof t;if("string"===i)return document.querySelector(t);if("object"===i&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const o=(a=t)&&a.constructor&&a.call&&a.apply?t():t;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){const i=t.getAttribute(r);return isNaN(i)?"true"===i||"false"===i?"true"===i:i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,r={},...i){if(t){const s=document.createElement(t);return this.setAttributes(s,r),s.append(...i),s}}static setAttribute(t,r="",i){this.isElement(t)&&null!=i&&t.setAttribute(r,i)}static setAttributes(t,r={}){if(this.isElement(t)){const i=(s,o)=>{const a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,c)=>{if(null!=c){const u=typeof c;if("string"===u||"number"===u)l.push(c);else if("object"===u){const h=Array.isArray(c)?i(s,c):Object.entries(c).map(([d,f])=>"style"!==s||!f&&0!==f?f?d:void 0:`${d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`);l=h.length?l.concat(h.filter(d=>!!d)):l}}return l},a)};Object.entries(r).forEach(([s,o])=>{if(null!=o){const a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):"pBind"===s?this.setAttributes(t,o):(o="class"===s?[...new Set(i("class",o))].join(" ").trim():"style"===s?i("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,r=""){return!!this.isElement(t)&&t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`)}}return n})(),gTe=(()=>{class n{autofocus=!1;focused=!1;platformId=Ve(Nh);document=Ve(rs);host=Ve(N);ngAfterContentChecked(){!1===this.autofocus?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){UM(this.platformId)&&this.autofocus&&setTimeout(()=>{const t=Pc.getFocusableElements(this.host?.nativeElement);0===t.length&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mn({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[Fr.HasDecoratorInputTransform,"autofocus","autofocus",Tl]},standalone:!0,features:[kC]})}return n})();class AE{static isArray(e,t=!0){return Array.isArray(e)&&(t||0!==e.length)}static isObject(e,t=!0){return"object"==typeof e&&!Array.isArray(e)&&null!=e&&(t||0!==Object.keys(e).length)}static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var d=Object.keys(e);if((o=d.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,d[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[a=d[s]],t[a]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let r=t.split("."),i=e;for(let s=0,o=r.length;s<o;++s){if(null==i)return null;i=i[r[s]]}return i}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>t){r.splice(o,0,e),s=!0;break}s||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t)for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}return r}static contains(e,t){if(null!=e&&t&&t.length)for(let r of t)if(this.equals(e,r))return!0;return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,r,i=1){let s=-1;const o=this.isEmpty(e),a=this.isEmpty(t);return s=o&&a?0:o?i:a?-i:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,r,{numeric:!0}):e<t?-1:e>t?1:0,s}static sort(e,t,r=1,i,s=1){const o=AE.compare(e,t,i,r);let a=r;return(AE.isEmpty(e)||AE.isEmpty(t))&&(a=1===s?r:s),a*o}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(t)}catch{r=e.lastIndexOf([...e].reverse().find(t))}return r}static findLast(e,t){let r;if(this.isNotEmpty(e))try{r=e.findLast(t)}catch{r=[...e].reverse().find(t)}return r}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var d=Object.keys(e);if((o=d.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,d[s]))return!1;for(s=o;0!=s--;)if(!this.deepEquals(e[a=d[s]],t[a]))return!1;return!0}return e!=e&&t!=t}}var QY=0;!function vTe(){let n=[];const i=s=>s&&parseInt(s.style.zIndex,10)||0}();const yTe=["*"];let _Te=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const t=AE.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=fr({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[Fr.HasDecoratorInputTransform,"spin","spin",Tl],styleClass:"styleClass"},standalone:!0,features:[kC,Ca],ngContentSelectors:yTe,decls:1,vars:0,template:function(r,i){1&r&&(ex(),tx(0))},encapsulation:2,changeDetection:0})}return n})(),bTe=(()=>{class n extends _Te{pathId;ngOnInit(){this.pathId="url(#"+function mTe(n="pn_id_"){return`${n}${++QY}`}()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=vs(n)))(i||n)}})();static \u0275cmp=fr({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[ts,Ca],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){1&r&&(function Ef(){dr.lFrame.currentNamespace="svg"}(),fe(0,"svg",0)(1,"g"),ft(2,"path",1),he(),fe(3,"defs")(4,"clipPath",2),ft(5,"rect",3),he()()()),2&r&&(Sg(i.getClassNames()),Bi("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),Ne(),Bi("clip-path",i.pathId),Ne(3),$e("id",i.pathId))},encapsulation:2})}return n})(),wTe=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,r,i,s,o,a){this.document=t,this.platformId=r,this.renderer=i,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){UM(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let r=this.getInk();if(!r||"none"===this.document.defaultView?.getComputedStyle(r,null).display)return;if(Pc.removeClass(r,"p-ink-active"),!Pc.getHeight(r)&&!Pc.getWidth(r)){let a=Math.max(Pc.getOuterWidth(this.el.nativeElement),Pc.getOuterHeight(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=Pc.getOffset(this.el.nativeElement),s=t.pageX-i.left+this.document.body.scrollTop-Pc.getWidth(r)/2,o=t.pageY-i.top+this.document.body.scrollLeft-Pc.getHeight(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),Pc.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&Pc.removeClass(a,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if("string"==typeof t[r].className&&-1!==t[r].className.indexOf("p-ink"))return t[r];return null}resetInk(){let t=this.getInk();t&&Pc.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),Pc.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Pc.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(r){return new(r||n)(gt(rs),gt(Nh),gt(Bf),gt(N),gt(Sr),gt(dTe,8))};static \u0275dir=mn({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})();const CTe=["*"],zY=n=>({class:n});function xTe(n,e){1&n&&b5(0)}function ETe(n,e){1&n&&ft(0,"span",8),2&n&&($e("ngClass",on(3).iconClass()),Bi("aria-hidden",!0)("data-pc-section","loadingicon"))}function STe(n,e){1&n&&ft(0,"SpinnerIcon",9),2&n&&($e("styleClass",on(3).spinnerIconClass())("spin",!0),Bi("aria-hidden",!0)("data-pc-section","loadingicon"))}function DTe(n,e){if(1&n&&(Nv(0),An(1,ETe,1,3,"span",6)(2,STe,1,4,"SpinnerIcon",7),Iv()),2&n){const t=on(2);Ne(),$e("ngIf",t.loadingIcon),Ne(),$e("ngIf",!t.loadingIcon)}}function MTe(n,e){}function TTe(n,e){1&n&&An(0,MTe,0,0,"ng-template",10),2&n&&$e("ngIf",on(2).loadingIconTemplate)}function BTe(n,e){if(1&n&&(Nv(0),An(1,DTe,3,2,"ng-container",2)(2,TTe,1,1,null,5),Iv()),2&n){const t=on();Ne(),$e("ngIf",!t.loadingIconTemplate),Ne(),$e("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",kd(3,zY,t.iconClass()))}}function NTe(n,e){1&n&&ft(0,"span",8),2&n&&($e("ngClass",on(2).iconClass()),Bi("data-pc-section","icon"))}function ITe(n,e){}function FTe(n,e){if(1&n&&An(0,ITe,0,0,"ng-template",10),2&n){const t=on(2);$e("ngIf",!t.icon&&t.iconTemplate)}}function RTe(n,e){if(1&n&&(Nv(0),An(1,NTe,1,2,"span",6)(2,FTe,1,1,null,5),Iv()),2&n){const t=on();Ne(),$e("ngIf",t.icon&&!t.iconTemplate),Ne(),$e("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",kd(3,zY,t.iconClass()))}}function OTe(n,e){if(1&n&&(fe(0,"span",11),Fe(1),he()),2&n){const t=on();Bi("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),Ne(),Br(t.label)}}function PTe(n,e){if(1&n&&(fe(0,"span",8),Fe(1),he()),2&n){const t=on();Sg(t.badgeClass),$e("ngClass",t.badgeStyleClass()),Bi("data-pc-section","badge"),Ne(),Br(t.badge)}}let GY=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new ie;onFocus=new ie;onBlur=new ie;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[r])=>t+` ${r}`,"p-button-loading-icon")}iconClass(){const t={"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":"small"===this.size,"p-button-lg":"large"===this.size,"p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(r){return new(r||n)(gt(N))};static \u0275cmp=fr({type:n,selectors:[["p-button"]],contentQueries:function(r,i,s){if(1&r&&wa(s,ATe,4),2&r){let o;ar(o=lr())&&(i.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(r,i){2&r&&Ci("p-disabled",i.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[Fr.HasDecoratorInputTransform,"disabled","disabled",Tl],loading:[Fr.HasDecoratorInputTransform,"loading","loading",Tl],loadingIcon:"loadingIcon",raised:[Fr.HasDecoratorInputTransform,"raised","raised",Tl],rounded:[Fr.HasDecoratorInputTransform,"rounded","rounded",Tl],text:[Fr.HasDecoratorInputTransform,"text","text",Tl],plain:[Fr.HasDecoratorInputTransform,"plain","plain",Tl],severity:"severity",outlined:[Fr.HasDecoratorInputTransform,"outlined","outlined",Tl],link:[Fr.HasDecoratorInputTransform,"link","link",Tl],tabindex:[Fr.HasDecoratorInputTransform,"tabindex","tabindex",t0e],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[Fr.HasDecoratorInputTransform,"autofocus","autofocus",Tl]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[kC,Ca],ngContentSelectors:CTe,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(r,i){1&r&&(ex(),fe(0,"button",0),jt("click",function(o){return i.onClick.emit(o)})("focus",function(o){return i.onFocus.emit(o)})("blur",function(o){return i.onBlur.emit(o)}),tx(1),An(2,xTe,1,0,"ng-container",1)(3,BTe,3,5,"ng-container",2)(4,RTe,3,5,"ng-container",2)(5,OTe,2,3,"span",3)(6,PTe,2,5,"span",4),he()),2&r&&($e("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",i.buttonClass)("autofocus",i.autofocus),Bi("type",i.type)("aria-label",i.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",i.tabindex),Ne(2),$e("ngTemplateOutlet",i.contentTemplate),Ne(),$e("ngIf",i.loading),Ne(),$e("ngIf",!i.loading),Ne(),$e("ngIf",!i.contentTemplate&&i.label),Ne(),$e("ngIf",!i.contentTemplate&&i.badge))},dependencies:[Ic,C_,PM,uL,wTe,gTe,bTe],encapsulation:2,changeDetection:0})}return n})(),LTe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ci({type:n});static \u0275inj=Zr({imports:[GY,pTe]})}return n})();const UTe=["_txtName"],kTe=["_txtMessage"];function HTe(n,e){1&n&&(fe(0,"div",17),Fe(1," Pleae enter all fields "),he())}function VTe(n,e){if(1&n&&(fe(0,"table",18)(1,"tr")(2,"td")(3,"span"),Fe(4),he()()()()),2&n){const t=e.$implicit;Ne(4),ns(" ",t," ")}}let QTe=(()=>{class n{constructor(t,r){this.chatService=t,this.datePipe=r,this.parentData=[]}ngOnInit(){this.chatService.getMessages().subscribe(t=>this.parentData=t),this.chatService.onNewMessage.subscribe(t=>this.NotifyingMessage(t))}NotifyingMessage(t){console.log("Pushing data to client : "+t),console.log("Message Array (client) : "+this.parentData)}submitForm(t){t.valid&&(console.log(t.value),this.sendMessage(t.value.txtName,t.value.txtMessage))}sendMessage(t,r){let o=`[${this.datePipe.transform(new Date,"yyyy-MM-dd HH:mm:ss")}] -[${t}] Says: "${r}"`;console.log("sending message: {"+r+"}"),this.chatService.sendMessage(o)}static{this.\u0275fac=function(r){return new(r||n)(gt(dY),gt(dL))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-chat"]],viewQuery:function(r,i){if(1&r&&(Wi(UTe,5),Wi(kTe,5)),2&r){let s;ar(s=lr())&&(i.txtName=s.first),ar(s=lr())&&(i.txtMessage=s.first)}},decls:29,vars:2,consts:[["messageinputform","ngForm"],["_txtName",""],["_txtMessage",""],["id","divMessageInput","align","left"],[3,"ngSubmit"],[1,"form-group"],["for","txtName"],["type","text","id","txtName","name","txtName","maxlength","10","ngModel","","required",""],["for","txtMessage"],["type","text","id","txtMessage","name","txtMessage","maxlength","25","ngModel","","required",""],["class","form-group","align","left",4,"ngIf"],[1,"card","flex","justify-content-center"],["label","[SEND MESSAGE]","icon","pi pi-check","type","submit"],["id","divMessageOutput"],["class","message-data",4,"ngFor","ngForOf"],["align","right"],["routerLink","/Dev"],["align","left",1,"form-group"],[1,"message-data"]],template:function(r,i){if(1&r){const s=Rs();fe(0,"h1"),Fe(1,"[CHAT]"),he(),ft(2,"hr"),fe(3,"h4"),Fe(4,"[MESSAGES]"),he(),ft(5,"hr"),fe(6,"div",3)(7,"form",4,0),jt("ngSubmit",function(){Vn(s);const a=Of(8);return qn(i.submitForm(a))}),fe(9,"div",5)(10,"label",6),Fe(11,"Your Name:"),he(),ft(12,"input",7,1),he(),fe(14,"div",5)(15,"label",8),Fe(16,"Your Message :"),he(),ft(17,"input",9,2),he(),An(19,HTe,2,0,"div",10),fe(20,"div",11),ft(21,"p-button",12),he()()(),ft(22,"hr"),fe(23,"div",13),An(24,VTe,5,1,"table",14),he(),ft(25,"hr"),fe(26,"div",15)(27,"a",16),Fe(28,"[Volver al Menu]"),he()()}if(2&r){const s=Of(8);Ne(19),$e("ngIf",0==s.valid&&s.submitted),Ne(5),$e("ngForOf",i.parentData.reverse())}},dependencies:[Ss,Bl,Ic,Tx,Fg,M_,bx,oT,t3,N_,B_,GY],styles:["@layer reset,primeng;@layer reset;table[_ngcontent-%COMP%]{width:400px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc;text-align:left}.form-group[_ngcontent-%COMP%]{background-color:#ccc;width:300px;margin-bottom:1em;display:flex;align-items:center}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}.message-data[_ngcontent-%COMP%]{color:#0ff}"]})}}return n})(),zTe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-not-found-page"]],decls:9,vars:0,consts:[["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"h1"),Fe(1,"[Page not found]"),he(),ft(2,"hr"),fe(3,"h4"),Fe(4,"[PAGE NOT FOUND]"),he(),ft(5,"hr"),fe(6,"div",0)(7,"a",1),Fe(8,"[Volver al Inicio]"),he()())},dependencies:[Ss]})}}return n})(),GTe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-dev"]],decls:35,vars:0,consts:[["align","left"],["routerLink","/HanoiAuto"],["routerLink","/HanoiRjxs"],["routerLink","/RxJsPlayground"],["routerLink","/TicTacToeOnline"],["routerLink","/Ocr"],["routerLink","/BackendTesting"],["routerLink","/SpeechRecognition"],["routerLink","/ShapeRecognition"],["routerLink","/ShapeReconCanvas"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Fe(2,"[Testing Releases]"),he(),fe(3,"ul")(4,"li")(5,"a",1),Fe(6,"[Hanoi RxJS - Auto]"),he()(),fe(7,"li")(8,"a",2),Fe(9,"[Hanoi RxJS - Manual]"),he()(),fe(10,"li")(11,"a",3),Fe(12,"[RxJS Playground]"),he()(),fe(13,"li")(14,"a",4),Fe(15,"[tic tac toe (online) - [ALGORITMOS - MINMAX]]"),he()(),fe(16,"li")(17,"a",5),Fe(18,"[OCR]"),he()(),fe(19,"li")(20,"a",6),Fe(21,"[Backend Testing]"),he()(),fe(22,"li")(23,"a",7),Fe(24,"[Speech Recognition]"),he()(),fe(25,"li")(26,"a",8),Fe(27,"[Shape Recognition]"),he()(),fe(28,"li")(29,"a",9),Fe(30,"[Shape Recognition - Canvas]"),he()()()(),ft(31,"hr"),fe(32,"div",10)(33,"a",11),Fe(34,"[Volver al Inicio]"),he()())},dependencies:[Ss]})}}return n})();var r4=function(n){return n[n.RoleAnonyumous=0]="RoleAnonyumous",n[n.RoleAdmin=1]="RoleAdmin",n[n.RoleMarketing=2]="RoleMarketing",n[n.RoleConfig=3]="RoleConfig",n[n.RoleEducation=4]="RoleEducation",n}(r4||{});function qY(n,e=uE){return Gi((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(qi(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function jY(n,e){return e?t=>Lx(e.pipe(Mo(1),function qTe(){return Gi((n,e)=>{n.subscribe(qi(e,Qs))})}()),t.pipe(jY(n))):al((t,r)=>ol(n(t,r)).pipe(Mo(1),V$(t)))}function pE(n,e=uE){const t=_B(n,e);return jY(()=>t)}let WY=(()=>{class n{constructor(t){this.http=t,this._loggedUser=!1}canActivate(){return!0}get loggedUser(){return this._loggedUser}set loggedUser(t){this._loggedUser=t}matchRoles(t){return"0"==t||t==this.userRoles}static{this.\u0275fac=function(r){return new(r||n)(Wt(D_))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const{isArray:KTe}=Array;function $Y(n){return 1===n.length&&KTe(n[0])?n[0]:n}function i4(...n){const e=QM(n),t=$Y(n);return t.length?new di(r=>{let i=t.map(()=>[]),s=t.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<t.length;o++)ol(t[o]).subscribe(qi(r,a=>{if(i[o].push(a),i.every(l=>l.length)){const l=i.map(c=>c.shift());r.next(e?e(...l):l),i.some((c,u)=>!c.length&&s[u])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):wl}function s4(...n){const e=QM(n);return Gi((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let l=0;l<i;l++)ol(n[l]).subscribe(qi(r,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(ds))&&(o=null))},Qs));t.subscribe(qi(r,l=>{if(a){const c=[l,...s];r.next(e?e(...c):c)}}))})}Math,Math,Math;const iNe=["*"],RNe=["dialog"],kNe=(n,e,t)=>({$implicit:n,pages:e,disabled:t}),HNe=n=>({disabled:!0,currentPage:n}),VNe=(n,e,t)=>({disabled:n,$implicit:e,currentPage:t}),g4=(n,e)=>({disabled:n,currentPage:e}),QNe=n=>({disabled:n});function zNe(n,e){1&n&&(fe(0,"span",13),JC(1,7),he())}function GNe(n,e){1&n&&(fe(0,"span",13),JC(1,8),he())}function qNe(n,e){1&n&&(fe(0,"span",13),JC(1,9),he())}function jNe(n,e){1&n&&(fe(0,"span",13),JC(1,10),he())}function WNe(n,e){1&n&&Fe(0,"...")}function $Ne(n,e){1&n&&Fe(0),2&n&&Br(e.$implicit)}function KNe(n,e){}function XNe(n,e){if(1&n&&(fe(0,"a",16),An(1,KNe,0,0,"ng-template",12),he()),2&n){const t=on(2).$implicit,r=on(),i=Of(9);Ne(),$e("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",kd(2,HNe,t))}}function YNe(n,e){}function ZNe(n,e){if(1&n){const t=Rs();fe(0,"a",17),jt("click",function(i){Vn(t);const s=on().$implicit;return on(2).selectPage(s),qn(i.preventDefault())}),An(1,YNe,0,0,"ng-template",12),he()}if(2&n){const t=on().$implicit,r=on(),i=r.$implicit,s=r.disabled,o=on(),a=Of(11);Bi("tabindex",s?"-1":null)("aria-disabled",s?"true":null),Ne(),$e("ngTemplateOutlet",(null==o.tplNumber?null:o.tplNumber.templateRef)||a)("ngTemplateOutletContext",T5(4,VNe,s,t,i))}}function JNe(n,e){if(1&n&&(fe(0,"li",15),An(1,XNe,2,4,"a",16)(2,ZNe,2,8),he()),2&n){const t=e.$implicit,r=on(),i=r.$implicit,s=r.disabled,o=on();Ci("active",t===i)("disabled",o.isEllipsis(t)||s),Bi("aria-current",t===i?"page":null),Ne(),Fo(1,o.isEllipsis(t)?1:2)}}function eIe(n,e){1&n&&Ku(0,JNe,3,6,"li",14,Rf),2&n&&Xu(e.pages)}function tIe(n,e){}function nIe(n,e){if(1&n){const t=Rs();fe(0,"li",15)(1,"a",18),jt("click",function(i){return Vn(t),on().selectPage(1),qn(i.preventDefault())}),An(2,tIe,0,0,"ng-template",12),he()()}if(2&n){const t=on(),r=Of(1);Ci("disabled",t.previousDisabled()),Ne(),Bi("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),Ne(),$e("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",ix(6,g4,t.previousDisabled(),t.page))}}function rIe(n,e){}function iIe(n,e){if(1&n){const t=Rs();fe(0,"li",15)(1,"a",19),jt("click",function(i){Vn(t);const s=on();return s.selectPage(s.page-1),qn(i.preventDefault())}),An(2,rIe,0,0,"ng-template",12),he()()}if(2&n){const t=on(),r=Of(3);Ci("disabled",t.previousDisabled()),Ne(),Bi("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),Ne(),$e("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",kd(6,QNe,t.previousDisabled()))}}function sIe(n,e){}function oIe(n,e){}function aIe(n,e){if(1&n){const t=Rs();fe(0,"li",15)(1,"a",20),jt("click",function(i){Vn(t);const s=on();return s.selectPage(s.page+1),qn(i.preventDefault())}),An(2,oIe,0,0,"ng-template",12),he()()}if(2&n){const t=on(),r=Of(5);Ci("disabled",t.nextDisabled()),Ne(),Bi("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),Ne(),$e("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",ix(6,g4,t.nextDisabled(),t.page))}}function lIe(n,e){}function cIe(n,e){if(1&n){const t=Rs();fe(0,"li",15)(1,"a",21),jt("click",function(i){Vn(t);const s=on();return s.selectPage(s.pageCount),qn(i.preventDefault())}),An(2,lIe,0,0,"ng-template",12),he()()}if(2&n){const t=on(),r=Of(7);Ci("disabled",t.nextDisabled()),Ne(),Bi("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),Ne(),$e("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",ix(6,g4,t.nextDisabled(),t.page))}}function vIe(n,e){if(1&n&&(fe(0,"span"),Fe(1),he()),2&n){const t=on().$implicit;Sg(on().highlightClass),Ne(),Br(t)}}function yIe(n,e){if(1&n&&(Nv(0),Fe(1),Iv()),2&n){const t=on().$implicit;Ne(),Br(t)}}function _Ie(n,e){1&n&&An(0,vIe,2,4,"span",0)(1,yIe,2,1),2&n&&Fo(0,e.$index%2!=0?0:1)}const dZ={animation:!0,transitionTimerDelayMs:5};let DB=(()=>{class n{constructor(){this.animation=dZ.animation}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function AZ(n){return null!=n?`${n}`:""}function g1(n){return"string"==typeof n}function Rl(n){return!isNaN(function pu(n){return parseInt(`${n}`,10)}(n))}function r0(n){return null!=n}function m1(n){return(n||document.body).getBoundingClientRect()}function mZ(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const TIe=()=>{},{transitionTimerDelayMs:BIe}=dZ,wE=new Map,zh=(n,e,t,r)=>{let i=r.context||{};const s=wE.get(e);if(s)switch(r.runningTransition){case"continue":return wl;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),wE.delete(e)}const o=t(e,r.animation,i)||TIe;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>o()),Jn(void 0).pipe(function MIe(n){return e=>new di(t=>e.subscribe({next:o=>n.run(()=>t.next(o)),error:o=>n.run(()=>t.error(o)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new $r,l=new $r,c=a.pipe(function YTe(...n){return e=>Lx(e,Jn(...n))}(!0));wE.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const u=function xIe(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const h=ul(e,"transitionend").pipe(ll(c),ao(({target:f})=>f===e));(function KY(...n){return 1===(n=$Y(n)).length?ol(n[0]):new di(function XTe(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(ol(n[r]).subscribe(qi(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))})(_B(u+BIe).pipe(ll(c)),h,l).pipe(ll(c)).subscribe(()=>{wE.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()},IIe=(n,e,t)=>{let{direction:r,maxSize:i,dimension:s}=t;const{classList:o}=n;function a(){o.add("collapse"),"show"===r?o.add("show"):o.remove("show")}if(e)return i||(i=function NIe(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,s),t.maxSize=i,n.style[s]="show"!==r?i:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),m1(n),o.add("collapsing")),n.style[s]="show"===r?i:"0px",()=>{a(),o.remove("collapsing"),n.style[s]=""};a()};let FIe=(()=>{class n{constructor(){this._ngbConfig=Ve(DB),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),m4=(()=>{class n{constructor(){this._config=Ve(FIe),this._element=Ve(N),this._zone=Ve(Sr),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ie,this.horizontal=this._config.horizontal,this.shown=new ie,this.hidden=new ie}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,r){return zh(this._zone,this._element.nativeElement,IIe,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(r,i){2&r&&Ci("collapse-horizontal",i.horizontal)},inputs:{animation:"animation",collapsed:[Fr.None,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return n})(),bZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),y4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),xZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),EZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})();var to=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(to||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const IZ=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function FZ(n){const e=Array.from(n.querySelectorAll(IZ)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let KZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),YZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),FFe=(()=>{class n{constructor(){this._ngbConfig=Ve(DB),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class c0{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let RFe=(()=>{class n{constructor(){this._document=Ve(rs)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=o),i.overflow=s}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),OFe=(()=>{class n{constructor(){this._nativeElement=Ve(N).nativeElement,this._zone=Ve(Sr)}ngOnInit(){this._zone.onStable.asObservable().pipe(Mo(1)).subscribe(()=>{zh(this._zone,this._nativeElement,(t,r)=>{r&&m1(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return zh(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(Sg("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Ci("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ca],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})();class ZZ{update(e){}close(e){}dismiss(e){}}const PFe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],LFe=["animation","backdropClass"];class UFe{_applyWindowOptions(e,t){PFe.forEach(r=>{r0(t[r])&&(e[r]=t[r])})}_applyBackdropOptions(e,t){LFe.forEach(r=>{r0(t[r])&&(e[r]=t[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ll(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ll(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new $r,this._dismissed=new $r,this._hidden=new $r,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function pZ(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Jn(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),i4(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var N4=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(N4||{});let kFe=(()=>{class n{constructor(){this._document=Ve(rs),this._elRef=Ve(N),this._zone=Ve(Sr),this._closed$=new $r,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ie,this.shown=new $r,this.hidden=new $r}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":g1(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Mo(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=i4(zh(this._zone,t,()=>t.classList.remove("show"),r),zh(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};i4(zh(this._zone,this._elRef.nativeElement,(s,o)=>{o&&m1(s),s.classList.add("show")},t),zh(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{ul(t,"keydown").pipe(ll(this._closed$),ao(i=>i.which===to.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(N4.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;ul(this._dialogEl.nativeElement,"mousedown").pipe(ll(this._closed$),Ro(()=>r=!1),du(()=>ul(t,"mouseup").pipe(ll(this._closed$),Mo(1))),ao(({target:i})=>t===i)).subscribe(()=>{r=!0}),ul(t,"click").pipe(ll(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(N4.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=FZ(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&zh(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&Wi(RNe,7),2&r){let s;ar(s=lr())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(Bi("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Sg("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Ci("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ca],ngContentSelectors:iNe,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,i){1&r&&(ex(),fe(0,"div",1,0)(2,"div",2),tx(3),he()()),2&r&&Sg("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return n})(),HFe=(()=>{class n{constructor(){this._applicationRef=Ve(Lf),this._injector=Ve(Io),this._environmentInjector=Ve(La),this._document=Ve(rs),this._scrollBar=Ve(RFe),this._activeWindowCmptHasChanged=new $r,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ie;const t=Ve(Sr);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const r=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=ul(e,"focusin").pipe(ll(t),Vr(s=>s.target));ul(e,"keydown").pipe(ll(t),ao(s=>s.which===to.Tab),s4(i)).subscribe(([s,o])=>{const[a,l]=FZ(e);(o===a||o===e)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&ul(e,"click").pipe(ll(t),s4(i),Vr(s=>s[1])).subscribe(s=>s.focus())})})(t,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const s=i.container instanceof HTMLElement?i.container:r0(i.container)?this._document.querySelector(i.container):this._document.body;if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const o=new ZZ,a=(t=i.injector||t).get(La,null)||this._environmentInjector,l=this._getContentRef(t,a,r,o,i);let c=!1!==i.backdrop?this._attachBackdrop(s):void 0,u=this._attachWindowComponent(s,l.nodes),h=new UFe(u,l,c,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(u),h.hidden.pipe(Mo(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),o.close=d=>{h.close(d)},o.dismiss=d=>{h.dismiss(d)},o.update=d=>{h.update(d)},h.update(i),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=X5(OFe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=X5(kFe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_getContentRef(t,r,i,s,o){return i?i instanceof ra?this._createFromTemplateRef(i,s):g1(i)?this._createFromString(i):this._createFromComponent(t,r,i,s,o):new c0([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new c0([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new c0([[r]])}_createFromComponent(t,r,i,s,o){const l=X5(i,{environmentInjector:r,elementInjector:Io.create({providers:[{provide:ZZ,useValue:s}],parent:t})}),c=l.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new c0([[c]],l.hostView,l)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),VFe=(()=>{class n{constructor(){this._injector=Ve(Io),this._modalStack=Ve(HFe),this._config=Ve(FFe)}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({providers:[VFe]})}}return n})(),nJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),KFe=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rJ=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0})}}return n})(),iJ=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0})}}return n})(),sJ=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0})}}return n})(),oJ=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0})}}return n})(),aJ=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0})}}return n})(),lJ=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0})}}return n})(),cJ=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0})}}return n})(),R4=(()=>{class n{constructor(){this._config=Ve(KFe),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new ie(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=function EIe(n,e,t=0){return Math.max(Math.min(n,e),t)}(t,this.pageCount,1),this.page!==r&&Rl(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Rl(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["ngb-pagination"]],contentQueries:function(r,i,s){if(1&r&&(wa(s,rJ,5),wa(s,iJ,5),wa(s,sJ,5),wa(s,oJ,5),wa(s,aJ,5),wa(s,lJ,5),wa(s,cJ,5)),2&r){let o;ar(o=lr())&&(i.tplEllipsis=o.first),ar(o=lr())&&(i.tplFirst=o.first),ar(o=lr())&&(i.tplLast=o.first),ar(o=lr())&&(i.tplNext=o.first),ar(o=lr())&&(i.tplNumber=o.first),ar(o=lr())&&(i.tplPrevious=o.first),ar(o=lr())&&(i.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[Bo,Ca],decls:20,vars:12,consts:()=>{let t,r,i,s,o,a,l,c;return t=$localize`:@@ngb.pagination.first:`,r=$localize`:@@ngb.pagination.previous:`,i=$localize`:@@ngb.pagination.next:`,s=$localize`:@@ngb.pagination.last:`,o=$localize`:@@ngb.pagination.first-aria:First`,a=$localize`:@@ngb.pagination.previous-aria:Previous`,l=$localize`:@@ngb.pagination.next-aria:Next`,c=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],t,r,i,s,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"]]},template:function(r,i){if(1&r&&(An(0,zNe,2,0,"ng-template",null,0,Pf)(2,GNe,2,0,"ng-template",null,1,Pf)(4,qNe,2,0,"ng-template",null,2,Pf)(6,jNe,2,0,"ng-template",null,3,Pf)(8,WNe,1,0,"ng-template",null,4,Pf)(10,$Ne,1,1,"ng-template",null,5,Pf)(12,eIe,2,0,"ng-template",null,6,Pf),fe(14,"ul"),An(15,nIe,3,9,"li",11)(16,iIe,3,8,"li",11)(17,sIe,0,0,"ng-template",12)(18,aIe,3,9,"li",11)(19,cIe,3,9,"li",11),he()),2&r){const s=Of(13);Ne(14),Sg("pagination"+(i.size?" pagination-"+i.size:"")),Ne(),Fo(15,i.boundaryLinks?15:-1),Ne(),Fo(16,i.directionLinks?16:-1),Ne(),$e("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||s)("ngTemplateOutletContext",T5(8,kNe,i.page,i.pages,i.disabled)),Ne(),Fo(18,i.directionLinks?18:-1),Ne(),Fo(19,i.boundaryLinks?19:-1)}},dependencies:[C_],encapsulation:2,changeDetection:0})}}return n})(),HB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),uJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),hJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),fJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),dJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),AJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),pJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),gJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),O4=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=AZ(this.result),i=Array.isArray(this.term)?this.term:[this.term],s=c=>this.accentSensitive?c:mZ(c),o=i.map(c=>function SIe(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(s(AZ(c)))).filter(c=>c),a=this.accentSensitive?r:mZ(r),l=o.length?a.split(new RegExp(`(${o.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=l;else{let c=0;this.parts=l.map(u=>r.substring(c,c+=u.length))}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[Bo,Ca],decls:2,vars:0,consts:[[3,"class"]],template:function(r,i){1&r&&Ku(0,_Ie,2,1,null,null,Rf),2&r&&Xu(i.parts)},styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0})}}return n})();new bn("live announcer delay",{providedIn:"root",factory:()=>100});let mJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})(),vJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({})}}return n})();const nRe=[bZ,y4,xZ,EZ,KZ,YZ,JZ,nJ,vJ,HB,uJ,hJ,fJ,dJ,AJ,pJ,gJ,mJ];let yJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({imports:[nRe,bZ,y4,xZ,EZ,KZ,YZ,JZ,nJ,vJ,HB,uJ,hJ,fJ,dJ,AJ,pJ,gJ,mJ]})}}return n})();const rRe=(n,e)=>e.id;function iRe(n,e){1&n&&(fe(0,"span",9),Fe(1,"[Cargando...]"),he())}function sRe(n,e){1&n&&(fe(0,"span",9),Fe(1,"[Escuchando...]"),he())}function oRe(n,e){if(1&n&&(fe(0,"span",25)(1,"p"),Fe(2),he()()),2&n){const t=on();Ne(2),ns("Error: ",t.error,"")}}function aRe(n,e){if(1&n&&(fe(0,"tr")(1,"th",26),Fe(2),he(),fe(3,"td"),ft(4,"input",27),he(),fe(5,"td",0),ft(6,"ngb-highlight",28),he(),fe(7,"td",0)(8,"a",29),ft(9,"ngb-highlight",28),he()(),fe(10,"td",0)(11,"a",29),ft(12,"ngb-highlight",28),he()(),fe(13,"td",0)(14,"a",29),ft(15,"ngb-highlight",28),he()(),fe(16,"td",0)(17,"a",29),ft(18,"ngb-highlight",28),he()()()),2&n){const t=e.$implicit,r=on();Ne(2),Br(t.id),Ne(2),$e("checked",t.done),Ne(2),$e("result",t.description)("term",r.searchTerm),Ne(2),$e("href",t.field_1,wo),Ne(),$e("result",t.name)("term",r.searchTerm),Ne(2),$e("href",t.field_3,wo),Ne(),$e("result",t.field_2)("term",r.searchTerm),Ne(2),$e("href",t.field_5,wo),Ne(),$e("result",t.field_4)("term",r.searchTerm),Ne(2),$e("href",t.field_7,wo),Ne(),$e("result",t.field_6)("term",r.searchTerm)}}function lRe(n,e){1&n&&(fe(0,"tr")(1,"td",30),Fe(2,"[NO SE ENCONTRARON DATOS]"),he()())}const cRe={asc:"desc",desc:"","":"asc"};let hRe=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new ie}_rotatePage(){this.direction=cRe[this.direction],this.sortevent.emit({column:this.sortable,direction:this.direction})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["th","_sortevent",""]],hostVars:4,hostBindings:function(r,i){1&r&&jt("click",function(){return i._rotatePage()}),2&r&&Ci("asc","asc"===i._direction)("desc","desc"===i._direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})(),fRe=(()=>{class n{constructor(t,r){this.pipe=t,this._authService=r,this.ConfigRoleString=r4.RoleConfig.toString(),this._loading=new Es(!0),this._total=new Es(0),this._search$=new $r,this._Pagelist=new Es([]),this._state={page:1,pageSize:6,searchTerm:"",sortColumn:"",sortDirection:""},this.isListening=!1,this.transcript="",this.error="",this.ListeningButtonIconOn="./assets/images/mic_on.gif",this.ListeningButtonIconOff="./assets/images/mic_off.gif",this.SpeakerIcon="./assets/images/speaker_on.gif",this.clearFormIcon="./assets/images/clearForm.gif",this.InitializeSpeechRecognition(),this._search$.pipe(Ro(()=>this._loading.next(!0)),qY(200),du(()=>this._search()),pE(200),Ro(()=>this._loading.next(!1))).subscribe(i=>{this._Pagelist.next(i.searchPages),this._total.next(i.total)}),this._search$.next()}_search(){let t,r,i={searchPages:t,total:r};const{pageSize:a,page:l,searchTerm:c}=this._state;return console.log("search : "+JSON.stringify(kg.scmList)),t=kg.scmList,t=t.filter(u=>function uRe(n,e,t){return n.name?.toLowerCase().includes(e?.toLowerCase())||n.description?.toLowerCase().includes(e?.toLowerCase())||n.field_1?.toLowerCase().includes(e?.toLowerCase())||n.field_2?.toLowerCase().includes(e?.toLowerCase())||n.field_3?.toLowerCase().includes(e?.toLowerCase())||n.field_4?.toLowerCase().includes(e?.toLowerCase())||n.field_5?.toLowerCase().includes(e?.toLowerCase())||n.field_6?.toLowerCase().includes(e?.toLowerCase())||n.field_7?.toLowerCase().includes(e?.toLowerCase())}(u,c)),r=t.length,t=t.slice((l-1)*a,(l-1)*a+a),i={searchPages:t,total:r},Jn(i)}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(t){this._Pagelist=t}get page(){return this._state.page}set page(t){this._set({page:t})}get pageSize(){return this._state.pageSize}set pageSize(t){this._set({pageSize:t})}get searchTerm(){return this._state.searchTerm}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}onSort({column:t,direction:r}){this.headers?.forEach(i=>{i.sortable!==t&&(i.direction="")}),this.sortColumn=t,this.sortDirection=r}InitializeSpeechRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=r=>{this.transcript=r.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=r=>{this.error=r.error,this.isListening=!1,console.error("Error:",this.error)},this.recognition.onend=()=>{console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}startListening(){this.recognition&&(console.log("listening started"),this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(console.log("listening ended"),this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t),this.searchTerm=this.transcript}else alert("No text to speak!")}clearText(){this.searchTerm=""}static{this.\u0275fac=function(r){return new(r||n)(gt(LM),gt(WY))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-scm"]],viewQuery:function(r,i){if(1&r&&Wi(hRe,5),2&r){let s;ar(s=lr())&&(i.headers=s)}},decls:61,vars:26,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"click","disabled"],[3,"src"],[3,"click"],[1,"col","col-form-label"],["class","error",4,"ngIf"],[1,"table","table-striped","table-dark"],["align","left","scope","col","sortable","id"],["align","left","scope","col","sortable","done"],["align","left","scope","col","sortable","description"],["align","left","scope","col","sortable","name"],["align","left","scope","col","sortable","field_2"],["align","left","scope","col","sortable","field_4"],["align","left","scope","col","sortable","field_6"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],["routerLink","/Home"],[1,"error"],["scope","row"],["type","checkbox","name","done","id","done","value","done","readonly","",3,"checked"],[3,"result","term"],["target","_blank",3,"href"],["colspan","4",2,"text-align","center"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Fe(2,"[SCM]"),he()(),ft(3,"hr"),fe(4,"form")(5,"div",1)(6,"label",2),Fe(7,"Busqueda de Texto Completo:"),he(),fe(8,"div",3)(9,"input",4),Ud("ngModelChange",function(o){return HA(i.searchTerm,o)||(i.searchTerm=o),o}),he()(),fe(10,"span",5)(11,"button",6),jt("click",function(){return i.startListening()}),ft(12,"img",7),he(),fe(13,"button",6),jt("click",function(){return i.stopListening()}),ft(14,"img",7),he(),fe(15,"button",6),jt("click",function(){return i.speakText()}),ft(16,"img",7),he(),fe(17,"button",8),jt("click",function(){return i.clearText()}),ft(18,"img",7),he()(),An(19,iRe,2,0,"span",9),hu(20,"async"),An(21,sRe,2,0,"span",9)(22,oRe,3,1,"span",10),he(),fe(23,"table",11)(24,"thead")(25,"tr")(26,"th",12),Fe(27,"#"),he(),fe(28,"th",13),Fe(29,"(Hecho)"),he(),fe(30,"th",14),Fe(31,"[Type]"),he(),fe(32,"th",15),Fe(33,"[desc_1]"),he(),fe(34,"th",16),Fe(35,"[desc_2]"),he(),fe(36,"th",17),Fe(37,"[desc_3]"),he(),fe(38,"th",18),Fe(39,"[desc_4]"),he()()(),fe(40,"tbody"),Ku(41,aRe,19,16,"tr",null,rRe,!1,lRe,3,0,"tr"),hu(44,"async"),he()(),fe(45,"div",19)(46,"ngb-pagination",20),hu(47,"async"),Ud("pageChange",function(o){return HA(i.page,o)||(i.page=o),o}),he(),fe(48,"select",21),Ud("ngModelChange",function(o){return HA(i.pageSize,o)||(i.pageSize=o),o}),fe(49,"option",22),Fe(50,"2 items por Pagina"),he(),fe(51,"option",22),Fe(52,"4 items por Pagina"),he(),fe(53,"option",22),Fe(54,"6 tems por Pagina"),he(),fe(55,"option",22),Fe(56,"10 items por Pagina"),he()()()(),ft(57,"hr"),fe(58,"div",23)(59,"a",24),Fe(60,"[Volver al Inicio]"),he()()),2&r&&(Ne(9),Ld("ngModel",i.searchTerm),Ne(2),$e("disabled",i.isListening),Ne(),$e("src",i.ListeningButtonIconOn,wo),Ne(),$e("disabled",!i.isListening),Ne(),$e("src",i.ListeningButtonIconOff,wo),Ne(),$e("disabled",i.isListening),Ne(),$e("src",i.SpeakerIcon,wo),Ne(2),$e("src",i.clearFormIcon,wo),Ne(),Fo(19,fu(20,20,i.loading)?19:-1),Ne(2),Fo(21,i.isListening&&!i.error?21:-1),Ne(),$e("ngIf",i.error),Ne(19),Xu(fu(44,22,i._Pagelist)),Ne(5),$e("collectionSize",fu(47,24,i.total)),Ld("page",i.page),$e("pageSize",i.pageSize),Ne(2),Ld("ngModel",i.pageSize),Ne(),$e("ngValue",2),Ne(2),$e("ngValue",4),Ne(2),$e("ngValue",6),Ne(2),$e("ngValue",10))},dependencies:[Ss,Ic,Tx,Vv,Qv,Fg,Bx,M_,bx,N_,B_,R4,O4,x_],styles:["img[_ngcontent-%COMP%]{width:15px;height:30px}"]})}}return n})(),dRe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-topics"]],decls:120,vars:0,consts:[["align","left"],["target","_blank","href","#"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Fe(2,"[TOPICS]"),he(),fe(3,"h2"),Fe(4,"[Front End]"),he(),fe(5,"ul")(6,"li")(7,"a",1),Fe(8,"[Angular/Typescript]"),he()(),fe(9,"li")(10,"a",1),Fe(11,"[BootStrap]"),he()(),fe(12,"li")(13,"a",1),Fe(14,"[Angular Material]"),he()(),fe(15,"li")(16,"a",1),Fe(17,"[jquery/css/html]"),he()()(),fe(18,"h2"),Fe(19,"[Backend]"),he(),fe(20,"ul")(21,"li")(22,"a",1),Fe(23,"[c# / .NET CORE]"),he()(),fe(24,"li")(25,"a",1),Fe(26,"[node.js]"),he()()(),fe(27,"h2"),Fe(28,"[A.I.]"),he(),fe(29,"ul")(30,"li")(31,"a",1),Fe(32,"Google Gemini"),he()(),fe(33,"li")(34,"a",1),Fe(35,"Chat gtp"),he()(),fe(36,"li")(37,"a",1),Fe(38,"C# Accord"),he()(),fe(39,"li")(40,"a",1),Fe(41,"C++ OpenCV"),he()()(),fe(42,"h2"),Fe(43,"[Algorithm]"),he(),fe(44,"ul")(45,"li")(46,"a",1),Fe(47,"[TAOCP]"),he()(),fe(48,"li")(49,"a",1),Fe(50,"[Coursera / Neural Networks / Machine Learning]"),he()()(),fe(51,"h2"),Fe(52,"[Databases]"),he(),fe(53,"ul")(54,"li")(55,"a",1),Fe(56,"[MS SQL SERVER]"),he()(),fe(57,"li")(58,"a",1),Fe(59,"[ORACLE]"),he()(),fe(60,"li")(61,"a",1),Fe(62,"[MY SQL]"),he()()(),fe(63,"h2"),Fe(64,"[Software Engineering]"),he(),fe(65,"ul")(66,"li")(67,"a",1),Fe(68,"[Swebok]"),he()(),fe(69,"li")(70,"a",1),Fe(71,"[Solid]"),he()(),fe(72,"li")(73,"a",1),Fe(74,"[Softeware Patterns]"),he()(),fe(75,"li")(76,"a",1),Fe(77,"[Clean]"),he()()(),ft(78,"hr"),fe(79,"h4"),Fe(80,"[Angular - Listado por Tema]"),he(),fe(81,"ul")(82,"li"),Fe(83,"Formularios basados en plantillas."),he(),fe(84,"li"),Fe(85,"Fomulaios reactivos."),he(),fe(86,"li"),Fe(87,"Servicios (llamadas API Rest a backends .net o node.js)."),he(),fe(88,"li"),Fe(89,"Pipes (formato de fecha)."),he(),fe(90,"li"),Fe(91,"Injecci\xf3n de Dependencia."),he()(),ft(92,"hr"),fe(93,"h4"),Fe(94,"[Angular - Listado Por Caracter\xedstica]"),he(),fe(95,"ul")(96,"li"),Fe(97,"Lectura de archivos de configuraci\xf3n."),he(),fe(98,"li"),Fe(99,"Interceptores (registro de llamadas http)"),he(),fe(100,"li"),Fe(101,"Manejo de errores."),he(),fe(102,"li"),Fe(103,"Manejo de Graficos (canvas)."),he(),fe(104,"li"),Fe(105,"Graficos estadisticos tipo Pastel y barras."),he(),fe(106,"li"),Fe(107,"Exportaciones pdf, xls, csv, pdf."),he(),fe(108,"li"),Fe(109,"Algoritmos (minmax, camino m\xe1s corto)."),he(),fe(110,"li"),Fe(111,"OCR (Reconocimientos de Caracteres)."),he(),fe(112,"li"),Fe(113,"LLamado a Sockets via Node.js (Chat)."),he(),fe(114,"li"),Fe(115,"Manipulaci\xf3n de bases de datos MS SQL Server desde .net Core (backend)."),he()()(),ft(116,"hr"),fe(117,"div",2)(118,"a",3),Fe(119,"[Volver al Inicio]"),he()())},dependencies:[Ss]})}}return n})(),ARe=(()=>{class n{constructor(t,r){this.algorithmService=t,this.router=r,this.lblStatusNodeJs="",this.BtnTestNodeJSCaption="[TEST NODE.JS]",this.lblStatusSpringBoot="",this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"}RedirectHome(){this.router.navigateByUrl("/Home")}TestNodeJs(){console.log("[TEST NODE.JS] \n"),this.BtnTestNodeJSCaption="...(retrieving data)...",this.algorithmService._TestNodeJs().subscribe({next:i=>{this.lblStatusNodeJs=JSON.parse(i).recordsets[0][0].nombreCompleto,console.log("[TEST - NODEJS] - (return): "+this.lblStatusNodeJs),this.BtnTestNodeJSCaption="[TEST NODE.JS]"},error:i=>{console.error("[TEST - NODEJS] - (ERROR) : "+JSON.stringify(i.message)),this.lblStatusNodeJs=i.message,this.BtnTestNodeJSCaption="[TEST NODE.JS]"},complete:()=>{console.log("[TEST - NODEJS]  -  (COMPLETE)")}})}TestSpringBoot(){console.log("[TEST SPRINGBOOT] \n"),this.BtnTestSpringBootCaption="...(retrieving data)...",this.algorithmService._TestSprinbBoot().subscribe({next:i=>{this.lblStatusSpringBoot=i,console.log("[TEST - NODEJS] - (return): "+this.lblStatusSpringBoot),this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"},error:i=>{let s=JSON.stringify(i.message);console.error("[TEST - SPRINBBOOT] - (ERROR) : "+s),this.lblStatusSpringBoot=s,this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"},complete:()=>{console.log("[TEST - springboot]  -  (COMPLETE)")}})}static{this.\u0275fac=function(r){return new(r||n)(gt(zK),gt(Rc))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-unt-testing"]],decls:21,vars:6,consts:[["align","left"],["type","button",3,"click","value","disabled"],["id","lblStatusNodeJs"],["id","lblStatusSprinbBoot"],["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(fe(0,"div",0),ft(1,"hr"),fe(2,"h1"),Fe(3,"[NODE.JS]"),he(),ft(4,"br"),fe(5,"input",1),jt("click",function(){return i.TestNodeJs()}),he(),ft(6,"br"),fe(7,"label",2),Fe(8),he(),ft(9,"hr"),fe(10,"h1"),Fe(11,"[SPRING BOOT]"),he(),fe(12,"input",1),jt("click",function(){return i.TestSpringBoot()}),he(),ft(13,"br"),fe(14,"label",3),Fe(15),he(),ft(16,"hr"),he(),ft(17,"hr"),fe(18,"div",4)(19,"a",5),Fe(20,"[Volver al Menu]"),he()()),2&r&&(Ne(5),Rv("value",i.BtnTestNodeJSCaption),$e("disabled","[TEST NODE.JS]"!=i.BtnTestNodeJSCaption),Ne(3),ns("Test Result :[",i.lblStatusNodeJs,"]"),Ne(4),Rv("value",i.BtnTestSpringBootCaption),$e("disabled","[TEST SPRINGBOOT]"!=i.BtnTestSpringBootCaption),Ne(3),ns("Test Result :[",i.lblStatusSpringBoot,"]"))},dependencies:[Ss]})}}return n})();const pRe=["signature"];let gRe=(()=>{class n{constructor(t){this.backendService=t,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]"}onBeginSign(){}onEndSign(){}saveSignature(){console.log("Saving signature...");let t=this.signature?.toDataURL();console.log("Data URL:",t),this.uploadImage(t)}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}uploadImage(t){this.statusButton="..parsing..",this.backendService.uploadBase64Image(t).subscribe(r=>{console.log("Image uploaded successfully:",r),this.status=JSON.parse(JSON.stringify(r)).message,this.statusButton="[save]";const i=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(i)},r=>{console.error("Error uploading image:",r),this.status=r,this.statusButton="[save]"})}static{this.\u0275fac=function(r){return new(r||n)(gt(aE))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-ocr"]],viewQuery:function(r,i){if(1&r&&Wi(pRe,5),2&r){let s;ar(s=lr())&&(i.signature=s.first)}},decls:19,vars:4,consts:[["signature",""],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","right"],["routerLink","/Dev"]],template:function(r,i){if(1&r){const s=Rs();fe(0,"h1"),Fe(1,"[OCR]"),he(),ft(2,"hr"),fe(3,"div")(4,"ngx-signature-pad",1,0),jt("beginSign",function(){return Vn(s),qn(i.onBeginSign())})("endSign",function(){return Vn(s),qn(i.onEndSign())}),he()(),ft(6,"hr"),fe(7,"input",2),jt("click",function(){return Vn(s),qn(i.saveSignature())}),he(),Fe(8,"\n|\n"),fe(9,"button",3),jt("click",function(){return Vn(s),qn(i.clearSignature())}),Fe(10,"Clear Signature"),he(),ft(11,"br")(12,"br"),fe(13,"span",4),Fe(14),he(),ft(15,"hr"),fe(16,"div",5)(17,"a",6),Fe(18,"[Volver al Menu]"),he()()}2&r&&(Ne(4),$e("options",i.options),Ne(3),Rv("value",i.statusButton),$e("disabled","..parsing.."==i.statusButton),Ne(7),Br(i.status))},dependencies:[Ss,n4],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}"]})}}return n})();function _J(n=0,e=uE){return n<0&&(n=0),_B(n,n,e)}let P4,L4,bJ=Jn(1,2,3,4,5),wJ=[],CJ=["a","b","c","d","e"],xJ=new Es(null),mRe=xJ.asObservable();let _Re=(()=>{class n{constructor(){this.TestBasicObservable()}TestBasicObservable(){P4=qo(bJ).pipe(Bg(t=>Jn(t).pipe(pE(1e3)))),P4.subscribe({next(t){console.log("Observable emitted the next value from service to array : "+t),wJ.push(t)},error(t){console.error("Behaviour subject erro: "+t)},complete(){console.log("Observable complete notification"),function vRe(){_J(1e3).pipe(Mo(CJ.length),Vr(n=>CJ[n])).subscribe({next(n){console.log("Behaviour subject item : "+n),xJ.next(n)},error(n){console.error("Behaviour subject erro: "+n)},complete(){console.log("Behaviour subject complete notification"),function yRe(){L4=qo(["A","B","C","D","E"]).pipe(Bg(t=>Jn(t).pipe(pE(1e3)))),L4.subscribe({next(t){console.log(`Iteration emitted Result: ${t}`)},error(t){console.error("Iteration emitted an error: "+t)},complete(){console.log("Iteration complete notification")}})}()}})}()}})}get CurrentValue(){return wJ}get Numbers(){return bJ}get CurrentItem(){return mRe}get delayedObservable(){return P4}get delayedObservableIteration(){return L4}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bRe=(()=>{class n{constructor(t){this.service=t}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(gt(_Re))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-rx-jsplayground"]],decls:18,vars:9,consts:[["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(fe(0,"h1"),Fe(1,"[RXJS PLAYGROUND]"),he(),ft(2,"hr"),fe(3,"div"),Fe(4),hu(5,"async"),he(),ft(6,"hr"),fe(7,"div"),Fe(8),hu(9,"async"),he(),ft(10,"hr"),fe(11,"div"),Fe(12),hu(13,"async"),he(),ft(14,"hr"),fe(15,"div",0)(16,"a",1),Fe(17,"[Volver al Menu]"),he()()),2&r&&(Ne(4),ns(" Current observable value : ",fu(5,3,i.service.delayedObservable),"\n"),Ne(4),ns(" Current BehaviourSubject value : ",fu(9,5,i.service.CurrentItem),"\n"),Ne(4),ns(" Current Iteration value : ",fu(13,7,i.service.delayedObservableIteration),"\n"))},dependencies:[Ss,x_]})}}return n})();function wRe(n,e){if(1&n&&(fe(0,"span",5)(1,"a",6)(2,"span",7),Fe(3),he()()()),2&n){const t=on().$implicit;Ne(),nx("routerLink","/",t.url,""),Ne(2),Br(t.text)}}function CRe(n,e){if(1&n&&(fe(0,"span"),An(1,wRe,4,3,"span",4),he()),2&n){const t=e.$implicit;Ne(),$e("ngIf",t)}}let EJ=(()=>{class n{constructor(t,r,i,s){this.titleService=t,this.configService=r,this.customErrorHandler=i,this.loggingInterceptor=s,this._appBrand="",this._appVersion="",this._appEnv="",this._title="",this.pages=[{url:"/Dev",text:"[TESTING]"},{url:"/StableReleases",text:"[PRODUCTION]"},{url:"/SCM",text:"[SCM]"},{url:"/AiPrompts",text:"[LLMs]"}],this._appBrand=this.configService.getConfigValue("appBrand"),this._appVersion=this.configService.getConfigValue("appVersion"),this._appEnv=this.configService.getConfigValue("appEnv"),this._title=this._appBrand+"-"+this._appEnv+" - v["+this._appVersion+"]",console.log(this._title),this.titleService.setTitle(this._title)}static{this.\u0275fac=function(r){return new(r||n)(gt($M),gt(Hg),gt(TF),gt(BF))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-home"]],decls:17,vars:13,consts:[["align","center",1,"animate"],["routerLink","/"],[1,"me-1",2,"width","50px",3,"src","alt"],[4,"ngFor","ngForOf"],["style","padding:5px;",4,"ngIf"],[2,"padding","5px"],[3,"routerLink"],["align","left"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Fe(2),he(),ft(3,"hr"),fe(4,"a",1),ft(5,"img",2),he(),fe(6,"a",1),ft(7,"img",2),he(),fe(8,"a",1),ft(9,"img",2),he(),fe(10,"a",1),ft(11,"img",2),he(),fe(12,"a",1),ft(13,"img",2),he(),ft(14,"hr"),An(15,CRe,2,1,"span",3),ft(16,"hr"),he()),2&r&&(Ne(2),lM("Welcome to ",i._appBrand," - ",i._appEnv,""),Ne(3),$e("src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/800px-Angular_full_color_logo.svg.png",wo)("alt","Angular Logo"),Ne(2),$e("src","https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1024px-Node.js_logo.svg.png",wo)("alt","NodeJs Logo"),Ne(2),$e("src","https://upload.wikimedia.org/wikipedia/commons/d/d2/C_Sharp_Logo_2023.svg",wo)("alt","C# Logo"),Ne(2),$e("src","https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/ISO_C%2B%2B_Logo.svg/306px-ISO_C%2B%2B_Logo.svg.png",wo)("alt","C++ Logo"),Ne(2),$e("src","https://vmware.gallerycdn.vsassets.io/extensions/vmware/vscode-spring-boot/1.59.2024110900/1731113263936/Microsoft.VisualStudio.Services.Icons.Default",wo)("alt","SPRING BOOT Logo"),Ne(2),$e("ngForOf",i.pages))},dependencies:[Ss,Bl,Ic],styles:[".animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale 2s}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}"]})}}return n})();function xRe(n,e){if(1&n&&(fe(0,"div",8)(1,"p"),Fe(2),he()()),2&n){const t=on();Ne(2),ns("Error: ",t.error,"")}}let ERe=(()=>{class n{constructor(){this.isListening=!1,this.transcript="",this.error="";const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=r=>{this.transcript=r.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=r=>{this.error=r.error,console.error("Error:",this.error)},this.recognition.onend=()=>{this.isListening=!1,console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}ngOnInit(){}startListening(){this.recognition&&(this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t)}else alert("No text to speak!")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-speech-recognition"]],decls:20,vars:4,consts:[[1,"speech-recognition-container"],[1,"controls"],[3,"click","disabled"],[3,"click"],[1,"output"],["class","error",4,"ngIf"],["align","right"],["routerLink","/Dev"],[1,"error"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h2"),Fe(2,"Speech Recognition with Angular"),he(),fe(3,"div",1)(4,"button",2),jt("click",function(){return i.startListening()}),Fe(5,"Start Listening"),he(),fe(6,"button",2),jt("click",function(){return i.stopListening()}),Fe(7,"Stop Listening"),he(),fe(8,"button",3),jt("click",function(){return i.speakText()}),Fe(9,"Speak Text"),he()(),fe(10,"div",4)(11,"h3"),Fe(12,"Transcript:"),he(),fe(13,"p"),Fe(14),he()(),An(15,xRe,3,1,"div",5),he(),ft(16,"hr"),fe(17,"div",6)(18,"a",7),Fe(19,"[Volver al Menu]"),he()()),2&r&&(Ne(4),$e("disabled",i.isListening),Ne(2),$e("disabled",!i.isListening),Ne(8),Br(i.transcript||"No speech detected yet."),Ne(),$e("ngIf",i.error))},dependencies:[Ss,Ic],styles:[".speech-recognition-container[_ngcontent-%COMP%]{text-align:center;margin:20px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;padding:10px 20px;font-size:16px;cursor:pointer}.output[_ngcontent-%COMP%]{margin-top:20px;font-size:18px}.error[_ngcontent-%COMP%]{color:red;margin-top:10px}"]})}}return n})();const SRe=(n,e)=>e.path;function DRe(n,e){1&n&&(fe(0,"span",9),Fe(1,"[Cargando...]"),he())}function MRe(n,e){1&n&&(fe(0,"span",9),Fe(1,"[Escuchando...]"),he())}function TRe(n,e){if(1&n&&(fe(0,"span",19)(1,"p"),Fe(2),he()()),2&n){const t=on();Ne(2),ns("Error: ",t.error,"")}}function BRe(n,e){if(1&n&&(fe(0,"tr")(1,"td")(2,"a",21),ft(3,"ngb-highlight",22),he()()()),2&n){const t=on().$implicit,r=on();Ne(2),$e("routerLink","/"+t.path),Ne(),$e("result",t.caption)("term",r.searchTerm)}}function NRe(n,e){1&n&&An(0,BRe,4,3,"tr",20),2&n&&$e("ngIf",""!=e.$implicit.path)}function IRe(n,e){1&n&&(fe(0,"tr")(1,"td",23),Fe(2,"[NO SE ENCONTRARON DATOS]"),he()())}const FRe={asc:"desc",desc:"","":"asc"};let ORe=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new ie}_rotatePage(){this.direction=FRe[this.direction],this.sortevent.emit({column:this.sortable,direction:this.direction})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["th","_sortevent",""]],hostVars:4,hostBindings:function(r,i){1&r&&jt("click",function(){return i._rotatePage()}),2&r&&Ci("asc","asc"===i._direction)("desc","desc"===i._direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})(),PRe=(()=>{class n{constructor(t,r){this.pipe=t,this._authService=r,this.ConfigRoleString=r4.RoleConfig.toString(),this._loading=new Es(!0),this._total=new Es(0),this._search$=new $r,this._Pagelist=new Es([]),this._state={page:1,pageSize:4,searchTerm:"",sortColumn:"",sortDirection:""},this.isListening=!1,this.transcript="",this.error="",this.ListeningButtonIconOn="./assets/images/mic_on.gif",this.ListeningButtonIconOff="./assets/images/mic_off.gif",this.SpeakerIcon="./assets/images/speaker_on.gif",this.clearFormIcon="./assets/images/clearForm.gif",this.InitializeSpeechRecognition(),this._search$.pipe(Ro(()=>this._loading.next(!0)),qY(200),du(()=>this._search()),pE(200),Ro(()=>this._loading.next(!1))).subscribe(i=>{this._Pagelist.next(i.searchPages),this._total.next(i.total)}),this._search$.next()}InitializeSpeechRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=r=>{this.transcript=r.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=r=>{this.error=r.error,this.isListening=!1,console.error("Error:",this.error)},this.recognition.onend=()=>{console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}_search(){let t,r,i={searchPages:t,total:r};const{pageSize:a,page:l,searchTerm:c}=this._state;return t=Gce,t=t.filter(u=>function RRe(n,e,t){return n.caption?.toLowerCase().includes(e?.toLowerCase())}(u,c)),r=t.length,t=t.slice((l-1)*a,(l-1)*a+a),i={searchPages:t,total:r},Jn(i)}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(t){this._Pagelist=t}get page(){return this._state.page}set page(t){this._set({page:t})}get pageSize(){return this._state.pageSize}set pageSize(t){this._set({pageSize:t})}get searchTerm(){return this._state.searchTerm}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}onSort({column:t,direction:r}){this.headers?.forEach(i=>{i.sortable!==t&&(i.direction="")}),this.sortColumn=t,this.sortDirection=r}startListening(){this.recognition&&(console.log("listening started"),this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(console.log("listening ended"),this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t),this.searchTerm=this.transcript}else alert("No text to speak!")}clearText(){this.searchTerm=""}static{this.\u0275fac=function(r){return new(r||n)(gt(LM),gt(WY))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-index"]],viewQuery:function(r,i){if(1&r&&Wi(ORe,5),2&r){let s;ar(s=lr())&&(i.headers=s)}},decls:49,vars:26,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"click","disabled"],[3,"src"],[3,"click"],[1,"col","col-form-label"],["class","error",4,"ngIf"],[1,"table","table-striped","table-dark"],["scope","col","sortable","path"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],["routerLink","/Home"],[1,"error"],[4,"ngIf"],[3,"routerLink"],[3,"result","term"],["colspan","4",2,"text-align","center"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Fe(2,"[INDEX]"),he(),ft(3,"hr"),fe(4,"form")(5,"div",1)(6,"label",2),Fe(7,"Busqueda de Texto Completo:"),he(),fe(8,"div",3)(9,"input",4),Ud("ngModelChange",function(o){return HA(i.searchTerm,o)||(i.searchTerm=o),o}),he()(),fe(10,"span",5)(11,"button",6),jt("click",function(){return i.startListening()}),ft(12,"img",7),he(),fe(13,"button",6),jt("click",function(){return i.stopListening()}),ft(14,"img",7),he(),fe(15,"button",6),jt("click",function(){return i.speakText()}),ft(16,"img",7),he(),fe(17,"button",8),jt("click",function(){return i.clearText()}),ft(18,"img",7),he()(),An(19,DRe,2,0,"span",9),hu(20,"async"),An(21,MRe,2,0,"span",9)(22,TRe,3,1,"span",10),he(),fe(23,"table",11)(24,"thead")(25,"tr")(26,"th",12),Fe(27,"[Pagina]"),he()()(),fe(28,"tbody"),Ku(29,NRe,1,1,"tr",null,SRe,!1,IRe,3,0,"tr"),hu(32,"async"),he()(),fe(33,"div",13)(34,"ngb-pagination",14),hu(35,"async"),Ud("pageChange",function(o){return HA(i.page,o)||(i.page=o),o}),he(),fe(36,"select",15),Ud("ngModelChange",function(o){return HA(i.pageSize,o)||(i.pageSize=o),o}),fe(37,"option",16),Fe(38,"2 items por Pagina"),he(),fe(39,"option",16),Fe(40,"4 items por Pagina"),he(),fe(41,"option",16),Fe(42,"6 tems por Pagina"),he(),fe(43,"option",16),Fe(44,"10 items por Pagina"),he()()()()(),ft(45,"hr"),fe(46,"div",17)(47,"a",18),Fe(48,"[Volver al Inicio]"),he()()),2&r&&(Ne(9),Ld("ngModel",i.searchTerm),Ne(2),$e("disabled",i.isListening),Ne(),$e("src",i.ListeningButtonIconOn,wo),Ne(),$e("disabled",!i.isListening),Ne(),$e("src",i.ListeningButtonIconOff,wo),Ne(),$e("disabled",i.isListening),Ne(),$e("src",i.SpeakerIcon,wo),Ne(2),$e("src",i.clearFormIcon,wo),Ne(),Fo(19,fu(20,20,i.loading)?19:-1),Ne(2),Fo(21,i.isListening&&!i.error?21:-1),Ne(),$e("ngIf",i.error),Ne(7),Xu(fu(32,22,i._Pagelist)),Ne(5),$e("collectionSize",fu(35,24,i.total)),Ld("page",i.page),$e("pageSize",i.pageSize),Ne(2),Ld("ngModel",i.pageSize),Ne(),$e("ngValue",2),Ne(2),$e("ngValue",4),Ne(2),$e("ngValue",6),Ne(2),$e("ngValue",10))},dependencies:[Ss,Ic,Tx,Vv,Qv,Fg,Bx,M_,bx,N_,B_,R4,O4,x_],styles:["img[_ngcontent-%COMP%]{width:15px;height:30px}"]})}}return n})();function LRe(n,e){if(1&n&&(fe(0,"ul")(1,"li")(2,"a",5),Fe(3),he()()()),2&n){const t=e.$implicit;Ne(2),$e("href",t.url,wo),Ne(),Br(t.name)}}let URe=(()=>{class n{constructor(){this.aiPrompts=[],console.log("AI Prompts: "+JSON.stringify(kg.aiPrompts)),this.aiPrompts=kg.aiPrompts}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-ai-prompts"]],decls:11,vars:1,consts:[["align","center"],["align","left"],[4,"ngFor","ngForOf"],["align","right"],["routerLink","/Home"],["target","_blank",3,"href"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h4")(2,"b"),Fe(3,"[LLMs]"),he()(),ft(4,"hr"),he(),fe(5,"div",1),An(6,LRe,4,2,"ul",2),he(),ft(7,"hr"),fe(8,"div",3)(9,"a",4),Fe(10,"[Inicio]"),he()()),2&r&&(Ne(6),$e("ngForOf",i.aiPrompts))},dependencies:[Ss,Bl]})}}return n})(),kRe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-stable-releases"]],decls:35,vars:0,consts:[["align","left"],["routerLink","/OcrPhotoCapture"],["routerLink","/Chat"],["routerLink","/Sudoku"],["routerLink","/Hanoi"],["routerLink","/Hanoi3d"],["routerLink","/TicTacToe"],["routerLink","/BouncingBall"],["routerLink","/Tetris"],["routerLink","/MathParsing"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h2"),Fe(2,"[Stable Releases]"),he(),fe(3,"ul")(4,"li")(5,"a",1),Fe(6,"[OCR / COMPUTER VISION]"),he()(),fe(7,"li")(8,"a",2),Fe(9,"[chat]"),he()(),fe(10,"li")(11,"a",3),Fe(12,"[sudoku]"),he()(),fe(13,"li")(14,"a",4),Fe(15,"[hanoi towers - [ALGORITMOS - RECURSION]]"),he()(),fe(16,"li")(17,"a",5),Fe(18,"[Hanoi - 3d]"),he()(),fe(19,"li")(20,"a",6),Fe(21,"[tic tac toe (offline) - [ALGORITMOS - MINMAX]]"),he()(),fe(22,"li")(23,"a",7),Fe(24,"[Boucing Ball]"),he()(),fe(25,"li")(26,"a",8),Fe(27,"[Tetris]"),he()(),fe(28,"li")(29,"a",9),Fe(30,"[Math Parsing]"),he()()()(),ft(31,"hr"),fe(32,"div",10)(33,"a",11),Fe(34,"[Volver al Inicio]"),he()())},dependencies:[Ss]})}}return n})(),SJ=(()=>{class n{constructor(){console.log("cv global variable : "+cv)}detectShapes(t){const r=[];if(cv.getBuildInformation){const i=cv.imread(t),s=new cv.Mat,o=new cv.Mat;cv.cvtColor(i,s,cv.COLOR_RGBA2GRAY,0),cv.Canny(s,o,50,150,3,!1);const a=new cv.MatVector,l=new cv.Mat;cv.findContours(o,a,l,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE);for(let c=0;c<a.size();c++){const u=a.get(c),h=new cv.Mat,d=.04*cv.arcLength(u,!0);cv.approxPolyDP(u,h,d,!0);let f="";if(3===h.rows)f="Tri\xe1ngulo";else if(4===h.rows){const A=cv.boundingRect(h),p=A.width/A.height;f=p>=.95&&p<=1.05?"Cuadrado":"Rect\xe1ngulo"}else h.rows>4&&(f="C\xedrculo");f&&r.push(f)}return i.delete(),s.delete(),o.delete(),a.delete(),l.delete(),r}return r}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const HRe=["video"];function VRe(n,e){if(1&n&&(fe(0,"div"),ft(1,"img",5),he()),2&n){const t=on();Ne(),$e("src",t.imageURL,wo)}}function QRe(n,e){if(1&n&&(fe(0,"li"),Fe(1),he()),2&n){const t=e.$implicit;Ne(),Br(t)}}function zRe(n,e){if(1&n&&(fe(0,"div",6)(1,"h3"),Fe(2,"Detected Shapes:"),he(),fe(3,"ul"),An(4,QRe,2,1,"li",7),he()()),2&n){const t=on();Ne(4),$e("ngForOf",t.detectedShapes)}}let GRe=(()=>{class n{constructor(t,r){this.mcsdService=t,this.shapeDetectionService=r,this.detectedShapes=[],this.imageURL=null,this.videoStyle="width: 150px;height:150px; transform : scaleX(1);"}onFileSelected(t){const r=t.target.files[0];if(r){const i=new FileReader;i.onload=s=>{this.imageURL=s.target.result,this.detectShapes()},i.readAsDataURL(r)}}detectShapes(){const t=new Image;t.onload=()=>{const r=this.shapeDetectionService.detectShapes(t);this.detectedShapes=r;const i=new SpeechSynthesisUtterance(this.detectedShapes.toString());speechSynthesis.speak(i)},t.src=this.imageURL}ngAfterViewInit(){}static{this.\u0275fac=function(r){return new(r||n)(gt(aE),gt(SJ))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-open-cv-shape-recon"]],viewQuery:function(r,i){if(1&r&&Wi(HRe,7),2&r){let s;ar(s=lr())&&(i.videoElement=s.first)}},decls:11,vars:2,consts:[["type","file",3,"change"],[4,"ngIf"],["align","center",4,"ngIf"],["align","right"],["routerLink","/Dev"],["alt","Uploaded Image",2,"max-width","100%","height","auto",3,"src"],["align","center"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(fe(0,"h4"),Fe(1,"[MISCELANEOUS / SHAPE RECOGNITION]"),he(),ft(2,"hr"),fe(3,"div")(4,"input",0),jt("change",function(o){return i.onFileSelected(o)}),he()(),An(5,VRe,2,1,"div",1)(6,zRe,5,1,"div",2),ft(7,"hr"),fe(8,"div",3)(9,"a",4),Fe(10,"[Volver al Menu]"),he()()),2&r&&(Ne(5),$e("ngIf",i.imageURL),Ne(),$e("ngIf",i.detectedShapes.length>0))},dependencies:[Ss,Bl,Ic],styles:["input[type=file][_ngcontent-%COMP%]{margin-bottom:10px}img[_ngcontent-%COMP%]{margin-top:20px}","video[_ngcontent-%COMP%] {\n    \n\n    \n\n    width: 50%;\n    \n\n    height: 50%;\n    transform: scaleX(1);\n  }"]})}}return n})();const qRe=["signature"],jRe=["video"],WRe=["canvas"],$Re=["_sourceList"],KRe=["_engineList"];function XRe(n,e){if(1&n&&ft(0,"img",28),2&n){const t=on();$e("src",t.capturedImage,wo)("hidden",t.capturedImageHidden)}}function YRe(n,e){if(1&n&&(fe(0,"option",29),Fe(1),he()),2&n){const t=e.$implicit;$e("value",t._index)("selected",t._selected),Ne(),Br(t._value)}}function ZRe(n,e){if(1&n&&(fe(0,"option",29),Fe(1),he()),2&n){const t=e.$implicit;$e("value",t._index)("selected",t._selected),Ne(),Br(t._value)}}let JRe=(()=>{class n{constructor(t,r){this.backendService=t,this.shapeDetectionService=r,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[ORIGEN CAPTURA]",this.titleEngineList="[ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=0,this.selectedIndexEngines=0,this.detectedShapes=[]}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera()}ngAfterViewInit(){this.__sourceList=new Array,this.__sourceList.push(new Yd(0,"(SELECCIONE OPCION..)",!1)),this.__sourceList.push(new Yd(1,"(DESDE CANVAS)",!0)),this.__sourceList.push(new Yd(2,"(DESDE CAMARA)",!1)),this.__engineList=new Array,this.__engineList.push(new Yd(0,"(SELECCIONE OPCION..)",!1)),this.__engineList.push(new Yd(1,"(CV / OPENCV - javascript)",!0))}ngOnDestroy(){this.stopCamera()}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status="",console.log(`Selected Source : ${this.selectedIndex}`)}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex}onBeginSign(){}onEndSign(){}saveSignature(){1===(console.log("Saving signature..."),this.selectionChangeEngines(),this.selectedIndexEngines)?this.detectShapes(this.signature?.toDataURL()):this.status="Favor seleccione la opci\xf3n [ENGINE]"}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}startCamera(){var t=this;return(0,_t.A)(function*(){try{t.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:t.isFrontCamera?"user":"environment"}}),t.videoStream&&(t.videoElement.nativeElement.srcObject=t.videoStream)}catch(r){console.error("Error accessing the camera:",r)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(t=>t.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const t=this.videoElement.nativeElement,r=this.canvas.nativeElement,i=r.getContext("2d");i&&(r.width=t.videoWidth/4,r.height=t.videoHeight/4,console.log("width: "+r.width+" height: "+r.height),i.drawImage(t,0,0,r.width,r.height),this.capturedImage=r.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){1===(this.selectionChangeEngines(),this.selectedIndexEngines)?this.capturedImage&&(this.detectShapes(this.capturedImage),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1):this.status="Favor seleccione la opci\xf3n [ENGINE]"}dataURLToBlob(t){const r=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return new Blob([s],{type:i})}flipCamera(){var t=this;return(0,_t.A)(function*(){console.log("flippling camera"),t.isFrontCamera=!t.isFrontCamera,t.stopCamera(),yield t.startCamera()})()}detectShapes(t){const r=new Image;r.onload=()=>{const i=this.shapeDetectionService.detectShapes(r);console.log("Detected Shapes "+i),this.detectedShapes=i,this.status=this.detectedShapes.toString();const s=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(s)},r.src=t}static{this.\u0275fac=function(r){return new(r||n)(gt(aE),gt(SJ))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-shape-recon-canvas"]],viewQuery:function(r,i){if(1&r&&(Wi(qRe,5),Wi(jRe,7),Wi(WRe,5),Wi($Re,5),Wi(KRe,5)),2&r){let s;ar(s=lr())&&(i.signature=s.first),ar(s=lr())&&(i.videoElement=s.first),ar(s=lr())&&(i.canvas=s.first),ar(s=lr())&&(i._sourceList=s.first),ar(s=lr())&&(i._engineList=s.first)}},decls:53,vars:18,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[3,"click","disabled"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],["routerLink","/Dev"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(r,i){if(1&r){const s=Rs();fe(0,"div",5)(1,"h1"),Fe(2,"[MISCELANEOUS - CV]"),he(),fe(3,"div",6),ft(4,"hr"),fe(5,"ngx-signature-pad",7,0),jt("beginSign",function(){return Vn(s),qn(i.onBeginSign())})("endSign",function(){return Vn(s),qn(i.onEndSign())}),he(),ft(7,"hr"),fe(8,"input",8),jt("click",function(){return Vn(s),qn(i.saveSignature())}),he(),Fe(9," | "),fe(10,"button",9),jt("click",function(){return Vn(s),qn(i.clearSignature())}),Fe(11,"Clear Signature"),he(),ft(12,"br"),he(),fe(13,"div",10),ft(14,"hr"),fe(15,"div",11),ft(16,"video",12,1)(18,"canvas",13,2),he(),An(20,XRe,1,2,"img",14),ft(21,"hr"),fe(22,"button",15),jt("click",function(){return Vn(s),qn(i.capturePhoto())}),Fe(23),he(),Fe(24," | "),fe(25,"button",15),jt("click",function(){return Vn(s),qn(i.saveImage())}),Fe(26),he(),Fe(27," | "),fe(28,"button",9),jt("click",function(){return Vn(s),qn(i.flipCamera())}),Fe(29,"Flip Camera"),he()(),ft(30,"hr"),fe(31,"span",16),Fe(32),he(),ft(33,"hr"),fe(34,"div",17)(35,"label",18)(36,"span",19),Fe(37),he()(),Fe(38," \xa0"),fe(39,"select",20,3),jt("change",function(){return Vn(s),qn(i.selectionChange())}),An(41,YRe,2,3,"option",21),he()(),fe(42,"div",22)(43,"label",23)(44,"span",24),Fe(45),he()(),Fe(46," \xa0"),fe(47,"select",25,4),jt("change",function(){return Vn(s),qn(i.selectionChangeEngines())}),An(49,ZRe,2,3,"option",21),he()(),fe(50,"div",26)(51,"a",27),Fe(52,"[Volver al Menu]"),he()()()}2&r&&(Ne(3),$e("hidden",i.hiddenCanvasContainer),Ne(2),$e("options",i.options),Ne(3),Rv("value",i.statusButton),$e("disabled","..parsing.."==i.statusButton),Ne(5),$e("hidden",i.hiddenCameraContainer),Ne(2),$e("hidden",i.cameraContainerHidden),Ne(),Fh(i.videoStyle),Ne(4),$e("ngIf",i.capturedImage),Ne(2),$e("disabled",i.captureButtonDisabled),Ne(),Br(i.captureButtonStatus),Ne(2),$e("disabled",i.saveImageButtonDisabled),Ne(),Br(i.statusButtonSaveImage),Ne(6),Br(i.status),Ne(5),Br(i.tituloListadOrigen),Ne(4),$e("ngForOf",i.__sourceList),Ne(4),Br(i.titleEngineList),Ne(4),$e("ngForOf",i.__engineList))},dependencies:[Ss,Bl,Ic,Vv,Qv,n4],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})(),U4=(()=>{class n{constructor(t){this.router=t}reloadPage(){window.location.reload()}reloadCurrentRoute(){var t=this;return(0,_t.A)(function*(){const r=t.router.url;return yield t.router.navigateByUrl("/",{skipLocationChange:!0}),t.router.navigateByUrl(r)})()}reloadWithQueryParamsRefresh(){const t=window.location.href;window.location.href=t}static{this.\u0275fac=function(r){return new(r||n)(Wt(Rc))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const eOe=["ballCanvas"];let tOe=(()=>{class n{constructor(t){this.pageRestartService=t,this.ball={x:100,y:100,vx:5,vy:0,radius:15,mass:1},this.gravity=.5,this.friction=.98,this.restitution=.8,this.animate=()=>{this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),this.ball.vy+=this.gravity,this.ball.x+=this.ball.vx,this.ball.y+=this.ball.vy,(this.ball.x+this.ball.radius>this.canvas.nativeElement.width||this.ball.x-this.ball.radius<0)&&(this.ball.vx=-this.ball.vx*this.restitution),this.ball.y+this.ball.radius>this.canvas.nativeElement.height&&(this.ball.y=this.canvas.nativeElement.height-this.ball.radius,this.ball.vy=-this.ball.vy*this.restitution,this.ball.vx*=this.friction),this.ctx.beginPath(),this.ctx.arc(this.ball.x,this.ball.y,this.ball.radius,0,2*Math.PI),this.ctx.fillStyle="red",this.ctx.fill(),this.ctx.closePath(),Math.abs(this.ball.vx)<.1&&Math.abs(this.ball.vy)<.1?(this.ball.vx=0,this.ball.vy=0):requestAnimationFrame(this.animate)}}restart(){this.pageRestartService.reloadPage()}ngAfterViewInit(){this.animate()}static{this.\u0275fac=function(r){return new(r||n)(gt(U4))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-bouncing-ball"]],viewQuery:function(r,i){if(1&r&&Wi(eOe,5),2&r){let s;ar(s=lr())&&(i.canvas=s.first)}},decls:13,vars:0,consts:[["ballCanvas",""],["align","center"],["width","300","height","300"],[3,"click"],["align","right"],["routerLink","/StableReleases"]],template:function(r,i){if(1&r){const s=Rs();fe(0,"div",1)(1,"h1"),Fe(2,"[BOUCING BALL DEMO]"),he(),ft(3,"hr")(4,"canvas",2,0)(6,"hr"),fe(7,"button",3),jt("click",function(){return Vn(s),qn(i.restart())}),Fe(8,"[RESTART]"),he(),ft(9,"hr"),fe(10,"div",4)(11,"a",5),Fe(12,"[Volver al Menu]"),he()()()}},dependencies:[Ss],styles:["canvas[_ngcontent-%COMP%]{border:1px solid #d3d3d3}"]})}}return n})();const MJ=1,iOe=2,ep=3,VB=0,COe=1,xOe=2,Xg=0,EOe=1,SOe=2,DOe=3,MOe=4,TOe=5,BOe=6,NOe=7,Yg=301,h0=302,SE=306,Yf=1001,oc=1003,hl=1006,np=1008,rp=1009,RJ=1010,OJ=1011,ME=1012,X4=1013,Zg=1014,ih=1015,TE=1016,Y4=1017,Z4=1018,x1=1020,PJ=35902,LJ=1021,UJ=1022,vu=1023,kJ=1024,HJ=1025,E1=1026,S1=1027,J4=1028,WB=1029,VJ=1030,ek=1031,tk=1033,$B=33776,KB=33777,XB=33778,YB=33779,nk=35840,rk=35841,ik=35842,sk=35843,ok=36196,ak=37492,lk=37496,ck=37808,uk=37809,hk=37810,fk=37811,dk=37812,Ak=37813,pk=37814,gk=37815,mk=37816,vk=37817,yk=37818,_k=37819,bk=37820,wk=37821,ZB=36492,Ck=36494,xk=36495,QJ=36283,Ek=36284,Sk=36285,Dk=36286,sh="srgb",T1="srgb-linear",tN="linear",qs="srgb",B1=7680,jJ="300 es",ip=2e3;class sp{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const i=this._listeners[e];if(void 0!==i){const s=i.indexOf(t);-1!==s&&i.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const r=this._listeners[e.type];if(void 0!==r){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const ac=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],d0=Math.PI/180,N1=180/Math.PI;function oh(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(ac[255&n]+ac[n>>8&255]+ac[n>>16&255]+ac[n>>24&255]+"-"+ac[255&e]+ac[e>>8&255]+"-"+ac[e>>16&15|64]+ac[e>>24&255]+"-"+ac[63&t|128]+ac[t>>8&255]+"-"+ac[t>>16&255]+ac[t>>24&255]+ac[255&r]+ac[r>>8&255]+ac[r>>16&255]+ac[r>>24&255]).toLowerCase()}function Gr(n,e,t){return Math.max(e,Math.min(t,n))}function BE(n,e,t){return(1-t)*n+t*e}function Lc(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ei(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const lPe_DEG2RAD=d0;class Ut{constructor(e=0,t=0){Ut.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Gr(this.x,e.x,t.x),this.y=Gr(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Gr(this.x,e,t),this.y=Gr(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Gr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Gr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ti{constructor(e,t,r,i,s,o,a,l,c){ti.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,r,i,s,o,a,l,c)}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],h=r[7],d=r[2],f=r[5],A=r[8],p=i[0],m=i[3],g=i[6],y=i[1],v=i[4],_=i[7],C=i[2],b=i[5],M=i[8];return s[0]=o*p+a*y+l*C,s[3]=o*m+a*v+l*b,s[6]=o*g+a*_+l*M,s[1]=c*p+u*y+h*C,s[4]=c*m+u*v+h*b,s[7]=c*g+u*_+h*M,s[2]=d*p+f*y+A*C,s[5]=d*m+f*v+A*b,s[8]=d*g+f*_+A*M,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,d=a*l-u*s,f=c*s-o*l,A=t*h+r*d+i*f;if(0===A)return this.set(0,0,0,0,0,0,0,0,0);const p=1/A;return e[0]=h*p,e[1]=(i*c-u*r)*p,e[2]=(a*r-i*o)*p,e[3]=d*p,e[4]=(u*t-i*l)*p,e[5]=(i*s-a*t)*p,e[6]=f*p,e[7]=(r*l-c*t)*p,e[8]=(o*t-r*s)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Ik.makeScale(e,t)),this}rotate(e){return this.premultiply(Ik.makeRotation(-e)),this}translate(e,t){return this.premultiply(Ik.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Ik=new ti;function $J(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function NE(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function uPe(){const n=NE("canvas");return n.style.display="block",n}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const KJ={};function F1(n){n in KJ||(KJ[n]=!0,console.warn(n))}const XJ=(new ti).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),YJ=(new ti).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function APe(){const n={enabled:!0,workingColorSpace:T1,spaces:{},convert:function(i,s,o){return!1===this.enabled||s===o||!s||!o||(this.spaces[s].transfer===qs&&(i.r=op(i.r),i.g=op(i.g),i.b=op(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===qs&&(i.r=R1(i.r),i.g=R1(i.g),i.b=R1(i.b))),i},fromWorkingColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},toWorkingColorSpace:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return""===i?tN:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[T1]:{primaries:e,whitePoint:r,transfer:tN,toXYZ:XJ,fromXYZ:YJ,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:sh},outputColorSpaceConfig:{drawingBufferColorSpace:sh}},[sh]:{primaries:e,whitePoint:r,transfer:qs,toXYZ:XJ,fromXYZ:YJ,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:sh}}}),n}const ss=APe();function op(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function R1(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}let O1;class pPe{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===O1&&(O1=NE("canvas")),O1.width=e.width,O1.height=e.height;const r=O1.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=O1}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=NE("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=255*op(s[o]/255);return r.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t[r]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*op(t[r]/255)):op(t[r]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let gPe=0;class P1{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:gPe++}),this.uuid=oh(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(null!==i){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)s.push(Fk(i[o].isDataTexture?i[o].image:i[o]))}else s=Fk(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function Fk(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?pPe.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let mPe=0,yu=(()=>{class n extends sp{constructor(t=n.DEFAULT_IMAGE,r=n.DEFAULT_MAPPING,i=Yf,s=Yf,o=hl,a=np,l=vu,c=rp,u=n.DEFAULT_ANISOTROPY,h=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:mPe++}),this.uuid=oh(),this.name="",this.source=new P1(t),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Ut(0,0),this.repeat=new Ut(1,1),this.center=new Ut(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ti,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const r=void 0===t||"string"==typeof t;if(!r&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),r||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case Yf:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case Yf:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class hs{constructor(e=0,t=0,r=0,i=1){hs.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],h=l[8],d=l[1],f=l[5],A=l[9],p=l[2],m=l[6],g=l[10];if(Math.abs(u-d)<.01&&Math.abs(h-p)<.01&&Math.abs(A-m)<.01){if(Math.abs(u+d)<.1&&Math.abs(h+p)<.1&&Math.abs(A+m)<.1&&Math.abs(c+f+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const v=(c+1)/2,_=(f+1)/2,C=(g+1)/2,b=(u+d)/4,M=(h+p)/4,D=(A+m)/4;return v>_&&v>C?v<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(v),i=b/r,s=M/r):_>C?_<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(_),r=b/i,s=D/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=M/s,i=D/s),this.set(r,i,s,t),this}let y=Math.sqrt((m-A)*(m-A)+(h-p)*(h-p)+(d-u)*(d-u));return Math.abs(y)<.001&&(y=1),this.x=(m-A)/y,this.y=(h-p)/y,this.z=(d-u)/y,this.w=Math.acos((c+f+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Gr(this.x,e.x,t.x),this.y=Gr(this.y,e.y,t.y),this.z=Gr(this.z,e.z,t.z),this.w=Gr(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Gr(this.x,e,t),this.y=Gr(this.y,e,t),this.z=Gr(this.z,e,t),this.w=Gr(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Gr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class vPe extends sp{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new hs(0,0,e,t),this.scissorTest=!1,this.viewport=new hs(0,0,e,t);const i={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:hl,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new yu(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new P1(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class eA extends vPe{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class Rk extends yu{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=oc,this.minFilter=oc,this.wrapR=Yf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ZJ extends yu{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=oc,this.minFilter=oc,this.wrapR=Yf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Uc{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],h=r[i+3];const d=s[o+0],f=s[o+1],A=s[o+2],p=s[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=h);if(1===a)return e[t+0]=d,e[t+1]=f,e[t+2]=A,void(e[t+3]=p);if(h!==p||l!==d||c!==f||u!==A){let m=1-a;const g=l*d+c*f+u*A+h*p,y=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){const C=Math.sqrt(v),b=Math.atan2(C,g*y);m=Math.sin(m*b)/C,a=Math.sin(a*b)/C}const _=a*y;if(l=l*m+d*_,c=c*m+f*_,u=u*m+A*_,h=h*m+p*_,m===1-a){const C=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=C,c*=C,u*=C,h*=C}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],h=s[o],d=s[o+1],f=s[o+2],A=s[o+3];return e[t]=a*A+u*h+l*f-c*d,e[t+1]=l*A+u*d+c*h-a*f,e[t+2]=c*A+u*f+a*d-l*h,e[t+3]=u*A-a*h-l*d-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),h=a(s/2),d=l(r/2),f=l(i/2),A=l(s/2);switch(o){case"XYZ":this._x=d*u*h+c*f*A,this._y=c*f*h-d*u*A,this._z=c*u*A+d*f*h,this._w=c*u*h-d*f*A;break;case"YXZ":this._x=d*u*h+c*f*A,this._y=c*f*h-d*u*A,this._z=c*u*A-d*f*h,this._w=c*u*h+d*f*A;break;case"ZXY":this._x=d*u*h-c*f*A,this._y=c*f*h+d*u*A,this._z=c*u*A+d*f*h,this._w=c*u*h-d*f*A;break;case"ZYX":this._x=d*u*h-c*f*A,this._y=c*f*h+d*u*A,this._z=c*u*A-d*f*h,this._w=c*u*h+d*f*A;break;case"YZX":this._x=d*u*h+c*f*A,this._y=c*f*h+d*u*A,this._z=c*u*A-d*f*h,this._w=c*u*h-d*f*A;break;case"XZY":this._x=d*u*h-c*f*A,this._y=c*f*h-d*u*A,this._z=c*u*A+d*f*h,this._w=c*u*h+d*f*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],d=r+a+h;if(d>0){const f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(u-l)*f,this._y=(s-c)*f,this._z=(o-i)*f}else if(r>a&&r>h){const f=2*Math.sqrt(1+r-a-h);this._w=(u-l)/f,this._x=.25*f,this._y=(i+o)/f,this._z=(s+c)/f}else if(a>h){const f=2*Math.sqrt(1+a-r-h);this._w=(s-c)/f,this._x=(i+o)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+h-r-a);this._w=(o-i)/f,this._x=(s+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Gr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-t;return this._w=f*o+t*this._w,this._x=f*r+t*this._x,this._y=f*i+t*this._y,this._z=f*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=o*h+this._w*d,this._x=r*h+this._x*d,this._y=i*h+this._y*d,this._z=s*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Re{constructor(e=0,t=0,r=0){Re.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(JJ.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(JJ.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*t-s*i),h=2*(s*r-o*t);return this.x=t+l*c+o*h-a*u,this.y=r+l*u+a*c-s*h,this.z=i+l*h+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Gr(this.x,e.x,t.x),this.y=Gr(this.y,e.y,t.y),this.z=Gr(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Gr(this.x,e,t),this.y=Gr(this.y,e,t),this.z=Gr(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Gr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Ok.copy(this).projectOnVector(e),this.sub(Ok)}reflect(e){return this.sub(Ok.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Gr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ok=new Re,JJ=new Uc;class _u{constructor(e=new Re(1/0,1/0,1/0),t=new Re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Zf.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Zf.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Zf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(void 0!==r){const s=r.getAttribute("position");if(!0===t&&void 0!==s&&!0!==e.isInstancedMesh)for(let o=0,a=s.count;o<a;o++)!0===e.isMesh?e.getVertexPosition(o,Zf):Zf.fromBufferAttribute(s,o),Zf.applyMatrix4(e.matrixWorld),this.expandByPoint(Zf);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),iN.copy(e.boundingBox)):(null===r.boundingBox&&r.computeBoundingBox(),iN.copy(r.boundingBox)),iN.applyMatrix4(e.matrixWorld),this.union(iN)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Zf),Zf.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(IE),sN.subVectors(this.max,IE),L1.subVectors(e.a,IE),U1.subVectors(e.b,IE),k1.subVectors(e.c,IE),em.subVectors(U1,L1),tm.subVectors(k1,U1),A0.subVectors(L1,k1);let t=[0,-em.z,em.y,0,-tm.z,tm.y,0,-A0.z,A0.y,em.z,0,-em.x,tm.z,0,-tm.x,A0.z,0,-A0.x,-em.y,em.x,0,-tm.y,tm.x,0,-A0.y,A0.x,0];return!(!Pk(t,L1,U1,k1,sN)||(t=[1,0,0,0,1,0,0,0,1],!Pk(t,L1,U1,k1,sN)))&&(oN.crossVectors(em,tm),t=[oN.x,oN.y,oN.z],Pk(t,L1,U1,k1,sN))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Zf).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Zf).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(ap[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ap[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ap[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ap[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ap[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ap[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ap[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ap[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ap)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ap=[new Re,new Re,new Re,new Re,new Re,new Re,new Re,new Re],Zf=new Re,iN=new _u,L1=new Re,U1=new Re,k1=new Re,em=new Re,tm=new Re,A0=new Re,IE=new Re,sN=new Re,oN=new Re,p0=new Re;function Pk(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){p0.fromArray(n,s);const a=i.x*Math.abs(p0.x)+i.y*Math.abs(p0.y)+i.z*Math.abs(p0.z),l=e.dot(p0),c=t.dot(p0),u=r.dot(p0);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const yPe=new _u,FE=new Re,Lk=new Re;class kc{constructor(e=new Re,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;void 0!==t?r.copy(t):yPe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;FE.subVectors(e,this.center);const t=FE.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=.5*(r-this.radius);this.center.addScaledVector(FE,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Lk.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(FE.copy(e.center).add(Lk)),this.expandByPoint(FE.copy(e.center).sub(Lk))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const lp=new Re,Uk=new Re,aN=new Re,nm=new Re,kk=new Re,lN=new Re,Hk=new Re;class H1{constructor(e=new Re,t=new Re(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,lp)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=lp.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(lp.copy(this.origin).addScaledVector(this.direction,t),lp.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Uk.copy(e).add(t).multiplyScalar(.5),aN.copy(t).sub(e).normalize(),nm.copy(this.origin).sub(Uk);const s=.5*e.distanceTo(t),o=-this.direction.dot(aN),a=nm.dot(this.direction),l=-nm.dot(aN),c=nm.lengthSq(),u=Math.abs(1-o*o);let h,d,f,A;if(u>0)if(h=o*l-a,d=o*a-l,A=s*u,h>=0)if(d>=-A)if(d<=A){const p=1/u;h*=p,d*=p,f=h*(h+o*d+2*a)+d*(o*h+d+2*l)+c}else d=s,h=Math.max(0,-(o*d+a)),f=-h*h+d*(d+2*l)+c;else d=-s,h=Math.max(0,-(o*d+a)),f=-h*h+d*(d+2*l)+c;else d<=-A?(h=Math.max(0,-(-o*s+a)),d=h>0?-s:Math.min(Math.max(-s,-l),s),f=-h*h+d*(d+2*l)+c):d<=A?(h=0,d=Math.min(Math.max(-s,-l),s),f=d*(d+2*l)+c):(h=Math.max(0,-(o*s+a)),d=h>0?s:Math.min(Math.max(-s,-l),s),f=-h*h+d*(d+2*l)+c);else d=o>0?-s:s,h=Math.max(0,-(o*d+a)),f=-h*h+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(Uk).addScaledVector(aN,d),f}intersectSphere(e,t){lp.subVectors(e.center,this.origin);const r=lp.dot(this.direction),i=lp.dot(lp)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-d.z)*h,l=(e.max.z-d.z)*h):(a=(e.max.z-d.z)*h,l=(e.min.z-d.z)*h),r>l||a>i)||((a>r||r!=r)&&(r=a),(l<i||i!=i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return null!==this.intersectBox(e,lp)}intersectTriangle(e,t,r,i,s){kk.subVectors(t,e),lN.subVectors(r,e),Hk.crossVectors(kk,lN);let a,o=this.direction.dot(Hk);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}nm.subVectors(this.origin,e);const l=a*this.direction.dot(lN.crossVectors(nm,lN));if(l<0)return null;const c=a*this.direction.dot(kk.cross(nm));if(c<0||l+c>o)return null;const u=-a*nm.dot(Hk);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Nr{constructor(e,t,r,i,s,o,a,l,c,u,h,d,f,A,p,m){Nr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,r,i,s,o,a,l,c,u,h,d,f,A,p,m)}set(e,t,r,i,s,o,a,l,c,u,h,d,f,A,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=h,g[14]=d,g[3]=f,g[7]=A,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Nr).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/V1.setFromMatrixColumn(e,0).length(),s=1/V1.setFromMatrixColumn(e,1).length(),o=1/V1.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if("XYZ"===e.order){const d=o*u,f=o*h,A=a*u,p=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=f+A*c,t[5]=d-p*c,t[9]=-a*l,t[2]=p-d*c,t[6]=A+f*c,t[10]=o*l}else if("YXZ"===e.order){const d=l*u,f=l*h,A=c*u,p=c*h;t[0]=d+p*a,t[4]=A*a-f,t[8]=o*c,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=f*a-A,t[6]=p+d*a,t[10]=o*l}else if("ZXY"===e.order){const d=l*u,f=l*h,A=c*u,p=c*h;t[0]=d-p*a,t[4]=-o*h,t[8]=A+f*a,t[1]=f+A*a,t[5]=o*u,t[9]=p-d*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const d=o*u,f=o*h,A=a*u,p=a*h;t[0]=l*u,t[4]=A*c-f,t[8]=d*c+p,t[1]=l*h,t[5]=p*c+d,t[9]=f*c-A,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const d=o*l,f=o*c,A=a*l,p=a*c;t[0]=l*u,t[4]=p-d*h,t[8]=A*h+f,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=f*h+A,t[10]=d-p*h}else if("XZY"===e.order){const d=o*l,f=o*c,A=a*l,p=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=d*h+p,t[5]=o*u,t[9]=f*h-A,t[2]=A*h-f,t[6]=a*u,t[10]=p*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(_Pe,e,bPe)}lookAt(e,t,r){const i=this.elements;return ah.subVectors(e,t),0===ah.lengthSq()&&(ah.z=1),ah.normalize(),rm.crossVectors(r,ah),0===rm.lengthSq()&&(1===Math.abs(r.z)?ah.x+=1e-4:ah.z+=1e-4,ah.normalize(),rm.crossVectors(r,ah)),rm.normalize(),cN.crossVectors(ah,rm),i[0]=rm.x,i[4]=cN.x,i[8]=ah.x,i[1]=rm.y,i[5]=cN.y,i[9]=ah.y,i[2]=rm.z,i[6]=cN.z,i[10]=ah.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],h=r[5],d=r[9],f=r[13],A=r[2],p=r[6],m=r[10],g=r[14],y=r[3],v=r[7],_=r[11],C=r[15],b=i[0],M=i[4],D=i[8],E=i[12],T=i[1],B=i[5],R=i[9],U=i[13],k=i[2],j=i[6],O=i[10],P=i[14],G=i[3],H=i[7],ae=i[11],ve=i[15];return s[0]=o*b+a*T+l*k+c*G,s[4]=o*M+a*B+l*j+c*H,s[8]=o*D+a*R+l*O+c*ae,s[12]=o*E+a*U+l*P+c*ve,s[1]=u*b+h*T+d*k+f*G,s[5]=u*M+h*B+d*j+f*H,s[9]=u*D+h*R+d*O+f*ae,s[13]=u*E+h*U+d*P+f*ve,s[2]=A*b+p*T+m*k+g*G,s[6]=A*M+p*B+m*j+g*H,s[10]=A*D+p*R+m*O+g*ae,s[14]=A*E+p*U+m*P+g*ve,s[3]=y*b+v*T+_*k+C*G,s[7]=y*M+v*B+_*j+C*H,s[11]=y*D+v*R+_*O+C*ae,s[15]=y*E+v*U+_*P+C*ve,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],d=e[10],f=e[14];return e[3]*(+s*l*h-i*c*h-s*a*d+r*c*d+i*a*f-r*l*f)+e[7]*(+t*l*f-t*c*d+s*o*d-i*o*f+i*c*u-s*l*u)+e[11]*(+t*c*h-t*a*f-s*o*h+r*o*f+s*a*u-r*c*u)+e[15]*(-i*a*u-t*l*h+t*a*d+i*o*h-r*o*d+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],f=e[11],A=e[12],p=e[13],m=e[14],g=e[15],y=h*m*c-p*d*c+p*l*f-a*m*f-h*l*g+a*d*g,v=A*d*c-u*m*c-A*l*f+o*m*f+u*l*g-o*d*g,_=u*p*c-A*h*c+A*a*f-o*p*f-u*a*g+o*h*g,C=A*h*l-u*p*l-A*a*d+o*p*d+u*a*m-o*h*m,b=t*y+r*v+i*_+s*C;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/b;return e[0]=y*M,e[1]=(p*d*s-h*m*s-p*i*f+r*m*f+h*i*g-r*d*g)*M,e[2]=(a*m*s-p*l*s+p*i*c-r*m*c-a*i*g+r*l*g)*M,e[3]=(h*l*s-a*d*s-h*i*c+r*d*c+a*i*f-r*l*f)*M,e[4]=v*M,e[5]=(u*m*s-A*d*s+A*i*f-t*m*f-u*i*g+t*d*g)*M,e[6]=(A*l*s-o*m*s-A*i*c+t*m*c+o*i*g-t*l*g)*M,e[7]=(o*d*s-u*l*s+u*i*c-t*d*c-o*i*f+t*l*f)*M,e[8]=_*M,e[9]=(A*h*s-u*p*s-A*r*f+t*p*f+u*r*g-t*h*g)*M,e[10]=(o*p*s-A*a*s+A*r*c-t*p*c-o*r*g+t*a*g)*M,e[11]=(u*a*s-o*h*s-u*r*c+t*h*c+o*r*f-t*a*f)*M,e[12]=C*M,e[13]=(u*p*i-A*h*i+A*r*d-t*p*d-u*r*m+t*h*m)*M,e[14]=(A*a*i-o*p*i-A*r*l+t*p*l+o*r*m-t*a*m)*M,e[15]=(o*h*i-u*a*i+u*r*l-t*h*l-o*r*d+t*a*d)*M,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,h=a+a,d=s*c,f=s*u,A=s*h,p=o*u,m=o*h,g=a*h,y=l*c,v=l*u,_=l*h,C=r.x,b=r.y,M=r.z;return i[0]=(1-(p+g))*C,i[1]=(f+_)*C,i[2]=(A-v)*C,i[3]=0,i[4]=(f-_)*b,i[5]=(1-(d+g))*b,i[6]=(m+y)*b,i[7]=0,i[8]=(A+v)*M,i[9]=(m-y)*M,i[10]=(1-(d+p))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=V1.set(i[0],i[1],i[2]).length();const o=V1.set(i[4],i[5],i[6]).length(),a=V1.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Jf.copy(this);const c=1/s,u=1/o,h=1/a;return Jf.elements[0]*=c,Jf.elements[1]*=c,Jf.elements[2]*=c,Jf.elements[4]*=u,Jf.elements[5]*=u,Jf.elements[6]*=u,Jf.elements[8]*=h,Jf.elements[9]*=h,Jf.elements[10]*=h,t.setFromRotationMatrix(Jf),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=ip){const l=this.elements,c=2*s/(t-e),u=2*s/(r-i),h=(t+e)/(t-e),d=(r+i)/(r-i);let f,A;if(a===ip)f=-(o+s)/(o-s),A=-2*o*s/(o-s);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);f=-o/(o-s),A=-o*s/(o-s)}return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=A,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=ip){const l=this.elements,c=1/(t-e),u=1/(r-i),h=1/(o-s),d=(t+e)*c,f=(r+i)*u;let A,p;if(a===ip)A=(o+s)*h,p=-2*h;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);A=s*h,p=-1*h}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=p,l[14]=-A,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const V1=new Re,Jf=new Nr,_Pe=new Re(0,0,0),bPe=new Re(1,1,1),rm=new Re,cN=new Re,ah=new Re,eee=new Nr,tee=new Uc;let cp=(()=>{class n{constructor(t=0,r=0,i=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=r,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,i,s=this._order){return this._x=t,this._y=r,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,i=!0){const s=t.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],h=s[9],d=s[2],f=s[6],A=s[10];switch(r){case"XYZ":this._y=Math.asin(Gr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,A),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Gr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(l,A),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Gr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,A),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-Gr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,A),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Gr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(l,A));break;case"XZY":this._z=Math.asin(-Gr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-h,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,r,i){return eee.makeRotationFromQuaternion(t),this.setFromRotationMatrix(eee,r,i)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return tee.setFromEuler(this),this.setFromQuaternion(tee,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class Vk{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return!!(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let wPe=0;const nee=new Re,Q1=new Uc,up=new Nr,uN=new Re,RE=new Re,CPe=new Re,xPe=new Uc,ree=new Re(1,0,0),iee=new Re(0,1,0),see=new Re(0,0,1),oee={type:"added"},EPe={type:"removed"},z1={type:"childadded",child:null},Qk={type:"childremoved",child:null};let vo=(()=>{class n extends sp{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wPe++}),this.uuid=oh(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new Re,r=new cp,i=new Uc,s=new Re(1,1,1);r._onChange(function o(){i.setFromEuler(r,!1)}),i._onChange(function a(){r.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Nr},normalMatrix:{value:new ti}}),this.matrix=new Nr,this.matrixWorld=new Nr,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Vk,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return Q1.setFromAxisAngle(t,r),this.quaternion.multiply(Q1),this}rotateOnWorldAxis(t,r){return Q1.setFromAxisAngle(t,r),this.quaternion.premultiply(Q1),this}rotateX(t){return this.rotateOnAxis(ree,t)}rotateY(t){return this.rotateOnAxis(iee,t)}rotateZ(t){return this.rotateOnAxis(see,t)}translateOnAxis(t,r){return nee.copy(t).applyQuaternion(this.quaternion),this.position.add(nee.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(ree,t)}translateY(t){return this.translateOnAxis(iee,t)}translateZ(t){return this.translateOnAxis(see,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(up.copy(this.matrixWorld).invert())}lookAt(t,r,i){t.isVector3?uN.copy(t):uN.set(t,r,i);const s=this.parent;this.updateWorldMatrix(!0,!1),RE.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?up.lookAt(RE,uN,this.up):up.lookAt(uN,RE,this.up),this.quaternion.setFromRotationMatrix(up),s&&(up.extractRotation(s.matrixWorld),Q1.setFromRotationMatrix(up),this.quaternion.premultiply(Q1.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(oee),z1.child=t,this.dispatchEvent(z1),z1.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const r=this.children.indexOf(t);return-1!==r&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(EPe),Qk.child=t,this.dispatchEvent(Qk),Qk.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),up.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),up.multiply(t.parent.matrixWorld)),t.applyMatrix4(up),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(oee),z1.child=t,this.dispatchEvent(z1),z1.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectByProperty(t,r);if(void 0!==a)return a}}getObjectsByProperty(t,r,i=[]){this[t]===r&&i.push(this);const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].getObjectsByProperty(t,r,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(RE,t,CPe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(RE,xPe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].traverseVisible(t)}traverseAncestors(t){const r=this.parent;null!==r&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].updateMatrixWorld(t)}updateWorldMatrix(t,r){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===r){const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].updateWorldMatrix(!1,!0)}}toJSON(t){const r=void 0===t||"string"==typeof t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(t),null!==this._colorsTexture&&(s.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),null!==this.boundingBox&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,h=c.length;u<h;u++)o(t.shapes,c[u]);else o(t.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(t.materials,this.material[c]));s.material=l}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(o(t.animations,this.animations[l]))}if(r){const l=a(t.geometries),c=a(t.materials),u=a(t.textures),h=a(t.images),d=a(t.shapes),f=a(t.skeletons),A=a(t.animations),p=a(t.nodes);l.length>0&&(i.geometries=l),c.length>0&&(i.materials=c),u.length>0&&(i.textures=u),h.length>0&&(i.images=h),d.length>0&&(i.shapes=d),f.length>0&&(i.skeletons=f),A.length>0&&(i.animations=A),p.length>0&&(i.nodes=p)}return i.object=s,i;function a(l){const c=[];for(const u in l){const h=l[u];delete h.metadata,c.push(h)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===r)for(let i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}}return n.DEFAULT_UP=new Re(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const ed=new Re,hp=new Re,zk=new Re,fp=new Re,G1=new Re,q1=new Re,aee=new Re,Gk=new Re,qk=new Re,jk=new Re,Wk=new hs,$k=new hs,Kk=new hs;class lh{constructor(e=new Re,t=new Re,r=new Re){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),ed.subVectors(e,t),i.cross(ed);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){ed.subVectors(i,t),hp.subVectors(r,t),zk.subVectors(e,t);const o=ed.dot(ed),a=ed.dot(hp),l=ed.dot(zk),c=hp.dot(hp),u=hp.dot(zk),h=o*c-a*a;if(0===h)return s.set(0,0,0),null;const d=1/h,f=(c*l-a*u)*d,A=(o*u-a*l)*d;return s.set(1-f-A,A,f)}static containsPoint(e,t,r,i){return null!==this.getBarycoord(e,t,r,i,fp)&&fp.x>=0&&fp.y>=0&&fp.x+fp.y<=1}static getInterpolation(e,t,r,i,s,o,a,l){return null===this.getBarycoord(e,t,r,i,fp)?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,fp.x),l.addScaledVector(o,fp.y),l.addScaledVector(a,fp.z),l)}static getInterpolatedAttribute(e,t,r,i,s,o){return Wk.setScalar(0),$k.setScalar(0),Kk.setScalar(0),Wk.fromBufferAttribute(e,t),$k.fromBufferAttribute(e,r),Kk.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(Wk,s.x),o.addScaledVector($k,s.y),o.addScaledVector(Kk,s.z),o}static isFrontFacing(e,t,r,i){return ed.subVectors(r,t),hp.subVectors(e,t),ed.cross(hp).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ed.subVectors(this.c,this.b),hp.subVectors(this.a,this.b),.5*ed.cross(hp).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return lh.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return lh.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return lh.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return lh.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return lh.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;G1.subVectors(i,r),q1.subVectors(s,r),Gk.subVectors(e,r);const l=G1.dot(Gk),c=q1.dot(Gk);if(l<=0&&c<=0)return t.copy(r);qk.subVectors(e,i);const u=G1.dot(qk),h=q1.dot(qk);if(u>=0&&h<=u)return t.copy(i);const d=l*h-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(G1,o);jk.subVectors(e,s);const f=G1.dot(jk),A=q1.dot(jk);if(A>=0&&f<=A)return t.copy(s);const p=f*c-l*A;if(p<=0&&c>=0&&A<=0)return a=c/(c-A),t.copy(r).addScaledVector(q1,a);const m=u*A-f*h;if(m<=0&&h-u>=0&&f-A>=0)return aee.subVectors(s,i),a=(h-u)/(h-u+(f-A)),t.copy(i).addScaledVector(aee,a);const g=1/(m+p+d);return o=p*g,a=d*g,t.copy(r).addScaledVector(G1,o).addScaledVector(q1,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const lee={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},im={h:0,s:0,l:0},hN={h:0,s:0,l:0};function Xk(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Ln{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(void 0===t&&void 0===r){const i=e;i&&i.isColor?this.copy(i):"number"==typeof i?this.setHex(i):"string"==typeof i&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=sh){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ss.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=ss.workingColorSpace){return this.r=e,this.g=t,this.b=r,ss.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=ss.workingColorSpace){if(e=function Nk(n,e){return(n%e+e)%e}(e,1),t=Gr(t,0,1),r=Gr(r,0,1),0===t)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=Xk(o,s,e+1/3),this.g=Xk(o,s,e),this.b=Xk(o,s,e-1/3)}return ss.toWorkingColorSpace(this,i),this}setStyle(e,t=sh){function r(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[2];switch(i[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=sh){const r=lee[e.toLowerCase()];return void 0!==r?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=op(e.r),this.g=op(e.g),this.b=op(e.b),this}copyLinearToSRGB(e){return this.r=R1(e.r),this.g=R1(e.g),this.b=R1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=sh){return ss.fromWorkingColorSpace(lc.copy(this),e),65536*Math.round(Gr(255*lc.r,0,255))+256*Math.round(Gr(255*lc.g,0,255))+Math.round(Gr(255*lc.b,0,255))}getHexString(e=sh){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ss.workingColorSpace){ss.fromWorkingColorSpace(lc.copy(this),t);const r=lc.r,i=lc.g,s=lc.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=ss.workingColorSpace){return ss.fromWorkingColorSpace(lc.copy(this),t),e.r=lc.r,e.g=lc.g,e.b=lc.b,e}getStyle(e=sh){ss.fromWorkingColorSpace(lc.copy(this),e);const t=lc.r,r=lc.g,i=lc.b;return e!==sh?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*r)},${Math.round(255*i)})`}offsetHSL(e,t,r){return this.getHSL(im),this.setHSL(im.h+e,im.s+t,im.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(im),e.getHSL(hN);const r=BE(im.h,hN.h,t),i=BE(im.s,hN.s,t),s=BE(im.l,hN.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const lc=new Ln;Ln.NAMES=lee;let SPe=0;class Hc extends sp{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:SPe++}),this.uuid=oh(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ln(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=B1,this.stencilZFail=B1,this.stencilZPass=B1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(r.dispersion=this.dispersion),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(r.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapRotation&&(r.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),!0===this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=!0),204!==this.blendSrc&&(r.blendSrc=this.blendSrc),205!==this.blendDst&&(r.blendDst=this.blendDst),100!==this.blendEquation&&(r.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(r.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(r.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(r.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(r.depthFunc=this.depthFunc),!1===this.depthTest&&(r.depthTest=this.depthTest),!1===this.depthWrite&&(r.depthWrite=this.depthWrite),!1===this.colorWrite&&(r.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(r.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(r.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(r.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==B1&&(r.stencilFail=this.stencilFail),this.stencilZFail!==B1&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==B1&&(r.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(r.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaHash&&(r.alphaHash=!0),!0===this.alphaToCoverage&&(r.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=!0),!0===this.forceSinglePass&&(r.forceSinglePass=!0),!0===this.wireframe&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData),t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class dp extends Hc{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ln(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cp,this.combine=VB,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ta=new Re,fN=new Ut;class no{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=r,this.usage=35044,this.updateRanges=[],this.gpuType=ih,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)fN.fromBufferAttribute(this,t),fN.applyMatrix3(e),this.setXY(t,fN.x,fN.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)Ta.fromBufferAttribute(this,t),Ta.applyMatrix3(e),this.setXYZ(t,Ta.x,Ta.y,Ta.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ta.fromBufferAttribute(this,t),Ta.applyMatrix4(e),this.setXYZ(t,Ta.x,Ta.y,Ta.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ta.fromBufferAttribute(this,t),Ta.applyNormalMatrix(e),this.setXYZ(t,Ta.x,Ta.y,Ta.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ta.fromBufferAttribute(this,t),Ta.transformDirection(e),this.setXYZ(t,Ta.x,Ta.y,Ta.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Lc(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=ei(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Lc(t,this.array)),t}setX(e,t){return this.normalized&&(t=ei(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Lc(t,this.array)),t}setY(e,t){return this.normalized&&(t=ei(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Lc(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ei(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Lc(t,this.array)),t}setW(e,t){return this.normalized&&(t=ei(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=ei(t,this.array),r=ei(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=ei(t,this.array),r=ei(r,this.array),i=ei(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=ei(t,this.array),r=ei(r,this.array),i=ei(i,this.array),s=ei(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class cee extends no{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class uee extends no{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Yn extends no{constructor(e,t,r){super(new Float32Array(e),t,r)}}let MPe=0;const Gh=new Nr,Yk=new vo,j1=new Re,ch=new _u,PE=new _u,fl=new Re;class Ai extends sp{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:MPe++}),this.uuid=oh(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new($J(e)?uee:cee)(e,1):e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const s=(new ti).getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Gh.makeRotationFromQuaternion(e),this.applyMatrix4(Gh),this}rotateX(e){return Gh.makeRotationX(e),this.applyMatrix4(Gh),this}rotateY(e){return Gh.makeRotationY(e),this.applyMatrix4(Gh),this}rotateZ(e){return Gh.makeRotationZ(e),this.applyMatrix4(Gh),this}translate(e,t,r){return Gh.makeTranslation(e,t,r),this.applyMatrix4(Gh),this}scale(e,t,r){return Gh.makeScale(e,t,r),this.applyMatrix4(Gh),this}lookAt(e){return Yk.lookAt(e),Yk.updateMatrix(),this.applyMatrix4(Yk.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(j1).negate(),this.translate(j1.x,j1.y,j1.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Yn(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new _u);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Re(-1/0,-1/0,-1/0),new Re(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++)ch.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(fl.addVectors(this.boundingBox.min,ch.min),this.boundingBox.expandByPoint(fl),fl.addVectors(this.boundingBox.max,ch.max),this.boundingBox.expandByPoint(fl)):(this.boundingBox.expandByPoint(ch.min),this.boundingBox.expandByPoint(ch.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new kc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Re,1/0);if(e){const r=this.boundingSphere.center;if(ch.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)PE.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(fl.addVectors(ch.min,PE.min),ch.expandByPoint(fl),fl.addVectors(ch.max,PE.max),ch.expandByPoint(fl)):(ch.expandByPoint(PE.min),ch.expandByPoint(PE.max));ch.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)fl.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(fl));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)fl.fromBufferAttribute(a,c),l&&(j1.fromBufferAttribute(e,c),fl.add(j1)),i=Math.max(i,r.distanceToSquared(fl))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=t.position,i=t.normal,s=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new no(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let D=0;D<r.count;D++)a[D]=new Re,l[D]=new Re;const c=new Re,u=new Re,h=new Re,d=new Ut,f=new Ut,A=new Ut,p=new Re,m=new Re;function g(D,E,T){c.fromBufferAttribute(r,D),u.fromBufferAttribute(r,E),h.fromBufferAttribute(r,T),d.fromBufferAttribute(s,D),f.fromBufferAttribute(s,E),A.fromBufferAttribute(s,T),u.sub(c),h.sub(c),f.sub(d),A.sub(d);const B=1/(f.x*A.y-A.x*f.y);isFinite(B)&&(p.copy(u).multiplyScalar(A.y).addScaledVector(h,-f.y).multiplyScalar(B),m.copy(h).multiplyScalar(f.x).addScaledVector(u,-A.x).multiplyScalar(B),a[D].add(p),a[E].add(p),a[T].add(p),l[D].add(m),l[E].add(m),l[T].add(m))}let y=this.groups;0===y.length&&(y=[{start:0,count:e.count}]);for(let D=0,E=y.length;D<E;++D){const T=y[D],B=T.start;for(let U=B,k=B+T.count;U<k;U+=3)g(e.getX(U+0),e.getX(U+1),e.getX(U+2))}const v=new Re,_=new Re,C=new Re,b=new Re;function M(D){C.fromBufferAttribute(i,D),b.copy(C);const E=a[D];v.copy(E),v.sub(C.multiplyScalar(C.dot(E))).normalize(),_.crossVectors(b,E);const B=_.dot(l[D])<0?-1:1;o.setXYZW(D,v.x,v.y,v.z,B)}for(let D=0,E=y.length;D<E;++D){const T=y[D],B=T.start;for(let U=B,k=B+T.count;U<k;U+=3)M(e.getX(U+0)),M(e.getX(U+1)),M(e.getX(U+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new no(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let d=0,f=r.count;d<f;d++)r.setXYZ(d,0,0,0);const i=new Re,s=new Re,o=new Re,a=new Re,l=new Re,c=new Re,u=new Re,h=new Re;if(e)for(let d=0,f=e.count;d<f;d+=3){const A=e.getX(d+0),p=e.getX(d+1),m=e.getX(d+2);i.fromBufferAttribute(t,A),s.fromBufferAttribute(t,p),o.fromBufferAttribute(t,m),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),a.fromBufferAttribute(r,A),l.fromBufferAttribute(r,p),c.fromBufferAttribute(r,m),a.add(u),l.add(u),c.add(u),r.setXYZ(A,a.x,a.y,a.z),r.setXYZ(p,l.x,l.y,l.z),r.setXYZ(m,c.x,c.y,c.z)}else for(let d=0,f=t.count;d<f;d+=3)i.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)fl.fromBufferAttribute(e,t),fl.normalize(),e.setXYZ(t,fl.x,fl.y,fl.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,d=new c.constructor(l.length*u);let f=0,A=0;for(let p=0,m=l.length;p<m;p++){f=a.isInterleavedBufferAttribute?l[p]*a.data.stride+a.offset:l[p]*u;for(let g=0;g<u;g++)d[A++]=c[f++]}return new no(d,u,h)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ai,r=this.index.array,i=this.attributes;for(const a in i){const c=e(i[a],r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const f=e(c[u],r);l.push(f)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r)e.data.attributes[l]=r[l].toJSON(e.data);const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,d=c.length;h<d;h++)u.push(c[h].toJSON(e.data));u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i)this.setAttribute(c,i[c].clone(t));const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let d=0,f=h.length;d<f;d++)u.push(h[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const hee=new Nr,g0=new H1,dN=new kc,fee=new Re,AN=new Re,pN=new Re,gN=new Re,Zk=new Re,mN=new Re,dee=new Re,vN=new Re;class ua extends vo{constructor(e=new Ai,t=new dp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(r.attributes.position,e);const a=this.morphTargetInfluences;if(s&&a){mN.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l];0!==u&&(Zk.fromBufferAttribute(s[l],e),mN.addScaledVector(o?Zk:Zk.sub(t),u))}t.add(mN)}return t}raycast(e,t){const r=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===r.boundingSphere&&r.computeBoundingSphere(),dN.copy(r.boundingSphere),dN.applyMatrix4(s),g0.copy(e.ray).recast(e.near),(!1!==dN.containsPoint(g0.origin)||!(null===g0.intersectSphere(dN,fee)||g0.origin.distanceToSquared(fee)>(e.far-e.near)**2))&&(hee.copy(s).invert(),g0.copy(e.ray).applyMatrix4(hee),(null===r.boundingBox||!1!==g0.intersectsBox(r.boundingBox))&&this._computeIntersections(e,t,g0)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,d=s.groups,f=s.drawRange;if(null!==a)if(Array.isArray(o))for(let A=0,p=d.length;A<p;A++){const m=d[A],g=o[m.materialIndex];for(let _=Math.max(m.start,f.start),C=Math.min(a.count,Math.min(m.start+m.count,f.start+f.count));_<C;_+=3)i=yN(this,g,e,r,c,u,h,a.getX(_),a.getX(_+1),a.getX(_+2)),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=m.materialIndex,t.push(i))}else for(let m=Math.max(0,f.start),g=Math.min(a.count,f.start+f.count);m<g;m+=3)i=yN(this,o,e,r,c,u,h,a.getX(m),a.getX(m+1),a.getX(m+2)),i&&(i.faceIndex=Math.floor(m/3),t.push(i));else if(void 0!==l)if(Array.isArray(o))for(let A=0,p=d.length;A<p;A++){const m=d[A],g=o[m.materialIndex];for(let _=Math.max(m.start,f.start),C=Math.min(l.count,Math.min(m.start+m.count,f.start+f.count));_<C;_+=3)i=yN(this,g,e,r,c,u,h,_,_+1,_+2),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=m.materialIndex,t.push(i))}else for(let m=Math.max(0,f.start),g=Math.min(l.count,f.start+f.count);m<g;m+=3)i=yN(this,o,e,r,c,u,h,m,m+1,m+2),i&&(i.faceIndex=Math.floor(m/3),t.push(i))}}function yN(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,AN),n.getVertexPosition(l,pN),n.getVertexPosition(c,gN);const u=function TPe(n,e,t,r,i,s,o,a){let l;if(l=1===e.side?r.intersectTriangle(o,s,i,!0,a):r.intersectTriangle(i,s,o,0===e.side,a),null===l)return null;vN.copy(a),vN.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(vN);return c<t.near||c>t.far?null:{distance:c,point:vN.clone(),object:n}}(n,e,t,r,AN,pN,gN,dee);if(u){const h=new Re;lh.getBarycoord(dee,AN,pN,gN,h),i&&(u.uv=lh.getInterpolatedAttribute(i,a,l,c,h,new Ut)),s&&(u.uv1=lh.getInterpolatedAttribute(s,a,l,c,h,new Ut)),o&&(u.normal=lh.getInterpolatedAttribute(o,a,l,c,h,new Re),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new Re,materialIndex:0};lh.getNormal(AN,pN,gN,d.normal),u.face=d,u.barycoord=h}return u}class W1 extends Ai{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let d=0,f=0;function A(p,m,g,y,v,_,C,b,M,D,E){const T=_/M,B=C/D,R=_/2,U=C/2,k=b/2,j=M+1,O=D+1;let P=0,G=0;const H=new Re;for(let ae=0;ae<O;ae++){const ve=ae*B-U;for(let Q=0;Q<j;Q++)H[p]=(Q*T-R)*y,H[m]=ve*v,H[g]=k,c.push(H.x,H.y,H.z),H[p]=0,H[m]=0,H[g]=b>0?1:-1,u.push(H.x,H.y,H.z),h.push(Q/M),h.push(1-ae/D),P+=1}for(let ae=0;ae<D;ae++)for(let ve=0;ve<M;ve++){const q=d+ve+j*(ae+1),K=d+(ve+1)+j*(ae+1),oe=d+(ve+1)+j*ae;l.push(d+ve+j*ae,q,oe),l.push(q,K,oe),G+=6}a.addGroup(f,G,E),f+=G,d+=P}A("z","y","x",-1,-1,r,t,e,o,s,0),A("z","y","x",1,-1,r,t,-e,o,s,1),A("x","z","y",1,1,e,r,t,i,o,2),A("x","z","y",1,-1,e,r,-t,i,o,3),A("x","y","z",1,-1,e,t,r,i,s,4),A("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Yn(c,3)),this.setAttribute("normal",new Yn(u,3)),this.setAttribute("uv",new Yn(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W1(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function $1(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():e[t][r]=Array.isArray(i)?i.slice():i}}return e}function Vc(n){const e={};for(let t=0;t<n.length;t++){const r=$1(n[t]);for(const i in r)e[i]=r[i]}return e}function Aee(n){const e=n.getRenderTarget();return null===e?n.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:ss.workingColorSpace}const NPe={clone:$1,merge:Vc};class tA extends Hc{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=$1(e.uniforms),this.uniformsGroups=function BPe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;t.uniforms[i]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)!0===this.extensions[i]&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Jk extends vo{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Nr,this.projectionMatrix=new Nr,this.projectionMatrixInverse=new Nr,this.coordinateSystem=ip}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const sm=new Re,pee=new Ut,gee=new Ut;class Ol extends Jk{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*N1*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*d0*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*N1*Math.atan(Math.tan(.5*d0*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){sm.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(sm.x,sm.y).multiplyScalar(-e/sm.z),sm.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(sm.x,sm.y).multiplyScalar(-e/sm.z)}getViewSize(e,t){return this.getViewBounds(e,pee,gee),t.subVectors(gee,pee)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*d0*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class RPe extends vo{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ol(-90,1,e,t);i.layers=this.layers,this.add(i);const s=new Ol(-90,1,e,t);s.layers=this.layers,this.add(s);const o=new Ol(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new Ol(-90,1,e,t);a.layers=this.layers,this.add(a);const l=new Ol(-90,1,e,t);l.layers=this.layers,this.add(l);const c=new Ol(-90,1,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===ip)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1)}for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,h=e.getRenderTarget(),d=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),A=e.xr.enabled;e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=p,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(h,d,f),e.xr.enabled=A,r.texture.needsPMREMUpdate=!0}}class _N extends yu{constructor(e,t,r,i,s,o,a,l,c,u){super(e=void 0!==e?e:[],t=void 0!==t?t:Yg,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class OPe extends eA{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1};this.texture=new _N([r,r,r,r,r,r],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:hl}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r_uniforms={tEquirect:{value:null}},r_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new W1(5,5,5),s=new tA({name:"CubemapFromEquirect",uniforms:$1(r_uniforms),vertexShader:r_vertexShader,fragmentShader:r_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const o=new ua(i,s),a=t.minFilter;return t.minFilter===np&&(t.minFilter=hl),new RPe(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}class mee extends vo{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new cp,this.environmentIntensity=1,this.environmentRotation=new cp,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}const aH=new Re,zPe=new Re,GPe=new ti;class om{constructor(e=new Re(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=aH.subVectors(r,t).cross(zPe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(aH),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||GPe.getNormalMatrix(e),i=this.coplanarPoint(aH).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const m0=new kc,DN=new Re;class MN{constructor(e=new om,t=new om,r=new om,i=new om,s=new om,o=new om){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=ip){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],h=i[6],d=i[7],f=i[8],A=i[9],p=i[10],m=i[11],g=i[12],y=i[13],v=i[14],_=i[15];if(r[0].setComponents(l-s,d-c,m-f,_-g).normalize(),r[1].setComponents(l+s,d+c,m+f,_+g).normalize(),r[2].setComponents(l+o,d+u,m+A,_+y).normalize(),r[3].setComponents(l-o,d-u,m-A,_-y).normalize(),r[4].setComponents(l-a,d-h,m-p,_-v).normalize(),t===ip)r[5].setComponents(l+a,d+h,m+p,_+v).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);r[5].setComponents(a,h,p,v).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),m0.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),m0.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(m0)}intersectsSprite(e){return m0.center.set(0,0,0),m0.radius=.7071067811865476,m0.applyMatrix4(e.matrixWorld),this.intersectsSphere(m0)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(DN.x=i.normal.x>0?e.max.x:e.min.x,DN.y=i.normal.y>0?e.max.y:e.min.y,DN.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(DN)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}class qE extends vo{constructor(){super(),this.isGroup=!0,this.type="Group"}}class Hee extends yu{constructor(e,t,r,i,s,o,a,l,c,u=E1){if(u!==E1&&u!==S1)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&u===E1&&(r=Zg),void 0===r&&u===S1&&(r=x1),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:oc,this.minFilter=void 0!==l?l:oc,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class b0 extends Ai{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],h=[],d=[],f=[];let A=0;const p=[],m=r/2;let g=0;function v(_){const C=A,b=new Ut,M=new Re;let D=0;const E=!0===_?e:t,T=!0===_?1:-1;for(let R=1;R<=i;R++)h.push(0,m*T,0),d.push(0,T,0),f.push(.5,.5),A++;const B=A;for(let R=0;R<=i;R++){const k=R/i*l+a,j=Math.cos(k),O=Math.sin(k);M.x=E*O,M.y=m*T,M.z=E*j,h.push(M.x,M.y,M.z),d.push(0,T,0),b.x=.5*j+.5,b.y=.5*O*T+.5,f.push(b.x,b.y),A++}for(let R=0;R<i;R++){const U=C+R,k=B+R;!0===_?u.push(k,k+1,U):u.push(k+1,k,U),D+=3}c.addGroup(g,D,!0===_?1:2),g+=D}(function y(){const _=new Re,C=new Re;let b=0;const M=(t-e)/r;for(let D=0;D<=s;D++){const E=[],T=D/s,B=T*(t-e)+e;for(let R=0;R<=i;R++){const U=R/i,k=U*l+a,j=Math.sin(k),O=Math.cos(k);C.x=B*j,C.y=-T*r+m,C.z=B*O,h.push(C.x,C.y,C.z),_.set(j,M,O).normalize(),d.push(_.x,_.y,_.z),f.push(U,1-T),E.push(A++)}p.push(E)}for(let D=0;D<i;D++)for(let E=0;E<s;E++){const B=p[E+1][D],R=p[E+1][D+1],U=p[E][D+1];(e>0||0!==E)&&(u.push(p[E][D],B,U),b+=3),(t>0||E!==s-1)&&(u.push(B,R,U),b+=3)}c.addGroup(g,b,0),g+=b})(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(u),this.setAttribute("position",new Yn(h,3)),this.setAttribute("normal",new Yn(d,3)),this.setAttribute("uv",new Yn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class YE extends Ai{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,h=e/a,d=t/l,f=[],A=[],p=[],m=[];for(let g=0;g<u;g++){const y=g*d-o;for(let v=0;v<c;v++)A.push(v*h-s,-y,0),p.push(0,0,1),m.push(v/a),m.push(1-g/l)}for(let g=0;g<l;g++)for(let y=0;y<a;y++){const _=y+c*(g+1),C=y+1+c*(g+1),b=y+1+c*g;f.push(y+c*g,_,b),f.push(_,C,b)}this.setIndex(f),this.setAttribute("position",new Yn(A,3)),this.setAttribute("normal",new Yn(p,3)),this.setAttribute("uv",new Yn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new YE(e.width,e.height,e.widthSegments,e.heightSegments)}}class nte extends Hc{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class rte extends Hc{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function x0(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}class KN{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{i:if(!(e<i)){for(let a=r+2;;){if(void 0===i){if(e<s)break i;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0}}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class q5e extends KN{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=e,a=2*t-r;break;case 2402:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=e,l=2*r-t;break;case 2402:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=.5*(r-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,f=this._weightNext,A=(r-t)/(i-t),p=A*A,m=p*A,g=-d*m+2*d*p-d*A,y=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*A+1,v=(-1-f)*m+(1.5+f)*p+.5*A,_=f*m-f*p;for(let C=0;C!==a;++C)s[C]=g*o[u+C]+y*o[c+C]+v*o[l+C]+_*o[h+C];return s}}class ote extends KN{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),h=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*h+o[l+d]*u;return s}}class j5e extends KN{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class rA{constructor(e,t,r,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=x0(t,this.TimeBufferType),this.values=x0(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:x0(e.times,Array),values:x0(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new j5e(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ote(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new q5e(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;-1!==o&&r[o]>t;)--o;if(++o,0!==s||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==i&&function ite(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(i)l=!0;else{const h=a*r,d=h-r,f=h+r;for(let A=0;A!==r;++A){const p=t[h+A];if(p!==t[d+A]||p!==t[f+A]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,d=o*r;for(let f=0;f!==r;++f)t[d+f]=t[h+f]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}rA.prototype.TimeBufferType=Float32Array,rA.prototype.ValueBufferType=Float32Array,rA.prototype.DefaultInterpolation=2301;class sb extends rA{constructor(e,t,r){super(e,t,r)}}sb.prototype.ValueTypeName="bool",sb.prototype.ValueBufferType=Array,sb.prototype.DefaultInterpolation=2300,sb.prototype.InterpolantFactoryMethodLinear=void 0,sb.prototype.InterpolantFactoryMethodSmooth=void 0;(class ate extends rA{}).prototype.ValueTypeName="color";(class XN extends rA{}).prototype.ValueTypeName="number";class W5e extends KN{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Uc.slerpFlat(s,0,o,c-a,o,c,l);return s}}class YN extends rA{InterpolantFactoryMethodLinear(e){return new W5e(this.times,this.values,this.getValueSize(),e)}}YN.prototype.ValueTypeName="quaternion",YN.prototype.InterpolantFactoryMethodSmooth=void 0;class ob extends rA{constructor(e,t,r){super(e,t,r)}}ob.prototype.ValueTypeName="string",ob.prototype.ValueBufferType=Array,ob.prototype.DefaultInterpolation=2300,ob.prototype.InterpolantFactoryMethodLinear=void 0,ob.prototype.InterpolantFactoryMethodSmooth=void 0;(class ZN extends rA{}).prototype.ValueTypeName="vector",Error;class E0 extends vo{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ln(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}const PH=new Nr,cte=new Re,ute=new Re;class LH{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ut(512,512),this.map=null,this.mapPass=null,this.matrix=new Nr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new MN,this._frameExtents=new Ut(1,1),this._viewportCount=1,this._viewports=[new hs(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;cte.setFromMatrixPosition(e.matrixWorld),t.position.copy(cte),ute.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(ute),t.updateMatrixWorld(),PH.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(PH),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(PH)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class kH extends Jk{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class rLe extends LH{constructor(){super(new kH(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class fte extends E0{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(vo.DEFAULT_UP),this.updateMatrix(),this.target=new vo,this.shadow=new rLe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class dte extends E0{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class uLe extends Ol{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}const VH="\\[\\]\\.:\\/",gLe=new RegExp("["+VH+"]","g"),QH="[^"+VH+"]",mLe="[^"+VH.replace("\\.","")+"]",wLe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",QH)+/(WCOD+)?/.source.replace("WCOD",mLe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",QH)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",QH)+"$"),CLe=["material","materials","bones","map"];class xLe{constructor(e,t,r){const i=r||yo.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}let yo=(()=>{class n{constructor(t,r,i){this.path=r,this.parsedPath=i||n.parseTrackName(r),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,i){return t&&t.isAnimationObjectGroup?new n.Composite(t,r,i):new n(t,r,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(gLe,"")}static parseTrackName(t){const r=wLe.exec(t);if(null===r)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=i.nodeName.substring(s+1);-1!==CLe.indexOf(o)&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=o)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,r){if(void 0===r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(r);if(void 0!==i)return i}if(t.children){const i=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===r||l.uuid===r)return l;const c=i(l.children);if(c)return c}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)t[r++]=i[s]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,i=r.objectName,s=r.propertyName;let o=r.propertyIndex;if(t||(t=n.findNode(this.rootNode,r.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(i){let u=r.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let h=0;h<t.length;h++)if(t[h].name===u){u=h;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=xLe,n})();yo.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},yo.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},yo.prototype.GetterByBindingType=[yo.prototype._getValue_direct,yo.prototype._getValue_array,yo.prototype._getValue_arrayElement,yo.prototype._getValue_toArray],yo.prototype.SetterByBindingTypeAndVersioning=[[yo.prototype._setValue_direct,yo.prototype._setValue_direct_setNeedsUpdate,yo.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yo.prototype._setValue_array,yo.prototype._setValue_array_setNeedsUpdate,yo.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yo.prototype._setValue_arrayElement,yo.prototype._setValue_arrayElement_setNeedsUpdate,yo.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yo.prototype._setValue_fromArray,yo.prototype._setValue_fromArray_setNeedsUpdate,yo.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class Ste{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Gr(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Gr(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class TLe extends sp{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function jH(n,e,t,r){const i=function FLe(n){switch(n){case rp:case RJ:return{byteLength:1,components:1};case ME:case OJ:case TE:return{byteLength:2,components:1};case Y4:case Z4:return{byteLength:2,components:4};case Zg:case X4:case ih:return{byteLength:4,components:1};case PJ:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}(r);switch(t){case LJ:case kJ:return n*e;case HJ:return n*e*2;case J4:case WB:return n*e/i.components*i.byteLength;case VJ:case ek:return n*e*2/i.components*i.byteLength;case UJ:return n*e*3/i.components*i.byteLength;case vu:case tk:return n*e*4/i.components*i.byteLength;case $B:case KB:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case XB:case YB:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case rk:case sk:return Math.max(n,16)*Math.max(e,8)/4;case nk:case ik:return Math.max(n,8)*Math.max(e,8)/2;case ok:case ak:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case lk:case ck:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case uk:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case hk:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case fk:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case dk:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case Ak:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case pk:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case gk:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case mk:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case vk:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case yk:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case _k:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case bk:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case wk:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case ZB:case Ck:case xk:return Math.ceil(n/4)*Math.ceil(e/4)*16;case QJ:case Ek:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Sk:case Dk:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"171"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="171");const Lte={type:"change"},WH={type:"start"},Ute={type:"end"},lI=new H1,kte=new om,RLe=Math.cos(70*lPe_DEG2RAD),Qa=new Re,xu=2*Math.PI,$H=1e-6;class OLe extends TLe{constructor(e,t=null){super(e,t),this.state=-1,this.enabled=!0,this.target=new Re,this.cursor=new Re,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Re,this._lastQuaternion=new Uc,this._lastTargetPosition=new Re,this._quat=(new Uc).setFromUnitVectors(e.up,new Re(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new Ste,this._sphericalDelta=new Ste,this._scale=1,this._panOffset=new Re,this._rotateStart=new Ut,this._rotateEnd=new Ut,this._rotateDelta=new Ut,this._panStart=new Ut,this._panEnd=new Ut,this._panDelta=new Ut,this._dollyStart=new Ut,this._dollyEnd=new Ut,this._dollyDelta=new Ut,this._dollyDirection=new Re,this._mouse=new Ut,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=LLe.bind(this),this._onPointerDown=PLe.bind(this),this._onPointerUp=ULe.bind(this),this._onContextMenu=qLe.bind(this),this._onMouseWheel=VLe.bind(this),this._onKeyDown=QLe.bind(this),this._onTouchStart=zLe.bind(this),this._onTouchMove=GLe.bind(this),this._onMouseDown=kLe.bind(this),this._onMouseMove=HLe.bind(this),this._interceptControlDown=jLe.bind(this),this._interceptControlUp=WLe.bind(this),null!==this.domElement&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(Lte),this.update(),this.state=-1}update(e=null){const t=this.object.position;Qa.copy(t).sub(this.target),Qa.applyQuaternion(this._quat),this._spherical.setFromVector3(Qa),this.autoRotate&&-1===this.state&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(r)&&isFinite(i)&&(r<-Math.PI?r+=xu:r>Math.PI&&(r-=xu),i<-Math.PI?i+=xu:i>Math.PI&&(i-=xu),this._spherical.theta=r<=i?Math.max(r,Math.min(i,this._spherical.theta)):this._spherical.theta>(r+i)/2?Math.max(r,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const o=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=o!=this._spherical.radius}if(Qa.setFromSpherical(this._spherical),Qa.applyQuaternion(this._quatInverse),t.copy(this.target).add(Qa),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let o=null;if(this.object.isPerspectiveCamera){const a=Qa.length();o=this._clampDistance(a*this._scale);const l=a-o;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),s=!!l}else if(this.object.isOrthographicCamera){const a=new Re(this._mouse.x,this._mouse.y,0);a.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=l!==this.object.zoom;const c=new Re(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(a),this.object.updateMatrixWorld(),o=Qa.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;null!==o&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(o).add(this.object.position):(lI.origin.copy(this.object.position),lI.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(lI.direction))<RLe?this.object.lookAt(this.target):(kte.setFromNormalAndCoplanarPoint(this.object.up,this.target),lI.intersectPlane(kte,this.target))))}else if(this.object.isOrthographicCamera){const o=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),o!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,!!(s||this._lastPosition.distanceToSquared(this.object.position)>$H||8*(1-this._lastQuaternion.dot(this.object.quaternion))>$H||this._lastTargetPosition.distanceToSquared(this.target)>$H)&&(this.dispatchEvent(Lte),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}_getAutoRotationAngle(e){return null!==e?xu/60*this.autoRotateSpeed*e:xu/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(.01*e);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){Qa.setFromMatrixColumn(t,0),Qa.multiplyScalar(-e),this._panOffset.add(Qa)}_panUp(e,t){!0===this.screenSpacePanning?Qa.setFromMatrixColumn(t,1):(Qa.setFromMatrixColumn(t,0),Qa.crossVectors(this.object.up,Qa)),Qa.multiplyScalar(e),this._panOffset.add(Qa)}_pan(e,t){const r=this.domElement;if(this.object.isPerspectiveCamera){Qa.copy(this.object.position).sub(this.target);let s=Qa.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/r.clientHeight,this.object.matrix),this._panUp(2*t*s/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),s=t-r.top,a=r.height;this._mouse.x=(e-r.left)/r.width*2-1,this._mouse.y=-s/a*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(xu*this._rotateDelta.x/t.clientHeight),this._rotateUp(xu*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(xu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-xu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(xu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-xu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(1===this._pointers.length)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._rotateStart.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}}_handleTouchStartPan(e){if(1===this._pointers.length)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._panStart.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),r=e.pageX-t.x,i=e.pageY-t.y,s=Math.sqrt(r*r+i*i);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(1==this._pointers.length)this._rotateEnd.set(e.pageX,e.pageY);else{const r=this._getSecondPointerPosition(e);this._rotateEnd.set(.5*(e.pageX+r.x),.5*(e.pageY+r.y))}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(xu*this._rotateDelta.x/t.clientHeight),this._rotateUp(xu*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(1===this._pointers.length)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._panEnd.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),r=e.pageX-t.x,i=e.pageY-t.y,s=Math.sqrt(r*r+i*i);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd),this._updateZoomParameters(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return void this._pointers.splice(t,1)}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];void 0===t&&(t=new Ut,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){return this._pointerPositions[e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0]]}_customWheelEvent(e){const r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(e.deltaMode){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function PLe(n){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),"touch"===n.pointerType?this._onTouchStart(n):this._onMouseDown(n)))}function LLe(n){!1!==this.enabled&&("touch"===n.pointerType?this._onTouchMove(n):this._onMouseMove(n))}function ULe(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(Ute),this.state=-1;break;case 1:const e=this._pointers[0],t=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:t.x,pageY:t.y})}}function kLe(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case 1:if(!1===this.enableZoom)return;this._handleMouseDownDolly(n),this.state=1;break;case 0:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}break;case 2:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}else{if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(WH)}function HLe(n){switch(this.state){case 0:if(!1===this.enableRotate)return;this._handleMouseMoveRotate(n);break;case 1:if(!1===this.enableZoom)return;this._handleMouseMoveDolly(n);break;case 2:if(!1===this.enablePan)return;this._handleMouseMovePan(n)}}function VLe(n){!1===this.enabled||!1===this.enableZoom||-1!==this.state||(n.preventDefault(),this.dispatchEvent(WH),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(Ute))}function QLe(n){!1!==this.enabled&&this._handleKeyDown(n)}function zLe(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case 0:if(!1===this.enableRotate)return;this._handleTouchStartRotate(n),this.state=3;break;case 1:if(!1===this.enablePan)return;this._handleTouchStartPan(n),this.state=4;break;default:this.state=-1}break;case 2:switch(this.touches.TWO){case 2:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(n),this.state=5;break;case 3:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(n),this.state=6;break;default:this.state=-1}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(WH)}function GLe(n){switch(this._trackPointer(n),this.state){case 3:if(!1===this.enableRotate)return;this._handleTouchMoveRotate(n),this.update();break;case 4:if(!1===this.enablePan)return;this._handleTouchMovePan(n),this.update();break;case 5:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchMoveDollyPan(n),this.update();break;case 6:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=-1}}function qLe(n){!1!==this.enabled&&n.preventDefault()}function jLe(n){"Control"===n.key&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function WLe(n){"Control"===n.key&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function Hte(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==t&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function $Le(n){const e=new WeakMap;return{get:function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)},remove:function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))},update:function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);return void((!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version}))}const c=e.get(a);if(void 0===c)e.set(a,function t(a,l){const c=a.array,u=a.usage,h=c.byteLength,d=n.createBuffer();let f;if(n.bindBuffer(l,d),n.bufferData(l,c,u),a.onUploadCallback(),c instanceof Float32Array)f=n.FLOAT;else if(c instanceof Uint16Array)f=a.isFloat16BufferAttribute?n.HALF_FLOAT:n.UNSIGNED_SHORT;else if(c instanceof Int16Array)f=n.SHORT;else if(c instanceof Uint32Array)f=n.UNSIGNED_INT;else if(c instanceof Int32Array)f=n.INT;else if(c instanceof Int8Array)f=n.BYTE;else if(c instanceof Uint8Array)f=n.UNSIGNED_BYTE;else{if(!(c instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);f=n.UNSIGNED_BYTE}return{buffer:d,type:f,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:h}}(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function r(a,l,c){const u=l.array,h=l.updateRanges;if(n.bindBuffer(c,a),0===h.length)n.bufferSubData(c,0,u);else{h.sort((f,A)=>f.start-A.start);let d=0;for(let f=1;f<h.length;f++){const A=h[d],p=h[f];p.start<=A.start+A.count+1?A.count=Math.max(A.count,p.start+p.count-A.start):(++d,h[d]=p)}h.length=d+1;for(let f=0,A=h.length;f<A;f++){const p=h[f];n.bufferSubData(c,p.start*u.BYTES_PER_ELEMENT,u,p.start,p.count)}l.clearUpdateRanges()}l.onUploadCallback()})(c.buffer,a,l),c.version=a.version}}}}const pi={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Fn={common:{diffuse:{value:new Ln(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ti},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ti}},envmap:{envMap:{value:null},envMapRotation:{value:new ti},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ti}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ti}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ti},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ti},normalScale:{value:new Ut(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ti},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ti}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ti}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ti}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ln(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ln(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0},uvTransform:{value:new ti}},sprite:{diffuse:{value:new Ln(16777215)},opacity:{value:1},center:{value:new Ut(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ti},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0}}},iA={basic:{uniforms:Vc([Fn.common,Fn.specularmap,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.fog]),vertexShader:pi.meshbasic_vert,fragmentShader:pi.meshbasic_frag},lambert:{uniforms:Vc([Fn.common,Fn.specularmap,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.fog,Fn.lights,{emissive:{value:new Ln(0)}}]),vertexShader:pi.meshlambert_vert,fragmentShader:pi.meshlambert_frag},phong:{uniforms:Vc([Fn.common,Fn.specularmap,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.fog,Fn.lights,{emissive:{value:new Ln(0)},specular:{value:new Ln(1118481)},shininess:{value:30}}]),vertexShader:pi.meshphong_vert,fragmentShader:pi.meshphong_frag},standard:{uniforms:Vc([Fn.common,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.roughnessmap,Fn.metalnessmap,Fn.fog,Fn.lights,{emissive:{value:new Ln(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:pi.meshphysical_vert,fragmentShader:pi.meshphysical_frag},toon:{uniforms:Vc([Fn.common,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.gradientmap,Fn.fog,Fn.lights,{emissive:{value:new Ln(0)}}]),vertexShader:pi.meshtoon_vert,fragmentShader:pi.meshtoon_frag},matcap:{uniforms:Vc([Fn.common,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.fog,{matcap:{value:null}}]),vertexShader:pi.meshmatcap_vert,fragmentShader:pi.meshmatcap_frag},points:{uniforms:Vc([Fn.points,Fn.fog]),vertexShader:pi.points_vert,fragmentShader:pi.points_frag},dashed:{uniforms:Vc([Fn.common,Fn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:pi.linedashed_vert,fragmentShader:pi.linedashed_frag},depth:{uniforms:Vc([Fn.common,Fn.displacementmap]),vertexShader:pi.depth_vert,fragmentShader:pi.depth_frag},normal:{uniforms:Vc([Fn.common,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,{opacity:{value:1}}]),vertexShader:pi.meshnormal_vert,fragmentShader:pi.meshnormal_frag},sprite:{uniforms:Vc([Fn.sprite,Fn.fog]),vertexShader:pi.sprite_vert,fragmentShader:pi.sprite_frag},background:{uniforms:{uvTransform:{value:new ti},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:pi.background_vert,fragmentShader:pi.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ti}},vertexShader:pi.backgroundCube_vert,fragmentShader:pi.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:pi.cube_vert,fragmentShader:pi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:pi.equirect_vert,fragmentShader:pi.equirect_frag},distanceRGBA:{uniforms:Vc([Fn.common,Fn.displacementmap,{referencePosition:{value:new Re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:pi.distanceRGBA_vert,fragmentShader:pi.distanceRGBA_frag},shadow:{uniforms:Vc([Fn.lights,Fn.fog,{color:{value:new Ln(0)},opacity:{value:1}}]),vertexShader:pi.shadow_vert,fragmentShader:pi.shadow_frag}};iA.physical={uniforms:Vc([iA.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ti},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ti},clearcoatNormalScale:{value:new Ut(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ti},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ti},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ti},sheen:{value:0},sheenColor:{value:new Ln(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ti},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ti},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ti},transmissionSamplerSize:{value:new Ut},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ti},attenuationDistance:{value:0},attenuationColor:{value:new Ln(0)},specularColor:{value:new Ln(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ti},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ti},anisotropyVector:{value:new Ut},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ti}}]),vertexShader:pi.meshphysical_vert,fragmentShader:pi.meshphysical_frag};const cI={r:0,b:0,g:0},N0=new cp,$Ue=new Nr;function KUe(n,e,t,r,i,s,o){const a=new Ln(0);let c,u,l=!0===s?0:1,h=null,d=0,f=null;function A(v){let _=!0===v.isScene?v.background:null;return _&&_.isTexture&&(_=(v.backgroundBlurriness>0?t:e).get(_)),_}function g(v,_){v.getRGB(cI,Aee(n)),r.buffers.color.setClear(cI.r,cI.g,cI.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(v,_=1){a.set(v),l=_,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,g(a,l)},render:function p(v){let _=!1;const C=A(v);null===C?g(a,l):C&&C.isColor&&(g(C,1),_=!0);const b=n.xr.getEnvironmentBlendMode();"additive"===b?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===b&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||_)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))},addToRenderList:function m(v,_){const C=A(_);C&&(C.isCubeTexture||C.mapping===SE)?(void 0===u&&(u=new ua(new W1(1,1,1),new tA({name:"BackgroundCubeMaterial",uniforms:$1(iA.backgroundCube.uniforms),vertexShader:iA.backgroundCube.vertexShader,fragmentShader:iA.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(b,M,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),N0.copy(_.backgroundRotation),N0.x*=-1,N0.y*=-1,N0.z*=-1,C.isCubeTexture&&!1===C.isRenderTargetTexture&&(N0.y*=-1,N0.z*=-1),u.material.uniforms.envMap.value=C,u.material.uniforms.flipEnvMap.value=C.isCubeTexture&&!1===C.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4($Ue.makeRotationFromEuler(N0)),u.material.toneMapped=ss.getTransfer(C.colorSpace)!==qs,(h!==C||d!==C.version||f!==n.toneMapping)&&(u.material.needsUpdate=!0,h=C,d=C.version,f=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):C&&C.isTexture&&(void 0===c&&(c=new ua(new YE(2,2),new tA({name:"BackgroundMaterial",uniforms:$1(iA.background.uniforms),vertexShader:iA.background.vertexShader,fragmentShader:iA.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=C,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=ss.getTransfer(C.colorSpace)!==qs,!0===C.matrixAutoUpdate&&C.updateMatrix(),c.material.uniforms.uvTransform.value.copy(C.matrix),(h!==C||d!==C.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,h=C,d=C.version,f=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))},dispose:function y(){void 0!==u&&(u.geometry.dispose(),u.material.dispose()),void 0!==c&&(c.geometry.dispose(),c.material.dispose())}}}function XUe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=d(null);let s=i,o=!1;function c(T){return n.bindVertexArray(T)}function u(T){return n.deleteVertexArray(T)}function d(T){const B=[],R=[],U=[];for(let k=0;k<t;k++)B[k]=0,R[k]=0,U[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:R,attributeDivisors:U,object:T,attributes:{},index:null}}function p(){const T=s.newAttributes;for(let B=0,R=T.length;B<R;B++)T[B]=0}function m(T){g(T,0)}function g(T,B){const U=s.enabledAttributes,k=s.attributeDivisors;s.newAttributes[T]=1,0===U[T]&&(n.enableVertexAttribArray(T),U[T]=1),k[T]!==B&&(n.vertexAttribDivisor(T,B),k[T]=B)}function y(){const T=s.newAttributes,B=s.enabledAttributes;for(let R=0,U=B.length;R<U;R++)B[R]!==T[R]&&(n.disableVertexAttribArray(R),B[R]=0)}function v(T,B,R,U,k,j,O){!0===O?n.vertexAttribIPointer(T,B,R,k,j):n.vertexAttribPointer(T,B,R,U,k,j)}function D(){E(),o=!0,s!==i&&(s=i,c(s.object))}function E(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function a(T,B,R,U,k){let j=!1;const O=function h(T,B,R){const U=!0===R.wireframe;let k=r[T.id];void 0===k&&(k={},r[T.id]=k);let j=k[B.id];void 0===j&&(j={},k[B.id]=j);let O=j[U];return void 0===O&&(O=d(function l(){return n.createVertexArray()}()),j[U]=O),O}(U,R,B);s!==O&&(s=O,c(s.object)),j=function f(T,B,R,U){const k=s.attributes,j=B.attributes;let O=0;const P=R.getAttributes();for(const G in P)if(P[G].location>=0){const ae=k[G];let ve=j[G];if(void 0===ve&&("instanceMatrix"===G&&T.instanceMatrix&&(ve=T.instanceMatrix),"instanceColor"===G&&T.instanceColor&&(ve=T.instanceColor)),void 0===ae||ae.attribute!==ve||ve&&ae.data!==ve.data)return!0;O++}return s.attributesNum!==O||s.index!==U}(T,U,R,k),j&&function A(T,B,R,U){const k={},j=B.attributes;let O=0;const P=R.getAttributes();for(const G in P)if(P[G].location>=0){let ae=j[G];void 0===ae&&("instanceMatrix"===G&&T.instanceMatrix&&(ae=T.instanceMatrix),"instanceColor"===G&&T.instanceColor&&(ae=T.instanceColor));const ve={};ve.attribute=ae,ae&&ae.data&&(ve.data=ae.data),k[G]=ve,O++}s.attributes=k,s.attributesNum=O,s.index=U}(T,U,R,k),null!==k&&e.update(k,n.ELEMENT_ARRAY_BUFFER),(j||o)&&(o=!1,function _(T,B,R,U){p();const k=U.attributes,j=R.getAttributes(),O=B.defaultAttributeValues;for(const P in j){const G=j[P];if(G.location>=0){let H=k[P];if(void 0===H&&("instanceMatrix"===P&&T.instanceMatrix&&(H=T.instanceMatrix),"instanceColor"===P&&T.instanceColor&&(H=T.instanceColor)),void 0!==H){const ae=H.normalized,ve=H.itemSize,Q=e.get(H);if(void 0===Q)continue;const q=Q.buffer,K=Q.type,oe=Q.bytesPerElement,se=K===n.INT||K===n.UNSIGNED_INT||H.gpuType===X4;if(H.isInterleavedBufferAttribute){const le=H.data,te=le.stride,ee=H.offset;if(le.isInstancedInterleavedBuffer){for(let Ae=0;Ae<G.locationSize;Ae++)g(G.location+Ae,le.meshPerAttribute);!0!==T.isInstancedMesh&&void 0===U._maxInstanceCount&&(U._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let Ae=0;Ae<G.locationSize;Ae++)m(G.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,q);for(let Ae=0;Ae<G.locationSize;Ae++)v(G.location+Ae,ve/G.locationSize,K,ae,te*oe,(ee+ve/G.locationSize*Ae)*oe,se)}else{if(H.isInstancedBufferAttribute){for(let le=0;le<G.locationSize;le++)g(G.location+le,H.meshPerAttribute);!0!==T.isInstancedMesh&&void 0===U._maxInstanceCount&&(U._maxInstanceCount=H.meshPerAttribute*H.count)}else for(let le=0;le<G.locationSize;le++)m(G.location+le);n.bindBuffer(n.ARRAY_BUFFER,q);for(let le=0;le<G.locationSize;le++)v(G.location+le,ve/G.locationSize,K,ae,ve*oe,ve/G.locationSize*le*oe,se)}}else if(void 0!==O){const ae=O[P];if(void 0!==ae)switch(ae.length){case 2:n.vertexAttrib2fv(G.location,ae);break;case 3:n.vertexAttrib3fv(G.location,ae);break;case 4:n.vertexAttrib4fv(G.location,ae);break;default:n.vertexAttrib1fv(G.location,ae)}}}}y()}(T,B,R,U),null!==k&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(k).buffer))},reset:D,resetDefaultState:E,dispose:function C(){D();for(const T in r){const B=r[T];for(const R in B){const U=B[R];for(const k in U)u(U[k].object),delete U[k];delete B[R]}delete r[T]}},releaseStatesOfGeometry:function b(T){if(void 0===r[T.id])return;const B=r[T.id];for(const R in B){const U=B[R];for(const k in U)u(U[k].object),delete U[k];delete B[R]}delete r[T.id]},releaseStatesOfProgram:function M(T){for(const B in r){const R=r[B];if(void 0===R[T.id])continue;const U=R[T.id];for(const k in U)u(U[k].object),delete U[k];delete R[T.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:y}}function YUe(n,e,t){let r;function o(c,u,h){0!==h&&(n.drawArraysInstanced(r,c,u,h),t.update(u,r,h))}this.setMode=function i(c){r=c},this.render=function s(c,u){n.drawArrays(r,c,u),t.update(u,r,1)},this.renderInstances=o,this.renderMultiDraw=function a(c,u,h){if(0===h)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,h);let f=0;for(let A=0;A<h;A++)f+=u[A];t.update(f,r,1)},this.renderMultiDrawInstances=function l(c,u,h,d){if(0===h)return;const f=e.get("WEBGL_multi_draw");if(null===f)for(let A=0;A<c.length;A++)o(c[A],u[A],d[A]);else{f.multiDrawArraysInstancedWEBGL(r,c,0,u,0,d,0,h);let A=0;for(let p=0;p<h;p++)A+=u[p]*d[p];t.update(A,r,1)}}}function ZUe(n,e,t,r){let i;function l(M){if("highp"===M){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return"mediump"===M&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=void 0!==t.precision?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const h=!0===t.logarithmicDepthBuffer,d=!0===t.reverseDepthBuffer&&e.has("EXT_clip_control"),f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),A=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function s(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const M=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:l,textureFormatReadable:function o(M){return!(M!==vu&&r.convert(M)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))},textureTypeReadable:function a(M){const D=M===TE&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==rp&&r.convert(M)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==ih&&!D)},precision:c,logarithmicDepthBuffer:h,reverseDepthBuffer:d,maxTextures:f,maxVertexTextures:A,maxTextureSize:n.getParameter(n.MAX_TEXTURE_SIZE),maxCubemapSize:n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:n.getParameter(n.MAX_VERTEX_ATTRIBS),maxVertexUniforms:n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:n.getParameter(n.MAX_VARYING_VECTORS),maxFragmentUniforms:n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:A>0,maxSamples:n.getParameter(n.MAX_SAMPLES)}}function JUe(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new om,a=new ti,l={value:null,needsUpdate:!1};function u(h,d,f,A){const p=null!==h?h.length:0;let m=null;if(0!==p){if(m=l.value,!0!==A||null===m){const g=f+4*p,y=d.matrixWorldInverse;a.getNormalMatrix(y),(null===m||m.length<g)&&(m=new Float32Array(g));for(let v=0,_=f;v!==p;++v,_+=4)o.copy(h[v]).applyMatrix4(y,a),o.normal.toArray(m,_),m[_+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,m}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,d){const f=0!==h.length||d||0!==r||i;return i=d,r=h.length,f},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,d){t=u(h,d,0)},this.setState=function(h,d,f){const A=h.clippingPlanes,p=h.clipIntersection,m=h.clipShadows,g=n.get(h);if(!i||null===A||0===A.length||s&&!m)s?u(null):function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}();else{const y=s?0:r,v=4*y;let _=g.clippingState||null;l.value=_,_=u(A,d,v,f);for(let C=0;C!==v;++C)_[C]=t[C];g.clippingState=_,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=y}}}function e4e(n){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=Yg:304===a&&(o.mapping=h0),o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function r(o){if(o&&o.isTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new OPe(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}const Vte=[.125,.215,.35,.446,.526,.582],KH=new kH,Qte=new Ln;let XH=null,YH=0,ZH=0,JH=!1;const F0=(1+Math.sqrt(5))/2,lb=1/F0,zte=[new Re(-F0,lb,0),new Re(F0,lb,0),new Re(-lb,0,F0),new Re(lb,0,F0),new Re(0,F0,-lb),new Re(0,F0,lb),new Re(-1,1,-1),new Re(1,1,-1),new Re(-1,1,1),new Re(1,1,1)];class Gte{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){XH=this._renderer.getRenderTarget(),YH=this._renderer.getActiveCubeFace(),ZH=this._renderer.getActiveMipmapLevel(),JH=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Wte(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=jte(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(XH,YH,ZH),this._renderer.xr.enabled=JH,e.scissorTest=!1,uI(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Yg||e.mapping===h0?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),XH=this._renderer.getRenderTarget(),YH=this._renderer.getActiveCubeFace(),ZH=this._renderer.getActiveMipmapLevel(),JH=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:hl,minFilter:hl,generateMipmaps:!1,type:TE,format:vu,colorSpace:T1,depthBuffer:!1},i=qte(e,t,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=qte(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function t4e(n){const e=[],t=[],r=[];let i=n;const s=n-4+1+Vte.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-4?l=Vte[o-n+4-1]:0===o&&(l=0),r.push(l);const c=1/(a-2),u=-c,h=1+c,d=[u,u,h,u,h,h,u,u,h,h,u,h],f=6,A=6,p=3,m=2,g=1,y=new Float32Array(p*A*f),v=new Float32Array(m*A*f),_=new Float32Array(g*A*f);for(let b=0;b<f;b++){const M=b%3*2/3-1,D=b>2?0:-1;y.set([M,D,0,M+2/3,D,0,M+2/3,D+1,0,M,D,0,M+2/3,D+1,0,M,D+1,0],p*A*b),v.set(d,m*A*b),_.set([b,b,b,b,b,b],g*A*b)}const C=new Ai;C.setAttribute("position",new no(y,p)),C.setAttribute("uv",new no(v,m)),C.setAttribute("faceIndex",new no(_,g)),e.push(C),i>4&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}(s)),this._blurMaterial=function n4e(n,e,t){const r=new Float32Array(20),i=new Re(0,1,0);return new tA({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,e,t)}return i}_compileMaterial(e){const t=new ua(this._lodPlanes[0],e);this._renderer.compile(t,KH)}_sceneToCubeUV(e,t,r,i){const a=new Ol(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,d=u.toneMapping;u.getClearColor(Qte),u.toneMapping=Xg,u.autoClear=!1;const f=new dp({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),A=new ua(new W1,f);let p=!1;const m=e.background;m?m.isColor&&(f.color.copy(m),e.background=null,p=!0):(f.color.copy(Qte),p=!0);for(let g=0;g<6;g++){const y=g%3;0===y?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):1===y?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const v=this._cubeSize;uI(i,y*v,g>2?v:0,v,v),u.setRenderTarget(i),p&&u.render(A,a),u.render(e,a)}A.geometry.dispose(),A.material.dispose(),u.toneMapping=d,u.autoClear=h,e.background=m}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Yg||e.mapping===h0;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=Wte()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=jte());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new ua(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const l=this._cubeSize;uI(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,KH)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]);this._blur(e,s-1,s,o,zte[(i-s-1)%zte.length])}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const h=new ua(this._lodPlanes[i],c),d=c.uniforms,f=this._sizeLods[r]-1,A=isFinite(s)?Math.PI/(2*f):2*Math.PI/39,p=s/A,m=isFinite(s)?1+Math.floor(3*p):20;m>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to 20`);const g=[];let y=0;for(let M=0;M<20;++M){const D=M/p,E=Math.exp(-D*D/2);g.push(E),0===M?y+=E:M<m&&(y+=2*E)}for(let M=0;M<g.length;M++)g[M]=g[M]/y;d.envMap.value=e.texture,d.samples.value=m,d.weights.value=g,d.latitudinal.value="latitudinal"===o,a&&(d.poleAxis.value=a);const{_lodMax:v}=this;d.dTheta.value=A,d.mipInt.value=v-r;const _=this._sizeLods[i];uI(t,3*_*(i>v-4?i-v+4:0),4*(this._cubeSize-_),3*_,2*_),l.setRenderTarget(t),l.render(h,KH)}}function qte(n,e,t){const r=new eA(n,e,t);return r.texture.mapping=SE,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function uI(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function jte(){return new tA({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Wte(){return new tA({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function r4e(n){let e=new WeakMap,t=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function r(a){if(a&&a.isTexture){const l=a.mapping,c=303===l||304===l,u=l===Yg||l===h0;if(c||u){let h=e.get(a);if(a.isRenderTargetTexture&&a.pmremVersion!==(void 0!==h?h.texture.pmremVersion:0))return null===t&&(t=new Gte(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(void 0!==h)return h.texture;{const f=a.image;return c&&f&&f.height>0||u&&f&&function i(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(f)?(null===t&&(t=new Gte(n)),h=c?t.fromEquirectangular(a):t.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",s),h.texture):null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function i4e(n){const e={};function t(r){if(void 0!==e[r])return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return null!==t(r)},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return null===i&&F1("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function s4e(n,e,t,r){const i={},s=new WeakMap;function o(h){const d=h.target;null!==d.index&&e.remove(d.index);for(const A in d.attributes)e.remove(d.attributes[A]);d.removeEventListener("dispose",o),delete i[d.id];const f=s.get(d);f&&(e.remove(f),s.delete(d)),r.releaseStatesOfGeometry(d),!0===d.isInstancedBufferGeometry&&delete d._maxInstanceCount,t.memory.geometries--}function c(h){const d=[],f=h.index,A=h.attributes.position;let p=0;if(null!==f){const y=f.array;p=f.version;for(let v=0,_=y.length;v<_;v+=3){const C=y[v+0],b=y[v+1],M=y[v+2];d.push(C,b,b,M,M,C)}}else{if(void 0===A)return;p=A.version;for(let v=0,_=A.array.length/3-1;v<_;v+=3){const C=v+0,b=v+1,M=v+2;d.push(C,b,b,M,M,C)}}const m=new($J(d)?uee:cee)(d,1);m.version=p;const g=s.get(h);g&&e.remove(g),s.set(h,m)}return{get:function a(h,d){return!0===i[d.id]||(d.addEventListener("dispose",o),i[d.id]=!0,t.memory.geometries++),d},update:function l(h){const d=h.attributes;for(const f in d)e.update(d[f],n.ARRAY_BUFFER)},getWireframeAttribute:function u(h){const d=s.get(h);if(d){const f=h.index;null!==f&&d.version<f.version&&c(h)}else c(h);return s.get(h)}}}function o4e(n,e,t){let r,s,o;function c(d,f,A){0!==A&&(n.drawElementsInstanced(r,f,s,d*o,A),t.update(f,r,A))}this.setMode=function i(d){r=d},this.setIndex=function a(d){s=d.type,o=d.bytesPerElement},this.render=function l(d,f){n.drawElements(r,f,s,d*o),t.update(f,r,1)},this.renderInstances=c,this.renderMultiDraw=function u(d,f,A){if(0===A)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,f,0,s,d,0,A);let m=0;for(let g=0;g<A;g++)m+=f[g];t.update(m,r,1)},this.renderMultiDrawInstances=function h(d,f,A,p){if(0===A)return;const m=e.get("WEBGL_multi_draw");if(null===m)for(let g=0;g<d.length;g++)c(d[g]/o,f[g],p[g]);else{m.multiDrawElementsInstancedWEBGL(r,f,0,s,d,0,p,0,A);let g=0;for(let y=0;y<A;y++)g+=f[y]*p[y];t.update(g,r,1)}}}function a4e(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function l4e(n,e,t){const r=new WeakMap,i=new hs;return{update:function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=void 0!==u?u.length:0;let d=r.get(a);if(void 0===d||d.count!==h){let E=function(){M.dispose(),r.delete(a),a.removeEventListener("dispose",E)};void 0!==d&&d.texture.dispose();const f=void 0!==a.morphAttributes.position,A=void 0!==a.morphAttributes.normal,p=void 0!==a.morphAttributes.color,m=a.morphAttributes.position||[],g=a.morphAttributes.normal||[],y=a.morphAttributes.color||[];let v=0;!0===f&&(v=1),!0===A&&(v=2),!0===p&&(v=3);let _=a.attributes.position.count*v,C=1;_>e.maxTextureSize&&(C=Math.ceil(_/e.maxTextureSize),_=e.maxTextureSize);const b=new Float32Array(_*C*4*h),M=new Rk(b,_,C,h);M.type=ih,M.needsUpdate=!0;const D=4*v;for(let T=0;T<h;T++){const B=m[T],R=g[T],U=y[T],k=_*C*4*T;for(let j=0;j<B.count;j++){const O=j*D;!0===f&&(i.fromBufferAttribute(B,j),b[k+O+0]=i.x,b[k+O+1]=i.y,b[k+O+2]=i.z,b[k+O+3]=0),!0===A&&(i.fromBufferAttribute(R,j),b[k+O+4]=i.x,b[k+O+5]=i.y,b[k+O+6]=i.z,b[k+O+7]=0),!0===p&&(i.fromBufferAttribute(U,j),b[k+O+8]=i.x,b[k+O+9]=i.y,b[k+O+10]=i.z,b[k+O+11]=4===U.itemSize?i.w:1)}}d={count:h,texture:M,size:new Ut(_,C)},r.set(a,d),a.addEventListener("dispose",E)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let f=0;for(let p=0;p<c.length;p++)f+=c[p];const A=a.morphTargetsRelative?1:1-f;l.getUniforms().setValue(n,"morphTargetBaseInfluence",A),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",d.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",d.size)}}}function c4e(n,e,t,r){let i=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function s(l){const c=r.render.frame,h=e.get(l,l.geometry);if(i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),null!==l.instanceColor&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return h},dispose:function o(){i=new WeakMap}}}const $te=new yu,Kte=new Hee(1,1),Xte=new Rk,Yte=new ZJ,Zte=new _N,Jte=[],ene=[],tne=new Float32Array(16),nne=new Float32Array(9),rne=new Float32Array(4);function cb(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=Jte[i];if(void 0===s&&(s=new Float32Array(i),Jte[i]=s),0!==e){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function za(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Ga(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function hI(n,e){let t=ene[e];void 0===t&&(t=new Int32Array(e),ene[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function u4e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function h4e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(za(t,e))return;n.uniform2fv(this.addr,e),Ga(t,e)}}function f4e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(za(t,e))return;n.uniform3fv(this.addr,e),Ga(t,e)}}function d4e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(za(t,e))return;n.uniform4fv(this.addr,e),Ga(t,e)}}function A4e(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(za(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ga(t,e)}else{if(za(t,r))return;rne.set(r),n.uniformMatrix2fv(this.addr,!1,rne),Ga(t,r)}}function p4e(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(za(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ga(t,e)}else{if(za(t,r))return;nne.set(r),n.uniformMatrix3fv(this.addr,!1,nne),Ga(t,r)}}function g4e(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(za(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ga(t,e)}else{if(za(t,r))return;tne.set(r),n.uniformMatrix4fv(this.addr,!1,tne),Ga(t,r)}}function m4e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function v4e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(za(t,e))return;n.uniform2iv(this.addr,e),Ga(t,e)}}function y4e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(za(t,e))return;n.uniform3iv(this.addr,e),Ga(t,e)}}function _4e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(za(t,e))return;n.uniform4iv(this.addr,e),Ga(t,e)}}function b4e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function w4e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(za(t,e))return;n.uniform2uiv(this.addr,e),Ga(t,e)}}function C4e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(za(t,e))return;n.uniform3uiv(this.addr,e),Ga(t,e)}}function x4e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(za(t,e))return;n.uniform4uiv(this.addr,e),Ga(t,e)}}function E4e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();let s;r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),this.type===n.SAMPLER_2D_SHADOW?(Kte.compareFunction=515,s=Kte):s=$te,t.setTexture2D(e||s,i)}function S4e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Yte,i)}function D4e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Zte,i)}function M4e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Xte,i)}function B4e(n,e){n.uniform1fv(this.addr,e)}function N4e(n,e){const t=cb(e,this.size,2);n.uniform2fv(this.addr,t)}function I4e(n,e){const t=cb(e,this.size,3);n.uniform3fv(this.addr,t)}function F4e(n,e){const t=cb(e,this.size,4);n.uniform4fv(this.addr,t)}function R4e(n,e){const t=cb(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function O4e(n,e){const t=cb(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function P4e(n,e){const t=cb(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function L4e(n,e){n.uniform1iv(this.addr,e)}function U4e(n,e){n.uniform2iv(this.addr,e)}function k4e(n,e){n.uniform3iv(this.addr,e)}function H4e(n,e){n.uniform4iv(this.addr,e)}function V4e(n,e){n.uniform1uiv(this.addr,e)}function Q4e(n,e){n.uniform2uiv(this.addr,e)}function z4e(n,e){n.uniform3uiv(this.addr,e)}function G4e(n,e){n.uniform4uiv(this.addr,e)}function q4e(n,e,t){const r=this.cache,i=e.length,s=hI(t,i);za(r,s)||(n.uniform1iv(this.addr,s),Ga(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||$te,s[o])}function j4e(n,e,t){const r=this.cache,i=e.length,s=hI(t,i);za(r,s)||(n.uniform1iv(this.addr,s),Ga(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||Yte,s[o])}function W4e(n,e,t){const r=this.cache,i=e.length,s=hI(t,i);za(r,s)||(n.uniform1iv(this.addr,s),Ga(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||Zte,s[o])}function $4e(n,e,t){const r=this.cache,i=e.length,s=hI(t,i);za(r,s)||(n.uniform1iv(this.addr,s),Ga(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||Xte,s[o])}class X4e{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=function T4e(n){switch(n){case 5126:return u4e;case 35664:return h4e;case 35665:return f4e;case 35666:return d4e;case 35674:return A4e;case 35675:return p4e;case 35676:return g4e;case 5124:case 35670:return m4e;case 35667:case 35671:return v4e;case 35668:case 35672:return y4e;case 35669:case 35673:return _4e;case 5125:return b4e;case 36294:return w4e;case 36295:return C4e;case 36296:return x4e;case 35678:case 36198:case 36298:case 36306:case 35682:return E4e;case 35679:case 36299:case 36307:return S4e;case 35680:case 36300:case 36308:case 36293:return D4e;case 36289:case 36303:case 36311:case 36292:return M4e}}(t.type)}}class Y4e{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function K4e(n){switch(n){case 5126:return B4e;case 35664:return N4e;case 35665:return I4e;case 35666:return F4e;case 35674:return R4e;case 35675:return O4e;case 35676:return P4e;case 5124:case 35670:return L4e;case 35667:case 35671:return U4e;case 35668:case 35672:return k4e;case 35669:case 35673:return H4e;case 5125:return V4e;case 36294:return Q4e;case 36295:return z4e;case 36296:return G4e;case 35678:case 36198:case 36298:case 36306:case 35682:return q4e;case 35679:case 36299:case 36307:return j4e;case 35680:case 36300:case 36308:case 36293:return W4e;case 36289:case 36303:case 36311:case 36292:return $4e}}(t.type)}}class Z4e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const t8=/(\w+)(\])?(\[|\.)?/g;function ine(n,e){n.seq.push(e),n.map[e.id]=e}function J4e(n,e,t){const r=n.name,i=r.length;for(t8.lastIndex=0;;){const s=t8.exec(r);let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&t8.lastIndex+2===i){ine(t,void 0===c?new X4e(a,n,e):new Y4e(a,n,e));break}{let h=t.map[a];void 0===h&&(h=new Z4e(a),ine(t,h)),t=h}}}class fI{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i);J4e(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,r,i){const s=this.map[t];void 0!==s&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];void 0!==i&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];!1!==l.needsUpdate&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function sne(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const eke=37297;let tke=0;const one=new ti;function ane(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&""===i)return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+i+"\n\n"+function nke(n,e){const t=n.split("\n"),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join("\n")}(n.getShaderSource(e),o)}return i}function ike(n,e){const t=function rke(n){ss._getMatrix(one,ss.workingColorSpace,n);const e=`mat3( ${one.elements.map(t=>t.toFixed(4))} )`;switch(ss.getTransfer(n)){case tN:return[e,"LinearTransferOETF"];case qs:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}(e);return[`vec4 ${n}( vec4 value ) {`,`\treturn ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join("\n")}function ske(n,e){let t;switch(e){case EOe:t="Linear";break;case SOe:t="Reinhard";break;case DOe:t="Cineon";break;case MOe:t="ACESFilmic";break;case BOe:t="AgX";break;case NOe:t="Neutral";break;case TOe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const dI=new Re;function JE(n){return""!==n}function lne(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function cne(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const uke=/^[ \t]*#include +<([\w\d./]+)>/gm;function n8(n){return n.replace(uke,fke)}const hke=new Map;function fke(n,e){let t=pi[e];if(void 0===t){const r=hke.get(e);if(void 0===r)throw new Error("Can not resolve #include <"+e+">");t=pi[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r)}return n8(t)}const dke=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function une(n){return n.replace(dke,Ake)}function Ake(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function hne(n){let e=`precision ${n.precision} float;\n\tprecision ${n.precision} int;\n\tprecision ${n.precision} sampler2D;\n\tprecision ${n.precision} samplerCube;\n\tprecision ${n.precision} sampler3D;\n\tprecision ${n.precision} sampler2DArray;\n\tprecision ${n.precision} sampler2DShadow;\n\tprecision ${n.precision} samplerCubeShadow;\n\tprecision ${n.precision} sampler2DArrayShadow;\n\tprecision ${n.precision} isampler2D;\n\tprecision ${n.precision} isampler3D;\n\tprecision ${n.precision} isamplerCube;\n\tprecision ${n.precision} isampler2DArray;\n\tprecision ${n.precision} usampler2D;\n\tprecision ${n.precision} usampler3D;\n\tprecision ${n.precision} usamplerCube;\n\tprecision ${n.precision} usampler2DArray;\n\t`;return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function _ke(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function pke(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===MJ?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===iOe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ep&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function gke(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Yg:case h0:e="ENVMAP_TYPE_CUBE";break;case SE:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function mke(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===h0&&(e="ENVMAP_MODE_REFRACTION"),e}(t),h=function vke(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case VB:e="ENVMAP_BLENDING_MULTIPLY";break;case COe:e="ENVMAP_BLENDING_MIX";break;case xOe:e="ENVMAP_BLENDING_ADD"}return e}(t),d=function yke(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}(t),f=function ake(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(JE).join("\n")}(t),A=function lke(n){const e=[];for(const t in n){const r=n[t];!1!==r&&e.push("#define "+t+" "+r)}return e.join("\n")}(s),p=i.createProgram();let m,g,y=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(m=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A].filter(JE).join("\n"),m.length>0&&(m+="\n"),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A].filter(JE).join("\n"),g.length>0&&(g+="\n")):(m=[hne(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(JE).join("\n"),g=[hne(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Xg?"#define TONE_MAPPING":"",t.toneMapping!==Xg?pi.tonemapping_pars_fragment:"",t.toneMapping!==Xg?ske("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",pi.colorspace_pars_fragment,ike("linearToOutputTexel",t.outputColorSpace),(ss.getLuminanceCoefficients(dI),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${dI.x.toFixed(4)}, ${dI.y.toFixed(4)}, ${dI.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(JE).join("\n")),o=n8(o),o=lne(o,t),o=cne(o,t),a=n8(a),a=lne(a,t),a=cne(a,t),o=une(o),a=une(a),!0!==t.isRawShaderMaterial&&(y="#version 300 es\n",m=[f,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,g=["#define varying in",t.glslVersion===jJ?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===jJ?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g);const _=y+g+a,C=sne(i,i.VERTEX_SHADER,y+m+o),b=sne(i,i.FRAGMENT_SHADER,_);function M(B){if(n.debug.checkShaderErrors){const R=i.getProgramInfoLog(p).trim(),U=i.getShaderInfoLog(C).trim(),k=i.getShaderInfoLog(b).trim();let j=!0,O=!0;if(!1===i.getProgramParameter(p,i.LINK_STATUS))if(j=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(i,p,C,b);else{const P=ane(i,C,"vertex"),G=ane(i,b,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(p,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+B.name+"\nMaterial Type: "+B.type+"\n\nProgram Info Log: "+R+"\n"+P+"\n"+G)}else""!==R?console.warn("THREE.WebGLProgram: Program Info Log:",R):(""===U||""===k)&&(O=!1);O&&(B.diagnostics={runnable:j,programLog:R,vertexShader:{log:U,prefix:m},fragmentShader:{log:k,prefix:g}})}i.deleteShader(C),i.deleteShader(b),D=new fI(i,p),E=function cke(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(i,p)}let D,E;i.attachShader(p,C),i.attachShader(p,b),void 0!==t.index0AttributeName?i.bindAttribLocation(p,0,t.index0AttributeName):!0===t.morphTargets&&i.bindAttribLocation(p,0,"position"),i.linkProgram(p),this.getUniforms=function(){return void 0===D&&M(this),D},this.getAttributes=function(){return void 0===E&&M(this),E};let T=!1===t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=i.getProgramParameter(p,eke)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(p),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=tke++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=C,this.fragmentShader=b,this}let bke=0;class wke{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.fragmentShader,i=this._getShaderStage(e.vertexShader),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return!1===o.has(i)&&(o.add(i),i.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return void 0===r&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return void 0===r&&(r=new Cke(e),t.set(e,r)),r}}class Cke{constructor(e){this.id=bke++,this.code=e,this.usedTimes=0}}function xke(n,e,t,r,i,s,o){const a=new Vk,l=new wke,c=new Set,u=[],h=i.logarithmicDepthBuffer,d=i.vertexTextures;let f=i.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(E){return c.add(E),0===E?"uv":`uv${E}`}return{getParameters:function m(E,T,B,R,U){const k=R.fog,j=U.geometry,P=(E.isMeshStandardMaterial?t:e).get(E.envMap||(E.isMeshStandardMaterial?R.environment:null)),G=P&&P.mapping===SE?P.image.height:null,H=A[E.type];null!==E.precision&&(f=i.getMaxPrecision(E.precision),f!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",f,"instead."));const ae=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,ve=void 0!==ae?ae.length:0;let q,K,oe,se,Q=0;if(void 0!==j.morphAttributes.position&&(Q=1),void 0!==j.morphAttributes.normal&&(Q=2),void 0!==j.morphAttributes.color&&(Q=3),H){const gi=iA[H];q=gi.vertexShader,K=gi.fragmentShader}else q=E.vertexShader,K=E.fragmentShader,l.update(E),oe=l.getVertexShaderID(E),se=l.getFragmentShaderID(E);const le=n.getRenderTarget(),te=n.state.buffers.depth.getReversed(),ee=!0===U.isInstancedMesh,Ae=!0===U.isBatchedMesh,xe=!!E.map,Ee=!!P,ne=!!E.aoMap,Y=!!E.lightMap,W=!!E.bumpMap,Me=!!E.normalMap,Ce=!!E.displacementMap,Pe=!!E.emissiveMap,Oe=!!E.metalnessMap,re=!!E.roughnessMap,Z=E.anisotropy>0,Ue=E.clearcoat>0,rt=E.iridescence>0,Xe=E.sheen>0,Pt=E.transmission>0,Ft=Z&&!!E.anisotropyMap,Tt=Ue&&!!E.clearcoatMap,yn=Ue&&!!E.clearcoatNormalMap,st=Ue&&!!E.clearcoatRoughnessMap,vn=rt&&!!E.iridescenceMap,pn=rt&&!!E.iridescenceThicknessMap,_n=Xe&&!!E.sheenColorMap,tn=Xe&&!!E.sheenRoughnessMap,$=!!E.specularMap,Ie=!!E.specularColorMap,Ke=!!E.specularIntensityMap,Te=Pt&&!!E.transmissionMap,yt=Pt&&!!E.thicknessMap,Dt=!!E.alphaMap,Rn=!!E.extensions;let Ts=Xg;E.toneMapped&&(null===le||!0===le.isXRRenderTarget)&&(Ts=n.toneMapping);const Xi={shaderID:H,shaderType:E.type,shaderName:E.name,vertexShader:q,fragmentShader:K,defines:E.defines,customVertexShaderID:oe,customFragmentShaderID:se,isRawShaderMaterial:!0===E.isRawShaderMaterial,glslVersion:E.glslVersion,precision:f,batching:Ae,batchingColor:Ae&&null!==U._colorsTexture,instancing:ee,instancingColor:ee&&null!==U.instanceColor,instancingMorph:ee&&null!==U.morphTexture,supportsVertexTextures:d,outputColorSpace:null===le?n.outputColorSpace:!0===le.isXRRenderTarget?le.texture.colorSpace:T1,alphaToCoverage:!!E.alphaToCoverage,map:xe,matcap:!!E.matcap,envMap:Ee,envMapMode:Ee&&P.mapping,envMapCubeUVHeight:G,aoMap:ne,lightMap:Y,bumpMap:W,normalMap:Me,displacementMap:d&&Ce,emissiveMap:Pe,normalMapObjectSpace:Me&&1===E.normalMapType,normalMapTangentSpace:Me&&0===E.normalMapType,metalnessMap:Oe,roughnessMap:re,anisotropy:Z,anisotropyMap:Ft,clearcoat:Ue,clearcoatMap:Tt,clearcoatNormalMap:yn,clearcoatRoughnessMap:st,dispersion:E.dispersion>0,iridescence:rt,iridescenceMap:vn,iridescenceThicknessMap:pn,sheen:Xe,sheenColorMap:_n,sheenRoughnessMap:tn,specularMap:$,specularColorMap:Ie,specularIntensityMap:Ke,transmission:Pt,transmissionMap:Te,thicknessMap:yt,gradientMap:!!E.gradientMap,opaque:!1===E.transparent&&1===E.blending&&!1===E.alphaToCoverage,alphaMap:Dt,alphaTest:E.alphaTest>0,alphaHash:!!E.alphaHash,combine:E.combine,mapUv:xe&&p(E.map.channel),aoMapUv:ne&&p(E.aoMap.channel),lightMapUv:Y&&p(E.lightMap.channel),bumpMapUv:W&&p(E.bumpMap.channel),normalMapUv:Me&&p(E.normalMap.channel),displacementMapUv:Ce&&p(E.displacementMap.channel),emissiveMapUv:Pe&&p(E.emissiveMap.channel),metalnessMapUv:Oe&&p(E.metalnessMap.channel),roughnessMapUv:re&&p(E.roughnessMap.channel),anisotropyMapUv:Ft&&p(E.anisotropyMap.channel),clearcoatMapUv:Tt&&p(E.clearcoatMap.channel),clearcoatNormalMapUv:yn&&p(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:st&&p(E.clearcoatRoughnessMap.channel),iridescenceMapUv:vn&&p(E.iridescenceMap.channel),iridescenceThicknessMapUv:pn&&p(E.iridescenceThicknessMap.channel),sheenColorMapUv:_n&&p(E.sheenColorMap.channel),sheenRoughnessMapUv:tn&&p(E.sheenRoughnessMap.channel),specularMapUv:$&&p(E.specularMap.channel),specularColorMapUv:Ie&&p(E.specularColorMap.channel),specularIntensityMapUv:Ke&&p(E.specularIntensityMap.channel),transmissionMapUv:Te&&p(E.transmissionMap.channel),thicknessMapUv:yt&&p(E.thicknessMap.channel),alphaMapUv:Dt&&p(E.alphaMap.channel),vertexTangents:!!j.attributes.tangent&&(Me||Z),vertexColors:E.vertexColors,vertexAlphas:!0===E.vertexColors&&!!j.attributes.color&&4===j.attributes.color.itemSize,pointsUvs:!0===U.isPoints&&!!j.attributes.uv&&(xe||Dt),fog:!!k,useFog:!0===E.fog,fogExp2:!!k&&k.isFogExp2,flatShading:!0===E.flatShading,sizeAttenuation:!0===E.sizeAttenuation,logarithmicDepthBuffer:h,reverseDepthBuffer:te,skinning:!0===U.isSkinnedMesh,morphTargets:void 0!==j.morphAttributes.position,morphNormals:void 0!==j.morphAttributes.normal,morphColors:void 0!==j.morphAttributes.color,morphTargetsCount:ve,morphTextureStride:Q,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numLightProbes:T.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:n.shadowMap.enabled&&B.length>0,shadowMapType:n.shadowMap.type,toneMapping:Ts,decodeVideoTexture:xe&&!0===E.map.isVideoTexture&&ss.getTransfer(E.map.colorSpace)===qs,decodeVideoTextureEmissive:Pe&&!0===E.emissiveMap.isVideoTexture&&ss.getTransfer(E.emissiveMap.colorSpace)===qs,premultipliedAlpha:E.premultipliedAlpha,doubleSided:2===E.side,flipSided:1===E.side,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionClipCullDistance:Rn&&!0===E.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Rn&&!0===E.extensions.multiDraw||Ae)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:E.customProgramCacheKey()};return Xi.vertexUv1s=c.has(1),Xi.vertexUv2s=c.has(2),Xi.vertexUv3s=c.has(3),c.clear(),Xi},getProgramCacheKey:function g(E){const T=[];if(E.shaderID?T.push(E.shaderID):(T.push(E.customVertexShaderID),T.push(E.customFragmentShaderID)),void 0!==E.defines)for(const B in E.defines)T.push(B),T.push(E.defines[B]);return!1===E.isRawShaderMaterial&&(function y(E,T){E.push(T.precision),E.push(T.outputColorSpace),E.push(T.envMapMode),E.push(T.envMapCubeUVHeight),E.push(T.mapUv),E.push(T.alphaMapUv),E.push(T.lightMapUv),E.push(T.aoMapUv),E.push(T.bumpMapUv),E.push(T.normalMapUv),E.push(T.displacementMapUv),E.push(T.emissiveMapUv),E.push(T.metalnessMapUv),E.push(T.roughnessMapUv),E.push(T.anisotropyMapUv),E.push(T.clearcoatMapUv),E.push(T.clearcoatNormalMapUv),E.push(T.clearcoatRoughnessMapUv),E.push(T.iridescenceMapUv),E.push(T.iridescenceThicknessMapUv),E.push(T.sheenColorMapUv),E.push(T.sheenRoughnessMapUv),E.push(T.specularMapUv),E.push(T.specularColorMapUv),E.push(T.specularIntensityMapUv),E.push(T.transmissionMapUv),E.push(T.thicknessMapUv),E.push(T.combine),E.push(T.fogExp2),E.push(T.sizeAttenuation),E.push(T.morphTargetsCount),E.push(T.morphAttributeCount),E.push(T.numDirLights),E.push(T.numPointLights),E.push(T.numSpotLights),E.push(T.numSpotLightMaps),E.push(T.numHemiLights),E.push(T.numRectAreaLights),E.push(T.numDirLightShadows),E.push(T.numPointLightShadows),E.push(T.numSpotLightShadows),E.push(T.numSpotLightShadowsWithMaps),E.push(T.numLightProbes),E.push(T.shadowMapType),E.push(T.toneMapping),E.push(T.numClippingPlanes),E.push(T.numClipIntersection),E.push(T.depthPacking)}(T,E),function v(E,T){a.disableAll(),T.supportsVertexTextures&&a.enable(0),T.instancing&&a.enable(1),T.instancingColor&&a.enable(2),T.instancingMorph&&a.enable(3),T.matcap&&a.enable(4),T.envMap&&a.enable(5),T.normalMapObjectSpace&&a.enable(6),T.normalMapTangentSpace&&a.enable(7),T.clearcoat&&a.enable(8),T.iridescence&&a.enable(9),T.alphaTest&&a.enable(10),T.vertexColors&&a.enable(11),T.vertexAlphas&&a.enable(12),T.vertexUv1s&&a.enable(13),T.vertexUv2s&&a.enable(14),T.vertexUv3s&&a.enable(15),T.vertexTangents&&a.enable(16),T.anisotropy&&a.enable(17),T.alphaHash&&a.enable(18),T.batching&&a.enable(19),T.dispersion&&a.enable(20),T.batchingColor&&a.enable(21),E.push(a.mask),a.disableAll(),T.fog&&a.enable(0),T.useFog&&a.enable(1),T.flatShading&&a.enable(2),T.logarithmicDepthBuffer&&a.enable(3),T.reverseDepthBuffer&&a.enable(4),T.skinning&&a.enable(5),T.morphTargets&&a.enable(6),T.morphNormals&&a.enable(7),T.morphColors&&a.enable(8),T.premultipliedAlpha&&a.enable(9),T.shadowMapEnabled&&a.enable(10),T.doubleSided&&a.enable(11),T.flipSided&&a.enable(12),T.useDepthPacking&&a.enable(13),T.dithering&&a.enable(14),T.transmission&&a.enable(15),T.sheen&&a.enable(16),T.opaque&&a.enable(17),T.pointsUvs&&a.enable(18),T.decodeVideoTexture&&a.enable(19),T.decodeVideoTextureEmissive&&a.enable(20),T.alphaToCoverage&&a.enable(21),E.push(a.mask)}(T,E),T.push(n.outputColorSpace)),T.push(E.customProgramCacheKey),T.join()},getUniforms:function _(E){const T=A[E.type];let B;return B=T?NPe.clone(iA[T].uniforms):E.uniforms,B},acquireProgram:function C(E,T){let B;for(let R=0,U=u.length;R<U;R++){const k=u[R];if(k.cacheKey===T){B=k,++B.usedTimes;break}}return void 0===B&&(B=new _ke(n,T,E,s),u.push(B)),B},releaseProgram:function b(E){if(0==--E.usedTimes){const T=u.indexOf(E);u[T]=u[u.length-1],u.pop(),E.destroy()}},releaseShaderCache:function M(E){l.remove(E)},programs:u,dispose:function D(){l.dispose()}}}function Eke(){let n=new WeakMap;return{has:function e(o){return n.has(o)},get:function t(o){let a=n.get(o);return void 0===a&&(a={},n.set(o,a)),a},remove:function r(o){n.delete(o)},update:function i(o,a,l){n.get(o)[a]=l},dispose:function s(){n=new WeakMap}}}function Ske(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function fne(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function dne(){const n=[];let e=0;const t=[],r=[],i=[];function o(h,d,f,A,p,m){let g=n[e];return void 0===g?(g={id:h.id,object:h,geometry:d,material:f,groupOrder:A,renderOrder:h.renderOrder,z:p,group:m},n[e]=g):(g.id=h.id,g.object=h,g.geometry=d,g.material=f,g.groupOrder=A,g.renderOrder=h.renderOrder,g.z=p,g.group=m),e++,g}return{opaque:t,transmissive:r,transparent:i,init:function s(){e=0,t.length=0,r.length=0,i.length=0},push:function a(h,d,f,A,p,m){const g=o(h,d,f,A,p,m);f.transmission>0?r.push(g):!0===f.transparent?i.push(g):t.push(g)},unshift:function l(h,d,f,A,p,m){const g=o(h,d,f,A,p,m);f.transmission>0?r.unshift(g):!0===f.transparent?i.unshift(g):t.unshift(g)},finish:function u(){for(let h=e,d=n.length;h<d;h++){const f=n[h];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function c(h,d){t.length>1&&t.sort(h||Ske),r.length>1&&r.sort(d||fne),i.length>1&&i.sort(d||fne)}}}function Dke(){let n=new WeakMap;return{get:function e(r,i){const s=n.get(r);let o;return void 0===s?(o=new dne,n.set(r,[o])):i>=s.length?(o=new dne,s.push(o)):o=s[i],o},dispose:function t(){n=new WeakMap}}}function Mke(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Re,color:new Ln};break;case"SpotLight":t={position:new Re,direction:new Re,color:new Ln,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Re,color:new Ln,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Re,skyColor:new Ln,groundColor:new Ln};break;case"RectAreaLight":t={color:new Ln,position:new Re,halfWidth:new Re,halfHeight:new Re}}return n[e.id]=t,t}}}let Bke=0;function Nke(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Ike(n){const e=new Mke,t=function Tke(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Re);const i=new Re,s=new Nr,o=new Nr;return{setup:function a(c){let u=0,h=0,d=0;for(let E=0;E<9;E++)r.probe[E].set(0,0,0);let f=0,A=0,p=0,m=0,g=0,y=0,v=0,_=0,C=0,b=0,M=0;c.sort(Nke);for(let E=0,T=c.length;E<T;E++){const B=c[E],R=B.color,U=B.intensity,k=B.distance,j=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)u+=R.r*U,h+=R.g*U,d+=R.b*U;else if(B.isLightProbe){for(let O=0;O<9;O++)r.probe[O].addScaledVector(B.sh.coefficients[O],U);M++}else if(B.isDirectionalLight){const O=e.get(B);if(O.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const P=B.shadow,G=t.get(B);G.shadowIntensity=P.intensity,G.shadowBias=P.bias,G.shadowNormalBias=P.normalBias,G.shadowRadius=P.radius,G.shadowMapSize=P.mapSize,r.directionalShadow[f]=G,r.directionalShadowMap[f]=j,r.directionalShadowMatrix[f]=B.shadow.matrix,y++}r.directional[f]=O,f++}else if(B.isSpotLight){const O=e.get(B);O.position.setFromMatrixPosition(B.matrixWorld),O.color.copy(R).multiplyScalar(U),O.distance=k,O.coneCos=Math.cos(B.angle),O.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),O.decay=B.decay,r.spot[p]=O;const P=B.shadow;if(B.map&&(r.spotLightMap[C]=B.map,C++,P.updateMatrices(B),B.castShadow&&b++),r.spotLightMatrix[p]=P.matrix,B.castShadow){const G=t.get(B);G.shadowIntensity=P.intensity,G.shadowBias=P.bias,G.shadowNormalBias=P.normalBias,G.shadowRadius=P.radius,G.shadowMapSize=P.mapSize,r.spotShadow[p]=G,r.spotShadowMap[p]=j,_++}p++}else if(B.isRectAreaLight){const O=e.get(B);O.color.copy(R).multiplyScalar(U),O.halfWidth.set(.5*B.width,0,0),O.halfHeight.set(0,.5*B.height,0),r.rectArea[m]=O,m++}else if(B.isPointLight){const O=e.get(B);if(O.color.copy(B.color).multiplyScalar(B.intensity),O.distance=B.distance,O.decay=B.decay,B.castShadow){const P=B.shadow,G=t.get(B);G.shadowIntensity=P.intensity,G.shadowBias=P.bias,G.shadowNormalBias=P.normalBias,G.shadowRadius=P.radius,G.shadowMapSize=P.mapSize,G.shadowCameraNear=P.camera.near,G.shadowCameraFar=P.camera.far,r.pointShadow[A]=G,r.pointShadowMap[A]=j,r.pointShadowMatrix[A]=B.shadow.matrix,v++}r.point[A]=O,A++}else if(B.isHemisphereLight){const O=e.get(B);O.skyColor.copy(B.color).multiplyScalar(U),O.groundColor.copy(B.groundColor).multiplyScalar(U),r.hemi[g]=O,g++}}m>0&&(!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=Fn.LTC_FLOAT_1,r.rectAreaLTC2=Fn.LTC_FLOAT_2):(r.rectAreaLTC1=Fn.LTC_HALF_1,r.rectAreaLTC2=Fn.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=h,r.ambient[2]=d;const D=r.hash;(D.directionalLength!==f||D.pointLength!==A||D.spotLength!==p||D.rectAreaLength!==m||D.hemiLength!==g||D.numDirectionalShadows!==y||D.numPointShadows!==v||D.numSpotShadows!==_||D.numSpotMaps!==C||D.numLightProbes!==M)&&(r.directional.length=f,r.spot.length=p,r.rectArea.length=m,r.point.length=A,r.hemi.length=g,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=v,r.pointShadowMap.length=v,r.spotShadow.length=_,r.spotShadowMap.length=_,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=v,r.spotLightMatrix.length=_+C-b,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=b,r.numLightProbes=M,D.directionalLength=f,D.pointLength=A,D.spotLength=p,D.rectAreaLength=m,D.hemiLength=g,D.numDirectionalShadows=y,D.numPointShadows=v,D.numSpotShadows=_,D.numSpotMaps=C,D.numLightProbes=M,r.version=Bke++)},setupView:function l(c,u){let h=0,d=0,f=0,A=0,p=0;const m=u.matrixWorldInverse;for(let g=0,y=c.length;g<y;g++){const v=c[g];if(v.isDirectionalLight){const _=r.directional[h];_.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(m),h++}else if(v.isSpotLight){const _=r.spot[f];_.position.setFromMatrixPosition(v.matrixWorld),_.position.applyMatrix4(m),_.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(m),f++}else if(v.isRectAreaLight){const _=r.rectArea[A];_.position.setFromMatrixPosition(v.matrixWorld),_.position.applyMatrix4(m),o.identity(),s.copy(v.matrixWorld),s.premultiply(m),o.extractRotation(s),_.halfWidth.set(.5*v.width,0,0),_.halfHeight.set(0,.5*v.height,0),_.halfWidth.applyMatrix4(o),_.halfHeight.applyMatrix4(o),A++}else if(v.isPointLight){const _=r.point[d];_.position.setFromMatrixPosition(v.matrixWorld),_.position.applyMatrix4(m),d++}else if(v.isHemisphereLight){const _=r.hemi[p];_.direction.setFromMatrixPosition(v.matrixWorld),_.direction.transformDirection(m),p++}}},state:r}}function Ane(n){const e=new Ike(n),t=[],r=[],c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function i(u){c.camera=u,t.length=0,r.length=0},state:c,setupLights:function a(){e.setup(t)},setupLightsView:function l(u){e.setupView(t,u)},pushLight:function s(u){t.push(u)},pushShadow:function o(u){r.push(u)}}}function Fke(n){let e=new WeakMap;return{get:function t(i,s=0){const o=e.get(i);let a;return void 0===o?(a=new Ane(n),e.set(i,[a])):s>=o.length?(a=new Ane(n),o.push(a)):a=o[s],a},dispose:function r(){e=new WeakMap}}}function Pke(n,e,t){let r=new MN;const i=new Ut,s=new Ut,o=new hs,a=new nte({depthPacking:3201}),l=new rte,c={},u=t.maxTextureSize,h={0:1,1:0,2:2},d=new tA({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ut},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=d.clone();f.defines.HORIZONTAL_PASS=1;const A=new Ai;A.setAttribute("position",new no(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new ua(A,d),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=MJ;let g=this.type;function y(b,M){const D=e.update(p);d.defines.VSM_SAMPLES!==b.blurSamples&&(d.defines.VSM_SAMPLES=b.blurSamples,f.defines.VSM_SAMPLES=b.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),null===b.mapPass&&(b.mapPass=new eA(i.x,i.y)),d.uniforms.shadow_pass.value=b.map.texture,d.uniforms.resolution.value=b.mapSize,d.uniforms.radius.value=b.radius,n.setRenderTarget(b.mapPass),n.clear(),n.renderBufferDirect(M,null,D,d,p,null),f.uniforms.shadow_pass.value=b.mapPass.texture,f.uniforms.resolution.value=b.mapSize,f.uniforms.radius.value=b.radius,n.setRenderTarget(b.map),n.clear(),n.renderBufferDirect(M,null,D,f,p,null)}function v(b,M,D,E){let T=null;const B=!0===D.isPointLight?b.customDistanceMaterial:b.customDepthMaterial;if(void 0!==B)T=B;else if(T=!0===D.isPointLight?l:a,n.localClippingEnabled&&!0===M.clipShadows&&Array.isArray(M.clippingPlanes)&&0!==M.clippingPlanes.length||M.displacementMap&&0!==M.displacementScale||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const R=T.uuid,U=M.uuid;let k=c[R];void 0===k&&(k={},c[R]=k);let j=k[U];void 0===j&&(j=T.clone(),k[U]=j,M.addEventListener("dispose",C)),T=j}return T.visible=M.visible,T.wireframe=M.wireframe,T.side=E===ep?null!==M.shadowSide?M.shadowSide:M.side:null!==M.shadowSide?M.shadowSide:h[M.side],T.alphaMap=M.alphaMap,T.alphaTest=M.alphaTest,T.map=M.map,T.clipShadows=M.clipShadows,T.clippingPlanes=M.clippingPlanes,T.clipIntersection=M.clipIntersection,T.displacementMap=M.displacementMap,T.displacementScale=M.displacementScale,T.displacementBias=M.displacementBias,T.wireframeLinewidth=M.wireframeLinewidth,T.linewidth=M.linewidth,!0===D.isPointLight&&!0===T.isMeshDistanceMaterial&&(n.properties.get(T).light=D),T}function _(b,M,D,E,T){if(!1===b.visible)return;if(b.layers.test(M.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&T===ep)&&(!b.frustumCulled||r.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,b.matrixWorld);const U=e.update(b),k=b.material;if(Array.isArray(k)){const j=U.groups;for(let O=0,P=j.length;O<P;O++){const G=j[O],H=k[G.materialIndex];if(H&&H.visible){const ae=v(b,H,E,T);b.onBeforeShadow(n,b,M,D,U,ae,G),n.renderBufferDirect(D,null,U,ae,b,G),b.onAfterShadow(n,b,M,D,U,ae,G)}}}else if(k.visible){const j=v(b,k,E,T);b.onBeforeShadow(n,b,M,D,U,j,null),n.renderBufferDirect(D,null,U,j,b,null),b.onAfterShadow(n,b,M,D,U,j,null)}}const R=b.children;for(let U=0,k=R.length;U<k;U++)_(R[U],M,D,E,T)}function C(b){b.target.removeEventListener("dispose",C);for(const D in c){const E=c[D],T=b.target.uuid;T in E&&(E[T].dispose(),delete E[T])}}this.render=function(b,M,D){if(!1===m.enabled||!1===m.autoUpdate&&!1===m.needsUpdate||0===b.length)return;const E=n.getRenderTarget(),T=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),R=n.state;R.setBlending(0),R.buffers.color.setClear(1,1,1,1),R.buffers.depth.setTest(!0),R.setScissorTest(!1);const U=g!==ep&&this.type===ep,k=g===ep&&this.type!==ep;for(let j=0,O=b.length;j<O;j++){const P=b[j],G=P.shadow;if(void 0===G){console.warn("THREE.WebGLShadowMap:",P,"has no shadow.");continue}if(!1===G.autoUpdate&&!1===G.needsUpdate)continue;i.copy(G.mapSize);const H=G.getFrameExtents();if(i.multiply(H),s.copy(G.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/H.x),i.x=s.x*H.x,G.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/H.y),i.y=s.y*H.y,G.mapSize.y=s.y)),null===G.map||!0===U||!0===k){const ve=this.type!==ep?{minFilter:oc,magFilter:oc}:{};null!==G.map&&G.map.dispose(),G.map=new eA(i.x,i.y,ve),G.map.texture.name=P.name+".shadowMap",G.camera.updateProjectionMatrix()}n.setRenderTarget(G.map),n.clear();const ae=G.getViewportCount();for(let ve=0;ve<ae;ve++){const Q=G.getViewport(ve);o.set(s.x*Q.x,s.y*Q.y,s.x*Q.z,s.y*Q.w),R.viewport(o),G.updateMatrices(P,ve),r=G.getFrustum(),_(M,D,G.camera,P,this.type)}!0!==G.isPointLightShadow&&this.type===ep&&y(G,D),G.needsUpdate=!1}g=this.type,m.needsUpdate=!1,n.setRenderTarget(E,T,B)}}const Lke={0:1,2:6,4:7,3:5,1:0,6:2,7:4,5:3};function Uke(n,e){const s=new function t(){let Te=!1;const yt=new hs;let nt=null;const Dt=new hs(0,0,0,0);return{setMask:function(an){nt!==an&&!Te&&(n.colorMask(an,an,an,an),nt=an)},setLocked:function(an){Te=an},setClear:function(an,Vt,Rn,Ts,Xi){!0===Xi&&(an*=Ts,Vt*=Ts,Rn*=Ts),yt.set(an,Vt,Rn,Ts),!1===Dt.equals(yt)&&(n.clearColor(an,Vt,Rn,Ts),Dt.copy(yt))},reset:function(){Te=!1,nt=null,Dt.set(-1,0,0,0)}}},o=new function r(){let Te=!1,yt=!1,nt=null,Dt=null,an=null;return{setReversed:function(Vt){if(yt!==Vt){const Rn=e.get("EXT_clip_control");Rn.clipControlEXT(Rn.LOWER_LEFT_EXT,yt?Rn.ZERO_TO_ONE_EXT:Rn.NEGATIVE_ONE_TO_ONE_EXT);const Ts=an;an=null,this.setClear(Ts)}yt=Vt},getReversed:function(){return yt},setTest:function(Vt){Vt?le(n.DEPTH_TEST):te(n.DEPTH_TEST)},setMask:function(Vt){nt!==Vt&&!Te&&(n.depthMask(Vt),nt=Vt)},setFunc:function(Vt){if(yt&&(Vt=Lke[Vt]),Dt!==Vt){switch(Vt){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}Dt=Vt}},setLocked:function(Vt){Te=Vt},setClear:function(Vt){an!==Vt&&(yt&&(Vt=1-Vt),n.clearDepth(Vt),an=Vt)},reset:function(){Te=!1,nt=null,Dt=null,an=null,yt=!1}}},a=new function i(){let Te=!1,yt=null,nt=null,Dt=null,an=null,Vt=null,Rn=null,Ts=null,Xi=null;return{setTest:function(gi){Te||(gi?le(n.STENCIL_TEST):te(n.STENCIL_TEST))},setMask:function(gi){yt!==gi&&!Te&&(n.stencilMask(gi),yt=gi)},setFunc:function(gi,Ko,Zn){(nt!==gi||Dt!==Ko||an!==Zn)&&(n.stencilFunc(gi,Ko,Zn),nt=gi,Dt=Ko,an=Zn)},setOp:function(gi,Ko,Zn){(Vt!==gi||Rn!==Ko||Ts!==Zn)&&(n.stencilOp(gi,Ko,Zn),Vt=gi,Rn=Ko,Ts=Zn)},setLocked:function(gi){Te=gi},setClear:function(gi){Xi!==gi&&(n.clearStencil(gi),Xi=gi)},reset:function(){Te=!1,yt=null,nt=null,Dt=null,an=null,Vt=null,Rn=null,Ts=null,Xi=null}}},l=new WeakMap,c=new WeakMap;let u={},h={},d=new WeakMap,f=[],A=null,p=!1,m=null,g=null,y=null,v=null,_=null,C=null,b=null,M=new Ln(0,0,0),D=0,E=!1,T=null,B=null,R=null,U=null,k=null;const j=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let O=!1,P=0;const G=n.getParameter(n.VERSION);-1!==G.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(G)[1]),O=P>=1):-1!==G.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),O=P>=2);let H=null,ae={};const ve=n.getParameter(n.SCISSOR_BOX),Q=n.getParameter(n.VIEWPORT),q=(new hs).fromArray(ve),K=(new hs).fromArray(Q);function oe(Te,yt,nt,Dt){const an=new Uint8Array(4),Vt=n.createTexture();n.bindTexture(Te,Vt),n.texParameteri(Te,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Te,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Rn=0;Rn<nt;Rn++)Te===n.TEXTURE_3D||Te===n.TEXTURE_2D_ARRAY?n.texImage3D(yt,0,n.RGBA,1,1,Dt,0,n.RGBA,n.UNSIGNED_BYTE,an):n.texImage2D(yt+Rn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,an);return Vt}const se={};function le(Te){!0!==u[Te]&&(n.enable(Te),u[Te]=!0)}function te(Te){!1!==u[Te]&&(n.disable(Te),u[Te]=!1)}se[n.TEXTURE_2D]=oe(n.TEXTURE_2D,n.TEXTURE_2D,1),se[n.TEXTURE_CUBE_MAP]=oe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),se[n.TEXTURE_2D_ARRAY]=oe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),se[n.TEXTURE_3D]=oe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),le(n.DEPTH_TEST),o.setFunc(3),W(!1),Me(1),le(n.CULL_FACE),ne(0);const ge={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};ge[103]=n.MIN,ge[104]=n.MAX;const Ee={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA,211:n.CONSTANT_COLOR,212:n.ONE_MINUS_CONSTANT_COLOR,213:n.CONSTANT_ALPHA,214:n.ONE_MINUS_CONSTANT_ALPHA};function ne(Te,yt,nt,Dt,an,Vt,Rn,Ts,Xi,gi){if(0!==Te){if(!1===p&&(le(n.BLEND),p=!0),5===Te)an=an||yt,Vt=Vt||nt,Rn=Rn||Dt,(yt!==g||an!==_)&&(n.blendEquationSeparate(ge[yt],ge[an]),g=yt,_=an),(nt!==y||Dt!==v||Vt!==C||Rn!==b)&&(n.blendFuncSeparate(Ee[nt],Ee[Dt],Ee[Vt],Ee[Rn]),y=nt,v=Dt,C=Vt,b=Rn),(!1===Ts.equals(M)||Xi!==D)&&(n.blendColor(Ts.r,Ts.g,Ts.b,Xi),M.copy(Ts),D=Xi),m=Te,E=!1;else if(Te!==m||gi!==E){if((100!==g||100!==_)&&(n.blendEquation(n.FUNC_ADD),g=100,_=100),gi)switch(Te){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te)}else switch(Te){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te)}y=null,v=null,C=null,b=null,M.set(0,0,0),D=0,m=Te,E=gi}}else!0===p&&(te(n.BLEND),p=!1)}function W(Te){T!==Te&&(n.frontFace(Te?n.CW:n.CCW),T=Te)}function Me(Te){0!==Te?(le(n.CULL_FACE),Te!==B&&n.cullFace(1===Te?n.BACK:2===Te?n.FRONT:n.FRONT_AND_BACK)):te(n.CULL_FACE),B=Te}function Pe(Te,yt,nt){Te?(le(n.POLYGON_OFFSET_FILL),(U!==yt||k!==nt)&&(n.polygonOffset(yt,nt),U=yt,k=nt)):te(n.POLYGON_OFFSET_FILL)}return{buffers:{color:s,depth:o,stencil:a},enable:le,disable:te,bindFramebuffer:function ee(Te,yt){return h[Te]!==yt&&(n.bindFramebuffer(Te,yt),h[Te]=yt,Te===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=yt),Te===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=yt),!0)},drawBuffers:function Ae(Te,yt){let nt=f,Dt=!1;if(Te){nt=d.get(yt),void 0===nt&&(nt=[],d.set(yt,nt));const an=Te.textures;if(nt.length!==an.length||nt[0]!==n.COLOR_ATTACHMENT0){for(let Vt=0,Rn=an.length;Vt<Rn;Vt++)nt[Vt]=n.COLOR_ATTACHMENT0+Vt;nt.length=an.length,Dt=!0}}else nt[0]!==n.BACK&&(nt[0]=n.BACK,Dt=!0);Dt&&n.drawBuffers(nt)},useProgram:function xe(Te){return A!==Te&&(n.useProgram(Te),A=Te,!0)},setBlending:ne,setMaterial:function Y(Te,yt){2===Te.side?te(n.CULL_FACE):le(n.CULL_FACE);let nt=1===Te.side;yt&&(nt=!nt),W(nt),1===Te.blending&&!1===Te.transparent?ne(0):ne(Te.blending,Te.blendEquation,Te.blendSrc,Te.blendDst,Te.blendEquationAlpha,Te.blendSrcAlpha,Te.blendDstAlpha,Te.blendColor,Te.blendAlpha,Te.premultipliedAlpha),o.setFunc(Te.depthFunc),o.setTest(Te.depthTest),o.setMask(Te.depthWrite),s.setMask(Te.colorWrite);const Dt=Te.stencilWrite;a.setTest(Dt),Dt&&(a.setMask(Te.stencilWriteMask),a.setFunc(Te.stencilFunc,Te.stencilRef,Te.stencilFuncMask),a.setOp(Te.stencilFail,Te.stencilZFail,Te.stencilZPass)),Pe(Te.polygonOffset,Te.polygonOffsetFactor,Te.polygonOffsetUnits),!0===Te.alphaToCoverage?le(n.SAMPLE_ALPHA_TO_COVERAGE):te(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:W,setCullFace:Me,setLineWidth:function Ce(Te){Te!==R&&(O&&n.lineWidth(Te),R=Te)},setPolygonOffset:Pe,setScissorTest:function Oe(Te){Te?le(n.SCISSOR_TEST):te(n.SCISSOR_TEST)},activeTexture:function re(Te){void 0===Te&&(Te=n.TEXTURE0+j-1),H!==Te&&(n.activeTexture(Te),H=Te)},bindTexture:function Z(Te,yt,nt){void 0===nt&&(nt=null===H?n.TEXTURE0+j-1:H);let Dt=ae[nt];void 0===Dt&&(Dt={type:void 0,texture:void 0},ae[nt]=Dt),(Dt.type!==Te||Dt.texture!==yt)&&(H!==nt&&(n.activeTexture(nt),H=nt),n.bindTexture(Te,yt||se[Te]),Dt.type=Te,Dt.texture=yt)},unbindTexture:function Ue(){const Te=ae[H];void 0!==Te&&void 0!==Te.type&&(n.bindTexture(Te.type,null),Te.type=void 0,Te.texture=void 0)},compressedTexImage2D:function Qe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},compressedTexImage3D:function rt(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},texImage2D:function vn(){try{n.texImage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},texImage3D:function pn(){try{n.texImage3D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},updateUBOMapping:function $(Te,yt){let nt=c.get(yt);void 0===nt&&(nt=new WeakMap,c.set(yt,nt));let Dt=nt.get(Te);void 0===Dt&&(Dt=n.getUniformBlockIndex(yt,Te.name),nt.set(Te,Dt))},uniformBlockBinding:function Ie(Te,yt){const Dt=c.get(yt).get(Te);l.get(yt)!==Dt&&(n.uniformBlockBinding(yt,Dt,Te.__bindingPointIndex),l.set(yt,Dt))},texStorage2D:function yn(){try{n.texStorage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},texStorage3D:function st(){try{n.texStorage3D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},texSubImage2D:function Xe(){try{n.texSubImage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},texSubImage3D:function Pt(){try{n.texSubImage3D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},compressedTexSubImage2D:function Ft(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},compressedTexSubImage3D:function Tt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},scissor:function _n(Te){!1===q.equals(Te)&&(n.scissor(Te.x,Te.y,Te.z,Te.w),q.copy(Te))},viewport:function tn(Te){!1===K.equals(Te)&&(n.viewport(Te.x,Te.y,Te.z,Te.w),K.copy(Te))},reset:function Ke(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},H=null,ae={},h={},d=new WeakMap,f=[],A=null,p=!1,m=null,g=null,y=null,v=null,_=null,C=null,b=null,M=new Ln(0,0,0),D=0,E=!1,T=null,B=null,R=null,U=null,k=null,q.set(0,0,n.canvas.width,n.canvas.height),K.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}}}function kke(n,e,t,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),c=new Ut,u=new WeakMap;let h;const d=new WeakMap;let f=!1;try{f=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function A(re,Z){return f?new OffscreenCanvas(re,Z):NE("canvas")}function p(re,Z,Ue){let Qe=1;const rt=Oe(re);if((rt.width>Ue||rt.height>Ue)&&(Qe=Ue/Math.max(rt.width,rt.height)),Qe<1){if(typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&re instanceof ImageBitmap||typeof VideoFrame<"u"&&re instanceof VideoFrame){const Xe=Math.floor(Qe*rt.width),Pt=Math.floor(Qe*rt.height);void 0===h&&(h=A(Xe,Pt));const Ft=Z?A(Xe,Pt):h;return Ft.width=Xe,Ft.height=Pt,Ft.getContext("2d").drawImage(re,0,0,Xe,Pt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+rt.width+"x"+rt.height+") to ("+Xe+"x"+Pt+")."),Ft}return"data"in re&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+rt.width+"x"+rt.height+")."),re}return re}function m(re){return re.generateMipmaps}function g(re){n.generateMipmap(re)}function y(re){return re.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:re.isWebGL3DRenderTarget?n.TEXTURE_3D:re.isWebGLArrayRenderTarget||re.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function v(re,Z,Ue,Qe,rt=!1){if(null!==re){if(void 0!==n[re])return n[re];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+re+"'")}let Xe=Z;if(Z===n.RED&&(Ue===n.FLOAT&&(Xe=n.R32F),Ue===n.HALF_FLOAT&&(Xe=n.R16F),Ue===n.UNSIGNED_BYTE&&(Xe=n.R8)),Z===n.RED_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Xe=n.R8UI),Ue===n.UNSIGNED_SHORT&&(Xe=n.R16UI),Ue===n.UNSIGNED_INT&&(Xe=n.R32UI),Ue===n.BYTE&&(Xe=n.R8I),Ue===n.SHORT&&(Xe=n.R16I),Ue===n.INT&&(Xe=n.R32I)),Z===n.RG&&(Ue===n.FLOAT&&(Xe=n.RG32F),Ue===n.HALF_FLOAT&&(Xe=n.RG16F),Ue===n.UNSIGNED_BYTE&&(Xe=n.RG8)),Z===n.RG_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Xe=n.RG8UI),Ue===n.UNSIGNED_SHORT&&(Xe=n.RG16UI),Ue===n.UNSIGNED_INT&&(Xe=n.RG32UI),Ue===n.BYTE&&(Xe=n.RG8I),Ue===n.SHORT&&(Xe=n.RG16I),Ue===n.INT&&(Xe=n.RG32I)),Z===n.RGB_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Xe=n.RGB8UI),Ue===n.UNSIGNED_SHORT&&(Xe=n.RGB16UI),Ue===n.UNSIGNED_INT&&(Xe=n.RGB32UI),Ue===n.BYTE&&(Xe=n.RGB8I),Ue===n.SHORT&&(Xe=n.RGB16I),Ue===n.INT&&(Xe=n.RGB32I)),Z===n.RGBA_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Xe=n.RGBA8UI),Ue===n.UNSIGNED_SHORT&&(Xe=n.RGBA16UI),Ue===n.UNSIGNED_INT&&(Xe=n.RGBA32UI),Ue===n.BYTE&&(Xe=n.RGBA8I),Ue===n.SHORT&&(Xe=n.RGBA16I),Ue===n.INT&&(Xe=n.RGBA32I)),Z===n.RGB&&Ue===n.UNSIGNED_INT_5_9_9_9_REV&&(Xe=n.RGB9_E5),Z===n.RGBA){const Pt=rt?tN:ss.getTransfer(Qe);Ue===n.FLOAT&&(Xe=n.RGBA32F),Ue===n.HALF_FLOAT&&(Xe=n.RGBA16F),Ue===n.UNSIGNED_BYTE&&(Xe=Pt===qs?n.SRGB8_ALPHA8:n.RGBA8),Ue===n.UNSIGNED_SHORT_4_4_4_4&&(Xe=n.RGBA4),Ue===n.UNSIGNED_SHORT_5_5_5_1&&(Xe=n.RGB5_A1)}return(Xe===n.R16F||Xe===n.R32F||Xe===n.RG16F||Xe===n.RG32F||Xe===n.RGBA16F||Xe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Xe}function _(re,Z){let Ue;return re?null===Z||Z===Zg||Z===x1?Ue=n.DEPTH24_STENCIL8:Z===ih?Ue=n.DEPTH32F_STENCIL8:Z===ME&&(Ue=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===Z||Z===Zg||Z===x1?Ue=n.DEPTH_COMPONENT24:Z===ih?Ue=n.DEPTH_COMPONENT32F:Z===ME&&(Ue=n.DEPTH_COMPONENT16),Ue}function C(re,Z){return!0===m(re)||re.isFramebufferTexture&&re.minFilter!==oc&&re.minFilter!==hl?Math.log2(Math.max(Z.width,Z.height))+1:void 0!==re.mipmaps&&re.mipmaps.length>0?re.mipmaps.length:re.isCompressedTexture&&Array.isArray(re.image)?Z.mipmaps.length:1}function b(re){const Z=re.target;Z.removeEventListener("dispose",b),function D(re){const Z=r.get(re);if(void 0===Z.__webglInit)return;const Ue=re.source,Qe=d.get(Ue);if(Qe){const rt=Qe[Z.__cacheKey];rt.usedTimes--,0===rt.usedTimes&&E(re),0===Object.keys(Qe).length&&d.delete(Ue)}r.remove(re)}(Z),Z.isVideoTexture&&u.delete(Z)}function M(re){const Z=re.target;Z.removeEventListener("dispose",M),function T(re){const Z=r.get(re);if(re.depthTexture&&(re.depthTexture.dispose(),r.remove(re.depthTexture)),re.isWebGLCubeRenderTarget)for(let Qe=0;Qe<6;Qe++){if(Array.isArray(Z.__webglFramebuffer[Qe]))for(let rt=0;rt<Z.__webglFramebuffer[Qe].length;rt++)n.deleteFramebuffer(Z.__webglFramebuffer[Qe][rt]);else n.deleteFramebuffer(Z.__webglFramebuffer[Qe]);Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer[Qe])}else{if(Array.isArray(Z.__webglFramebuffer))for(let Qe=0;Qe<Z.__webglFramebuffer.length;Qe++)n.deleteFramebuffer(Z.__webglFramebuffer[Qe]);else n.deleteFramebuffer(Z.__webglFramebuffer);if(Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let Qe=0;Qe<Z.__webglColorRenderbuffer.length;Qe++)Z.__webglColorRenderbuffer[Qe]&&n.deleteRenderbuffer(Z.__webglColorRenderbuffer[Qe]);Z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}const Ue=re.textures;for(let Qe=0,rt=Ue.length;Qe<rt;Qe++){const Xe=r.get(Ue[Qe]);Xe.__webglTexture&&(n.deleteTexture(Xe.__webglTexture),o.memory.textures--),r.remove(Ue[Qe])}r.remove(re)}(Z)}function E(re){const Z=r.get(re);n.deleteTexture(Z.__webglTexture),delete d.get(re.source)[Z.__cacheKey],o.memory.textures--}let B=0;function j(re,Z){const Ue=r.get(re);if(re.isVideoTexture&&function Ce(re){const Z=o.render.frame;u.get(re)!==Z&&(u.set(re,Z),re.update())}(re),!1===re.isRenderTargetTexture&&re.version>0&&Ue.__version!==re.version){const Qe=re.image;if(null===Qe)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Qe.complete)return void K(Ue,re,Z);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,Ue.__webglTexture,n.TEXTURE0+Z)}const H={1e3:n.REPEAT,[Yf]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},ae={[oc]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[hl]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[np]:n.LINEAR_MIPMAP_LINEAR},ve={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function Q(re,Z){if(Z.type===ih&&!1===e.has("OES_texture_float_linear")&&(Z.magFilter===hl||1007===Z.magFilter||1005===Z.magFilter||Z.magFilter===np||Z.minFilter===hl||1007===Z.minFilter||1005===Z.minFilter||Z.minFilter===np)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(re,n.TEXTURE_WRAP_S,H[Z.wrapS]),n.texParameteri(re,n.TEXTURE_WRAP_T,H[Z.wrapT]),(re===n.TEXTURE_3D||re===n.TEXTURE_2D_ARRAY)&&n.texParameteri(re,n.TEXTURE_WRAP_R,H[Z.wrapR]),n.texParameteri(re,n.TEXTURE_MAG_FILTER,ae[Z.magFilter]),n.texParameteri(re,n.TEXTURE_MIN_FILTER,ae[Z.minFilter]),Z.compareFunction&&(n.texParameteri(re,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(re,n.TEXTURE_COMPARE_FUNC,ve[Z.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(Z.magFilter===oc||1005!==Z.minFilter&&Z.minFilter!==np||Z.type===ih&&!1===e.has("OES_texture_float_linear"))return;if(Z.anisotropy>1||r.get(Z).__currentAnisotropy){const Ue=e.get("EXT_texture_filter_anisotropic");n.texParameterf(re,Ue.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,i.getMaxAnisotropy())),r.get(Z).__currentAnisotropy=Z.anisotropy}}}function q(re,Z){let Ue=!1;void 0===re.__webglInit&&(re.__webglInit=!0,Z.addEventListener("dispose",b));const Qe=Z.source;let rt=d.get(Qe);void 0===rt&&(rt={},d.set(Qe,rt));const Xe=function k(re){const Z=[];return Z.push(re.wrapS),Z.push(re.wrapT),Z.push(re.wrapR||0),Z.push(re.magFilter),Z.push(re.minFilter),Z.push(re.anisotropy),Z.push(re.internalFormat),Z.push(re.format),Z.push(re.type),Z.push(re.generateMipmaps),Z.push(re.premultiplyAlpha),Z.push(re.flipY),Z.push(re.unpackAlignment),Z.push(re.colorSpace),Z.join()}(Z);if(Xe!==re.__cacheKey){void 0===rt[Xe]&&(rt[Xe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Ue=!0),rt[Xe].usedTimes++;const Pt=rt[re.__cacheKey];void 0!==Pt&&(rt[re.__cacheKey].usedTimes--,0===Pt.usedTimes&&E(Z)),re.__cacheKey=Xe,re.__webglTexture=rt[Xe].texture}return Ue}function K(re,Z,Ue){let Qe=n.TEXTURE_2D;(Z.isDataArrayTexture||Z.isCompressedArrayTexture)&&(Qe=n.TEXTURE_2D_ARRAY),Z.isData3DTexture&&(Qe=n.TEXTURE_3D);const rt=q(re,Z),Xe=Z.source;t.bindTexture(Qe,re.__webglTexture,n.TEXTURE0+Ue);const Pt=r.get(Xe);if(Xe.version!==Pt.__version||!0===rt){t.activeTexture(n.TEXTURE0+Ue);const Ft=ss.getPrimaries(ss.workingColorSpace),Tt=""===Z.colorSpace?null:ss.getPrimaries(Z.colorSpace),yn=""===Z.colorSpace||Ft===Tt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,yn);let st=p(Z.image,!1,i.maxTextureSize);st=Pe(Z,st);const vn=s.convert(Z.format,Z.colorSpace),pn=s.convert(Z.type);let tn,_n=v(Z.internalFormat,vn,pn,Z.colorSpace,Z.isVideoTexture);Q(Qe,Z);const $=Z.mipmaps,Ie=!0!==Z.isVideoTexture,Ke=void 0===Pt.__version||!0===rt,Te=Xe.dataReady,yt=C(Z,st);if(Z.isDepthTexture)_n=_(Z.format===S1,Z.type),Ke&&(Ie?t.texStorage2D(n.TEXTURE_2D,1,_n,st.width,st.height):t.texImage2D(n.TEXTURE_2D,0,_n,st.width,st.height,0,vn,pn,null));else if(Z.isDataTexture)if($.length>0){Ie&&Ke&&t.texStorage2D(n.TEXTURE_2D,yt,_n,$[0].width,$[0].height);for(let nt=0,Dt=$.length;nt<Dt;nt++)tn=$[nt],Ie?Te&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,tn.width,tn.height,vn,pn,tn.data):t.texImage2D(n.TEXTURE_2D,nt,_n,tn.width,tn.height,0,vn,pn,tn.data);Z.generateMipmaps=!1}else Ie?(Ke&&t.texStorage2D(n.TEXTURE_2D,yt,_n,st.width,st.height),Te&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,st.width,st.height,vn,pn,st.data)):t.texImage2D(n.TEXTURE_2D,0,_n,st.width,st.height,0,vn,pn,st.data);else if(Z.isCompressedTexture)if(Z.isCompressedArrayTexture){Ie&&Ke&&t.texStorage3D(n.TEXTURE_2D_ARRAY,yt,_n,$[0].width,$[0].height,st.depth);for(let nt=0,Dt=$.length;nt<Dt;nt++)if(tn=$[nt],Z.format!==vu)if(null!==vn)if(Ie){if(Te)if(Z.layerUpdates.size>0){const an=jH(tn.width,tn.height,Z.format,Z.type);for(const Vt of Z.layerUpdates){const Rn=tn.data.subarray(Vt*an/tn.data.BYTES_PER_ELEMENT,(Vt+1)*an/tn.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,Vt,tn.width,tn.height,1,vn,Rn)}Z.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,tn.width,tn.height,st.depth,vn,tn.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,nt,_n,tn.width,tn.height,st.depth,0,tn.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ie?Te&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,tn.width,tn.height,st.depth,vn,pn,tn.data):t.texImage3D(n.TEXTURE_2D_ARRAY,nt,_n,tn.width,tn.height,st.depth,0,vn,pn,tn.data)}else{Ie&&Ke&&t.texStorage2D(n.TEXTURE_2D,yt,_n,$[0].width,$[0].height);for(let nt=0,Dt=$.length;nt<Dt;nt++)tn=$[nt],Z.format!==vu?null!==vn?Ie?Te&&t.compressedTexSubImage2D(n.TEXTURE_2D,nt,0,0,tn.width,tn.height,vn,tn.data):t.compressedTexImage2D(n.TEXTURE_2D,nt,_n,tn.width,tn.height,0,tn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ie?Te&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,tn.width,tn.height,vn,pn,tn.data):t.texImage2D(n.TEXTURE_2D,nt,_n,tn.width,tn.height,0,vn,pn,tn.data)}else if(Z.isDataArrayTexture)if(Ie){if(Ke&&t.texStorage3D(n.TEXTURE_2D_ARRAY,yt,_n,st.width,st.height,st.depth),Te)if(Z.layerUpdates.size>0){const nt=jH(st.width,st.height,Z.format,Z.type);for(const Dt of Z.layerUpdates){const an=st.data.subarray(Dt*nt/st.data.BYTES_PER_ELEMENT,(Dt+1)*nt/st.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Dt,st.width,st.height,1,vn,pn,an)}Z.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,st.width,st.height,st.depth,vn,pn,st.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,_n,st.width,st.height,st.depth,0,vn,pn,st.data);else if(Z.isData3DTexture)Ie?(Ke&&t.texStorage3D(n.TEXTURE_3D,yt,_n,st.width,st.height,st.depth),Te&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,st.width,st.height,st.depth,vn,pn,st.data)):t.texImage3D(n.TEXTURE_3D,0,_n,st.width,st.height,st.depth,0,vn,pn,st.data);else if(Z.isFramebufferTexture){if(Ke)if(Ie)t.texStorage2D(n.TEXTURE_2D,yt,_n,st.width,st.height);else{let nt=st.width,Dt=st.height;for(let an=0;an<yt;an++)t.texImage2D(n.TEXTURE_2D,an,_n,nt,Dt,0,vn,pn,null),nt>>=1,Dt>>=1}}else if($.length>0){if(Ie&&Ke){const nt=Oe($[0]);t.texStorage2D(n.TEXTURE_2D,yt,_n,nt.width,nt.height)}for(let nt=0,Dt=$.length;nt<Dt;nt++)tn=$[nt],Ie?Te&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,vn,pn,tn):t.texImage2D(n.TEXTURE_2D,nt,_n,vn,pn,tn);Z.generateMipmaps=!1}else if(Ie){if(Ke){const nt=Oe(st);t.texStorage2D(n.TEXTURE_2D,yt,_n,nt.width,nt.height)}Te&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,vn,pn,st)}else t.texImage2D(n.TEXTURE_2D,0,_n,vn,pn,st);m(Z)&&g(Qe),Pt.__version=Xe.version,Z.onUpdate&&Z.onUpdate(Z)}re.__version=Z.version}function se(re,Z,Ue,Qe,rt,Xe){const Pt=s.convert(Ue.format,Ue.colorSpace),Ft=s.convert(Ue.type),Tt=v(Ue.internalFormat,Pt,Ft,Ue.colorSpace),yn=r.get(Z),st=r.get(Ue);if(st.__renderTarget=Z,!yn.__hasExternalTextures){const vn=Math.max(1,Z.width>>Xe),pn=Math.max(1,Z.height>>Xe);rt===n.TEXTURE_3D||rt===n.TEXTURE_2D_ARRAY?t.texImage3D(rt,Xe,Tt,vn,pn,Z.depth,0,Pt,Ft,null):t.texImage2D(rt,Xe,Tt,vn,pn,0,Pt,Ft,null)}t.bindFramebuffer(n.FRAMEBUFFER,re),Me(Z)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Qe,rt,st.__webglTexture,0,W(Z)):(rt===n.TEXTURE_2D||rt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&rt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Qe,rt,st.__webglTexture,Xe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function le(re,Z,Ue){if(n.bindRenderbuffer(n.RENDERBUFFER,re),Z.depthBuffer){const Qe=Z.depthTexture,Xe=_(Z.stencilBuffer,Qe&&Qe.isDepthTexture?Qe.type:null),Pt=Z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ft=W(Z);Me(Z)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ft,Xe,Z.width,Z.height):Ue?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ft,Xe,Z.width,Z.height):n.renderbufferStorage(n.RENDERBUFFER,Xe,Z.width,Z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Pt,n.RENDERBUFFER,re)}else{const Qe=Z.textures;for(let rt=0;rt<Qe.length;rt++){const Xe=Qe[rt],Pt=s.convert(Xe.format,Xe.colorSpace),Ft=s.convert(Xe.type),Tt=v(Xe.internalFormat,Pt,Ft,Xe.colorSpace),yn=W(Z);Ue&&!1===Me(Z)?n.renderbufferStorageMultisample(n.RENDERBUFFER,yn,Tt,Z.width,Z.height):Me(Z)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,yn,Tt,Z.width,Z.height):n.renderbufferStorage(n.RENDERBUFFER,Tt,Z.width,Z.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ee(re){const Z=r.get(re),Ue=!0===re.isWebGLCubeRenderTarget;if(Z.__boundDepthTexture!==re.depthTexture){const Qe=re.depthTexture;if(Z.__depthDisposeCallback&&Z.__depthDisposeCallback(),Qe){const rt=()=>{delete Z.__boundDepthTexture,delete Z.__depthDisposeCallback,Qe.removeEventListener("dispose",rt)};Qe.addEventListener("dispose",rt),Z.__depthDisposeCallback=rt}Z.__boundDepthTexture=Qe}if(re.depthTexture&&!Z.__autoAllocateDepthBuffer){if(Ue)throw new Error("target.depthTexture not supported in Cube render targets");!function te(re,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,re),!Z.depthTexture||!Z.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Qe=r.get(Z.depthTexture);Qe.__renderTarget=Z,(!Qe.__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),j(Z.depthTexture,0);const rt=Qe.__webglTexture,Xe=W(Z);if(Z.depthTexture.format===E1)Me(Z)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,rt,0,Xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,rt,0);else{if(Z.depthTexture.format!==S1)throw new Error("Unknown depthTexture format");Me(Z)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,rt,0,Xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,rt,0)}}(Z.__webglFramebuffer,re)}else if(Ue){Z.__webglDepthbuffer=[];for(let Qe=0;Qe<6;Qe++)if(t.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer[Qe]),void 0===Z.__webglDepthbuffer[Qe])Z.__webglDepthbuffer[Qe]=n.createRenderbuffer(),le(Z.__webglDepthbuffer[Qe],re,!1);else{const rt=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Xe=Z.__webglDepthbuffer[Qe];n.bindRenderbuffer(n.RENDERBUFFER,Xe),n.framebufferRenderbuffer(n.FRAMEBUFFER,rt,n.RENDERBUFFER,Xe)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer),void 0===Z.__webglDepthbuffer)Z.__webglDepthbuffer=n.createRenderbuffer(),le(Z.__webglDepthbuffer,re,!1);else{const Qe=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,rt=Z.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,rt),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,rt)}t.bindFramebuffer(n.FRAMEBUFFER,null)}const Ee=[],ne=[];function W(re){return Math.min(i.maxSamples,re.samples)}function Me(re){const Z=r.get(re);return re.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==Z.__useRenderToTexture}function Pe(re,Z){const Ue=re.colorSpace,Qe=re.format,rt=re.type;return!0===re.isCompressedTexture||!0===re.isVideoTexture||Ue!==T1&&""!==Ue&&(ss.getTransfer(Ue)===qs?(Qe!==vu||rt!==rp)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ue)),Z}function Oe(re){return typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement?(c.width=re.naturalWidth||re.width,c.height=re.naturalHeight||re.height):typeof VideoFrame<"u"&&re instanceof VideoFrame?(c.width=re.displayWidth,c.height=re.displayHeight):(c.width=re.width,c.height=re.height),c}this.allocateTextureUnit=function U(){const re=B;return re>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+re+" texture units while this GPU supports only "+i.maxTextures),B+=1,re},this.resetTextureUnits=function R(){B=0},this.setTexture2D=j,this.setTexture2DArray=function O(re,Z){const Ue=r.get(re);re.version>0&&Ue.__version!==re.version?K(Ue,re,Z):t.bindTexture(n.TEXTURE_2D_ARRAY,Ue.__webglTexture,n.TEXTURE0+Z)},this.setTexture3D=function P(re,Z){const Ue=r.get(re);re.version>0&&Ue.__version!==re.version?K(Ue,re,Z):t.bindTexture(n.TEXTURE_3D,Ue.__webglTexture,n.TEXTURE0+Z)},this.setTextureCube=function G(re,Z){const Ue=r.get(re);re.version>0&&Ue.__version!==re.version?function oe(re,Z,Ue){if(6!==Z.image.length)return;const Qe=q(re,Z),rt=Z.source;t.bindTexture(n.TEXTURE_CUBE_MAP,re.__webglTexture,n.TEXTURE0+Ue);const Xe=r.get(rt);if(rt.version!==Xe.__version||!0===Qe){t.activeTexture(n.TEXTURE0+Ue);const Pt=ss.getPrimaries(ss.workingColorSpace),Ft=""===Z.colorSpace?null:ss.getPrimaries(Z.colorSpace),Tt=""===Z.colorSpace||Pt===Ft?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Tt);const yn=Z.isCompressedTexture||Z.image[0].isCompressedTexture,st=Z.image[0]&&Z.image[0].isDataTexture,vn=[];for(let Dt=0;Dt<6;Dt++)vn[Dt]=yn||st?st?Z.image[Dt].image:Z.image[Dt]:p(Z.image[Dt],!0,i.maxCubemapSize),vn[Dt]=Pe(Z,vn[Dt]);const pn=vn[0],_n=s.convert(Z.format,Z.colorSpace),tn=s.convert(Z.type),$=v(Z.internalFormat,_n,tn,Z.colorSpace),Ie=!0!==Z.isVideoTexture,Ke=void 0===Xe.__version||!0===Qe,Te=rt.dataReady;let nt,yt=C(Z,pn);if(Q(n.TEXTURE_CUBE_MAP,Z),yn){Ie&&Ke&&t.texStorage2D(n.TEXTURE_CUBE_MAP,yt,$,pn.width,pn.height);for(let Dt=0;Dt<6;Dt++){nt=vn[Dt].mipmaps;for(let an=0;an<nt.length;an++){const Vt=nt[an];Z.format!==vu?null!==_n?Ie?Te&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an,0,0,Vt.width,Vt.height,_n,Vt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an,$,Vt.width,Vt.height,0,Vt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ie?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an,0,0,Vt.width,Vt.height,_n,tn,Vt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an,$,Vt.width,Vt.height,0,_n,tn,Vt.data)}}}else{if(nt=Z.mipmaps,Ie&&Ke){nt.length>0&&yt++;const Dt=Oe(vn[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,yt,$,Dt.width,Dt.height)}for(let Dt=0;Dt<6;Dt++)if(st){Ie?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0,0,0,vn[Dt].width,vn[Dt].height,_n,tn,vn[Dt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0,$,vn[Dt].width,vn[Dt].height,0,_n,tn,vn[Dt].data);for(let an=0;an<nt.length;an++){const Rn=nt[an].image[Dt].image;Ie?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an+1,0,0,Rn.width,Rn.height,_n,tn,Rn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an+1,$,Rn.width,Rn.height,0,_n,tn,Rn.data)}}else{Ie?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0,0,0,_n,tn,vn[Dt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0,$,_n,tn,vn[Dt]);for(let an=0;an<nt.length;an++){const Vt=nt[an];Ie?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an+1,0,0,_n,tn,Vt.image[Dt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an+1,$,_n,tn,Vt.image[Dt])}}}m(Z)&&g(n.TEXTURE_CUBE_MAP),Xe.__version=rt.version,Z.onUpdate&&Z.onUpdate(Z)}re.__version=Z.version}(Ue,re,Z):t.bindTexture(n.TEXTURE_CUBE_MAP,Ue.__webglTexture,n.TEXTURE0+Z)},this.rebindTextures=function Ae(re,Z,Ue){const Qe=r.get(re);void 0!==Z&&se(Qe.__webglFramebuffer,re,re.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==Ue&&ee(re)},this.setupRenderTarget=function xe(re){const Z=re.texture,Ue=r.get(re),Qe=r.get(Z);re.addEventListener("dispose",M);const rt=re.textures,Xe=!0===re.isWebGLCubeRenderTarget,Pt=rt.length>1;if(Pt||(void 0===Qe.__webglTexture&&(Qe.__webglTexture=n.createTexture()),Qe.__version=Z.version,o.memory.textures++),Xe){Ue.__webglFramebuffer=[];for(let Ft=0;Ft<6;Ft++)if(Z.mipmaps&&Z.mipmaps.length>0){Ue.__webglFramebuffer[Ft]=[];for(let Tt=0;Tt<Z.mipmaps.length;Tt++)Ue.__webglFramebuffer[Ft][Tt]=n.createFramebuffer()}else Ue.__webglFramebuffer[Ft]=n.createFramebuffer()}else{if(Z.mipmaps&&Z.mipmaps.length>0){Ue.__webglFramebuffer=[];for(let Ft=0;Ft<Z.mipmaps.length;Ft++)Ue.__webglFramebuffer[Ft]=n.createFramebuffer()}else Ue.__webglFramebuffer=n.createFramebuffer();if(Pt)for(let Ft=0,Tt=rt.length;Ft<Tt;Ft++){const yn=r.get(rt[Ft]);void 0===yn.__webglTexture&&(yn.__webglTexture=n.createTexture(),o.memory.textures++)}if(re.samples>0&&!1===Me(re)){Ue.__webglMultisampledFramebuffer=n.createFramebuffer(),Ue.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer);for(let Ft=0;Ft<rt.length;Ft++){const Tt=rt[Ft];Ue.__webglColorRenderbuffer[Ft]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ue.__webglColorRenderbuffer[Ft]);const yn=s.convert(Tt.format,Tt.colorSpace),st=s.convert(Tt.type),vn=v(Tt.internalFormat,yn,st,Tt.colorSpace,!0===re.isXRRenderTarget),pn=W(re);n.renderbufferStorageMultisample(n.RENDERBUFFER,pn,vn,re.width,re.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ft,n.RENDERBUFFER,Ue.__webglColorRenderbuffer[Ft])}n.bindRenderbuffer(n.RENDERBUFFER,null),re.depthBuffer&&(Ue.__webglDepthRenderbuffer=n.createRenderbuffer(),le(Ue.__webglDepthRenderbuffer,re,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Xe){t.bindTexture(n.TEXTURE_CUBE_MAP,Qe.__webglTexture),Q(n.TEXTURE_CUBE_MAP,Z);for(let Ft=0;Ft<6;Ft++)if(Z.mipmaps&&Z.mipmaps.length>0)for(let Tt=0;Tt<Z.mipmaps.length;Tt++)se(Ue.__webglFramebuffer[Ft][Tt],re,Z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,Tt);else se(Ue.__webglFramebuffer[Ft],re,Z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,0);m(Z)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Pt){for(let Ft=0,Tt=rt.length;Ft<Tt;Ft++){const yn=rt[Ft],st=r.get(yn);t.bindTexture(n.TEXTURE_2D,st.__webglTexture),Q(n.TEXTURE_2D,yn),se(Ue.__webglFramebuffer,re,yn,n.COLOR_ATTACHMENT0+Ft,n.TEXTURE_2D,0),m(yn)&&g(n.TEXTURE_2D)}t.unbindTexture()}else{let Ft=n.TEXTURE_2D;if((re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(Ft=re.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ft,Qe.__webglTexture),Q(Ft,Z),Z.mipmaps&&Z.mipmaps.length>0)for(let Tt=0;Tt<Z.mipmaps.length;Tt++)se(Ue.__webglFramebuffer[Tt],re,Z,n.COLOR_ATTACHMENT0,Ft,Tt);else se(Ue.__webglFramebuffer,re,Z,n.COLOR_ATTACHMENT0,Ft,0);m(Z)&&g(Ft),t.unbindTexture()}re.depthBuffer&&ee(re)},this.updateRenderTargetMipmap=function ge(re){const Z=re.textures;for(let Ue=0,Qe=Z.length;Ue<Qe;Ue++){const rt=Z[Ue];if(m(rt)){const Xe=y(re),Pt=r.get(rt).__webglTexture;t.bindTexture(Xe,Pt),g(Xe),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Y(re){if(re.samples>0)if(!1===Me(re)){const Z=re.textures,Ue=re.width,Qe=re.height;let rt=n.COLOR_BUFFER_BIT;const Xe=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Pt=r.get(re),Ft=Z.length>1;if(Ft)for(let Tt=0;Tt<Z.length;Tt++)t.bindFramebuffer(n.FRAMEBUFFER,Pt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Pt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Pt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Pt.__webglFramebuffer);for(let Tt=0;Tt<Z.length;Tt++){if(re.resolveDepthBuffer&&(re.depthBuffer&&(rt|=n.DEPTH_BUFFER_BIT),re.stencilBuffer&&re.resolveStencilBuffer&&(rt|=n.STENCIL_BUFFER_BIT)),Ft){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Pt.__webglColorRenderbuffer[Tt]);const yn=r.get(Z[Tt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,yn,0)}n.blitFramebuffer(0,0,Ue,Qe,0,0,Ue,Qe,rt,n.NEAREST),!0===l&&(Ee.length=0,ne.length=0,Ee.push(n.COLOR_ATTACHMENT0+Tt),re.depthBuffer&&!1===re.resolveDepthBuffer&&(Ee.push(Xe),ne.push(Xe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ne)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ee))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ft)for(let Tt=0;Tt<Z.length;Tt++){t.bindFramebuffer(n.FRAMEBUFFER,Pt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.RENDERBUFFER,Pt.__webglColorRenderbuffer[Tt]);const yn=r.get(Z[Tt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Pt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.TEXTURE_2D,yn,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Pt.__webglMultisampledFramebuffer)}else re.depthBuffer&&!1===re.resolveDepthBuffer&&l&&n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT])},this.setupDepthRenderbuffer=ee,this.setupFrameBufferTexture=se,this.useMultisampledRTT=Me}function Hke(n,e){return{convert:function t(r,i=""){let s;const o=ss.getTransfer(i);if(r===rp)return n.UNSIGNED_BYTE;if(r===Y4)return n.UNSIGNED_SHORT_4_4_4_4;if(r===Z4)return n.UNSIGNED_SHORT_5_5_5_1;if(r===PJ)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===RJ)return n.BYTE;if(r===OJ)return n.SHORT;if(r===ME)return n.UNSIGNED_SHORT;if(r===X4)return n.INT;if(r===Zg)return n.UNSIGNED_INT;if(r===ih)return n.FLOAT;if(r===TE)return n.HALF_FLOAT;if(r===LJ)return n.ALPHA;if(r===UJ)return n.RGB;if(r===vu)return n.RGBA;if(r===kJ)return n.LUMINANCE;if(r===HJ)return n.LUMINANCE_ALPHA;if(r===E1)return n.DEPTH_COMPONENT;if(r===S1)return n.DEPTH_STENCIL;if(r===J4)return n.RED;if(r===WB)return n.RED_INTEGER;if(r===VJ)return n.RG;if(r===ek)return n.RG_INTEGER;if(r===tk)return n.RGBA_INTEGER;if(r===$B||r===KB||r===XB||r===YB)if(o===qs){if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===s)return null;if(r===$B)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===KB)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===XB)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===YB)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(s=e.get("WEBGL_compressed_texture_s3tc"),null===s)return null;if(r===$B)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===KB)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===XB)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===YB)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(r===nk||r===rk||r===ik||r===sk){if(s=e.get("WEBGL_compressed_texture_pvrtc"),null===s)return null;if(r===nk)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===rk)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===ik)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===sk)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===ok||r===ak||r===lk){if(s=e.get("WEBGL_compressed_texture_etc"),null===s)return null;if(r===ok||r===ak)return o===qs?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===lk)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}if(r===ck||r===uk||r===hk||r===fk||r===dk||r===Ak||r===pk||r===gk||r===mk||r===vk||r===yk||r===_k||r===bk||r===wk){if(s=e.get("WEBGL_compressed_texture_astc"),null===s)return null;if(r===ck)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===uk)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===hk)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===fk)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===dk)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Ak)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===pk)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===gk)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===mk)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===vk)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===yk)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===_k)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===bk)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===wk)return o===qs?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}if(r===ZB||r===Ck||r===xk){if(s=e.get("EXT_texture_compression_bptc"),null===s)return null;if(r===ZB)return o===qs?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Ck)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===xk)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(r===QJ||r===Ek||r===Sk||r===Dk){if(s=e.get("EXT_texture_compression_rgtc"),null===s)return null;if(r===ZB)return s.COMPRESSED_RED_RGTC1_EXT;if(r===Ek)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Sk)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Dk)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return r===x1?n.UNSIGNED_INT_24_8:void 0!==n[r]?n[r]:null}}}const Vke={type:"move"};class r8{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new qE,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new qE,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Re),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new qE,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Re),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){o=!0;for(const p of e.hand.values()){const m=t.getJointPose(p,r),g=this._getHandJoint(c,p);null!==m&&(g.matrix.fromArray(m.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=m.radius),g.visible=null!==m}const d=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),f=.02,A=.005;c.inputState.pinching&&d>f+A?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=f-A&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(i=t.getPose(e.targetRaySpace,r),null===i&&null!==s&&(i=s),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Vke)))}return null!==a&&(a.visible=null!==i),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const r=new qE;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class Gke{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(null===this.texture){const i=new yu;e.properties.get(i).__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,r=new tA({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ua(new YE(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class qke extends sp{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,d=null,f=null,A=null;const p=new Gke,m=t.getContextAttributes();let g=null,y=null;const v=[],_=[],C=new Ut;let b=null;const M=new Ol;M.viewport=new hs;const D=new Ol;D.viewport=new hs;const E=[M,D],T=new uLe;let B=null,R=null;function U(K){const oe=_.indexOf(K.inputSource);if(-1===oe)return;const se=v[oe];void 0!==se&&(se.update(K.inputSource,K.frame,c||o),se.dispatchEvent({type:K.type,data:K.inputSource}))}function k(){i.removeEventListener("select",U),i.removeEventListener("selectstart",U),i.removeEventListener("selectend",U),i.removeEventListener("squeeze",U),i.removeEventListener("squeezestart",U),i.removeEventListener("squeezeend",U),i.removeEventListener("end",k),i.removeEventListener("inputsourceschange",j);for(let K=0;K<v.length;K++){const oe=_[K];null!==oe&&(_[K]=null,v[K].disconnect(oe))}B=null,R=null,p.reset(),e.setRenderTarget(g),f=null,d=null,h=null,i=null,y=null,q.stop(),r.isPresenting=!1,e.setPixelRatio(b),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}function j(K){for(let oe=0;oe<K.removed.length;oe++){const se=K.removed[oe],le=_.indexOf(se);le>=0&&(_[le]=null,v[le].disconnect(se))}for(let oe=0;oe<K.added.length;oe++){const se=K.added[oe];let le=_.indexOf(se);if(-1===le){for(let ee=0;ee<v.length;ee++){if(ee>=_.length){_.push(se),le=ee;break}if(null===_[ee]){_[ee]=se,le=ee;break}}if(-1===le)break}const te=v[le];te&&te.connect(se)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(K){let oe=v[K];return void 0===oe&&(oe=new r8,v[K]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function(K){let oe=v[K];return void 0===oe&&(oe=new r8,v[K]=oe),oe.getGripSpace()},this.getHand=function(K){let oe=v[K];return void 0===oe&&(oe=new r8,v[K]=oe),oe.getHandSpace()},this.setFramebufferScaleFactor=function(K){s=K,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(K){a=K,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(K){c=K},this.getBaseLayer=function(){return null!==d?d:f},this.getBinding=function(){return h},this.getFrame=function(){return A},this.getSession=function(){return i},this.setSession=function(){var K=(0,_t.A)(function*(oe){if(i=oe,null!==i){if(g=e.getRenderTarget(),i.addEventListener("select",U),i.addEventListener("selectstart",U),i.addEventListener("selectend",U),i.addEventListener("squeeze",U),i.addEventListener("squeezestart",U),i.addEventListener("squeezeend",U),i.addEventListener("end",k),i.addEventListener("inputsourceschange",j),!0!==m.xrCompatible&&(yield t.makeXRCompatible()),b=e.getPixelRatio(),e.getSize(C),void 0===i.renderState.layers)f=new XRWebGLLayer(i,t,{antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s}),i.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),y=new eA(f.framebufferWidth,f.framebufferHeight,{format:vu,type:rp,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil});else{let se=null,le=null,te=null;m.depth&&(te=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,se=m.stencil?S1:E1,le=m.stencil?x1:Zg);const ee={colorFormat:t.RGBA8,depthFormat:te,scaleFactor:s};h=new XRWebGLBinding(i,t),d=h.createProjectionLayer(ee),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),y=new eA(d.textureWidth,d.textureHeight,{format:vu,type:rp,depthTexture:new Hee(d.textureWidth,d.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,se),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues})}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=yield i.requestReferenceSpace(a),q.setContext(i),q.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}});return function(oe){return K.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==i)return i.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};const O=new Re,P=new Re;function H(K,oe){null===oe?K.matrixWorld.copy(K.matrix):K.matrixWorld.multiplyMatrices(oe.matrixWorld,K.matrix),K.matrixWorldInverse.copy(K.matrixWorld).invert()}this.updateCamera=function(K){if(null===i)return;let oe=K.near,se=K.far;null!==p.texture&&(p.depthNear>0&&(oe=p.depthNear),p.depthFar>0&&(se=p.depthFar)),T.near=D.near=M.near=oe,T.far=D.far=M.far=se,(B!==T.near||R!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),B=T.near,R=T.far),M.layers.mask=2|K.layers.mask,D.layers.mask=4|K.layers.mask,T.layers.mask=M.layers.mask|D.layers.mask;const le=K.parent,te=T.cameras;H(T,le);for(let ee=0;ee<te.length;ee++)H(te[ee],le);2===te.length?function G(K,oe,se){O.setFromMatrixPosition(oe.matrixWorld),P.setFromMatrixPosition(se.matrixWorld);const le=O.distanceTo(P),te=oe.projectionMatrix.elements,ee=se.projectionMatrix.elements,Ae=te[14]/(te[10]-1),xe=te[14]/(te[10]+1),ge=(te[9]+1)/te[5],Ee=(te[9]-1)/te[5],ne=(te[8]-1)/te[0],Y=(ee[8]+1)/ee[0],W=Ae*ne,Me=Ae*Y,Ce=le/(-ne+Y),Pe=Ce*-ne;if(oe.matrixWorld.decompose(K.position,K.quaternion,K.scale),K.translateX(Pe),K.translateZ(Ce),K.matrixWorld.compose(K.position,K.quaternion,K.scale),K.matrixWorldInverse.copy(K.matrixWorld).invert(),-1===te[10])K.projectionMatrix.copy(oe.projectionMatrix),K.projectionMatrixInverse.copy(oe.projectionMatrixInverse);else{const Oe=Ae+Ce,re=xe+Ce;K.projectionMatrix.makePerspective(W-Pe,Me+(le-Pe),ge*xe/re*Oe,Ee*xe/re*Oe,Oe,re),K.projectionMatrixInverse.copy(K.projectionMatrix).invert()}}(T,M,D):T.projectionMatrix.copy(M.projectionMatrix),function ae(K,oe,se){null===se?K.matrix.copy(oe.matrixWorld):(K.matrix.copy(se.matrixWorld),K.matrix.invert(),K.matrix.multiply(oe.matrixWorld)),K.matrix.decompose(K.position,K.quaternion,K.scale),K.updateMatrixWorld(!0),K.projectionMatrix.copy(oe.projectionMatrix),K.projectionMatrixInverse.copy(oe.projectionMatrixInverse),K.isPerspectiveCamera&&(K.fov=2*N1*Math.atan(1/K.projectionMatrix.elements[5]),K.zoom=1)}(K,T,le)},this.getCamera=function(){return T},this.getFoveation=function(){if(null!==d||null!==f)return l},this.setFoveation=function(K){l=K,null!==d&&(d.fixedFoveation=K),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=K)},this.hasDepthSensing=function(){return null!==p.texture},this.getDepthSensingMesh=function(){return p.getMesh(T)};let ve=null;const q=new Hte;q.setAnimationLoop(function Q(K,oe){if(u=oe.getViewerPose(c||o),A=oe,null!==u){const se=u.views;null!==f&&(e.setRenderTargetFramebuffer(y,f.framebuffer),e.setRenderTarget(y));let le=!1;se.length!==T.cameras.length&&(T.cameras.length=0,le=!0);for(let ee=0;ee<se.length;ee++){const Ae=se[ee];let xe=null;if(null!==f)xe=f.getViewport(Ae);else{const Ee=h.getViewSubImage(d,Ae);xe=Ee.viewport,0===ee&&(e.setRenderTargetTextures(y,Ee.colorTexture,d.ignoreDepthValues?void 0:Ee.depthStencilTexture),e.setRenderTarget(y))}let ge=E[ee];void 0===ge&&(ge=new Ol,ge.layers.enable(ee),ge.viewport=new hs,E[ee]=ge),ge.matrix.fromArray(Ae.transform.matrix),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.projectionMatrix.fromArray(Ae.projectionMatrix),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert(),ge.viewport.set(xe.x,xe.y,xe.width,xe.height),0===ee&&(T.matrix.copy(ge.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),!0===le&&T.cameras.push(ge)}const te=i.enabledFeatures;if(te&&te.includes("depth-sensing")){const ee=h.getDepthInformation(se[0]);ee&&ee.isValid&&ee.texture&&p.init(e,ee,i.renderState)}}for(let se=0;se<v.length;se++){const le=_[se],te=v[se];null!==le&&void 0!==te&&te.update(le,oe,c||o)}ve&&ve(K,oe),oe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:oe}),A=null}),this.setAnimationLoop=function(K){ve=K},this.dispose=function(){}}}const R0=new cp,jke=new Nr;function Wke(n,e){function t(m,g){!0===m.matrixAutoUpdate&&m.updateMatrix(),g.value.copy(m.matrix)}function s(m,g){m.opacity.value=g.opacity,g.color&&m.diffuse.value.copy(g.color),g.emissive&&m.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(m.map.value=g.map,t(g.map,m.mapTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,t(g.alphaMap,m.alphaMapTransform)),g.bumpMap&&(m.bumpMap.value=g.bumpMap,t(g.bumpMap,m.bumpMapTransform),m.bumpScale.value=g.bumpScale,1===g.side&&(m.bumpScale.value*=-1)),g.normalMap&&(m.normalMap.value=g.normalMap,t(g.normalMap,m.normalMapTransform),m.normalScale.value.copy(g.normalScale),1===g.side&&m.normalScale.value.negate()),g.displacementMap&&(m.displacementMap.value=g.displacementMap,t(g.displacementMap,m.displacementMapTransform),m.displacementScale.value=g.displacementScale,m.displacementBias.value=g.displacementBias),g.emissiveMap&&(m.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,m.emissiveMapTransform)),g.specularMap&&(m.specularMap.value=g.specularMap,t(g.specularMap,m.specularMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);const y=e.get(g),v=y.envMap,_=y.envMapRotation;v&&(m.envMap.value=v,R0.copy(_),R0.x*=-1,R0.y*=-1,R0.z*=-1,v.isCubeTexture&&!1===v.isRenderTargetTexture&&(R0.y*=-1,R0.z*=-1),m.envMapRotation.value.setFromMatrix4(jke.makeRotationFromEuler(R0)),m.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,m.reflectivity.value=g.reflectivity,m.ior.value=g.ior,m.refractionRatio.value=g.refractionRatio),g.lightMap&&(m.lightMap.value=g.lightMap,m.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,m.lightMapTransform)),g.aoMap&&(m.aoMap.value=g.aoMap,m.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,m.aoMapTransform))}return{refreshFogUniforms:function r(m,g){g.color.getRGB(m.fogColor.value,Aee(n)),g.isFog?(m.fogNear.value=g.near,m.fogFar.value=g.far):g.isFogExp2&&(m.fogDensity.value=g.density)},refreshMaterialUniforms:function i(m,g,y,v,_){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(m,g):g.isMeshToonMaterial?(s(m,g),function h(m,g){g.gradientMap&&(m.gradientMap.value=g.gradientMap)}(m,g)):g.isMeshPhongMaterial?(s(m,g),function u(m,g){m.specular.value.copy(g.specular),m.shininess.value=Math.max(g.shininess,1e-4)}(m,g)):g.isMeshStandardMaterial?(s(m,g),function d(m,g){m.metalness.value=g.metalness,g.metalnessMap&&(m.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,m.metalnessMapTransform)),m.roughness.value=g.roughness,g.roughnessMap&&(m.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,m.roughnessMapTransform)),g.envMap&&(m.envMapIntensity.value=g.envMapIntensity)}(m,g),g.isMeshPhysicalMaterial&&function f(m,g,y){m.ior.value=g.ior,g.sheen>0&&(m.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),m.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(m.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,m.sheenColorMapTransform)),g.sheenRoughnessMap&&(m.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,m.sheenRoughnessMapTransform))),g.clearcoat>0&&(m.clearcoat.value=g.clearcoat,m.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(m.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,m.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(m.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),1===g.side&&m.clearcoatNormalScale.value.negate())),g.dispersion>0&&(m.dispersion.value=g.dispersion),g.iridescence>0&&(m.iridescence.value=g.iridescence,m.iridescenceIOR.value=g.iridescenceIOR,m.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(m.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,m.iridescenceMapTransform)),g.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),g.transmission>0&&(m.transmission.value=g.transmission,m.transmissionSamplerMap.value=y.texture,m.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(m.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,m.transmissionMapTransform)),m.thickness.value=g.thickness,g.thicknessMap&&(m.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=g.attenuationDistance,m.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(m.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(m.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=g.specularIntensity,m.specularColor.value.copy(g.specularColor),g.specularColorMap&&(m.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,m.specularColorMapTransform)),g.specularIntensityMap&&(m.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,m.specularIntensityMapTransform))}(m,g,_)):g.isMeshMatcapMaterial?(s(m,g),function A(m,g){g.matcap&&(m.matcap.value=g.matcap)}(m,g)):g.isMeshDepthMaterial?s(m,g):g.isMeshDistanceMaterial?(s(m,g),function p(m,g){const y=e.get(g).light;m.referencePosition.value.setFromMatrixPosition(y.matrixWorld),m.nearDistance.value=y.shadow.camera.near,m.farDistance.value=y.shadow.camera.far}(m,g)):g.isMeshNormalMaterial?s(m,g):g.isLineBasicMaterial?(function o(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,g.map&&(m.map.value=g.map,t(g.map,m.mapTransform))}(m,g),g.isLineDashedMaterial&&function a(m,g){m.dashSize.value=g.dashSize,m.totalSize.value=g.dashSize+g.gapSize,m.scale.value=g.scale}(m,g)):g.isPointsMaterial?function l(m,g,y,v){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.size.value=g.size*y,m.scale.value=.5*v,g.map&&(m.map.value=g.map,t(g.map,m.uvTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,t(g.alphaMap,m.alphaMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest)}(m,g,y,v):g.isSpriteMaterial?function c(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.rotation.value=g.rotation,g.map&&(m.map.value=g.map,t(g.map,m.mapTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,t(g.alphaMap,m.alphaMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest)}(m,g):g.isShadowMaterial?(m.color.value.copy(g.color),m.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}}}function $ke(n,e,t,r){let i={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function f(y,v,_,C){const b=y.value,M=v+"_"+_;if(void 0===C[M])return C[M]="number"==typeof b||"boolean"==typeof b?b:b.clone(),!0;{const D=C[M];if("number"==typeof b||"boolean"==typeof b){if(D!==b)return C[M]=b,!0}else if(!1===D.equals(b))return D.copy(b),!0}return!1}function p(y){const v={boundary:0,storage:0};return"number"==typeof y||"boolean"==typeof y?(v.boundary=4,v.storage=4):y.isVector2?(v.boundary=8,v.storage=8):y.isVector3||y.isColor?(v.boundary=16,v.storage=12):y.isVector4?(v.boundary=16,v.storage=16):y.isMatrix3?(v.boundary=48,v.storage=48):y.isMatrix4?(v.boundary=64,v.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),v}function m(y){const v=y.target;v.removeEventListener("dispose",m);const _=o.indexOf(v.__bindingPointIndex);o.splice(_,1),n.deleteBuffer(i[v.id]),delete i[v.id],delete s[v.id]}return{bind:function l(y,v){r.uniformBlockBinding(y,v.program)},update:function c(y,v){let _=i[y.id];void 0===_&&(function A(y){const v=y.uniforms;let _=0;for(let M=0,D=v.length;M<D;M++){const E=Array.isArray(v[M])?v[M]:[v[M]];for(let T=0,B=E.length;T<B;T++){const R=E[T],U=Array.isArray(R.value)?R.value:[R.value];for(let k=0,j=U.length;k<j;k++){const P=p(U[k]),G=_%16,H=G%P.boundary,ae=G+H;_+=H,0!==ae&&16-ae<P.storage&&(_+=16-ae),R.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=_,_+=P.storage}}}const b=_%16;b>0&&(_+=16-b),y.__size=_,y.__cache={}}(y),_=function u(y){const v=function h(){for(let y=0;y<a;y++)if(-1===o.indexOf(y))return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();y.__bindingPointIndex=v;const _=n.createBuffer(),C=y.__size,b=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,_),n.bufferData(n.UNIFORM_BUFFER,C,b),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,v,_),_}(y),i[y.id]=_,y.addEventListener("dispose",m)),r.updateUBOMapping(y,v.program);const b=e.render.frame;s[y.id]!==b&&(function d(y){const _=y.uniforms,C=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,i[y.id]);for(let b=0,M=_.length;b<M;b++){const D=Array.isArray(_[b])?_[b]:[_[b]];for(let E=0,T=D.length;E<T;E++){const B=D[E];if(!0===f(B,b,E,C)){const R=B.__offset,U=Array.isArray(B.value)?B.value:[B.value];let k=0;for(let j=0;j<U.length;j++){const O=U[j],P=p(O);"number"==typeof O||"boolean"==typeof O?(B.__data[0]=O,n.bufferSubData(n.UNIFORM_BUFFER,R+k,B.__data)):O.isMatrix3?(B.__data[0]=O.elements[0],B.__data[1]=O.elements[1],B.__data[2]=O.elements[2],B.__data[3]=0,B.__data[4]=O.elements[3],B.__data[5]=O.elements[4],B.__data[6]=O.elements[5],B.__data[7]=0,B.__data[8]=O.elements[6],B.__data[9]=O.elements[7],B.__data[10]=O.elements[8],B.__data[11]=0):(O.toArray(B.__data,k),k+=P.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,R,B.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(y),s[y.id]=b)},dispose:function g(){for(const y in i)n.deleteBuffer(i[y]);o=[],i={},s={}}}}class Kke{constructor(e={}){const{canvas:t=uPe(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1,reverseDepthBuffer:d=!1}=e;let f;if(this.isWebGLRenderer=!0,null!==r){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=r.getContextAttributes().alpha}else f=o;const A=new Uint32Array(4),p=new Int32Array(4);let m=null,g=null;const y=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=sh,this.toneMapping=Xg,this.toneMappingExposure=1;const _=this;let C=!1,b=0,M=0,D=null,E=-1,T=null;const B=new hs,R=new hs;let U=null;const k=new Ln(0);let j=0,O=t.width,P=t.height,G=1,H=null,ae=null;const ve=new hs(0,0,O,P),Q=new hs(0,0,O,P);let q=!1;const K=new MN;let oe=!1,se=!1;const le=new Nr,te=new Nr,ee=new Re,Ae=new hs,xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ge=!1;function Ee(){return null===D?G:1}let W,Me,Ce,Pe,Oe,re,Z,Ue,Qe,rt,Xe,Pt,Ft,Tt,yn,st,vn,pn,_n,tn,$,Ie,Ke,Te,ne=r;function Y(be,et){return t.getContext(be,et)}try{const be={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r171"),t.addEventListener("webglcontextlost",Dt,!1),t.addEventListener("webglcontextrestored",an,!1),t.addEventListener("webglcontextcreationerror",Vt,!1),null===ne){const et="webgl2";if(ne=Y(et,be),null===ne)throw Y(et)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(be){throw console.error("THREE.WebGLRenderer: "+be.message),be}function yt(){W=new i4e(ne),W.init(),Ie=new Hke(ne,W),Me=new ZUe(ne,W,e,Ie),Ce=new Uke(ne,W),Me.reverseDepthBuffer&&d&&Ce.buffers.depth.setReversed(!0),Pe=new a4e(ne),Oe=new Eke,re=new kke(ne,W,Ce,Oe,Me,Ie,Pe),Z=new e4e(_),Ue=new r4e(_),Qe=new $Le(ne),Ke=new XUe(ne,Qe),rt=new s4e(ne,Qe,Pe,Ke),Xe=new c4e(ne,rt,Qe,Pe),_n=new l4e(ne,Me,re),st=new JUe(Oe),Pt=new xke(_,Z,Ue,W,Me,Ke,st),Ft=new Wke(_,Oe),Tt=new Dke,yn=new Fke(W),pn=new KUe(_,Z,Ue,Ce,Xe,f,l),vn=new Pke(_,Xe,Me),Te=new $ke(ne,Pe,Me,Ce),tn=new YUe(ne,W,Pe),$=new o4e(ne,W,Pe),Pe.programs=Pt.programs,_.capabilities=Me,_.extensions=W,_.properties=Oe,_.renderLists=Tt,_.shadowMap=vn,_.state=Ce,_.info=Pe}yt();const nt=new qke(_,ne);function Dt(be){be.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function an(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const be=Pe.autoReset,et=vn.enabled,At=vn.autoUpdate,pt=vn.needsUpdate,it=vn.type;yt(),Pe.autoReset=be,vn.enabled=et,vn.autoUpdate=At,vn.needsUpdate=pt,vn.type=it}function Vt(be){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",be.statusMessage)}function Rn(be){const et=be.target;et.removeEventListener("dispose",Rn),function Ts(be){(function Xi(be){const et=Oe.get(be).programs;void 0!==et&&(et.forEach(function(At){Pt.releaseProgram(At)}),be.isShaderMaterial&&Pt.releaseShaderCache(be))})(be),Oe.remove(be)}(et)}function gi(be,et,At){!0===be.transparent&&2===be.side&&!1===be.forceSinglePass?(be.side=1,be.needsUpdate=!0,gc(be,et,At),be.side=0,be.needsUpdate=!0,gc(be,et,At),be.side=2):gc(be,et,At)}this.xr=nt,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const be=W.get("WEBGL_lose_context");be&&be.loseContext()},this.forceContextRestore=function(){const be=W.get("WEBGL_lose_context");be&&be.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(be){void 0!==be&&(G=be,this.setSize(O,P,!1))},this.getSize=function(be){return be.set(O,P)},this.setSize=function(be,et,At=!0){nt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(O=be,P=et,t.width=Math.floor(be*G),t.height=Math.floor(et*G),!0===At&&(t.style.width=be+"px",t.style.height=et+"px"),this.setViewport(0,0,be,et))},this.getDrawingBufferSize=function(be){return be.set(O*G,P*G).floor()},this.setDrawingBufferSize=function(be,et,At){O=be,P=et,G=At,t.width=Math.floor(be*At),t.height=Math.floor(et*At),this.setViewport(0,0,be,et)},this.getCurrentViewport=function(be){return be.copy(B)},this.getViewport=function(be){return be.copy(ve)},this.setViewport=function(be,et,At,pt){be.isVector4?ve.set(be.x,be.y,be.z,be.w):ve.set(be,et,At,pt),Ce.viewport(B.copy(ve).multiplyScalar(G).round())},this.getScissor=function(be){return be.copy(Q)},this.setScissor=function(be,et,At,pt){be.isVector4?Q.set(be.x,be.y,be.z,be.w):Q.set(be,et,At,pt),Ce.scissor(R.copy(Q).multiplyScalar(G).round())},this.getScissorTest=function(){return q},this.setScissorTest=function(be){Ce.setScissorTest(q=be)},this.setOpaqueSort=function(be){H=be},this.setTransparentSort=function(be){ae=be},this.getClearColor=function(be){return be.copy(pn.getClearColor())},this.setClearColor=function(){pn.setClearColor.apply(pn,arguments)},this.getClearAlpha=function(){return pn.getClearAlpha()},this.setClearAlpha=function(){pn.setClearAlpha.apply(pn,arguments)},this.clear=function(be=!0,et=!0,At=!0){let pt=0;if(be){let it=!1;if(null!==D){const sn=D.texture.format;it=sn===tk||sn===ek||sn===WB}if(it){const sn=D.texture.type,wn=sn===rp||sn===Zg||sn===ME||sn===x1||sn===Y4||sn===Z4,Un=pn.getClearColor(),Qn=pn.getClearAlpha(),pr=Un.r,Mr=Un.g,rr=Un.b;wn?(A[0]=pr,A[1]=Mr,A[2]=rr,A[3]=Qn,ne.clearBufferuiv(ne.COLOR,0,A)):(p[0]=pr,p[1]=Mr,p[2]=rr,p[3]=Qn,ne.clearBufferiv(ne.COLOR,0,p))}else pt|=ne.COLOR_BUFFER_BIT}et&&(pt|=ne.DEPTH_BUFFER_BIT),At&&(pt|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(pt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Dt,!1),t.removeEventListener("webglcontextrestored",an,!1),t.removeEventListener("webglcontextcreationerror",Vt,!1),pn.dispose(),Tt.dispose(),yn.dispose(),Oe.dispose(),Z.dispose(),Ue.dispose(),Xe.dispose(),Ke.dispose(),Te.dispose(),Pt.dispose(),nt.dispose(),nt.removeEventListener("sessionstart",Bu),nt.removeEventListener("sessionend",fh),Xo.stop()},this.renderBufferDirect=function(be,et,At,pt,it,sn){null===et&&(et=xe);const wn=it.isMesh&&it.matrixWorld.determinant()<0,Un=function rf(be,et,At,pt,it){!0!==et.isScene&&(et=xe),re.resetTextureUnits();const sn=et.fog,Un=null===D?_.outputColorSpace:!0===D.isXRRenderTarget?D.texture.colorSpace:T1,Qn=(pt.isMeshStandardMaterial?Ue:Z).get(pt.envMap||(pt.isMeshStandardMaterial?et.environment:null)),pr=!0===pt.vertexColors&&!!At.attributes.color&&4===At.attributes.color.itemSize,Mr=!!At.attributes.tangent&&(!!pt.normalMap||pt.anisotropy>0),rr=!!At.morphAttributes.position,_i=!!At.morphAttributes.normal,Ii=!!At.morphAttributes.color;let io=Xg;pt.toneMapped&&(null===D||!0===D.isXRRenderTarget)&&(io=_.toneMapping);const jr=At.morphAttributes.position||At.morphAttributes.normal||At.morphAttributes.color,Mi=void 0!==jr?jr.length:0,ir=Oe.get(pt),Yo=g.state.lights;!0!==oe||!0!==se&&be===T||st.setState(pt,be,be===T&&pt.id===E);let Fi=!1;pt.version===ir.__version?(ir.needsLights&&ir.lightsStateVersion!==Yo.state.version||ir.outputColorSpace!==Un||it.isBatchedMesh&&!1===ir.batching||!it.isBatchedMesh&&!0===ir.batching||it.isBatchedMesh&&!0===ir.batchingColor&&null===it.colorTexture||it.isBatchedMesh&&!1===ir.batchingColor&&null!==it.colorTexture||it.isInstancedMesh&&!1===ir.instancing||!it.isInstancedMesh&&!0===ir.instancing||it.isSkinnedMesh&&!1===ir.skinning||!it.isSkinnedMesh&&!0===ir.skinning||it.isInstancedMesh&&!0===ir.instancingColor&&null===it.instanceColor||it.isInstancedMesh&&!1===ir.instancingColor&&null!==it.instanceColor||it.isInstancedMesh&&!0===ir.instancingMorph&&null===it.morphTexture||it.isInstancedMesh&&!1===ir.instancingMorph&&null!==it.morphTexture||ir.envMap!==Qn||!0===pt.fog&&ir.fog!==sn||void 0!==ir.numClippingPlanes&&(ir.numClippingPlanes!==st.numPlanes||ir.numIntersection!==st.numIntersection)||ir.vertexAlphas!==pr||ir.vertexTangents!==Mr||ir.morphTargets!==rr||ir.morphNormals!==_i||ir.morphColors!==Ii||ir.toneMapping!==io||ir.morphTargetsCount!==Mi)&&(Fi=!0):(Fi=!0,ir.__version=pt.version);let Xc=ir.currentProgram;!0===Fi&&(Xc=gc(pt,et,it));let gl=!1,Ba=!1,Na=!1;const Bs=Xc.getUniforms(),Ql=ir.uniforms;if(Ce.useProgram(Xc.program)&&(gl=!0,Ba=!0,Na=!0),pt.id!==E&&(E=pt.id,Ba=!0),gl||T!==be){Ce.buffers.depth.getReversed()?(le.copy(be.projectionMatrix),function fPe(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}(le),function dPe(n){const e=n.elements;-1===e[11]?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=1-e[14])}(le),Bs.setValue(ne,"projectionMatrix",le)):Bs.setValue(ne,"projectionMatrix",be.projectionMatrix),Bs.setValue(ne,"viewMatrix",be.matrixWorldInverse);const ml=Bs.map.cameraPosition;void 0!==ml&&ml.setValue(ne,ee.setFromMatrixPosition(be.matrixWorld)),Me.logarithmicDepthBuffer&&Bs.setValue(ne,"logDepthBufFC",2/(Math.log(be.far+1)/Math.LN2)),(pt.isMeshPhongMaterial||pt.isMeshToonMaterial||pt.isMeshLambertMaterial||pt.isMeshBasicMaterial||pt.isMeshStandardMaterial||pt.isShaderMaterial)&&Bs.setValue(ne,"isOrthographic",!0===be.isOrthographicCamera),T!==be&&(T=be,Ba=!0,Na=!0)}if(it.isSkinnedMesh){Bs.setOptional(ne,it,"bindMatrix"),Bs.setOptional(ne,it,"bindMatrixInverse");const Ia=it.skeleton;Ia&&(null===Ia.boneTexture&&Ia.computeBoneTexture(),Bs.setValue(ne,"boneTexture",Ia.boneTexture,re))}it.isBatchedMesh&&(Bs.setOptional(ne,it,"batchingTexture"),Bs.setValue(ne,"batchingTexture",it._matricesTexture,re),Bs.setOptional(ne,it,"batchingIdTexture"),Bs.setValue(ne,"batchingIdTexture",it._indirectTexture,re),Bs.setOptional(ne,it,"batchingColorTexture"),null!==it._colorsTexture&&Bs.setValue(ne,"batchingColorTexture",it._colorsTexture,re));const mc=At.morphAttributes;if((void 0!==mc.position||void 0!==mc.normal||void 0!==mc.color)&&_n.update(it,At,Xc),(Ba||ir.receiveShadow!==it.receiveShadow)&&(ir.receiveShadow=it.receiveShadow,Bs.setValue(ne,"receiveShadow",it.receiveShadow)),pt.isMeshGouraudMaterial&&null!==pt.envMap&&(Ql.envMap.value=Qn,Ql.flipEnvMap.value=Qn.isCubeTexture&&!1===Qn.isRenderTargetTexture?-1:1),pt.isMeshStandardMaterial&&null===pt.envMap&&null!==et.environment&&(Ql.envMapIntensity.value=et.environmentIntensity),Ba&&(Bs.setValue(ne,"toneMappingExposure",_.toneMappingExposure),ir.needsLights&&function Fu(be,et){be.ambientLightColor.needsUpdate=et,be.lightProbe.needsUpdate=et,be.directionalLights.needsUpdate=et,be.directionalLightShadows.needsUpdate=et,be.pointLights.needsUpdate=et,be.pointLightShadows.needsUpdate=et,be.spotLights.needsUpdate=et,be.spotLightShadows.needsUpdate=et,be.rectAreaLights.needsUpdate=et,be.hemisphereLights.needsUpdate=et}(Ql,Na),sn&&!0===pt.fog&&Ft.refreshFogUniforms(Ql,sn),Ft.refreshMaterialUniforms(Ql,pt,G,P,g.state.transmissionRenderTarget[be.id]),fI.upload(ne,Nu(ir),Ql,re)),pt.isShaderMaterial&&!0===pt.uniformsNeedUpdate&&(fI.upload(ne,Nu(ir),Ql,re),pt.uniformsNeedUpdate=!1),pt.isSpriteMaterial&&Bs.setValue(ne,"center",it.center),Bs.setValue(ne,"modelViewMatrix",it.modelViewMatrix),Bs.setValue(ne,"normalMatrix",it.normalMatrix),Bs.setValue(ne,"modelMatrix",it.matrixWorld),pt.isShaderMaterial||pt.isRawShaderMaterial){const Ia=pt.uniformsGroups;for(let ml=0,Tm=Ia.length;ml<Tm;ml++){const fd=Ia[ml];Te.update(fd,Xc),Te.bind(fd,Xc)}}return Xc}(be,et,At,pt,it);Ce.setMaterial(pt,wn);let Qn=At.index,pr=1;if(!0===pt.wireframe){if(Qn=rt.getWireframeAttribute(At),void 0===Qn)return;pr=2}const Mr=At.drawRange,rr=At.attributes.position;let _i=Mr.start*pr,Ii=(Mr.start+Mr.count)*pr;null!==sn&&(_i=Math.max(_i,sn.start*pr),Ii=Math.min(Ii,(sn.start+sn.count)*pr)),null!==Qn?(_i=Math.max(_i,0),Ii=Math.min(Ii,Qn.count)):null!=rr&&(_i=Math.max(_i,0),Ii=Math.min(Ii,rr.count));const io=Ii-_i;if(io<0||io===1/0)return;Ke.setup(it,pt,Un,At,Qn);let jr,Mi=tn;if(null!==Qn&&(jr=Qe.get(Qn),Mi=$,Mi.setIndex(jr)),it.isMesh)!0===pt.wireframe?(Ce.setLineWidth(pt.wireframeLinewidth*Ee()),Mi.setMode(ne.LINES)):Mi.setMode(ne.TRIANGLES);else if(it.isLine){let ir=pt.linewidth;void 0===ir&&(ir=1),Ce.setLineWidth(ir*Ee()),Mi.setMode(it.isLineSegments?ne.LINES:it.isLineLoop?ne.LINE_LOOP:ne.LINE_STRIP)}else it.isPoints?Mi.setMode(ne.POINTS):it.isSprite&&Mi.setMode(ne.TRIANGLES);if(it.isBatchedMesh)if(null!==it._multiDrawInstances)Mi.renderMultiDrawInstances(it._multiDrawStarts,it._multiDrawCounts,it._multiDrawCount,it._multiDrawInstances);else if(W.get("WEBGL_multi_draw"))Mi.renderMultiDraw(it._multiDrawStarts,it._multiDrawCounts,it._multiDrawCount);else{const ir=it._multiDrawStarts,Yo=it._multiDrawCounts,Fi=it._multiDrawCount,Xc=Qn?Qe.get(Qn).bytesPerElement:1,gl=Oe.get(pt).currentProgram.getUniforms();for(let Ba=0;Ba<Fi;Ba++)gl.setValue(ne,"_gl_DrawID",Ba),Mi.render(ir[Ba]/Xc,Yo[Ba])}else if(it.isInstancedMesh)Mi.renderInstances(_i,io,it.count);else if(At.isInstancedBufferGeometry){const Yo=Math.min(At.instanceCount,void 0!==At._maxInstanceCount?At._maxInstanceCount:1/0);Mi.renderInstances(_i,io,Yo)}else Mi.render(_i,io)},this.compile=function(be,et,At=null){null===At&&(At=be),g=yn.get(At),g.init(et),v.push(g),At.traverseVisible(function(it){it.isLight&&it.layers.test(et.layers)&&(g.pushLight(it),it.castShadow&&g.pushShadow(it))}),be!==At&&be.traverseVisible(function(it){it.isLight&&it.layers.test(et.layers)&&(g.pushLight(it),it.castShadow&&g.pushShadow(it))}),g.setupLights();const pt=new Set;return be.traverse(function(it){if(!(it.isMesh||it.isPoints||it.isLine||it.isSprite))return;const sn=it.material;if(sn)if(Array.isArray(sn))for(let wn=0;wn<sn.length;wn++){const Un=sn[wn];gi(Un,At,it),pt.add(Un)}else gi(sn,At,it),pt.add(sn)}),v.pop(),g=null,pt},this.compileAsync=function(be,et,At=null){const pt=this.compile(be,et,At);return new Promise(it=>{function sn(){pt.forEach(function(wn){Oe.get(wn).currentProgram.isReady()&&pt.delete(wn)}),0!==pt.size?setTimeout(sn,10):it(be)}null!==W.get("KHR_parallel_shader_compile")?sn():setTimeout(sn,10)})};let Ko=null;function Bu(){Xo.stop()}function fh(){Xo.start()}const Xo=new Hte;function Po(be,et,At,pt){if(!1===be.visible)return;if(be.layers.test(et.layers))if(be.isGroup)At=be.renderOrder;else if(be.isLOD)!0===be.autoUpdate&&be.update(et);else if(be.isLight)g.pushLight(be),be.castShadow&&g.pushShadow(be);else if(be.isSprite){if(!be.frustumCulled||K.intersectsSprite(be)){pt&&Ae.setFromMatrixPosition(be.matrixWorld).applyMatrix4(te);const wn=Xe.update(be),Un=be.material;Un.visible&&m.push(be,wn,Un,At,Ae.z,null)}}else if((be.isMesh||be.isLine||be.isPoints)&&(!be.frustumCulled||K.intersectsObject(be))){const wn=Xe.update(be),Un=be.material;if(pt&&(void 0!==be.boundingSphere?(null===be.boundingSphere&&be.computeBoundingSphere(),Ae.copy(be.boundingSphere.center)):(null===wn.boundingSphere&&wn.computeBoundingSphere(),Ae.copy(wn.boundingSphere.center)),Ae.applyMatrix4(be.matrixWorld).applyMatrix4(te)),Array.isArray(Un)){const Qn=wn.groups;for(let pr=0,Mr=Qn.length;pr<Mr;pr++){const rr=Qn[pr],_i=Un[rr.materialIndex];_i&&_i.visible&&m.push(be,wn,_i,At,Ae.z,rr)}}else Un.visible&&m.push(be,wn,Un,At,Ae.z,null)}const sn=be.children;for(let wn=0,Un=sn.length;wn<Un;wn++)Po(sn[wn],et,At,pt)}function Lo(be,et,At,pt){const it=be.opaque,sn=be.transmissive,wn=be.transparent;g.setupLightsView(At),!0===oe&&st.setGlobalState(_.clippingPlanes,At),pt&&Ce.viewport(B.copy(pt)),it.length>0&&hd(it,et,At),sn.length>0&&hd(sn,et,At),wn.length>0&&hd(wn,et,At),Ce.buffers.depth.setTest(!0),Ce.buffers.depth.setMask(!0),Ce.buffers.color.setMask(!0),Ce.setPolygonOffset(!1)}function pc(be,et,At,pt){if(null!==(!0===At.isScene?At.overrideMaterial:null))return;void 0===g.state.transmissionRenderTarget[pt.id]&&(g.state.transmissionRenderTarget[pt.id]=new eA(1,1,{generateMipmaps:!0,type:W.has("EXT_color_buffer_half_float")||W.has("EXT_color_buffer_float")?TE:rp,minFilter:np,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ss.workingColorSpace}));const sn=g.state.transmissionRenderTarget[pt.id],wn=pt.viewport||B;sn.setSize(wn.z,wn.w);const Un=_.getRenderTarget();_.setRenderTarget(sn),_.getClearColor(k),j=_.getClearAlpha(),j<1&&_.setClearColor(16777215,.5),_.clear(),ge&&pn.render(At);const Qn=_.toneMapping;_.toneMapping=Xg;const pr=pt.viewport;if(void 0!==pt.viewport&&(pt.viewport=void 0),g.setupLightsView(pt),!0===oe&&st.setGlobalState(_.clippingPlanes,pt),hd(be,At,pt),re.updateMultisampleRenderTarget(sn),re.updateRenderTargetMipmap(sn),!1===W.has("WEBGL_multisampled_render_to_texture")){let Mr=!1;for(let rr=0,_i=et.length;rr<_i;rr++){const Ii=et[rr],io=Ii.object,jr=Ii.geometry,Mi=Ii.material,ir=Ii.group;if(2===Mi.side&&io.layers.test(pt.layers)){const Yo=Mi.side;Mi.side=1,Mi.needsUpdate=!0,nf(io,At,pt,jr,Mi,ir),Mi.side=Yo,Mi.needsUpdate=!0,Mr=!0}}!0===Mr&&(re.updateMultisampleRenderTarget(sn),re.updateRenderTargetMipmap(sn))}_.setRenderTarget(Un),_.setClearColor(k,j),void 0!==pr&&(pt.viewport=pr),_.toneMapping=Qn}function hd(be,et,At){const pt=!0===et.isScene?et.overrideMaterial:null;for(let it=0,sn=be.length;it<sn;it++){const wn=be[it],Un=wn.object,Qn=wn.geometry,pr=null===pt?wn.material:pt,Mr=wn.group;Un.layers.test(At.layers)&&nf(Un,et,At,Qn,pr,Mr)}}function nf(be,et,At,pt,it,sn){be.onBeforeRender(_,et,At,pt,it,sn),be.modelViewMatrix.multiplyMatrices(At.matrixWorldInverse,be.matrixWorld),be.normalMatrix.getNormalMatrix(be.modelViewMatrix),it.onBeforeRender(_,et,At,pt,be,sn),!0===it.transparent&&2===it.side&&!1===it.forceSinglePass?(it.side=1,it.needsUpdate=!0,_.renderBufferDirect(At,et,pt,it,be,sn),it.side=0,it.needsUpdate=!0,_.renderBufferDirect(At,et,pt,it,be,sn),it.side=2):_.renderBufferDirect(At,et,pt,it,be,sn),be.onAfterRender(_,et,At,pt,it,sn)}function gc(be,et,At){!0!==et.isScene&&(et=xe);const pt=Oe.get(be),it=g.state.lights,wn=it.state.version,Un=Pt.getParameters(be,it.state,g.state.shadowsArray,et,At),Qn=Pt.getProgramCacheKey(Un);let pr=pt.programs;pt.environment=be.isMeshStandardMaterial?et.environment:null,pt.fog=et.fog,pt.envMap=(be.isMeshStandardMaterial?Ue:Z).get(be.envMap||pt.environment),pt.envMapRotation=null!==pt.environment&&null===be.envMap?et.environmentRotation:be.envMapRotation,void 0===pr&&(be.addEventListener("dispose",Rn),pr=new Map,pt.programs=pr);let Mr=pr.get(Qn);if(void 0!==Mr){if(pt.currentProgram===Mr&&pt.lightsStateVersion===wn)return Iu(be,Un),Mr}else Un.uniforms=Pt.getUniforms(be),be.onBeforeCompile(Un,_),Mr=Pt.acquireProgram(Un,Qn),pr.set(Qn,Mr),pt.uniforms=Un.uniforms;const rr=pt.uniforms;return(!be.isShaderMaterial&&!be.isRawShaderMaterial||!0===be.clipping)&&(rr.clippingPlanes=st.uniform),Iu(be,Un),pt.needsLights=function sf(be){return be.isMeshLambertMaterial||be.isMeshToonMaterial||be.isMeshPhongMaterial||be.isMeshStandardMaterial||be.isShadowMaterial||be.isShaderMaterial&&!0===be.lights}(be),pt.lightsStateVersion=wn,pt.needsLights&&(rr.ambientLightColor.value=it.state.ambient,rr.lightProbe.value=it.state.probe,rr.directionalLights.value=it.state.directional,rr.directionalLightShadows.value=it.state.directionalShadow,rr.spotLights.value=it.state.spot,rr.spotLightShadows.value=it.state.spotShadow,rr.rectAreaLights.value=it.state.rectArea,rr.ltc_1.value=it.state.rectAreaLTC1,rr.ltc_2.value=it.state.rectAreaLTC2,rr.pointLights.value=it.state.point,rr.pointLightShadows.value=it.state.pointShadow,rr.hemisphereLights.value=it.state.hemi,rr.directionalShadowMap.value=it.state.directionalShadowMap,rr.directionalShadowMatrix.value=it.state.directionalShadowMatrix,rr.spotShadowMap.value=it.state.spotShadowMap,rr.spotLightMatrix.value=it.state.spotLightMatrix,rr.spotLightMap.value=it.state.spotLightMap,rr.pointShadowMap.value=it.state.pointShadowMap,rr.pointShadowMatrix.value=it.state.pointShadowMatrix),pt.currentProgram=Mr,pt.uniformsList=null,Mr}function Nu(be){if(null===be.uniformsList){const et=be.currentProgram.getUniforms();be.uniformsList=fI.seqWithValue(et.seq,be.uniforms)}return be.uniformsList}function Iu(be,et){const At=Oe.get(be);At.outputColorSpace=et.outputColorSpace,At.batching=et.batching,At.batchingColor=et.batchingColor,At.instancing=et.instancing,At.instancingColor=et.instancingColor,At.instancingMorph=et.instancingMorph,At.skinning=et.skinning,At.morphTargets=et.morphTargets,At.morphNormals=et.morphNormals,At.morphColors=et.morphColors,At.morphTargetsCount=et.morphTargetsCount,At.numClippingPlanes=et.numClippingPlanes,At.numIntersection=et.numClipIntersection,At.vertexAlphas=et.vertexAlphas,At.vertexTangents=et.vertexTangents,At.toneMapping=et.toneMapping}Xo.setAnimationLoop(function Zn(be){Ko&&Ko(be)}),typeof self<"u"&&Xo.setContext(self),this.setAnimationLoop=function(be){Ko=be,nt.setAnimationLoop(be),null===be?Xo.stop():Xo.start()},nt.addEventListener("sessionstart",Bu),nt.addEventListener("sessionend",fh),this.render=function(be,et){if(void 0!==et&&!0!==et.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===C)return;if(!0===be.matrixWorldAutoUpdate&&be.updateMatrixWorld(),null===et.parent&&!0===et.matrixWorldAutoUpdate&&et.updateMatrixWorld(),!0===nt.enabled&&!0===nt.isPresenting&&(!0===nt.cameraAutoUpdate&&nt.updateCamera(et),et=nt.getCamera()),!0===be.isScene&&be.onBeforeRender(_,be,et,D),g=yn.get(be,v.length),g.init(et),v.push(g),te.multiplyMatrices(et.projectionMatrix,et.matrixWorldInverse),K.setFromProjectionMatrix(te),se=this.localClippingEnabled,oe=st.init(this.clippingPlanes,se),m=Tt.get(be,y.length),m.init(),y.push(m),!0===nt.enabled&&!0===nt.isPresenting){const sn=_.xr.getDepthSensingMesh();null!==sn&&Po(sn,et,-1/0,_.sortObjects)}Po(be,et,0,_.sortObjects),m.finish(),!0===_.sortObjects&&m.sort(H,ae),ge=!1===nt.enabled||!1===nt.isPresenting||!1===nt.hasDepthSensing(),ge&&pn.addToRenderList(m,be),this.info.render.frame++,!0===oe&&st.beginShadows(),vn.render(g.state.shadowsArray,be,et),!0===oe&&st.endShadows(),!0===this.info.autoReset&&this.info.reset();const pt=m.opaque,it=m.transmissive;if(g.setupLights(),et.isArrayCamera){const sn=et.cameras;if(it.length>0)for(let wn=0,Un=sn.length;wn<Un;wn++)pc(pt,it,be,sn[wn]);ge&&pn.render(be);for(let wn=0,Un=sn.length;wn<Un;wn++){const Qn=sn[wn];Lo(m,be,Qn,Qn.viewport)}}else it.length>0&&pc(pt,it,be,et),ge&&pn.render(be),Lo(m,be,et);null!==D&&(re.updateMultisampleRenderTarget(D),re.updateRenderTargetMipmap(D)),!0===be.isScene&&be.onAfterRender(_,be,et),Ke.resetDefaultState(),E=-1,T=null,v.pop(),v.length>0?(g=v[v.length-1],!0===oe&&st.setGlobalState(_.clippingPlanes,g.state.camera)):g=null,y.pop(),m=y.length>0?y[y.length-1]:null},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(be,et,At){Oe.get(be.texture).__webglTexture=et,Oe.get(be.depthTexture).__webglTexture=At;const pt=Oe.get(be);pt.__hasExternalTextures=!0,pt.__autoAllocateDepthBuffer=void 0===At,pt.__autoAllocateDepthBuffer||!0===W.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),pt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(be,et){const At=Oe.get(be);At.__webglFramebuffer=et,At.__useDefaultFramebuffer=void 0===et},this.setRenderTarget=function(be,et=0,At=0){D=be,b=et,M=At;let pt=!0,it=null,sn=!1,wn=!1;if(be){const Qn=Oe.get(be);if(void 0!==Qn.__useDefaultFramebuffer)Ce.bindFramebuffer(ne.FRAMEBUFFER,null),pt=!1;else if(void 0===Qn.__webglFramebuffer)re.setupRenderTarget(be);else if(Qn.__hasExternalTextures)re.rebindTextures(be,Oe.get(be.texture).__webglTexture,Oe.get(be.depthTexture).__webglTexture);else if(be.depthBuffer){const rr=be.depthTexture;if(Qn.__boundDepthTexture!==rr){if(null!==rr&&Oe.has(rr)&&(be.width!==rr.image.width||be.height!==rr.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");re.setupDepthRenderbuffer(be)}}const pr=be.texture;(pr.isData3DTexture||pr.isDataArrayTexture||pr.isCompressedArrayTexture)&&(wn=!0);const Mr=Oe.get(be).__webglFramebuffer;be.isWebGLCubeRenderTarget?(it=Array.isArray(Mr[et])?Mr[et][At]:Mr[et],sn=!0):it=be.samples>0&&!1===re.useMultisampledRTT(be)?Oe.get(be).__webglMultisampledFramebuffer:Array.isArray(Mr)?Mr[At]:Mr,B.copy(be.viewport),R.copy(be.scissor),U=be.scissorTest}else B.copy(ve).multiplyScalar(G).floor(),R.copy(Q).multiplyScalar(G).floor(),U=q;if(Ce.bindFramebuffer(ne.FRAMEBUFFER,it)&&pt&&Ce.drawBuffers(be,it),Ce.viewport(B),Ce.scissor(R),Ce.setScissorTest(U),sn){const Qn=Oe.get(be.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+et,Qn.__webglTexture,At)}else if(wn){const Qn=Oe.get(be.texture);ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Qn.__webglTexture,At||0,et||0)}E=-1},this.readRenderTargetPixels=function(be,et,At,pt,it,sn,wn){if(!be||!be.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Un=Oe.get(be).__webglFramebuffer;if(be.isWebGLCubeRenderTarget&&void 0!==wn&&(Un=Un[wn]),Un){Ce.bindFramebuffer(ne.FRAMEBUFFER,Un);try{const Qn=be.texture,pr=Qn.format,Mr=Qn.type;if(!Me.textureFormatReadable(pr))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!Me.textureTypeReadable(Mr))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");et>=0&&et<=be.width-pt&&At>=0&&At<=be.height-it&&ne.readPixels(et,At,pt,it,Ie.convert(pr),Ie.convert(Mr),sn)}finally{const Qn=null!==D?Oe.get(D).__webglFramebuffer:null;Ce.bindFramebuffer(ne.FRAMEBUFFER,Qn)}}},this.readRenderTargetPixelsAsync=function(){var be=(0,_t.A)(function*(et,At,pt,it,sn,wn,Un){if(!et||!et.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Qn=Oe.get(et).__webglFramebuffer;if(et.isWebGLCubeRenderTarget&&void 0!==Un&&(Qn=Qn[Un]),Qn){const pr=et.texture,Mr=pr.format,rr=pr.type;if(!Me.textureFormatReadable(Mr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Me.textureTypeReadable(rr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(At>=0&&At<=et.width-it&&pt>=0&&pt<=et.height-sn){Ce.bindFramebuffer(ne.FRAMEBUFFER,Qn);const _i=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,_i),ne.bufferData(ne.PIXEL_PACK_BUFFER,wn.byteLength,ne.STREAM_READ),ne.readPixels(At,pt,it,sn,Ie.convert(Mr),Ie.convert(rr),0);const Ii=null!==D?Oe.get(D).__webglFramebuffer:null;Ce.bindFramebuffer(ne.FRAMEBUFFER,Ii);const io=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),yield function hPe(n,e,t){return new Promise(function(r,i){setTimeout(function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:r()}},t)})}(ne,io,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,_i),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,wn),ne.deleteBuffer(_i),ne.deleteSync(io),wn}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}});return function(et,At,pt,it,sn,wn,Un){return be.apply(this,arguments)}}(),this.copyFramebufferToTexture=function(be,et=null,At=0){!0!==be.isTexture&&(F1("WebGLRenderer: copyFramebufferToTexture function signature has changed."),et=arguments[0]||null,be=arguments[1]);const pt=Math.pow(2,-At),it=Math.floor(be.image.width*pt),sn=Math.floor(be.image.height*pt),wn=null!==et?et.x:0,Un=null!==et?et.y:0;re.setTexture2D(be,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,At,0,0,wn,Un,it,sn),Ce.unbindTexture()};const Bp=ne.createFramebuffer(),Mm=ne.createFramebuffer();this.copyTextureToTexture=function(be,et,At=null,pt=null,it=0,sn=null){let wn,Un,Qn,pr,Mr,rr,_i,Ii,io;!0!==be.isTexture&&(F1("WebGLRenderer: copyTextureToTexture function signature has changed."),pt=arguments[0]||null,be=arguments[1],et=arguments[2],sn=arguments[3]||0,At=null),null===sn&&(0!==it?(F1("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),sn=it,it=0):sn=0);const jr=be.isCompressedTexture?be.mipmaps[sn]:be.image;if(null!==At)wn=At.max.x-At.min.x,Un=At.max.y-At.min.y,Qn=At.isBox3?At.max.z-At.min.z:1,pr=At.min.x,Mr=At.min.y,rr=At.isBox3?At.min.z:0;else{const mc=Math.pow(2,-it);wn=Math.floor(jr.width*mc),Un=Math.floor(jr.height*mc),Qn=be.isDataArrayTexture?jr.depth:be.isData3DTexture?Math.floor(jr.depth*mc):1,pr=0,Mr=0,rr=0}null!==pt?(_i=pt.x,Ii=pt.y,io=pt.z):(_i=0,Ii=0,io=0);const Mi=Ie.convert(et.format),ir=Ie.convert(et.type);let Yo;et.isData3DTexture?(re.setTexture3D(et,0),Yo=ne.TEXTURE_3D):et.isDataArrayTexture||et.isCompressedArrayTexture?(re.setTexture2DArray(et,0),Yo=ne.TEXTURE_2D_ARRAY):(re.setTexture2D(et,0),Yo=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,et.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,et.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,et.unpackAlignment);const Fi=ne.getParameter(ne.UNPACK_ROW_LENGTH),Xc=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),gl=ne.getParameter(ne.UNPACK_SKIP_PIXELS),Ba=ne.getParameter(ne.UNPACK_SKIP_ROWS),Na=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,jr.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,jr.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,pr),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Mr),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,rr);const Bs=be.isDataArrayTexture||be.isData3DTexture,Ql=et.isDataArrayTexture||et.isData3DTexture;if(be.isDepthTexture){const mc=Oe.get(be),Ia=Oe.get(et),ml=Oe.get(mc.__renderTarget),Tm=Oe.get(Ia.__renderTarget);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,ml.__webglFramebuffer),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Tm.__webglFramebuffer);for(let fd=0;fd<Qn;fd++)Bs&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Oe.get(be).__webglTexture,it,rr+fd),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Oe.get(et).__webglTexture,sn,io+fd)),ne.blitFramebuffer(pr,Mr,wn,Un,_i,Ii,wn,Un,ne.DEPTH_BUFFER_BIT,ne.NEAREST);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(0!==it||be.isRenderTargetTexture||Oe.has(be)){const mc=Oe.get(be),Ia=Oe.get(et);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,Bp),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Mm);for(let ml=0;ml<Qn;ml++)Bs?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,mc.__webglTexture,it,rr+ml):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,mc.__webglTexture,it),Ql?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Ia.__webglTexture,sn,io+ml):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Ia.__webglTexture,sn),0!==it?ne.blitFramebuffer(pr,Mr,wn,Un,_i,Ii,wn,Un,ne.COLOR_BUFFER_BIT,ne.NEAREST):Ql?ne.copyTexSubImage3D(Yo,sn,_i,Ii,io+ml,pr,Mr,wn,Un):ne.copyTexSubImage2D(Yo,sn,_i,Ii,pr,Mr,wn,Un);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else Ql?be.isDataTexture||be.isData3DTexture?ne.texSubImage3D(Yo,sn,_i,Ii,io,wn,Un,Qn,Mi,ir,jr.data):et.isCompressedArrayTexture?ne.compressedTexSubImage3D(Yo,sn,_i,Ii,io,wn,Un,Qn,Mi,jr.data):ne.texSubImage3D(Yo,sn,_i,Ii,io,wn,Un,Qn,Mi,ir,jr):be.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,sn,_i,Ii,wn,Un,Mi,ir,jr.data):be.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,sn,_i,Ii,jr.width,jr.height,Mi,jr.data):ne.texSubImage2D(ne.TEXTURE_2D,sn,_i,Ii,wn,Un,Mi,ir,jr);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Fi),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Xc),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,gl),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Ba),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Na),0===sn&&et.generateMipmaps&&ne.generateMipmap(Yo),Ce.unbindTexture()},this.copyTextureToTexture3D=function(be,et,At=null,pt=null,it=0){return!0!==be.isTexture&&(F1("WebGLRenderer: copyTextureToTexture3D function signature has changed."),At=arguments[0]||null,pt=arguments[1]||null,be=arguments[2],et=arguments[3],it=arguments[4]||0),F1('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(be,et,At,pt,it)},this.initRenderTarget=function(be){void 0===Oe.get(be).__webglFramebuffer&&re.setupRenderTarget(be)},this.initTexture=function(be){be.isCubeTexture?re.setTextureCube(be,0):be.isData3DTexture?re.setTexture3D(be,0):be.isDataArrayTexture||be.isCompressedArrayTexture?re.setTexture2DArray(be,0):re.setTexture2D(be,0),Ce.unbindTexture()},this.resetState=function(){b=0,M=0,D=null,Ce.reset(),Ke.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ip}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=ss._getDrawingBufferColorSpace(e),t.unpackColorSpace=ss._getUnpackColorSpace()}}var AI=we(724);const Xke=["rendererContainer"];let Yke=(()=>{class n{constructor(t){this.pageRestartService=t,this.disks=[],this.towers=[],this.numDisks=3,this.moves=[],this.currentMove=0,this.isAnimating=!1}restart(){this.pageRestartService.reloadPage()}ngOnInit(){}ngAfterViewInit(){this.initScene(),this.createTowers(),this.createDisks(),this.solveHanoi(this.numDisks,0,2,1),this.animate()}initScene(){this.scene=new mee,this.camera=new Ol(75,this.rendererContainer.nativeElement.offsetWidth/this.rendererContainer.nativeElement.offsetHeight,.1,1e3),this.renderer=new Kke({antialias:!0}),this.renderer.setSize(this.rendererContainer.nativeElement.offsetWidth,this.rendererContainer.nativeElement.offsetHeight),this.rendererContainer.nativeElement.appendChild(this.renderer.domElement),this.controls=new OLe(this.camera,this.renderer.domElement),this.camera.position.set(10,10,10),this.controls.update();const t=new dte(4210752);this.scene.add(t);const r=new fte(16777215,.5);r.position.set(1,1,1).normalize(),this.scene.add(r)}createTowers(){const t=new b0(.5,.5,5,32),r=new dp({color:8421504});for(let i=0;i<3;i++){const s=new ua(t,r);s.position.set(4*i-4,2.5,0),this.towers.push(s),this.scene.add(s)}}createDisks(){for(let t=0;t<this.numDisks;t++){const r=new b0(1-.1*t,1-.1*t,.5,32),i=new dp({color:(new Ln).setHSL(t/this.numDisks,1,.5)}),s=new ua(r,i);s.position.set(-4,.5*t+.25,0),this.disks.push(s),this.scene.add(s)}}solveHanoi(t,r,i,s){t>0&&(this.solveHanoi(t-1,r,s,i),this.moves.push({from:r,to:i}),this.solveHanoi(t-1,s,i,r))}animateMove(){if(this.currentMove<this.moves.length&&!this.isAnimating){this.isAnimating=!0;const t=this.moves[this.currentMove],r=this.disks.filter(i=>Math.abs(i.position.x-this.towers[t.from].position.x)<.1).sort((i,s)=>s.position.y-i.position.y);if(r.length>0){const i=r[0],s=this.towers[t.to].position.y+.25+.5*this.disks.filter(o=>Math.abs(o.position.x-this.towers[t.to].position.x)<.1).length;new AI.Tween(i.position).to({y:i.position.y+3},500).onComplete(()=>{new AI.Tween(i.position).to({x:this.towers[t.to].position.x},500).onComplete(()=>{new AI.Tween(i.position).to({y:s},500).onComplete(()=>{this.currentMove++,this.isAnimating=!1}).start()}).start()}).start()}else this.currentMove++,this.isAnimating=!1}}animate(){requestAnimationFrame(this.animate.bind(this)),AI.update(),this.controls.update(),this.currentMove<this.moves.length&&this.animateMove(),this.renderer.render(this.scene,this.camera)}static{this.\u0275fac=function(r){return new(r||n)(gt(U4))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-hanoi3d"]],viewQuery:function(r,i){if(1&r&&Wi(Xke,5),2&r){let s;ar(s=lr())&&(i.rendererContainer=s.first)}},decls:13,vars:0,consts:[["rendererContainer",""],["align","center"],[2,"width","300px","height","300px"],[3,"click"],["align","right"],["routerLink","/StableReleases"]],template:function(r,i){if(1&r){const s=Rs();fe(0,"div",1)(1,"h1"),Fe(2,"[HANOI - 3D]"),he(),ft(3,"hr")(4,"div",2,0)(6,"hr"),fe(7,"button",3),jt("click",function(){return Vn(s),qn(i.restart())}),Fe(8,"[RESTART]"),he(),ft(9,"hr"),fe(10,"div",4)(11,"a",5),Fe(12,"[Volver al Menu]"),he()()()}},dependencies:[Ss],styles:["#canvas-container[_ngcontent-%COMP%]{width:300px;height:300px}"]})}}return n})();function Zke(n,e){if(1&n&&ft(0,"div",13),2&n){const t=e.$implicit;qC("background-color",t),Ci("filled",t)}}function Jke(n,e){if(1&n&&(fe(0,"div",11),An(1,Zke,1,4,"div",12),he()),2&n){const t=e.$implicit;Ne(),$e("ngForOf",t)}}function eHe(n,e){if(1&n){const t=Rs();fe(0,"button",8),jt("click",function(){return Vn(t),qn(on().startGame())}),Fe(1),he()}if(2&n){const t=on();Ne(),ns(" ",t.gameOver?"Play Again":"Start Game"," ")}}function tHe(n,e){if(1&n){const t=Rs();fe(0,"div",14)(1,"button",15),jt("click",function(){return Vn(t),qn(on().moveLeft())}),Fe(2,"\u2190"),he(),fe(3,"button",15),jt("click",function(){return Vn(t),qn(on().moveRight())}),Fe(4,"\u2192"),he(),fe(5,"button",8),jt("click",function(){return Vn(t),qn(on().rotate())}),Fe(6,"Rotate"),he(),fe(7,"button",8),jt("click",function(){return Vn(t),qn(on().drop())}),Fe(8,"Drop"),he()()}}let nHe=(()=>{class n{constructor(t){this.pageRestartService=t,this.BOARD_WIDTH=10,this.BOARD_HEIGHT=20,this.TICK_INTERVAL=1e3,this.board=[],this.displayBoard=[],this.currentPiece=[],this.currentColor="",this.score=0,this.isPlaying=!1,this.gameOver=!1,this.isMobile=!1,this.TETROMINOS={I:{shape:[[1,1,1,1]],color:"#00f0f0"},O:{shape:[[1,1],[1,1]],color:"#f0f000"},T:{shape:[[0,1,0],[1,1,1]],color:"#a000f0"},S:{shape:[[0,1,1],[1,1,0]],color:"#00f000"},Z:{shape:[[1,1,0],[0,1,1]],color:"#f00000"},J:{shape:[[1,0,0],[1,1,1]],color:"#0000f0"},L:{shape:[[0,0,1],[1,1,1]],color:"#f0a000"}}}restart(){this.pageRestartService.reloadPage()}ngOnInit(){this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.initBoard()}handleKeyboardEvent(t){if(this.isPlaying&&!this.gameOver)switch(t.key){case"ArrowLeft":this.moveLeft();break;case"ArrowRight":this.moveRight();break;case"ArrowUp":this.rotate();break;case"ArrowDown":this.moveDown();break;case" ":this.drop()}}initBoard(){this.board=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill("")),this.displayBoard=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill(""))}startGame(){this.gameLoop$&&this.gameLoop$.unsubscribe(),this.initBoard(),this.score=0,this.gameOver=!1,this.isPlaying=!0,this.spawnPiece(),this.gameLoop$=_J(this.TICK_INTERVAL).subscribe(()=>{this.gameOver||this.moveDown()})}spawnPiece(){const t=Object.keys(this.TETROMINOS),r=t[Math.floor(Math.random()*t.length)],i=this.TETROMINOS[r];this.currentPiece=i.shape.flatMap((s,o)=>s.map((a,l)=>a?{x:l+Math.floor(this.BOARD_WIDTH/2)-1,y:o}:null)).filter(s=>null!==s),this.currentColor=i.color,this.checkCollision()&&(this.gameOver=!0,this.isPlaying=!1,this.gameLoop$&&this.gameLoop$.unsubscribe()),this.updateDisplayBoard()}moveLeft(){const t=this.currentPiece.map(r=>({...r,x:r.x-1}));this.isValidMove(t)&&(this.currentPiece=t,this.updateDisplayBoard())}moveRight(){const t=this.currentPiece.map(r=>({...r,x:r.x+1}));this.isValidMove(t)&&(this.currentPiece=t,this.updateDisplayBoard())}moveDown(){const t=this.currentPiece.map(r=>({...r,y:r.y+1}));this.isValidMove(t)?(this.currentPiece=t,this.updateDisplayBoard()):(this.lockPiece(),this.clearLines(),this.spawnPiece())}drop(){for(;this.isValidMove(this.currentPiece.map(t=>({...t,y:t.y+1})));)this.currentPiece=this.currentPiece.map(t=>({...t,y:t.y+1}));this.updateDisplayBoard(),this.lockPiece(),this.clearLines(),this.spawnPiece()}rotate(){if(!this.currentPiece.length)return;const t=this.currentPiece[1],r=this.currentPiece.map(i=>({x:t.x-(i.y-t.y),y:t.y+(i.x-t.x)}));this.isValidMove(r)&&(this.currentPiece=r,this.updateDisplayBoard())}isValidMove(t){return t.every(r=>r.x>=0&&r.x<this.BOARD_WIDTH&&r.y>=0&&r.y<this.BOARD_HEIGHT&&!this.board[r.y]?.[r.x])}checkCollision(){return!this.isValidMove(this.currentPiece)}updateDisplayBoard(){this.displayBoard=this.board.map(t=>[...t]),this.currentPiece.forEach(t=>{t.y>=0&&t.y<this.BOARD_HEIGHT&&(this.displayBoard[t.y][t.x]=this.currentColor)})}lockPiece(){this.currentPiece.forEach(t=>{t.y>=0&&t.y<this.BOARD_HEIGHT&&(this.board[t.y][t.x]=this.currentColor)}),this.updateDisplayBoard()}clearLines(){let t=0;for(let r=this.BOARD_HEIGHT-1;r>=0;r--)this.board[r].every(i=>""!==i)&&(this.board.splice(r,1),this.board.unshift(Array(this.BOARD_WIDTH).fill("")),t++,r++);t>0&&(this.score+=100*Math.pow(2,t-1)),this.updateDisplayBoard()}ngOnDestroy(){this.gameLoop$&&this.gameLoop$.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)(gt(U4))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-tetris"]],hostBindings:function(r,i){1&r&&jt("keydown",function(o){return i.handleKeyboardEvent(o)},0,dQ)},decls:19,vars:6,consts:[["align","center"],[1,"game-container"],[1,"game-board"],["class","row",4,"ngFor","ngForOf"],[1,"controls"],[1,"score"],[3,"click",4,"ngIf"],["class","mobile-controls",4,"ngIf"],[3,"click"],["align","right"],["routerLink","/StableReleases"],[1,"row"],["class","cell",3,"filled","backgroundColor",4,"ngFor","ngForOf"],[1,"cell"],[1,"mobile-controls"],[2,"font-size","x-large",3,"click"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Fe(2,"[TETRIS]"),he(),ft(3,"hr"),fe(4,"div",1)(5,"div",2),An(6,Jke,2,1,"div",3),he(),fe(7,"div",4)(8,"div",5),Fe(9),he(),An(10,eHe,2,1,"button",6)(11,tHe,9,0,"div",7),he()(),ft(12,"hr"),fe(13,"button",8),jt("click",function(){return i.restart()}),Fe(14,"[RESTART]"),he(),ft(15,"hr"),he(),fe(16,"div",9)(17,"a",10),Fe(18,"[Volver al Menu]"),he()()),2&r&&(Ne(4),Ci("game-over",i.gameOver),Ne(2),$e("ngForOf",i.displayBoard),Ne(3),ns("Score: ",i.score,""),Ne(),$e("ngIf",!i.isPlaying||i.gameOver),Ne(),$e("ngIf",i.isMobile))},dependencies:[Ss,Bl,Ic],styles:[".game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.game-board[_ngcontent-%COMP%]{border:2px solid #333;background:#f0f0f0}.row[_ngcontent-%COMP%]{display:flex}.cell[_ngcontent-%COMP%]{width:25px;height:25px;border:1px solid #ccc}.cell.filled[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2)}.controls[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.score[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}button[_ngcontent-%COMP%]{padding:10px 20px;margin:5px;font-size:16px;cursor:pointer}.mobile-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:20px}.game-over[_ngcontent-%COMP%]   .game-board[_ngcontent-%COMP%]{opacity:.5}@media (max-width: 600px){.cell[_ngcontent-%COMP%]{width:20px;height:20px}}"]})}}return n})();function qa(){return qa=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qa.apply(null,arguments)}var pne={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null},It=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(pne)};function Ir(n){var e=typeof n;if("number"===e||"bigint"===e||"string"===e||"boolean"===e||null==n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map(function(t){return Ir(t)});if(n instanceof Date)return new Date(n.valueOf());if(kr(n))return n;if(nS(n))return function rHe(n,e){var t={};for(var r in n)kn(n,r)&&(t[r]=e(n[r]));return t}(n,Ir);if("function"===e)return n;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function mne(n,e){for(var t in e)kn(e,t)&&(n[t]=e[t]);return n}function yp(n,e){var t,r,i;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;r++)if(!yp(n[r],e[r]))return!1;return!0}if("function"==typeof n)return n===e;if(n instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in n)if(!(t in e)||!yp(n[t],e[t]))return!1;for(t in e)if(!(t in n))return!1;return!0}return n===e}function kn(n,e){return n&&Object.hasOwnProperty.call(n,e)}function zc(n,e){if(pI(n,e))return n[e];throw"function"==typeof n[e]&&o8(n,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function ub(n,e,t){if(pI(n,e))return n[e]=t,t;throw new Error('No access to property "'+e+'"')}function pI(n,e){return!(!function cHe(n){return"object"==typeof n&&n&&n.constructor===Object}(n)&&!Array.isArray(n)||!kn(uHe,e)&&(e in Object.prototype||e in Function.prototype))}function o8(n,e){return!(null==n||"function"!=typeof n[e]||kn(n,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(n)||!kn(hHe,e)&&(e in Object.prototype||e in Function.prototype))}qa(It,pne,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var uHe={length:!0,name:!0},hHe={toString:!0,valueOf:!0,toLocaleString:!0};class gI{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return zc(this.wrappedObject,e)}set(e,t){return ub(this.wrappedObject,e,t),this}has(e){return pI(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return Cne(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){pI(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}class wne{constructor(e,t,r){this.a=e,this.b=t,this.bKeys=r,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,t){return this.bKeys.has(e)?this.b.set(e,t):this.a.set(e,t),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return Cne(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function Cne(n,e){return{next:()=>{var t=n.next();return t.done?t:{value:e(t.value),done:!1}}}}function eS(){return new Map}function hb(n){if(!n)return eS();if(fb(n))return n;if(nS(n))return new gI(n);throw new Error("createMap can create maps from objects or Maps")}function Ur(n){return"number"==typeof n}function kr(n){return!(!n||"object"!=typeof n||"function"!=typeof n.constructor)&&(!0===n.isBigNumber&&"object"==typeof n.constructor.prototype&&!0===n.constructor.prototype.isBigNumber||"function"==typeof n.constructor.isDecimal&&!0===n.constructor.isDecimal(n))}function dHe(n){return"bigint"==typeof n}function _p(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isComplex||!1}function tS(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isFraction||!1}function jh(n){return n&&!0===n.constructor.prototype.isUnit||!1}function uc(n){return"string"==typeof n}var Ds=Array.isArray;function cr(n){return n&&!0===n.constructor.prototype.isMatrix||!1}function Wh(n){return Array.isArray(n)||cr(n)}function mI(n){return n&&n.isDenseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function O0(n){return n&&n.isSparseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function a8(n){return n&&!0===n.constructor.prototype.isRange||!1}function vI(n){return n&&!0===n.constructor.prototype.isIndex||!1}function AHe(n){return"boolean"==typeof n}function pHe(n){return n&&!0===n.constructor.prototype.isResultSet||!1}function xne(n){return n&&!0===n.constructor.prototype.isHelp||!1}function gHe(n){return"function"==typeof n}function mHe(n){return n instanceof Date}function vHe(n){return n instanceof RegExp}function nS(n){return!(!n||"object"!=typeof n||n.constructor!==Object||_p(n)||tS(n))}function fb(n){return!!n&&(n instanceof Map||n instanceof gI||"function"==typeof n.set&&"function"==typeof n.get&&"function"==typeof n.keys&&"function"==typeof n.has)}function yHe(n){return null===n}function _He(n){return void 0===n}function P0(n){return n&&!0===n.isAccessorNode&&!0===n.constructor.prototype.isNode||!1}function $h(n){return n&&!0===n.isArrayNode&&!0===n.constructor.prototype.isNode||!1}function bHe(n){return n&&!0===n.isAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function wHe(n){return n&&!0===n.isBlockNode&&!0===n.constructor.prototype.isNode||!1}function CHe(n){return n&&!0===n.isConditionalNode&&!0===n.constructor.prototype.isNode||!1}function Di(n){return n&&!0===n.isConstantNode&&!0===n.constructor.prototype.isNode||!1}function l8(n){return Di(n)||fa(n)&&1===n.args.length&&Di(n.args[0])&&"-+~".includes(n.op)}function rS(n){return n&&!0===n.isFunctionAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function um(n){return n&&!0===n.isFunctionNode&&!0===n.constructor.prototype.isNode||!1}function db(n){return n&&!0===n.isIndexNode&&!0===n.constructor.prototype.isNode||!1}function Ms(n){return n&&!0===n.isNode&&!0===n.constructor.prototype.isNode||!1}function yI(n){return n&&!0===n.isObjectNode&&!0===n.constructor.prototype.isNode||!1}function fa(n){return n&&!0===n.isOperatorNode&&!0===n.constructor.prototype.isNode||!1}function bp(n){return n&&!0===n.isParenthesisNode&&!0===n.constructor.prototype.isNode||!1}function xHe(n){return n&&!0===n.isRangeNode&&!0===n.constructor.prototype.isNode||!1}function EHe(n){return n&&!0===n.isRelationalNode&&!0===n.constructor.prototype.isNode||!1}function dl(n){return n&&!0===n.isSymbolNode&&!0===n.constructor.prototype.isNode||!1}function Ene(n){return n&&!0===n.constructor.prototype.isChain||!1}function Ws(n){var e=typeof n;return"object"===e?null===n?"null":kr(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":e}var Sne=new Set(["end"]);function ye(n,e,t,r){function i(s){var o=function aHe(n,e){for(var t={},r=0;r<e.length;r++){var i=e[r],s=n[i];void 0!==s&&(t[i]=s)}return t}(s,e.map(THe));return function DHe(n,e,t){var r=e.filter(s=>!function MHe(n){return n&&"?"===n[0]}(s)).every(s=>void 0!==t[s]);if(!r){var i=e.filter(s=>void 0===t[s]);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(i.map(s=>'"'.concat(s,'"')).join(", "),"."))}}(n,e,s),t(o)}return i.isFactory=!0,i.fn=n,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function THe(n){return n&&"?"===n[0]?n.slice(1):n}var IHe=ye("Node",["mathWithTransform"],n=>{var{mathWithTransform:e}=n;return class r{get type(){return"Node"}get isNode(){return!0}evaluate(s){return this.compile().evaluate(s)}compile(){var s=this._compile(e,{}),o={};return{evaluate:function l(c){var u=hb(c);return function t(i){for(var s of[...Sne])if(i.has(s))throw new Error('Scope contains an illegal symbol, "'+s+'" is a reserved keyword')}(u),s(u,o,null)}}}_compile(s,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(s){throw new Error("Cannot run forEach on a Node interface")}map(s){throw new Error("Cannot run map on a Node interface")}_ifNode(s){if(!Ms(s))throw new TypeError("Callback function must return a Node");return s}traverse(s){s(this,null,null),function o(a,l){a.forEach(function(c,u,h){l(c,u,h),o(c,l)})}(this,s)}transform(s){return function o(a,l,c){var u=s(a,l,c);return u!==a?u:a.map(o)}(this,null,null)}filter(s){var o=[];return this.traverse(function(a,l,c){s(a,l,c)&&o.push(a)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(s){return s.cloneDeep()})}equals(s){return!!s&&this.type===s.type&&yp(this,s)}toString(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toString(s)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toHTML(s)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toTex(s)}_toTex(s){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(s){if(s&&"object"==typeof s)switch(typeof s.handler){case"object":case"undefined":return;case"function":return s.handler(this,s);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}},{isClass:!0,isNode:!0});function iS(n){return iS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iS(n)}function ja(n,e,t){return(e=function RHe(n){var e=function FHe(n,e){if("object"!=iS(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!=iS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==iS(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $n(n){return"boolean"==typeof n||!!isFinite(n)&&n===Math.round(n)}function hm(n,e){return"bigint"!==e.number||function OHe(n){return/^-?\d+$/.test(n)}(n)?e.number:e.numberFallback}var fm=Math.sign||function(n){return n>0?1:n<0?-1:0},PHe=Math.log2||function(e){return Math.log(e)/Math.LN2},LHe=Math.log10||function(e){return Math.log(e)/Math.LN10},Dne=Math.log1p||function(n){return Math.log(n+1)},UHe=Math.cbrt||function(e){if(0===e)return e;var r,t=e<0;return t&&(e=-e),r=isFinite(e)?(e/((r=Math.exp(Math.log(e)/3))*r)+2*r)/3:e,t?-r:r},kHe=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function u8(n,e,t){var i={2:"0b",8:"0o",16:"0x"}[e],s="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!$n(t))throw new Error("size must be an integer");if(n>2**(t-1)-1||n<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!$n(n))throw new Error("Value must be an integer");n<0&&(n+=2**t),s="i".concat(t)}var o="";return n<0&&(n=-n,o="-"),"".concat(o).concat(i).concat(n.toString(e)).concat(s)}function L0(n,e){if("function"==typeof e)return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:t,precision:r,wordSize:i}=Mne(e);switch(t){case"fixed":return Tne(n,r);case"exponential":return Bne(n,r);case"engineering":return function HHe(n,e){if(isNaN(n)||!isFinite(n))return String(n);var r=_I(sS(n),e),i=r.exponent,s=r.coefficients,o=i%3==0?i:i<0?i-3-i%3:i-i%3;if(Ur(e))for(;e>s.length||i-o+1>s.length;)s.push(0);else for(var a=Math.abs(i-o)-(s.length-1),l=0;l<a;l++)s.push(0);for(var c=Math.abs(i-o),u=1;c>0;)u++,c--;var h=s.slice(u).join(""),d=Ur(e)&&h.length||h.match(/[1-9]/)?"."+h:"",f=s.slice(0,u).join("")+d+"e"+(i>=0?"+":"")+o.toString();return r.sign+f}(n,r);case"bin":return u8(n,2,i);case"oct":return u8(n,8,i);case"hex":return u8(n,16,i);case"auto":return function VHe(n,e,t){if(isNaN(n)||!isFinite(n))return String(n);var r=Rne(t?.lowerExp,-3),i=Rne(t?.upperExp,5),s=sS(n),o=e?_I(s,e):s;if(o.exponent<r||o.exponent>=i)return Bne(n,e);var a=o.coefficients,l=o.exponent;a.length<e&&(a=a.concat(Ab(e-a.length))),a=a.concat(Ab(l-a.length+1+(a.length<e?e-a.length:0)));var c=l>0?l:0;return c<(a=Ab(-l).concat(a)).length-1&&a.splice(c+1,0,"."),o.sign+a.join("")}(n,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],o=arguments[4];return"."!==s?s+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Mne(n){var t,r,e="auto";if(void 0!==n)if(Ur(n))t=n;else if(kr(n))t=n.toNumber();else{if(!nS(n))throw new Error("Unsupported type of options, number, BigNumber, or object expected");void 0!==n.precision&&(t=Fne(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),void 0!==n.wordSize&&(r=Fne(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(e=n.notation)}return{notation:e,precision:t,wordSize:r}}function sS(n){var e=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],r=e[2],i=parseFloat(e[4]||"0"),s=r.indexOf(".");i+=-1!==s?s-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(a){return i-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return 0===o.length&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function Tne(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=sS(n),r="number"==typeof e?_I(t,t.exponent+1+e):t,i=r.coefficients,s=r.exponent+1,o=s+(e||0);return i.length<o&&(i=i.concat(Ab(o-i.length))),s<0&&(i=Ab(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),r.sign+i.join("")}function Bne(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=sS(n),r=e?_I(t,e):t,i=r.coefficients,s=r.exponent;i.length<e&&(i=i.concat(Ab(e-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function _I(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=t.coefficients;e<=0;)r.unshift(0),t.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var s=e-1;for(r[s]++;10===r[s];)r.pop(),0===s&&(r.unshift(0),t.exponent++,s++),r[--s]++}return t}function Ab(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}function Pl(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(n)&&!isNaN(e)&&(isFinite(n)&&isFinite(e)?n===e||Math.abs(n-e)<=Math.max(t*Math.max(Math.abs(n),Math.abs(e)),r):n===e)}var zHe=Math.acosh||function(n){return Math.log(Math.sqrt(n*n-1)+n)},GHe=Math.asinh||function(n){return Math.log(Math.sqrt(n*n+1)+n)},qHe=Math.atanh||function(n){return Math.log((1+n)/(1-n))/2},Nne=Math.cosh||function(n){return(Math.exp(n)+Math.exp(-n))/2},jHe=Math.sinh||function(n){return(Math.exp(n)-Math.exp(-n))/2},Ine=Math.tanh||function(n){var e=Math.exp(2*n);return(e-1)/(e+1)};function Fne(n,e){return Ur(n)?n:kr(n)?n.toNumber():void e()}function Rne(n,e){return Ur(n)?n:kr(n)?n.toNumber():e}function h8(n,e,t){var i=new(0,n.constructor)(2),s="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!$n(t))throw new Error("size must be an integer");if(n.greaterThan(i.pow(t-1).sub(1))||n.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(i.pow(t))),s="i".concat(t)}switch(e){case 2:return"".concat(n.toBinary()).concat(s);case 8:return"".concat(n.toOctal()).concat(s);case 16:return"".concat(n.toHexadecimal()).concat(s);default:throw new Error("Base ".concat(e," not supported "))}}function One(n,e){return void 0!==e?n.toExponential(e-1):n.toExponential()}function Pne(n,e){return Ur(n)?n:kr(n)?n.toNumber():e}function YHe(n,e){return n.substring(n.length-e.length,n.length)===e}function ni(n,e){var t=function ZHe(n,e){return"number"==typeof n?L0(n,e):kr(n)?function $He(n,e){if("function"==typeof e)return e(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:r,wordSize:i}=Mne(e);switch(t){case"fixed":return function XHe(n,e){return n.toFixed(e)}(n,r);case"exponential":return One(n,r);case"engineering":return function KHe(n,e){var t=n.e,r=t%3==0?t:t<0?t-3-t%3:t-t%3,s=n.mul(Math.pow(10,-r)).toPrecision(e);return s.includes("e")&&(s=new(0,n.constructor)(s).toFixed()),s+"e"+(t>=0?"+":"")+r.toString()}(n,r);case"bin":return h8(n,2,i);case"oct":return h8(n,8,i);case"hex":return h8(n,16,i);case"auto":var s=Pne(e?.lowerExp,-3),o=Pne(e?.upperExp,5);if(n.isZero())return"0";var l=n.toSignificantDigits(r),c=l.e;return(c>=s&&c<o?l.toFixed():One(n,r)).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],h=arguments[4];return"."!==u?u+h:h});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(n,e):function JHe(n){return n&&"object"==typeof n&&"bigint"==typeof n.s&&"bigint"==typeof n.n&&"bigint"==typeof n.d||!1}(n)?e&&"decimal"===e.fraction?n.toString():"".concat(n.s*n.n,"/").concat(n.d):Array.isArray(n)?Une(n,e):uc(n)?pb(n):"function"==typeof n?n.syntax?String(n.syntax):"function":n&&"object"==typeof n?"function"==typeof n.format?n.format(e):n&&n.toString(e)!=={}.toString()?n.toString(e):"{"+Object.keys(n).map(r=>pb(r)+": "+ni(n[r],e)).join(", ")+"}":String(n)}(n,e);return e&&"object"==typeof e&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function pb(n){for(var e=String(n),t="",r=0;r<e.length;){var i=e.charAt(r);t+=i in Lne?Lne[i]:i,r++}return'"'+t+'"'}var Lne={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Kh(n){var e=String(n);return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Une(n,e){if(Array.isArray(n)){for(var t="[",r=n.length,i=0;i<r;i++)0!==i&&(t+=", "),t+=Une(n[i],e);return t+"]"}return ni(n,e)}function f8(n,e){if(!uc(n))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Ws(n)+", index: 0)");if(!uc(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Ws(e)+", index: 1)");return n===e?0:n>e?1:-1}var bI="ObjectNode",t8e=ye(bI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&("object"!=typeof i||!Object.keys(i).every(function(s){return Ms(i[s])})))throw new TypeError("Object containing Nodes expected")}get type(){return bI}get isObjectNode(){return!0}_compile(i,s){var o={};for(var a in this.properties)if(kn(this.properties,a)){var l=pb(a),c=JSON.parse(l),u=zc(this.properties,a);o[c]=u._compile(i,s)}return function(d,f,A){var p={};for(var m in o)kn(o,m)&&(p[m]=o[m](d,f,A));return p}}forEach(i){for(var s in this.properties)kn(this.properties,s)&&i(this.properties[s],"properties["+pb(s)+"]",this)}map(i){var s={};for(var o in this.properties)kn(this.properties,o)&&(s[o]=this._ifNode(i(this.properties[o],"properties["+pb(o)+"]",this)));return new t(s)}clone(){var i={};for(var s in this.properties)kn(this.properties,s)&&(i[s]=this.properties[s]);return new t(i)}_toString(i){var s=[];for(var o in this.properties)kn(this.properties,o)&&s.push(pb(o)+": "+this.properties[o].toString(i));return"{"+s.join(", ")+"}"}toJSON(){return{mathjs:bI,properties:this.properties}}static fromJSON(i){return new t(i.properties)}_toHTML(i){var s=[];for(var o in this.properties)kn(this.properties,o)&&s.push('<span class="math-symbol math-property">'+Kh(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var s=[];for(var o in this.properties)kn(this.properties,o)&&s.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");return"\\left\\{\\begin{array}{ll}"+s.join("\n")+"\\end{array}\\right\\}"}}return ja(t,"name",bI),t},{isClass:!0,isNode:!0});function ri(n,e,t){if(!(this instanceof ri))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function td(n,e,t){if(!(this instanceof td))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}function xr(n){for(var e=[];Array.isArray(n);)e.push(n.length),n=n[0];return e}function kne(n,e,t){var r,i=n.length;if(i!==e[t])throw new ri(i,e[t]);if(t<e.length-1){var s=t+1;for(r=0;r<i;r++){if(!Array.isArray(n[r]))throw new ri(e.length-1,e.length,"<");kne(n[r],e,s)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new ri(e.length+1,e.length,">")}function Hne(n,e){if(0===e.length){if(Array.isArray(n))throw new ri(n.length,0)}else kne(n,e,0)}function wI(n,e){var t=n.isMatrix?n._size:xr(n);e._sourceSize.forEach((i,s)=>{if(null!==i&&i!==t[s])throw new ri(i,t[s])})}function $s(n,e){if(void 0!==n){if(!Ur(n)||!$n(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||"number"==typeof e&&n>=e)throw new td(n,e)}}function gb(n){for(var e=0;e<n._dimensions.length;++e){var t=n._dimensions[e];if(t._data&&Ds(t._data)){if(0===t._size[0])return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(uc(t)&&0===t.length)return!0}return!1}function mb(n,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach(function(i){if(!Ur(i)||!$n(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ni(e)+")")}),(Ur(n)||kr(n))&&(n=[n]),d8(n,e,0,void 0!==t?t:0),n}function d8(n,e,t,r){var i,s,a=e[t],l=Math.min(n.length,a);if(n.length=a,t<e.length-1){var c=t+1;for(i=0;i<l;i++)s=n[i],Array.isArray(s)||(n[i]=s=[s]),d8(s,e,c,r);for(i=l;i<a;i++)n[i]=s=[],d8(s,e,c,r)}else{for(i=0;i<l;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=l;i<a;i++)n[i]=r}}function A8(n,e){var t=Vi(n),r=t.length;if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new ri(0,r,"!=");var i=Vne(e=p8(e,r));if(r!==i)throw new ri(i,r,"!=");try{return function n8e(n,e){for(var r,t=n,i=e.length-1;i>0;i--){var s=e[i];r=[];for(var o=t.length/s,a=0;a<o;a++)r.push(t.slice(a*s,(a+1)*s));t=r}return t}(t,e)}catch(s){throw s instanceof ri?new ri(i,r,"!="):s}}function p8(n,e){var t=Vne(n),r=n.slice(),s=n.indexOf(-1);if(n.indexOf(-1,s+1)>=0)throw new Error("More than one wildcard in sizes");if(s>=0){if(e%t!=0)throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);r[s]=-e/t}return r}function Vne(n){return n.reduce((e,t)=>e*t,1)}function CI(n,e){for(var t=e||xr(n);Array.isArray(n)&&1===n.length;)n=n[0],t.shift();for(var r=t.length;1===t[r-1];)r--;return r<t.length&&(n=Qne(n,r,0),t.length=r),n}function Qne(n,e,t){var r,i;if(t<e){var s=t+1;for(r=0,i=n.length;r<i;r++)n[r]=Qne(n[r],e,s)}else for(;Array.isArray(n);)n=n[0];return n}function zne(n,e,t,r){var i=r||xr(n);if(t)for(var s=0;s<t;s++)n=[n],i.unshift(1);for(n=Gne(n,e,0);i.length<e;)i.push(1);return n}function Gne(n,e,t){var r,i;if(Array.isArray(n)){var s=t+1;for(r=0,i=n.length;r<i;r++)n[r]=Gne(n[r],e,s)}else for(var o=t;o<e;o++)n=[n];return n}function Vi(n){if(!Array.isArray(n))return n;var e=[];return n.forEach(function t(r){Array.isArray(r)?r.forEach(t):e.push(r)}),e}function dm(n,e){return Array.prototype.map.call(n,e)}function qne(n,e){Array.prototype.forEach.call(n,e)}function jne(n,e){if(1!==xr(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,t=>e.test(t))}function Wne(n,e){return Array.prototype.join.call(n,e)}function vb(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;var e=[],t=0;e[0]={value:n[0],identifier:0};for(var r=1;r<n.length;r++)n[r]===n[r-1]?t++:t=0,e.push({value:n[r],identifier:t});return e}function xI(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;for(var e=[],t=0;t<n.length;t++)e.push(n[t].value);return e}function EI(n,e){for(var t,r=0,i=0;i<n.length;i++){var s=n[i],o=Array.isArray(s);if(0===i&&o&&(r=s.length),o&&s.length!==r)return;var a=o?EI(s,e):e(s);if(void 0===t)t=a;else if(t!==a)return"mixed"}return t}function $ne(n,e,t,r){if(r<t){if(n.length!==e.length)throw new ri(n.length,e.length);for(var i=[],s=0;s<n.length;s++)i[s]=$ne(n[s],e[s],t,r+1);return i}return n.concat(e)}function Kne(){var n=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(1===n.length)return n[0];if(n.length>1)return n.slice(1).reduce(function(t,r){return $ne(t,r,e,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function SI(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var r=e.map(d=>d.length),i=Math.max(...r),s=new Array(i).fill(null),o=0;o<e.length;o++)for(var a=e[o],l=r[o],c=0;c<l;c++){var u=i-l+c;a[c]>s[u]&&(s[u]=a[c])}for(var h=0;h<e.length;h++)Xne(e[h],s);return s}function Xne(n,e){for(var t=e.length,r=n.length,i=0;i<r;i++){var s=t-r+i;if(n[i]<e[s]&&n[i]>1||n[i]>e[s])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(e[s]))}}function Am(n,e){var t=xr(n);if(yp(t,e))return n;Xne(t,e);var r=SI(t,e),i=r.length,s=[...Array(i-t.length).fill(1),...t],o=function s8e(n){return qa([],n)}(n);t.length<i&&(t=xr(o=A8(o,s)));for(var a=0;a<i;a++)t[a]<r[a]&&(t=xr(o=i8e(o,r[a],a)));return o}function i8e(n,e,t){return Kne(...Array(e).fill(n),t)}function g8(n,e){if(!Array.isArray(n))throw new Error("Array expected");var t=xr(n);if(e.length!==t.length)throw new ri(e.length,t.length);for(var r=0;r<e.length;r++)$s(e[r],t[r]);return e.reduce((i,s)=>i[s],n)}function m8(n,e,t,r){return Array.isArray(n)?n.map(function(i,s){return m8(i,e.concat(s),t,r)}):r(n,e,t)}function oS(n,e){return new wne(n,new gI(e),new Set(Object.keys(e)))}(ri.prototype=new RangeError).constructor=RangeError,ri.prototype.name="DimensionError",ri.prototype.isDimensionError=!0,(td.prototype=new RangeError).constructor=RangeError,td.prototype.name="IndexError",td.prototype.isIndexError=!0;var nd=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function DI(n,e){if(!e||"auto"!==e)return n;for(var t=n;bp(t);)t=t.content;return t}function Ps(n,e,t,r){var i=n;"keep"!==e&&(i=n.getContent());for(var s=i.getIdentifier(),o=null,a=0;a<nd.length;a++)if(s in nd[a]){o=a;break}if("OperatorNode:multiply"===s&&i.implicit&&"show"!==t){var l=DI(i.args[0],e);!(Di(l)&&r&&"OperatorNode:divide"===r.getIdentifier()&&l8(DI(r.args[0],e)))&&("OperatorNode:divide"!==l.getIdentifier()||!l8(DI(l.args[0],e))||!Di(DI(l.args[1])))&&(o+=1)}return o}function aS(n,e){var t=n;"keep"!==e&&(t=n.getContent());var r=t.getIdentifier(),i=Ps(t,e);if(null===i)return null;var s=nd[i][r];if(kn(s,"associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+s.associativity+"'.")}return null}function v8(n,e,t){var r="keep"!==t?n.getContent():n,i="keep"!==t?n.getContent():e,s=r.getIdentifier(),o=i.getIdentifier(),a=Ps(r,t);if(null===a)return null;var l=nd[a][s];if(kn(l,"associativeWith")&&l.associativeWith instanceof Array){for(var c=0;c<l.associativeWith.length;c++)if(l.associativeWith[c]===o)return!0;return!1}return null}var a8e=we(4987),y8={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Qi={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},Yne={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Qi.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Qi.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Qi.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Qi.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Qi.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Qi.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Qi.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Qi.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Qi.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Qi.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Qi.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Qi.bitAnd,"${args[1]}\\right)")},bitNot:{1:Qi.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Qi.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Qi.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Qi.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Qi.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Qi.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Qi.and,"${args[1]}\\right)")},not:{1:Qi.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Qi.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Qi.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Qi.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Qi.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Qi.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Qi.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Qi.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Qi.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Qi.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Qi.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Qi.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Qi.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Qi.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(y8.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},Zne={deg:"^\\circ"};function _8(n){return a8e(n,{preserveFormatting:!0})}function Jne(n,e){return(e=!(typeof e>"u")&&e)?kn(Zne,n)?Zne[n]:"\\mathrm{"+_8(n)+"}":kn(y8,n)?y8[n]:_8(n)}var MI="OperatorNode",u8e=ye(MI,["Node"],n=>{var{Node:e}=n;function t(s,o){var a=s;if("auto"===o)for(;bp(a);)a=a.content;return!!Di(a)||!!fa(a)&&t(a.args[0],o)}function r(s,o,a,l,c){var d,u=Ps(s,o,a),h=aS(s,o);if("all"===o||l.length>2&&"OperatorNode:add"!==s.getIdentifier()&&"OperatorNode:multiply"!==s.getIdentifier())return l.map(function(T){switch(T.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(l.length){case 0:d=[];break;case 1:var f=Ps(l[0],o,a,s);if(c&&null!==f){var A,p;if("keep"===o?(A=l[0].getIdentifier(),p=s.getIdentifier()):(A=l[0].getContent().getIdentifier(),p=s.getContent().getIdentifier()),!1===nd[u][p].latexLeftParens){d=[!1];break}if(!1===nd[f][A].latexParens){d=[!1];break}}if(null===f){d=[!1];break}if(f<=u){d=[!0];break}d=[!1];break;case 2:var m,g=Ps(l[0],o,a,s),y=v8(s,l[0],o);m=null!==g&&(g===u&&"right"===h&&!y||g<u);var v,b,M,D,_=Ps(l[1],o,a,s),C=v8(s,l[1],o);v=null!==_&&(_===u&&"left"===h&&!C||_<u),c&&("keep"===o?(b=s.getIdentifier(),M=s.args[0].getIdentifier(),D=s.args[1].getIdentifier()):(b=s.getContent().getIdentifier(),M=s.args[0].getContent().getIdentifier(),D=s.args[1].getContent().getIdentifier()),null!==g&&(!1===nd[u][b].latexLeftParens&&(m=!1),!1===nd[g][M].latexParens&&(m=!1)),null!==_&&(!1===nd[u][b].latexRightParens&&(v=!1),!1===nd[_][D].latexParens&&(v=!1))),d=[m,v];break;default:("OperatorNode:add"===s.getIdentifier()||"OperatorNode:multiply"===s.getIdentifier())&&(d=l.map(function(T){var B=Ps(T,o,a,s),R=v8(s,T,o),U=aS(T,o);return null!==B&&(u===B&&h===U&&!R||B<u)}))}if(l.length>=2&&"OperatorNode:multiply"===s.getIdentifier()&&s.implicit&&"all"!==o&&"hide"===a)for(var E=1;E<d.length;++E)t(l[E],o)&&!d[E-1]&&("keep"!==o||!bp(l[E-1]))&&(d[E]=!0);return d}class i extends e{constructor(o,a,l,c,u){if(super(),"string"!=typeof o)throw new TypeError('string expected for parameter "op"');if("string"!=typeof a)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(Ms))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===c,this.isPercentage=!0===u,this.op=o,this.fn=a,this.args=l||[]}get type(){return MI}get isOperatorNode(){return!0}_compile(o,a){if("string"!=typeof this.fn||!o8(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=zc(o,this.fn),c=dm(this.args,function(A){return A._compile(o,a)});if("function"==typeof l&&!0===l.rawArgs){var u=this.args;return function(p,m,g){return l(u,o,oS(p,m))}}if(1===c.length){var h=c[0];return function(p,m,g){return l(h(p,m,g))}}if(2===c.length){var d=c[0],f=c[1];return function(p,m,g){return l(d(p,m,g),f(p,m,g))}}return function(p,m,g){return l.apply(null,dm(c,function(y){return y(p,m,g)}))}}forEach(o){for(var a=0;a<this.args.length;a++)o(this.args[a],"args["+a+"]",this)}map(o){for(var a=[],l=0;l<this.args.length;l++)a[l]=this._ifNode(o(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,a,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=r(this,a,l,c,!1);if(1===c.length){var h=aS(this,a),d=c[0].toString(o);u[0]&&(d="("+d+")");var f=/[a-zA-Z]+/.test(this.op);return"right"===h?this.op+(f?" ":"")+d:"left"===h?d+(f?" ":"")+this.op:d+this.op}if(2===c.length){var A=c[0].toString(o),p=c[1].toString(o);return u[0]&&(A="("+A+")"),u[1]&&(p="("+p+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?A+" "+p:A+" "+this.op+" "+p}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var m=c.map(function(g,y){return g=g.toString(o),u[y]&&(g="("+g+")"),g});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?m.join(" "):m.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:MI,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=r(this,a,l,c,!1);if(1===c.length){var h=aS(this,a),d=c[0].toHTML(o);return u[0]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===h?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Kh(this.op)+"</span>"+d:d+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Kh(this.op)+"</span>"}if(2===c.length){var f=c[0].toHTML(o),A=c[1].toHTML(o);return u[0]&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u[1]&&(A='<span class="math-parenthesis math-round-parenthesis">(</span>'+A+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?f+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+A:f+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Kh(this.op)+"</span>"+A}var p=c.map(function(m,g){return m=m.toHTML(o),u[g]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),m});return c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?p.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):p.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Kh(this.op)+"</span>"):'<span class="math-function">'+Kh(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+p.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=r(this,a,l,c,!0),h=Qi[this.fn];if(h=typeof h>"u"?this.op:h,1===c.length){var d=aS(this,a),f=c[0].toTex(o);return u[0]&&(f="\\left(".concat(f,"\\right)")),"right"===d?h+f:f+h}if(2===c.length){var A=c[0],p=A.toTex(o);u[0]&&(p="\\left(".concat(p,"\\right)"));var y,g=c[1].toTex(o);switch(u[1]&&(g="\\left(".concat(g,"\\right)")),y="keep"===a?A.getIdentifier():A.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return h+"{"+p+"}{"+g+"}";case"OperatorNode:pow":switch(p="{"+p+"}",g="{"+g+"}",y){case"ConditionalNode":case"OperatorNode:divide":p="\\left(".concat(p,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===l)return p+"~"+g}return p+h+g}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var v=c.map(function(_,C){return _=_.toTex(o),u[C]&&(_="\\left(".concat(_,"\\right)")),_});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===l?v.join("~"):v.join(h)}return"\\mathrm{"+this.fn+"}\\left("+c.map(function(_){return _.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return ja(i,"name",MI),i},{isClass:!0,isNode:!0}),TI="ParenthesisNode",f8e=ye(TI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),!Ms(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return TI}get isParenthesisNode(){return!0}_compile(i,s){return this.content._compile(i,s)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var s=i(this.content,"content",this);return new t(s)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:TI,content:this.content}}static fromJSON(i){return new t(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return ja(t,"name",TI),t},{isClass:!0,isNode:!0}),BI="RelationalNode",A8e=ye(BI,["Node"],n=>{var{Node:e}=n,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class r extends e{constructor(s,o){if(super(),!Array.isArray(s))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(s.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=s,this.params=o}get type(){return BI}get isRelationalNode(){return!0}_compile(s,o){var a=this,l=this.params.map(c=>c._compile(s,o));return function(u,h,d){for(var f,A=l[0](u,h,d),p=0;p<a.conditionals.length;p++)if(f=A,A=l[p+1](u,h,d),!zc(s,a.conditionals[p])(f,A))return!1;return!0}}forEach(s){this.params.forEach((o,a)=>s(o,"params["+a+"]",this),this)}map(s){return new r(this.conditionals.slice(),this.params.map((o,a)=>this._ifNode(s(o,"params["+a+"]",this)),this))}clone(){return new r(this.conditionals,this.params)}_toString(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ps(this,o,s&&s.implicit),l=this.params.map(function(h,d){var f=Ps(h,o,s&&s.implicit);return"all"===o||null!==f&&f<=a?"("+h.toString(s)+")":h.toString(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+=" "+t[this.conditionals[u]],c+=" "+l[u+1];return c}toJSON(){return{mathjs:BI,conditionals:this.conditionals,params:this.params}}static fromJSON(s){return new r(s.conditionals,s.params)}_toHTML(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ps(this,o,s&&s.implicit),l=this.params.map(function(h,d){var f=Ps(h,o,s&&s.implicit);return"all"===o||null!==f&&f<=a?'<span class="math-parenthesis math-round-parenthesis">(</span>'+h.toHTML(s)+'<span class="math-parenthesis math-round-parenthesis">)</span>':h.toHTML(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Kh(t[this.conditionals[u]])+"</span>"+l[u+1];return c}_toTex(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ps(this,o,s&&s.implicit),l=this.params.map(function(h,d){var f=Ps(h,o,s&&s.implicit);return"all"===o||null!==f&&f<=a?"\\left("+h.toTex(s)+"\right)":h.toTex(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+=Qi[this.conditionals[u]]+l[u+1];return c}}return ja(r,"name",BI),r},{isClass:!0,isNode:!0}),NI="ArrayNode",g8e=ye(NI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(Ms))throw new TypeError("Array containing Nodes expected")}get type(){return NI}get isArrayNode(){return!0}_compile(i,s){var o=dm(this.items,function(c){return c._compile(i,s)});if("Array"!==i.config.matrix){var l=i.matrix;return function(u,h,d){return l(dm(o,function(f){return f(u,h,d)}))}}return function(u,h,d){return dm(o,function(f){return f(u,h,d)})}}forEach(i){for(var s=0;s<this.items.length;s++)i(this.items[s],"items["+s+"]",this)}map(i){for(var s=[],o=0;o<this.items.length;o++)s[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(s)}clone(){return new t(this.items.slice(0))}_toString(i){return"["+this.items.map(function(o){return o.toString(i)}).join(", ")+"]"}toJSON(){return{mathjs:NI,items:this.items}}static fromJSON(i){return new t(i.items)}_toHTML(i){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(o){return o.toHTML(i)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){return function s(o,a){var l=o.some($h)&&!o.every($h),c=a||l,u=c?"&":"\\\\",h=o.map(function(d){return d.items?s(d.items,!a):d.toTex(i)}).join(u);return l||!c||c&&!a?"\\begin{bmatrix}"+h+"\\end{bmatrix}":h}(this.items,!1)}}return ja(t,"name",NI),t},{isClass:!0,isNode:!0}),II="BlockNode",v8e=ye(II,["ResultSet","Node"],n=>{var{ResultSet:e,Node:t}=n;class r extends t{constructor(s){if(super(),!Array.isArray(s))throw new Error("Array expected");this.blocks=s.map(function(o){var a=o&&o.node,l=!o||void 0===o.visible||o.visible;if(!Ms(a))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof l)throw new TypeError('Property "visible" must be a boolean');return{node:a,visible:l}})}get type(){return II}get isBlockNode(){return!0}_compile(s,o){var a=dm(this.blocks,function(l){return{evaluate:l.node._compile(s,o),visible:l.visible}});return function(c,u,h){var d=[];return qne(a,function(A){var p=A.evaluate(c,u,h);A.visible&&d.push(p)}),new e(d)}}forEach(s){for(var o=0;o<this.blocks.length;o++)s(this.blocks[o].node,"blocks["+o+"].node",this)}map(s){for(var o=[],a=0;a<this.blocks.length;a++){var l=this.blocks[a],c=this._ifNode(s(l.node,"blocks["+a+"].node",this));o[a]={node:c,visible:l.visible}}return new r(o)}clone(){var s=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new r(s)}_toString(s){return this.blocks.map(function(o){return o.node.toString(s)+(o.visible?"":";")}).join("\n")}toJSON(){return{mathjs:II,blocks:this.blocks}}static fromJSON(s){return new r(s.blocks)}_toHTML(s){return this.blocks.map(function(o){return o.node.toHTML(s)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(s){return this.blocks.map(function(o){return o.node.toTex(s)+(o.visible?"":";")}).join("\\;\\;\n")}}return ja(r,"name",II),r},{isClass:!0,isNode:!0}),FI="ConditionalNode",_8e=ye(FI,["Node"],n=>{var{Node:e}=n;class r extends e{constructor(s,o,a){if(super(),!Ms(s))throw new TypeError("Parameter condition must be a Node");if(!Ms(o))throw new TypeError("Parameter trueExpr must be a Node");if(!Ms(a))throw new TypeError("Parameter falseExpr must be a Node");this.condition=s,this.trueExpr=o,this.falseExpr=a}get type(){return FI}get isConditionalNode(){return!0}_compile(s,o){var a=this.condition._compile(s,o),l=this.trueExpr._compile(s,o),c=this.falseExpr._compile(s,o);return function(h,d,f){return function t(i){if("number"==typeof i||"boolean"==typeof i||"string"==typeof i)return!!i;if(i){if(kr(i))return!i.isZero();if(_p(i))return!(!i.re&&!i.im);if(jh(i))return!!i.value}if(null==i)return!1;throw new TypeError('Unsupported type of condition "'+Ws(i)+'"')}(a(h,d,f))?l(h,d,f):c(h,d,f)}}forEach(s){s(this.condition,"condition",this),s(this.trueExpr,"trueExpr",this),s(this.falseExpr,"falseExpr",this)}map(s){return new r(this._ifNode(s(this.condition,"condition",this)),this._ifNode(s(this.trueExpr,"trueExpr",this)),this._ifNode(s(this.falseExpr,"falseExpr",this)))}clone(){return new r(this.condition,this.trueExpr,this.falseExpr)}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ps(this,o,s&&s.implicit),l=this.condition.toString(s),c=Ps(this.condition,o,s&&s.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=a)&&(l="("+l+")");var u=this.trueExpr.toString(s),h=Ps(this.trueExpr,o,s&&s.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==h&&h<=a)&&(u="("+u+")");var d=this.falseExpr.toString(s),f=Ps(this.falseExpr,o,s&&s.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==f&&f<=a)&&(d="("+d+")"),l+" ? "+u+" : "+d}toJSON(){return{mathjs:FI,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(s){return new r(s.condition,s.trueExpr,s.falseExpr)}_toHTML(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ps(this,o,s&&s.implicit),l=this.condition.toHTML(s),c=Ps(this.condition,o,s&&s.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=a)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.trueExpr.toHTML(s),h=Ps(this.trueExpr,o,s&&s.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==h&&h<=a)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var d=this.falseExpr.toHTML(s),f=Ps(this.falseExpr,o,s&&s.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==f&&f<=a)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+u+'<span class="math-operator math-conditional-operator">:</span>'+d}_toTex(s){return"\\begin{cases} {"+this.trueExpr.toTex(s)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(s)+"}\\\\{"+this.falseExpr.toTex(s)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return ja(r,"name",FI),r},{isClass:!0,isNode:!0}),RI="ConstantNode",w8e=ye(RI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){super(),this.value=i}get type(){return RI}get isConstantNode(){return!0}_compile(i,s){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return ni(this.value,i)}_toHTML(i){var s=this._toString(i);switch(Ws(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+s+"</span>";case"string":return'<span class="math-string">'+s+"</span>";case"boolean":return'<span class="math-boolean">'+s+"</span>";case"null":return'<span class="math-null-symbol">'+s+"</span>";case"undefined":return'<span class="math-undefined">'+s+"</span>";default:return'<span class="math-symbol">'+s+"</span>"}}toJSON(){return{mathjs:RI,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var s=this._toString(i),o=Ws(this.value);switch(o){case"string":return"\\mathtt{"+_8(s)+"}";case"number":case"BigNumber":if(!("BigNumber"===o?this.value.isFinite():isFinite(this.value)))return this.value.valueOf()<0?"-\\infty":"\\infty";var l=s.toLowerCase().indexOf("e");return-1!==l?s.substring(0,l)+"\\cdot10^{"+s.substring(l+1)+"}":s;case"bigint":return s.toString();case"Fraction":return this.value.toLatex();default:return s}}}return ja(t,"name",RI),t},{isClass:!0,isNode:!0}),OI="RangeNode",x8e=ye(OI,["Node"],n=>{var{Node:e}=n;function t(i,s,o){var a=Ps(i,s,o),l={},c=Ps(i.start,s,o);if(l.start=null!==c&&c<=a||"all"===s,i.step){var u=Ps(i.step,s,o);l.step=null!==u&&u<=a||"all"===s}var h=Ps(i.end,s,o);return l.end=null!==h&&h<=a||"all"===s,l}class r extends e{constructor(s,o,a){if(super(),!Ms(s))throw new TypeError("Node expected");if(!Ms(o))throw new TypeError("Node expected");if(a&&!Ms(a))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=s,this.end=o,this.step=a||null}get type(){return OI}get isRangeNode(){return!0}needsEnd(){return this.filter(function(o){return dl(o)&&"end"===o.name}).length>0}_compile(s,o){var a=s.range,l=this.start._compile(s,o),c=this.end._compile(s,o);if(this.step){var u=this.step._compile(s,o);return function(d,f,A){return a(l(d,f,A),c(d,f,A),u(d,f,A))}}return function(d,f,A){return a(l(d,f,A),c(d,f,A))}}forEach(s){s(this.start,"start",this),s(this.end,"end",this),this.step&&s(this.step,"step",this)}map(s){return new r(this._ifNode(s(this.start,"start",this)),this._ifNode(s(this.end,"end",this)),this.step&&this._ifNode(s(this.step,"step",this)))}clone(){return new r(this.start,this.end,this.step&&this.step)}_toString(s){var l,a=t(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),c=this.start.toString(s);if(a.start&&(c="("+c+")"),l=c,this.step){var u=this.step.toString(s);a.step&&(u="("+u+")"),l+=":"+u}var h=this.end.toString(s);return a.end&&(h="("+h+")"),l+":"+h}toJSON(){return{mathjs:OI,start:this.start,end:this.end,step:this.step}}static fromJSON(s){return new r(s.start,s.end,s.step)}_toHTML(s){var l,a=t(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),c=this.start.toHTML(s);if(a.start&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=c,this.step){var u=this.step.toHTML(s);a.step&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+u}var h=this.end.toHTML(s);return a.end&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-range-operator">:</span>'+h}_toTex(s){var a=t(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),l=this.start.toTex(s);if(a.start&&(l="\\left(".concat(l,"\\right)")),this.step){var c=this.step.toTex(s);a.step&&(c="\\left(".concat(c,"\\right)")),l+=":"+c}var u=this.end.toTex(s);return a.end&&(u="\\left(".concat(u,"\\right)")),l+":"+u}}return ja(r,"name",OI),r},{isClass:!0,isNode:!0}),D8e=ye("reviver",["classes"],n=>{var{classes:e}=n;return function(r,i){var s=e[i&&i.mathjs];return s&&"function"==typeof s.fromJSON?s.fromJSON(i):i}}),B8e=ye("Chain",["?on","math","typed"],n=>{var{on:e,math:t,typed:r}=n;function i(c){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.value=Ene(c)?c.value:c}function o(c,u){!function sHe(n,e,t){var i,r=!0;Object.defineProperty(n,e,{get:function(){return r&&(i=t(),r=!1),i},set:function(o){i=o,r=!1},configurable:!0,enumerable:!0})}(i.prototype,c,function(){var d=u();if("function"==typeof d)return a(d)})}function a(c){return function(){if(0===arguments.length)return new i(c(this.value));for(var u=[this.value],h=0;h<arguments.length;h++)u[h+1]=arguments[h];if(r.isTypedFunction(c)){var d=r.resolve(c,u);if(1===d.params.length)throw new Error("chain function "+c.name+" cannot match rest parameter between chain value and additional arguments.");return new i(d.implementation.apply(c,u))}return new i(c.apply(c,u))}}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return ni(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(c){return new i(c.value)},i.createProxy=function(c,u){if("string"==typeof c)!function s(c,u){"function"==typeof u&&(i.prototype[c]=a(u))}(c,u);else{var h=function(A){kn(c,A)&&void 0===l[A]&&o(A,()=>c[A])};for(var d in c)h(d)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(c,u,h){h||o(c,u)}),i},{isClass:!0}),PI="FunctionAssignmentNode",I8e=ye(PI,["typed","Node"],n=>{var{typed:e,Node:t}=n;function r(s,o,a){var l=Ps(s,o,a),c=Ps(s.expr,o,a);return"all"===o||null!==c&&c<=l}class i extends t{constructor(o,a,l){if(super(),"string"!=typeof o)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(a))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Ms(l))throw new TypeError('Node expected for parameter "expr"');if(Sne.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var c=new Set;for(var u of a){var h="string"==typeof u?u:u.name;if(c.has(h))throw new Error('Duplicate parameter name "'.concat(h,'"'));c.add(h)}this.name=o,this.params=a.map(function(d){return d&&d.name||d}),this.types=a.map(function(d){return d&&d.type||"any"}),this.expr=l}get type(){return PI}get isFunctionAssignmentNode(){return!0}_compile(o,a){var l=Object.create(a);qne(this.params,function(A){l[A]=!0});var c=this.expr._compile(o,l),u=this.name,h=this.params,d=Wne(this.types,","),f=u+"("+Wne(this.params,", ")+")";return function(p,m,g){var y={};y[d]=function(){for(var _=Object.create(m),C=0;C<h.length;C++)_[h[C]]=arguments[C];return c(p,_,g)};var v=e(u,y);return v.syntax=f,p.set(u,v),v}}forEach(o){o(this.expr,"expr",this)}map(o){var a=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),a)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toString(o);return r(this,a,o&&o.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var o=this.types;return{mathjs:PI,name:this.name,params:this.params.map(function(a,l){return{name:a,type:o[l]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",l=[],c=0;c<this.params.length;c++)l.push('<span class="math-symbol math-parameter">'+Kh(this.params[c])+"</span>");var u=this.expr.toHTML(o);return r(this,a,o&&o.implicit)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Kh(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+u}_toTex(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toTex(o);return r(this,a,o&&o.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(Jne).join(",")+"\\right)="+l}}return ja(i,"name",PI),i},{isClass:!0,isNode:!0}),R8e=ye("chain",["typed","Chain"],n=>{var{typed:e,Chain:t}=n;return e("chain",{"":function(){return new t},any:function(i){return new t(i)}})}),LI="IndexNode",P8e=ye(LI,["Node","size"],n=>{var{Node:e,size:t}=n;class r extends e{constructor(s,o){if(super(),this.dimensions=s,this.dotNotation=o||!1,!Array.isArray(s)||!s.every(Ms))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return LI}get isIndexNode(){return!0}_compile(s,o){var a=dm(this.dimensions,function(c,u){if(c.filter(A=>A.isSymbolNode&&"end"===A.name).length>0){var d=Object.create(o);d.end=!0;var f=c._compile(s,d);return function(p,m,g){if(!cr(g)&&!Ds(g)&&!uc(g))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Ws(g));var y=t(g).valueOf(),v=Object.create(m);return v.end=y[u],f(p,v,g)}}return c._compile(s,o)}),l=zc(s,"index");return function(u,h,d){var f=dm(a,function(A){return A(u,h,d)});return l(...f)}}forEach(s){for(var o=0;o<this.dimensions.length;o++)s(this.dimensions[o],"dimensions["+o+"]",this)}map(s){for(var o=[],a=0;a<this.dimensions.length;a++)o[a]=this._ifNode(s(this.dimensions[a],"dimensions["+a+"]",this));return new r(o,this.dotNotation)}clone(){return new r(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&Di(this.dimensions[0])&&"string"==typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(s){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:LI,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(s){return new r(s.dimensions,s.dotNotation)}_toHTML(s){for(var o=[],a=0;a<this.dimensions.length;a++)o[a]=this.dimensions[a].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Kh(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(s){var o=this.dimensions.map(function(a){return a.toTex(s)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return ja(r,"name",LI),r},{isClass:!0,isNode:!0});function Gc(n){return n&&n.isIndexError?new td(n.index+1,n.min+1,void 0!==n.max?n.max+1:void 0):n}function tre(n){var{subset:e}=n;return function(r,i){try{if(Array.isArray(r))return e(r,i);if(r&&"function"==typeof r.subset)return r.subset(i);if("string"==typeof r)return e(r,i);if("object"==typeof r){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return zc(r,i.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw Gc(s)}}}var UI="AccessorNode",U8e=ye(UI,["subset","Node"],n=>{var{subset:e,Node:t}=n,r=tre({subset:e});function i(o){return!(P0(o)||$h(o)||Di(o)||um(o)||yI(o)||bp(o)||dl(o))}class s extends t{constructor(a,l){if(super(),!Ms(a))throw new TypeError('Node expected for parameter "object"');if(!db(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=a,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return UI}get isAccessorNode(){return!0}_compile(a,l){var c=this.object._compile(a,l),u=this.index._compile(a,l);if(this.index.isObjectProperty()){var h=this.index.getObjectProperty();return function(f,A,p){return zc(c(f,A,p),h)}}return function(f,A,p){var m=c(f,A,p),g=u(f,A,m);return r(m,g)}}forEach(a){a(this.object,"object",this),a(this.index,"index",this)}map(a){return new s(this._ifNode(a(this.object,"object",this)),this._ifNode(a(this.index,"index",this)))}clone(){return new s(this.object,this.index)}_toString(a){var l=this.object.toString(a);return i(this.object)&&(l="("+l+")"),l+this.index.toString(a)}_toHTML(a){var l=this.object.toHTML(a);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(a)}_toTex(a){var l=this.object.toTex(a);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(a)}toJSON(){return{mathjs:UI,object:this.object,index:this.index}}static fromJSON(a){return new s(a.object,a.index)}}return ja(s,"name",UI),s},{isClass:!0,isNode:!0}),kI="AssignmentNode",V8e=ye(kI,["subset","?matrix","Node"],n=>{var{subset:e,matrix:t,Node:r}=n,i=tre({subset:e}),s=function k8e(n){var{subset:e,matrix:t}=n;return function(i,s,o){try{if(Array.isArray(i))return t(i).subset(s,o).valueOf().forEach((l,c)=>{i[c]=l}),i;if(i&&"function"==typeof i.subset)return i.subset(s,o);if("string"==typeof i)return e(i,s,o);if("object"==typeof i){if(!s.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return ub(i,s.getObjectProperty(),o),i}throw new TypeError("Cannot apply index: unsupported type of object")}catch(l){throw Gc(l)}}}({subset:e,matrix:t});function o(l,c,u){c||(c="keep");var h=Ps(l,c,u),d=Ps(l.value,c,u);return"all"===c||null!==d&&d<=h}class a extends r{constructor(c,u,h){if(super(),this.object=c,this.index=h?u:null,this.value=h||u,!dl(c)&&!P0(c))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(dl(c)&&"end"===c.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!db(this.index))throw new TypeError('IndexNode expected as "index"');if(!Ms(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return kI}get isAssignmentNode(){return!0}_compile(c,u){var h=this.object._compile(c,u),d=this.index?this.index._compile(c,u):null,f=this.value._compile(c,u),A=this.object.name;if(this.index){if(this.index.isObjectProperty()){var p=this.index.getObjectProperty();return function(_,C,b){var M=h(_,C,b),D=f(_,C,b);return ub(M,p,D),D}}if(dl(this.object))return function(_,C,b){var M=h(_,C,b),D=f(_,C,b),E=d(_,C,M);return _.set(A,s(M,E,D)),D};var m=this.object.object._compile(c,u);if(this.object.index.isObjectProperty()){var g=this.object.index.getObjectProperty();return function(_,C,b){var M=m(_,C,b),D=zc(M,g),E=d(_,C,D),T=f(_,C,b);return ub(M,g,s(D,E,T)),T}}var y=this.object.index._compile(c,u);return function(_,C,b){var M=m(_,C,b),D=y(_,C,M),E=i(M,D),T=d(_,C,E),B=f(_,C,b);return s(M,D,s(E,T,B)),B}}if(!dl(this.object))throw new TypeError("SymbolNode expected as object");return function(_,C,b){var M=f(_,C,b);return _.set(A,M),M}}forEach(c){c(this.object,"object",this),this.index&&c(this.index,"index",this),c(this.value,"value",this)}map(c){var u=this._ifNode(c(this.object,"object",this)),h=this.index?this._ifNode(c(this.index,"index",this)):null,d=this._ifNode(c(this.value,"value",this));return new a(u,h,d)}clone(){return new a(this.object,this.index,this.value)}_toString(c){var u=this.object.toString(c),h=this.index?this.index.toString(c):"",d=this.value.toString(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(d="("+d+")"),u+h+" = "+d}toJSON(){return{mathjs:kI,object:this.object,index:this.index,value:this.value}}static fromJSON(c){return new a(c.object,c.index,c.value)}_toHTML(c){var u=this.object.toHTML(c),h=this.index?this.index.toHTML(c):"",d=this.value.toHTML(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(d='<span class="math-paranthesis math-round-parenthesis">(</span>'+d+'<span class="math-paranthesis math-round-parenthesis">)</span>'),u+h+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+d}_toTex(c){var u=this.object.toTex(c),h=this.index?this.index.toTex(c):"",d=this.value.toTex(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(d="\\left(".concat(d,"\\right)")),u+h+"="+d}}return ja(a,"name",kI),a},{isClass:!0,isNode:!0}),G8e=ye("SymbolNode",["math","?Unit","Node"],n=>{var{math:e,Unit:t,Node:r}=n;function i(o){return!!t&&t.isValuelessUnit(o)}class s extends r{constructor(a){if(super(),"string"!=typeof a)throw new TypeError('String expected for parameter "name"');this.name=a}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(a,l){var c=this.name;if(!0===l[c])return function(h,d,f){return zc(d,c)};if(c in a)return function(h,d,f){return h.has(c)?h.get(c):zc(a,c)};var u=i(c);return function(h,d,f){return h.has(c)?h.get(c):u?new t(null,c):s.onUndefinedSymbol(c)}}forEach(a){}map(a){return this.clone()}static onUndefinedSymbol(a){throw new Error("Undefined symbol "+a)}clone(){return new s(this.name)}_toString(a){return this.name}_toHTML(a){var l=Kh(this.name);return"true"===l||"false"===l?'<span class="math-symbol math-boolean">'+l+"</span>":"i"===l?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":"Infinity"===l?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":"NaN"===l?'<span class="math-symbol math-nan-symbol">'+l+"</span>":"null"===l?'<span class="math-symbol math-null-symbol">'+l+"</span>":"undefined"===l?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(a){return new s(a.name)}_toTex(a){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var c=Jne(this.name,l);return"\\"===c[0]?c:" "+c}}return s},{isClass:!0,isNode:!0}),HI="FunctionNode",j8e=ye(HI,["math","Node","SymbolNode"],n=>{var e,{math:t,Node:r,SymbolNode:i}=n,s=l=>ni(l,{truncate:78});function o(l,c,u){for(var A,h="",d=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,f=0;null!==(A=d.exec(l));)if(h+=l.substring(f,A.index),f=A.index,"$$"===A[0])h+="$",f++;else{f+=A[0].length;var p=c[A[1]];if(!p)throw new ReferenceError("Template: Property "+A[1]+" does not exist.");if(void 0===A[2])switch(typeof p){case"string":h+=p;break;case"object":if(Ms(p))h+=p.toTex(u);else{if(!Array.isArray(p))throw new TypeError("Template: "+A[1]+" has to be a Node, String or array of Nodes");h+=p.map(function(m,g){if(Ms(m))return m.toTex(u);throw new TypeError("Template: "+A[1]+"["+g+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+A[1]+" has to be a Node, String or array of Nodes")}else{if(!Ms(p[A[2]]&&p[A[2]]))throw new TypeError("Template: "+A[1]+"["+A[2]+"] is not a Node.");h+=p[A[2]].toTex(u)}}return h+l.slice(f)}class a extends r{constructor(c,u){if(super(),"string"==typeof c&&(c=new i(c)),!Ms(c))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(u)||!u.every(Ms))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=c,this.args=u||[]}get name(){return this.fn.name||""}get type(){return HI}get isFunctionNode(){return!0}_compile(c,u){var h=this.args.map(D=>D._compile(c,u));if(!dl(this.fn)){if(P0(this.fn)&&db(this.fn.index)&&this.fn.index.isObjectProperty()){var y=this.fn.object._compile(c,u),v=this.fn.index.getObjectProperty(),_=this.args;return function(E,T,B){var R=y(E,T,B),U=function lHe(n,e){if(!o8(n,e))throw new Error('No access to method "'+e+'"');return n[e]}(R,v);if(null!=U&&U.rawArgs)return U(_,c,oS(E,T));var k=h.map(j=>j(E,T,B));return U.apply(R,k)}}var C=this.fn.toString(),b=this.fn._compile(c,u),M=this.args;return function(E,T,B){var R=b(E,T,B);if("function"!=typeof R)throw new TypeError("Expression '".concat(C,"' did not evaluate to a function; value is:")+"\n  ".concat(s(R)));if(R.rawArgs)return R(M,c,oS(E,T));var U=h.map(k=>k(E,T,B));return R.apply(R,U)}}var d=this.fn.name;if(u[d]){var g=this.args;return function(E,T,B){var R=zc(T,d);if("function"!=typeof R)throw new TypeError("Argument '".concat(d,"' was not a function; received: ").concat(s(R)));if(R.rawArgs)return R(g,c,oS(E,T));var U=h.map(k=>k(E,T,B));return R.apply(R,U)}}var f=d in c?zc(c,d):void 0,p=D=>{var E;if(D.has(d))E=D.get(d);else{if(!(d in c))return a.onUndefinedFunction(d);E=zc(c,d)}if("function"==typeof E)return E;throw new TypeError("'".concat(d,"' is not a function; its value is:\n  ").concat(s(E)))};if("function"==typeof f&&!0===f.rawArgs){var m=this.args;return function(E,T,B){var R=p(E);return!0===R.rawArgs?R(m,c,oS(E,T)):R(...h.map(k=>k(E,T,B)))}}switch(h.length){case 0:return function(E,T,B){return p(E)()};case 1:return function(E,T,B){return p(E)((0,h[0])(E,T,B))};case 2:return function(E,T,B){var R=p(E),k=h[1];return R((0,h[0])(E,T,B),k(E,T,B))};default:return function(E,T,B){return p(E)(...h.map(k=>k(E,T,B)))}}}forEach(c){c(this.fn,"fn",this);for(var u=0;u<this.args.length;u++)c(this.args[u],"args["+u+"]",this)}map(c){for(var u=this._ifNode(c(this.fn,"fn",this)),h=[],d=0;d<this.args.length;d++)h[d]=this._ifNode(c(this.args[d],"args["+d+"]",this));return new a(u,h)}clone(){return new a(this.fn,this.args.slice(0))}toString(c){var u,h=this.fn.toString(c);return c&&"object"==typeof c.handler&&kn(c.handler,h)&&(u=c.handler[h](this,c)),typeof u<"u"?u:super.toString(c)}_toString(c){var u=this.args.map(function(d){return d.toString(c)});return(rS(this.fn)?"("+this.fn.toString(c)+")":this.fn.toString(c))+"("+u.join(", ")+")"}toJSON(){return{mathjs:HI,fn:this.fn,args:this.args}}_toHTML(c){var u=this.args.map(function(h){return h.toHTML(c)});return'<span class="math-function">'+Kh(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(c){var u;return c&&"object"==typeof c.handler&&kn(c.handler,this.name)&&(u=c.handler[this.name](this,c)),typeof u<"u"?u:super.toTex(c)}_toTex(c){var h,d,u=this.args.map(function(f){return f.toTex(c)});switch(Yne[this.name]&&(h=Yne[this.name]),t[this.name]&&("function"==typeof t[this.name].toTex||"object"==typeof t[this.name].toTex||"string"==typeof t[this.name].toTex)&&(h=t[this.name].toTex),typeof h){case"function":d=h(this,c);break;case"string":d=o(h,this,c);break;case"object":switch(typeof h[u.length]){case"function":d=h[u.length](this,c);break;case"string":d=o(h[u.length],this,c)}}return typeof d<"u"?d:o("\\mathrm{${name}}\\left(${args}\\right)",this,c)}getIdentifier(){return this.type+":"+this.name}}return e=a,ja(a,"name",HI),ja(a,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),ja(a,"fromJSON",function(l){return new e(l.fn,l.args)}),a},{isClass:!0,isNode:!0});function nre(n){var r,i,e=n.length,t=n[0].length,s=[];for(i=0;i<t;i++){var o=[];for(r=0;r<e;r++)o.push(n[r][i]);s.push(o)}return s}function yb(n){for(var e=0;e<n.length;e++)if(Wh(n[e]))return!0;return!1}function wp(n,e){cr(n)&&(n=n.valueOf());for(var t=0,r=n.length;t<r;t++){var i=n[t];Array.isArray(i)?wp(i,e):e(i)}}function Rr(n,e,t){return n&&"function"==typeof n.map?n.map(function(r){return Rr(r,e,t)}):e(n)}function VI(n,e,t){var r=Array.isArray(n)?xr(n):n.size();if(e<0||e>=r.length)throw new td(e,r.length);return cr(n)?n.create(QI(n.valueOf(),e,t),n.datatype()):QI(n,e,t)}function QI(n,e,t){var r,i,s,o;if(e<=0){if(Array.isArray(n[0])){for(o=nre(n),i=[],r=0;r<o.length;r++)i[r]=QI(o[r],e-1,t);return i}for(s=n[0],r=1;r<n.length;r++)s=t(s,n[r]);return s}for(i=[],r=0;r<n.length;r++)i[r]=QI(n[r],e-1,t);return i}function rre(n,e,t,r,i,s,o,a,l,c,u){var A,m,g,h=n._values,d=n._index,f=n._ptr;if(r)for(m=f[e+1],A=f[e];A<m;A++)t[g=d[A]]!==s?(t[g]=s,o.push(g),c?(r[g]=l?a(h[A],u):a(u,h[A]),i[g]=s):r[g]=h[A]):(r[g]=l?a(h[A],r[g]):a(r[g],h[A]),i[g]=s);else for(m=f[e+1],A=f[e];A<m;A++)t[g=d[A]]!==s?(t[g]=s,o.push(g)):i[g]=s}var $8e=ye("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],n=>{var{typed:e,numeric:t,config:r,AccessorNode:i,ArrayNode:s,AssignmentNode:o,BlockNode:a,ConditionalNode:l,ConstantNode:c,FunctionAssignmentNode:u,FunctionNode:h,IndexNode:d,ObjectNode:f,OperatorNode:A,ParenthesisNode:p,RangeNode:m,RelationalNode:g,SymbolNode:y}=n,v=e("parse",{string:function(Ie){return ve(Ie,{})},"Array | Matrix":function(Ie){return _(Ie,{})},"string, Object":function(Ie,Ke){return ve(Ie,void 0!==Ke.nodes?Ke.nodes:{})},"Array | Matrix, Object":_});function _($){var Ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ke=void 0!==Ie.nodes?Ie.nodes:{};return Rr($,function(Te){if("string"!=typeof Te)throw new TypeError("String expected");return ve(Te,Ke)})}var C={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},M={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},D={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"],T={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function R($,Ie){return $.expression.substr($.index,Ie)}function U($){return R($,1)}function k($){$.index++}function j($){return $.expression.charAt($.index-1)}function O($){return $.expression.charAt($.index+1)}function P($){for($.tokenType=C.NULL,$.token="",$.comment="";;){if("#"===U($))for(;"\n"!==U($)&&""!==U($);)$.comment+=U($),k($);if(!v.isWhitespace(U($),$.nestingLevel))break;k($)}if(""!==U($)){if("\n"===U($)&&!$.nestingLevel)return $.tokenType=C.DELIMITER,$.token=U($),void k($);var Ie=U($),Ke=R($,2),Te=R($,3);if(3===Te.length&&b[Te])return $.tokenType=C.DELIMITER,$.token=Te,k($),k($),void k($);if(2===Ke.length&&b[Ke])return $.tokenType=C.DELIMITER,$.token=Ke,k($),void k($);if(b[Ie])return $.tokenType=C.DELIMITER,$.token=Ie,void k($);if(v.isDigitDot(Ie)){$.tokenType=C.NUMBER;var yt=R($,2);if("0b"===yt||"0o"===yt||"0x"===yt){for($.token+=U($),k($),$.token+=U($),k($);v.isHexDigit(U($));)$.token+=U($),k($);if("."===U($))for($.token+=".",k($);v.isHexDigit(U($));)$.token+=U($),k($);else if("i"===U($))for($.token+="i",k($);v.isDigit(U($));)$.token+=U($),k($);return}if("."===U($)){if($.token+=U($),k($),!v.isDigit(U($)))return void($.tokenType=C.DELIMITER)}else{for(;v.isDigit(U($));)$.token+=U($),k($);v.isDecimalMark(U($),O($))&&($.token+=U($),k($))}for(;v.isDigit(U($));)$.token+=U($),k($);if("E"===U($)||"e"===U($))if(v.isDigit(O($))||"-"===O($)||"+"===O($)){if($.token+=U($),k($),("+"===U($)||"-"===U($))&&($.token+=U($),k($)),!v.isDigit(U($)))throw _n($,'Digit expected, got "'+U($)+'"');for(;v.isDigit(U($));)$.token+=U($),k($);if(v.isDecimalMark(U($),O($)))throw _n($,'Digit expected, got "'+U($)+'"')}else if("."===O($))throw k($),_n($,'Digit expected, got "'+U($)+'"')}else{if(!v.isAlpha(U($),j($),O($))){for($.tokenType=C.UNKNOWN;""!==U($);)$.token+=U($),k($);throw _n($,'Syntax error in part "'+$.token+'"')}for(;v.isAlpha(U($),j($),O($))||v.isDigit(U($));)$.token+=U($),k($);$.tokenType=kn(M,$.token)?C.DELIMITER:C.SYMBOL}}else $.tokenType=C.DELIMITER}function G($){do{P($)}while("\n"===$.token)}function H($){$.nestingLevel++}function ae($){$.nestingLevel--}function ve($,Ie){var Ke=function B(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:C.NULL,nestingLevel:0,conditionalLevel:null}}();qa(Ke,{expression:$,extraNodes:Ie}),P(Ke);var Te=function Q($){var Ie,Ke=[];for(""!==$.token&&"\n"!==$.token&&";"!==$.token&&(Ie=q($),$.comment&&(Ie.comment=$.comment));"\n"===$.token||";"===$.token;)0===Ke.length&&Ie&&Ke.push({node:Ie,visible:";"!==$.token}),P($),"\n"!==$.token&&";"!==$.token&&""!==$.token&&(Ie=q($),$.comment&&(Ie.comment=$.comment),Ke.push({node:Ie,visible:";"!==$.token}));return Ke.length>0?new a(Ke):(Ie||(Ie=new c(void 0),$.comment&&(Ie.comment=$.comment)),Ie)}(Ke);if(""!==Ke.token)throw Ke.tokenType===C.DELIMITER?tn(Ke,"Unexpected operator "+Ke.token):_n(Ke,'Unexpected part "'+Ke.token+'"');return Te}function q($){var Ie,Ke,Te,yt,nt=function K($){for(var Ie=function oe($){for(var Ie=se($);"or"===$.token;)G($),Ie=new A("or","or",[Ie,se($)]);return Ie}($);"?"===$.token;){var Ke=$.conditionalLevel;$.conditionalLevel=$.nestingLevel,G($);var Te=Ie,yt=q($);if(":"!==$.token)throw _n($,"False part of conditional expression expected");$.conditionalLevel=null,G($);var nt=q($);Ie=new l(Te,yt,nt),$.conditionalLevel=Ke}return Ie}($);if("="===$.token){if(dl(nt))return Ie=nt.name,G($),Te=q($),new o(new y(Ie),Te);if(P0(nt))return G($),Te=q($),new o(nt.object,nt.index,Te);if(um(nt)&&dl(nt.fn)&&(yt=!0,Ke=[],Ie=nt.name,nt.args.forEach(function(Dt,an){dl(Dt)?Ke[an]=Dt.name:yt=!1}),yt))return G($),Te=q($),new u(Ie,Ke,Te);throw _n($,"Invalid left hand side of assignment operator =")}return nt}function se($){for(var Ie=le($);"xor"===$.token;)G($),Ie=new A("xor","xor",[Ie,le($)]);return Ie}function le($){for(var Ie=te($);"and"===$.token;)G($),Ie=new A("and","and",[Ie,te($)]);return Ie}function te($){for(var Ie=ee($);"|"===$.token;)G($),Ie=new A("|","bitOr",[Ie,ee($)]);return Ie}function ee($){for(var Ie=Ae($);"^|"===$.token;)G($),Ie=new A("^|","bitXor",[Ie,Ae($)]);return Ie}function Ae($){for(var Ie=xe($);"&"===$.token;)G($),Ie=new A("&","bitAnd",[Ie,xe($)]);return Ie}function xe($){for(var Ie=[ge($)],Ke=[],Te={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};kn(Te,$.token);)Ke.push({name:$.token,fn:Te[$.token]}),G($),Ie.push(ge($));return 1===Ie.length?Ie[0]:2===Ie.length?new A(Ke[0].name,Ke[0].fn,Ie):new g(Ke.map(nt=>nt.fn),Ie)}function ge($){var Ie,Ke,Te,yt;Ie=Ee($);for(var nt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};kn(nt,$.token);)Te=nt[Ke=$.token],G($),yt=[Ie,Ee($)],Ie=new A(Ke,Te,yt);return Ie}function Ee($){var Ie,Ke,Te,yt;Ie=ne($);for(var nt={to:"to",in:"to"};kn(nt,$.token);)Te=nt[Ke=$.token],G($),"in"===Ke&&""===$.token?Ie=new A("*","multiply",[Ie,new y("in")],!0):(yt=[Ie,ne($)],Ie=new A(Ke,Te,yt));return Ie}function ne($){var Ie,Ke=[];if(Ie=":"===$.token?new c(1):Y($),":"===$.token&&$.conditionalLevel!==$.nestingLevel){for(Ke.push(Ie);":"===$.token&&Ke.length<3;)G($),Ke.push(")"===$.token||"]"===$.token||","===$.token||""===$.token?new y("end"):Y($));Ie=3===Ke.length?new m(Ke[0],Ke[2],Ke[1]):new m(Ke[0],Ke[1])}return Ie}function Y($){var Ie,Ke,Te,yt;Ie=W($);for(var nt={"+":"add","-":"subtract"};kn(nt,$.token);){Te=nt[Ke=$.token],G($);var Dt=W($);yt=Dt.isPercentage?[Ie,new A("*","multiply",[Ie,Dt])]:[Ie,Dt],Ie=new A(Ke,Te,yt)}return Ie}function W($){var Ie,Ke,Te,yt;Ke=Ie=Me($);for(var nt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};kn(nt,$.token);)if(yt=nt[Te=$.token],G($),"%"===Te&&$.tokenType===C.DELIMITER&&"("!==$.token)if(""!==$.token&&nt[$.token]){var Dt=new A("/","divide",[Ie,new c(100)],!1,!0);yt=nt[Te=$.token],G($),Ke=Me($),Ie=new A(Te,yt,[Dt,Ke])}else Ie=new A("/","divide",[Ie,new c(100)],!1,!0);else Ke=Me($),Ie=new A(Te,yt,[Ie,Ke]);return Ie}function Me($){var Ie,Ke;for(Ke=Ie=Ce($);$.tokenType===C.SYMBOL||"in"===$.token&&Di(Ie)||"in"===$.token&&fa(Ie)&&"unaryMinus"===Ie.fn&&Di(Ie.args[0])||$.tokenType===C.NUMBER&&!Di(Ke)&&(!fa(Ke)||"!"===Ke.op)||"("===$.token;)Ke=Ce($),Ie=new A("*","multiply",[Ie,Ke],!0);return Ie}function Ce($){for(var Ie=Pe($),Ke=Ie,Te=[];"/"===$.token&&l8(Ke);){if(Te.push(qa({},$)),G($),$.tokenType!==C.NUMBER){qa($,Te.pop());break}if(Te.push(qa({},$)),G($),$.tokenType!==C.SYMBOL&&"("!==$.token&&"in"!==$.token){Te.pop(),qa($,Te.pop());break}qa($,Te.pop()),Te.pop(),Ke=Pe($),Ie=new A("/","divide",[Ie,Ke])}return Ie}function Pe($){var Ie,Ke,Te,yt={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return kn(yt,$.token)?(Te=yt[$.token],Ie=$.token,G($),Ke=[Pe($)],new A(Ie,Te,Ke)):function Oe($){var Ie,Ke,Te,yt;return Ie=function re($){var Ie,Ke,Te;Ie=function Z($){var Ie=[];if($.tokenType===C.SYMBOL&&kn($.extraNodes,$.token)){var Ke=$.extraNodes[$.token];if(P($),"("===$.token){if(Ie=[],H($),P($),")"!==$.token)for(Ie.push(q($));","===$.token;)P($),Ie.push(q($));if(")"!==$.token)throw _n($,"Parenthesis ) expected");ae($),P($)}return new Ke(Ie)}return function Ue($){var Ke;return $.tokenType===C.SYMBOL||$.tokenType===C.DELIMITER&&$.token in M?(Ke=$.token,P($),Qe($,kn(D,Ke)?new c(D[Ke]):E.includes(Ke)?new c(t(Ke,"number")):new y(Ke))):function rt($){var Ke;return'"'===$.token||"'"===$.token?(Ke=Xe($,$.token),Qe($,new c(Ke))):function Pt($){var Ie,Ke,Te,yt;if("["===$.token){if(H($),P($),"]"!==$.token){var nt=Ft($);if(";"===$.token){for(Te=1,Ke=[nt];";"===$.token;)P($),"]"!==$.token&&(Ke[Te]=Ft($),Te++);if("]"!==$.token)throw _n($,"End of matrix ] expected");ae($),P($),yt=Ke[0].items.length;for(var Dt=1;Dt<Te;Dt++)if(Ke[Dt].items.length!==yt)throw tn($,"Column dimensions mismatch ("+Ke[Dt].items.length+" !== "+yt+")");Ie=new s(Ke)}else{if("]"!==$.token)throw _n($,"End of matrix ] expected");ae($),P($),Ie=nt}}else ae($),P($),Ie=new s([]);return Qe($,Ie)}return function Tt($){if("{"===$.token){H($);var Ie,Ke={};do{if(P($),"}"!==$.token){if('"'===$.token||"'"===$.token)Ie=Xe($,$.token);else{if(!($.tokenType===C.SYMBOL||$.tokenType===C.DELIMITER&&$.token in M))throw _n($,"Symbol or string expected as object key");Ie=$.token,P($)}if(":"!==$.token)throw _n($,"Colon : expected after object key");P($),Ke[Ie]=q($)}}while(","===$.token);if("}"!==$.token)throw _n($,"Comma , or bracket } expected after object value");ae($),P($);var Te=new f(Ke);return Qe($,Te)}return function yn($){var Ie;if($.tokenType===C.NUMBER){Ie=$.token,P($);var Ke=hm(Ie,r),Te=t(Ie,Ke);return new c(Te)}return function st($){var Ie;if("("===$.token){if(H($),P($),Ie=q($),")"!==$.token)throw _n($,"Parenthesis ) expected");return ae($),P($),Qe($,Ie=new p(Ie))}return function vn($){throw _n($,""===$.token?"Unexpected end of expression":"Value expected")}($)}($)}($)}($)}($)}($)}($)}($);for(var nt={"!":"factorial","'":"ctranspose"};kn(nt,$.token);)Te=nt[Ke=$.token],P($),Ie=Qe($,Ie=new A(Ke,Te,[Ie]));return Ie}($),("^"===$.token||".^"===$.token)&&(Te="^"===(Ke=$.token)?"pow":"dotPow",G($),yt=[Ie,Pe($)],Ie=new A(Ke,Te,yt)),Ie}($)}function Qe($,Ie,Ke){for(var Te;("("===$.token||"["===$.token||"."===$.token)&&(!Ke||Ke.includes($.token));)if(Te=[],"("===$.token){if(!dl(Ie)&&!P0(Ie))return Ie;if(H($),P($),")"!==$.token)for(Te.push(q($));","===$.token;)P($),Te.push(q($));if(")"!==$.token)throw _n($,"Parenthesis ) expected");ae($),P($),Ie=new h(Ie,Te)}else if("["===$.token){if(H($),P($),"]"!==$.token)for(Te.push(q($));","===$.token;)P($),Te.push(q($));if("]"!==$.token)throw _n($,"Parenthesis ] expected");ae($),P($),Ie=new i(Ie,new d(Te))}else{if(P($),!($.tokenType===C.SYMBOL||$.tokenType===C.DELIMITER&&$.token in M))throw _n($,"Property name expected after dot");Te.push(new c($.token)),P($),Ie=new i(Ie,new d(Te,!0))}return Ie}function Xe($,Ie){for(var Ke="";""!==U($)&&U($)!==Ie;)if("\\"===U($)){k($);var Te=U($),yt=T[Te];if(void 0!==yt)Ke+=yt,$.index+=1;else{if("u"!==Te)throw _n($,"Bad escape character \\".concat(Te));var nt=$.expression.slice($.index+1,$.index+5);if(!/^[0-9A-Fa-f]{4}$/.test(nt))throw _n($,"Invalid unicode character \\u".concat(nt));Ke+=String.fromCharCode(parseInt(nt,16)),$.index+=5}}else Ke+=U($),k($);if(P($),$.token!==Ie)throw _n($,"End of string ".concat(Ie," expected"));return P($),Ke}function Ft($){for(var Ie=[q($)],Ke=1;","===$.token;)P($),"]"!==$.token&&";"!==$.token&&(Ie[Ke]=q($),Ke++);return new s(Ie)}function pn($){return $.index-$.token.length+1}function _n($,Ie){var Ke=pn($),Te=new SyntaxError(Ie+" (char "+Ke+")");return Te.char=Ke,Te}function tn($,Ie){var Ke=pn($),Te=new SyntaxError(Ie+" (char "+Ke+")");return Te.char=Ke,Te}return v.isAlpha=function(Ie,Ke,Te){return v.isValidLatinOrGreek(Ie)||v.isValidMathSymbol(Ie,Te)||v.isValidMathSymbol(Ke,Ie)},v.isValidLatinOrGreek=function(Ie){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(Ie)},v.isValidMathSymbol=function(Ie,Ke){return/^[\uD835]$/.test(Ie)&&/^[\uDC00-\uDFFF]$/.test(Ke)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ke)},v.isWhitespace=function(Ie,Ke){return" "===Ie||"\t"===Ie||"\n"===Ie&&Ke>0},v.isDecimalMark=function(Ie,Ke){return"."===Ie&&"/"!==Ke&&"*"!==Ke&&"^"!==Ke},v.isDigitDot=function(Ie){return Ie>="0"&&Ie<="9"||"."===Ie},v.isDigit=function(Ie){return Ie>="0"&&Ie<="9"},v.isHexDigit=function(Ie){return Ie>="0"&&Ie<="9"||Ie>="a"&&Ie<="f"||Ie>="A"&&Ie<="F"},e.addConversion({from:"string",to:"Node",convert:v}),v}),Y8e=ye("resolve",["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],n=>{var{typed:e,parse:t,ConstantNode:r,FunctionNode:i,OperatorNode:s,ParenthesisNode:o}=n;function a(l,c){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!c)return l;if(dl(l)){if(u.has(l.name)){var h=Array.from(u).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(h,"}"))}var d=c.get(l.name);if(Ms(d)){var f=new Set(u);return f.add(l.name),a(d,c,f)}return"number"==typeof d?t(String(d)):void 0!==d?new r(d):l}if(fa(l)){var A=l.args.map(function(m){return a(m,c,u)});return new s(l.op,l.fn,A,l.implicit)}if(bp(l))return new o(a(l.content,c,u));if(um(l)){var p=l.args.map(function(m){return a(m,c,u)});return new i(l.name,p)}return l.map(m=>a(m,c,u))}return e("resolve",{Node:a,"Node, Map | null | undefined":a,"Node, Object":(l,c)=>a(l,hb(c)),"Array | Matrix":e.referToSelf(l=>c=>c.map(u=>l(u))),"Array | Matrix, null | undefined":e.referToSelf(l=>c=>c.map(u=>l(u))),"Array, Object":e.referTo("Array,Map",l=>(c,u)=>l(c,hb(u))),"Matrix, Object":e.referTo("Matrix,Map",l=>(c,u)=>l(c,hb(u))),"Array | Matrix, Map":e.referToSelf(l=>(c,u)=>c.map(h=>l(h,u)))})});function sre(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function b8(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?sre(Object(t),!0).forEach(function(r){ja(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sre(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var w8=ye("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],n=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:r}=n,i=!0,s=!1,o="defaultF",a={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:s,total:i,commutative:s,associative:s},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:s,total:i,commutative:s,associative:s},paren:{trivial:i,total:i,commutative:i,associative:s},defaultF:{trivial:s,total:i,commutative:s,associative:s}};function u(v,_){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,b=o;if("string"==typeof v?b=v:fa(v)?b=v.fn.toString():um(v)?b=v.name:bp(v)&&(b="paren"),kn(C,b)){var M=C[b];if(kn(M,_))return M[_];if(kn(a,b))return a[b][_]}if(kn(C,o)){var D=C[o];return kn(D,_)?D[_]:a[o][_]}if(kn(a,b)){var E=a[b];if(kn(E,_))return E[_]}return a[o][_]}function d(v){return u(v,"associative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:a)}function p(v,_){var C,b=[],M=function(E){for(var T=0;T<E.args.length;T++){var B=E.args[T];fa(B)&&C===B.op?M(B):b.push(B)}};return d(v,_)?(C=v.op,M(v),b):v.args}function y(v){return fa(v)?function(_){try{return new t(v.op,v.fn,_,v.implicit)}catch(C){return console.error(C),[]}}:function(_){return new e(new r(v.name),_)}}return{createMakeNodeFunction:y,hasProperty:u,isCommutative:function h(v){return u(v,"commutative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:a)},isAssociative:d,mergeContext:function f(v,_){var C=b8({},v);for(var b in _)C[b]=kn(v,b)?b8(b8({},_[b]),v[b]):_[b];return C},flatten:function A(v,_){if(!v.args||0===v.args.length)return v;v.args=p(v,_);for(var C=0;C<v.args.length;C++)A(v.args[C],_)},allChildren:p,unflattenr:function m(v,_){if(v.args&&0!==v.args.length){for(var C=y(v),b=v.args.length,M=0;M<b;M++)m(v.args[M],_);if(b>2&&d(v,_)){for(var D=v.args.pop();v.args.length>0;)D=C([v.args.pop(),D]);v.args=D.args}}},unflattenl:function g(v,_){if(v.args&&0!==v.args.length){for(var C=y(v),b=v.args.length,M=0;M<b;M++)g(v.args[M],_);if(b>2&&d(v,_)){for(var D=v.args.shift();v.args.length>0;)D=C([D,v.args.shift()]);v.args=D.args}}},defaultContext:a,realContext:{divide:{total:s},log:{total:s}},positiveContext:{subtract:{total:s},abs:{trivial:i},log:{total:i}}}});function C8(){throw new Error('No "bignumber" implementation available')}function ore(){throw new Error('No "fraction" implementation available')}function are(){throw new Error('No "matrix" implementation available')}var n6e=ye("simplifyConstant",["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],n=>{var{typed:e,config:t,mathWithTransform:r,matrix:i,fraction:s,bignumber:o,AccessorNode:a,ArrayNode:l,ConstantNode:c,FunctionNode:u,IndexNode:h,ObjectNode:d,OperatorNode:f,SymbolNode:A}=n,{isCommutative:p,isAssociative:m,allChildren:g,createMakeNodeFunction:y}=w8({FunctionNode:u,OperatorNode:f,SymbolNode:A}),v=e("simplifyConstant",{Node:j=>M(k(j,{})),"Node, Object":function(O,P){return M(k(O,P))}});function _(j){return tS(j)?j.valueOf():j instanceof Array?j.map(_):cr(j)?i(_(j.valueOf())):j}function C(j,O,P){try{return r[j].apply(null,O)}catch{return O=O.map(_),E(r[j].apply(null,O),P)}}var b=e({Fraction:function B(j){var O=H=>"BigNumber"===t.number&&o?o(H):Number(H),P=j.s*j.n,G=P<0n?new f("-","unaryMinus",[new c(-O(P))]):new c(O(P));return 1n===j.d?G:new f("/","divide",[G,new c(O(j.d))])},number:function(O){return O<0?T(new c(-O)):new c(O)},BigNumber:function(O){return O<0?T(new c(-O)):new c(O)},bigint:function(O){return O<0n?T(new c(-O)):new c(O)},Complex:function(O){throw new Error("Cannot convert Complex number to Node")},string:function(O){return new c(O)},Matrix:function(O){return new l(O.valueOf().map(P=>b(P)))}});function M(j){return Ms(j)?j:b(j)}function D(j,O){if(O&&!1!==O.exactFractions&&isFinite(j)&&s){var G=s(j),H=O&&"number"==typeof O.fractionsLimit?O.fractionsLimit:1/0;if(G.valueOf()===j&&G.n<H&&G.d<H)return G}return j}var E=e({"string, Object":function(O,P){var G=hm(O,t);return"BigNumber"===G?(void 0===o&&C8(),o(O)):"bigint"===G?BigInt(O):"Fraction"===G?(void 0===s&&ore(),s(O)):D(parseFloat(O),P)},"Fraction, Object":function(O,P){return O},"BigNumber, Object":function(O,P){return O},"number, Object":function(O,P){return D(O,P)},"bigint, Object":function(O,P){return O},"Complex, Object":function(O,P){return 0!==O.im?O:D(O.re,P)},"Matrix, Object":function(O,P){return i(D(O.valueOf()))},"Array, Object":function(O,P){return O.map(D)}});function T(j){return new f("-","unaryMinus",[j])}function U(j,O,P,G){var H=O.shift(),ae=O.reduce((ve,Q)=>{if(!Ms(Q)){var q=ve.pop();if(Ms(q))return[q,Q];try{return ve.push(C(j,[q,Q],G)),ve}catch{ve.push(q)}}ve.push(M(ve.pop()));var K=1===ve.length?ve[0]:P(ve);return[P([K,M(Q)])]},[H]);return 1===ae.length?ae[0]:P([ae[0],b(ae[1])])}function k(j,O){switch(j.type){case"SymbolNode":return j;case"ConstantNode":switch(typeof j.value){case"number":case"bigint":return E(j.value,O);case"string":return j.value;default:if(!isNaN(j.value))return E(j.value,O)}return j;case"FunctionNode":if(r[j.name]&&r[j.name].rawArgs)return j;if(!["add","multiply"].includes(j.name)){var G=j.args.map(xe=>k(xe,O));if(!G.some(Ms))try{return C(j.name,G,O)}catch{}if("size"===j.name&&1===G.length&&$h(G[0])){for(var H=[],ae=G[0];$h(ae);)H.push(ae.items.length),ae=ae.items[0];return i(H)}return new u(j.name,G.map(M))}case"OperatorNode":var Q,q,ve=j.fn.toString(),K=y(j);if(fa(j)&&j.isUnary())q=Ms((Q=[k(j.args[0],O)])[0])?K(Q):C(ve,Q,O);else if(m(j,O.context))if(Q=(Q=g(j,O.context)).map(xe=>k(xe,O)),p(ve,O.context)){for(var oe=[],se=[],le=0;le<Q.length;le++)Ms(Q[le])?se.push(Q[le]):oe.push(Q[le]);oe.length>1?(q=U(ve,oe,K,O),se.unshift(q),q=U(ve,se,K,O)):q=U(ve,Q,K,O)}else q=U(ve,Q,K,O);else q=U(ve,Q=j.args.map(xe=>k(xe,O)),K,O);return q;case"ParenthesisNode":return k(j.content,O);case"AccessorNode":return function R(j,O,P){if(!db(O))return new a(M(j),M(O));if($h(j)||cr(j)){for(var G=Array.from(O.dimensions);G.length>0;)if(Di(G[0])&&"string"!=typeof G[0].value){var H=E(G.shift().value,P);$h(j)?j=j.items[H-1]:(j=j.valueOf()[H-1])instanceof Array&&(j=i(j))}else{if(!(G.length>1&&Di(G[1])&&"string"!=typeof G[1].value))break;var ae=E(G[1].value,P),ve=[],Q=$h(j)?j.items:j.valueOf();for(var q of Q)if($h(q))ve.push(q.items[ae-1]);else{if(!cr(j))break;ve.push(q[ae-1])}if(ve.length!==Q.length)break;j=$h(j)?new l(ve):i(ve),G.splice(1,1)}return G.length===O.dimensions.length?new a(M(j),O):G.length>0?(O=new h(G),new a(M(j),O)):j}if(yI(j)&&1===O.dimensions.length&&Di(O.dimensions[0])){var K=O.dimensions[0].value;return K in j.properties?j.properties[K]:new c}return new a(M(j),O)}(k(j.object,O),k(j.index,O),O);case"ArrayNode":var te=j.items.map(xe=>k(xe,O));return te.some(Ms)?new l(te.map(M)):i(te);case"IndexNode":return new h(j.dimensions.map(xe=>v(xe,O)));case"ObjectNode":var ee={};for(var Ae in j.properties)ee[Ae]=v(j.properties[Ae],O);return new d(ee);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(j.type))}}return v}),i6e=ye("compile",["typed","parse"],n=>{var{typed:e,parse:t}=n;return e("compile",{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return Rr(i,function(s){return t(s).compile()})}})}),cre="simplifyCore",o6e=ye(cre,["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:e,equal:r,isZero:i,AccessorNode:u,ArrayNode:h,ConstantNode:d,FunctionNode:f,IndexNode:A,ObjectNode:p,OperatorNode:m,SymbolNode:y}=n,v=new d(0),_=new d(1),C=new d(!0),b=new d(!1);function M(B){return fa(B)&&["and","not","or"].includes(B.op)}var{hasProperty:D,isCommutative:E}=w8({FunctionNode:f,OperatorNode:m,SymbolNode:y});function T(B){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=R?R.context:void 0;if(D(B,"trivial",U)){if(um(B)&&1===B.args.length)return T(B.args[0],R);var k=!1,j=0;if(B.forEach(se=>{1==++j&&(k=T(se,R))}),1===j)return k}var O=B;if(um(O)){var P=function o8e(n){var e="OperatorNode:"+n;for(var t of nd)if(e in t)return t[e].op;return null}(O.name);if(!P)return new f(T(O.fn),O.args.map(se=>T(se,R)));if(O.args.length>2&&D(O,"associative",U))for(;O.args.length>2;){var G=O.args.pop(),H=O.args.pop();O.args.push(new m(P,O.name,[G,H]))}O=new m(P,O.name,O.args)}if(fa(O)&&O.isUnary()){var ae=T(O.args[0],R);if("~"===O.op&&fa(ae)&&ae.isUnary()&&"~"===ae.op||"not"===O.op&&fa(ae)&&ae.isUnary()&&"not"===ae.op&&M(ae.args[0]))return ae.args[0];var ve=!0;if("-"===O.op&&fa(ae)&&(ae.isBinary()&&"subtract"===ae.fn&&(O=new m("-","subtract",[ae.args[1],ae.args[0]]),ve=!1),ae.isUnary()&&"-"===ae.op))return ae.args[0];if(ve)return new m(O.op,O.fn,[ae])}if(fa(O)&&O.isBinary()){var Q=T(O.args[0],R),q=T(O.args[1],R);if("+"===O.op){if(Di(Q)&&i(Q.value))return q;if(Di(q)&&i(q.value))return Q;fa(q)&&q.isUnary()&&"-"===q.op&&(O=new m("-","subtract",[Q,q=q.args[0]]))}if("-"===O.op)return fa(q)&&q.isUnary()&&"-"===q.op?T(new m("+","add",[Q,q.args[0]]),R):Di(Q)&&i(Q.value)?T(new m("-","unaryMinus",[q])):Di(q)&&i(q.value)?Q:new m(O.op,O.fn,[Q,q]);if("*"===O.op){if(Di(Q)){if(i(Q.value))return v;if(r(Q.value,1))return q}if(Di(q)){if(i(q.value))return v;if(r(q.value,1))return Q;if(E(O,U))return new m(O.op,O.fn,[q,Q],O.implicit)}return new m(O.op,O.fn,[Q,q],O.implicit)}if("/"===O.op)return Di(Q)&&i(Q.value)?v:Di(q)&&r(q.value,1)?Q:new m(O.op,O.fn,[Q,q]);if("^"===O.op&&Di(q)){if(i(q.value))return _;if(r(q.value,1))return Q}if("and"===O.op){if(Di(Q)){if(!Q.value)return b;if(M(q))return q;if(Di(q))return q.value?C:b}if(Di(q)){if(!q.value)return b;if(M(Q))return Q}}if("or"===O.op){if(Di(Q)){if(Q.value)return C;if(M(q))return q}if(Di(q)){if(q.value)return C;if(M(Q))return Q}}return new m(O.op,O.fn,[Q,q])}if(fa(O))return new m(O.op,O.fn,O.args.map(se=>T(se,R)));if($h(O))return new h(O.items.map(se=>T(se,R)));if(P0(O))return new u(T(O.object,R),T(O.index,R));if(db(O))return new A(O.dimensions.map(se=>T(se,R)));if(yI(O)){var K={};for(var oe in O.properties)K[oe]=T(O.properties[oe],R);return new p(K)}return O}return e(cre,{Node:T,"Node,Object":T})}),l6e=ye("evaluate",["typed","parse"],n=>{var{typed:e,parse:t}=n;return e("evaluate",{string:function(i){var s=eS();return t(i).compile().evaluate(s)},"string, Map | Object":function(i,s){return t(i).compile().evaluate(s)},"Array | Matrix":function(i){var s=eS();return Rr(i,function(o){return t(o).compile().evaluate(s)})},"Array | Matrix, Map | Object":function(i,s){return Rr(i,function(o){return t(o).compile().evaluate(s)})}})}),h6e=ye("Help",["evaluate"],n=>{var{evaluate:e}=n;function t(r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!r)throw new Error('Argument "doc" missing');this.doc=r}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var r=this.doc||{},i="\n";if(r.name&&(i+="Name: "+r.name+"\n\n"),r.category&&(i+="Category: "+r.category+"\n\n"),r.description&&(i+="Description:\n    "+r.description+"\n\n"),r.syntax&&(i+="Syntax:\n    "+r.syntax.join("\n    ")+"\n\n"),r.examples){i+="Examples:\n";for(var s=!1,o=e("config()"),a={config:h=>(s=!0,e("config(newConfig)",{newConfig:h}))},l=0;l<r.examples.length;l++){var c=r.examples[l];i+="    "+c+"\n";var u=void 0;try{u=e(c,a)}catch(h){u=h}void 0!==u&&!xne(u)&&(i+="        "+ni(u,{precision:14})+"\n")}i+="\n",s&&e("config(originalConfig)",{originalConfig:o})}return r.mayThrow&&r.mayThrow.length&&(i+="Throws: "+r.mayThrow.join(", ")+"\n\n"),r.seealso&&r.seealso.length&&(i+="See also: "+r.seealso.join(", ")+"\n"),i},t.prototype.toJSON=function(){var r=Ir(this.doc);return r.mathjs="Help",r},t.fromJSON=function(r){var i={};return Object.keys(r).filter(s=>"mathjs"!==s).forEach(s=>{i[s]=r[s]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0}),A6e=ye("Parser",["evaluate","parse"],n=>{var{evaluate:e,parse:t}=n;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:eS(),writable:!1})}return r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(s){return e(s,this.scope)},r.prototype.get=function(s){if(this.scope.has(s))return this.scope.get(s)},r.prototype.getAll=function(){return function fHe(n){if(n instanceof gI)return n.wrappedObject;var e={};for(var t of n.keys())ub(e,t,n.get(t));return e}(this.scope)},r.prototype.getAllAsMap=function(){return this.scope},r.prototype.set=function(s,o){if(!function i(s){if(0===s.length)return!1;for(var o=0;o<s.length;o++){var a=s.charAt(o-1),l=s.charAt(o),c=s.charAt(o+1);if(!(t.isAlpha(l,a,c)||o>0&&t.isDigit(l)))return!1}return!0}(s))throw new Error("Invalid variable name: '".concat(s,"'. Variable names must follow the specified rules."));return this.scope.set(s,o),o},r.prototype.remove=function(s){this.scope.delete(s)},r.prototype.clear=function(){this.scope.clear()},r},{isClass:!0});function hre(n){return Di(n)||fa(n)&&n.isUnary()&&Di(n.args[0])}function zI(n){return!!(Di(n)||(um(n)||fa(n))&&n.args.every(zI)||bp(n)&&zI(n.content))}var m6e=ye("simplify",["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],n=>{var{typed:e,parse:t,equal:r,resolve:i,simplifyConstant:s,simplifyCore:o,AccessorNode:a,ArrayNode:l,ConstantNode:c,FunctionNode:u,IndexNode:h,ObjectNode:d,OperatorNode:f,ParenthesisNode:A,SymbolNode:p,replacer:m}=n,{hasProperty:g,isCommutative:y,isAssociative:v,mergeContext:_,flatten:C,unflattenr:b,unflattenl:M,createMakeNodeFunction:D,defaultContext:E,realContext:T,positiveContext:B}=w8({FunctionNode:u,OperatorNode:f,SymbolNode:p});e.addConversion({from:"Object",to:"Map",convert:hb});var R=e("simplify",{Node:H,"Node, Map":(te,ee)=>H(te,!1,ee),"Node, Map, Object":(te,ee,Ae)=>H(te,!1,ee,Ae),"Node, Array":H,"Node, Array, Map":H,"Node, Array, Map, Object":H});function U(te){return te.transform(function(ee){return bp(ee)?U(ee.content):ee})}e.removeConversion({from:"Object",to:"Map",convert:hb}),R.defaultContext=E,R.realContext=T,R.positiveContext=B;var k={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function j(te,ee){var Ae={};if(te.s){var xe=te.s.split("->");if(2!==xe.length)throw SyntaxError("Could not parse rule: "+te.s);Ae.l=xe[0],Ae.r=xe[1]}else Ae.l=te.l,Ae.r=te.r;for(var ge of(Ae.l=U(t(Ae.l)),Ae.r=U(t(Ae.r)),["imposeContext","repeat","assuming"]))ge in te&&(Ae[ge]=te[ge]);if(te.evaluate&&(Ae.evaluate=t(te.evaluate)),v(Ae.l,ee)){var ne,Ee=!y(Ae.l,ee);Ee&&(ne=G());var Y=D(Ae.l),W=G();Ae.expanded={},Ae.expanded.l=Y([Ae.l,W]),C(Ae.expanded.l,ee),b(Ae.expanded.l,ee),Ae.expanded.r=Y([Ae.r,W]),Ee&&(Ae.expandedNC1={},Ae.expandedNC1.l=Y([ne,Ae.l]),Ae.expandedNC1.r=Y([ne,Ae.r]),Ae.expandedNC2={},Ae.expandedNC2.l=Y([ne,Ae.expanded.l]),Ae.expandedNC2.r=Y([ne,Ae.expanded.r]))}return Ae}R.rules=[o,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},s,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},s,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var P=0;function G(){return new p("_p"+P++)}function H(te,ee){var Ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eS(),xe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},ge=xe.consoleDebug;ee=function O(te,ee){for(var Ae=[],xe=0;xe<te.length;xe++){var ge=te[xe],Ee=void 0,ne=typeof ge;switch(ne){case"string":ge={s:ge};case"object":Ee=j(ge,ee);break;case"function":Ee=ge;break;default:throw TypeError("Unsupported type of rule: "+ne)}Ae.push(Ee)}return Ae}(ee||R.rules,xe.context);for(var Ee=i(te,Ae),ne={},Y=(Ee=U(Ee)).toString({parenthesis:"all"});!ne[Y];){ne[Y]=!0,P=0;var W=Y;ge&&console.log("Working on: ",Y);for(var Me=0;Me<ee.length;Me++){var Ce="";if("function"==typeof ee[Me]?(Ee=ee[Me](Ee,xe),ge&&(Ce=ee[Me].name)):(C(Ee,xe.context),Ee=ve(Ee,ee[Me],xe.context),ge&&(Ce="".concat(ee[Me].l.toString()," -> ").concat(ee[Me].r.toString()))),ge){var Pe=Ee.toString({parenthesis:"all"});Pe!==W&&(console.log("Applying",Ce,"produced",Pe),W=Pe)}M(Ee,xe.context)}Y=Ee.toString({parenthesis:"all"})}return Ee}function ae(te,ee,Ae){var xe=te;if(te)for(var ge=0;ge<te.length;++ge){var Ee=ve(te[ge],ee,Ae);Ee!==te[ge]&&(xe===te&&(xe=te.slice()),xe[ge]=Ee)}return xe}function ve(te,ee,Ae){if(ee.assuming)for(var xe in ee.assuming)for(var ge in ee.assuming[xe])if(g(xe,ge,Ae)!==ee.assuming[xe][ge])return te;var Ee=_(ee.imposeContext,Ae),ne=te;if(ne instanceof f||ne instanceof u){var Y=ae(ne.args,ee,Ae);Y!==ne.args&&((ne=ne.clone()).args=Y)}else if(ne instanceof A){if(ne.content){var W=ve(ne.content,ee,Ae);W!==ne.content&&(ne=new A(W))}}else if(ne instanceof l){var Me=ae(ne.items,ee,Ae);Me!==ne.items&&(ne=new l(Me))}else if(ne instanceof a){var Ce=ne.object;ne.object&&(Ce=ve(ne.object,ee,Ae));var Pe=ne.index;ne.index&&(Pe=ve(ne.index,ee,Ae)),(Ce!==ne.object||Pe!==ne.index)&&(ne=new a(Ce,Pe))}else if(ne instanceof h){var Oe=ae(ne.dimensions,ee,Ae);Oe!==ne.dimensions&&(ne=new h(Oe))}else if(ne instanceof d){var re=!1,Z={};for(var Ue in ne.properties)Z[Ue]=ve(ne.properties[Ue],ee,Ae),Z[Ue]!==ne.properties[Ue]&&(re=!0);re&&(ne=new d(Z))}var Qe=ee.r,rt=se(ee.l,ne,Ee)[0];if(!rt&&ee.expanded&&(Qe=ee.expanded.r,rt=se(ee.expanded.l,ne,Ee)[0]),!rt&&ee.expandedNC1&&(Qe=ee.expandedNC1.r,(rt=se(ee.expandedNC1.l,ne,Ee)[0])||(Qe=ee.expandedNC2.r,rt=se(ee.expandedNC2.l,ne,Ee)[0])),rt){var Xe=ne.implicit;ne=Qe.clone(),Xe&&"implicit"in Qe&&(ne.implicit=!0),ne=ne.transform(function(Pt){return Pt.isSymbolNode&&kn(rt.placeholders,Pt.name)?rt.placeholders[Pt.name].clone():Pt})}return ee.repeat&&ne!==te&&(ne=ve(ne,ee,Ae)),ne}function q(te,ee){var Ae={placeholders:{}};if(!te.placeholders&&!ee.placeholders)return Ae;if(!te.placeholders)return ee;if(!ee.placeholders)return te;for(var xe in te.placeholders)if(kn(te.placeholders,xe)&&(Ae.placeholders[xe]=te.placeholders[xe],kn(ee.placeholders,xe)&&!le(te.placeholders[xe],ee.placeholders[xe])))return null;for(var ge in ee.placeholders)kn(ee.placeholders,ge)&&(Ae.placeholders[ge]=ee.placeholders[ge]);return Ae}function K(te,ee){var Ae=[];if(0===te.length||0===ee.length)return Ae;for(var xe,ge=0;ge<te.length;ge++)for(var Ee=0;Ee<ee.length;Ee++)(xe=q(te[ge],ee[Ee]))&&Ae.push(xe);return Ae}function se(te,ee,Ae,xe){var ge=[{placeholders:{}}];if(te instanceof f&&ee instanceof f||te instanceof u&&ee instanceof u){if(te instanceof f){if(te.op!==ee.op||te.fn!==ee.fn)return[]}else if(te instanceof u&&te.name!==ee.name)return[];if(!(1===ee.args.length&&1===te.args.length||!v(ee,Ae)&&ee.args.length===te.args.length||xe)){if(ee.args.length>=2&&2===te.args.length){for(var Ce=function Q(te,ee){var xe,ge,Ae=[],Ee=D(te);if(y(te,ee))for(var ne=0;ne<te.args.length;ne++)(ge=te.args.slice(0)).splice(ne,1),xe=1===ge.length?ge[0]:Ee(ge),Ae.push(Ee([te.args[ne],xe]));else for(var Y=1;Y<te.args.length;Y++){var W=te.args[0];Y>1&&(W=Ee(te.args.slice(0,Y))),xe=1===(ge=te.args.slice(Y)).length?ge[0]:Ee(ge),Ae.push(Ee([W,xe]))}return Ae}(ee,Ae),Pe=[],Oe=0;Oe<Ce.length;Oe++){var re=se(te,Ce[Oe],Ae,!0);Pe=Pe.concat(re)}return Pe}if(te.args.length>2)throw Error("Unexpected non-binary associative function: "+te.toString());return[]}for(var Ee=[],ne=0;ne<te.args.length;ne++){var Y=se(te.args[ne],ee.args[ne],Ae);if(0===Y.length)break;Ee.push(Y)}if(Ee.length!==te.args.length){if(!y(ee,Ae)||1===te.args.length)return[];if(te.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var W=se(te.args[0],ee.args[1],Ae);if(0===W.length)return[];var Me=se(te.args[1],ee.args[0],Ae);if(0===Me.length)return[];Ee=[W,Me]}ge=function oe(te){if(0===te.length)return te;for(var ee=te.reduce(K),Ae=[],xe={},ge=0;ge<ee.length;ge++){var Ee=JSON.stringify(ee[ge],m);xe[Ee]||(xe[Ee]=!0,Ae.push(ee[ge]))}return Ae}(Ee)}else if(te instanceof p){if(0===te.name.length)throw new Error("Symbol in rule has 0 length...!?");if(k[te.name]){if(te.name!==ee.name)return[]}else switch(te.name[1]>="a"&&te.name[1]<="z"?te.name.substring(0,2):te.name[0]){case"n":case"_p":ge[0].placeholders[te.name]=ee;break;case"c":case"cl":if(!Di(ee))return[];ge[0].placeholders[te.name]=ee;break;case"v":if(Di(ee))return[];ge[0].placeholders[te.name]=ee;break;case"vl":if(!dl(ee))return[];ge[0].placeholders[te.name]=ee;break;case"cd":if(!hre(ee))return[];ge[0].placeholders[te.name]=ee;break;case"vd":if(hre(ee))return[];ge[0].placeholders[te.name]=ee;break;case"ce":if(!zI(ee))return[];ge[0].placeholders[te.name]=ee;break;case"ve":if(zI(ee))return[];ge[0].placeholders[te.name]=ee;break;default:throw new Error("Invalid symbol in rule: "+te.name)}}else{if(!(te instanceof c))return[];if(!r(te.value,ee.value))return[]}return ge}function le(te,ee){if(te instanceof c&&ee instanceof c){if(!r(te.value,ee.value))return!1}else if(te instanceof p&&ee instanceof p){if(te.name!==ee.name)return!1}else{if(!(te instanceof f&&ee instanceof f||te instanceof u&&ee instanceof u))return!1;if(te instanceof f){if(te.op!==ee.op||te.fn!==ee.fn)return!1}else if(te instanceof u&&te.name!==ee.name)return!1;if(te.args.length!==ee.args.length)return!1;for(var Ae=0;Ae<te.args.length;Ae++)if(!le(te.args[Ae],ee.args[Ae]))return!1}return!0}return R}),fre="symbolicEqual",y6e=ye(fre,["parse","simplify","typed","OperatorNode"],n=>{var{simplify:t,typed:r,OperatorNode:i}=n;function s(o,a){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=new i("-","subtract",[o,a]),u=t(c,{},l);return Di(u)&&!u.value}return r(fre,{"Node, Node":s,"Node, Node, Object":s})}),b6e=ye("leafCount",["parse","typed"],n=>{var{typed:t}=n;function r(i){var s=0;return i.forEach(o=>{s+=r(o)}),s||1}return t("leafCount",{Node:function(s){return r(s)}})}),C6e=ye("parser",["typed","Parser"],n=>{var{typed:e,Parser:t}=n;return e("parser",{"":function(){return new t}})}),pre="rationalize",E6e=ye(pre,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],n=>{var{typed:t,simplifyConstant:h,simplifyCore:d,simplify:f,ConstantNode:_,OperatorNode:D,SymbolNode:E}=n;function B(O){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=arguments.length>2&&void 0!==arguments[2]&&arguments[2],H=function U(){var O=[d,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},h,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],P=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],H=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],ae={};return ae.firstRules=O.concat(P,H),ae.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],ae.sucDivRules=H,ae.firstRulesAgain=O.concat(P),ae.finalRules=[d,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},h,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],ae}(),ae=function R(O,P,G,H){var ae=[],ve=f(O,H,P,{exactFractions:!1}),Q="+-*"+((G=!!G)?"/":"");!function K(oe){var se=oe.type;if("FunctionNode"===se)throw new Error("There is an unsolved function call");if("OperatorNode"===se)if("^"===oe.op){if("ConstantNode"!==oe.args[1].type||!$n(parseFloat(oe.args[1].value)))throw new Error("There is a non-integer exponent");K(oe.args[0])}else{if(!Q.includes(oe.op))throw new Error("Operator "+oe.op+" invalid in polynomial expression");for(var le=0;le<oe.args.length;le++)K(oe.args[le])}else if("SymbolNode"===se){var te=oe.name;-1===ae.indexOf(te)&&ae.push(te)}else if("ParenthesisNode"===se)K(oe.content);else if("ConstantNode"!==se)throw new Error("type "+se+" is not allowed in polynomial expression")}(ve);var q={};return q.expression=ve,q.variables=ae,q}(O,P,!0,H.firstRules),ve=ae.variables.length,Q={exactFractions:!1},q={exactFractions:!0};if(O=ae.expression,ve>=1){O=k(O);var K,oe,te,se=!0,le=!1;for(O=f(O,H.firstRules,{},Q);oe=se?H.distrDivRules:H.sucDivRules,se=!se,(te=(O=f(O,oe,{},q)).toString())!==K;)le=!0,K=te;le&&(O=f(O,H.firstRulesAgain,{},Q)),O=f(O,H.finalRules,{},Q)}var ee=[],Ae={};return"OperatorNode"===O.type&&O.isBinary()&&"/"===O.op?(1===ve&&(O.args[0]=j(O.args[0],ee),O.args[1]=j(O.args[1])),G&&(Ae.numerator=O.args[0],Ae.denominator=O.args[1])):(1===ve&&(O=j(O,ee)),G&&(Ae.numerator=O,Ae.denominator=null)),G?(Ae.coefficients=ee,Ae.variables=ae.variables,Ae.expression=O,Ae):O}return t(pre,{Node:B,"Node, boolean":(O,P)=>B(O,{},P),"Node, Object":B,"Node, Object, boolean":B});function k(O,P,G){var H=O.type,ae=arguments.length>1;if("OperatorNode"===H&&O.isBinary()){var Q,ve=!1;if("^"===O.op&&("ParenthesisNode"===O.args[0].type||"OperatorNode"===O.args[0].type)&&"ConstantNode"===O.args[1].type&&(ve=(Q=parseFloat(O.args[1].value))>=2&&$n(Q)),ve){if(Q>2){var q=O.args[0],K=new D("^","pow",[O.args[0].cloneDeep(),new _(Q-1)]);O=new D("*","multiply",[q,K])}else O=new D("*","multiply",[O.args[0],O.args[0].cloneDeep()]);ae&&("content"===G?P.content=O:P.args[G]=O)}}if("ParenthesisNode"===H)k(O.content,O,"content");else if("ConstantNode"!==H&&"SymbolNode"!==H)for(var oe=0;oe<O.args.length;oe++)k(O.args[oe],O,oe);if(!ae)return O}function j(O,P){void 0===P&&(P=[]),P[0]=0;var H=0,ae="";!function te(ee,Ae,xe){var ge=ee.type;if("FunctionNode"===ge)throw new Error("There is an unsolved function call");if("OperatorNode"===ge){if(!"+-*^".includes(ee.op))throw new Error("Operator "+ee.op+" invalid");if(null!==Ae){if(("unaryMinus"===ee.fn||"pow"===ee.fn)&&"add"!==Ae.fn&&"subtract"!==Ae.fn&&"multiply"!==Ae.fn)throw new Error("Invalid "+ee.op+" placing");if(("subtract"===ee.fn||"add"===ee.fn||"multiply"===ee.fn)&&"add"!==Ae.fn&&"subtract"!==Ae.fn)throw new Error("Invalid "+ee.op+" placing");if(("subtract"===ee.fn||"add"===ee.fn||"unaryMinus"===ee.fn)&&0!==xe.noFil)throw new Error("Invalid "+ee.op+" placing")}("^"===ee.op||"*"===ee.op)&&(xe.fire=ee.op);for(var Ee=0;Ee<ee.args.length;Ee++)"unaryMinus"===ee.fn&&(xe.oper="-"),("+"===ee.op||"subtract"===ee.fn)&&(xe.fire="",xe.cte=1,xe.oper=0===Ee?"+":ee.op),xe.noFil=Ee,te(ee.args[Ee],ee,xe)}else if("SymbolNode"===ge){if(ee.name!==ae&&""!==ae)throw new Error("There is more than one variable");if(ae=ee.name,null===Ae)return void(P[1]=1);if("^"===Ae.op&&0!==xe.noFil)throw new Error("In power the variable should be the first parameter");if("*"===Ae.op&&1!==xe.noFil)throw new Error("In multiply the variable should be the second parameter");(""===xe.fire||"*"===xe.fire)&&(H<1&&(P[1]=0),P[1]+=xe.cte*("+"===xe.oper?1:-1),H=Math.max(1,H))}else{if("ConstantNode"!==ge)throw new Error("Type "+ge+" is not allowed");var ne=parseFloat(ee.value);if(null===Ae)return void(P[0]=ne);if("^"===Ae.op){if(1!==xe.noFil)throw new Error("Constant cannot be powered");if(!$n(ne)||ne<=0)throw new Error("Non-integer exponent is not allowed");for(var Y=H+1;Y<ne;Y++)P[Y]=0;return ne>H&&(P[ne]=0),P[ne]+=xe.cte*("+"===xe.oper?1:-1),void(H=Math.max(ne,H))}xe.cte=ne,""===xe.fire&&(P[0]+=xe.cte*("+"===xe.oper?1:-1))}}(O,null,{cte:1,oper:"+",fire:""});for(var Q,ve=!0,q=H=P.length-1;q>=0;q--)if(0!==P[q]){var K=new _(ve?P[q]:Math.abs(P[q])),oe=P[q]<0?"-":"+";if(q>0){var se=new E(ae);if(q>1){var le=new _(q);se=new D("^","pow",[se,le])}K=-1===P[q]&&ve?new D("-","unaryMinus",[se]):1===Math.abs(P[q])?se:new D("*","multiply",[K,se])}Q=ve?K:"+"===oe?new D("+","add",[Q,K]):new D("-","subtract",[Q,K]),ve=!1}return ve?new _(0):Q}}),gre="derivative",D6e=ye(gre,["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:e,config:t,parse:r,simplify:i,equal:s,isZero:o,numeric:a,ConstantNode:l,FunctionNode:c,OperatorNode:u,ParenthesisNode:h,SymbolNode:d}=n;function f(_,C){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},M=new Map,D=C.name,T=y(_,function E(B){var R=M.get(B);if(void 0!==R)return R;var U=g(E,B,D);return M.set(B,U),U});return b.simplify?i(T):T}function A(_){var C=r(_);if(!C.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(_)," into a variable in function derivative"));return C}var p=e(gre,{"Node, SymbolNode":f,"Node, SymbolNode, Object":f,"Node, string":(_,C)=>f(_,A(C)),"Node, string, Object":(_,C,b)=>f(_,A(C),b)});p._simplify=!0,p.toTex=function(_){return m.apply(null,_.args)};var m=e("_derivTex",{"Node, SymbolNode":function(C,b){return Di(C)&&"string"===Ws(C.value)?m(r(C.value).toString(),b.toString(),1):m(C.toTex(),b.toString(),1)},"Node, ConstantNode":function(C,b){if("string"===Ws(b.value))return m(C,r(b.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(C,b,M){return m(C.toString(),b.name,M.value)},"string, string, number":function(C,b,M){return(1===M?"{d\\over d"+b+"}":"{d^{"+M+"}\\over d"+b+"^{"+M+"}}")+"\\left[".concat(C,"\\right]")}}),g=e("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(C,b,M){return b.name!==M},"function, ParenthesisNode, string":function(C,b,M){return C(b.content,M)},"function, FunctionAssignmentNode, string":function(C,b,M){return!b.params.includes(M)||C(b.expr,M)},"function, FunctionNode | OperatorNode, string":function(C,b,M){return b.args.every(D=>C(D,M))}}),y=e("_derivative",{"ConstantNode, function":function(){return v(0)},"SymbolNode, function":function(C,b){return b(C)?v(0):v(1)},"ParenthesisNode, function":function(C,b){return new h(y(C.content,b))},"FunctionAssignmentNode, function":function(C,b){return b(C)?v(0):y(C.expr,b)},"FunctionNode, function":function(C,b){if(b(C))return v(0);var D,B,R,U,M=C.args[0],E=!1,T=!1;switch(C.name){case"cbrt":E=!0,B=new u("*","multiply",[v(3),new u("^","pow",[M,new u("/","divide",[v(2),v(3)])])]);break;case"sqrt":case"nthRoot":if(1===C.args.length)E=!0,B=new u("*","multiply",[v(2),new c("sqrt",[M])]);else if(2===C.args.length)return D=new u("/","divide",[v(1),C.args[1]]),y(new u("^","pow",[M,D]),b);break;case"log10":D=v(10);case"log":if(D||1!==C.args.length){if(1===C.args.length&&D||2===C.args.length&&b(C.args[1]))B=new u("*","multiply",[M.clone(),new c("log",[D||C.args[1]])]),E=!0;else if(2===C.args.length)return y(new u("/","divide",[new c("log",[M]),new c("log",[C.args[1]])]),b)}else B=M.clone(),E=!0;break;case"pow":if(2===C.args.length)return y(new u("^","pow",[M,C.args[1]]),b);break;case"exp":B=new c("exp",[M.clone()]);break;case"sin":B=new c("cos",[M.clone()]);break;case"cos":B=new u("-","unaryMinus",[new c("sin",[M.clone()])]);break;case"tan":B=new u("^","pow",[new c("sec",[M.clone()]),v(2)]);break;case"sec":B=new u("*","multiply",[C,new c("tan",[M.clone()])]);break;case"csc":T=!0,B=new u("*","multiply",[C,new c("cot",[M.clone()])]);break;case"cot":T=!0,B=new u("^","pow",[new c("csc",[M.clone()]),v(2)]);break;case"asin":E=!0,B=new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])])]);break;case"acos":E=!0,T=!0,B=new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])])]);break;case"atan":E=!0,B=new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)]);break;case"asec":E=!0,B=new u("*","multiply",[new c("abs",[M.clone()]),new c("sqrt",[new u("-","subtract",[new u("^","pow",[M.clone(),v(2)]),v(1)])])]);break;case"acsc":E=!0,T=!0,B=new u("*","multiply",[new c("abs",[M.clone()]),new c("sqrt",[new u("-","subtract",[new u("^","pow",[M.clone(),v(2)]),v(1)])])]);break;case"acot":E=!0,T=!0,B=new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)]);break;case"sinh":B=new c("cosh",[M.clone()]);break;case"cosh":B=new c("sinh",[M.clone()]);break;case"tanh":B=new u("^","pow",[new c("sech",[M.clone()]),v(2)]);break;case"sech":T=!0,B=new u("*","multiply",[C,new c("tanh",[M.clone()])]);break;case"csch":T=!0,B=new u("*","multiply",[C,new c("coth",[M.clone()])]);break;case"coth":T=!0,B=new u("^","pow",[new c("csch",[M.clone()]),v(2)]);break;case"asinh":E=!0,B=new c("sqrt",[new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)])]);break;case"acosh":E=!0,B=new c("sqrt",[new u("-","subtract",[new u("^","pow",[M.clone(),v(2)]),v(1)])]);break;case"atanh":E=!0,B=new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])]);break;case"asech":E=!0,T=!0,B=new u("*","multiply",[M.clone(),new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])])])]);break;case"acsch":E=!0,T=!0,B=new u("*","multiply",[new c("abs",[M.clone()]),new c("sqrt",[new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)])])]);break;case"acoth":E=!0,T=!0,B=new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])]);break;case"abs":B=new u("/","divide",[new c(new d("abs"),[M.clone()]),M.clone()]);break;default:throw new Error('Cannot process function "'+C.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}E?(R="/",U="divide"):(R="*",U="multiply");var k=y(M,b);return T&&(k=new u("-","unaryMinus",[k])),new u(R,U,[k,B])},"OperatorNode, function":function(C,b){if(b(C))return v(0);if("+"===C.op)return new u(C.op,C.fn,C.args.map(function(O){return y(O,b)}));if("-"===C.op){if(C.isUnary())return new u(C.op,C.fn,[y(C.args[0],b)]);if(C.isBinary())return new u(C.op,C.fn,[y(C.args[0],b),y(C.args[1],b)])}if("*"===C.op){var M=C.args.filter(function(O){return b(O)});if(M.length>0){var D=C.args.filter(function(O){return!b(O)}),E=1===D.length?D[0]:new u("*","multiply",D),T=M.concat(y(E,b));return new u("*","multiply",T)}return new u("+","add",C.args.map(function(O){return new u("*","multiply",C.args.map(function(P){return P===O?y(P,b):P.clone()}))}))}if("/"===C.op&&C.isBinary()){var B=C.args[0],R=C.args[1];return b(R)?new u("/","divide",[y(B,b),R]):b(B)?new u("*","multiply",[new u("-","unaryMinus",[B]),new u("/","divide",[y(R,b),new u("^","pow",[R.clone(),v(2)])])]):new u("/","divide",[new u("-","subtract",[new u("*","multiply",[y(B,b),R.clone()]),new u("*","multiply",[B.clone(),y(R,b)])]),new u("^","pow",[R.clone(),v(2)])])}if("^"===C.op&&C.isBinary()){var U=C.args[0],k=C.args[1];if(b(U))return Di(U)&&(o(U.value)||s(U.value,1))?v(0):new u("*","multiply",[C,new u("*","multiply",[new c("log",[U.clone()]),y(k.clone(),b)])]);if(b(k)){if(Di(k)){if(o(k.value))return v(0);if(s(k.value,1))return y(U,b)}var j=new u("^","pow",[U.clone(),new u("-","subtract",[k,v(1)])]);return new u("*","multiply",[k.clone(),new u("*","multiply",[y(U,b),j])])}return new u("*","multiply",[new u("^","pow",[U.clone(),k.clone()]),new u("+","add",[new u("*","multiply",[y(U,b),new u("/","divide",[k.clone(),U.clone()])]),new u("*","multiply",[y(k,b),new c("log",[U.clone()])])])])}throw new Error('Cannot process operator "'+C.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function v(_,C){return new l(a(_,C||hm(String(_),t)))}return p}),mre={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},vre={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},eGe={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},bigint:{name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:mre,E:mre,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:vre,PI:vre,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},polynomialRoot:{name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstant:{name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},sylvester:{name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schur:{name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyap:{name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},solveODE:{name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tf:{name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqz:{name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zeta:{name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corr:{name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]}},nGe=ye("help",["typed","mathWithTransform","Help"],n=>{var{typed:e,mathWithTransform:t,Help:r}=n;return e("help",{any:function(s){var o,a=s;if("string"!=typeof s)for(o in t)if(kn(t,o)&&s===t[o]){a=o;break}var l=zc(eGe,a);if(!l)throw new Error('No documentation found on "'+("function"==typeof a?a.name:a)+'"');return new r(l)}})}),GI=we(616);function U0(n,e,t){if(GI.isTypedFunction(n)){var r=(e.isMatrix?e.size():xr(e)).map(()=>0),i=e.isMatrix?e.get(r):g8(e,r),s=1===Object.keys(n.signatures).length,o=function rGe(n,e,t,r){for(var i=[e,t,r],s=3;s>0;s--){var o=i.slice(0,s);if(null!==GI.resolve(n,o))return s}}(n,i,r,e),a=s?Object.values(n.signatures)[0]:n;return o>=1&&o<=3?function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return _re(a,c.slice(0,o),t,n.name)}:function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return _re(a,c,t,n.name)}}return n}function _re(n,e,t,r){try{return n(...e)}catch(i){!function iGe(n,e,t,r){var i;if(n instanceof TypeError&&"wrongType"===(null===(i=n.data)||void 0===i?void 0:i.category)){var s=[];throw s.push("value: ".concat(Ws(e[0]))),e.length>=2&&s.push("index: ".concat(Ws(e[1]))),e.length>=3&&s.push("array: ".concat(Ws(e[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(r,"(").concat(s.join(", "),") at index ").concat(JSON.stringify(e[1])))}throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(r,": ").concat(n.message))}(i,e,t,r)}}var bre=ye("filter",["typed"],n=>{var{typed:e}=n;return e("filter",{"Array, function":wre,"Matrix, function":function(r,i){return r.create(wre(r.valueOf(),i),r.datatype())},"Array, RegExp":jne,"Matrix, RegExp":function(r,i){return r.create(jne(r.valueOf(),i),r.datatype())}})});function wre(n,e){var t=U0(e,n,"filter");return function r8e(n,e){if(1!==xr(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,e)}(n,function(r,i,s){return t(r,[i],s)})}function x8(n,e,t){var r=n.filter(function(l){return dl(l)&&!(l.name in e)&&!t.has(l.name)})[0];if(!r)throw new Error('No undefined variable found in inline expression "'+n+'"');var i=r.name,s=new Map,o=new wne(t,s,new Set([i])),a=n.compile();return function(c){return s.set(i,c),a.evaluate(o)}}var E8=ye("transformCallback",["typed"],n=>{var{typed:e}=n;return function(r,i){return e.isTypedFunction(r)?t(r,i):Cre(r,r.length,i)};function t(r,i){var s=Object.fromEntries(Object.entries(r.signatures).map(o=>{var[a,l]=o,c=a.split(",").length;return e.isTypedFunction(l)?[a,t(l,i)]:[a,Cre(l,c,i)]}));return"string"==typeof r.name?e(r.name,s):e(s)}});function Cre(n,e,t){return e===t?n:e===t+1?function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.slice(0,t),a=xre(i[t]);return n(...o,a)}:e>t+1?function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.slice(0,t),a=xre(i[t]),l=i.slice(t+1);return n(...o,a,...l)}:n}function xre(n){return n.map(e=>e+1)}var hGe=ye("filter",["typed"],n=>{var{typed:e}=n;function t(i,s,o){var a=bre({typed:e}),l=E8({typed:e});if(0===i.length)return a();var c=i[0];if(1===i.length)return a(c);var u=i.length-1,h=i[u];return c&&(c=r(c,o)),h&&(h=dl(h)||rS(h)?r(h,o):x8(h,s,o)),a(c,l(h,u))}function r(i,s){return i.compile().evaluate(s)}return t.rawArgs=!0,t},{isTransformFunction:!0}),S8="forEach",Ere=ye(S8,["typed"],n=>{var{typed:e}=n;return e(S8,{"Array, function":dGe,"Matrix, function":function(r,i){r.forEach(i)}})});function dGe(n,e){m8(n,[],n,U0(e,n,S8))}var gGe=ye("forEach",["typed"],n=>{var{typed:e}=n,t=Ere({typed:e}),r=E8({typed:e});function i(o,a,l){if(0===o.length)return t();var c=o[0];if(1===o.length)return t(c);var u=o.length-1,h=o[u];return c&&(c=s(c,l)),h&&(h=dl(h)||rS(h)?s(h,l):x8(h,a,l)),t(c,r(h,u))}function s(o,a){return o.compile().evaluate(a)}return i.rawArgs=!0,i},{isTransformFunction:!0}),Sre=ye("map",["typed"],n=>{var{typed:e}=n;return e("map",{"Array, function":r,"Matrix, function":function(s,o){return s.map(o)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(i,s,o)=>function t(i,s){if("function"!=typeof s)throw new Error("Last argument must be a callback function");var u,o=i[0].isMatrix,a=SI(...i.map(_=>_.isMatrix?_.size():xr(_))),l=o?(_,C)=>_.get(C):g8,c=i.map(o?_=>_.isMatrix?_.create(Am(_.toArray(),a),_.datatype()):i[0].create(Am(_.valueOf(),a)):_=>Am(_.isMatrix?_.toArray():_,a));if(e.isTypedFunction(s)){var h=a.map(()=>0),d=c.map(_=>l(_,h)),f=function v(_,C,b,M){return null!==e.resolve(_,[...C,b,...M])?2:null!==e.resolve(_,[...C,b])?1:(e.resolve(_,C),0)}(s,d,h,c);u=g(f)}else{var p=function y(_,C){return _.length>C+1?2:_.length===C+1?1:0}(s,i.length);u=g(p)}var m=(_,C)=>u([_,...c.slice(1).map(b=>l(b,C))],C);return o?c[0].map(m):r(c[0],m);function g(_){switch(_){case 0:return C=>s(...C);case 1:return(C,b)=>s(...C,b);case 2:return(C,b)=>s(...C,b,...c)}}}([i,s,...o.slice(0,o.length-1)],o[o.length-1])});function r(i,s){return m8(i,[],i,U0(s,i,"map"))}}),_Ge=ye("map",["typed"],n=>{var{typed:e}=n,t=Sre({typed:e}),r=E8({typed:e});function i(s,o,a){if(0===s.length)return t();if(1===s.length)return t(s[0]);var l=s.length-1,c=s.slice(0,l),u=s[l];return c=c.map(d=>h(d,a)),u&&(u=dl(u)||rS(u)?h(u,a):x8(u,o,a)),t(...c,r(u,l));function h(d,f){return d.compile().evaluate(f)}}return i.rawArgs=!0,i},{isTransformFunction:!0}),M8=ye("apply",["typed","isInteger"],n=>{var{typed:e,isInteger:t}=n;return e("apply",{"Array | Matrix, number | BigNumber, function":function(i,s,o){if(!t(s))throw new TypeError("Integer number expected for dimension");var a=Array.isArray(i)?xr(i):i.size();if(s<0||s>=a.length)throw new td(s,a.length);return cr(i)?i.create(qI(i.valueOf(),s,o),i.datatype()):qI(i,s,o)}})});function qI(n,e,t){var r,i,s;if(e<=0){if(Array.isArray(n[0])){for(s=function wGe(n){var r,i,e=n.length,t=n[0].length,s=[];for(i=0;i<t;i++){var o=[];for(r=0;r<e;r++)o.push(n[r][i]);s.push(o)}return s}(n),i=[],r=0;r<s.length;r++)i[r]=qI(s[r],e-1,t);return i}return t(n)}for(i=[],r=0;r<n.length;r++)i[r]=qI(n[r],e-1,t);return i}var EGe=ye("apply",["typed","isInteger"],n=>{var{typed:e,isInteger:t}=n,r=M8({typed:e,isInteger:t});return e("apply",{"...any":function(s){var o=s[1];Ur(o)?s[1]=o-1:kr(o)&&(s[1]=o.minus(1));try{return r.apply(null,s)}catch(a){throw Gc(a)}}})},{isTransformFunction:!0}),qc=ye("matAlgo03xDSf",["typed"],n=>{var{typed:e}=n;return function(r,i,s,o){var a=r._data,l=r._size,c=r._datatype||r.getDataType(),u=i._values,h=i._index,d=i._ptr,f=i._size,A=i._datatype||void 0===i._data?i._datatype:i.getDataType();if(l.length!==f.length)throw new ri(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g,p=l[0],m=l[1],y=0,v=s;"string"==typeof c&&c===A&&"mixed"!==c&&(y=e.convert(0,g=c),v=e.find(s,[g,g]));for(var _=[],C=0;C<p;C++)_[C]=[];for(var b=[],M=[],D=0;D<m;D++){for(var E=D+1,B=d[D+1],R=d[D];R<B;R++){var U=h[R];b[U]=o?v(u[R],a[U][D]):v(a[U][D],u[R]),M[U]=E}for(var k=0;k<p;k++)_[k][D]=M[k]===E?b[k]:o?v(y,a[k][D]):v(a[k][D],y)}return r.createDenseMatrix({data:_,size:[p,m],datatype:c===r._datatype&&A===i._datatype?g:void 0})}}),Wa=ye("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(i,s,o,a){var l=i._values,c=i._index,u=i._ptr,h=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=h[0],A=h[1],m=o;"string"==typeof d&&(s=e.convert(s,p=d),m=e.find(o,[p,p]));for(var g=[],y=[],v=[],_=0;_<A;_++){for(var C=_+1,M=u[_+1],D=u[_];D<M;D++){var E=c[D];y[E]=l[D],v[E]=C}for(var T=0;T<f;T++)0===_&&(g[T]=[]),g[T][_]=v[T]===C?a?m(s,y[T]):m(y[T],s):a?m(s,0):m(0,s)}return new t({data:g,size:[f,A],datatype:p})}}),jI=ye("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,h=i._datatype||void 0===i._data?i._datatype:i.getDataType(),d=s._values,f=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new ri(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof h&&h===m&&"mixed"!==h&&(_=e.find(t,[v=h,v]),C=e.convert(0,v),b=e.find(o,[v,v]));var k,j,O,P,M=a&&d?[]:void 0,D=[],E=[],T=M?[]:void 0,B=M?[]:void 0,R=[],U=[];for(j=0;j<y;j++){E[j]=D.length;var G=j+1;for(O=c[j],P=c[j+1];O<P;O++)D.push(k=l[O]),R[k]=G,T&&(T[k]=a[O]);for(O=A[j],P=A[j+1];O<P;O++)R[k=f[O]]!==G&&D.push(k),U[k]=G,B&&(B[k]=d[O]);if(M)for(O=E[j];O<D.length;){var H=R[k=D[O]],ae=U[k];if(H===G||ae===G){var q=b(H===G?T[k]:C,ae===G?B[k]:C);_(q,C)?D.splice(O,1):(M.push(q),O++)}}}return E[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:E,size:[g,y],datatype:h===i._datatype&&m===s._datatype?v:void 0})}}),RGe=ye("matAlgo13xDD",["typed"],n=>{var{typed:e}=n;return function(i,s,o){var a=i._data,l=i._size,c=i._datatype,u=s._data,h=s._size,d=s._datatype,f=[];if(l.length!==h.length)throw new ri(l.length,h.length);for(var A=0;A<l.length;A++){if(l[A]!==h[A])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");f[A]=l[A]}var p,m=o;"string"==typeof c&&c===d&&(m=e.find(o,[p=c,p]));var g=f.length>0?t(m,0,f,f[0],a,u):[];return i.createDenseMatrix({data:g,size:f,datatype:p})};function t(r,i,s,o,a,l){var c=[];if(i===s.length-1)for(var u=0;u<o;u++)c[u]=r(a[u],l[u]);else for(var h=0;h<o;h++)c[h]=t(r,i+1,s,s[i+1],a[h],l[h]);return c}}),rd=ye("matAlgo14xDs",["typed"],n=>{var{typed:e}=n;return function(i,s,o,a){var h,l=i._data,c=i._size,u=i._datatype,d=o;"string"==typeof u&&(s=e.convert(s,h=u),d=e.find(o,[h,h]));var f=c.length>0?t(d,0,c,c[0],l,s,a):[];return i.createDenseMatrix({data:f,size:Ir(c),datatype:h})};function t(r,i,s,o,a,l,c){var u=[];if(i===s.length-1)for(var h=0;h<o;h++)u[h]=c?r(l,a[h]):r(a[h],l);else for(var d=0;d<o;d++)u[d]=t(r,i+1,s,s[i+1],a[d],l,c);return u}});function Al(n,e){if(yp(n.size(),e.size()))return[n,e];var t=SI(n.size(),e.size());return[n,e].map(r=>function LGe(n,e){return yp(n.size(),e)?n:n.create(Am(n.valueOf(),e),n.datatype())}(r,t))}var Ks=ye("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:e,matrix:t}=n,r=RGe({typed:e}),i=rd({typed:e});return function(o){var c,a=o.elop,l=o.SD||o.DS;a?(c={"DenseMatrix, DenseMatrix":(f,A)=>r(...Al(f,A),a),"Array, Array":(f,A)=>r(...Al(t(f),t(A)),a).valueOf(),"Array, DenseMatrix":(f,A)=>r(...Al(t(f),A),a),"DenseMatrix, Array":(f,A)=>r(...Al(f,t(A)),a)},o.SS&&(c["SparseMatrix, SparseMatrix"]=(f,A)=>o.SS(...Al(f,A),a,!1)),o.DS&&(c["DenseMatrix, SparseMatrix"]=(f,A)=>o.DS(...Al(f,A),a,!1),c["Array, SparseMatrix"]=(f,A)=>o.DS(...Al(t(f),A),a,!1)),l&&(c["SparseMatrix, DenseMatrix"]=(f,A)=>l(...Al(A,f),a,!0),c["SparseMatrix, Array"]=(f,A)=>l(...Al(t(A),f),a,!0))):(c={"DenseMatrix, DenseMatrix":e.referToSelf(f=>(A,p)=>r(...Al(A,p),f)),"Array, Array":e.referToSelf(f=>(A,p)=>r(...Al(t(A),t(p)),f).valueOf()),"Array, DenseMatrix":e.referToSelf(f=>(A,p)=>r(...Al(t(A),p),f)),"DenseMatrix, Array":e.referToSelf(f=>(A,p)=>r(...Al(A,t(p)),f))},o.SS&&(c["SparseMatrix, SparseMatrix"]=e.referToSelf(f=>(A,p)=>o.SS(...Al(A,p),f,!1))),o.DS&&(c["DenseMatrix, SparseMatrix"]=e.referToSelf(f=>(A,p)=>o.DS(...Al(A,p),f,!1)),c["Array, SparseMatrix"]=e.referToSelf(f=>(A,p)=>o.DS(...Al(t(A),p),f,!1))),l&&(c["SparseMatrix, DenseMatrix"]=e.referToSelf(f=>(A,p)=>l(...Al(p,A),f,!0)),c["SparseMatrix, Array"]=e.referToSelf(f=>(A,p)=>l(...Al(t(p),A),f,!0))));var u=o.scalar||"any";(o.Ds||o.Ss)&&(a?(c["DenseMatrix,"+u]=(f,A)=>i(f,A,a,!1),c[u+", DenseMatrix"]=(f,A)=>i(A,f,a,!0),c["Array,"+u]=(f,A)=>i(t(f),A,a,!1).valueOf(),c[u+", Array"]=(f,A)=>i(t(A),f,a,!0).valueOf()):(c["DenseMatrix,"+u]=e.referToSelf(f=>(A,p)=>i(A,p,f,!1)),c[u+", DenseMatrix"]=e.referToSelf(f=>(A,p)=>i(p,A,f,!0)),c["Array,"+u]=e.referToSelf(f=>(A,p)=>i(t(A),p,f,!1).valueOf()),c[u+", Array"]=e.referToSelf(f=>(A,p)=>i(t(p),A,f,!0).valueOf())));var d=void 0!==o.sS?o.sS:o.Ss;return a?(o.Ss&&(c["SparseMatrix,"+u]=(f,A)=>o.Ss(f,A,a,!1)),d&&(c[u+", SparseMatrix"]=(f,A)=>d(A,f,a,!0))):(o.Ss&&(c["SparseMatrix,"+u]=e.referToSelf(f=>(A,p)=>o.Ss(A,p,f,!1))),d&&(c[u+", SparseMatrix"]=e.referToSelf(f=>(A,p)=>d(p,A,f,!0)))),a&&a.signatures&&mne(c,a.signatures),c}}),T8="number, number";function Mre(n){return!n}function B8(n,e){return!(!n&&!e)}function N8(n,e){return!!n!=!!e}function I8(n,e){return!(!n||!e)}Mre.signature="number",B8.signature=T8,N8.signature=T8,I8.signature=T8;var Bre=ye("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=qc({typed:e}),a=jI({typed:e,equalScalar:r}),l=Wa({typed:e,DenseMatrix:i}),c=Ks({typed:e,matrix:t,concat:s});return e("or",{"number, number":B8,"Complex, Complex":function(h,d){return 0!==h.re||0!==h.im||0!==d.re||0!==d.im},"BigNumber, BigNumber":function(h,d){return!h.isZero()&&!h.isNaN()||!d.isZero()&&!d.isNaN()},"bigint, bigint":B8,"Unit, Unit":e.referToSelf(u=>(h,d)=>u(h.value||0,d.value||0))},c({SS:a,DS:o,Ss:l}))}),GGe=ye("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=Bre({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s});function a(l,c,u){var h=l[0].compile().evaluate(u);if(!Wh(h)&&o(h,!1))return!0;var d=l[1].compile().evaluate(u);return o(h,d)}return a.rawArgs=!0,a},{isTransformFunction:!0}),id=ye("matAlgo02xDS0",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o,a){var l=i._data,c=i._size,u=i._datatype||i.getDataType(),h=s._values,d=s._index,f=s._ptr,A=s._size,p=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(c.length!==A.length)throw new ri(c.length,A.length);if(c[0]!==A[0]||c[1]!==A[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+A+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y,m=c[0],g=c[1],v=t,_=0,C=o;"string"==typeof u&&u===p&&"mixed"!==u&&(v=e.find(t,[y=u,y]),_=e.convert(0,y),C=e.find(o,[y,y]));for(var b=[],M=[],D=[],E=0;E<g;E++){D[E]=M.length;for(var B=f[E+1],R=f[E];R<B;R++){var U=d[R],k=a?C(h[R],l[U][E]):C(l[U][E],h[R]);v(k,_)||(M.push(U),b.push(k))}}return D[g]=M.length,s.createSparseMatrix({values:b,index:M,ptr:D,size:[m,g],datatype:u===i._datatype&&p===s._datatype?y:void 0})}}),Ll=ye("matAlgo11xS0s",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o,a){var l=i._values,c=i._index,u=i._ptr,h=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=h[0],A=h[1],m=t,g=0,y=o;"string"==typeof d&&(m=e.find(t,[p=d,p]),g=e.convert(0,p),s=e.convert(s,p),y=e.find(o,[p,p]));for(var v=[],_=[],C=[],b=0;b<A;b++){C[b]=_.length;for(var D=u[b+1],E=u[b];E<D;E++){var T=c[E],B=a?y(s,l[E]):y(l[E],s);m(B,g)||(_.push(T),v.push(B))}}return C[A]=_.length,i.createSparseMatrix({values:v,index:_,ptr:C,size:[f,A],datatype:p})}}),WI=ye("matAlgo06xS0S0",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._size,c=i._datatype||void 0===i._data?i._datatype:i.getDataType(),u=s._values,h=s._size,d=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(l.length!==h.length)throw new ri(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var p,f=l[0],A=l[1],m=t,g=0,y=o;"string"==typeof c&&c===d&&"mixed"!==c&&(m=e.find(t,[p=c,p]),g=e.convert(0,p),y=e.find(o,[p,p]));for(var v=a&&u?[]:void 0,_=[],C=[],b=v?[]:void 0,M=[],D=[],E=0;E<A;E++){C[E]=_.length;var T=E+1;if(rre(i,E,M,b,D,T,_,y),rre(s,E,M,b,D,T,_,y),b)for(var B=C[E];B<_.length;){var R=_[B];if(D[R]===T){var U=b[R];m(U,g)?_.splice(B,1):(v.push(U),B++)}else _.splice(B,1)}else for(var k=C[E];k<_.length;)D[_[k]]!==T?_.splice(k,1):k++}return C[A]=_.length,i.createSparseMatrix({values:v,index:_,ptr:C,size:[f,A],datatype:c===i._datatype&&d===s._datatype?p:void 0})}}),Ire=ye("and",["typed","matrix","equalScalar","zeros","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o}=n,a=id({typed:e,equalScalar:r}),l=WI({typed:e,equalScalar:r}),c=Ll({typed:e,equalScalar:r}),u=rd({typed:e}),h=Ks({typed:e,matrix:t,concat:o});return e("and",{"number, number":I8,"Complex, Complex":function(f,A){return!(0===f.re&&0===f.im||0===A.re&&0===A.im)},"BigNumber, BigNumber":function(f,A){return!(f.isZero()||A.isZero()||f.isNaN()||A.isNaN())},"bigint, bigint":I8,"Unit, Unit":e.referToSelf(d=>(f,A)=>d(f.value||0,A.value||0)),"SparseMatrix, any":e.referToSelf(d=>(f,A)=>s(A)?i(f.size(),f.storage()):c(f,A,d,!1)),"DenseMatrix, any":e.referToSelf(d=>(f,A)=>s(A)?i(f.size(),f.storage()):u(f,A,d,!1)),"any, SparseMatrix":e.referToSelf(d=>(f,A)=>s(f)?i(f.size(),f.storage()):c(A,f,d,!0)),"any, DenseMatrix":e.referToSelf(d=>(f,A)=>s(f)?i(f.size(),f.storage()):u(A,f,d,!0)),"Array, any":e.referToSelf(d=>(f,A)=>d(t(f),A).valueOf()),"any, Array":e.referToSelf(d=>(f,A)=>d(f,t(A)).valueOf())},h({SS:l,DS:a}))}),e9e=ye("and",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o}=n,a=Ire({typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o});function l(c,u,h){var d=c[0].compile().evaluate(h);if(!Wh(d)&&!a(d,!0))return!1;var f=c[1].compile().evaluate(h);return a(d,f)}return l.rawArgs=!0,l},{isTransformFunction:!0}),Rre=ye("concat",["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:r}=n;return e("concat",{"...Array | Matrix | number | BigNumber":function(s){var o,c,a=s.length,l=-1,u=!1,h=[];for(o=0;o<a;o++){var d=s[o];if(cr(d)&&(u=!0),Ur(d)||kr(d)){if(o!==a-1)throw new Error("Dimension must be specified as last argument");if(c=l,l=d.valueOf(),!r(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>c)throw new td(l,c+1)}else{var f=Ir(d).valueOf(),A=xr(f);if(h[o]=f,c=l,l=A.length-1,o>0&&l!==c)throw new ri(c+1,l+1)}}if(0===h.length)throw new SyntaxError("At least one matrix expected");for(var p=h.shift();h.length;)p=Kne(p,h.shift(),l);return u?t(p):p},"...string":function(s){return s.join("")}})}),i9e=ye("concat",["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:r}=n,i=Rre({typed:e,matrix:t,isInteger:r});return e("concat",{"...any":function(o){var a=o.length-1,l=o[a];Ur(l)?o[a]=l-1:kr(l)&&(o[a]=l.minus(1));try{return i.apply(null,o)}catch(c){throw Gc(c)}}})},{isTransformFunction:!0});function jc(n,e,t){var r;return String(n).includes("Unexpected type")?(r=arguments.length>2?" (type: "+Ws(t)+", value: "+JSON.stringify(t)+")":" (type: "+n.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):String(n).includes("complex numbers")?(r=arguments.length>2?" (type: "+Ws(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):n}var Pre=ye("max",["typed","config","numeric","larger"],n=>{var{typed:e,config:t,numeric:r,larger:i}=n;return e("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,c){return VI(l,c.valueOf(),s)},"...":function(l){if(yb(l))throw new TypeError("Scalar values expected in function max");return o(l)}});function s(a,l){try{return i(a,l)?a:l}catch(c){throw jc(c,"max",l)}}function o(a){var l;if(wp(a,function(c){try{isNaN(c)&&"number"==typeof c?l=NaN:(void 0===l||i(c,l))&&(l=c)}catch(u){throw jc(u,"max",c)}}),void 0===l)throw new Error("Cannot calculate max of an empty array");return"string"==typeof l&&(l=r(l,hm(l,t))),l}});function pm(n){if(2===n.length&&Wh(n[0])){var e=(n=n.slice())[1];(function a9e(n){return Ur(n)||kr(n)})(e)&&(n[1]=function o9e(n){return Ur(n)?n-1:kr(n)?n.minus(1):n}(e))}return n}var u9e=ye("max",["typed","config","numeric","larger"],n=>{var{typed:e,config:t,numeric:r,larger:i}=n,s=Pre({typed:e,config:t,numeric:r,larger:i});return e("max",{"...any":function(a){a=pm(a);try{return s.apply(null,a)}catch(l){throw Gc(l)}}})},{isTransformFunction:!0}),Lre=/\$([\w.]+)/g,kre=ye("print",["typed"],n=>{var{typed:e}=n;return e("print",{"string, Object | Array":Hre,"string, Object | Array, number | Object":Hre})});function Hre(n,e,t){return n.replace(Lre,function(r,i){var s=i.split("."),o=e[s.shift()];for(void 0!==o&&o.isMatrix&&(o=o.toArray());s.length&&void 0!==o;){var a=s.shift();o=a?o[a]:o+"."}return void 0!==o?uc(o)?o:ni(o,t):r})}var d9e=ye("print",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,s=kre({typed:e,matrix:t,zeros:r,add:i});return e("print",{"string, Object | Array":function(l,c){return s(o(l),c)},"string, Object | Array, number | Object":function(l,c,u){return s(o(l),c,u)}});function o(a){return a.replace(Lre,l=>"$"+l.slice(1).split(".").map(function(h){return!isNaN(h)&&h.length>0?parseInt(h)-1:h}).join("."))}},{isTransformFunction:!0});function A9e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero()||e.eq(-1)||n.eq(e))return n;if(e.isZero()||n.eq(-1))return e;if(!n.isFinite()||!e.isFinite()){if(!n.isFinite()&&!e.isFinite())return n.isNegative()===e.isNegative()?n:new t(0);if(!n.isFinite())return e.isNegative()?n:n.isNegative()?new t(0):e;if(!e.isFinite())return n.isNegative()?e:e.isNegative()?new t(0):n}return F8(n,e,function(r,i){return r&i})}function lS(n){if(n.isFinite()&&!n.isInteger())throw new Error("Integer expected in function bitNot");var e=n.constructor,t=e.precision;e.config({precision:1e9});var r=n.plus(new e(1));return r.s=-r.s||null,e.config({precision:t}),r}function p9e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);var r=new t(-1);return n.isZero()||e.eq(r)||n.eq(e)?e:e.isZero()||n.eq(r)?n:n.isFinite()&&e.isFinite()?F8(n,e,function(i,s){return i|s}):!n.isFinite()&&!n.isNegative()&&e.isNegative()||n.isNegative()&&!e.isNegative()&&!e.isFinite()?r:n.isNegative()&&e.isNegative()?n.isFinite()?n:e:n.isFinite()?e:n}function F8(n,e,t){var i,s,u,h,d,r=n.constructor,o=+(n.s<0),a=+(e.s<0);if(o){i=$I(lS(n));for(var l=0;l<i.length;++l)i[l]^=1}else i=$I(n);if(a){s=$I(lS(e));for(var c=0;c<s.length;++c)s[c]^=1}else s=$I(e);i.length<=s.length?(u=i,h=s,d=o):(u=s,h=i,d=a);var f=u.length,A=h.length,p=1^t(o,a),m=new r(1^p),g=new r(1),y=new r(2),v=r.precision;for(r.config({precision:1e9});f>0;)t(u[--f],h[--A])===p&&(m=m.plus(g)),g=g.times(y);for(;A>0;)t(d,h[--A])===p&&(m=m.plus(g)),g=g.times(y);return r.config({precision:v}),0===p&&(m.s=-m.s),m}function $I(n){for(var e=n.d,t=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",s=7-i.length;s--;)i="0"+i;t+=i}for(var o=t.length;"0"===t.charAt(o);)o--;var a=n.e,l=t.slice(0,o+1||1),c=l.length;if(a>0)if(++a>c)for(a-=c;a--;)l+="0";else a<c&&(l=l.slice(0,a)+"."+l.slice(a));for(var u=[0],h=0;h<l.length;){for(var d=u.length;d--;)u[d]*=10;u[0]+=parseInt(l.charAt(h++));for(var f=0;f<u.length;++f)u[f]>1&&(null==u[f+1]&&(u[f+1]=0),u[f+1]+=u[f]>>1,u[f]&=1)}return u.reverse()}function g9e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero())return e;if(e.isZero())return n;if(n.eq(e))return new t(0);var r=new t(-1);return n.eq(r)?lS(e):e.eq(r)?lS(n):n.isFinite()&&e.isFinite()?F8(n,e,function(i,s){return i^s}):n.isFinite()||e.isFinite()?new t(n.isNegative()===e.isNegative()?1/0:-1/0):r}function m9e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:n.isFinite()||e.isFinite()?e.lt(55)?n.times(Math.pow(2,e.toNumber())+""):n.times(new t(2).pow(e)):new t(NaN)}function v9e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:e.isFinite()?e.lt(55)?n.div(Math.pow(2,e.toNumber())+"").floor():n.div(new t(2).pow(e)).floor():n.isNegative()?new t(-1):n.isFinite()?new t(0):new t(NaN)}var _b="number, number";function Qre(n,e){if(!$n(n)||!$n(e))throw new Error("Integers expected in function bitAnd");return n&e}function zre(n){if(!$n(n))throw new Error("Integer expected in function bitNot");return~n}function Gre(n,e){if(!$n(n)||!$n(e))throw new Error("Integers expected in function bitOr");return n|e}function qre(n,e){if(!$n(n)||!$n(e))throw new Error("Integers expected in function bitXor");return n^e}function jre(n,e){if(!$n(n)||!$n(e))throw new Error("Integers expected in function leftShift");return n<<e}function Wre(n,e){if(!$n(n)||!$n(e))throw new Error("Integers expected in function rightArithShift");return n>>e}function $re(n,e){if(!$n(n)||!$n(e))throw new Error("Integers expected in function rightLogShift");return n>>>e}Qre.signature=_b,zre.signature="number",Gre.signature=_b,qre.signature=_b,jre.signature=_b,Wre.signature=_b,$re.signature=_b;var Xre=ye("bitAnd",["typed","matrix","equalScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,s=id({typed:e,equalScalar:r}),o=WI({typed:e,equalScalar:r}),a=Ll({typed:e,equalScalar:r});return e("bitAnd",{"number, number":Qre,"BigNumber, BigNumber":A9e,"bigint, bigint":(c,u)=>c&u},Ks({typed:e,matrix:t,concat:i})({SS:o,DS:s,Ss:a}))}),C9e=ye("bitAnd",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o}=n,a=Xre({typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o});function l(c,u,h){var d=c[0].compile().evaluate(h);if(!Wh(d)){if(isNaN(d))return NaN;if(0===d||!1===d)return 0}var f=c[1].compile().evaluate(h);return a(d,f)}return l.rawArgs=!0,l},{isTransformFunction:!0}),Zre=ye("diff",["typed","matrix","subtract","number"],n=>{var{typed:e,matrix:t,subtract:r,number:i}=n;return e("diff",{"Array | Matrix":function(u){return cr(u)?t(o(u.toArray())):o(u)},"Array | Matrix, number":function(u,h){if(!$n(h))throw new RangeError("Dimension must be a whole number");return cr(u)?t(s(u.toArray(),h)):s(u,h)},"Array, BigNumber":e.referTo("Array,number",c=>(u,h)=>c(u,i(h))),"Matrix, BigNumber":e.referTo("Matrix,number",c=>(u,h)=>c(u,i(h)))});function s(c,u){if(cr(c)&&(c=c.toArray()),!Array.isArray(c))throw RangeError("Array/Matrix does not have that many dimensions");if(u>0){var h=[];return c.forEach(d=>{h.push(s(d,u-1))}),h}if(0===u)return o(c);throw RangeError("Cannot have negative dimension")}function o(c){for(var u=[],h=c.length,d=1;d<h;d++)u.push(a(c[d-1],c[d]));return u}function a(c,u){cr(c)&&(c=c.toArray()),cr(u)&&(u=u.toArray());var h=Array.isArray(c),d=Array.isArray(u);if(h&&d)return function l(c,u){if(c.length!==u.length)throw RangeError("Not all sub-arrays have the same length");for(var h=[],d=c.length,f=0;f<d;f++)h.push(a(c[f],u[f]));return h}(c,u);if(!h&&!d)return r(u,c);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}),S9e=ye("diff",["typed","matrix","subtract","number","bignumber"],n=>{var{typed:e,matrix:t,subtract:r,number:i,bignumber:s}=n,o=Zre({typed:e,matrix:t,subtract:r,number:i,bignumber:s});return e("diff",{"...any":function(l){l=pm(l);try{return o.apply(null,l)}catch(c){throw Gc(c)}}})},{isTransformFunction:!0}),tie=ye("min",["typed","config","numeric","smaller"],n=>{var{typed:e,config:t,numeric:r,smaller:i}=n;return e("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,c){return VI(l,c.valueOf(),s)},"...":function(l){if(yb(l))throw new TypeError("Scalar values expected in function min");return o(l)}});function s(a,l){try{return i(a,l)?a:l}catch(c){throw jc(c,"min",l)}}function o(a){var l;if(wp(a,function(c){try{isNaN(c)&&"number"==typeof c?l=NaN:(void 0===l||i(c,l))&&(l=c)}catch(u){throw jc(u,"min",c)}}),void 0===l)throw new Error("Cannot calculate min of an empty array");return"string"==typeof l&&(l=r(l,hm(l,t))),l}}),B9e=ye("min",["typed","config","numeric","smaller"],n=>{var{typed:e,config:t,numeric:r,smaller:i}=n,s=tie({typed:e,config:t,numeric:r,smaller:i});return e("min",{"...any":function(a){a=pm(a);try{return s.apply(null,a)}catch(l){throw Gc(l)}}})},{isTransformFunction:!0}),rie=ye("subset",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:r,add:i}=n;return e("subset",{"Matrix, Index":function(a,l){return gb(l)?t():(wI(a,l),a.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(a,l){var c=o(t(a),l);return l.isScalar()?c:c.valueOf()}}),"Object, Index":F9e,"string, Index":I9e,"Matrix, Index, any, any":function(a,l,c,u){return gb(l)?a:(wI(a,l),a.clone().subset(l,function s(o,a){if("string"==typeof o)throw new Error("can't boradcast a string");if(a._isScalar)return o;var l=a.size();if(!l.every(c=>c>0))return o;try{return i(o,r(l))}catch{return o}}(c,l),u))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(a,l,c,u){var h=o(t(a),l,c,u);return h.isMatrix?h.valueOf():h}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(a,l,c){return o(t(a),l,c,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(a,l,c){return o(a,l,c,void 0)}}),"string, Index, string":iie,"string, Index, string, string":iie,"Object, Index, any":R9e})});function I9e(n,e){if(!vI(e))throw new TypeError("Index expected");if(gb(e))return"";if(wI(Array.from(n),e),1!==e.size().length)throw new ri(e.size().length,1);var t=n.length;$s(e.min()[0],t),$s(e.max()[0],t);var r=e.dimension(0),i="";return r.forEach(function(s){i+=n.charAt(s)}),i}function iie(n,e,t,r){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(gb(e))return n;if(wI(Array.from(n),e),1!==e.size().length)throw new ri(e.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0);if(i.size()[0]!==t.length)throw new ri(i.size()[0],t.length);var o=n.length;$s(e.min()[0]),$s(e.max()[0]);for(var a=[],l=0;l<o;l++)a[l]=n.charAt(l);if(i.forEach(function(h,d){a[h]=t.charAt(d[0])}),a.length>o)for(var c=o-1,u=a.length;c<u;c++)a[c]||(a[c]=r);return a.join("")}function F9e(n,e){if(!gb(e)){if(1!==e.size().length)throw new ri(e.size(),1);var t=e.dimension(0);if("string"!=typeof t)throw new TypeError("String expected as index to retrieve an object property");return zc(n,t)}}function R9e(n,e,t){if(gb(e))return n;if(1!==e.size().length)throw new ri(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=Ir(n);return ub(i,r,t),i}var Die,Cp,L9e=ye("subset",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,s=rie({typed:e,matrix:t,zeros:r,add:i});return e("subset",{"...any":function(a){try{return s.apply(null,a)}catch(l){throw Gc(l)}}})},{isTransformFunction:!0}),k0=ye("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(i,s,o,a){var l=i._values,c=i._index,u=i._ptr,h=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=h[0],A=h[1],m=o;"string"==typeof d&&(s=e.convert(s,p=d),m=e.find(o,[p,p]));for(var g=[],y=[],v=[],_=0;_<A;_++){for(var C=_+1,M=u[_+1],D=u[_];D<M;D++){var E=c[D];y[E]=l[D],v[E]=C}for(var T=0;T<f;T++)0===_&&(g[T]=[]),g[T][_]=v[T]===C?a?m(s,y[T]):m(y[T],s):s}return new t({data:g,size:[f,A],datatype:p})}}),R8=ye("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,h=i._datatype||void 0===i._data?i._datatype:i.getDataType(),d=s._values,f=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new ri(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof h&&h===m&&"mixed"!==h&&(_=e.find(t,[v=h,v]),C=e.convert(0,v),b=e.find(o,[v,v]));var k,j,O,G,M=a&&d?[]:void 0,D=[],E=[],T=a&&d?[]:void 0,B=a&&d?[]:void 0,R=[],U=[];for(j=0;j<y;j++){E[j]=D.length;var H=j+1;for(G=c[j+1],O=c[j];O<G;O++)D.push(k=l[O]),R[k]=H,T&&(T[k]=a[O]);for(G=A[j+1],O=A[j];O<G;O++)if(R[k=f[O]]===H){if(T){var ae=b(T[k],d[O]);_(ae,C)?R[k]=null:T[k]=ae}}else D.push(k),U[k]=H,B&&(B[k]=d[O]);if(T&&B)for(O=E[j];O<D.length;)R[k=D[O]]===H?(M[O]=T[k],O++):U[k]===H?(M[O]=B[k],O++):D.splice(O,1)}return E[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:E,size:[g,y],datatype:h===i._datatype&&m===s._datatype?v:void 0})}}),gm=ye("matAlgo01xDSid",["typed"],n=>{var{typed:e}=n;return function(r,i,s,o){var a=r._data,l=r._size,c=r._datatype||r.getDataType(),u=i._values,h=i._index,d=i._ptr,f=i._size,A=i._datatype||void 0===i._data?i._datatype:i.getDataType();if(l.length!==f.length)throw new ri(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v,_,p=l[0],m=l[1],g="string"==typeof c&&"mixed"!==c&&c===A?c:void 0,y=g?e.find(s,[g,g]):s,C=[];for(v=0;v<p;v++)C[v]=[];var b=[],M=[];for(_=0;_<m;_++){for(var D=_+1,T=d[_+1],B=d[_];B<T;B++)b[v=h[B]]=o?y(u[B],a[v][_]):y(a[v][_],u[B]),M[v]=D;for(v=0;v<p;v++)C[v][_]=M[v]===D?b[v]:a[v][_]}return r.createDenseMatrix({data:C,size:[p,m],datatype:c===r._datatype&&A===i._datatype?g:void 0})}}),oie=ye("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=gm({typed:e}),a=R8({typed:e,equalScalar:r}),l=k0({typed:e,DenseMatrix:i});return e("bitOr",{"number, number":Gre,"BigNumber, BigNumber":p9e,"bigint, bigint":(u,h)=>u|h},Ks({typed:e,matrix:t,concat:s})({SS:a,DS:o,Ss:l}))}),W9e=ye("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=oie({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s});function a(l,c,u){var h=l[0].compile().evaluate(u);if(!Wh(h)){if(isNaN(h))return NaN;if(-1===h)return-1;if(!0===h)return 1}var d=l[1].compile().evaluate(u);return o(h,d)}return a.rawArgs=!0,a},{isTransformFunction:!0}),KI="cumsum",aie=ye(KI,["typed","add","unaryPlus"],n=>{var{typed:e,add:t,unaryPlus:r}=n;return e(KI,{Array:i,Matrix:function(c){return c.create(i(c.valueOf(),c.datatype()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(c,u){return c.create(o(c.valueOf(),u),c.datatype())},"...":function(c){if(yb(c))throw new TypeError("All values expected to be scalar in function cumsum");return i(c)}});function i(l){try{return s(l)}catch(c){throw jc(c,KI)}}function s(l){if(0===l.length)return[];for(var c=[r(l[0])],u=1;u<l.length;++u)c.push(t(c[u-1],l[u]));return c}function o(l,c){var u=xr(l);if(c<0||c>=u.length)throw new td(c,u.length);try{return a(l,c)}catch(h){throw jc(h,KI)}}function a(l,c){var u,h,d;if(c<=0){if(Array.isArray(l[0][0])){for(d=nre(l),h=[],u=0;u<d.length;u++)h[u]=a(d[u],c-1);return h}return s(l)}for(h=[],u=0;u<l.length;u++)h[u]=a(l[u],c-1);return h}}),X9e=ye("cumsum",["typed","add","unaryPlus"],n=>{var{typed:e,add:t,unaryPlus:r}=n,i=aie({typed:e,add:t,unaryPlus:r});return e("cumsum",{"...any":function(o){if(2===o.length&&Wh(o[0])){var a=o[1];Ur(a)?o[1]=a-1:kr(a)&&(o[1]=a.minus(1))}try{return i.apply(null,o)}catch(l){throw Gc(l)}}})},{isTransformFunction:!0}),J9e=ye("index",["Index","getMatrixDataType"],n=>{var{Index:e,getMatrixDataType:t}=n;return function(){for(var i=[],s=0,o=arguments.length;s<o;s++){var a=arguments[s];if(a8(a))a.start--,a.end-=a.step>0?0:2;else if(a&&!0===a.isSet)a=a.map(function(c){return c-1});else if(Ds(a)||cr(a))"boolean"!==t(a)&&(a=a.map(function(c){return c-1}));else if(Ur(a))a--;else if(kr(a))a=a.toNumber()-1;else if("string"!=typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[s]=a}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0}),uie=ye("sum",["typed","config","add","numeric"],n=>{var{typed:e,config:t,add:r,numeric:i}=n;return e("sum",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function o(a,l){try{return VI(a,l,r)}catch(u){throw jc(u,"sum")}},"...":function(l){if(yb(l))throw new TypeError("Scalar values expected in function sum");return s(l)}});function s(a){var l;return wp(a,function(c){try{l=void 0===l?c:r(l,c)}catch(u){throw jc(u,"sum",c)}}),void 0===l&&(l=i(0,t.number)),"string"==typeof l&&(l=i(l,hm(l,t))),l}}),nqe=ye("sum",["typed","config","add","numeric"],n=>{var{typed:e,config:t,add:r,numeric:i}=n,s=uie({typed:e,config:t,add:r,numeric:i});return e("sum",{"...any":function(a){a=pm(a);try{return s.apply(null,a)}catch(l){throw Gc(l)}}})},{isTransformFunction:!0}),die=ye("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:s,smallerEq:o,larger:a,largerEq:l,add:c,isPositive:u}=n;return e("range",{string:d,"string, boolean":d,"number, number":function(m,g){return h(f(m,g,1,!1))},"number, number, number":function(m,g,y){return h(f(m,g,y,!1))},"number, number, boolean":function(m,g,y){return h(f(m,g,1,y))},"number, number, number, boolean":function(m,g,y,v){return h(f(m,g,y,v))},"BigNumber, BigNumber":function(m,g){return h(f(m,g,new(0,m.constructor)(1),!1))},"BigNumber, BigNumber, BigNumber":function(m,g,y){return h(f(m,g,y,!1))},"BigNumber, BigNumber, boolean":function(m,g,y){return h(f(m,g,new(0,m.constructor)(1),y))},"BigNumber, BigNumber, BigNumber, boolean":function(m,g,y,v){return h(f(m,g,y,v))},"Unit, Unit, Unit":function(m,g,y){return h(f(m,g,y,!1))},"Unit, Unit, Unit, boolean":function(m,g,y,v){return h(f(m,g,y,v))}});function h(p){return"Matrix"===t.matrix?r?r(p):are():p}function d(p,m){var g=function A(p){var g=p.split(":").map(function(v){return Number(v)});if(g.some(function(v){return isNaN(v)}))return null;switch(g.length){case 2:return{start:g[0],end:g[1],step:1};case 3:return{start:g[0],end:g[2],step:g[1]};default:return null}}(p);if(!g)throw new SyntaxError('String "'+p+'" is no valid range');return"BigNumber"===t.number?(void 0===i&&C8(),h(f(i(g.start),i(g.end),i(g.step)))):h(f(g.start,g.end,g.step,m))}function f(p,m,g,y){for(var v=[],_=u(g)?y?o:s:y?l:a,C=p;_(C,m);)v.push(C),C=c(C,g);return v}}),oqe=ye("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:s,smallerEq:o,larger:a,largerEq:l,add:c,isPositive:u}=n,h=die({typed:e,config:t,matrix:r,bignumber:i,smaller:s,smallerEq:o,larger:a,largerEq:l,add:c,isPositive:u});return e("range",{"...any":function(f){return"boolean"!=typeof f[f.length-1]&&f.push(!0),h.apply(null,f)}})},{isTransformFunction:!0}),pie=ye("row",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e("row",{"Matrix, number":s,"Array, number":function(a,l){return s(r(Ir(a)),l).valueOf()}});function s(o,a){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");$s(a,o.size()[0]);var l=i(0,o.size()[1]),c=new t(a,l),u=o.subset(c);return cr(u)?u:r([[u]])}}),uqe=ye("row",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n,s=pie({typed:e,Index:t,matrix:r,range:i});return e("row",{"...any":function(a){var l=a.length-1,c=a[l];Ur(c)&&(a[l]=c-1);try{return s.apply(null,a)}catch(u){throw Gc(u)}}})},{isTransformFunction:!0}),mie=ye("column",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e("column",{"Matrix, number":s,"Array, number":function(a,l){return s(r(Ir(a)),l).valueOf()}});function s(o,a){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");$s(a,o.size()[1]);var l=i(0,o.size()[0]),c=new t(l,a),u=o.subset(c);return cr(u)?u:r([[u]])}}),Aqe=ye("column",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n,s=mie({typed:e,Index:t,matrix:r,range:i});return e("column",{"...any":function(a){var l=a.length-1,c=a[l];Ur(c)&&(a[l]=c-1);try{return s.apply(null,a)}catch(u){throw Gc(u)}}})},{isTransformFunction:!0}),yie=ye("mean",["typed","add","divide"],n=>{var{typed:e,add:t,divide:r}=n;return e("mean",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function i(o,a){try{var l=VI(o,a,t),c=Array.isArray(o)?xr(o):o.size();return r(l,c[a])}catch(u){throw jc(u,"mean")}},"...":function(a){if(yb(a))throw new TypeError("Scalar values expected in function mean");return s(a)}});function s(o){var a,l=0;if(wp(o,function(c){try{a=void 0===a?c:t(a,c),l++}catch(u){throw jc(u,"mean",c)}}),0===l)throw new Error("Cannot calculate the mean of an empty array");return r(a,l)}}),vqe=ye("mean",["typed","add","divide"],n=>{var{typed:e,add:t,divide:r}=n,i=yie({typed:e,add:t,divide:r});return e("mean",{"...any":function(o){o=pm(o);try{return i.apply(null,o)}catch(a){throw Gc(a)}}})},{isTransformFunction:!0}),_ie="quantileSeq",bie=ye(_ie,["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:h,larger:d}=n,f=M8({typed:e,isInteger:c});return e(_ie,{"Array | Matrix, number | BigNumber":(y,v)=>p(y,v,!1),"Array | Matrix, number | BigNumber, number":(y,v,_)=>A(y,v,!1,_,p),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(y,v,_,C)=>A(y,v,_,C,p),"Array | Matrix, Array | Matrix":(y,v)=>m(y,v,!1),"Array | Matrix, Array | Matrix, number":(y,v,_)=>A(y,v,!1,_,m),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(y,v,_,C)=>A(y,v,_,C,m)});function A(y,v,_,C,b){return f(y,C,M=>b(M,v,_))}function p(y,v,_){var C,b=y.valueOf();if(u(v,0))throw new Error("N/prob must be non-negative");if(h(v,1))return Ur(v)?g(b,v,_):t(g(b,v,_));if(d(v,1)){if(!c(v))throw new Error("N must be a positive integer");if(d(v,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var M=r(v,1);C=[];for(var D=0;u(D,v);D++){var E=s(D+1,M);C.push(g(b,E,_))}return Ur(v)?C:t(C)}}function m(y,v,_){for(var C=y.valueOf(),b=v.valueOf(),M=[],D=0;D<b.length;++D)M.push(g(C,b[D],_));return M}function g(y,v,_){var C=Vi(y),b=C.length;if(0===b)throw new Error("Cannot calculate quantile of an empty sequence");var T,B,M=Ur(v)?v*(b-1):v.times(b-1),D=Ur(v)?Math.floor(M):M.floor().toNumber(),E=Ur(v)?M%1:M.minus(D);if(c(M))return _?C[M]:a(C,Ur(v)?M:M.valueOf());if(_)T=C[D],B=C[D+1];else{B=a(C,D+1),T=C[D];for(var R=0;R<D;++R)l(C[R],T)>0&&(T=C[R])}return r(o(T,i(1,E)),o(B,E))}}),wqe=ye("quantileSeq",["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:h,larger:d}=n,f=bie({typed:e,bignumber:t,add:r,subtract:i,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:h,larger:d});return e("quantileSeq",{"Array | Matrix, number | BigNumber":f,"Array | Matrix, number | BigNumber, number":(p,m,g)=>f(p,m,A(g)),"Array | Matrix, number | BigNumber, boolean":f,"Array | Matrix, number | BigNumber, boolean, number":(p,m,g,y)=>f(p,m,g,A(y)),"Array | Matrix, Array | Matrix":f,"Array | Matrix, Array | Matrix, number":(p,m,g)=>f(p,m,A(g)),"Array | Matrix, Array | Matrix, boolean":f,"Array | Matrix, Array | Matrix, boolean, number":(p,m,g,y)=>f(p,m,g,A(y))});function A(p){return pm([[],p])[1]}},{isTransformFunction:!0}),O8="unbiased",Cie=ye("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:s,apply:o,isNaN:a}=n;return e("variance",{"Array | Matrix":function(h){return l(h,O8)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(h,d){return c(h,d,O8)},"Array | Matrix, number | BigNumber, string":c,"...":function(h){return l(h,O8)}});function l(u,h){var d,f=0;if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(wp(u,function(m){try{d=void 0===d?m:t(d,m),f++}catch(g){throw jc(g,"variance",m)}}),0===f)throw new Error("Cannot calculate variance of an empty array");var A=s(d,f);if(d=void 0,wp(u,function(m){var g=r(m,A);d=void 0===d?i(g,g):t(d,i(g,g))}),a(d))return d;switch(h){case"uncorrected":return s(d,f);case"biased":return s(d,f+1);case"unbiased":var p=kr(d)?d.mul(0):0;return 1===f?p:s(d,f-1);default:throw new Error('Unknown normalization "'+h+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(u,h,d){try{if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(u,h,f=>l(f,d))}catch(f){throw jc(f,"variance")}}}),Eqe=ye("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:s,apply:o,isNaN:a}=n,l=Cie({typed:e,add:t,subtract:r,multiply:i,divide:s,apply:o,isNaN:a});return e("variance",{"...any":function(u){u=pm(u);try{return l.apply(null,u)}catch(h){throw Gc(h)}}})},{isTransformFunction:!0}),Sie=ye("std",["typed","map","sqrt","variance"],n=>{var{typed:e,map:t,sqrt:r,variance:i}=n;return e("std",{"Array | Matrix":s,"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":s,"Array | Matrix, number | BigNumber, string":s,"...":function(a){return s(a)}});function s(o,a){if(0===o.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return Wh(l)?t(l,r):r(l)}catch(c){throw c instanceof TypeError&&c.message.includes(" variance")?new TypeError(c.message.replace(" variance"," std")):c}}}),Tqe=ye("std",["typed","map","sqrt","variance"],n=>{var{typed:e,map:t,sqrt:r,variance:i}=n,s=Sie({typed:e,map:t,sqrt:r,variance:i});return e("std",{"...any":function(a){a=pm(a);try{return s.apply(null,a)}catch(l){throw Gc(l)}}})},{isTransformFunction:!0}),bb=9e15,mm=1e9,P8="0123456789abcdef",XI="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",YI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",L8={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-bb,maxE:bb,crypto:!1},Or=!0,ZI="[DecimalError] ",vm=ZI+"Invalid argument: ",Mie=ZI+"Precision limit exceeded",Tie=ZI+"crypto unavailable",Bie="[object Decimal]",hc=Math.floor,$a=Math.pow,Bqe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Nqe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Iqe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Nie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sd=1e7,Ar=7,Rqe=XI.length-1,U8=YI.length-1,$t={toStringTag:Bie};function Ul(n){var e,t,r,i=n.length-1,s="",o=n[0];if(i>0){for(s+=o,e=1;e<i;e++)(t=Ar-(r=n[e]+"").length)&&(s+=ym(t)),s+=r;(t=Ar-(r=(o=n[e])+"").length)&&(s+=ym(t))}else if(0===o)return"0";for(;o%10==0;)o/=10;return s+o}function Eu(n,e,t){if(n!==~~n||n<e||n>t)throw Error(vm+n)}function cS(n,e,t,r){var i,s,o,a;for(s=n[0];s>=10;s/=10)--e;return--e<0?(e+=Ar,i=0):(i=Math.ceil((e+1)/Ar),e%=Ar),s=$a(10,Ar-e),a=n[i]%s|0,null==r?e<3?(0==e?a=a/100|0:1==e&&(a=a/10|0),o=t<4&&99999==a||t>3&&49999==a||5e4==a||0==a):o=(t<4&&a+1==s||t>3&&a+1==s/2)&&(n[i+1]/s/100|0)==$a(10,e-2)-1||(a==s/2||0==a)&&!(n[i+1]/s/100|0):e<4?(0==e?a=a/1e3|0:1==e?a=a/100|0:2==e&&(a=a/10|0),o=(r||t<4)&&9999==a||!r&&t>3&&4999==a):o=((r||t<4)&&a+1==s||!r&&t>3&&a+1==s/2)&&(n[i+1]/s/1e3|0)==$a(10,e-3)-1,o}function JI(n,e,t){for(var r,s,i=[0],o=0,a=n.length;o<a;){for(s=i.length;s--;)i[s]*=e;for(i[0]+=P8.indexOf(n.charAt(o++)),r=0;r<i.length;r++)i[r]>t-1&&(void 0===i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/t|0,i[r]%=t)}return i.reverse()}$t.absoluteValue=$t.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),tr(n)},$t.ceil=function(){return tr(new this.constructor(this),this.e+1,2)},$t.clampedTo=$t.clamp=function(n,e){var r=this,i=r.constructor;if(n=new i(n),e=new i(e),!n.s||!e.s)return new i(NaN);if(n.gt(e))throw Error(vm+e);return r.cmp(n)<0?n:r.cmp(e)>0?e:new i(r)},$t.comparedTo=$t.cmp=function(n){var e,t,r,i,s=this,o=s.d,a=(n=new s.constructor(n)).d,l=s.s,c=n.s;if(!o||!a)return l&&c?l!==c?l:o===a?0:!o^l<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?l:a[0]?-c:0;if(l!==c)return l;if(s.e!==n.e)return s.e>n.e^l<0?1:-1;for(e=0,t=(r=o.length)<(i=a.length)?r:i;e<t;++e)if(o[e]!==a[e])return o[e]>a[e]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1},$t.cosine=$t.cos=function(){var n,e,t=this,r=t.constructor;return t.d?t.d[0]?(e=r.rounding,r.precision=(n=r.precision)+Math.max(t.e,t.sd())+Ar,r.rounding=1,t=function Oqe(n,e){var t,r,i;if(e.isZero())return e;(r=e.d.length)<32?i=(1/nF(4,t=Math.ceil(r/3))).toString():(t=16,i="2.3283064365386962890625e-10"),n.precision+=t,e=wb(n,1,e.times(i),new n(1));for(var s=t;s--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return n.precision-=t,e}(r,Lie(r,t)),r.precision=n,r.rounding=e,tr(2==Cp||3==Cp?t.neg():t,n,e,!0)):new r(1):new r(NaN)},$t.cubeRoot=$t.cbrt=function(){var n,e,t,r,i,s,o,a,l,c,u=this,h=u.constructor;if(!u.isFinite()||u.isZero())return new h(u);for(Or=!1,(s=u.s*$a(u.s*u,1/3))&&Math.abs(s)!=1/0?r=new h(s.toString()):(t=Ul(u.d),(s=((n=u.e)-t.length+1)%3)&&(t+=1==s||-2==s?"0":"00"),s=$a(t,1/3),n=hc((n+1)/3)-(n%3==(n<0?-1:2)),(r=new h(t=s==1/0?"5e"+n:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+n)).s=u.s),o=(n=h.precision)+3;;)if(c=(l=(a=r).times(a).times(a)).plus(u),r=ro(c.plus(u).times(a),c.plus(l),o+2,1),Ul(a.d).slice(0,o)===(t=Ul(r.d)).slice(0,o)){if("9999"!=(t=t.slice(o-3,o+1))&&(i||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(tr(r,n+1,1),e=!r.times(r).times(r).eq(u));break}if(!i&&(tr(a,n+1,0),a.times(a).times(a).eq(u))){r=a;break}o+=4,i=1}return Or=!0,tr(r,n,h.rounding,e)},$t.decimalPlaces=$t.dp=function(){var n,e=this.d,t=NaN;if(e){if(t=((n=e.length-1)-hc(this.e/Ar))*Ar,n=e[n])for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t},$t.dividedBy=$t.div=function(n){return ro(this,new this.constructor(n))},$t.dividedToIntegerBy=$t.divToInt=function(n){var t=this.constructor;return tr(ro(this,new t(n),0,1,1),t.precision,t.rounding)},$t.equals=$t.eq=function(n){return 0===this.cmp(n)},$t.floor=function(){return tr(new this.constructor(this),this.e+1,3)},$t.greaterThan=$t.gt=function(n){return this.cmp(n)>0},$t.greaterThanOrEqualTo=$t.gte=function(n){var e=this.cmp(n);return 1==e||0===e},$t.hyperbolicCosine=$t.cosh=function(){var n,e,t,r,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;r=o.rounding,o.precision=(t=o.precision)+Math.max(s.e,s.sd())+4,o.rounding=1,(i=s.d.length)<32?e=(1/nF(4,n=Math.ceil(i/3))).toString():(n=16,e="2.3283064365386962890625e-10"),s=wb(o,1,s.times(e),new o(1),!0);for(var l,c=n,u=new o(8);c--;)l=s.times(s),s=a.minus(l.times(u.minus(l.times(u))));return tr(s,o.precision=t,o.rounding=r,!0)},$t.hyperbolicSine=$t.sinh=function(){var n,e,t,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.rounding,s.precision=(e=s.precision)+Math.max(i.e,i.sd())+4,s.rounding=1,(r=i.d.length)<3)i=wb(s,2,i,i,!0);else{n=1.4*Math.sqrt(r),i=wb(s,2,i=i.times(1/nF(5,n=n>16?16:0|n)),i,!0);for(var o,a=new s(5),l=new s(16),c=new s(20);n--;)o=i.times(i),i=i.times(a.plus(o.times(l.times(o).plus(c))))}return s.precision=e,s.rounding=t,tr(i,e,t,!0)},$t.hyperbolicTangent=$t.tanh=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+7,r.rounding=1,ro(t.sinh(),t.cosh(),r.precision=n,r.rounding=e)):new r(t.s)},$t.inverseCosine=$t.acos=function(){var n,e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,s=t.rounding;return-1!==r?0===r?e.isNeg()?od(t,i,s):new t(0):new t(NaN):e.isZero()?od(t,i+4,s).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),n=od(t,i+4,s).times(.5),t.precision=i,t.rounding=s,n.minus(e))},$t.inverseHyperbolicCosine=$t.acosh=function(){var n,e,t=this,r=t.constructor;return t.lte(1)?new r(t.eq(1)?0:NaN):t.isFinite()?(e=r.rounding,r.precision=(n=r.precision)+Math.max(Math.abs(t.e),t.sd())+4,r.rounding=1,Or=!1,t=t.times(t).minus(1).sqrt().plus(t),Or=!0,r.precision=n,r.rounding=e,t.ln()):new r(t)},$t.inverseHyperbolicSine=$t.asinh=function(){var n,e,t=this,r=t.constructor;return!t.isFinite()||t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+2*Math.max(Math.abs(t.e),t.sd())+6,r.rounding=1,Or=!1,t=t.times(t).plus(1).sqrt().plus(t),Or=!0,r.precision=n,r.rounding=e,t.ln())},$t.inverseHyperbolicTangent=$t.atanh=function(){var n,e,t,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=s.precision,e=s.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?tr(new s(i),n,e,!0):(s.precision=t=r-i.e,i=ro(i.plus(1),new s(1).minus(i),t+n,1),s.precision=n+4,s.rounding=1,i=i.ln(),s.precision=n,s.rounding=e,i.times(.5))):new s(NaN)},$t.inverseSine=$t.asin=function(){var n,e,t,r,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),t=s.precision,r=s.rounding,-1!==e?0===e?((n=od(s,t+4,r).times(.5)).s=i.s,n):new s(NaN):(s.precision=t+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=t,s.rounding=r,i.times(2)))},$t.inverseTangent=$t.atan=function(){var n,e,t,r,i,s,o,a,l,c=this,u=c.constructor,h=u.precision,d=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&h+4<=U8)return(o=od(u,h+4,d).times(.25)).s=c.s,o}else{if(!c.s)return new u(NaN);if(h+4<=U8)return(o=od(u,h+4,d).times(.5)).s=c.s,o}for(u.precision=a=h+10,u.rounding=1,n=t=Math.min(28,a/Ar+2|0);n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Or=!1,e=Math.ceil(a/Ar),r=1,l=c.times(c),o=new u(c),i=c;-1!==n;)if(i=i.times(l),s=o.minus(i.div(r+=2)),i=i.times(l),void 0!==(o=s.plus(i.div(r+=2))).d[e])for(n=e;o.d[n]===s.d[n]&&n--;);return t&&(o=o.times(2<<t-1)),Or=!0,tr(o,u.precision=h,u.rounding=d,!0)},$t.isFinite=function(){return!!this.d},$t.isInteger=$t.isInt=function(){return!!this.d&&hc(this.e/Ar)>this.d.length-2},$t.isNaN=function(){return!this.s},$t.isNegative=$t.isNeg=function(){return this.s<0},$t.isPositive=$t.isPos=function(){return this.s>0},$t.isZero=function(){return!!this.d&&0===this.d[0]},$t.lessThan=$t.lt=function(n){return this.cmp(n)<0},$t.lessThanOrEqualTo=$t.lte=function(n){return this.cmp(n)<1},$t.logarithm=$t.log=function(n){var e,t,r,i,s,o,a,l,c=this,u=c.constructor,h=u.precision,d=u.rounding;if(null==n)n=new u(10),e=!0;else{if(t=(n=new u(n)).d,n.s<0||!t||!t[0]||n.eq(1))return new u(NaN);e=n.eq(10)}if(t=c.d,c.s<0||!t||!t[0]||c.eq(1))return new u(t&&!t[0]?-1/0:1!=c.s?NaN:t?0:1/0);if(e)if(t.length>1)s=!0;else{for(i=t[0];i%10==0;)i/=10;s=1!==i}if(Or=!1,o=_m(c,a=h+5),r=e?tF(u,a+10):_m(n,a),cS((l=ro(o,r,a,1)).d,i=h,d))do{if(o=_m(c,a+=10),r=e?tF(u,a+10):_m(n,a),l=ro(o,r,a,1),!s){+Ul(l.d).slice(i+1,i+15)+1==1e14&&(l=tr(l,h+1,0));break}}while(cS(l.d,i+=10,d));return Or=!0,tr(l,h,d)},$t.minus=$t.sub=function(n){var e,t,r,i,s,o,a,l,c,u,h,d,f=this,A=f.constructor;if(n=new A(n),!f.d||!n.d)return f.s&&n.s?f.d?n.s=-n.s:n=new A(n.d||f.s!==n.s?f:NaN):n=new A(NaN),n;if(f.s!=n.s)return n.s=-n.s,f.plus(n);if(d=n.d,a=A.precision,l=A.rounding,!(c=f.d)[0]||!d[0]){if(d[0])n.s=-n.s;else{if(!c[0])return new A(3===l?-0:0);n=new A(f)}return Or?tr(n,a,l):n}if(t=hc(n.e/Ar),u=hc(f.e/Ar),c=c.slice(),s=u-t){for((h=s<0)?(e=c,s=-s,o=d.length):(e=d,t=u,o=c.length),s>(r=Math.max(Math.ceil(a/Ar),o)+2)&&(s=r,e.length=1),e.reverse(),r=s;r--;)e.push(0);e.reverse()}else{for((h=(r=c.length)<(o=d.length))&&(o=r),r=0;r<o;r++)if(c[r]!=d[r]){h=c[r]<d[r];break}s=0}for(h&&(e=c,c=d,d=e,n.s=-n.s),r=d.length-(o=c.length);r>0;--r)c[o++]=0;for(r=d.length;r>s;){if(c[--r]<d[r]){for(i=r;i&&0===c[--i];)c[i]=sd-1;--c[i],c[r]+=sd}c[r]-=d[r]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--t;return c[0]?(n.d=c,n.e=eF(c,t),Or?tr(n,a,l):n):new A(3===l?-0:0)},$t.modulo=$t.mod=function(n){var e,t=this,r=t.constructor;return n=new r(n),!t.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||t.d&&!t.d[0]?tr(new r(t),r.precision,r.rounding):(Or=!1,9==r.modulo?(e=ro(t,n.abs(),0,3,1)).s*=n.s:e=ro(t,n,0,r.modulo,1),e=e.times(n),Or=!0,t.minus(e))},$t.naturalExponential=$t.exp=function(){return k8(this)},$t.naturalLogarithm=$t.ln=function(){return _m(this)},$t.negated=$t.neg=function(){var n=new this.constructor(this);return n.s=-n.s,tr(n)},$t.plus=$t.add=function(n){var e,t,r,i,s,o,a,l,c,u,h=this,d=h.constructor;if(n=new d(n),!h.d||!n.d)return h.s&&n.s?h.d||(n=new d(n.d||h.s===n.s?h:NaN)):n=new d(NaN),n;if(h.s!=n.s)return n.s=-n.s,h.minus(n);if(u=n.d,a=d.precision,l=d.rounding,!(c=h.d)[0]||!u[0])return u[0]||(n=new d(h)),Or?tr(n,a,l):n;if(s=hc(h.e/Ar),r=hc(n.e/Ar),c=c.slice(),i=s-r){for(i<0?(t=c,i=-i,o=u.length):(t=u,r=s,o=c.length),i>(o=(s=Math.ceil(a/Ar))>o?s+1:o+1)&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for((o=c.length)-(i=u.length)<0&&(i=o,t=u,u=c,c=t),e=0;i;)e=(c[--i]=c[i]+u[i]+e)/sd|0,c[i]%=sd;for(e&&(c.unshift(e),++r),o=c.length;0==c[--o];)c.pop();return n.d=c,n.e=eF(c,r),Or?tr(n,a,l):n},$t.precision=$t.sd=function(n){var e,t=this;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(vm+n);return t.d?(e=Iie(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e},$t.round=function(){var n=this,e=n.constructor;return tr(new e(n),n.e+1,e.rounding)},$t.sine=$t.sin=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+Math.max(t.e,t.sd())+Ar,r.rounding=1,t=function Lqe(n,e){var t,r=e.d.length;if(r<3)return e.isZero()?e:wb(n,2,e,e);t=1.4*Math.sqrt(r),e=wb(n,2,e=e.times(1/nF(5,t=t>16?16:0|t)),e);for(var i,s=new n(5),o=new n(16),a=new n(20);t--;)i=e.times(e),e=e.times(s.plus(i.times(o.times(i).minus(a))));return e}(r,Lie(r,t)),r.precision=n,r.rounding=e,tr(Cp>2?t.neg():t,n,e,!0)):new r(NaN)},$t.squareRoot=$t.sqrt=function(){var n,e,t,r,i,s,o=this,a=o.d,l=o.e,c=o.s,u=o.constructor;if(1!==c||!a||!a[0])return new u(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);for(Or=!1,0==(c=Math.sqrt(+o))||c==1/0?(((e=Ul(a)).length+l)%2==0&&(e+="0"),c=Math.sqrt(e),l=hc((l+1)/2)-(l<0||l%2),r=new u(e=c==1/0?"5e"+l:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+l)):r=new u(c.toString()),t=(l=u.precision)+3;;)if(r=(s=r).plus(ro(o,s,t+2,1)).times(.5),Ul(s.d).slice(0,t)===(e=Ul(r.d)).slice(0,t)){if("9999"!=(e=e.slice(t-3,t+1))&&(i||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(tr(r,l+1,1),n=!r.times(r).eq(o));break}if(!i&&(tr(s,l+1,0),s.times(s).eq(o))){r=s;break}t+=4,i=1}return Or=!0,tr(r,l,u.rounding,n)},$t.tangent=$t.tan=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+10,r.rounding=1,(t=t.sin()).s=1,t=ro(t,new r(1).minus(t.times(t)).sqrt(),n+10,0),r.precision=n,r.rounding=e,tr(2==Cp||4==Cp?t.neg():t,n,e,!0)):new r(NaN)},$t.times=$t.mul=function(n){var e,t,r,i,s,o,a,l,c,u=this,h=u.constructor,d=u.d,f=(n=new h(n)).d;if(n.s*=u.s,!(d&&d[0]&&f&&f[0]))return new h(!n.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:d&&f?0*n.s:n.s/0);for(t=hc(u.e/Ar)+hc(n.e/Ar),(l=d.length)<(c=f.length)&&(s=d,d=f,f=s,o=l,l=c,c=o),s=[],r=o=l+c;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+f[r]*d[i-r-1]+e,s[i--]=a%sd|0,e=a/sd|0;s[i]=(s[i]+e)%sd|0}for(;!s[--o];)s.pop();return e?++t:s.shift(),n.d=s,n.e=eF(s,t),Or?tr(n,h.precision,h.rounding):n},$t.toBinary=function(n,e){return V8(this,2,n,e)},$t.toDecimalPlaces=$t.toDP=function(n,e){var t=this,r=t.constructor;return t=new r(t),void 0===n?t:(Eu(n,0,mm),void 0===e?e=r.rounding:Eu(e,0,8),tr(t,n+t.e+1,e))},$t.toExponential=function(n,e){var t,r=this,i=r.constructor;return void 0===n?t=sA(r,!0):(Eu(n,0,mm),void 0===e?e=i.rounding:Eu(e,0,8),t=sA(r=tr(new i(r),n+1,e),!0,n+1)),r.isNeg()&&!r.isZero()?"-"+t:t},$t.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return void 0===n?t=sA(i):(Eu(n,0,mm),void 0===e?e=s.rounding:Eu(e,0,8),t=sA(r=tr(new s(i),n+i.e+1,e),!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t},$t.toFraction=function(n){var e,t,r,i,s,o,a,l,c,u,h,d,f=this,A=f.d,p=f.constructor;if(!A)return new p(f);if(c=t=new p(1),r=l=new p(0),s=(e=new p(r)).e=Iie(A)-f.e-1,e.d[0]=$a(10,(o=s%Ar)<0?Ar+o:o),null==n)n=s>0?e:c;else{if(!(a=new p(n)).isInt()||a.lt(c))throw Error(vm+a);n=a.gt(e)?s>0?e:c:a}for(Or=!1,a=new p(Ul(A)),u=p.precision,p.precision=s=A.length*Ar*2;h=ro(a,e,0,1,1),1!=(i=t.plus(h.times(r))).cmp(n);)t=r,r=i,c=l.plus(h.times(i=c)),l=i,e=a.minus(h.times(i=e)),a=i;return i=ro(n.minus(t),r,0,1,1),l=l.plus(i.times(c)),t=t.plus(i.times(r)),l.s=c.s=f.s,d=ro(c,r,s,1).minus(f).abs().cmp(ro(l,t,s,1).minus(f).abs())<1?[c,r]:[l,t],p.precision=u,Or=!0,d},$t.toHexadecimal=$t.toHex=function(n,e){return V8(this,16,n,e)},$t.toNearest=function(n,e){var t=this,r=t.constructor;if(t=new r(t),null==n){if(!t.d)return t;n=new r(1),e=r.rounding}else{if(n=new r(n),void 0===e?e=r.rounding:Eu(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(Or=!1,t=ro(t,n,0,e,1).times(n),Or=!0,tr(t)):(n.s=t.s,t=n),t},$t.toNumber=function(){return+this},$t.toOctal=function(n,e){return V8(this,8,n,e)},$t.toPower=$t.pow=function(n){var e,t,r,i,s,o,a=this,l=a.constructor,c=+(n=new l(n));if(!(a.d&&n.d&&a.d[0]&&n.d[0]))return new l($a(+a,c));if((a=new l(a)).eq(1))return a;if(r=l.precision,s=l.rounding,n.eq(1))return tr(a,r,s);if((e=hc(n.e/Ar))>=n.d.length-1&&(t=c<0?-c:c)<=9007199254740991)return i=Fie(l,a,t,r),n.s<0?new l(1).div(i):tr(i,r,s);if((o=a.s)<0){if(e<n.d.length-1)return new l(NaN);if(1&n.d[e]||(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(e=0!=(t=$a(+a,c))&&isFinite(t)?new l(t+"").e:hc(c*(Math.log("0."+Ul(a.d))/Math.LN10+a.e+1)))>l.maxE+1||e<l.minE-1?new l(e>0?o/0:0):(Or=!1,l.rounding=a.s=1,t=Math.min(12,(e+"").length),(i=k8(n.times(_m(a,r+t)),r)).d&&cS((i=tr(i,r+5,1)).d,r,s)&&+Ul((i=tr(k8(n.times(_m(a,(e=r+10)+t)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=tr(i,r+1,0)),i.s=o,Or=!0,l.rounding=s,tr(i,r,s))},$t.toPrecision=function(n,e){var t,r=this,i=r.constructor;return void 0===n?t=sA(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Eu(n,1,mm),void 0===e?e=i.rounding:Eu(e,0,8),t=sA(r=tr(new i(r),n,e),n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+t:t},$t.toSignificantDigits=$t.toSD=function(n,e){var r=this.constructor;return void 0===n?(n=r.precision,e=r.rounding):(Eu(n,1,mm),void 0===e?e=r.rounding:Eu(e,0,8)),tr(new r(this),n,e)},$t.toString=function(){var n=this,e=n.constructor,t=sA(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t},$t.truncated=$t.trunc=function(){return tr(new this.constructor(this),this.e+1,1)},$t.valueOf=$t.toJSON=function(){var n=this,e=n.constructor,t=sA(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};var ro=function(){function n(r,i,s){var o,a=0,l=r.length;for(r=r.slice();l--;)r[l]=(o=r[l]*i+a)%s|0,a=o/s|0;return a&&r.unshift(a),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function t(r,i,s,o){for(var a=0;s--;)r[s]-=a,r[s]=(a=r[s]<i[s]?1:0)*o+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o,a,l){var c,u,h,d,f,A,p,m,g,y,v,_,C,b,M,D,E,T,B,R,U=r.constructor,k=r.s==i.s?1:-1,j=r.d,O=i.d;if(!(j&&j[0]&&O&&O[0]))return new U(r.s&&i.s&&(j?!O||j[0]!=O[0]:O)?j&&0==j[0]||!O?0*k:k/0:NaN);for(l?(f=1,u=r.e-i.e):(l=sd,u=hc(r.e/(f=Ar))-hc(i.e/f)),B=O.length,E=j.length,y=(g=new U(k)).d=[],h=0;O[h]==(j[h]||0);h++);if(O[h]>(j[h]||0)&&u--,null==s?(b=s=U.precision,o=U.rounding):b=a?s+(r.e-i.e)+1:s,b<0)y.push(1),A=!0;else{if(b=b/f+2|0,h=0,1==B){for(d=0,O=O[0],b++;(h<E||d)&&b--;h++)y[h]=(M=d*l+(j[h]||0))/O|0,d=M%O|0;A=d||h<E}else{for((d=l/(O[0]+1)|0)>1&&(O=n(O,d,l),j=n(j,d,l),B=O.length,E=j.length),D=B,_=(v=j.slice(0,B)).length;_<B;)v[_++]=0;(R=O.slice()).unshift(0),T=O[0],O[1]>=l/2&&++T;do{d=0,(c=e(O,v,B,_))<0?(C=v[0],B!=_&&(C=C*l+(v[1]||0)),(d=C/T|0)>1?(d>=l&&(d=l-1),1==(c=e(p=n(O,d,l),v,m=p.length,_=v.length))&&(d--,t(p,B<m?R:O,m,l))):(0==d&&(c=d=1),p=O.slice()),(m=p.length)<_&&p.unshift(0),t(v,p,_,l),-1==c&&(c=e(O,v,B,_=v.length))<1&&(d++,t(v,B<_?R:O,_,l)),_=v.length):0===c&&(d++,v=[0]),y[h++]=d,c&&v[0]?v[_++]=j[D]||0:(v=[j[D]],_=1)}while((D++<E||void 0!==v[0])&&b--);A=void 0!==v[0]}y[0]||y.shift()}if(1==f)g.e=u,Die=A;else{for(h=1,d=y[0];d>=10;d/=10)h++;g.e=h+u*f-1,tr(g,a?s+g.e+1:s,o,A)}return g}}();function tr(n,e,t,r){var i,s,o,a,l,c,u,h,d,f=n.constructor;e:if(null!=e){if(!(h=n.d))return n;for(i=1,a=h[0];a>=10;a/=10)i++;if((s=e-i)<0)s+=Ar,l=(u=h[d=0])/$a(10,i-(o=e)-1)%10|0;else if((d=Math.ceil((s+1)/Ar))>=(a=h.length)){if(!r)break e;for(;a++<=d;)h.push(0);u=l=0,i=1,o=(s%=Ar)-Ar+1}else{for(u=a=h[d],i=1;a>=10;a/=10)i++;l=(o=(s%=Ar)-Ar+i)<0?0:u/$a(10,i-o-1)%10|0}if(r=r||e<0||void 0!==h[d+1]||(o<0?u:u%$a(10,i-o-1)),c=t<4?(l||r)&&(0==t||t==(n.s<0?3:2)):l>5||5==l&&(4==t||r||6==t&&(s>0?o>0?u/$a(10,i-o):0:h[d-1])%10&1||t==(n.s<0?8:7)),e<1||!h[0])return h.length=0,c?(h[0]=$a(10,(Ar-(e-=n.e+1)%Ar)%Ar),n.e=-e||0):h[0]=n.e=0,n;if(0==s?(h.length=d,a=1,d--):(h.length=d+1,a=$a(10,Ar-s),h[d]=o>0?(u/$a(10,i-o)%$a(10,o)|0)*a:0),c)for(;;){if(0==d){for(s=1,o=h[0];o>=10;o/=10)s++;for(o=h[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(n.e++,h[0]==sd&&(h[0]=1));break}if(h[d]+=a,h[d]!=sd)break;h[d--]=0,a=1}for(s=h.length;0===h[--s];)h.pop()}return Or&&(n.e>f.maxE?(n.d=null,n.e=NaN):n.e<f.minE&&(n.e=0,n.d=[0])),n}function sA(n,e,t){if(!n.isFinite())return Pie(n);var r,i=n.e,s=Ul(n.d),o=s.length;return e?(t&&(r=t-o)>0?s=s.charAt(0)+"."+s.slice(1)+ym(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n.e<0?"e":"e+")+n.e):i<0?(s="0."+ym(-i-1)+s,t&&(r=t-o)>0&&(s+=ym(r))):i>=o?(s+=ym(i+1-o),t&&(r=t-i-1)>0&&(s=s+"."+ym(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-o)>0&&(i+1===o&&(s+="."),s+=ym(r))),s}function eF(n,e){var t=n[0];for(e*=Ar;t>=10;t/=10)e++;return e}function tF(n,e,t){if(e>Rqe)throw Or=!0,t&&(n.precision=t),Error(Mie);return tr(new n(XI),e,1,!0)}function od(n,e,t){if(e>U8)throw Error(Mie);return tr(new n(YI),e,t,!0)}function Iie(n){var e=n.length-1,t=e*Ar+1;if(e=n[e]){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function ym(n){for(var e="";n--;)e+="0";return e}function Fie(n,e,t,r){var i,s=new n(1),o=Math.ceil(r/Ar+4);for(Or=!1;;){if(t%2&&Uie((s=s.times(e)).d,o)&&(i=!0),0===(t=hc(t/2))){t=s.d.length-1,i&&0===s.d[t]&&++s.d[t];break}Uie((e=e.times(e)).d,o)}return Or=!0,s}function Rie(n){return 1&n.d[n.d.length-1]}function Oie(n,e,t){for(var r,i=new n(e[0]),s=0;++s<e.length;){if(!(r=new n(e[s])).s){i=r;break}i[t](r)&&(i=r)}return i}function k8(n,e){var t,r,i,s,o,a,l,c=0,u=0,h=0,d=n.constructor,f=d.rounding,A=d.precision;if(!n.d||!n.d[0]||n.e>17)return new d(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==e?(Or=!1,l=A):l=e,a=new d(.03125);n.e>-2;)n=n.times(a),h+=5;for(l+=r=Math.log($a(2,h))/Math.LN10*2+5|0,t=s=o=new d(1),d.precision=l;;){if(s=tr(s.times(n),l,1),t=t.times(++u),Ul((a=o.plus(ro(s,t,l,1))).d).slice(0,l)===Ul(o.d).slice(0,l)){for(i=h;i--;)o=tr(o.times(o),l,1);if(null!=e)return d.precision=A,o;if(!(c<3&&cS(o.d,l-r,f,c)))return tr(o,d.precision=A,f,Or=!0);d.precision=l+=10,t=s=a=new d(1),u=0,c++}o=a}}function _m(n,e){var t,r,i,s,o,a,l,c,u,h,d,f=1,p=n,m=p.d,g=p.constructor,y=g.rounding,v=g.precision;if(p.s<0||!m||!m[0]||!p.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=p.s?NaN:m?0:p);if(null==e?(Or=!1,u=v):u=e,g.precision=u+=10,r=(t=Ul(m)).charAt(0),!(Math.abs(s=p.e)<15e14))return c=tF(g,u+2,v).times(s+""),p=_m(new g(r+"."+t.slice(1)),u-10).plus(c),g.precision=v,null==e?tr(p,v,y,Or=!0):p;for(;r<7&&1!=r||1==r&&t.charAt(1)>3;)r=(t=Ul((p=p.times(n)).d)).charAt(0),f++;for(s=p.e,r>1?(p=new g("0."+t),s++):p=new g(r+"."+t.slice(1)),h=p,l=o=p=ro(p.minus(1),p.plus(1),u,1),d=tr(p.times(p),u,1),i=3;;){if(o=tr(o.times(d),u,1),Ul((c=l.plus(ro(o,new g(i),u,1))).d).slice(0,u)===Ul(l.d).slice(0,u)){if(l=l.times(2),0!==s&&(l=l.plus(tF(g,u+2,v).times(s+""))),l=ro(l,new g(f),u,1),null!=e)return g.precision=v,l;if(!cS(l.d,u-10,y,a))return tr(l,g.precision=v,y,Or=!0);g.precision=u+=10,c=o=p=ro(h.minus(1),h.plus(1),u,1),d=tr(p.times(p),u,1),i=a=1}l=c,i+=2}}function Pie(n){return String(n.s*n.s/0)}function H8(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,n.e=t=t-r-1,n.d=[],r=(t+1)%Ar,t<0&&(r+=Ar),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=Ar;r<i;)n.d.push(+e.slice(r,r+=Ar));e=e.slice(r),r=Ar-e.length}else r-=i;for(;r--;)e+="0";n.d.push(+e),Or&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function wb(n,e,t,r,i){var s,o,a,l,u=n.precision,h=Math.ceil(u/Ar);for(Or=!1,l=t.times(t),a=new n(r);;){if(o=ro(a.times(l),new n(e++*e++),u,1),a=i?r.plus(o):r.minus(o),r=ro(o.times(l),new n(e++*e++),u,1),void 0!==(o=a.plus(r)).d[h]){for(s=h;o.d[s]===a.d[s]&&s--;);if(-1==s)break}s=a,a=r,r=o,o=s}return Or=!0,o.d.length=h+1,o}function nF(n,e){for(var t=n;--e;)t*=n;return t}function Lie(n,e){var t,r=e.s<0,i=od(n,n.precision,1),s=i.times(.5);if((e=e.abs()).lte(s))return Cp=r?4:1,e;if((t=e.divToInt(i)).isZero())Cp=r?3:2;else{if((e=e.minus(t.times(i))).lte(s))return Cp=Rie(t)?r?2:3:r?4:1,e;Cp=Rie(t)?r?1:4:r?3:2}return e.minus(i).abs()}function V8(n,e,t,r){var i,s,o,a,l,c,u,h,d,f=n.constructor,A=void 0!==t;if(A?(Eu(t,1,mm),void 0===r?r=f.rounding:Eu(r,0,8)):(t=f.precision,r=f.rounding),n.isFinite()){for(A?(i=2,16==e?t=4*t-3:8==e&&(t=3*t-2)):i=e,(o=(u=sA(n)).indexOf("."))>=0&&(u=u.replace(".",""),(d=new f(1)).e=u.length-o,d.d=JI(sA(d),10,i),d.e=d.d.length),s=l=(h=JI(u,10,i)).length;0==h[--l];)h.pop();if(h[0]){if(o<0?s--:((n=new f(n)).d=h,n.e=s,h=(n=ro(n,d,t,r,0,i)).d,s=n.e,c=Die),o=h[t],a=i/2,c=c||void 0!==h[t+1],c=r<4?(void 0!==o||c)&&(0===r||r===(n.s<0?3:2)):o>a||o===a&&(4===r||c||6===r&&1&h[t-1]||r===(n.s<0?8:7)),h.length=t,c)for(;++h[--t]>i-1;)h[t]=0,t||(++s,h.unshift(1));for(l=h.length;!h[l-1];--l);for(o=0,u="";o<l;o++)u+=P8.charAt(h[o]);if(A){if(l>1)if(16==e||8==e){for(o=16==e?4:3,--l;l%o;l++)u+="0";for(l=(h=JI(u,i,e)).length;!h[l-1];--l);for(o=1,u="1.";o<l;o++)u+=P8.charAt(h[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)u="0"+u;u="0."+u}else if(++s>l)for(s-=l;s--;)u+="0";else s<l&&(u=u.slice(0,s)+"."+u.slice(s))}else u=A?"0p+0":"0";u=(16==e?"0x":2==e?"0b":8==e?"0o":"")+u}else u=Pie(n);return n.s<0?"-"+u:u}function Uie(n,e){if(n.length>e)return n.length=e,!0}function Uqe(n){return new this(n).abs()}function kqe(n){return new this(n).acos()}function Hqe(n){return new this(n).acosh()}function Vqe(n,e){return new this(n).plus(e)}function Qqe(n){return new this(n).asin()}function zqe(n){return new this(n).asinh()}function Gqe(n){return new this(n).atan()}function qqe(n){return new this(n).atanh()}function jqe(n,e){n=new this(n),e=new this(e);var t,r=this.precision,i=this.rounding,s=r+4;return n.s&&e.s?n.d||e.d?!e.d||n.isZero()?(t=e.s<0?od(this,r,i):new this(0)).s=n.s:!n.d||e.isZero()?(t=od(this,s,1).times(.5)).s=n.s:e.s<0?(this.precision=s,this.rounding=1,t=this.atan(ro(n,e,s,1)),e=od(this,s,1),this.precision=r,this.rounding=i,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(ro(n,e,s,1)):(t=od(this,s,1).times(e.s>0?.25:.75)).s=n.s:t=new this(NaN),t}function Wqe(n){return new this(n).cbrt()}function $qe(n){return tr(n=new this(n),n.e+1,2)}function Kqe(n,e,t){return new this(n).clamp(e,t)}function Xqe(n){if(!n||"object"!=typeof n)throw Error(ZI+"Object expected");var e,t,r,i=!0===n.defaults,s=["precision",1,mm,"rounding",0,8,"toExpNeg",-bb,0,"toExpPos",0,bb,"maxE",0,bb,"minE",-bb,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(t=s[e],i&&(this[t]=L8[t]),void 0!==(r=n[t])){if(!(hc(r)===r&&r>=s[e+1]&&r<=s[e+2]))throw Error(vm+t+": "+r);this[t]=r}if(t="crypto",i&&(this[t]=L8[t]),void 0!==(r=n[t])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(vm+t+": "+r);if(r){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(Tie);this[t]=!0}else this[t]=!1}return this}function Yqe(n){return new this(n).cos()}function Zqe(n){return new this(n).cosh()}function Jqe(n,e){return new this(n).div(e)}function eje(n){return new this(n).exp()}function tje(n){return tr(n=new this(n),n.e+1,3)}function nje(){var n,e,t=new this(0);for(Or=!1,n=0;n<arguments.length;)if((e=new this(arguments[n++])).d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Or=!0,new this(1/0);t=e}return Or=!0,t.sqrt()}function Hie(n){return n instanceof uS||n&&n.toStringTag===Bie||!1}function rje(n){return new this(n).ln()}function ije(n,e){return new this(n).log(e)}function sje(n){return new this(n).log(2)}function oje(n){return new this(n).log(10)}function aje(){return Oie(this,arguments,"lt")}function lje(){return Oie(this,arguments,"gt")}function cje(n,e){return new this(n).mod(e)}function uje(n,e){return new this(n).mul(e)}function hje(n,e){return new this(n).pow(e)}function fje(n){var e,t,r,i,s=0,o=new this(1),a=[];if(void 0===n?n=this.precision:Eu(n,1,mm),r=Math.ceil(n/Ar),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));s<r;)(i=e[s])>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Tie);for(e=crypto.randomBytes(r*=4);s<r;)(i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((127&e[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,s):(a.push(i%1e7),s+=4);s=r/4}else for(;s<r;)a[s++]=1e7*Math.random()|0;for(r=a[--s],n%=Ar,r&&n&&(i=$a(10,Ar-n),a[s]=(r/i|0)*i);0===a[s];s--)a.pop();if(s<0)t=0,a=[0];else{for(t=-1;0===a[0];t-=Ar)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<Ar&&(t-=Ar-r)}return o.e=t,o.d=a,o}function dje(n){return tr(n=new this(n),n.e+1,this.rounding)}function Aje(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function pje(n){return new this(n).sin()}function gje(n){return new this(n).sinh()}function mje(n){return new this(n).sqrt()}function vje(n,e){return new this(n).sub(e)}function yje(){var n=0,e=arguments,t=new this(e[n]);for(Or=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return Or=!0,tr(t,this.precision,this.rounding)}function _je(n){return new this(n).tan()}function bje(n){return new this(n).tanh()}function wje(n){return tr(n=new this(n),n.e+1,1)}$t[Symbol.for("nodejs.util.inspect.custom")]=$t.toString,$t[Symbol.toStringTag]="Decimal";var uS=$t.constructor=function kie(n){var e,t,r;function i(s){var o,a,l,c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,Hie(s))return c.s=s.s,void(Or?!s.d||s.e>i.maxE?(c.e=NaN,c.d=null):s.e<i.minE?(c.e=0,c.d=[0]):(c.e=s.e,c.d=s.d.slice()):(c.e=s.e,c.d=s.d?s.d.slice():s.d));if("number"==(l=typeof s)){if(0===s)return c.s=1/s<0?-1:1,c.e=0,void(c.d=[0]);if(s<0?(s=-s,c.s=-1):c.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;return void(Or?o>i.maxE?(c.e=NaN,c.d=null):o<i.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[s]):(c.e=o,c.d=[s]))}return 0*s!=0?(s||(c.s=NaN),c.e=NaN,void(c.d=null)):H8(c,s.toString())}if("string"!==l)throw Error(vm+s);return 45===(a=s.charCodeAt(0))?(s=s.slice(1),c.s=-1):(43===a&&(s=s.slice(1)),c.s=1),Nie.test(s)?H8(c,s):function Pqe(n,e){var t,r,i,s,o,a,l,c,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Nie.test(e))return H8(n,e)}else if("Infinity"===e||"NaN"===e)return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(Nqe.test(e))t=16,e=e.toLowerCase();else if(Bqe.test(e))t=2;else{if(!Iqe.test(e))throw Error(vm+e);t=8}for((s=e.search(/p/i))>0?(l=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),s=e.indexOf("."),r=n.constructor,(o=s>=0)&&(s=(a=(e=e.replace(".","")).length)-s,i=Fie(r,new r(t),s,2*s)),s=u=(c=JI(e,t,sd)).length-1;0===c[s];--s)c.pop();return s<0?new r(0*n.s):(n.e=eF(c,u),n.d=c,Or=!1,o&&(n=ro(n,i,4*a)),l&&(n=n.times(Math.abs(l)<54?$a(2,l):uS.pow(2,l))),Or=!0,n)}(c,s)}if(i.prototype=$t,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Xqe,i.clone=kie,i.isDecimal=Hie,i.abs=Uqe,i.acos=kqe,i.acosh=Hqe,i.add=Vqe,i.asin=Qqe,i.asinh=zqe,i.atan=Gqe,i.atanh=qqe,i.atan2=jqe,i.cbrt=Wqe,i.ceil=$qe,i.clamp=Kqe,i.cos=Yqe,i.cosh=Zqe,i.div=Jqe,i.exp=eje,i.floor=tje,i.hypot=nje,i.ln=rje,i.log=ije,i.log10=oje,i.log2=sje,i.max=aje,i.min=lje,i.mod=cje,i.mul=uje,i.pow=hje,i.random=fje,i.round=dje,i.sign=Aje,i.sin=pje,i.sinh=gje,i.sqrt=mje,i.sub=vje,i.sum=yje,i.tan=_je,i.tanh=bje,i.trunc=wje,void 0===n&&(n={}),n&&!0!==n.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}(L8);XI=new uS(XI),YI=new uS(YI);const rF=uS;var Eje=ye("BigNumber",["?on","config"],n=>{var{on:e,config:t}=n,r=rF.clone({precision:t.precision,modulo:rF.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,s){i.precision!==s.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const fc=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:.5*(Math.exp(n)+Math.exp(-n))},Xh=Math.sinh||function(n){return Math.abs(n)<1e-9?n:.5*(Math.exp(n)-Math.exp(-n))},Q8=function(n,e){return(n=Math.abs(n))<(e=Math.abs(e))&&([n,e]=[e,n]),n<1e8?Math.sqrt(n*n+e*e):(e/=n,n*Math.sqrt(1+e*e))},Cb=function(){throw SyntaxError("Invalid Param")};function z8(n,e){const t=Math.abs(n),r=Math.abs(e);return 0===n?Math.log(r):0===e?Math.log(t):t<3e3&&r<3e3?.5*Math.log(n*n+e*e):(n*=.5,e*=.5,.5*Math.log(n*n+e*e)+Math.LN2)}const Dje={re:0,im:0},H0=function(n,e){const t=Dje;if(null==n)t.re=t.im=0;else if(void 0!==e)t.re=n,t.im=e;else switch(typeof n){case"object":if("im"in n&&"re"in n)t.re=n.re,t.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Nt.INFINITY;t.re=n.abs*Math.cos(n.arg),t.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Nt.INFINITY;t.re=n.r*Math.cos(n.phi),t.im=n.r*Math.sin(n.phi)}else 2===n.length?(t.re=n[0],t.im=n[1]):Cb();break;case"string":t.im=t.re=0;const r=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,s=0;null===r&&Cb();for(let o=0;o<r.length;o++){const a=r[o];" "===a||"\t"===a||"\n"===a||("+"===a?i++:"-"===a?s++:"i"===a||"I"===a?(i+s===0&&Cb()," "===r[o+1]||isNaN(r[o+1])?t.im+=parseFloat((s%2?"-":"")+"1"):(t.im+=parseFloat((s%2?"-":"")+r[o+1]),o++),i=s=0):((i+s===0||isNaN(a))&&Cb(),"i"===r[o+1]||"I"===r[o+1]?(t.im+=parseFloat((s%2?"-":"")+a),o++):t.re+=parseFloat((s%2?"-":"")+a),i=s=0))}i+s>0&&Cb();break;case"number":t.im=0,t.re=n;break;default:Cb()}return isNaN(t.re)||isNaN(t.im),t};function Nt(n,e){if(!(this instanceof Nt))return new Nt(n,e);const t=H0(n,e);this.re=t.re,this.im=t.im}Nt.prototype={re:0,im:0,sign:function(){const n=Q8(this.re,this.im);return new Nt(this.re/n,this.im/n)},add:function(n,e){const t=H0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Nt.NAN:Nt.INFINITY:new Nt(this.re+t.re,this.im+t.im)},sub:function(n,e){const t=H0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Nt.NAN:Nt.INFINITY:new Nt(this.re-t.re,this.im-t.im)},mul:function(n,e){const t=H0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r&&0===t.re&&0===t.im||i&&0===this.re&&0===this.im?Nt.NAN:r||i?Nt.INFINITY:0===t.im&&0===this.im?new Nt(this.re*t.re,0):new Nt(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(n,e){const t=H0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),s=0===this.re&&0===this.im,o=0===t.re&&0===t.im;if(s&&o||r&&i)return Nt.NAN;if(o||r)return Nt.INFINITY;if(s||i)return Nt.ZERO;if(0===t.im)return new Nt(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const a=t.re/t.im,l=t.re*a+t.im;return new Nt((this.re*a+this.im)/l,(this.im*a-this.re)/l)}{const a=t.im/t.re,l=t.im*a+t.re;return new Nt((this.re+this.im*a)/l,(this.im-this.re*a)/l)}},pow:function(n,e){const t=H0(n,e),r=0===this.re&&0===this.im;if(0===t.re&&0===t.im)return Nt.ONE;if(0===t.im){if(0===this.im&&this.re>0)return new Nt(Math.pow(this.re,t.re),0);if(0===this.re)switch((t.re%4+4)%4){case 0:return new Nt(Math.pow(this.im,t.re),0);case 1:return new Nt(0,Math.pow(this.im,t.re));case 2:return new Nt(-Math.pow(this.im,t.re),0);case 3:return new Nt(0,-Math.pow(this.im,t.re))}}if(r&&t.re>0)return Nt.ZERO;const s=Math.atan2(this.im,this.re),o=z8(this.re,this.im);let a=Math.exp(t.re*o-t.im*s),l=t.im*o+t.re*s;return new Nt(a*Math.cos(l),a*Math.sin(l))},sqrt:function(){const n=this.re,e=this.im;if(0===e)return n>=0?new Nt(Math.sqrt(n),0):new Nt(0,Math.sqrt(-n));const t=Q8(n,e);let r=Math.sqrt(.5*(t+Math.abs(n))),i=Math.abs(e)/(2*r);return n>=0?new Nt(r,e<0?-i:i):new Nt(i,e<0?-r:r)},exp:function(){const n=Math.exp(this.re);return 0===this.im?new Nt(n,0):new Nt(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,e=this.im;return new Nt(Math.expm1(n)*Math.cos(e)+function(n){const e=Math.PI/4;if(-e>n||n>e)return Math.cos(n)-1;const t=n*n;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(n)*Math.sin(e))},log:function(){const n=this.re,e=this.im;return 0===e&&n>0?new Nt(Math.log(n),0):new Nt(z8(n,e),Math.atan2(e,n))},abs:function(){return Q8(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,e=this.im;return new Nt(Math.sin(n)*fc(e),Math.cos(n)*Xh(e))},cos:function(){const n=this.re,e=this.im;return new Nt(Math.cos(n)*fc(e),-Math.sin(n)*Xh(e))},tan:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)+fc(e);return new Nt(Math.sin(n)/t,Xh(e)/t)},cot:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)-fc(e);return new Nt(-Math.sin(n)/t,Xh(e)/t)},sec:function(){const n=this.re,e=this.im,t=.5*fc(2*e)+.5*Math.cos(2*n);return new Nt(Math.cos(n)*fc(e)/t,Math.sin(n)*Xh(e)/t)},csc:function(){const n=this.re,e=this.im,t=.5*fc(2*e)-.5*Math.cos(2*n);return new Nt(Math.sin(n)*fc(e)/t,-Math.cos(n)*Xh(e)/t)},asin:function(){const n=this.re,e=this.im,t=new Nt(e*e-n*n+1,-2*n*e).sqrt(),r=new Nt(t.re-e,t.im+n).log();return new Nt(r.im,-r.re)},acos:function(){const n=this.re,e=this.im,t=new Nt(e*e-n*n+1,-2*n*e).sqrt(),r=new Nt(t.re-e,t.im+n).log();return new Nt(Math.PI/2-r.im,r.re)},atan:function(){const n=this.re,e=this.im;if(0===n){if(1===e)return new Nt(0,1/0);if(-1===e)return new Nt(0,-1/0)}const t=n*n+(1-e)*(1-e),r=new Nt((1-e*e-n*n)/t,-2*n/t).log();return new Nt(-.5*r.im,.5*r.re)},acot:function(){const n=this.re,e=this.im;if(0===e)return new Nt(Math.atan2(1,n),0);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).atan():new Nt(0!==n?n/0:0,0!==e?-e/0:0).atan()},asec:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Nt(0,1/0);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).acos():new Nt(0!==n?n/0:0,0!==e?-e/0:0).acos()},acsc:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Nt(Math.PI/2,1/0);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).asin():new Nt(0!==n?n/0:0,0!==e?-e/0:0).asin()},sinh:function(){const n=this.re,e=this.im;return new Nt(Xh(n)*Math.cos(e),fc(n)*Math.sin(e))},cosh:function(){const n=this.re,e=this.im;return new Nt(fc(n)*Math.cos(e),Xh(n)*Math.sin(e))},tanh:function(){const n=2*this.re,e=2*this.im,t=fc(n)+Math.cos(e);return new Nt(Xh(n)/t,Math.sin(e)/t)},coth:function(){const n=2*this.re,e=2*this.im,t=fc(n)-Math.cos(e);return new Nt(Xh(n)/t,-Math.sin(e)/t)},csch:function(){const n=this.re,e=this.im,t=Math.cos(2*e)-fc(2*n);return new Nt(-2*Xh(n)*Math.cos(e)/t,2*fc(n)*Math.sin(e)/t)},sech:function(){const n=this.re,e=this.im,t=Math.cos(2*e)+fc(2*n);return new Nt(2*fc(n)*Math.cos(e)/t,-2*Xh(n)*Math.sin(e)/t)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const e=this.asin();return this.re=-this.im,this.im=n,n=e.re,e.re=-e.im,e.im=n,e},acosh:function(){const n=this.acos();if(n.im<=0){const e=n.re;n.re=-n.im,n.im=e}else{const e=n.im;n.im=-n.re,n.re=e}return n},atanh:function(){const n=this.re,e=this.im,t=n>1&&0===e,r=1-n,i=1+n,s=r*r+e*e,o=0!==s?new Nt((i*r-e*e)/s,(e*r+i*e)/s):new Nt(-1!==n?n/0:0,0!==e?e/0:0),a=o.re;return o.re=z8(o.re,o.im)/2,o.im=Math.atan2(o.im,a)/2,t&&(o.im=-o.im),o},acoth:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Nt(0,Math.PI/2);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).atanh():new Nt(0!==n?n/0:0,0!==e?-e/0:0).atanh()},acsch:function(){const n=this.re,e=this.im;if(0===e)return new Nt(0!==n?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).asinh():new Nt(0!==n?n/0:0,0!==e?-e/0:0).asinh()},asech:function(){const n=this.re,e=this.im;if(this.isZero())return Nt.INFINITY;const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).acosh():new Nt(0!==n?n/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return Nt.INFINITY;if(this.isInfinite())return Nt.ZERO;const n=this.re,e=this.im,t=n*n+e*e;return new Nt(n/t,-e/t)},conjugate:function(){return new Nt(this.re,-this.im)},neg:function(){return new Nt(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Nt(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Nt(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Nt(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,e){const t=H0(n,e);return Math.abs(t.re-this.re)<=Nt.EPSILON&&Math.abs(t.im-this.im)<=Nt.EPSILON},clone:function(){return new Nt(this.re,this.im)},toString:function(){let n=this.re,e=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Nt.EPSILON&&(n=0),Math.abs(e)<Nt.EPSILON&&(e=0),0===e?t+n:(0!==n?(t+=n,t+=" ",e<0?(e=-e,t+="-"):t+="+",t+=" "):e<0&&(e=-e,t+="-"),1!==e&&(t+=e),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Nt.ZERO=new Nt(0,0),Nt.ONE=new Nt(1,0),Nt.I=new Nt(0,1),Nt.PI=new Nt(Math.PI,0),Nt.E=new Nt(Math.E,0),Nt.INFINITY=new Nt(1/0,1/0),Nt.NAN=new Nt(NaN,NaN),Nt.EPSILON=1e-15;var Bje=ye("Complex",[],()=>(Object.defineProperty(Nt,"name",{value:"Complex"}),Nt.prototype.constructor=Nt,Nt.prototype.type="Complex",Nt.prototype.isComplex=!0,Nt.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Nt.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Nt.prototype.format=function(n){var t=this.im,r=this.re,i=L0(this.re,n),s=L0(this.im,n),o=Ur(n)?n:n?n.precision:null;if(null!==o){var a=Math.pow(10,-o);Math.abs(r/t)<a&&(r=0),Math.abs(t/r)<a&&(t=0)}return 0===t?i:0===r?1===t?"i":-1===t?"-i":s+"i":t<0?-1===t?i+" - i":i+" - "+s.substring(1)+"i":1===t?i+" + i":i+" + "+s+"i"},Nt.fromPolar=function(n){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return Nt(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=arguments[0],r=arguments[1];if(Ur(t)){if(jh(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Ur(r))return new Nt({r:t,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Nt.prototype.valueOf=Nt.prototype.toString,Nt.fromJSON=function(n){return new Nt(n)},Nt.compare=function(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0},Nt),{isClass:!0});function Ije(n){var e=0,t=1,r=Object.create(null),i=Object.create(null),s=0,o=function(l){var c=i[l];if(c&&(delete r[c],delete i[l],--e,t===c)){if(!e)return s=0,void(t=1);for(;!Object.prototype.hasOwnProperty.call(r,++t););}};return n=Math.abs(n),{hit:function(l){var c=i[l],u=++s;if(r[u]=l,i[l]=u,!c)return++e<=n?void 0:(o(l=r[t]),l);if(delete r[c],t===c)for(;!Object.prototype.hasOwnProperty.call(r,++t););},delete:o,clear:function(){e=s=0,t=1,r=Object.create(null),i=Object.create(null)}}}function hS(n){var{hasher:e,limit:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=t??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function r(){"object"!=typeof r.cache&&(r.cache={values:new Map,lru:Ije(t||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=e(i);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var a=n.apply(n,i);return r.cache.values.set(o,a),r.cache.values.delete(r.cache.lru.hit(o)),a}}var Fje=hS(function(n){return new n(1).exp()},{hasher:iF}),Rje=hS(function(n){return new n(1).plus(new n(5).sqrt()).div(2)},{hasher:iF}),G8=hS(function(n){return n.acos(-1)},{hasher:iF}),Oje=hS(function(n){return G8(n).times(2)},{hasher:iF});function iF(n){return n[0].precision}var Pje=Math.PI,Lje=2*Math.PI,Uje=Math.E,Hje=ye("true",[],()=>!0),Vje=ye("false",[],()=>!1),Qje=ye("null",[],()=>null),zje=uh("Infinity",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1/0):1/0}),Gje=uh("NaN",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(NaN):NaN}),qje=uh("pi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?G8(t):Pje}),jje=uh("tau",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?Oje(t):Lje}),Wje=uh("e",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?Fje(t):Uje}),$je=uh("phi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?Rje(t):1.618033988749895}),Kje=uh("LN2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(2).ln():Math.LN2}),Xje=uh("LN10",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(10).ln():Math.LN10}),Yje=uh("LOG2E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1).div(new t(2).ln()):Math.LOG2E}),Zje=uh("LOG10E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1).div(new t(10).ln()):Math.LOG10E}),Jje=uh("SQRT1_2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t("0.5").sqrt():Math.SQRT1_2}),eWe=uh("SQRT2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(2).sqrt():Math.SQRT2}),tWe=uh("i",["Complex"],n=>{var{Complex:e}=n;return e.I}),nWe=ye("version",[],()=>"14.0.1");function uh(n,e,t){return ye(n,e,t,{recreateOnConfigChange:!0})}var rWe=Pr("speedOfLight","299792458","m s^-1"),iWe=Pr("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),sWe=Pr("planckConstant","6.62607015e-34","J s"),oWe=Pr("reducedPlanckConstant","1.0545718176461565e-34","J s"),aWe=Pr("magneticConstant","1.25663706212e-6","N A^-2"),lWe=Pr("electricConstant","8.8541878128e-12","F m^-1"),cWe=Pr("vacuumImpedance","376.730313667","ohm"),uWe=Pr("coulomb","8.987551792261171e9","N m^2 C^-2"),hWe=Pr("elementaryCharge","1.602176634e-19","C"),fWe=Pr("bohrMagneton","9.2740100783e-24","J T^-1"),dWe=Pr("conductanceQuantum","7.748091729863649e-5","S"),AWe=Pr("inverseConductanceQuantum","12906.403729652257","ohm"),pWe=Pr("magneticFluxQuantum","2.0678338484619295e-15","Wb"),gWe=Pr("nuclearMagneton","5.0507837461e-27","J T^-1"),mWe=Pr("klitzing","25812.807459304513","ohm"),vWe=Pr("bohrRadius","5.29177210903e-11","m"),yWe=Pr("classicalElectronRadius","2.8179403262e-15","m"),_We=Pr("electronMass","9.1093837015e-31","kg"),bWe=Pr("fermiCoupling","1.1663787e-5","GeV^-2"),wWe=sF("fineStructure",.0072973525693),CWe=Pr("hartreeEnergy","4.3597447222071e-18","J"),xWe=Pr("protonMass","1.67262192369e-27","kg"),EWe=Pr("deuteronMass","3.3435830926e-27","kg"),SWe=Pr("neutronMass","1.6749271613e-27","kg"),DWe=Pr("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),MWe=Pr("rydberg","10973731.568160","m^-1"),TWe=Pr("thomsonCrossSection","6.6524587321e-29","m^2"),BWe=sF("weakMixingAngle",.2229),NWe=sF("efimovFactor",22.7),IWe=Pr("atomicMass","1.66053906660e-27","kg"),FWe=Pr("avogadro","6.02214076e23","mol^-1"),RWe=Pr("boltzmann","1.380649e-23","J K^-1"),OWe=Pr("faraday","96485.33212331001","C mol^-1"),PWe=Pr("firstRadiation","3.7417718521927573e-16","W m^2"),LWe=Pr("loschmidt","2.686780111798444e25","m^-3"),UWe=Pr("gasConstant","8.31446261815324","J K^-1 mol^-1"),kWe=Pr("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),HWe=Pr("molarVolume","0.022413969545014137","m^3 mol^-1"),VWe=sF("sackurTetrode",-1.16487052358),QWe=Pr("secondRadiation","0.014387768775039337","m K"),zWe=Pr("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),GWe=Pr("wienDisplacement","2.897771955e-3","m K"),qWe=Pr("molarMass","0.99999999965e-3","kg mol^-1"),jWe=Pr("molarMassC12","11.9999999958e-3","kg mol^-1"),WWe=Pr("gravity","9.80665","m s^-2"),$We=Pr("planckLength","1.616255e-35","m"),KWe=Pr("planckMass","2.176435e-8","kg"),XWe=Pr("planckTime","5.391245e-44","s"),YWe=Pr("planckCharge","1.87554603778e-18","C"),ZWe=Pr("planckTemperature","1.416785e+32","K");function Pr(n,e,t){return ye(n,["config","Unit","BigNumber"],i=>{var{config:s,Unit:o,BigNumber:a}=i,c=new o("BigNumber"===s.number?new a(e):parseFloat(e),t);return c.fixPrefix=!0,c})}function sF(n,e){return ye(n,["config","BigNumber"],r=>{var{config:i,BigNumber:s}=r;return"BigNumber"===i.number?new s(e):e})}typeof BigInt>"u"&&(BigInt=function(n){if(isNaN(n))throw new Error("");return n});const nr=BigInt(0),ii=BigInt(1),fS=BigInt(2),q8=BigInt(5),Su=BigInt(10),Bn={s:ii,n:nr,d:ii};function xp(n,e){try{n=BigInt(n)}catch{throw bm()}return n*e}function ad(n){return"bigint"==typeof n?n:Math.floor(n)}function Eo(n,e){if(e===nr)throw j8();const t=Object.create(Yh.prototype);t.s=n<nr?-ii:ii;const r=V0(n=n<nr?-n:n,e);return t.n=n/r,t.d=e/r,t}function xb(n){const e={};let t=n,r=fS,i=q8-ii;for(;i<=t;){for(;t%r===nr;)t/=r,e[r]=(e[r]||nr)+ii;i+=ii+fS*r++}return t!==n?t>1&&(e[t]=(e[t]||nr)+ii):e[n]=(e[n]||nr)+ii,e}const pl=function(n,e){let t=nr,r=ii,i=ii;if(null!=n)if(void 0!==e){if("bigint"==typeof n)t=n;else{if(isNaN(n))throw bm();if(n%1!=0)throw Vie();t=BigInt(n)}if("bigint"==typeof e)r=e;else{if(isNaN(e))throw bm();if(e%1!=0)throw Vie();r=BigInt(e)}i=t*r}else if("object"==typeof n){if("d"in n&&"n"in n)t=BigInt(n.n),r=BigInt(n.d),"s"in n&&(t*=BigInt(n.s));else if(0 in n)t=BigInt(n[0]),1 in n&&(r=BigInt(n[1]));else{if("bigint"!=typeof n)throw bm();t=n}i=t*r}else if("number"==typeof n){if(isNaN(n))throw bm();if(n<0&&(i=-ii,n=-n),n%1==0)t=BigInt(n);else if(n>0){let s=1,o=0,a=1,l=1,c=1,u=1e7;for(n>=1&&(s=10**Math.floor(1+Math.log10(n)),n/=s);a<=u&&c<=u;){let h=(o+l)/(a+c);if(n===h){a+c<=u?(t=o+l,r=a+c):c>a?(t=l,r=c):(t=o,r=a);break}n>h?(o+=l,a+=c):(l+=o,c+=a),a>u?(t=l,r=c):(t=o,r=a)}t=BigInt(t)*BigInt(s),r=BigInt(r)}}else if("string"==typeof n){let s=0,o=nr,a=nr,l=nr,c=ii,u=ii,h=n.replace(/_/g,"").match(/\d+|./g);if(null===h)throw bm();if("-"===h[s]?(i=-ii,s++):"+"===h[s]&&s++,h.length===s+1?a=xp(h[s++],i):"."===h[s+1]||"."===h[s]?("."!==h[s]&&(o=xp(h[s++],i)),s++,(s+1===h.length||"("===h[s+1]&&")"===h[s+3]||"'"===h[s+1]&&"'"===h[s+3])&&(a=xp(h[s],i),c=Su**BigInt(h[s].length),s++),("("===h[s]&&")"===h[s+2]||"'"===h[s]&&"'"===h[s+2])&&(l=xp(h[s+1],i),u=Su**BigInt(h[s+1].length)-ii,s+=3)):"/"===h[s+1]||":"===h[s+1]?(a=xp(h[s],i),c=xp(h[s+2],ii),s+=3):"/"===h[s+3]&&" "===h[s+1]&&(o=xp(h[s],i),a=xp(h[s+2],i),c=xp(h[s+4],ii),s+=5),!(h.length<=s))throw bm();r=c*u,i=t=l+r*o+u*a}else{if("bigint"!=typeof n)throw bm();t=n,i=n,r=ii}if(r===nr)throw j8();Bn.s=i<nr?-ii:ii,Bn.n=t<nr?-t:t,Bn.d=r<nr?-r:r};function V0(n,e){if(!n)return e;if(!e)return n;for(;;){if(!(n%=e))return e;if(!(e%=n))return n}}function Yh(n,e){if(pl(n,e),!(this instanceof Yh))return Eo(Bn.s*Bn.n,Bn.d);n=V0(Bn.d,Bn.n),this.s=Bn.s,this.n=Bn.n/n,this.d=Bn.d/n}var j8=function(){return new Error("Division by Zero")},bm=function(){return new Error("Invalid argument")},Vie=function(){return new Error("Parameters must be integer")};Yh.prototype={s:ii,n:nr,d:ii,abs:function(){return Eo(this.n,this.d)},neg:function(){return Eo(-this.s*this.n,this.d)},add:function(n,e){return pl(n,e),Eo(this.s*this.n*Bn.d+Bn.s*this.d*Bn.n,this.d*Bn.d)},sub:function(n,e){return pl(n,e),Eo(this.s*this.n*Bn.d-Bn.s*this.d*Bn.n,this.d*Bn.d)},mul:function(n,e){return pl(n,e),Eo(this.s*Bn.s*this.n*Bn.n,this.d*Bn.d)},div:function(n,e){return pl(n,e),Eo(this.s*Bn.s*this.n*Bn.d,this.d*Bn.n)},clone:function(){return Eo(this.s*this.n,this.d)},mod:function(n,e){if(void 0===n)return Eo(this.s*this.n%this.d,ii);if(pl(n,e),nr===Bn.n*this.d)throw j8();return Eo(this.s*(Bn.d*this.n)%(Bn.n*this.d),Bn.d*this.d)},gcd:function(n,e){return pl(n,e),Eo(V0(Bn.n,this.n)*V0(Bn.d,this.d),Bn.d*this.d)},lcm:function(n,e){return pl(n,e),Bn.n===nr&&this.n===nr?Eo(nr,ii):Eo(Bn.n*this.n,V0(Bn.n,this.n)*V0(Bn.d,this.d))},inverse:function(){return Eo(this.s*this.d,this.n)},pow:function(n,e){if(pl(n,e),Bn.d===ii)return Bn.s<nr?Eo((this.s*this.d)**Bn.n,this.n**Bn.n):Eo((this.s*this.n)**Bn.n,this.d**Bn.n);if(this.s<nr)return null;let t=xb(this.n),r=xb(this.d),i=ii,s=ii;for(let o in t)if("1"!==o){if("0"===o){i=nr;break}if(t[o]*=Bn.n,t[o]%Bn.d!==nr)return null;t[o]/=Bn.d,i*=BigInt(o)**t[o]}for(let o in r)if("1"!==o){if(r[o]*=Bn.n,r[o]%Bn.d!==nr)return null;r[o]/=Bn.d,s*=BigInt(o)**r[o]}return Bn.s<nr?Eo(s,i):Eo(i,s)},log:function(n,e){if(pl(n,e),this.s<=nr||Bn.s<=nr)return null;const t={},r=xb(Bn.n),i=xb(Bn.d),s=xb(this.n),o=xb(this.d);for(const c in i)r[c]=(r[c]||nr)-i[c];for(const c in o)s[c]=(s[c]||nr)-o[c];for(const c in r)"1"!==c&&(t[c]=!0);for(const c in s)"1"!==c&&(t[c]=!0);let a=null,l=null;for(const c in t){const u=r[c]||nr,h=s[c]||nr;if(u===nr){if(h!==nr)return null;continue}let d=h,f=u;const A=V0(d,f);if(d/=A,f/=A,null===a&&null===l)a=d,l=f;else if(d*l!=a*f)return null}return null!==a&&null!==l?Eo(a,l):null},equals:function(n,e){return pl(n,e),this.s*this.n*Bn.d==Bn.s*Bn.n*this.d},lt:function(n,e){return pl(n,e),this.s*this.n*Bn.d<Bn.s*Bn.n*this.d},lte:function(n,e){return pl(n,e),this.s*this.n*Bn.d<=Bn.s*Bn.n*this.d},gt:function(n,e){return pl(n,e),this.s*this.n*Bn.d>Bn.s*Bn.n*this.d},gte:function(n,e){return pl(n,e),this.s*this.n*Bn.d>=Bn.s*Bn.n*this.d},compare:function(n,e){pl(n,e);let t=this.s*this.n*Bn.d-Bn.s*Bn.n*this.d;return(nr<t)-(t<nr)},ceil:function(n){return n=Su**BigInt(n||0),Eo(ad(this.s*n*this.n/this.d)+(n*this.n%this.d>nr&&this.s>=nr?ii:nr),n)},floor:function(n){return n=Su**BigInt(n||0),Eo(ad(this.s*n*this.n/this.d)-(n*this.n%this.d>nr&&this.s<nr?ii:nr),n)},round:function(n){return n=Su**BigInt(n||0),Eo(ad(this.s*n*this.n/this.d)+this.s*((this.s>=nr?ii:nr)+fS*(n*this.n%this.d)>this.d?ii:nr),n)},roundTo:function(n,e){pl(n,e);const t=this.n*Bn.d,r=this.d*Bn.n,i=t%r;let s=ad(t/r);return i+i>=r&&s++,Eo(this.s*s*Bn.n,Bn.d)},divisible:function(n,e){return pl(n,e),!(!(Bn.n*this.d)||this.n*Bn.d%(Bn.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(n){let e=this.n,t=this.d;n=n||15;let r=function t$e(n,e){for(;e%fS===nr;e/=fS);for(;e%q8===nr;e/=q8);if(e===ii)return nr;let t=Su%e,r=1;for(;t!==ii;r++)if(t=t*Su%e,r>2e3)return nr;return BigInt(r)}(0,t),i=function n$e(n,e,t){let r=ii,i=function e$e(n,e,t){let r=ii;for(;e>nr;n=n*n%t,e>>=ii)e&ii&&(r=r*n%t);return r}(Su,t,e);for(let s=0;s<300;s++){if(r===i)return BigInt(s);r=r*Su%e,i=i*Su%e}return 0}(0,t,r),s=this.s<nr?"-":"";if(s+=ad(e/t),e%=t,e*=Su,e&&(s+="."),r){for(let o=i;o--;)s+=ad(e/t),e%=t,e*=Su;s+="(";for(let o=r;o--;)s+=ad(e/t),e%=t,e*=Su;s+=")"}else for(let o=n;e&&o--;)s+=ad(e/t),e%=t,e*=Su;return s},toFraction:function(n){let e=this.n,t=this.d,r=this.s<nr?"-":"";if(t===ii)r+=e;else{let i=ad(e/t);n&&i>nr&&(r+=i,r+=" ",e%=t),r+=e,r+="/",r+=t}return r},toLatex:function(n){let e=this.n,t=this.d,r=this.s<nr?"-":"";if(t===ii)r+=e;else{let i=ad(e/t);n&&i>nr&&(r+=i,e%=t),r+="\\frac{",r+=e,r+="}{",r+=t,r+="}"}return r},toContinued:function(){let n=this.n,e=this.d,t=[];do{t.push(ad(n/e));let r=n%e;n=e,e=r}while(n!==ii);return t},simplify:function(n){const e=BigInt(1/(n||.001)|0),t=this.abs(),r=t.toContinued();for(let i=1;i<r.length;i++){let s=Eo(r[i-1],ii);for(let a=i-2;a>=0;a--)s=s.inverse().add(r[a]);let o=s.sub(t);if(o.n*e<o.d)return s.mul(this.s)}return this}};var s$e=ye("Fraction",[],()=>(Object.defineProperty(Yh,"name",{value:"Fraction"}),Yh.prototype.constructor=Yh,Yh.prototype.type="Fraction",Yh.prototype.isFraction=!0,Yh.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Yh.fromJSON=function(n){return new Yh(n)},Yh),{isClass:!0}),l$e=ye("Matrix",[],()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0}),h$e=ye("Range",[],()=>{function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=e,s=null!=t,o=null!=r;if(i)if(kr(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(s)if(kr(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter end must be a number");if(o)if(kr(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(e):0,this.end=s?parseFloat(t):0,this.step=o?parseFloat(r):1}return n.prototype.type="Range",n.prototype.isRange=!0,n.parse=function(e){if("string"!=typeof e)return null;var r=e.split(":").map(function(s){return parseFloat(s)});if(r.some(function(s){return isNaN(s)}))return null;switch(r.length){case 2:return new n(r[0],r[1]);case 3:return new n(r[0],r[2],r[1]);default:return null}},n.prototype.clone=function(){return new n(this.start,this.end,this.step)},n.prototype.size=function(){var e=0,r=this.step,s=this.end-this.start;return fm(r)===fm(s)?e=Math.ceil(s/r):0===s&&(e=0),isNaN(e)&&(e=0),[e]},n.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},n.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},n.prototype.forEach=function(e){var t=this.start,r=this.step,i=this.end,s=0;if(r>0)for(;t<i;)e(t,[s],this),t+=r,s++;else if(r<0)for(;t>i;)e(t,[s],this),t+=r,s++},n.prototype.map=function(e){var t=[];return this.forEach(function(r,i,s){t[i[0]]=e(r,i,s)}),t},n.prototype.toArray=function(){var e=[];return this.forEach(function(t,r){e[r[0]]=t}),e},n.prototype.valueOf=function(){return this.toArray()},n.prototype.format=function(e){var t=L0(this.start,e);return 1!==this.step&&(t+=":"+L0(this.step,e)),t+":"+L0(this.end,e)},n.prototype.toString=function(){return this.format()},n.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n},{isClass:!0}),A$e=ye("ResultSet",[],()=>{function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return n.prototype.type="ResultSet",n.prototype.isResultSet=!0,n.prototype.valueOf=function(){return this.entries},n.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},n.fromJSON=function(e){return new n(e.entries)},n},{isClass:!0}),m$e=ye("DenseMatrix",["Matrix"],n=>{var{Matrix:e}=n;function t(u,h){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!uc(h))throw new Error("Invalid datatype: "+h);if(cr(u))"DenseMatrix"===u.type?(this._data=Ir(u._data),this._size=Ir(u._size),this._datatype=h||u._datatype):(this._data=u.toArray(),this._size=u.size(),this._datatype=h||u._datatype);else if(u&&Ds(u.data)&&Ds(u.size))this._data=u.data,this._size=u.size,Hne(this._data,this._size),this._datatype=h||u.datatype;else if(Ds(u))this._data=c(u),this._size=xr(this._data),Hne(this._data,this._size),this._datatype=h;else{if(u)throw new TypeError("Unsupported type of data ("+Ws(u)+")");this._data=[],this._size=[0],this._datatype=h}}function i(u,h,d,f){var A=f===d-1,p=h.dimension(f);return A?p.map(function(m){return $s(m,u.length),u[m]}).valueOf():p.map(function(m){return $s(m,u.length),i(u[m],h,d,f+1)}).valueOf()}function o(u,h,d,f,A){var p=A===f-1;h.dimension(A).forEach(p?function(g,y){$s(g),u[g]=d[y[0]]}:function(g,y){$s(g),o(u[g],h,d[y[0]],f,A+1)})}function a(u,h,d){if(0===h.length){for(var f=u._data;Ds(f);)f=f[0];return f}return u._size=h.slice(0),u._data=mb(u._data,u._size,d),u}function l(u,h,d){for(var f=u._size.slice(0),A=!1;f.length<h.length;)f.push(0),A=!0;for(var p=0,m=h.length;p<m;p++)h[p]>f[p]&&(f[p]=h[p],A=!0);A&&a(u,f,d)}function c(u){return cr(u)?c(u.valueOf()):Ds(u)?u.map(c):u}return(t.prototype=new e).createDenseMatrix=function(u,h){return new t(u,h)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return EI(this._data,Ws)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(u,h){return new t(u,h)},t.prototype.subset=function(u,h,d){switch(arguments.length){case 1:return function r(u,h){if(!vI(h))throw new TypeError("Invalid index");if(h.isScalar())return u.get(h.min());var f=h.size();if(f.length!==u._size.length)throw new ri(f.length,u._size.length);for(var A=h.min(),p=h.max(),m=0,g=u._size.length;m<g;m++)$s(A[m],u._size[m]),$s(p[m],u._size[m]);return new t(i(u._data,h,f.length,0),u._datatype)}(this,u);case 2:case 3:return function s(u,h,d,f){if(!h||!0!==h.isIndex)throw new TypeError("Invalid index");var m,A=h.size(),p=h.isScalar();if(cr(d)?(m=d.size(),d=d.valueOf()):m=xr(d),p){if(0!==m.length)throw new TypeError("Scalar expected");u.set(h.min(),d,f)}else{if(!yp(m,A))try{m=xr(d=Am(0===m.length?[d]:d,A))}catch{}if(A.length<u._size.length)throw new ri(A.length,u._size.length,"<");if(m.length<A.length){for(var g=0,y=0;1===A[g]&&1===m[g];)g++;for(;1===A[g];)y++,g++;d=zne(d,A.length,y,m)}if(!yp(A,m))throw new ri(A,m,">");l(u,h.max().map(function(b){return b+1}),f),o(u._data,h,d,A.length,0)}return u}(this,u,h,d);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(u){return g8(this._data,u)},t.prototype.set=function(u,h,d){if(!Ds(u))throw new TypeError("Array expected");if(u.length<this._size.length)throw new ri(u.length,this._size.length,"<");var f,A,p;l(this,u.map(function(y){return y+1}),d);var g=this._data;for(f=0,A=u.length-1;f<A;f++)$s(p=u[f],g.length),g=g[p];return $s(p=u[u.length-1],g.length),g[p]=h,this},t.prototype.resize=function(u,h,d){if(!Wh(u))throw new TypeError("Array or Matrix expected");var f=u.valueOf().map(p=>Array.isArray(p)&&1===p.length?p[0]:p);return a(d?this.clone():this,f,h)},t.prototype.reshape=function(u,h){var d=h?this.clone():this;d._data=A8(d._data,u);var f=d._size.reduce((A,p)=>A*p);return d._size=p8(u,f),d},t.prototype.clone=function(){return new t({data:Ir(this._data),size:Ir(this._size),datatype:this._datatype})},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(u){var h=this,d=h.size();if(1!==d.length){var A=Array(d.length).fill(0),p=Array(d.length-1),m=p.length-1;p[0]=h._data[0];for(var g=0;g<m;g++)p[g+1]=p[g][0];for(A[m]=-1;;){var y=void 0;for(y=m;y>=0;y--){if(A[y]++,A[y]!==d[y]){p[y]=0===y?h._data[A[y]]:p[y-1][A[y]];for(var v=y;v<m;v++)p[v+1]=p[v][0];for(var _=0;_<d[p.length];_++)A[p.length]=_,u(p[m],_,A.slice(0));break}A[y]=0}if(-1===y)break}}else for(var f=0;f<d[0];f++)u(h._data,f,[f])},t.prototype.map=function(u){var h=this,d=new t(h),f=U0(u,h._data,"map");return d._forEach(function(A,p,m){A[p]=f(A[p],m,h)}),d},t.prototype.forEach=function(u){var h=this,d=U0(u,h._data,"map");h._forEach(function(f,A,p){d(f[A],p,h)})},t.prototype[Symbol.iterator]=function*(){var u=function*(d,f){if(Ds(d))for(var A=0;A<d.length;A++)yield*u(d[A],f.concat(A));else yield{value:d,index:f}};yield*u(this._data,[])},t.prototype.rows=function(){var u=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var f of d)u.push(new t([f],this._datatype));return u},t.prototype.columns=function(){var u=this,h=[],d=this.size();if(2!==d.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var f=this._data,A=function(g){var y=f.map(v=>[v[g]]);h.push(new t(y,u._datatype))},p=0;p<d[1];p++)A(p);return h},t.prototype.toArray=function(){return Ir(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(u){return ni(this._data,u)},t.prototype.toString=function(){return ni(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(u){if(u){if(kr(u)&&(u=u.toNumber()),!Ur(u)||!$n(u))throw new TypeError("The parameter k must be an integer number")}else u=0;for(var h=u>0?u:0,d=u<0?-u:0,p=Math.min(this._size[0]-d,this._size[1]-h),m=[],g=0;g<p;g++)m[g]=this._data[g+d][g+h];return new t({data:m,size:[p],datatype:this._datatype})},t.diagonal=function(u,h,d,f){if(!Ds(u))throw new TypeError("Array expected, size parameter");if(2!==u.length)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(M){if(kr(M)&&(M=M.toNumber()),!Ur(M)||!$n(M)||M<1)throw new Error("Size values must be positive integers");return M}),d){if(kr(d)&&(d=d.toNumber()),!Ur(d)||!$n(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var v,A=d>0?d:0,p=d<0?-d:0,m=u[0],g=u[1],y=Math.min(m-p,g-A);if(Ds(h)){if(h.length!==y)throw new Error("Invalid value array length");v=function(D){return h[D]}}else if(cr(h)){var _=h.size();if(1!==_.length||_[0]!==y)throw new Error("Invalid matrix length");v=function(D){return h.get([D])}}else v=function(){return h};f||(f=kr(v(0))?v(0).mul(0):0);var C=[];if(u.length>0){C=mb(C,u,f);for(var b=0;b<y;b++)C[b+p][b+A]=v(b)}return new t({data:C,size:[m,g]})},t.fromJSON=function(u){return new t(u)},t.prototype.swapRows=function(u,h){if(!(Ur(u)&&$n(u)&&Ur(h)&&$n(h)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return $s(u,this._size[0]),$s(h,this._size[0]),t._swapRows(u,h,this._data),this},t._swapRows=function(u,h,d){var f=d[u];d[u]=d[h],d[h]=f},t},{isClass:!0}),_$e=ye("replacer",[],()=>function(e,t){return"number"!=typeof t||isFinite(t)&&!isNaN(t)?"bigint"==typeof t?{mathjs:"bigint",value:String(t)}:t:{mathjs:"number",value:String(t)}}),Qie=function(){return Qie=GI.create,GI},w$e=ye("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:t,Complex:r,DenseMatrix:i,Fraction:s}=e,o=Qie();return o.clear(),o.addTypes([{name:"number",test:Ur},{name:"Complex",test:_p},{name:"BigNumber",test:kr},{name:"bigint",test:dHe},{name:"Fraction",test:tS},{name:"Unit",test:jh},{name:"identifier",test:a=>uc&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:uc},{name:"Chain",test:Ene},{name:"Array",test:Ds},{name:"Matrix",test:cr},{name:"DenseMatrix",test:mI},{name:"SparseMatrix",test:O0},{name:"Range",test:a8},{name:"Index",test:vI},{name:"boolean",test:AHe},{name:"ResultSet",test:pHe},{name:"Help",test:xne},{name:"function",test:gHe},{name:"Date",test:mHe},{name:"RegExp",test:vHe},{name:"null",test:yHe},{name:"undefined",test:_He},{name:"AccessorNode",test:P0},{name:"ArrayNode",test:$h},{name:"AssignmentNode",test:bHe},{name:"BlockNode",test:wHe},{name:"ConditionalNode",test:CHe},{name:"ConstantNode",test:Di},{name:"FunctionNode",test:um},{name:"FunctionAssignmentNode",test:rS},{name:"IndexNode",test:db},{name:"Node",test:Ms},{name:"ObjectNode",test:yI},{name:"OperatorNode",test:fa},{name:"ParenthesisNode",test:bp},{name:"RangeNode",test:xHe},{name:"RelationalNode",test:EHe},{name:"SymbolNode",test:dl},{name:"Map",test:fb},{name:"Object",test:nS}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(t||oF(l),function QHe(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new t(l)}},{from:"number",to:"Complex",convert:function(l){return r||aF(l),new r(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return r||aF(l),new r(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return t||oF(l),new t(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return s||lF(l),new s(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return r||aF(l),new r(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){s||lF(l);var c=new s(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){t||oF(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){s||lF(l);try{return new s(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){r||aF(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return t||oF(l),new t(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return s||lF(l),new s(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||function C$e(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(a,l,c)=>{var u=o.createError(a,l,c);if(["wrongType","mismatch"].includes(u.data.category)&&1===l.length&&Wh(l[0])&&c.some(d=>!d.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=u.data,h}throw u},o.onMismatch=(a,l,c)=>{var u=o.createError(a,l,c);if(["wrongType","mismatch"].includes(u.data.category)&&1===l.length&&Wh(l[0])&&c.some(d=>!d.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=u.data,h}throw u},o});function oF(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function aF(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function lF(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}var Du="number",Ep="number, number";function zie(n){return Math.abs(n)}function Gie(n,e){return n+e}function qie(n,e){return n-e}function jie(n,e){return n*e}function Wie(n){return-n}function $ie(n){return n}function dS(n){return UHe(n)}function Kie(n){return n*n*n}function Xie(n){return Math.exp(n)}function Yie(n){return kHe(n)}function Zie(n,e){if(!$n(n)||!$n(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===n||0===e)return 0;for(var t,r=n*e;0!==e;)e=n%(t=e),n=t;return Math.abs(r/n)}function Jie(n){return LHe(n)}function ese(n){return PHe(n)}function tse(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=e<0;if(t&&(e=-e),0===e)throw new Error("Root must be non-zero");if(n<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===n)return t?1/0:0;if(!isFinite(n))return t?0:n;var r=Math.pow(Math.abs(n),1/e);return r=n<0?-r:r,t?1/r:r}function W8(n){return fm(n)}function nse(n){return n*n}function rse(n,e){var t,r,i,s=0,o=1,a=1,l=0;if(!$n(n)||!$n(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)i=n-(r=Math.floor(n/e))*e,t=s,s=o-r*s,o=t,t=a,a=l-r*a,l=t,n=e,e=i;return n<0?[-n,-o,-l]:[n,n?o:0,l]}function ise(n,e){return n*n<1&&e===1/0||n*n>1&&e===-1/0?0:Math.pow(n,e)}function AS(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!$n(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Tne(n,e))}zie.signature=Du,Gie.signature=Ep,qie.signature=Ep,jie.signature=Ep,Wie.signature=Du,$ie.signature=Du,dS.signature=Du,Kie.signature=Du,Xie.signature=Du,Yie.signature=Du,Zie.signature=Ep,Jie.signature=Du,ese.signature=Du,W8.signature=Du,nse.signature=Du,rse.signature=Ep,ise.signature=Ep;var I$e=ye("abs",["typed"],n=>{var{typed:e}=n;return e("abs",{number:zie,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t,!0))})}),R$e=ye("acos",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("acos",{number:function(s){return s>=-1&&s<=1||t.predictable?Math.acos(s):new r(s,0).acos()},Complex:function(s){return s.acos()},BigNumber:function(s){return s.acos()}})}),So="number";function ase(n){return zHe(n)}function lse(n){return Math.atan(1/n)}function cse(n){return isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0}function use(n){return Math.asin(1/n)}function hse(n){var e=1/n;return Math.log(e+Math.sqrt(e*e+1))}function fse(n){return Math.acos(1/n)}function dse(n){var e=1/n,t=Math.sqrt(e*e-1);return Math.log(t+e)}function Ase(n){return GHe(n)}function pse(n){return qHe(n)}function gse(n){return 1/Math.tan(n)}function mse(n){var e=Math.exp(2*n);return(e+1)/(e-1)}function vse(n){return 1/Math.sin(n)}function yse(n){return 0===n?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(n)-Math.exp(-n)))*fm(n)}function _se(n){return 1/Math.cos(n)}function bse(n){return 2/(Math.exp(n)+Math.exp(-n))}function wse(n){return jHe(n)}ase.signature=So,lse.signature=So,cse.signature=So,use.signature=So,hse.signature=So,fse.signature=So,dse.signature=So,Ase.signature=So,pse.signature=So,gse.signature=So,mse.signature=So,vse.signature=So,yse.signature=So,_se.signature=So,bse.signature=So,wse.signature=So;var j$e=ye("acot",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("acot",{number:lse,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})}),$$e=ye("acsc",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("acsc",{number:function(o){return o<=-1||o>=1||t.predictable?use(o):new r(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})}),X$e=ye("addScalar",["typed"],n=>{var{typed:e}=n;return e("addScalar",{"number, number":Gie,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"bigint, bigint":function(r,i){return r+i},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==i.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var s=r.clone();return s.value=e.find(t,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})}),Z$e=ye("arg",["typed"],n=>{var{typed:e}=n;return e("arg",{number:function(r){return Math.atan2(0,r)},BigNumber:function(r){return r.constructor.atan2(0,r)},Complex:function(r){return r.arg()},"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),eKe=ye("asech",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("asech",{number:function(o){if(o<=1&&o>=-1||t.predictable){var a=1/o;if(a>0||t.predictable)return dse(o);var l=Math.sqrt(a*a-1);return new r(Math.log(l-a),Math.PI)}return new r(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})}),rKe=ye("asinh",["typed"],n=>{var{typed:e}=n;return e("asinh",{number:Ase,Complex:function(r){return r.asinh()},BigNumber:function(r){return r.asinh()}})}),oKe=ye("atan",["typed"],n=>{var{typed:e}=n;return e("atan",{number:function(r){return Math.atan(r)},Complex:function(r){return r.atan()},BigNumber:function(r){return r.atan()}})}),lKe=ye("atanh",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("atanh",{number:function(s){return s<=1&&s>=-1||t.predictable?pse(s):new r(s,0).atanh()},Complex:function(s){return s.atanh()},BigNumber:function(s){return s.atanh()}})}),hKe=ye("bigint",["typed"],n=>{var{typed:e}=n,t=e("bigint",{"":function(){return 0n},bigint:function(i){return i},number:function(i){return BigInt(i.toFixed())},BigNumber:function(i){return BigInt(i.round().toString())},Fraction:function(i){return BigInt(i.valueOf().toFixed())},"string | boolean":function(i){return BigInt(i)},null:function(i){return 0n},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))});return t.fromJSON=function(r){return BigInt(r.value)},t}),dKe=ye("bitNot",["typed"],n=>{var{typed:e}=n;return e("bitNot",{number:zre,BigNumber:lS,bigint:t=>~t,"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),pKe=ye("boolean",["typed"],n=>{var{typed:e}=n;return e("boolean",{"":function(){return!1},boolean:function(r){return r},number:function(r){return!!r},null:function(r){return!1},BigNumber:function(r){return!r.isZero()},string:function(r){var i=r.toLowerCase();if("true"===i)return!0;if("false"===i)return!1;var s=Number(r);if(""!==r&&!isNaN(s))return!!s;throw new Error('Cannot convert "'+r+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),mKe=ye("clone",["typed"],n=>{var{typed:e}=n;return e("clone",{any:Ir})});function Sp(n,e){if(e<n)return 1;if(e===n)return e;var t=e+n>>1;return Sp(n,t)*Sp(t+1,e)}function Ise(n,e){if(!$n(n)||n<0)throw new TypeError("Positive integer value expected in function combinations");if(!$n(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>n)throw new TypeError("k must be less than or equal to n");for(var t=n-e,r=1,s=2,o=e<t?e:t,a=e<t?t+1:e+1;a<=n;++a)for(r*=a;s<=o&&r%s==0;)r/=s,++s;return s<=o&&(r/=Sp(s,o)),r}Ise.signature="number, number";var Fse="combinations",yKe=ye(Fse,["typed"],n=>{var{typed:e}=n;return e(Fse,{"number, number":Ise,"BigNumber, BigNumber":function(r,i){var o,a,s=r.constructor,l=r.minus(i),c=new s(1);if(!Rse(r)||!Rse(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(r))throw new TypeError("k must be less than n in function combinations");if(o=c,i.lt(l))for(a=c;a.lte(l);a=a.plus(c))o=o.times(i.plus(a)).dividedBy(a);else for(a=c;a.lte(i);a=a.plus(c))o=o.times(l.plus(a)).dividedBy(a);return o}})});function Rse(n){return n.isInteger()&&n.gte(0)}var wKe=ye("complex",["typed","Complex"],n=>{var{typed:e,Complex:t}=n;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,s){return new t(i,s)},"BigNumber, BigNumber":function(i,s){return new t(i.toNumber(),s.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})}),xKe=ye("conj",["typed"],n=>{var{typed:e}=n;return e("conj",{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),Eb=ye("trigUnit",["typed"],n=>{var{typed:e}=n;return{Unit:e.referToSelf(t=>r=>{if(!r.hasBase(r.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,r.valueType())(r.value)})}}),SKe=ye("cos",["typed"],n=>{var{typed:e}=n,t=Eb({typed:e});return e("cos",{number:Math.cos,"Complex | BigNumber":r=>r.cos()},t)}),MKe=ye("cot",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("cot",{number:gse,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},Eb({typed:e}))}),BKe=ye("csc",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("csc",{number:vse,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},Eb({typed:e}))}),IKe=ye("cube",["typed"],n=>{var{typed:e}=n;return e("cube",{number:Kie,Complex:function(r){return r.mul(r).mul(r)},BigNumber:function(r){return r.times(r).times(r)},bigint:function(r){return r*r*r},Fraction:function(r){return r.pow(3)},Unit:function(r){return r.pow(3)}})});function Mu(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-9,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!n.isNaN()&&!e.isNaN()&&(n.isFinite()&&e.isFinite()?!!n.eq(e)||n.minus(e).abs().lte(n.constructor.max(n.constructor.max(n.abs(),e.abs()).mul(t),r)):n.eq(e))}var Sb=ye("compareUnits",["typed"],n=>{var{typed:e}=n;return{"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[r.valueType(),i.valueType()])(r.value,i.value)})}}),cF="equalScalar",OKe=ye(cF,["typed","config"],n=>{var{typed:e,config:t}=n,r=Sb({typed:e});return e(cF,{"boolean, boolean":function(s,o){return s===o},"number, number":function(s,o){return Pl(s,o,t.relTol,t.absTol)},"BigNumber, BigNumber":function(s,o){return s.eq(o)||Mu(s,o,t.relTol,t.absTol)},"bigint, bigint":function(s,o){return s===o},"Fraction, Fraction":function(s,o){return s.equals(o)},"Complex, Complex":function(s,o){return function FKe(n,e,t,r){return Pl(n.re,e.re,t,r)&&Pl(n.im,e.im,t,r)}(s,o,t.relTol,t.absTol)}},r)}),UKe=(ye(cF,["typed","config"],n=>{var{typed:e,config:t}=n;return e(cF,{"number, number":function(i,s){return Pl(i,s,t.relTol,t.absTol)}})}),ye("erf",["typed"],n=>{var{typed:e}=n;return e("name",{number:function(o){var a=Math.abs(o);return a>=VKe?fm(o):a<=kKe?fm(o)*function t(s){var c,o=s*s,a=Dp[0][4]*o,l=o;for(c=0;c<3;c+=1)a=(a+Dp[0][c])*o,l=(l+Db[0][c])*o;return s*(a+Dp[0][3])/(l+Db[0][3])}(a):a<=4?fm(o)*(1-function r(s){var l,o=Dp[1][8]*s,a=s;for(l=0;l<7;l+=1)o=(o+Dp[1][l])*s,a=(a+Db[1][l])*s;var c=(o+Dp[1][7])/(a+Db[1][7]),u=parseInt(16*s)/16,h=(s-u)*(s+u);return Math.exp(-u*u)*Math.exp(-h)*c}(a)):fm(o)*(1-function i(s){var c,o=1/(s*s),a=Dp[2][5]*o,l=o;for(c=0;c<4;c+=1)a=(a+Dp[2][c])*o,l=(l+Db[2][c])*o;var u=o*(a+Dp[2][4])/(l+Db[2][4]);u=(HKe-u)/s;var h=(s-(o=parseInt(16*s)/16))*(s+o);return Math.exp(-o*o)*Math.exp(-h)*u}(a))},"Array | Matrix":e.referToSelf(s=>o=>Rr(o,s))})})),kKe=.46875,HKe=.5641895835477563,Dp=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Db=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],VKe=Math.pow(2,53),zKe=ye("exp",["typed"],n=>{var{typed:e}=n;return e("exp",{number:Xie,Complex:function(r){return r.exp()},BigNumber:function(r){return r.exp()}})}),qKe=ye("expm1",["typed","Complex"],n=>{var{typed:e,Complex:t}=n;return e("expm1",{number:Yie,Complex:function(i){var s=Math.exp(i.re);return new t(s*Math.cos(i.im)-1,s*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),WKe=ye("flatten",["typed"],n=>{var{typed:e}=n;return e("flatten",{Array:function(r){return Vi(r)},Matrix:function(r){return r.create(Vi(r.toArray()),r.datatype())}})}),KKe=ye("format",["typed"],n=>{var{typed:e}=n;return e("format",{any:ni,"any, Object | function | number | BigNumber":ni})}),Gse="getMatrixDataType",YKe=ye(Gse,["typed"],n=>{var{typed:e}=n;return e(Gse,{Array:function(r){return EI(r,Ws)},Matrix:function(r){return r.getDataType()}})}),JKe=ye("hex",["typed","format"],n=>{var{typed:e,format:t}=n;return e("hex",{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,s){return t(i,{notation:"hex",wordSize:s})}})}),tXe=ye("im",["typed"],n=>{var{typed:e}=n;return e("im",{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),rXe=ye("isInteger",["typed"],n=>{var{typed:e}=n;return e("isInteger",{number:$n,BigNumber:function(r){return r.isInt()},bigint:function(r){return!0},Fraction:function(r){return 1n===r.d},"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),pS="number";function $se(n){return n<0}function Kse(n){return n>0}function Xse(n){return Number.isNaN(n)}$se.signature=pS,Kse.signature=pS,Xse.signature=pS;var Yse="isNegative",aXe=ye(Yse,["typed","config"],n=>{var{typed:e,config:t}=n;return e(Yse,{number:r=>!Pl(r,0,t.relTol,t.absTol)&&$se(r),BigNumber:r=>!Mu(r,new r.constructor(0),t.relTol,t.absTol)&&r.isNeg()&&!r.isZero()&&!r.isNaN(),bigint:r=>r<0n,Fraction:r=>r.s<0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})}),Zse="isPositive",cXe=ye(Zse,["typed","config"],n=>{var{typed:e,config:t}=n;return e(Zse,{number:r=>!Pl(r,0,t.relTol,t.absTol)&&Kse(r),BigNumber:r=>!(Mu(r,new r.constructor(0),t.relTol,t.absTol)||r.isNeg()||r.isZero()||r.isNaN()),bigint:r=>r>0n,Fraction:r=>r.s>0n&&r.n>0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})}),hXe=ye("isZero",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e("isZero",{"number | BigNumber | Complex | Fraction":r=>t(r,0),bigint:r=>0n===r,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})});function uF(n){var e;if($n(n))return n<=0?isFinite(n)?1/0:NaN:n>171?1/0:Sp(1,n-1);if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*uF(1-n));if(n>=171.35)return 1/0;if(n>85){var t=n*n,r=t*n,i=r*n,s=i*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*t)-139/(51840*r)-571/(2488320*i)+163879/(209018880*s)+5246819/(75246796800*s*n))}--n,e=Mb[0];for(var o=1;o<Mb.length;++o)e+=Mb[o]/(n+o);var a=n+eoe+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,n+.5)*Math.exp(-a)*e}uF.signature="number";var eoe=4.7421875,Mb=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],toe=.9189385332046728,noe=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function hF(n){if(n<0)return NaN;if(0===n)return 1/0;if(!isFinite(n))return n;if(n<.5)return Math.log(Math.PI/Math.sin(Math.PI*n))-hF(1-n);for(var e=5+(n-=1)+.5,t=noe[0],r=6;r>=1;r--)t+=noe[r]/(n+r);return toe+(n+.5)*Math.log(e)-e+Math.log(t)}hF.signature="number";var pXe=ye("lgamma",["Complex","typed"],n=>{var{Complex:e,typed:t}=n,s=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t("lgamma",{number:hF,Complex:function o(c){if(c.isNaN())return new e(NaN,NaN);if(0===c.im)return new e(hF(c.re),0);if(c.re>=7||Math.abs(c.im)>=7)return a(c);if(c.re<=.1){var f=function WHe(n,e){return(n>0||!(n<0)&&1/n==1/0)^(e>0||!(e<0)&&1/e==1/0)?-n:n}(6.283185307179586,c.im)*Math.floor(.5*c.re+.25),A=c.mul(Math.PI).sin().log(),p=o(new e(1-c.re,-c.im));return new e(1.1447298858494002,f).sub(A).sub(p)}return c.im>=0?l(c):l(c.conjugate()).conjugate()},BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function a(c){for(var u=c.sub(.5).mul(c.log()).sub(c).add(toe),h=new e(1,0).div(c),d=h.div(c),f=s[0],A=s[1],p=2*d.re,m=d.re*d.re+d.im*d.im,g=2;g<8;g++){var y=A;A=-m*f+s[g],f=p*f+y}var v=h.mul(d.mul(f).add(A));return u.add(v)}function l(c){var u=0,h=0,d=c;for(c=c.add(1);c.re<=7;){var f=(d=d.mul(c)).im<0?1:0;0!==f&&0===h&&u++,h=f,c=c.add(1)}return a(c).sub(d.log()).sub(new e(0,2*u*Math.PI*1))}}),mXe=ye("log10",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("log10",{number:function(s){return s>=0||t.predictable?Jie(s):new r(s,0).log().div(Math.LN10)},Complex:function(s){return new r(s).log().div(Math.LN10)},BigNumber:function(s){return!s.isNegative()||t.predictable?s.log():new r(s.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>s=>Rr(s,i))})}),yXe=ye("log2",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("log2",{number:function(o){return o>=0||t.predictable?ese(o):i(new r(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):i(new r(o.toNumber(),0))},"Array | Matrix":e.referToSelf(s=>o=>Rr(o,s))});function i(s){var o=Math.sqrt(s.re*s.re+s.im*s.im);return new r(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(s.im,s.re)/Math.LN2)}}),wXe=ye("multiplyScalar",["typed"],n=>{var{typed:e}=n;return e("multiplyScalar",{"number, number":jie,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"bigint, bigint":function(r,i){return r*i},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,r)=>r.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,r)=>t.multiply(r)})}),xXe=ye("not",["typed"],n=>{var{typed:e}=n;return e("not",{"null | undefined":()=>!0,number:Mre,Complex:function(r){return 0===r.re&&0===r.im},BigNumber:function(r){return r.isZero()||r.isNaN()},bigint:t=>!t,Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),TXe=ye("number",["typed"],n=>{var{typed:e}=n,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if("NaN"===i)return NaN;var s=function DXe(n){var e=n.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return e?{input:n,radix:{"0b":2,"0o":8,"0x":16}[e[1]],integerPart:e[2],fractionalPart:e[3]}:null}(i);if(s)return function MXe(n){for(var e=parseInt(n.integerPart,n.radix),t=0,r=0;r<n.fractionalPart.length;r++)t+=parseInt(n.fractionalPart[r],n.radix)/Math.pow(n.radix,r+1);var s=e+t;if(isNaN(s))throw new SyntaxError('String "'+n.input+'" is not a valid number');return s}(s);var o=0,a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(o=Number(a[2]),i=a[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(a){if(l>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(o-1)&&(l-=2**o)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(r=>i=>{var s=i.clone();return s.value=r(i.value),s}),null:function(i){return 0},"Unit, string | Unit":function(i,s){return i.toNumber(s)},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))});return t.fromJSON=function(r){return parseFloat(r.value)},t}),NXe=ye("oct",["typed","format"],n=>{var{typed:e,format:t}=n;return e("oct",{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,s){return t(i,{notation:"oct",wordSize:s})}})}),loe=we(8814),IXe=loe(Date.now());function Tb(n){var e;return function t(i){e=null===i?IXe:loe(String(i))}(n),function r(){return e()}}var coe="pickRandom",RXe=ye(coe,["typed","config","?on"],n=>{var{typed:e,config:t,on:r}=n,i=Tb(t.randomSeed);return r&&r("config",function(o,a){o.randomSeed!==a.randomSeed&&(i=Tb(o.randomSeed))}),e(coe,{"Array | Matrix":function(a){return s(a,{})},"Array | Matrix, Object":function(a,l){return s(a,l)},"Array | Matrix, number":function(a,l){return s(a,{number:l})},"Array | Matrix, Array | Matrix":function(a,l){return s(a,{weights:l})},"Array | Matrix, Array | Matrix, number":function(a,l,c){return s(a,{number:c,weights:l})},"Array | Matrix, number, Array | Matrix":function(a,l,c){return s(a,{number:l,weights:c})}});function s(o,a){var{number:l,weights:c,elementWise:u=!0}=a,h=typeof l>"u";h&&(l=1);var d=cr(o)?o.create:cr(c)?c.create:null;o=o.valueOf(),c&&(c=c.valueOf()),!0===u&&(o=Vi(o),c=Vi(c));var f=0;if(typeof c<"u"){if(c.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var A=0,p=c.length;A<p;A++){if(!Ur(c[A])||c[A]<0)throw new Error("Weights must be an array of positive numbers");f+=c[A]}}for(var y,m=o.length,g=[];g.length<l;){if(typeof c>"u")y=o[Math.floor(i()*m)];else for(var v=i()*f,_=0,C=o.length;_<C;_++)if((v-=c[_])<0){y=o[_];break}g.push(y)}return h?g[0]:d?d(g):g}});function $8(n,e){var t=[];if((n=n.slice(0)).length>1)for(var r=0,i=n.shift();r<i;r++)t.push($8(n,e));else for(var s=0,o=n.shift();s<o;s++)t.push(e());return t}var PXe=ye("random",["typed","config","?on"],n=>{var{typed:e,config:t,on:r}=n,i=Tb(t.randomSeed);return r&&r("config",function(a,l){a.randomSeed!==l.randomSeed&&(i=Tb(a.randomSeed))}),e("random",{"":()=>o(0,1),number:a=>o(0,a),"number, number":(a,l)=>o(a,l),"Array | Matrix":a=>s(a,0,1),"Array | Matrix, number":(a,l)=>s(a,0,l),"Array | Matrix, number, number":(a,l,c)=>s(a,l,c)});function s(a,l,c){var u=$8(a.valueOf(),()=>o(l,c));return cr(a)?a.create(u,"number"):u}function o(a,l){return a+i()*(l-a)}}),UXe=ye("re",["typed"],n=>{var{typed:e}=n;return e("re",{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),HXe=ye("sec",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("sec",{number:_se,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},Eb({typed:e}))}),QXe=ye("sign",["typed","BigNumber","Fraction","complex"],n=>{var{typed:e,BigNumber:t,complex:r,Fraction:i}=n;return e("sign",{number:W8,Complex:function(o){return 0===o.im?r(W8(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},bigint:function(o){return o>0n?1n:o<0n?-1n:0n},Fraction:function(o){return new i(o.s)},"Array | Matrix":e.referToSelf(s=>o=>Rr(o,s,!0)),Unit:e.referToSelf(s=>o=>{if(!o._isDerived()&&0!==o.units[0].unit.offset)throw new TypeError("sign is ambiguous for units with offset");return e.find(s,o.valueType())(o.value)})})}),GXe=ye("sin",["typed"],n=>{var{typed:e}=n,t=Eb({typed:e});return e("sin",{number:Math.sin,"Complex | BigNumber":r=>r.sin()},t)}),WXe=ye("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:e,equalScalar:t,Matrix:r}=n;function i(p,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!uc(m))throw new Error("Invalid datatype: "+m);if(cr(p))!function s(p,m,g){"SparseMatrix"===m.type?(p._values=m._values?Ir(m._values):void 0,p._index=Ir(m._index),p._ptr=Ir(m._ptr),p._size=Ir(m._size),p._datatype=g||m._datatype):o(p,m.valueOf(),g||m._datatype)}(this,p,m);else if(p&&Ds(p.index)&&Ds(p.ptr)&&Ds(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=m||p.datatype;else if(Ds(p))o(this,p,m);else{if(p)throw new TypeError("Unsupported type of data ("+Ws(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function o(p,m,g){p._values=[],p._index=[],p._ptr=[],p._datatype=g;var y=m.length,v=0,_=t,C=0;if(uc(g)&&(_=e.find(t,[g,g])||t,C=e.convert(0,g)),y>0){var b=0;do{p._ptr.push(p._index.length);for(var M=0;M<y;M++){var D=m[M];if(Ds(D)){if(0===b&&v<D.length&&(v=D.length),b<D.length){var E=D[b];_(E,C)||(p._values.push(E),p._index.push(M))}}else 0===b&&v<1&&(v=1),_(D,C)||(p._values.push(D),p._index.push(M))}b++}while(b<v)}p._ptr.push(p._index.length),p._size=[y,v]}function c(p,m,g,y){if(g-m==0)return g;for(var v=m;v<g;v++)if(y[v]===p)return v;return m}function h(p,m,g,y,v,_,C){v.splice(p,0,y),_.splice(p,0,m);for(var b=g+1;b<C.length;b++)C[b]++}function d(p,m,g,y){var v=y||0,_=t,C=0;uc(p._datatype)&&(_=e.find(t,[p._datatype,p._datatype])||t,C=e.convert(0,p._datatype),v=e.convert(v,p._datatype));var E,T,B,b=!_(v,C),M=p._size[0],D=p._size[1];if(g>D){for(T=D;T<g;T++)if(p._ptr[T]=p._values.length,b)for(E=0;E<M;E++)p._values.push(v),p._index.push(E);p._ptr[g]=p._values.length}else g<D&&(p._ptr.splice(g+1,D-g),p._values.splice(p._ptr[g],p._values.length),p._index.splice(p._ptr[g],p._index.length));if(D=g,m>M){if(b){var R=0;for(T=0;T<D;T++){p._ptr[T]=p._ptr[T]+R,B=p._ptr[T+1]+R;var U=0;for(E=M;E<m;E++,U++)p._values.splice(B+U,0,v),p._index.splice(B+U,0,E),R++}p._ptr[D]=p._values.length}}else if(m<M){var k=0;for(T=0;T<D;T++){p._ptr[T]=p._ptr[T]-k;var O=p._ptr[T+1]-k;for(B=p._ptr[T];B<O;B++)(E=p._index[B])>m-1&&(p._values.splice(B,1),p._index.splice(B,1),k++)}p._ptr[T]=p._values.length}return p._size[0]=m,p._size[1]=g,p}function A(p,m,g,y,v){var M,D,_=y[0],C=y[1],b=[];for(M=0;M<_;M++)for(b[M]=[],D=0;D<C;D++)b[M][D]=0;for(D=0;D<C;D++)for(var T=g[D+1],B=g[D];B<T;B++)b[M=m[B]][D]=p?v?Ir(p[B]):p[B]:1;return b}return(i.prototype=new r).createSparseMatrix=function(p,m){return new i(p,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return EI(this._values,Ws)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(p,m){return new i(p,m)},i.prototype.density=function(){var p=this._size[0],m=this._size[1];return 0!==p&&0!==m?this._index.length/(p*m):0},i.prototype.subset=function(p,m,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function a(p,m){if(!vI(m))throw new TypeError("Invalid index");if(m.isScalar())return p.get(m.min());var y=m.size();if(y.length!==p._size.length)throw new ri(y.length,p._size.length);var v,_,C,b,M=m.min(),D=m.max();for(v=0,_=p._size.length;v<_;v++)$s(M[v],p._size[v]),$s(D[v],p._size[v]);var E=p._values,T=p._index,B=p._ptr,R=m.dimension(0),U=m.dimension(1),k=[],j=[];R.forEach(function(H,ae){j[H]=ae[0],k[H]=!0});var O=E?[]:void 0,P=[],G=[];return U.forEach(function(H){for(G.push(P.length),C=B[H],b=B[H+1];C<b;C++)!0===k[v=T[C]]&&(P.push(j[v]),O&&O.push(E[C]))}),G.push(P.length),new i({values:O,index:P,ptr:G,size:y,datatype:p._datatype})}(this,p);case 2:case 3:return function l(p,m,g,y){if(!m||!0!==m.isIndex)throw new TypeError("Invalid index");var C,v=m.size(),_=m.isScalar();if(cr(g)?(C=g.size(),g=g.toArray()):C=xr(g),_){if(0!==C.length)throw new TypeError("Scalar expected");p.set(m.min(),g,y)}else{if(1!==v.length&&2!==v.length)throw new ri(v.length,p._size.length,"<");if(C.length<v.length){for(var b=0,M=0;1===v[b]&&1===C[b];)b++;for(;1===v[b];)M++,b++;g=zne(g,v.length,M,C)}if(!yp(v,C))throw new ri(v,C,">");if(1===v.length)m.dimension(0).forEach(function(B,R){$s(B),p.set([B,0],g[R[0]],y)});else{var E=m.dimension(0),T=m.dimension(1);E.forEach(function(B,R){$s(B),T.forEach(function(U,k){$s(U),p.set([B,U],g[R[0]][k[0]],y)})})}}return p}(this,p,m,g);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(p){if(!Ds(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new ri(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=p[0],g=p[1];$s(m,this._size[0]),$s(g,this._size[1]);var y=c(m,this._ptr[g],this._ptr[g+1],this._index);return y<this._ptr[g+1]&&this._index[y]===m?this._values[y]:0},i.prototype.set=function(p,m,g){if(!Ds(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new ri(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=p[0],v=p[1],_=this._size[0],C=this._size[1],b=t,M=0;uc(this._datatype)&&(b=e.find(t,[this._datatype,this._datatype])||t,M=e.convert(0,this._datatype)),(y>_-1||v>C-1)&&(d(this,Math.max(y+1,_),Math.max(v+1,C),g),_=this._size[0],C=this._size[1]),$s(y,_),$s(v,C);var D=c(y,this._ptr[v],this._ptr[v+1],this._index);return D<this._ptr[v+1]&&this._index[D]===y?b(m,M)?function u(p,m,g,y,v){g.splice(p,1),y.splice(p,1);for(var _=m+1;_<v.length;_++)v[_]--}(D,v,this._values,this._index,this._ptr):this._values[D]=m:b(m,M)||h(D,y,v,m,this._values,this._index,this._ptr),this},i.prototype.resize=function(p,m,g){if(!Wh(p))throw new TypeError("Array or Matrix expected");var y=p.valueOf().map(_=>Array.isArray(_)&&1===_.length?_[0]:_);if(2!==y.length)throw new Error("Only two dimensions matrix are supported");return y.forEach(function(_){if(!Ur(_)||!$n(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ni(y)+")")}),d(g?this.clone():this,y[0],y[1],m)},i.prototype.reshape=function(p,m){if(!Ds(p))throw new TypeError("Array expected");if(2!==p.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(H){if(!Ur(H)||!$n(H)||H<=-2||0===H)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+ni(p)+")")});var g=this._size[0]*this._size[1];if(g!==(p=p8(p,g))[0]*p[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var v=m?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return v;for(var _=[],C=0;C<v._ptr.length;C++)for(var b=0;b<v._ptr[C+1]-v._ptr[C];b++)_.push(C);for(var M=v._values.slice(),D=v._index.slice(),E=0;E<v._index.length;E++){var R=D[E]*v._size[1]+_[E];_[E]=R%p[1],D[E]=Math.floor(R/p[1])}v._values.length=0,v._index.length=0,v._ptr.length=p[1]+1,v._size=p.slice();for(var U=0;U<v._ptr.length;U++)v._ptr[U]=0;for(var k=0;k<M.length;k++){var j=D[k],O=_[k],P=M[k];h(c(j,v._ptr[O],v._ptr[O+1],v._index),j,O,P,v._values,v._index,v._ptr)}return v},i.prototype.clone=function(){return new i({values:this._values?Ir(this._values):void 0,index:Ir(this._index),ptr:Ir(this._ptr),size:Ir(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(p,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,y=this._size[0],v=this._size[1],_=U0(p,g,"map");return function f(p,m,g,y,v,_,C){var b=[],M=[],D=[],E=t,T=0;uc(p._datatype)&&(E=e.find(t,[p._datatype,p._datatype])||t,T=e.convert(0,p._datatype));for(var B=function(q,K,oe){var se=_(q,K,oe);E(se,T)||(b.push(se),M.push(K))},R=y;R<=v;R++){D.push(b.length);var U=p._ptr[R],k=p._ptr[R+1];if(C)for(var j=U;j<k;j++){var O=p._index[j];O>=m&&O<=g&&B(p._values[j],O-m,R-y)}else{for(var P={},G=U;G<k;G++)P[p._index[G]]=p._values[G];for(var ae=m;ae<=g;ae++)B(ae in P?P[ae]:0,ae-m,R-y)}}return D.push(b.length),new i({values:b,index:M,ptr:D,size:[g-m+1,v-y+1]})}(this,0,y-1,0,v-1,function(M,D,E){return _(M,[D,E],g)},m)},i.prototype.forEach=function(p,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,y=this._size[0],v=this._size[1],_=U0(p,g,"forEach"),C=0;C<v;C++){var b=this._ptr[C],M=this._ptr[C+1];if(m)for(var D=b;D<M;D++)_(this._values[D],[this._index[D],C],g);else{for(var T={},B=b;B<M;B++)T[this._index[B]]=this._values[B];for(var U=0;U<y;U++)_(U in T?T[U]:0,[U,C],g)}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],m=0;m<p;m++)for(var y=this._ptr[m+1],v=this._ptr[m];v<y;v++){var _=this._index[v];yield{value:this._values[v],index:[_,m]}}},i.prototype.toArray=function(){return A(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return A(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(p){for(var m=this._size[0],g=this._size[1],y=this.density(),v="Sparse Matrix ["+ni(m,p)+" x "+ni(g,p)+"] density: "+ni(y,p)+"\n",_=0;_<g;_++)for(var b=this._ptr[_+1],M=this._ptr[_];M<b;M++)v+="\n    ("+ni(this._index[M],p)+", "+ni(_,p)+") ==> "+(this._values?ni(this._values[M],p):"X");return v},i.prototype.toString=function(){return ni(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(p){if(p){if(kr(p)&&(p=p.toNumber()),!Ur(p)||!$n(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var m=p>0?p:0,g=p<0?-p:0,v=this._size[1],_=Math.min(this._size[0]-g,v-m),C=[],b=[],M=[];M[0]=0;for(var D=m;D<v&&C.length<_;D++)for(var T=this._ptr[D+1],B=this._ptr[D];B<T;B++){var R=this._index[B];if(R===D-m+g){C.push(this._values[B]),b[C.length-1]=R-g;break}}return M.push(C.length),new i({values:C,index:b,ptr:M,size:[_,1]})},i.fromJSON=function(p){return new i(p)},i.diagonal=function(p,m,g,y,v){if(!Ds(p))throw new TypeError("Array expected, size parameter");if(2!==p.length)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(H){if(kr(H)&&(H=H.toNumber()),!Ur(H)||!$n(H)||H<1)throw new Error("Size values must be positive integers");return H}),g){if(kr(g)&&(g=g.toNumber()),!Ur(g)||!$n(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var _=t,C=0;uc(v)&&(_=e.find(t,[v,v])||t,C=e.convert(0,v));var B,b=g>0?g:0,M=g<0?-g:0,D=p[0],E=p[1],T=Math.min(D-M,E-b);if(Ds(m)){if(m.length!==T)throw new Error("Invalid value array length");B=function(ae){return m[ae]}}else if(cr(m)){var R=m.size();if(1!==R.length||R[0]!==T)throw new Error("Invalid matrix length");B=function(ae){return m.get([ae])}}else B=function(){return m};for(var U=[],k=[],j=[],O=0;O<E;O++){j.push(U.length);var P=O-b;if(P>=0&&P<T){var G=B(P);_(G,C)||(k.push(P+M),U.push(G))}}return j.push(U.length),new i({values:U,index:k,ptr:j,size:[D,E]})},i.prototype.swapRows=function(p,m){if(!(Ur(p)&&$n(p)&&Ur(m)&&$n(m)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return $s(p,this._size[0]),$s(m,this._size[0]),i._swapRows(p,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(p,m,g,y,v){for(var C=y[p+1],b=y[p];b<C;b++)v(g[b],m[b])},i._swapRows=function(p,m,g,y,v,_){for(var C=0;C<g;C++){var b=_[C],M=_[C+1],D=c(p,b,M,v),E=c(m,b,M,v);if(D<M&&E<M&&v[D]===p&&v[E]===m){if(y){var T=y[D];y[D]=y[E],y[E]=T}}else if(D<M&&v[D]===p&&(E>=M||v[E]!==m)){var B=y?y[D]:void 0;v.splice(E,0,m),y&&y.splice(E,0,B),v.splice(E<=D?D+1:D,1),y&&y.splice(E<=D?D+1:D,1)}else if(E<M&&v[E]===m&&(D>=M||v[D]!==p)){var R=y?y[E]:void 0;v.splice(D,0,p),y&&y.splice(D,0,R),v.splice(D<=E?E+1:E,1),y&&y.splice(D<=E?E+1:E,1)}}},i},{isClass:!0}),KXe=ye("splitUnit",["typed"],n=>{var{typed:e}=n;return e("splitUnit",{"Unit, Array":function(r,i){return r.splitUnit(i)}})}),YXe=ye("square",["typed"],n=>{var{typed:e}=n;return e("square",{number:nse,Complex:function(r){return r.mul(r)},BigNumber:function(r){return r.times(r)},bigint:function(r){return r*r},Fraction:function(r){return r.mul(r)},Unit:function(r){return r.pow(2)}})}),JXe=ye("string",["typed"],n=>{var{typed:e}=n;return e("string",{"":function(){return""},number:L0,null:function(r){return"null"},boolean:function(r){return r+""},string:function(r){return r},"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t)),any:function(r){return String(r)}})}),voe="subtractScalar",tYe=ye(voe,["typed"],n=>{var{typed:e}=n;return e(voe,{"number, number":qie,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"bigint, bigint":function(r,i){return r-i},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==i.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var s=r.clone();return s.value=e.find(t,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})}),rYe=ye("tan",["typed"],n=>{var{typed:e}=n,t=Eb({typed:e});return e("tan",{number:Math.tan,"Complex | BigNumber":r=>r.tan()},t)}),sYe=ye("typeOf",["typed"],n=>{var{typed:e}=n;return e("typeOf",{any:Ws})}),aYe=ye("acosh",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("acosh",{number:function(s){return s>=1||t.predictable?ase(s):s<=-1?new r(Math.log(Math.sqrt(s*s-1)-s),Math.PI):new r(s,0).acosh()},Complex:function(s){return s.acosh()},BigNumber:function(s){return s.acosh()}})}),cYe=ye("acsch",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("acsch",{number:hse,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})}),hYe=ye("asec",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("asec",{number:function(o){return o<=-1||o>=1||t.predictable?fse(o):new r(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})}),AYe=ye("bignumber",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(s){var o=s[2],a=t(s[1]),l=new t(2).pow(Number(o));if(a.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new t(2).pow(Number(o)-1);return a.gte(c)?a.sub(l):a}return new t(i)},BigNumber:function(i){return i},bigint:function(i){return new t(i.toString())},Unit:e.referToSelf(r=>i=>{var s=i.clone();return s.value=r(i.value),s}),Fraction:function(i){return new t(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})}),xoe="combinationsWithRep",gYe=ye(xoe,["typed"],n=>{var{typed:e}=n;return e(xoe,{"number, number":function(r,i){if(!$n(r)||r<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!$n(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r<1)throw new TypeError("k must be less than or equal to n + k - 1");return i<r-1?Sp(r,r+i-1)/Sp(1,i):Sp(i+1,r+i-1)/Sp(1,r-1)},"BigNumber, BigNumber":function(r,i){var o,a,l=new(0,r.constructor)(1),c=r.minus(l);if(!Eoe(r)||!Eoe(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=l,i.lt(c))for(a=l;a.lte(c);a=a.plus(l))o=o.times(i.plus(a)).dividedBy(a);else for(a=l;a.lte(i);a=a.plus(l))o=o.times(c.plus(a)).dividedBy(a);return o}})});function Eoe(n){return n.isInteger()&&n.gte(0)}var vYe=ye("cosh",["typed"],n=>{var{typed:e}=n;return e("cosh",{number:Nne,"Complex | BigNumber":t=>t.cosh()})}),_Ye=ye("csch",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("csch",{number:yse,Complex:r=>r.csch(),BigNumber:r=>new t(1).div(r.sinh())})}),wYe=ye("isNaN",["typed"],n=>{var{typed:e}=n;return e("isNaN",{number:Xse,BigNumber:function(r){return r.isNaN()},bigint:function(r){return!1},Fraction:function(r){return!1},Complex:function(r){return r.isNaN()},Unit:function(r){return Number.isNaN(r.value)},"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),xYe=ye("isPrime",["typed"],n=>{var{typed:e}=n;return e("isPrime",{number:function(r){if(r<=3)return r>1;if(r%2==0||r%3==0)return!1;for(var i=5;i*i<=r;i+=6)if(r%i==0||r%(i+2)==0)return!1;return!0},bigint:function(r){if(r<=3n)return r>1n;if(r%2n===0n||r%3n===0n)return!1;for(var i=5n;i*i<=r;i+=6n)if(r%i===0n||r%(i+2n)===0n)return!1;return!0},BigNumber:function(r){if(r.lte(3))return r.gt(1);if(r.mod(2).eq(0)||r.mod(3).eq(0))return!1;if(r.lt(Math.pow(2,32))){for(var i=r.toNumber(),s=5;s*s<=i;s+=6)if(i%s==0||i%(s+2)==0)return!1;return!0}function o(y,v,_){for(var C=1;!v.eq(0);)v.mod(2).eq(0)?(v=v.div(2),y=y.mul(y).mod(_)):(v=v.sub(1),C=y.mul(C).mod(_));return C}for(var a=r.constructor.clone({precision:2*r.toFixed(0).length}),l=0,c=(r=new a(r)).sub(1);c.mod(2).eq(0);)c=c.div(2),l+=1;var u=null;if(r.lt("3317044064679887385961981"))u=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(y=>y<r);else{var h=Math.min(r.toNumber()-2,Math.floor(2*Math.pow(r.toFixed(0).length*Math.log(10),2)));u=[];for(var d=2;d<=h;d+=1)u.push(h)}for(var f=0;f<u.length;f+=1){var A=u[f],p=o(r.sub(r).add(A),c,r);if(!p.eq(1))for(var m=0,g=p;!g.eq(r.sub(1));m+=1,g=g.mul(g).mod(r))if(m===l-1)return!1}return!0},"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),SYe=ye("randomInt",["typed","config","?on"],n=>{var{typed:e,config:t,on:r}=n,i=Tb(t.randomSeed);return r&&r("config",function(a,l){a.randomSeed!==l.randomSeed&&(i=Tb(a.randomSeed))}),e("randomInt",{"":()=>o(0,1),number:a=>o(0,a),"number, number":(a,l)=>o(a,l),"Array | Matrix":a=>s(a,0,1),"Array | Matrix, number":(a,l)=>s(a,0,l),"Array | Matrix, number, number":(a,l,c)=>s(a,l,c)});function s(a,l,c){var u=$8(a.valueOf(),()=>o(l,c));return cr(a)?a.create(u,"number"):u}function o(a,l){return Math.floor(a+i()*(l-a))}}),MYe=ye("sech",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("sech",{number:bse,Complex:r=>r.sech(),BigNumber:r=>new t(1).div(r.cosh())})}),BYe=ye("sinh",["typed"],n=>{var{typed:e}=n;return e("sinh",{number:wse,"Complex | BigNumber":t=>t.sinh()})}),IYe=ye("sparse",["typed","SparseMatrix"],n=>{var{typed:e,SparseMatrix:t}=n;return e("sparse",{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,s){return new t(i,s)}})}),OYe=ye("sqrt",["config","typed","Complex"],n=>{var{config:e,typed:t,Complex:r}=n;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(s){return isNaN(s)?NaN:s>=0||e.predictable?Math.sqrt(s):new r(s,0).sqrt()}}),LYe=ye("squeeze",["typed"],n=>{var{typed:e}=n;return e("squeeze",{Array:function(r){return CI(Ir(r))},Matrix:function(r){var i=CI(r.toArray());return Array.isArray(i)?r.create(i,r.datatype()):i},any:function(r){return Ir(r)}})}),HYe=ye("tanh",["typed"],n=>{var{typed:e}=n;return e("tanh",{number:Ine,"Complex | BigNumber":t=>t.tanh()})}),Ooe="unaryMinus",QYe=ye(Ooe,["typed"],n=>{var{typed:e}=n;return e(Ooe,{number:Wie,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>r=>{var i=r.clone();return i.value=e.find(t,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t,!0))})}),GYe=ye("acoth",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("acoth",{number:function(o){return o>=1||o<=-1||t.predictable?cse(o):new r(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})}),jYe=ye("bin",["typed","format"],n=>{var{typed:e,format:t}=n;return e("bin",{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,s){return t(i,{notation:"bin",wordSize:s})}})}),$Ye=ye("coth",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("coth",{number:mse,Complex:r=>r.coth(),BigNumber:r=>new t(1).div(r.tanh())})}),YYe=ye("fraction",["typed","Fraction"],n=>{var{typed:e,Fraction:t}=n;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,s){return new t(i,s)},"bigint, bigint":function(i,s){return new t(i,s)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},bigint:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(r=>i=>{var s=i.clone();return s.value=r(i.value),s}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})}),JYe=ye("isNumeric",["typed"],n=>{var{typed:e}=n;return e("isNumeric",{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),tZe=ye("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,DenseMatrix:r,SparseMatrix:i}=n;return e("matrix",{"":function(){return s([])},string:function(a){return s([],a)},"string, string":function(a,l){return s([],a,l)},Array:function(a){return s(a)},Matrix:function(a){return s(a,a.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(o,a,l){if("dense"===a||"default"===a||void 0===a)return new r(o,l);if("sparse"===a)return new i(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),Voe="matrixFromFunction",rZe=ye(Voe,["typed","matrix","isZero"],n=>{var{typed:e,matrix:t,isZero:r}=n;return e(Voe,{"Array | Matrix, function, string, string":function(o,a,l,c){return i(o,a,l,c)},"Array | Matrix, function, string":function(o,a,l){return i(o,a,l)},"Matrix, function":function(o,a){return i(o,a,"dense")},"Array, function":function(o,a){return i(o,a,"dense").toArray()},"Array | Matrix, string, function":function(o,a,l){return i(o,l,a)},"Array | Matrix, string, string, function":function(o,a,l,c){return i(o,c,a,l)}});function i(s,o,a,l){var c;return(c=void 0!==l?t(a,l):t(a)).resize(s),c.forEach(function(u,h){var d=o(h);r(d)||c.set(h,d)}),c}}),sZe=ye("mode",["typed","isNaN","isNumeric"],n=>{var{typed:e,isNaN:t,isNumeric:r}=n;return e("mode",{"Array | Matrix":i,"...":function(o){return i(o)}});function i(s){if(0===(s=Vi(s.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var a={},l=[],c=0,u=0;u<s.length;u++){var h=s[u];if(r(h)&&t(h))throw new Error("Cannot calculate mode of an array containing NaN values");h in a||(a[h]=0),a[h]++,a[h]===c?l.push(h):a[h]>c&&(c=a[h],l=[h])}return l}}),lZe=ye("numeric",["number","?bignumber","?fraction"],n=>{var{number:e,bignumber:t,fraction:r}=n,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:o=>e(o),BigNumber:t?o=>t(o):C8,bigint:o=>BigInt(o),Fraction:r?o=>r(o):ore};return function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";if(void 0!==(arguments.length>2?arguments[2]:void 0))throw new SyntaxError("numeric() takes one or two arguments");var u=Ws(a);if(!(u in i))throw new TypeError("Cannot convert "+a+' of type "'+u+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in s))throw new TypeError("Cannot convert "+a+' to type "'+l+'"; valid output types are '+Object.keys(s).join(", "));return l===u?a:s[l](a)}}),uZe=ye("prod",["typed","config","multiplyScalar","numeric"],n=>{var{typed:e,config:t,multiplyScalar:r,numeric:i}=n;return e("prod",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(a,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(a){return s(a)}});function s(o){var a;if(wp(o,function(l){try{a=void 0===a?l:r(a,l)}catch(c){throw jc(c,"prod",l)}}),"string"==typeof a&&(a=i(a,hm(a,t))),void 0===a)throw new Error("Cannot calculate prod of an empty array");return a}}),fZe=ye("reshape",["typed","isInteger","matrix"],n=>{var{typed:e,isInteger:t}=n;return e("reshape",{"Matrix, Array":function(i,s){return i.reshape(s,!0)},"Array, Array":function(i,s){return s.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),A8(i,s)}})}),AZe=ye("size",["typed","config","?matrix"],n=>{var{typed:e,config:t,matrix:r}=n;return e("size",{Matrix:function(s){return s.create(s.size(),"number")},Array:xr,string:function(s){return"Array"===t.matrix?[s.length]:r([s.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(s){return"Array"===t.matrix?[]:r?r([],"dense","number"):are()}})}),gZe=ye("transpose",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return e("transpose",{Array:o=>r(t(o)).valueOf(),Matrix:r,any:Ir});function r(o){var l,a=o.size();switch(a.length){case 1:l=o.clone();break;case 2:var c=a[0],u=a[1];if(0===u)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+ni(a)+")");switch(o.storage()){case"dense":l=function i(o,a,l){for(var h,c=o._data,u=[],d=0;d<l;d++){h=u[d]=[];for(var f=0;f<a;f++)h[f]=Ir(c[f][d])}return o.createDenseMatrix({data:u,size:[l,a],datatype:o._datatype})}(o,c,u);break;case"sparse":l=function s(o,a,l){for(var c=o._values,u=o._index,h=o._ptr,d=c?[]:void 0,f=[],A=[],p=[],m=0;m<a;m++)p[m]=0;var g,y,v;for(g=0,y=u.length;g<y;g++)p[u[g]]++;for(var _=0,C=0;C<a;C++)A.push(_),_+=p[C],p[C]=A[C];for(A.push(_),v=0;v<l;v++)for(var M=h[v+1],D=h[v];D<M;D++){var E=p[u[D]]++;f[E]=v,c&&(d[E]=Ir(c[D]))}return o.createSparseMatrix({values:d,index:f,ptr:A,size:[l,a],datatype:o._datatype})}(o,c,u)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+ni(a)+")")}return l}}),vZe=ye("xgcd",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("xgcd",{"number, number":function(a,l){var c=rse(a,l);return"Array"===t.matrix?c:r(c)},"BigNumber, BigNumber":function s(o,a){var l,c,u,g,h=new i(0),d=new i(1),f=h,A=d,p=d,m=h;if(!o.isInt()||!a.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!a.isZero();)c=o.div(a).floor(),u=o.mod(a),l=f,f=A.minus(c.times(f)),A=l,l=p,p=m.minus(c.times(p)),m=l,o=a,a=u;return g=o.lt(h)?[o.neg(),A.neg(),m.neg()]:[o,o.isZero()?0:A,m],"Array"===t.matrix?g:r(g)}})}),_Ze=ye("zeros",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("zeros",{"":function(){return"Array"===t.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var h=c.pop();return s(c,h)}return"Array"===t.matrix?s(c):s(c,"default")},Array:s,Matrix:function(c){var u=c.storage();return s(c.valueOf(),u)},"Array | Matrix, string":function(c,u){return s(c.valueOf(),u)}});function s(l,c){var u=function o(l){var c=!1;return l.forEach(function(u,h,d){kr(u)&&(c=!0,d[h]=u.toNumber())}),c}(l),h=u?new i(0):0;if(function a(l){l.forEach(function(c){if("number"!=typeof c||!$n(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}(l),c){var d=r(c);return l.length>0?d.resize(l,h):d}var f=[];return l.length>0?mb(f,l,h):f}}),wZe=ye("asin",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("asin",{number:function(s){return s>=-1&&s<=1||t.predictable?Math.asin(s):new r(s,0).asin()},Complex:function(s){return s.asin()},BigNumber:function(s){return s.asin()}})}),xZe=ye("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],n=>{var{config:e,typed:t,isNegative:r,unaryMinus:i,matrix:s,Complex:o,BigNumber:a,Fraction:l}=n;return t("cbrt",{number:dS,Complex:c,"Complex, boolean":c,BigNumber:function(d){return d.cbrt()},Unit:function u(h){if(h.value&&_p(h.value)){var d=h.clone();return d.value=1,(d=d.pow(1/3)).value=c(h.value),d}var A,f=r(h.value);f&&(h.value=i(h.value)),A=kr(h.value)?new a(1).div(3):tS(h.value)?new l(1,3):1/3;var p=h.pow(A);return f&&(p.value=i(p.value)),p}});function c(h,d){var f=h.arg()/3,A=h.abs(),p=new o(dS(A),0).mul(new o(0,f).exp());if(d){var m=[p,new o(dS(A),0).mul(new o(0,f+2*Math.PI/3).exp()),new o(dS(A),0).mul(new o(0,f-2*Math.PI/3).exp())];return"Array"===e.matrix?m:s(m)}return p}}),SZe=ye("count",["typed","size","prod"],n=>{var{typed:e,size:t,prod:r}=n;return e("count",{string:function(s){return s.length},"Matrix | Array":function(s){return r(t(s))}})}),Zoe="ctranspose",MZe=ye(Zoe,["typed","transpose","conj"],n=>{var{typed:e,transpose:t,conj:r}=n;return e(Zoe,{any:function(s){return r(t(s))}})}),BZe=ye("diag",["typed","matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e("diag",{Array:function(c){return s(c,0,xr(c),null)},"Array, number":function(c,u){return s(c,u,xr(c),null)},"Array, BigNumber":function(c,u){return s(c,u.toNumber(),xr(c),null)},"Array, string":function(c,u){return s(c,0,xr(c),u)},"Array, number, string":function(c,u,h){return s(c,u,xr(c),h)},"Array, BigNumber, string":function(c,u,h){return s(c,u.toNumber(),xr(c),h)},Matrix:function(c){return s(c,0,c.size(),c.storage())},"Matrix, number":function(c,u){return s(c,u,c.size(),c.storage())},"Matrix, BigNumber":function(c,u){return s(c,u.toNumber(),c.size(),c.storage())},"Matrix, string":function(c,u){return s(c,0,c.size(),u)},"Matrix, number, string":function(c,u,h){return s(c,u,c.size(),h)},"Matrix, BigNumber, string":function(c,u,h){return s(c,u.toNumber(),c.size(),h)}});function s(l,c,u,h){if(!$n(c))throw new TypeError("Second parameter in function diag must be an integer");var d=c>0?c:0,f=c<0?-c:0;switch(u.length){case 1:return function o(l,c,u,h,d,f){var A=[h+d,h+f];if(u&&"sparse"!==u&&"dense"!==u)throw new TypeError("Unknown matrix type ".concat(u,'"'));var p="sparse"===u?i.diagonal(A,l,c):r.diagonal(A,l,c);return null!==u?p:p.valueOf()}(l,c,h,u[0],f,d);case 2:return function a(l,c,u,h,d,f){if(cr(l)){var A=l.diagonal(c);return null!==u?u!==A.storage()?t(A,u):A:A.valueOf()}for(var p=Math.min(h[0]-d,h[1]-f),m=[],g=0;g<p;g++)m[g]=l[g+d][g+f];return null!==u?t(m):m}(l,c,h,u,f,d)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}),eae="divideScalar",IZe=ye(eae,["typed","numeric"],n=>{var{typed:e}=n;return e(eae,{"number, number":function(i,s){return i/s},"Complex, Complex":function(i,s){return i.div(s)},"BigNumber, BigNumber":function(i,s){return i.div(s)},"bigint, bigint":function(i,s){return i/s},"Fraction, Fraction":function(i,s){return i.div(s)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})}),oA=ye("matAlgo07xSSf",["typed","SparseMatrix"],n=>{var{typed:e,SparseMatrix:t}=n;return function(s,o,a){var l=s._size,c=s._datatype||void 0===s._data?s._datatype:s.getDataType(),u=o._size,h=o._datatype||void 0===o._data?o._datatype:o.getDataType();if(l.length!==u.length)throw new ri(l.length,u.length);if(l[0]!==u[0]||l[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+u+")");var A,d=l[0],f=l[1],p=0,m=a;"string"==typeof c&&c===h&&"mixed"!==c&&(p=e.convert(0,A=c),m=e.find(a,[A,A]));for(var g=[],y=[],v=new Array(f+1).fill(0),_=[],C=[],b=[],M=[],D=0;D<f;D++){var E=D+1,T=0;r(s,D,b,_,E),r(o,D,M,C,E);for(var B=0;B<d;B++){var k=m(b[B]===E?_[B]:p,M[B]===E?C[B]:p);0!==k&&!1!==k&&(y.push(B),g.push(k),T++)}v[D+1]=v[D]+T}return new t({values:g,index:y,ptr:v,size:[d,f],datatype:c===s._datatype&&h===o._datatype?A:void 0})};function r(i,s,o,a,l){for(var c=i._values,u=i._index,h=i._ptr,d=h[s],f=h[s+1];d<f;d++){var A=u[d];o[A]=l,a[A]=c[d]}}}),PZe=ye("dotDivide",["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:r,divideScalar:i,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=id({typed:e,equalScalar:r}),c=qc({typed:e}),u=oA({typed:e,SparseMatrix:a}),h=Ll({typed:e,equalScalar:r}),d=Wa({typed:e,DenseMatrix:s});return e("dotDivide",Ks({typed:e,matrix:t,concat:o})({elop:i,SS:u,DS:c,SD:l,Ss:h,sS:d}))}),fF="equal",UZe=ye(fF,["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=qc({typed:e}),l=oA({typed:e,SparseMatrix:o}),c=Wa({typed:e,DenseMatrix:i}),u=Ks({typed:e,matrix:t,concat:s});return e(fF,kZe({typed:e,equalScalar:r}),u({elop:r,SS:l,DS:a,Ss:c}))}),kZe=ye(fF,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(fF,{"any, any":function(i,s){return null===i?null===s:null===s?null===i:void 0===i?void 0===s:void 0===s?void 0===i:t(i,s)}})}),nae="hasNumericValue",VZe=ye(nae,["typed","isNumeric"],n=>{var{typed:e,isNumeric:t}=n;return e(nae,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})}),zZe=ye("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i,DenseMatrix:s,SparseMatrix:o}=n;return e("identity",{"":function(){return"Matrix"===t.matrix?r([]):[]},string:function(u){return r(u)},"number | BigNumber":function(u){return l(u,u,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, string":function(u,h){return l(u,u,h)},"number | BigNumber, number | BigNumber":function(u,h){return l(u,h,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(u,h,d){return l(u,h,d)},Array:function(u){return a(u)},"Array, string":function(u,h){return a(u,h)},Matrix:function(u){return a(u.valueOf(),u.storage())},"Matrix, string":function(u,h){return a(u.valueOf(),h)}});function a(c,u){switch(c.length){case 0:return u?r(u):[];case 1:return l(c[0],c[0],u);case 2:return l(c[0],c[1],u);default:throw new Error("Vector containing two values expected")}}function l(c,u,h){var d=kr(c)||kr(u)?i:null;if(kr(c)&&(c=c.toNumber()),kr(u)&&(u=u.toNumber()),!$n(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!$n(u)||u<1)throw new Error("Parameters in function identity must be positive integers");var f=d?new i(1):1,A=d?new d(0):0,p=[c,u];if(h){if("sparse"===h)return o.diagonal(p,f,0,A);if("dense"===h)return s.diagonal(p,f,0,A);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var m=mb([],p,A),g=c<u?c:u,y=0;y<g;y++)m[y][y]=f;return m}}),qZe=ye("kron",["typed","matrix","multiplyScalar"],n=>{var{typed:e,matrix:t,multiplyScalar:r}=n;return e("kron",{"Matrix, Matrix":function(o,a){return t(i(o.toArray(),a.toArray()))},"Matrix, Array":function(o,a){return t(i(o.toArray(),a))},"Array, Matrix":function(o,a){return t(i(o,a.toArray()))},"Array, Array":i});function i(s,o){if(1===xr(s).length&&(s=[s]),1===xr(o).length&&(o=[o]),xr(s).length>2||xr(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(s.length)+", y = "+JSON.stringify(o.length)+")");var a=[],l=[];return s.map(function(c){return o.map(function(u){return a.push(l=[]),c.map(function(h){return u.map(function(d){return l.push(r(h,d))})})})})&&a}}),dF="largerEq",WZe=ye(dF,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=qc({typed:e}),l=oA({typed:e,SparseMatrix:o}),c=Wa({typed:e,DenseMatrix:i}),u=Ks({typed:e,matrix:r,concat:s}),h=Sb({typed:e});return e(dF,$Ze({typed:e,config:t}),{"boolean, boolean":(d,f)=>d>=f,"BigNumber, BigNumber":function(f,A){return f.gte(A)||Mu(f,A,t.relTol,t.absTol)},"bigint, bigint":function(f,A){return f>=A},"Fraction, Fraction":(d,f)=>-1!==d.compare(f),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,u({SS:l,DS:a,Ss:c}))}),$Ze=ye(dF,["typed","config"],n=>{var{typed:e,config:t}=n;return e(dF,{"number, number":function(i,s){return i>=s||Pl(i,s,t.relTol,t.absTol)}})}),K8=ye("matAlgo08xS0Sid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,h=i._datatype||void 0===i._data?i._datatype:i.getDataType(),d=s._values,f=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new ri(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!a||!d)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof h&&h===m&&"mixed"!==h&&(_=e.find(t,[v=h,v]),C=e.convert(0,v),b=e.find(o,[v,v]));for(var R,k,j,M=[],D=[],E=[],T=[],B=[],O=0;O<y;O++){E[O]=D.length;var P=O+1;for(k=c[O+1],R=c[O];R<k;R++)B[j=l[R]]=P,T[j]=a[R],D.push(j);for(k=A[O+1],R=A[O];R<k;R++)B[j=f[R]]===P&&(T[j]=b(T[j],d[R]));for(R=E[O];R<D.length;){var G=T[j=D[R]];_(G,C)?D.splice(R,1):(M.push(G),R++)}}return E[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:E,size:[g,y],datatype:h===i._datatype&&m===s._datatype?v:void 0})}}),X8=ye("useMatrixForArrayScalar",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return{"Array, number":e.referTo("DenseMatrix, number",r=>(i,s)=>r(t(i),s).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",r=>(i,s)=>r(t(i),s).valueOf()),"number, Array":e.referTo("number, DenseMatrix",r=>(i,s)=>r(i,t(s)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",r=>(i,s)=>r(i,t(s)).valueOf())}}),ZZe=ye("leftShift",["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:s,concat:o}=n,a=gm({typed:e}),l=id({typed:e,equalScalar:r}),c=K8({typed:e,equalScalar:r}),u=k0({typed:e,DenseMatrix:s}),h=Ll({typed:e,equalScalar:r}),d=rd({typed:e}),f=Ks({typed:e,matrix:t,concat:o}),A=X8({typed:e,matrix:t});return e("leftShift",{"number, number":jre,"BigNumber, BigNumber":m9e,"bigint, bigint":(p,m)=>p<<m,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():h(m,g,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():d(m,g,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):u(g,m,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):d(g,m,p,!0))},A,f({SS:c,DS:a,SD:l}))});function gS(n){var{DenseMatrix:e}=n;return function(r,i,s){var o=r.size();if(2!==o.length)throw new RangeError("Matrix must be two dimensional (size: "+ni(o)+")");var a=o[0];if(a!==o[1])throw new RangeError("Matrix must be square (size: "+ni(o)+")");var c=[];if(cr(i)){var u=i.size(),h=i._data;if(1===u.length){if(u[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<a;d++)c[d]=[h[d]];return new e({data:c,size:[a,1],datatype:i._datatype})}if(2===u.length){if(u[0]!==a||1!==u[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(mI(i)){if(s){c=[];for(var f=0;f<a;f++)c[f]=[h[f][0]];return new e({data:c,size:[a,1],datatype:i._datatype})}return i}if(O0(i)){for(var A=0;A<a;A++)c[A]=[0];for(var p=i._values,m=i._index,g=i._ptr,y=g[1],v=g[0];v<y;v++)c[m[v]][0]=p[v];return new e({data:c,size:[a,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ds(i)){var C=xr(i);if(1===C.length){if(C[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<a;b++)c[b]=[i[b]];return new e({data:c,size:[a,1]})}if(2===C.length){if(C[0]!==a||1!==C[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var M=0;M<a;M++)c[M]=[i[M][0]];return new e({data:c,size:[a,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var eJe=ye("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=gS({DenseMatrix:a});return e("lsolve",{"SparseMatrix, Array | Matrix":function(d,f){return function u(h,d){for(var f=(d=l(h,d,!0))._data,A=h._size[0],p=h._size[1],m=h._values,g=h._index,y=h._ptr,v=[],_=0;_<p;_++){var C=f[_][0]||0;if(o(C,0))v[_]=[0];else{for(var b=0,M=[],D=[],T=y[_+1],B=y[_];B<T;B++){var R=g[B];R===_?b=m[B]:R>_&&(M.push(m[B]),D.push(R))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=r(C,b),k=0,j=D.length;k<j;k++){var O=D[k];f[O]=[s(f[O][0]||0,i(U,M[k]))]}v[_]=[U]}}return new a({data:v,size:[A,1]})}(d,f)},"DenseMatrix, Array | Matrix":function(d,f){return c(d,f)},"Array, Array | Matrix":function(d,f){return c(t(d),f).valueOf()}});function c(h,d){for(var f=(d=l(h,d,!0))._data,A=h._size[0],p=h._size[1],m=[],g=h._data,y=0;y<p;y++){var v=f[y][0]||0,_=void 0;if(o(v,0))_=0;else{var C=g[y][y];if(o(C,0))throw new Error("Linear system cannot be solved since matrix is singular");_=r(v,C);for(var b=y+1;b<A;b++)f[b]=[s(f[b][0]||0,i(_,g[b][y]))]}m[y]=[_]}return new a({data:m,size:[A,1]})}}),aae="matrixFromColumns",nJe=ye(aae,["typed","matrix","flatten","size"],n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e(aae,{"...Array":function(l){return s(l)},"...Matrix":function(l){return t(s(l.map(c=>c.toArray())))}});function s(a){if(0===a.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=o(a[0]),c=[],u=0;u<l;u++)c[u]=[];for(var h of a){var d=o(h);if(d!==l)throw new TypeError("The vectors had different length: "+(0|l)+" \u2260 "+(0|d));for(var f=r(h),A=0;A<l;A++)c[A].push(f[A])}return c}function o(a){var l=i(a);if(1===l.length)return l[0];if(2===l.length){if(1===l[0])return l[1];if(1===l[1])return l[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),iJe=ye("nthRoot",["typed","matrix","equalScalar","BigNumber","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,concat:s}=n,o=gm({typed:e}),a=id({typed:e,equalScalar:r}),l=WI({typed:e,equalScalar:r}),c=Ll({typed:e,equalScalar:r}),u=Ks({typed:e,matrix:t,concat:s});function h(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e("nthRoot",{number:tse,"number, number":tse,BigNumber:f=>d(f,new i(2)),"BigNumber, BigNumber":d,Complex:h,"Complex, number":h,Array:e.referTo("DenseMatrix,number",f=>A=>f(t(A),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",f=>A=>f(A,2)),SparseMatrix:e.referTo("SparseMatrix,number",f=>A=>f(A,2)),"SparseMatrix, SparseMatrix":e.referToSelf(f=>(A,p)=>{if(1===p.density())return l(A,p,f);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(f=>(A,p)=>{if(1===p.density())return o(A,p,f,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",f=>(A,p)=>f(t(A),p)),"number | BigNumber, SparseMatrix":e.referToSelf(f=>(A,p)=>{if(1===p.density())return c(p,A,f,!0);throw new Error("Root must be non-zero")})},u({scalar:"number | BigNumber",SD:a,Ss:c,sS:!1}));function d(f,A){var p=i.precision,m=i.clone({precision:p+2}),g=new i(0),y=new m(1),v=A.isNegative();if(v&&(A=A.neg()),A.isZero())throw new Error("Root must be non-zero");if(f.isNegative()&&!A.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(f.isZero())return v?new m(1/0):0;if(!f.isFinite())return v?g:f;var _=f.abs().pow(y.div(A));return _=f.isNeg()?_.neg():_,new i((v?y.div(_):_).toPrecision(p))}}),aJe=ye("ones",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("ones",{"":function(){return"Array"===t.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var h=c.pop();return s(c,h)}return"Array"===t.matrix?s(c):s(c,"default")},Array:s,Matrix:function(c){var u=c.storage();return s(c.valueOf(),u)},"Array | Matrix, string":function(c,u){return s(c.valueOf(),u)}});function s(l,c){var u=function o(l){var c=!1;return l.forEach(function(u,h,d){kr(u)&&(c=!0,d[h]=u.toNumber())}),c}(l),h=u?new i(1):1;if(function a(l){l.forEach(function(c){if("number"!=typeof c||!$n(c)||c<0)throw new Error("Parameters in function ones must be positive integers")})}(l),c){var d=r(c);return l.length>0?d.resize(l,h):d}var f=[];return l.length>0?mb(f,l,h):f}}),cJe=ye("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],n=>{var{typed:e,matrix:t,zeros:r,identity:i,isZero:s,equal:o,sign:a,sqrt:l,conj:c,unaryMinus:u,addScalar:h,divideScalar:d,multiplyScalar:f,subtractScalar:A,complex:p}=n;return qa(e("qr",{DenseMatrix:function(_){return g(_)},SparseMatrix:function(_){return function y(v){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(_){var b=g(t(_));return{Q:b.Q.valueOf(),R:b.R.valueOf()}}}),{_denseQRimpl:m});function m(v){var T,B,R,_=v._size[0],C=v._size[1],b=i([_],"dense"),M=b._data,D=v.clone(),E=D._data,U=r([_],"");for(R=0;R<Math.min(C,_);++R){var k=E[R][R],j=u(o(k,0)?1:a(k)),O=c(j),P=0;for(T=R;T<_;T++)P=h(P,f(E[T][R],c(E[T][R])));var G=f(j,l(P));if(!s(G)){var H=A(k,G);for(U[R]=1,T=R+1;T<_;T++)U[T]=d(E[T][R],H);var ae=u(c(d(H,G))),ve=void 0;for(B=R;B<C;B++){for(ve=0,T=R;T<_;T++)ve=h(ve,f(c(U[T]),E[T][B]));for(ve=f(ve,ae),T=R;T<_;T++)E[T][B]=f(A(E[T][B],f(U[T],ve)),O)}for(T=0;T<_;T++){for(ve=0,B=R;B<_;B++)ve=h(ve,f(M[T][B],U[B]));for(ve=f(ve,ae),B=R;B<_;++B)M[T][B]=d(A(M[T][B],f(ve,c(U[B]))),O)}}}return{Q:b,R:D,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function g(v){var _=m(v),C=_.R._data;if(v._data.length>0)for(var b="Complex"===C[0][0].type?p(0):0,M=0;M<C.length;++M)for(var D=0;D<M&&D<(C[0]||[]).length;++D)C[M][D]=b;return _}});function Q0(n,e,t,r){if(!(this instanceof Q0))throw new SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=e,this.min=t,this.max=r,this.message="Wrong number of arguments in function "+n+" ("+e+" provided, "+t+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}(Q0.prototype=new Error).constructor=Error,Q0.prototype.name="ArgumentsError",Q0.prototype.isArgumentsError=!0;var fJe=ye("resize",["config","matrix"],n=>{var{config:e,matrix:t}=n;return function(s,o,a){if(2!==arguments.length&&3!==arguments.length)throw new Q0("resize",arguments.length,2,3);if(cr(o)&&(o=o.valueOf()),kr(o[0])&&(o=o.map(function(u){return kr(u)?u.toNumber():u})),cr(s))return s.resize(o,a,!0);if("string"==typeof s)return function r(i,s,o){if(void 0!==o){if("string"!=typeof o||1!==o.length)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(1!==s.length)throw new ri(s.length,1);var a=s[0];if("number"!=typeof a||!$n(a))throw new TypeError("Invalid size, must contain positive integers (size: "+ni(s)+")");if(i.length>a)return i.substring(0,a);if(i.length<a){for(var l=i,c=0,u=a-i.length;c<u;c++)l+=o;return l}return i}(s,o,a);var l=!Array.isArray(s)&&"Array"!==e.matrix;if(0===o.length){for(;Array.isArray(s);)s=s[0];return Ir(s)}Array.isArray(s)||(s=[s]);var c=mb(s=Ir(s),o,a);return l?t(c):c}}),uae="rightArithShift",AJe=ye(uae,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:s,concat:o}=n,a=gm({typed:e}),l=id({typed:e,equalScalar:r}),c=K8({typed:e,equalScalar:r}),u=k0({typed:e,DenseMatrix:s}),h=Ll({typed:e,equalScalar:r}),d=rd({typed:e}),f=Ks({typed:e,matrix:t,concat:o}),A=X8({typed:e,matrix:t});return e(uae,{"number, number":Wre,"BigNumber, BigNumber":v9e,"bigint, bigint":(p,m)=>p>>m,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():h(m,g,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():d(m,g,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):u(g,m,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):d(g,m,p,!0))},A,f({SS:c,DS:a,SD:l}))}),Bb="Number of decimals in function round must be an integer",gJe=ye("round",["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],n=>{var{typed:e,config:t,matrix:r,equalScalar:i,zeros:s,BigNumber:o,DenseMatrix:a}=n,l=Ll({typed:e,equalScalar:i}),c=Wa({typed:e,DenseMatrix:a}),u=rd({typed:e});function h(d){return Math.abs(sS(d).exponent)}return e("round",{number:function(f){var A=AS(f,h(t.relTol));return AS(Pl(f,A,t.relTol,t.absTol)?A:f)},"number, number":function(f,A){var p=h(t.relTol);if(A>=p)return AS(f,A);var m=AS(f,p);return AS(Pl(f,m,t.relTol,t.absTol)?m:f,A)},"number, BigNumber":function(f,A){if(!A.isInteger())throw new TypeError(Bb);return new o(f).toDecimalPlaces(A.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,A){if(A%1)throw new TypeError(Bb);return f.round(A)},"Complex, BigNumber":function(f,A){if(!A.isInteger())throw new TypeError(Bb);var p=A.toNumber();return f.round(p)},BigNumber:function(f){var A=new o(f).toDecimalPlaces(h(t.relTol));return(Mu(f,A,t.relTol,t.absTol)?A:f).toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,A){if(!A.isInteger())throw new TypeError(Bb);var p=h(t.relTol);if(A>=p)return f.toDecimalPlaces(A.toNumber());var m=f.toDecimalPlaces(p);return(Mu(f,m,t.relTol,t.absTol)?m:f).toDecimalPlaces(A.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,A){if(A%1)throw new TypeError(Bb);return f.round(A)},"Fraction, BigNumber":function(f,A){if(!A.isInteger())throw new TypeError(Bb);return f.round(A.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(f,A,p){var m=f.toNumeric(p);return p.multiply(d(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>d(f,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>Rr(f,m=>d(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(f,A)=>d(f,0,A)),"Array | Matrix":e.referToSelf(d=>f=>Rr(f,d,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>l(f,A,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>u(f,A,d,!1)),"Array, number | BigNumber":e.referToSelf(d=>(f,A)=>u(r(f),A,d,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(d=>(f,A)=>i(f,0)?s(A.size(),A.storage()):c(A,f,d,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(d=>(f,A)=>i(f,0)?s(A.size(),A.storage()):u(A,f,d,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(d=>(f,A)=>u(r(A),f,d,!0).valueOf())})}),AF="smaller",vJe=ye(AF,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=qc({typed:e}),l=oA({typed:e,SparseMatrix:o}),c=Wa({typed:e,DenseMatrix:i}),u=Ks({typed:e,matrix:r,concat:s}),h=Sb({typed:e});return e(AF,yJe({typed:e,config:t}),{"boolean, boolean":(d,f)=>d<f,"BigNumber, BigNumber":function(f,A){return f.lt(A)&&!Mu(f,A,t.relTol,t.absTol)},"bigint, bigint":(d,f)=>d<f,"Fraction, Fraction":(d,f)=>-1===d.compare(f),"Complex, Complex":function(f,A){throw new TypeError("No ordering relation is defined for complex numbers")}},h,u({SS:l,DS:a,Ss:c}))}),yJe=ye(AF,["typed","config"],n=>{var{typed:e,config:t}=n;return e(AF,{"number, number":function(i,s){return i<s&&!Pl(i,s,t.relTol,t.absTol)}})}),bJe=ye("subtract",["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,subtractScalar:i,DenseMatrix:o,concat:a}=n,l=gm({typed:e}),c=qc({typed:e}),u=jI({typed:e,equalScalar:r}),h=k0({typed:e,DenseMatrix:o}),d=Wa({typed:e,DenseMatrix:o});return e("subtract",{"any, any":i},Ks({typed:e,matrix:t,concat:a})({elop:i,SS:u,DS:l,SD:c,Ss:d,sS:h}))}),CJe=ye("to",["typed","matrix","concat"],n=>{var{typed:e,matrix:t,concat:r}=n;return e("to",{"Unit, Unit | string":(s,o)=>s.to(o)},Ks({typed:e,matrix:t,concat:r})({Ds:!0}))}),EJe=ye("unaryPlus",["typed","config","numeric"],n=>{var{typed:e,config:t,numeric:r}=n;return e("unaryPlus",{number:$ie,Complex:function(s){return s},BigNumber:function(s){return s},bigint:function(s){return s},Fraction:function(s){return s},Unit:function(s){return s.clone()},"Array | Matrix":e.referToSelf(i=>s=>Rr(s,i,!0)),boolean:function(s){return r(s?1:0,t.number)},string:function(s){return r(s,hm(s,t))}})}),DJe=ye("usolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=gS({DenseMatrix:a});return e("usolve",{"SparseMatrix, Array | Matrix":function(d,f){return function u(h,d){for(var f=(d=l(h,d,!0))._data,A=h._size[0],m=h._values,g=h._index,y=h._ptr,v=[],_=h._size[1]-1;_>=0;_--){var C=f[_][0]||0;if(o(C,0))v[_]=[0];else{for(var b=0,M=[],D=[],E=y[_],B=y[_+1]-1;B>=E;B--){var R=g[B];R===_?b=m[B]:R<_&&(M.push(m[B]),D.push(R))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=r(C,b),k=0,j=D.length;k<j;k++){var O=D[k];f[O]=[s(f[O][0],i(U,M[k]))]}v[_]=[U]}}return new a({data:v,size:[A,1]})}(d,f)},"DenseMatrix, Array | Matrix":function(d,f){return c(d,f)},"Array, Array | Matrix":function(d,f){return c(t(d),f).valueOf()}});function c(h,d){for(var f=(d=l(h,d,!0))._data,A=h._size[0],m=[],g=h._data,y=h._size[1]-1;y>=0;y--){var v=f[y][0]||0,_=void 0;if(o(v,0))_=0;else{var C=g[y][y];if(o(C,0))throw new Error("Linear system cannot be solved since matrix is singular");_=r(v,C);for(var b=y-1;b>=0;b--)f[b]=[s(f[b][0]||0,i(_,g[b][y]))]}m[y]=[_]}return new a({data:m,size:[A,1]})}}),TJe=ye("xor",["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i,SparseMatrix:s}=n,o=qc({typed:e}),a=oA({typed:e,SparseMatrix:s}),l=Wa({typed:e,DenseMatrix:r}),c=Ks({typed:e,matrix:t,concat:i});return e("xor",{"number, number":N8,"Complex, Complex":function(h,d){return(0!==h.re||0!==h.im)!=(0!==d.re||0!==d.im)},"bigint, bigint":N8,"BigNumber, BigNumber":function(h,d){return(!h.isZero()&&!h.isNaN())!=(!d.isZero()&&!d.isNaN())},"Unit, Unit":e.referToSelf(u=>(h,d)=>u(h.value||0,d.value||0))},c({SS:a,DS:o,Ss:l}))}),NJe=ye("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],n=>{var{typed:e,matrix:t,addScalar:r,equalScalar:i,DenseMatrix:s,concat:a}=n,l=gm({typed:e}),c=R8({typed:e,equalScalar:i}),u=k0({typed:e,DenseMatrix:s}),h=Ks({typed:e,matrix:t,concat:a});return e("add",{"any, any":r,"any, any, ...any":e.referToSelf(d=>(f,A,p)=>{for(var m=d(f,A),g=0;g<p.length;g++)m=d(m,p[g]);return m})},h({elop:r,DS:l,SS:c,Ss:u}))}),vae=ye("matAlgo09xS0Sf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,h=i._datatype||void 0===i._data?i._datatype:i.getDataType(),d=s._values,f=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new ri(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof h&&h===m&&"mixed"!==h&&(_=e.find(t,[v=h,v]),C=e.convert(0,v),b=e.find(o,[v,v]));var R,U,k,O,M=a&&d?[]:void 0,D=[],E=[],T=M?[]:void 0,B=[];for(U=0;U<y;U++){E[U]=D.length;var P=U+1;if(T)for(O=A[U+1],k=A[U];k<O;k++)B[R=f[k]]=P,T[R]=d[k];for(O=c[U+1],k=c[U];k<O;k++)if(R=l[k],T){var H=b(a[k],B[R]===P?T[R]:C);_(H,C)||(D.push(R),M.push(H))}else D.push(R)}return E[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:E,size:[g,y],datatype:h===i._datatype&&m===s._datatype?v:void 0})}}),OJe=ye("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,DenseMatrix:s,concat:o}=n,a=id({typed:e,equalScalar:r}),l=qc({typed:e}),c=vae({typed:e,equalScalar:r}),u=Ll({typed:e,equalScalar:r}),h=Wa({typed:e,DenseMatrix:s}),d=Ks({typed:e,matrix:t,concat:o});return e("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":(f,A)=>i.atan2(f,A)},d({scalar:"number | BigNumber",SS:c,DS:l,SD:a,Ss:u,sS:h}))}),LJe=ye("bitXor",["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i,SparseMatrix:s}=n,o=qc({typed:e}),a=oA({typed:e,SparseMatrix:s}),l=Wa({typed:e,DenseMatrix:r});return e("bitXor",{"number, number":qre,"BigNumber, BigNumber":g9e,"bigint, bigint":(u,h)=>u^h},Ks({typed:e,matrix:t,concat:i})({SS:a,DS:o,Ss:l}))}),kJe=ye("catalan",["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],n=>{var{typed:e,addScalar:t,divideScalar:r,multiplyScalar:i,combinations:s,isNegative:o,isInteger:a}=n;return e("catalan",{"number | BigNumber":function(c){if(!a(c)||o(c))throw new TypeError("Non-negative integer value expected in function catalan");return r(s(i(c,2),c),t(c,1))}})}),pF="compare",VJe=ye(pF,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],n=>{var{typed:e,config:t,equalScalar:r,matrix:i,BigNumber:s,Fraction:o,DenseMatrix:a,concat:l}=n,c=qc({typed:e}),u=jI({typed:e,equalScalar:r}),h=Wa({typed:e,DenseMatrix:a}),d=Ks({typed:e,matrix:i,concat:l}),f=Sb({typed:e});return e(pF,QJe({typed:e,config:t}),{"boolean, boolean":function(p,m){return p===m?0:p>m?1:-1},"BigNumber, BigNumber":function(p,m){return Mu(p,m,t.relTol,t.absTol)?new s(0):new s(p.cmp(m))},"bigint, bigint":function(p,m){return p===m?0n:p>m?1n:-1n},"Fraction, Fraction":function(p,m){return new o(p.compare(m))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,d({SS:u,DS:c,Ss:h}))}),QJe=ye(pF,["typed","config"],n=>{var{typed:e,config:t}=n;return e(pF,{"number, number":function(i,s){return Pl(i,s,t.relTol,t.absTol)?0:i>s?1:-1}})}),wae="compareText",zJe=["typed","matrix","concat"];f8.signature="any, any";var GJe=ye(wae,zJe,n=>{var{typed:e,matrix:t,concat:r}=n,i=Ks({typed:e,matrix:t,concat:r});return e(wae,f8,i({elop:f8,Ds:!0}))}),jJe=ye("deepEqual",["typed","equal"],n=>{var{typed:e,equal:t}=n;return e("deepEqual",{"any, any":function(s,o){return r(s.valueOf(),o.valueOf())}});function r(i,s){if(Array.isArray(i)){if(Array.isArray(s)){var o=i.length;if(o!==s.length)return!1;for(var a=0;a<o;a++)if(!r(i[a],s[a]))return!1;return!0}return!1}return!Array.isArray(s)&&t(i,s)}}),$Je=ye("distance",["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],n=>{var{typed:e,addScalar:t,subtractScalar:r,multiplyScalar:i,divideScalar:s,deepEqual:o,sqrt:a,abs:l}=n;return e("distance",{"Array, Array, Array":function(C,b,M){if(2===C.length&&2===b.length&&2===M.length){if(!u(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!u(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!u(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(b,M))throw new TypeError("LinePoint1 should not be same with LinePoint2");var D=r(M[1],b[1]),E=r(b[0],M[0]),T=r(i(M[0],b[1]),i(b[0],M[1]));return m(C[0],C[1],D,E,T)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(C,b,M){if(2===Object.keys(C).length&&2===Object.keys(b).length&&2===Object.keys(M).length){if(!u(C))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!u(b))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!u(M))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(A(b),A(M)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in C&&"pointY"in C&&"lineOnePtX"in b&&"lineOnePtY"in b&&"lineTwoPtX"in M&&"lineTwoPtY"in M){var D=r(M.lineTwoPtY,b.lineOnePtY),E=r(b.lineOnePtX,M.lineTwoPtX),T=r(i(M.lineTwoPtX,b.lineOnePtY),i(b.lineOnePtX,M.lineTwoPtY));return m(C.pointX,C.pointY,D,E,T)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(C,b){if(2===C.length&&3===b.length){if(!u(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!h(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return m(C[0],C[1],b[0],b[1],b[2])}if(3===C.length&&6===b.length){if(!h(C))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!f(b))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(C[0],C[1],C[2],b[0],b[1],b[2],b[3],b[4],b[5])}if(C.length===b.length&&C.length>0){if(!d(C))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!d(b))throw new TypeError("All values of an array should be numbers or BigNumbers");return y(C,b)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(C,b){if(2===Object.keys(C).length&&3===Object.keys(b).length){if(!u(C))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!h(b))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in C&&"pointY"in C&&"xCoeffLine"in b&&"yCoeffLine"in b&&"constant"in b)return m(C.pointX,C.pointY,b.xCoeffLine,b.yCoeffLine,b.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(C).length&&6===Object.keys(b).length){if(!h(C))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in C&&"pointY"in C&&"x0"in b&&"y0"in b&&"z0"in b&&"a"in b&&"b"in b&&"c"in b)return g(C.pointX,C.pointY,C.pointZ,b.x0,b.y0,b.z0,b.a,b.b,b.c);throw new TypeError("Key names do not match")}if(2===Object.keys(C).length&&2===Object.keys(b).length){if(!u(C))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!u(b))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in C&&"pointOneY"in C&&"pointTwoX"in b&&"pointTwoY"in b)return y([C.pointOneX,C.pointOneY],[b.pointTwoX,b.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(C).length&&3===Object.keys(b).length){if(!h(C))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!h(b))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in C&&"pointOneY"in C&&"pointOneZ"in C&&"pointTwoX"in b&&"pointTwoY"in b&&"pointTwoZ"in b)return y([C.pointOneX,C.pointOneY,C.pointOneZ],[b.pointTwoX,b.pointTwoY,b.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(C){if(!function p(_){if(2===_[0].length&&c(_[0][0])&&c(_[0][1])){if(_.some(C=>2!==C.length||!c(C[0])||!c(C[1])))return!1}else{if(!(3===_[0].length&&c(_[0][0])&&c(_[0][1])&&c(_[0][2])))return!1;if(_.some(C=>3!==C.length||!c(C[0])||!c(C[1])||!c(C[2])))return!1}return!0}(C))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function v(_){for(var C=[],b=[],M=[],D=0;D<_.length-1;D++)for(var E=D+1;E<_.length;E++)2===_[0].length?(b=[_[D][0],_[D][1]],M=[_[E][0],_[E][1]]):3===_[0].length&&(b=[_[D][0],_[D][1],_[D][2]],M=[_[E][0],_[E][1],_[E][2]]),C.push(y(b,M));return C}(C)}});function c(_){return"number"==typeof _||kr(_)}function u(_){return _.constructor!==Array&&(_=A(_)),c(_[0])&&c(_[1])}function h(_){return _.constructor!==Array&&(_=A(_)),c(_[0])&&c(_[1])&&c(_[2])}function d(_){return Array.isArray(_)||(_=A(_)),_.every(c)}function f(_){return _.constructor!==Array&&(_=A(_)),c(_[0])&&c(_[1])&&c(_[2])&&c(_[3])&&c(_[4])&&c(_[5])}function A(_){for(var C=Object.keys(_),b=[],M=0;M<C.length;M++)b.push(_[C[M]]);return b}function m(_,C,b,M,D){var E=l(t(t(i(b,_),i(M,C)),D)),T=a(t(i(b,b),i(M,M)));return s(E,T)}function g(_,C,b,M,D,E,T,B,R){var U=[r(i(r(D,C),R),i(r(E,b),B)),r(i(r(E,b),T),i(r(M,_),R)),r(i(r(M,_),B),i(r(D,C),T))];U=a(t(t(i(U[0],U[0]),i(U[1],U[1])),i(U[2],U[2])));var k=a(t(t(i(T,T),i(B,B)),i(R,R)));return s(U,k)}function y(_,C){for(var b=_.length,M=0,D=0,E=0;E<b;E++)D=r(_[E],C[E]),M=t(i(D,D),M);return a(M)}}),XJe=ye("dot",["typed","addScalar","multiplyScalar","conj","size"],n=>{var{typed:e,addScalar:t,multiplyScalar:r,conj:i,size:s}=n;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function a(u,h){var d=o(u,h),f=cr(u)?u._data:u,A=cr(u)?u._datatype||u.getDataType():void 0,p=cr(h)?h._data:h,m=cr(h)?h._datatype||h.getDataType():void 0,g=2===c(u).length,y=2===c(h).length,v=t,_=r;if(A&&m&&A===m&&"string"==typeof A&&"mixed"!==A){var C=A;v=e.find(t,[C,C]),_=e.find(r,[C,C])}if(!g&&!y){for(var b=_(i(f[0]),p[0]),M=1;M<d;M++)b=v(b,_(i(f[M]),p[M]));return b}if(!g&&y){for(var D=_(i(f[0]),p[0][0]),E=1;E<d;E++)D=v(D,_(i(f[E]),p[E][0]));return D}if(g&&!y){for(var T=_(i(f[0][0]),p[0]),B=1;B<d;B++)T=v(T,_(i(f[B][0]),p[B]));return T}if(g&&y){for(var R=_(i(f[0][0]),p[0][0]),U=1;U<d;U++)R=v(R,_(i(f[U][0]),p[U][0]));return R}},"SparseMatrix, SparseMatrix":function l(u,h){o(u,h);for(var d=u._index,f=u._values,A=h._index,p=h._values,m=0,g=t,y=r,v=0,_=0;v<d.length&&_<A.length;){var C=d[v],b=A[_];C<b?v++:C>b?_++:C===b&&(m=g(m,y(f[v],p[_])),v++,_++)}return m}});function o(u,h){var A,p,d=c(u),f=c(h);if(1===d.length)A=d[0];else{if(2!==d.length||1!==d[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");A=d[0]}if(1===f.length)p=f[0];else{if(2!==f.length||1!==f[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");p=f[0]}if(A!==p)throw new RangeError("Vectors must have equal length ("+A+" != "+p+")");if(0===A)throw new RangeError("Cannot calculate the dot product of empty vectors");return A}function c(u){return cr(u)?u.size():s(u)}}),ZJe=ye("equalText",["typed","compareText","isZero"],n=>{var{typed:e,compareText:t,isZero:r}=n;return e("equalText",{"any, any":function(s,o){return r(t(s,o))}})}),Y8="floor",JJe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],eet=ye(Y8,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(Y8,{number:function(s){return Pl(s,r(s),t.relTol,t.absTol)?r(s):Math.floor(s)},"number, number":function(s,o){if(Pl(s,r(s,o),t.relTol,t.absTol))return r(s,o);var[a,l]="".concat(s,"e").split("e"),c=Math.floor(Number("".concat(a,"e").concat(Number(l)+o)));return[a,l]="".concat(c,"e").split("e"),Number("".concat(a,"e").concat(Number(l)-o))}})}),Dae=ye(Y8,JJe,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a}=n,l=Ll({typed:e,equalScalar:s}),c=Wa({typed:e,DenseMatrix:a}),u=rd({typed:e}),h=eet({typed:e,config:t,round:r});return e("floor",{number:h.signatures.number,"number,number":h.signatures["number,number"],Complex:function(f){return f.floor()},"Complex, number":function(f,A){return f.floor(A)},"Complex, BigNumber":function(f,A){return f.floor(A.toNumber())},BigNumber:function(f){return Mu(f,r(f),t.relTol,t.absTol)?r(f):f.floor()},"BigNumber, BigNumber":function(f,A){return Mu(f,r(f,A),t.relTol,t.absTol)?r(f,A):f.toDecimalPlaces(A.toNumber(),rF.ROUND_FLOOR)},Fraction:function(f){return f.floor()},"Fraction, number":function(f,A){return f.floor(A)},"Fraction, BigNumber":function(f,A){return f.floor(A.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(f,A,p){var m=f.toNumeric(p);return p.multiply(d(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>d(f,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>Rr(f,m=>d(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(f,A)=>d(f,0,A)),"Array | Matrix":e.referToSelf(d=>f=>Rr(f,d,!0)),"Array, number | BigNumber":e.referToSelf(d=>(f,A)=>Rr(f,p=>d(p,A),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>l(f,A,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>u(f,A,d,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(f,A)=>u(i(A),f,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(f,A)=>s(f,0)?o(A.size(),A.storage()):"dense"===A.storage()?u(A,f,d,!0):c(A,f,d,!0))})}),Tae=ye("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a,concat:l}=n,c=Dae({typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a}),u=id({typed:e,equalScalar:s}),h=qc({typed:e}),d=jI({typed:e,equalScalar:s}),f=Ll({typed:e,equalScalar:s}),A=Wa({typed:e,DenseMatrix:a});return e("mod",{"number, number":function m(g,y){return 0===y?g:g-y*c(g/y)},"BigNumber, BigNumber":function(y,v){return v.isZero()?y:y.sub(v.mul(c(y.div(v))))},"bigint, bigint":function(y,v){if(0n===v)return y;if(y<0){var _=y%v;return 0n===_?_:_+v}return y%v},"Fraction, Fraction":function(y,v){return v.equals(0)?y:y.sub(v.mul(c(y.div(v))))}},Ks({typed:e,matrix:i,concat:l})({SS:d,DS:h,SD:u,Ss:f,sS:A}))}),net=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],Z8="number | BigNumber | Fraction | Matrix | Array",ret="".concat(Z8,", ").concat(Z8,", ...").concat(Z8);function Nae(n){return!n.some(e=>Array.isArray(e))}var iet=ye("gcd",net,n=>{var{typed:e,matrix:t,config:r,round:i,equalScalar:s,zeros:o,BigNumber:a,DenseMatrix:l,concat:c}=n,u=Tae({typed:e,config:r,round:i,matrix:t,equalScalar:s,zeros:o,DenseMatrix:l,concat:c}),h=gm({typed:e}),d=R8({typed:e,equalScalar:s}),f=k0({typed:e,DenseMatrix:l});return e("gcd",{"number, number":function p(g,y){if(!$n(g)||!$n(y))throw new Error("Parameters in function gcd must be integer numbers");for(var v;0!==y;)v=u(g,y),g=y,y=v;return g<0?-g:g},"BigNumber, BigNumber":function m(g,y){if(!g.isInt()||!y.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var v=new a(0);!y.isZero();){var _=u(g,y);g=y,y=_}return g.lt(v)?g.neg():g},"Fraction, Fraction":(g,y)=>g.gcd(y)},Ks({typed:e,matrix:t,concat:c})({SS:d,DS:h,Ss:f}),{[ret]:e.referToSelf(g=>(y,v,_)=>{for(var C=g(y,v),b=0;b<_.length;b++)C=g(C,_[b]);return C}),Array:e.referToSelf(g=>y=>{if(1===y.length&&Array.isArray(y[0])&&Nae(y[0]))return g(...y[0]);if(Nae(y))return g(...y);throw new Q0("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(g=>y=>g(y.toArray()))})}),oet=ye("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],n=>{var{typed:e,abs:t,addScalar:r,divideScalar:i,multiplyScalar:s,sqrt:o,smaller:a,isPositive:l}=n;return e("hypot",{"... number | BigNumber":c,Array:c,Matrix:u=>c(Vi(u.toArray()))});function c(u){for(var h=0,d=0,f=0;f<u.length;f++){if(_p(u[f]))throw new TypeError("Unexpected type of argument to hypot");var A=t(u[f]);a(d,A)?(h=s(h,s(i(d,A),i(d,A))),h=r(h,1),d=A):h=r(h,l(A)?s(i(A,d),i(A,d)):A)}return s(d,o(h))}}),uet=ye("ImmutableDenseMatrix",["smaller","DenseMatrix"],n=>{var{smaller:e,DenseMatrix:t}=n;function r(i,s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!uc(s))throw new Error("Invalid datatype: "+s);if(cr(i)||Ds(i)){var o=new t(i,s);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Ds(i.data)&&Ds(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Ws(i)+")");this._data=[],this._size=[0],this._datatype=s,this._min=null,this._max=null}}return(r.prototype=new t).type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(i){switch(arguments.length){case 1:var s=t.prototype.subset.call(this,i);return cr(s)?new r({data:s._data,size:s._size,datatype:s._datatype}):s;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:Ir(this._data),size:Ir(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(i){return new r(i)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(null===this._min){var i=null;this.forEach(function(s){(null===i||e(s,i))&&(i=s)}),this._min=null!==i?i:void 0}return this._min},r.prototype.max=function(){if(null===this._max){var i=null;this.forEach(function(s){(null===i||e(i,s))&&(i=s)}),this._max=null!==i?i:void 0}return this._max},r},{isClass:!0}),det=ye("Index",["ImmutableDenseMatrix","getMatrixDataType"],n=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=n;function r(s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,a=arguments.length;o<a;o++){var l=arguments[o],c=Ds(l),u=cr(l),h=null;if(a8(l))this._dimensions.push(l),this._isScalar=!1;else if(c||u){var d=void 0;"boolean"===t(l)?(c&&(d=i(Fae(l).valueOf())),u&&(d=i(Fae(l._data).valueOf())),h=l.valueOf().length):d=i(l.valueOf()),this._dimensions.push(d);var f=d.size();(1!==f.length||1!==f[0]||null!==h)&&(this._isScalar=!1)}else if("number"==typeof l)this._dimensions.push(i([l]));else{if("string"!=typeof l)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(l)}this._sourceSize.push(h)}}function i(s){for(var o=0,a=s.length;o<a;o++)if("number"!=typeof s[o]||!$n(s[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(s)}return r.prototype.type="Index",r.prototype.isIndex=!0,r.prototype.clone=function(){var s=new r;return s._dimensions=Ir(this._dimensions),s._isScalar=this._isScalar,s._sourceSize=this._sourceSize,s},r.create=function(s){var o=new r;return r.apply(o,s),o},r.prototype.size=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?1:l.size()[0]}return s},r.prototype.max=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?l:l.max()}return s},r.prototype.min=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?l:l.min()}return s},r.prototype.forEach=function(s){for(var o=0,a=this._dimensions.length;o<a;o++)s(this._dimensions[o],o,this)},r.prototype.dimension=function(s){return"number"!=typeof s?null:this._dimensions[s]||null},r.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.valueOf=r.prototype.toArray=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s.push("string"==typeof l?l:l.toArray())}return s},r.prototype.toString=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s.push("string"==typeof l?JSON.stringify(l):l.toString())}return"["+s.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(s){return r.create(s.dimensions)},r},{isClass:!0});function Fae(n){var e=[];return n.forEach((t,r)=>{t&&e.push(r)}),e}var gF="larger",pet=ye(gF,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=qc({typed:e}),l=oA({typed:e,SparseMatrix:o}),c=Wa({typed:e,DenseMatrix:i}),u=Ks({typed:e,matrix:r,concat:s}),h=Sb({typed:e});return e(gF,get({typed:e,config:t}),{"boolean, boolean":(d,f)=>d>f,"BigNumber, BigNumber":function(f,A){return f.gt(A)&&!Mu(f,A,t.relTol,t.absTol)},"bigint, bigint":(d,f)=>d>f,"Fraction, Fraction":(d,f)=>1===d.compare(f),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,u({SS:l,DS:a,Ss:c}))}),get=ye(gF,["typed","config"],n=>{var{typed:e,config:t}=n;return e(gF,{"number, number":function(i,s){return i>s&&!Pl(i,s,t.relTol,t.absTol)}})}),vet=ye("log",["config","typed","typeOf","divideScalar","Complex"],n=>{var{typed:e,typeOf:t,config:r,divideScalar:i,Complex:s}=n;return e("log",{number:function(a){return a>=0||r.predictable?function S$e(n,e){return e?Math.log(n)/Math.log(e):Math.log(n)}(a):new s(a,0).log()},Complex:function(a){return a.log()},BigNumber:function(a){return!a.isNegative()||r.predictable?a.ln():new s(a.toNumber(),0).log()},"any, any":e.referToSelf(o=>(a,l)=>{if("Fraction"===t(a)&&"Fraction"===t(l)){var c=a.log(l);if(null!==c)return c}return i(o(a),o(l))})})}),_et=ye("lsolveAll",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=gS({DenseMatrix:a});return e("lsolveAll",{"SparseMatrix, Array | Matrix":function(d,f){return function u(h,d){for(var f=[l(h,d,!0)._data.map(ve=>ve[0])],A=h._size[0],p=h._size[1],m=h._values,g=h._index,y=h._ptr,v=0;v<p;v++)for(var _=f.length,C=0;C<_;C++){for(var b=f[C],M=[],D=[],T=y[v+1],B=0,R=y[v];R<T;R++){var U=g[R];U===v?B=m[R]:U>v&&(M.push(m[R]),D.push(U))}if(o(B,0))if(o(b[v],0)){if(0===C){var P=[...b];P[v]=1;for(var G=0,H=D.length;G<H;G++){var ae=D[G];P[ae]=s(P[ae],M[G])}f.push(P)}}else{if(0===C)return[];f.splice(C,1),C-=1,_-=1}else{b[v]=r(b[v],B);for(var k=0,j=D.length;k<j;k++){var O=D[k];b[O]=s(b[O],i(b[v],M[k]))}}}return f.map(ve=>new a({data:ve.map(Q=>[Q]),size:[A,1]}))}(d,f)},"DenseMatrix, Array | Matrix":function(d,f){return c(d,f)},"Array, Array | Matrix":function(d,f){return c(t(d),f).map(m=>m.valueOf())}});function c(h,d){for(var f=[l(h,d,!0)._data.map(D=>D[0])],A=h._data,p=h._size[0],m=h._size[1],g=0;g<m;g++)for(var y=f.length,v=0;v<y;v++){var _=f[v];if(o(A[g][g],0))if(o(_[g],0)){if(0===v){var b=[..._];b[g]=1;for(var M=g+1;M<m;M++)b[M]=s(b[M],A[M][g]);f.push(b)}}else{if(0===v)return[];f.splice(v,1),v-=1,y-=1}else{_[g]=r(_[g],A[g][g]);for(var C=g+1;C<m;C++)_[C]=s(_[C],i(_[g],A[C][g]))}}return f.map(D=>new a({data:D.map(E=>[E]),size:[p,1]}))}}),Pae="matrixFromRows",wet=ye(Pae,["typed","matrix","flatten","size"],n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e(Pae,{"...Array":function(l){return s(l)},"...Matrix":function(l){return t(s(l.map(c=>c.toArray())))}});function s(a){if(0===a.length)throw new TypeError("At least one row is needed to construct a matrix.");var l=o(a[0]),c=[];for(var u of a){var h=o(u);if(h!==l)throw new TypeError("The vectors had different length: "+(0|l)+" \u2260 "+(0|h));c.push(r(u))}return c}function o(a){var l=i(a);if(1===l.length)return l[0];if(2===l.length){if(1===l[0])return l[1];if(1===l[1])return l[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),xet=ye("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],n=>{var{typed:e,matrix:t,addScalar:r,multiplyScalar:i,equalScalar:s,dot:o}=n,a=Ll({typed:e,equalScalar:s}),l=rd({typed:e});function c(C,b){switch(C.length){case 1:switch(b.length){case 1:if(C[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(C[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+C[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(C[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+C[1]+") must match Vector length ("+b[0]+")");break;case 2:if(C[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+C[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+C.length+" dimensions)")}}var f=e("_multiplyMatrixVector",{"DenseMatrix, any":function p(C,b){var k,M=C._data,D=C._size,E=C._datatype||C.getDataType(),T=b._data,B=b._datatype||b.getDataType(),R=D[0],U=D[1],j=r,O=i;E&&B&&E===B&&"string"==typeof E&&"mixed"!==E&&(j=e.find(r,[k=E,k]),O=e.find(i,[k,k]));for(var P=[],G=0;G<R;G++){for(var H=M[G],ae=O(H[0],T[0]),ve=1;ve<U;ve++)ae=j(ae,O(H[ve],T[ve]));P[G]=ae}return C.createDenseMatrix({data:P,size:[R],datatype:E===C._datatype&&B===b._datatype?k:void 0})},"SparseMatrix, any":function y(C,b){var M=C._values,D=C._index,E=C._ptr,T=C._datatype||void 0===C._data?C._datatype:C.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var G,B=b._data,R=b._datatype||b.getDataType(),U=C._size[0],k=b._size[0],j=[],O=[],P=[],H=r,ae=i,ve=s,Q=0;T&&R&&T===R&&"string"==typeof T&&"mixed"!==T&&(H=e.find(r,[G=T,G]),ae=e.find(i,[G,G]),ve=e.find(s,[G,G]),Q=e.convert(0,G));var q=[],K=[];P[0]=0;for(var oe=0;oe<k;oe++){var se=B[oe];if(!ve(se,Q))for(var te=E[oe+1],ee=E[oe];ee<te;ee++){var Ae=D[ee];K[Ae]?q[Ae]=H(q[Ae],ae(se,M[ee])):(K[Ae]=!0,O.push(Ae),q[Ae]=ae(se,M[ee]))}}for(var xe=O.length,ge=0;ge<xe;ge++)j[ge]=q[O[ge]];return P[1]=O.length,C.createSparseMatrix({values:j,index:O,ptr:P,size:[U,1],datatype:T===C._datatype&&R===b._datatype?G:void 0})}}),A=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function m(C,b){var O,M=C._data,D=C._size,E=C._datatype||C.getDataType(),T=b._data,B=b._size,R=b._datatype||b.getDataType(),U=D[0],k=D[1],j=B[1],P=r,G=i;E&&R&&E===R&&"string"==typeof E&&"mixed"!==E&&"mixed"!==E&&(P=e.find(r,[O=E,O]),G=e.find(i,[O,O]));for(var H=[],ae=0;ae<U;ae++){var ve=M[ae];H[ae]=[];for(var Q=0;Q<j;Q++){for(var q=G(ve[0],T[0][Q]),K=1;K<k;K++)q=P(q,G(ve[K],T[K][Q]));H[ae][Q]=q}}return C.createDenseMatrix({data:H,size:[U,j],datatype:E===C._datatype&&R===b._datatype?O:void 0})},"DenseMatrix, SparseMatrix":function g(C,b){var M=C._data,D=C._size,E=C._datatype||C.getDataType(),T=b._values,B=b._index,R=b._ptr,U=b._size,k=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var P,j=D[0],O=U[1],G=r,H=i,ae=s,ve=0;E&&k&&E===k&&"string"==typeof E&&"mixed"!==E&&(G=e.find(r,[P=E,P]),H=e.find(i,[P,P]),ae=e.find(s,[P,P]),ve=e.convert(0,P));for(var Q=[],q=[],K=[],oe=b.createSparseMatrix({values:Q,index:q,ptr:K,size:[j,O],datatype:E===C._datatype&&k===b._datatype?P:void 0}),se=0;se<O;se++){K[se]=q.length;var le=R[se],te=R[se+1];if(te>le)for(var ee=0,Ae=0;Ae<j;Ae++){for(var xe=Ae+1,ge=void 0,Ee=le;Ee<te;Ee++){var ne=B[Ee];ee!==xe?(ge=H(M[Ae][ne],T[Ee]),ee=xe):ge=G(ge,H(M[Ae][ne],T[Ee]))}ee===xe&&!ae(ge,ve)&&(q.push(Ae),Q.push(ge))}}return K[O]=q.length,oe},"SparseMatrix, DenseMatrix":function v(C,b){var M=C._values,D=C._index,E=C._ptr,T=C._datatype||void 0===C._data?C._datatype:C.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O,B=b._data,R=b._datatype||b.getDataType(),U=C._size[0],k=b._size[0],j=b._size[1],P=r,G=i,H=s,ae=0;T&&R&&T===R&&"string"==typeof T&&"mixed"!==T&&(P=e.find(r,[O=T,O]),G=e.find(i,[O,O]),H=e.find(s,[O,O]),ae=e.convert(0,O));for(var ve=[],Q=[],q=[],K=C.createSparseMatrix({values:ve,index:Q,ptr:q,size:[U,j],datatype:T===C._datatype&&R===b._datatype?O:void 0}),oe=[],se=[],le=0;le<j;le++){q[le]=Q.length;for(var te=le+1,ee=0;ee<k;ee++){var Ae=B[ee][le];if(!H(Ae,ae))for(var ge=E[ee+1],Ee=E[ee];Ee<ge;Ee++){var ne=D[Ee];se[ne]!==te?(se[ne]=te,Q.push(ne),oe[ne]=G(Ae,M[Ee])):oe[ne]=P(oe[ne],G(Ae,M[Ee]))}}for(var W=Q.length,Me=q[le];Me<W;Me++)ve[Me]=oe[Q[Me]]}return q[j]=Q.length,K},"SparseMatrix, SparseMatrix":function _(C,b){var G,M=C._values,D=C._index,E=C._ptr,T=C._datatype||void 0===C._data?C._datatype:C.getDataType(),B=b._values,R=b._index,U=b._ptr,k=b._datatype||void 0===b._data?b._datatype:b.getDataType(),j=C._size[0],O=b._size[1],P=M&&B,H=r,ae=i;T&&k&&T===k&&"string"==typeof T&&"mixed"!==T&&(H=e.find(r,[G=T,G]),ae=e.find(i,[G,G]));for(var le,ee,Ae,ge,Ee,ne,ve=P?[]:void 0,Q=[],q=[],K=C.createSparseMatrix({values:ve,index:Q,ptr:q,size:[j,O],datatype:T===C._datatype&&k===b._datatype?G:void 0}),oe=P?[]:void 0,se=[],Y=0;Y<O;Y++){q[Y]=Q.length;var W=Y+1;for(ge=U[Y+1],Ae=U[Y];Ae<ge;Ae++)if(ne=R[Ae],P)for(ee=E[ne+1],le=E[ne];le<ee;le++)se[Ee=D[le]]!==W?(se[Ee]=W,Q.push(Ee),oe[Ee]=ae(B[Ae],M[le])):oe[Ee]=H(oe[Ee],ae(B[Ae],M[le]));else for(ee=E[ne+1],le=E[ne];le<ee;le++)se[Ee=D[le]]!==W&&(se[Ee]=W,Q.push(Ee));if(P)for(var Ce=Q.length,Pe=q[Y];Pe<Ce;Pe++)ve[Pe]=oe[Q[Pe]]}return q[O]=Q.length,K}});return e("multiply",i,{"Array, Array":e.referTo("Matrix, Matrix",C=>(b,M)=>{c(xr(b),xr(M));var D=C(t(b),t(M));return cr(D)?D.valueOf():D}),"Matrix, Matrix":function(b,M){var D=b.size(),E=M.size();return c(D,E),1===D.length?1===E.length?function u(C,b,M){if(0===M)throw new Error("Cannot multiply two empty vectors");return o(C,b)}(b,M,D[0]):function h(C,b){if("dense"!==b.storage())throw new Error("Support for SparseMatrix not implemented");return function d(C,b){var j,M=C._data,D=C._size,E=C._datatype||C.getDataType(),T=b._data,B=b._size,R=b._datatype||b.getDataType(),U=D[0],k=B[1],O=r,P=i;E&&R&&E===R&&"string"==typeof E&&"mixed"!==E&&(O=e.find(r,[j=E,j]),P=e.find(i,[j,j]));for(var G=[],H=0;H<k;H++){for(var ae=P(M[0],T[0][H]),ve=1;ve<U;ve++)ae=O(ae,P(M[ve],T[ve][H]));G[H]=ae}return C.createDenseMatrix({data:G,size:[k],datatype:E===C._datatype&&R===b._datatype?j:void 0})}(C,b)}(b,M):1===E.length?f(b,M):A(b,M)},"Matrix, Array":e.referTo("Matrix,Matrix",C=>(b,M)=>C(b,t(M))),"Array, Matrix":e.referToSelf(C=>(b,M)=>C(t(b,M.storage()),M)),"SparseMatrix, any":function(b,M){return a(b,M,i,!1)},"DenseMatrix, any":function(b,M){return l(b,M,i,!1)},"any, SparseMatrix":function(b,M){return a(M,b,i,!0)},"any, DenseMatrix":function(b,M){return l(M,b,i,!0)},"Array, any":function(b,M){return l(t(b),M,i,!1).valueOf()},"any, Array":function(b,M){return l(t(M),b,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(C=>(b,M,D)=>{for(var E=C(b,M),T=0;T<D.length;T++)E=C(E,D[T]);return E})})}),Det=ye("nthRoots",["config","typed","divideScalar","Complex"],n=>{var{typed:e,Complex:i}=n,s=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function o(a,l){if(l<0)throw new Error("Root must be greater than zero");if(0===l)throw new Error("Root must be non-zero");if(l%1!=0)throw new Error("Root must be an integer");if(0===a||0===a.abs())return[new i(0,0)];var u,c="number"==typeof a;(c||0===a.re||0===a.im)&&(u=c?2*+(a<0):0===a.im?2*+(a.re<0):2*+(a.im<0)+1);for(var h=a.arg(),d=a.abs(),f=[],A=Math.pow(d,1/l),p=0;p<l;p++){var m=(u+4*p)/l;m!==Math.round(m)?f.push(new i({r:A,phi:(h+2*Math.PI*p)/l})):f.push(s[m%4](A))}return f}return e("nthRoots",{Complex:function(l){return o(l,2)},"Complex, number":o})}),kae="partitionSelect",Tet=ye(kae,["typed","isNumeric","isNaN","compare"],n=>{var{typed:e,isNumeric:t,isNaN:r,compare:i}=n,s=i,o=(c,u)=>-i(c,u);return e(kae,{"Array | Matrix, number":function(u,h){return a(u,h,s)},"Array | Matrix, number, string":function(u,h,d){if("asc"===d)return a(u,h,s);if("desc"===d)return a(u,h,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":a});function a(c,u,h){if(!$n(u)||u<0)throw new Error("k must be a non-negative integer");if(cr(c)){if(c.size().length>1)throw new Error("Only one dimensional matrices supported");return l(c.valueOf(),u,h)}if(Array.isArray(c))return l(c,u,h)}function l(c,u,h){if(u>=c.length)throw new Error("k out of bounds");for(var d=0;d<c.length;d++)if(t(c[d])&&r(c[d]))return c[d];for(var f=0,A=c.length-1;f<A;){for(var p=f,m=A,g=c[Math.floor(Math.random()*(A-f+1))+f];p<m;)if(h(c[p],g)>=0){var y=c[m];c[m]=c[p],c[p]=y,--m}else++p;h(c[p],g)>0&&--p,u<=p?A=p:f=p+1}return c[u]}}),Hae="rightLogShift",Net=ye(Hae,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:s,concat:o}=n,a=gm({typed:e}),l=id({typed:e,equalScalar:r}),c=K8({typed:e,equalScalar:r}),u=k0({typed:e,DenseMatrix:s}),h=Ll({typed:e,equalScalar:r}),d=rd({typed:e}),f=Ks({typed:e,matrix:t,concat:o}),A=X8({typed:e,matrix:t});return e(Hae,{"number, number":$re,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():h(m,g,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():d(m,g,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):u(g,m,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):d(g,m,p,!0))},A,f({SS:c,DS:a,SD:l}))});function Vae(n,e,t,r,i,s,o){var a=0;for(t[o]=n;a>=0;){var l=t[o+a],c=t[r+l];-1===c?(a--,s[e++]=l):(t[r+l]=t[i+c],t[o+ ++a]=c)}return e}function wm(n){return-n-2}var Uet=ye("csAmd",["add","multiply","transpose"],n=>{var{add:e,multiply:t,transpose:r}=n;return function(u,h){if(!h||u<=0||u>3)return null;var d=h._size,f=d[0],A=d[1],p=0,m=Math.max(16,10*Math.sqrt(A)),g=function i(c,u,h,d,f){var A=r(u);if(1===c&&d===h)return e(u,A);if(2===c){for(var p=A._index,m=A._ptr,g=0,y=0;y<h;y++){var v=m[y];if(m[y]=g,!(m[y+1]-v>f))for(var _=m[y+1];v<_;v++)p[g++]=p[v]}return m[h]=g,u=r(A),t(A,u)}return t(A,u)}(u,h,f,A,m=Math.min(A-2,m));!function Oet(n,e,t){for(var r=n._values,i=n._index,s=n._ptr,a=n._size[1],l=0,c=0;c<a;c++){var u=s[c];for(s[c]=l;u<s[c+1];u++)e(i[u],c,r?r[u]:1,t)&&(i[l]=i[u],r&&(r[l]=r[u]),l++)}s[a]=l,i.splice(l,i.length-l),r&&r.splice(l,r.length-l)}(g,l,null);for(var H,ae,ve,Q,q,K,oe,se,le,te,ee,Ae,xe,ge,Ee,ne,y=g._index,v=g._ptr,_=v[A],C=[],b=[],D=A+1,E=2*(A+1),T=3*(A+1),B=4*(A+1),R=5*(A+1),U=6*(A+1),k=7*(A+1),j=C,O=function s(c,u,h,d,f,A,p,m,g,y,v,_){for(var C=0;C<c;C++)h[d+C]=u[C+1]-u[C];h[d+c]=0;for(var b=0;b<=c;b++)h[f+b]=-1,A[b]=-1,h[p+b]=-1,h[m+b]=-1,h[g+b]=1,h[y+b]=1,h[v+b]=0,h[_+b]=h[d+b];var M=a(0,0,h,y,c);return h[v+c]=-2,u[c]=-1,h[y+c]=0,M}(A,v,b,0,T,j,E,k,D,U,B,R),P=function o(c,u,h,d,f,A,p,m,g,y,v){for(var _=0,C=0;C<c;C++){var b=h[d+C];if(0===b)h[f+C]=-2,_++,u[C]=-1,h[A+C]=0;else if(b>p)h[m+C]=0,h[f+C]=-1,_++,u[C]=wm(c),h[m+c]++;else{var M=h[g+b];-1!==M&&(y[M]=C),h[v+C]=h[g+b],h[g+b]=C}}return _}(A,v,b,R,B,U,m,D,T,j,E),G=0;P<A;){for(ve=-1;G<A&&-1===(ve=b[T+G]);G++);-1!==b[E+ve]&&(j[b[E+ve]]=-1),b[T+G]=b[E+ve];var Y=b[B+ve],W=b[D+ve];P+=W;var Me=0;b[D+ve]=-W;var Ce=v[ve],Pe=0===Y?Ce:_,Oe=Pe;for(Q=1;Q<=Y+1;Q++){for(Q>Y?(K=ve,oe=Ce,se=b[0+ve]-Y):(oe=v[K=y[Ce++]],se=b[0+K]),q=1;q<=se;q++)!((le=b[D+(H=y[oe++])])<=0)&&(Me+=le,b[D+H]=-le,y[Oe++]=H,-1!==b[E+H]&&(j[b[E+H]]=j[H]),-1!==j[H]?b[E+j[H]]=b[E+H]:b[T+b[R+H]]=b[E+H]);K!==ve&&(v[K]=wm(ve),b[U+K]=0)}for(0!==Y&&(_=Oe),b[R+ve]=Me,v[ve]=Pe,b[0+ve]=Oe-Pe,b[B+ve]=-2,O=a(O,p,b,U,A),te=Pe;te<Oe;te++)if(!((ee=b[B+(H=y[te])])<=0)){var re=O-(le=-b[D+H]);for(Ce=v[H],Ae=v[H]+ee-1;Ce<=Ae;Ce++)b[U+(K=y[Ce])]>=O?b[U+K]-=le:0!==b[U+K]&&(b[U+K]=b[R+K]+re)}for(te=Pe;te<Oe;te++){for(xe=(Ae=v[H=y[te]])+b[B+H]-1,ge=Ae,Ee=0,ne=0,Ce=Ae;Ce<=xe;Ce++)if(0!==b[U+(K=y[Ce])]){var Z=b[U+K]-O;Z>0?(ne+=Z,y[ge++]=K,Ee+=K):(v[K]=wm(ve),b[U+K]=0)}b[B+H]=ge-Ae+1;var Ue=ge,Qe=Ae+b[0+H];for(Ce=xe+1;Ce<Qe;Ce++){var rt=b[D+(ae=y[Ce])];rt<=0||(ne+=rt,y[ge++]=ae,Ee+=ae)}0===ne?(v[H]=wm(ve),Me-=le=-b[D+H],W+=le,P+=le,b[D+H]=0,b[B+H]=-1):(b[R+H]=Math.min(b[R+H],ne),y[ge]=y[Ue],y[Ue]=y[Ae],y[Ae]=ve,b[0+H]=ge-Ae+1,b[E+H]=b[k+(Ee=(Ee<0?-Ee:Ee)%A)],b[k+Ee]=H,j[H]=Ee)}for(b[R+ve]=Me,O=a(O+(p=Math.max(p,Me)),p,b,U,A),te=Pe;te<Oe;te++)if(!(b[D+(H=y[te])]>=0))for(H=b[k+(Ee=j[H])],b[k+Ee]=-1;-1!==H&&-1!==b[E+H];H=b[E+H],O++){for(se=b[0+H],ee=b[B+H],Ce=v[H]+1;Ce<=v[H]+se-1;Ce++)b[U+y[Ce]]=O;var Xe=H;for(ae=b[E+H];-1!==ae;){var Pt=b[0+ae]===se&&b[B+ae]===ee;for(Ce=v[ae]+1;Pt&&Ce<=v[ae]+se-1;Ce++)b[U+y[Ce]]!==O&&(Pt=0);Pt?(v[ae]=wm(H),b[D+H]+=b[D+ae],b[D+ae]=0,b[B+ae]=-1,b[E+Xe]=ae=b[E+ae]):(Xe=ae,ae=b[E+ae])}}for(Ce=Pe,te=Pe;te<Oe;te++)!((le=-b[D+(H=y[te])])<=0)&&(b[D+H]=le,ne=b[R+H]+Me-le,-1!==b[T+(ne=Math.min(ne,A-P-le))]&&(j[b[T+ne]]=H),b[E+H]=b[T+ne],j[H]=-1,b[T+ne]=H,G=Math.min(G,ne),b[R+H]=ne,y[Ce++]=H);b[D+ve]=W,0==(b[0+ve]=Ce-Pe)&&(v[ve]=-1,b[U+ve]=0),0!==Y&&(_=Ce)}for(H=0;H<A;H++)v[H]=wm(v[H]);for(ae=0;ae<=A;ae++)b[T+ae]=-1;for(ae=A;ae>=0;ae--)b[D+ae]>0||(b[E+ae]=b[T+v[ae]],b[T+v[ae]]=ae);for(K=A;K>=0;K--)b[D+K]<=0||-1!==v[K]&&(b[E+K]=b[T+v[K]],b[T+v[K]]=K);for(ve=0,H=0;H<=A;H++)-1===v[H]&&(ve=Vae(H,ve,b,T,E,C,U));return C.splice(C.length-1,1),C};function a(c,u,h,d,f){if(c<2||c+u<0){for(var A=0;A<f;A++)0!==h[d+A]&&(h[d+A]=1);c=2}return c}function l(c,u){return c!==u}});function ket(n,e,t,r,i,s,o){var a,l,u,c=0;if(n<=e||t[r+e]<=t[i+n])return-1;t[i+n]=t[r+e];var h=t[s+n];if(t[s+n]=e,-1===h)c=1,u=n;else{for(c=2,u=h;u!==t[o+u];u=t[o+u]);for(a=h;a!==u;a=l)l=t[o+a],t[o+a]=u}return{jleaf:c,q:u}}var Qet=ye("csCounts",["transpose"],n=>{var{transpose:e}=n;return function(t,r,i,s){if(!t||!r||!i)return null;var c,u,h,d,f,p,o=t._size,a=o[0],l=o[1],m=4*l+(s?l+a+1:0),g=[],v=l,_=2*l,C=3*l,b=4*l,M=5*l+1;for(h=0;h<m;h++)g[h]=-1;var D=[],E=e(t),T=E._index,B=E._ptr;for(h=0;h<l;h++)for(D[u=i[h]]=-1===g[C+u]?1:0;-1!==u&&-1===g[C+u];u=r[u])g[C+u]=h;if(s){for(h=0;h<l;h++)g[i[h]]=h;for(c=0;c<a;c++){for(h=l,p=B[c+1],f=B[c];f<p;f++)h=Math.min(h,g[T[f]]);g[M+c]=g[b+h],g[b+h]=c}}for(c=0;c<l;c++)g[0+c]=c;for(h=0;h<l;h++){for(-1!==r[u=i[h]]&&D[r[u]]--,d=s?g[b+h]:u;-1!==d;d=s?g[M+d]:-1)for(f=B[d];f<B[d+1];f++){var R=ket(c=T[f],u,g,C,v,_,0);R.jleaf>=1&&D[u]++,2===R.jleaf&&D[R.q]--}-1!==r[u]&&(g[0+u]=r[u])}for(u=0;u<l;u++)-1!==r[u]&&(D[r[u]]+=D[u]);return D}}),qet=ye("csSqr",["add","multiply","transpose"],n=>{var{add:e,multiply:t,transpose:r}=n,i=Uet({add:e,multiply:t,transpose:r}),s=Qet({transpose:r});return function(l,c,u){var A,h=c._ptr,f=c._size[1],p={};if(p.q=i(l,c),l&&!p.q)return null;if(u){var m=l?function Iet(n,e,t,r){for(var i=n._values,s=n._index,o=n._ptr,a=n._size,l=n._datatype,c=a[0],u=a[1],h=r&&n._values?[]:null,d=[],f=[],A=0,p=0;p<u;p++){f[p]=A;for(var m=t?t[p]:p,y=o[m+1],v=o[m];v<y;v++)d[A]=e?e[s[v]]:s[v],h&&(h[A]=i[v]),A++}return f[u]=A,n.createSparseMatrix({values:h,index:d,ptr:f,size:[c,u],datatype:l})}(c,null,p.q,0):c;p.parent=function Ret(n,e){if(!n)return null;var h,d,t=n._index,r=n._ptr,i=n._size,s=i[0],o=i[1],a=[],l=[],u=o;if(e)for(h=0;h<s;h++)l[u+h]=-1;for(var f=0;f<o;f++){a[f]=-1,l[0+f]=-1;for(var p=r[f+1],m=r[f];m<p;m++){var g=t[m];for(h=e?l[u+g]:g;-1!==h&&h<f;h=d)d=l[0+h],l[0+h]=f,-1===d&&(a[h]=f);e&&(l[u+g]=f)}}return a}(m,1);var g=function Fet(n,e){if(!n)return null;var r,t=0,i=[],s=[],a=e,l=2*e;for(r=0;r<e;r++)s[0+r]=-1;for(r=e-1;r>=0;r--)-1!==n[r]&&(s[a+r]=s[0+n[r]],s[0+n[r]]=r);for(r=0;r<e;r++)-1===n[r]&&(t=Vae(r,t,s,0,a,i,l));return i}(p.parent,f);if(p.cp=s(m,p.parent,g,1),m&&p.parent&&p.cp&&function o(a,l){var c=a._ptr,u=a._index,h=a._size,d=h[0],f=h[1];l.pinv=[],l.leftmost=[];var b,M,D,T,A=l.parent,p=l.pinv,m=l.leftmost,g=[],v=d,_=d+f,C=d+2*f;for(M=0;M<f;M++)g[v+M]=-1,g[_+M]=-1,g[C+M]=0;for(b=0;b<d;b++)m[b]=-1;for(M=f-1;M>=0;M--)for(T=c[M+1],D=c[M];D<T;D++)m[u[D]]=M;for(b=d-1;b>=0;b--)p[b]=-1,-1!==(M=m[b])&&(0==g[C+M]++&&(g[_+M]=b),g[0+b]=g[v+M],g[v+M]=b);for(l.lnz=0,l.m2=d,M=0;M<f;M++)if(b=g[v+M],l.lnz++,b<0&&(b=l.m2++),p[b]=M,!(--C[M]<=0)){l.lnz+=g[C+M];var B=A[M];-1!==B&&(0===g[C+B]&&(g[_+B]=g[_+M]),g[0+g[_+M]]=g[v+B],g[v+B]=g[0+b],g[C+B]+=g[C+M])}for(b=0;b<d;b++)p[b]<0&&(p[b]=M++);return!0}(m,p))for(p.unz=0,A=0;A<f;A++)p.unz+=p.cp[A]}else p.unz=4*h[f]+f,p.lnz=p.unz;return p}});function J8(n,e){return n[e]<0}function Qae(n,e){n[e]=wm(n[e])}function zae(n){return n<0?wm(n):n}function jet(n,e,t,r,i){var c,u,h,s=e._index,o=e._ptr,l=e._size[1],d=0;for(r[0]=n;d>=0;){n=r[d];var f=i?i[n]:n;J8(o,n)||(Qae(o,n),r[l+d]=f<0?0:zae(o[f]));var A=1;for(u=r[l+d],h=f<0?0:zae(o[f+1]);u<h;u++)if(!J8(o,c=s[u])){r[l+d]=u,r[++d]=c,A=0;break}A&&(d--,r[--t]=n)}return t}var Xet=ye("csSpsolve",["divideScalar","multiply","subtract"],n=>{var{divideScalar:e,multiply:t,subtract:r}=n;return function(s,o,a,l,c,u,h){var _,C,b,M,d=s._values,f=s._index,A=s._ptr,m=s._size[1],g=o._values,y=o._index,v=o._ptr,D=function Wet(n,e,t,r,i){var u,d,s=n._ptr,a=e._index,l=e._ptr,c=n._size[1],f=c;for(d=l[t+1],u=l[t];u<d;u++){var A=a[u];J8(s,A)||(f=jet(A,n,f,r,i))}for(u=f;u<c;u++)Qae(s,r[u]);return f}(s,o,a,l,u);for(_=D;_<m;_++)c[l[_]]=0;for(b=v[a+1],_=C=v[a];_<b;_++)c[y[_]]=g[_];for(var E=D;E<m;E++){var T=l[E],B=u?u[T]:T;if(!(B<0))for(C=A[B],b=A[B+1],c[T]=e(c[T],d[h?C:b-1]),_=h?C+1:C,M=h?b:b-1;_<M;_++){var R=f[_];c[R]=r(c[R],t(d[_],c[T]))}}return D}}),Jet=ye("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],n=>{var{abs:e,divideScalar:t,multiply:r,subtract:i,larger:s,largerEq:o,SparseMatrix:a}=n,l=Xet({divideScalar:t,multiply:r,subtract:i});return function(u,h,d){if(!u)return null;var p,A=u._size[1],m=100,g=100;h&&(p=h.q,m=h.lnz||m,g=h.unz||g);var B,R,y=[],v=[],_=[],C=new a({values:y,index:v,ptr:_,size:[A,A]}),b=[],M=[],D=[],E=new a({values:b,index:M,ptr:D,size:[A,A]}),T=[],U=[],k=[];for(B=0;B<A;B++)U[B]=0,T[B]=-1,_[B+1]=0;m=0,g=0;for(var j=0;j<A;j++){_[j]=m,D[j]=g;var O=p?p[j]:j,P=l(C,u,O,k,U,T,1),G=-1,H=-1;for(R=P;R<A;R++)if(T[B=k[R]]<0){var ae=e(U[B]);s(ae,H)&&(H=ae,G=B)}else M[g]=T[B],b[g++]=U[B];if(-1===G||H<=0)return null;T[O]<0&&o(e(U[O]),r(H,d))&&(G=O);var ve=U[G];for(M[g]=j,b[g++]=ve,T[G]=j,v[m]=G,y[m++]=1,R=P;R<A;R++)T[B=k[R]]<0&&(v[m]=B,y[m++]=t(U[B],ve)),U[B]=0}for(_[A]=m,D[A]=g,R=0;R<m;R++)v[R]=T[v[R]];return y.splice(m,y.length-m),v.splice(m,v.length-m),b.splice(g,b.length-g),M.splice(g,M.length-g),{L:C,U:E,pinv:T}}}),ttt=ye("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],n=>{var{typed:e,abs:t,add:r,multiply:i,transpose:s,divideScalar:o,subtract:a,larger:l,largerEq:c,SparseMatrix:u}=n,h=qet({add:r,multiply:i,transpose:s}),d=Jet({abs:t,divideScalar:o,multiply:i,subtract:a,larger:l,largerEq:c,SparseMatrix:u});return e("slu",{"SparseMatrix, number, number":function(A,p,m){if(!$n(p)||p<0||p>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=h(p,A,!1),y=d(A,g,m);return{L:y.L,U:y.U,p:y.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),itt=ye("trace",["typed","matrix","add"],n=>{var{typed:e,matrix:t,add:r}=n;return e("trace",{Array:function(a){return i(t(a))},SparseMatrix:function s(o){var a=o._values,l=o._index,c=o._ptr,u=o._size,d=u[1];if(u[0]===d){var f=0;if(a.length>0)for(var A=0;A<d;A++)for(var m=c[A+1],g=c[A];g<m;g++){var y=l[g];if(y===A){f=r(f,a[g]);break}if(y>A)break}return f}throw new RangeError("Matrix must be square (size: "+ni(u)+")")},DenseMatrix:i,any:Ir});function i(o){var a=o._size,l=o._data;switch(a.length){case 1:if(1===a[0])return Ir(l[0]);throw new RangeError("Matrix must be square (size: "+ni(a)+")");case 2:var c=a[0];if(c===a[1]){for(var h=0,d=0;d<c;d++)h=r(h,l[d][d]);return h}throw new RangeError("Matrix must be square (size: "+ni(a)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+ni(a)+")")}}}),ott=ye("usolveAll",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=gS({DenseMatrix:a});return e("usolveAll",{"SparseMatrix, Array | Matrix":function(d,f){return function u(h,d){for(var f=[l(h,d,!0)._data.map(ve=>ve[0])],A=h._size[0],m=h._values,g=h._index,y=h._ptr,v=h._size[1]-1;v>=0;v--)for(var _=f.length,C=0;C<_;C++){for(var b=f[C],M=[],D=[],E=y[v],B=0,R=y[v+1]-1;R>=E;R--){var U=g[R];U===v?B=m[R]:U<v&&(M.push(m[R]),D.push(U))}if(o(B,0))if(o(b[v],0)){if(0===C){var P=[...b];P[v]=1;for(var G=0,H=D.length;G<H;G++){var ae=D[G];P[ae]=s(P[ae],M[G])}f.push(P)}}else{if(0===C)return[];f.splice(C,1),C-=1,_-=1}else{b[v]=r(b[v],B);for(var k=0,j=D.length;k<j;k++){var O=D[k];b[O]=s(b[O],i(b[v],M[k]))}}}return f.map(ve=>new a({data:ve.map(Q=>[Q]),size:[A,1]}))}(d,f)},"DenseMatrix, Array | Matrix":function(d,f){return c(d,f)},"Array, Array | Matrix":function(d,f){return c(t(d),f).map(m=>m.valueOf())}});function c(h,d){for(var f=[l(h,d,!0)._data.map(D=>D[0])],A=h._data,p=h._size[0],g=h._size[1]-1;g>=0;g--)for(var y=f.length,v=0;v<y;v++){var _=f[v];if(o(A[g][g],0))if(o(_[g],0)){if(0===v){var b=[..._];b[g]=1;for(var M=g-1;M>=0;M--)b[M]=s(b[M],A[M][g]);f.push(b)}}else{if(0===v)return[];f.splice(v,1),v-=1,y-=1}else{_[g]=r(_[g],A[g][g]);for(var C=g-1;C>=0;C--)_[C]=s(_[C],i(_[g],A[C][g]))}}return f.map(D=>new a({data:D.map(E=>[E]),size:[p,1]}))}}),ltt=ye("zpk2tf",["typed","add","multiply","Complex","number"],n=>{var{typed:e,add:t,multiply:r,Complex:i,number:s}=n;return e("zpk2tf",{"Array,Array,number":function(c,u,h){return o(c,u,h)},"Array,Array":function(c,u){return o(c,u,1)},"Matrix,Matrix,number":function(c,u,h){return o(c.valueOf(),u.valueOf(),h)},"Matrix,Matrix":function(c,u){return o(c.valueOf(),u.valueOf(),1)}});function o(l,c,u){l.some(y=>"BigNumber"===y.type)&&(l=l.map(y=>s(y))),c.some(y=>"BigNumber"===y.type)&&(c=c.map(y=>s(y)));for(var h=[i(1,0)],d=[i(1,0)],f=0;f<l.length;f++){var A=l[f];"number"==typeof A&&(A=i(A,0)),h=a(h,[i(1,0),i(-A.re,-A.im)])}for(var p=0;p<c.length;p++){var m=c[p];"number"==typeof m&&(m=i(m,0)),d=a(d,[i(1,0),i(-m.re,-m.im)])}for(var g=0;g<h.length;g++)h[g]=r(h[g],u);return[h,d]}function a(l,c){for(var u=[],h=0;h<l.length+c.length-1;h++){u[h]=i(0,0);for(var d=0;d<l.length;d++)h-d>=0&&h-d<c.length&&(u[h]=t(u[h],r(l[d],c[h-d])))}return u}}),e6="ceil",ctt=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],utt=ye(e6,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(e6,{number:function(s){return Pl(s,r(s),t.relTol,t.absTol)?r(s):Math.ceil(s)},"number, number":function(s,o){if(Pl(s,r(s,o),t.relTol,t.absTol))return r(s,o);var[a,l]="".concat(s,"e").split("e"),c=Math.ceil(Number("".concat(a,"e").concat(Number(l)+o)));return[a,l]="".concat(c,"e").split("e"),Number("".concat(a,"e").concat(Number(l)-o))}})}),htt=ye(e6,ctt,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a}=n,l=Ll({typed:e,equalScalar:s}),c=Wa({typed:e,DenseMatrix:a}),u=rd({typed:e}),h=utt({typed:e,config:t,round:r});return e("ceil",{number:h.signatures.number,"number,number":h.signatures["number,number"],Complex:function(f){return f.ceil()},"Complex, number":function(f,A){return f.ceil(A)},"Complex, BigNumber":function(f,A){return f.ceil(A.toNumber())},BigNumber:function(f){return Mu(f,r(f),t.relTol,t.absTol)?r(f):f.ceil()},"BigNumber, BigNumber":function(f,A){return Mu(f,r(f,A),t.relTol,t.absTol)?r(f,A):f.toDecimalPlaces(A.toNumber(),rF.ROUND_CEIL)},Fraction:function(f){return f.ceil()},"Fraction, number":function(f,A){return f.ceil(A)},"Fraction, BigNumber":function(f,A){return f.ceil(A.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(f,A,p){var m=f.toNumeric(p);return p.multiply(d(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>d(f,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>Rr(f,m=>d(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(f,A)=>d(f,0,A)),"Array | Matrix":e.referToSelf(d=>f=>Rr(f,d,!0)),"Array, number | BigNumber":e.referToSelf(d=>(f,A)=>Rr(f,p=>d(p,A),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>l(f,A,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>u(f,A,d,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(f,A)=>u(i(A),f,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(f,A)=>s(f,0)?o(A.size(),A.storage()):"dense"===A.storage()?u(A,f,d,!0):c(A,f,d,!0))})}),Nb=we(7955),Wae="compareNatural",dtt=ye(Wae,["typed","compare"],n=>{var{typed:e,compare:t}=n,r=t.signatures["boolean,boolean"];return e(Wae,{"any, any":function i(l,c){var d,u=Ws(l),h=Ws(c);if(!("number"!==u&&"BigNumber"!==u&&"Fraction"!==u||"number"!==h&&"BigNumber"!==h&&"Fraction"!==h))return"0"!==(d=t(l,c)).toString()?d>0?1:-1:Nb(u,h);var f=["Array","DenseMatrix","SparseMatrix"];if(f.includes(u)||f.includes(h))return 0!==(d=s(i,l,c))?d:Nb(u,h);if(u!==h)return Nb(u,h);if("Complex"===u)return function Att(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0}(l,c);if("Unit"===u)return l.equalBase(c)?i(l.value,c.value):o(i,l.formatUnits(),c.formatUnits());if("boolean"===u)return r(l,c);if("string"===u)return Nb(l,c);if("Object"===u)return function a(l,c,u){var h=Object.keys(c),d=Object.keys(u);h.sort(Nb),d.sort(Nb);var f=o(l,h,d);if(0!==f)return f;for(var A=0;A<h.length;A++){var p=l(c[h[A]],u[d[A]]);if(0!==p)return p}return 0}(i,l,c);if("null"===u||"undefined"===u)return 0;throw new TypeError('Unsupported type of value "'+u+'"')}});function s(l,c,u){return O0(c)&&O0(u)?o(l,c.toJSON().values,u.toJSON().values):O0(c)?s(l,c.toArray(),u):O0(u)?s(l,c,u.toArray()):mI(c)?s(l,c.toJSON().data,u):mI(u)?s(l,c,u.toJSON().data):Array.isArray(c)?Array.isArray(u)?o(l,c,u):s(l,c,[u]):s(l,[c],u)}function o(l,c,u){for(var h=0,d=Math.min(c.length,u.length);h<d;h++){var f=l(c[h],u[h]);if(0!==f)return f}return c.length>u.length?1:c.length<u.length?-1:0}}),$ae="composition",gtt=ye($ae,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],n=>{var{typed:e,addScalar:t,combinations:r,isPositive:i,isInteger:o,larger:a}=n;return e($ae,{"number | BigNumber, number | BigNumber":function(c,u){if(!(o(c)&&i(c)&&o(u)&&i(u)))throw new TypeError("Positive integer value expected in function composition");if(a(u,c))throw new TypeError("k must be less than or equal to n in function composition");return r(t(c,-1),t(u,-1))}})}),vtt=ye("cross",["typed","matrix","subtract","multiply"],n=>{var{typed:e,matrix:t,subtract:r,multiply:i}=n;return e("cross",{"Matrix, Matrix":function(a,l){return t(s(a.toArray(),l.toArray()))},"Matrix, Array":function(a,l){return t(s(a.toArray(),l))},"Array, Matrix":function(a,l){return t(s(a,l.toArray()))},"Array, Array":s});function s(o,a){var l=Math.max(xr(o).length,xr(a).length);o=CI(o),a=CI(a);var c=xr(o),u=xr(a);if(1!==c.length||1!==u.length||3!==c[0]||3!==u[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+c.join(", ")+"], B = ["+u.join(", ")+"])");var h=[r(i(o[1],a[2]),i(o[2],a[1])),r(i(o[2],a[0]),i(o[0],a[2])),r(i(o[0],a[1]),i(o[1],a[0]))];return l>1?[h]:h}}),_tt=ye("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],n=>{var{typed:e,matrix:t,subtractScalar:r,multiply:i,divideScalar:s,isZero:o,unaryMinus:a}=n;return e("det",{any:function(u){return Ir(u)},"Array | Matrix":function(u){var h;switch((h=cr(u)?u.size():Array.isArray(u)?(u=t(u)).size():[]).length){case 0:return Ir(u);case 1:if(1===h[0])return Ir(u.valueOf()[0]);if(0===h[0])return 1;throw new RangeError("Matrix must be square (size: "+ni(h)+")");case 2:var d=h[0],f=h[1];if(d===f)return function l(c,u,h){if(1===u)return Ir(c[0][0]);if(2===u)return r(i(c[0][0],c[1][1]),i(c[1][0],c[0][1]));for(var d=!1,f=new Array(u).fill(0).map((M,D)=>D),A=0;A<u;A++){var p=f[A];if(o(c[p][A])){var m=void 0;for(m=A+1;m<u;m++)if(!o(c[f[m]][A])){p=f[m],f[m]=f[A],f[A]=p,d=!d;break}if(m===u)return c[p][A]}for(var g=c[p][A],y=0===A?1:c[f[A-1]][A-1],v=A+1;v<u;v++)for(var _=f[v],C=A+1;C<u;C++)c[_][C]=s(r(i(c[_][C],g),i(c[_][A],c[p][C])),y)}var b=c[f[u-1]][u-1];return d?a(b):b}(u.clone().valueOf(),d);if(0===f)return 1;throw new RangeError("Matrix must be square (size: "+ni(h)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+ni(h)+")")}}})}),Yae="dotMultiply",wtt=ye(Yae,["typed","matrix","equalScalar","multiplyScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,multiplyScalar:i,concat:s}=n,o=id({typed:e,equalScalar:r}),a=vae({typed:e,equalScalar:r}),l=Ll({typed:e,equalScalar:r}),c=Ks({typed:e,matrix:t,concat:s});return e(Yae,c({elop:i,SS:a,DS:o,Ss:l}))}),Ett=ye("FibonacciHeap",["smaller","larger"],n=>{var{smaller:e,larger:t}=n,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(u,h,d){h.left.right=h.right,h.right.left=h.left,d.degree--,d.child===h&&(d.child=h.right),0===d.degree&&(d.child=null),h.left=u,h.right=u.right,u.right=h,h.right.left=h,h.parent=null,h.mark=!1}function a(u,h){var d=h.parent;d&&(h.mark?(o(u,h,d),a(d)):h.mark=!0)}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(u,h){var d={key:u,value:h,degree:0};if(this._minimum){var f=this._minimum;d.left=f,d.right=f.right,f.right=d,d.right.left=d,e(u,f.key)&&(this._minimum=d)}else d.left=d,d.right=d,this._minimum=d;return this._size++,d},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var u=this._minimum;if(null===u)return u;for(var h=this._minimum,d=u.degree,f=u.child;d>0;){var A=f.right;f.left.right=f.right,f.right.left=f.left,f.left=h,f.right=h.right,h.right=f,f.right.left=f,f.parent=null,f=A,d--}return u.left.right=u.right,u.right.left=u.left,h=u===u.right?null:function c(u,h){var m,d=Math.floor(Math.log(h)*r)+1,f=new Array(d),A=0,p=u;if(p)for(A++,p=p.right;p!==u;)A++,p=p.right;for(;A>0;){for(var g=p.degree,y=p.right;m=f[g];){if(t(p.key,m.key)){var v=m;m=p,p=v}l(m,p),f[g]=null,g++}f[g]=p,p=y,A--}u=null;for(var _=0;_<d;_++)(m=f[_])&&(u?(m.left.right=m.right,m.right.left=m.left,m.left=u,m.right=u.right,u.right=m,m.right.left=m,e(m.key,u.key)&&(u=m)):u=m);return u}(h=u.right,this._size),this._size--,this._minimum=h,u},i.prototype.remove=function(u){this._minimum=function s(u,h,d){h.key=d;var f=h.parent;return f&&e(h.key,f.key)&&(o(u,h,f),a(u,f)),e(h.key,u.key)&&(u=h),u}(this._minimum,u,-1),this.extractMinimum()};var l=function(h,d){h.left.right=h.right,h.right.left=h.left,h.parent=d,d.child?(h.left=d.child,h.right=d.child.right,d.child.right=h,h.right.left=h):(d.child=h,h.right=h,h.left=h),d.degree++,h.mark=!1};return i},{isClass:!0}),Stt=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],Dtt=ye("fix",["typed","ceil","floor"],n=>{var{typed:e,ceil:t,floor:r}=n;return e("fix",{number:function(s){return s>0?r(s):t(s)},"number, number":function(s,o){return s>0?r(s,o):t(s,o)}})}),Mtt=ye("fix",Stt,n=>{var{typed:e,Complex:t,matrix:r,ceil:i,floor:s,equalScalar:o,zeros:a,DenseMatrix:l}=n,c=Wa({typed:e,DenseMatrix:l}),u=rd({typed:e}),h=Dtt({typed:e,ceil:i,floor:s});return e("fix",{number:h.signatures.number,"number, number | BigNumber":h.signatures["number,number"],Complex:function(f){return new t(f.re>0?Math.floor(f.re):Math.ceil(f.re),f.im>0?Math.floor(f.im):Math.ceil(f.im))},"Complex, number":function(f,A){return new t(f.re>0?s(f.re,A):i(f.re,A),f.im>0?s(f.im,A):i(f.im,A))},"Complex, BigNumber":function(f,A){var p=A.toNumber();return new t(f.re>0?s(f.re,p):i(f.re,p),f.im>0?s(f.im,p):i(f.im,p))},BigNumber:function(f){return f.isNegative()?i(f):s(f)},"BigNumber, number | BigNumber":function(f,A){return f.isNegative()?i(f,A):s(f,A)},Fraction:function(f){return f.s<0n?f.ceil():f.floor()},"Fraction, number | BigNumber":function(f,A){return f.s<0n?i(f,A):s(f,A)},"Unit, number, Unit":e.referToSelf(d=>function(f,A,p){var m=f.toNumeric(p);return p.multiply(d(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>d(f,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>Rr(f,m=>d(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(f,A)=>d(f,0,A)),"Array | Matrix":e.referToSelf(d=>f=>Rr(f,d,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(d=>(f,A)=>Rr(f,p=>d(p,A),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(f,A)=>u(r(A),f,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(f,A)=>o(f,0)?a(A.size(),A.storage()):"dense"===A.storage()?u(A,f,d,!0):c(A,f,d,!0))})}),Btt=ye("index",["typed","Index"],n=>{var{typed:e,Index:t}=n;return e("index",{"...number | string | BigNumber | Range | Array | Matrix":function(i){var s=i.map(function(a){return kr(a)?a.toNumber():Ds(a)||cr(a)?a.map(function(l){return kr(l)?l.toNumber():l}):a}),o=new t;return t.apply(o,s),o}})}),Ftt=ye("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],n=>{var{typed:e,config:t,abs:r,add:i,addScalar:s,matrix:o,multiply:a,multiplyScalar:l,divideScalar:c,subtract:u,smaller:h,equalScalar:d,flatten:f,isZero:A,isNumeric:p}=n;return e("intersect",{"Array, Array, Array":m,"Array, Array, Array, Array":g,"Matrix, Matrix, Matrix":function(B,R,U){var k=m(B.valueOf(),R.valueOf(),U.valueOf());return null===k?null:o(k)},"Matrix, Matrix, Matrix, Matrix":function(B,R,U,k){var j=g(B.valueOf(),R.valueOf(),U.valueOf(),k.valueOf());return null===j?null:o(j)}});function m(T,B,R){if(T=y(T),B=y(B),R=y(R),!_(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function C(T){return 4===T.length&&p(T[0])&&p(T[1])&&p(T[2])&&p(T[3])}(R))throw new TypeError("Array with 4 numbers expected as third argument");return function E(T,B,R,U,k,j,O,P,G,H){var ae=l(T,O),ve=l(U,O),Q=l(B,P),q=l(k,P),K=l(R,G),oe=l(j,G),se=u(u(u(H,ae),Q),K),le=u(u(u(s(s(ve,q),oe),ae),Q),K),te=c(se,le);return[s(T,l(te,u(U,T))),s(B,l(te,u(k,B))),s(R,l(te,u(j,R)))]}(T[0],T[1],T[2],B[0],B[1],B[2],R[0],R[1],R[2],R[3])}function g(T,B,R,U){if(T=y(T),B=y(B),R=y(R),U=y(U),2===T.length){if(!v(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!v(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!v(R))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!v(U))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function b(T,B,R,U){var k=T,j=R,O=u(k,B),P=u(j,U),G=u(l(O[0],P[1]),l(P[0],O[1]));if(A(G)||h(r(G),t.relTol))return null;var H=l(P[0],k[1]),ae=l(P[1],k[0]),ve=l(P[0],j[1]),Q=l(P[1],j[0]),q=c(s(u(u(H,ae),ve),Q),G);return i(a(O,q),k)}(T,B,R,U)}if(3===T.length){if(!_(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_(R))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!_(U))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function D(T,B,R,U,k,j,O,P,G,H,ae,ve){var Q=M(T,O,H,O,B,P,ae,P,R,G,ve,G),q=M(H,O,U,T,ae,P,k,B,ve,G,j,R),K=M(T,O,U,T,B,P,k,B,R,G,j,R),oe=M(H,O,H,O,ae,P,ae,P,ve,G,ve,G),se=M(U,T,U,T,k,B,k,B,j,R,j,R),le=u(l(Q,q),l(K,oe)),te=u(l(se,oe),l(q,q));if(A(te))return null;var ee=c(le,te),Ae=c(s(Q,l(ee,q)),oe),xe=s(T,l(ee,u(U,T))),ge=s(B,l(ee,u(k,B))),Ee=s(R,l(ee,u(j,R))),ne=s(O,l(Ae,u(H,O))),Y=s(P,l(Ae,u(ae,P))),W=s(G,l(Ae,u(ve,G)));return d(xe,ne)&&d(ge,Y)&&d(Ee,W)?[xe,ge,Ee]:null}(T[0],T[1],T[2],B[0],B[1],B[2],R[0],R[1],R[2],U[0],U[1],U[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function y(T){return 1===T.length?T[0]:T.length>1&&Array.isArray(T[0])&&T.every(B=>Array.isArray(B)&&1===B.length)?f(T):T}function v(T){return 2===T.length&&p(T[0])&&p(T[1])}function _(T){return 3===T.length&&p(T[0])&&p(T[1])&&p(T[2])}function M(T,B,R,U,k,j,O,P,G,H,ae,ve){var Q=l(u(T,B),u(R,U)),q=l(u(k,j),u(O,P)),K=l(u(G,H),u(ae,ve));return s(s(Q,q),K)}}),Ott=ye("invmod",["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],n=>{var{typed:e,BigNumber:r,xgcd:i,equal:s,smaller:o,mod:a,add:l,isInteger:c}=n;return e("invmod",{"number, number":u,"BigNumber, BigNumber":u});function u(h,d){if(!c(h)||!c(d))throw new Error("Parameters in function invmod must be integer numbers");if(h=a(h,d),s(d,0))throw new Error("Divisor must be non zero");var f=i(h,d);f=f.valueOf();var[A,p]=f;return s(A,r(1))?(p=a(p,d),o(p,r(0))&&(p=l(p,d)),p):NaN}}),Ltt=ye("lcm",["typed","matrix","equalScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,s=id({typed:e,equalScalar:r}),o=WI({typed:e,equalScalar:r}),a=Ll({typed:e,equalScalar:r}),l=Ks({typed:e,matrix:t,concat:i}),c="number | BigNumber | Fraction | Matrix | Array",u={};return u["".concat(c,", ").concat(c,", ...").concat(c)]=e.referToSelf(d=>(f,A,p)=>{for(var m=d(f,A),g=0;g<p.length;g++)m=d(m,p[g]);return m}),e("lcm",{"number, number":Zie,"BigNumber, BigNumber":function h(d,f){if(!d.isInt()||!f.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(d.isZero())return d;if(f.isZero())return f;for(var A=d.times(f);!f.isZero();){var p=f;f=d.mod(p),d=p}return A.div(d).abs()},"Fraction, Fraction":(d,f)=>d.lcm(f)},l({SS:o,DS:s,Ss:a}),u)}),ktt=ye("log1p",["typed","config","divideScalar","log","Complex"],n=>{var{typed:e,config:t,divideScalar:r,log:i,Complex:s}=n;return e("log1p",{number:function(l){return l>=-1||t.predictable?Dne(l):o(new s(l,0))},Complex:o,BigNumber:function(l){var c=l.plus(1);return!c.isNegative()||t.predictable?c.ln():o(new s(l.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>l=>Rr(l,a)),"any, any":e.referToSelf(a=>(l,c)=>r(a(l),i(c)))});function o(a){var l=a.re+1;return new s(Math.log(Math.sqrt(l*l+a.im*a.im)),Math.atan2(a.im,l))}}),nle="setCartesian",Vtt=ye(nle,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(nle,{"Array | Matrix, Array | Matrix":function(l,c){var u=[];if(0!==r(t(l),new s(0))&&0!==r(t(c),new s(0))){var h=Vi(Array.isArray(l)?l:l.toArray()).sort(i),d=Vi(Array.isArray(c)?c:c.toArray()).sort(i);u=[];for(var f=0;f<h.length;f++)for(var A=0;A<d.length;A++)u.push([h[f],d[A]])}return Array.isArray(l)&&Array.isArray(c)?u:new o(u)}})}),rle="setDistinct",ztt=ye(rle,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(rle,{"Array | Matrix":function(l){var c;if(0===r(t(l),new s(0)))c=[];else{var u=Vi(Array.isArray(l)?l:l.toArray()).sort(i);(c=[]).push(u[0]);for(var h=1;h<u.length;h++)0!==i(u[h],u[h-1])&&c.push(u[h])}return Array.isArray(l)?c:new o(c)}})}),ile="setIsSubset",qtt=ye(ile,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s}=n;return e(ile,{"Array | Matrix, Array | Matrix":function(a,l){if(0===r(t(a),new s(0)))return!0;if(0===r(t(l),new s(0)))return!1;for(var h,c=vb(Vi(Array.isArray(a)?a:a.toArray()).sort(i)),u=vb(Vi(Array.isArray(l)?l:l.toArray()).sort(i)),d=0;d<c.length;d++){h=!1;for(var f=0;f<u.length;f++)if(0===i(c[d].value,u[f].value)&&c[d].identifier===u[f].identifier){h=!0;break}if(!1===h)return!1}return!0}})}),sle="setPowerset",Wtt=ye(sle,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s}=n;return e(sle,{"Array | Matrix":function(c){if(0===r(t(c),new s(0)))return[];for(var u=Vi(Array.isArray(c)?c:c.toArray()).sort(i),h=[],d=0;d.toString(2).length<=u.length;)h.push(o(u,d.toString(2).split("").reverse())),d++;return function a(l){for(var c=[],u=l.length-1;u>0;u--)for(var h=0;h<u;h++)l[h].length>l[h+1].length&&(c=l[h],l[h]=l[h+1],l[h+1]=c);return l}(h)}});function o(l,c){for(var u=[],h=0;h<c.length;h++)"1"===c[h]&&u.push(l[h]);return u}}),mF="smallerEq",Ktt=ye(mF,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=qc({typed:e}),l=oA({typed:e,SparseMatrix:o}),c=Wa({typed:e,DenseMatrix:i}),u=Ks({typed:e,matrix:r,concat:s}),h=Sb({typed:e});return e(mF,Xtt({typed:e,config:t}),{"boolean, boolean":(d,f)=>d<=f,"BigNumber, BigNumber":function(f,A){return f.lte(A)||Mu(f,A,t.relTol,t.absTol)},"bigint, bigint":(d,f)=>d<=f,"Fraction, Fraction":(d,f)=>1!==d.compare(f),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,u({SS:l,DS:a,Ss:c}))}),Xtt=ye(mF,["typed","config"],n=>{var{typed:e,config:t}=n;return e(mF,{"number, number":function(i,s){return i<=s||Pl(i,s,t.relTol,t.absTol)}})}),Ztt=ye("sort",["typed","matrix","compare","compareNatural"],n=>{var{typed:e,matrix:t,compare:r,compareNatural:i}=n,s=r,o=(u,h)=>-r(u,h);return e("sort",{Array:function(h){return l(h),h.sort(s)},Matrix:function(h){return c(h),t(h.toArray().sort(s),h.storage())},"Array, function":function(h,d){return l(h),h.sort(d)},"Matrix, function":function(h,d){return c(h),t(h.toArray().sort(d),h.storage())},"Array, string":function(h,d){return l(h),h.sort(a(d))},"Matrix, string":function(h,d){return c(h),t(h.toArray().sort(a(d)),h.storage())}});function a(u){if("asc"===u)return s;if("desc"===u)return o;if("natural"===u)return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(u){if(1!==xr(u).length)throw new Error("One dimensional array expected")}function c(u){if(1!==u.size().length)throw new Error("One dimensional matrix expected")}}),vF="unequal",ent=ye(vF,["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,equalScalar:r,matrix:i,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=qc({typed:e}),c=oA({typed:e,SparseMatrix:a}),u=Wa({typed:e,DenseMatrix:s}),h=Ks({typed:e,matrix:i,concat:o});return e(vF,tnt({typed:e,equalScalar:r}),h({elop:function d(f,A){return!r(f,A)},SS:c,DS:l,Ss:u}))}),tnt=ye(vF,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(vF,{"any, any":function(i,s){return null===i?null!==s:null===s?null!==i:void 0===i?void 0!==s:void 0===s?void 0!==i:!t(i,s)}})}),ale="setDifference",rnt=ye(ale,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(ale,{"Array | Matrix, Array | Matrix":function(l,c){var u;if(0===r(t(l),new s(0)))u=[];else{if(0===r(t(c),new s(0)))return Vi(l.toArray());var h=vb(Vi(Array.isArray(l)?l:l.toArray()).sort(i)),d=vb(Vi(Array.isArray(c)?c:c.toArray()).sort(i));u=[];for(var f,A=0;A<h.length;A++){f=!1;for(var p=0;p<d.length;p++)if(0===i(h[A].value,d[p].value)&&h[A].identifier===d[p].identifier){f=!0;break}f||u.push(h[A])}}return Array.isArray(l)&&Array.isArray(c)?xI(u):new o(xI(u))}})}),lle="setMultiplicity",snt=ye(lle,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s}=n;return e(lle,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(a,l){if(0===r(t(l),new s(0)))return 0;for(var c=Vi(Array.isArray(l)?l:l.toArray()),u=0,h=0;h<c.length;h++)0===i(c[h],a)&&u++;return u}})}),cle="setSymDifference",ant=ye(cle,["typed","size","concat","subset","setDifference","Index"],n=>{var{typed:e,size:t,concat:r,subset:i,setDifference:s,Index:o}=n;return e(cle,{"Array | Matrix, Array | Matrix":function(l,c){if(0===i(t(l),new o(0)))return Vi(c);if(0===i(t(c),new o(0)))return Vi(l);var u=Vi(l),h=Vi(c);return r(s(u,h),s(h,u))}})}),unt=ye("Spa",["addScalar","equalScalar","FibonacciHeap"],n=>{var{addScalar:e,equalScalar:t,FibonacciHeap:r}=n;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(s,o){if(this._values[s])this._values[s].value=o;else{var a=this._heap.insert(s,o);this._values[s]=a}},i.prototype.get=function(s){var o=this._values[s];return o?o.value:0},i.prototype.accumulate=function(s,o){var a=this._values[s];a?a.value=e(a.value,o):(a=this._heap.insert(s,o),this._values[s]=a)},i.prototype.forEach=function(s,o,a){var l=this._heap,c=this._values,u=[],h=l.extractMinimum();for(h&&u.push(h);h&&h.key<=o;)h.key>=s&&(t(h.value,0)||a(h.key,h.value,this)),(h=l.extractMinimum())&&u.push(h);for(var d=0;d<u.length;d++){var f=u[d];c[(h=l.insert(f.key,f.value)).key]=h}},i.prototype.swap=function(s,o){var a=this._values[s],l=this._values[o];if(!a&&l)a=this._heap.insert(s,l.value),this._heap.remove(l),this._values[s]=a,this._values[o]=void 0;else if(a&&!l)l=this._heap.insert(o,a.value),this._heap.remove(a),this._values[o]=l,this._values[s]=void 0;else if(a&&l){var c=a.value;a.value=l.value,l.value=c}},i},{isClass:!0}),fnt=ye("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],n=>{var{typed:e,matrix:t,divideScalar:r,addScalar:i,multiply:s,unaryMinus:o,det:a,identity:l,abs:c}=n;return e("inv",{"Array | Matrix":function(d){var f=cr(d)?d.size():xr(d);switch(f.length){case 1:if(1===f[0])return cr(d)?t([r(1,d.valueOf()[0])]):[r(1,d[0])];throw new RangeError("Matrix must be square (size: "+ni(f)+")");case 2:var A=f[0],p=f[1];if(A===p)return cr(d)?t(u(d.valueOf(),A,p),d.storage()):u(d,A,p);throw new RangeError("Matrix must be square (size: "+ni(f)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+ni(f)+")")}},any:function(d){return r(1,d)}});function u(h,d,f){var A,p,m,g,y;if(1===d){if(0===(g=h[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,g)]]}if(2===d){var v=a(h);if(0===v)throw Error("Cannot calculate inverse, determinant is zero");return[[r(h[1][1],v),r(o(h[0][1]),v)],[r(o(h[1][0]),v),r(h[0][0],v)]]}var _=h.concat();for(A=0;A<d;A++)_[A]=_[A].concat();for(var C=l(d).valueOf(),b=0;b<f;b++){var M=c(_[b][b]),D=b;for(A=b+1;A<d;)c(_[A][b])>M&&(M=c(_[A][b]),D=A),A++;if(0===M)throw Error("Cannot calculate inverse, determinant is zero");(A=D)!==b&&(y=_[b],_[b]=_[A],_[A]=y,y=C[b],C[b]=C[A],C[A]=y);var E=_[b],T=C[b];for(A=0;A<d;A++){var B=_[A],R=C[A];if(A!==b){if(0!==B[b]){for(m=r(o(B[b]),E[b]),p=b;p<f;p++)B[p]=i(B[p],s(m,E[p]));for(p=0;p<f;p++)R[p]=i(R[p],s(m,T[p]))}}else{for(m=E[b],p=b;p<f;p++)B[p]=r(B[p],m);for(p=0;p<f;p++)R[p]=r(R[p],m)}}}return C}}),Ant=ye("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],n=>{var{typed:e,matrix:t,abs:r,addScalar:i,divideScalar:s,multiplyScalar:o,subtractScalar:a,larger:l,equalScalar:c,unaryMinus:u,DenseMatrix:h,SparseMatrix:d,Spa:f}=n;return e("lup",{DenseMatrix:function(g){return A(g)},SparseMatrix:function(g){return function p(m){var j,O,P,g=m._size[0],y=m._size[1],v=Math.min(g,y),_=m._values,C=m._index,b=m._ptr,M=[],D=[],E=[],T=[g,v],B=[],R=[],U=[],k=[v,y],G=[],H=[];for(j=0;j<g;j++)G[j]=j,H[j]=j;var ve=function(){var q=new f;O<g&&(E.push(M.length),M.push(1),D.push(O)),U.push(B.length);var oe=b[O+1];for(P=b[O];P<oe;P++)q.set(G[j=C[P]],_[P]);O>0&&q.forEach(0,O-1,function(ee,Ae){d._forEachRow(ee,M,D,E,function(xe,ge){xe>ee&&q.accumulate(xe,u(o(ge,Ae)))})});var se=O,le=q.get(O),te=r(le);q.forEach(O+1,g-1,function(ee,Ae){var xe=r(Ae);l(xe,te)&&(se=ee,te=xe,le=Ae)}),O!==se&&(d._swapRows(O,se,T[1],M,D,E),d._swapRows(O,se,k[1],B,R,U),q.swap(O,se),function(q,K){var oe=H[q],se=H[K];G[oe]=K,G[se]=q,H[q]=se,H[K]=oe}(O,se)),q.forEach(0,g-1,function(ee,Ae){ee<=O?(B.push(Ae),R.push(ee)):(Ae=s(Ae,le),c(Ae,0)||(M.push(Ae),D.push(ee)))})};for(O=0;O<y;O++)ve();return U.push(B.length),E.push(M.length),{L:new d({values:M,index:D,ptr:E,size:T}),U:new d({values:B,index:R,ptr:U,size:k}),p:G,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(g)},Array:function(g){var v=A(t(g));return{L:v.L.valueOf(),U:v.U.valueOf(),p:v.p}}});function A(m){var E,T,B,g=m._size[0],y=m._size[1],v=Math.min(g,y),_=Ir(m._data),C=[],b=[g,v],M=[],D=[v,y],R=[];for(E=0;E<g;E++)R[E]=E;for(T=0;T<y;T++){if(T>0)for(E=0;E<g;E++){var U=Math.min(E,T),k=0;for(B=0;B<U;B++)k=i(k,o(_[E][B],_[B][T]));_[E][T]=a(_[E][T],k)}var j=T,O=0,P=0;for(E=T;E<g;E++){var G=_[E][T],H=r(G);l(H,O)&&(j=E,O=H,P=G)}if(T!==j&&(R[T]=[R[j],R[j]=R[T]][0],h._swapRows(T,j,_)),T<g)for(E=T+1;E<g;E++)c(_[E][T],0)||(_[E][T]=s(_[E][T],P))}for(T=0;T<y;T++)for(E=0;E<g;E++)0===T&&(E<y&&(M[E]=[]),C[E]=[]),E<T?(E<y&&(M[E][T]=_[E][T]),T<g&&(C[E][T]=0)):E!==T?(E<y&&(M[E][T]=0),T<g&&(C[E][T]=_[E][T])):(E<y&&(M[E][T]=_[E][T]),T<g&&(C[E][T]=1));var ve=new h({data:C,size:b}),Q=new h({data:M,size:D}),q=[];for(E=0,v=R.length;E<v;E++)q[R[E]]=E;return{L:ve,U:Q,p:q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),gnt=ye("pinv",["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],n=>{var{typed:e,matrix:t,inv:r,deepEqual:i,equal:s,dotDivide:o,dot:a,ctranspose:l,divideScalar:c,multiply:u,add:h,Complex:d}=n;return e("pinv",{"Array | Matrix":function(v){var _=cr(v)?v.size():xr(v);switch(_.length){case 1:return g(v)?l(v):1===_[0]?r(v):o(l(v),a(v,v));case 2:if(g(v))return l(v);var C=_[0],b=_[1];if(C===b)try{return r(v)}catch(M){if(!(M instanceof Error&&M.message.match(/Cannot calculate inverse, determinant is zero/)))throw M}return cr(v)?t(f(v.valueOf(),C,b),v.storage()):f(v,C,b);default:throw new RangeError("Matrix must be two dimensional (size: "+ni(_)+")")}},any:function(v){return s(v,0)?Ir(v):c(1,v)}});function f(y,v,_){var{C,F:b}=function p(y,v,_){var C=function A(y,v,_){for(var C=Ir(y),b=0,M=0;M<v;M++){if(_<=b)return C;for(var D=M;m(C[D][b]);)if(v===++D&&(D=M,_===++b))return C;[C[D],C[M]]=[C[M],C[D]];for(var E=C[M][b],T=0;T<_;T++)C[M][T]=o(C[M][T],E);for(var B=0;B<v;B++)if(B!==M){E=C[B][b];for(var R=0;R<_;R++)C[B][R]=h(C[B][R],u(-1,u(E,C[M][R])))}b++}return C}(y,v,_),b=y.map((D,E)=>D.filter((T,B)=>B<v&&!m(a(C[B],C[B]))));return{C:b,F:C.filter((D,E)=>!m(a(C[E],C[E])))}}(y,v,_),M=u(r(u(l(C),C)),l(C)),D=u(l(b),r(u(b,l(b))));return u(D,M)}function m(y){return s(h(y,d(1,1)),h(0,d(1,1)))}function g(y){return i(h(y,d(1,1)),h(u(y,0),d(1,1)))}}),vnt=ye("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],n=>{var{typed:e,config:t,identity:r,multiply:i,matrix:s,inv:o,number:a,fraction:l,Complex:c}=n;return e("pow",{"number, number":u,"Complex, Complex":function(A,p){return A.pow(p)},"BigNumber, BigNumber":function(A,p){return p.isInteger()||A>=0||t.predictable?A.pow(p):new c(A.toNumber(),0).pow(p.toNumber(),0)},"bigint, bigint":(f,A)=>f**A,"Fraction, Fraction":function(A,p){var m=A.pow(p);if(null!=m)return m;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return u(A.valueOf(),p.valueOf())},"Array, number":h,"Array, BigNumber":function(A,p){return h(A,p.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(A,p){return d(A,p.toNumber())},"Unit, number | BigNumber":function(A,p){return A.pow(p)}});function u(f,A){if(t.predictable&&!$n(A)&&f<0)try{var p=l(A),m=a(p);if((A===m||Math.abs((A-m)/A)<1e-14)&&p.d%2n===1n)return(p.n%2n===0n?1:-1)*Math.pow(-f,A)}catch{}return t.predictable&&(f<-1&&A===1/0||f>-1&&f<0&&A===-1/0)?NaN:$n(A)||f>=0||t.predictable?ise(f,A):f*f<1&&A===1/0||f*f>1&&A===-1/0?0:new c(f,0).pow(A,0)}function h(f,A){if(!$n(A))throw new TypeError("For A^b, b must be an integer (value is "+A+")");var p=xr(f);if(2!==p.length)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!==p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");if(A<0)try{return h(o(f),-A)}catch(y){throw"Cannot calculate inverse, determinant is zero"===y.message?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+A+")"):y}for(var m=r(p[0]).valueOf(),g=f;A>=1;)!(1&~A)&&(m=i(g,m)),A>>=1,g=i(g,g);return m}function d(f,A){return s(h(f.valueOf(),A))}}),Ale="setIntersect",_nt=ye(Ale,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(Ale,{"Array | Matrix, Array | Matrix":function(l,c){var u;if(0===r(t(l),new s(0))||0===r(t(c),new s(0)))u=[];else{var h=vb(Vi(Array.isArray(l)?l:l.toArray()).sort(i)),d=vb(Vi(Array.isArray(c)?c:c.toArray()).sort(i));u=[];for(var f=0;f<h.length;f++)for(var A=0;A<d.length;A++)if(0===i(h[f].value,d[A].value)&&h[f].identifier===d[A].identifier){u.push(h[f]);break}}return Array.isArray(l)&&Array.isArray(c)?xI(u):new o(xI(u))}})}),wnt=ye("setUnion",["typed","size","concat","subset","setIntersect","setSymDifference","Index"],n=>{var{typed:e,size:t,concat:r,subset:i,setIntersect:s,setSymDifference:o,Index:a}=n;return e("setUnion",{"Array | Matrix, Array | Matrix":function(c,u){if(0===i(t(c),new a(0)))return Vi(u);if(0===i(t(u),new a(0)))return Vi(c);var h=Vi(c),d=Vi(u);return r(o(h,d),s(h,d))}})}),xnt=ye("sqrtm",["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],n=>{var{typed:e,abs:t,add:r,multiply:i,map:s,sqrt:o,subtract:a,inv:l,size:c,max:u,identity:h}=n,f=1e-6;return e("sqrtm",{"Array | Matrix":function(m){var g=cr(m)?m.size():xr(m);switch(g.length){case 1:if(1===g[0])return s(m,o);throw new RangeError("Matrix must be square (size: "+ni(g)+")");case 2:if(g[0]===g[1])return function A(p){var m,g=0,y=p,v=h(c(p));do{var _=y;if(y=i(.5,r(_,l(v))),v=i(.5,r(v,l(_))),(m=u(t(a(y,_))))>f&&++g>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(m>f);return y}(m);throw new RangeError("Matrix must be square (size: "+ni(g)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+ni(g)+")")}}})});function mle(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function n6(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?mle(Object(t),!0).forEach(function(r){ja(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mle(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Dnt=ye("Unit",["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],n=>{var _,C,b,{on:e,config:t,addScalar:r,subtractScalar:i,multiplyScalar:s,divideScalar:o,pow:a,abs:l,fix:c,round:u,equal:h,isNumeric:d,format:f,number:A,Complex:p,BigNumber:m,Fraction:g}=n,y=A;function v(Y,W){if(!(this instanceof v))throw new Error("Constructor must be called with the new operator");if(null!=Y&&!d(Y)&&!_p(Y))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===W)this.units=[],this.dimensions=G.map(Ce=>0);else if("string"==typeof W){var Me=v.parse(W);this.units=Me.units,this.dimensions=Me.dimensions}else{if(!jh(W)||null!==W.value)throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.fixPrefix=W.fixPrefix,this.skipAutomaticSimplification=W.skipAutomaticSimplification,this.dimensions=W.dimensions.slice(0),this.units=W.units.map(Ce=>qa({},Ce))}this.value=this._normalize(Y)}function M(){for(;" "===b||"\t"===b;)T()}function E(Y){return Y>="0"&&Y<="9"}function T(){C++,b=_.charAt(C)}function B(Y){b=_.charAt(C=Y)}function R(){var Y="",W=C;if("+"===b?T():"-"===b&&(Y+=b,T()),!function D(Y){return Y>="0"&&Y<="9"||"."===Y}(b))return B(W),null;if("."===b){if(Y+=b,T(),!E(b))return B(W),null}else{for(;E(b);)Y+=b,T();"."===b&&(Y+=b,T())}for(;E(b);)Y+=b,T();if("E"===b||"e"===b){var Me="",Ce=C;if(Me+=b,T(),("+"===b||"-"===b)&&(Me+=b,T()),!E(b))return B(Ce),Y;for(Y+=Me;E(b);)Y+=b,T()}return Y}function U(){for(var Y="";E(b)||v.isValidAlpha(b);)Y+=b,T();var W=Y.charAt(0);return v.isValidAlpha(W)?Y:null}function k(Y){return b===Y?(T(),Y):null}Object.defineProperty(v,"name",{value:"Unit"}),v.prototype.constructor=v,v.prototype.type="Unit",v.prototype.isUnit=!0,v.parse=function(Y,W){if(W=W||{},C=-1,b="","string"!=typeof(_=Y))throw new TypeError("Invalid argument in Unit.parse, string expected");var Me=new v;Me.units=[];var Ce=1,Pe=!1;T(),M();var Oe=R(),re=null;if(Oe){if("BigNumber"===t.number)re=new m(Oe);else if("Fraction"===t.number)try{re=new g(Oe)}catch{re=parseFloat(Oe)}else re=parseFloat(Oe);M(),k("*")?(Ce=1,Pe=!0):k("/")&&(Ce=-1,Pe=!0)}for(var Z=[],Ue=1;;){for(M();"("===b;)Z.push(Ce),Ue*=Ce,Ce=1,T(),M();var Qe;if(!b)break;var rt=b;if(null===(Qe=U()))throw new SyntaxError('Unexpected "'+rt+'" in "'+_+'" at index '+C.toString());var Xe=j(Qe);if(null===Xe)throw new SyntaxError('Unit "'+Qe+'" not found.');var Pt=Ce*Ue;if(M(),k("^")){M();var Ft=R();if(null===Ft)throw new SyntaxError('In "'+Y+'", "^" must be followed by a floating-point number');Pt*=Ft}Me.units.push({unit:Xe.unit,prefix:Xe.prefix,power:Pt});for(var Tt=0;Tt<G.length;Tt++)Me.dimensions[Tt]+=(Xe.unit.dimensions[Tt]||0)*Pt;for(M();")"===b;){if(0===Z.length)throw new SyntaxError('Unmatched ")" in "'+_+'" at index '+C.toString());Ue/=Z.pop(),T(),M()}Pe=!1,k("*")?(Ce=1,Pe=!0):k("/")?(Ce=-1,Pe=!0):Ce=1,Xe.unit.base&&(se.auto[Xe.unit.base.key]={unit:Xe.unit,prefix:Xe.prefix})}if(M(),b)throw new SyntaxError('Could not parse: "'+Y+'"');if(Pe)throw new SyntaxError('Trailing characters: "'+Y+'"');if(0!==Z.length)throw new SyntaxError('Unmatched "(" in "'+_+'"');if(0===Me.units.length&&!W.allowNoUnits)throw new SyntaxError('"'+Y+'" contains no units');return Me.value=void 0!==re?Me._normalize(re):null,Me},v.prototype.clone=function(){var Y=new v;Y.fixPrefix=this.fixPrefix,Y.skipAutomaticSimplification=this.skipAutomaticSimplification,Y.value=Ir(this.value),Y.dimensions=this.dimensions.slice(0),Y.units=[];for(var W=0;W<this.units.length;W++)for(var Me in Y.units[W]={},this.units[W])kn(this.units[W],Me)&&(Y.units[W][Me]=this.units[W][Me]);return Y},v.prototype.valueType=function(){return Ws(this.value)},v.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},v.prototype._normalize=function(Y){if(null==Y||0===this.units.length)return Y;for(var W=Y,Me=v._getNumberConverter(Ws(Y)),Ce=0;Ce<this.units.length;Ce++){var Pe=Me(this.units[Ce].unit.value),Oe=Me(this.units[Ce].prefix.value),re=Me(this.units[Ce].power);W=s(W,a(s(Pe,Oe),re))}return W},v.prototype._denormalize=function(Y,W){if(null==Y||0===this.units.length)return Y;for(var Me=Y,Ce=v._getNumberConverter(Ws(Y)),Pe=0;Pe<this.units.length;Pe++){var Oe=Ce(this.units[Pe].unit.value),re=Ce(this.units[Pe].prefix.value),Z=Ce(this.units[Pe].power);Me=o(Me,a(s(Oe,re),Z))}return Me};var j=hS(Y=>{if(kn(q,Y)){var W=q[Y];return{unit:W,prefix:W.prefixes[""]}}for(var Ce in q)if(kn(q,Ce)&&YHe(Y,Ce)){var Pe=q[Ce],re=Y.substring(0,Y.length-Ce.length),Z=kn(Pe.prefixes,re)?Pe.prefixes[re]:void 0;if(void 0!==Z)return{unit:Pe,prefix:Z}}return null},{hasher:Y=>Y[0],limit:100});function O(Y){return Y.equalBase(H.NONE)&&null!==Y.value&&!t.predictable?Y.value:Y}v.isValuelessUnit=function(Y){return null!==j(Y)},v.prototype.hasBase=function(Y){if("string"==typeof Y&&(Y=H[Y]),!Y)return!1;for(var W=0;W<G.length;W++)if(Math.abs((this.dimensions[W]||0)-(Y.dimensions[W]||0))>1e-12)return!1;return!0},v.prototype.equalBase=function(Y){for(var W=0;W<G.length;W++)if(Math.abs((this.dimensions[W]||0)-(Y.dimensions[W]||0))>1e-12)return!1;return!0},v.prototype.equals=function(Y){return this.equalBase(Y)&&h(this.value,Y.value)},v.prototype.multiply=function(Y){for(var W=this.clone(),Me=jh(Y)?Y:new v(Y),Ce=0;Ce<G.length;Ce++)W.dimensions[Ce]=(this.dimensions[Ce]||0)+(Me.dimensions[Ce]||0);for(var Pe=0;Pe<Me.units.length;Pe++){var Oe=n6({},Me.units[Pe]);W.units.push(Oe)}if(null!==this.value||null!==Me.value){var re=null===this.value?this._normalize(1):this.value,Z=null===Me.value?Me._normalize(1):Me.value;W.value=s(re,Z)}else W.value=null;return jh(Y)&&(W.skipAutomaticSimplification=!1),O(W)},v.prototype.divideInto=function(Y){return new v(Y).divide(this)},v.prototype.divide=function(Y){for(var W=this.clone(),Me=jh(Y)?Y:new v(Y),Ce=0;Ce<G.length;Ce++)W.dimensions[Ce]=(this.dimensions[Ce]||0)-(Me.dimensions[Ce]||0);for(var Pe=0;Pe<Me.units.length;Pe++){var Oe=n6(n6({},Me.units[Pe]),{},{power:-Me.units[Pe].power});W.units.push(Oe)}if(null!==this.value||null!==Me.value){var re=null===this.value?this._normalize(1):this.value,Z=null===Me.value?Me._normalize(1):Me.value;W.value=o(re,Z)}else W.value=null;return jh(Y)&&(W.skipAutomaticSimplification=!1),O(W)},v.prototype.pow=function(Y){for(var W=this.clone(),Me=0;Me<G.length;Me++)W.dimensions[Me]=(this.dimensions[Me]||0)*Y;for(var Ce=0;Ce<W.units.length;Ce++)W.units[Ce].power*=Y;return W.value=null!==W.value?a(W.value,Y):null,W.skipAutomaticSimplification=!1,O(W)},v.prototype.abs=function(){var Y=this.clone();if(null!==Y.value)if(Y._isDerived()||0===Y.units.length||0===Y.units[0].unit.offset)Y.value=l(Y.value);else{var W=Y._numberConverter(),Me=W(Y.units[0].unit.value),Ce=W(Y.units[0].unit.offset),Pe=s(Me,Ce);Y.value=i(l(r(Y.value,Pe)),Pe)}for(var Oe in Y.units)("VA"===Y.units[Oe].unit.name||"VAR"===Y.units[Oe].unit.name)&&(Y.units[Oe].unit=q.W);return Y},v.prototype.to=function(Y){var Me,W=null===this.value?this._normalize(1):this.value;if("string"==typeof Y)Me=v.parse(Y);else{if(!jh(Y))throw new Error("String or Unit expected as parameter");Me=Y.clone()}if(!this.equalBase(Me))throw new Error("Units do not match ('".concat(Me.toString(),"' != '").concat(this.toString(),"')"));if(null!==Me.value)throw new Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||0===this.units.length||0===Me.units.length||this.units[0].unit.offset===Me.units[0].unit.offset)Me.value=Ir(W);else{var Ce=v._getNumberConverter(Ws(W)),re=s(this.units[0].unit.value,this.units[0].unit.offset),Qe=s(Me.units[0].unit.value,Me.units[0].unit.offset);Me.value=r(W,Ce(i(re,Qe)))}return Me.fixPrefix=!0,Me.skipAutomaticSimplification=!0,Me},v.prototype.toNumber=function(Y){return y(this.toNumeric(Y))},v.prototype.toNumeric=function(Y){var W;return(W=Y?this.to(Y):this.clone())._isDerived()||0===W.units.length?W._denormalize(W.value):W._denormalize(W.value,W.units[0].prefix.value)},v.prototype.toString=function(){return this.format()},v.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},v.fromJSON=function(Y){var W,Me=new v(Y.value,null!==(W=Y.unit)&&void 0!==W?W:void 0);return Me.fixPrefix=Y.fixPrefix||!1,Me},v.prototype.valueOf=v.prototype.toString,v.prototype.simplify=function(){var Me,Pe,Y=this.clone(),W=[];for(var Ce in le)if(kn(le,Ce)&&Y.hasBase(H[Ce])){Me=Ce;break}if("NONE"===Me)Y.units=[];else if(Me&&kn(le,Me)&&(Pe=le[Me]),Pe)Y.units=[{unit:Pe.unit,prefix:Pe.prefix,power:1}];else{for(var Oe=!1,re=0;re<G.length;re++){var Z=G[re];Math.abs(Y.dimensions[re]||0)>1e-12&&(kn(le,Z)?W.push({unit:le[Z].unit,prefix:le[Z].prefix,power:Y.dimensions[re]||0}):Oe=!0)}W.length<Y.units.length&&!Oe&&(Y.units=W)}return Y},v.prototype.toSI=function(){for(var Y=this.clone(),W=[],Me=0;Me<G.length;Me++){var Ce=G[Me];if(Math.abs(Y.dimensions[Me]||0)>1e-12){if(!kn(se.si,Ce))throw new Error("Cannot express custom unit "+Ce+" in SI units");W.push({unit:se.si[Ce].unit,prefix:se.si[Ce].prefix,power:Y.dimensions[Me]||0})}}return Y.units=W,Y.fixPrefix=!0,Y.skipAutomaticSimplification=!0,null!==this.value?(Y.value=null,this.to(Y)):Y},v.prototype.formatUnits=function(){for(var Y="",W="",Me=0,Ce=0,Pe=0;Pe<this.units.length;Pe++)this.units[Pe].power>0?(Me++,Y+=" "+this.units[Pe].prefix.name+this.units[Pe].unit.name,Math.abs(this.units[Pe].power-1)>1e-15&&(Y+="^"+this.units[Pe].power)):this.units[Pe].power<0&&Ce++;if(Ce>0)for(var Oe=0;Oe<this.units.length;Oe++)this.units[Oe].power<0&&(Me>0?(W+=" "+this.units[Oe].prefix.name+this.units[Oe].unit.name,Math.abs(this.units[Oe].power+1)>1e-15&&(W+="^"+-this.units[Oe].power)):(W+=" "+this.units[Oe].prefix.name+this.units[Oe].unit.name,W+="^"+this.units[Oe].power));Y=Y.substr(1),W=W.substr(1),Me>1&&Ce>0&&(Y="("+Y+")"),Ce>1&&Me>0&&(W="("+W+")");var re=Y;return Me>0&&Ce>0&&(re+=" / "),re+W},v.prototype.format=function(Y){var W=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),Me=!1;for(var Ce in typeof W.value<"u"&&null!==W.value&&_p(W.value)&&(Me=Math.abs(W.value.re)<1e-14),W.units)kn(W.units,Ce)&&W.units[Ce].unit&&("VA"===W.units[Ce].unit.name&&Me?W.units[Ce].unit=q.VAR:"VAR"===W.units[Ce].unit.name&&!Me&&(W.units[Ce].unit=q.VA));1===W.units.length&&!W.fixPrefix&&Math.abs(W.units[0].power-Math.round(W.units[0].power))<1e-14&&(W.units[0].prefix=W._bestPrefix());var Pe=W._denormalize(W.value),Oe=null!==W.value?f(Pe,Y||{}):"",re=W.formatUnits();return W.value&&_p(W.value)&&(Oe="("+Oe+")"),re.length>0&&Oe.length>0&&(Oe+=" "),Oe+re},v.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var Y=null!==this.value?l(this.value):0,W=l(this.units[0].unit.value),Me=this.units[0].prefix;if(0===Y)return Me;var Ce=this.units[0].power,Pe=Math.log(Y/Math.pow(Me.value*W,Ce))/Math.LN10-1.2;if(Pe>-2.200001&&Pe<1.800001)return Me;Pe=Math.abs(Pe);var Oe=this.units[0].unit.prefixes;for(var re in Oe)if(kn(Oe,re)){var Z=Oe[re];if(Z.scientific){var Ue=Math.abs(Math.log(Y/Math.pow(Z.value*W,Ce))/Math.LN10-1.2);(Ue<Pe||Ue===Pe&&Z.name.length<Me.name.length)&&(Me=Z,Pe=Ue)}}return Me},v.prototype.splitUnit=function(Y){for(var W=this.clone(),Me=[],Ce=0;Ce<Y.length&&(W=W.to(Y[Ce]),Ce!==Y.length-1);Ce++){var Pe=W.toNumeric(),Oe=u(Pe),Ue=new v(h(Oe,Pe)?Oe:c(W.toNumeric()),Y[Ce].toString());Me.push(Ue),W=i(W,Ue)}for(var Qe=0,rt=0;rt<Me.length;rt++)Qe=r(Qe,Me[rt].value);return h(Qe,this.value)&&(W.value=0),Me.push(W),Me};var P={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};P.SHORTLONG=qa({},P.SHORT,P.LONG),P.BINARY_SHORT=qa({},P.BINARY_SHORT_SI,P.BINARY_SHORT_IEC),P.BINARY_LONG=qa({},P.BINARY_LONG_SI,P.BINARY_LONG_IEC);var G=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],H={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ae in H)kn(H,ae)&&(H[ae].key=ae);var Q={name:"",base:{},value:1,offset:0,dimensions:G.map(Y=>0)},q={meter:{name:"meter",base:H.LENGTH,prefixes:P.LONG,value:1,offset:0},inch:{name:"inch",base:H.LENGTH,prefixes:P.NONE,value:.0254,offset:0},foot:{name:"foot",base:H.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yard:{name:"yard",base:H.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mile:{name:"mile",base:H.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},link:{name:"link",base:H.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rod:{name:"rod",base:H.LENGTH,prefixes:P.NONE,value:5.0292,offset:0},chain:{name:"chain",base:H.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:H.LENGTH,prefixes:P.NONE,value:1e-10,offset:0},m:{name:"m",base:H.LENGTH,prefixes:P.SHORT,value:1,offset:0},in:{name:"in",base:H.LENGTH,prefixes:P.NONE,value:.0254,offset:0},ft:{name:"ft",base:H.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yd:{name:"yd",base:H.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mi:{name:"mi",base:H.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},li:{name:"li",base:H.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rd:{name:"rd",base:H.LENGTH,prefixes:P.NONE,value:5.02921,offset:0},ch:{name:"ch",base:H.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},mil:{name:"mil",base:H.LENGTH,prefixes:P.NONE,value:254e-7,offset:0},m2:{name:"m2",base:H.SURFACE,prefixes:P.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:H.SURFACE,prefixes:P.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:H.SURFACE,prefixes:P.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:H.SURFACE,prefixes:P.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:H.SURFACE,prefixes:P.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:H.SURFACE,prefixes:P.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:H.SURFACE,prefixes:P.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:H.SURFACE,prefixes:P.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:H.SURFACE,prefixes:P.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:H.SURFACE,prefixes:P.NONE,value:1e4,offset:0},m3:{name:"m3",base:H.VOLUME,prefixes:P.CUBIC,value:1,offset:0},L:{name:"L",base:H.VOLUME,prefixes:P.SHORT,value:.001,offset:0},l:{name:"l",base:H.VOLUME,prefixes:P.SHORT,value:.001,offset:0},litre:{name:"litre",base:H.VOLUME,prefixes:P.LONG,value:.001,offset:0},cuin:{name:"cuin",base:H.VOLUME,prefixes:P.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:H.VOLUME,prefixes:P.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:H.VOLUME,prefixes:P.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:H.VOLUME,prefixes:P.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:H.VOLUME,prefixes:P.NONE,value:15e-6,offset:0},drop:{name:"drop",base:H.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:H.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},minim:{name:"minim",base:H.VOLUME,prefixes:P.NONE,value:6.1611519921875e-8,offset:0},fluiddram:{name:"fluiddram",base:H.VOLUME,prefixes:P.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:H.VOLUME,prefixes:P.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:H.VOLUME,prefixes:P.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:H.VOLUME,prefixes:P.NONE,value:1e-6,offset:0},cup:{name:"cup",base:H.VOLUME,prefixes:P.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:H.VOLUME,prefixes:P.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:H.VOLUME,prefixes:P.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:H.VOLUME,prefixes:P.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:H.VOLUME,prefixes:P.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:H.VOLUME,prefixes:P.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:H.VOLUME,prefixes:P.NONE,value:.238480942392,offset:0},g:{name:"g",base:H.MASS,prefixes:P.SHORT,value:.001,offset:0},gram:{name:"gram",base:H.MASS,prefixes:P.LONG,value:.001,offset:0},ton:{name:"ton",base:H.MASS,prefixes:P.SHORT,value:907.18474,offset:0},t:{name:"t",base:H.MASS,prefixes:P.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:H.MASS,prefixes:P.LONG,value:1e3,offset:0},grain:{name:"grain",base:H.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:H.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:H.MASS,prefixes:P.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:H.MASS,prefixes:P.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:H.MASS,prefixes:P.NONE,value:45.359237,offset:0},stick:{name:"stick",base:H.MASS,prefixes:P.NONE,value:.115,offset:0},stone:{name:"stone",base:H.MASS,prefixes:P.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:H.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:H.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:H.MASS,prefixes:P.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:H.MASS,prefixes:P.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:H.MASS,prefixes:P.NONE,value:45.359237,offset:0},s:{name:"s",base:H.TIME,prefixes:P.SHORT,value:1,offset:0},min:{name:"min",base:H.TIME,prefixes:P.NONE,value:60,offset:0},h:{name:"h",base:H.TIME,prefixes:P.NONE,value:3600,offset:0},second:{name:"second",base:H.TIME,prefixes:P.LONG,value:1,offset:0},sec:{name:"sec",base:H.TIME,prefixes:P.LONG,value:1,offset:0},minute:{name:"minute",base:H.TIME,prefixes:P.NONE,value:60,offset:0},hour:{name:"hour",base:H.TIME,prefixes:P.NONE,value:3600,offset:0},day:{name:"day",base:H.TIME,prefixes:P.NONE,value:86400,offset:0},week:{name:"week",base:H.TIME,prefixes:P.NONE,value:604800,offset:0},month:{name:"month",base:H.TIME,prefixes:P.NONE,value:2629800,offset:0},year:{name:"year",base:H.TIME,prefixes:P.NONE,value:31557600,offset:0},decade:{name:"decade",base:H.TIME,prefixes:P.NONE,value:315576e3,offset:0},century:{name:"century",base:H.TIME,prefixes:P.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:H.TIME,prefixes:P.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:H.FREQUENCY,prefixes:P.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:H.FREQUENCY,prefixes:P.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:H.ANGLE,prefixes:P.SHORT,value:1,offset:0},radian:{name:"radian",base:H.ANGLE,prefixes:P.LONG,value:1,offset:0},deg:{name:"deg",base:H.ANGLE,prefixes:P.SHORT,value:null,offset:0},degree:{name:"degree",base:H.ANGLE,prefixes:P.LONG,value:null,offset:0},grad:{name:"grad",base:H.ANGLE,prefixes:P.SHORT,value:null,offset:0},gradian:{name:"gradian",base:H.ANGLE,prefixes:P.LONG,value:null,offset:0},cycle:{name:"cycle",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},A:{name:"A",base:H.CURRENT,prefixes:P.SHORT,value:1,offset:0},ampere:{name:"ampere",base:H.CURRENT,prefixes:P.LONG,value:1,offset:0},K:{name:"K",base:H.TEMPERATURE,prefixes:P.SHORT,value:1,offset:0},degC:{name:"degC",base:H.TEMPERATURE,prefixes:P.SHORT,value:1,offset:273.15},degF:{name:"degF",base:H.TEMPERATURE,prefixes:P.SHORT,value:new g(5,9),offset:459.67},degR:{name:"degR",base:H.TEMPERATURE,prefixes:P.SHORT,value:new g(5,9),offset:0},kelvin:{name:"kelvin",base:H.TEMPERATURE,prefixes:P.LONG,value:1,offset:0},celsius:{name:"celsius",base:H.TEMPERATURE,prefixes:P.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:H.TEMPERATURE,prefixes:P.LONG,value:new g(5,9),offset:459.67},rankine:{name:"rankine",base:H.TEMPERATURE,prefixes:P.LONG,value:new g(5,9),offset:0},mol:{name:"mol",base:H.AMOUNT_OF_SUBSTANCE,prefixes:P.SHORT,value:1,offset:0},mole:{name:"mole",base:H.AMOUNT_OF_SUBSTANCE,prefixes:P.LONG,value:1,offset:0},cd:{name:"cd",base:H.LUMINOUS_INTENSITY,prefixes:P.SHORT,value:1,offset:0},candela:{name:"candela",base:H.LUMINOUS_INTENSITY,prefixes:P.LONG,value:1,offset:0},N:{name:"N",base:H.FORCE,prefixes:P.SHORT,value:1,offset:0},newton:{name:"newton",base:H.FORCE,prefixes:P.LONG,value:1,offset:0},dyn:{name:"dyn",base:H.FORCE,prefixes:P.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:H.FORCE,prefixes:P.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:H.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:H.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:H.FORCE,prefixes:P.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:H.FORCE,prefixes:P.NONE,value:9.80665,offset:0},J:{name:"J",base:H.ENERGY,prefixes:P.SHORT,value:1,offset:0},joule:{name:"joule",base:H.ENERGY,prefixes:P.LONG,value:1,offset:0},erg:{name:"erg",base:H.ENERGY,prefixes:P.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:H.ENERGY,prefixes:P.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:H.ENERGY,prefixes:P.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:H.ENERGY,prefixes:P.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:H.ENERGY,prefixes:P.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:H.POWER,prefixes:P.SHORT,value:1,offset:0},watt:{name:"watt",base:H.POWER,prefixes:P.LONG,value:1,offset:0},hp:{name:"hp",base:H.POWER,prefixes:P.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:H.POWER,prefixes:P.SHORT,value:p.I,offset:0},VA:{name:"VA",base:H.POWER,prefixes:P.SHORT,value:1,offset:0},Pa:{name:"Pa",base:H.PRESSURE,prefixes:P.SHORT,value:1,offset:0},psi:{name:"psi",base:H.PRESSURE,prefixes:P.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:H.PRESSURE,prefixes:P.NONE,value:101325,offset:0},bar:{name:"bar",base:H.PRESSURE,prefixes:P.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:H.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:H.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:H.PRESSURE,prefixes:P.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:H.PRESSURE,prefixes:P.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:H.ELECTRIC_CHARGE,prefixes:P.LONG,value:1,offset:0},C:{name:"C",base:H.ELECTRIC_CHARGE,prefixes:P.SHORT,value:1,offset:0},farad:{name:"farad",base:H.ELECTRIC_CAPACITANCE,prefixes:P.LONG,value:1,offset:0},F:{name:"F",base:H.ELECTRIC_CAPACITANCE,prefixes:P.SHORT,value:1,offset:0},volt:{name:"volt",base:H.ELECTRIC_POTENTIAL,prefixes:P.LONG,value:1,offset:0},V:{name:"V",base:H.ELECTRIC_POTENTIAL,prefixes:P.SHORT,value:1,offset:0},ohm:{name:"ohm",base:H.ELECTRIC_RESISTANCE,prefixes:P.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:H.ELECTRIC_INDUCTANCE,prefixes:P.LONG,value:1,offset:0},H:{name:"H",base:H.ELECTRIC_INDUCTANCE,prefixes:P.SHORT,value:1,offset:0},siemens:{name:"siemens",base:H.ELECTRIC_CONDUCTANCE,prefixes:P.LONG,value:1,offset:0},S:{name:"S",base:H.ELECTRIC_CONDUCTANCE,prefixes:P.SHORT,value:1,offset:0},weber:{name:"weber",base:H.MAGNETIC_FLUX,prefixes:P.LONG,value:1,offset:0},Wb:{name:"Wb",base:H.MAGNETIC_FLUX,prefixes:P.SHORT,value:1,offset:0},tesla:{name:"tesla",base:H.MAGNETIC_FLUX_DENSITY,prefixes:P.LONG,value:1,offset:0},T:{name:"T",base:H.MAGNETIC_FLUX_DENSITY,prefixes:P.SHORT,value:1,offset:0},b:{name:"b",base:H.BIT,prefixes:P.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:H.BIT,prefixes:P.BINARY_LONG,value:1,offset:0},B:{name:"B",base:H.BIT,prefixes:P.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:H.BIT,prefixes:P.BINARY_LONG,value:8,offset:0}},K={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function oe(Y){if("BigNumber"===Y.number){var W=G8(m);q.rad.value=new m(1),q.deg.value=W.div(180),q.grad.value=W.div(200),q.cycle.value=W.times(2),q.arcsec.value=W.div(648e3),q.arcmin.value=W.div(10800)}else q.rad.value=1,q.deg.value=Math.PI/180,q.grad.value=Math.PI/200,q.cycle.value=2*Math.PI,q.arcsec.value=Math.PI/648e3,q.arcmin.value=Math.PI/10800;q.radian.value=q.rad.value,q.degree.value=q.deg.value,q.gradian.value=q.grad.value}oe(t),e&&e("config",function(Y,W){Y.number!==W.number&&oe(Y)});var se={si:{NONE:{unit:Q,prefix:P.NONE[""]},LENGTH:{unit:q.m,prefix:P.SHORT[""]},MASS:{unit:q.g,prefix:P.SHORT.k},TIME:{unit:q.s,prefix:P.SHORT[""]},CURRENT:{unit:q.A,prefix:P.SHORT[""]},TEMPERATURE:{unit:q.K,prefix:P.SHORT[""]},LUMINOUS_INTENSITY:{unit:q.cd,prefix:P.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:q.mol,prefix:P.SHORT[""]},ANGLE:{unit:q.rad,prefix:P.SHORT[""]},BIT:{unit:q.bits,prefix:P.SHORT[""]},FORCE:{unit:q.N,prefix:P.SHORT[""]},ENERGY:{unit:q.J,prefix:P.SHORT[""]},POWER:{unit:q.W,prefix:P.SHORT[""]},PRESSURE:{unit:q.Pa,prefix:P.SHORT[""]},ELECTRIC_CHARGE:{unit:q.C,prefix:P.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:q.F,prefix:P.SHORT[""]},ELECTRIC_POTENTIAL:{unit:q.V,prefix:P.SHORT[""]},ELECTRIC_RESISTANCE:{unit:q.ohm,prefix:P.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:q.H,prefix:P.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:q.S,prefix:P.SHORT[""]},MAGNETIC_FLUX:{unit:q.Wb,prefix:P.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:q.T,prefix:P.SHORT[""]},FREQUENCY:{unit:q.Hz,prefix:P.SHORT[""]}}};se.cgs=JSON.parse(JSON.stringify(se.si)),se.cgs.LENGTH={unit:q.m,prefix:P.SHORT.c},se.cgs.MASS={unit:q.g,prefix:P.SHORT[""]},se.cgs.FORCE={unit:q.dyn,prefix:P.SHORT[""]},se.cgs.ENERGY={unit:q.erg,prefix:P.NONE[""]},se.us=JSON.parse(JSON.stringify(se.si)),se.us.LENGTH={unit:q.ft,prefix:P.NONE[""]},se.us.MASS={unit:q.lbm,prefix:P.NONE[""]},se.us.TEMPERATURE={unit:q.degF,prefix:P.NONE[""]},se.us.FORCE={unit:q.lbf,prefix:P.NONE[""]},se.us.ENERGY={unit:q.BTU,prefix:P.BTU[""]},se.us.POWER={unit:q.hp,prefix:P.NONE[""]},se.us.PRESSURE={unit:q.psi,prefix:P.NONE[""]},se.auto=JSON.parse(JSON.stringify(se.si));var le=se.auto;for(var te in v.setUnitSystem=function(Y){if(!kn(se,Y))throw new Error("Unit system "+Y+" does not exist. Choices are: "+Object.keys(se).join(", "));le=se[Y]},v.getUnitSystem=function(){for(var Y in se)if(kn(se,Y)&&se[Y]===le)return Y},v.typeConverters={BigNumber:function(W){return null!=W&&W.isFraction?new m(String(W.n)).div(String(W.d)).times(String(W.s)):new m(W+"")},Fraction:function(W){return new g(W)},Complex:function(W){return W},number:function(W){return null!=W&&W.isFraction?A(W):W}},v.prototype._numberConverter=function(){var Y=v.typeConverters[this.valueType()];if(Y)return Y;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},v._getNumberConverter=function(Y){if(!v.typeConverters[Y])throw new TypeError('Unsupported type "'+Y+'"');return v.typeConverters[Y]},q)if(kn(q,te)){var ee=q[te];ee.dimensions=ee.base.dimensions}for(var Ae in K)if(kn(K,Ae)){var xe=q[K[Ae]],ge={};for(var Ee in xe)kn(xe,Ee)&&(ge[Ee]=xe[Ee]);ge.name=Ae,q[Ae]=ge}return v.isValidAlpha=function(W){return/^[a-zA-Z]$/.test(W)},v.createUnit=function(Y,W){if("object"!=typeof Y)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(W&&W.override)for(var Me in Y)if(kn(Y,Me)&&v.deleteUnit(Me),Y[Me].aliases)for(var Ce=0;Ce<Y[Me].aliases.length;Ce++)v.deleteUnit(Y[Me].aliases[Ce]);var Pe;for(var Oe in Y)kn(Y,Oe)&&(Pe=v.createUnitSingle(Oe,Y[Oe]));return Pe},v.createUnitSingle=function(Y,W){if((typeof W>"u"||null===W)&&(W={}),"string"!=typeof Y)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(kn(q,Y))throw new Error('Cannot create unit "'+Y+'": a unit with that name already exists');!function ne(Y){for(var W=0;W<Y.length;W++){if(b=Y.charAt(W),0===W&&!v.isValidAlpha(b))throw new Error('Invalid unit name (must begin with alpha character): "'+Y+'"');if(W>0&&!v.isValidAlpha(b)&&!E(b))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+Y+'"')}}(Y);var Oe,re,Z,Me=null,Ce=[],Pe=0;if(W&&"Unit"===W.type)Me=W.clone();else if("string"==typeof W)""!==W&&(Oe=W);else{if("object"!=typeof W)throw new TypeError('Cannot create unit "'+Y+'" from "'+W.toString()+'": expecting "string" or "Unit" or "Object"');Oe=W.definition,re=W.prefixes,Pe=W.offset,Z=W.baseName,W.aliases&&(Ce=W.aliases.valueOf())}if(Ce)for(var Ue=0;Ue<Ce.length;Ue++)if(kn(q,Ce[Ue]))throw new Error('Cannot create alias "'+Ce[Ue]+'": a unit with that name already exists');if(Oe&&"string"==typeof Oe&&!Me)try{Me=v.parse(Oe,{allowNoUnits:!0})}catch(Ie){throw Ie.message='Could not create unit "'+Y+'" from "'+Oe+'": '+Ie.message,Ie}else Oe&&"Unit"===Oe.type&&(Me=Oe.clone());Ce=Ce||[],Pe=Pe||0,re=re&&re.toUpperCase&&P[re.toUpperCase()]||P.NONE;var Qe={};if(Me){Qe={name:Y,value:Me.value,dimensions:Me.dimensions.slice(0),prefixes:re,offset:Pe};var Ft=!1;for(var Tt in H)if(kn(H,Tt)){for(var yn=!0,st=0;st<G.length;st++)if(Math.abs((Qe.dimensions[st]||0)-(H[Tt].dimensions[st]||0))>1e-12){yn=!1;break}if(yn){Ft=!0,Qe.base=H[Tt];break}}if(!Ft){Z=Z||Y+"_STUFF";var vn={dimensions:Me.dimensions.slice(0)};vn.key=Z,H[Z]=vn,le[Z]={unit:Qe,prefix:P.NONE[""]},Qe.base=H[Z]}}else{if(G.indexOf(Z=Z||Y+"_STUFF")>=0)throw new Error('Cannot create new base unit "'+Y+'": a base unit with that name already exists (and cannot be overridden)');for(var rt in G.push(Z),H)kn(H,rt)&&(H[rt].dimensions[G.length-1]=0);for(var Xe={dimensions:[]},Pt=0;Pt<G.length;Pt++)Xe.dimensions[Pt]=0;Xe.dimensions[G.length-1]=1,Xe.key=Z,H[Z]=Xe,Qe={name:Y,value:1,dimensions:H[Z].dimensions.slice(0),prefixes:re,offset:Pe,base:H[Z]},le[Z]={unit:Qe,prefix:P.NONE[""]}}v.UNITS[Y]=Qe;for(var pn=0;pn<Ce.length;pn++){var _n=Ce[pn],tn={};for(var $ in Qe)kn(Qe,$)&&(tn[$]=Qe[$]);tn.name=_n,v.UNITS[_n]=tn}return delete j.cache,new v(null,Y)},v.deleteUnit=function(Y){delete v.UNITS[Y],delete j.cache},v.PREFIXES=P,v.BASE_DIMENSIONS=G,v.BASE_UNITS=H,v.UNIT_SYSTEMS=se,v.UNITS=q,v},{isClass:!0}),Tnt=ye("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,equalScalar:t,matrix:r,pow:i,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=qc({typed:e}),c=oA({typed:e,SparseMatrix:a}),u=Ll({typed:e,equalScalar:t}),h=Wa({typed:e,DenseMatrix:s}),d=Ks({typed:e,matrix:r,concat:o}),f={};for(var A in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,A)&&!A.includes("Matrix")&&!A.includes("Array")&&(f[A]=i.signatures[A]);var p=e(f);return e("dotPow",d({elop:p,SS:c,DS:l,Ss:u,sS:h}))}),Nnt=ye("expm",["typed","abs","add","identity","inv","multiply"],n=>{var{typed:e,abs:t,add:r,identity:i,inv:s,multiply:o}=n;return e("expm",{Matrix:function(h){var d=h.size();if(2!==d.length||d[0]!==d[1])throw new RangeError("Matrix must be square (size: "+ni(d)+")");for(var f=d[0],p=function a(u){for(var h=u.size()[0],d=0,f=0;f<h;f++){for(var A=0,p=0;p<h;p++)A+=t(u.get([f,p]));d=Math.max(A,d)}return d}(h),m=function l(u,h){for(var f=0;f<30;f++)for(var A=0;A<=f;A++){var p=f-A;if(c(u,A,p)<h)return{q:A,j:p}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(p,1e-15),g=m.q,y=m.j,v=o(h,Math.pow(2,-y)),_=i(f),C=i(f),b=1,M=v,D=-1,E=1;E<=g;E++)E>1&&(M=o(M,v),D=-D),_=r(_,o(b=b*(g-E+1)/((2*g-E+1)*E),M)),C=r(C,o(b*D,M));for(var T=o(s(C),_),B=0;B<y;B++)T=o(T,T);return O0(h)?h.createSparseMatrix(T):T}});function c(u,h,d){for(var f=1,A=2;A<=h;A++)f*=A;for(var p=f,m=h+1;m<=2*h;m++)p*=m;var g=p*(2*h+1);return 8*Math.pow(u/Math.pow(2,d),2*h)*f*f/(p*g)}}),Fnt=ye("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],n=>{var{typed:e,addScalar:r,multiplyScalar:i,divideScalar:s,exp:o,tau:a,i:l,dotDivide:c,conj:u,pow:h,ceil:d,log2:f}=n;return e("fft",{Array:A,Matrix:function(v){return v.create(A(v.valueOf()),v.datatype())}});function A(y){var v=xr(y);return 1===v.length?g(y):p(y.map(_=>A(_,v.slice(1))),0)}function p(y,v){var _=xr(y);if(0!==v)return new Array(_[0]).fill(0).map((b,M)=>p(y[M],v-1));if(1===_.length)return g(y);function C(b){var M=xr(b);return new Array(M[1]).fill(0).map((D,E)=>new Array(M[0]).fill(0).map((T,B)=>b[B][E]))}return C(p(C(y),1))}function g(y){var v=y.length;if(1===v)return[y[0]];if(v%2==0){for(var _=[...g(y.filter((D,E)=>E%2==0)),...g(y.filter((D,E)=>E%2==1))],C=0;C<v/2;C++){var b=_[C],M=i(_[C+v/2],o(i(i(a,l),s(-C,v))));_[C]=r(b,M),_[C+v/2]=r(b,i(-1,M))}return _}return function m(y){for(var v=y.length,_=o(s(i(-1,i(l,a)),v)),C=[],b=1-v;b<v;b++)C.push(h(_,s(h(b,2),2)));for(var M=h(2,d(f(v+v-1))),D=[...new Array(v).fill(0).map((O,P)=>i(y[P],C[v-1+P])),...new Array(M-v).fill(0)],E=[...new Array(v+v-1).fill(0).map((O,P)=>s(1,C[P])),...new Array(M-(v+v-1)).fill(0)],T=g(D),B=g(E),R=new Array(M).fill(0).map((O,P)=>i(T[P],B[P])),U=c(u(A(u(R))),M),k=[],j=v-1;j<v+v-1;j++)k.push(i(U[j],C[j]));return k}(y)}}),Ont=ye("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],n=>{var{typed:e,config:t,BigNumber:s,Complex:o}=n;return e("gamma",{number:uF,Complex:function a(c){if(0===c.im)return uF(c.re);if(c.re<.5){var u=new o(1-c.re,-c.im),h=new o(Math.PI*c.re,Math.PI*c.im);return new o(Math.PI).div(h.sin()).div(a(u))}c=new o(c.re-1,c.im);for(var d=new o(Mb[0],0),f=1;f<Mb.length;++f){var A=new o(Mb[f],0);d=d.add(A.div(c.add(f)))}var p=new o(c.re+eoe+.5,c.im),m=Math.sqrt(2*Math.PI),g=p.pow(c.add(.5)),y=p.neg().exp();return d.mul(m).mul(g).mul(y)},BigNumber:function(u){if(u.isInteger())return u.isNegative()||u.isZero()?new s(1/0):l(u.minus(1));if(!u.isFinite())return new s(u.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(c){if(c<8)return new s([1,1,2,6,24,120,720,5040][c]);var u=t.precision+(0|Math.log(c.toNumber())),h=s.clone({precision:u});if(c%2==1)return c.times(l(new s(c-1)));for(var d=c,f=new h(c),A=c.toNumber();d>2;)f=f.times(A+=d-=2);return new s(f.toPrecision(s.precision))}}),Lnt=ye("ifft",["typed","fft","dotDivide","conj"],n=>{var{typed:e,fft:t,dotDivide:r,conj:i}=n;return e("ifft",{"Array | Matrix":function(o){var a=cr(o)?o.size():xr(o);return r(i(t(i(o))),a.reduce((l,c)=>l*c,1))}})}),Cle="createUnit",knt=ye(Cle,["typed","Unit"],n=>{var{typed:e,Unit:t}=n;return e(Cle,{"Object, Object":function(i,s){return t.createUnit(i,s)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,s,o){var a={};return a[i]=s,t.createUnit(a,o)},"string, Unit | string | Object":function(i,s){var o={};return o[i]=s,t.createUnit(o,{})},string:function(i){var s={};return s[i]={},t.createUnit(s,{})}})}),Qnt=ye("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],n=>{var{typed:e,matrix:t,multiply:r,equalScalar:i,divideScalar:s,inv:o}=n,a=Ll({typed:e,equalScalar:i}),l=rd({typed:e});return e("divide",mne({"Array | Matrix, Array | Matrix":function(u,h){return r(u,o(h))},"DenseMatrix, any":function(u,h){return l(u,h,s,!1)},"SparseMatrix, any":function(u,h){return a(u,h,s,!1)},"Array, any":function(u,h){return l(t(u),h,s,!1).valueOf()},"any, Array | Matrix":function(u,h){return r(u,o(h))}},s.signatures))}),Gnt=ye("factorial",["typed","gamma"],n=>{var{typed:e,gamma:t}=n;return e("factorial",{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})});function Ele(n,e){var t,r=e.length,i=[];if(n)for(t=0;t<r;t++)i[n[t]]=e[t];else for(t=0;t<r;t++)i[t]=e[t];return i}var jnt=ye("lusolve",["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],n=>{var{typed:e,matrix:t,lup:r,slu:i,usolve:s,lsolve:o,DenseMatrix:a}=n,l=gS({DenseMatrix:a});return e("lusolve",{"Array, Array | Matrix":function(d,f){d=t(d);var A=r(d);return u(A.L,A.U,A.p,null,f).valueOf()},"DenseMatrix, Array | Matrix":function(d,f){var A=r(d);return u(A.L,A.U,A.p,null,f)},"SparseMatrix, Array | Matrix":function(d,f){var A=r(d);return u(A.L,A.U,A.p,null,f)},"SparseMatrix, Array | Matrix, number, number":function(d,f,A,p){var m=i(d,A,p);return u(m.L,m.U,m.p,m.q,f)},"Object, Array | Matrix":function(d,f){return u(d.L,d.U,d.p,d.q,f)}});function c(h){if(cr(h))return h;if(Ds(h))return t(h);throw new TypeError("Invalid Matrix LU decomposition")}function u(h,d,f,A,p){h=c(h),d=c(d),f&&((p=l(h,p,!0))._data=Ele(f,p._data));var m=o(h,p),g=s(d,m);return A&&(g._data=Ele(A,g._data)),g}}),Dle="multinomial",$nt=ye(Dle,["typed","add","divide","multiply","factorial","isInteger","isPositive"],n=>{var{typed:e,add:t,divide:r,multiply:i,factorial:s,isInteger:o,isPositive:a}=n;return e(Dle,{"Array | Matrix":function(c){var u=0,h=1;return wp(c,function(d){if(!o(d)||!a(d))throw new TypeError("Positive integer value expected in function multinomial");u=t(u,d),h=i(h,s(d))}),r(s(u),h)}})}),Mle="permutations",Xnt=ye(Mle,["typed","factorial"],n=>{var{typed:e,factorial:t}=n;return e(Mle,{"number | BigNumber":t,"number, number":function(i,s){if(!$n(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!$n(s)||s<0)throw new TypeError("Positive integer value expected in function permutations");if(s>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Sp(i-s+1,i)},"BigNumber, BigNumber":function(i,s){var o,a;if(!Tle(i)||!Tle(s))throw new TypeError("Positive integer value expected in function permutations");if(s.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");for(o=i.mul(0).add(1),a=i.minus(s).plus(1);a.lte(i);a=a.plus(1))o=o.times(a);return o}})});function Tle(n){return n.isInteger()&&n.gte(0)}var Ble="polynomialRoot",Znt=ye(Ble,["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],n=>{var{typed:e,isZero:t,equalScalar:r,add:i,subtract:s,multiply:o,divide:a,sqrt:l,unaryMinus:c,cbrt:u,typeOf:h,im:d,re:f}=n;return e(Ble,{"number|Complex, ...number|Complex":(A,p)=>{for(var m=[A,...p];m.length>0&&t(m[m.length-1]);)m.pop();if(m.length<2)throw new RangeError("Polynomial [".concat(A,", ").concat(p,"] must have a non-zero non-constant coefficient"));switch(m.length){case 2:return[c(a(m[0],m[1]))];case 3:var[g,y,v]=m,_=o(2,v),C=o(y,y),b=o(4,v,g);if(r(C,b))return[a(c(y),_)];var M=l(s(C,b));return[a(s(M,y),_),a(s(c(M),y),_)];case 4:var[D,E,T,B]=m,R=c(o(3,B)),U=o(T,T),k=o(3,B,E),j=i(o(2,T,T,T),o(27,B,B,D)),O=o(9,B,T,E);if(r(U,k)&&r(j,O))return[a(T,R)];var ve,P=s(U,k),G=s(j,O),H=i(o(18,B,T,E,D),o(T,T,E,E)),ae=i(o(4,T,T,T,D),o(4,B,E,E,E),o(27,B,B,D,D));return r(H,ae)?[a(s(o(4,B,T,E),i(o(9,B,B,D),o(T,T,T))),o(B,P)),a(s(o(9,B,D),o(T,E)),o(2,P))]:(ve=r(U,k)?G:a(i(G,l(s(o(G,G),o(4,P,P,P)))),2),u(ve,!0).toArray().map(K=>a(i(T,K,a(P,K)),R)).map(K=>"Complex"===h(K)&&r(f(K),f(K)+d(K))?f(K):K));default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(m))}}})}),ert=ye("setSize",["typed","compareNatural"],n=>{var{typed:e,compareNatural:t}=n;return e("setSize",{"Array | Matrix":function(i){return Array.isArray(i)?Vi(i).length:Vi(i.toArray()).length},"Array | Matrix, boolean":function(i,s){if(!1===s||0===i.length)return Array.isArray(i)?Vi(i).length:Vi(i.toArray()).length;for(var o=Vi(Array.isArray(i)?i:i.toArray()).sort(t),a=1,l=1;l<o.length;l++)0!==t(o[l],o[l-1])&&a++;return a}})});function Ile(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}var irt=ye("solveODE",["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:s,max:o,map:a,abs:l,isPositive:c,isNegative:u,larger:h,smaller:d,matrix:f,bignumber:A,unaryMinus:p}=n;function m(D){return function(E,T,B,R){if(2!==T.length||!T.every(b)&&!T.every(jh))throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var k=T[0],j=T[1],O=h(j,k),P=R.firstStep;if(void 0!==P&&!c(P))throw new Error('"firstStep" must be positive');var G=R.maxStep;if(void 0!==G&&!c(G))throw new Error('"maxStep" must be positive');var H=R.minStep;if(H&&u(H))throw new Error('"minStep" must be positive or zero');var ae=[k,j,P,H,G].filter(Ue=>void 0!==Ue);if(!ae.every(b)&&!ae.every(jh))throw new Error('Inconsistent type of "t" dependant variables');for(var Q=R.tol?R.tol:1e-4,q=R.minDelta?R.minDelta:.2,K=R.maxDelta?R.maxDelta:5,oe=R.maxIter?R.maxIter:1e4,se=[k,j,...B,G,H].some(kr),[le,te,ee,Ae]=se?[A(D.a),A(D.c),A(D.b),A(D.bp)]:[D.a,D.c,D.b,D.bp],xe=P?O?P:p(P):s(r(j,k),1),ge=[k],Ee=[B],ne=r(ee,Ae),Y=0,W=0,Me=function _(D){return D?d:h}(O),Ce=function C(D){var E=D?h:d;return function(T,B,R){var U=t(T,R);return E(U,B)?r(B,T):R}}(O);Me(ge[Y],j);){var Pe=[];xe=Ce(ge[Y],j,xe),Pe.push(E(ge[Y],Ee[Y]));for(var Oe=1;Oe<te.length;++Oe)Pe.push(E(t(ge[Y],i(te[Oe],xe)),t(Ee[Y],i(xe,le[Oe],Pe))));var re=o(l(a(i(ne,Pe),Ue=>jh(Ue)?Ue.value:Ue)));re<Q&&Q/re>1/4&&(ge.push(t(ge[Y],xe)),Ee.push(t(Ee[Y],i(xe,ee,Pe))),Y++);var Z=.84*(Q/re)**.2;if(d(Z,q)?Z=q:h(Z,K)&&(Z=K),Z=se?A(Z):Z,xe=i(xe,Z),G&&h(l(xe),G)?xe=O?G:p(G):H&&d(l(xe),H)&&(xe=O?H:p(H)),++W>oe)throw new Error("Maximum number of iterations reached, try changing options")}return{t:ge,y:Ee}}}function g(D,E,T,B){return m({a:[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],c:[null,.5,3/4,1],b:[2/9,1/3,4/9,0],bp:[7/24,1/4,1/3,1/8]})(D,E,T,B)}function y(D,E,T,B){return m({a:[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],c:[null,.2,.3,.8,8/9,1,1],b:[35/384,0,500/1113,125/192,-2187/6784,11/84,0],bp:[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40]})(D,E,T,B)}function v(D,E,T,B){var R=B.method?B.method:"RK45",U={RK23:g,RK45:y};if(R.toUpperCase()in U){var k=function trt(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Ile(Object(t),!0).forEach(function(r){ja(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ile(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({},B);return delete k.method,U[R.toUpperCase()](D,E,T,k)}var j=Object.keys(U).map(P=>'"'.concat(P,'"')),O="".concat(j.slice(0,-1).join(", ")," and ").concat(j.slice(-1));throw new Error('Unavailable method "'.concat(R,'". Available methods are ').concat(O))}function b(D){return kr(D)||Ur(D)}function M(D,E,T,B){var R=v(D,E.toArray(),T.toArray(),B);return{t:f(R.t),y:f(R.y)}}return e("solveODE",{"function, Array, Array, Object":v,"function, Matrix, Matrix, Object":M,"function, Array, Array":(D,E,T)=>v(D,E,T,{}),"function, Matrix, Matrix":(D,E,T)=>M(D,E,T,{}),"function, Array, number | BigNumber | Unit":(D,E,T)=>{var B=v(D,E,[T],{});return{t:B.t,y:B.y.map(R=>R[0])}},"function, Matrix, number | BigNumber | Unit":(D,E,T)=>{var B=v(D,E.toArray(),[T],{});return{t:f(B.t),y:f(B.y.map(R=>R[0]))}},"function, Array, number | BigNumber | Unit, Object":(D,E,T,B)=>{var R=v(D,E,[T],B);return{t:R.t,y:R.y.map(U=>U[0])}},"function, Matrix, number | BigNumber | Unit, Object":(D,E,T,B)=>{var R=v(D,E.toArray(),[T],B);return{t:f(R.t),y:f(R.y.map(U=>U[0]))}}})}),Fle="stirlingS2",ort=ye(Fle,["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],n=>{var{typed:e,addScalar:t,multiplyScalar:i,isNegative:c,isInteger:u,number:h,bignumber:d,larger:f}=n,A=[],p=[];return e(Fle,{"number | BigNumber, number | BigNumber":function(g,y){if(!u(g)||c(g)||!u(y)||c(y))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(f(y,g))throw new TypeError("k must be less than or equal to n in function stirlingS2");var v=!(Ur(g)&&Ur(y)),_=v?p:A,C=v?d:h,b=h(g),M=h(y);if(_[b]&&_[b].length>M)return _[b][M];for(var D=0;D<=b;++D)if(_[D]||(_[D]=[C(0===D?1:0)]),0!==D)for(var E=_[D],T=_[D-1],B=E.length;B<=D&&B<=M;++B)E[B]=B===D?1:t(i(C(B),T[B]),T[B-1]);return _[b][M]}})}),lrt=ye("unit",["typed","Unit"],n=>{var{typed:e,Unit:t}=n;return e("unit",{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,s){return new t(i,s)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})}),Ole="bellNumbers",urt=ye(Ole,["typed","addScalar","isNegative","isInteger","stirlingS2"],n=>{var{typed:e,addScalar:t,isNegative:r,isInteger:i,stirlingS2:s}=n;return e(Ole,{"number | BigNumber":function(a){if(!i(a)||r(a))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,c=0;c<=a;c++)l=t(l,s(a,c));return l}})});var Art=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],prt=ye("eigs",Art,n=>{var{config:e,typed:t,matrix:r,addScalar:i,subtract:s,equal:o,abs:a,atan:l,cos:c,sin:u,multiplyScalar:h,divideScalar:d,inv:f,bignumber:A,multiply:p,add:m,larger:g,column:y,flatten:v,number:_,complex:C,sqrt:b,diag:M,size:D,reshape:E,qr:T,usolve:B,usolveAll:R,im:U,re:k,smaller:j,matrixFromColumns:O,dot:P}=n,G=function frt(n){var{config:e,addScalar:t,subtract:r,abs:i,atan:s,cos:o,sin:a,multiplyScalar:l,inv:c,bignumber:u,multiply:h,add:d}=n;function m(E,T,B){return Math.abs(T-E)<=e.relTol?Math.PI/4:.5*Math.atan(2*B/(T-E))}function g(E,T,B){var R=r(T,E);return i(R)<=e.relTol?u(-1).acos().div(4):l(.5,s(h(2,B,c(R))))}function y(E,T,B,R){for(var U=E.length,k=Math.cos(T),j=Math.sin(T),O=Array(U).fill(0),P=Array(U).fill(0),G=0;G<U;G++)O[G]=k*E[G][B]-j*E[G][R],P[G]=j*E[G][B]+k*E[G][R];for(var H=0;H<U;H++)E[H][B]=O[H],E[H][R]=P[H];return E}function v(E,T,B,R){for(var U=E.length,k=o(T),j=a(T),O=Array(U).fill(u(0)),P=Array(U).fill(u(0)),G=0;G<U;G++)O[G]=r(l(k,E[G][B]),l(j,E[G][R])),P[G]=t(l(j,E[G][B]),l(k,E[G][R]));for(var H=0;H<U;H++)E[H][B]=O[H],E[H][R]=P[H];return E}function _(E,T,B,R){for(var U=E.length,k=u(o(T)),j=u(a(T)),O=l(k,k),P=l(j,j),G=Array(U).fill(u(0)),H=Array(U).fill(u(0)),ae=h(u(2),k,j,E[B][R]),ve=t(r(l(O,E[B][B]),ae),l(P,E[R][R])),Q=d(l(P,E[B][B]),ae,l(O,E[R][R])),q=0;q<U;q++)G[q]=r(l(k,E[B][q]),l(j,E[R][q])),H[q]=t(l(j,E[B][q]),l(k,E[R][q]));E[B][B]=ve,E[R][R]=Q,E[B][R]=u(0),E[R][B]=u(0);for(var K=0;K<U;K++)K!==B&&K!==R&&(E[B][K]=G[K],E[K][B]=G[K],E[R][K]=H[K],E[K][R]=H[K]);return E}function C(E,T,B,R){for(var U=E.length,k=Math.cos(T),j=Math.sin(T),O=k*k,P=j*j,G=Array(U).fill(0),H=Array(U).fill(0),ae=O*E[B][B]-2*k*j*E[B][R]+P*E[R][R],ve=P*E[B][B]+2*k*j*E[B][R]+O*E[R][R],Q=0;Q<U;Q++)G[Q]=k*E[B][Q]-j*E[R][Q],H[Q]=j*E[B][Q]+k*E[R][Q];E[B][B]=ae,E[R][R]=ve,E[B][R]=0,E[R][B]=0;for(var q=0;q<U;q++)q!==B&&q!==R&&(E[B][q]=G[q],E[q][B]=G[q],E[R][q]=H[q],E[q][R]=H[q]);return E}function b(E){for(var T=E.length,B=0,R=[0,1],U=0;U<T;U++)for(var k=U+1;k<T;k++)Math.abs(B)<Math.abs(E[U][k])&&(B=Math.abs(E[U][k]),R=[U,k]);return[R,B]}function M(E){for(var T=E.length,B=0,R=[0,1],U=0;U<T;U++)for(var k=U+1;k<T;k++)i(B)<i(E[U][k])&&(B=i(E[U][k]),R=[U,k]);return[R,B]}function D(E,T,B){var k,R=E.length,U=Array(R);if(B){k=Array(R);for(var j=0;j<R;j++)k[j]=Array(R)}for(var O=0;O<R;O++){for(var P=0,G=E[0],H=0;H<E.length;H++)i(E[H])<i(G)&&(G=E[P=H]);if(U[O]=E.splice(P,1)[0],B)for(var ae=0;ae<R;ae++)k[O][ae]=T[ae][P],T[ae].splice(P,1)}if(!B)return{values:U};var ve=k.map((Q,q)=>({value:U[q],vector:Q}));return{values:U,eigenvectors:ve}}return function f(E,T){var B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.relTol,R=arguments.length>3?arguments[3]:void 0,U=arguments.length>4?arguments[4]:void 0;if("number"===R)return function A(E,T,B){var k,j,R=E.length,U=Math.abs(T/R);if(B){j=new Array(R);for(var O=0;O<R;O++)j[O]=Array(R).fill(0),j[O][O]=1}for(var P=b(E);Math.abs(P[1])>=Math.abs(U);){var G=P[0][0],H=P[0][1];E=C(E,k=m(E[G][G],E[H][H],E[G][H]),G,H),B&&(j=y(j,k,G,H)),P=b(E)}for(var ae=Array(R).fill(0),ve=0;ve<R;ve++)ae[ve]=E[ve][ve];return D(Ir(ae),j,B)}(E,B,U);if("BigNumber"===R)return function p(E,T,B){var k,j,R=E.length,U=i(T/R);if(B){j=new Array(R);for(var O=0;O<R;O++)j[O]=Array(R).fill(0),j[O][O]=1}for(var P=M(E);i(P[1])>=i(U);){var G=P[0][0],H=P[0][1];E=_(E,k=g(E[G][G],E[H][H],E[G][H]),G,H),B&&(j=v(j,k,G,H)),P=M(E)}for(var ae=Array(R).fill(0),ve=0;ve<R;ve++)ae[ve]=E[ve][ve];return D(Ir(ae),j,B)}(E,B,U);throw TypeError("Unsupported data type: "+R)}}({config:e,addScalar:i,subtract:s,column:y,flatten:v,equal:o,abs:a,atan:l,cos:c,sin:u,multiplyScalar:h,inv:f,bignumber:A,complex:C,multiply:p,add:m}),H=function hrt(n){var{addScalar:e,subtract:t,flatten:r,multiply:i,multiplyScalar:s,divideScalar:o,sqrt:a,abs:l,bignumber:c,diag:u,size:h,reshape:d,inv:f,qr:A,usolve:p,usolveAll:m,equal:g,complex:y,larger:v,smaller:_,dot:b}=n;function R(Q,q,K,oe){var se=e(Q,oe),le=t(s(Q,oe),s(q,K)),te=s(se,.5),ee=s(a(t(s(se,se),s(4,le))),.5);return[e(te,ee),t(te,ee)]}function U(Q,q,K,oe,se,le,te,ee){var Ae="BigNumber"===ee,xe="Complex"===ee,ge=Ae?c(0):xe?y(0):0,Ee=Ae?c(1):xe?y(1):1;if(_(l(K),te))return[[Ee,ge],[ge,Ee]];if(v(l(t(se,le)),te))return[[t(se,oe),t(le,oe)],[K,K]];var ne=t(Q,se),Y=t(oe,se);return _(l(q),te)&&_(l(Y),te)?[[ne,Ee],[K,ge]]:[[q,ge],[Y,Ee]]}function k(Q,q){for(var K=0;K<Q.length;K++)Q[K].push(...Array(q-Q[K].length).fill(0));for(var oe=Q.length;oe<q;oe++)Q.push(Array(q).fill(0)),Q[oe][oe]=1;return Q}function O(Q,q,K){for(var oe=0;oe<Q.length;oe++)if(K(Q[oe],q))return oe;return-1}function P(Q,q,K,oe,se){for(var te,le="BigNumber"===se?c(1e3):1e3,ee=0;ee<5;++ee){te=G(q,K,se);try{te=p(Q,te)}catch{continue}if(v(ae(te),le))break}if(ee>=5)return null;for(ee=0;;){var Ae=p(Q,te);if(_(ae(H(te,[Ae])),oe))break;if(++ee>=10)return null;te=ve(Ae)}return te}function G(Q,q,K){var oe="BigNumber"===K,se="Complex"===K,le=Array(Q).fill(0).map(te=>2*Math.random()-1);return oe&&(le=le.map(te=>c(te))),se&&(le=le.map(te=>y(te))),ve(le=H(le,q),K)}function H(Q,q){var K=h(Q);for(var oe of q)oe=d(oe,K),Q=t(Q,i(o(b(oe,Q),b(oe,oe)),oe));return Q}function ae(Q){return l(a(b(Q,Q)))}function ve(Q,q){var oe="Complex"===q,se="BigNumber"===q?c(1):oe?y(1):1;return i(o(se,ae(Q)),Q)}return function M(Q,q,K,oe){var se=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],le=function D(Q,q,K,oe,se){var ne,le="BigNumber"===oe,te="Complex"===oe,ee=le?c(0):0,Ae=le?c(1):te?y(1):1,xe=le?c(1):1,ge=le?c(10):2,Ee=s(ge,ge);se&&(ne=Array(q).fill(Ae));for(var Y=!1;!Y;){Y=!0;for(var W=0;W<q;W++){for(var Me=ee,Ce=ee,Pe=0;Pe<q;Pe++)W!==Pe&&(Me=e(Me,l(Q[Pe][W])),Ce=e(Ce,l(Q[W][Pe])));if(!g(Me,0)&&!g(Ce,0)){for(var Oe=xe,re=Me,Z=o(Ce,ge),Ue=s(Ce,ge);_(re,Z);)re=s(re,Ee),Oe=s(Oe,ge);for(;v(re,Ue);)re=o(re,Ee),Oe=o(Oe,ge);if(_(o(e(re,Ce),Oe),s(e(Me,Ce),.95))){Y=!1;for(var rt=o(1,Oe),Xe=0;Xe<q;Xe++)W!==Xe&&(Q[W][Xe]=s(Q[W][Xe],rt),Q[Xe][W]=s(Q[Xe][W],Oe));se&&(ne[W]=s(ne[W],rt))}}}}return se?u(ne):null}(Q,q,0,oe,se);!function E(Q,q,K,oe,se,le){var te="BigNumber"===oe,ee="Complex"===oe,Ae=te?c(0):ee?y(0):0;te&&(K=c(K));for(var xe=0;xe<q-2;xe++){for(var ge=0,Ee=Ae,ne=xe+1;ne<q;ne++){var Y=Q[ne][xe];_(l(Ee),l(Y))&&(Ee=Y,ge=ne)}if(!_(l(Ee),K)){if(ge!==xe+1){var W=Q[ge];Q[ge]=Q[xe+1],Q[xe+1]=W;for(var Me=0;Me<q;Me++){var Ce=Q[Me][ge];Q[Me][ge]=Q[Me][xe+1],Q[Me][xe+1]=Ce}if(se){var Pe=le[ge];le[ge]=le[xe+1],le[xe+1]=Pe}}for(var Oe=xe+2;Oe<q;Oe++){var re=o(Q[Oe][xe],Ee);if(0!==re){for(var Z=0;Z<q;Z++)Q[Oe][Z]=t(Q[Oe][Z],s(re,Q[xe+1][Z]));for(var Ue=0;Ue<q;Ue++)Q[Ue][xe+1]=e(Q[Ue][xe+1],s(re,Q[Ue][Oe]));if(se)for(var Qe=0;Qe<q;Qe++)le[Oe][Qe]=t(le[Oe][Qe],s(re,le[xe+1][Qe]))}}}}}(Q,q,K,oe,se,le);var{values:te,C:ee}=function T(Q,q,K,oe,se){var le="BigNumber"===oe,te="Complex"===oe,ee=le?c(1):te?y(1):1;le&&(K=c(K));for(var Ae=Ir(Q),xe=[],ge=q,Ee=[],ne=se?u(Array(q).fill(ee)):void 0,Y=se?u(Array(ge).fill(ee)):void 0,W=0;W<=100;){W+=1;for(var Me=Ae[ge-1][ge-1],Ce=0;Ce<ge;Ce++)Ae[Ce][Ce]=t(Ae[Ce][Ce],Me);var{Q:Pe,R:Oe}=A(Ae);Ae=i(Oe,Pe);for(var re=0;re<ge;re++)Ae[re][re]=e(Ae[re][re],Me);if(se&&(Y=i(Y,Pe)),1===ge||_(l(Ae[ge-1][ge-2]),K)){W=0,xe.push(Ae[ge-1][ge-1]),se&&(Ee.unshift([[1]]),k(Y,q),ne=i(ne,Y),ge>1&&(Y=u(Array(ge-1).fill(ee)))),ge-=1,Ae.pop();for(var Z=0;Z<ge;Z++)Ae[Z].pop()}else if(2===ge||_(l(Ae[ge-2][ge-3]),K)){W=0;var Ue=R(Ae[ge-2][ge-2],Ae[ge-2][ge-1],Ae[ge-1][ge-2],Ae[ge-1][ge-1]);xe.push(...Ue),se&&(Ee.unshift(U(Ae[ge-2][ge-2],Ae[ge-2][ge-1],Ae[ge-1][ge-2],Ae[ge-1][ge-1],Ue[0],Ue[1],K,oe)),k(Y,q),ne=i(ne,Y),ge>2&&(Y=u(Array(ge-2).fill(ee)))),ge-=2,Ae.pop(),Ae.pop();for(var Qe=0;Qe<ge;Qe++)Ae[Qe].pop(),Ae[Qe].pop()}if(0===ge)break}if(xe.sort((Pt,Ft)=>+t(l(Pt),l(Ft))),W>100){var rt=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+xe.join(", "));throw rt.values=xe,rt.vectors=[],rt}var Xe=se?i(ne,function j(Q,q){for(var K=[],oe=0;oe<q;oe++)K[oe]=Array(q).fill(0);var se=0;for(var le of Q){for(var te=le.length,ee=0;ee<te;ee++)for(var Ae=0;Ae<te;Ae++)K[se+ee][se+Ae]=le[ee][Ae];se+=te}return K}(Ee,q)):void 0;return{values:xe,C:Xe}}(Q,q,K,oe,se);if(se){var Ae=function B(Q,q,K,oe,se,le,te){var ee=f(K),Ae=i(ee,Q,K),xe="BigNumber"===te,ge="Complex"===te,Ee=xe?c(0):ge?y(0):0,ne=xe?c(1):ge?y(1):1,Y=[],W=[];for(var Me of se){var Ce=O(Y,Me,g);-1===Ce?(Y.push(Me),W.push(1)):W[Ce]+=1}for(var Pe=[],Oe=Y.length,re=Array(q).fill(Ee),Z=u(Array(q).fill(ne)),Ue=function(){var Xe=Y[Qe],Pt=t(Ae,i(Xe,Z)),Ft=m(Pt,re);for(Ft.shift();Ft.length<W[Qe];){var Tt=P(Pt,q,Ft,le,te);if(null===Tt)break;Ft.push(Tt)}var yn=i(f(oe),K);Ft=Ft.map(st=>i(yn,st)),Pe.push(...Ft.map(st=>({value:Xe,vector:r(st)})))},Qe=0;Qe<Oe;Qe++)Ue();return Pe}(Q,q,ee,le,te,K,oe);return{values:te,eigenvectors:Ae}}return{values:te}}}({config:e,addScalar:i,subtract:s,multiply:p,multiplyScalar:h,flatten:v,divideScalar:d,sqrt:b,abs:a,bignumber:A,diag:M,size:D,reshape:E,qr:T,inv:f,usolve:B,usolveAll:R,equal:o,complex:C,larger:g,smaller:j,matrixFromColumns:O,dot:P});return t("eigs",{Array:function(le){return ae(r(le))},"Array, number|BigNumber":function(le,te){return ae(r(le),{precision:te})},"Array, Object":(se,le)=>ae(r(se),le),Matrix:function(le){return ae(le,{matricize:!0})},"Matrix, number|BigNumber":function(le,te){return ae(le,{precision:te,matricize:!0})},"Matrix, Object":function(le,te){var ee={matricize:!0};return qa(ee,te),ae(le,ee)}});function ae(se){var le,te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ee=!("eigenvectors"in te)||te.eigenvectors,xe=function ve(se,le,te){var ee=se.toArray(),Ae=se.size();if(2!==Ae.length||Ae[0]!==Ae[1])throw new RangeError("Matrix must be square (size: ".concat(ni(Ae),")"));var xe=Ae[0];if(function q(se,le,te){for(var ee=0;ee<le;ee++)for(var Ae=0;Ae<le;Ae++)if(g(A(a(U(se[ee][Ae]))),te))return!1;return!0}(ee,xe,le)&&(function K(se,le){for(var te=0;te<le;te++)for(var ee=0;ee<le;ee++)se[te][ee]=k(se[te][ee])}(ee,xe),function Q(se,le,te){for(var ee=0;ee<le;ee++)for(var Ae=ee;Ae<le;Ae++)if(g(A(a(s(se[ee][Ae],se[Ae][ee]))),te))return!1;return!0}(ee,xe,le))){var ge=oe(se,ee,xe);return G(ee,xe,le,ge,te)}var Ee=oe(se,ee,xe);return H(ee,xe,le,Ee,te)}(se,null!==(le=te.precision)&&void 0!==le?le:e.relTol,ee);return te.matricize&&(xe.values=r(xe.values),ee&&(xe.eigenvectors=xe.eigenvectors.map(ge=>{var{value:Ee,vector:ne}=ge;return{value:Ee,vector:r(ne)}}))),ee&&Object.defineProperty(xe,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),xe}function oe(se,le,te){var ee=se.datatype();if("number"===ee||"BigNumber"===ee||"Complex"===ee)return ee;for(var Ae=!1,xe=!1,ge=!1,Ee=0;Ee<te;Ee++)for(var ne=0;ne<te;ne++){var Y=le[Ee][ne];if(Ur(Y)||tS(Y))Ae=!0;else if(kr(Y))xe=!0;else{if(!_p(Y))throw TypeError("Unsupported type in Matrix: "+Ws(Y));ge=!0}}if(xe&&ge&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),ge){for(var W=0;W<te;W++)for(var Me=0;Me<te;Me++)le[W][Me]=C(le[W][Me]);return"Complex"}if(xe){for(var Ce=0;Ce<te;Ce++)for(var Pe=0;Pe<te;Pe++)le[Ce][Pe]=A(le[Ce][Pe]);return"BigNumber"}if(Ae){for(var Oe=0;Oe<te;Oe++)for(var re=0;re<te;re++)le[Oe][re]=_(le[Oe][re]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),Ple="kldivergence",grt=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],mrt=ye(Ple,grt,n=>{var{typed:e,matrix:t,divide:r,sum:i,multiply:s,map:o,dotDivide:a,log:l,isNumeric:c}=n;return e(Ple,{"Array, Array":function(d,f){return u(t(d),t(f))},"Matrix, Array":function(d,f){return u(d,t(f))},"Array, Matrix":function(d,f){return u(t(d),f)},"Matrix, Matrix":function(d,f){return u(d,f)}});function u(h,d){var f=d.size().length,A=h.size().length;if(f>1)throw new Error("first object must be one dimensional");if(A>1)throw new Error("second object must be one dimensional");if(f!==A)throw new Error("Length of two vectors must be equal");if(0===i(h))throw new Error("Sum of elements in first object must be non zero");if(0===i(d))throw new Error("Sum of elements in second object must be non zero");var g=r(h,i(h)),y=r(d,i(d)),v=i(s(g,o(a(g,y),_=>l(_))));return c(v)?v:Number.NaN}}),vrt=["typed","add","divide","compare","partitionSelect"],yrt=ye("median",vrt,n=>{var{typed:e,add:t,divide:r,compare:i,partitionSelect:s}=n;function o(c){try{var u=(c=Vi(c.valueOf())).length;if(0===u)throw new Error("Cannot calculate median of an empty array");if(u%2==0){for(var h=u/2-1,d=s(c,h+1),f=c[h],A=0;A<h;++A)i(c[A],f)>0&&(f=c[A]);return l(f,d)}var p=s(c,(u-1)/2);return a(p)}catch(m){throw jc(m,"median")}}var a=e({"number | BigNumber | Complex | Unit":function(u){return u}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(u,h){return r(t(u,h),2)}});return e("median",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,h){throw new Error("median(A, dim) is not yet supported")},"...":function(u){if(yb(u))throw new TypeError("Scalar values expected in function median");return o(u)}})}),_rt=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],brt=ye("corr",_rt,n=>{var{typed:e,matrix:t,sqrt:r,sum:i,add:s,subtract:o,multiply:a,pow:l,divide:c}=n;return e("corr",{"Array, Array":function(f,A){return u(f,A)},"Matrix, Matrix":function(f,A){var p=u(f.toArray(),A.toArray());return Array.isArray(p)?t(p):p}});function u(d,f){var A=[];if(Array.isArray(d[0])&&Array.isArray(f[0])){if(d.length!==f.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var p=0;p<d.length;p++){if(d[p].length!==f[p].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");A.push(h(d[p],f[p]))}return A}if(d.length!==f.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return h(d,f)}function h(d,f){var A=d.length,p=i(d),m=i(f),g=d.reduce((b,M,D)=>s(b,a(M,f[D])),0),y=i(d.map(b=>l(b,2))),v=i(f.map(b=>l(b,2))),_=o(a(A,g),a(p,m)),C=r(a(o(a(A,y),l(p,2)),o(a(A,v),l(m,2))));return c(_,C)}}),wrt=["typed","add","multiply","Complex","divide","matrix"],Crt=ye("freqz",wrt,n=>{var{typed:e,add:t,multiply:r,Complex:i,divide:s,matrix:o}=n;return e("freqz",{"Array, Array":function(u,h){return a(u,h,l(512))},"Array, Array, Array":function(u,h,d){return a(u,h,d)},"Array, Array, number":function(u,h,d){if(d<0)throw new Error("w must be a positive number");return a(u,h,l(d))},"Matrix, Matrix":function(u,h){var d=l(512),{w:f,h:A}=a(u.valueOf(),h.valueOf(),d);return{w:o(f),h:o(A)}},"Matrix, Matrix, Matrix":function(u,h,d){var{h:f}=a(u.valueOf(),h.valueOf(),d.valueOf());return{h:o(f),w:o(d)}},"Matrix, Matrix, number":function(u,h,d){if(d<0)throw new Error("w must be a positive number");var f=l(d),{h:A}=a(u.valueOf(),h.valueOf(),f);return{h:o(A),w:o(f)}}});function a(c,u,h){for(var d=[],f=[],A=0;A<h.length;A++){for(var p=i(0,0),m=i(0,0),g=0;g<c.length;g++)p=t(p,r(c[g],i(Math.cos(-g*h[A]),Math.sin(-g*h[A]))));for(var y=0;y<u.length;y++)m=t(m,r(u[y],i(Math.cos(-y*h[A]),Math.sin(-y*h[A]))));d.push(p),f.push(m)}for(var v=[],_=0;_<d.length;_++)v.push(s(d[_],f[_]));return{h:v,w:h}}function l(c){for(var u=[],h=0;h<c;h++)u.push(h/c*Math.PI);return u}}),xrt=["typed","abs","map","median","subtract"],Ert=ye("mad",xrt,n=>{var{typed:e,abs:t,map:r,median:i,subtract:s}=n;return e("mad",{"Array | Matrix":o,"...":function(l){return o(l)}});function o(a){if(0===(a=Vi(a.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(a);return i(r(a,function(c){return t(s(c,l))}))}catch(c){throw c instanceof TypeError&&c.message.includes("median")?new TypeError(c.message.replace("median","mad")):jc(c,"mad")}}}),Srt=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],Drt=ye("zeta",Srt,n=>{var{typed:e,config:t,multiply:r,pow:i,divide:s,factorial:o,equal:a,smallerEq:l,isNegative:c,gamma:u,sin:h,subtract:d,add:f,Complex:A,BigNumber:p,pi:m}=n;return e("zeta",{number:b=>g(b,M=>M,()=>20),BigNumber:b=>g(b,M=>new p(M),()=>Math.abs(Math.log10(t.relTol))),Complex:function y(b){return 0===b.re&&0===b.im?new A(-.5):1===b.re?new A(NaN,NaN):b.re===1/0&&0===b.im?new A(1):b.im===1/0||b.re===-1/0?new A(NaN,NaN):v(b,M=>M,M=>Math.round(19.5+.9*Math.abs(M.im)),M=>M.re)}});function g(b,M,D){return a(b,0)?M(-.5):a(b,1)?M(NaN):isFinite(b)?v(b,M,D,E=>E):c(b)?M(NaN):M(1)}function v(b,M,D,E){var T=D(b);if(E(b)>-(T-1)/2)return function C(b,M,D){for(var E=s(1,r(_(D(0),M),d(1,i(2,d(1,b))))),T=D(0),B=D(1);l(B,M);B=f(B,1))T=f(T,s(r((-1)**(B-1),_(B,M)),i(B,b)));return r(E,T)}(b,M(T),M);var B=r(i(2,b),i(M(m),d(b,1)));return B=r(B,h(r(s(M(m),2),b))),B=r(B,u(d(1,b))),r(B,v(d(1,b),M,D,E))}function _(b,M){for(var D=b,E=b;l(E,M);E=f(E,1)){var T=s(r(o(f(M,d(E,1))),i(4,E)),r(o(d(M,E)),o(r(2,E))));D=f(D,T)}return r(M,D)}}),Mrt=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],Trt=ye("norm",Mrt,n=>{var{typed:e,abs:t,add:r,pow:i,conj:s,sqrt:o,multiply:a,equalScalar:l,larger:c,smaller:u,matrix:h,ctranspose:d,eigs:f}=n;return e("norm",{number:Math.abs,Complex:function(D){return D.abs()},BigNumber:function(D){return D.abs()},boolean:function(D){return Math.abs(D)},Array:function(D){return b(h(D),2)},Matrix:function(D){return b(D,2)},"Array, number | BigNumber | string":function(D,E){return b(h(D),E)},"Matrix, number | BigNumber | string":function(D,E){return b(D,E)}});function b(M,D){var E=M.size();if(1===E.length)return function m(M,D){if(D===Number.POSITIVE_INFINITY||"inf"===D)return function A(M){var D=0;return M.forEach(function(E){var T=t(E);c(T,D)&&(D=T)},!0),D}(M);if(D===Number.NEGATIVE_INFINITY||"-inf"===D)return function p(M){var D;return M.forEach(function(E){var T=t(E);(!D||u(T,D))&&(D=T)},!0),D||0}(M);if("fro"===D)return b(M,2);if("number"==typeof D&&!isNaN(D)){if(!l(D,0)){var E=0;return M.forEach(function(T){E=r(i(t(T),D),E)},!0),i(E,1/D)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}(M,D);if(2===E.length){if(E[0]&&E[1])return function C(M,D){if(1===D)return function y(M){var D=[],E=0;return M.forEach(function(T,B){var R=B[1],U=r(D[R]||0,t(T));c(U,E)&&(E=U),D[R]=U},!0),E}(M);if(D===Number.POSITIVE_INFINITY||"inf"===D)return function _(M){var D=[],E=0;return M.forEach(function(T,B){var R=B[0],U=r(D[R]||0,t(T));c(U,E)&&(E=U),D[R]=U},!0),E}(M);if("fro"===D)return function g(M){var D=0;return M.forEach(function(E,T){D=r(D,a(E,s(E)))}),t(o(D))}(M);if(2===D)return function v(M){var D=M.size();if(D[0]!==D[1])throw new RangeError("Invalid matrix dimensions");var E=d(M),T=a(E,M),B=f(T).values.toArray();return t(o(B[B.length-1]))}(M);throw new Error("Unsupported parameter value "+D)}(M,D);throw new RangeError("Invalid matrix dimensions")}}}),zle="rotationMatrix",Brt=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],Nrt=ye(zle,Brt,n=>{var{typed:e,config:t,multiplyScalar:r,addScalar:i,unaryMinus:s,norm:o,BigNumber:a,matrix:l,DenseMatrix:c,SparseMatrix:u,cos:h,sin:d}=n;return e(zle,{"":function(){return"Matrix"===t.matrix?l([]):[]},string:function(v){return l(v)},"number | BigNumber | Complex | Unit":function(v){return f(v,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(v,_){return f(v,_)},"number | BigNumber | Complex | Unit, Array":function(v,_){var C=l(_);return A(C),g(v,C,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(v,_){A(_);var C=_.storage()||("Matrix"===t.matrix?"dense":void 0);return g(v,_,C)},"number | BigNumber | Complex | Unit, Array, string":function(v,_,C){var b=l(_);return A(b),g(v,b,C)},"number | BigNumber | Complex | Unit, Matrix, string":function(v,_,C){return A(_),g(v,_,C)}});function f(y,v){var C=kr(y)?new a(-1):-1,b=h(y),M=d(y);return m([[b,r(C,M)],[M,b]],v)}function A(y){var v=y.size();if(v.length<1||3!==v[0])throw new RangeError("Vector must be of dimensions 1x3")}function p(y){return y.reduce((v,_)=>r(v,_))}function m(y,v){if(v){if("sparse"===v)return new u(y);if("dense"===v)return new c(y);throw new TypeError('Unknown matrix type "'.concat(v,'"'))}return y}function g(y,v,_){var C=o(v);if(0===C)throw new RangeError("Rotation around zero vector");var b=kr(y)?a:null,M=b?new b(1):1,D=b?new b(-1):-1,E=b?new b(v.get([0])/C):v.get([0])/C,T=b?new b(v.get([1])/C):v.get([1])/C,B=b?new b(v.get([2])/C):v.get([2])/C,R=h(y),U=i(M,s(R)),k=d(y);return m([[i(R,p([E,E,U])),i(p([E,T,U]),p([D,B,k])),i(p([E,B,U]),p([T,k]))],[i(p([E,T,U]),p([B,k])),i(R,p([T,T,U])),i(p([T,B,U]),p([D,E,k]))],[i(p([E,B,U]),p([D,T,k])),i(p([T,B,U]),p([E,k])),i(R,p([B,B,U]))]],_)}}),Irt=["typed","matrix","identity","multiply","qr","norm","subtract"],Frt=ye("schur",Irt,n=>{var{typed:e,matrix:t,identity:r,multiply:i,qr:s,norm:o,subtract:a}=n;return e("schur",{Array:function(u){var h=l(t(u));return{U:h.U.valueOf(),T:h.T.valueOf()}},Matrix:function(u){return l(u)}});function l(c){var A,u=c.size()[0],h=c,d=r(u),f=0;do{A=h;var p=s(h),m=p.Q;if(h=i(p.R,m),d=i(d,m),f++>100)break}while(o(a(h,A))>1e-4);return{U:d,T:h}}}),Rrt=["typed","multiply","rotationMatrix"],Ort=ye("rotate",Rrt,n=>{var{typed:e,multiply:t,rotationMatrix:r}=n;return e("rotate",{"Array , number | BigNumber | Complex | Unit":function(o,a){return i(o,2),t(r(a),o).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,a){return i(o,2),t(r(a),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,a,l){return i(o,3),t(r(a,l),o)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,a,l){return i(o,3),t(r(a,l),o)}});function i(s,o){var a=Array.isArray(s)?xr(s):s.size();if(a.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(2===a.length&&1!==a[1])throw new RangeError("Vector must be of dimensions 1x".concat(o));if(a[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}}),Prt=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],Lrt=ye("sylvester",Prt,n=>{var{typed:e,schur:t,matrixFromColumns:r,matrix:i,multiply:s,range:o,concat:a,transpose:l,index:c,subset:u,add:h,subtract:d,identity:f,lusolve:A,abs:p}=n;return e("sylvester",{"Matrix, Matrix, Matrix":m,"Array, Matrix, Matrix":function(y,v,_){return m(i(y),v,_)},"Array, Array, Matrix":function(y,v,_){return m(i(y),i(v),_)},"Array, Matrix, Array":function(y,v,_){return m(i(y),v,i(_))},"Matrix, Array, Matrix":function(y,v,_){return m(y,i(v),_)},"Matrix, Array, Array":function(y,v,_){return m(y,i(v),i(_))},"Matrix, Matrix, Array":function(y,v,_){return m(y,v,i(_))},"Array, Array, Array":function(y,v,_){return m(i(y),i(v),i(_)).toArray()}});function m(g,y,v){for(var _=y.size()[0],C=g.size()[0],b=t(g),M=b.T,D=b.U,E=t(s(-1,y)),T=E.T,B=E.U,R=s(s(l(D),v),B),U=o(0,C),k=[],j=(ge,Ee)=>a(ge,Ee,1),O=(ge,Ee)=>a(ge,Ee,0),P=0;P<_;P++)if(P<_-1&&p(u(T,c(P+1,P)))>1e-5){for(var G=O(u(R,c(U,P)),u(R,c(U,P+1))),H=0;H<P;H++)G=h(G,O(s(k[H],u(T,c(H,P))),s(k[H],u(T,c(H,P+1)))));var ae=s(f(C),s(-1,u(T,c(P,P)))),ve=s(f(C),s(-1,u(T,c(P+1,P)))),Q=s(f(C),s(-1,u(T,c(P,P+1)))),q=s(f(C),s(-1,u(T,c(P+1,P+1)))),K=O(j(h(M,ae),ve),j(Q,h(M,q))),oe=A(K,G);k[P]=oe.subset(c(o(0,C),0)),k[P+1]=oe.subset(c(o(C,2*C),0)),P++}else{for(var se=u(R,c(U,P)),le=0;le<P;le++)se=h(se,s(k[le],u(T,c(le,P))));var te=u(T,c(P,P)),ee=d(M,s(te,f(C)));k[P]=A(ee,se)}var Ae=i(r(...k));return s(D,s(Ae,l(B)))}}),Urt=["typed","matrix","sylvester","multiply","transpose"],krt=ye("lyap",Urt,n=>{var{typed:e,matrix:t,sylvester:r,multiply:i,transpose:s}=n;return e("lyap",{"Matrix, Matrix":function(a,l){return r(a,s(a),i(-1,l))},"Array, Matrix":function(a,l){return r(t(a),s(t(a)),i(-1,l))},"Matrix, Array":function(a,l){return r(a,s(t(a)),t(i(-1,l)))},"Array, Array":function(a,l){return r(t(a),s(t(a)),t(i(-1,l))).toArray()}})}),cn=Eje({config:It}),Ls=Bje({}),$le=Wje({BigNumber:cn,config:It}),Hrt=Vje({}),Vrt=wWe({BigNumber:cn,config:It}),z0=s$e({}),Kle=tWe({Complex:Ls}),Qrt=zje({BigNumber:cn,config:It}),zrt=Xje({BigNumber:cn,config:It}),Grt=Zje({BigNumber:cn,config:It}),yF=l$e({}),qrt=Gje({BigNumber:cn,config:It}),jrt=Qje({}),Wrt=$je({BigNumber:cn,config:It}),$rt=h$e({}),Xle=A$e({}),Krt=Jje({BigNumber:cn,config:It}),Xrt=VWe({BigNumber:cn,config:It}),Yle=jje({BigNumber:cn,config:It}),Yrt=Hje({}),Zrt=nWe({}),qr=m$e({Matrix:yF}),Jrt=NWe({BigNumber:cn,config:It}),eit=Kje({BigNumber:cn,config:It}),r6=qje({BigNumber:cn,config:It}),Zle=_$e({}),tit=eWe({BigNumber:cn,config:It}),ke=w$e({BigNumber:cn,Complex:Ls,DenseMatrix:qr,Fraction:z0}),nit=BWe({BigNumber:cn,config:It}),Wc=I$e({typed:ke}),rit=R$e({Complex:Ls,config:It,typed:ke}),iit=j$e({BigNumber:cn,typed:ke}),sit=$$e({BigNumber:cn,Complex:Ls,config:It,typed:ke}),Ka=X$e({typed:ke}),oit=Z$e({typed:ke}),ait=eKe({BigNumber:cn,Complex:Ls,config:It,typed:ke}),lit=rKe({typed:ke}),Jle=oKe({typed:ke}),cit=lKe({Complex:Ls,config:It,typed:ke}),uit=hKe({typed:ke}),hit=dKe({typed:ke}),fit=pKe({typed:ke}),dit=mKe({typed:ke}),_F=yKe({typed:ke}),bF=wKe({Complex:Ls,typed:ke}),G0=xKe({typed:ke}),i6=SKe({typed:ke}),Ait=MKe({BigNumber:cn,typed:ke}),pit=BKe({BigNumber:cn,typed:ke}),git=IKe({typed:ke}),si=OKe({config:It,typed:ke}),mit=UKe({typed:ke}),ece=zKe({typed:ke}),vit=qKe({Complex:Ls,typed:ke}),yit=bre({typed:ke}),mS=WKe({typed:ke}),_it=Ere({typed:ke}),Ib=KKe({typed:ke}),s6=YKe({typed:ke}),bit=JKe({format:Ib,typed:ke}),o6=tXe({typed:ke}),Tu=rXe({typed:ke}),Cm=aXe({config:It,typed:ke}),q0=cXe({config:It,typed:ke}),aA=hXe({equalScalar:si,typed:ke}),wit=Yje({BigNumber:cn,config:It}),Cit=pXe({Complex:Ls,typed:ke}),xit=mXe({Complex:Ls,config:It,typed:ke}),tce=yXe({Complex:Ls,config:It,typed:ke}),j0=Sre({typed:ke}),$o=wXe({typed:ke}),wF=xXe({typed:ke}),Mp=TXe({typed:ke}),Eit=NXe({format:Ib,typed:ke}),Sit=RXe({config:It,typed:ke}),Dit=kre({typed:ke}),Mit=PXe({config:It,typed:ke}),a6=UXe({typed:ke}),Tit=HXe({BigNumber:cn,typed:ke}),nce=QXe({BigNumber:cn,Fraction:z0,complex:bF,typed:ke}),CF=GXe({typed:ke}),Xa=WXe({Matrix:yF,equalScalar:si,typed:ke}),Bit=KXe({typed:ke}),Nit=YXe({typed:ke}),Iit=JXe({typed:ke}),Zh=tYe({typed:ke}),Fit=rYe({typed:ke}),l6=sYe({typed:ke}),Rit=aYe({Complex:Ls,config:It,typed:ke}),Oit=cYe({BigNumber:cn,typed:ke}),c6=M8({isInteger:Tu,typed:ke}),Pit=hYe({BigNumber:cn,Complex:Ls,config:It,typed:ke}),Jh=AYe({BigNumber:cn,typed:ke}),Lit=gYe({typed:ke}),Uit=vYe({typed:ke}),kit=_Ye({BigNumber:cn,typed:ke}),vS=wYe({typed:ke}),Hit=xYe({typed:ke}),Vit=SYe({config:It,typed:ke}),Qit=MYe({BigNumber:cn,typed:ke}),zit=BYe({typed:ke}),Git=IYe({SparseMatrix:Xa,typed:ke}),ld=OYe({Complex:Ls,config:It,typed:ke}),qit=LYe({typed:ke}),jit=HYe({typed:ke}),lA=QYe({typed:ke}),Wit=GYe({BigNumber:cn,Complex:Ls,config:It,typed:ke}),$it=jYe({format:Ib,typed:ke}),Kit=$Ye({BigNumber:cn,typed:ke}),yS=YYe({Fraction:z0,typed:ke}),W0=JYe({typed:ke}),rn=tZe({DenseMatrix:qr,Matrix:yF,SparseMatrix:Xa,typed:ke}),Xit=rZe({isZero:aA,matrix:rn,typed:ke}),Yit=sZe({isNaN:vS,isNumeric:W0,typed:ke}),ef=lZe({bignumber:Jh,fraction:yS,number:Mp}),rce=uZe({config:It,multiplyScalar:$o,numeric:ef,typed:ke}),ice=fZe({isInteger:Tu,matrix:rn,typed:ke}),kl=AZe({matrix:rn,config:It,typed:ke}),_S=gZe({matrix:rn,typed:ke}),sce=vZe({BigNumber:cn,config:It,matrix:rn,typed:ke}),Hl=_Ze({BigNumber:cn,config:It,matrix:rn,typed:ke}),Zit=wZe({Complex:Ls,config:It,typed:ke}),oce=xZe({BigNumber:cn,Complex:Ls,Fraction:z0,config:It,isNegative:Cm,matrix:rn,typed:ke,unaryMinus:lA}),Ni=Rre({isInteger:Tu,matrix:rn,typed:ke}),Jit=SZe({prod:rce,size:kl,typed:ke}),u6=MZe({conj:G0,transpose:_S,typed:ke}),ace=BZe({DenseMatrix:qr,SparseMatrix:Xa,matrix:rn,typed:ke}),Do=IZe({numeric:ef,typed:ke}),bS=PZe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,divideScalar:Do,equalScalar:si,matrix:rn,typed:ke}),tf=UZe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,equalScalar:si,matrix:rn,typed:ke}),est=VZe({isNumeric:W0,typed:ke}),xm=zZe({BigNumber:cn,DenseMatrix:qr,SparseMatrix:Xa,config:It,matrix:rn,typed:ke}),tst=qZe({matrix:rn,multiplyScalar:$o,typed:ke}),xF=WZe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,config:It,matrix:rn,typed:ke}),nst=ZZe({DenseMatrix:qr,concat:Ni,equalScalar:si,matrix:rn,typed:ke,zeros:Hl}),lce=eJe({DenseMatrix:qr,divideScalar:Do,equalScalar:si,matrix:rn,multiplyScalar:$o,subtractScalar:Zh,typed:ke}),h6=nJe({flatten:mS,matrix:rn,size:kl,typed:ke}),rst=iJe({BigNumber:cn,concat:Ni,equalScalar:si,matrix:rn,typed:ke}),ist=aJe({BigNumber:cn,config:It,matrix:rn,typed:ke}),f6=cJe({addScalar:Ka,complex:bF,conj:G0,divideScalar:Do,equal:tf,identity:xm,isZero:aA,matrix:rn,multiplyScalar:$o,sign:nce,sqrt:ld,subtractScalar:Zh,typed:ke,unaryMinus:lA,zeros:Hl}),sst=fJe({config:It,matrix:rn}),ost=AJe({DenseMatrix:qr,concat:Ni,equalScalar:si,matrix:rn,typed:ke,zeros:Hl}),Fb=gJe({BigNumber:cn,DenseMatrix:qr,config:It,equalScalar:si,matrix:rn,typed:ke,zeros:Hl}),$c=vJe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,config:It,matrix:rn,typed:ke}),da=bJe({DenseMatrix:qr,concat:Ni,equalScalar:si,matrix:rn,subtractScalar:Zh,typed:ke,unaryMinus:lA}),ast=CJe({concat:Ni,matrix:rn,typed:ke}),d6=EJe({config:It,numeric:ef,typed:ke}),A6=DJe({DenseMatrix:qr,divideScalar:Do,equalScalar:si,matrix:rn,multiplyScalar:$o,subtractScalar:Zh,typed:ke}),lst=TJe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,matrix:rn,typed:ke}),xi=NJe({DenseMatrix:qr,SparseMatrix:Xa,addScalar:Ka,concat:Ni,equalScalar:si,matrix:rn,typed:ke}),cst=OJe({BigNumber:cn,DenseMatrix:qr,concat:Ni,equalScalar:si,matrix:rn,typed:ke}),ust=Xre({concat:Ni,equalScalar:si,matrix:rn,typed:ke}),hst=oie({DenseMatrix:qr,concat:Ni,equalScalar:si,matrix:rn,typed:ke}),fst=LJe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,matrix:rn,typed:ke}),dst=kJe({addScalar:Ka,combinations:_F,divideScalar:Do,isInteger:Tu,isNegative:Cm,multiplyScalar:$o,typed:ke}),$0=VJe({BigNumber:cn,DenseMatrix:qr,Fraction:z0,concat:Ni,config:It,equalScalar:si,matrix:rn,typed:ke}),cce=GJe({concat:Ni,matrix:rn,typed:ke}),Ast=aie({add:xi,typed:ke,unaryPlus:d6}),p6=jJe({equal:tf,typed:ke}),pst=Zre({matrix:rn,number:Mp,subtract:da,typed:ke}),gst=$Je({abs:Wc,addScalar:Ka,deepEqual:p6,divideScalar:Do,multiplyScalar:$o,sqrt:ld,subtractScalar:Zh,typed:ke}),EF=XJe({addScalar:Ka,conj:G0,multiplyScalar:$o,size:kl,typed:ke}),mst=ZJe({compareText:cce,isZero:aA,typed:ke}),uce=Dae({DenseMatrix:qr,config:It,equalScalar:si,matrix:rn,round:Fb,typed:ke,zeros:Hl}),vst=iet({BigNumber:cn,DenseMatrix:qr,concat:Ni,config:It,equalScalar:si,matrix:rn,round:Fb,typed:ke,zeros:Hl}),yst=oet({abs:Wc,addScalar:Ka,divideScalar:Do,isPositive:q0,multiplyScalar:$o,smaller:$c,sqrt:ld,typed:ke}),hce=uet({DenseMatrix:qr,smaller:$c}),dc=det({ImmutableDenseMatrix:hce,getMatrixDataType:s6}),Kc=pet({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,config:It,matrix:rn,typed:ke}),g6=vet({Complex:Ls,config:It,divideScalar:Do,typeOf:l6,typed:ke}),_st=_et({DenseMatrix:qr,divideScalar:Do,equalScalar:si,matrix:rn,multiplyScalar:$o,subtractScalar:Zh,typed:ke}),bst=wet({flatten:mS,matrix:rn,size:kl,typed:ke}),wst=tie({config:It,numeric:ef,smaller:$c,typed:ke}),fce=Tae({DenseMatrix:qr,concat:Ni,config:It,equalScalar:si,matrix:rn,round:Fb,typed:ke,zeros:Hl}),ws=xet({addScalar:Ka,dot:EF,equalScalar:si,matrix:rn,multiplyScalar:$o,typed:ke}),Cst=Det({Complex:Ls,config:It,divideScalar:Do,typed:ke}),xst=Bre({DenseMatrix:qr,concat:Ni,equalScalar:si,matrix:rn,typed:ke}),SF=Tet({compare:$0,isNaN:vS,isNumeric:W0,typed:ke}),Est=Net({DenseMatrix:qr,concat:Ni,equalScalar:si,matrix:rn,typed:ke,zeros:Hl}),dce=ttt({SparseMatrix:Xa,abs:Wc,add:xi,divideScalar:Do,larger:Kc,largerEq:xF,multiply:ws,subtract:da,transpose:_S,typed:ke}),hh=rie({add:xi,matrix:rn,typed:ke,zeros:Hl}),m6=uie({add:xi,config:It,numeric:ef,typed:ke}),Sst=itt({add:xi,matrix:rn,typed:ke}),Ace=ott({DenseMatrix:qr,divideScalar:Do,equalScalar:si,matrix:rn,multiplyScalar:$o,subtractScalar:Zh,typed:ke}),Dst=ltt({Complex:Ls,add:xi,multiply:ws,number:Mp,typed:ke}),v6=htt({DenseMatrix:qr,config:It,equalScalar:si,matrix:rn,round:Fb,typed:ke,zeros:Hl}),cA=dtt({compare:$0,typed:ke}),Mst=gtt({addScalar:Ka,combinations:_F,isInteger:Tu,isNegative:Cm,isPositive:q0,larger:Kc,typed:ke}),Tst=vtt({matrix:rn,multiply:ws,subtract:da,typed:ke}),pce=_tt({divideScalar:Do,isZero:aA,matrix:rn,multiply:ws,subtractScalar:Zh,typed:ke,unaryMinus:lA}),Bst=wtt({concat:Ni,equalScalar:si,matrix:rn,multiplyScalar:$o,typed:ke}),gce=Ett({larger:Kc,smaller:$c}),mce=Mtt({Complex:Ls,DenseMatrix:qr,ceil:v6,equalScalar:si,floor:uce,matrix:rn,typed:ke,zeros:Hl}),vce=Btt({Index:dc,typed:ke}),Nst=Ftt({abs:Wc,add:xi,addScalar:Ka,config:It,divideScalar:Do,equalScalar:si,flatten:mS,isNumeric:W0,isZero:aA,matrix:rn,multiply:ws,multiplyScalar:$o,smaller:$c,subtract:da,typed:ke}),Ist=Ott({BigNumber:cn,add:xi,config:It,equal:tf,isInteger:Tu,mod:fce,smaller:$c,typed:ke,xgcd:sce}),Fst=Ltt({concat:Ni,equalScalar:si,matrix:rn,typed:ke}),Rst=ktt({Complex:Ls,config:It,divideScalar:Do,log:g6,typed:ke}),y6=Pre({config:It,larger:Kc,numeric:ef,typed:ke}),Ost=Vtt({DenseMatrix:qr,Index:dc,compareNatural:cA,size:kl,subset:hh,typed:ke}),Pst=ztt({DenseMatrix:qr,Index:dc,compareNatural:cA,size:kl,subset:hh,typed:ke}),Lst=qtt({Index:dc,compareNatural:cA,size:kl,subset:hh,typed:ke}),Ust=Wtt({Index:dc,compareNatural:cA,size:kl,subset:hh,typed:ke}),Rb=Ktt({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,config:It,matrix:rn,typed:ke}),kst=Ztt({compare:$0,compareNatural:cA,matrix:rn,typed:ke}),Hst=ent({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,config:It,equalScalar:si,matrix:rn,typed:ke}),Vst=Ire({concat:Ni,equalScalar:si,matrix:rn,not:wF,typed:ke,zeros:Hl}),Ob=die({bignumber:Jh,matrix:rn,add:xi,config:It,isPositive:q0,larger:Kc,largerEq:xF,smaller:$c,smallerEq:Rb,typed:ke}),Qst=pie({Index:dc,matrix:rn,range:Ob,typed:ke}),yce=rnt({DenseMatrix:qr,Index:dc,compareNatural:cA,size:kl,subset:hh,typed:ke}),zst=snt({Index:dc,compareNatural:cA,size:kl,subset:hh,typed:ke}),_ce=ant({Index:dc,concat:Ni,setDifference:yce,size:kl,subset:hh,typed:ke}),bce=unt({FibonacciHeap:gce,addScalar:Ka,equalScalar:si}),wce=mie({Index:dc,matrix:rn,range:Ob,typed:ke}),K0=fnt({abs:Wc,addScalar:Ka,det:pce,divideScalar:Do,identity:xm,matrix:rn,multiply:ws,typed:ke,unaryMinus:lA}),Cce=Ant({DenseMatrix:qr,Spa:bce,SparseMatrix:Xa,abs:Wc,addScalar:Ka,divideScalar:Do,equalScalar:si,larger:Kc,matrix:rn,multiplyScalar:$o,subtractScalar:Zh,typed:ke,unaryMinus:lA}),Gst=gnt({Complex:Ls,add:xi,ctranspose:u6,deepEqual:p6,divideScalar:Do,dot:EF,dotDivide:bS,equal:tf,inv:K0,matrix:rn,multiply:ws,typed:ke}),cd=vnt({Complex:Ls,config:It,fraction:yS,identity:xm,inv:K0,matrix:rn,multiply:ws,number:Mp,typed:ke}),xce=_nt({DenseMatrix:qr,Index:dc,compareNatural:cA,size:kl,subset:hh,typed:ke}),qst=wnt({Index:dc,concat:Ni,setIntersect:xce,setSymDifference:_ce,size:kl,subset:hh,typed:ke}),jst=xnt({abs:Wc,add:xi,identity:xm,inv:K0,map:j0,max:y6,multiply:ws,size:kl,sqrt:ld,subtract:da,typed:ke}),br=Dnt({BigNumber:cn,Complex:Ls,Fraction:z0,abs:Wc,addScalar:Ka,config:It,divideScalar:Do,equal:tf,fix:mce,format:Ib,isNumeric:W0,multiplyScalar:$o,number:Mp,pow:cd,round:Fb,subtractScalar:Zh}),Wst=cWe({BigNumber:cn,Unit:br,config:It}),$st=GWe({BigNumber:cn,Unit:br,config:It}),Kst=IWe({BigNumber:cn,Unit:br,config:It}),Xst=fWe({BigNumber:cn,Unit:br,config:It}),Yst=RWe({BigNumber:cn,Unit:br,config:It}),Zst=dWe({BigNumber:cn,Unit:br,config:It}),Jst=uWe({BigNumber:cn,Unit:br,config:It}),eot=EWe({BigNumber:cn,Unit:br,config:It}),tot=Tnt({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,equalScalar:si,matrix:rn,pow:cd,typed:ke}),not=lWe({BigNumber:cn,Unit:br,config:It}),rot=hWe({BigNumber:cn,Unit:br,config:It}),iot=Nnt({abs:Wc,add:xi,identity:xm,inv:K0,multiply:ws,typed:ke}),sot=OWe({BigNumber:cn,Unit:br,config:It}),Ece=Fnt({addScalar:Ka,ceil:v6,conj:G0,divideScalar:Do,dotDivide:bS,exp:ece,i:Kle,log2:tce,matrix:rn,multiplyScalar:$o,pow:cd,tau:Yle,typed:ke}),_6=Ont({BigNumber:cn,Complex:Ls,config:It,multiplyScalar:$o,pow:cd,typed:ke}),oot=iWe({BigNumber:cn,Unit:br,config:It}),aot=CWe({BigNumber:cn,Unit:br,config:It}),lot=Lnt({conj:G0,dotDivide:bS,fft:Ece,typed:ke}),cot=mWe({BigNumber:cn,Unit:br,config:It}),uot=LWe({BigNumber:cn,Unit:br,config:It}),hot=aWe({BigNumber:cn,Unit:br,config:It}),fot=qWe({BigNumber:cn,Unit:br,config:It}),dot=kWe({BigNumber:cn,Unit:br,config:It}),Aot=SWe({BigNumber:cn,Unit:br,config:It}),pot=gWe({BigNumber:cn,Unit:br,config:It}),got=YWe({BigNumber:cn,Unit:br,config:It}),mot=$We({BigNumber:cn,Unit:br,config:It}),vot=ZWe({BigNumber:cn,Unit:br,config:It}),yot=xWe({BigNumber:cn,Unit:br,config:It}),_ot=DWe({BigNumber:cn,Unit:br,config:It}),bot=oWe({BigNumber:cn,Unit:br,config:It}),wot=MWe({BigNumber:cn,Unit:br,config:It}),Cot=QWe({BigNumber:cn,Unit:br,config:It}),xot=rWe({BigNumber:cn,Unit:br,config:It}),Eot=zWe({BigNumber:cn,Unit:br,config:It}),Sot=TWe({BigNumber:cn,Unit:br,config:It}),Dot=FWe({BigNumber:cn,Unit:br,config:It}),Mot=vWe({BigNumber:cn,Unit:br,config:It}),Tot=knt({Unit:br,typed:ke}),Vl=Qnt({divideScalar:Do,equalScalar:si,inv:K0,matrix:rn,multiply:ws,typed:ke}),Bot=_We({BigNumber:cn,Unit:br,config:It}),wS=Gnt({gamma:_6,typed:ke}),Not=PWe({BigNumber:cn,Unit:br,config:It}),Iot=WWe({BigNumber:cn,Unit:br,config:It}),Fot=AWe({BigNumber:cn,Unit:br,config:It}),Sce=jnt({DenseMatrix:qr,lsolve:lce,lup:Cce,matrix:rn,slu:dce,typed:ke,usolve:A6}),Rot=pWe({BigNumber:cn,Unit:br,config:It}),Oot=jWe({BigNumber:cn,Unit:br,config:It}),Pot=$nt({add:xi,divide:Vl,factorial:wS,isInteger:Tu,isPositive:q0,multiply:ws,typed:ke}),Lot=Xnt({factorial:wS,typed:ke}),Uot=KWe({BigNumber:cn,Unit:br,config:It}),kot=Znt({add:xi,cbrt:oce,divide:Vl,equalScalar:si,im:o6,isZero:aA,multiply:ws,re:a6,sqrt:ld,subtract:da,typeOf:l6,typed:ke,unaryMinus:lA}),Hot=ert({compareNatural:cA,typed:ke}),Vot=irt({abs:Wc,add:xi,bignumber:Jh,divide:Vl,isNegative:Cm,isPositive:q0,larger:Kc,map:j0,matrix:rn,max:y6,multiply:ws,smaller:$c,subtract:da,typed:ke,unaryMinus:lA}),Dce=ort({bignumber:Jh,addScalar:Ka,combinations:_F,divideScalar:Do,factorial:wS,isInteger:Tu,isNegative:Cm,larger:Kc,multiplyScalar:$o,number:Mp,pow:cd,subtractScalar:Zh,typed:ke}),Qot=lrt({Unit:br,typed:ke}),zot=urt({addScalar:Ka,isInteger:Tu,isNegative:Cm,stirlingS2:Dce,typed:ke}),Mce=prt({abs:Wc,add:xi,addScalar:Ka,atan:Jle,bignumber:Jh,column:wce,complex:bF,config:It,cos:i6,diag:ace,divideScalar:Do,dot:EF,equal:tf,flatten:mS,im:o6,inv:K0,larger:Kc,matrix:rn,matrixFromColumns:h6,multiply:ws,multiplyScalar:$o,number:Mp,qr:f6,re:a6,reshape:ice,sin:CF,size:kl,smaller:$c,sqrt:ld,subtract:da,typed:ke,usolve:A6,usolveAll:Ace}),Got=bWe({BigNumber:cn,Unit:br,config:It}),qot=UWe({BigNumber:cn,Unit:br,config:It}),jot=mrt({divide:Vl,dotDivide:bS,isNumeric:W0,log:g6,map:j0,matrix:rn,multiply:ws,sum:m6,typed:ke}),Tce=yie({add:xi,divide:Vl,typed:ke}),Wot=HWe({BigNumber:cn,Unit:br,config:It}),$ot=sWe({BigNumber:cn,Unit:br,config:It}),Kot=bie({bignumber:Jh,add:xi,compare:$0,divide:Vl,isInteger:Tu,larger:Kc,multiply:ws,partitionSelect:SF,smaller:$c,smallerEq:Rb,subtract:da,typed:ke}),b6=Cie({add:xi,apply:c6,divide:Vl,isNaN:vS,multiply:ws,subtract:da,typed:ke}),Xot=yWe({BigNumber:cn,Unit:br,config:It}),Bce=yrt({add:xi,compare:$0,divide:Vl,partitionSelect:SF,typed:ke}),Yot=brt({add:xi,divide:Vl,matrix:rn,mean:Tce,multiply:ws,pow:cd,sqrt:ld,subtract:da,sum:m6,typed:ke}),Zot=Crt({Complex:Ls,add:xi,divide:Vl,matrix:rn,multiply:ws,typed:ke}),Jot=Ert({abs:Wc,map:j0,median:Bce,subtract:da,typed:ke}),eat=Sie({map:j0,sqrt:ld,typed:ke,variance:b6}),tat=Drt({BigNumber:cn,Complex:Ls,add:xi,config:It,divide:Vl,equal:tf,factorial:wS,gamma:_6,isNegative:Cm,multiply:ws,pi:r6,pow:cd,sin:CF,smallerEq:Rb,subtract:da,typed:ke}),w6=Trt({abs:Wc,add:xi,conj:G0,ctranspose:u6,eigs:Mce,equalScalar:si,larger:Kc,matrix:rn,multiply:ws,pow:cd,smaller:$c,sqrt:ld,typed:ke}),Nce=Nrt({BigNumber:cn,DenseMatrix:qr,SparseMatrix:Xa,addScalar:Ka,config:It,cos:i6,matrix:rn,multiplyScalar:$o,norm:w6,sin:CF,typed:ke,unaryMinus:lA}),nat=XWe({BigNumber:cn,Unit:br,config:It}),Ice=Frt({identity:xm,matrix:rn,multiply:ws,norm:w6,qr:f6,subtract:da,typed:ke}),rat=Ort({multiply:ws,rotationMatrix:Nce,typed:ke}),Fce=Lrt({abs:Wc,add:xi,concat:Ni,identity:xm,index:vce,lusolve:Sce,matrix:rn,matrixFromColumns:h6,multiply:ws,range:Ob,schur:Ice,subset:hh,subtract:da,transpose:_S,typed:ke}),iat=krt({matrix:rn,multiply:ws,sylvester:Fce,transpose:_S,typed:ke}),Pb={},CS={},Rce={},Ac=IHe({mathWithTransform:CS}),Lb=t8e({Node:Ac}),Tp=u8e({Node:Ac}),X0=f8e({Node:Ac}),Oce=A8e({Node:Ac}),Ub=g8e({Node:Ac}),Pce=v8e({Node:Ac,ResultSet:Xle}),Lce=_8e({Node:Ac}),Em=w8e({Node:Ac}),Uce=x8e({Node:Ac}),sat=D8e({classes:Rce}),C6=B8e({math:Pb,typed:ke}),kce=I8e({Node:Ac,typed:ke}),oat=R8e({Chain:C6,typed:ke}),kb=P8e({Node:Ac,size:kl}),Hb=U8e({Node:Ac,subset:hh}),Hce=V8e({matrix:rn,Node:Ac,subset:hh}),Sm=G8e({Unit:br,Node:Ac,math:Pb}),Dm=j8e({Node:Ac,SymbolNode:Sm,math:Pb}),ud=$8e({AccessorNode:Hb,ArrayNode:Ub,AssignmentNode:Hce,BlockNode:Pce,ConditionalNode:Lce,ConstantNode:Em,FunctionAssignmentNode:kce,FunctionNode:Dm,IndexNode:kb,ObjectNode:Lb,OperatorNode:Tp,ParenthesisNode:X0,RangeNode:Uce,RelationalNode:Oce,SymbolNode:Sm,config:It,numeric:ef,typed:ke}),Vce=Y8e({ConstantNode:Em,FunctionNode:Dm,OperatorNode:Tp,ParenthesisNode:X0,parse:ud,typed:ke}),x6=n6e({bignumber:Jh,fraction:yS,AccessorNode:Hb,ArrayNode:Ub,ConstantNode:Em,FunctionNode:Dm,IndexNode:kb,ObjectNode:Lb,OperatorNode:Tp,SymbolNode:Sm,config:It,mathWithTransform:CS,matrix:rn,typed:ke}),aat=i6e({parse:ud,typed:ke}),E6=o6e({AccessorNode:Hb,ArrayNode:Ub,ConstantNode:Em,FunctionNode:Dm,IndexNode:kb,ObjectNode:Lb,OperatorNode:Tp,ParenthesisNode:X0,SymbolNode:Sm,add:xi,divide:Vl,equal:tf,isZero:aA,multiply:ws,parse:ud,pow:cd,subtract:da,typed:ke}),DF=l6e({parse:ud,typed:ke}),Qce=h6e({evaluate:DF}),zce=A6e({evaluate:DF,parse:ud}),MF=m6e({AccessorNode:Hb,ArrayNode:Ub,ConstantNode:Em,FunctionNode:Dm,IndexNode:kb,ObjectNode:Lb,OperatorNode:Tp,ParenthesisNode:X0,SymbolNode:Sm,equal:tf,parse:ud,replacer:Zle,resolve:Vce,simplifyConstant:x6,simplifyCore:E6,typed:ke}),lat=y6e({OperatorNode:Tp,parse:ud,simplify:MF,typed:ke}),cat=b6e({parse:ud,typed:ke}),uat=C6e({Parser:zce,typed:ke}),hat=E6e({bignumber:Jh,fraction:yS,AccessorNode:Hb,ArrayNode:Ub,ConstantNode:Em,FunctionNode:Dm,IndexNode:kb,ObjectNode:Lb,OperatorNode:Tp,ParenthesisNode:X0,SymbolNode:Sm,add:xi,config:It,divide:Vl,equal:tf,isZero:aA,mathWithTransform:CS,matrix:rn,multiply:ws,parse:ud,pow:cd,simplify:MF,simplifyConstant:x6,simplifyCore:E6,subtract:da,typed:ke}),fat=D6e({ConstantNode:Em,FunctionNode:Dm,OperatorNode:Tp,ParenthesisNode:X0,SymbolNode:Sm,config:It,equal:tf,isZero:aA,numeric:ef,parse:ud,simplify:MF,typed:ke}),dat=nGe({Help:Qce,mathWithTransform:CS,typed:ke});qa(Pb,{e:$le,false:Hrt,fineStructure:Vrt,i:Kle,Infinity:Qrt,LN10:zrt,LOG10E:Grt,NaN:qrt,null:jrt,phi:Wrt,SQRT1_2:Krt,sackurTetrode:Xrt,tau:Yle,true:Yrt,E:$le,version:Zrt,efimovFactor:Jrt,LN2:eit,pi:r6,replacer:Zle,reviver:sat,SQRT2:tit,typed:ke,PI:r6,weakMixingAngle:nit,abs:Wc,acos:rit,acot:iit,acsc:sit,addScalar:Ka,arg:oit,asech:ait,asinh:lit,atan:Jle,atanh:cit,bigint:uit,bitNot:hit,boolean:fit,clone:dit,combinations:_F,complex:bF,conj:G0,cos:i6,cot:Ait,csc:pit,cube:git,equalScalar:si,erf:mit,exp:ece,expm1:vit,filter:yit,flatten:mS,forEach:_it,format:Ib,getMatrixDataType:s6,hex:bit,im:o6,isInteger:Tu,isNegative:Cm,isPositive:q0,isZero:aA,LOG2E:wit,lgamma:Cit,log10:xit,log2:tce,map:j0,multiplyScalar:$o,not:wF,number:Mp,oct:Eit,pickRandom:Sit,print:Dit,random:Mit,re:a6,sec:Tit,sign:nce,sin:CF,splitUnit:Bit,square:Nit,string:Iit,subtractScalar:Zh,tan:Fit,typeOf:l6,acosh:Rit,acsch:Oit,apply:c6,asec:Pit,bignumber:Jh,chain:oat,combinationsWithRep:Lit,cosh:Uit,csch:kit,isNaN:vS,isPrime:Hit,randomInt:Vit,sech:Qit,sinh:zit,sparse:Git,sqrt:ld,squeeze:qit,tanh:jit,unaryMinus:lA,acoth:Wit,bin:$it,coth:Kit,fraction:yS,isNumeric:W0,matrix:rn,matrixFromFunction:Xit,mode:Yit,numeric:ef,prod:rce,reshape:ice,size:kl,transpose:_S,xgcd:sce,zeros:Hl,asin:Zit,cbrt:oce,concat:Ni,count:Jit,ctranspose:u6,diag:ace,divideScalar:Do,dotDivide:bS,equal:tf,hasNumericValue:est,identity:xm,kron:tst,largerEq:xF,leftShift:nst,lsolve:lce,matrixFromColumns:h6,nthRoot:rst,ones:ist,qr:f6,resize:sst,rightArithShift:ost,round:Fb,smaller:$c,subtract:da,to:ast,unaryPlus:d6,usolve:A6,xor:lst,add:xi,atan2:cst,bitAnd:ust,bitOr:hst,bitXor:fst,catalan:dst,compare:$0,compareText:cce,cumsum:Ast,deepEqual:p6,diff:pst,distance:gst,dot:EF,equalText:mst,floor:uce,gcd:vst,hypot:yst,larger:Kc,log:g6,lsolveAll:_st,matrixFromRows:bst,min:wst,mod:fce,multiply:ws,nthRoots:Cst,or:xst,partitionSelect:SF,rightLogShift:Est,slu:dce,subset:hh,sum:m6,trace:Sst,usolveAll:Ace,zpk2tf:Dst,ceil:v6,compareNatural:cA,composition:Mst,cross:Tst,det:pce,dotMultiply:Bst,fix:mce,index:vce,intersect:Nst,invmod:Ist,lcm:Fst,log1p:Rst,max:y6,setCartesian:Ost,setDistinct:Pst,setIsSubset:Lst,setPowerset:Ust,smallerEq:Rb,sort:kst,unequal:Hst,and:Vst,range:Ob,row:Qst,setDifference:yce,setMultiplicity:zst,setSymDifference:_ce,column:wce,inv:K0,lup:Cce,pinv:Gst,pow:cd,setIntersect:xce,setUnion:qst,sqrtm:jst,vacuumImpedance:Wst,wienDisplacement:$st,atomicMass:Kst,bohrMagneton:Xst,boltzmann:Yst,conductanceQuantum:Zst,coulomb:Jst,deuteronMass:eot,dotPow:tot,electricConstant:not,elementaryCharge:rot,expm:iot,faraday:sot,fft:Ece,gamma:_6,gravitationConstant:oot,hartreeEnergy:aot,ifft:lot,klitzing:cot,loschmidt:uot,magneticConstant:hot,molarMass:fot,molarPlanckConstant:dot,neutronMass:Aot,nuclearMagneton:pot,planckCharge:got,planckLength:mot,planckTemperature:vot,protonMass:yot,quantumOfCirculation:_ot,reducedPlanckConstant:bot,rydberg:wot,secondRadiation:Cot,speedOfLight:xot,stefanBoltzmann:Eot,thomsonCrossSection:Sot,avogadro:Dot,bohrRadius:Mot,createUnit:Tot,divide:Vl,electronMass:Bot,factorial:wS,firstRadiation:Not,gravity:Iot,inverseConductanceQuantum:Fot,lusolve:Sce,magneticFluxQuantum:Rot,molarMassC12:Oot,multinomial:Pot,parse:ud,permutations:Lot,planckMass:Uot,polynomialRoot:kot,resolve:Vce,setSize:Hot,simplifyConstant:x6,solveODE:Vot,stirlingS2:Dce,unit:Qot,bellNumbers:zot,compile:aat,eigs:Mce,fermiCoupling:Got,gasConstant:qot,kldivergence:jot,mean:Tce,molarVolume:Wot,planckConstant:$ot,quantileSeq:Kot,simplifyCore:E6,variance:b6,classicalElectronRadius:Xot,evaluate:DF,median:Bce,simplify:MF,symbolicEqual:lat,corr:Yot,freqz:Zot,leafCount:cat,mad:Jot,parser:uat,rationalize:hat,std:eat,zeta:tat,derivative:fat,norm:w6,rotationMatrix:Nce,help:dat,planckTime:nat,schur:Ice,rotate:rat,sylvester:Fce,lyap:iat,config:It}),qa(CS,Pb,{filter:hGe({typed:ke}),forEach:gGe({typed:ke}),map:_Ge({typed:ke}),apply:EGe({isInteger:Tu,typed:ke}),or:GGe({DenseMatrix:qr,concat:Ni,equalScalar:si,matrix:rn,typed:ke}),and:e9e({add:xi,concat:Ni,equalScalar:si,matrix:rn,not:wF,typed:ke,zeros:Hl}),concat:i9e({isInteger:Tu,matrix:rn,typed:ke}),max:u9e({config:It,larger:Kc,numeric:ef,typed:ke}),print:d9e({add:xi,matrix:rn,typed:ke,zeros:Hl}),bitAnd:C9e({add:xi,concat:Ni,equalScalar:si,matrix:rn,not:wF,typed:ke,zeros:Hl}),diff:S9e({bignumber:Jh,matrix:rn,number:Mp,subtract:da,typed:ke}),min:B9e({config:It,numeric:ef,smaller:$c,typed:ke}),subset:L9e({add:xi,matrix:rn,typed:ke,zeros:Hl}),bitOr:W9e({DenseMatrix:qr,concat:Ni,equalScalar:si,matrix:rn,typed:ke}),cumsum:X9e({add:xi,typed:ke,unaryPlus:d6}),index:J9e({Index:dc,getMatrixDataType:s6}),sum:nqe({add:xi,config:It,numeric:ef,typed:ke}),range:oqe({bignumber:Jh,matrix:rn,add:xi,config:It,isPositive:q0,larger:Kc,largerEq:xF,smaller:$c,smallerEq:Rb,typed:ke}),row:uqe({Index:dc,matrix:rn,range:Ob,typed:ke}),column:Aqe({Index:dc,matrix:rn,range:Ob,typed:ke}),mean:vqe({add:xi,divide:Vl,typed:ke}),quantileSeq:wqe({add:xi,bignumber:Jh,compare:$0,divide:Vl,isInteger:Tu,larger:Kc,multiply:ws,partitionSelect:SF,smaller:$c,smallerEq:Rb,subtract:da,typed:ke}),variance:Eqe({add:xi,apply:c6,divide:Vl,isNaN:vS,multiply:ws,subtract:da,typed:ke}),std:Tqe({map:j0,sqrt:ld,typed:ke,variance:b6})}),qa(Rce,{BigNumber:cn,Complex:Ls,Fraction:z0,Matrix:yF,Node:Ac,ObjectNode:Lb,OperatorNode:Tp,ParenthesisNode:X0,Range:$rt,RelationalNode:Oce,ResultSet:Xle,ArrayNode:Ub,BlockNode:Pce,ConditionalNode:Lce,ConstantNode:Em,DenseMatrix:qr,RangeNode:Uce,Chain:C6,FunctionAssignmentNode:kce,SparseMatrix:Xa,IndexNode:kb,ImmutableDenseMatrix:hce,Index:dc,AccessorNode:Hb,AssignmentNode:Hce,FibonacciHeap:gce,Spa:bce,Unit:br,SymbolNode:Sm,FunctionNode:Dm,Help:Qce,Parser:zce}),C6.createProxy(Pb);const Aat=(n,e)=>({"bg-green-100":n,"bg-red-100":e});function pat(n,e){if(1&n&&(fe(0,"div",18)(1,"strong"),Fe(2,"Result:"),he(),Fe(3),he()),2&n){const t=on();$e("ngClass",ix(2,Aat,!t.error,t.error)),Ne(3),ns(" ",t.result," ")}}function gat(n,e){if(1&n&&(fe(0,"span",21),Fe(1),he()),2&n){const t=on().$implicit;Ne(),ns(" (with ",t.variables,") ")}}function mat(n,e){if(1&n){const t=Rs();fe(0,"button",19),jt("click",function(){const i=Vn(t).$implicit;return qn(on().tryExample(i))}),Fe(1),An(2,gat,2,1,"span",20),he()}if(2&n){const t=e.$implicit;Ne(),ns(" ",t.expression," "),Ne(),$e("ngIf",t.variables)}}const Gce=[{path:"Home",component:EJ,caption:"Home"},{path:"",component:EJ,caption:""},{path:"Sudoku",component:S2e,caption:"Sudoku"},{path:"TicTacToe",component:R2e,caption:"TicTacToe"},{path:"TicTacToeOnline",component:RDe,caption:"TicTacToe-Online"},{path:"Hanoi",component:QDe,caption:"Hanoi - Timer"},{path:"HanoiRjxs",component:qDe,caption:"Hanoi - Rjxs"},{path:"HanoiAuto",component:UDe,caption:"Hanoi - Rjxs -Auto"},{path:"Hanoi3d",component:Yke,caption:"Hanoi - 3d"},{path:"RxJsPlayground",component:bRe,caption:"RxJs-Playground"},{path:"OcrPhotoCapture",component:hTe,caption:"Ocr-Photo-Capture"},{path:"Ocr",component:gRe,caption:"Ocr"},{path:"Chat",component:QTe,caption:"Chat"},{path:"SpeechRecognition",component:ERe,caption:"Speech  - Recognition"},{path:"ShapeReconCanvas",component:JRe,caption:"Shape   - Recon - Canvas"},{path:"ShapeRecognition",component:GRe,caption:"Shape   - Recognition"},{path:"BackendTesting",component:ARe,caption:"Backend - Testing"},{path:"BouncingBall",component:tOe,caption:"Boucing - Testing"},{path:"Tetris",component:nHe,caption:"Tetris  - Testing"},{path:"MathParsing",component:(()=>{class n{constructor(){this.expression="(x + y)",this.variables='{"x": 3, "y": 4}',this.result=null,this.error=!1,this.examples=[{expression:"2 * sin(45 deg) + sqrt(16)",variables:""},{expression:"x^2 + y^2",variables:'{"x": 3, "y": 4}'},{expression:'derivative("x^2 + 2x", "x")',variables:""},{expression:"log(10) + ln(e)",variables:""},{expression:"round(2.7) + ceil(3.2)",variables:""}]}evaluate(){try{let t={};if(this.variables)try{t=JSON.parse(this.variables)}catch{throw new Error("Invalid variables format. Use valid JSON.")}const r=DF(this.expression,t);this.result="number"==typeof r?Ib(r,{precision:14}):r.toString(),this.error=!1}catch(t){this.result=`Error: ${t.message}`,this.error=!0}}clear(){this.expression="",this.variables="",this.result=null,this.error=!1}tryExample(t){this.expression=t.expression,this.variables=t.variables,this.evaluate()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=fr({type:n,selectors:[["app-math-parsing"]],decls:29,vars:4,consts:[["align","center"],[1,"container","mx-auto","p-6"],[1,"max-w-2xl","mx-auto","bg-white","p-6","rounded-lg","shadow"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","mb-2"],["placeholder","e.g., 2 * sin(45 deg)",1,"w-full","p-2","border","rounded",3,"ngModelChange","keyup.enter","ngModel"],["placeholder",'e.g., {"x": 10, "y": 5}',"value",'{"x": 10, "y": 5}',1,"w-full","p-2","border","rounded",3,"ngModelChange","keyup.enter","ngModel"],[1,"flex","gap-2","mb-4",2,"color","blueviolet"],[1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600",2,"background-color","#cccccc",3,"click"],[1,"px-4","py-2","bg-gray-500","text-white","rounded","hover:bg-gray-600",2,"background-color","#cccccc",3,"click"],["class","p-4 rounded",3,"ngClass",4,"ngIf"],[1,"mt-6"],[1,"font-bold","mb-2"],[1,"grid","gap-2"],["class","text-left p-2 hover:bg-gray-100 rounded",3,"click",4,"ngFor","ngForOf"],["align","right"],["routerLink","/StableReleases"],[1,"p-4","rounded",3,"ngClass"],[1,"text-left","p-2","hover:bg-gray-100","rounded",3,"click"],["class","text-sm text-gray-500",4,"ngIf"],[1,"text-sm","text-gray-500"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),Fe(4,"Math Expression Parser"),he(),ft(5,"hr"),fe(6,"div",4)(7,"label",5),Fe(8,"Enter Expression:"),he(),fe(9,"input",6),Ud("ngModelChange",function(o){return HA(i.expression,o)||(i.expression=o),o}),jt("keyup.enter",function(){return i.evaluate()}),he()(),fe(10,"div",4)(11,"label",5),Fe(12,"Variables (JSON format):"),he(),fe(13,"input",7),Ud("ngModelChange",function(o){return HA(i.variables,o)||(i.variables=o),o}),jt("keyup.enter",function(){return i.evaluate()}),he()(),fe(14,"div",8)(15,"button",9),jt("click",function(){return i.evaluate()}),Fe(16," Calculate "),he(),fe(17,"button",10),jt("click",function(){return i.clear()}),Fe(18," Clear "),he()(),An(19,pat,4,5,"div",11),fe(20,"div",12)(21,"h3",13),Fe(22,"Example Expressions:"),he(),fe(23,"div",14),An(24,mat,3,2,"button",15),he()()()(),ft(25,"hr"),fe(26,"div",16)(27,"a",17),Fe(28,"[Volver al Menu]"),he()()()),2&r&&(Ne(9),Ld("ngModel",i.expression),Ne(4),Ld("ngModel",i.variables),Ne(6),$e("ngIf",null!==i.result),Ne(5),$e("ngForOf",i.examples))},dependencies:[Ss,uL,Bl,Ic,Fg,M_,N_]})}}return n})(),caption:"Math    - Testing"},{path:"Dev",component:GTe,caption:"Testing Releases"},{path:"StableReleases",component:kRe,caption:"Stable Releases"},{path:"SCM",component:fRe,caption:"SCM"},{path:"Topics",component:dRe,caption:"Topics"},{path:"AiPrompts",component:URe,caption:"A.I. Prompts"},{path:"Index",component:PRe,caption:"Index"},{path:"**",component:zTe,caption:""}];let vat=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n})}static{this.\u0275inj=Zr({imports:[HK.forRoot(Gce),HK]})}}return n})();function yat(n,e){if(1&n){const t=Rs();fe(0,"ul",14)(1,"li",15)(2,"a",16),jt("click",function(){return Vn(t),qn(on().NavbarCollapsed=!0)}),fe(3,"div",17),Fe(4),he()()()()}if(2&n){const t=e.$implicit;Ne(2),nx("routerLink","/",t.url,""),Ne(2),Br(t.text)}}let _at=(()=>{class n{get NavbarCollapsed(){return this.navbarCollapsed}set NavbarCollapsed(t){this.navbarCollapsed=t}constructor(t,r,i,s,o){this.router=t,this.configService=r,this.titleService=i,this.customErrorHandler=s,this.loggingInterceptor=o,this.title="PWA_DEMO_ENV_TEST",this._title="",this._appBrand="",this._appEnv="",this._appVersion="",this.runtimeVersion=b9.full,this.pages=[{url:"/Home",text:"[Home]"},{url:"/Dev",text:"[Testing Releases]"},{url:"/StableReleases",text:"[Stable Releases]"},{url:"/SCM",text:"[SCM]"},{url:"/AiPrompts",text:"[LLMs]"},{url:"/Topics",text:"[Topics]"},{url:"/Index",text:"[Index]"}],this.navbarCollapsed=!0,this._appBrand=this.configService.getConfigValue("appBrand"),this._appEnv=this.configService.getConfigValue("appEnv"),this._appVersion=this.configService.getConfigValue("appVersion"),this._title=`${this._appBrand} - ${this._appEnv}  - v[${this._appVersion}]`,console.log(`${this._title}`)}ngOnInit(){this.titleService.setTitle(this._title)}static{this.\u0275fac=function(r){return new(r||n)(gt(Rc),gt(Hg),gt($M),gt(TF),gt(BF))}}static{this.\u0275cmp=fr({type:n,selectors:[["app-nav"]],decls:25,vars:7,consts:[["navbarItems",""],[1,""],[1,"navbar","navbar-expand-lg","subtitle"],["type","button","data-toggle","collapse","data-target","#navbarItems","aria-controls","navbarItems","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand"],[1,"subtitle",3,"click"],["routerLink","/"],[1,"me-1",2,"width","25px",3,"src","alt"],["id","navbarItems",1,"collapse","navbar-collapse","subtitle",3,"ngbCollapse"],["class","navbar-nav",4,"ngFor","ngForOf"],["role","main",1,"content"],[1,"footer"],["routerLink","/Index"],[1,"navbar-nav"],[1,"nav-item"],[1,"nav-link",3,"click","routerLink"],["align","left"]],template:function(r,i){if(1&r){const s=Rs();fe(0,"header",1)(1,"div",1)(2,"nav",2)(3,"button",3),jt("click",function(){return Vn(s),qn(i.NavbarCollapsed=!i.NavbarCollapsed)}),ft(4,"span",4),he(),fe(5,"a",5)(6,"div",6),jt("click",function(){return Vn(s),qn(i.NavbarCollapsed=!0)}),fe(7,"a",7),ft(8,"img",8),he()()(),fe(9,"div",9,0),An(11,yat,5,3,"ul",10),he()()()(),ft(12,"hr"),fe(13,"div",11),ft(14,"router-outlet"),he(),ft(15,"hr"),fe(16,"footer")(17,"div",12)(18,"h5")(19,"a",13),Fe(20,"[Index]"),he()(),fe(21,"h5"),Fe(22),he(),fe(23,"h5"),Fe(24),he()()()}2&r&&(Ne(8),$e("src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/800px-Angular_full_color_logo.svg.png",wo)("alt","Angular Logo"),Ne(),$e("ngbCollapse",i.NavbarCollapsed),Ne(2),$e("ngForOf",i.pages),Ne(11),lM("Aplication Name : ",i._appBrand," - ",i._appEnv,""),Ne(2),ns("Aplication Version : ",i._appVersion,""))},dependencies:[j3,Ss,Bl,m4]})}}return n})(),TF=(()=>{class n{constructor(t){this.mcsdService=t}handleError(t){console.warn("[CUSTOM ERROR HANDLING]:\n"+t.name+"\n"+t.message),this.mcsdService.SetLog("[CUSTOM ERROR HANDLING]",t.message,iU.Error)}static{this.\u0275fac=function(r){return new(r||n)(Wt(aE))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BF=(()=>{class n{constructor(){}intercept(t,r){const i=Date.now();let s;return r.handle(t).pipe(Ro({next:o=>s=o instanceof WA?"succeeded":"",error:o=>s="failed"}),E_(()=>{const o=Date.now()-i;console.warn(` [REQUEST URL (INTERCEPT)] : ${t.method} "${t.urlWithParams}" ${s} in ${o} ms.`)}))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bat(n){return n.loadAiPrompts(),n.loadSCMList(),()=>n.loadConfig()}let wat=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ci({type:n,bootstrap:[QK]})}static{this.\u0275inj=Zr({providers:[dL,LM,D_,$1e(),[{provide:_j,useClass:BF,multi:!0},{provide:qu,useClass:TF},Hg,{provide:dM,useFactory:bat,deps:[Hg],multi:!0}]],imports:[$X,mY,pY,vat,Lv,n$,Kbe,g1e,Kj,zCe,nTe,yJ,yJ,HB,y4,O4,HB,n$,LTe]})}}return n})();(function JG(n,e,t){const r=n.\u0275cmp;r.directiveDefs=wA(e,!1),r.pipeDefs=wA(t,!0)})(QK,[_at],[]),z1e().bootstrapModule(wat).catch(n=>console.error(n))},4987:gr=>{"use strict";var Kn=Object.assign||function(Ct){for(var dn=1;dn<arguments.length;dn++){var Mn=arguments[dn];for(var zn in Mn)Object.prototype.hasOwnProperty.call(Mn,zn)&&(Ct[zn]=Mn[zn])}return Ct},we={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},St={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},_t=function(dn,Mn){return Kn({},dn,Mn)};gr.exports=function(Ct){for(var dn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Mn=dn.preserveFormatting,zn=void 0!==Mn&&Mn,Hn=dn.escapeMapFn,bt=void 0===Hn?_t:Hn,Ge=String(Ct),Ot="",Bt=bt(Kn({},we),zn?Kn({},St):{}),mt=Object.keys(Bt),zt=function(){var nn=!1;mt.forEach(function(Yr,fs){nn||Ge.length>=Yr.length&&Ge.slice(0,Yr.length)===Yr&&(Ot+=Bt[mt[fs]],Ge=Ge.slice(Yr.length,Ge.length),nn=!0)}),nn||(Ot+=Ge.slice(0,1),Ge=Ge.slice(1,Ge.length))};Ge;)zt();return Ot}},7239:function(gr){gr.exports=function(){"use strict";var Kn=function(S,x){return(Kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,I){N.__proto__=I}||function(N,I){for(var z in I)Object.prototype.hasOwnProperty.call(I,z)&&(N[z]=I[z])})(S,x)};function we(S,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function N(){this.constructor=S}Kn(S,x),S.prototype=null===x?Object.create(x):(N.prototype=x.prototype,new N)}var St=function(){return St=Object.assign||function(x){for(var N,I=1,z=arguments.length;I<z;I++)for(var J in N=arguments[I])Object.prototype.hasOwnProperty.call(N,J)&&(x[J]=N[J]);return x},St.apply(this,arguments)};function _t(S,x,N,I){return new(N||(N=Promise))(function(J,ie){function De(Je){try{qe(I.next(Je))}catch(at){ie(at)}}function Se(Je){try{qe(I.throw(Je))}catch(at){ie(at)}}function qe(Je){Je.done?J(Je.value):function z(J){return J instanceof N?J:new N(function(ie){ie(J)})}(Je.value).then(De,Se)}qe((I=I.apply(S,x||[])).next())})}function Ct(S,x){var I,z,J,ie,N={label:0,sent:function(){if(1&J[0])throw J[1];return J[1]},trys:[],ops:[]};return ie={next:De(0),throw:De(1),return:De(2)},"function"==typeof Symbol&&(ie[Symbol.iterator]=function(){return this}),ie;function De(qe){return function(Je){return function Se(qe){if(I)throw new TypeError("Generator is already executing.");for(;N;)try{if(I=1,z&&(J=2&qe[0]?z.return:qe[0]?z.throw||((J=z.return)&&J.call(z),0):z.next)&&!(J=J.call(z,qe[1])).done)return J;switch(z=0,J&&(qe=[2&qe[0],J.value]),qe[0]){case 0:case 1:J=qe;break;case 4:return N.label++,{value:qe[1],done:!1};case 5:N.label++,z=qe[1],qe=[0];continue;case 7:qe=N.ops.pop(),N.trys.pop();continue;default:if(!(J=(J=N.trys).length>0&&J[J.length-1])&&(6===qe[0]||2===qe[0])){N=0;continue}if(3===qe[0]&&(!J||qe[1]>J[0]&&qe[1]<J[3])){N.label=qe[1];break}if(6===qe[0]&&N.label<J[1]){N.label=J[1],J=qe;break}if(J&&N.label<J[2]){N.label=J[2],N.ops.push(qe);break}J[2]&&N.ops.pop(),N.trys.pop();continue}qe=x.call(S,N)}catch(Je){qe=[6,Je],z=0}finally{I=J=0}if(5&qe[0])throw qe[1];return{value:qe[0]?qe[1]:void 0,done:!0}}([qe,Je])}}}function dn(S,x,N){if(N||2===arguments.length)for(var J,I=0,z=x.length;I<z;I++)(J||!(I in x))&&(J||(J=Array.prototype.slice.call(x,0,I)),J[I]=x[I]);return S.concat(J||x)}for(var Mn=function(){function S(x,N,I,z){this.left=x,this.top=N,this.width=I,this.height=z}return S.prototype.add=function(x,N,I,z){return new S(this.left+x,this.top+N,this.width+I,this.height+z)},S.fromClientRect=function(x,N){return new S(N.left+x.windowBounds.left,N.top+x.windowBounds.top,N.width,N.height)},S.fromDOMRectList=function(x,N){var I=Array.from(N).find(function(z){return 0!==z.width});return I?new S(I.left+x.windowBounds.left,I.top+x.windowBounds.top,I.width,I.height):S.EMPTY},S.EMPTY=new S(0,0,0,0),S}(),zn=function(S,x){return Mn.fromClientRect(S,x.getBoundingClientRect())},bt=function(S){for(var x=[],N=0,I=S.length;N<I;){var z=S.charCodeAt(N++);if(z>=55296&&z<=56319&&N<I){var J=S.charCodeAt(N++);56320==(64512&J)?x.push(((1023&z)<<10)+(1023&J)+65536):(x.push(z),N--)}else x.push(z)}return x},Ge=function(){for(var S=[],x=0;x<arguments.length;x++)S[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,S);var N=S.length;if(!N)return"";for(var I=[],z=-1,J="";++z<N;){var ie=S[z];ie<=65535?I.push(ie):I.push(55296+((ie-=65536)>>10),ie%1024+56320),(z+1===N||I.length>16384)&&(J+=String.fromCharCode.apply(String,I),I.length=0)}return J},Ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bt=typeof Uint8Array>"u"?[]:new Uint8Array(256),mt=0;mt<64;mt++)Bt[Ot.charCodeAt(mt)]=mt;for(var zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yt=typeof Uint8Array>"u"?[]:new Uint8Array(256),nn=0;nn<64;nn++)Yt[zt.charCodeAt(nn)]=nn;for(var md=function(S,x,N){return S.slice?S.slice(x,N):new Uint16Array(Array.prototype.slice.call(S,x,N))},vd=function(){function S(x,N,I,z,J,ie){this.initialValue=x,this.errorValue=N,this.highStart=I,this.highValueIndex=z,this.index=J,this.data=ie}return S.prototype.get=function(x){var N;if(x>=0){if(x<55296||x>56319&&x<=65535)return this.data[N=((N=this.index[x>>5])<<2)+(31&x)];if(x<=65535)return this.data[N=((N=this.index[2048+(x-55296>>5)])<<2)+(31&x)];if(x<this.highStart)return N=this.index[N=2080+(x>>11)],this.data[N=((N=this.index[N+=x>>5&63])<<2)+(31&x)];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},S}(),Gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lw=typeof Uint8Array>"u"?[]:new Uint8Array(256),AA=0;AA<64;AA++)lw[Gm.charCodeAt(AA)]=AA;var N,I,z,ie,De,ai=10,_c=13,ql=15,_o=17,jl=18,Qs=19,vh=20,pA=21,yh=22,Ze=24,lt=25,Rt=26,qt=27,Ht=28,en=30,Zt=32,Li=33,zi=34,oo=35,ds=37,bl=38,Pa=39,di=40,ay=42,uw=[9001,65288],li="\xd7",Gp=(N=function(S){var I,J,ie,De,Se,x=.75*S.length,N=S.length,z=0;"="===S[S.length-1]&&(x--,"="===S[S.length-2]&&x--);var qe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(x):new Array(x),Je=Array.isArray(qe)?qe:new Uint8Array(qe);for(I=0;I<N;I+=4)J=Yt[S.charCodeAt(I)],ie=Yt[S.charCodeAt(I+1)],De=Yt[S.charCodeAt(I+2)],Se=Yt[S.charCodeAt(I+3)],Je[z++]=J<<2|ie>>4,Je[z++]=(15&ie)<<4|De>>2,Je[z++]=(3&De)<<6|63&Se;return qe}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),I=Array.isArray(N)?function(S){for(var x=S.length,N=[],I=0;I<x;I+=4)N.push(S[I+3]<<24|S[I+2]<<16|S[I+1]<<8|S[I]);return N}(N):new Uint32Array(N),z=Array.isArray(N)?function(S){for(var x=S.length,N=[],I=0;I<x;I+=2)N.push(S[I+1]<<8|S[I]);return N}(N):new Uint16Array(N),ie=md(z,12,I[4]/2),De=2===I[5]?md(z,(24+I[4])/2):function(S,x,N){return S.slice?S.slice(x,N):new Uint32Array(Array.prototype.slice.call(S,x,N))}(I,Math.ceil((24+I[4])/4)),new vd(I[0],I[1],I[2],I[3],ie,De)),Gi=[en,36],qi=[1,2,3,5],ly=[ai,8],Vr=[qt,Rt],qp=qi.concat(ly),ao=[bl,Pa,di,zi,oo],wl=[ql,_c],qm=function(S,x,N,I){var z=I[N];if(Array.isArray(S)?-1!==S.indexOf(z):S===z)for(var J=N;J<=I.length;){if((ie=I[++J])===x)return!0;if(ie!==ai)break}if(z===ai)for(J=N;J>0;){var De=I[--J];if(Array.isArray(S)?-1!==S.indexOf(De):S===De)for(var Se=N;Se<=I.length;){var ie;if((ie=I[++Se])===x)return!0;if(ie!==ai)break}if(De!==ai)break}return!1},Mo=function(S,x){for(var N=S;N>=0;){var I=x[N];if(I!==ai)return I;N--}return 0},jp=function(S,x,N,I,z){if(0===N[I])return li;var J=I-1;if(Array.isArray(z)&&!0===z[J])return li;var ie=J-1,De=J+1,Se=x[J],qe=ie>=0?x[ie]:0,Je=x[De];if(2===Se&&3===Je)return li;if(-1!==qi.indexOf(Se))return"!";if(-1!==qi.indexOf(Je)||-1!==ly.indexOf(Je))return li;if(8===Mo(J,x))return"\xf7";if(11===Gp.get(S[J])||(Se===Zt||Se===Li)&&11===Gp.get(S[De])||7===Se||7===Je||9===Se||-1===[ai,_c,ql].indexOf(Se)&&9===Je||-1!==[_o,jl,Qs,Ze,Ht].indexOf(Je)||Mo(J,x)===yh||qm(23,yh,J,x)||qm([_o,jl],pA,J,x)||qm(12,12,J,x))return li;if(Se===ai)return"\xf7";if(23===Se||23===Je)return li;if(16===Je||16===Se)return"\xf7";if(-1!==[_c,ql,pA].indexOf(Je)||14===Se||36===qe&&-1!==wl.indexOf(Se)||Se===Ht&&36===Je||Je===vh||-1!==Gi.indexOf(Je)&&Se===lt||-1!==Gi.indexOf(Se)&&Je===lt||Se===qt&&-1!==[ds,Zt,Li].indexOf(Je)||-1!==[ds,Zt,Li].indexOf(Se)&&Je===Rt||-1!==Gi.indexOf(Se)&&-1!==Vr.indexOf(Je)||-1!==Vr.indexOf(Se)&&-1!==Gi.indexOf(Je)||-1!==[qt,Rt].indexOf(Se)&&(Je===lt||-1!==[yh,ql].indexOf(Je)&&x[De+1]===lt)||-1!==[yh,ql].indexOf(Se)&&Je===lt||Se===lt&&-1!==[lt,Ht,Ze].indexOf(Je))return li;if(-1!==[lt,Ht,Ze,_o,jl].indexOf(Je))for(var at=J;at>=0;){if((Et=x[at])===lt)return li;if(-1===[Ht,Ze].indexOf(Et))break;at--}if(-1!==[qt,Rt].indexOf(Je))for(at=-1!==[_o,jl].indexOf(Se)?ie:J;at>=0;){var Et;if((Et=x[at])===lt)return li;if(-1===[Ht,Ze].indexOf(Et))break;at--}if(bl===Se&&-1!==[bl,Pa,zi,oo].indexOf(Je)||-1!==[Pa,zi].indexOf(Se)&&-1!==[Pa,di].indexOf(Je)||-1!==[di,oo].indexOf(Se)&&Je===di||-1!==ao.indexOf(Se)&&-1!==[vh,Rt].indexOf(Je)||-1!==ao.indexOf(Je)&&Se===qt||-1!==Gi.indexOf(Se)&&-1!==Gi.indexOf(Je)||Se===Ze&&-1!==Gi.indexOf(Je)||-1!==Gi.concat(lt).indexOf(Se)&&Je===yh&&-1===uw.indexOf(S[De])||-1!==Gi.concat(lt).indexOf(Je)&&Se===jl)return li;if(41===Se&&41===Je){for(var In=N[J],ln=1;In>0&&41===x[--In];)ln++;if(ln%2!=0)return li}return Se===Zt&&Je===Li?li:"\xf7"},cy=function(S,x){x||(x={lineBreak:"normal",wordBreak:"normal"});var N=function(S,x){void 0===x&&(x="strict");var N=[],I=[],z=[];return S.forEach(function(J,ie){var De=Gp.get(J);if(De>50?(z.push(!0),De-=50):z.push(!1),-1!==["normal","auto","loose"].indexOf(x)&&-1!==[8208,8211,12316,12448].indexOf(J))return I.push(ie),N.push(16);if(4===De||11===De){if(0===ie)return I.push(ie),N.push(en);var Se=N[ie-1];return-1===qp.indexOf(Se)?(I.push(I[ie-1]),N.push(Se)):(I.push(ie),N.push(en))}return I.push(ie),31===De?N.push("strict"===x?pA:ds):De===ay||29===De?N.push(en):43===De?N.push(J>=131072&&J<=196605||J>=196608&&J<=262141?ds:en):void N.push(De)}),[I,N,z]}(S,x.lineBreak),I=N[0],z=N[1],J=N[2];return("break-all"===x.wordBreak||"break-word"===x.wordBreak)&&(z=z.map(function(De){return-1!==[lt,en,ay].indexOf(De)?ds:De})),[I,z,"keep-all"===x.wordBreak?J.map(function(De,Se){return De&&S[Se]>=19968&&S[Se]<=40959}):void 0]},hw=function(){function S(x,N,I,z){this.codePoints=x,this.required="!"===N,this.start=I,this.end=z}return S.prototype.slice=function(){return Ge.apply(void 0,this.codePoints.slice(this.start,this.end))},S}(),ta=function(S){return S>=48&&S<=57},gA=function(S){return ta(S)||S>=65&&S<=70||S>=97&&S<=102},Km=function(S){return 10===S||9===S||32===S},Yp=function(S){return function(S){return function(S){return S>=97&&S<=122}(S)||function(S){return S>=65&&S<=90}(S)}(S)||function(S){return S>=128}(S)||95===S},e2=function(S){return Yp(S)||ta(S)||45===S},mw=function(S){return S>=0&&S<=8||11===S||S>=14&&S<=31||127===S},mA=function(S,x){return 92===S&&10!==x},vw=function(S,x,N){return 45===S?Yp(x)||mA(x,N):!!Yp(S)||!(92!==S||!mA(S,x))},t2=function(S,x,N){return 43===S||45===S?!!ta(x)||46===x&&ta(N):ta(46===S?x:S)},dV=function(S){var x=0,N=1;(43===S[x]||45===S[x])&&(45===S[x]&&(N=-1),x++);for(var I=[];ta(S[x]);)I.push(S[x++]);var z=I.length?parseInt(Ge.apply(void 0,I),10):0;46===S[x]&&x++;for(var J=[];ta(S[x]);)J.push(S[x++]);var ie=J.length,De=ie?parseInt(Ge.apply(void 0,J),10):0;(69===S[x]||101===S[x])&&x++;var Se=1;(43===S[x]||45===S[x])&&(45===S[x]&&(Se=-1),x++);for(var qe=[];ta(S[x]);)qe.push(S[x++]);var Je=qe.length?parseInt(Ge.apply(void 0,qe),10):0;return N*(z+De*Math.pow(10,-ie))*Math.pow(10,Se*Je)},yw={type:2},Xm={type:3},_w={type:4},bw={type:13},n2={type:8},vf={type:21},Ym={type:9},r2={type:10},Tr={type:11},Zi={type:12},AV={type:14},py={type:23},CR={type:1},pV={type:25},xR={type:24},ww={type:26},vi={type:27},Cw={type:28},s2={type:29},$l={type:31},gy={type:32},ER=function(){function S(){this._value=[]}return S.prototype.write=function(x){this._value=this._value.concat(bt(x))},S.prototype.read=function(){for(var x=[],N=this.consumeToken();N!==gy;)x.push(N),N=this.consumeToken();return x},S.prototype.consumeToken=function(){var x=this.consumeCodePoint();switch(x){case 34:return this.consumeStringToken(34);case 35:var N=this.peekCodePoint(0),I=this.peekCodePoint(1),z=this.peekCodePoint(2);if(e2(N)||mA(I,z)){var J=vw(N,I,z)?2:1;return{type:5,value:this.consumeName(),flags:J}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),bw;break;case 39:return this.consumeStringToken(39);case 40:return yw;case 41:return Xm;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),AV;break;case 43:if(t2(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case 44:return _w;case 45:var De=x,Se=this.peekCodePoint(0),qe=this.peekCodePoint(1);if(t2(De,Se,qe))return this.reconsumeCodePoint(x),this.consumeNumericToken();if(vw(De,Se,qe))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();if(45===Se&&62===qe)return this.consumeCodePoint(),this.consumeCodePoint(),xR;break;case 46:if(t2(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var Je=this.consumeCodePoint();if(42===Je&&47===(Je=this.consumeCodePoint()))return this.consumeToken();if(-1===Je)return this.consumeToken()}break;case 58:return ww;case 59:return vi;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),pV;break;case 64:var at=this.peekCodePoint(0),Et=this.peekCodePoint(1),In=this.peekCodePoint(2);if(vw(at,Et,In))return{type:7,value:this.consumeName()};break;case 91:return Cw;case 92:if(mA(x,this.peekCodePoint(0)))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();break;case 93:return s2;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),n2;break;case 123:return Tr;case 125:return Zi;case 117:case 85:var ln=this.peekCodePoint(0),Sn=this.peekCodePoint(1);return 43===ln&&(gA(Sn)||63===Sn)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(x),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ym;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),vf;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),r2;break;case-1:return gy}return Km(x)?(this.consumeWhiteSpace(),$l):ta(x)?(this.reconsumeCodePoint(x),this.consumeNumericToken()):Yp(x)?(this.reconsumeCodePoint(x),this.consumeIdentLikeToken()):{type:6,value:Ge(x)}},S.prototype.consumeCodePoint=function(){var x=this._value.shift();return typeof x>"u"?-1:x},S.prototype.reconsumeCodePoint=function(x){this._value.unshift(x)},S.prototype.peekCodePoint=function(x){return x>=this._value.length?-1:this._value[x]},S.prototype.consumeUnicodeRangeToken=function(){for(var x=[],N=this.consumeCodePoint();gA(N)&&x.length<6;)x.push(N),N=this.consumeCodePoint();for(var I=!1;63===N&&x.length<6;)x.push(N),N=this.consumeCodePoint(),I=!0;if(I)return{type:30,start:parseInt(Ge.apply(void 0,x.map(function(Se){return 63===Se?48:Se})),16),end:parseInt(Ge.apply(void 0,x.map(function(Se){return 63===Se?70:Se})),16)};var ie=parseInt(Ge.apply(void 0,x),16);if(45===this.peekCodePoint(0)&&gA(this.peekCodePoint(1))){this.consumeCodePoint(),N=this.consumeCodePoint();for(var De=[];gA(N)&&De.length<6;)De.push(N),N=this.consumeCodePoint();return{type:30,start:ie,end:parseInt(Ge.apply(void 0,De),16)}}return{type:30,start:ie,end:ie}},S.prototype.consumeIdentLikeToken=function(){var x=this.consumeName();return"url"===x.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:x}):{type:20,value:x}},S.prototype.consumeUrlToken=function(){var x=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var N=this.peekCodePoint(0);if(39===N||34===N){var I=this.consumeStringToken(this.consumeCodePoint());return 0===I.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:I.value}):(this.consumeBadUrlRemnants(),py)}for(;;){var z=this.consumeCodePoint();if(-1===z||41===z)return{type:22,value:Ge.apply(void 0,x)};if(Km(z))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:Ge.apply(void 0,x)}):(this.consumeBadUrlRemnants(),py);if(34===z||39===z||40===z||mw(z))return this.consumeBadUrlRemnants(),py;if(92===z){if(!mA(z,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),py;x.push(this.consumeEscapedCodePoint())}else x.push(z)}},S.prototype.consumeWhiteSpace=function(){for(;Km(this.peekCodePoint(0));)this.consumeCodePoint()},S.prototype.consumeBadUrlRemnants=function(){for(;;){var x=this.consumeCodePoint();if(41===x||-1===x)return;mA(x,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},S.prototype.consumeStringSlice=function(x){for(var I="";x>0;){var z=Math.min(5e4,x);I+=Ge.apply(void 0,this._value.splice(0,z)),x-=z}return this._value.shift(),I},S.prototype.consumeStringToken=function(x){for(var N="",I=0;;){var z=this._value[I];if(-1===z||void 0===z||z===x)return{type:0,value:N+=this.consumeStringSlice(I)};if(10===z)return this._value.splice(0,I),CR;if(92===z){var J=this._value[I+1];-1!==J&&void 0!==J&&(10===J?(N+=this.consumeStringSlice(I),I=-1,this._value.shift()):mA(z,J)&&(N+=this.consumeStringSlice(I),N+=Ge(this.consumeEscapedCodePoint()),I=-1))}I++}},S.prototype.consumeNumber=function(){var x=[],N=4,I=this.peekCodePoint(0);for((43===I||45===I)&&x.push(this.consumeCodePoint());ta(this.peekCodePoint(0));)x.push(this.consumeCodePoint());I=this.peekCodePoint(0);var z=this.peekCodePoint(1);if(46===I&&ta(z))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),N=8;ta(this.peekCodePoint(0));)x.push(this.consumeCodePoint());I=this.peekCodePoint(0),z=this.peekCodePoint(1);var J=this.peekCodePoint(2);if((69===I||101===I)&&((43===z||45===z)&&ta(J)||ta(z)))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),N=8;ta(this.peekCodePoint(0));)x.push(this.consumeCodePoint());return[dV(x),N]},S.prototype.consumeNumericToken=function(){var x=this.consumeNumber(),N=x[0],I=x[1],z=this.peekCodePoint(0),J=this.peekCodePoint(1),ie=this.peekCodePoint(2);return vw(z,J,ie)?{type:15,number:N,flags:I,unit:this.consumeName()}:37===z?(this.consumeCodePoint(),{type:16,number:N,flags:I}):{type:17,number:N,flags:I}},S.prototype.consumeEscapedCodePoint=function(){var x=this.consumeCodePoint();if(gA(x)){for(var N=Ge(x);gA(this.peekCodePoint(0))&&N.length<6;)N+=Ge(this.consumeCodePoint());Km(this.peekCodePoint(0))&&this.consumeCodePoint();var I=parseInt(N,16);return 0===I||function(S){return S>=55296&&S<=57343}(I)||I>1114111?65533:I}return-1===x?65533:x},S.prototype.consumeName=function(){for(var x="";;){var N=this.consumeCodePoint();if(e2(N))x+=Ge(N);else{if(!mA(N,this.peekCodePoint(0)))return this.reconsumeCodePoint(N),x;x+=Ge(this.consumeEscapedCodePoint())}}},S}(),SR=function(){function S(x){this._tokens=x}return S.create=function(x){var N=new ER;return N.write(x),new S(N.read())},S.parseValue=function(x){return S.create(x).parseComponentValue()},S.parseValues=function(x){return S.create(x).parseComponentValues()},S.prototype.parseComponentValue=function(){for(var x=this.consumeToken();31===x.type;)x=this.consumeToken();if(32===x.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(x);var N=this.consumeComponentValue();do{x=this.consumeToken()}while(31===x.type);if(32===x.type)return N;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},S.prototype.parseComponentValues=function(){for(var x=[];;){var N=this.consumeComponentValue();if(32===N.type)return x;x.push(N),x.push()}},S.prototype.consumeComponentValue=function(){var x=this.consumeToken();switch(x.type){case 11:case 28:case 2:return this.consumeSimpleBlock(x.type);case 19:return this.consumeFunction(x)}return x},S.prototype.consumeSimpleBlock=function(x){for(var N={type:x,values:[]},I=this.consumeToken();;){if(32===I.type||MR(I,x))return N;this.reconsumeToken(I),N.values.push(this.consumeComponentValue()),I=this.consumeToken()}},S.prototype.consumeFunction=function(x){for(var N={name:x.value,values:[],type:18};;){var I=this.consumeToken();if(32===I.type||3===I.type)return N;this.reconsumeToken(I),N.values.push(this.consumeComponentValue())}},S.prototype.consumeToken=function(){var x=this._tokens.shift();return typeof x>"u"?gy:x},S.prototype.reconsumeToken=function(x){this._tokens.unshift(x)},S}(),yf=function(S){return 15===S.type},_d=function(S){return 17===S.type},Ji=function(S){return 20===S.type},DR=function(S){return 0===S.type},xw=function(S,x){return Ji(S)&&S.value===x},o2=function(S){return 31!==S.type},vA=function(S){return 31!==S.type&&4!==S.type},Cl=function(S){var x=[],N=[];return S.forEach(function(I){if(4===I.type){if(0===N.length)throw new Error("Error parsing function args, zero tokens for arg");return x.push(N),void(N=[])}31!==I.type&&N.push(I)}),N.length&&x.push(N),x},MR=function(S,x){return 11===x&&12===S.type||28===x&&29===S.type||2===x&&3===S.type},xl=function(S){return 17===S.type||15===S.type},Ho=function(S){return 16===S.type||xl(S)},Wt=function(S){return S.length>1?[S[0],S[1]]:[S[0]]},ya={type:17,number:0,flags:4},Ve={type:16,number:50,flags:4},Vu={type:16,number:100,flags:4},yA=function(S,x,N){var I=S[0],z=S[1];return[cs(I,x),cs(typeof z<"u"?z:I,N)]},cs=function(S,x){if(16===S.type)return S.number/100*x;if(yf(S))switch(S.unit){case"rem":case"em":return 16*S.number;default:return S.number}return S.number},_A_parse=function(S,x){if(15===x.type)switch(x.unit){case"deg":return Math.PI*x.number/180;case"grad":return Math.PI/200*x.number;case"rad":return x.number;case"turn":return 2*Math.PI*x.number}throw new Error("Unsupported angle type")},h2=function(S){return 15===S.type&&("deg"===S.unit||"grad"===S.unit||"rad"===S.unit||"turn"===S.unit)},Zm=function(S){switch(S.filter(Ji).map(function(N){return N.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ya,ya];case"to top":case"bottom":return ru(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ya,Vu];case"to right":case"left":return ru(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vu,Vu];case"to bottom":case"top":return ru(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vu,ya];case"to left":case"right":return ru(270)}return 0},ru=function(S){return Math.PI*S/180},Kl_parse=function(S,x){if(18===x.type){var N=gV[x.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported color function "'+x.name+'"');return N(S,x.values)}if(5===x.type){if(3===x.value.length){var I=x.value.substring(0,1),z=x.value.substring(1,2),J=x.value.substring(2,3);return Cc(parseInt(I+I,16),parseInt(z+z,16),parseInt(J+J,16),1)}if(4===x.value.length){I=x.value.substring(0,1),z=x.value.substring(1,2),J=x.value.substring(2,3);var ie=x.value.substring(3,4);return Cc(parseInt(I+I,16),parseInt(z+z,16),parseInt(J+J,16),parseInt(ie+ie,16)/255)}if(6===x.value.length)return I=x.value.substring(0,2),z=x.value.substring(2,4),J=x.value.substring(4,6),Cc(parseInt(I,16),parseInt(z,16),parseInt(J,16),1);if(8===x.value.length)return I=x.value.substring(0,2),z=x.value.substring(2,4),J=x.value.substring(4,6),ie=x.value.substring(6,8),Cc(parseInt(I,16),parseInt(z,16),parseInt(J,16),parseInt(ie,16)/255)}if(20===x.type){var De=wd[x.value.toUpperCase()];if(typeof De<"u")return De}return wd.TRANSPARENT},bd=function(S){return!(255&S)},es=function(S){var x=255&S,N=255&S>>8,I=255&S>>16,z=255&S>>24;return x<255?"rgba("+z+","+I+","+N+","+x/255+")":"rgb("+z+","+I+","+N+")"},Cc=function(S,x,N,I){return(S<<24|x<<16|N<<8|Math.round(255*I))>>>0},Ew=function(S,x){if(17===S.type)return S.number;if(16===S.type){var N=3===x?1:255;return 3===x?S.number/100*N:Math.round(S.number/100*N)}return 0},Jm=function(S,x){var N=x.filter(vA);if(3===N.length){var I=N.map(Ew);return Cc(I[0],I[1],I[2],1)}if(4===N.length){var De=N.map(Ew);return Cc(De[0],De[1],De[2],De[3])}return 0};function Zp(S,x,N){return N<0&&(N+=1),N>=1&&(N-=1),N<1/6?(x-S)*N*6+S:N<.5?x:N<2/3?6*(x-S)*(2/3-N)+S:S}var my=function(S,x){var N=x.filter(vA),I=N[0],z=N[1],J=N[2],ie=N[3],De=(17===I.type?ru(I.number):_A_parse(S,I))/(2*Math.PI),Se=Ho(z)?z.number/100:0,qe=Ho(J)?J.number/100:0,Je=typeof ie<"u"&&Ho(ie)?cs(ie,1):1;if(0===Se)return Cc(255*qe,255*qe,255*qe,1);var at=qe<=.5?qe*(Se+1):qe+Se-qe*Se,Et=2*qe-at,In=Zp(Et,at,De+1/3),ln=Zp(Et,at,De),Sn=Zp(Et,at,De-1/3);return Cc(255*In,255*ln,255*Sn,Je)},gV={hsl:my,hsla:my,rgb:Jm,rgba:Jm},Jp=function(S,x){return Kl_parse(S,SR.create(x).parseComponentValue())},wd={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},xc={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(S,x){return x.map(function(N){if(Ji(N))switch(N.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Sw={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_f=function(S,x){var N=Kl_parse(S,x[0]),I=x[1];return I&&Ho(I)?{color:N,stop:I}:{color:N,stop:null}},TR=function(S,x){var N=S[0],I=S[S.length-1];null===N.stop&&(N.stop=ya),null===I.stop&&(I.stop=Vu);for(var z=[],J=0,ie=0;ie<S.length;ie++){var De=S[ie].stop;if(null!==De){var Se=cs(De,x);z.push(Se>J?Se:J),J=Se}else z.push(null)}var qe=null;for(ie=0;ie<z.length;ie++){var Je=z[ie];if(null===Je)null===qe&&(qe=ie);else if(null!==qe){for(var at=ie-qe,In=(Je-z[qe-1])/(at+1),ln=1;ln<=at;ln++)z[qe+ln-1]=In*ln;qe=null}}return S.map(function(Sn,Kr){return{color:Sn.color,stop:Math.max(Math.min(1,z[Kr]/x),0)}})},wh=function(S,x,N){var I="number"==typeof S?S:function(S,x,N){var I=x/2,z=N/2,J=cs(S[0],x)-I,ie=z-cs(S[1],N);return(Math.atan2(ie,J)+2*Math.PI)%(2*Math.PI)}(S,x,N),z=Math.abs(x*Math.sin(I))+Math.abs(N*Math.cos(I)),J=x/2,ie=N/2,De=z/2,Se=Math.sin(I-Math.PI/2)*De,qe=Math.cos(I-Math.PI/2)*De;return[z,J-qe,J+qe,ie-Se,ie+Se]},Lr=function(S,x){return Math.sqrt(S*S+x*x)},bf=function(S,x,N,I,z){return[[0,0],[0,x],[S,0],[S,x]].reduce(function(ie,De){var Je=Lr(N-De[0],I-De[1]);return(z?Je<ie.optimumDistance:Je>ie.optimumDistance)?{optimumCorner:De,optimumDistance:Je}:ie},{optimumDistance:z?1/0:-1/0,optimumCorner:null}).optimumCorner},bA=function(S,x){var N=ru(180),I=[];return Cl(x).forEach(function(z,J){if(0===J){var ie=z[0];if(20===ie.type&&-1!==["top","left","right","bottom"].indexOf(ie.value))return void(N=Zm(z));if(h2(ie))return void(N=(_A_parse(S,ie)+ru(270))%ru(360))}var De=_f(S,z);I.push(De)}),{angle:N,stops:I,type:1}},iu="closest-side",Fr="farthest-side",A2="closest-corner",yy="farthest-corner",Tw="ellipse",Bw="contain",_y=function(S,x){var N=0,I=3,z=[],J=[];return Cl(x).forEach(function(ie,De){var Se=!0;if(0===De?Se=ie.reduce(function(Je,at){if(Ji(at))switch(at.value){case"center":return J.push(Ve),!1;case"top":case"left":return J.push(ya),!1;case"right":case"bottom":return J.push(Vu),!1}else if(Ho(at)||xl(at))return J.push(at),!1;return Je},Se):1===De&&(Se=ie.reduce(function(Je,at){if(Ji(at))switch(at.value){case"circle":return N=0,!1;case Tw:return N=1,!1;case Bw:case iu:return I=0,!1;case Fr:return I=1,!1;case A2:return I=2,!1;case"cover":case yy:return I=3,!1}else if(xl(at)||Ho(at))return Array.isArray(I)||(I=[]),I.push(at),!1;return Je},Se)),Se){var qe=_f(S,ie);z.push(qe)}}),{size:I,shape:N,stops:z,position:J,type:2}},Iw_parse=function(S,x){if(22===x.type){var N={url:x.value,type:0};return S.cache.addImage(x.value),N}if(18===x.type){var I=g2[x.name];if(typeof I>"u")throw new Error('Attempting to parse an unsupported image function "'+x.name+'"');return I(S,x.values)}throw new Error("Unsupported image type "+x.type)};for(var g2={"linear-gradient":function(S,x){var N=ru(180),I=[];return Cl(x).forEach(function(z,J){if(0===J){var ie=z[0];if(20===ie.type&&"to"===ie.value)return void(N=Zm(z));if(h2(ie))return void(N=_A_parse(S,ie))}var De=_f(S,z);I.push(De)}),{angle:N,stops:I,type:1}},"-moz-linear-gradient":bA,"-ms-linear-gradient":bA,"-o-linear-gradient":bA,"-webkit-linear-gradient":bA,"radial-gradient":function(S,x){var N=0,I=3,z=[],J=[];return Cl(x).forEach(function(ie,De){var Se=!0;if(0===De){var qe=!1;Se=ie.reduce(function(at,Et){if(qe)if(Ji(Et))switch(Et.value){case"center":return J.push(Ve),at;case"top":case"left":return J.push(ya),at;case"right":case"bottom":return J.push(Vu),at}else(Ho(Et)||xl(Et))&&J.push(Et);else if(Ji(Et))switch(Et.value){case"circle":return N=0,!1;case Tw:return N=1,!1;case"at":return qe=!0,!1;case iu:return I=0,!1;case"cover":case Fr:return I=1,!1;case Bw:case A2:return I=2,!1;case yy:return I=3,!1}else if(xl(Et)||Ho(Et))return Array.isArray(I)||(I=[]),I.push(Et),!1;return at},Se)}if(Se){var Je=_f(S,ie);z.push(Je)}}),{size:I,shape:N,stops:z,position:J,type:2}},"-moz-radial-gradient":_y,"-ms-radial-gradient":_y,"-o-radial-gradient":_y,"-webkit-radial-gradient":_y,"-webkit-gradient":function(S,x){var N=ru(180),I=[],z=1;return Cl(x).forEach(function(Se,qe){var Je=Se[0];if(0===qe){if(Ji(Je)&&"linear"===Je.value)return void(z=1);if(Ji(Je)&&"radial"===Je.value)return void(z=2)}if(18===Je.type)if("from"===Je.name){var at=Kl_parse(S,Je.values[0]);I.push({stop:ya,color:at})}else if("to"===Je.name)at=Kl_parse(S,Je.values[0]),I.push({stop:Vu,color:at});else if("color-stop"===Je.name){var Et=Je.values.filter(vA);if(2===Et.length){at=Kl_parse(S,Et[1]);var In=Et[0];_d(In)&&I.push({stop:{type:16,number:100*In.number,flags:In.flags},color:at})}}}),1===z?{angle:(N+ru(180))%ru(360),stops:I,type:z}:{size:3,shape:0,stops:I,position:[],type:z}}},m2={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(S,x){if(0===x.length)return[];var N=x[0];return 20===N.type&&"none"===N.value?[]:x.filter(function(I){return vA(I)&&function Qu(S){return!(20===S.type&&"none"===S.value||18===S.type&&!g2[S.name])}(I)}).map(function(I){return Iw_parse(S,I)})}},NR={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(S,x){return x.map(function(N){if(Ji(N))switch(N.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},IR={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(S,x){return Cl(x).map(function(N){return N.filter(Ho)}).map(Wt)}},FR={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(S,x){return Cl(x).map(function(N){return N.filter(Ji).map(function(I){return I.value}).join(" ")}).map(RR)}},RR=function(S){switch(S){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},tg=function(S){return S.AUTO="auto",S.CONTAIN="contain",S.COVER="cover",S}(tg||{}),OR={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(S,x){return Cl(x).map(function(N){return N.filter(PR)})}},PR=function(S){return Ji(S)||Ho(S)},by=function(S){return{name:"border-"+S+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},fr=by("top"),LR=by("right"),UR=by("bottom"),ci=by("left"),ev=function(S){return{name:"border-radius-"+S,initialValue:"0 0",prefix:!1,type:1,parse:function(x,N){return Wt(N.filter(Ho))}}},mn=ev("top-left"),Xl=ev("top-right"),ui=ev("bottom-right"),na=ev("bottom-left"),Vo=function(S){return{name:"border-"+S+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(x,N){switch(N){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Cd=Vo("top"),tl=Vo("right"),v2=Vo("bottom"),y2=Vo("left"),wA=function(S){return{name:"border-"+S+"-width",initialValue:"0",type:0,prefix:!1,parse:function(x,N){return yf(N)?N.number:0}}},kR=wA("top"),HR=wA("right"),ng=wA("bottom"),VR=wA("left"),Fw={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_2={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(S,x){return"rtl"===x?1:0}},wy={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(S,x){return x.filter(Ji).reduce(function(N,I){return N|mV(I.value)},0)}},mV=function(S){switch(S){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Rw={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(S,x){switch(x){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},QR={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(S,x){return 20===x.type&&"normal"===x.value?0:17===x.type||15===x.type?x.number:0}},tv=function(S){return S.NORMAL="normal",S.STRICT="strict",S}(tv||{}),b2={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(S,x){return"strict"===x?tv.STRICT:tv.NORMAL}},w2={name:"line-height",initialValue:"normal",prefix:!1,type:4},xd=function(S,x){return Ji(S)&&"normal"===S.value?1.2*x:17===S.type?x*S.number:Ho(S)?cs(S,x):x},zR={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(S,x){return 20===x.type&&"none"===x.value?null:Iw_parse(S,x)}},Ow={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(S,x){return"inside"===x?0:1}},rg={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(S,x){switch(x){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Cy=function(S){return{name:"margin-"+S,initialValue:"0",prefix:!1,type:4}},Pw=Cy("top"),xy=Cy("right"),La=Cy("bottom"),ig=Cy("left"),Lw={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(S,x){return x.filter(Ji).map(function(N){switch(N.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},GR={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(S,x){return"break-word"===x?"break-word":"normal"}},Ey=function(S){return{name:"padding-"+S,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},C2=Ey("top"),sg=Ey("right"),qR=Ey("bottom"),jR=Ey("left"),WR={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(S,x){switch(x){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Uw={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(S,x){switch(x){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ch={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(S,x){return 1===x.length&&xw(x[0],"none")?[]:Cl(x).map(function(N){for(var I={color:wd.TRANSPARENT,offsetX:ya,offsetY:ya,blur:ya},z=0,J=0;J<N.length;J++){var ie=N[J];xl(ie)?(0===z?I.offsetX=ie:1===z?I.offsetY=ie:I.blur=ie,z++):I.color=Kl_parse(S,ie)}return I})}},x2={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(S,x){switch(x){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},nv={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(S,x){if(20===x.type&&"none"===x.value)return null;if(18===x.type){var N=KR[x.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported transform function "'+x.name+'"');return N(x.values)}return null}},KR={matrix:function(S){var x=S.filter(function(N){return 17===N.type}).map(function(N){return N.number});return 6===x.length?x:null},matrix3d:function(S){var x=S.filter(function(Se){return 17===Se.type}).map(function(Se){return Se.number});return 16===x.length?[x[0],x[1],x[4],x[5],x[12],x[13]]:null}},Qo={type:16,number:50,flags:4},E2=[Qo,Qo],XR={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(S,x){var N=x.filter(Ho);return 2!==N.length?E2:[N[0],N[1]]}},rv={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(S,x){switch(x){case"hidden":return 1;case"collapse":return 2;default:return 0}}},Sy=function(S){return S.NORMAL="normal",S.BREAK_ALL="break-all",S.KEEP_ALL="keep-all",S}(Sy||{}),YR={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(S,x){switch(x){case"break-all":return Sy.BREAK_ALL;case"keep-all":return Sy.KEEP_ALL;default:return Sy.NORMAL}}},ZR={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(S,x){if(20===x.type)return{auto:!0,order:0};if(_d(x))return{auto:!1,order:x.number};throw new Error("Invalid z-index number parsed")}},S2={name:"time",parse:function(S,x){if(15===x.type)switch(x.unit.toLowerCase()){case"s":return 1e3*x.number;case"ms":return x.number}throw new Error("Unsupported time type")}},JR={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(S,x){return _d(x)?x.number:1}},eO={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},kw={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(S,x){return x.filter(Ji).map(function(N){switch(N.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(N){return 0!==N})}},Dy={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(S,x){var N=[],I=[];return x.forEach(function(z){switch(z.type){case 20:case 0:N.push(z.value);break;case 17:N.push(z.number.toString());break;case 4:I.push(N.join(" ")),N.length=0}}),N.length&&I.push(N.join(" ")),I.map(function(z){return-1===z.indexOf(" ")?z:"'"+z+"'"})}},lo={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},hn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(S,x){return _d(x)?x.number:Ji(x)&&"bold"===x.value?700:400}},er={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(S,x){return x.filter(Ji).map(function(N){return N.value})}},To={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(S,x){switch(x){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ps=function(S,x){return!!(S&x)},nl={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(S,x){if(0===x.length)return[];var N=x[0];return 20===N.type&&"none"===N.value?[]:x}},Ec={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(S,x){if(0===x.length)return null;var N=x[0];if(20===N.type&&"none"===N.value)return null;for(var I=[],z=x.filter(o2),J=0;J<z.length;J++){var ie=z[J],De=z[J+1];if(20===ie.type){var Se=De&&_d(De)?De.number:1;I.push({counter:ie.value,increment:Se})}}return I}},ag={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(S,x){if(0===x.length)return[];for(var N=[],I=x.filter(o2),z=0;z<I.length;z++){var J=I[z],ie=I[z+1];if(Ji(J)&&"none"!==J.value){var De=ie&&_d(ie)?ie.number:0;N.push({counter:J.value,reset:De})}}return N}},zs={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(S,x){return x.filter(yf).map(function(N){return S2.parse(S,N)})}},zo={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(S,x){if(0===x.length)return null;var N=x[0];if(20===N.type&&"none"===N.value)return null;var I=[],z=x.filter(DR);if(z.length%2!=0)return null;for(var J=0;J<z.length;J+=2)I.push({open:z[J].value,close:z[J+1].value});return I}},su=function(S,x,N){if(!S)return"";var I=S[Math.min(x,S.length-1)];return I?N?I.open:I.close:""},vr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(S,x){return 1===x.length&&xw(x[0],"none")?[]:Cl(x).map(function(N){for(var I={color:255,offsetX:ya,offsetY:ya,blur:ya,spread:ya,inset:!1},z=0,J=0;J<N.length;J++){var ie=N[J];xw(ie,"inset")?I.inset=!0:xl(ie)?(0===z?I.offsetX=ie:1===z?I.offsetY=ie:2===z?I.blur=ie:I.spread=ie,z++):I.color=Kl_parse(S,ie)}return I})}},iv={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(S,x){var I=[];return x.filter(Ji).forEach(function(z){switch(z.value){case"stroke":I.push(1);break;case"fill":I.push(0);break;case"markers":I.push(2)}}),[0,1,2].forEach(function(z){-1===I.indexOf(z)&&I.push(z)}),I}},D2={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},lg={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(S,x){return yf(x)?x.number:0}},go=function(){function S(x,N){var I,z;this.animationDuration=En(x,zs,N.animationDuration),this.backgroundClip=En(x,xc,N.backgroundClip),this.backgroundColor=En(x,Sw,N.backgroundColor),this.backgroundImage=En(x,m2,N.backgroundImage),this.backgroundOrigin=En(x,NR,N.backgroundOrigin),this.backgroundPosition=En(x,IR,N.backgroundPosition),this.backgroundRepeat=En(x,FR,N.backgroundRepeat),this.backgroundSize=En(x,OR,N.backgroundSize),this.borderTopColor=En(x,fr,N.borderTopColor),this.borderRightColor=En(x,LR,N.borderRightColor),this.borderBottomColor=En(x,UR,N.borderBottomColor),this.borderLeftColor=En(x,ci,N.borderLeftColor),this.borderTopLeftRadius=En(x,mn,N.borderTopLeftRadius),this.borderTopRightRadius=En(x,Xl,N.borderTopRightRadius),this.borderBottomRightRadius=En(x,ui,N.borderBottomRightRadius),this.borderBottomLeftRadius=En(x,na,N.borderBottomLeftRadius),this.borderTopStyle=En(x,Cd,N.borderTopStyle),this.borderRightStyle=En(x,tl,N.borderRightStyle),this.borderBottomStyle=En(x,v2,N.borderBottomStyle),this.borderLeftStyle=En(x,y2,N.borderLeftStyle),this.borderTopWidth=En(x,kR,N.borderTopWidth),this.borderRightWidth=En(x,HR,N.borderRightWidth),this.borderBottomWidth=En(x,ng,N.borderBottomWidth),this.borderLeftWidth=En(x,VR,N.borderLeftWidth),this.boxShadow=En(x,vr,N.boxShadow),this.color=En(x,Fw,N.color),this.direction=En(x,_2,N.direction),this.display=En(x,wy,N.display),this.float=En(x,Rw,N.cssFloat),this.fontFamily=En(x,Dy,N.fontFamily),this.fontSize=En(x,lo,N.fontSize),this.fontStyle=En(x,To,N.fontStyle),this.fontVariant=En(x,er,N.fontVariant),this.fontWeight=En(x,hn,N.fontWeight),this.letterSpacing=En(x,QR,N.letterSpacing),this.lineBreak=En(x,b2,N.lineBreak),this.lineHeight=En(x,w2,N.lineHeight),this.listStyleImage=En(x,zR,N.listStyleImage),this.listStylePosition=En(x,Ow,N.listStylePosition),this.listStyleType=En(x,rg,N.listStyleType),this.marginTop=En(x,Pw,N.marginTop),this.marginRight=En(x,xy,N.marginRight),this.marginBottom=En(x,La,N.marginBottom),this.marginLeft=En(x,ig,N.marginLeft),this.opacity=En(x,JR,N.opacity);var J=En(x,Lw,N.overflow);this.overflowX=J[0],this.overflowY=J[J.length>1?1:0],this.overflowWrap=En(x,GR,N.overflowWrap),this.paddingTop=En(x,C2,N.paddingTop),this.paddingRight=En(x,sg,N.paddingRight),this.paddingBottom=En(x,qR,N.paddingBottom),this.paddingLeft=En(x,jR,N.paddingLeft),this.paintOrder=En(x,iv,N.paintOrder),this.position=En(x,Uw,N.position),this.textAlign=En(x,WR,N.textAlign),this.textDecorationColor=En(x,eO,null!==(I=N.textDecorationColor)&&void 0!==I?I:N.color),this.textDecorationLine=En(x,kw,null!==(z=N.textDecorationLine)&&void 0!==z?z:N.textDecoration),this.textShadow=En(x,Ch,N.textShadow),this.textTransform=En(x,x2,N.textTransform),this.transform=En(x,nv,N.transform),this.transformOrigin=En(x,XR,N.transformOrigin),this.visibility=En(x,rv,N.visibility),this.webkitTextStrokeColor=En(x,D2,N.webkitTextStrokeColor),this.webkitTextStrokeWidth=En(x,lg,N.webkitTextStrokeWidth),this.wordBreak=En(x,YR,N.wordBreak),this.zIndex=En(x,ZR,N.zIndex)}return S.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},S.prototype.isTransparent=function(){return bd(this.backgroundColor)},S.prototype.isTransformed=function(){return null!==this.transform},S.prototype.isPositioned=function(){return 0!==this.position},S.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},S.prototype.isFloating=function(){return 0!==this.float},S.prototype.isInlineLevel=function(){return ps(this.display,4)||ps(this.display,33554432)||ps(this.display,268435456)||ps(this.display,536870912)||ps(this.display,67108864)||ps(this.display,134217728)},S}(),sv=function(){return function S(x,N){this.content=En(x,nl,N.content),this.quotes=En(x,zo,N.quotes)}}(),CA=function(){return function S(x,N){this.counterIncrement=En(x,Ec,N.counterIncrement),this.counterReset=En(x,ag,N.counterReset)}}(),En=function(S,x,N){var I=new ER,z=null!==N&&typeof N<"u"?N.toString():x.initialValue;I.write(z);var J=new SR(I.read());switch(x.type){case 2:var ie=J.parseComponentValue();return x.parse(S,Ji(ie)?ie.value:x.initialValue);case 0:return x.parse(S,J.parseComponentValue());case 1:return x.parse(S,J.parseComponentValues());case 4:return J.parseComponentValue();case 3:switch(x.format){case"angle":return _A_parse(S,J.parseComponentValue());case"color":return Kl_parse(S,J.parseComponentValue());case"image":return Iw_parse(S,J.parseComponentValue());case"length":var De=J.parseComponentValue();return xl(De)?De:ya;case"length-percentage":var Se=J.parseComponentValue();return Ho(Se)?Se:ya;case"time":return S2.parse(S,J.parseComponentValue())}}},xh=function(S,x){var N=function(S){switch(S.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(S);return 1===N||x===N},Sc=function(){return function S(x,N){this.context=x,this.textNodes=[],this.elements=[],this.flags=0,xh(N,3),this.styles=new go(x,window.getComputedStyle(N,null)),Av(N)&&(this.styles.animationDuration.some(function(I){return I>0})&&(N.style.animationDuration="0s"),null!==this.styles.transform&&(N.style.transform="none")),this.bounds=zn(this.context,N),xh(N,4)&&(this.flags|=16)}}(),Er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",EA=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ed=0;Ed<64;Ed++)EA[Er.charCodeAt(Ed)]=Ed;for(var iO=function(S,x,N){return S.slice?S.slice(x,N):new Uint16Array(Array.prototype.slice.call(S,x,N))},_V=function(){function S(x,N,I,z,J,ie){this.initialValue=x,this.errorValue=N,this.highStart=I,this.highValueIndex=z,this.index=J,this.data=ie}return S.prototype.get=function(x){var N;if(x>=0){if(x<55296||x>56319&&x<=65535)return this.data[N=((N=this.index[x>>5])<<2)+(31&x)];if(x<=65535)return this.data[N=((N=this.index[2048+(x-55296>>5)])<<2)+(31&x)];if(x<this.highStart)return N=this.index[N=2080+(x>>11)],this.data[N=((N=this.index[N+=x>>5&63])<<2)+(31&x)];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},S}(),sO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bV=typeof Uint8Array>"u"?[]:new Uint8Array(256),zw=0;zw<64;zw++)bV[sO.charCodeAt(zw)]=zw;var Gw=8,F2=9,lO=11,cO=12,uO=function(){for(var S=[],x=0;x<arguments.length;x++)S[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,S);var N=S.length;if(!N)return"";for(var I=[],z=-1,J="";++z<N;){var ie=S[z];ie<=65535?I.push(ie):I.push(55296+((ie-=65536)>>10),ie%1024+56320),(z+1===N||I.length>16384)&&(J+=String.fromCharCode.apply(String,I),I.length=0)}return J},hO=function(S,x){var N=function(S){var I,J,ie,De,Se,x=.75*S.length,N=S.length,z=0;"="===S[S.length-1]&&(x--,"="===S[S.length-2]&&x--);var qe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(x):new Array(x),Je=Array.isArray(qe)?qe:new Uint8Array(qe);for(I=0;I<N;I+=4)J=EA[S.charCodeAt(I)],ie=EA[S.charCodeAt(I+1)],De=EA[S.charCodeAt(I+2)],Se=EA[S.charCodeAt(I+3)],Je[z++]=J<<2|ie>>4,Je[z++]=(15&ie)<<4|De>>2,Je[z++]=(3&De)<<6|63&Se;return qe}(S),I=Array.isArray(N)?function(S){for(var x=S.length,N=[],I=0;I<x;I+=4)N.push(S[I+3]<<24|S[I+2]<<16|S[I+1]<<8|S[I]);return N}(N):new Uint32Array(N),z=Array.isArray(N)?function(S){for(var x=S.length,N=[],I=0;I<x;I+=2)N.push(S[I+1]<<8|S[I]);return N}(N):new Uint16Array(N),ie=iO(z,12,I[4]/2),De=2===I[5]?iO(z,(24+I[4])/2):function(S,x,N){return S.slice?S.slice(x,N):new Uint32Array(Array.prototype.slice.call(S,x,N))}(I,Math.ceil((24+I[4])/4));return new _V(I[0],I[1],I[2],I[3],ie,De)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),fO=function(S){return hO.get(S)},jw=function(S,x,N){var I=N-2,z=x[I],J=x[N-1],ie=x[N];if(2===J&&3===ie)return"\xd7";if(2===J||3===J||4===J||2===ie||3===ie||4===ie)return"\xf7";if(J===Gw&&-1!==[Gw,F2,lO,cO].indexOf(ie)||(J===lO||J===F2)&&(ie===F2||10===ie)||(J===cO||10===J)&&10===ie||13===ie||5===ie||7===ie||1===J)return"\xd7";if(13===J&&14===ie){for(;5===z;)z=x[--I];if(14===z)return"\xd7"}if(15===J&&15===ie){for(var De=0;15===z;)De++,z=x[--I];if(De%2==0)return"\xd7"}return"\xf7"},dO=function(S){var x=function(S){for(var x=[],N=0,I=S.length;N<I;){var z=S.charCodeAt(N++);if(z>=55296&&z<=56319&&N<I){var J=S.charCodeAt(N++);56320==(64512&J)?x.push(((1023&z)<<10)+(1023&J)+65536):(x.push(z),N--)}else x.push(z)}return x}(S),N=x.length,I=0,z=0,J=x.map(fO);return{next:function(){if(I>=N)return{done:!0,value:null};for(var ie="\xd7";I<N&&"\xd7"===(ie=jw(0,J,++I)););if("\xd7"!==ie||I===N){var De=uO.apply(null,x.slice(z,I));return z=I,{value:De,done:!1}}return{done:!0,value:null}}}},gs=function(S){return 0===S[0]&&255===S[1]&&0===S[2]&&255===S[3]},DA=function(S,x,N,I,z){var J="http://www.w3.org/2000/svg",ie=document.createElementNS(J,"svg"),De=document.createElementNS(J,"foreignObject");return ie.setAttributeNS(null,"width",S.toString()),ie.setAttributeNS(null,"height",x.toString()),De.setAttributeNS(null,"width","100%"),De.setAttributeNS(null,"height","100%"),De.setAttributeNS(null,"x",N.toString()),De.setAttributeNS(null,"y",I.toString()),De.setAttributeNS(null,"externalResourcesRequired","true"),ie.appendChild(De),De.appendChild(z),ie},il=function(S){return new Promise(function(x,N){var I=new Image;I.onload=function(){return x(I)},I.onerror=N,I.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(S))})},Ua={get SUPPORT_RANGE_BOUNDS(){var S=function(S){if(S.createRange){var N=S.createRange();if(N.getBoundingClientRect){var I=S.createElement("boundtest");I.style.height="123px",I.style.display="block",S.body.appendChild(I),N.selectNode(I);var z=N.getBoundingClientRect(),J=Math.round(z.height);if(S.body.removeChild(I),123===J)return!0}}return!1}(document);return Object.defineProperty(Ua,"SUPPORT_RANGE_BOUNDS",{value:S}),S},get SUPPORT_WORD_BREAKING(){var S=Ua.SUPPORT_RANGE_BOUNDS&&function(S){var x=S.createElement("boundtest");x.style.width="50px",x.style.display="block",x.style.fontSize="12px",x.style.letterSpacing="0px",x.style.wordSpacing="0px",S.body.appendChild(x);var N=S.createRange();x.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var I=x.firstChild,z=bt(I.data).map(function(Se){return Ge(Se)}),J=0,ie={},De=z.every(function(Se,qe){N.setStart(I,J),N.setEnd(I,J+Se.length);var Je=N.getBoundingClientRect();J+=Se.length;var at=Je.x>ie.x||Je.y>ie.y;return ie=Je,0===qe||at});return S.body.removeChild(x),De}(document);return Object.defineProperty(Ua,"SUPPORT_WORD_BREAKING",{value:S}),S},get SUPPORT_SVG_DRAWING(){var S=function(S){var x=new Image,N=S.createElement("canvas"),I=N.getContext("2d");if(!I)return!1;x.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{I.drawImage(x,0,0),N.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(Ua,"SUPPORT_SVG_DRAWING",{value:S}),S},get SUPPORT_FOREIGNOBJECT_DRAWING(){var S="function"==typeof Array.from&&"function"==typeof window.fetch?function(S){var x=S.createElement("canvas"),N=100;x.width=N,x.height=N;var I=x.getContext("2d");if(!I)return Promise.reject(!1);I.fillStyle="rgb(0, 255, 0)",I.fillRect(0,0,N,N);var z=new Image,J=x.toDataURL();z.src=J;var ie=DA(N,N,0,0,z);return I.fillStyle="red",I.fillRect(0,0,N,N),il(ie).then(function(De){I.drawImage(De,0,0);var Se=I.getImageData(0,0,N,N).data;I.fillStyle="red",I.fillRect(0,0,N,N);var qe=S.createElement("div");return qe.style.backgroundImage="url("+J+")",qe.style.height=N+"px",gs(Se)?il(DA(N,N,0,0,qe)):Promise.reject(!1)}).then(function(De){return I.drawImage(De,0,0),gs(I.getImageData(0,0,N,N).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Ua,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:S}),S},get SUPPORT_CORS_IMAGES(){var S=typeof(new Image).crossOrigin<"u";return Object.defineProperty(Ua,"SUPPORT_CORS_IMAGES",{value:S}),S},get SUPPORT_RESPONSE_TYPE(){var S="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Ua,"SUPPORT_RESPONSE_TYPE",{value:S}),S},get SUPPORT_CORS_XHR(){var S="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ua,"SUPPORT_CORS_XHR",{value:S}),S},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var S=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ua,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:S}),S}},wf=function(){return function S(x,N){this.text=x,this.bounds=N}}(),Mc=function(S,x){var N=x.ownerDocument;if(N){var I=N.createElement("html2canvaswrapper");I.appendChild(x.cloneNode(!0));var z=x.parentNode;if(z){z.replaceChild(I,x);var J=zn(S,I);return I.firstChild&&z.replaceChild(I.firstChild,I),J}}return Mn.EMPTY},H2=function(S,x,N){var I=S.ownerDocument;if(!I)throw new Error("Node has no owner document");var z=I.createRange();return z.setStart(S,x),z.setEnd(S,x+N),z},lv=function(S){if(Ua.SUPPORT_NATIVE_TEXT_SEGMENTATION){var x=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(x.segment(S)).map(function(N){return N.segment})}return function(S){for(var I,x=dO(S),N=[];!(I=x.next()).done;)I.value&&N.push(I.value.slice());return N}(S)},Dh=function(S,x){return 0!==x.letterSpacing?lv(S):function(S,x){if(Ua.SUPPORT_NATIVE_TEXT_SEGMENTATION){var N=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(N.segment(S)).map(function(I){return I.segment})}return gO(S,x)}(S,x)},V2=[32,160,4961,65792,65793,4153,4241],gO=function(S,x){for(var z,N=function(S,x){var N=bt(S),I=cy(N,x),z=I[0],J=I[1],ie=I[2],De=N.length,Se=0,qe=0;return{next:function(){if(qe>=De)return{done:!0,value:null};for(var Je=li;qe<De&&(Je=jp(N,J,z,++qe,ie))===li;);if(Je!==li||qe===De){var at=new hw(N,Je,Se,qe);return Se=qe,{value:at,done:!1}}return{done:!0,value:null}}}}(S,{lineBreak:x.lineBreak,wordBreak:"break-word"===x.overflowWrap?"break-word":x.wordBreak}),I=[],J=function(){if(z.value){var ie=z.value.slice(),De=bt(ie),Se="";De.forEach(function(qe){-1===V2.indexOf(qe)?Se+=Ge(qe):(Se.length&&I.push(Se),I.push(Ge(qe)),Se="")}),Se.length&&I.push(Se)}};!(z=N.next()).done;)J();return I},Q2=function(){return function S(x,N,I){this.text=$w(N.data,I.textTransform),this.textBounds=function(S,x,N,I){var z=Dh(x,N),J=[],ie=0;return z.forEach(function(De){if(N.textDecorationLine.length||De.trim().length>0)if(Ua.SUPPORT_RANGE_BOUNDS){var Se=H2(I,ie,De.length).getClientRects();if(Se.length>1){var qe=lv(De),Je=0;qe.forEach(function(Et){J.push(new wf(Et,Mn.fromDOMRectList(S,H2(I,Je+ie,Et.length).getClientRects()))),Je+=Et.length})}else J.push(new wf(De,Mn.fromDOMRectList(S,Se)))}else{var at=I.splitText(De.length);J.push(new wf(De,Mc(S,I))),I=at}else Ua.SUPPORT_RANGE_BOUNDS||(I=I.splitText(De.length));ie+=De.length}),J}(x,this.text,I,N)}}(),$w=function(S,x){switch(x){case 1:return S.toLowerCase();case 3:return S.replace(Kw,uv);case 2:return S.toUpperCase();default:return S}},Kw=/(^|\s|:|-|\(|\))([a-z])/g,uv=function(S,x,N){return S.length>0?x+N.toUpperCase():S},hv=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z.src=I.currentSrc||I.src,z.intrinsicWidth=I.naturalWidth,z.intrinsicHeight=I.naturalHeight,z.context.cache.addImage(z.src),z}return we(x,S),x}(Sc),Ny=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z.canvas=I,z.intrinsicWidth=I.width,z.intrinsicHeight=I.height,z}return we(x,S),x}(Sc),Sd=function(S){function x(N,I){var z=S.call(this,N,I)||this,J=new XMLSerializer,ie=zn(N,I);return I.setAttribute("width",ie.width+"px"),I.setAttribute("height",ie.height+"px"),z.svg="data:image/svg+xml,"+encodeURIComponent(J.serializeToString(I)),z.intrinsicWidth=I.width.baseVal.value,z.intrinsicHeight=I.height.baseVal.value,z.context.cache.addImage(z.svg),z}return we(x,S),x}(Sc),dr=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z.value=I.value,z}return we(x,S),x}(Sc),Iy=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z.start=I.start,z.reversed="boolean"==typeof I.reversed&&!0===I.reversed,z}return we(x,S),x}(Sc),xV=[{type:15,flags:0,unit:"px",number:3}],mO=[{type:16,flags:0,number:50}],fv="checkbox",Cf="radio",_O="password",z2=707406591,Xw=function(S){function x(N,I){var z=S.call(this,N,I)||this;switch(z.type=I.type.toLowerCase(),z.checked=I.checked,z.value=function(S){var x=S.type===_O?new Array(S.value.length+1).join("\u2022"):S.value;return 0===x.length?S.placeholder||"":x}(I),(z.type===fv||z.type===Cf)&&(z.styles.backgroundColor=3739148031,z.styles.borderTopColor=z.styles.borderRightColor=z.styles.borderBottomColor=z.styles.borderLeftColor=2779096575,z.styles.borderTopWidth=z.styles.borderRightWidth=z.styles.borderBottomWidth=z.styles.borderLeftWidth=1,z.styles.borderTopStyle=z.styles.borderRightStyle=z.styles.borderBottomStyle=z.styles.borderLeftStyle=1,z.styles.backgroundClip=[0],z.styles.backgroundOrigin=[0],z.bounds=function(S){return S.width>S.height?new Mn(S.left+(S.width-S.height)/2,S.top,S.height,S.height):S.width<S.height?new Mn(S.left,S.top+(S.height-S.width)/2,S.width,S.width):S}(z.bounds)),z.type){case fv:z.styles.borderTopRightRadius=z.styles.borderTopLeftRadius=z.styles.borderBottomRightRadius=z.styles.borderBottomLeftRadius=xV;break;case Cf:z.styles.borderTopRightRadius=z.styles.borderTopLeftRadius=z.styles.borderBottomRightRadius=z.styles.borderBottomLeftRadius=mO}return z}return we(x,S),x}(Sc),G2=function(S){function x(N,I){var z=S.call(this,N,I)||this,J=I.options[I.selectedIndex||0];return z.value=J&&J.text||"",z}return we(x,S),x}(Sc),q2=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z.value=I.value,z}return we(x,S),x}(Sc),xt=function(S){function x(N,I){var z=S.call(this,N,I)||this;z.src=I.src,z.width=parseInt(I.width,10)||0,z.height=parseInt(I.height,10)||0,z.backgroundColor=z.styles.backgroundColor;try{if(I.contentWindow&&I.contentWindow.document&&I.contentWindow.document.documentElement){z.tree=us(N,I.contentWindow.document.documentElement);var J=I.contentWindow.document.documentElement?Jp(N,getComputedStyle(I.contentWindow.document.documentElement).backgroundColor):wd.TRANSPARENT,ie=I.contentWindow.document.body?Jp(N,getComputedStyle(I.contentWindow.document.body).backgroundColor):wd.TRANSPARENT;z.backgroundColor=bd(J)?bd(ie)?z.styles.backgroundColor:ie:J}}catch{}return z}return we(x,S),x}(Sc),yi=["OL","UL","MENU"],Vn=function(S,x,N,I){for(var z=x.firstChild,J=void 0;z;z=J)if(J=z.nextSibling,Gu(z)&&z.data.trim().length>0)N.textNodes.push(new Q2(S,z,N.styles));else if(Dd(z))if(pv(z)&&z.assignedNodes)z.assignedNodes().forEach(function(De){return Vn(S,De,N,I)});else{var ie=qn(S,z);ie.styles.isVisible()&&(j2(z,ie,I)?ie.flags|=4:dv(ie.styles)&&(ie.flags|=2),-1!==yi.indexOf(z.tagName)&&(ie.flags|=8),N.elements.push(ie),z.shadowRoot?Vn(S,z.shadowRoot,ie,I):!fg(z)&&!Yw(z)&&!dg(z)&&Vn(S,z,ie,I))}},qn=function(S,x){return Ry(x)?new hv(S,x):Mh(x)?new Ny(S,x):Yw(x)?new Sd(S,x):EV(x)?new dr(S,x):W2(x)?new Iy(S,x):El(x)?new Xw(S,x):dg(x)?new G2(S,x):fg(x)?new q2(S,x):K2(x)?new xt(S,x):new Sc(S,x)},us=function(S,x){var N=qn(S,x);return N.flags|=4,Vn(S,x,N,N),N},j2=function(S,x,N){return x.styles.isPositionedWithZIndex()||x.styles.opacity<1||x.styles.isTransformed()||Tc(S)&&N.styles.isTransparent()},dv=function(S){return S.isPositioned()||S.isFloating()},Gu=function(S){return S.nodeType===Node.TEXT_NODE},Dd=function(S){return S.nodeType===Node.ELEMENT_NODE},Av=function(S){return Dd(S)&&typeof S.style<"u"&&!Fy(S)},Fy=function(S){return"object"==typeof S.className},EV=function(S){return"LI"===S.tagName},W2=function(S){return"OL"===S.tagName},El=function(S){return"INPUT"===S.tagName},Yw=function(S){return"svg"===S.tagName},Tc=function(S){return"BODY"===S.tagName},Mh=function(S){return"CANVAS"===S.tagName},$2=function(S){return"VIDEO"===S.tagName},Ry=function(S){return"IMG"===S.tagName},K2=function(S){return"IFRAME"===S.tagName},X2=function(S){return"STYLE"===S.tagName},fg=function(S){return"TEXTAREA"===S.tagName},dg=function(S){return"SELECT"===S.tagName},pv=function(S){return"SLOT"===S.tagName},Y2=function(S){return S.tagName.indexOf("-")>0},Z2=function(){function S(){this.counters={}}return S.prototype.getCounterValue=function(x){var N=this.counters[x];return N&&N.length?N[N.length-1]:1},S.prototype.getCounterValues=function(x){return this.counters[x]||[]},S.prototype.pop=function(x){var N=this;x.forEach(function(I){return N.counters[I].pop()})},S.prototype.parse=function(x){var N=this,I=x.counterIncrement,z=x.counterReset,J=!0;null!==I&&I.forEach(function(De){var Se=N.counters[De.counter];Se&&0!==De.increment&&(J=!1,Se.length||Se.push(1),Se[Math.max(0,Se.length-1)]+=De.increment)});var ie=[];return J&&z.forEach(function(De){var Se=N.counters[De.counter];ie.push(De.counter),Se||(Se=N.counters[De.counter]=[]),Se.push(De.reset)}),ie},S}(),Oy={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Jw={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},J2={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},eD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},MA=function(S,x,N,I,z,J){return S<x||S>N?Yl(S,z,J.length>0):I.integers.reduce(function(ie,De,Se){for(;S>=De;)S-=De,ie+=I.values[Se];return ie},"")+J},Py=function(S,x,N,I){var z="";do{N||S--,z=I(S)+z,S/=x}while(S*x>=x);return z},No=function(S,x,N,I,z){var J=N-x+1;return(S<0?"-":"")+(Py(Math.abs(S),J,I,function(ie){return Ge(Math.floor(ie%J)+x)})+z)},bo=function(S,x,N){void 0===N&&(N=". ");var I=x.length;return Py(Math.abs(S),I,!1,function(z){return x[Math.floor(z%I)]})+N},Sf=function(S,x,N,I,z,J){if(S<-9999||S>9999)return Yl(S,4,z.length>0);var ie=Math.abs(S),De=z;if(0===ie)return x[0]+De;for(var Se=0;ie>0&&Se<=4;Se++){var qe=ie%10;0===qe&&ps(J,1)&&""!==De?De=x[qe]+De:qe>1||1===qe&&0===Se||1===qe&&1===Se&&ps(J,2)||1===qe&&1===Se&&ps(J,4)&&S>100||1===qe&&Se>1&&ps(J,8)?De=x[qe]+(Se>0?N[Se-1]:"")+De:1===qe&&Se>0&&(De=N[Se-1]+De),ie=Math.floor(ie/10)}return(S<0?I:"")+De},TA="\ub9c8\uc774\ub108\uc2a4",Yl=function(S,x,N){var I=N?". ":"",z=N?"\u3001":"",J=N?", ":"",ie=N?" ":"";switch(x){case 0:return"\u2022"+ie;case 1:return"\u25e6"+ie;case 2:return"\u25fe"+ie;case 5:var De=No(S,48,57,!0,I);return De.length<4?"0"+De:De;case 4:return bo(S,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",z);case 6:return MA(S,1,3999,Oy,3,I).toLowerCase();case 7:return MA(S,1,3999,Oy,3,I);case 8:return No(S,945,969,!1,I);case 9:return No(S,97,122,!1,I);case 10:return No(S,65,90,!1,I);case 11:return No(S,1632,1641,!0,I);case 12:case 49:return MA(S,1,9999,Jw,3,I);case 35:return MA(S,1,9999,Jw,3,I).toLowerCase();case 13:return No(S,2534,2543,!0,I);case 14:case 30:return No(S,6112,6121,!0,I);case 15:return bo(S,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",z);case 16:return bo(S,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",z);case 17:case 48:return Sf(S,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",z,14);case 47:return Sf(S,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",z,15);case 42:return Sf(S,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",z,14);case 41:return Sf(S,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",z,15);case 26:return Sf(S,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",z,0);case 25:return Sf(S,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",z,7);case 31:return Sf(S,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",TA,J,7);case 33:return Sf(S,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",TA,J,0);case 32:return Sf(S,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",TA,J,7);case 18:return No(S,2406,2415,!0,I);case 20:return MA(S,1,19999,eD,3,I);case 21:return No(S,2790,2799,!0,I);case 22:return No(S,2662,2671,!0,I);case 22:return MA(S,1,10999,J2,3,I);case 23:return bo(S,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return bo(S,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return No(S,3302,3311,!0,I);case 28:return bo(S,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",z);case 29:return bo(S,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",z);case 34:return No(S,3792,3801,!0,I);case 37:return No(S,6160,6169,!0,I);case 38:return No(S,4160,4169,!0,I);case 39:return No(S,2918,2927,!0,I);case 40:return No(S,1776,1785,!0,I);case 43:return No(S,3046,3055,!0,I);case 44:return No(S,3174,3183,!0,I);case 45:return No(S,3664,3673,!0,I);case 46:return No(S,3872,3881,!0,I);default:return No(S,48,57,!0,I)}},nD="data-html2canvas-ignore",mv=function(){function S(x,N,I){if(this.context=x,this.options=I,this.scrolledElements=[],this.referenceElement=N,this.counters=new Z2,this.quoteDepth=0,!N.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(N.ownerDocument.documentElement,!1)}return S.prototype.toIFrame=function(x,N){var I=this,z=Ly(x,N);if(!z.contentWindow)return Promise.reject("Unable to find iframe window");var J=x.defaultView.pageXOffset,ie=x.defaultView.pageYOffset,De=z.contentWindow,Se=De.document,qe=iD(z).then(function(){return _t(I,void 0,void 0,function(){var Je,at;return Ct(this,function(Et){switch(Et.label){case 0:return this.scrolledElements.forEach(rC),De&&(De.scrollTo(N.left,N.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(De.scrollY!==N.top||De.scrollX!==N.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(De.scrollX-N.left,De.scrollY-N.top,0,0))),Je=this.options.onclone,typeof(at=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Se.fonts&&Se.fonts.ready?[4,Se.fonts.ready]:[3,2];case 1:Et.sent(),Et.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,rD(Se)]:[3,4];case 3:Et.sent(),Et.label=4;case 4:return"function"==typeof Je?[2,Promise.resolve().then(function(){return Je(Se,at)}).then(function(){return z})]:[2,z]}})})});return Se.open(),Se.write(vv(document.doctype)+"<html></html>"),wO(this.referenceElement.ownerDocument,J,ie),Se.replaceChild(Se.adoptNode(this.documentElement),Se.documentElement),Se.close(),qe},S.prototype.createElementClone=function(x){if(xh(x,2),Mh(x))return this.createCanvasClone(x);if($2(x))return this.createVideoClone(x);if(X2(x))return this.createStyleClone(x);var N=x.cloneNode(!1);return Ry(N)&&(Ry(x)&&x.currentSrc&&x.currentSrc!==x.src&&(N.src=x.currentSrc,N.srcset=""),"lazy"===N.loading&&(N.loading="eager")),Y2(N)?this.createCustomElementClone(N):N},S.prototype.createCustomElementClone=function(x){var N=document.createElement("html2canvascustomelement");return Md(x.style,N),N},S.prototype.createStyleClone=function(x){try{var N=x.sheet;if(N&&N.cssRules){var I=[].slice.call(N.cssRules,0).reduce(function(J,ie){return ie&&"string"==typeof ie.cssText?J+ie.cssText:J},""),z=x.cloneNode(!1);return z.textContent=I,z}}catch(J){if(this.context.logger.error("Unable to access cssRules property",J),"SecurityError"!==J.name)throw J}return x.cloneNode(!1)},S.prototype.createCanvasClone=function(x){var N;if(this.options.inlineImages&&x.ownerDocument){var I=x.ownerDocument.createElement("img");try{return I.src=x.toDataURL(),I}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",x)}}var z=x.cloneNode(!1);try{z.width=x.width,z.height=x.height;var J=x.getContext("2d"),ie=z.getContext("2d");if(ie)if(!this.options.allowTaint&&J)ie.putImageData(J.getImageData(0,0,x.width,x.height),0,0);else{var De=null!==(N=x.getContext("webgl2"))&&void 0!==N?N:x.getContext("webgl");if(De){var Se=De.getContextAttributes();!1===Se?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",x)}ie.drawImage(x,0,0)}return z}catch{this.context.logger.info("Unable to clone canvas as it is tainted",x)}return z},S.prototype.createVideoClone=function(x){var N=x.ownerDocument.createElement("canvas");N.width=x.offsetWidth,N.height=x.offsetHeight;var I=N.getContext("2d");try{return I&&(I.drawImage(x,0,0,N.width,N.height),this.options.allowTaint||I.getImageData(0,0,N.width,N.height)),N}catch{this.context.logger.info("Unable to clone video as it is tainted",x)}var z=x.ownerDocument.createElement("canvas");return z.width=x.offsetWidth,z.height=x.offsetHeight,z},S.prototype.appendChildNode=function(x,N,I){(!Dd(N)||!function(S){return"SCRIPT"===S.tagName}(N)&&!N.hasAttribute(nD)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(N)))&&(!this.options.copyStyles||!Dd(N)||!X2(N))&&x.appendChild(this.cloneNode(N,I))},S.prototype.cloneChildNodes=function(x,N,I){for(var z=this,J=x.shadowRoot?x.shadowRoot.firstChild:x.firstChild;J;J=J.nextSibling)if(Dd(J)&&pv(J)&&"function"==typeof J.assignedNodes){var ie=J.assignedNodes();ie.length&&ie.forEach(function(De){return z.appendChildNode(N,De,I)})}else this.appendChildNode(N,J,I)},S.prototype.cloneNode=function(x,N){if(Gu(x))return document.createTextNode(x.data);if(!x.ownerDocument)return x.cloneNode(!1);var I=x.ownerDocument.defaultView;if(I&&Dd(x)&&(Av(x)||Fy(x))){var z=this.createElementClone(x);z.style.transitionProperty="none";var J=I.getComputedStyle(x),ie=I.getComputedStyle(x,":before"),De=I.getComputedStyle(x,":after");this.referenceElement===x&&Av(z)&&(this.clonedReferenceElement=z),Tc(z)&&sC(z);var Se=this.counters.parse(new CA(this.context,J)),qe=this.resolvePseudoContent(x,z,ie,BA.BEFORE);Y2(x)&&(N=!0),$2(x)||this.cloneChildNodes(x,z,N),qe&&z.insertBefore(qe,z.firstChild);var Je=this.resolvePseudoContent(x,z,De,BA.AFTER);return Je&&z.appendChild(Je),this.counters.pop(Se),(J&&(this.options.copyStyles||Fy(x))&&!K2(x)||N)&&Md(J,z),(0!==x.scrollTop||0!==x.scrollLeft)&&this.scrolledElements.push([z,x.scrollLeft,x.scrollTop]),(fg(x)||dg(x))&&(fg(z)||dg(z))&&(z.value=x.value),z}return x.cloneNode(!1)},S.prototype.resolvePseudoContent=function(x,N,I,z){var J=this;if(I){var ie=I.content,De=N.ownerDocument;if(De&&ie&&"none"!==ie&&"-moz-alt-content"!==ie&&"none"!==I.display){this.counters.parse(new CA(this.context,I));var Se=new sv(this.context,I),qe=De.createElement("html2canvaspseudoelement");Md(I,qe),Se.content.forEach(function(at){if(0===at.type)qe.appendChild(De.createTextNode(at.value));else if(22===at.type){var Et=De.createElement("img");Et.src=at.value,Et.style.opacity="1",qe.appendChild(Et)}else if(18===at.type){if("attr"===at.name){var In=at.values.filter(Ji);In.length&&qe.appendChild(De.createTextNode(x.getAttribute(In[0].value)||""))}else if("counter"===at.name){var ln=at.values.filter(vA),Kr=ln[1];if((Sn=ln[0])&&Ji(Sn)){var Xn=J.counters.getCounterValue(Sn.value),Gn=Kr&&Ji(Kr)?rg.parse(J.context,Kr.value):3;qe.appendChild(De.createTextNode(Yl(Xn,Gn,!1)))}}else if("counters"===at.name){var Sn,ki=at.values.filter(vA),Jr=ki[1];if(Kr=ki[2],(Sn=ki[0])&&Ji(Sn)){var wr=J.counters.getCounterValues(Sn.value),gn=Kr&&Ji(Kr)?rg.parse(J.context,Kr.value):3,wi=Jr&&0===Jr.type?Jr.value:"",Ei=wr.map(function(ba){return Yl(ba,gn,!1)}).join(wi);qe.appendChild(De.createTextNode(Ei))}}}else if(20===at.type)switch(at.value){case"open-quote":qe.appendChild(De.createTextNode(su(Se.quotes,J.quoteDepth++,!0)));break;case"close-quote":qe.appendChild(De.createTextNode(su(Se.quotes,--J.quoteDepth,!1)));break;default:qe.appendChild(De.createTextNode(at.value))}}),qe.className=iC+" "+sD;var Je=z===BA.BEFORE?" "+iC:" "+sD;return Fy(N)?N.className.baseValue+=Je:N.className+=Je,qe}}},S.destroy=function(x){return!!x.parentNode&&(x.parentNode.removeChild(x),!0)},S}(),BA=function(S){return S[S.BEFORE=0]="BEFORE",S[S.AFTER=1]="AFTER",S}(BA||{}),Ly=function(S,x){var N=S.createElement("iframe");return N.className="html2canvas-container",N.style.visibility="hidden",N.style.position="fixed",N.style.left="-10000px",N.style.top="0px",N.style.border="0",N.width=x.width.toString(),N.height=x.height.toString(),N.scrolling="no",N.setAttribute(nD,"true"),S.body.appendChild(N),N},nC=function(S){return new Promise(function(x){S.complete?x():S.src?(S.onload=x,S.onerror=x):x()})},rD=function(S){return Promise.all([].slice.call(S.images,0).map(nC))},iD=function(S){return new Promise(function(x,N){var I=S.contentWindow;if(!I)return N("No window assigned for iframe");var z=I.document;I.onload=S.onload=function(){I.onload=S.onload=null;var J=setInterval(function(){z.body.childNodes.length>0&&"complete"===z.readyState&&(clearInterval(J),x(S))},50)}})},bO=["all","d","content"],Md=function(S,x){for(var N=S.length-1;N>=0;N--){var I=S.item(N);-1===bO.indexOf(I)&&x.style.setProperty(I,S.getPropertyValue(I))}return x},vv=function(S){var x="";return S&&(x+="<!DOCTYPE ",S.name&&(x+=S.name),S.internalSubset&&(x+=S.internalSubset),S.publicId&&(x+='"'+S.publicId+'"'),S.systemId&&(x+='"'+S.systemId+'"'),x+=">"),x},wO=function(S,x,N){S&&S.defaultView&&(x!==S.defaultView.pageXOffset||N!==S.defaultView.pageYOffset)&&S.defaultView.scrollTo(x,N)},rC=function(S){var x=S[0],I=S[2];x.scrollLeft=S[1],x.scrollTop=I},iC="___html2canvas___pseudoelement_before",sD="___html2canvas___pseudoelement_after",EO='{\n    content: "" !important;\n    display: none !important;\n}',sC=function(S){yv(S,"."+iC+":before"+EO+"\n         ."+sD+":after"+EO)},yv=function(S,x){var N=S.ownerDocument;if(N){var I=N.createElement("style");I.textContent=x,S.appendChild(I)}},oD=function(){function S(){}return S.getOrigin=function(x){var N=S._link;return N?(N.href=x,N.href=N.href,N.protocol+N.hostname+N.port):"about:blank"},S.isSameOrigin=function(x){return S.getOrigin(x)===S._origin},S.setContext=function(x){S._link=x.document.createElement("a"),S._origin=S.getOrigin(x.location.href)},S._origin="about:blank",S}(),_v=function(){function S(x,N){this.context=x,this._options=N,this._cache={}}return S.prototype.addImage=function(x){var N=Promise.resolve();return this.has(x)||(au(x)||aD(x))&&(this._cache[x]=this.loadImage(x)).catch(function(){}),N},S.prototype.match=function(x){return this._cache[x]},S.prototype.loadImage=function(x){return _t(this,void 0,void 0,function(){var N,I,z,J,ie=this;return Ct(this,function(De){switch(De.label){case 0:return N=oD.isSameOrigin(x),I=!ky(x)&&!0===this._options.useCORS&&Ua.SUPPORT_CORS_IMAGES&&!N,z=!ky(x)&&!N&&!au(x)&&"string"==typeof this._options.proxy&&Ua.SUPPORT_CORS_XHR&&!I,N||!1!==this._options.allowTaint||ky(x)||au(x)||z||I?(J=x,z?[4,this.proxy(J)]:[3,2]):[2];case 1:J=De.sent(),De.label=2;case 2:return this.context.logger.debug("Added image "+x.substring(0,256)),[4,new Promise(function(Se,qe){var Je=new Image;Je.onload=function(){return Se(Je)},Je.onerror=qe,(SO(J)||I)&&(Je.crossOrigin="anonymous"),Je.src=J,!0===Je.complete&&setTimeout(function(){return Se(Je)},500),ie._options.imageTimeout>0&&setTimeout(function(){return qe("Timed out ("+ie._options.imageTimeout+"ms) loading image")},ie._options.imageTimeout)})];case 3:return[2,De.sent()]}})})},S.prototype.has=function(x){return typeof this._cache[x]<"u"},S.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},S.prototype.proxy=function(x){var N=this,I=this._options.proxy;if(!I)throw new Error("No proxy defined");var z=x.substring(0,256);return new Promise(function(J,ie){var De=Ua.SUPPORT_RESPONSE_TYPE?"blob":"text",Se=new XMLHttpRequest;Se.onload=function(){if(200===Se.status)if("text"===De)J(Se.response);else{var at=new FileReader;at.addEventListener("load",function(){return J(at.result)},!1),at.addEventListener("error",function(Et){return ie(Et)},!1),at.readAsDataURL(Se.response)}else ie("Failed to proxy resource "+z+" with status code "+Se.status)},Se.onerror=ie;var qe=I.indexOf("?")>-1?"&":"?";if(Se.open("GET",""+I+qe+"url="+encodeURIComponent(x)+"&responseType="+De),"text"!==De&&Se instanceof XMLHttpRequest&&(Se.responseType=De),N._options.imageTimeout){var Je=N._options.imageTimeout;Se.timeout=Je,Se.ontimeout=function(){return ie("Timed out ("+Je+"ms) proxying "+z)}}Se.send()})},S}(),oC=/^data:image\/svg\+xml/i,Uy=/^data:image\/.*;base64,/i,SV=/^data:image\/.*/i,aD=function(S){return Ua.SUPPORT_SVG_DRAWING||!DO(S)},ky=function(S){return SV.test(S)},SO=function(S){return Uy.test(S)},au=function(S){return"blob"===S.substr(0,4)},DO=function(S){return"svg"===S.substr(-3).toLowerCase()||oC.test(S)},Tn=function(){function S(x,N){this.type=0,this.x=x,this.y=N}return S.prototype.add=function(x,N){return new S(this.x+x,this.y+N)},S}(),Td=function(S,x,N){return new Tn(S.x+(x.x-S.x)*N,S.y+(x.y-S.y)*N)},bv=function(){function S(x,N,I,z){this.type=1,this.start=x,this.startControl=N,this.endControl=I,this.end=z}return S.prototype.subdivide=function(x,N){var I=Td(this.start,this.startControl,x),z=Td(this.startControl,this.endControl,x),J=Td(this.endControl,this.end,x),ie=Td(I,z,x),De=Td(z,J,x),Se=Td(ie,De,x);return N?new S(this.start,I,ie,Se):new S(Se,De,J,this.end)},S.prototype.add=function(x,N){return new S(this.start.add(x,N),this.startControl.add(x,N),this.endControl.add(x,N),this.end.add(x,N))},S.prototype.reverse=function(){return new S(this.end,this.endControl,this.startControl,this.start)},S}(),Sl=function(S){return 1===S.type},aC=function(){return function S(x){var N=x.styles,I=x.bounds,z=yA(N.borderTopLeftRadius,I.width,I.height),J=z[0],ie=z[1],De=yA(N.borderTopRightRadius,I.width,I.height),Se=De[0],qe=De[1],Je=yA(N.borderBottomRightRadius,I.width,I.height),at=Je[0],Et=Je[1],In=yA(N.borderBottomLeftRadius,I.width,I.height),ln=In[0],Sn=In[1],Kr=[];Kr.push((J+Se)/I.width),Kr.push((ln+at)/I.width),Kr.push((ie+Sn)/I.height),Kr.push((qe+Et)/I.height);var Xn=Math.max.apply(Math,Kr);Xn>1&&(J/=Xn,ie/=Xn,Se/=Xn,qe/=Xn,at/=Xn,Et/=Xn,ln/=Xn,Sn/=Xn);var Gn=I.width-Se,ki=I.height-Et,Jr=I.width-at,wr=I.height-Sn,gn=N.borderTopWidth,wi=N.borderRightWidth,Ei=N.borderBottomWidth,yr=N.borderLeftWidth,Si=cs(N.paddingTop,x.bounds.width),ba=cs(N.paddingRight,x.bounds.width),Zl=cs(N.paddingBottom,x.bounds.width),ys=cs(N.paddingLeft,x.bounds.width);this.topLeftBorderDoubleOuterBox=J>0||ie>0?Ys(I.left+yr/3,I.top+gn/3,J-yr/3,ie-gn/3,ms.TOP_LEFT):new Tn(I.left+yr/3,I.top+gn/3),this.topRightBorderDoubleOuterBox=J>0||ie>0?Ys(I.left+Gn,I.top+gn/3,Se-wi/3,qe-gn/3,ms.TOP_RIGHT):new Tn(I.left+I.width-wi/3,I.top+gn/3),this.bottomRightBorderDoubleOuterBox=at>0||Et>0?Ys(I.left+Jr,I.top+ki,at-wi/3,Et-Ei/3,ms.BOTTOM_RIGHT):new Tn(I.left+I.width-wi/3,I.top+I.height-Ei/3),this.bottomLeftBorderDoubleOuterBox=ln>0||Sn>0?Ys(I.left+yr/3,I.top+wr,ln-yr/3,Sn-Ei/3,ms.BOTTOM_LEFT):new Tn(I.left+yr/3,I.top+I.height-Ei/3),this.topLeftBorderDoubleInnerBox=J>0||ie>0?Ys(I.left+2*yr/3,I.top+2*gn/3,J-2*yr/3,ie-2*gn/3,ms.TOP_LEFT):new Tn(I.left+2*yr/3,I.top+2*gn/3),this.topRightBorderDoubleInnerBox=J>0||ie>0?Ys(I.left+Gn,I.top+2*gn/3,Se-2*wi/3,qe-2*gn/3,ms.TOP_RIGHT):new Tn(I.left+I.width-2*wi/3,I.top+2*gn/3),this.bottomRightBorderDoubleInnerBox=at>0||Et>0?Ys(I.left+Jr,I.top+ki,at-2*wi/3,Et-2*Ei/3,ms.BOTTOM_RIGHT):new Tn(I.left+I.width-2*wi/3,I.top+I.height-2*Ei/3),this.bottomLeftBorderDoubleInnerBox=ln>0||Sn>0?Ys(I.left+2*yr/3,I.top+wr,ln-2*yr/3,Sn-2*Ei/3,ms.BOTTOM_LEFT):new Tn(I.left+2*yr/3,I.top+I.height-2*Ei/3),this.topLeftBorderStroke=J>0||ie>0?Ys(I.left+yr/2,I.top+gn/2,J-yr/2,ie-gn/2,ms.TOP_LEFT):new Tn(I.left+yr/2,I.top+gn/2),this.topRightBorderStroke=J>0||ie>0?Ys(I.left+Gn,I.top+gn/2,Se-wi/2,qe-gn/2,ms.TOP_RIGHT):new Tn(I.left+I.width-wi/2,I.top+gn/2),this.bottomRightBorderStroke=at>0||Et>0?Ys(I.left+Jr,I.top+ki,at-wi/2,Et-Ei/2,ms.BOTTOM_RIGHT):new Tn(I.left+I.width-wi/2,I.top+I.height-Ei/2),this.bottomLeftBorderStroke=ln>0||Sn>0?Ys(I.left+yr/2,I.top+wr,ln-yr/2,Sn-Ei/2,ms.BOTTOM_LEFT):new Tn(I.left+yr/2,I.top+I.height-Ei/2),this.topLeftBorderBox=J>0||ie>0?Ys(I.left,I.top,J,ie,ms.TOP_LEFT):new Tn(I.left,I.top),this.topRightBorderBox=Se>0||qe>0?Ys(I.left+Gn,I.top,Se,qe,ms.TOP_RIGHT):new Tn(I.left+I.width,I.top),this.bottomRightBorderBox=at>0||Et>0?Ys(I.left+Jr,I.top+ki,at,Et,ms.BOTTOM_RIGHT):new Tn(I.left+I.width,I.top+I.height),this.bottomLeftBorderBox=ln>0||Sn>0?Ys(I.left,I.top+wr,ln,Sn,ms.BOTTOM_LEFT):new Tn(I.left,I.top+I.height),this.topLeftPaddingBox=J>0||ie>0?Ys(I.left+yr,I.top+gn,Math.max(0,J-yr),Math.max(0,ie-gn),ms.TOP_LEFT):new Tn(I.left+yr,I.top+gn),this.topRightPaddingBox=Se>0||qe>0?Ys(I.left+Math.min(Gn,I.width-wi),I.top+gn,Gn>I.width+wi?0:Math.max(0,Se-wi),Math.max(0,qe-gn),ms.TOP_RIGHT):new Tn(I.left+I.width-wi,I.top+gn),this.bottomRightPaddingBox=at>0||Et>0?Ys(I.left+Math.min(Jr,I.width-yr),I.top+Math.min(ki,I.height-Ei),Math.max(0,at-wi),Math.max(0,Et-Ei),ms.BOTTOM_RIGHT):new Tn(I.left+I.width-wi,I.top+I.height-Ei),this.bottomLeftPaddingBox=ln>0||Sn>0?Ys(I.left+yr,I.top+Math.min(wr,I.height-Ei),Math.max(0,ln-yr),Math.max(0,Sn-Ei),ms.BOTTOM_LEFT):new Tn(I.left+yr,I.top+I.height-Ei),this.topLeftContentBox=J>0||ie>0?Ys(I.left+yr+ys,I.top+gn+Si,Math.max(0,J-(yr+ys)),Math.max(0,ie-(gn+Si)),ms.TOP_LEFT):new Tn(I.left+yr+ys,I.top+gn+Si),this.topRightContentBox=Se>0||qe>0?Ys(I.left+Math.min(Gn,I.width+yr+ys),I.top+gn+Si,Gn>I.width+yr+ys?0:Se-yr+ys,qe-(gn+Si),ms.TOP_RIGHT):new Tn(I.left+I.width-(wi+ba),I.top+gn+Si),this.bottomRightContentBox=at>0||Et>0?Ys(I.left+Math.min(Jr,I.width-(yr+ys)),I.top+Math.min(ki,I.height+gn+Si),Math.max(0,at-(wi+ba)),Et-(Ei+Zl),ms.BOTTOM_RIGHT):new Tn(I.left+I.width-(wi+ba),I.top+I.height-(Ei+Zl)),this.bottomLeftContentBox=ln>0||Sn>0?Ys(I.left+yr+ys,I.top+wr,Math.max(0,ln-(yr+ys)),Sn-(Ei+Zl),ms.BOTTOM_LEFT):new Tn(I.left+yr+ys,I.top+I.height-(Ei+Zl))}}(),ms=function(S){return S[S.TOP_LEFT=0]="TOP_LEFT",S[S.TOP_RIGHT=1]="TOP_RIGHT",S[S.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",S[S.BOTTOM_LEFT=3]="BOTTOM_LEFT",S}(ms||{}),Ys=function(S,x,N,I,z){var J=(Math.sqrt(2)-1)/3*4,ie=N*J,De=I*J,Se=S+N,qe=x+I;switch(z){case ms.TOP_LEFT:return new bv(new Tn(S,qe),new Tn(S,qe-De),new Tn(Se-ie,x),new Tn(Se,x));case ms.TOP_RIGHT:return new bv(new Tn(S,x),new Tn(S+ie,x),new Tn(Se,qe-De),new Tn(Se,qe));case ms.BOTTOM_RIGHT:return new bv(new Tn(Se,x),new Tn(Se,x+De),new Tn(S+ie,qe),new Tn(S,qe));default:return new bv(new Tn(Se,qe),new Tn(Se-ie,qe),new Tn(S,x+De),new Tn(S,x))}},wv=function(S){return[S.topLeftBorderBox,S.topRightBorderBox,S.bottomRightBorderBox,S.bottomLeftBorderBox]},Cv=function(S){return[S.topLeftPaddingBox,S.topRightPaddingBox,S.bottomRightPaddingBox,S.bottomLeftPaddingBox]},MO=function(){return function S(x,N,I){this.offsetX=x,this.offsetY=N,this.matrix=I,this.type=0,this.target=6}}(),NA=function(){return function S(x,N){this.path=x,this.target=N,this.type=1}}(),IA=function(){return function S(x){this.opacity=x,this.type=2,this.target=6}}(),lC=function(S){return 1===S.type},FA=function(S,x){return S.length===x.length&&S.some(function(N,I){return N===x[I]})},Go=function(){return function S(x){this.element=x,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),uD=function(){function S(x,N){if(this.container=x,this.parent=N,this.effects=[],this.curves=new aC(this.container),this.container.styles.opacity<1&&this.effects.push(new IA(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new MO(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var ie=wv(this.curves),De=Cv(this.curves);FA(ie,De)?this.effects.push(new NA(ie,6)):(this.effects.push(new NA(ie,2)),this.effects.push(new NA(De,4)))}}return S.prototype.getEffects=function(x){for(var N=-1===[2,3].indexOf(this.container.styles.position),I=this.parent,z=this.effects.slice(0);I;){var J=I.effects.filter(function(Se){return!lC(Se)});if(N||0!==I.container.styles.position||!I.parent){if(z.unshift.apply(z,J),N=-1===[2,3].indexOf(I.container.styles.position),0!==I.container.styles.overflowX){var ie=wv(I.curves),De=Cv(I.curves);FA(ie,De)||z.unshift(new NA(De,6))}}else z.unshift.apply(z,J);I=I.parent}return z.filter(function(Se){return ps(Se.target,x)})},S}(),vs=function(S,x,N,I){S.container.elements.forEach(function(z){var J=ps(z.flags,4),ie=ps(z.flags,2),De=new uD(z,S);ps(z.styles.display,2048)&&I.push(De);var Se=ps(z.flags,8)?[]:I;if(J||ie){var qe=J||z.styles.isPositioned()?N:x,Je=new Go(De);if(z.styles.isPositioned()||z.styles.opacity<1||z.styles.isTransformed()){var at=z.styles.zIndex.order;if(at<0){var Et=0;qe.negativeZIndex.some(function(ln,Sn){return at>ln.element.container.styles.zIndex.order?(Et=Sn,!1):Et>0}),qe.negativeZIndex.splice(Et,0,Je)}else if(at>0){var In=0;qe.positiveZIndex.some(function(ln,Sn){return at>=ln.element.container.styles.zIndex.order?(In=Sn+1,!1):In>0}),qe.positiveZIndex.splice(In,0,Je)}else qe.zeroOrAutoZIndexOrTransformedOrOpacity.push(Je)}else z.styles.isFloating()?qe.nonPositionedFloats.push(Je):qe.nonPositionedInlineLevel.push(Je);vs(De,Je,J?Je:N,Se)}else z.styles.isInlineLevel()?x.inlineLevel.push(De):x.nonInlineLevel.push(De),vs(De,x,N,Se);ps(z.flags,8)&&Hy(z,Se)})},Hy=function(S,x){for(var N=S instanceof Iy?S.start:1,I=S instanceof Iy&&S.reversed,z=0;z<x.length;z++){var J=x[z];J.container instanceof dr&&"number"==typeof J.container.value&&0!==J.container.value&&(N=J.container.value),J.listValue=Yl(N,J.container.styles.listStyleType,!0),N+=I?-1:1}},cC=function(S,x){switch(x){case 0:return Dl(S.topLeftBorderBox,S.topLeftPaddingBox,S.topRightBorderBox,S.topRightPaddingBox);case 1:return Dl(S.topRightBorderBox,S.topRightPaddingBox,S.bottomRightBorderBox,S.bottomRightPaddingBox);case 2:return Dl(S.bottomRightBorderBox,S.bottomRightPaddingBox,S.bottomLeftBorderBox,S.bottomLeftPaddingBox);default:return Dl(S.bottomLeftBorderBox,S.bottomLeftPaddingBox,S.topLeftBorderBox,S.topLeftPaddingBox)}},pg=function(S,x){var N=[];return Sl(S)?N.push(S.subdivide(.5,!1)):N.push(S),Sl(x)?N.push(x.subdivide(.5,!0)):N.push(x),N},Dl=function(S,x,N,I){var z=[];return Sl(S)?z.push(S.subdivide(.5,!1)):z.push(S),Sl(N)?z.push(N.subdivide(.5,!0)):z.push(N),Sl(I)?z.push(I.subdivide(.5,!0).reverse()):z.push(I),Sl(x)?z.push(x.subdivide(.5,!1).reverse()):z.push(x),z},uC=function(S){var N=S.styles;return S.bounds.add(N.borderLeftWidth,N.borderTopWidth,-(N.borderRightWidth+N.borderLeftWidth),-(N.borderTopWidth+N.borderBottomWidth))},Vy=function(S){var x=S.styles,N=S.bounds,I=cs(x.paddingLeft,N.width),z=cs(x.paddingRight,N.width),J=cs(x.paddingTop,N.width),ie=cs(x.paddingBottom,N.width);return N.add(I+x.borderLeftWidth,J+x.borderTopWidth,-(x.borderRightWidth+x.borderLeftWidth+I+z),-(x.borderTopWidth+x.borderBottomWidth+J+ie))},Qy=function(S,x,N){var I=function(S,x){return 0===S?x.bounds:2===S?Vy(x):uC(x)}(mg(S.styles.backgroundOrigin,x),S),z=function(S,x){return 0===S?x.bounds:2===S?Vy(x):uC(x)}(mg(S.styles.backgroundClip,x),S),J=RO(mg(S.styles.backgroundSize,x),N,I),ie=J[0],De=J[1],Se=yA(mg(S.styles.backgroundPosition,x),I.width-ie,I.height-De);return[DV(mg(S.styles.backgroundRepeat,x),Se,J,I,z),Math.round(I.left+Se[0]),Math.round(I.top+Se[1]),ie,De]},gg=function(S){return Ji(S)&&S.value===tg.AUTO},xv=function(S){return"number"==typeof S},RO=function(S,x,N){var I=x[0],z=x[1],J=x[2],ie=S[0],De=S[1];if(!ie)return[0,0];if(Ho(ie)&&De&&Ho(De))return[cs(ie,N.width),cs(De,N.height)];var Se=xv(J);if(Ji(ie)&&(ie.value===tg.CONTAIN||ie.value===tg.COVER))return xv(J)?N.width/N.height<J!=(ie.value===tg.COVER)?[N.width,N.width/J]:[N.height*J,N.height]:[N.width,N.height];var Je=xv(I),at=xv(z),Et=Je||at;if(gg(ie)&&(!De||gg(De)))return Je&&at?[I,z]:Se||Et?Et&&Se?[Je?I:z*J,at?z:I/J]:[Je?I:N.width,at?z:N.height]:[N.width,N.height];if(Se){var Xn=0,Gn=0;return Ho(ie)?Xn=cs(ie,N.width):Ho(De)&&(Gn=cs(De,N.height)),gg(ie)?Xn=Gn*J:(!De||gg(De))&&(Gn=Xn/J),[Xn,Gn]}var ki=null,Jr=null;if(Ho(ie)?ki=cs(ie,N.width):De&&Ho(De)&&(Jr=cs(De,N.height)),null!==ki&&(!De||gg(De))&&(Jr=Je&&at?ki/I*z:N.height),null!==Jr&&gg(ie)&&(ki=Je&&at?Jr/z*I:N.width),null!==ki&&null!==Jr)return[ki,Jr];throw new Error("Unable to calculate background-size for element")},mg=function(S,x){var N=S[x];return typeof N>"u"?S[0]:N},DV=function(S,x,N,I,z){var J=x[0],ie=x[1],De=N[0],Se=N[1];switch(S){case 2:return[new Tn(Math.round(I.left),Math.round(I.top+ie)),new Tn(Math.round(I.left+I.width),Math.round(I.top+ie)),new Tn(Math.round(I.left+I.width),Math.round(Se+I.top+ie)),new Tn(Math.round(I.left),Math.round(Se+I.top+ie))];case 3:return[new Tn(Math.round(I.left+J),Math.round(I.top)),new Tn(Math.round(I.left+J+De),Math.round(I.top)),new Tn(Math.round(I.left+J+De),Math.round(I.height+I.top)),new Tn(Math.round(I.left+J),Math.round(I.height+I.top))];case 1:return[new Tn(Math.round(I.left+J),Math.round(I.top+ie)),new Tn(Math.round(I.left+J+De),Math.round(I.top+ie)),new Tn(Math.round(I.left+J+De),Math.round(I.top+ie+Se)),new Tn(Math.round(I.left+J),Math.round(I.top+ie+Se))];default:return[new Tn(Math.round(z.left),Math.round(z.top)),new Tn(Math.round(z.left+z.width),Math.round(z.top)),new Tn(Math.round(z.left+z.width),Math.round(z.height+z.top)),new Tn(Math.round(z.left),Math.round(z.height+z.top))]}},hC="Hidden Text",Io=function(){function S(x){this._data={},this._document=x}return S.prototype.parseMetrics=function(x,N){var I=this._document.createElement("div"),z=this._document.createElement("img"),J=this._document.createElement("span"),ie=this._document.body;I.style.visibility="hidden",I.style.fontFamily=x,I.style.fontSize=N,I.style.margin="0",I.style.padding="0",I.style.whiteSpace="nowrap",ie.appendChild(I),z.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",z.width=1,z.height=1,z.style.margin="0",z.style.padding="0",z.style.verticalAlign="baseline",J.style.fontFamily=x,J.style.fontSize=N,J.style.margin="0",J.style.padding="0",J.appendChild(this._document.createTextNode(hC)),I.appendChild(J),I.appendChild(z);var De=z.offsetTop-J.offsetTop+2;I.removeChild(J),I.appendChild(this._document.createTextNode(hC)),I.style.lineHeight="normal",z.style.verticalAlign="super";var Se=z.offsetTop-I.offsetTop+2;return ie.removeChild(I),{baseline:De,middle:Se}},S.prototype.getMetrics=function(x,N){var I=x+" "+N;return typeof this._data[I]>"u"&&(this._data[I]=this.parseMetrics(x,N)),this._data[I]},S}(),OO=function(){return function S(x,N){this.context=x,this.options=N}}(),MV=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z._activeEffects=[],z.canvas=I.canvas?I.canvas:document.createElement("canvas"),z.ctx=z.canvas.getContext("2d"),I.canvas||(z.canvas.width=Math.floor(I.width*I.scale),z.canvas.height=Math.floor(I.height*I.scale),z.canvas.style.width=I.width+"px",z.canvas.style.height=I.height+"px"),z.fontMetrics=new Io(document),z.ctx.scale(z.options.scale,z.options.scale),z.ctx.translate(-I.x,-I.y),z.ctx.textBaseline="bottom",z._activeEffects=[],z.context.logger.debug("Canvas renderer initialized ("+I.width+"x"+I.height+") with scale "+I.scale),z}return we(x,S),x.prototype.applyEffects=function(N){for(var I=this;this._activeEffects.length;)this.popEffect();N.forEach(function(z){return I.applyEffect(z)})},x.prototype.applyEffect=function(N){this.ctx.save(),function(S){return 2===S.type}(N)&&(this.ctx.globalAlpha=N.opacity),function(S){return 0===S.type}(N)&&(this.ctx.translate(N.offsetX,N.offsetY),this.ctx.transform(N.matrix[0],N.matrix[1],N.matrix[2],N.matrix[3],N.matrix[4],N.matrix[5]),this.ctx.translate(-N.offsetX,-N.offsetY)),lC(N)&&(this.path(N.path),this.ctx.clip()),this._activeEffects.push(N)},x.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},x.prototype.renderStack=function(N){return _t(this,void 0,void 0,function(){return Ct(this,function(z){switch(z.label){case 0:return N.element.container.styles.isVisible()?[4,this.renderStackContent(N)]:[3,2];case 1:z.sent(),z.label=2;case 2:return[2]}})})},x.prototype.renderNode=function(N){return _t(this,void 0,void 0,function(){return Ct(this,function(I){switch(I.label){case 0:return ps(N.container.flags,16),N.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(N)]:[3,3];case 1:return I.sent(),[4,this.renderNodeContent(N)];case 2:I.sent(),I.label=3;case 3:return[2]}})})},x.prototype.renderTextWithLetterSpacing=function(N,I,z){var J=this;0===I?this.ctx.fillText(N.text,N.bounds.left,N.bounds.top+z):lv(N.text).reduce(function(De,Se){return J.ctx.fillText(Se,De,N.bounds.top+z),De+J.ctx.measureText(Se).width},N.bounds.left)},x.prototype.createFontStyle=function(N){var I=N.fontVariant.filter(function(ie){return"normal"===ie||"small-caps"===ie}).join(""),z=PO(N.fontFamily).join(", "),J=yf(N.fontSize)?""+N.fontSize.number+N.fontSize.unit:N.fontSize.number+"px";return[[N.fontStyle,I,N.fontWeight,J,z].join(" "),z,J]},x.prototype.renderTextNode=function(N,I){return _t(this,void 0,void 0,function(){var z,ie,De,Se,qe,Je,at,Et=this;return Ct(this,function(In){return z=this.createFontStyle(I),ie=z[1],De=z[2],this.ctx.font=z[0],this.ctx.direction=1===I.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Se=this.fontMetrics.getMetrics(ie,De),qe=Se.baseline,Je=Se.middle,at=I.paintOrder,N.textBounds.forEach(function(ln){at.forEach(function(Sn){switch(Sn){case 0:Et.ctx.fillStyle=es(I.color),Et.renderTextWithLetterSpacing(ln,I.letterSpacing,qe);var Kr=I.textShadow;Kr.length&&ln.text.trim().length&&(Kr.slice(0).reverse().forEach(function(Xn){Et.ctx.shadowColor=es(Xn.color),Et.ctx.shadowOffsetX=Xn.offsetX.number*Et.options.scale,Et.ctx.shadowOffsetY=Xn.offsetY.number*Et.options.scale,Et.ctx.shadowBlur=Xn.blur.number,Et.renderTextWithLetterSpacing(ln,I.letterSpacing,qe)}),Et.ctx.shadowColor="",Et.ctx.shadowOffsetX=0,Et.ctx.shadowOffsetY=0,Et.ctx.shadowBlur=0),I.textDecorationLine.length&&(Et.ctx.fillStyle=es(I.textDecorationColor||I.color),I.textDecorationLine.forEach(function(Xn){switch(Xn){case 1:Et.ctx.fillRect(ln.bounds.left,Math.round(ln.bounds.top+qe),ln.bounds.width,1);break;case 2:Et.ctx.fillRect(ln.bounds.left,Math.round(ln.bounds.top),ln.bounds.width,1);break;case 3:Et.ctx.fillRect(ln.bounds.left,Math.ceil(ln.bounds.top+Je),ln.bounds.width,1)}}));break;case 1:I.webkitTextStrokeWidth&&ln.text.trim().length&&(Et.ctx.strokeStyle=es(I.webkitTextStrokeColor),Et.ctx.lineWidth=I.webkitTextStrokeWidth,Et.ctx.lineJoin=window.chrome?"miter":"round",Et.ctx.strokeText(ln.text,ln.bounds.left,ln.bounds.top+qe)),Et.ctx.strokeStyle="",Et.ctx.lineWidth=0,Et.ctx.lineJoin="miter"}})}),[2]})})},x.prototype.renderReplacedElement=function(N,I,z){if(z&&N.intrinsicWidth>0&&N.intrinsicHeight>0){var J=Vy(N),ie=Cv(I);this.path(ie),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(z,0,0,N.intrinsicWidth,N.intrinsicHeight,J.left,J.top,J.width,J.height),this.ctx.restore()}},x.prototype.renderNodeContent=function(N){return _t(this,void 0,void 0,function(){var I,z,J,ie,De,Je,at,Et,ln,Sn,Kr,Xn,Gn,ki,Jr,wr;return Ct(this,function(gn){switch(gn.label){case 0:this.applyEffects(N.getEffects(4)),z=N.curves,J=(I=N.container).styles,ie=0,De=I.textNodes,gn.label=1;case 1:return ie<De.length?[4,this.renderTextNode(De[ie],J)]:[3,4];case 2:gn.sent(),gn.label=3;case 3:return ie++,[3,1];case 4:if(!(I instanceof hv))return[3,8];gn.label=5;case 5:return gn.trys.push([5,7,,8]),[4,this.context.cache.match(I.src)];case 6:return Gn=gn.sent(),this.renderReplacedElement(I,z,Gn),[3,8];case 7:return gn.sent(),this.context.logger.error("Error loading image "+I.src),[3,8];case 8:if(I instanceof Ny&&this.renderReplacedElement(I,z,I.canvas),!(I instanceof Sd))return[3,12];gn.label=9;case 9:return gn.trys.push([9,11,,12]),[4,this.context.cache.match(I.svg)];case 10:return Gn=gn.sent(),this.renderReplacedElement(I,z,Gn),[3,12];case 11:return gn.sent(),this.context.logger.error("Error loading svg "+I.svg.substring(0,255)),[3,12];case 12:return I instanceof xt&&I.tree?[4,new x(this.context,{scale:this.options.scale,backgroundColor:I.backgroundColor,x:0,y:0,width:I.width,height:I.height}).render(I.tree)]:[3,14];case 13:Je=gn.sent(),I.width&&I.height&&this.ctx.drawImage(Je,0,0,I.width,I.height,I.bounds.left,I.bounds.top,I.bounds.width,I.bounds.height),gn.label=14;case 14:if(I instanceof Xw&&(at=Math.min(I.bounds.width,I.bounds.height),I.type===fv?I.checked&&(this.ctx.save(),this.path([new Tn(I.bounds.left+.39363*at,I.bounds.top+.79*at),new Tn(I.bounds.left+.16*at,I.bounds.top+.5549*at),new Tn(I.bounds.left+.27347*at,I.bounds.top+.44071*at),new Tn(I.bounds.left+.39694*at,I.bounds.top+.5649*at),new Tn(I.bounds.left+.72983*at,I.bounds.top+.23*at),new Tn(I.bounds.left+.84*at,I.bounds.top+.34085*at),new Tn(I.bounds.left+.39363*at,I.bounds.top+.79*at)]),this.ctx.fillStyle=es(z2),this.ctx.fill(),this.ctx.restore()):I.type===Cf&&I.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(I.bounds.left+at/2,I.bounds.top+at/2,at/4,0,2*Math.PI,!0),this.ctx.fillStyle=es(z2),this.ctx.fill(),this.ctx.restore())),fC(I)&&I.value.length){switch(Et=this.createFontStyle(J),ln=this.fontMetrics.getMetrics(Jr=Et[0],Et[1]).baseline,this.ctx.font=Jr,this.ctx.fillStyle=es(J.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=AD(I.styles.textAlign),wr=Vy(I),Sn=0,I.styles.textAlign){case 1:Sn+=wr.width/2;break;case 2:Sn+=wr.width}Kr=wr.add(Sn,0,0,-wr.height/2+1),this.ctx.save(),this.path([new Tn(wr.left,wr.top),new Tn(wr.left+wr.width,wr.top),new Tn(wr.left+wr.width,wr.top+wr.height),new Tn(wr.left,wr.top+wr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new wf(I.value,Kr),J.letterSpacing,ln),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ps(I.styles.display,2048))return[3,20];if(null===I.styles.listStyleImage)return[3,19];if(0!==(Xn=I.styles.listStyleImage).type)return[3,18];Gn=void 0,ki=Xn.url,gn.label=15;case 15:return gn.trys.push([15,17,,18]),[4,this.context.cache.match(ki)];case 16:return Gn=gn.sent(),this.ctx.drawImage(Gn,I.bounds.left-(Gn.width+10),I.bounds.top),[3,18];case 17:return gn.sent(),this.context.logger.error("Error loading list-style-image "+ki),[3,18];case 18:return[3,20];case 19:N.listValue&&-1!==I.styles.listStyleType&&(Jr=this.createFontStyle(J)[0],this.ctx.font=Jr,this.ctx.fillStyle=es(J.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",wr=new Mn(I.bounds.left,I.bounds.top+cs(I.styles.paddingTop,I.bounds.width),I.bounds.width,xd(J.lineHeight,J.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new wf(N.listValue,wr),J.letterSpacing,xd(J.lineHeight,J.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),gn.label=20;case 20:return[2]}})})},x.prototype.renderStackContent=function(N){return _t(this,void 0,void 0,function(){var I,z,J,ie,De,Se,qe,Je,at,Et,In,ln,Sn,Kr;return Ct(this,function(Gn){switch(Gn.label){case 0:return ps(N.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(N.element)];case 1:Gn.sent(),I=0,z=N.negativeZIndex,Gn.label=2;case 2:return I<z.length?[4,this.renderStack(z[I])]:[3,5];case 3:Gn.sent(),Gn.label=4;case 4:return I++,[3,2];case 5:return[4,this.renderNodeContent(N.element)];case 6:Gn.sent(),J=0,ie=N.nonInlineLevel,Gn.label=7;case 7:return J<ie.length?[4,this.renderNode(ie[J])]:[3,10];case 8:Gn.sent(),Gn.label=9;case 9:return J++,[3,7];case 10:De=0,Se=N.nonPositionedFloats,Gn.label=11;case 11:return De<Se.length?[4,this.renderStack(Se[De])]:[3,14];case 12:Gn.sent(),Gn.label=13;case 13:return De++,[3,11];case 14:qe=0,Je=N.nonPositionedInlineLevel,Gn.label=15;case 15:return qe<Je.length?[4,this.renderStack(Je[qe])]:[3,18];case 16:Gn.sent(),Gn.label=17;case 17:return qe++,[3,15];case 18:at=0,Et=N.inlineLevel,Gn.label=19;case 19:return at<Et.length?[4,this.renderNode(Et[at])]:[3,22];case 20:Gn.sent(),Gn.label=21;case 21:return at++,[3,19];case 22:In=0,ln=N.zeroOrAutoZIndexOrTransformedOrOpacity,Gn.label=23;case 23:return In<ln.length?[4,this.renderStack(ln[In])]:[3,26];case 24:Gn.sent(),Gn.label=25;case 25:return In++,[3,23];case 26:Sn=0,Kr=N.positiveZIndex,Gn.label=27;case 27:return Sn<Kr.length?[4,this.renderStack(Kr[Sn])]:[3,30];case 28:Gn.sent(),Gn.label=29;case 29:return Sn++,[3,27];case 30:return[2]}})})},x.prototype.mask=function(N){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(N.slice(0).reverse()),this.ctx.closePath()},x.prototype.path=function(N){this.ctx.beginPath(),this.formatPath(N),this.ctx.closePath()},x.prototype.formatPath=function(N){var I=this;N.forEach(function(z,J){var ie=Sl(z)?z.start:z;0===J?I.ctx.moveTo(ie.x,ie.y):I.ctx.lineTo(ie.x,ie.y),Sl(z)&&I.ctx.bezierCurveTo(z.startControl.x,z.startControl.y,z.endControl.x,z.endControl.y,z.end.x,z.end.y)})},x.prototype.renderRepeat=function(N,I,z,J){this.path(N),this.ctx.fillStyle=I,this.ctx.translate(z,J),this.ctx.fill(),this.ctx.translate(-z,-J)},x.prototype.resizeImage=function(N,I,z){var J;if(N.width===I&&N.height===z)return N;var De=(null!==(J=this.canvas.ownerDocument)&&void 0!==J?J:document).createElement("canvas");return De.width=Math.max(1,I),De.height=Math.max(1,z),De.getContext("2d").drawImage(N,0,0,N.width,N.height,0,0,I,z),De},x.prototype.renderBackgroundImage=function(N){return _t(this,void 0,void 0,function(){var I,z,J,ie,De;return Ct(this,function(qe){switch(qe.label){case 0:I=N.styles.backgroundImage.length-1,z=function(Je){var at,Et,In,ln,Sn,Kr,Xn,Gn,ki,Jr,wr,gn,wi,Ei,yr,Si,ba,Zl,ys,ka,Df,Jl,Ml,RA,ju,Nd,OA,PA,Mf,Id,Bh;return Ct(this,function(LA){switch(LA.label){case 0:if(0!==Je.type)return[3,5];at=void 0,Et=Je.url,LA.label=1;case 1:return LA.trys.push([1,3,,4]),[4,J.context.cache.match(Et)];case 2:return at=LA.sent(),[3,4];case 3:return LA.sent(),J.context.logger.error("Error loading background-image "+Et),[3,4];case 4:return at&&(In=Qy(N,I,[at.width,at.height,at.width/at.height]),Si=In[0],Jl=In[1],Ml=In[2],Ei=J.ctx.createPattern(J.resizeImage(at,ys=In[3],ka=In[4]),"repeat"),J.renderRepeat(Si,Ei,Jl,Ml)),[3,6];case 5:!function(S){return 1===S.type}(Je)?function(S){return 2===S.type}(Je)&&(yr=Qy(N,I,[null,null,null]),Si=yr[0],ba=yr[1],Zl=yr[2],ka=yr[4],Jl=cs((Df=0===Je.position.length?[Ve]:Je.position)[0],ys=yr[3]),Ml=cs(Df[Df.length-1],ka),RA=function(S,x,N,I,z){var J=0,ie=0;switch(S.size){case 0:0===S.shape?J=ie=Math.min(Math.abs(x),Math.abs(x-I),Math.abs(N),Math.abs(N-z)):1===S.shape&&(J=Math.min(Math.abs(x),Math.abs(x-I)),ie=Math.min(Math.abs(N),Math.abs(N-z)));break;case 2:if(0===S.shape)J=ie=Math.min(Lr(x,N),Lr(x,N-z),Lr(x-I,N),Lr(x-I,N-z));else if(1===S.shape){var De=Math.min(Math.abs(N),Math.abs(N-z))/Math.min(Math.abs(x),Math.abs(x-I)),Se=bf(I,z,x,N,!0);ie=De*(J=Lr(Se[0]-x,(Se[1]-N)/De))}break;case 1:0===S.shape?J=ie=Math.max(Math.abs(x),Math.abs(x-I),Math.abs(N),Math.abs(N-z)):1===S.shape&&(J=Math.max(Math.abs(x),Math.abs(x-I)),ie=Math.max(Math.abs(N),Math.abs(N-z)));break;case 3:if(0===S.shape)J=ie=Math.max(Lr(x,N),Lr(x,N-z),Lr(x-I,N),Lr(x-I,N-z));else if(1===S.shape){De=Math.max(Math.abs(N),Math.abs(N-z))/Math.max(Math.abs(x),Math.abs(x-I));var at=bf(I,z,x,N,!1);ie=De*(J=Lr(at[0]-x,(at[1]-N)/De))}}return Array.isArray(S.size)&&(J=cs(S.size[0],I),ie=2===S.size.length?cs(S.size[1],z):J),[J,ie]}(Je,Jl,Ml,ys,ka),Nd=RA[1],(ju=RA[0])>0&&Nd>0&&(OA=J.ctx.createRadialGradient(ba+Jl,Zl+Ml,0,ba+Jl,Zl+Ml,ju),TR(Je.stops,2*ju).forEach(function(Fd){return OA.addColorStop(Fd.stop,es(Fd.color))}),J.path(Si),J.ctx.fillStyle=OA,ju!==Nd?(PA=N.bounds.left+.5*N.bounds.width,Mf=N.bounds.top+.5*N.bounds.height,Bh=1/(Id=Nd/ju),J.ctx.save(),J.ctx.translate(PA,Mf),J.ctx.transform(1,0,0,Id,0,0),J.ctx.translate(-PA,-Mf),J.ctx.fillRect(ba,Bh*(Zl-Mf)+Mf,ys,ka*Bh),J.ctx.restore()):J.ctx.fill())):(ln=Qy(N,I,[null,null,null]),Si=ln[0],Jl=ln[1],Ml=ln[2],Sn=wh(Je.angle,ys=ln[3],ka=ln[4]),Kr=Sn[0],Xn=Sn[1],Gn=Sn[2],ki=Sn[3],Jr=Sn[4],(wr=document.createElement("canvas")).width=ys,wr.height=ka,gn=wr.getContext("2d"),wi=gn.createLinearGradient(Xn,ki,Gn,Jr),TR(Je.stops,Kr).forEach(function(Fd){return wi.addColorStop(Fd.stop,es(Fd.color))}),gn.fillStyle=wi,gn.fillRect(0,0,ys,ka),ys>0&&ka>0&&(Ei=J.ctx.createPattern(wr,"repeat"),J.renderRepeat(Si,Ei,Jl,Ml))),LA.label=6;case 6:return I--,[2]}})},J=this,ie=0,De=N.styles.backgroundImage.slice(0).reverse(),qe.label=1;case 1:return ie<De.length?[5,z(De[ie])]:[3,4];case 2:qe.sent(),qe.label=3;case 3:return ie++,[3,1];case 4:return[2]}})})},x.prototype.renderSolidBorder=function(N,I,z){return _t(this,void 0,void 0,function(){return Ct(this,function(J){return this.path(cC(z,I)),this.ctx.fillStyle=es(N),this.ctx.fill(),[2]})})},x.prototype.renderDoubleBorder=function(N,I,z,J){return _t(this,void 0,void 0,function(){var ie,De;return Ct(this,function(Se){switch(Se.label){case 0:return I<3?[4,this.renderSolidBorder(N,z,J)]:[3,2];case 1:return Se.sent(),[2];case 2:return ie=function(S,x){switch(x){case 0:return Dl(S.topLeftBorderBox,S.topLeftBorderDoubleOuterBox,S.topRightBorderBox,S.topRightBorderDoubleOuterBox);case 1:return Dl(S.topRightBorderBox,S.topRightBorderDoubleOuterBox,S.bottomRightBorderBox,S.bottomRightBorderDoubleOuterBox);case 2:return Dl(S.bottomRightBorderBox,S.bottomRightBorderDoubleOuterBox,S.bottomLeftBorderBox,S.bottomLeftBorderDoubleOuterBox);default:return Dl(S.bottomLeftBorderBox,S.bottomLeftBorderDoubleOuterBox,S.topLeftBorderBox,S.topLeftBorderDoubleOuterBox)}}(J,z),this.path(ie),this.ctx.fillStyle=es(N),this.ctx.fill(),De=function(S,x){switch(x){case 0:return Dl(S.topLeftBorderDoubleInnerBox,S.topLeftPaddingBox,S.topRightBorderDoubleInnerBox,S.topRightPaddingBox);case 1:return Dl(S.topRightBorderDoubleInnerBox,S.topRightPaddingBox,S.bottomRightBorderDoubleInnerBox,S.bottomRightPaddingBox);case 2:return Dl(S.bottomRightBorderDoubleInnerBox,S.bottomRightPaddingBox,S.bottomLeftBorderDoubleInnerBox,S.bottomLeftPaddingBox);default:return Dl(S.bottomLeftBorderDoubleInnerBox,S.bottomLeftPaddingBox,S.topLeftBorderDoubleInnerBox,S.topLeftPaddingBox)}}(J,z),this.path(De),this.ctx.fill(),[2]}})})},x.prototype.renderNodeBackgroundAndBorders=function(N){return _t(this,void 0,void 0,function(){var I,z,J,ie,De,Se,qe,Je,at=this;return Ct(this,function(Et){switch(Et.label){case 0:return this.applyEffects(N.getEffects(2)),z=!bd((I=N.container.styles).backgroundColor)||I.backgroundImage.length,J=[{style:I.borderTopStyle,color:I.borderTopColor,width:I.borderTopWidth},{style:I.borderRightStyle,color:I.borderRightColor,width:I.borderRightWidth},{style:I.borderBottomStyle,color:I.borderBottomColor,width:I.borderBottomWidth},{style:I.borderLeftStyle,color:I.borderLeftColor,width:I.borderLeftWidth}],ie=qu(mg(I.backgroundClip,0),N.curves),z||I.boxShadow.length?(this.ctx.save(),this.path(ie),this.ctx.clip(),bd(I.backgroundColor)||(this.ctx.fillStyle=es(I.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(N.container)]):[3,2];case 1:Et.sent(),this.ctx.restore(),I.boxShadow.slice(0).reverse().forEach(function(In){at.ctx.save();var ln=wv(N.curves),Sn=In.inset?0:1e4,Kr=function(S,x,N,I,z){return S.map(function(J,ie){switch(ie){case 0:return J.add(x,N);case 1:return J.add(x+I,N);case 2:return J.add(x+I,N+z);case 3:return J.add(x,N+z)}return J})}(ln,(In.inset?1:-1)*In.spread.number-Sn,(In.inset?1:-1)*In.spread.number,In.spread.number*(In.inset?-2:2),In.spread.number*(In.inset?-2:2));In.inset?(at.path(ln),at.ctx.clip(),at.mask(Kr)):(at.mask(ln),at.ctx.clip(),at.path(Kr)),at.ctx.shadowOffsetX=In.offsetX.number+Sn,at.ctx.shadowOffsetY=In.offsetY.number,at.ctx.shadowColor=es(In.color),at.ctx.shadowBlur=In.blur.number,at.ctx.fillStyle=In.inset?es(In.color):"rgba(0,0,0,1)",at.ctx.fill(),at.ctx.restore()}),Et.label=2;case 2:De=0,Se=0,qe=J,Et.label=3;case 3:return Se<qe.length?0!==(Je=qe[Se]).style&&!bd(Je.color)&&Je.width>0?2!==Je.style?[3,5]:[4,this.renderDashedDottedBorder(Je.color,Je.width,De,N.curves,2)]:[3,11]:[3,13];case 4:return Et.sent(),[3,11];case 5:return 3!==Je.style?[3,7]:[4,this.renderDashedDottedBorder(Je.color,Je.width,De,N.curves,3)];case 6:return Et.sent(),[3,11];case 7:return 4!==Je.style?[3,9]:[4,this.renderDoubleBorder(Je.color,Je.width,De,N.curves)];case 8:return Et.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Je.color,De,N.curves)];case 10:Et.sent(),Et.label=11;case 11:De++,Et.label=12;case 12:return Se++,[3,3];case 13:return[2]}})})},x.prototype.renderDashedDottedBorder=function(N,I,z,J,ie){return _t(this,void 0,void 0,function(){var De,Se,qe,Je,at,Et,In,ln,Sn,Kr,Xn,Gn,ki,Jr,wr,gn;return Ct(this,function(wi){return this.ctx.save(),De=function(S,x){switch(x){case 0:return pg(S.topLeftBorderStroke,S.topRightBorderStroke);case 1:return pg(S.topRightBorderStroke,S.bottomRightBorderStroke);case 2:return pg(S.bottomRightBorderStroke,S.bottomLeftBorderStroke);default:return pg(S.bottomLeftBorderStroke,S.topLeftBorderStroke)}}(J,z),Se=cC(J,z),2===ie&&(this.path(Se),this.ctx.clip()),Sl(Se[0])?(qe=Se[0].start.x,Je=Se[0].start.y):(qe=Se[0].x,Je=Se[0].y),Sl(Se[1])?(at=Se[1].end.x,Et=Se[1].end.y):(at=Se[1].x,Et=Se[1].y),In=0===z||2===z?Math.abs(qe-at):Math.abs(Je-Et),this.ctx.beginPath(),this.formatPath(3===ie?De:Se.slice(0,2)),ln=I<3?3*I:2*I,Sn=I<3?2*I:I,3===ie&&(ln=I,Sn=I),Kr=!0,In<=2*ln?Kr=!1:In<=2*ln+Sn?(ln*=Xn=In/(2*ln+Sn),Sn*=Xn):(Gn=Math.floor((In+Sn)/(ln+Sn)),ki=(In-Gn*ln)/(Gn-1),Sn=(Jr=(In-(Gn+1)*ln)/Gn)<=0||Math.abs(Sn-ki)<Math.abs(Sn-Jr)?ki:Jr),Kr&&this.ctx.setLineDash(3===ie?[0,ln+Sn]:[ln,Sn]),3===ie?(this.ctx.lineCap="round",this.ctx.lineWidth=I):this.ctx.lineWidth=2*I+1.1,this.ctx.strokeStyle=es(N),this.ctx.stroke(),this.ctx.setLineDash([]),2===ie&&(Sl(Se[0])&&(wr=Se[3],gn=Se[0],this.ctx.beginPath(),this.formatPath([new Tn(wr.end.x,wr.end.y),new Tn(gn.start.x,gn.start.y)]),this.ctx.stroke()),Sl(Se[1])&&(wr=Se[1],gn=Se[2],this.ctx.beginPath(),this.formatPath([new Tn(wr.end.x,wr.end.y),new Tn(gn.start.x,gn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},x.prototype.render=function(N){return _t(this,void 0,void 0,function(){var I;return Ct(this,function(z){switch(z.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=es(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),I=function(S){var x=new uD(S,null),N=new Go(x),I=[];return vs(x,N,N,I),Hy(x.container,I),N}(N),[4,this.renderStack(I)];case 1:return z.sent(),this.applyEffects([]),[2,this.canvas]}})})},x}(OO),fC=function(S){return S instanceof q2||S instanceof G2||S instanceof Xw&&S.type!==Cf&&S.type!==fv},qu=function(S,x){switch(S){case 0:return wv(x);case 2:return function(S){return[S.topLeftContentBox,S.topRightContentBox,S.bottomRightContentBox,S.bottomLeftContentBox]}(x);default:return Cv(x)}},AD=function(S){switch(S){case 1:return"center";case 2:return"right";default:return"left"}},Th=["-apple-system","system-ui"],PO=function(S){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?S.filter(function(x){return-1===Th.indexOf(x)}):S},LO=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z.canvas=I.canvas?I.canvas:document.createElement("canvas"),z.ctx=z.canvas.getContext("2d"),z.options=I,z.canvas.width=Math.floor(I.width*I.scale),z.canvas.height=Math.floor(I.height*I.scale),z.canvas.style.width=I.width+"px",z.canvas.style.height=I.height+"px",z.ctx.scale(z.options.scale,z.options.scale),z.ctx.translate(-I.x,-I.y),z.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+I.width+"x"+I.height+" at "+I.x+","+I.y+") with scale "+I.scale),z}return we(x,S),x.prototype.render=function(N){return _t(this,void 0,void 0,function(){var I,z;return Ct(this,function(J){switch(J.label){case 0:return I=DA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,N),[4,pD(I)];case 1:return z=J.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=es(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(z,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},x}(OO),pD=function(S){return new Promise(function(x,N){var I=new Image;I.onload=function(){x(I)},I.onerror=N,I.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(S))})},TV=function(){function S(x){var I=x.enabled;this.id=x.id,this.enabled=I,this.start=Date.now()}return S.prototype.debug=function(){for(var x=[],N=0;N<arguments.length;N++)x[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,dn([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},S.prototype.getTime=function(){return Date.now()-this.start},S.prototype.info=function(){for(var x=[],N=0;N<arguments.length;N++)x[N]=arguments[N];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,dn([this.id,this.getTime()+"ms"],x))},S.prototype.warn=function(){for(var x=[],N=0;N<arguments.length;N++)x[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,dn([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},S.prototype.error=function(){for(var x=[],N=0;N<arguments.length;N++)x[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,dn([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},S.instances={},S}(),BV=function(){function S(x,N){var I;this.windowBounds=N,this.instanceName="#"+S.instanceCount++,this.logger=new TV({id:this.instanceName,enabled:x.logging}),this.cache=null!==(I=x.cache)&&void 0!==I?I:new _v(this,x)}return S.instanceCount=1,S}();typeof window<"u"&&oD.setContext(window);var IV=function(S,x){return _t(void 0,void 0,void 0,function(){var N,I,z,J,ie,De,Se,qe,Je,at,Et,In,ln,Sn,Kr,Xn,Gn,ki,Jr,wr,gn,Ei,yr,Si,ba,Zl,ys,ka,Df,Jl,Ml,RA,ju,Nd,OA,PA,Mf,Id;return Ct(this,function(Bh){switch(Bh.label){case 0:if(!S||"object"!=typeof S)return[2,Promise.reject("Invalid element provided as first argument")];if(!(N=S.ownerDocument))throw new Error("Element is not attached to a Document");if(!(I=N.defaultView))throw new Error("Document is not attached to a Window");return z={allowTaint:null!==(Ei=x.allowTaint)&&void 0!==Ei&&Ei,imageTimeout:null!==(yr=x.imageTimeout)&&void 0!==yr?yr:15e3,proxy:x.proxy,useCORS:null!==(Si=x.useCORS)&&void 0!==Si&&Si},J=St({logging:null===(ba=x.logging)||void 0===ba||ba,cache:x.cache},z),ie={windowWidth:null!==(Zl=x.windowWidth)&&void 0!==Zl?Zl:I.innerWidth,windowHeight:null!==(ys=x.windowHeight)&&void 0!==ys?ys:I.innerHeight,scrollX:null!==(ka=x.scrollX)&&void 0!==ka?ka:I.pageXOffset,scrollY:null!==(Df=x.scrollY)&&void 0!==Df?Df:I.pageYOffset},De=new Mn(ie.scrollX,ie.scrollY,ie.windowWidth,ie.windowHeight),Se=new BV(J,De),qe=null!==(Jl=x.foreignObjectRendering)&&void 0!==Jl&&Jl,Je={allowTaint:null!==(Ml=x.allowTaint)&&void 0!==Ml&&Ml,onclone:x.onclone,ignoreElements:x.ignoreElements,inlineImages:qe,copyStyles:qe},Se.logger.debug("Starting document clone with size "+De.width+"x"+De.height+" scrolled to "+-De.left+","+-De.top),at=new mv(Se,S,Je),(Et=at.clonedReferenceElement)?[4,at.toIFrame(N,De)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return In=Bh.sent(),ln=Tc(Et)||function(S){return"HTML"===S.tagName}(Et)?function(S){var x=S.body,N=S.documentElement;if(!x||!N)throw new Error("Unable to get document size");var I=Math.max(Math.max(x.scrollWidth,N.scrollWidth),Math.max(x.offsetWidth,N.offsetWidth),Math.max(x.clientWidth,N.clientWidth)),z=Math.max(Math.max(x.scrollHeight,N.scrollHeight),Math.max(x.offsetHeight,N.offsetHeight),Math.max(x.clientHeight,N.clientHeight));return new Mn(0,0,I,z)}(Et.ownerDocument):zn(Se,Et),Sn=ln.width,Kr=ln.height,Xn=ln.left,Gn=ln.top,ki=FV(Se,Et,x.backgroundColor),Jr={canvas:x.canvas,backgroundColor:ki,scale:null!==(ju=null!==(RA=x.scale)&&void 0!==RA?RA:I.devicePixelRatio)&&void 0!==ju?ju:1,x:(null!==(Nd=x.x)&&void 0!==Nd?Nd:0)+Xn,y:(null!==(OA=x.y)&&void 0!==OA?OA:0)+Gn,width:null!==(PA=x.width)&&void 0!==PA?PA:Math.ceil(Sn),height:null!==(Mf=x.height)&&void 0!==Mf?Mf:Math.ceil(Kr)},qe?(Se.logger.debug("Document cloned, using foreign object rendering"),[4,new LO(Se,Jr).render(Et)]):[3,3];case 2:return wr=Bh.sent(),[3,5];case 3:return Se.logger.debug("Document cloned, element located at "+Xn+","+Gn+" with size "+Sn+"x"+Kr+" using computed rendering"),Se.logger.debug("Starting DOM parsing"),gn=us(Se,Et),ki===gn.styles.backgroundColor&&(gn.styles.backgroundColor=wd.TRANSPARENT),Se.logger.debug("Starting renderer for element at "+Jr.x+","+Jr.y+" with size "+Jr.width+"x"+Jr.height),[4,new MV(Se,Jr).render(gn)];case 4:wr=Bh.sent(),Bh.label=5;case 5:return(!(null!==(Id=x.removeContainer)&&void 0!==Id)||Id)&&(mv.destroy(In)||Se.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Se.logger.debug("Finished rendering"),[2,wr]}})})},FV=function(S,x,N){var I=x.ownerDocument,z=I.documentElement?Jp(S,getComputedStyle(I.documentElement).backgroundColor):wd.TRANSPARENT,J=I.body?Jp(S,getComputedStyle(I.body).backgroundColor):wd.TRANSPARENT,ie="string"==typeof N?Jp(S,N):null===N?wd.TRANSPARENT:4294967295;return x===I.documentElement?bd(z)?bd(J)?ie:J:z:ie};return function(S,x){return void 0===x&&(x={}),IV(S,x)}}()},7955:gr=>{gr.exports=function Kn(we,St){"use strict";var Yt,nn,_t=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,Ct=/(^[ ]*|[ ]*$)/g,dn=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,Mn=/^0x[0-9a-f]+$/i,zn=/^0/,Hn=function(Hs){return Kn.insensitive&&(""+Hs).toLowerCase()||""+Hs},bt=Hn(we).replace(Ct,"")||"",Ge=Hn(St).replace(Ct,"")||"",Ot=bt.replace(_t,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),Bt=Ge.replace(_t,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),mt=parseInt(bt.match(Mn),16)||1!==Ot.length&&bt.match(dn)&&Date.parse(bt),zt=parseInt(Ge.match(Mn),16)||mt&&Ge.match(dn)&&Date.parse(Ge)||null;if(zt){if(mt<zt)return-1;if(mt>zt)return 1}for(var Yr=0,fs=Math.max(Ot.length,Bt.length);Yr<fs;Yr++){if(Yt=!(Ot[Yr]||"").match(zn)&&parseFloat(Ot[Yr])||Ot[Yr]||0,nn=!(Bt[Yr]||"").match(zn)&&parseFloat(Bt[Yr])||Bt[Yr]||0,isNaN(Yt)!==isNaN(nn))return isNaN(Yt)?1:-1;if(typeof Yt!=typeof nn&&(Yt+="",nn+=""),Yt<nn)return-1;if(Yt>nn)return 1}return 0}},8814:(gr,Kn,we)=>{var St=we(2495),_t=we(7850),Ct=we(5704),dn=we(8114),Mn=we(9040),zn=we(4478),Hn=we(7454);Hn.alea=St,Hn.xor128=_t,Hn.xorwow=Ct,Hn.xorshift7=dn,Hn.xor4096=Mn,Hn.tychei=zn,gr.exports=Hn},2495:function(gr,Kn,we){var St;!function(_t,Ct,dn){function Mn(Ge){var Ot=this,Bt=function bt(){var Ge=4022871197;return function(Bt){Bt=String(Bt);for(var mt=0;mt<Bt.length;mt++){var zt=.02519603282416938*(Ge+=Bt.charCodeAt(mt));zt-=Ge=zt>>>0,Ge=(zt*=Ge)>>>0,Ge+=4294967296*(zt-=Ge)}return 2.3283064365386963e-10*(Ge>>>0)}}();Ot.next=function(){var mt=2091639*Ot.s0+2.3283064365386963e-10*Ot.c;return Ot.s0=Ot.s1,Ot.s1=Ot.s2,Ot.s2=mt-(Ot.c=0|mt)},Ot.c=1,Ot.s0=Bt(" "),Ot.s1=Bt(" "),Ot.s2=Bt(" "),Ot.s0-=Bt(Ge),Ot.s0<0&&(Ot.s0+=1),Ot.s1-=Bt(Ge),Ot.s1<0&&(Ot.s1+=1),Ot.s2-=Bt(Ge),Ot.s2<0&&(Ot.s2+=1),Bt=null}function zn(Ge,Ot){return Ot.c=Ge.c,Ot.s0=Ge.s0,Ot.s1=Ge.s1,Ot.s2=Ge.s2,Ot}function Hn(Ge,Ot){var Bt=new Mn(Ge),mt=Ot&&Ot.state,zt=Bt.next;return zt.int32=function(){return 4294967296*Bt.next()|0},zt.double=function(){return zt()+11102230246251565e-32*(2097152*zt()|0)},zt.quick=zt,mt&&("object"==typeof mt&&zn(mt,Bt),zt.state=function(){return zn(Bt,{})}),zt}Ct&&Ct.exports?Ct.exports=Hn:we.amdD&&we.amdO?void 0!==(St=function(){return Hn}.call(Kn,we,Kn,Ct))&&(Ct.exports=St):this.alea=Hn}(0,gr=we.nmd(gr))},4478:function(gr,Kn,we){var St;!function(_t,Ct,dn){function Mn(bt){var Ge=this,Ot="";Ge.next=function(){var mt=Ge.b,zt=Ge.c,Yt=Ge.d,nn=Ge.a;return mt=mt<<25^mt>>>7^zt,zt=zt-Yt|0,Yt=Yt<<24^Yt>>>8^nn,nn=nn-mt|0,Ge.b=mt=mt<<20^mt>>>12^zt,Ge.c=zt=zt-Yt|0,Ge.d=Yt<<16^zt>>>16^nn,Ge.a=nn-mt|0},Ge.a=0,Ge.b=0,Ge.c=-1640531527,Ge.d=1367130551,bt===Math.floor(bt)?(Ge.a=bt/4294967296|0,Ge.b=0|bt):Ot+=bt;for(var Bt=0;Bt<Ot.length+20;Bt++)Ge.b^=0|Ot.charCodeAt(Bt),Ge.next()}function zn(bt,Ge){return Ge.a=bt.a,Ge.b=bt.b,Ge.c=bt.c,Ge.d=bt.d,Ge}function Hn(bt,Ge){var Ot=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Ot.next()>>>0)/4294967296};return mt.double=function(){do{var nn=((Ot.next()>>>11)+(Ot.next()>>>0)/4294967296)/(1<<21)}while(0===nn);return nn},mt.int32=Ot.next,mt.quick=mt,Bt&&("object"==typeof Bt&&zn(Bt,Ot),mt.state=function(){return zn(Ot,{})}),mt}Ct&&Ct.exports?Ct.exports=Hn:we.amdD&&we.amdO?void 0!==(St=function(){return Hn}.call(Kn,we,Kn,Ct))&&(Ct.exports=St):this.tychei=Hn}(0,gr=we.nmd(gr))},7850:function(gr,Kn,we){var St;!function(_t,Ct,dn){function Mn(bt){var Ge=this,Ot="";Ge.x=0,Ge.y=0,Ge.z=0,Ge.w=0,Ge.next=function(){var mt=Ge.x^Ge.x<<11;return Ge.x=Ge.y,Ge.y=Ge.z,Ge.z=Ge.w,Ge.w^=Ge.w>>>19^mt^mt>>>8},bt===(0|bt)?Ge.x=bt:Ot+=bt;for(var Bt=0;Bt<Ot.length+64;Bt++)Ge.x^=0|Ot.charCodeAt(Bt),Ge.next()}function zn(bt,Ge){return Ge.x=bt.x,Ge.y=bt.y,Ge.z=bt.z,Ge.w=bt.w,Ge}function Hn(bt,Ge){var Ot=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Ot.next()>>>0)/4294967296};return mt.double=function(){do{var nn=((Ot.next()>>>11)+(Ot.next()>>>0)/4294967296)/(1<<21)}while(0===nn);return nn},mt.int32=Ot.next,mt.quick=mt,Bt&&("object"==typeof Bt&&zn(Bt,Ot),mt.state=function(){return zn(Ot,{})}),mt}Ct&&Ct.exports?Ct.exports=Hn:we.amdD&&we.amdO?void 0!==(St=function(){return Hn}.call(Kn,we,Kn,Ct))&&(Ct.exports=St):this.xor128=Hn}(0,gr=we.nmd(gr))},9040:function(gr,Kn,we){var St;!function(_t,Ct,dn){function Mn(bt){var Ge=this;Ge.next=function(){var Yt,nn,Bt=Ge.w,mt=Ge.X,zt=Ge.i;return Ge.w=Bt=Bt+1640531527|0,nn=mt[zt+34&127],Yt=mt[zt=zt+1&127],nn^=nn<<13,Yt^=Yt<<17,nn=mt[zt]=(nn^=nn>>>15)^(Yt^=Yt>>>12),Ge.i=zt,nn+(Bt^Bt>>>16)|0},function Ot(Bt,mt){var zt,Yt,nn,Yr,fs,Hs=[],Ns=128;for(mt===(0|mt)?(Yt=mt,mt=null):(mt+="\0",Yt=0,Ns=Math.max(Ns,mt.length)),nn=0,Yr=-32;Yr<Ns;++Yr)mt&&(Yt^=mt.charCodeAt((Yr+32)%mt.length)),0===Yr&&(fs=Yt),Yt^=Yt<<10,Yt^=Yt>>>15,Yt^=Yt<<4,Yt^=Yt>>>13,Yr>=0&&(nn=0==(zt=Hs[127&Yr]^=Yt+(fs=fs+1640531527|0))?nn+1:0);for(nn>=128&&(Hs[127&(mt&&mt.length||0)]=-1),nn=127,Yr=512;Yr>0;--Yr)Yt=Hs[nn+34&127],zt=Hs[nn=nn+1&127],Yt^=Yt<<13,zt^=zt<<17,Hs[nn]=(Yt^=Yt>>>15)^(zt^=zt>>>12);Bt.w=fs,Bt.X=Hs,Bt.i=nn}(Ge,bt)}function zn(bt,Ge){return Ge.i=bt.i,Ge.w=bt.w,Ge.X=bt.X.slice(),Ge}function Hn(bt,Ge){null==bt&&(bt=+new Date);var Ot=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Ot.next()>>>0)/4294967296};return mt.double=function(){do{var nn=((Ot.next()>>>11)+(Ot.next()>>>0)/4294967296)/(1<<21)}while(0===nn);return nn},mt.int32=Ot.next,mt.quick=mt,Bt&&(Bt.X&&zn(Bt,Ot),mt.state=function(){return zn(Ot,{})}),mt}Ct&&Ct.exports?Ct.exports=Hn:we.amdD&&we.amdO?void 0!==(St=function(){return Hn}.call(Kn,we,Kn,Ct))&&(Ct.exports=St):this.xor4096=Hn}(0,gr=we.nmd(gr))},8114:function(gr,Kn,we){var St;!function(_t,Ct,dn){function Mn(bt){var Ge=this;Ge.next=function(){var zt,Yt,Bt=Ge.x,mt=Ge.i;return zt=Bt[mt],Yt=(zt^=zt>>>7)^zt<<24,Yt^=(zt=Bt[mt+1&7])^zt>>>10,Yt^=(zt=Bt[mt+3&7])^zt>>>3,Yt^=(zt=Bt[mt+4&7])^zt<<7,zt=Bt[mt+7&7],Bt[mt]=Yt^=(zt^=zt<<13)^zt<<9,Ge.i=mt+1&7,Yt},function Ot(Bt,mt){var zt,nn=[];if(mt===(0|mt))nn[0]=mt;else for(mt=""+mt,zt=0;zt<mt.length;++zt)nn[7&zt]=nn[7&zt]<<15^mt.charCodeAt(zt)+nn[zt+1&7]<<13;for(;nn.length<8;)nn.push(0);for(zt=0;zt<8&&0===nn[zt];++zt);for(8==zt&&(nn[7]=-1),Bt.x=nn,Bt.i=0,zt=256;zt>0;--zt)Bt.next()}(Ge,bt)}function zn(bt,Ge){return Ge.x=bt.x.slice(),Ge.i=bt.i,Ge}function Hn(bt,Ge){null==bt&&(bt=+new Date);var Ot=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Ot.next()>>>0)/4294967296};return mt.double=function(){do{var nn=((Ot.next()>>>11)+(Ot.next()>>>0)/4294967296)/(1<<21)}while(0===nn);return nn},mt.int32=Ot.next,mt.quick=mt,Bt&&(Bt.x&&zn(Bt,Ot),mt.state=function(){return zn(Ot,{})}),mt}Ct&&Ct.exports?Ct.exports=Hn:we.amdD&&we.amdO?void 0!==(St=function(){return Hn}.call(Kn,we,Kn,Ct))&&(Ct.exports=St):this.xorshift7=Hn}(0,gr=we.nmd(gr))},5704:function(gr,Kn,we){var St;!function(_t,Ct,dn){function Mn(bt){var Ge=this,Ot="";Ge.next=function(){var mt=Ge.x^Ge.x>>>2;return Ge.x=Ge.y,Ge.y=Ge.z,Ge.z=Ge.w,Ge.w=Ge.v,(Ge.d=Ge.d+362437|0)+(Ge.v=Ge.v^Ge.v<<4^mt^mt<<1)|0},Ge.x=0,Ge.y=0,Ge.z=0,Ge.w=0,Ge.v=0,bt===(0|bt)?Ge.x=bt:Ot+=bt;for(var Bt=0;Bt<Ot.length+64;Bt++)Ge.x^=0|Ot.charCodeAt(Bt),Bt==Ot.length&&(Ge.d=Ge.x<<10^Ge.x>>>4),Ge.next()}function zn(bt,Ge){return Ge.x=bt.x,Ge.y=bt.y,Ge.z=bt.z,Ge.w=bt.w,Ge.v=bt.v,Ge.d=bt.d,Ge}function Hn(bt,Ge){var Ot=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Ot.next()>>>0)/4294967296};return mt.double=function(){do{var nn=((Ot.next()>>>11)+(Ot.next()>>>0)/4294967296)/(1<<21)}while(0===nn);return nn},mt.int32=Ot.next,mt.quick=mt,Bt&&("object"==typeof Bt&&zn(Bt,Ot),mt.state=function(){return zn(Ot,{})}),mt}Ct&&Ct.exports?Ct.exports=Hn:we.amdD&&we.amdO?void 0!==(St=function(){return Hn}.call(Kn,we,Kn,Ct))&&(Ct.exports=St):this.xorwow=Hn}(0,gr=we.nmd(gr))},7454:function(gr,Kn,we){var St;!function(_t,Ct,dn){var zt,Mn=256,Ge=dn.pow(Mn,6),Ot=dn.pow(2,52),Bt=2*Ot,mt=Mn-1;function Yt(mr,Oi,po){var xs=[],Pi=Hs(fs((Oi=1==Oi?{entropy:!0}:Oi||{}).entropy?[mr,ga(Ct)]:mr??function Ns(){try{var mr;return zt&&(mr=zt.randomBytes)?mr=mr(Mn):(mr=new Uint8Array(Mn),(_t.crypto||_t.msCrypto).getRandomValues(mr)),ga(mr)}catch{var Oi=_t.navigator,po=Oi&&Oi.plugins;return[+new Date,_t,po,_t.screen,ga(Ct)]}}(),3),xs),fi=new nn(xs),bi=function(){for(var ma=fi.g(6),Za=Ge,va=0;ma<Ot;)ma=(ma+va)*Mn,Za*=Mn,va=fi.g(1);for(;ma>=Bt;)ma/=2,Za/=2,va>>>=1;return(ma+va)/Za};return bi.int32=function(){return 0|fi.g(4)},bi.quick=function(){return fi.g(4)/4294967296},bi.double=bi,Hs(ga(fi.S),Ct),(Oi.pass||po||function(ma,Za,va,Ja){return Ja&&(Ja.S&&Yr(Ja,fi),ma.state=function(){return Yr(fi,{})}),va?(dn.random=ma,Za):ma})(bi,Pi,"global"in Oi?Oi.global:this==dn,Oi.state)}function nn(mr){var Oi,po=mr.length,xs=this,Pi=0,fi=xs.i=xs.j=0,bi=xs.S=[];for(po||(mr=[po++]);Pi<Mn;)bi[Pi]=Pi++;for(Pi=0;Pi<Mn;Pi++)bi[Pi]=bi[fi=mt&fi+mr[Pi%po]+(Oi=bi[Pi])],bi[fi]=Oi;(xs.g=function(ma){for(var Za,va=0,Ja=xs.i,mh=xs.j,eu=xs.S;ma--;)Za=eu[Ja=mt&Ja+1],va=va*Mn+eu[mt&(eu[Ja]=eu[mh=mt&mh+Za])+(eu[mh]=Za)];return xs.i=Ja,xs.j=mh,va})(Mn)}function Yr(mr,Oi){return Oi.i=mr.i,Oi.j=mr.j,Oi.S=mr.S.slice(),Oi}function fs(mr,Oi){var Pi,po=[],xs=typeof mr;if(Oi&&"object"==xs)for(Pi in mr)try{po.push(fs(mr[Pi],Oi-1))}catch{}return po.length?po:"string"==xs?mr:mr+"\0"}function Hs(mr,Oi){for(var xs,po=mr+"",Pi=0;Pi<po.length;)Oi[mt&Pi]=mt&(xs^=19*Oi[mt&Pi])+po.charCodeAt(Pi++);return ga(Oi)}function ga(mr){return String.fromCharCode.apply(0,mr)}if(Hs(dn.random(),Ct),gr.exports){gr.exports=Yt;try{zt=we(1234)}catch{}}else void 0!==(St=function(){return Yt}.call(Kn,we,Kn,gr))&&(gr.exports=St)}(typeof self<"u"?self:this,[],Math)},724:gr=>{void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var Kn=Kn||function(){var we=[];return{REVISION:"8",getAll:function(){return we},removeAll:function(){we=[]},add:function(St){we.push(St)},remove:function(St){var _t=we.indexOf(St);-1!==_t&&we.splice(_t,1)},update:function(St){if(0===we.length)return!1;var _t=0,Ct=we.length;for(St=void 0!==St?St:Date.now();_t<Ct;)we[_t].update(St)?_t++:(we.splice(_t,1),Ct--);return!0}}}();Kn.Tween=function(we){var St=we,_t={},Ct={},dn=1e3,Mn=0,zn=null,Hn=Kn.Easing.Linear.None,bt=Kn.Interpolation.Linear,Ge=[],Ot=null,Bt=!1,mt=null,zt=null;this.to=function(Yt,nn){return void 0!==nn&&(dn=nn),Ct=Yt,this},this.start=function(Yt){for(var nn in Kn.add(this),Bt=!1,zn=void 0!==Yt?Yt:Date.now(),zn+=Mn,Ct)if(null!==St[nn]&&nn in St){if(Ct[nn]instanceof Array){if(0===Ct[nn].length)continue;Ct[nn]=[St[nn]].concat(Ct[nn])}_t[nn]=St[nn]}return this},this.stop=function(){return Kn.remove(this),this},this.delay=function(Yt){return Mn=Yt,this},this.easing=function(Yt){return Hn=Yt,this},this.interpolation=function(Yt){return bt=Yt,this},this.chain=function(){return Ge=arguments,this},this.onStart=function(Yt){return Ot=Yt,this},this.onUpdate=function(Yt){return mt=Yt,this},this.onComplete=function(Yt){return zt=Yt,this},this.update=function(Yt){if(Yt<zn)return!0;!1===Bt&&(null!==Ot&&Ot.call(St),Bt=!0);var nn=(Yt-zn)/dn,Yr=Hn(nn=nn>1?1:nn);for(var fs in _t){var Hs=_t[fs],Ns=Ct[fs];St[fs]=Ns instanceof Array?bt(Ns,Yr):Hs+(Ns-Hs)*Yr}if(null!==mt&&mt.call(St,Yr),1==nn){null!==zt&&zt.call(St);for(var ga=0,mr=Ge.length;ga<mr;ga++)Ge[ga].start(Yt);return!1}return!0}},Kn.Easing={Linear:{None:function(we){return we}},Quadratic:{In:function(we){return we*we},Out:function(we){return we*(2-we)},InOut:function(we){return(we*=2)<1?.5*we*we:-.5*(--we*(we-2)-1)}},Cubic:{In:function(we){return we*we*we},Out:function(we){return--we*we*we+1},InOut:function(we){return(we*=2)<1?.5*we*we*we:.5*((we-=2)*we*we+2)}},Quartic:{In:function(we){return we*we*we*we},Out:function(we){return 1- --we*we*we*we},InOut:function(we){return(we*=2)<1?.5*we*we*we*we:-.5*((we-=2)*we*we*we-2)}},Quintic:{In:function(we){return we*we*we*we*we},Out:function(we){return--we*we*we*we*we+1},InOut:function(we){return(we*=2)<1?.5*we*we*we*we*we:.5*((we-=2)*we*we*we*we+2)}},Sinusoidal:{In:function(we){return 1-Math.cos(we*Math.PI/2)},Out:function(we){return Math.sin(we*Math.PI/2)},InOut:function(we){return.5*(1-Math.cos(Math.PI*we))}},Exponential:{In:function(we){return 0===we?0:Math.pow(1024,we-1)},Out:function(we){return 1===we?1:1-Math.pow(2,-10*we)},InOut:function(we){return 0===we?0:1===we?1:(we*=2)<1?.5*Math.pow(1024,we-1):.5*(2-Math.pow(2,-10*(we-1)))}},Circular:{In:function(we){return 1-Math.sqrt(1-we*we)},Out:function(we){return Math.sqrt(1- --we*we)},InOut:function(we){return(we*=2)<1?-.5*(Math.sqrt(1-we*we)-1):.5*(Math.sqrt(1-(we-=2)*we)+1)}},Elastic:{In:function(we){var St,_t=.1;return 0===we?0:1===we?1:(!_t||_t<1?(_t=1,St=.1):St=.4*Math.asin(1/_t)/(2*Math.PI),-_t*Math.pow(2,10*(we-=1))*Math.sin((we-St)*(2*Math.PI)/.4))},Out:function(we){var St,_t=.1;return 0===we?0:1===we?1:(!_t||_t<1?(_t=1,St=.1):St=.4*Math.asin(1/_t)/(2*Math.PI),_t*Math.pow(2,-10*we)*Math.sin((we-St)*(2*Math.PI)/.4)+1)},InOut:function(we){var St,_t=.1;return 0===we?0:1===we?1:(!_t||_t<1?(_t=1,St=.1):St=.4*Math.asin(1/_t)/(2*Math.PI),(we*=2)<1?_t*Math.pow(2,10*(we-=1))*Math.sin((we-St)*(2*Math.PI)/.4)*-.5:_t*Math.pow(2,-10*(we-=1))*Math.sin((we-St)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(we){return we*we*(2.70158*we-1.70158)},Out:function(we){return--we*we*(2.70158*we+1.70158)+1},InOut:function(we){var St=2.5949095;return(we*=2)<1?we*we*((St+1)*we-St)*.5:.5*((we-=2)*we*((St+1)*we+St)+2)}},Bounce:{In:function(we){return 1-Kn.Easing.Bounce.Out(1-we)},Out:function(we){return we<1/2.75?7.5625*we*we:we<2/2.75?7.5625*(we-=1.5/2.75)*we+.75:we<2.5/2.75?7.5625*(we-=2.25/2.75)*we+.9375:7.5625*(we-=2.625/2.75)*we+.984375},InOut:function(we){return we<.5?.5*Kn.Easing.Bounce.In(2*we):.5*Kn.Easing.Bounce.Out(2*we-1)+.5}}},Kn.Interpolation={Linear:function(we,St){var _t=we.length-1,Ct=_t*St,dn=Math.floor(Ct),Mn=Kn.Interpolation.Utils.Linear;return St<0?Mn(we[0],we[1],Ct):St>1?Mn(we[_t],we[_t-1],_t-Ct):Mn(we[dn],we[dn+1>_t?_t:dn+1],Ct-dn)},Bezier:function(we,St){var zn,_t=0,Ct=we.length-1,dn=Math.pow,Mn=Kn.Interpolation.Utils.Bernstein;for(zn=0;zn<=Ct;zn++)_t+=dn(1-St,Ct-zn)*dn(St,zn)*we[zn]*Mn(Ct,zn);return _t},CatmullRom:function(we,St){var _t=we.length-1,Ct=_t*St,dn=Math.floor(Ct),Mn=Kn.Interpolation.Utils.CatmullRom;return we[0]===we[_t]?(St<0&&(dn=Math.floor(Ct=_t*(1+St))),Mn(we[(dn-1+_t)%_t],we[dn],we[(dn+1)%_t],we[(dn+2)%_t],Ct-dn)):St<0?we[0]-(Mn(we[0],we[0],we[1],we[1],-Ct)-we[0]):St>1?we[_t]-(Mn(we[_t],we[_t],we[_t-1],we[_t-1],Ct-_t)-we[_t]):Mn(we[dn?dn-1:0],we[dn],we[_t<dn+1?_t:dn+1],we[_t<dn+2?_t:dn+2],Ct-dn)},Utils:{Linear:function(we,St,_t){return(St-we)*_t+we},Bernstein:function(we,St){var _t=Kn.Interpolation.Utils.Factorial;return _t(we)/_t(St)/_t(we-St)},Factorial:function(){var we=[1];return function(St){var Ct,_t=1;if(we[St])return we[St];for(Ct=St;Ct>1;Ct--)_t*=Ct;return we[St]=_t}}(),CatmullRom:function(we,St,_t,Ct,dn){var Mn=.5*(_t-we),zn=.5*(Ct-St),Hn=dn*dn;return(2*St-2*_t+Mn+zn)*(dn*Hn)+(-3*St+3*_t-2*Mn-zn)*Hn+Mn*dn+St}}},gr.exports=Kn},1234:()=>{},616:function(gr){gr.exports=function(){"use strict";function Kn(){return!0}function we(){return!1}function St(){}const _t="Argument is not a typed-function.";return function Ct(){function Mn(He){return"object"==typeof He&&null!==He&&He.constructor===Object}const zn=[{name:"number",test:function(He){return"number"==typeof He}},{name:"string",test:function(He){return"string"==typeof He}},{name:"boolean",test:function(He){return"boolean"==typeof He}},{name:"Function",test:function(He){return"function"==typeof He}},{name:"Array",test:Array.isArray},{name:"Date",test:function(He){return He instanceof Date}},{name:"RegExp",test:function(He){return He instanceof RegExp}},{name:"Object",test:Mn},{name:"null",test:function(He){return null===He}},{name:"undefined",test:function(He){return void 0===He}}],Hn={name:"any",test:Kn,isAny:!0};let bt,Ge,Ot=0,Bt={createCount:0};function mt(He){const Ze=bt.get(He);if(Ze)return Ze;let lt='Unknown type "'+He+'"';const Rt=He.toLowerCase();let qt;for(qt of Ge)if(qt.toLowerCase()===Rt){lt+='. Did you mean "'+qt+'" ?';break}throw new TypeError(lt)}function zt(He){let Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const lt=Ze?mt(Ze).index:Ge.length,Rt=[];for(let Ht=0;Ht<He.length;++Ht){if(!He[Ht]||"string"!=typeof He[Ht].name||"function"!=typeof He[Ht].test)throw new TypeError("Object with properties {name: string, test: function} expected");const Cn=He[Ht].name;if(bt.has(Cn))throw new TypeError('Duplicate type name "'+Cn+'"');Rt.push(Cn),bt.set(Cn,{name:Cn,test:He[Ht].test,isAny:He[Ht].isAny,index:lt+Ht,conversionsTo:[]})}const qt=Ge.slice(lt);Ge=Ge.slice(0,lt).concat(Rt).concat(qt);for(let Ht=lt+Rt.length;Ht<Ge.length;++Ht)bt.get(Ge[Ht]).index=Ht}function Yt(){bt=new Map,Ge=[],Ot=0,zt([Hn],!1)}function Yr(He){const Ze=Ge.filter(lt=>{const Rt=bt.get(lt);return!Rt.isAny&&Rt.test(He)});return Ze.length?Ze:["any"]}function fs(He){return He&&"function"==typeof He&&"_typedFunctionData"in He}function Hs(He,Ze,lt){if(!fs(He))throw new TypeError(_t);const Rt=lt&&lt.exact,Ht=Pi(Array.isArray(Ze)?Ze.join(","):Ze),Cn=mr(Ht);if(!Rt||Cn in He.signatures){const Li=He._typedFunctionData.signatureMap.get(Cn);if(Li)return Li}const en=Ht.length;let xn,Zt;if(Rt){let Li;for(Li in xn=[],He.signatures)xn.push(He._typedFunctionData.signatureMap.get(Li))}else xn=He._typedFunctionData.signatures;for(let Li=0;Li<en;++Li){const zi=Ht[Li],oo=[];let ko;for(ko of xn){const ds=Za(ko.params,Li);if(ds&&(!zi.restParam||ds.restParam)){if(!ds.hasAny){const bl=xs(ds);if(zi.types.some(Pa=>!bl.has(Pa.name)))continue}oo.push(ko)}}if(xn=oo,0===xn.length)break}for(Zt of xn)if(Zt.params.length<=en)return Zt;throw new TypeError("Signature not found (signature: "+(He.name||"unnamed")+"("+mr(Ht,", ")+"))")}function mr(He){let Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return He.map(lt=>lt.name).join(Ze)}function Oi(He){const Ze=0===He.indexOf("..."),Rt=(Ze?He.length>3?He.slice(3):"any":He).split("|").map(en=>mt(en.trim()));let qt=!1,Ht=Ze?"...":"";return{types:Rt.map(function(en){return qt=en.isAny||qt,Ht+=en.name+"|",{name:en.name,typeIndex:en.index,test:en.test,isAny:en.isAny,conversion:null,conversionIndex:-1}}),name:Ht.slice(0,-1),hasAny:qt,hasConversion:!1,restParam:Ze}}function po(He){const lt=function Gm(He){if(0===He.length)return[];const Ze=He.map(mt);He.length>1&&Ze.sort((qt,Ht)=>qt.index-Ht.index);let lt=Ze[0].conversionsTo;if(1===He.length)return lt;lt=lt.concat([]);const Rt=new Set(He);for(let qt=1;qt<Ze.length;++qt){let Ht;for(Ht of Ze[qt].conversionsTo)Rt.has(Ht.from)||(lt.push(Ht),Rt.add(Ht.from))}return lt}(He.types.map(Cn=>Cn.name));let Rt=He.hasAny,qt=He.name;const Ht=lt.map(function(Cn){const en=mt(Cn.from);return Rt=en.isAny||Rt,qt+="|"+Cn.from,{name:Cn.from,typeIndex:en.index,test:en.test,isAny:en.isAny,conversion:Cn,conversionIndex:Cn.index}});return{types:He.types.concat(Ht),name:qt,hasAny:Rt,hasConversion:Ht.length>0,restParam:He.restParam}}function xs(He){return He.typeSet||(He.typeSet=new Set,He.types.forEach(Ze=>He.typeSet.add(Ze.name))),He.typeSet}function Pi(He){const Ze=[];if("string"!=typeof He)throw new TypeError("Signatures must be strings");const lt=He.trim();if(""===lt)return Ze;const Rt=lt.split(",");for(let qt=0;qt<Rt.length;++qt){const Ht=Oi(Rt[qt].trim());if(Ht.restParam&&qt!==Rt.length-1)throw new SyntaxError('Unexpected rest parameter "'+Rt[qt]+'": only allowed for the last parameter');if(0===Ht.types.length)return null;Ze.push(Ht)}return Ze}function fi(He){const Ze=Vs(He);return!!Ze&&Ze.restParam}function bi(He){if(!He||0===He.types.length)return Kn;if(1===He.types.length)return mt(He.types[0].name).test;if(2===He.types.length){const Ze=mt(He.types[0].name).test,lt=mt(He.types[1].name).test;return function(qt){return Ze(qt)||lt(qt)}}{const Ze=He.types.map(function(lt){return mt(lt.name).test});return function(Rt){for(let qt=0;qt<Ze.length;qt++)if(Ze[qt](Rt))return!0;return!1}}}function ma(He){let Ze,lt,Rt;if(fi(He)){Ze=fn(He).map(bi);const qt=Ze.length,Ht=bi(Vs(He)),Cn=function(en){for(let xn=qt;xn<en.length;xn++)if(!Ht(en[xn]))return!1;return!0};return function(xn){for(let Zt=0;Zt<Ze.length;Zt++)if(!Ze[Zt](xn[Zt]))return!1;return Cn(xn)&&xn.length>=qt+1}}return 0===He.length?function(Ht){return 0===Ht.length}:1===He.length?(lt=bi(He[0]),function(Ht){return lt(Ht[0])&&1===Ht.length}):2===He.length?(lt=bi(He[0]),Rt=bi(He[1]),function(Ht){return lt(Ht[0])&&Rt(Ht[1])&&2===Ht.length}):(Ze=He.map(bi),function(Ht){for(let Cn=0;Cn<Ze.length;Cn++)if(!Ze[Cn](Ht[Cn]))return!1;return Ht.length===Ze.length})}function Za(He,Ze){return Ze<He.length?He[Ze]:fi(He)?Vs(He):null}function va(He,Ze){const lt=Za(He,Ze);return lt?xs(lt):new Set}function Ja(He){return null==He.conversion}function mh(He,Ze){const lt=new Set;return He.forEach(Rt=>{const qt=va(Rt.params,Ze);let Ht;for(Ht of qt)lt.add(Ht)}),lt.has("any")?["any"]:Array.from(lt)}function eu(He,Ze,lt){let Rt,qt;const Ht=He||"unnamed";let en,Cn=lt;for(en=0;en<Ze.length;en++){const zi=[];if(Cn.forEach(oo=>{const ds=bi(Za(oo.params,en));(en<oo.params.length||fi(oo.params))&&ds(Ze[en])&&zi.push(oo)}),0===zi.length){if(qt=mh(Cn,en),qt.length>0){const oo=Yr(Ze[en]);return Rt=new TypeError("Unexpected type of argument in function "+Ht+" (expected: "+qt.join(" or ")+", actual: "+oo.join(" | ")+", index: "+en+")"),Rt.data={category:"wrongType",fn:Ht,index:en,actual:oo,expected:qt},Rt}}else Cn=zi}const xn=Cn.map(function(zi){return fi(zi.params)?1/0:zi.params.length});if(Ze.length<Math.min.apply(null,xn))return qt=mh(Cn,en),Rt=new TypeError("Too few arguments in function "+Ht+" (expected: "+qt.join(" or ")+", index: "+Ze.length+")"),Rt.data={category:"tooFewArgs",fn:Ht,index:Ze.length,expected:qt},Rt;const Zt=Math.max.apply(null,xn);if(Ze.length>Zt)return Rt=new TypeError("Too many arguments in function "+Ht+" (expected: "+Zt+", actual: "+Ze.length+")"),Rt.data={category:"tooManyArgs",fn:Ht,index:Ze.length,expectedLength:Zt},Rt;const Li=[];for(let zi=0;zi<Ze.length;++zi)Li.push(Yr(Ze[zi]).join("|"));return Rt=new TypeError('Arguments of type "'+Li.join(", ")+'" do not match any of the defined signatures of function '+Ht+"."),Rt.data={category:"mismatch",actual:Li},Rt}function md(He){let Ze=Ge.length+1;for(let lt=0;lt<He.types.length;lt++)Ja(He.types[lt])&&(Ze=Math.min(Ze,He.types[lt].typeIndex));return Ze}function Hp(He){let Ze=Ot+1;for(let lt=0;lt<He.types.length;lt++)Ja(He.types[lt])||(Ze=Math.min(Ze,He.types[lt].conversionIndex));return Ze}function Vp(He,Ze){if(He.hasAny){if(!Ze.hasAny)return 1}else if(Ze.hasAny)return-1;if(He.restParam){if(!Ze.restParam)return 1}else if(Ze.restParam)return-1;if(He.hasConversion){if(!Ze.hasConversion)return 1}else if(Ze.hasConversion)return-1;const lt=md(He)-md(Ze);if(lt<0)return-1;if(lt>0)return 1;const Rt=Hp(He)-Hp(Ze);return Rt<0?-1:Rt>0?1:0}function vd(He,Ze){const lt=He.params,Rt=Ze.params,qt=Vs(lt),Ht=Vs(Rt),Cn=fi(lt),en=fi(Rt);if(Cn&&qt.hasAny){if(!en||!Ht.hasAny)return 1}else if(en&&Ht.hasAny)return-1;let Li,xn=0,Zt=0;for(Li of lt)Li.hasAny&&++xn,Li.hasConversion&&++Zt;let zi=0,oo=0;for(Li of Rt)Li.hasAny&&++zi,Li.hasConversion&&++oo;if(xn!==zi)return xn-zi;if(Cn&&qt.hasConversion){if(!en||!Ht.hasConversion)return 1}else if(en&&Ht.hasConversion)return-1;if(Zt!==oo)return Zt-oo;if(Cn){if(!en)return 1}else if(en)return-1;const ko=(lt.length-Rt.length)*(Cn?-1:1);if(0!==ko)return ko;const ds=[];let Pa,bl=0;for(let di=0;di<lt.length;++di){const Af=Vp(lt[di],Rt[di]);ds.push(Af),bl+=Af}if(0!==bl)return bl;for(Pa of ds)if(0!==Pa)return Pa;return 0}function lw(He,Ze){let lt=Ze;if(He.some(qt=>qt.hasConversion)){const qt=fi(He),Ht=He.map(AA);lt=function(){const en=[],xn=qt?arguments.length-1:arguments.length;for(let Zt=0;Zt<xn;Zt++)en[Zt]=Ht[Zt](arguments[Zt]);return qt&&(en[xn]=arguments[xn].map(Ht[xn])),Ze.apply(this,en)}}let Rt=lt;if(fi(He)){const qt=He.length-1;Rt=function(){return lt.apply(this,ai(arguments,0,qt).concat([ai(arguments,qt)]))}}return Rt}function AA(He){let Ze,lt,Rt,qt;const Ht=[],Cn=[];switch(He.types.forEach(function(en){en.conversion&&(Ht.push(mt(en.conversion.from).test),Cn.push(en.conversion.convert))}),Cn.length){case 0:return function(xn){return xn};case 1:return Ze=Ht[0],Rt=Cn[0],function(xn){return Ze(xn)?Rt(xn):xn};case 2:return Ze=Ht[0],lt=Ht[1],Rt=Cn[0],qt=Cn[1],function(xn){return Ze(xn)?Rt(xn):lt(xn)?qt(xn):xn};default:return function(xn){for(let Zt=0;Zt<Cn.length;Zt++)if(Ht[Zt](xn))return Cn[Zt](xn);return xn}}}function yd(He){return function Ze(lt,Rt,qt){if(Rt<lt.length){const Ht=lt[Rt];let Cn=[];if(Ht.restParam){const en=Ht.types.filter(Ja);en.length<Ht.types.length&&Cn.push({types:en,name:"..."+en.map(xn=>xn.name).join("|"),hasAny:en.some(xn=>xn.isAny),hasConversion:!1,restParam:!0}),Cn.push(Ht)}else Cn=Ht.types.map(function(en){return{types:[en],name:en.name,hasAny:en.isAny,hasConversion:en.conversion,restParam:!1}});return function mi(He,Ze){return Array.prototype.concat.apply([],He.map(Ze))}(Cn,function(en){return Ze(lt,Rt+1,qt.concat([en]))})}return[qt]}(He,0,[])}function Qp(He,Ze){const lt=Math.max(He.length,Ze.length);for(let en=0;en<lt;en++){const xn=va(He,en),Zt=va(Ze,en);let zi,Li=!1;for(zi of Zt)if(xn.has(zi)){Li=!0;break}if(!Li)return!1}const Rt=He.length,qt=Ze.length,Ht=fi(He),Cn=fi(Ze);return Ht?Cn?Rt===qt:qt>=Rt:Cn?Rt>=qt:Rt===qt}function ht(He,Ze,lt){const Rt=[];let qt;for(qt of He){let Ht=lt[qt];if("number"!=typeof Ht)throw new TypeError('No definition for referenced signature "'+qt+'"');if(Ht=Ze[Ht],"function"!=typeof Ht)return!1;Rt.push(Ht)}return Rt}function vt(He,Ze,lt){const Rt=function zp(He){return He.map(Ze=>_o(Ze)?ql(Ze.referToSelf.callback):el(Ze)?Uu(Ze.referTo.references,Ze.referTo.callback):Ze)}(He),qt=new Array(Rt.length).fill(!1);let Ht=!0;for(;Ht;){Ht=!1;let Cn=!0;for(let en=0;en<Rt.length;++en){if(qt[en])continue;const xn=Rt[en];if(_o(xn))Rt[en]=xn.referToSelf.callback(lt),Rt[en].referToSelf=xn.referToSelf,qt[en]=!0,Cn=!1;else if(el(xn)){const Zt=ht(xn.referTo.references,Rt,Ze);Zt?(Rt[en]=xn.referTo.callback.apply(this,Zt),Rt[en].referTo=xn.referTo,qt[en]=!0,Cn=!1):Ht=!0}}if(Cn&&Ht)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Rt}function un(He,Ze){if(Bt.createCount++,0===Object.keys(Ze).length)throw new SyntaxError("No signatures provided");Bt.warnAgainstDeprecatedThis&&function Xt(He){const Ze=/\bthis(\(|\.signatures\b)/;Object.keys(He).forEach(lt=>{if(Ze.test(He[lt].toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(Ze);const lt=[],Rt=[],qt={},Ht=[];let Cn;for(Cn in Ze){if(!Object.prototype.hasOwnProperty.call(Ze,Cn))continue;const ji=Pi(Cn);if(!ji)continue;lt.forEach(function(nu){if(Qp(nu,ji))throw new TypeError('Conflicting signatures "'+mr(nu)+'" and "'+mr(ji)+'".')}),lt.push(ji);const Is=Rt.length;Rt.push(Ze[Cn]);const tu=ji.map(po);let Hu;for(Hu of yd(tu)){const nu=mr(Hu);Ht.push({params:Hu,name:nu,fn:Is}),Hu.every(hy=>!hy.hasConversion)&&(qt[nu]=Is)}}Ht.sort(vd);const en=vt(Rt,qt,$p);let xn;for(xn in qt)Object.prototype.hasOwnProperty.call(qt,xn)&&(qt[xn]=en[qt[xn]]);const Zt=[],Li=new Map;for(xn of Ht)Li.has(xn.name)||(xn.fn=en[xn.fn],Zt.push(xn),Li.set(xn.name,xn));const zi=Zt[0]&&Zt[0].params.length<=2&&!fi(Zt[0].params),oo=Zt[1]&&Zt[1].params.length<=2&&!fi(Zt[1].params),ko=Zt[2]&&Zt[2].params.length<=2&&!fi(Zt[2].params),ds=Zt[3]&&Zt[3].params.length<=2&&!fi(Zt[3].params),bl=Zt[4]&&Zt[4].params.length<=2&&!fi(Zt[4].params),Pa=Zt[5]&&Zt[5].params.length<=2&&!fi(Zt[5].params),di=zi&&oo&&ko&&ds&&bl&&Pa;for(let ji=0;ji<Zt.length;++ji)Zt[ji].test=ma(Zt[ji].params);const Af=zi?bi(Zt[0].params[0]):we,ay=oo?bi(Zt[1].params[0]):we,cw=ko?bi(Zt[2].params[0]):we,uw=ds?bi(Zt[3].params[0]):we,$r=bl?bi(Zt[4].params[0]):we,li=Pa?bi(Zt[5].params[0]):we,Es=zi?bi(Zt[0].params[1]):we,Gp=oo?bi(Zt[1].params[1]):we,Gi=ko?bi(Zt[2].params[1]):we,qi=ds?bi(Zt[3].params[1]):we,ly=bl?bi(Zt[4].params[1]):we,Vr=Pa?bi(Zt[5].params[1]):we;for(let ji=0;ji<Zt.length;++ji)Zt[ji].implementation=lw(Zt[ji].params,Zt[ji].fn);const qp=zi?Zt[0].implementation:St,ao=oo?Zt[1].implementation:St,wl=ko?Zt[2].implementation:St,YS=ds?Zt[3].implementation:St,qm=bl?Zt[4].implementation:St,Mo=Pa?Zt[5].implementation:St,jp=zi?Zt[0].params.length:-1,cy=oo?Zt[1].params.length:-1,hw=ko?Zt[2].params.length:-1,_h=ds?Zt[3].params.length:-1,ZS=bl?Zt[4].params.length:-1,uy=Pa?Zt[5].params.length:-1,dt=di?6:0,ku=Zt.length,pf=Zt.map(ji=>ji.test),jm=Zt.map(ji=>ji.implementation),Wp=function(){for(let Is=dt;Is<ku;Is++)if(pf[Is](arguments))return jm[Is].apply(this,arguments);return Bt.onMismatch(He,arguments,Zt)};function $p(ji,Is){return arguments.length===jp&&Af(ji)&&Es(Is)?qp.apply(this,arguments):arguments.length===cy&&ay(ji)&&Gp(Is)?ao.apply(this,arguments):arguments.length===hw&&cw(ji)&&Gi(Is)?wl.apply(this,arguments):arguments.length===_h&&uw(ji)&&qi(Is)?YS.apply(this,arguments):arguments.length===ZS&&$r(ji)&&ly(Is)?qm.apply(this,arguments):arguments.length===uy&&li(ji)&&Vr(Is)?Mo.apply(this,arguments):Wp.apply(this,arguments)}try{Object.defineProperty($p,"name",{value:He})}catch{}return $p.signatures=qt,$p._typedFunctionData={signatures:Zt,signatureMap:Li},$p}function jn(He,Ze,lt){throw eu(He,Ze,lt)}function fn(He){return ai(He,0,He.length-1)}function Vs(He){return He[He.length-1]}function ai(He,Ze,lt){return Array.prototype.slice.call(He,Ze,lt)}function Uu(He,Ze){return{referTo:{references:He,callback:Ze}}}function ql(He){if("function"!=typeof He)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:He}}}function el(He){return He&&"object"==typeof He.referTo&&Array.isArray(He.referTo.references)&&"function"==typeof He.referTo.callback}function _o(He){return He&&"object"==typeof He.referToSelf&&"function"==typeof He.referToSelf.callback}function jl(He,Ze){if(!He)return Ze;if(Ze&&Ze!==He){const lt=new Error("Function names do not match (expected: "+He+", actual: "+Ze+")");throw lt.data={actual:Ze,expected:He},lt}return He}function Qs(He){let Ze;for(const lt in He)Object.prototype.hasOwnProperty.call(He,lt)&&(fs(He[lt])||"string"==typeof He[lt].signature)&&(Ze=jl(Ze,He[lt].name));return Ze}function vh(He,Ze){let lt;for(lt in Ze)if(Object.prototype.hasOwnProperty.call(Ze,lt)){if(lt in He&&Ze[lt]!==He[lt]){const Rt=new Error('Signature "'+lt+'" is defined twice');throw Rt.data={signature:lt,sourceFunction:Ze[lt],destFunction:He[lt]},Rt}He[lt]=Ze[lt]}}Yt(),zt(zn);const pA=Bt;function yh(He){if(!He||"string"!=typeof He.from||"string"!=typeof He.to||"function"!=typeof He.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(He.to===He.from)throw new SyntaxError('Illegal to define conversion from "'+He.from+'" to itself.')}return Bt=function(He){const Ze="string"==typeof He;let Rt=Ze?He:"";const qt={};for(let Ht=Ze?1:0;Ht<arguments.length;++Ht){const Cn=arguments[Ht];let xn,en={};if("function"==typeof Cn?(xn=Cn.name,"string"==typeof Cn.signature?en[Cn.signature]=Cn:fs(Cn)&&(en=Cn.signatures)):Mn(Cn)&&(en=Cn,Ze||(xn=Qs(Cn))),0===Object.keys(en).length){const Zt=new TypeError("Argument to 'typed' at index "+Ht+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Zt.data={index:Ht,argument:Cn},Zt}Ze||(Rt=jl(Rt,xn)),vh(qt,en)}return un(Rt||"",qt)},Bt.create=Ct,Bt.createCount=pA.createCount,Bt.onMismatch=jn,Bt.throwMismatchError=jn,Bt.createError=eu,Bt.clear=Yt,Bt.clearConversions=function nn(){let He;for(He of Ge)bt.get(He).conversionsTo=[];Ot=0},Bt.addTypes=zt,Bt._findType=mt,Bt.referTo=function _c(){const He=fn(arguments).map(lt=>mr(Pi(lt))),Ze=Vs(arguments);if("function"!=typeof Ze)throw new TypeError("Callback function expected as last argument");return Uu(He,Ze)},Bt.referToSelf=ql,Bt.convert=function ga(He,Ze){const lt=mt(Ze);if(lt.test(He))return He;const Rt=lt.conversionsTo;if(0===Rt.length)throw new Error("There are no conversions to "+Ze+" defined.");for(let qt=0;qt<Rt.length;qt++)if(mt(Rt[qt].from).test(He))return Rt[qt].convert(He);throw new Error("Cannot convert "+He+" to "+Ze)},Bt.findSignature=Hs,Bt.find=function Ns(He,Ze,lt){return Hs(He,Ze,lt).implementation},Bt.isTypedFunction=fs,Bt.warnAgainstDeprecatedThis=!0,Bt.addType=function(He,Ze){let lt="any";!1!==Ze&&bt.has("Object")&&(lt="Object"),Bt.addTypes([He],lt)},Bt.addConversion=function(He){let Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};yh(He);const lt=mt(He.to),Rt=lt.conversionsTo.find(qt=>qt.from===He.from);if(Rt){if(!Ze||!Ze.override)throw new Error('There is already a conversion from "'+He.from+'" to "'+lt.name+'"');Bt.removeConversion({from:Rt.from,to:He.to,convert:Rt.convert})}lt.conversionsTo.push({from:He.from,convert:He.convert,index:Ot++})},Bt.addConversions=function(He,Ze){He.forEach(lt=>Bt.addConversion(lt,Ze))},Bt.removeConversion=function(He){yh(He);const Ze=mt(He.to),lt=function Ti(He,Ze){for(let lt=0;lt<He.length;lt++)if(Ze(He[lt]))return He[lt]}(Ze.conversionsTo,qt=>qt.from===He.from);if(!lt)throw new Error("Attempt to remove nonexistent conversion from "+He.from+" to "+He.to);if(lt.convert!==He.convert)throw new Error("Conversion to remove does not match existing conversion");const Rt=Ze.conversionsTo.indexOf(lt);Ze.conversionsTo.splice(Rt,1)},Bt.resolve=function(He,Ze){if(!fs(He))throw new TypeError(_t);const lt=He._typedFunctionData.signatures;for(let Rt=0;Rt<lt.length;++Rt)if(lt[Rt].test(Ze))return lt[Rt];return null},Bt}()}()},4073:()=>{"use strict";const gr=":";Error;const yd=function(ht,...vt){if(yd.translate){const un=yd.translate(ht,vt);ht=un[0],vt=un[1]}let Xt=zp(ht[0],ht.raw[0]);for(let un=1;un<ht.length;un++)Xt+=vt[un-1]+zp(ht[un],ht.raw[un]);return Xt},Qp=":";function zp(ht,vt){return vt.charAt(0)===Qp?ht.substring(function va(ht,vt){for(let Xt=1,un=1;Xt<ht.length;Xt++,un++)if("\\"===vt[un])un++;else if(ht[Xt]===gr)return Xt;throw new Error(`Unterminated $localize metadata block in "${vt}".`)}(ht,vt)+1):ht}globalThis.$localize=yd},467:(gr,Kn,we)=>{"use strict";function St(Ct,dn,Mn,zn,Hn,bt,Ge){try{var Ot=Ct[bt](Ge),Bt=Ot.value}catch(mt){return void Mn(mt)}Ot.done?dn(Bt):Promise.resolve(Bt).then(zn,Hn)}function _t(Ct){return function(){var dn=this,Mn=arguments;return new Promise(function(zn,Hn){var bt=Ct.apply(dn,Mn);function Ge(Bt){St(bt,zn,Hn,Ge,Ot,"next",Bt)}function Ot(Bt){St(bt,zn,Hn,Ge,Ot,"throw",Bt)}Ge(void 0)})}}we.d(Kn,{A:()=>_t})},2284:(gr,Kn,we)=>{"use strict";function St(_t){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ct){return typeof Ct}:function(Ct){return Ct&&"function"==typeof Symbol&&Ct.constructor===Symbol&&Ct!==Symbol.prototype?"symbol":typeof Ct})(_t)}we.d(Kn,{A:()=>St})}},gr=>{var Kn=St=>gr(gr.s=St);Kn(4073),Kn(8550)}]);