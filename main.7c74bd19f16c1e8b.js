(self.webpackChunkAngularDijkstra=self.webpackChunkAngularDijkstra||[]).push([[792],{3582:(Dl,sr,_e)=>{"use strict";var Lt={};_e.r(Lt),_e.d(Lt,{Decoder:()=>PO,Encoder:()=>Cge,PacketType:()=>ki,protocol:()=>bge});var vt=_e(467);let An=null,yi=!1,Yi=1;const $r=Symbol("SIGNAL");function yn(n){const e=An;return An=n,e}const ao={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lc(n){if(yi)throw new Error("");if(null===An)return;An.consumerOnSignalRead(n);const e=An.nextProducerIndex++;Qu(An),e<An.producerNode.length&&An.producerNode[e]!==n&&qc(An)&&Jd(An.producerNode[e],An.producerIndexOfThis[e]),An.producerNode[e]!==n&&(An.producerNode[e]=n,An.producerIndexOfThis[e]=qc(An)?Yd(n,An,e):0),An.producerLastReadVersion[e]=n.version}function vr(n){if((!qc(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==Yi)){if(!n.producerMustRecompute(n)&&!Bl(n))return n.dirty=!1,void(n.lastCleanEpoch=Yi);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Yi}}function $c(n){if(void 0===n.liveConsumerNode)return;const e=yi;yi=!0;try{for(const t of n.liveConsumerNode)t.dirty||Kc(t)}finally{yi=e}}function cc(){return!1!==An?.consumerAllowSignalWrites}function Kc(n){n.dirty=!0,$c(n),n.consumerMarkedDirty?.(n)}function Bl(n){Qu(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(vr(t),i!==t.version))return!0}return!1}function Yd(n,e,t){if(zg(n),Qu(n),0===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=Yd(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Jd(n,e){if(zg(n),Qu(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Jd(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Qu(r),r.producerIndexOfThis[i]=e}}function qc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Qu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function zg(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}let Uf=function bv(){throw new Error};function Cv(){Uf()}let Zd=null;function eA(n,e){cc()||Cv(),n.equal(n.value,e)||(n.value=e,function Ke(n){n.version++,function or(){Yi++}(),$c(n),Zd?.()}(n))}const $g={...ao,equal:function qt(n,e){return Object.is(n,e)},value:void 0};function Ut(n){return"function"==typeof n}function Ts(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ci=Ts(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Pi(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Si{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Ut(i))try{i()}catch(s){e=s instanceof Ci?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{Nl(s)}catch(o){e=e??[],o instanceof Ci?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ci(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Nl(e);else{if(e instanceof Si){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Pi(t,e)}remove(e){const{_finalizers:t}=this;t&&Pi(t,e),e instanceof Si&&e._removeParent(this)}}Si.EMPTY=(()=>{const n=new Si;return n.closed=!0,n})();const Il=Si.EMPTY;function Gu(n){return n instanceof Si||n&&"closed"in n&&Ut(n.remove)&&Ut(n.add)&&Ut(n.unsubscribe)}function Nl(n){Ut(n)?n():n.unsubscribe()}const ba={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ms={setTimeout(n,e,...t){const{delegate:i}=Ms;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ms;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Rl(n){Ms.setTimeout(()=>{const{onUnhandledError:e}=ba;if(!e)throw n;e(n)})}function Hr(){}const zu=Fh("C",void 0,void 0);function Fh(n,e,t){return{kind:n,value:e,error:t}}let Xa=null;function _o(n){if(ba.useDeprecatedSynchronousErrorHandling){const e=!Xa;if(e&&(Xa={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Xa;if(Xa=null,t)throw i}}else n()}class Oh extends Si{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Gu(e)&&e.add(this)):this.destination=Tv}static create(e,t,i){return new xv(e,t,i)}next(e){this.isStopped?Qf(function Rh(n){return Fh("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Qf(function Hf(n){return Fh("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qf(zu,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tA=Function.prototype.bind;function Ev(n,e){return tA.call(n,e)}class Ph{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Lh(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Lh(i)}else Lh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Lh(t)}}}class xv extends Oh{constructor(e,t,i){let r;if(super(),Ut(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&ba.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Ev(e.next,s),error:e.error&&Ev(e.error,s),complete:e.complete&&Ev(e.complete,s)}):r=e}this.destination=new Ph(r)}}function Lh(n){ba.useDeprecatedSynchronousErrorHandling?function Vf(n){ba.useDeprecatedSynchronousErrorHandling&&Xa&&(Xa.errorThrown=!0,Xa.error=n)}(n):Rl(n)}function Qf(n,e){const{onStoppedNotification:t}=ba;t&&Ms.setTimeout(()=>t(n,e))}const Tv={closed:!0,next:Hr,error:function Kg(n){throw n},complete:Hr},Gf="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ca(n){return n}function zf(n){return 0===n.length?Ca:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Qi=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function nD(n){return n&&n instanceof Oh||function qb(n){return n&&Ut(n.next)&&Ut(n.error)&&Ut(n.complete)}(n)&&Gu(n)}(t)?t:new xv(t,i,r);return _o(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=qg(i))((r,s)=>{const o=new xv({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Gf](){return this}pipe(...t){return zf(t)(this)}toPromise(t){return new(t=qg(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function qg(n){var e;return null!==(e=n??ba.Promise)&&void 0!==e?e:Promise}const iD=Ts(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ci=(()=>{class n extends Qi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new gi(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new iD}next(t){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Il:(this.currentObservers=null,s.push(t),new Si(()=>{this.currentObservers=null,Pi(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new Qi;return t.source=this,t}}return n.create=(e,t)=>new gi(e,t),n})();class gi extends ci{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Il}}class Er extends ci{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function Xg(n){return Ut(n?.lift)}function Ji(n){return e=>{if(Xg(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Zi(n,e,t,i,r){return new Xb(n,e,t,i,r)}class Xb extends Oh{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ii(n,e){return Ji((t,i)=>{let r=0;t.subscribe(Zi(i,s=>{i.next(n.call(e,s,r++))}))})}const Yg=Ts(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Jr(n,e){return Ji((t,i)=>{let r=0;t.subscribe(Zi(i,s=>n.call(e,s,r++)&&i.next(s)))})}const Sa=new Qi(n=>n.complete());function Ds(n){return n<=0?()=>Sa:Ji((e,t)=>{let i=0;e.subscribe(Zi(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Jg(n){return Ji((e,t)=>{let i=!1;e.subscribe(Zi(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Yb(n=rD){return Ji((e,t)=>{let i=!1;e.subscribe(Zi(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function rD(){return new Yg}function ju(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Jr((r,s)=>n(r,s,i)):Ca,Ds(1),t?Jg(e):Yb(()=>new Yg))}const Jb="https://g.co/ng/security#xss";class Je extends Error{constructor(e,t){super(function Xc(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ya(n){return{toString:n}.toString()}const nA="__parameters__";function Yc(n,e,t){return Ya(()=>{const i=function rA(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const h=l.hasOwnProperty(nA)?l[nA]:Object.defineProperty(l,nA,{value:[]})[nA];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const er=globalThis;function ar(n){for(let e in n)if(n[e]===ar)return e;throw Error("Could not find renamed property on target object.")}function sD(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Bs(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Bs).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Iv(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const aD=ar({__forward_ref__:ar});function tr(n){return n.__forward_ref__=tr,n.toString=function(){return Bs(this())},n}function xn(n){return tm(n)?n():n}function tm(n){return"function"==typeof n&&n.hasOwnProperty(aD)&&n.__forward_ref__===tr}function dc(n,e,t){n!=e&&function Dn(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(t,n,e,"==")}function dt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ri(n){return{providers:n.providers||[],imports:n.imports||[]}}function Wf(n){return Nv(n,Is)||Nv(n,kh)}function Nv(n,e){return n.hasOwnProperty(e)?n[e]:null}function nm(n){return n&&(n.hasOwnProperty(Rv)||n.hasOwnProperty(pD))?n[Rv]:null}const Is=ar({\u0275prov:ar}),Rv=ar({\u0275inj:ar}),kh=ar({ngInjectableDef:ar}),pD=ar({ngInjectorDef:ar});class Qt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=dt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Uv(n){return n&&!!n.\u0275providers}const Kf=ar({\u0275cmp:ar}),kv=ar({\u0275dir:ar}),Hv=ar({\u0275pipe:ar}),rC=ar({\u0275mod:ar}),Zc=ar({\u0275fac:ar}),qf=ar({__NG_ELEMENT_ID__:ar}),sC=ar({__NG_ENV_ID__:ar});function zn(n){return"string"==typeof n?n:null==n?"":String(n)}function Vv(n,e){throw new Je(-201,!1)}var mi=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(mi||{});let Qv;function oC(){return Qv}function Zo(n){const e=Qv;return Qv=n,e}function rm(n,e,t){const i=Wf(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&mi.Optional?null:void 0!==e?e:void Vv()}const eu={},Wu="__NG_DI_FLAG__",zi="ngTempTokenPath",Gv=/\n/gm,Vh="__source";let Po;function Lo(n){const e=Po;return Po=n,e}function As(n,e=mi.Default){if(void 0===Po)throw new Je(-203,!1);return null===Po?rm(n,void 0,e):Po.get(n,e&mi.Optional?null:void 0,e)}function bt(n,e=mi.Default){return(oC()||As)(xn(n),e)}function we(n,e=mi.Default){return bt(n,Fl(e))}function Fl(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Qh(n){const e=[];for(let t=0;t<n.length;t++){const i=xn(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Je(900,!1);let r,s=mi.Default;for(let o=0;o<i.length;o++){const a=i[o],l=lC(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(bt(r,s))}else e.push(bt(i))}return e}function nr(n,e){return n[Wu]=e,n.prototype[Wu]=e,n}function lC(n){return n[Wu]}const Gh=nr(Yc("Optional"),8),Xf=nr(Yc("SkipSelf"),4);function ea(n,e){return n.hasOwnProperty(Zc)?n[Zc]:null}function Ta(n,e){n.forEach(t=>Array.isArray(t)?Ta(t,e):e(t))}function zv(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Yf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ma(n,e,t){let i=tu(n,e);return i>=0?n[1|i]=t:(i=~i,function lA(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function jv(n,e){const t=tu(n,e);if(t>=0)return n[1|t]}function tu(n,e){return function AC(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const Ac={},Kn=[],nu=new Qt(""),fC=new Qt("",-1),Wv=new Qt("");class zh{get(e,t=eu){if(t===eu){const i=new Error(`NullInjectorError: No provider for ${Bs(e)}!`);throw i.name="NullInjectorError",i}return t}}var om=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(om||{}),Za=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Za||{}),$n=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}($n||{});function pC(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function am(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{const s=r,o=t[++i];Kv(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function $v(n){return 3===n||4===n||6===n}function Kv(n){return 64===n.charCodeAt(0)}function cA(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||qv(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function qv(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const gC="ng-template";function lm(n,e,t,i){let r=0;if(i){for(;r<e.length&&"string"==typeof e[r];r+=2)if("class"===e[r]&&-1!==pC(e[r+1].toLowerCase(),t,0))return!0}else if(Xv(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&"string"==typeof(s=e[r]);)if(s.toLowerCase()===t)return!0}return!1}function Xv(n){return 4===n.type&&n.value!==gC}function CD(n,e,t){return e===(4!==n.type||t?n.value:gC)}function Yv(n,e,t){let i=4;const r=n.attrs,s=null!==r?function ED(n){for(let e=0;e<n.length;e++)if($v(n[e]))return e;return n.length}(r):0;let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!CD(n,l,t)||""===l&&1===e.length){if(Ol(i))return!1;o=!0}}else if(8&i){if(null===r||!lm(n,r,l,t)){if(Ol(i))return!1;o=!0}}else{const c=e[++a],u=mC(l,r,Xv(n),t);if(-1===u){if(Ol(i))return!1;o=!0;continue}if(""!==c){let h;if(h=u>s?"":r[u+1].toLowerCase(),2&i&&c!==h){if(Ol(i))return!1;o=!0}}}}else{if(!o&&!Ol(i)&&!Ol(l))return!1;if(o&&Ol(l))continue;o=!1,i=l|1&i}}return Ol(i)||o}function Ol(n){return!(1&n)}function mC(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function xD(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function _C(n,e,t=!1){for(let i=0;i<e.length;i++)if(Yv(n,e[i],t))return!0;return!1}function TD(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function uA(n,e){return n?":not("+e.trim()+")":e}function MD(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Ol(o)&&(e+=uA(s,r),r=""),i=o,s=s||!Ol(i);t++}return""!==r&&(e+=uA(s,r)),e}function Fn(n){return Ya(()=>{const e=vC(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===om.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Za.Emulated,styles:n.styles||Kn,_:null,schemas:n.schemas||null,tView:null,id:""};yC(t);const i=n.dependencies;return t.directiveDefs=jh(i,!1),t.pipeDefs=jh(i,!0),t.id=function RD(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function BD(n){return hi(n)||Ns(n)}function ID(n){return null!==n}function ui(n){return Ya(()=>({type:n.type,bootstrap:n.bootstrap||Kn,declarations:n.declarations||Kn,imports:n.imports||Kn,exports:n.exports||Kn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Jf(n,e){if(null==n)return Ac;const t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let s,o,a=$n.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==$n.None?[i,a]:i,e[s]=o):t[s]=i}return t}function Vt(n){return Ya(()=>{const e=vC(n);return yC(e),e})}function ta(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function hi(n){return n[Kf]||null}function Ns(n){return n[kv]||null}function fs(n){return n[Hv]||null}function vo(n,e){const t=n[rC]||null;if(!t&&!0===e)throw new Error(`Type ${Bs(n)} does not have '\u0275mod' property.`);return t}function vC(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ac,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Kn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jf(n.inputs,e),outputs:Jf(n.outputs),debugInfo:null}}function yC(n){n.features?.forEach(e=>e(n))}function jh(n,e){if(!n)return null;const t=e?fs:BD;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(ID)}function hA(n){return{\u0275providers:n}}function FD(...n){return{\u0275providers:Jv(0,n),\u0275fromNgModule:!0}}function Jv(n,...e){const t=[],i=new Set;let r;const s=o=>{t.push(o)};return Ta(e,o=>{const a=o;um(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&wC(r,s),t}function wC(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];Zv(r,s=>{e(s,i)})}}function um(n,e,t,i){if(!(n=xn(n)))return!1;let r=null,s=nm(n);const o=!s&&hi(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=nm(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)um(c,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{Ta(s.imports,u=>{um(u,e,t,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&wC(c,e)}if(!a){const c=ea(r)||(()=>new r);e({provide:r,useFactory:c,deps:Kn},r),e({provide:Wv,useValue:r,multi:!0},r),e({provide:nu,useValue:()=>bt(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;Zv(l,u=>{e(u,c)})}}}return r!==n&&void 0!==n.providers}function Zv(n,e){for(let t of n)Uv(t)&&(t=t.\u0275providers),Array.isArray(t)?Zv(t,e):e(t)}const OD=ar({provide:String,useValue:ar});function Zf(n){return null!==n&&"object"==typeof n&&OD in n}function Xu(n){return"function"==typeof n}const ey=new Qt(""),dA={},hm={};let ty;function dm(){return void 0===ty&&(ty=new zh),ty}class lo{}class AA extends lo{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,iy(e,o=>this.processProvider(o)),this.records.set(fC,fA(void 0,this)),r.has("environment")&&this.records.set(lo,fA(void 0,this));const s=this.records.get(ey);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Wv,Kn,mi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=yn(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),yn(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Lo(this),i=Zo(void 0);try{return e()}finally{Lo(t),Zo(i)}}get(e,t=eu,i=mi.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sC))return e[sC](this);i=Fl(i);const s=Lo(this),o=Zo(void 0);try{if(!(i&mi.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function HD(n){return"function"==typeof n||"object"==typeof n&&n instanceof Qt}(e)&&Wf(e);l=c&&this.injectableDefInScope(c)?fA(ny(e),dA):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&mi.Self?dm():this.parent).get(e,t=i&mi.Optional&&t===eu?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[zi]=a[zi]||[]).unshift(Bs(e)),s)throw a;return function cC(n,e,t,i){const r=n[zi];throw e[Vh]&&r.unshift(e[Vh]),n.message=function uC(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Bs(e);if(Array.isArray(e))r=e.map(Bs).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Bs(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Gv,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[zi]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Zo(o),Lo(s)}}resolveInjectorInitializers(){const e=yn(null),t=Lo(this),i=Zo(void 0);try{const s=this.get(nu,Kn,mi.Self);for(const o of s)o()}finally{Lo(t),Zo(i),yn(e)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Bs(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(e){let t=Xu(e=xn(e))?e:xn(e&&e.provide);const i=function Am(n){return Zf(n)?fA(void 0,n.useValue):fA(SC(n),dA)}(e);if(!Xu(e)&&!0===e.multi){let r=this.records.get(t);r||(r=fA(void 0,dA,!0),r.factory=()=>Qh(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){const i=yn(null);try{return t.value===dA&&(t.value=hm,t.value=t.factory()),"object"==typeof t.value&&t.value&&function kD(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{yn(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=xn(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function ny(n){const e=Wf(n),t=null!==e?e.factory:ea(n);if(null!==t)return t;if(n instanceof Qt)throw new Je(204,!1);if(n instanceof Function)return function LD(n){if(n.length>0)throw new Je(204,!1);const t=function fD(n){return n&&(n[Is]||n[kh])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Je(204,!1)}function SC(n,e,t){let i;if(Xu(n)){const r=xn(n);return ea(r)||ny(r)}if(Zf(n))i=()=>xn(n.useValue);else if(function CC(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Qh(n.deps||[]));else if(function bC(n){return!(!n||!n.useExisting)}(n))i=()=>bt(xn(n.useExisting));else{const r=xn(n&&(n.useClass||n.provide));if(!function UD(n){return!!n.deps}(n))return ea(r)||ny(r);i=()=>new r(...Qh(n.deps))}return i}function fA(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function iy(n,e){for(const t of n)Array.isArray(t)?iy(t,e):t&&Uv(t)?iy(t.\u0275providers,e):e(t)}function fc(n,e){n instanceof AA&&n.assertNotDestroyed();const i=Lo(n),r=Zo(void 0);try{return e()}finally{Lo(i),Zo(r)}}function EC(){return void 0!==oC()||null!=function wD(){return Po}()}const Vr=0,Rt=1,vn=2,is=3,lr=4,yo=5,Da=6,gA=7,xr=8,gs=9,el=10,On=11,np=12,MC=13,mA=14,Kr=15,ip=16,Wh=17,Wt=18,rp=19,DC=20,pc=21,Ba=22,$h=23,Hn=25,Kh=1,Yu=6,gc=7,_A=9,yr=10;var sp=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(sp||{});function js(n){return Array.isArray(n)&&"object"==typeof n[Kh]}function wo(n){return Array.isArray(n)&&!0===n[Kh]}function mm(n){return!!(4&n.flags)}function qh(n){return n.componentOffset>-1}function vA(n){return!(1&~n.flags)}function Pl(n){return!!n.template}function sy(n){return!!(512&n[vn])}class PC{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function uy(n,e,t,i){null!==e?e.applyValueToInputSignal(e,i):n[t]=i}function rs(){return LC}function LC(n){return n.type.prototype.ngOnChanges&&(n.setInput=rB),iB}function iB(){const n=_m(this),e=n?.current;if(e){const t=n.previous;if(t===Ac)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function rB(n,e,t,i,r){const s=this.declaredInputs[i],o=_m(n)||function sB(n,e){return n[Ia]=e}(n,{previous:Ac,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new PC(c&&c.currentValue,t,l===Ac),uy(n,e,r,t)}rs.ngInherit=!0;const Ia="__ngSimpleChanges__";function _m(n){return n[Ia]||null}const mc=function(n,e,t){};let HC=!1;function cr(n){for(;Array.isArray(n);)n=n[Vr];return n}function Xh(n,e){return cr(e[n])}function bo(n,e){return cr(e[n.index])}function iu(n,e){return n.data[e]}function yA(n,e){return n[e]}function Na(n,e){const t=e[n];return js(t)?t:t[Vr]}function op(n){return!(128&~n[vn])}function _c(n,e){return null==e?null:n[e]}function QC(n){n[Wh]=0}function cB(n){1024&n[vn]||(n[vn]|=1024,op(n)&&ap(n))}function Ay(n){return!!(9216&n[vn]||n[$h]?.dirty)}function fy(n){n[el].changeDetectionScheduler?.notify(1),Ay(n)?ap(n):64&n[vn]&&(function aB(){return HC}()?(n[vn]|=1024,ap(n)):n[el].changeDetectionScheduler?.notify())}function ap(n){n[el].changeDetectionScheduler?.notify();let e=Ju(n);for(;null!==e&&!(8192&e[vn])&&(e[vn]|=8192,op(e));)e=Ju(e)}function lp(n,e){if(!(256&~n[vn]))throw new Je(911,!1);null===n[pc]&&(n[pc]=[]),n[pc].push(e)}function Ju(n){const e=n[is];return wo(e)?e[is]:e}const In={lFrame:eS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function cp(){return In.bindingsEnabled}function ru(){return null!==In.skipHydrationRootTNode}function ct(){return In.lFrame.lView}function _i(){return In.lFrame.tView}function ln(n){return In.lFrame.contextLView=n,n[xr]}function un(n){return In.lFrame.contextLView=null,n}function ir(){let n=$C();for(;null!==n&&64===n.type;)n=n.parent;return n}function $C(){return In.lFrame.currentTNode}function up(){const n=In.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ll(n,e){const t=In.lFrame;t.currentTNode=n,t.isParent=e}function Zu(){return In.lFrame.isParent}function hp(){In.lFrame.isParent=!1}function Uo(){const n=In.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ra(){return In.lFrame.bindingIndex++}function vc(n){const e=In.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function bm(n){In.lFrame.inI18n=n}function XC(n,e){const t=In.lFrame;t.bindingIndex=t.bindingRootIndex=n,my(e)}function my(n){In.lFrame.currentDirectiveIndex=n}function bA(){return In.lFrame.currentQueryIndex}function dp(n){In.lFrame.currentQueryIndex=n}function JC(n){const e=n[Rt];return 2===e.type?e.declTNode:1===e.type?n[yo]:null}function ZC(n,e,t){if(t&mi.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&mi.Host||(r=JC(s),null===r||(s=s[mA],10&r.type))););if(null===r)return!1;e=r,n=s}const i=In.lFrame=_y();return i.currentTNode=e,i.lView=n,!0}function Cm(n){const e=_y(),t=n[Rt];In.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function _y(){const n=In.lFrame,e=null===n?null:n.child;return null===e?eS(n):e}function eS(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function tS(){const n=In.lFrame;return In.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Yh=tS;function Sm(){const n=tS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zr(){return In.lFrame.selectedIndex}function tl(n){In.lFrame.selectedIndex=n}function Ri(){const n=In.lFrame;return iu(n.tView,n.selectedIndex)}function vy(){return In.lFrame.currentNamespace}let yy=!0;function Jh(){return yy}function na(n){yy=n}function fp(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Zh(n,e,t){rS(n,e,3,t)}function Em(n,e,t,i){(3&n[vn])===t&&rS(n,e,t,i)}function wy(n,e){let t=n[vn];(3&t)===e&&(t&=16383,t+=1,n[vn]=t)}function rS(n,e,t,i){const s=i??-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[Wh]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[Wh]+=65536),(a<s||-1==s)&&(fB(n,t,e,l),n[Wh]=(4294901760&n[Wh])+l+2),l++}function sS(n,e){mc(4,n,e);const t=yn(null);try{e.call(n)}finally{yn(t),mc(5,n,e)}}function fB(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];r?n[vn]>>14<n[Wh]>>16&&(3&n[vn])===e&&(n[vn]+=16384,sS(a,s)):sS(a,s)}const eh=-1;class pp{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Sy(n){return n!==eh}function gp(n){return 32767&n}function mp(n,e){let t=function aS(n){return n>>16}(n),i=e;for(;t>0;)i=i[mA],t--;return i}let Ey=!0;function xm(n){const e=Ey;return Ey=n,e}const lS=255,Tm=5;let vB=0;const nl={};function Xt(n,e){const t=_p(n,e);if(-1!==t)return t;const i=e[Rt];i.firstCreatePass&&(n.injectorIndex=e.length,th(i.data,n),th(e,null),th(i.blueprint,null));const r=ko(n,e),s=n.injectorIndex;if(Sy(r)){const o=gp(r),a=mp(r,e),l=a[Rt].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function th(n,e){n.push(0,0,0,0,0,0,0,0,e)}function _p(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ko(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=My(r),null===i)return eh;if(t++,r=r[mA],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return eh}function xy(n,e,t){!function yB(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(qf)&&(i=t[qf]),null==i&&(i=t[qf]=vB++);const r=i&lS;e.data[n+(r>>Tm)]|=1<<r}(n,e,t)}function Nr(n,e,t){if(t&mi.Optional||void 0!==n)return n;Vv()}function vp(n,e,t,i){if(t&mi.Optional&&void 0===i&&(i=null),!(t&(mi.Self|mi.Host))){const r=n[gs],s=Zo(void 0);try{return r?r.get(e,i,t&mi.Optional):rm(e,i,t&mi.Optional)}finally{Zo(s)}}return Nr(i,0,t)}function cS(n,e,t,i=mi.Default,r){if(null!==n){if(2048&e[vn]&&!(i&mi.Self)){const o=function CB(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[vn]&&!(512&o[vn]);){const a=yp(s,o,t,i|mi.Self,nl);if(a!==nl)return a;let l=s.parent;if(!l){const c=o[DC];if(c){const u=c.get(t,nl,i);if(u!==nl)return u}l=My(o),o=o[mA]}s=l}return r}(n,e,t,i,nl);if(o!==nl)return o}const s=yp(n,e,t,i,nl);if(s!==nl)return s}return vp(e,t,i,r)}function yp(n,e,t,i,r){const s=function bB(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(qf)?n[qf]:void 0;return"number"==typeof e?e>=0?e&lS:hS:e}(t);if("function"==typeof s){if(!ZC(e,n,i))return i&mi.Host?Nr(r,0,i):vp(e,t,i,r);try{let o;if(o=s(i),null!=o||i&mi.Optional)return o;Vv()}finally{Yh()}}else if("number"==typeof s){let o=null,a=_p(n,e),l=eh,c=i&mi.Host?e[Kr][yo]:null;for((-1===a||i&mi.SkipSelf)&&(l=-1===a?ko(n,e):e[a+8],l!==eh&&uS(i,!1)?(o=e[Rt],a=gp(l),e=mp(l,e)):a=-1);-1!==a;){const u=e[Rt];if(Ty(s,a,u.data)){const h=wB(a,e,t,o,i,c);if(h!==nl)return h}l=e[a+8],l!==eh&&uS(i,e[Rt].data[a+8]===c)&&Ty(s,a,e)?(o=u,a=gp(l),e=mp(l,e)):a=-1}}return r}function wB(n,e,t,i,r,s){const o=e[Rt],a=o.data[n+8],u=ed(a,o,t,null==i?qh(a)&&Ey:i!=o&&!!(3&a.type),r&mi.Host&&s===a);return null!==u?td(e,o,u,a):nl}function ed(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,A=r?a+u:n.directiveEnd;for(let d=i?a:a+u;d<A;d++){const f=o[d];if(d<l&&t===f||d>=l&&f.type===t)return d}if(r){const d=o[l];if(d&&Pl(d)&&d.type===t)return l}return null}function td(n,e,t,i){let r=n[t];const s=e.data;if(function pB(n){return n instanceof pp}(r)){const o=r;o.resolving&&function gD(n,e){throw e&&e.join(" > "),new Je(-200,n)}(function Gi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():zn(n)}(s[t]));const a=xm(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Zo(o.injectImpl):null;ZC(n,i,mi.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function iS(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=LC(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&Zo(c),xm(a),o.resolving=!1,Yh()}}return r}function Ty(n,e,t){return!!(t[e+(n>>Tm)]&1<<n)}function uS(n,e){return!(n&mi.Self||n&mi.Host&&e)}class ms{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return cS(this._tNode,this._lView,e,Fl(i),t)}}function hS(){return new ms(ir(),ct())}function hr(n){return Ya(()=>{const e=n.prototype.constructor,t=e[Zc]||Mm(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Zc]||Mm(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Mm(n){return tm(n)?()=>{const e=Mm(xn(n));return e&&e()}:ea(n)}function My(n){const e=n[Rt],t=e.type;return 2===t?e.declTNode:1===t?n[yo]:null}function AS(n,e=null,t=null,i){const r=By(n,e,t,i);return r.resolveInjectorInitializers(),r}function By(n,e=null,t=null,i,r=new Set){const s=[t||Kn,FD(n)];return i=i||("object"==typeof n?void 0:Bs(n)),new AA(s,e||dm(),i||null,r)}let os=(()=>{class n{static{this.THROW_IF_NOT_FOUND=eu}static{this.NULL=new zh}static create(t,i){if(Array.isArray(t))return AS({name:""},i,t,"");{const r=t.name??"";return AS({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=dt({token:n,providedIn:"any",factory:()=>bt(fC)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function Iy(n){return n.ngOriginalError}class Ul{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Iy(e);for(;t&&Iy(t);)t=Iy(t);return t||null}}const pS=new Qt("",{providedIn:"root",factory:()=>we(Ul).handleError.bind(void 0)});let yc=(()=>{class n{static{this.__NG_ELEMENT_ID__=BB}static{this.__NG_ENV_ID__=t=>t}}return n})();class DB extends yc{constructor(e){super(),this._lView=e}onDestroy(e){return lp(this._lView,e),()=>function vm(n,e){if(null===n[pc])return;const t=n[pc].indexOf(e);-1!==t&&n[pc].splice(t,1)}(this._lView,e)}}function BB(){return new DB(ct())}function v(){return g(ir(),ct())}function g(n,e){return new w(bo(n,e))}let w=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=v}}return n})();function b(n){return n instanceof w?n.nativeElement:n}function O(n){return e=>{setTimeout(n,void 0,e)}}const H=class D extends ci{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,EC()&&(this.destroyRef=we(yc,{optional:!0})??void 0)}emit(e){const t=yn(null);try{super.next(e)}finally{yn(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=O(s),r&&(r=O(r)),o&&(o=O(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof Si&&e.add(a),a}};function ce(){return this._results[Symbol.iterator]()}class ae{get changes(){return this._changes??=new H}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=ae.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=ce)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function ji(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function $u(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const xe="ngSkipHydration",Re="ngskiphydration";function He(n){const e=n.mergedAttrs;if(null===e)return!1;for(let t=0;t<e.length;t+=2){const i=e[t];if("number"==typeof i)return!1;if("string"==typeof i&&i.toLowerCase()===Re)return!0}return!1}function ut(n){return n.hasAttribute(xe)}function Jt(n){return!(128&~n.flags)}const $t=new Map;let ti=0;const Pn="__ngContext__";function xi(n,e){js(e)?(n[Pn]=e[rp],function cn(n){$t.set(n[rp],n)}(e)):n[Pn]=e}function rh(n){return od(n[np])}function wc(n){return od(n[lr])}function od(n){for(;null!==n&&!wo(n);)n=n[lr];return n}let IB;function TA(){if(void 0!==IB)return IB;if(typeof document<"u")return document;throw new Je(210,!1)}const mS=new Qt("",{providedIn:"root",factory:()=>xX}),xX="ng",f3=new Qt(""),bc=new Qt("",{providedIn:"platform",factory:()=>"unknown"}),NB=new Qt(""),p3=new Qt("",{providedIn:"root",factory:()=>TA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function DX(){const n=new Im;return"browser"===we(bc)&&(n.store=function BX(n,e){const t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(i){console.warn("Exception while restoring TransferState for app "+e,i)}return{}}(TA(),we(mS))),n}let Im=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=dt({token:n,providedIn:"root",factory:DX})}get(t,i){return void 0!==this.store[t]?this.store[t]:i}set(t,i){this.store[t]=i}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,i){this.onSerializeCallbacks[t]=i}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const RB="h",FB="b";var Nm=function(n){return n.FirstChild="f",n.NextSibling="n",n}(Nm||{});const OB="e",PB="t",Ny="c",_S="x",Rm="r",LB="i",UB="n",vS="d",kB="__nghData__",Ry="ngh",IX="nghm";let g3=()=>null;function NX(n,e,t=!1){let i=n.getAttribute(Ry);if(null==i)return null;const[r,s]=i.split("|");if(i=t?s:r,!i)return null;const a=t?r:s?`|${s}`:"";let l={};if(""!==i){const u=e.get(Im,null,{optional:!0});null!==u&&(l=u.get(kB,[])[Number(i)])}const c={data:l,firstChild:n.firstChild??null};return t&&(c.firstChild=n,yS(c,0,n.nextSibling)),a?n.setAttribute(Ry,a):n.removeAttribute(Ry),c}function HB(n,e,t=!1){return g3(n,e,t)}function m3(n){let e=n._lView;return 2===e[Rt].type?null:(sy(e)&&(e=e[Hn]),e)}function yS(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function QB(n,e){return n.segmentHeads?.[e]??null}function v3(n,e){return n.data[Ny]?.[e]??null}function GB(n,e){const t=v3(n,e)??[];let i=0;for(let r of t)i+=r[Rm]*(r[_S]??1);return i}function wS(n,e){if(typeof n.disconnectedNodes>"u"){const t=n.data[vS];n.disconnectedNodes=t?new Set(t):null}return!!n.disconnectedNodes?.has(e)}const bS=new Qt(""),w3=new Qt("",{providedIn:"root",factory:()=>!1}),b3=new Qt("");let CS,SS;function Fm(n){return function zB(){if(void 0===CS&&(CS=null,er.trustedTypes))try{CS=er.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return CS}()?.createHTML(n)||n}function E3(n){return function jB(){if(void 0===SS&&(SS=null,er.trustedTypes))try{SS=er.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return SS}()?.createScriptURL(n)||n}class x3{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Jb})`}}function MA(n){return n instanceof x3?n.changingThisBreaksApplicationSecurity:n}function Py(n,e){const t=function WX(n){return n instanceof x3&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Jb})`)}return t===e}class $X{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Fm(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class KX{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Fm(e),t}}const XX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function WB(n){return(n=String(n)).match(XX)?n:"unsafe:"+n}function ad(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Ly(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const M3=ad("area,br,col,hr,img,wbr"),D3=ad("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),B3=ad("rp,rt"),$B=Ly(M3,Ly(D3,ad("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ly(B3,ad("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ly(B3,D3)),KB=ad("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),I3=Ly(KB,ad("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ad("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Om=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Om||{});function es(n){const e=Uy();return e?e.sanitize(Om.URL,n)||"":Py(n,"URL")?MA(n):WB(zn(n))}function O3(n){const e=Uy();if(e)return E3(e.sanitize(Om.RESOURCE_URL,n)||"");if(Py(n,"ResourceURL"))return E3(MA(n));throw new Je(904,!1)}function Uy(){const n=ct();return n&&n[el].sanitizer}const dY=/^>|^->|<!--|-->|--!>|<!-$/g,AY=/(<|>)/g,fY="\u200b$1\u200b";function H3(n){return n.ownerDocument.defaultView}function Hl(n){return n instanceof Function?n():n}function uu(n){return"browser"===(n??we(os)).get(bc)}var DA=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(DA||{});let ZB;function eI(n,e){return ZB(n,e)}function Lm(n,e,t,i,r){if(null!=i){let s,o=!1;wo(i)?s=i:js(i)&&(o=!0,i=i[Vr]);const a=cr(i);0===n&&null!==t?null==r?q3(e,t,a):bp(e,t,a,r||null,!0):1===n&&null!==t?bp(e,t,a,r||null,!0):2===n?Vy(e,a,o):3===n&&e.destroyNode(a),null!=s&&function OY(n,e,t,i,r){const s=t[gc];s!==cr(t)&&Lm(e,n,i,s,r);for(let a=yr;a<t.length;a++){const l=t[a];NS(l[Rt],l,n,e,i,s)}}(e,n,s,t,r)}}function tI(n,e){return n.createText(e)}function nI(n,e){return n.createComment(function L3(n){return n.replace(dY,e=>e.replace(AY,fY))}(e))}function MS(n,e,t){return n.createElement(e,t)}function W3(n,e){e[el].changeDetectionScheduler?.notify(1),NS(n,e,e[On],2,null,null)}function $3(n,e){const t=n[_A],i=t.indexOf(e);t.splice(i,1)}function ky(n,e){if(n.length<=yr)return;const t=yr+e,i=n[t];if(i){const r=i[ip];null!==r&&r!==n&&$3(r,i),e>0&&(n[t-1][lr]=i[lr]);const s=Yf(n,yr+e);!function EY(n,e){W3(n,e),e[Vr]=null,e[yo]=null}(i[Rt],i);const o=s[Wt];null!==o&&o.detachView(s[Rt]),i[is]=null,i[lr]=null,i[vn]&=-129}return i}function DS(n,e){if(!(256&e[vn])){const t=e[On];t.destroyNode&&NS(n,e,t,3,null,null),function TY(n){let e=n[np];if(!e)return iI(n[Rt],n);for(;e;){let t=null;if(js(e))t=e[np];else{const i=e[yr];i&&(t=i)}if(!t){for(;e&&!e[lr]&&e!==n;)js(e)&&iI(e[Rt],e),e=e[is];null===e&&(e=n),js(e)&&iI(e[Rt],e),t=e&&e[lr]}e=t}}(e)}}function iI(n,e){if(256&e[vn])return;const t=yn(null);try{e[vn]&=-129,e[vn]|=256,e[$h]&&function Gg(n){if(Qu(n),qc(n))for(let e=0;e<n.producerNode.length;e++)Jd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[$h]),function IY(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof pp)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];mc(4,a,l);try{l.call(a)}finally{mc(5,a,l)}}else{mc(4,r,s);try{s.call(r)}finally{mc(5,r,s)}}}}}(n,e),function BY(n,e){const t=n.cleanup,i=e[gA];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(e[gA]=null);const r=e[pc];if(null!==r){e[pc]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,e),1===e[Rt].type&&e[On].destroy();const i=e[ip];if(null!==i&&wo(e[is])){i!==e[is]&&$3(i,e);const r=e[Wt];null!==r&&r.detachView(n)}!function si(n){$t.delete(n[rp])}(e)}finally{yn(t)}}function rI(n,e,t){return K3(n,e.parent,t)}function K3(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Vr];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Za.None||s===Za.Emulated)return null}return bo(i,t)}}function bp(n,e,t,i,r){n.insertBefore(e,t,i,r)}function q3(n,e,t){n.appendChild(e,t)}function X3(n,e,t,i,r){null!==i?bp(n,e,t,i,r):q3(n,e,t)}function BS(n,e){return n.parentNode(e)}function Y3(n,e,t){return Z3(n,e,t)}function J3(n,e,t){return 40&n.type?bo(n,t):null}let sI,Z3=J3;function ek(n,e){Z3=n,sI=e}function IS(n,e,t,i){const r=rI(n,i,e),s=e[On],a=Y3(i.parent||e[yo],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)X3(s,r,t[l],a,!1);else X3(s,r,t,a,!1);void 0!==sI&&sI(s,i,e,t,r)}function Hy(n,e){if(null!==e){const t=e.type;if(3&t)return bo(e,n);if(4&t)return oI(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Hy(n,i);{const r=n[e.index];return wo(r)?oI(-1,r):cr(r)}}if(32&t)return eI(e,n)()||cr(n[e.index]);{const i=tk(n,e);return null!==i?Array.isArray(i)?i[0]:Hy(Ju(n[Kr]),i):Hy(n,e.next)}}return null}function tk(n,e){return null!==e?n[Kr][yo].projection[e.projection]:null}function oI(n,e){const t=yr+n+1;if(t<e.length){const i=e[t],r=i[Rt].firstChild;if(null!==r)return Hy(i,r)}return e[gc]}function Vy(n,e,t){const i=BS(n,e);i&&function NY(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}function nk(n){n.textContent=""}function aI(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&xi(cr(a),i),t.flags|=2),32&~t.flags)if(8&l)aI(n,e,t.child,i,r,s,!1),Lm(e,n,r,a,s);else if(32&l){const c=eI(t,i);let u;for(;u=c();)Lm(e,n,r,u,s);Lm(e,n,r,a,s)}else 16&l?ik(n,e,i,t,r,s):Lm(e,n,r,a,s);t=o?t.projectionNext:t.next}}function NS(n,e,t,i,r,s){aI(t,i,n.firstChild,e,r,s,!1)}function ik(n,e,t,i,r,s){const o=t[Kr],l=o[yo].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Lm(e,n,r,l[c],s);else{let c=l;const u=o[is];Jt(i)&&(c.flags|=128),aI(n,e,c,u,r,s,!0)}}function rk(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function sk(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&am(n,e,i),null!==r&&rk(n,e,r),null!==s&&function LY(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}const Xn={};function Ae(n=1){ok(_i(),ct(),Zr()+n,!1)}function ok(n,e,t,i){if(!i)if(3&~e[vn]){const s=n.preOrderHooks;null!==s&&Em(e,s,0,t)}else{const s=n.preOrderCheckHooks;null!==s&&Zh(e,s,t)}tl(t)}function et(n,e=mi.Default){const t=ct();return null===t?bt(n,e):cS(ir(),t,xn(n),e)}function lk(n,e,t,i,r,s){const o=yn(null);try{let a=null;r&$n.SignalBased&&(a=e[i][$r]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),r&$n.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),null!==n.setInput?n.setInput(e,a,s,t,i):uy(e,a,i,s)}finally{yn(o)}}function RS(n,e,t,i,r,s,o,a,l,c,u){const h=e.blueprint.slice();return h[Vr]=r,h[vn]=204|i,(null!==c||n&&2048&n[vn])&&(h[vn]|=2048),QC(h),h[is]=h[mA]=n,h[xr]=t,h[el]=o||n&&n[el],h[On]=a||n&&n[On],h[gs]=l||n&&n[gs]||null,h[yo]=s,h[rp]=function dn(){return ti++}(),h[Da]=u,h[DC]=c,h[Kr]=2==e.type?n[Kr]:h,h}function Um(n,e,t,i,r){let s=n.data[e];if(null===s)s=lI(n,e,t,i,r),function qC(){return In.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=up();s.injectorIndex=null===o?-1:o.injectorIndex}return Ll(s,!0),s}function lI(n,e,t,i,r){const s=$C(),o=Zu(),l=n.data[e]=function jY(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return ru()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}function Qy(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function ck(n,e,t,i,r){const s=Zr(),o=2&i;try{tl(-1),o&&e.length>Hn&&ok(n,e,Hn,!1),mc(o?2:0,r),t(i,r)}finally{tl(s),mc(o?3:1,r)}}function cI(n,e,t){if(mm(e)){const i=yn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{yn(i)}}}function uI(n,e,t){cp()&&(function JY(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;qh(t)&&function sJ(n,e,t){const i=bo(e,n),r=uk(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=FS(n,RS(n,r,null,o,i,e,null,n[el].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Xt(t,e),xi(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=td(e,n,a,t);xi(c,e),null!==o&&oJ(0,a-r,c,l,0,o),Pl(l)&&(Na(t.index,e)[xr]=td(e,n,a,t))}}(n,e,t,bo(t,e)),!(64&~t.flags)&&pk(n,e,t))}function hI(n,e,t=bo){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function uk(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=dI(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function dI(n,e,t,i,r,s,o,a,l,c,u){const h=Hn+i,A=h+r,d=function kY(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Xn);return t}(h,A),f="function"==typeof c?c():c;return d[Rt]={type:n,blueprint:d,template:t,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:A,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1,ssrId:u}}let hk=()=>null;function QY(n){ut(n)?nk(n):function OX(n){const e=TA(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(s){const o=function FX(n){return n.textContent?.replace(/\s/gm,"")}(s);return"ngetn"===o||"ngtns"===o?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let i;const r=[];for(;i=t.nextNode();)r.push(i);for(const s of r)"ngetn"===s.textContent?s.replaceWith(e.createTextNode("")):s.remove()}(n)}function dk(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];if(void 0===o)continue;i??={};let a,l=$n.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(null!==r){if(!r.hasOwnProperty(s))continue;c=r[s]}0===n?Ak(i,t,c,a,l):Ak(i,t,c,a)}return i}function Ak(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],void 0!==r&&s.push(r)}function il(n,e,t,i,r,s,o,a){const l=bo(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(mI(n,t,u,i,r),qh(e)&&function KY(n,e){const t=Na(e,n);16&t[vn]||(t[vn]|=64)}(t,e.index)):3&e.type&&(i=function $Y(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(l,i,r))}function AI(n,e,t,i){if(cp()){const r=null===i?null:{"":-1},s=function eJ(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(_C(e,o.selectors,!1))if(i||(i=[]),Pl(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),fI(n,e,a.length)}else i.unshift(o),fI(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&fk(n,e,t,o,r,a),r&&function tJ(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new Je(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=cA(t.mergedAttrs,t.attrs)}function fk(n,e,t,i,r,s){for(let c=0;c<i.length;c++)xy(Xt(t,e),n,i[c].type);!function iJ(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Qy(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=cA(t.mergedAttrs,u.hostAttrs),rJ(n,t,e,l,u),nJ(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function WY(n,e,t){const r=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const h=s[u],A=t?t.get(h):null,f=A?A.outputs:null;l=dk(0,h.inputs,u,l,A?A.inputs:null),c=dk(1,h.outputs,u,c,f);const _=null===l||null===o||Xv(e)?null:aJ(l,u,o);a.push(_)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function pk(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function YC(){return In.lFrame.currentDirectiveIndex}();try{tl(s);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];my(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&ZY(l,c)}}finally{tl(-1),my(o)}}function ZY(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function fI(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function nJ(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Pl(e)&&(t[""]=n)}}function rJ(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=ea(r.type)),o=new pp(s,Pl(r),et);n.blueprint[i]=o,t[i]=o,function XY(n,e,t,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function YY(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(n,e,i,Qy(n,t,r.hostVars,Xn),r)}function oh(n,e,t,i,r,s){const o=bo(n,e);!function pI(n,e,t,i,r,s,o){if(null==s)n.removeAttribute(e,r,t);else{const a=null==o?zn(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}(e[On],o,s,n.value,t,i,r)}function oJ(n,e,t,i,r,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)lk(i,t,o[a++],o[a++],o[a++],o[a++])}function aJ(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function gk(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function mk(n,e){const t=n.contentQueries;if(null!==t){const i=yn(null);try{for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const a=n.data[o];dp(t[r]),a.contentQueries(2,e[o],o)}}}finally{yn(i)}}}function FS(n,e){return n[np]?n[MC][lr]=e:n[np]=e,n[MC]=e,e}function gI(n,e,t){dp(0);const i=yn(null);try{e(n,t)}finally{yn(i)}}function _k(n){return n[gA]||(n[gA]=[])}function vk(n){return n.cleanup||(n.cleanup=[])}function OS(n,e){const t=n[gs],i=t?t.get(Ul,null):null;i&&i.handleError(e)}function mI(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=t[s++];lk(n.data[o],e[o],i,a,l,r)}}function ld(n,e,t){const i=Xh(e,n);!function j3(n,e,t){n.setValue(e,t)}(n[On],i,t)}function lJ(n,e){const t=Na(e,n),i=t[Rt];!function cJ(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Vr];null!==r&&null===t[Da]&&(t[Da]=HB(r,t[gs])),_I(i,t,t[xr])}function _I(n,e,t){Cm(e);try{const i=n.viewQuery;null!==i&&gI(1,i,t);const r=n.template;null!==r&&ck(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Wt]?.finishViewCreation(n),n.staticContentQueries&&mk(n,e),n.staticViewQueries&&gI(2,n.viewQuery,t);const s=n.components;null!==s&&function uJ(n,e){for(let t=0;t<e.length;t++)lJ(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[vn]&=-5,Sm()}}function Gy(n,e,t,i){const r=yn(null);try{const s=e.tView,l=RS(n,s,t,4096&n[vn]?4096:16,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);l[ip]=n[e.index];const u=n[Wt];return null!==u&&(l[Wt]=u.createEmbeddedView(s)),_I(s,l,t),l}finally{yn(r)}}function wk(n,e){const t=yr+e;if(t<n.length)return n[t]}function km(n,e){return!e||null===e.firstChild||Jt(n)}function zy(n,e,t,i=!0){const r=e[Rt];if(function MY(n,e,t,i){const r=yr+i,s=t.length;i>0&&(t[r-1][lr]=e),i<s-yr?(e[lr]=t[r],zv(t,yr+i,e)):(t.push(e),e[lr]=null),e[is]=t;const o=e[ip];null!==o&&t!==o&&function DY(n,e){const t=n[_A];e[Kr]!==e[is][is][Kr]&&(n[vn]|=sp.HasTransplantedViews),null===t?n[_A]=[e]:t.push(e)}(o,e);const a=e[Wt];null!==a&&a.insertView(n),fy(e),e[vn]|=128}(r,e,n,t),i){const o=oI(t,n),a=e[On],l=BS(a,n[gc]);null!==l&&function xY(n,e,t,i,r,s){i[Vr]=r,i[yo]=e,NS(n,i,t,1,r,s)}(r,n[yo],a,e,l,o)}const s=e[Da];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function vI(n,e){const t=ky(n,e);return void 0!==t&&DS(t[Rt],t),t}function jy(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];null!==s&&i.push(cr(s)),wo(s)&&bk(s,i);const o=t.type;if(8&o)jy(n,e,t.child,i);else if(32&o){const a=eI(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=tk(e,t);if(Array.isArray(a))i.push(...a);else{const l=Ju(e[Kr]);jy(l[Rt],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function bk(n,e){for(let t=yr;t<n.length;t++){const i=n[t],r=i[Rt].firstChild;null!==r&&jy(i[Rt],i,r,e)}n[gc]!==n[Vr]&&e.push(n[gc])}let Ck=[];const fJ={...ao,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ap(n.lView)},consumerOnSignalRead(){this.lView[$h]=this}},Sk=100;function PS(n,e=!0,t=0){const i=n[el],r=i.rendererFactory;r.begin?.();try{!function pJ(n,e){yI(n,e);let t=0;for(;Ay(n);){if(t===Sk)throw new Je(103,!1);t++,yI(n,1)}}(n,t)}catch(o){throw e&&OS(n,o),o}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function gJ(n,e,t,i){const r=e[vn];if(!(256&~r))return;e[el].inlineEffectRunner?.flush(),Cm(e);let o=null,a=null;(function mJ(n){return 2!==n.type})(n)&&(a=function hJ(n){return n[$h]??function dJ(n){const e=Ck.pop()??Object.create(fJ);return e.lView=n,e}(n)}(e),o=function xs(n){return n&&(n.nextProducerIndex=0),yn(n)}(a));try{QC(e),function gy(n){return In.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&ck(n,e,t,2,i);const l=!(3&~r);if(l){const h=n.preOrderCheckHooks;null!==h&&Zh(e,h,null)}else{const h=n.preOrderHooks;null!==h&&Em(e,h,0,null),wy(e,0)}if(function _J(n){for(let e=rh(n);null!==e;e=wc(e)){if(!(e[vn]&sp.HasTransplantedViews))continue;const t=e[_A];for(let i=0;i<t.length;i++){cB(t[i])}}}(e),Ek(e,0),null!==n.contentQueries&&mk(n,e),l){const h=n.contentCheckHooks;null!==h&&Zh(e,h)}else{const h=n.contentHooks;null!==h&&Em(e,h,1),wy(e,1)}!function UY(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)tl(~r);else{const s=r,o=t[++i],a=t[++i];XC(o,s),a(2,e[s])}}}finally{tl(-1)}}(n,e);const c=n.components;null!==c&&Tk(e,c,0);const u=n.viewQuery;if(null!==u&&gI(2,u,i),l){const h=n.viewCheckHooks;null!==h&&Zh(e,h)}else{const h=n.viewHooks;null!==h&&Em(e,h,2),wy(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ba]){for(const h of e[Ba])h();e[Ba]=null}e[vn]&=-73}catch(l){throw ap(e),l}finally{null!==a&&(function uc(n,e){if(yn(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(qc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Jd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,o),function AJ(n){n.lView[$h]!==n&&(n.lView=null,Ck.push(n))}(a)),Sm()}}function Ek(n,e){for(let t=rh(n);null!==t;t=wc(t))for(let i=yr;i<t.length;i++)xk(t[i],e)}function vJ(n,e,t){xk(Na(e,n),t)}function xk(n,e){op(n)&&yI(n,e)}function yI(n,e){const i=n[Rt],r=n[vn],s=n[$h];let o=!!(0===e&&16&r);if(o||=!!(64&r&&0===e),o||=!!(1024&r),o||=!(!s?.dirty||!Bl(s)),s&&(s.dirty=!1),n[vn]&=-9217,o)gJ(i,n,i.template,n[xr]);else if(8192&r){Ek(n,1);const a=i.components;null!==a&&Tk(n,a,1)}}function Tk(n,e,t){for(let i=0;i<e.length;i++)vJ(n,e[i],t)}function Wy(n){for(n[el].changeDetectionScheduler?.notify();n;){n[vn]|=64;const e=Ju(n);if(sy(n)&&!e)return n;n=e}return null}class $y{get rootNodes(){const e=this._lView,t=e[Rt];return jy(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xr]}set context(e){this._lView[xr]=e}get destroyed(){return!(256&~this._lView[vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[is];if(wo(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(ky(e,i),Yf(t,i))}this._attachedToViewContainer=!1}DS(this._lView[Rt],this._lView)}onDestroy(e){lp(this._lView,e)}markForCheck(){Wy(this._cdRefInjectingView||this._lView)}detach(){this._lView[vn]&=-129}reattach(){fy(this._lView),this._lView[vn]|=128}detectChanges(){this._lView[vn]|=1024,PS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,W3(this._lView[Rt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=e,fy(this._lView)}}let Rs=(()=>{class n{static{this.__NG_ELEMENT_ID__=bJ}}return n})();const yJ=Rs,wJ=class extends yJ{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=Gy(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new $y(r)}};function bJ(){return LS(ir(),ct())}function LS(n,e){return 4&n.type?new wJ(e,n,g(n,e)):null}function Bk(n){const e=n[Yu]??[],i=n[is][On];for(const r of e)IJ(r,i);n[Yu]=Kn}function IJ(n,e){let t=0,i=n.firstChild;if(i){const r=n.data[Rm];for(;t<r;){const s=i.nextSibling;Vy(e,i,!1),i=s,t++}}}function Ik(n){Bk(n);for(let e=yr;e<n.length;e++)kS(n[e])}function kS(n){!function NJ(n){const e=n[Da]?.i18nNodes;if(e){const t=n[On];for(const i of e.values())Vy(t,i,!1);n[Da].i18nNodes=void 0}}(n);const e=n[Rt];for(let t=Hn;t<e.bindingStartIndex;t++)wo(n[t])?Ik(n[t]):js(n[t])&&kS(n[t])}const FJ=new RegExp(`^(\\d+)*(${FB}|${RB})*(.*)`);function SI(n){return n.index-Hn}function HS(n,e,t,i){const r=SI(i);let s=function UJ(n,e){const t=n.i18nNodes;if(t){const i=t.get(e);return i&&t.delete(e),i}return null}(n,r);if(!s){const o=n.data[UB];if(o?.[r])s=function HJ(n,e){const[t,...i]=function PJ(n){const e=n.match(FJ),[t,i,r,s]=e,o=i?parseInt(i,10):r,a=[];for(const[l,c,u]of s.matchAll(/(f|n)(\d*)/g)){const h=parseInt(u,10)||1;a.push(c,h)}return[o,...a]}(n);let r;return r=t===RB?e[Kr][Vr]:t===FB?function V3(n){return n.ownerDocument.body}(e[Kr][Vr]):cr(e[Number(t)+Hn]),function kJ(n,e){let t=n;for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];for(let o=0;o<s;o++)switch(r){case Nm.FirstChild:t=t.firstChild;break;case Nm.NextSibling:t=t.nextSibling}}return t}(r,i)}(o[r],t);else if(e.firstChild===i)s=n.firstChild;else{const a=null===i.prev,l=i.prev??i.parent;if(function LJ(n){return!n.prev&&8===n.parent?.type}(i))s=QB(n,SI(i.parent));else{let c=bo(l,t);if(a)s=c.firstChild;else{const u=SI(l),h=QB(n,u);s=2===l.type&&h?VS(GB(n,u)+1,h):c.nextSibling}}}}return s}function VS(n,e){let t=e;for(let i=0;i<n;i++)t=t.nextSibling;return t}let Rk=()=>null;function zJ(n,e){const t=n[Yu];return e&&null!==t&&0!==t.length?t[0].data[LB]===e?t.shift():(Bk(n),null):null}function Hm(n,e){return Rk(n,e)}class QS{}class WJ{}class Fk{}class KJ{resolveComponentFactory(e){throw function $J(n){const e=Error(`No component factory found for ${Bs(n)}.`);return e.ngComponent=n,e}(e)}}let Jy=(()=>{class n{static{this.NULL=new KJ}}return n})();class xI{}let hu=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function qJ(){const n=ct(),t=Na(ir().index,n);return(js(t)?t:n)[On]}()}}return n})(),XJ=(()=>{class n{static{this.\u0275prov=dt({token:n,providedIn:"root",factory:()=>null})}}return n})();const TI={},Pk=new Set;function du(n){Pk.has(n)||(Pk.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Lk(...n){}class Vn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new H(!1),this.onMicrotaskEmpty=new H(!1),this.onStable=new H(!1),this.onError=new H(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function YJ(){const n="function"==typeof er.requestAnimationFrame;let e=er[n?"requestAnimationFrame":"setTimeout"],t=er[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function eZ(n){const e=()=>{!function ZJ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(er,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,DI(n),n.isCheckStableRunning=!0,MI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),DI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{if(function tZ(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,s,o,a);try{return Uk(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),kk(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return Uk(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),kk(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,DI(n),MI(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vn.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(Vn.isInAngularZone())throw new Je(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,JJ,Lk,Lk);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const JJ={};function MI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function DI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Uk(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kk(n){n._nesting--,MI(n)}class Hk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new H,this.onMicrotaskEmpty=new H,this.onStable=new H,this.onError=new H}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}var Cp=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Cp||{});const Vk={destroy(){}};function II(n,e){!e&&function ep(n){if(!EC())throw new Je(-203,!1)}();const t=e?.injector??we(os);if(!uu(t))return Vk;du("NgAfterNextRender");const i=t.get(Zy),r=i.handler??=new Gk,s=e?.phase??Cp.MixedReadWrite,o=()=>{r.unregister(l),a()},a=t.get(yc).onDestroy(o),l=fc(t,()=>new Qk(s,()=>{o(),n()}));return r.register(l),{destroy:o}}class Qk{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=we(Vn),this.errorHandler=we(Ul,{optional:!0}),we(QS,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class Gk{constructor(){this.executingCallbacks=!1,this.buckets={[Cp.EarlyRead]:new Set,[Cp.Write]:new Set,[Cp.MixedReadWrite]:new Set,[Cp.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Zy=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=dt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function zS(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=Iv(r,a):2==s&&(i=Iv(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class Wk extends Jy{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=hi(e);return new n1(t,this.ngModule)}}function $k(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const i=n[t];void 0!==i&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}class jS{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Fl(i);const r=this.injector.get(e,TI,i);return r!==TI||t===TI?r:this.parentInjector.get(e,t,i)}}class n1 extends Fk{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=$k(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return $k(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function DD(n){return n.map(MD).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){const s=yn(null);try{let o=(r=r||this.ngModule)instanceof lo?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new jS(e,o):e,l=a.get(xI,null);if(null===l)throw new Je(407,!1);const c=a.get(XJ,null),A={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:a.get(Zy,null),changeDetectionScheduler:a.get(QS,null)},d=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",_=i?function HY(n,e,t,i){const s=i.get(w3,!1)||t===Za.ShadowDom,o=n.selectRootElement(e,s);return function VY(n){hk(n)}(o),o}(d,i,this.componentDef.encapsulation,a):MS(d,f,function oZ(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let m=null;null!==_&&(m=HB(_,a,!0));const S=dI(0,null,null,1,0,null,null,null,null,null,null),x=RS(null,S,null,y,null,null,A,d,a,null,m);let M,L;Cm(x);try{const U=this.componentDef;let P,N=null;U.findHostDirectiveDefs?(P=[],N=new Map,U.findHostDirectiveDefs(U,P,N),P.push(U)):P=[U];const R=function lZ(n,e){const t=n[Rt],i=Hn;return n[i]=e,Um(t,i,2,"#host",null)}(x,_),F=function cZ(n,e,t,i,r,s,o){const a=r[Rt];!function uZ(n,e,t,i){for(const r of n)e.mergedAttrs=cA(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(zS(e,e.mergedAttrs,!0),null!==t&&sk(i,t,e))}(i,n,e,o);let l=null;null!==e&&(l=HB(e,r[gs]));const c=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const h=RS(r,uk(t),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&fI(a,n,i.length-1),FS(r,h),r[n.index]=h}(R,_,U,P,x,A,d);L=iu(S,Hn),_&&function dZ(n,e,t,i){if(i)am(n,t,["ng-version","17.3.12"]);else{const{attrs:r,classes:s}=function cm(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!Ol(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&am(n,t,r),s&&s.length>0&&rk(n,t,s.join(" "))}}(d,U,_,i),void 0!==t&&function AZ(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(L,this.ngContentSelectors,t),M=function hZ(n,e,t,i,r,s){const o=ir(),a=r[Rt],l=bo(o,r);fk(a,r,o,t,null,i);for(let u=0;u<t.length;u++)xi(td(r,a,o.directiveStart+u,o),r);pk(a,r,o),l&&xi(l,r);const c=td(r,a,o.directiveStart+o.componentOffset,o);if(n[xr]=r[xr]=c,null!==s)for(const u of s)u(c,e);return cI(a,o,r),c}(F,U,P,N,x,[fZ]),_I(S,x,null)}finally{Sm()}return new aZ(this.componentType,M,g(L,x),x,L)}finally{yn(s)}}}class aZ extends WJ{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new $y(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;mI(s[Rt],s,r,e,t),this.previousInputValues.set(e,t),Wy(Na(this._tNode.index,s))}}get injector(){return new ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function fZ(){const n=ir();fp(ct()[Rt],n)}let rl=(()=>{class n{static{this.__NG_ELEMENT_ID__=pZ}}return n})();function pZ(){return Xk(ir(),ct())}const gZ=rl,Kk=class extends gZ{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return g(this._hostTNode,this._hostLView)}get injector(){return new ms(this._hostTNode,this._hostLView)}get parentInjector(){const e=ko(this._hostTNode,this._hostLView);if(Sy(e)){const t=mp(e,this._hostLView),i=gp(e);return new ms(t[Rt].data[i+8],t)}return new ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=qk(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-yr}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=Hm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,km(this._hostTNode,o)),a}createComponent(e,t,i,r,s){const o=e&&!function tp(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const f=t||{};a=f.index,i=f.injector,r=f.projectableNodes,s=f.environmentInjector||f.ngModuleRef}const l=o?e:new n1(hi(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const _=(o?c:this.parentInjector).get(lo,null);_&&(s=_)}const u=hi(l.componentType??{}),h=Hm(this._lContainer,u?.id??null),d=l.create(c,r,h?.firstChild??null,s);return this.insertImpl(d.hostView,a,km(this._hostTNode,h)),d}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function lB(n){return wo(n[is])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=r[is],c=new Kk(l,l[yo],l[is]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;return zy(o,r,s,i),e.attachToViewContainerRef(),zv(FI(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=qk(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=ky(this._lContainer,t);i&&(Yf(FI(this._lContainer),t),DS(i[Rt],i))}detach(e){const t=this._adjustIndex(e,-1),i=ky(this._lContainer,t);return i&&null!=Yf(FI(this._lContainer),t)?new $y(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function qk(n){return n[8]}function FI(n){return n[8]||(n[8]=[])}function Xk(n,e){let t;const i=e[n.index];return wo(i)?t=i:(t=gk(i,e,null,n),e[n.index]=t,FS(e,t)),Yk(t,e,n,i),new Kk(t,n,e)}let Yk=Zk,OI=()=>!1;function Zk(n,e,t,i){if(n[gc])return;let r;r=8&t.type?cr(i):function mZ(n,e){const t=n[On],i=t.createComment(""),r=bo(e,n);return bp(t,BS(t,r),i,function RY(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[gc]=r}function _Z(n,e,t){if(n[gc]&&n[Yu])return!0;const i=t[Da],r=e.index-Hn;if(!i||function It(n){if(Jt(n))return!0;let e=n.parent;for(;e;){if(Jt(n)||He(e))return!0;e=e.parent}return!1}(e)||wS(i,r))return!1;const o=QB(i,r),a=i.data[Ny]?.[r],[l,c]=function GJ(n,e){const t=[];for(const i of e)for(let r=0;r<(i[_S]??1);r++){const s={data:i,firstChild:null};i[Rm]>0&&(s.firstChild=n,n=VS(i[Rm],n)),t.push(s)}return[n,t]}(o,a);return n[gc]=l,n[Yu]=c,!0}function vZ(n,e,t,i){OI(n,t,e)||Zk(n,e,t,i)}class PI{constructor(e){this.queryList=e,this.matches=null}clone(){return new PI(this.queryList)}setDirty(){this.queryList.setDirty()}}class LI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new LI(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==QI(e,t).matches&&this.queries[t].setDirty()}}class e4{constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function EZ(n){return n.split(",").map(e=>e.trim())}(e):e}}class UI{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new UI(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class kI{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new kI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,wZ(t,s)),this.matchTNodeWithReadOption(e,t,ed(t,e,s,!1,!1))}else i===Rs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ed(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===w||r===rl||r===Rs&&4&t.type)this.addMatch(t.index,-2);else{const s=ed(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function wZ(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function CZ(n,e,t,i){return-1===t?function bZ(n,e){return 11&n.type?g(n,e):4&n.type?LS(n,e):null}(e,n):-2===t?function SZ(n,e,t){return t===w?g(e,n):t===Rs?LS(e,n):t===rl?Xk(e,n):void 0}(n,e,i):td(n,n[Rt],t,e)}function t4(n,e,t,i){const r=e[Wt].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;null!==o&&l<o.length;l+=2){const c=o[l];a.push(c<0?null:CZ(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function HI(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=t4(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let h=yr;h<u.length;h++){const A=u[h];A[ip]===A[is]&&HI(A[Rt],A,c,i)}if(null!==u[_A]){const h=u[_A];for(let A=0;A<h.length;A++){const d=h[A];HI(d[Rt],d,c,i)}}}}}return i}function n4(n,e,t){const i=new ae(!(4&~t));return function zY(n,e,t,i){const r=_k(e);r.push(t),n.firstCreatePass&&vk(n).push(i,r.length-1)}(n,e,i,i.destroy),(e[Wt]??=new LI).queries.push(new PI(i))-1}function s4(n,e,t){null===n.queries&&(n.queries=new UI),n.queries.track(new kI(e,t))}function QI(n,e){return n.queries.getByIndex(e)}function o4(n,e){const t=n[Rt],i=QI(t,e);return i.crossesNgTemplate?HI(t,n,e,[]):t4(t,n,i,e)}function GI(n,e){du("NgSignals");const t=function Sv(n){const e=Object.create($g);e.value=n;const t=()=>(lc(e),e.value);return t[$r]=e,t}(n),i=t[$r];return e?.equal&&(i.equal=e.equal),t.set=r=>eA(i,r),t.update=r=>function Wg(n,e){cc()||Cv(),eA(n,e(n.value))}(i,r),t.asReadonly=l4.bind(t),t}function l4(){const n=this[$r];if(void 0===n.readonlyFn){const e=()=>this();e[$r]=n,n.readonlyFn=e}return n.readonlyFn}function c4(n){return function a4(n){return"function"==typeof n&&void 0!==n[$r]}(n)&&"function"==typeof n.set}function Wi(n){let e=function y4(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Pl(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Je(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=$S(n.inputs),o.inputTransforms=$S(n.inputTransforms),o.declaredInputs=$S(n.declaredInputs),o.outputs=$S(n.outputs);const a=r.hostBindings;a&&HZ(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&UZ(n,l),c&&kZ(n,c),PZ(n,r),sD(n.outputs,r.outputs),Pl(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Wi&&(t=!1)}}e=Object.getPrototypeOf(e)}!function LZ(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=cA(r.hostAttrs,t=cA(t,r.hostAttrs))}}(i)}function PZ(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const i=e.inputs[t];if(void 0!==i&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function $S(n){return n===Ac?{}:n===Kn?[]:n}function UZ(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function kZ(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function HZ(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function r1(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}class Sp{}class S4{}class WI extends Sp{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wk(this);const r=vo(e);this._bootstrapComponents=Hl(r.bootstrap),this._r3Injector=By(e,t,[{provide:Sp,useValue:this},{provide:Jy,useValue:this.componentFactoryResolver},...i],Bs(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class $I extends S4{constructor(e){super(),this.moduleType=e}create(e){return new WI(this.moduleType,e,[])}}class E4 extends Sp{constructor(e){super(),this.componentFactoryResolver=new Wk(this),this.instance=null;const t=new AA([...e.providers,{provide:Sp,useValue:this},{provide:Jy,useValue:this.componentFactoryResolver}],e.parent||dm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function KS(n,e,t=null){return new E4({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let NA=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Er(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XS(n){return!!KI(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function KI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ah(n,e,t){return n[e]=t}function Fs(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ep(n,e,t,i){const r=Fs(n,e,t);return Fs(n,e+1,i)||r}function o1(n){return!(32&~n.flags)}function Ht(n,e,t,i,r,s,o,a){const l=ct(),c=_i(),u=n+Hn,h=c.firstCreatePass?function JZ(n,e,t,i,r,s,o,a,l){const c=e.consts,u=Um(e,n,4,o||null,_c(c,a));AI(e,t,u,_c(c,l)),fp(e,u);const h=u.tView=dI(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,s,o):c.data[u];Ll(h,!1);const A=x4(c,l,h,n);Jh()&&IS(c,l,A,h),xi(A,l);const d=gk(A,l,A,h);return l[u]=d,FS(l,d),function Jk(n,e,t){return OI(n,e,t)}(d,h,l),vA(h)&&uI(c,l,h),null!=o&&hI(l,h,a),Ht}let x4=T4;function T4(n,e,t,i){return na(!0),e[On].createComment("")}function ZZ(n,e,t,i){const r=e[Da],s=!r||ru()||o1(t)||wS(r,i);if(na(s),s)return T4(0,e);const o=r.data[PB]?.[i]??null;null!==o&&null!==t.tView&&null===t.tView.ssrId&&(t.tView.ssrId=o);const a=HS(r,n,e,t);return yS(r,i,a),VS(GB(r,i),a)}function Mi(n,e,t,i){const r=ct();return Fs(r,Ra(),e)&&(_i(),oh(Ri(),r,n,e,t,i)),Mi}function qm(n,e,t,i){return Fs(n,Ra(),t)?e+zn(t)+i:Xn}function Xm(n,e,t,i,r,s){const a=Ep(n,function su(){return In.lFrame.bindingIndex}(),t,r);return vc(2),a?e+zn(t)+i+zn(r)+s:Xn}function iE(n,e){return n<<17|e<<2}function FA(n){return n>>17&32767}function rN(n){return 2|n}function Tp(n){return(131068&n)>>2}function sN(n,e){return-131069&n|e<<2}function oN(n){return 1|n}function rH(n,e,t,i){const r=n[t+1],s=null===e;let o=i?FA(r):Tp(r),a=!1;for(;0!==o&&(!1===a||s);){const c=n[o+1];Uee(n[o],e)&&(a=!0,n[o+1]=i?oN(c):rN(c)),o=i?FA(c):Tp(c)}a&&(n[t+1]=i?rN(r):oN(r))}function Uee(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&tu(n,e)>=0}const ho={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sH(n){return n.substring(ho.key,ho.keyEnd)}function kee(n){return n.substring(ho.value,ho.valueEnd)}function oH(n,e){const t=ho.textEnd;return t===e?-1:(e=ho.keyEnd=function Qee(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ho.key=e,t),i_(n,e,t))}function aH(n,e){const t=ho.textEnd;let i=ho.key=i_(n,e,t);return t===i?-1:(i=ho.keyEnd=function Gee(n,e,t){let i;for(;e<t&&(45===(i=n.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(n,i,t),i=cH(n,i,t),i=ho.value=i_(n,i,t),i=ho.valueEnd=function zee(n,e,t){let i=-1,r=-1,s=-1,o=e,a=o;for(;o<t;){const l=n.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=uH(n,l,o,t):e===o-4&&85===s&&82===r&&76===i&&40===l?a=o=uH(n,41,o,t):l>32&&(a=o),s=r,r=i,i=-33&l}return a}(n,i,t),cH(n,i,t))}function lH(n){ho.key=0,ho.keyEnd=0,ho.value=0,ho.valueEnd=0,ho.textEnd=n.length}function i_(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function cH(n,e,t,i){return(e=i_(n,e,t))<t&&e++,e}function uH(n,e,t,i){let r=-1,s=t;for(;s<i;){const o=n.charCodeAt(s++);if(o==e&&92!==r)return s;r=92==o&&92===r?0:o}throw new Error}function Be(n,e,t){const i=ct();return Fs(i,Ra(),e)&&il(_i(),Ri(),i,n,e,i[On],t,!1),Be}function aN(n,e,t,i,r){const o=r?"class":"style";mI(n,t,e.inputs[o],o,i)}function u1(n,e,t){return Au(n,e,t,!1),u1}function bi(n,e){return Au(n,e,null,!0),bi}function Sc(n){fu(AH,jee,n,!1)}function jee(n,e){for(let t=function Vee(n){return lH(n),aH(n,i_(n,0,ho.textEnd))}(e);t>=0;t=aH(e,t))AH(n,sH(e),kee(e))}function OA(n){fu(Yee,lh,n,!0)}function lh(n,e){for(let t=function Hee(n){return lH(n),oH(n,i_(n,0,ho.textEnd))}(e);t>=0;t=oH(e,t))Ma(n,sH(e),!0)}function Au(n,e,t,i){const r=ct(),s=_i(),o=vc(2);s.firstUpdatePass&&dH(s,n,o,i),e!==Xn&&Fs(r,o,e)&&fH(s,s.data[Zr()],r,r[On],n,r[o+1]=function Zee(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Bs(MA(n)))),n}(e,t),i,o)}function fu(n,e,t,i){const r=_i(),s=vc(2);r.firstUpdatePass&&dH(r,null,s,i);const o=ct();if(t!==Xn&&Fs(o,s,t)){const a=r.data[Zr()];if(gH(a,i)&&!hH(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Iv(l,t||"")),aN(r,a,o,t,i)}else!function Jee(n,e,t,i,r,s,o,a){r===Xn&&(r=Kn);let l=0,c=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const A=l<r.length?r[l+1]:void 0,d=c<s.length?s[c+1]:void 0;let _,f=null;u===h?(l+=2,c+=2,A!==d&&(f=h,_=d)):null===h||null!==u&&u<h?(l+=2,f=u):(c+=2,f=h,_=d),null!==f&&fH(n,e,t,i,f,_,o,a),u=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}(r,a,o,o[On],o[s+1],o[s+1]=function Xee(n,e,t){if(null==t||""===t)return Kn;const i=[],r=MA(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,s)}}function hH(n,e){return e>=n.expandoStartIndex}function dH(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[Zr()],o=hH(n,t);gH(s,i)&&null===e&&!o&&(e=!1),e=function Wee(n,e,t,i){const r=function wA(n){const e=In.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=h1(t=lN(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=lN(r,n,e,t,i),null===s){let l=function $ee(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Tp(i))return n[FA(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=lN(null,n,e,l[1],i),l=h1(l,e.attrs,i),function Kee(n,e,t,i){n[FA(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function qee(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=h1(i,n[s].hostAttrs,t);return h1(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function Pee(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=FA(o),l=Tp(o);n[i]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||tu(t,u)>0)&&(c=!0)):u=t,r)if(0!==l){const A=FA(n[a+1]);n[i+1]=iE(A,a),0!==A&&(n[A+1]=sN(n[A+1],i)),n[a+1]=function Fee(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=iE(a,0),0!==a&&(n[a+1]=sN(n[a+1],i)),a=i;else n[i+1]=iE(l,0),0===a?a=i:n[l+1]=sN(n[l+1],i),l=i;c&&(n[i+1]=rN(n[i+1])),rH(n,u,i,!0),rH(n,u,i,!1),function Lee(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&tu(s,e)>=0&&(t[i+1]=oN(t[i+1]))}(e,u,n,i,s),o=iE(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}function lN(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=h1(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function h1(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ma(n,o,!!t||e[++s]))}return void 0===n?null:n}function AH(n,e,t){Ma(n,e,MA(t))}function Yee(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Ma(n,i,t)}function fH(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function Oee(n){return!(1&~n)}(c)?pH(l,e,t,r,Tp(c),o):void 0;rE(u)||(rE(s)||function Ree(n){return!(2&~n)}(c)&&(s=pH(l,null,t,r,a,o)),function PY(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:DA.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=DA.Important),n.setStyle(t,i,r,s))}}(i,o,Xh(Zr(),t),r,s))}function pH(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let A=t[r+1];A===Xn&&(A=h?Kn:void 0);let d=h?jv(A,i):u===i?A:void 0;if(c&&!rE(d)&&(d=jv(l,i)),rE(d)&&(a=d,o))return a;const f=n[r+1];r=o?FA(f):Tp(f)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=jv(l,i))}return a}function rE(n){return void 0!==n}function gH(n,e){return!!(n.flags&(e?8:16))}class ute{destroy(e){}updateValue(e,t){}swap(e,t){const i=Math.min(e,t),r=Math.max(e,t),s=this.detach(r);if(r-i>1){const o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,t){this.attach(t,this.detach(e))}}function cN(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function uN(n,e,t,i){return!(void 0===e||!e.has(i)||(n.attach(t,e.get(i)),e.delete(i),0))}function mH(n,e,t,i,r){if(uN(n,e,i,t(i,r)))n.updateValue(i,r);else{const s=n.create(i,r);n.attach(i,s)}}function _H(n,e,t,i){const r=new Set;for(let s=e;s<=t;s++)r.add(i(s,n.at(s)));return r}class vH{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),void 0!==this._vMap){const r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}}function as(n,e,t){du("NgControlFlow");const i=ct(),r=Ra(),s=hN(i,Hn+n);if(Fs(i,r,e)){const a=yn(null);try{if(vI(s,0),-1!==e){const l=dN(i[Rt],Hn+e),c=Hm(s,l.tView.ssrId);zy(s,Gy(i,l,t,{dehydratedView:c}),0,km(l,c))}}finally{yn(a)}}else{const a=wk(s,0);void 0!==a&&(a[xr]=t)}}class dte{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-yr}}function pu(n,e){return e}class fte{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}}function Ql(n,e,t,i,r,s,o,a,l,c,u,h,A){du("NgControlFlow");const d=void 0!==l,f=ct(),_=a?o.bind(f[Kr][xr]):o,y=new fte(d,_);f[Hn+n]=y,Ht(n+1,e,t,i,r,s),d&&Ht(n+2,l,c,u,h,A)}class pte extends ute{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-yr}at(e){return this.getLView(e)[xr].$implicit}attach(e,t){const i=t[Da];this.needsIndexUpdate||=e!==this.length,zy(this.lContainer,t,e,km(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function gte(n,e){return ky(n,e)}(this.lContainer,e)}create(e,t){const i=Hm(this.lContainer,this.templateTNode.tView.ssrId);return Gy(this.hostLView,this.templateTNode,new dte(this.lContainer,t,e),{dehydratedView:i})}destroy(e){DS(e[Rt],e)}updateValue(e,t){this.getLView(e)[xr].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[xr].$index=e}getLView(e){return function mte(n,e){return wk(n,e)}(this.lContainer,e)}}function Gl(n){const e=yn(null),t=Zr();try{const i=ct(),r=i[Rt],s=i[t];if(void 0===s.liveCollection){const a=t+1,l=hN(i,a),c=dN(r,a);s.liveCollection=new pte(l,i,c)}else s.liveCollection.reset();const o=s.liveCollection;if(function hte(n,e,t){let i,r,s=0,o=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){const l=n.at(s),c=e[s],u=cN(s,l,s,c,t);if(0!==u){u<0&&n.updateValue(s,c),s++;continue}const h=n.at(o),A=e[a],d=cN(o,h,a,A,t);if(0!==d){d<0&&n.updateValue(o,A),o--,a--;continue}const f=t(s,l),_=t(o,h),y=t(s,c);if(Object.is(y,_)){const m=t(a,A);Object.is(m,f)?(n.swap(s,o),n.updateValue(o,A),a--,o--):n.move(o,s),n.updateValue(s,c),s++}else if(i??=new vH,r??=_H(n,s,o,t),uN(n,i,s,y))n.updateValue(s,c),s++,o++;else if(r.has(y))i.set(f,n.detach(s)),o--;else{const m=n.create(s,e[s]);n.attach(s,m),s++,o++}}for(;s<=a;)mH(n,i,t,s,e[s]),s++}else if(null!=e){const a=e[Symbol.iterator]();let l=a.next();for(;!l.done&&s<=o;){const c=n.at(s),u=l.value,h=cN(s,c,s,u,t);if(0!==h)h<0&&n.updateValue(s,u),s++,l=a.next();else{i??=new vH,r??=_H(n,s,o,t);const A=t(s,u);if(uN(n,i,s,A))n.updateValue(s,u),s++,o++,l=a.next();else if(r.has(A)){const d=t(s,c);i.set(d,n.detach(s)),o--}else n.attach(s,n.create(s,u)),s++,o++,l=a.next()}}for(;!l.done;)mH(n,i,t,n.length,l.value),l=a.next()}for(;s<=o;)n.destroy(n.detach(o--));i?.forEach(a=>{n.destroy(a)})}(o,n,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){const a=Ra(),l=0===o.length;if(Fs(i,a,l)){const c=t+2,u=hN(i,c);if(l){const h=dN(r,c),A=Hm(u,h.tView.ssrId);zy(u,Gy(i,h,void 0,{dehydratedView:A}),0,km(h,A))}else vI(u,0)}}}finally{yn(e)}}function hN(n,e){return n[e]}function dN(n,e){return iu(n,e)}function q(n,e,t,i){const r=ct(),s=_i(),o=Hn+n,a=r[On],l=s.firstCreatePass?function _te(n,e,t,i,r,s){const o=e.consts,l=Um(e,n,2,i,_c(o,r));return AI(e,t,l,_c(o,s)),null!==l.attrs&&zS(l,l.attrs,!1),null!==l.mergedAttrs&&zS(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,e,t,i):s.data[o],c=yH(s,r,l,a,e,n);r[o]=c;const u=vA(l);return Ll(l,!0),sk(a,c,l),!o1(l)&&Jh()&&IS(s,r,c,l),0===function uB(){return In.lFrame.elementDepthCount}()&&xi(c,r),function hB(){In.lFrame.elementDepthCount++}(),u&&(uI(s,r,l),cI(s,l,r)),null!==i&&hI(r,l),q}function $(){let n=ir();Zu()?hp():(n=n.parent,Ll(n,!1));const e=n;(function AB(n){return In.skipHydrationRootTNode===n})(e)&&function WC(){In.skipHydrationRootTNode=null}(),function dB(){In.lFrame.elementDepthCount--}();const t=_i();return t.firstCreatePass&&(fp(t,n),mm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function mB(n){return!!(8&n.flags)}(e)&&aN(t,e,ct(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Cy(n){return!!(16&n.flags)}(e)&&aN(t,e,ct(),e.stylesWithoutHost,!1),$}function Xe(n,e,t,i){return q(n,e,t,i),$(),Xe}let yH=(n,e,t,i,r,s)=>(na(!0),MS(i,r,vy()));function vte(n,e,t,i,r,s){const o=e[Da],a=!o||ru()||o1(t)||wS(o,s);if(na(a),a)return MS(i,r,vy());const l=HS(o,n,e,t);return v3(o,s)&&yS(o,s,l.nextSibling),o&&(He(t)||ut(l))&&qh(t)&&(function py(n){In.skipHydrationRootTNode=n}(t),nk(l)),l}function Mp(n,e,t){const i=ct(),r=_i(),s=n+Hn,o=r.firstCreatePass?function wte(n,e,t,i,r){const s=e.consts,o=_c(s,i),a=Um(e,n,8,"ng-container",o);return null!==o&&zS(a,o,!0),AI(e,t,a,_c(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,t):r.data[s];Ll(o,!0);const a=wH(r,i,o,n);return i[s]=a,Jh()&&IS(r,i,a,o),xi(a,i),vA(o)&&(uI(r,i,o),cI(r,o,i)),null!=t&&hI(i,o),Mp}function Dp(){let n=ir();const e=_i();return Zu()?hp():(n=n.parent,Ll(n,!1)),e.firstCreatePass&&(fp(e,n),mm(n)&&e.queries.elementEnd(n)),Dp}function AN(n,e,t){return Mp(n,e,t),Dp(),AN}let wH=(n,e,t,i)=>(na(!0),nI(e[On],""));function bte(n,e,t,i){let r;const s=e[Da],o=!s||ru()||o1(t);if(na(o),o)return nI(e[On],"");const a=HS(s,n,e,t),l=function UX(n,e){const t=n.data;let i=t[OB]?.[e]??null;return null===i&&t[Ny]?.[e]&&(i=GB(n,e)),i}(s,i);return yS(s,i,a),r=VS(l,a),r}function Tr(){return ct()}const Bp=void 0;var Ete=["en",[["a","p"],["AM","PM"],Bp],[["AM","PM"],Bp,Bp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bp,"{1} 'at' {0}",Bp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ste(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let r_={};function Fa(n){const e=function xte(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=SH(e);if(t)return t;const i=e.split("-")[0];if(t=SH(i),t)return t;if("en"===i)return Ete;throw new Je(701,!1)}function SH(n){return n in r_||(r_[n]=er.ng&&er.ng.common&&er.ng.common.locales&&er.ng.common.locales[n]),r_[n]}var Qr=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Qr||{});const s_="en-US",sE={marker:"element"},oE={marker:"ICU"};var sl=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(sl||{});let EH=s_;function TH(n,e,t){const i=e.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?J3(n,0,t):cr(t[r])}function MH(n,e,t,i,r){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=i,a=null;if(3&e.type||(a=o,o=r),null!==o&&-1===e.componentOffset)for(let l=1;l<s.length;l++)bp(n,o,t[s[l]],a,!1)}}function DH(n,e){if(n.push(e),n.length>1)for(let t=n.length-2;t>=0;t--){const i=n[t];BH(i)||Ite(i,e)&&null===Nte(i)&&Rte(i,e.index)}}function BH(n){return!(64&n.type)}function Ite(n,e){return BH(e)||n.index>e.index}function Nte(n){const e=n.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Rte(n,e){const t=n.insertBeforeIndex;Array.isArray(t)?t[0]=e:(ek(TH,MH),n.insertBeforeIndex=e)}function Pte(n,e,t){const i=lI(n,t,64,null,null);return DH(e,i),i}function FH(n,e,t){const i=n[On];switch(t){case Node.COMMENT_NODE:return nI(i,e);case Node.TEXT_NODE:return tI(i,e);case Node.ELEMENT_NODE:return MS(i,e,null)}}let p1=(n,e,t,i)=>(na(!0),FH(n,t,i));function Hte(n,e,t,i){return na(!0),FH(n,t,i)}function jte(){const n=[];let t,i,e=-1;function s(a,l){e=0;const c=function aE(n,e){const t=e[n.currentCaseLViewIndex];return null===t?t:t<0?~t:t}(a,l);i=null!==c?a.remove[c]:Kn}function o(){if(e<i.length){const a=i[e++];return a>0?t[a]:(n.push(e,i),s(t[Rt].data[~a],t),o())}return 0===n.length?null:(i=n.pop(),e=n.pop(),o())}return function r(a,l){for(t=l;n.length;)n.pop();return s(a.value,l),o}}const lE=/\ufffd(\d+):?\d*\ufffd/gi,$te=/\ufffd(\d+)\ufffd/,HH=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,g1="\ufffd",Kte=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,qte=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Xte=/\uE500/g;function VH(n,e,t,i,r,s,o){const a=Qy(n,i,1,null);let l=a<<sl.SHIFT,c=up();e===c&&(c=null),null===c&&(l|=sl.APPEND_EAGERLY),o&&(l|=sl.COMMENT,function SY(n){void 0===ZB&&(ZB=n())}(jte)),r.push(l,null===s?"":s);const u=lI(n,a,o?32:1,null===s?"":s,null);DH(t,u);const h=u.index;return Ll(u,!1),null!==c&&e!==c&&function Ote(n,e){let t=n.insertBeforeIndex;null===t?(ek(TH,MH),t=n.insertBeforeIndex=[null,e]):(dc(Array.isArray(t),!0,"Expecting array here"),t.push(e))}(c,h),u}function Zte(n,e,t,i,r,s,o,a){const l=a.match(lE),u=VH(e,t,i,o,r,l?null:a,!1).index;l&&m1(s,a,u,null,0,null),n.push({kind:0,index:u})}function m1(n,e,t,i,r,s){const o=n.length,a=o+1;n.push(null,null);const l=o+2,c=e.split(lE);let u=0;for(let h=0;h<c.length;h++){const A=c[h];if(1&h){const d=r+parseInt(A,10);n.push(-1-d),u|=QH(d)}else""!==A&&n.push(A)}return n.push(t<<2|(i?1:0)),i&&n.push(i,s),n[o]=u,n[a]=n.length-l,u}function QH(n){return 1<<Math.min(n,31)}function GH(n){let e,s,t="",i=0,r=!1;for(;null!==(e=Kte.exec(n));)r?e[0]===`${g1}/*${s}${g1}`&&(i=e.index,r=!1):(t+=n.substring(i,e.index+e[0].length),s=e[1],r=!0);return t+=n.slice(i),t}function zH(n,e,t,i,r,s,o){let a=0;const l={type:s.type,currentCaseLViewIndex:Qy(e,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};(function ane(n,e,t){n.push(QH(e.mainBinding),2,-1-e.mainBinding,t<<2|2)})(i,s,o),function Fte(n,e,t){const i=n.data[e];null===i?n.data[e]=t:i.value=t}(e,o,l);const c=s.values,u=[];for(let h=0;h<c.length;h++){const A=c[h],d=[];for(let _=0;_<A.length;_++){const y=A[_];if("string"!=typeof y){const m=d.push(y)-1;A[_]=`\x3c!--\ufffd${m}\ufffd--\x3e`}}const f=[];u.push(f),a=sne(f,e,l,t,i,r,s.cases[h],A.join(""),d)|a}a&&function lne(n,e,t){n.push(e,1,t<<2|3)}(i,a,o),n.push({kind:3,index:o,cases:u,currentCaseLViewIndex:l.currentCaseLViewIndex})}function rne(n){const e=[],t=[];let i=1,r=0;const s=fN(n=n.replace(HH,function(o,a,l){return i="select"===l?0:1,r=parseInt(a.slice(1),10),""}));for(let o=0;o<s.length;){let a=s[o++].trim();1===i&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);const l=fN(s[o++]);e.length>t.length&&t.push(l)}return{type:i,mainBinding:r,cases:e,values:t}}function fN(n){if(!n)return[];let e=0;const t=[],i=[],r=/[{}]/g;let s;for(r.lastIndex=0;s=r.exec(n);){const a=s.index;if("}"==s[0]){if(t.pop(),0==t.length){const l=n.substring(e,a);HH.test(l)?i.push(rne(l)):i.push(l),e=a+1}}else{if(0==t.length){const l=n.substring(e,a);i.push(l),e=a+1}t.push("{")}}const o=n.substring(e);return i.push(o),i}function sne(n,e,t,i,r,s,o,a,l){const c=[],u=[],h=[];t.cases.push(o),t.create.push(c),t.remove.push(u),t.update.push(h);const d=function T3(n){const e=new KX(n);return function qX(){try{return!!(new window.DOMParser).parseFromString(Fm(""),"text/html")}catch{return!1}}()?new $X(e):e}(TA()).getInertBodyElement(a),f=function qB(n){return"content"in n&&function sY(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(d)||d;return f?jH(n,e,t,i,r,c,u,h,f,s,l,0):0}function jH(n,e,t,i,r,s,o,a,l,c,u,h){let A=0,d=l.firstChild;for(;d;){const f=Qy(e,i,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const _=d,y=_.tagName.toLowerCase();if($B.hasOwnProperty(y)){pN(s,sE,y,c,f),e.data[f]=y;const M=_.attributes;for(let U=0;U<M.length;U++){const P=M.item(U),N=P.name.toLowerCase();P.value.match(lE)?I3.hasOwnProperty(N)&&m1(a,P.value,f,P.name,0,KB[N]?WB:null):cne(s,f,P)}const L={kind:1,index:f,children:[]};n.push(L),A=jH(L.children,e,t,i,r,s,o,a,d,f,u,h+1)|A,WH(o,f,h)}break;case Node.TEXT_NODE:const m=d.textContent||"",S=m.match(lE);pN(s,null,S?"":m,c,f),WH(o,f,h),S&&(A=m1(a,m,f,null,0,null)|A),n.push({kind:0,index:f});break;case Node.COMMENT_NODE:const x=$te.exec(d.textContent||"");if(x){const L=u[parseInt(x[1],10)];pN(s,oE,"",c,f),zH(n,e,i,r,c,L,f),one(o,f,h)}}d=d.nextSibling}return A}function WH(n,e,t){0===t&&n.push(e)}function one(n,e,t){0===t&&(n.push(~e),n.push(e))}function pN(n,e,t,i,r){null!==e&&n.push(e),n.push(t,r,function Lte(n,e,t){return n|e<<17|t<<1}(0,i,r))}function cne(n,e,t){n.push(e<<1|1,t.name,t.value)}function KH(n,e,t=-1){const i=_i(),r=ct(),s=Hn+n,o=_c(i.consts,e),a=up();i.firstCreatePass&&function Jte(n,e,t,i,r,s){const o=up(),a=[],l=[],c=[[]],u=[[]];r=function ine(n,e){if(function nne(n){return-1===n}(e))return GH(n);{const t=n.indexOf(`:${e}${g1}`)+2+e.toString().length,i=n.search(new RegExp(`${g1}\\/\\*\\d+:${e}${g1}`));return GH(n.substring(t,i))}}(r,s);const h=function Yte(n){return n.replace(Xte," ")}(r).split(qte);for(let A=0;A<h.length;A++){let d=h[A];if(1&A){const f=47===d.charCodeAt(0),_=d.charCodeAt(f?1:0),y=Hn+Number.parseInt(d.substring(f?2:1));if(f)c.shift(),u.shift(),Ll(up(),!1);else{const m=Pte(n,c[0],y);c.unshift([]),Ll(m,!0);const S={kind:2,index:y,children:[],type:35===_?0:1};u[0].push(S),u.unshift(S.children)}}else{const f=fN(d);for(let _=0;_<f.length;_++){let y=f[_];if(1&_){const m=y;if("object"!=typeof m)throw new Error(`Unable to parse ICU expression in "${r}" message.`);const x=VH(n,o,c[0],t,a,"",!0).index;zH(u[0],n,t,l,e,m,x)}else""!==y&&Zte(u[0],n,o,c[0],a,l,t,y)}}}n.data[i]={create:a,update:l,ast:u[0]}}(i,null===a?0:a.index,r,s,o,t),2===i.type?r[Kr][vn]|=32:r[vn]|=32;const l=i.data[s],u=K3(i,a===r[yo]?null:a,r);(function Qte(n,e,t,i){const r=n[On];for(let s=0;s<e.length;s++){const o=e[s++],c=(o&sl.APPEND_EAGERLY)===sl.APPEND_EAGERLY,u=o>>>sl.SHIFT;let h=n[u],A=!1;null===h&&(h=n[u]=p1(n,u,e[s],(o&sl.COMMENT)===sl.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),A=Jh()),c&&null!==t&&A&&bp(r,t,h,i,!1)}})(r,l.create,u,a&&8&a.type?r[a.index]:null),bm(!0)}function _1(n,e,t){KH(n,e,t),function qH(){bm(!1)}()}function xt(n,e,t,i){const r=ct(),s=_i(),o=ir();return gN(s,r,r[On],o,n,e,i),xt}function gN(n,e,t,i,r,s,o){const a=vA(i),c=n.firstCreatePass&&vk(n),u=e[xr],h=_k(e);let A=!0;if(3&i.type||o){const _=bo(i,e),y=o?o(_):_,m=h.length,S=o?M=>o(cr(M[i.index])):i.index;let x=null;if(!o&&a&&(x=function wne(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[gA],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,A=!1;else{s=ZH(i,e,u,s,!1);const M=t.listen(y,r,s);h.push(s,M),c&&c.push(r,S,m,m+1)}}else s=ZH(i,e,u,s,!1);const d=i.outputs;let f;if(A&&null!==d&&(f=d[r])){const _=f.length;if(_)for(let y=0;y<_;y+=2){const L=e[f[y]][f[y+1]].subscribe(s),U=h.length;h.push(s,L),c&&c.push(r,i.index,U,-(U+1))}}}function JH(n,e,t,i){const r=yn(null);try{return mc(6,e,t),!1!==t(i)}catch(s){return OS(n,s),!1}finally{mc(7,e,t),yn(r)}}function ZH(n,e,t,i,r){return function s(o){if(o===Function)return i;Wy(n.componentOffset>-1?Na(n.index,e):e);let l=JH(e,t,i,o),c=s.__ngNextListenerFn__;for(;c;)l=JH(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function Ft(n=1){return function ss(n){return(In.lFrame.contextLView=function GC(n,e){for(;n>0;)e=e[mA],n--;return e}(n,In.lFrame.contextLView))[xr]}(n)}function bne(n,e){let t=null;const i=function SD(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?_C(n,s,!0):TD(i,s))return r}else t=r}return t}function v1(n){const e=ct()[Kr][yo];if(!e.projection){const i=e.projection=function aA(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?bne(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function y1(n,e=0,t){const i=ct(),r=_i(),s=Um(r,Hn+n,16,null,t||null);null===s.projection&&(s.projection=e),hp(),(!i[Da]||ru())&&32&~s.flags&&function FY(n,e,t){ik(e[On],0,e,t,rI(n,t,e),Y3(t.parent||e[yo],t,e))}(r,i,s)}function Ip(n,e,t){return w1(n,"",e,"",t),Ip}function w1(n,e,t,i,r){const s=ct(),o=qm(s,e,t,i);return o!==Xn&&il(_i(),Ri(),s,n,o,s[On],r,!1),w1}function $s(n,e,t,i){!function r4(n,e,t,i){const r=_i();if(r.firstCreatePass){const s=ir();s4(r,new e4(e,t,i),s.index),function xZ(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),!(2&~t)&&(r.staticContentQueries=!0)}return n4(r,ct(),t)}(n,e,t,i)}function Li(n,e,t){!function i4(n,e,t){const i=_i();return i.firstCreatePass&&(s4(i,new e4(n,e,t),-1),!(2&~e)&&(i.staticViewQueries=!0)),n4(i,ct(),e)}(n,e,t)}function Tn(n){const e=ct(),t=_i(),i=bA();dp(i+1);const r=QI(t,i);if(n.dirty&&function VC(n){return!(4&~n[vn])}(e)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const s=o4(e,i);n.reset(s,b),n.notifyOnChanges()}return!0}return!1}function Mn(){return function VI(n,e){return n[Wt].queries[e].queryList}(ct(),bA())}function gu(n){return yA(function wm(){return In.lFrame.contextLView}(),Hn+n)}function fe(n,e=""){const t=ct(),i=_i(),r=n+Hn,s=i.firstCreatePass?Um(i,r,1,e,null):i.data[r],o=mV(i,t,s,e,n);t[r]=o,Jh()&&IS(i,t,o,s),Ll(s,!1)}let mV=(n,e,t,i,r)=>(na(!0),tI(e[On],i));function Pne(n,e,t,i,r){const s=e[Da],o=!s||ru()||o1(t)||wS(s,r);return na(o),o?tI(e[On],i):HS(s,n,e,t)}function jn(n){return gr("",n,""),jn}function gr(n,e,t){const i=ct(),r=qm(i,n,e,t);return r!==Xn&&ld(i,Zr(),r),gr}function cE(n,e,t,i,r){const s=ct(),o=Xm(s,n,e,t,i,r);return o!==Xn&&ld(s,Zr(),o),cE}function PA(n,e,t){c4(e)&&(e=e());const i=ct();return Fs(i,Ra(),e)&&il(_i(),Ri(),i,n,e,i[On],t,!1),PA}function Np(n,e){const t=c4(n);return t&&n.set(e),t}function LA(n,e){const t=ct(),i=_i(),r=ir();return gN(i,t,t[On],r,n,e),LA}function mN(n,e,t,i,r){if(n=xn(n),Array.isArray(n))for(let s=0;s<n.length;s++)mN(n[s],e,t,i,r);else{const s=_i(),o=ct(),a=ir();let l=Xu(n)?n:xn(n.provide);const c=SC(n),u=1048575&a.providerIndexes,h=a.directiveStart,A=a.providerIndexes>>20;if(Xu(n)||!n.multi){const d=new pp(c,r,et),f=vN(l,e,r?u:u+A,h);-1===f?(xy(Xt(a,o),s,l),_N(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(d),o.push(d)):(t[f]=d,o[f]=d)}else{const d=vN(l,e,u+A,h),f=vN(l,e,u,u+A),y=f>=0&&t[f];if(r&&!y||!r&&!(d>=0&&t[d])){xy(Xt(a,o),s,l);const m=function Vne(n,e,t,i,r){const s=new pp(n,t,et);return s.multi=[],s.index=e,s.componentProviders=0,EV(s,r,i&&!t),s}(r?Hne:kne,t.length,r,i,c);!r&&y&&(t[f].providerFactory=m),_N(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),o.push(m)}else _N(s,n,d>-1?d:f,EV(t[r?f:d],c,!r&&i));!r&&i&&y&&t[f].componentProviders++}}}function _N(n,e,t,i){const r=Xu(e),s=function PD(n){return!!n.useClass}(e);if(r||s){const l=(s?xn(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function EV(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function vN(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function kne(n,e,t,i){return yN(this.multi,[])}function Hne(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=td(t,t[Rt],this.providerFactory.index,i);s=a.slice(0,o),yN(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],yN(r,s);return s}function yN(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Rr(n,e=[]){return t=>{t.providersResolver=(i,r)=>function Une(n,e,t){const i=_i();if(i.firstCreatePass){const r=Pl(n);mN(t,i.data,i.blueprint,r,!0),mN(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}let Qne=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=Jv(0,t.type),r=i.length>0?KS([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=dt({token:n,providedIn:"environment",factory:()=>new n(bt(lo))})}}return n})();function Ks(n){du("NgStandalone"),n.getStandaloneInjector=e=>e.get(Qne).getOrCreateStandaloneInjector(n)}function b1(n,e,t){const i=Uo()+n,r=ct();return r[i]===Xn?ah(r,i,t?e.call(t):e()):function s1(n,e){return n[e]}(r,i)}function ch(n,e,t,i){return MV(ct(),Uo(),n,e,t,i)}function hE(n,e,t,i,r){return function DV(n,e,t,i,r,s,o){const a=e+t;return Ep(n,a,r,s)?ah(n,a+2,o?i.call(o,r,s):i(r,s)):C1(n,a+2)}(ct(),Uo(),n,e,t,i,r)}function wN(n,e,t,i,r,s){return function BV(n,e,t,i,r,s,o,a){const l=e+t;return function YS(n,e,t,i,r){const s=Ep(n,e,t,i);return Fs(n,e+2,r)||s}(n,l,r,s,o)?ah(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):C1(n,l+3)}(ct(),Uo(),n,e,t,i,r,s)}function C1(n,e){const t=n[e];return t===Xn?void 0:t}function MV(n,e,t,i,r,s){const o=e+t;return Fs(n,o,r)?ah(n,o+1,s?i.call(s,r):i(r)):C1(n,o+1)}function ol(n,e){const t=_i();let i;const r=n+Hn;t.firstCreatePass?(i=function Xne(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const s=i.factory||(i.factory=ea(i.type)),a=Zo(et);try{const l=xm(!1),c=s();return xm(l),function xne(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,ct(),r,c),c}finally{Zo(a)}}function al(n,e,t){const i=n+Hn,r=ct(),s=yA(r,i);return function S1(n,e){return n[Rt].data[e].pure}(r,i)?MV(r,Uo(),e,s.transform,t,s):s.transform(t)}function mu(n,e){return LS(n,e)}class x1{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const KV=new x1("17.3.12");let xN=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const ZV=new Qt(""),fE=new Qt("");let BN,MN=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,BN||(function $ie(n){BN=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(bt(Vn),bt(DN),bt(fE))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})(),DN=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return BN?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function M1(n){return!!n&&"function"==typeof n.then}function eQ(n){return!!n&&"function"==typeof n.subscribe}const pE=new Qt("");let IN=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=we(pE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(M1(s))t.push(s);else if(eQ(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const gE=new Qt("");function iQ(n,e){return Array.isArray(e)?e.reduce(iQ,n):{...n,...e}}let _E,_u=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=we(pS),this.afterRenderEffectManager=we(Zy),this.externalTestViews=new Set,this.beforeRender=new ci,this.afterTick=new ci,this.componentTypes=[],this.components=[],this.isStable=we(NA).hasPendingTasks.pipe(ii(t=>!t)),this._injector=we(lo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof Fk;if(!this._injector.get(IN).done)throw!r&&function qu(n){const e=hi(n)||Ns(n)||fs(n);return null!==e&&e.standalone}(t),new Je(405,!1);let o;o=r?t:this._injector.get(Jy).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Kie(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Sp),c=o.create(os.NULL,[],i||o.selector,a),u=c.location.nativeElement,h=c.injector.get(ZV,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),mE(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new Je(101,!1);const i=yn(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,yn(i)}}detectChangesInAttachedViews(t){let i=0;const r=this.afterRenderEffectManager;for(;;){if(i===Sk)throw new Je(103,!1);if(t){const s=0===i;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)qie(o,s,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>NN(s))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>NN(s))))break}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;mE(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(gE,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>mE(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Je(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function rQ(n){_E??=new WeakMap;const e=_E.get(n);if(e)return e;const t=n.isStable.pipe(ju(i=>i)).toPromise().then(()=>{});return _E.set(n,t),n.onDestroy(()=>_E?.delete(n)),t}function qie(n,e,t){!e&&!NN(n)||function Xie(n,e,t){let i;t?(i=0,n[vn]|=1024):i=64&n[vn]?0:1,PS(n,e,i)}(n,t,e)}function NN(n){return Ay(n)}class Yie{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let sQ=(()=>{class n{compileModuleSync(t){return new $I(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=Hl(vo(t).declarations).reduce((o,a)=>{const l=hi(a);return l&&o.push(new n1(l)),o},[]);return new Yie(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ere=(()=>{class n{constructor(){this.zone=we(Vn),this.applicationRef=we(_u)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function tre(){const n=we(Vn),e=we(Ul);return t=>n.runOutsideAngular(()=>e.handleError(t))}let ire=(()=>{class n{constructor(){this.subscription=new Si,this.initialized=!1,this.zone=we(Vn),this.pendingTasks=we(NA)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Vn.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Vn.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const uh=new Qt("",{providedIn:"root",factory:()=>we(uh,mi.Optional|mi.SkipSelf)||function rre(){return typeof $localize<"u"&&$localize.locale||s_}()}),RN=new Qt("");let cQ=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function nZ(n="zone.js",e){return"noop"===n?new Hk:"zone.js"===n?new Vn(e):n}(i?.ngZone,function lQ(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function WZ(n,e,t){return new WI(n,e,t)}(t.moduleType,this.injector,function aQ(n){return[{provide:Vn,useFactory:n},{provide:nu,multi:!0,useFactory:()=>{const e=we(ere,{optional:!0});return()=>e.initialize()}},{provide:nu,multi:!0,useFactory:()=>{const e=we(ire);return()=>{e.initialize()}}},{provide:pS,useFactory:tre}]}(()=>r)),o=s.injector.get(Ul,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{mE(this._modules,s),a.unsubscribe()})}),function nQ(n,e,t){try{const i=t();return M1(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(IN);return a.runInitializers(),a.donePromise.then(()=>(function xH(n){"string"==typeof n&&(EH=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(uh,s_)||s_),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=iQ({},i);return function Zie(n,e,t){const i=new $I(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(_u);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Je(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(RN,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(bt(os))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),UA=null;const uQ=new Qt("");function hQ(n,e,t=[]){const i=`Platform: ${e}`,r=new Qt(i);return(s=[])=>{let o=FN();if(!o||o.injector.get(uQ,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function are(n){if(UA&&!UA.get(uQ,!1))throw new Je(400,!1);(function tQ(){!function jg(n){Uf=n}(()=>{throw new Je(600,!1)})})(),UA=n;const e=n.get(cQ);(function AQ(n){n.get(f3,null)?.forEach(t=>t())})(n)}(function dQ(n=[],e){return os.create({name:e,providers:[{provide:ey,useValue:"platform"},{provide:RN,useValue:new Set([()=>UA=null])},...n]})}(a,i))}return function lre(n){const e=FN();if(!e)throw new Je(401,!1);return e}()}}function FN(){return UA?.get(cQ)??null}let vu=(()=>{class n{static{this.__NG_ELEMENT_ID__=ure}}return n})();function ure(n){return function hre(n,e,t){if(qh(n)&&!t){const i=Na(n.index,e);return new $y(i,i)}return 47&n.type?new $y(e[Kr],e):null}(ir(),ct(),!(16&~n))}class _Q{constructor(){}supports(e){return XS(e)}create(e){return new gre(e)}}const pre=(n,e)=>e;class gre{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||pre}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<yQ(i,r,s)?t:i,a=yQ(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let A=0;A<c;A++){const d=A<s.length?s[A]:s[A]=0,f=d+A;u<=f&&f<c&&(s[A]=d+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!XS(e))throw new Je(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function XZ(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new mre(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new vQ),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vQ),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class mre{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _re{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class vQ{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new _re,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yQ(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class wQ{constructor(){}supports(e){return e instanceof Map||KI(e)}create(){return new vre}}class vre{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||KI(e)))throw new Je(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new yre(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class yre{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bQ(){return new kN([new _Q])}let kN=(()=>{class n{static{this.\u0275prov=dt({token:n,providedIn:"root",factory:bQ})}constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||bQ()),deps:[[n,new Xf,new Gh]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Je(901,!1)}}return n})();function CQ(){return new wE([new wQ])}let wE=(()=>{class n{static{this.\u0275prov=dt({token:n,providedIn:"root",factory:CQ})}constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||CQ()),deps:[[n,new Xf,new Gh]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Je(901,!1)}}return n})();const Cre=hQ(null,"core",[]);let Sre=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)(bt(_u))}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),LQ=!1,UQ=!1;function Qre(){return hA([{provide:bS,useFactory:()=>{let n=!0;return uu()&&(n=!!we(Im,{optional:!0})?.get(kB,null)),n&&du("NgHydration"),n}},{provide:nu,useValue:()=>{UQ=!!we(b3,{optional:!0}),uu()&&we(bS)&&(function zre(){const n=TA();let e;for(const t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===IX){e=t;break}if(!e)throw new Je(-507,!1)}(),function Hre(){LQ||(LQ=!0,function RX(){g3=NX}(),function yte(){yH=vte}(),function Lne(){mV=Pne}(),function Cte(){wH=bte}(),function eee(){x4=ZZ}(),function yZ(){Yk=vZ,OI=_Z}(),function jJ(){Rk=zJ}(),function GY(){hk=QY}(),function Vte(){p1=Hte}())}())},multi:!0},{provide:w3,useFactory:()=>uu()&&we(bS)},{provide:gE,useFactory:()=>{if(uu()&&we(bS)){const n=we(_u);return we(os),()=>{(function Vre(n,e){return rQ(n)})(n).then(()=>{!function RJ(n){const e=n._views;for(const t of e){const i=m3(t);null!==i&&null!==i[Vr]&&(js(i)?kS(i):(kS(i[Vr]),Ik(i)))}}(n)})}}return()=>{}},multi:!0}])}function Qo(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function ese(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}function jQ(n){const e=yn(null);try{return n()}finally{yn(e)}}function QN(n,e){const t=hi(n),i=e.elementInjector||dm();return new n1(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}let WQ=null;function kA(){return WQ}class cse{}const $i=new Qt("");let GN=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:()=>we(hse),providedIn:"platform"})}}return n})();const use=new Qt("");let hse=(()=>{class n extends GN{constructor(){super(),this._doc=we($i),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kA().getBaseHref(this._doc)}onPopState(t){const i=kA().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=kA().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function zN(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function $Q(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function cd(n){return n&&"?"!==n[0]?"?"+n:n}let Fp=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:()=>we(qQ),providedIn:"root"})}}return n})();const KQ=new Qt("");let qQ=(()=>{class n extends Fp{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??we($i).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zN(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+cd(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+cd(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+cd(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(bt(GN),bt(KQ,8))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dse=(()=>{class n extends Fp{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=zN(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+cd(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+cd(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(bt(GN),bt(KQ,8))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})(),c_=(()=>{class n{constructor(t){this._subject=new H,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function pse(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}($Q(XQ(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+cd(i))}normalize(t){return n.stripTrailingSlash(function fse(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,XQ(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cd(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cd(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=cd}static{this.joinWithSlash=zN}static{this.stripTrailingSlash=$Q}static{this.\u0275fac=function(i){return new(i||n)(bt(Fp))}}static{this.\u0275prov=dt({token:n,factory:()=>function Ase(){return new c_(bt(Fp))}(),providedIn:"root"})}}return n})();function XQ(n){return n.replace(/\/index.html$/,"")}var TE=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(TE||{}),Co=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Co||{}),Ki=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ki||{}),zl=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(zl||{});const qs={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ME(n,e){return Tc(Fa(n)[Qr.DateFormat],e)}function DE(n,e){return Tc(Fa(n)[Qr.TimeFormat],e)}function BE(n,e){return Tc(Fa(n)[Qr.DateTimeFormat],e)}function xc(n,e){const t=Fa(n),i=t[Qr.NumberSymbols][e];if(typeof i>"u"){if(e===qs.CurrencyDecimal)return t[Qr.NumberSymbols][qs.Decimal];if(e===qs.CurrencyGroup)return t[Qr.NumberSymbols][qs.Group]}return i}function ZQ(n){if(!n[Qr.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Qr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Tc(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function $N(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Tse=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,IE={},Mse=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ud=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(ud||{}),Ar=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ar||{}),fr=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(fr||{});function e8(n,e,t,i){let r=function Lse(n){if(i8(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(a=>+a);return NE(r,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Tse))return function Use(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(i)}const e=new Date(n);if(!i8(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=hd(t,e)||e;let a,o=[];for(;e;){if(a=Mse.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=r.getTimezoneOffset();i&&(l=n8(i,l),r=function Pse(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function Ose(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(n8(e,r)-r))}(r,i,!0));let c="";return o.forEach(u=>{const h=function Fse(n){if(qN[n])return qN[n];let e;switch(n){case"G":case"GG":case"GGG":e=Gr(fr.Eras,Ki.Abbreviated);break;case"GGGG":e=Gr(fr.Eras,Ki.Wide);break;case"GGGGG":e=Gr(fr.Eras,Ki.Narrow);break;case"y":e=Xs(Ar.FullYear,1,0,!1,!0);break;case"yy":e=Xs(Ar.FullYear,2,0,!0,!0);break;case"yyy":e=Xs(Ar.FullYear,3,0,!1,!0);break;case"yyyy":e=Xs(Ar.FullYear,4,0,!1,!0);break;case"Y":e=PE(1);break;case"YY":e=PE(2,!0);break;case"YYY":e=PE(3);break;case"YYYY":e=PE(4);break;case"M":case"L":e=Xs(Ar.Month,1,1);break;case"MM":case"LL":e=Xs(Ar.Month,2,1);break;case"MMM":e=Gr(fr.Months,Ki.Abbreviated);break;case"MMMM":e=Gr(fr.Months,Ki.Wide);break;case"MMMMM":e=Gr(fr.Months,Ki.Narrow);break;case"LLL":e=Gr(fr.Months,Ki.Abbreviated,Co.Standalone);break;case"LLLL":e=Gr(fr.Months,Ki.Wide,Co.Standalone);break;case"LLLLL":e=Gr(fr.Months,Ki.Narrow,Co.Standalone);break;case"w":e=KN(1);break;case"ww":e=KN(2);break;case"W":e=KN(1,!0);break;case"d":e=Xs(Ar.Date,1);break;case"dd":e=Xs(Ar.Date,2);break;case"c":case"cc":e=Xs(Ar.Day,1);break;case"ccc":e=Gr(fr.Days,Ki.Abbreviated,Co.Standalone);break;case"cccc":e=Gr(fr.Days,Ki.Wide,Co.Standalone);break;case"ccccc":e=Gr(fr.Days,Ki.Narrow,Co.Standalone);break;case"cccccc":e=Gr(fr.Days,Ki.Short,Co.Standalone);break;case"E":case"EE":case"EEE":e=Gr(fr.Days,Ki.Abbreviated);break;case"EEEE":e=Gr(fr.Days,Ki.Wide);break;case"EEEEE":e=Gr(fr.Days,Ki.Narrow);break;case"EEEEEE":e=Gr(fr.Days,Ki.Short);break;case"a":case"aa":case"aaa":e=Gr(fr.DayPeriods,Ki.Abbreviated);break;case"aaaa":e=Gr(fr.DayPeriods,Ki.Wide);break;case"aaaaa":e=Gr(fr.DayPeriods,Ki.Narrow);break;case"b":case"bb":case"bbb":e=Gr(fr.DayPeriods,Ki.Abbreviated,Co.Standalone,!0);break;case"bbbb":e=Gr(fr.DayPeriods,Ki.Wide,Co.Standalone,!0);break;case"bbbbb":e=Gr(fr.DayPeriods,Ki.Narrow,Co.Standalone,!0);break;case"B":case"BB":case"BBB":e=Gr(fr.DayPeriods,Ki.Abbreviated,Co.Format,!0);break;case"BBBB":e=Gr(fr.DayPeriods,Ki.Wide,Co.Format,!0);break;case"BBBBB":e=Gr(fr.DayPeriods,Ki.Narrow,Co.Format,!0);break;case"h":e=Xs(Ar.Hours,1,-12);break;case"hh":e=Xs(Ar.Hours,2,-12);break;case"H":e=Xs(Ar.Hours,1);break;case"HH":e=Xs(Ar.Hours,2);break;case"m":e=Xs(Ar.Minutes,1);break;case"mm":e=Xs(Ar.Minutes,2);break;case"s":e=Xs(Ar.Seconds,1);break;case"ss":e=Xs(Ar.Seconds,2);break;case"S":e=Xs(Ar.FractionalSeconds,1);break;case"SS":e=Xs(Ar.FractionalSeconds,2);break;case"SSS":e=Xs(Ar.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=FE(ud.Short);break;case"ZZZZZ":e=FE(ud.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=FE(ud.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=FE(ud.Long);break;default:return null}return qN[n]=e,e}(u);c+=h?h(r,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function NE(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function hd(n,e){const t=function mse(n){return Fa(n)[Qr.LocaleId]}(n);if(IE[t]??={},IE[t][e])return IE[t][e];let i="";switch(e){case"shortDate":i=ME(n,zl.Short);break;case"mediumDate":i=ME(n,zl.Medium);break;case"longDate":i=ME(n,zl.Long);break;case"fullDate":i=ME(n,zl.Full);break;case"shortTime":i=DE(n,zl.Short);break;case"mediumTime":i=DE(n,zl.Medium);break;case"longTime":i=DE(n,zl.Long);break;case"fullTime":i=DE(n,zl.Full);break;case"short":const r=hd(n,"shortTime"),s=hd(n,"shortDate");i=RE(BE(n,zl.Short),[r,s]);break;case"medium":const o=hd(n,"mediumTime"),a=hd(n,"mediumDate");i=RE(BE(n,zl.Medium),[o,a]);break;case"long":const l=hd(n,"longTime"),c=hd(n,"longDate");i=RE(BE(n,zl.Long),[l,c]);break;case"full":const u=hd(n,"fullTime"),h=hd(n,"fullDate");i=RE(BE(n,zl.Full),[u,h])}return i&&(IE[t][e]=i),i}function RE(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function yu(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function Xs(n,e,t=0,i=!1,r=!1){return function(s,o){let a=function Bse(n,e){switch(n){case Ar.FullYear:return e.getFullYear();case Ar.Month:return e.getMonth();case Ar.Date:return e.getDate();case Ar.Hours:return e.getHours();case Ar.Minutes:return e.getMinutes();case Ar.Seconds:return e.getSeconds();case Ar.FractionalSeconds:return e.getMilliseconds();case Ar.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===Ar.Hours)0===a&&-12===t&&(a=12);else if(n===Ar.FractionalSeconds)return function Dse(n,e){return yu(n,3).substring(0,e)}(a,e);const l=xc(o,qs.MinusSign);return yu(a,e,l,i,r)}}function Gr(n,e,t=Co.Format,i=!1){return function(r,s){return function Ise(n,e,t,i,r,s){switch(t){case fr.Months:return function jN(n,e,t){const i=Fa(n),s=Tc([i[Qr.MonthsFormat],i[Qr.MonthsStandalone]],e);return Tc(s,t)}(e,r,i)[n.getMonth()];case fr.Days:return function JQ(n,e,t){const i=Fa(n),s=Tc([i[Qr.DaysFormat],i[Qr.DaysStandalone]],e);return Tc(s,t)}(e,r,i)[n.getDay()];case fr.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function bse(n){const e=Fa(n);return ZQ(e),(e[Qr.ExtraData][2]||[]).map(i=>"string"==typeof i?$N(i):[$N(i[0]),$N(i[1])])}(e),u=function Cse(n,e,t){const i=Fa(n);ZQ(i);const s=Tc([i[Qr.ExtraData][0],i[Qr.ExtraData][1]],e)||[];return Tc(s,t)||[]}(e,r,i),h=c.findIndex(A=>{if(Array.isArray(A)){const[d,f]=A,_=o>=d.hours&&a>=d.minutes,y=o<f.hours||o===f.hours&&a<f.minutes;if(d.hours<f.hours){if(_&&y)return!0}else if(_||y)return!0}else if(A.hours===o&&A.minutes===a)return!0;return!1});if(-1!==h)return u[h]}return function _se(n,e,t){const i=Fa(n),s=Tc([i[Qr.DayPeriodsFormat],i[Qr.DayPeriodsStandalone]],e);return Tc(s,t)}(e,r,i)[o<12?0:1];case fr.Eras:return function vse(n,e){return Tc(Fa(n)[Qr.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function FE(n){return function(e,t,i){const r=-1*i,s=xc(t,qs.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ud.Short:return(r>=0?"+":"")+yu(o,2,s)+yu(Math.abs(r%60),2,s);case ud.ShortGMT:return"GMT"+(r>=0?"+":"")+yu(o,1,s);case ud.Long:return"GMT"+(r>=0?"+":"")+yu(o,2,s)+":"+yu(Math.abs(r%60),2,s);case ud.Extended:return 0===i?"Z":(r>=0?"+":"")+yu(o,2,s)+":"+yu(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const Nse=0,OE=4;function t8(n){const e=n.getDay(),t=0===e?-3:OE-e;return NE(n.getFullYear(),n.getMonth(),n.getDate()+t)}function KN(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=t8(t),o=function Rse(n){const e=NE(n,Nse,1).getDay();return NE(n,0,1+(e<=OE?OE:OE+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return yu(r,n,xc(i,qs.MinusSign))}}function PE(n,e=!1){return function(t,i){return yu(t8(t).getFullYear(),n,xc(i,qs.MinusSign),e)}}const qN={};function n8(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function i8(n){return n instanceof Date&&!isNaN(n.valueOf())}const kse=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ZN(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function a8(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}const tR=/\s+/,l8=[];let c8=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=l8,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(tR):l8}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(tR):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(tR).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(et(w),et(hu))}}static{this.\u0275dir=Vt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[$n.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class Yse{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sa=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Yse(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),h8(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{h8(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(et(rl),et(Rs),et(kN))}}static{this.\u0275dir=Vt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function h8(n,e){n.context.$implicit=e.item}let ll=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Jse,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){d8("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){d8("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(et(rl),et(Rs))}}static{this.\u0275dir=Vt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Jse{constructor(){this.$implicit=null,this.ngIf=null}}function d8(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Bs(e)}'.`)}let UE=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),o=-1===r.indexOf("-")?void 0:DA.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||n)(et(w),et(wE),et(hu))}}static{this.\u0275dir=Vt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),h_=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||n)(et(rl))}}static{this.\u0275dir=Vt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[rs]})}}return n})();function wu(n,e){return new Je(2100,!1)}class ioe{createSubscription(e,t){return jQ(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){jQ(()=>e.unsubscribe())}}class roe{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const soe=new roe,ooe=new ioe;let d_=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(M1(t))return soe;if(eQ(t))return ooe;throw wu()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(et(vu,16))}}static{this.\u0275pipe=ta({name:"async",type:n,pure:!1,standalone:!0})}}return n})();const doe=new Qt(""),Aoe=new Qt("");let rR=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(null==t||""===t||t!=t)return null;try{return e8(t,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw wu()}}static{this.\u0275fac=function(i){return new(i||n)(et(uh,16),et(doe,24),et(Aoe,24))}}static{this.\u0275pipe=ta({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),kE=(()=>{class n{constructor(t){this._locale=t}transform(t,i,r){if(!function sR(n){return!(null==n||""===n||n!=n)}(t))return null;r||=this._locale;try{return function jse(n,e,t){return function YN(n,e,t,i,r,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function $se(n){let i,r,s,o,a,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))i=[0],r=1;else{for(a--;"0"===e.charAt(a);)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(e.charAt(s))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);o&&(c=function Wse(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let u=e.minInt,h=e.minFrac,A=e.maxFrac;if(s){const S=s.match(kse);if(null===S)throw new Error(`${s} is not a valid digit info`);const x=S[1],M=S[3],L=S[5];null!=x&&(u=ZN(x)),null!=M&&(h=ZN(M)),null!=L?A=ZN(L):null!=M&&h>A&&(A=h)}!function Kse(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(e,r),t);let o=s+n.integerLen,a=i[o];if(o>0){i.splice(Math.max(n.integerLen,o));for(let h=o;h<i.length;h++)i[h]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let h=1;h<o;h++)i[h]=0}if(a>=5)if(o-1<0){for(let h=0;h>o;h--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=0!==s;const c=e+n.integerLen,u=i.reduceRight(function(h,A,d,f){return f[d]=(A+=h)<10?A:A-10,l&&(0===f[d]&&d>=c?f.pop():l=!1),A>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,h,A);let d=c.digits,f=c.integerLen;const _=c.exponent;let y=[];for(l=d.every(S=>!S);f<u;f++)d.unshift(0);for(;f<0;f++)d.unshift(0);f>0?y=d.splice(f,d.length):(y=d,d=[0]);const m=[];for(d.length>=e.lgSize&&m.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)m.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&m.unshift(d.join("")),a=m.join(xc(t,i)),y.length&&(a+=xc(t,r)+y.join("")),_&&(a+=xc(t,qs.Exponential)+"+"+_)}else a=xc(t,qs.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function JN(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const h=l.charAt(u);"0"===h?t.minFrac=t.maxFrac=u+1:"#"===h?t.maxFrac=u+1:t.posSuf+=h}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=r.length-t.posPre.length-t.posSuf.length,h=s.indexOf("#");t.negPre=s.substring(0,h).replace(/'/g,""),t.negSuf=s.slice(h+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function WN(n,e){return Fa(n)[Qr.NumberFormats][e]}(e,TE.Decimal),xc(e,qs.MinusSign)),e,qs.Group,qs.Decimal,t)}(function oR(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),r,i)}catch(s){throw wu()}}static{this.\u0275fac=function(i){return new(i||n)(et(uh,16))}}static{this.\u0275pipe=ta({name:"number",type:n,pure:!0,standalone:!0})}}return n})();let Op=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})();const p8="browser",boe="server";function HE(n){return n===p8}function aR(n){return n===boe}let Eoe=(()=>{class n{static{this.\u0275prov=dt({token:n,providedIn:"root",factory:()=>HE(we(bc))?new xoe(we($i),window):new Moe})}}return n})();class xoe{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function Toe(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}}class Moe{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class g8{}function E8(n){return n&&Ut(n.schedule)}function cR(n){return n[n.length-1]}function zE(n){return Ut(cR(n))?n.pop():void 0}function F1(n){return E8(cR(n))?n.pop():void 0}function HA(n){return this instanceof HA?(this.v=n,this):new HA(n)}function D8(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function AR(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const pR=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function B8(n){return Ut(n?.then)}function I8(n){return Ut(n[Gf])}function N8(n){return Symbol.asyncIterator&&Ut(n?.[Symbol.asyncIterator])}function R8(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const F8=function Dae(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function O8(n){return Ut(n?.[F8])}function P8(n){return function M8(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(d){return function(f){return Promise.resolve(f).then(d,h)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(d,f){i[d]&&(r[d]=function(_){return new Promise(function(y,m){s.push([d,_,y,m])>1||l(d,_)})},f&&(r[d]=f(r[d])))}function l(d,f){try{!function c(d){d.value instanceof HA?Promise.resolve(d.value.v).then(u,h):A(s[0][2],d)}(i[d](f))}catch(_){A(s[0][3],_)}}function u(d){l("next",d)}function h(d){l("throw",d)}function A(d,f){d(f),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield HA(t.read());if(r)return yield HA(void 0);yield yield HA(i)}}finally{t.releaseLock()}})}function L8(n){return Ut(n?.getReader)}function So(n){if(n instanceof Qi)return n;if(null!=n){if(I8(n))return function Bae(n){return new Qi(e=>{const t=n[Gf]();if(Ut(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(pR(n))return function Iae(n){return new Qi(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(B8(n))return function Nae(n){return new Qi(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Rl)})}(n);if(N8(n))return U8(n);if(O8(n))return function Rae(n){return new Qi(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(L8(n))return function Fae(n){return U8(P8(n))}(n)}throw R8(n)}function U8(n){return new Qi(e=>{(function Oae(n,e){var t,i,r,s;return function x8(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=D8(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function dd(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function k8(n,e=0){return Ji((t,i)=>{t.subscribe(Zi(i,r=>dd(i,n,()=>i.next(r),e),()=>dd(i,n,()=>i.complete(),e),r=>dd(i,n,()=>i.error(r),e)))})}function H8(n,e=0){return Ji((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function V8(n,e){if(!n)throw new Error("Iterable cannot be null");return new Qi(t=>{dd(t,e,()=>{const i=n[Symbol.asyncIterator]();dd(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function _s(n,e){return e?function Vae(n,e){if(null!=n){if(I8(n))return function Pae(n,e){return So(n).pipe(H8(e),k8(e))}(n,e);if(pR(n))return function Uae(n,e){return new Qi(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(B8(n))return function Lae(n,e){return So(n).pipe(H8(e),k8(e))}(n,e);if(N8(n))return V8(n,e);if(O8(n))return function kae(n,e){return new Qi(t=>{let i;return dd(t,e,()=>{i=n[F8](),dd(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>Ut(i?.return)&&i.return()})}(n,e);if(L8(n))return function Hae(n,e){return V8(P8(n),e)}(n,e)}throw R8(n)}(n,e):So(n)}function mn(...n){return _s(n,F1(n))}function Eo(n,e,t=1/0){return Ut(e)?Eo((i,r)=>ii((s,o)=>e(i,s,r,o))(So(n(i,r))),t):("number"==typeof e&&(t=e),Ji((i,r)=>function Qae(n,e,t,i,r,s,o,a){const l=[];let c=0,u=0,h=!1;const A=()=>{h&&!l.length&&!c&&e.complete()},d=_=>c<i?f(_):l.push(_),f=_=>{s&&e.next(_),c++;let y=!1;So(t(_,u++)).subscribe(Zi(e,m=>{r?.(m),s?d(m):e.next(m)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<i;){const m=l.shift();o?dd(e,o,()=>f(m)):f(m)}A()}catch(m){e.error(m)}}))};return n.subscribe(Zi(e,d,()=>{h=!0,A()})),()=>{a?.()}}(i,r,n,t)))}function VA(n,e){return Ut(e)?Eo(n,e,1):Eo(n,1)}function A_(n){return Ji((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function cl(n,e){return Ji((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(Zi(i,l=>{r?.unsubscribe();let c=0;const u=s++;So(n(l,u)).subscribe(r=Zi(i,h=>i.next(e?e(l,h,u,c++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function ls(n,e,t){const i=Ut(n)||e||t?{next:n,error:e,complete:t}:n;return i?Ji((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Zi(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Ca}class jE{}class WE{}class Go{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Go?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Go;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Go?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Gae{encodeKey(e){return Q8(e)}encodeValue(e){return Q8(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const jae=/%(\d[a-f0-9])/gi,Wae={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Q8(n){return encodeURIComponent(n).replace(jae,(e,t)=>Wae[t]??e)}function $E(n){return`${n}`}class QA{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Gae,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zae(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map($E):[$E(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new QA({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push($E(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf($E(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class $ae{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function G8(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function z8(n){return typeof Blob<"u"&&n instanceof Blob}function j8(n){return typeof FormData<"u"&&n instanceof FormData}class Ad{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Kae(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Go,this.context??=new $ae,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new QA,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||G8(this.body)||z8(this.body)||j8(this.body)||function qae(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof QA?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||j8(this.body)?null:z8(this.body)?this.body.type||null:G8(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof QA?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((A,d)=>A.set(d,e.setHeaders[d]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((A,d)=>A.set(d,e.setParams[d]),u)),new Ad(t,i,o,{params:u,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}}var fd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(fd||{});class gR{constructor(e,t=O1.Ok,i="OK"){this.headers=e.headers||new Go,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class KE extends gR{constructor(e={}){super(e),this.type=fd.ResponseHeader}clone(e={}){return new KE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class pd extends gR{constructor(e={}){super(e),this.type=fd.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new pd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class f_ extends gR{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var O1=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(O1||{});function mR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let p_=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Ad)s=t;else{let l,c;l=r.headers instanceof Go?r.headers:new Go(r.headers),r.params&&(c=r.params instanceof QA?r.params:new QA({fromObject:r.params})),s=new Ad(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const o=mn(s).pipe(VA(l=>this.handler.handle(l)));if(t instanceof Ad||"events"===r.observe)return o;const a=o.pipe(Jr(l=>l instanceof pd));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ii(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ii(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ii(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ii(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new QA).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,mR(r,i))}post(t,i,r={}){return this.request("POST",t,mR(r,i))}put(t,i,r={}){return this.request("PUT",t,mR(r,i))}static{this.\u0275fac=function(i){return new(i||n)(bt(jE))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();function $8(n,e){return e(n)}function ele(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const K8=new Qt(""),P1=new Qt(""),q8=new Qt(""),X8=new Qt("");function nle(){let n=null;return(e,t)=>{null===n&&(n=(we(K8,{optional:!0})??[]).reduceRight(ele,$8));const i=we(NA),r=i.add();return n(e,t).pipe(A_(()=>i.remove(r)))}}let Y8=(()=>{class n extends jE{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=we(NA);const r=we(X8,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(P1),...this.injector.get(q8,[])]));this.chain=r.reduceRight((s,o)=>function tle(n,e,t){return(i,r)=>fc(t,()=>e(i,s=>n(s,r)))}(s,o,this.injector),$8)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(A_(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||n)(bt(WE),bt(lo))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();const ale=/^\)\]\}',?\n/;let Z8=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Je(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?_s(i.\u0275loadImpl()):mn(null)).pipe(cl(()=>new Qi(s=>{const o=i.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((_,y)=>o.setRequestHeader(_,y.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const _=t.detectContentTypeHeader();null!==_&&o.setRequestHeader("Content-Type",_)}if(t.responseType){const _=t.responseType.toLowerCase();o.responseType="json"!==_?_:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const _=o.statusText||"OK",y=new Go(o.getAllResponseHeaders()),m=function lle(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new KE({headers:y,status:o.status,statusText:_,url:m}),l},u=()=>{let{headers:_,status:y,statusText:m,url:S}=c(),x=null;y!==O1.NoContent&&(x=typeof o.response>"u"?o.responseText:o.response),0===y&&(y=x?O1.Ok:0);let M=y>=200&&y<300;if("json"===t.responseType&&"string"==typeof x){const L=x;x=x.replace(ale,"");try{x=""!==x?JSON.parse(x):null}catch(U){x=L,M&&(M=!1,x={error:U,text:x})}}M?(s.next(new pd({body:x,headers:_,status:y,statusText:m,url:S||void 0})),s.complete()):s.error(new f_({error:x,headers:_,status:y,statusText:m,url:S||void 0}))},h=_=>{const{url:y}=c(),m=new f_({error:_,status:o.status||0,statusText:o.statusText||"Unknown Error",url:y||void 0});s.error(m)};let A=!1;const d=_=>{A||(s.next(c()),A=!0);let y={type:fd.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(y.total=_.total),"text"===t.responseType&&o.responseText&&(y.partialText=o.responseText),s.next(y)},f=_=>{let y={type:fd.UploadProgress,loaded:_.loaded};_.lengthComputable&&(y.total=_.total),s.next(y)};return o.addEventListener("load",u),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),t.reportProgress&&(o.addEventListener("progress",d),null!==a&&o.upload&&o.upload.addEventListener("progress",f)),o.send(a),s.next({type:fd.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",u),o.removeEventListener("timeout",h),t.reportProgress&&(o.removeEventListener("progress",d),null!==a&&o.upload&&o.upload.removeEventListener("progress",f)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(bt(g8))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();const yR=new Qt(""),e6=new Qt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),t6=new Qt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class n6{}let hle=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=a8(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(bt($i),bt(bc),bt(e6))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();function dle(n,e){const t=n.url.toLowerCase();if(!we(yR)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=we(n6).getToken(),r=we(t6);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var GA=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(GA||{});function Pp(n,e){return{\u0275kind:n,\u0275providers:e}}function Ale(...n){const e=[p_,Z8,Y8,{provide:jE,useExisting:Y8},{provide:WE,useExisting:Z8},{provide:P1,useValue:dle,multi:!0},{provide:yR,useValue:!0},{provide:n6,useClass:hle}];for(const t of n)e.push(...t.\u0275providers);return hA(e)}const i6=new Qt("");let ple=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({providers:[Ale(Pp(GA.LegacyInterceptors,[{provide:i6,useFactory:nle},{provide:P1,useExisting:i6,multi:!0}]))]})}}return n})();const r6="b",s6="h",o6="s",a6="st",l6="u",c6="rt",qE=new Qt(""),gle=["GET","HEAD"];function mle(n,e){const{isCacheActive:t,...i}=we(qE),{transferCache:r,method:s}=n;if(!t||"POST"===s&&!i.includePostRequests&&!r||"POST"!==s&&!gle.includes(s)||!1===r||!1===i.filter?.(n))return e(n);const o=we(Im),a=function vle(n){const{params:e,method:t,responseType:i,url:r}=n,s=u6(e);let o=n.serializeBody();o instanceof URLSearchParams?o=u6(o):"string"!=typeof o&&(o="");const l=function yle(n){let e=0;for(const t of n)e=Math.imul(31,e)+t.charCodeAt(0)|0;return e+=2147483648,e.toString()}([t,i,r,o,s].join("|"));return l}(n),l=o.get(a,null);let c=i.includeHeaders;if("object"==typeof r&&r.includeHeaders&&(c=r.includeHeaders),l){const{[r6]:h,[c6]:A,[s6]:d,[o6]:f,[a6]:_,[l6]:y}=l;let m=h;switch(A){case"arraybuffer":m=(new TextEncoder).encode(h).buffer;break;case"blob":m=new Blob([h])}let S=new Go(d);return mn(new pd({body:m,headers:S,status:f,statusText:_,url:y}))}const u=aR(we(bc));return e(n).pipe(ls(h=>{h instanceof pd&&u&&o.set(a,{[r6]:h.body,[s6]:_le(h.headers,c),[o6]:h.status,[a6]:h.statusText,[l6]:h.url||"",[c6]:n.responseType})}))}function _le(n,e){if(!e)return{};const t={};for(const i of e){const r=n.getAll(i);null!==r&&(t[i]=r)}return t}function u6(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function wle(n){return[{provide:qE,useFactory:()=>(du("NgHttpTransferCache"),{isCacheActive:!0,...n})},{provide:q8,useValue:mle,multi:!0,deps:[Im,qE]},{provide:gE,multi:!0,useFactory:()=>{const e=we(_u),t=we(qE);return()=>{rQ(e).then(()=>{t.isCacheActive=!1})}}}]}class ble extends cse{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class wR extends ble{static makeCurrent(){!function lse(n){WQ??=n}(new wR)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Cle(){return L1=L1||document.querySelector("base"),L1?L1.getAttribute("href"):null}();return null==t?null:function Sle(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){L1=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return a8(document.cookie,e)}}let L1=null,xle=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();const bR=new Qt("");let h6=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new Je(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(bt(bR),bt(Vn))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();class d6{constructor(e){this._doc=e}}const CR="ng-app-id";let A6=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=aR(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${CR}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(CR),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(CR,this.appId),t.appendChild(o),o}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(bt($i),bt(mS),bt(p3,8),bt(bc))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();const SR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ER=/%COMP%/g,Ble=new Qt("",{providedIn:"root",factory:()=>!0});function p6(n,e){return e.map(t=>t.replace(ER,n))}let xR=(()=>{class n{constructor(t,i,r,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=aR(a),this.defaultRenderer=new TR(t,o,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Za.ShadowDom&&(i={...i,encapsulation:Za.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof m6?r.applyToHost(t):r instanceof MR&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Za.Emulated:s=new m6(l,c,i,this.appId,u,o,a,h);break;case Za.ShadowDom:return new Fle(l,c,t,i,o,a,this.nonce,h);default:s=new MR(l,c,i,u,o,a,h)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(bt(h6),bt(A6),bt(mS),bt(Ble),bt($i),bt(bc),bt(Vn),bt(p3))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();class TR{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(SR[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(g6(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(g6(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new Je(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=SR[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=SR[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(DA.DashCase|DA.Important)?e.style.setProperty(t,i,r&DA.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&DA.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=kA().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function g6(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Fle extends TR{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=p6(r.id,r.styles);for(const u of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class MR extends TR{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?p6(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class m6 extends MR{constructor(e,t,i,r,s,o,a,l){const c=r+"-"+i.id;super(e,t,i,s,o,a,l,c),this.contentAttr=function Ile(n){return"_ngcontent-%COMP%".replace(ER,n)}(c),this.hostAttr=function Nle(n){return"_nghost-%COMP%".replace(ER,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Ole=(()=>{class n extends d6{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(bt($i))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();const _6=["alt","control","meta","shift"],Ple={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lle={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ule=(()=>{class n extends d6{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kA().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),_6.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=Ple[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),_6.forEach(o=>{o!==r&&(0,Lle[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(bt($i))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();const y6=[{provide:bc,useValue:p8},{provide:f3,useValue:function kle(){wR.makeCurrent()},multi:!0},{provide:$i,useFactory:function Vle(){return function EX(n){IB=n}(document),document},deps:[]}],Qle=hQ(Cre,"browser",y6),Gle=new Qt(""),w6=[{provide:fE,useClass:class Ele{addToWindow(e){er.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Je(5103,!1);return s},er.getAllAngularTestabilities=()=>e.getAllTestabilities(),er.getAllAngularRootElements=()=>e.getAllRootElements(),er.frameworkStabilizers||(er.frameworkStabilizers=[]),er.frameworkStabilizers.push(i=>{const r=er.getAllAngularTestabilities();let s=r.length;const o=function(){s--,0==s&&i()};r.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?kA().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:ZV,useClass:MN,deps:[Vn,DN,fE]},{provide:MN,useClass:MN,deps:[Vn,DN,fE]}],b6=[{provide:ey,useValue:"root"},{provide:Ul,useFactory:function Hle(){return new Ul},deps:[]},{provide:bR,useClass:Ole,multi:!0,deps:[$i,Vn,bc]},{provide:bR,useClass:Ule,multi:!0,deps:[$i]},xR,A6,h6,{provide:xI,useExisting:xR},{provide:g8,useClass:xle,deps:[]},[]];let C6=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:mS,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(bt(Gle,12))}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({providers:[...b6,...w6],imports:[Op,Sre]})}}return n})(),XE=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(bt($i))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var U1=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n}(U1||{});function $le(...n){const e=[],t=new Set,i=t.has(U1.HttpTransferCacheOptions);for(const{\u0275providers:r,\u0275kind:s}of n)t.add(s),r.length&&e.push(r);return hA([[],Qre(),t.has(U1.NoHttpTransferCache)||i?[]:wle({}),e])}const{isArray:Kle}=Array,{getPrototypeOf:qle,prototype:Xle,keys:Yle}=Object;function T6(n){if(1===n.length){const e=n[0];if(Kle(e))return{args:e,keys:null};if(function Jle(n){return n&&"object"==typeof n&&qle(n)===Xle}(e)){const t=Yle(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:Zle}=Array;function DR(n){return ii(e=>function ece(n,e){return Zle(e)?n(...e):n(e)}(n,e))}function M6(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let D6=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(et(hu),et(w))}}static{this.\u0275dir=Vt({type:n})}}return n})(),Lp=(()=>{class n extends D6{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=hr(n)))(r||n)}})()}static{this.\u0275dir=Vt({type:n,features:[Wi]})}}return n})();const Mc=new Qt(""),ice={provide:Mc,useExisting:tr(()=>Up),multi:!0},sce=new Qt("");let Up=(()=>{class n extends D6{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rce(){const n=kA()?kA().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(et(hu),et(w),et(sce,8))}}static{this.\u0275dir=Vt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&xt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Rr([ice]),Wi]})}}return n})();function zA(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function I6(n){return null!=n&&"number"==typeof n.length}const zo=new Qt(""),jA=new Qt(""),oce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ace{static min(e){return function N6(n){return e=>{if(zA(e.value)||zA(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function R6(n){return e=>{if(zA(e.value)||zA(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return F6(e)}static requiredTrue(e){return function O6(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function P6(n){return zA(n.value)||oce.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function L6(n){return e=>zA(e.value)||!I6(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return U6(e)}static pattern(e){return function k6(n){if(!n)return YE;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(zA(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return j6(e)}static composeAsync(e){return W6(e)}}function F6(n){return zA(n.value)?{required:!0}:null}function U6(n){return e=>I6(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function YE(n){return null}function H6(n){return null!=n}function V6(n){return M1(n)?_s(n):n}function Q6(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function G6(n,e){return e.map(t=>t(n))}function z6(n){return n.map(e=>function lce(n){return!n.validate}(e)?e:t=>e.validate(t))}function j6(n){if(!n)return null;const e=n.filter(H6);return 0==e.length?null:function(t){return Q6(G6(t,e))}}function BR(n){return null!=n?j6(z6(n)):null}function W6(n){if(!n)return null;const e=n.filter(H6);return 0==e.length?null:function(t){return function tce(...n){const e=zE(n),{args:t,keys:i}=T6(n),r=new Qi(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;So(t[u]).subscribe(Zi(s,A=>{h||(h=!0,c--),a[u]=A},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(i?M6(i,a):a),s.complete())}))}});return e?r.pipe(DR(e)):r}(G6(t,e).map(V6)).pipe(ii(Q6))}}function IR(n){return null!=n?W6(z6(n)):null}function $6(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function K6(n){return n._rawValidators}function q6(n){return n._rawAsyncValidators}function NR(n){return n?Array.isArray(n)?n:[n]:[]}function JE(n,e){return Array.isArray(n)?n.includes(e):n===e}function X6(n,e){const t=NR(e);return NR(n).forEach(r=>{JE(t,r)||t.push(r)}),t}function Y6(n,e){return NR(e).filter(t=>!JE(n,t))}class J6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Pa extends J6{get formDirective(){return null}get path(){return null}}class WA extends J6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Z6{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let k1=(()=>{class n extends Z6{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(et(WA,2))}}static{this.\u0275dir=Vt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&bi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Wi]})}}return n})(),H1=(()=>{class n extends Z6{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(et(Pa,10))}}static{this.\u0275dir=Vt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&bi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Wi]})}}return n})();const V1="VALID",ex="INVALID",g_="PENDING",Q1="DISABLED";function OR(n){return(tx(n)?n.validators:n)||null}function PR(n,e){return(tx(e)?e.asyncValidators:n)||null}function tx(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function tG(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new Je(1e3,"");if(!i[t])throw new Je(1001,"")}function nG(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new Je(1002,"")})}class nx{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===V1}get invalid(){return this.status===ex}get pending(){return this.status==g_}get disabled(){return this.status===Q1}get enabled(){return this.status!==Q1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(X6(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(X6(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Y6(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Y6(e,this._rawAsyncValidators))}hasValidator(e){return JE(this._rawValidators,e)}hasAsyncValidator(e){return JE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=g_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Q1,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=V1,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===V1||this.status===g_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Q1:V1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=g_,this._hasOwnPendingAsyncValidator=!0;const t=V6(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new H,this.statusChanges=new H}_calculateStatus(){return this._allControlsDisabled()?Q1:this.errors?ex:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(g_)?g_:this._anyControlsHaveStatus(ex)?ex:V1}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tx(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function dce(n){return Array.isArray(n)?BR(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Ace(n){return Array.isArray(n)?IR(n):n||null}(this._rawAsyncValidators)}}class G1 extends nx{constructor(e,t,i){super(OR(t),PR(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){nG(this,0,e),Object.keys(e).forEach(i=>{tG(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class iG extends G1{}const kp=new Qt("CallSetDisabledState",{providedIn:"root",factory:()=>z1}),z1="always";function ix(n,e){return[...e.path,n]}function j1(n,e,t=z1){LR(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function pce(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rG(n,e)})}(n,e),function mce(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function gce(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rG(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fce(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function rx(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ox(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function sx(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function LR(n,e){const t=K6(n);null!==e.validator?n.setValidators($6(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=q6(n);null!==e.asyncValidator?n.setAsyncValidators($6(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();sx(e._rawValidators,r),sx(e._rawAsyncValidators,r)}function ox(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=K6(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=q6(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return sx(e._rawValidators,i),sx(e._rawAsyncValidators,i),t}function rG(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sG(n,e){LR(n,e)}function kR(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function oG(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function HR(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Up?t=s:function yce(n){return Object.getPrototypeOf(n.constructor)===Lp}(s)?i=s:r=s}),r||i||t||null}const bce={provide:Pa,useExisting:tr(()=>m_)},W1=Promise.resolve();let m_=(()=>{class n extends Pa{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new H,this.form=new G1({},BR(t),IR(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){W1.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),j1(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){W1.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){W1.then(()=>{const i=this._findContainer(t.path),r=new G1({});sG(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){W1.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){W1.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,oG(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(et(zo,10),et(jA,10),et(kp,8))}}static{this.\u0275dir=Vt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&xt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[$n.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Rr([bce]),Wi]})}}return n})();function aG(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function lG(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $1=class extends nx{constructor(e=null,t,i){super(OR(t),PR(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tx(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=lG(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){lG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Ece={provide:WA,useExisting:tr(()=>K1)},hG=Promise.resolve();let K1=(()=>{class n extends WA{constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new $1,this._registered=!1,this.name="",this.update=new H,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=HR(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),kR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){j1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hG.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Qo(i);hG.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ix(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(et(Pa,9),et(zo,10),et(jA,10),et(Mc,10),et(vu,8),et(kp,8))}}static{this.\u0275dir=Vt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[$n.None,"disabled","isDisabled"],model:[$n.None,"ngModel","model"],options:[$n.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Rr([Ece]),Wi,rs]})}}return n})(),q1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const VR=new Qt(""),Ice={provide:Pa,useExisting:tr(()=>ax)};let ax=(()=>{class n extends Pa{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new H,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ox(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return j1(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){rx(t.control||null,t,!1),function wce(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,oG(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(rx(i||null,t),(n=>n instanceof $1)(r)&&(j1(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);sG(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function _ce(n,e){return ox(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){LR(this.form,this),this._oldForm&&ox(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||n)(et(zo,10),et(jA,10),et(kp,8))}}static{this.\u0275dir=Vt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&xt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[$n.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Rr([Ice]),Wi,rs]})}}return n})();const Fce={provide:WA,useExisting:tr(()=>zR)};let zR=(()=>{class n extends WA{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new H,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=HR(0,s)}ngOnChanges(t){this._added||this._setUpControl(),kR(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ix(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(et(Pa,13),et(zo,10),et(jA,10),et(Mc,10),et(VR,8))}}static{this.\u0275dir=Vt({type:n,selectors:[["","formControlName",""]],inputs:{name:[$n.None,"formControlName","name"],isDisabled:[$n.None,"disabled","isDisabled"],model:[$n.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Rr([Fce]),Wi,rs]})}}return n})();const Oce={provide:Mc,useExisting:tr(()=>X1),multi:!0};function mG(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let X1=(()=>{class n extends Lp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=mG(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function Pce(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=hr(n)))(r||n)}})()}static{this.\u0275dir=Vt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&xt("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Rr([Oce]),Wi]})}}return n})(),Hp=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(mG(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(et(w),et(hu),et(X1,9))}}static{this.\u0275dir=Vt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const Lce={provide:Mc,useExisting:tr(()=>jR),multi:!0};function _G(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let jR=(()=>{class n extends Lp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);r.push(c)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function Uce(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=hr(n)))(r||n)}})()}static{this.\u0275dir=Vt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&xt("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Rr([Lce]),Wi]})}}return n})(),Vp=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(_G(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(_G(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(et(w),et(hu),et(jR,9))}}static{this.\u0275dir=Vt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let Qp=(()=>{class n{constructor(){this._validator=YE}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):YE,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,features:[rs]})}}return n})();const Vce={provide:zo,useExisting:tr(()=>lx),multi:!0};let lx=(()=>{class n extends Qp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Qo,this.createValidator=t=>F6}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=hr(n)))(r||n)}})()}static{this.\u0275dir=Vt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Mi("required",r._enabled?"":null)},inputs:{required:"required"},features:[Rr([Vce]),Wi]})}}return n})();const jce={provide:zo,useExisting:tr(()=>WR),multi:!0};let WR=(()=>{class n extends Qp{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function vG(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>U6(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=hr(n)))(r||n)}})()}static{this.\u0275dir=Vt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Mi("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Rr([jce]),Wi]})}}return n})(),TG=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})();class MG extends nx{constructor(e,t,i){super(OR(t),PR(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){nG(this,0,e),e.forEach((i,r)=>{tG(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function DG(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let $ce=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return DG(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new G1(r,s)}record(t,i=null){const r=this._reduceControls(t);return new iG(r,i)}control(t,i,r){let s={};return this.useNonNullable?(DG(i)?s=i:(s.validators=i,s.asyncValidators=r),new $1(t,{...s,nonNullable:!0})):new $1(t,i,r)}array(t,i,r){const s=t.map(o=>this._createControl(o));return new MG(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof $1||t instanceof nx?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BG=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kp,useValue:t.callSetDisabledState??z1}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({imports:[TG]})}}return n})(),Kce=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:VR,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:kp,useValue:t.callSetDisabledState??z1}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({imports:[TG]})}}return n})();var Qn=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Qn||{});const gd="*";function IG(n){return{type:Qn.Style,styles:n,offset:null}}class Y1{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class NG{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function RG(n){return new Je(3e3,!1)}function $A(n){switch(n.length){case 0:return new Y1;case 1:return n[0];default:return new NG(n)}}function FG(n,e,t=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,h=u&&a||new Map;l.forEach((A,d)=>{let f=d,_=A;if("offset"!==d)switch(f=n.normalizePropertyName(f,r),_){case"!":_=t.get(d);break;case gd:_=i.get(d);break;default:_=n.normalizeStyleValue(d,f,_,r)}h.set(f,_)}),u||s.push(h),a=h,o=c}),r.length)throw function bue(n){return new Je(3502,!1)}();return s}function KR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&qR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&qR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&qR(t,"destroy",n)))}}function qR(n,e,t){const s=XR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function XR(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function jl(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function OG(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Fue=typeof document>"u"?null:document.documentElement;function YR(n){const e=n.parentNode||n.host||null;return e===Fue?null:e}let Gp=null,PG=!1;function LG(n,e){for(;e;){if(e===n)return!0;e=YR(e)}return!1}function UG(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let JR=(()=>{class n{validateStyleProperty(t){return function Pue(n){Gp||(Gp=function Lue(){return typeof document<"u"?document.body:null}()||{},PG=!!Gp.style&&"WebkitAppearance"in Gp.style);let e=!0;return Gp.style&&!function Oue(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Gp.style,!e&&PG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Gp.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return LG(t,i)}getParentElement(t){return YR(t)}query(t,i,r){return UG(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new Y1(r,s)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();class ZR{static{this.NOOP=new JR}}class eF{}const kue=1e3,tF="ng-enter",cx="ng-leave",ux="ng-trigger",hx=".ng-trigger",HG="ng-animating",nF=".ng-animating";function md(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:iF(parseFloat(e[1]),e[2])}function iF(n,e){return"s"===e?n*kue:n}function dx(n,e,t){return n.hasOwnProperty("duration")?n:function Vue(n,e,t){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(RG()),{duration:0,delay:0,easing:""};r=iF(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=iF(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function eue(){return new Je(3100,!1)}()),a=!0),s<0&&(e.push(function tue(){return new Je(3101,!1)}()),a=!0),a&&e.splice(l,0,RG())}return{duration:r,delay:s,easing:o}}(n,e,t)}function hh(n,e,t){e.forEach((i,r)=>{const s=sF(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function zp(n,e){e.forEach((t,i)=>{const r=sF(i);n.style[r]=""})}function J1(n){return Array.isArray(n)?1==n.length?n[0]:function qce(n,e=null){return{type:Qn.Sequence,steps:n,options:e}}(n):n}const rF=new RegExp("{{\\s*(.+?)\\s*}}","g");function QG(n){let e=[];if("string"==typeof n){let t;for(;t=rF.exec(n);)e.push(t[1]);rF.lastIndex=0}return e}function Z1(n,e,t){const i=`${n}`,r=i.replace(rF,(s,o)=>{let a=e[o];return null==a&&(t.push(function iue(n){return new Je(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const zue=/-+([a-z0-9])/g;function sF(n){return n.replace(zue,(...e)=>e[1].toUpperCase())}function Wl(n,e,t){switch(e.type){case Qn.Trigger:return n.visitTrigger(e,t);case Qn.State:return n.visitState(e,t);case Qn.Transition:return n.visitTransition(e,t);case Qn.Sequence:return n.visitSequence(e,t);case Qn.Group:return n.visitGroup(e,t);case Qn.Animate:return n.visitAnimate(e,t);case Qn.Keyframes:return n.visitKeyframes(e,t);case Qn.Style:return n.visitStyle(e,t);case Qn.Reference:return n.visitReference(e,t);case Qn.AnimateChild:return n.visitAnimateChild(e,t);case Qn.AnimateRef:return n.visitAnimateRef(e,t);case Qn.Query:return n.visitQuery(e,t);case Qn.Stagger:return n.visitStagger(e,t);default:throw function rue(n){return new Je(3004,!1)}()}}function oF(n,e){return window.getComputedStyle(n)[e]}const $ue=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class GG extends eF{normalizePropertyName(e,t){return sF(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if($ue.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function sue(n,e){return new Je(3005,!1)}())}return o+s}}const Ax="*";const fx=new Set(["true","1"]),px=new Set(["false","0"]);function zG(n,e){const t=fx.has(n)||px.has(n),i=fx.has(e)||px.has(e);return(r,s)=>{let o=n==Ax||n==r,a=e==Ax||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?fx.has(n):px.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?fx.has(e):px.has(e)),o&&a}}const Yue=new RegExp("s*:selfs*,?","g");function aF(n,e,t,i){return new Jue(n).build(e,t,i)}class Jue{constructor(e){this._driver=e}build(e,t,i){const r=new the(t);return this._resetContextStyleTimingState(r),Wl(this,J1(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function oue(){return new Je(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Qn.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==Qn.Transition){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(function aue(){return new Je(3007,!1)}())}),{type:Qn.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{QG(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(function lue(n,e){return new Je(3008,!1)}(0,s.values()))}return{type:Qn.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Wl(this,J1(e.animation),t),r=function Kue(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function que(n,e,t){if(":"==n[0]){const l=function Xue(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function _ue(n){return new Je(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function mue(n){return new Je(3015,!1)}()),e;const r=i[1],s=i[2],o=i[3];e.push(zG(r,o)),"<"==s[0]&&(r!=Ax||o!=Ax)&&e.push(zG(o,r))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Qn.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:jp(e.options)}}visitSequence(e,t){return{type:Qn.Sequence,steps:e.steps.map(i=>Wl(this,i,t)),options:jp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const a=Wl(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Qn.Group,steps:s,options:jp(e.options)}}visitAnimate(e,t){const i=function ihe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return lF(dx(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=lF(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=dx(t,e);return lF(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:IG({});if(s.type==Qn.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=IG(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:Qn.Animate,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===gd?i.push(a):t.errors.push(new Je(3002,!1)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:Qn.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let h=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(t.errors.push(function uue(n,e,t,i,r){return new Je(3010,!1)}()),h=!1),s=u.startTime),h&&c.set(l,{startTime:s,endTime:r}),t.options&&function Gue(n,e,t){const i=e.params||{},r=QG(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function nue(n){return new Je(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:Qn.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function hue(){return new Je(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(m=>{const S=this._makeStyleAst(m,t);let x=null!=S.offset?S.offset:function nhe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(S.styles),M=0;return null!=x&&(s++,M=S.offset=x),l=l||M<0||M>1,a=a||M<c,c=M,o.push(M),S});l&&t.errors.push(function due(){return new Je(3012,!1)}()),a&&t.errors.push(function Aue(){return new Je(3200,!1)}());const h=e.steps.length;let A=0;s>0&&s<h?t.errors.push(function fue(){return new Je(3202,!1)}()):0==s&&(A=1/(h-1));const d=h-1,f=t.currentTime,_=t.currentAnimateTimings,y=_.duration;return u.forEach((m,S)=>{const x=A>0?S==d?1:A*S:o[S],M=x*y;t.currentTime=f+_.delay+M,_.duration=M,this._validateStyleAst(m,t),m.offset=x,i.styles.push(m)}),i}visitReference(e,t){return{type:Qn.Reference,animation:Wl(this,J1(e.animation),t),options:jp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Qn.AnimateChild,options:jp(e.options)}}visitAnimateRef(e,t){return{type:Qn.AnimateRef,animation:this.visitReference(e.animation,t),options:jp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Zue(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Yue,"")),n=n.replace(/@\*/g,hx).replace(/@\w+/g,t=>hx+"-"+t.slice(1)).replace(/:animating/g,nF),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,jl(t.collectedStyles,t.currentQuerySelector,new Map);const a=Wl(this,J1(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Qn.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:jp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function pue(){return new Je(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:dx(e.timings,t.errors,!0);return{type:Qn.Stagger,animation:Wl(this,J1(e.animation),t),timings:i,options:null}}}class the{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jp(n){return n?(n={...n}).params&&(n.params=function ehe(n){return n?{...n}:null}(n.params)):n={},n}function lF(n,e,t){return{duration:n,delay:e,easing:t}}function cF(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class gx{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ohe=new RegExp(":enter","g"),lhe=new RegExp(":leave","g");function uF(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return(new che).buildKeyframes(n,e,t,i,r,s,o,a,l,c)}class che{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new gx;const h=new hF(e,t,c,r,s,u,[]);h.options=l;const A=l.delay?md(l.delay):0;h.currentTimeline.delayNextStep(A),h.currentTimeline.setStyles([o],null,h.errors,l),Wl(this,i,h);const d=h.timelines.filter(f=>f.containsAnimation());if(d.length&&a.size){let f;for(let _=d.length-1;_>=0;_--){const y=d[_];if(y.element===t){f=y;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,h.errors,l)}return d.length?d.map(f=>f.buildKeyframes()):[cF(t,[],[],[],0,A,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const o="number"==typeof s?s:md(Z1(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?md(i.duration):null,a=null!=i.delay?md(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Wl(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){r.previousNode.type==Qn.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=mx);const o=md(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Wl(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?md(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Wl(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return dx(t.params?Z1(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;s.type==Qn.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?md(r.delay):0;s&&(t.previousNode.type===Qn.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=mx);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const h=t.createSubContext(e.options,c);s&&h.delayNextStep(s),c===t.element&&(l=h.currentTimeline),Wl(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;Wl(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const mx={};class hF{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new _x(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=md(i.duration)),null!=i.delay&&(r.delay=md(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Z1(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new hF(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=mx,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new uhe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(ohe,"."+this._enterClassName)).replace(lhe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function gue(n){return new Je(3014,!1)}()),a}}class _x{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new _x(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||gd),this._currentKeyframe.set(t,gd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function hhe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i??=e.keys();for(let s of i)t.set(s,gd)}else for(let[s,o]of r)t.set(s,o)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=Z1(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??gd),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((u,h)=>{"!"===u?e.add(h):u===gd&&t.add(h)}),i||c.set("offset",l/this.duration),r.push(c)});const s=[...e.values()],o=[...t.values()];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return cF(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class uhe extends _x{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);const c=new Map(e[0]);c.set("offset",$G(a)),s.push(c);const u=e.length-1;for(let h=1;h<=u;h++){let A=new Map(e[h]);const d=A.get("offset");A.set("offset",$G((t+d*i)/o)),s.push(A)}i=o,t=0,r="",e=s}return cF(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function $G(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function KG(n,e,t,i,r,s,o,a,l,c,u,h,A){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:A}}const dF={};class qG{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function dhe(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,u){const h=[],A=this.ast.options&&this.ast.options.params||dF,f=this.buildStyles(i,a&&a.params||dF,h),_=l&&l.params||dF,y=this.buildStyles(r,_,h),m=new Set,S=new Map,x=new Map,M="void"===r,L={params:XG(_,A),delay:this.ast.options?.delay},U=u?[]:uF(e,t,this.ast.animation,s,o,f,y,L,c,h);let P=0;return U.forEach(N=>{P=Math.max(N.duration+N.delay,P)}),h.length?KG(t,this._triggerName,i,r,M,f,y,[],[],S,x,P,h):(U.forEach(N=>{const R=N.element,F=jl(S,R,new Set);N.preStyleProps.forEach(k=>F.add(k));const I=jl(x,R,new Set);N.postStyleProps.forEach(k=>I.add(k)),R!==t&&m.add(R)}),KG(t,this._triggerName,i,r,M,f,y,U,[...m.values()],S,x,P))}}function XG(n,e){const t={...e};return Object.entries(n).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class Ahe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=XG(e,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Z1(o,r,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}}class phe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Ahe(r.style,r.options&&r.options.params||{},i))}),YG(this.states,"true","1"),YG(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new qG(e,r,this.states))}),this.fallbackTransition=function ghe(n,e,t){return new qG(n,{type:Qn.Transition,animation:{type:Qn.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function YG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const mhe=new gx;class _he{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=aF(this._driver,t,i,[]);if(i.length)throw function Cue(n){return new Je(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=FG(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=uF(this._driver,t,s,tF,cx,new Map,new Map,i,mhe,r),o.forEach(u=>{const h=jl(a,u.element,new Map);u.postStyleProps.forEach(A=>h.set(A,null))})):(r.push(function Sue(){return new Je(3300,!1)}()),o=[]),r.length)throw function Eue(n){return new Je(3504,!1)}();a.forEach((u,h)=>{u.forEach((A,d)=>{u.set(d,this._driver.computeStyle(h,d,gd))})});const c=$A(o.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,new Map,h)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function xue(n){return new Je(3301,!1)}();return t}listen(e,t,i,r){const s=XR(t,"","","");return KR(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const JG="ng-animate-queued",AF="ng-animate-disabled",Che=[],ZG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},She={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bu="__ng_removed";class fF{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Mhe(n){return n??null}(i?e.value:e),i){const{value:s,...o}=e;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const ew="void",pF=new fF(ew);class Ehe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Dc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Tue(n,e){return new Je(3302,!1)}();if(null==i||0==i.length)throw function Mue(n){return new Je(3303,!1)}();if(!function Dhe(n){return"start"==n||"done"==n}(i))throw function Due(n,e){return new Je(3400,!1)}();const s=jl(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=jl(this._engine.statesByElement,e,new Map);return a.has(t)||(Dc(e,ux),Dc(e,ux+"-"+t),a.set(t,pF)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Bue(n){return new Je(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new gF(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Dc(e,ux),Dc(e,ux+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new fF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=pF),c.value!==ew&&l.value===c.value){if(!function Nhe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const _=[],y=s.matchStyles(l.value,l.params,_),m=s.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{zp(e,y),hh(e,m)})}return}const A=jl(this._engine.playersByElement,e,[]);A.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let d=s.matchTransition(l.value,c.value,e,c.params),f=!1;if(!d){if(!r)return;d=s.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:d,fromState:l,toState:c,player:o,isFallbackTransition:f}),f||(Dc(e,JG),o.onStart(()=>{__(e,JG)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const y=this._engine.playersByElement.get(e);if(y){let m=y.indexOf(o);m>=0&&y.splice(m,1)}}),this.players.push(o),A.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,hx,!0);i.forEach(r=>{if(r[bu])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,ew,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&$A(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||pF,u=new fF(ew),h=new gF(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[bu];(!s||s===ZG)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Dc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=XR(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,KR(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class xhe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Ehe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(vx(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!vx(t))return;const s=t[bu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Dc(e,AF)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),__(e,AF))}removeNode(e,t,i){if(vx(t)){this.scheduler?.notify();const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[bu]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return vx(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,hx,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,nF,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $A(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[bu];if(t&&t.setForRemoval){if(e[bu]=ZG,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(AF)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Dc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?$A(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Iue(n){return new Je(3402,!1)}()}_flushAnimations(e,t){const i=new gx,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Z=>{u.add(Z);const ue=this.driver.query(Z,".ng-animate-queued",!0);for(let te=0;te<ue.length;te++)u.add(ue[te])});const h=this.bodyNode,A=Array.from(this.statesByElement.keys()),d=nz(A,this.collectedEnterElements),f=new Map;let _=0;d.forEach((Z,ue)=>{const te=tF+_++;f.set(ue,te),Z.forEach(ye=>Dc(ye,te))});const y=[],m=new Set,S=new Set;for(let Z=0;Z<this.collectedLeaveElements.length;Z++){const ue=this.collectedLeaveElements[Z],te=ue[bu];te&&te.setForRemoval&&(y.push(ue),m.add(ue),te.hasAnimation?this.driver.query(ue,".ng-star-inserted",!0).forEach(ye=>m.add(ye)):S.add(ue))}const x=new Map,M=nz(A,Array.from(m));M.forEach((Z,ue)=>{const te=cx+_++;x.set(ue,te),Z.forEach(ye=>Dc(ye,te))}),e.push(()=>{d.forEach((Z,ue)=>{const te=f.get(ue);Z.forEach(ye=>__(ye,te))}),M.forEach((Z,ue)=>{const te=x.get(ue);Z.forEach(ye=>__(ye,te))}),y.forEach(Z=>{this.processLeaveNode(Z)})});const L=[],U=[];for(let Z=this._namespaceList.length-1;Z>=0;Z--)this._namespaceList[Z].drainQueuedTransitions(t).forEach(te=>{const ye=te.player,Ce=te.element;if(L.push(ye),this.collectedEnterElements.length){const me=Ce[bu];if(me&&me.setForMove){if(me.previousTriggersValues&&me.previousTriggersValues.has(te.triggerName)){const be=me.previousTriggersValues.get(te.triggerName),Te=this.statesByElement.get(te.element);if(Te&&Te.has(te.triggerName)){const rt=Te.get(te.triggerName);rt.value=be,Te.set(te.triggerName,rt)}}return void ye.destroy()}}const qe=!h||!this.driver.containsElement(h,Ce),V=x.get(Ce),oe=f.get(Ce),j=this._buildInstruction(te,i,oe,V,qe);if(j.errors&&j.errors.length)return void U.push(j);if(qe)return ye.onStart(()=>zp(Ce,j.fromStyles)),ye.onDestroy(()=>hh(Ce,j.toStyles)),void r.push(ye);if(te.isFallbackTransition)return ye.onStart(()=>zp(Ce,j.fromStyles)),ye.onDestroy(()=>hh(Ce,j.toStyles)),void r.push(ye);const le=[];j.timelines.forEach(me=>{me.stretchStartingKeyframe=!0,this.disabledNodes.has(me.element)||le.push(me)}),j.timelines=le,i.append(Ce,j.timelines),o.push({instruction:j,player:ye,element:Ce}),j.queriedElements.forEach(me=>jl(a,me,[]).push(ye)),j.preStyleProps.forEach((me,be)=>{if(me.size){let Te=l.get(be);Te||l.set(be,Te=new Set),me.forEach((rt,lt)=>Te.add(lt))}}),j.postStyleProps.forEach((me,be)=>{let Te=c.get(be);Te||c.set(be,Te=new Set),me.forEach((rt,lt)=>Te.add(lt))})});if(U.length){const Z=[];U.forEach(ue=>{Z.push(function Nue(n,e){return new Je(3505,!1)}())}),L.forEach(ue=>ue.destroy()),this.reportError(Z)}const P=new Map,N=new Map;o.forEach(Z=>{const ue=Z.element;i.has(ue)&&(N.set(ue,ue),this._beforeAnimationBuild(Z.player.namespaceId,Z.instruction,P))}),r.forEach(Z=>{const ue=Z.element;this._getPreviousPlayers(ue,!1,Z.namespaceId,Z.triggerName,null).forEach(ye=>{jl(P,ue,[]).push(ye),ye.destroy()})});const R=y.filter(Z=>rz(Z,l,c)),F=new Map;tz(F,this.driver,S,c,gd).forEach(Z=>{rz(Z,l,c)&&R.push(Z)});const k=new Map;d.forEach((Z,ue)=>{tz(k,this.driver,new Set(Z),l,"!")}),R.forEach(Z=>{const ue=F.get(Z),te=k.get(Z);F.set(Z,new Map([...ue?.entries()??[],...te?.entries()??[]]))});const X=[],Y=[],ge={};o.forEach(Z=>{const{element:ue,player:te,instruction:ye}=Z;if(i.has(ue)){if(u.has(ue))return te.onDestroy(()=>hh(ue,ye.toStyles)),te.disabled=!0,te.overrideTotalTime(ye.totalTime),void r.push(te);let Ce=ge;if(N.size>1){let V=ue;const oe=[];for(;V=V.parentNode;){const j=N.get(V);if(j){Ce=j;break}oe.push(V)}oe.forEach(j=>N.set(j,Ce))}const qe=this._buildAnimation(te.namespaceId,ye,P,s,k,F);if(te.setRealPlayer(qe),Ce===ge)X.push(te);else{const V=this.playersByElement.get(Ce);V&&V.length&&(te.parentPlayer=$A(V)),r.push(te)}}else zp(ue,ye.fromStyles),te.onDestroy(()=>hh(ue,ye.toStyles)),Y.push(te),u.has(ue)&&r.push(te)}),Y.forEach(Z=>{const ue=s.get(Z.element);if(ue&&ue.length){const te=$A(ue);Z.setRealPlayer(te)}}),r.forEach(Z=>{Z.parentPlayer?Z.syncPlayerEvents(Z.parentPlayer):Z.destroy()});for(let Z=0;Z<y.length;Z++){const ue=y[Z],te=ue[bu];if(__(ue,cx),te&&te.hasAnimation)continue;let ye=[];if(a.size){let qe=a.get(ue);qe&&qe.length&&ye.push(...qe);let V=this.driver.query(ue,nF,!0);for(let oe=0;oe<V.length;oe++){let j=a.get(V[oe]);j&&j.length&&ye.push(...j)}}const Ce=ye.filter(qe=>!qe.destroyed);Ce.length?Bhe(this,ue,Ce):this.processLeaveNode(ue)}return y.length=0,X.forEach(Z=>{this.players.push(Z),Z.onDone(()=>{Z.destroy();const ue=this.players.indexOf(Z);this.players.splice(ue,1)}),Z.play()}),X}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==ew;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,h=jl(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(d=>{const f=d.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),d.destroy(),h.push(d)})}zp(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,A=t.timelines.map(f=>{const _=f.element;u.add(_);const y=_[bu];if(y&&y.removedBeforeQueried)return new Y1(f.duration,f.delay);const m=_!==l,S=function Ihe(n){const e=[];return iz(n,e),e}((i.get(_)||Che).map(P=>P.getRealPlayer())).filter(P=>!!P.element&&P.element===_),x=s.get(_),M=o.get(_),L=FG(this._normalizer,f.keyframes,x,M),U=this._buildPlayer(f,L,S);if(f.subTimeline&&r&&h.add(_),m){const P=new gF(e,a,_);P.setRealPlayer(U),c.push(P)}return U});c.forEach(f=>{jl(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>function The(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,f.element,f))}),u.forEach(f=>Dc(f,HG));const d=$A(A);return d.onDestroy(()=>{u.forEach(f=>__(f,HG)),hh(l,t.toStyles)}),h.forEach(f=>{jl(r,f,[]).push(d)}),d}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Y1(e.duration,e.delay)}}class gF{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Y1,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>KR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){jl(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function vx(n){return n&&1===n.nodeType}function ez(n,e){const t=n.style.display;return n.style.display=e??"none",t}function tz(n,e,t,i,r){const s=[];t.forEach(l=>s.push(ez(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(h=>{const A=e.computeStyle(c,h,r);u.set(h,A),(!A||0==A.length)&&(c[bu]=She,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>ez(l,s[a++])),o}function nz(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Dc(n,e){n.classList?.add(e)}function __(n,e){n.classList?.remove(e)}function Bhe(n,e,t){$A(t).onDone(()=>n.processLeaveNode(e))}function iz(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof NG?iz(i.players,e):e.push(i)}}function rz(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class tw{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new xhe(e.body,t,i,r),this._timelineEngine=new _he(e.body,t,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=aF(this._driver,s,l,[]);if(l.length)throw function wue(n,e){return new Je(3404,!1)}();a=function fhe(n,e,t){return new phe(n,e,t)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=OG(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=OG(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class nw{static{this.initialStylesByElement=new WeakMap}constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=nw.initialStylesByElement.get(e);r||nw.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&hh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hh(this._element,this._initialStyles),this._endStyles&&(hh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(nw.initialStylesByElement.delete(this._element),this._startStyles&&(zp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zp(this._element,this._endStyles),this._endStyles=null),hh(this._element,this._initialStyles),this._state=3)}}function mF(n){let e=null;return n.forEach((t,i)=>{(function Fhe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class sz{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:oF(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class oz{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return LG(e,t)}getParentElement(e){return YR(e)}query(e,t,i){return UG(e,t,i)}computeStyle(e,t,i){return oF(e,t)}animate(e,t,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(d=>d instanceof sz);(function jue(n,e){return 0===n||0===e})(i,r)&&u.forEach(d=>{d.currentSnapshot.forEach((f,_)=>c.set(_,f))});let h=function Que(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(d=>new Map(d));h=function Wue(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,oF(n,a)))}}return e}(e,h,c);const A=function Rhe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=mF(e[0]),e.length>1&&(i=mF(e[e.length-1]))):e instanceof Map&&(t=mF(e)),t||i?new nw(n,t,i):null}(e,h);return new sz(e,h,l,A)}}const az="@.disabled";class lz{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==az?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ohe extends lz{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==az?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Phe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Lhe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class Uhe{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{const o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const c=this._rendererCache;let u=c.get(r);return u||(u=new lz("",r,this.engine,()=>c.delete(r)),c.set(r,u)),u}const s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new Ohe(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let khe=(()=>{class n extends tw{constructor(t,i,r){super(t,i,r,we(QS,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(bt($i),bt(ZR),bt(eF))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();const cz=[{provide:eF,useFactory:function Hhe(){return new GG}},{provide:tw,useClass:khe},{provide:xI,useFactory:function Vhe(n,e,t){return new Uhe(n,e,t)},deps:[xR,tw,Vn]}],_F=[{provide:ZR,useFactory:()=>new oz},{provide:NB,useValue:"BrowserAnimations"},...cz],uz=[{provide:ZR,useClass:JR},{provide:NB,useValue:"NoopAnimations"},...cz];let Qhe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?uz:_F}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({providers:_F,imports:[C6]})}}return n})();function vF(...n){const e=F1(n),t=zE(n),{args:i,keys:r}=T6(n);if(0===i.length)return _s([],e);const s=new Qi(function zhe(n,e,t=Ca){return i=>{hz(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)hz(e,()=>{const c=_s(n[l],e);let u=!1;c.subscribe(Zi(i,h=>{s[l]=h,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>M6(r,o):Ca));return t?s.pipe(DR(t)):s}function hz(n,e,t){n?dd(t,n,e):e()}function v_(n=1/0){return Eo(Ca,n)}function iw(...n){return function jhe(){return v_(1)}()(_s(n,F1(n)))}function dz(n){return new Qi(e=>{So(n()).subscribe(e)})}function wx(n,e){const t=Ut(n)?n:()=>n,i=r=>r.error(t());return new Qi(e?r=>e.schedule(i,0,r):i)}function yF(){return Ji((n,e)=>{let t=null;n._refCount++;const i=Zi(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Az extends Qi{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Xg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Si;const t=this.getSubject();e.add(this.source.subscribe(Zi(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Si.EMPTY)}return e}refCount(){return yF()(this)}}function y_(n){return Ji((e,t)=>{let s,i=null,r=!1;i=e.subscribe(Zi(t,void 0,void 0,o=>{s=So(n(o,y_(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function wF(n){return n<=0?()=>Sa:Ji((e,t)=>{let i=[];e.subscribe(Zi(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function pz(n){return ii(()=>n)}function xo(n){return Ji((e,t)=>{So(n).subscribe(Zi(t,()=>t.complete(),Hr)),!t.closed&&e.subscribe(t)})}const di="primary",rw=Symbol("RouteTitle");class qhe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function w_(n){return new qhe(n)}function Xhe(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function dh(n,e){const t=n?bF(n):void 0,i=e?bF(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!gz(n[r],e[r]))return!1;return!0}function bF(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function gz(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function mz(n){return n.length>0?n[n.length-1]:null}function KA(n){return function Ghe(n){return!!n&&(n instanceof Qi||Ut(n.lift)&&Ut(n.subscribe))}(n)?n:M1(n)?_s(Promise.resolve(n)):mn(n)}const Jhe={exact:function yz(n,e,t){if(!Wp(n.segments,e.segments)||!bx(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!yz(n.children[i],e.children[i],t))return!1;return!0},subset:wz},_z={exact:function Zhe(n,e){return dh(n,e)},subset:function ede(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gz(n[t],e[t]))},ignored:()=>!0};function vz(n,e,t){return Jhe[t.paths](n.root,e.root,t.matrixParams)&&_z[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function wz(n,e,t){return bz(n,e,e.segments,t)}function bz(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Wp(r,t)||e.hasChildren()||!bx(r,t,i))}if(n.segments.length===t.length){if(!Wp(n.segments,t)||!bx(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!wz(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Wp(n.segments,r)&&bx(n.segments,r,i)&&n.children[di])&&bz(n.children[di],e,s,i)}}function bx(n,e,t){return e.every((i,r)=>_z[t](n[r].parameters,i.parameters))}class b_{constructor(e=new Mr([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=w_(this.queryParams),this._queryParamMap}toString(){return ide.serialize(this)}}class Mr{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cx(this)}}class sw{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=w_(this.parameters),this._parameterMap}toString(){return Ez(this)}}function Wp(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let C_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:()=>new CF,providedIn:"root"})}}return n})();class CF{parse(e){const t=new fde(e);return new b_(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ow(e.root,!0)}`,i=function ode(n){const e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Sx(t)}=${Sx(r)}`).join("&"):`${Sx(t)}=${Sx(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function rde(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ide=new CF;function Cx(n){return n.segments.map(e=>Ez(e)).join("/")}function ow(n,e){if(!n.hasChildren())return Cx(n);if(e){const t=n.children[di]?ow(n.children[di],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==di&&i.push(`${r}:${ow(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function nde(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===di&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==di&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===di?[ow(n.children[di],!1)]:[`${r}:${ow(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[di]?`${Cx(n)}/${t[0]}`:`${Cx(n)}/(${t.join("//")})`}}function Cz(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sx(n){return Cz(n).replace(/%3B/gi,";")}function SF(n){return Cz(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ex(n){return decodeURIComponent(n)}function Sz(n){return Ex(n.replace(/\+/g,"%20"))}function Ez(n){return`${SF(n.path)}${function sde(n){return Object.entries(n).map(([e,t])=>`;${SF(e)}=${SF(t)}`).join("")}(n.parameters)}`}const ade=/^[^\/()?;#]+/;function EF(n){const e=n.match(ade);return e?e[0]:""}const lde=/^[^\/()?;=#]+/,ude=/^[^=?&#]+/,dde=/^[^&#]+/;class fde{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mr([],{}):new Mr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[di]=new Mr(e,t)),i}parseSegment(){const e=EF(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Je(4009,!1);return this.capture(e),new sw(Ex(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function cde(n){const e=n.match(lde);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=EF(this.remaining);r&&(i=r,this.capture(i))}e[Ex(t)]=Ex(i)}parseQueryParam(e){const t=function hde(n){const e=n.match(ude);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function Ade(n){const e=n.match(dde);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=Sz(t),s=Sz(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=EF(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Je(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=di);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[di]:new Mr([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Je(4011,!1)}}function xz(n){return n.segments.length>0?new Mr([],{[di]:n}):n}function Tz(n){const e={};for(const[i,r]of Object.entries(n.children)){const s=Tz(r);if(i===di&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function pde(n){if(1===n.numberOfChildren&&n.children[di]){const e=n.children[di];return new Mr(n.segments.concat(e.segments),e.children)}return n}(new Mr(n.segments,e))}function S_(n){return n instanceof b_}function Mz(n){let e;const r=xz(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new Mr(s.url,o);return s===n&&(e=a),a}(n.root));return e??r}function Dz(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return xF(r,r,r,t,i);const s=function mde(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Iz(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new Iz(t,e,i)}(e);if(s.toRoot())return xF(r,r,new Mr([],{}),t,i);const o=function _de(n,e,t){if(n.isAbsolute)return new Tx(e,!0,0);if(!t)return new Tx(e,!1,NaN);if(null===t.parent)return new Tx(t,!0,0);const i=xx(n.commands[0])?0:1;return function vde(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Je(4005,!1);r=i.segments.length}return new Tx(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?lw(o.segmentGroup,o.index,s.commands):Nz(o.segmentGroup,o.index,s.commands);return xF(r,o.segmentGroup,a,t,i)}function xx(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function aw(n){return"object"==typeof n&&null!=n&&n.outlets}function xF(n,e,t,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:Bz(n,e,t);const a=xz(Tz(o));return new b_(a,s,r)}function Bz(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:Bz(s,e,t)}),new Mr(n.segments,i)}class Iz{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&xx(i[0]))throw new Je(4003,!1);const r=i.find(aw);if(r&&r!==mz(i))throw new Je(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tx{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Nz(n,e,t){if(n??=new Mr([],{}),0===n.segments.length&&n.hasChildren())return lw(n,e,t);const i=function wde(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(aw(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Fz(l,c,o))return s;i+=2}else{if(!Fz(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Mr(n.segments.slice(0,i.pathIndex),{});return s.children[di]=new Mr(n.segments.slice(i.pathIndex),n.children),lw(s,0,r)}return i.match&&0===r.length?new Mr(n.segments,{}):i.match&&!n.hasChildren()?TF(n,e,t):i.match?lw(n,0,r):TF(n,e,t)}function lw(n,e,t){if(0===t.length)return new Mr(n.segments,{});{const i=function yde(n){return aw(n[0])?n[0].outlets:{[di]:n}}(t),r={};if(Object.keys(i).some(s=>s!==di)&&n.children[di]&&1===n.numberOfChildren&&0===n.children[di].segments.length){const s=lw(n.children[di],e,t);return new Mr(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=Nz(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Mr(n.segments,r)}}function TF(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(aw(s)){const l=bde(s.outlets);return new Mr(i,l)}if(0===r&&xx(t[0])){i.push(new sw(n.segments[e].path,Rz(t[0]))),r++;continue}const o=aw(s)?s.outlets[di]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&xx(a)?(i.push(new sw(o,Rz(a))),r+=2):(i.push(new sw(o,{})),r++)}return new Mr(i,{})}function bde(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=TF(new Mr([],{}),0,i))}),e}function Rz(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function Fz(n,e,t){return n==t.path&&dh(e,t.parameters)}const cw="imperative";var Oi=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Oi||{});class Ah{constructor(e,t){this.id=e,this.url=t}}class Mx extends Ah{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Oi.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _d extends Ah{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Oi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var $l=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}($l||{}),Dx=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Dx||{});class E_ extends Ah{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Oi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class x_ extends Ah{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Oi.NavigationSkipped}}class Bx extends Ah{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Oi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oz extends Ah{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Oi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cde extends Ah{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Oi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sde extends Ah{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Oi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ede extends Ah{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Oi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xde extends Ah{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Oi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tde{constructor(e){this.route=e,this.type=Oi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mde{constructor(e){this.route=e,this.type=Oi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dde{constructor(e){this.snapshot=e,this.type=Oi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bde{constructor(e){this.snapshot=e,this.type=Oi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ide{constructor(e){this.snapshot=e,this.type=Oi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nde{constructor(e){this.snapshot=e,this.type=Oi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pz{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=Oi.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class MF{}class DF{constructor(e){this.url=e}}class Rde{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new uw,this.attachRef=null}}let uw=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Rde,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Lz{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=BF(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=BF(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=IF(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return IF(e,this._root).map(t=>t.value)}}function BF(n,e){if(n===e.value)return e;for(const t of e.children){const i=BF(n,t);if(i)return i}return null}function IF(n,e){if(n===e.value)return[e];for(const t of e.children){const i=IF(n,t);if(i.length)return i.unshift(e),i}return[]}class Cu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function T_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Uz extends Lz{constructor(e,t){super(e),this.snapshot=t,FF(this,e)}toString(){return this.snapshot.toString()}}function kz(n){const e=function Fde(n){const s=new RF([],{},{},"",{},di,n,null,{});return new Hz("",new Cu(s,[]))}(n),t=new Er([new sw("",{})]),i=new Er({}),r=new Er({}),s=new Er({}),o=new Er(""),a=new $p(t,i,s,o,r,di,n,e.root);return a.snapshot=e.root,new Uz(new Cu(a,[]),e)}class $p{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ii(c=>c[rw]))??mn(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ii(e=>w_(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ii(e=>w_(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function NF(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&Qz(r)&&(i.resolve[rw]=r.title),i}class RF{get title(){return this.data?.[rw]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=w_(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=w_(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hz extends Lz{constructor(e,t){super(t),this.url=e,FF(this,t)}toString(){return Vz(this._root)}}function FF(n,e){e.value._routerState=n,e.children.forEach(t=>FF(n,t))}function Vz(n){const e=n.children.length>0?` { ${n.children.map(Vz).join(", ")} } `:"";return`${n.value}${e}`}function OF(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,dh(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),dh(e.params,t.params)||n.paramsSubject.next(t.params),function Yhe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!dh(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),dh(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function PF(n,e){const t=dh(n.params,e.params)&&function tde(n,e){return Wp(n,e)&&n.every((t,i)=>dh(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||PF(n.parent,e.parent))}function Qz(n){return"string"==typeof n.title||null===n.title}let LF=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=di,this.activateEvents=new H,this.deactivateEvents=new H,this.attachEvents=new H,this.detachEvents=new H,this.parentContexts=we(uw),this.location=we(rl),this.changeDetector=we(vu),this.environmentInjector=we(lo),this.inputBinder=we(Ix,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Je(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Je(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new UF(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rs]})}}return n})();class UF{__ngOutletInjector(e){return new UF(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===$p?this.route:e===uw?this.childContexts:this.parent.get(e,t)}}const Ix=new Qt("");let Gz=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=vF([i.queryParams,i.params,i.data]).pipe(cl(([s,o,a],l)=>(a={...s,...o,...a},0===l?mn(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const o=function ase(n){const e=hi(n);if(!e)return null;const t=new n1(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();function hw(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Pde(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return hw(n,i,r);return hw(n,i)})}(n,e,t);return new Cu(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>hw(n,a)),o}}const i=function Lde(n){return new $p(new Er(n.url),new Er(n.params),new Er(n.queryParams),new Er(n.fragment),new Er(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>hw(n,s));return new Cu(i,r)}}const zz="ngNavigationCancelingError";function jz(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=S_(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Wz(!1,$l.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function Wz(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[zz]=!0,t.cancellationCode=e,t}function $z(n){return!!n&&n[zz]}let Kz=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ks],decls:1,vars:0,template:function(i,r){1&i&&Xe(0,"router-outlet")},dependencies:[LF],encapsulation:2})}}return n})();function kF(n){const e=n.children&&n.children.map(kF),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==di&&(t.component=Kz),t}function fh(n){return n.outlet||di}function dw(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class jde{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),OF(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=T_(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=T_(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=T_(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=T_(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Nde(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Bde(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(OF(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),OF(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=dw(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class qz{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Nx{constructor(e,t){this.component=e,this.route=t}}function Wde(n,e,t){const i=n._root;return Aw(i,e?e._root:null,t,[i.value])}function M_(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function tC(n){return null!==Wf(n)}(n)?e.get(n):n:i}function Aw(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=T_(e);return n.children.forEach(o=>{(function Kde(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function qde(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Wp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wp(n.url,e.url)||!dh(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!PF(n,e)||!dh(n.queryParams,e.queryParams);default:return!PF(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new qz(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Aw(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Nx(a.outlet.component,o))}else o&&fw(e,a,r),r.canActivateChecks.push(new qz(i)),Aw(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>fw(a,t.getContext(o),r)),r}function fw(n,e,t){const i=T_(n),r=n.value;Object.entries(i).forEach(([s,o])=>{fw(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Nx(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function pw(n){return"function"==typeof n}function Xz(n){return n instanceof Yg||"EmptyError"===n?.name}const Rx=Symbol("INITIAL_VALUE");function D_(){return cl(n=>vF(n.map(e=>e.pipe(Ds(1),function fz(...n){const e=F1(n);return Ji((t,i)=>{(e?iw(n,t,e):iw(n,t)).subscribe(i)})}(Rx)))).pipe(ii(e=>{for(const t of e)if(!0!==t){if(t===Rx)return Rx;if(!1===t||t instanceof b_)return t}return!0}),Jr(e=>e!==Rx),Ds(1)))}function Yz(n){return function Mv(...n){return zf(n)}(ls(e=>{if(S_(e))throw jz(0,e)}),ii(e=>!0===e))}class HF{constructor(e){this.segmentGroup=e||null}}class VF extends Error{constructor(e){super(),this.urlTree=e}}function B_(n){return wx(new HF(n))}class fAe{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return mn(i);if(r.numberOfChildren>1||!r.children[di])return wx(new Je(4e3,!1));r=r.children[di]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new VF(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new b_(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new Mr(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Je(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const QF={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pAe(n,e,t,i,r){const s=GF(n,e,t);return s.matched?(i=function kde(n,e){return n.providers&&!n._injector&&(n._injector=KS(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function hAe(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?mn(r.map(o=>{const a=M_(o,n);return KA(function tAe(n){return n&&pw(n.canMatch)}(a)?a.canMatch(e,t):fc(n,()=>a(e,t)))})).pipe(D_(),Yz()):mn(!0)}(i,e,t).pipe(ii(o=>!0===o?s:{...QF}))):mn(s)}function GF(n,e,t){if("**"===e.path)return function gAe(n){return{matched:!0,parameters:n.length>0?mz(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...QF}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Xhe)(t,n,e);if(!r)return{...QF};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Jz(n,e,t,i){return t.length>0&&function vAe(n,e,t){return t.some(i=>Fx(n,e,i)&&fh(i)!==di)}(n,t,i)?{segmentGroup:new Mr(e,_Ae(i,new Mr(t,n.children))),slicedSegments:[]}:0===t.length&&function yAe(n,e,t){return t.some(i=>Fx(n,e,i))}(n,t,i)?{segmentGroup:new Mr(n.segments,mAe(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Mr(n.segments,n.children),slicedSegments:t}}function mAe(n,e,t,i){const r={};for(const s of t)if(Fx(n,e,s)&&!i[fh(s)]){const o=new Mr([],{});r[fh(s)]=o}return{...i,...r}}function _Ae(n,e){const t={};t[di]=e;for(const i of n)if(""===i.path&&fh(i)!==di){const r=new Mr([],{});t[fh(i)]=r}return t}function Fx(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class CAe{}class xAe{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new fAe(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Je(4002,`'${e.segmentGroup}'`)}recognize(){const e=Jz(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ii(t=>{const i=new RF([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},di,this.rootComponentType,null,{}),r=new Cu(i,t),s=new Hz("",r),o=function gde(n,e,t=null,i=null){return Dz(Mz(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,di).pipe(y_(i=>{if(i instanceof VF)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof HF?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=NF(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(ii(s=>s instanceof Cu?[s]:[]))}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return _s(r).pipe(VA(s=>{const o=i.children[s],a=function Gde(n,e){const t=n.filter(i=>fh(i)===e);return t.push(...n.filter(i=>fh(i)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function $he(n,e){return Ji(function Whe(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Zi(o,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Jg(null),function Khe(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Jr((r,s)=>n(r,s,i)):Ca,wF(1),t?Jg(e):Yb(()=>new Yg))}(),Eo(s=>{if(null===s)return B_(i);const o=Zz(s);return function TAe(n){n.sort((e,t)=>e.value.outlet===di?-1:t.value.outlet===di?1:e.value.outlet.localeCompare(t.value.outlet))}(o),mn(o)}))}processSegment(e,t,i,r,s,o){return _s(t).pipe(VA(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,s,o).pipe(y_(l=>{if(l instanceof HF)return mn(null);throw l}))),ju(a=>!!a),y_(a=>{if(Xz(a))return function bAe(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?mn(new CAe):B_(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,s,o,a){return function wAe(n,e,t,i){return!!(fh(n)===i||i!==di&&Fx(e,t,n))&&GF(e,n,t).matched}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o):B_(r):B_(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=GF(t,r,s);if(!a)return B_(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,h).pipe(Eo(A=>this.processSegment(e,i,t,A.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){const o=pAe(t,i,r,e);return"**"===i.path&&(t.children={}),o.pipe(cl(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(cl(({routes:l})=>{const c=i._loadedInjector??e,{consumedSegments:u,remainingSegments:h,parameters:A}=a,d=new RF(u,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function DAe(n){return n.data||{}}(i),fh(i),i.component??i._loadedComponent??null,i,function BAe(n){return n.resolve||{}}(i)),{segmentGroup:f,slicedSegments:_}=Jz(t,u,h,l);if(0===_.length&&f.hasChildren())return this.processChildren(c,l,f).pipe(ii(m=>null===m?null:new Cu(d,m)));if(0===l.length&&0===_.length)return mn(new Cu(d,[]));const y=fh(i)===s;return this.processSegment(c,l,f,_,y?di:s,!0).pipe(ii(m=>new Cu(d,m instanceof Cu?[m]:[])))})):B_(t)))}getChildConfig(e,t,i){return t.children?mn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?mn({routes:t._loadedRoutes,injector:t._loadedInjector}):function uAe(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?mn(!0):mn(r.map(o=>{const a=M_(o,n);return KA(function Yde(n){return n&&pw(n.canLoad)}(a)?a.canLoad(e,t):fc(n,()=>a(e,t)))})).pipe(D_(),Yz())}(e,t,i).pipe(Eo(r=>r?this.configLoader.loadChildren(e,t).pipe(ls(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function AAe(n){return wx(Wz(!1,$l.GuardRejected))}())):mn({routes:[],injector:e})}}function MAe(n){const e=n.value.routeConfig;return e&&""===e.path}function Zz(n){const e=[],t=new Set;for(const i of n){if(!MAe(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Zz(i.children);e.push(new Cu(i.value,r))}return e.filter(i=>!t.has(i))}function e7(n){const e=n.children.map(t=>e7(t)).flat();return[n,...e]}function zF(n){return cl(e=>{const t=n(e);return t?_s(t).pipe(ii(()=>e)):mn(e)})}let t7=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===di);return i}getResolvedTitleForRoute(t){return t.data[rw]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:()=>we(PAe),providedIn:"root"})}}return n})(),PAe=(()=>{class n extends t7{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(bt(XE))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const I_=new Qt("",{providedIn:"root",factory:()=>({})}),N_=new Qt("");let jF=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=we(sQ)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return mn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=KA(t.loadComponent()).pipe(ii(n7),ls(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),A_(()=>{this.componentLoaders.delete(t)})),r=new Az(i,()=>new ci).pipe(yF());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return mn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function LAe(n,e,t,i){return KA(n.loadChildren()).pipe(ii(n7),Eo(r=>r instanceof S4||Array.isArray(r)?mn(r):_s(e.compileModuleAsync(r))),ii(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(t).injector,o=s.get(N_,[],{optional:!0,self:!0}).flat()),{routes:o.map(kF),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(A_(()=>{this.childrenLoaders.delete(i)})),o=new Az(s,()=>new ci).pipe(yF());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function n7(n){return function UAe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let WF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:()=>we(kAe),providedIn:"root"})}}return n})(),kAe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const i7=new Qt(""),r7=new Qt("");function HAe(n,e,t){const i=n.get(r7),r=n.get($i);return n.get(Vn).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),function VAe(n){return new Promise(e=>{II(e,{injector:n})})}(n))),{onViewTransitionCreated:l}=i;return l&&fc(n,()=>l({transition:a,from:e,to:t})),o})}let Ox=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ci,this.transitionAbortSubject=new ci,this.configLoader=we(jF),this.environmentInjector=we(lo),this.urlSerializer=we(C_),this.rootContexts=we(uw),this.location=we(c_),this.inputBindingEnabled=null!==we(Ix,{optional:!0}),this.titleStrategy=we(t7),this.options=we(I_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=we(WF),this.createViewTransition=we(i7,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>mn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Mde(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Tde(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new Er({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cw,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Jr(s=>0!==s.id),ii(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),cl(s=>{let o=!1,a=!1;return mn(s).pipe(cl(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",$l.SupersededByNewNavigation),Sa;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new x_(l.id,this.urlSerializer.serialize(l.rawUrl),h,Dx.IgnoredSameUrlNavigation)),l.resolve(null),Sa}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return mn(l).pipe(cl(h=>{const A=this.transitions?.getValue();return this.events.next(new Mx(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),A!==this.transitions?.getValue()?Sa:Promise.resolve(h)}),function IAe(n,e,t,i,r,s){return Eo(o=>function SAe(n,e,t,i,r,s,o="emptyOnly"){return new xAe(n,e,t,i,r,o,s).recognize()}(n,e,t,i,o.extractedUrl,r,s).pipe(ii(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ls(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const A=new Oz(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(A)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:A,source:d,restoredState:f,extras:_}=l,y=new Mx(h,this.urlSerializer.serialize(A),d,f);this.events.next(y);const m=kz(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:m,urlAfterRedirects:A,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=A,mn(s)}{const h="";return this.events.next(new x_(l.id,this.urlSerializer.serialize(l.extractedUrl),h,Dx.IgnoredByUrlHandlingStrategy)),l.resolve(null),Sa}}),ls(l=>{const c=new Cde(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),ii(l=>(this.currentTransition=s={...l,guards:Wde(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function nAe(n,e){return Eo(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?mn({...t,guardsResult:!0}):function iAe(n,e,t,i){return _s(n).pipe(Eo(r=>function cAe(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?mn(s.map(a=>{const l=dw(e)??r,c=M_(a,l);return KA(function eAe(n){return n&&pw(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):fc(l,()=>c(n,e,t,i))).pipe(ju())})).pipe(D_()):mn(!0)}(r.component,r.route,t,e,i)),ju(r=>!0!==r,!0))}(o,i,r,n).pipe(Eo(a=>a&&function Xde(n){return"boolean"==typeof n}(a)?function rAe(n,e,t,i){return _s(e).pipe(VA(r=>iw(function oAe(n,e){return null!==n&&e&&e(new Dde(n)),mn(!0)}(r.route.parent,i),function sAe(n,e){return null!==n&&e&&e(new Ide(n)),mn(!0)}(r.route,i),function lAe(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function $de(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>dz(()=>mn(o.guards.map(l=>{const c=dw(o.node)??t,u=M_(l,c);return KA(function Zde(n){return n&&pw(n.canActivateChild)}(u)?u.canActivateChild(i,n):fc(c,()=>u(i,n))).pipe(ju())})).pipe(D_())));return mn(s).pipe(D_())}(n,r.path,t),function aAe(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return mn(!0);const r=i.map(s=>dz(()=>{const o=dw(e)??t,a=M_(s,o);return KA(function Jde(n){return n&&pw(n.canActivate)}(a)?a.canActivate(e,n):fc(o,()=>a(e,n))).pipe(ju())}));return mn(r).pipe(D_())}(n,r.route,t))),ju(r=>!0!==r,!0))}(i,s,n,e):mn(a)),ii(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),ls(l=>{if(s.guardsResult=l.guardsResult,S_(l.guardsResult))throw jz(0,l.guardsResult);const c=new Sde(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Jr(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",$l.GuardRejected),!1)),zF(l=>{if(l.guards.canActivateChecks.length)return mn(l).pipe(ls(c=>{const u=new Ede(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),cl(c=>{let u=!1;return mn(c).pipe(function NAe(n,e){return Eo(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return mn(t);const s=new Set(r.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const c of e7(l))o.add(c);let a=0;return _s(o).pipe(VA(l=>s.has(l)?function RAe(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!Qz(r)&&(s[rw]=r.title),function FAe(n,e,t,i){const r=bF(n);if(0===r.length)return mn({});const s={};return _s(r).pipe(Eo(o=>function OAe(n,e,t,i){const r=dw(e)??i,s=M_(n,r);return KA(s.resolve?s.resolve(e,t):fc(r,()=>s(e,t)))}(n[o],e,t,i).pipe(ju(),ls(a=>{s[o]=a}))),wF(1),pz(s),y_(o=>Xz(o)?Sa:wx(o)))}(s,n,e,i).pipe(ii(o=>(n._resolvedData=o,n.data=NF(n,n.parent,t).resolve,null)))}(l,i,n,e):(l.data=NF(l,l.parent,n).resolve,mn(void 0))),ls(()=>a++),wF(1),Eo(l=>a===o.size?mn(t):Sa))})}(this.paramsInheritanceStrategy,this.environmentInjector),ls({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",$l.NoDataFromResolver)}}))}),ls(c=>{const u=new xde(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),zF(l=>{const c=u=>{const h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(ls(A=>{u.component=A}),ii(()=>{})));for(const A of u.children)h.push(...c(A));return h};return vF(c(l.targetSnapshot.root)).pipe(Jg(null),Ds(1))}),zF(()=>this.afterPreactivation()),cl(()=>{const{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?_s(u).pipe(ii(()=>s)):mn(s)}),ii(l=>{const c=function Ode(n,e,t){const i=hw(n,e._root,t?t._root:void 0);return new Uz(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,s}),ls(()=>{this.events.next(new MF)}),((n,e,t,i)=>ii(r=>(new jde(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ds(1),ls({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _d(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),xo(this.transitionAbortSubject.pipe(ls(l=>{throw l}))),A_(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",$l.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),y_(l=>{if(a=!0,$z(l))this.events.next(new E_(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function Ude(n){return $z(n)&&S_(n.url)}(l)?this.events.next(new DF(l.url)):s.resolve(!1);else{this.events.next(new Bx(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return Sa}))}))}cancelNavigationTransition(t,i,r){const s=new E_(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function QAe(n){return n!==cw}let GAe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:()=>we(jAe),providedIn:"root"})}}return n})();class zAe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let jAe=(()=>{class n extends zAe{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=hr(n)))(r||n)}})()}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),s7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:()=>we(WAe),providedIn:"root"})}}return n})(),WAe=(()=>{class n extends s7{constructor(){super(...arguments),this.location=we(c_),this.urlSerializer=we(C_),this.options=we(I_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=we(WF),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new b_,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=kz(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Mx)this.stateMemento=this.createStateMemento();else if(t instanceof x_)this.rawUrlTree=i.initialUrl;else if(t instanceof Oz){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof MF?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof E_&&(t.code===$l.GuardRejected||t.code===$l.NoDataFromResolver)?this.restoreHistory(i):t instanceof Bx?this.restoreHistory(i,!0):t instanceof _d&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=hr(n)))(r||n)}})()}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var gw=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(gw||{});function o7(n,e){n.events.pipe(Jr(t=>t instanceof _d||t instanceof E_||t instanceof Bx||t instanceof x_),ii(t=>t instanceof _d||t instanceof x_?gw.COMPLETE:t instanceof E_&&(t.code===$l.Redirect||t.code===$l.SupersededByNewNavigation)?gw.REDIRECTING:gw.FAILED),Jr(t=>t!==gw.REDIRECTING),Ds(1)).subscribe(()=>{e()})}function $Ae(n){throw n}const KAe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qAe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let La=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=we(xN),this.stateManager=we(s7),this.options=we(I_,{optional:!0})||{},this.pendingTasks=we(NA),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=we(Ox),this.urlSerializer=we(C_),this.location=we(c_),this.urlHandlingStrategy=we(WF),this._events=new ci,this.errorHandler=this.options.errorHandler||$Ae,this.navigated=!1,this.routeReuseStrategy=we(GAe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=we(N_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!we(Ix,{optional:!0}),this.eventsSubscription=new Si,this.isNgZoneEnabled=we(Vn)instanceof Vn&&Vn.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof E_&&i.code!==$l.Redirect&&i.code!==$l.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof _d)this.navigated=!0;else if(i instanceof DF){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||QAe(r.source)};this.scheduleNavigation(o,cw,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function YAe(n){return!(n instanceof MF||n instanceof DF)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cw,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(kF),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let h,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{h=Mz(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),h=this.currentUrlTree.root}return Dz(h,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=S_(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,cw,null,i)}navigate(t,i={skipLocationChange:!1}){return function XAe(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new Je(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...KAe}:!1===i?{...qAe}:i,S_(t))return vz(this.currentUrlTree,t,r);const s=this.parseUrl(t);return vz(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(null!=s&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,A)=>{a=h,l=A});const u=this.pendingTasks.add();return o7(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wr=(()=>{class n{constructor(t,i,r,s,o,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new ci,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof _d&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,o){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const i=null===this.href?null:function P3(n,e,t){return function hY(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?O3:es}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(et(La),et($p),function nh(n){return function ur(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if($v(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(ir(),n)}("tabindex"),et(hu),et(w),et(Fp))}}static{this.\u0275dir=Vt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&xt("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&Mi("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[$n.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Qo],skipLocationChange:[$n.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Qo],replaceUrl:[$n.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Qo],routerLink:"routerLink"},standalone:!0,features:[r1,rs]})}}return n})();class a7{}let efe=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Jr(t=>t instanceof _d),VA(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=KS(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return _s(r).pipe(v_())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):mn(null);const s=r.pipe(Eo(o=>null===o?mn(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?_s([s,this.loader.loadComponent(i)]).pipe(v_()):s})}static{this.\u0275fac=function(i){return new(i||n)(bt(La),bt(sQ),bt(lo),bt(a7),bt(jF))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const $F=new Qt("");let l7=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=we(lo),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Mx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _d?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof x_&&t.code===Dx.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Pz&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){var r=this;this.zone.runOutsideAngular((0,vt.A)(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),II(()=>{s()},{injector:r.environmentInjector})}),r.zone.run(()=>{r.transitions.events.next(new Pz(t,"popstate"===r.lastSource?r.store[r.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){!function ak(){throw new Error("invalid")}()}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac})}}return n})();function ph(n,e){return{\u0275kind:n,\u0275providers:e}}function u7(){const n=we(os);return e=>{const t=n.get(_u);if(e!==t.components[0])return;const i=n.get(La),r=n.get(h7);1===n.get(KF)&&i.initialNavigation(),n.get(d7,null,mi.Optional)?.setUpPreloading(),n.get($F,null,mi.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const h7=new Qt("",{factory:()=>new ci}),KF=new Qt("",{providedIn:"root",factory:()=>1}),d7=new Qt("");function rfe(n){return ph(0,[{provide:d7,useExisting:efe},{provide:a7,useExisting:n}])}function ofe(n){return ph(9,[{provide:i7,useValue:HAe},{provide:r7,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const A7=new Qt("ROUTER_FORROOT_GUARD"),afe=[c_,{provide:C_,useClass:CF},La,uw,{provide:$p,useFactory:function c7(n){return n.routerState.root},deps:[La]},jF,[]];let f7=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[afe,[],{provide:N_,multi:!0,useValue:t},{provide:A7,useFactory:hfe,deps:[[La,new Gh,new Xf]]},{provide:I_,useValue:i||{}},i?.useHash?{provide:Fp,useClass:dse}:{provide:Fp,useClass:qQ},{provide:$F,useFactory:()=>{const n=we(Eoe),e=we(Vn),t=we(I_),i=we(Ox),r=we(C_);return t.scrollOffset&&n.setOffset(t.scrollOffset),new l7(r,i,n,e,t)}},i?.preloadingStrategy?rfe(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?dfe(i):[],i?.bindToComponentInputs?ph(8,[Gz,{provide:Ix,useExisting:Gz}]).\u0275providers:[],i?.enableViewTransitions?ofe().\u0275providers:[],[{provide:p7,useFactory:u7},{provide:gE,multi:!0,useExisting:p7}]]}}static forChild(t){return{ngModule:n,providers:[{provide:N_,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(bt(A7,8))}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})();function hfe(n){return"guarded"}function dfe(n){return["disabled"===n.initialNavigation?ph(3,[{provide:pE,multi:!0,useFactory:()=>{const e=we(La);return()=>{e.setUpLocationChangeListener()}}},{provide:KF,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ph(2,[{provide:KF,useValue:0},{provide:pE,multi:!0,deps:[os],useFactory:e=>{const t=e.get(use,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(La),s=e.get(h7);o7(r,()=>{i(!0)}),e.get(Ox).afterPreactivation=()=>(i(!0),s.closed?mn(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const p7=new Qt(""),qA={externalConfig:{},pageSettingDictionary:{},scmList:[],aiPrompts:[]};let XA=(()=>{class n{constructor(t){this.http=t}loadSCMList(){return this.http.get("./assets/json/scm.json").toPromise().then(t=>{console.log("loading scm list..."+JSON.stringify(t)),qA.scmList=t}).catch(t=>{console.error("Error loading configuration:",t)})}loadAiPrompts(){return this.http.get("./assets/json/aiPrompts.json").toPromise().then(t=>{console.log("loading ai Prompts..."+JSON.stringify(t)),qA.aiPrompts=t}).catch(t=>{console.error("Error loading configuration:",t)})}loadConfig(){return this.http.get("./assets/config.json").toPromise().then(t=>{qA.externalConfig=t}).catch(t=>{console.error("Error loading configuration:",t)})}getConfigValue(t){return JSON.parse(JSON.stringify(qA.externalConfig))[t]}static{this.\u0275fac=function(i){return new(i||n)(bt(p_))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),g7=(()=>{class n{constructor(t,i,r,s,o,a){this.router=t,this.configService=i,this.titleService=r,this.customErrorHandler=s,this.loggingInterceptor=o,this.route=a,this.title="PWA_DEMO_ENV_TEST",this._title="",this._appName="",this._appVersion="",this.runtimeVersion=KV.full,this.redirectPage=null;let l="",c="";l="appName",c=this.configService.getConfigValue(l),this._appName=c,l="appVersion",c=this.configService.getConfigValue(l),this._appVersion=c,console.log(`${l} :  ${this.configService.getConfigValue(l)} `)}ngOnInit(){this.titleService.setTitle(`${this._appName} ${this._appVersion}`),this.route.queryParams.subscribe(t=>{this.redirectPage=t.redirectPage?t.redirectPage:"",void 0!==this.redirectPage&&"sudoku"===this.redirectPage&&(console.log("Redirecting To Page : "+this.redirectPage),this.router.navigateByUrl("/Sudoku"))})}getValueFromConfig(t){return this.configService.getConfigValue(t)}static{this.\u0275fac=function(i){return new(i||n)(et(La),et(XA),et(XE),et(_M),et(vM),et($p))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&Xe(0,"app-nav")},styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center}']})}}return n})();var qF=function(n){return n[n.Info=1]="Info",n[n.Debug=2]="Debug",n[n.Error=3]="Error",n}(qF||{});class oa{constructor(e,t,i){this._index=e,this._value=t,this._selected=i}}let m7=(()=>{class n{get _baseUrlNetCore(){return this.__baseUrlNetCore}get _baseUrlNodeJs(){return this.__baseUrlNodeJs}constructor(t,i){this.http=t,this.configService=i,this.HTTPOptions_Text={headers:new Go({Accept:"application/text"}),responseType:"text"},this.HTTPOptions_JSON={headers:new Go({"Content-Type":"application/json"}),responseType:"text"},this.__baseUrlNetCore="",this.__baseUrlNodeJs="",this.__baseUrlSpringBoot="",this.__baseUrlNetCore=this.configService.getConfigValue("baseUrlNetCore"),this.__baseUrlNodeJs=this.configService.getConfigValue("baseUrlNodeJs"),this.__baseUrlSpringBoot=this.configService.getConfigValue("baseUrlSpringBoot"),console.log("baseUrlNetCore     : "+this.__baseUrlNetCore),console.log("baseUrlNodeJs      : "+this.__baseUrlNodeJs),console.log("baseUrlSpringBoot  : "+this.__baseUrlSpringBoot)}_GetSudoku(){return this.http.get(`${this.__baseUrlNetCore}Demos/Sudoku_Generate_CPP`,this.HTTPOptions_Text)}_GetSudoku_NodeJS(){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Generate_NodeJS`,this.HTTPOptions_JSON)}_SolveSudoku(t){return this.http.get(`${this.__baseUrlNetCore}Demos/Sudoku_Solve_CPP?p_matrix=${t}`,this.HTTPOptions_Text)}_SolveSudoku_NodeJS(t){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Solve_NodeJS?p_matrix=${t}`,this.HTTPOptions_Text)}uploadSudoku(t){const i=new FormData;i.append("file",t);let r=`${this.__baseUrlNetCore}demos/Sudoku_Upload_File`;console.log("[SUDOKU] - (UPLOADING FILE) url: "+r);const s=new Ad("POST",r,i,{reportProgress:!0,responseType:"text"});return this.http.request(s)}_TestNodeJs(){let t=`${this.__baseUrlNodeJs}databaseconnect`,i=this.http.get(t,this.HTTPOptions_JSON);return console.log("Testing Url : ["+t+"]"),i}_TestSprinbBoot(){let t=`${this.__baseUrlSpringBoot}hello`,i=this.http.get(t,this.HTTPOptions_Text);return console.log("Testing Url : ["+t+"]"),i}static{this.\u0275fac=function(i){return new(i||n)(bt(p_),bt(XA))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ffe=_e(7239),pfe=_e.n(ffe),Fr=_e(2284),br=Uint8Array,Ua=Uint16Array,mw=Int32Array,R_=new br([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),F_=new br([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_w=new br([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v7=function(n,e){for(var t=new Ua(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];var r=new mw(t[30]);for(i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return{b:t,r}},y7=v7(R_,2),XF=y7.b,Px=y7.r;XF[28]=258,Px[258]=28;for(var w7=v7(F_,0),b7=w7.b,YF=w7.r,vw=new Ua(32768),qr=0;qr<32768;++qr){var YA=(43690&qr)>>1|(21845&qr)<<1;vw[qr]=((65280&(YA=(61680&(YA=(52428&YA)>>2|(13107&YA)<<2))>>4|(3855&YA)<<4))>>8|(255&YA)<<8)>>1}var Bc=function(n,e,t){for(var i=n.length,r=0,s=new Ua(e);r<i;++r)n[r]&&++s[n[r]-1];var a,o=new Ua(e);for(r=1;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;if(t){a=new Ua(1<<e);var l=15-e;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],u=e-n[r],h=o[n[r]-1]++<<u,A=h|(1<<u)-1;h<=A;++h)a[vw[h]>>l]=c}else for(a=new Ua(i),r=0;r<i;++r)n[r]&&(a[r]=vw[o[n[r]-1]++]>>15-n[r]);return a},vd=new br(288);for(qr=0;qr<144;++qr)vd[qr]=8;for(qr=144;qr<256;++qr)vd[qr]=9;for(qr=256;qr<280;++qr)vd[qr]=7;for(qr=280;qr<288;++qr)vd[qr]=8;var O_=new br(32);for(qr=0;qr<32;++qr)O_[qr]=5;var C7=Bc(vd,9,0),S7=Bc(vd,9,1),E7=Bc(O_,5,0),x7=Bc(O_,5,1),Lx=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Ic=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(7&e)&t},Ux=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(7&e)},yw=function(n){return(n+7)/8|0},JA=function(n,e,t){return(null==e||e<0)&&(e=0),(null==t||t>n.length)&&(t=n.length),new br(n.subarray(e,t))},T7=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ui=function(n,e,t){var i=new Error(e||T7[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,Ui),!t)throw i;return i},gh=function(n,e,t){var i=e/8|0;n[i]|=t<<=7&e,n[i+1]|=t>>8},P_=function(n,e,t){var i=e/8|0;n[i]|=t<<=7&e,n[i+1]|=t>>8,n[i+2]|=t>>16},Hx=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var r=t.length,s=t.slice();if(!r)return{t:tO,l:0};if(1==r){var o=new br(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(L,U){return L.f-U.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=r-1;)a=t[t[c].f<t[h].f?c++:h++],l=t[c!=u&&t[c].f<t[h].f?c++:h++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};var A=s[0].s;for(i=1;i<r;++i)s[i].s>A&&(A=s[i].s);var d=new Ua(A+1),f=Vx(t[u-1],d,0);if(f>e){i=0;var _=0,y=f-e,m=1<<y;for(s.sort(function(U,P){return d[P.s]-d[U.s]||U.f-P.f});i<r;++i){var S=s[i].s;if(!(d[S]>e))break;_+=m-(1<<f-d[S]),d[S]=e}for(_>>=y;_>0;){var x=s[i].s;d[x]<e?_-=1<<e-d[x]++-1:++i}for(;i>=0&&_;--i){var M=s[i].s;d[M]==e&&(--d[M],++_)}f=e}return{t:new br(d),l:f}},Vx=function(n,e,t){return-1==n.s?Math.max(Vx(n.l,e,t+1),Vx(n.r,e,t+1)):e[n.s]=t},JF=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Ua(++e),i=0,r=n[0],s=1,o=function(l){t[i++]=l},a=1;a<=e;++a)if(n[a]==r&&a!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[a]}return{c:t.subarray(0,i),n:e}},L_=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},ZF=function(n,e,t){var i=t.length,r=yw(e+2);n[r]=255&i,n[r+1]=i>>8,n[r+2]=255^n[r],n[r+3]=255^n[r+1];for(var s=0;s<i;++s)n[r+s+4]=t[s];return 8*(r+4+i)},eO=function(n,e,t,i,r,s,o,a,l,c,u){gh(e,u++,t),++r[256];for(var h=Hx(r,15),A=h.t,d=h.l,f=Hx(s,15),_=f.t,y=f.l,m=JF(A),S=m.c,x=m.n,M=JF(_),L=M.c,U=M.n,P=new Ua(19),N=0;N<S.length;++N)++P[31&S[N]];for(N=0;N<L.length;++N)++P[31&L[N]];for(var R=Hx(P,7),F=R.t,I=R.l,k=19;k>4&&!F[_w[k-1]];--k);var Z,ue,te,ye,X=c+5<<3,Y=L_(r,vd)+L_(s,O_)+o,ge=L_(r,A)+L_(s,_)+o+14+3*k+L_(P,F)+2*P[16]+3*P[17]+7*P[18];if(l>=0&&X<=Y&&X<=ge)return ZF(e,u,n.subarray(l,l+c));if(gh(e,u,1+(ge<Y)),u+=2,ge<Y){Z=Bc(A,d,0),ue=A,te=Bc(_,y,0),ye=_;var Ce=Bc(F,I,0);for(gh(e,u,x-257),gh(e,u+5,U-1),gh(e,u+10,k-4),u+=14,N=0;N<k;++N)gh(e,u+3*N,F[_w[N]]);u+=3*k;for(var qe=[S,L],V=0;V<2;++V){var oe=qe[V];for(N=0;N<oe.length;++N)gh(e,u,Ce[j=31&oe[N]]),u+=F[j],j>15&&(gh(e,u,oe[N]>>5&127),u+=oe[N]>>12)}}else Z=C7,ue=vd,te=E7,ye=O_;for(N=0;N<a;++N){var le=i[N];if(le>255){var j;P_(e,u,Z[257+(j=le>>18&31)]),u+=ue[j+257],j>7&&(gh(e,u,le>>23&31),u+=R_[j]);var ve=31&le;P_(e,u,te[ve]),u+=ye[ve],ve>3&&(P_(e,u,le>>5&8191),u+=F_[ve])}else P_(e,u,Z[le]),u+=ue[le]}return P_(e,u,Z[256]),u+ue[256]},M7=new mw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tO=new br(0),nO=function(){var n=1,e=0;return{p:function(t){for(var i=n,r=e,s=0|t.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)r+=i+=t[o];i=(65535&i)+15*(i>>16),r=(65535&r)+15*(r>>16)}n=i,e=r},d:function(){return(255&(n%=65521))<<24|(65280&n)<<8|(255&(e%=65521))<<8|e>>8}}},Gx=function(n,e,t,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new br(s.length+n.length);o.set(s),o.set(n,s.length),n=o,r.w=s.length}return function(n,e,t,i,r,s){var o=s.z||n.length,a=new br(i+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(i,a.length-r),c=s.l,u=7&(s.r||0);if(e){u&&(l[0]=s.r>>3);for(var h=M7[e-1],A=h>>13,d=8191&h,f=(1<<t)-1,_=s.p||new Ua(32768),y=s.h||new Ua(f+1),m=Math.ceil(t/3),S=2*m,x=function(se){return(n[se]^n[se+1]<<m^n[se+2]<<S)&f},M=new mw(25e3),L=new Ua(288),U=new Ua(32),P=0,N=0,R=s.i||0,F=0,I=s.w||0,k=0;R+2<o;++R){var X=x(R),Y=32767&R,ge=y[X];if(_[Y]=ge,y[X]=Y,I<=R){var Z=o-R;if((P>7e3||F>24576)&&(Z>423||!c)){u=eO(n,l,0,M,L,U,N,F,k,R-k,u),F=P=N=0,k=R;for(var ue=0;ue<286;++ue)L[ue]=0;for(ue=0;ue<30;++ue)U[ue]=0}var te=2,ye=0,Ce=d,qe=Y-ge&32767;if(Z>2&&X==x(R-qe))for(var V=Math.min(A,Z)-1,oe=Math.min(32767,R),j=Math.min(258,Z);qe<=oe&&--Ce&&Y!=ge;){if(n[R+te]==n[R+te-qe]){for(var le=0;le<j&&n[R+le]==n[R+le-qe];++le);if(le>te){if(te=le,ye=qe,le>V)break;var ve=Math.min(qe,le-2),me=0;for(ue=0;ue<ve;++ue){var be=R-qe+ue&32767,rt=be-_[be]&32767;rt>me&&(me=rt,ge=be)}}}qe+=(Y=ge)-(ge=_[Y])&32767}if(ye){M[F++]=268435456|Px[te]<<18|YF[ye];var lt=31&Px[te],Le=31&YF[ye];N+=R_[lt]+F_[Le],++L[257+lt],++U[Le],I=R+te,++P}else M[F++]=n[R],++L[n[R]]}}for(R=Math.max(R,I);R<o;++R)M[F++]=n[R],++L[n[R]];u=eO(n,l,c,M,L,U,N,F,k,R-k,u),c||(s.r=7&u|l[u/8|0]<<3,u-=7,s.h=y,s.p=_,s.i=R,s.w=I)}else{for(R=s.w||0;R<o+c;R+=65535){var Ve=R+65535;Ve>=o&&(l[u/8|0]=c,Ve=o),u=ZF(l,u+1,n.subarray(R,Ve))}s.i=o}return JA(a,0,i+yw(u)+r)}(n,null==e.level?6:e.level,null==e.mem?r.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):20:12+e.mem,t,i,r)},ts=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};function bw(n,e){e||(e={});var t=nO();t.p(n);var i=Gx(n,e,e.dictionary?6:2,4);return function(n,e){var t=e.level,i=0==t?0:t<6?1:9==t?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var r=nO();r.p(e.dictionary),ts(n,2,r.d())}}(i,e),ts(i,i.length-4,t.d()),i}function $x(n,e){return function(n,e,t,i){var r=n.length,s=i?i.length:0;if(!r||e.f&&!e.l)return t||new br(0);var o=!t,a=o||2!=e.i,l=e.i;o&&(t=new br(3*r));var c=function(lt){var Le=t.length;if(lt>Le){var Ve=new br(Math.max(2*Le,lt));Ve.set(t),t=Ve}},u=e.f||0,h=e.p||0,A=e.b||0,d=e.l,f=e.d,_=e.m,y=e.n,m=8*r;do{if(!d){u=Ic(n,h,1);var S=Ic(n,h+1,3);if(h+=3,!S){var M=n[(x=yw(h)+4)-4]|n[x-3]<<8,L=x+M;if(L>r){l&&Ui(0);break}a&&c(A+M),t.set(n.subarray(x,L),A),e.b=A+=M,e.p=h=8*L,e.f=u;continue}if(1==S)d=S7,f=x7,_=9,y=5;else if(2==S){var U=Ic(n,h,31)+257,P=Ic(n,h+10,15)+4,N=U+Ic(n,h+5,31)+1;h+=14;for(var R=new br(N),F=new br(19),I=0;I<P;++I)F[_w[I]]=Ic(n,h+3*I,7);h+=3*P;var k=Lx(F),X=(1<<k)-1,Y=Bc(F,k,1);for(I=0;I<N;){var x,ge=Y[Ic(n,h,X)];if(h+=15&ge,(x=ge>>4)<16)R[I++]=x;else{var Z=0,ue=0;for(16==x?(ue=3+Ic(n,h,3),h+=2,Z=R[I-1]):17==x?(ue=3+Ic(n,h,7),h+=3):18==x&&(ue=11+Ic(n,h,127),h+=7);ue--;)R[I++]=Z}}var te=R.subarray(0,U),ye=R.subarray(U);_=Lx(te),y=Lx(ye),d=Bc(te,_,1),f=Bc(ye,y,1)}else Ui(1);if(h>m){l&&Ui(0);break}}a&&c(A+131072);for(var Ce=(1<<_)-1,qe=(1<<y)-1,V=h;;V=h){var oe=(Z=d[Ux(n,h)&Ce])>>4;if((h+=15&Z)>m){l&&Ui(0);break}if(Z||Ui(2),oe<256)t[A++]=oe;else{if(256==oe){V=h,d=null;break}var j=oe-254;oe>264&&(j=Ic(n,h,(1<<(le=R_[I=oe-257]))-1)+XF[I],h+=le);var ve=f[Ux(n,h)&qe],me=ve>>4;if(ve||Ui(3),h+=15&ve,ye=b7[me],me>3){var le=F_[me];ye+=Ux(n,h)&(1<<le)-1,h+=le}if(h>m){l&&Ui(0);break}a&&c(A+131072);var be=A+j;if(A<ye){var Te=s-ye,rt=Math.min(ye,be);for(Te+A<0&&Ui(3);A<rt;++A)t[A]=i[Te+A]}for(;A<be;++A)t[A]=t[A-ye]}}e.l=d,e.p=V,e.b=A,e.f=u,d&&(u=1,e.m=_,e.d=f,e.n=y)}while(!u);return A!=t.length&&o?JA(t,0,A):t.subarray(0,A)}(n.subarray(function(n,e){return(8!=(15&n[0])||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Ui(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&Ui(6,"invalid zlib data: "+(32&n[1]?"need":"unexpected")+" dictionary"),2+(n[1]>>3&4)}(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var cO=typeof TextDecoder<"u"&&new TextDecoder;try{cO.decode(tO,{stream:!0})}catch{}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var kn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function uO(){kn.console&&"function"==typeof kn.console.log&&kn.console.log.apply(kn.console,arguments)}var Or={log:uO,warn:function(n){kn.console&&("function"==typeof kn.console.warn?kn.console.warn.apply(kn.console,arguments):uO.call(null,arguments))},error:function(n){kn.console&&("function"==typeof kn.console.error?kn.console.error.apply(kn.console,arguments):uO(n))}};function hO(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Kp(i.response,e,t)},i.onerror=function(){Or.error("could not download file")},i.send()}function j7(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Yx(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Sw,dO,Kp=kn.saveAs||("object"!==(typeof window>"u"?"undefined":(0,Fr.A)(window))||window!==kn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=kn.URL||kn.webkitURL,r=document.createElement("a");r.download=e=e||n.name||"download",r.rel="noopener","string"==typeof n?(r.href=n,r.origin!==location.origin?j7(r.href)?hO(n,e,t):Yx(r,r.target="_blank"):Yx(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Yx(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download","string"==typeof n)if(j7(n))hO(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Yx(i)})}else navigator.msSaveOrOpenBlob((r=n,void 0===(s=t)?s={autoBom:!1}:"object"!==(0,Fr.A)(s)&&(Or.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\ufeff",r],{type:r.type}):r),e);var r,s}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof n)return hO(n,e,t);var r="application/octet-stream"===n.type,s=/constructor/i.test(kn.HTMLElement)||kn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&"object"===(typeof FileReader>"u"?"undefined":(0,Fr.A)(FileReader))){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=u:location=u,i=null},a.readAsDataURL(n)}else{var l=kn.URL||kn.webkitURL,c=l.createObjectURL(n);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function W7(n){var e;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<t.length;i++){var s=t[i].process,o=t[i].re.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==l.length&&(l="0"+l),1==c.length&&(c="0"+c),"#"+a+l+c}}function AO(n,e){var t=n[0],i=n[1],r=n[2],s=n[3];t=aa(t,i,r,s,e[0],7,-680876936),s=aa(s,t,i,r,e[1],12,-389564586),r=aa(r,s,t,i,e[2],17,606105819),i=aa(i,r,s,t,e[3],22,-1044525330),t=aa(t,i,r,s,e[4],7,-176418897),s=aa(s,t,i,r,e[5],12,1200080426),r=aa(r,s,t,i,e[6],17,-1473231341),i=aa(i,r,s,t,e[7],22,-45705983),t=aa(t,i,r,s,e[8],7,1770035416),s=aa(s,t,i,r,e[9],12,-1958414417),r=aa(r,s,t,i,e[10],17,-42063),i=aa(i,r,s,t,e[11],22,-1990404162),t=aa(t,i,r,s,e[12],7,1804603682),s=aa(s,t,i,r,e[13],12,-40341101),r=aa(r,s,t,i,e[14],17,-1502002290),t=la(t,i=aa(i,r,s,t,e[15],22,1236535329),r,s,e[1],5,-165796510),s=la(s,t,i,r,e[6],9,-1069501632),r=la(r,s,t,i,e[11],14,643717713),i=la(i,r,s,t,e[0],20,-373897302),t=la(t,i,r,s,e[5],5,-701558691),s=la(s,t,i,r,e[10],9,38016083),r=la(r,s,t,i,e[15],14,-660478335),i=la(i,r,s,t,e[4],20,-405537848),t=la(t,i,r,s,e[9],5,568446438),s=la(s,t,i,r,e[14],9,-1019803690),r=la(r,s,t,i,e[3],14,-187363961),i=la(i,r,s,t,e[8],20,1163531501),t=la(t,i,r,s,e[13],5,-1444681467),s=la(s,t,i,r,e[2],9,-51403784),r=la(r,s,t,i,e[7],14,1735328473),t=ca(t,i=la(i,r,s,t,e[12],20,-1926607734),r,s,e[5],4,-378558),s=ca(s,t,i,r,e[8],11,-2022574463),r=ca(r,s,t,i,e[11],16,1839030562),i=ca(i,r,s,t,e[14],23,-35309556),t=ca(t,i,r,s,e[1],4,-1530992060),s=ca(s,t,i,r,e[4],11,1272893353),r=ca(r,s,t,i,e[7],16,-155497632),i=ca(i,r,s,t,e[10],23,-1094730640),t=ca(t,i,r,s,e[13],4,681279174),s=ca(s,t,i,r,e[0],11,-358537222),r=ca(r,s,t,i,e[3],16,-722521979),i=ca(i,r,s,t,e[6],23,76029189),t=ca(t,i,r,s,e[9],4,-640364487),s=ca(s,t,i,r,e[12],11,-421815835),r=ca(r,s,t,i,e[15],16,530742520),t=ua(t,i=ca(i,r,s,t,e[2],23,-995338651),r,s,e[0],6,-198630844),s=ua(s,t,i,r,e[7],10,1126891415),r=ua(r,s,t,i,e[14],15,-1416354905),i=ua(i,r,s,t,e[5],21,-57434055),t=ua(t,i,r,s,e[12],6,1700485571),s=ua(s,t,i,r,e[3],10,-1894986606),r=ua(r,s,t,i,e[10],15,-1051523),i=ua(i,r,s,t,e[1],21,-2054922799),t=ua(t,i,r,s,e[8],6,1873313359),s=ua(s,t,i,r,e[15],10,-30611744),r=ua(r,s,t,i,e[6],15,-1560198380),i=ua(i,r,s,t,e[13],21,1309151649),t=ua(t,i,r,s,e[4],6,-145523070),s=ua(s,t,i,r,e[11],10,-1120210379),r=ua(r,s,t,i,e[2],15,718787259),i=ua(i,r,s,t,e[9],21,-343485551),n[0]=ef(t,n[0]),n[1]=ef(i,n[1]),n[2]=ef(r,n[2]),n[3]=ef(s,n[3])}function Jx(n,e,t,i,r,s){return e=ef(ef(e,n),ef(i,s)),ef(e<<r|e>>>32-r,t)}function aa(n,e,t,i,r,s,o){return Jx(e&t|~e&i,n,e,r,s,o)}function la(n,e,t,i,r,s,o){return Jx(e&i|t&~i,n,e,r,s,o)}function ca(n,e,t,i,r,s,o){return Jx(e^t^i,n,e,r,s,o)}function ua(n,e,t,i,r,s,o){return Jx(t^(e|~i),n,e,r,s,o)}function $7(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)AO(i,Dfe(n.substring(e-64,e)));n=n.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)r[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(AO(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,AO(i,r),i}function Dfe(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Sw=kn.atob.bind(kn),dO=kn.btoa.bind(kn);var K7="0123456789abcdef".split("");function Bfe(n){for(var e="",t=0;t<4;t++)e+=K7[n>>8*t+4&15]+K7[n>>8*t&15];return e}function Ife(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function fO(n){return $7(n).map(Ife).join("")}var Nfe="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var e=0;e<n.length;e++)n[e]=Bfe(n[e]);return n.join("")}($7("hello"));function ef(n,e){if(Nfe){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function pO(n,e){var t,i,r;if(n!==t){for(var o=(r=n,new Array(1+(256/n.length|0)+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,i=a}else a=i;var h=e.length,A=0,d=0,f="";for(l=0;l<h;l++)d=(d+(u=a[A=(A+1)%256]))%256,a[A]=a[d],a[d]=u,o=a[(a[A]+a[d])%256],f+=String.fromCharCode(e.charCodeAt(l)^o);return f}var q7={print:4,modify:8,copy:16,"annot-forms":32};function k_(n,e,t,i){this.v=1,this.r=2;var r=192;n.forEach(function(a){if(void 0!==q7.perm)throw new Error("Invalid permission: "+a);r+=q7[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=fO(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=pO(this.encryptionKey,this.padding)}function H_(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var r=n.charCodeAt(i);e+=r<33||35===r||37===r||40===r||41===r||47===r||60===r||62===r||91===r||93===r||123===r||125===r||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return e}function X7(n){if("object"!==(0,Fr.A)(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,r){if(r=r||!1,"string"!=typeof t||"function"!=typeof i||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[i,!!r],s},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],0===Object.keys(e[i]).length&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,i)}catch(a){kn.console&&Or.error("jsPDF PubSub Error",a.message,a)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Zx(n){if(!(this instanceof Zx))return new Zx(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function Y7(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function qp(n,e,t,i,r){if(!(this instanceof qp))return new qp(n,e,t,i,r);this.type="axial"===n?2:3,this.coords=e,this.colors=t,Y7.call(this,i,r)}function V_(n,e,t,i,r){if(!(this instanceof V_))return new V_(n,e,t,i,r);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Y7.call(this,i,r)}function Ln(n){var e,t="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;"object"===(0,Fr.A)(n=n||{})&&(t=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,null!==(u=n.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(e=n.precision),void 0!==n.floatPrecision&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(!0===s?["FlateEncode"]:o),i=i||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,A={},d={internal:{},__private__:{}};d.__private__.PubSub=X7;var f="1.3",_=d.__private__.getPdfVersion=function(){return f};d.__private__.setPdfVersion=function(E){f=E};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return y};var m=d.__private__.getPageFormat=function(E){return y[E]};r=r||"a4";var x="compat";function M(){this.saveGraphicsState(),ne(new gn(Ge,0,0,-Ge,0,xf()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),c="n",x="advanced"}function L(){this.restoreGraphicsState(),c="S",x="compat"}var U=d.__private__.combineFontStyleAndFontWeight=function(E,z){if("bold"==E&&"normal"==z||"bold"==E&&400==z||"normal"==E&&"italic"==z||"bold"==E&&"italic"==z)throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(E=400==z||"normal"===z?"italic"===E?"italic":"normal":700!=z&&"bold"!==z||"normal"!==E?(700==z?"bold":z)+""+E:"bold"),E};d.advancedAPI=function(E){var z="compat"===x;return z&&M.call(this),"function"!=typeof E||(E(this),z&&L.call(this)),this},d.compatAPI=function(E){var z="advanced"===x;return z&&L.call(this),"function"!=typeof E||(E(this),z&&M.call(this)),this},d.isAdvancedAPI=function(){return"advanced"===x};var P,N=function(E){if("advanced"!==x)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=d.roundToPrecision=d.__private__.roundToPrecision=function(E,z){var pe=e||z;if(isNaN(E)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(pe).replace(/0+$/,"")};P=d.hpf=d.__private__.hpf="number"==typeof l?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return R(E,l)}:"smart"===l?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return R(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return R(E,16)};var F=d.f2=d.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return R(E,2)},I=d.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return R(E,3)},k=d.scale=d.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===x?E*Ge:"advanced"===x?E:void 0},Y=function(E){return k(function(E){return"compat"===x?xf()-E:"advanced"===x?E:void 0}(E))};d.__private__.setPrecision=d.setPrecision=function(E){"number"==typeof parseInt(E,10)&&(e=parseInt(E,10))};var ge,Z="00000000000000000000000000000000",ue=d.__private__.getFileId=function(){return Z},te=d.__private__.setFileId=function(E){return Z=void 0!==E&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(va=new k_(u.userPermissions,u.userPassword,u.ownerPassword,Z)),Z};d.setFileId=function(E){return te(E),this},d.getFileId=function(){return ue()};var ye=d.__private__.convertDateToPDFDate=function(E){var z=E.getTimezoneOffset(),pe=z<0?"+":"-",Ee=Math.floor(Math.abs(z/60)),ke=Math.abs(z%60),ht=[pe,j(Ee),"'",j(ke),"'"].join("");return["D:",E.getFullYear(),j(E.getMonth()+1),j(E.getDate()),j(E.getHours()),j(E.getMinutes()),j(E.getSeconds()),ht].join("")},Ce=d.__private__.convertPDFDateToDate=function(E){var z=parseInt(E.substr(2,4),10),pe=parseInt(E.substr(6,2),10)-1,Ee=parseInt(E.substr(8,2),10),ke=parseInt(E.substr(10,2),10),ht=parseInt(E.substr(12,2),10),Tt=parseInt(E.substr(14,2),10);return new Date(z,pe,Ee,ke,ht,Tt,0)},qe=d.__private__.setCreationDate=function(E){var z;if(void 0===E&&(E=new Date),E instanceof Date)z=ye(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=E}return ge=z},V=d.__private__.getCreationDate=function(E){var z=ge;return"jsDate"===E&&(z=Ce(ge)),z};d.setCreationDate=function(E){return qe(E),this},d.getCreationDate=function(E){return V(E)};var oe,j=d.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},le=d.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},ve=0,me=[],be=[],Te=0,rt=[],lt=[],Le=!1,Ve=be;d.__private__.setCustomOutputDestination=function(E){Le=!0,Ve=E};var Oe=function(E){Le||(Ve=E)};d.__private__.resetCustomOutputDestination=function(){Le=!1,Ve=be};var ne=d.__private__.out=function(E){return E=E.toString(),Te+=E.length+1,Ve.push(E),Ve},wt=d.__private__.write=function(E){return ne(1===arguments.length?E.toString():Array.prototype.join.call(arguments," "))},tt=d.__private__.getArrayBuffer=function(E){for(var z=E.length,pe=new ArrayBuffer(z),Ee=new Uint8Array(pe);z--;)Ee[z]=E.charCodeAt(z);return pe},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return it};var We=n.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(E){return We="advanced"===x?E/Ge:E,this};var J,Q=d.__private__.getFontSize=d.getFontSize=function(){return"compat"===x?We:We*Ge},Se=n.R2L||!1;d.__private__.setR2L=d.setR2L=function(E){return Se=E,this},d.__private__.getR2L=d.getR2L=function(){return Se};var Qe,nt=d.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))J=E;else if(isNaN(E)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');J=E}else J=parseInt(E,10)};d.__private__.getZoomMode=function(){return J};var $e,Mt=d.__private__.setPageMode=function(E){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Qe=E};d.__private__.getPageMode=function(){return Qe};var St=d.__private__.setLayoutMode=function(E){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');$e=E};d.__private__.getLayoutMode=function(){return $e},d.__private__.setDisplayMode=d.setDisplayMode=function(E,z,pe){return nt(E),St(z),Mt(pe),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(E){if(-1===Object.keys(mt).indexOf(E))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[E]},d.__private__.getDocumentProperties=function(){return mt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(E){for(var z in mt)mt.hasOwnProperty(z)&&E[z]&&(mt[z]=E[z]);return this},d.__private__.setDocumentProperty=function(E,z){if(-1===Object.keys(mt).indexOf(E))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[E]=z};var en,Ge,jt,Gt,wn,Ot={},_n={},Nn=[],bn={},Ne={},Dt={},ot={},ft=null,Nt=0,gt=[],tn=new X7(d),mr=n.hotfixes||[],Hi={},pi={},ws=[],gn=function E(z,pe,Ee,ke,ht,Tt){if(!(this instanceof E))return new E(z,pe,Ee,ke,ht,Tt);isNaN(z)&&(z=1),isNaN(pe)&&(pe=0),isNaN(Ee)&&(Ee=0),isNaN(ke)&&(ke=1),isNaN(ht)&&(ht=0),isNaN(Tt)&&(Tt=0),this._matrix=[z,pe,Ee,ke,ht,Tt]};Object.defineProperty(gn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(gn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(gn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(gn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(gn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(gn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(gn.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(gn.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(gn.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(gn.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(gn.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(gn.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(gn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gn.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),gn.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(E)},gn.prototype.multiply=function(E){return new gn(E.sx*this.sx+E.shy*this.shx,E.sx*this.shy+E.shy*this.sy,E.shx*this.sx+E.sy*this.shx,E.shx*this.shy+E.sy*this.sy,E.tx*this.sx+E.ty*this.shx+this.tx,E.tx*this.shy+E.ty*this.sy+this.ty)},gn.prototype.decompose=function(){var E=this.sx,z=this.shy,pe=this.shx,Ee=this.sy,ke=this.tx,ht=this.ty,Tt=Math.sqrt(E*E+z*z),nn=(E/=Tt)*pe+(z/=Tt)*Ee;pe-=E*nn,Ee-=z*nn;var En=Math.sqrt(pe*pe+Ee*Ee);return nn/=En,E*(Ee/=En)<z*(pe/=En)&&(E=-E,z=-z,nn=-nn,Tt=-Tt),{scale:new gn(Tt,0,0,En,0,0),translate:new gn(1,0,0,1,ke,ht),rotate:new gn(E,z,-z,E,0,0),skew:new gn(1,0,nn,1,0,0)}},gn.prototype.toString=function(E){return this.join(" ")},gn.prototype.inversed=function(){var E=this.sx,z=this.shy,pe=this.shx,Ee=this.sy,ke=this.tx,ht=this.ty,Tt=1/(E*Ee-z*pe),nn=Ee*Tt,En=-z*Tt,ni=-pe*Tt,ei=E*Tt;return new gn(nn,En,ni,ei,-nn*ke-ni*ht,-En*ke-ei*ht)},gn.prototype.applyToPoint=function(E){return new nv(E.x*this.sx+E.y*this.shx+this.tx,E.x*this.shy+E.y*this.sy+this.ty)},gn.prototype.applyToRectangle=function(E){var z=this.applyToPoint(E),pe=this.applyToPoint(new nv(E.x+E.w,E.y+E.h));return new Tb(z.x,z.y,pe.x-z.x,pe.y-z.y)},gn.prototype.clone=function(){return new gn(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},d.Matrix=gn;var wl=d.matrixMult=function(E,z){return z.multiply(E)},ic=new gn(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=ic;var bs=function(E,z){if(!Ne[E]){var pe=(z instanceof qp?"Sh":"P")+(Object.keys(bn).length+1).toString(10);z.id=pe,Ne[E]=pe,bn[pe]=z,tn.publish("addPattern",z)}};d.ShadingPattern=qp,d.TilingPattern=V_,d.addShadingPattern=function(E,z){return N("addShadingPattern()"),bs(E,z),this},d.beginTilingPattern=function(E){N("beginTilingPattern()"),DM(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},d.endTilingPattern=function(E,z){N("endTilingPattern()"),z.stream=lt[oe].join("\n"),bs(E,z),tn.publish("endTilingPattern",z),ws.pop().restore()};var E,us=d.__private__.newObject=function(){var E=hs();return ga(E,!0),E},hs=d.__private__.newObjectDeferred=function(){return ve++,me[ve]=function(){return Te},ve},ga=function(E,z){return z="boolean"==typeof z&&z,me[E]=Te,z&&ne(E+" 0 obj"),E},Pu=d.__private__.newAdditionalObject=function(){var E={objId:hs(),content:""};return rt.push(E),E},Lc=hs(),ma=hs(),bl=d.__private__.decodeColorString=function(E){var z=E.split(" ");if(2!==z.length||"g"!==z[1]&&"G"!==z[1])5===z.length&&("k"===z[4]||"K"===z[4])&&(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var pe=parseFloat(z[0]);z=[pe,pe,pe,"r"]}for(var Ee="#",ke=0;ke<3;ke++)Ee+=("0"+Math.floor(255*parseFloat(z[ke])).toString(16)).slice(-2);return Ee},Cl=d.__private__.encodeColorString=function(E){var z;"string"==typeof E&&(E={ch1:E});var pe=E.ch1,Ee=E.ch2,ke=E.ch3,ht=E.ch4,Tt="draw"===E.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof pe&&"#"!==pe.charAt(0)){var nn=new W7(pe);if(nn.ok)pe=nn.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if("string"==typeof pe&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),"string"==typeof pe&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var En=parseInt(pe.substr(1),16);pe=En>>16&255,Ee=En>>8&255,ke=255&En}if(void 0===Ee||void 0===ht&&pe===Ee&&Ee===ke)z="string"==typeof pe?pe+" "+Tt[0]:2===E.precision?F(pe/255)+" "+Tt[0]:I(pe/255)+" "+Tt[0];else if(void 0===ht||"object"===(0,Fr.A)(ht)){if(ht&&!isNaN(ht.a)&&0===ht.a)return["1.","1.","1.",Tt[1]].join(" ");z="string"==typeof pe?[pe,Ee,ke,Tt[1]].join(" "):2===E.precision?[F(pe/255),F(Ee/255),F(ke/255),Tt[1]].join(" "):[I(pe/255),I(Ee/255),I(ke/255),Tt[1]].join(" ")}else z="string"==typeof pe?[pe,Ee,ke,ht,Tt[2]].join(" "):2===E.precision?[F(pe),F(Ee),F(ke),F(ht),Tt[2]].join(" "):[I(pe),I(Ee),I(ke),I(ht),Tt[2]].join(" ");return z},Uc=d.__private__.getFilters=function(){return o},Sl=d.__private__.putStream=function(E){var z=(E=E||{}).data||"",pe=E.filters||Uc(),Ee=E.alreadyAppliedFilters||[],ke=E.addLength1||!1,ht=z.length,Tt=E.objectId,nn=function(ya){return ya};if(null!==u&&void 0===Tt)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(nn=va.encryptor(Tt,0));var En={};!0===pe&&(pe=["FlateEncode"]);var ni=E.additionalKeyValues||[],ei=(En=void 0!==Ln.API.processDataByFilters?Ln.API.processDataByFilters(z,pe):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(0!==En.data.length&&(ni.push({key:"Length",value:En.data.length}),!0===ke&&ni.push({key:"Length1",value:ht})),0!=ei.length)if(ei.split("/").length-1==1)ni.push({key:"Filter",value:ei});else{ni.push({key:"Filter",value:"["+ei+"]"});for(var Vi=0;Vi<ni.length;Vi+=1)if("DecodeParms"===ni[Vi].key){for(var ds=[],Ss=0;Ss<En.reverseChain.split("/").length-1;Ss+=1)ds.push("null");ds.push(ni[Vi].value),ni[Vi].value="["+ds.join(" ")+"]"}}ne("<<");for(var ro=0;ro<ni.length;ro++)ne("/"+ni[ro].key+" "+ni[ro].value);ne(">>"),0!==En.data.length&&(ne("stream"),ne(nn(En.data)),ne("endstream"))},kc=d.__private__.putPage=function(E){var z=E.number,pe=E.data,Ee=E.objId,ke=E.contentsObjId;ga(Ee,!0),ne("<</Type /Page"),ne("/Parent "+E.rootDictionaryObjId+" 0 R"),ne("/Resources "+E.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(P(E.mediaBox.bottomLeftX))+" "+parseFloat(P(E.mediaBox.bottomLeftY))+" "+P(E.mediaBox.topRightX)+" "+P(E.mediaBox.topRightY)+"]"),null!==E.cropBox&&ne("/CropBox ["+P(E.cropBox.bottomLeftX)+" "+P(E.cropBox.bottomLeftY)+" "+P(E.cropBox.topRightX)+" "+P(E.cropBox.topRightY)+"]"),null!==E.bleedBox&&ne("/BleedBox ["+P(E.bleedBox.bottomLeftX)+" "+P(E.bleedBox.bottomLeftY)+" "+P(E.bleedBox.topRightX)+" "+P(E.bleedBox.topRightY)+"]"),null!==E.trimBox&&ne("/TrimBox ["+P(E.trimBox.bottomLeftX)+" "+P(E.trimBox.bottomLeftY)+" "+P(E.trimBox.topRightX)+" "+P(E.trimBox.topRightY)+"]"),null!==E.artBox&&ne("/ArtBox ["+P(E.artBox.bottomLeftX)+" "+P(E.artBox.bottomLeftY)+" "+P(E.artBox.topRightX)+" "+P(E.artBox.topRightY)+"]"),"number"==typeof E.userUnit&&1!==E.userUnit&&ne("/UserUnit "+E.userUnit),tn.publish("putPage",{objId:Ee,pageContext:gt[z],pageNumber:z,page:pe}),ne("/Contents "+ke+" 0 R"),ne(">>"),ne("endobj");var ht=pe.join("\n");return"advanced"===x&&(ht+="\nQ"),ga(ke,!0),Sl({data:ht,filters:Uc(),objectId:ke}),ne("endobj"),Ee},Vd=d.__private__.putPages=function(){var E,z,pe=[];for(E=1;E<=Nt;E++)gt[E].objId=hs(),gt[E].contentsObjId=hs();for(E=1;E<=Nt;E++)pe.push(kc({number:E,data:lt[E],objId:gt[E].objId,contentsObjId:gt[E].contentsObjId,mediaBox:gt[E].mediaBox,cropBox:gt[E].cropBox,bleedBox:gt[E].bleedBox,trimBox:gt[E].trimBox,artBox:gt[E].artBox,userUnit:gt[E].userUnit,rootDictionaryObjId:Lc,resourceDictionaryObjId:ma}));ga(Lc,!0),ne("<</Type /Pages");var Ee="/Kids [";for(z=0;z<Nt;z++)Ee+=pe[z]+" 0 R ";ne(Ee+"]"),ne("/Count "+Nt),ne(">>"),ne("endobj"),tn.publish("postPutPages")},bf=function(E){tn.publish("putFont",{font:E,out:ne,newObject:us,putStream:Sl}),!0!==E.isAlreadyPutted&&(E.objectNumber=us(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+H_(E.postScriptName)),ne("/Subtype /Type1"),"string"==typeof E.encoding&&ne("/Encoding /"+E.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Fe=function(E){E.objectNumber=us();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[P(E.x),P(E.y),P(E.x+E.width),P(E.y+E.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var pe=E.pages[1].join("\n");Sl({data:pe,additionalKeyValues:z,objectId:E.objectNumber}),ne("endobj")},Ue=function(E,z){z||(z=21);var pe=us(),Ee=function(E,z){var pe,Ee=[],ke=1/(z-1);for(pe=0;pe<1;pe+=ke)Ee.push(pe);Ee.push(1),0!=E[0].offset&&E.unshift({offset:0,color:E[0].color}),1!=E[E.length-1].offset&&E.push({offset:1,color:E[E.length-1].color});for(var nn="",En=0,ni=0;ni<Ee.length;ni++){for(pe=Ee[ni];pe>E[En+1].offset;)En++;var ei=E[En].offset,Vi=(pe-ei)/(E[En+1].offset-ei),ds=E[En].color,Ss=E[En+1].color;nn+=le(Math.round((1-Vi)*ds[0]+Vi*Ss[0]).toString(16))+le(Math.round((1-Vi)*ds[1]+Vi*Ss[1]).toString(16))+le(Math.round((1-Vi)*ds[2]+Vi*Ss[2]).toString(16))}return nn.trim()}(E.colors,z),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+z+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Sl({data:Ee,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),ne("endobj"),E.objectNumber=us(),ne("<< /ShadingType "+E.type),ne("/ColorSpace /DeviceRGB");var ht="/Coords ["+P(parseFloat(E.coords[0]))+" "+P(parseFloat(E.coords[1]))+" ";ht+=2===E.type?P(parseFloat(E.coords[2]))+" "+P(parseFloat(E.coords[3])):P(parseFloat(E.coords[2]))+" "+P(parseFloat(E.coords[3]))+" "+P(parseFloat(E.coords[4]))+" "+P(parseFloat(E.coords[5])),ne(ht+="]"),E.matrix&&ne("/Matrix ["+E.matrix.toString()+"]"),ne("/Function "+pe+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Bt=function(E,z){var pe=hs(),Ee=us();z.push({resourcesOid:pe,objectOid:Ee}),E.objectNumber=Ee;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+E.boundingBox.map(P).join(" ")+"]"}),ke.push({key:"XStep",value:P(E.xStep)}),ke.push({key:"YStep",value:P(E.yStep)}),ke.push({key:"Resources",value:pe+" 0 R"}),E.matrix&&ke.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),Sl({data:E.stream,additionalKeyValues:ke,objectId:E.objectNumber}),ne("endobj")},on=function(E){for(var z in E.objectNumber=us(),ne("<<"),E)switch(z){case"opacity":ne("/ca "+F(E[z]));break;case"stroke-opacity":ne("/CA "+F(E[z]))}ne(">>"),ne("endobj")},Zn=function(E){ga(E.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var E in ne("/Font <<"),Ot)Ot.hasOwnProperty(E)&&(!1===h||!0===h&&A.hasOwnProperty(E))&&ne("/"+E+" "+Ot[E].objectNumber+" 0 R");ne(">>")}(),function(){if(Object.keys(bn).length>0){for(var E in ne("/Shading <<"),bn)bn.hasOwnProperty(E)&&bn[E]instanceof qp&&bn[E].objectNumber>=0&&ne("/"+E+" "+bn[E].objectNumber+" 0 R");tn.publish("putShadingPatternDict"),ne(">>")}}(),function(E){if(Object.keys(bn).length>0){for(var z in ne("/Pattern <<"),bn)bn.hasOwnProperty(z)&&bn[z]instanceof d.TilingPattern&&bn[z].objectNumber>=0&&bn[z].objectNumber<E&&ne("/"+z+" "+bn[z].objectNumber+" 0 R");tn.publish("putTilingPatternDict"),ne(">>")}}(E.objectOid),function(){if(Object.keys(Dt).length>0){var E;for(E in ne("/ExtGState <<"),Dt)Dt.hasOwnProperty(E)&&Dt[E].objectNumber>=0&&ne("/"+E+" "+Dt[E].objectNumber+" 0 R");tn.publish("putGStateDict"),ne(">>")}}(),function(){for(var E in ne("/XObject <<"),Hi)Hi.hasOwnProperty(E)&&Hi[E].objectNumber>=0&&ne("/"+E+" "+Hi[E].objectNumber+" 0 R");tn.publish("putXobjectDict"),ne(">>")}(),ne(">>"),ne("endobj")},Cs=function(E){_n[E.fontName]=_n[E.fontName]||{},_n[E.fontName][E.fontStyle]=E.id},Bi=function(E,z,pe,Ee,ke){var ht={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:E,fontName:z,fontStyle:pe,encoding:Ee,isStandardFont:ke||!1,metadata:{}};return tn.publish("addFont",{font:ht,instance:this}),Ot[ht.id]=ht,Cs(ht),ht.id},no=d.__private__.pdfEscape=d.pdfEscape=function(E,z){return function(E,z){var pe,Ee,ke,ht,Tt,nn,En,ni,ei;if(ke=(z=z||{}).sourceEncoding||"Unicode",Tt=z.outputEncoding,(z.autoencode||Tt)&&Ot[en].metadata&&Ot[en].metadata[ke]&&Ot[en].metadata[ke].encoding&&(ht=Ot[en].metadata[ke].encoding,!Tt&&Ot[en].encoding&&(Tt=Ot[en].encoding),!Tt&&ht.codePages&&(Tt=ht.codePages[0]),"string"==typeof Tt&&(Tt=ht[Tt]),Tt)){for(En=!1,nn=[],pe=0,Ee=E.length;pe<Ee;pe++)(ni=Tt[E.charCodeAt(pe)])?nn.push(String.fromCharCode(ni)):nn.push(E[pe]),nn[pe].charCodeAt(0)>>8&&(En=!0);E=nn.join("")}for(pe=E.length;void 0===En&&0!==pe;)E.charCodeAt(pe-1)>>8&&(En=!0),pe--;if(!En)return E;for(nn=z.noBOM?[]:[254,255],pe=0,Ee=E.length;pe<Ee;pe++){if((ei=(ni=E.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+E+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");nn.push(ei),nn.push(ni-(ei<<8))}return String.fromCharCode.apply(void 0,nn)}(E,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_r=d.__private__.beginPage=function(E){lt[++Nt]=[],gt[Nt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},io(Nt),Oe(lt[oe])},Ko=function(E,z){var pe,Ee,ke;switch(t=z||t,"string"==typeof E&&(pe=m(E.toLowerCase()),Array.isArray(pe)&&(Ee=pe[0],ke=pe[1])),Array.isArray(E)&&(Ee=E[0]*Ge,ke=E[1]*Ge),isNaN(Ee)&&(Ee=r[0],ke=r[1]),(Ee>14400||ke>14400)&&(Or.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),ke=Math.min(14400,ke)),r=[Ee,ke],t.substr(0,1)){case"l":ke>Ee&&(r=[ke,Ee]);break;case"p":Ee>ke&&(r=[ke,Ee])}_r(r),SM(Cb),ne(Uu),0!==Eb&&ne(Eb+" J"),0!==xb&&ne(xb+" j"),tn.publish("addPage",{pageNumber:Nt})},_a=function(E){E>0&&E<=Nt&&(lt.splice(E,1),gt.splice(E,1),Nt--,oe>Nt&&(oe=Nt),this.setPage(oe))},io=function(E){E>0&&E<=Nt&&(oe=E)},No=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return lt.length-1},Cf=function(E,z,pe){var Ee,ke=void 0;return pe=pe||{},z=void 0!==z?z:Ot[en].fontStyle,Ee=(E=void 0!==E?E:Ot[en].fontName).toLowerCase(),void 0!==_n[Ee]&&void 0!==_n[Ee][z]?ke=_n[Ee][z]:void 0!==_n[E]&&void 0!==_n[E][z]?ke=_n[E][z]:!1===pe.disableWarning&&Or.warn("Unable to look up font label for font '"+E+"', '"+z+"'. Refer to getFontList() for available fonts."),ke||pe.noFallback||null==(ke=_n.times[z])&&(ke=_n.times.normal),ke},Lu=d.__private__.putInfo=function(){var E=us(),z=function(Ee){return Ee};for(var pe in null!==u&&(z=va.encryptor(E,0)),ne("<<"),ne("/Producer ("+no(z("jsPDF "+Ln.version))+")"),mt)mt.hasOwnProperty(pe)&&mt[pe]&&ne("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+no(z(mt[pe]))+")");ne("/CreationDate ("+no(z(ge))+")"),ne(">>"),ne("endobj")},yb=d.__private__.putCatalog=function(E){var z=(E=E||{}).rootDictionaryObjId||Lc;switch(us(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+z+" 0 R"),J||(J="fullwidth"),J){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+J;"%"===pe.substr(pe.length-1)&&(J=parseInt(J)/100),"number"==typeof J&&ne("/OpenAction [3 0 R /XYZ null null "+F(J)+"]")}switch($e||($e="continuous"),$e){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Qe&&ne("/PageMode /"+Qe),tn.publish("putCatalog"),ne(">>"),ne("endobj")},X5=d.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(ve+1)),ne("/Root "+ve+" 0 R"),ne("/Info "+(ve-1)+" 0 R"),null!==u&&ne("/Encrypt "+va.oid+" 0 R"),ne("/ID [ <"+Z+"> <"+Z+"> ]"),ne(">>")},Y5=d.__private__.putHeader=function(){ne("%PDF-"+f),ne("%\xba\xdf\xac\xe0")},J5=d.__private__.putXRef=function(){var E="0000000000";ne("xref"),ne("0 "+(ve+1)),ne("0000000000 65535 f ");for(var z=1;z<=ve;z++)ne("function"==typeof me[z]?(E+me[z]()).slice(-10)+" 00000 n ":void 0!==me[z]?(E+me[z]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Qd=d.__private__.buildDocument=function(){ve=0,Te=0,be=[],me=[],rt=[],Lc=hs(),ma=hs(),Oe(be),tn.publish("buildDocument"),Y5(),Vd(),function(){tn.publish("putAdditionalObjects");for(var E=0;E<rt.length;E++){var z=rt[E];ga(z.objId,!0),ne(z.content),ne("endobj")}tn.publish("postPutAdditionalObjects")}(),function(){var E=[];(function(){for(var E in Ot)Ot.hasOwnProperty(E)&&(!1===h||!0===h&&A.hasOwnProperty(E))&&bf(Ot[E])})(),function(){var E;for(E in Dt)Dt.hasOwnProperty(E)&&on(Dt[E])}(),function(){for(var E in Hi)Hi.hasOwnProperty(E)&&Fe(Hi[E])}(),function(E){var z;for(z in bn)bn.hasOwnProperty(z)&&(bn[z]instanceof qp?Ue(bn[z]):bn[z]instanceof V_&&Bt(bn[z],E))}(E),tn.publish("putResources"),E.forEach(Zn),Zn({resourcesOid:ma,objectOid:Number.MAX_SAFE_INTEGER}),tn.publish("postPutResources")}(),null!==u&&(va.oid=us(),ne("<<"),ne("/Filter /Standard"),ne("/V "+va.v),ne("/R "+va.r),ne("/U <"+va.toHexString(va.U)+">"),ne("/O <"+va.toHexString(va.O)+">"),ne("/P "+va.P),ne(">>"),ne("endobj")),Lu(),yb();var E=Te;return J5(),X5(),ne("startxref"),ne(""+E),ne("%%EOF"),Oe(lt[oe]),be.join("\n")},Y0=d.__private__.getBlob=function(E){return new Blob([tt(E)],{type:"application/pdf"})},J0=d.output=d.__private__.output=((E=function(E,z){switch("string"==typeof(z=z||{})?z={filename:z}:z.filename=z.filename||"generated.pdf",E){case void 0:return Qd();case"save":d.save(z.filename);break;case"arraybuffer":return tt(Qd());case"blob":return Y0(Qd());case"bloburi":case"bloburl":if(void 0!==kn.URL&&"function"==typeof kn.URL.createObjectURL)return kn.URL&&kn.URL.createObjectURL(Y0(Qd()))||void 0;Or.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",Ee=Qd();try{pe=dO(Ee)}catch{pe=dO(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+z.filename+";base64,"+pe;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(kn)){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ht=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(ke=z.pdfObjectUrl,ht="");var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+ht+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",nn=kn.open();return null!==nn&&nn.document.write(Tt),nn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(kn)){var En='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',ni=kn.open();if(null!==ni){ni.document.write(En);var ei=this;ni.document.documentElement.querySelector("#pdfViewer").onload=function(){ni.document.title=z.filename,ni.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ei.output("bloburl"))}}return ni}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(kn))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Vi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',ds=kn.open();if(null!==ds&&(ds.document.write(Vi),ds.document.title=z.filename),ds||typeof safari>"u")return ds;break;case"datauri":case"dataurl":return kn.document.location.href=this.output("datauristring",z);default:return null}}).foo=function(){try{return E.apply(this,arguments)}catch(Ee){var z=Ee.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var pe="Error in function "+z.split("\n")[0].split("<")[0]+": "+Ee.message;if(!kn.console)throw new Error(pe);kn.console.error(pe,Ee),kn.alert&&alert(pe)}},E.foo.bar=E,E.foo),yM=function(E){return!0===Array.isArray(mr)&&mr.indexOf(E)>-1};switch(i){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=1==yM("px_scaling")?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);Ge=i}var va=null;qe(),te();var wM=d.__private__.getPageInfo=d.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[E].objId,pageNumber:E,pageContext:gt[E]}},qn=d.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in gt)if(gt[z].objId===E)break;return wM(z)},eU=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:gt[oe].objId,pageNumber:oe,pageContext:gt[oe]}};d.addPage=function(){return Ko.apply(this,arguments),this},d.setPage=function(){return io.apply(this,arguments),Oe.call(this,lt[oe]),this},d.insertPage=function(E){return this.addPage(),this.movePage(oe,E),this},d.movePage=function(E,z){var pe,Ee;if(E>z){pe=lt[E],Ee=gt[E];for(var ke=E;ke>z;ke--)lt[ke]=lt[ke-1],gt[ke]=gt[ke-1];lt[z]=pe,gt[z]=Ee,this.setPage(z)}else if(E<z){pe=lt[E],Ee=gt[E];for(var ht=E;ht<z;ht++)lt[ht]=lt[ht+1],gt[ht]=gt[ht+1];lt[z]=pe,gt[z]=Ee,this.setPage(z)}return this},d.deletePage=function(){return _a.apply(this,arguments),this},d.__private__.text=d.text=function(E,z,pe,Ee,ke){var ht,Tt,nn,En,ni,ei,Vi,ds,Ss,ro=(Ee=Ee||{}).scope||this;if("number"==typeof E&&"number"==typeof z&&("string"==typeof pe||Array.isArray(pe))){var ya=pe;pe=z,z=E,E=ya}if(arguments[3]instanceof gn?(N("The transform parameter of text() with a Matrix value"),Ss=ke):(nn=arguments[4],En=arguments[5],"object"===(0,Fr.A)(Vi=arguments[3])&&null!==Vi||("string"==typeof nn&&(En=nn,nn=null),"string"==typeof Vi&&(En=Vi,Vi=null),"number"==typeof Vi&&(nn=Vi,Vi=null),Ee={flags:Vi,angle:nn,align:En})),isNaN(z)||isNaN(pe)||null==E)throw new Error("Invalid arguments passed to jsPDF.text");if(0===E.length)return ro;var ku,Ro="",rc="number"==typeof Ee.lineHeightFactor?Ee.lineHeightFactor:Fg,Ih=ro.internal.scaleFactor;function BM(jr){return jr=jr.split("\t").join(Array(Ee.TabLen||9).join(" ")),no(jr,Vi)}function Ib(jr){for(var Wr,Gs=jr.concat(),mo=[],$d=Gs.length;$d--;)"string"==typeof(Wr=Gs.shift())?mo.push(Wr):Array.isArray(jr)&&(1===Wr.length||void 0===Wr[1]&&void 0===Wr[2])?mo.push(Wr[0]):mo.push([Wr[0],Wr[1],Wr[2]]);return mo}function Nb(jr,Wr){var Gs;if("string"==typeof jr)Gs=Wr(jr)[0];else if(Array.isArray(jr)){for(var mo,$d,Hb=jr.concat(),fv=[],OM=Hb.length;OM--;)"string"==typeof(mo=Hb.shift())?fv.push(Wr(mo)[0]):Array.isArray(mo)&&"string"==typeof mo[0]&&($d=Wr(mo[0],mo[1],mo[2]),fv.push([$d[0],$d[1],$d[2]]));Gs=fv}return Gs}var rv=!1,Rb=!0;if("string"==typeof E)rv=!0;else if(Array.isArray(E)){var Fb=E.concat();Tt=[];for(var sv,qo=Fb.length;qo--;)("string"!=typeof(sv=Fb.shift())||Array.isArray(sv)&&"string"!=typeof sv[0])&&(Rb=!1);rv=Rb}if(!1===rv)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');"string"==typeof E&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var ov=We/ro.internal.scaleFactor,av=ov*(rc-1);switch(Ee.baseline){case"bottom":pe-=av;break;case"top":pe+=ov-av;break;case"hanging":pe+=ov-2*av;break;case"middle":pe+=ov/2-av}if((ei=Ee.maxWidth||0)>0&&("string"==typeof E?E=ro.splitTextToSize(E,ei):"[object Array]"===Object.prototype.toString.call(E)&&(E=E.reduce(function(jr,Wr){return jr.concat(ro.splitTextToSize(Wr,ei))},[]))),tn.publish("preProcessText",ht={text:E,x:z,y:pe,options:Ee,mutex:{pdfEscape:no,activeFontKey:en,fonts:Ot,activeFontSize:We}}),E=ht.text,nn=(Ee=ht.options).angle,Ss instanceof gn||!nn||"number"!=typeof nn)nn&&nn instanceof gn&&(Ss=nn);else{nn*=Math.PI/180,0===Ee.rotationDirection&&(nn=-nn),"advanced"===x&&(nn=-nn);var lv=Math.cos(nn),Ob=Math.sin(nn);Ss=new gn(lv,Ob,-Ob,lv,0,0)}"advanced"!==x||Ss||(Ss=ic),void 0!==(ni=Ee.charSpace||tv)&&(Ro+=P(k(ni))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(ds=Ee.horizontalScale)&&(Ro+=P(100*ds)+" Tz\n");var El=-1,uU=void 0!==Ee.renderingMode?Ee.renderingMode:Ee.stroke,Pb=ro.internal.getCurrentPageInfo().pageContext;switch(uU){case 0:case!1:case"fill":El=0;break;case 1:case!0:case"stroke":El=1;break;case 2:case"fillThenStroke":El=2;break;case 3:case"invisible":El=3;break;case 4:case"fillAndAddForClipping":El=4;break;case 5:case"strokeAndAddPathForClipping":El=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":El=6;break;case 7:case"addToPathForClipping":El=7}-1!==El?Ro+=El+" Tr\n":-1!==(void 0!==Pb.usedRenderingMode?Pb.usedRenderingMode:-1)&&(Ro+="0 Tr\n"),-1!==El&&(Pb.usedRenderingMode=El),En=Ee.align||"left";var Hc,uv=We*rc,NM=ro.internal.pageSize.getWidth(),RM=Ot[en];ni=Ee.charSpace||tv,ei=Ee.maxWidth||0,Vi=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var Tf=[],Lg=function(jr){return ro.getStringUnitWidth(jr,{font:RM,charSpace:ni,fontSize:We,doKerning:!1})*We/Ih};if("[object Array]"===Object.prototype.toString.call(E)){var xl;Tt=Ib(E),"left"!==En&&(Hc=Tt.map(Lg));var $a,Mf=0;if("right"===En){z-=Hc[0],E=[],qo=Tt.length;for(var zd=0;zd<qo;zd++)0===zd?($a=Bh(z),xl=Gd(pe)):($a=k(Mf-Hc[zd]),xl=-uv),E.push([Tt[zd],$a,xl]),Mf=Hc[zd]}else if("center"===En){z-=Hc[0]/2,E=[],qo=Tt.length;for(var jd=0;jd<qo;jd++)0===jd?($a=Bh(z),xl=Gd(pe)):($a=k((Mf-Hc[jd])/2),xl=-uv),E.push([Tt[jd],$a,xl]),Mf=Hc[jd]}else if("left"===En){E=[],qo=Tt.length;for(var hv=0;hv<qo;hv++)E.push(Tt[hv])}else if("justify"===En&&"Identity-H"===RM.encoding){E=[],qo=Tt.length,ei=0!==ei?ei:NM;for(var Wd=0,Qs=0;Qs<qo;Qs++)if(xl=0===Qs?Gd(pe):-uv,$a=0===Qs?Bh(z):Wd,Qs<qo-1){var Lb=k((ei-Hc[Qs])/(Tt[Qs].split(" ").length-1)),Ka=Tt[Qs].split(" ");E.push([Ka[0]+" ",$a,xl]),Wd=0;for(var Vc=1;Vc<Ka.length;Vc++){var dv=(Lg(Ka[Vc-1]+" "+Ka[Vc])-Lg(Ka[Vc]))*Ih+Lb;E.push(Vc==Ka.length-1?[Ka[Vc],dv,0]:[Ka[Vc]+" ",dv,0]),Wd-=dv}}else E.push([Tt[Qs],$a,xl]);E.push(["",Wd,0])}else{if("justify"!==En)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],qo=Tt.length,ei=0!==ei?ei:NM,Qs=0;Qs<qo;Qs++)xl=0===Qs?Gd(pe):-uv,$a=0===Qs?Bh(z):0,Tf.push(Qs<qo-1?P(k((ei-Hc[Qs])/(Tt[Qs].split(" ").length-1))):0),E.push([Tt[Qs],$a,xl])}}!0===("boolean"==typeof Ee.R2L?Ee.R2L:Se)&&(E=Nb(E,function(jr,Wr,Gs){return[jr.split("").reverse().join(""),Wr,Gs]})),tn.publish("postProcessText",ht={text:E,x:z,y:pe,options:Ee,mutex:{pdfEscape:no,activeFontKey:en,fonts:Ot,activeFontSize:We}}),E=ht.text,ku=ht.mutex.isHex||!1;var Ub=Ot[en].encoding;"WinAnsiEncoding"!==Ub&&"StandardEncoding"!==Ub||(E=Nb(E,function(jr,Wr,Gs){return[BM(jr),Wr,Gs]})),Tt=Ib(E),E=[];for(var Ug,kg,Df,Vg=Array.isArray(Tt[0])?1:0,Bf="",kb=function(jr,Wr,Gs){var mo="";return Gs instanceof gn?(Gs="number"==typeof Ee.angle?wl(Gs,new gn(1,0,0,1,jr,Wr)):wl(new gn(1,0,0,1,jr,Wr),Gs),"advanced"===x&&(Gs=wl(new gn(1,0,0,-1,0,0),Gs)),mo=Gs.join(" ")+" Tm\n"):mo=P(jr)+" "+P(Wr)+" Td\n",mo},Qc=0;Qc<Tt.length;Qc++){switch(Bf="",Vg){case 1:Df=(ku?"<":"(")+Tt[Qc][0]+(ku?">":")"),Ug=parseFloat(Tt[Qc][1]),kg=parseFloat(Tt[Qc][2]);break;case 0:Df=(ku?"<":"(")+Tt[Qc]+(ku?">":")"),Ug=Bh(z),kg=Gd(pe)}void 0!==Tf&&void 0!==Tf[Qc]&&(Bf=Tf[Qc]+" Tw\n"),0===Qc?E.push(Bf+kb(Ug,kg,Ss)+Df):0===Vg?E.push(Bf+Df):1===Vg&&E.push(Bf+kb(Ug,kg,Ss)+Df)}E=E.join(0===Vg?" Tj\nT* ":" Tj\n"),E+=" Tj\n";var Gc="BT\n/";return Gc+=en+" "+We+" Tf\n",Gc+=P(We*rc)+" TL\n",Gc+=Og+"\n",Gc+=Ro,Gc+=E,ne(Gc+="ET"),A[en]=!0,ro};var tU=d.__private__.clip=d.clip=function(E){return ne("evenodd"===E?"W*":"W"),this};d.clipEvenOdd=function(){return tU("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ne("n"),this};var Dh=d.__private__.isValidStyle=function(E){var z=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)&&(z=!0),z};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(E){return Dh(E)&&(c=E),this};var bM=d.__private__.getStyle=d.getStyle=function(E){var z=c;switch(E){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=E}return z},CM=d.close=function(){return ne("h"),this};d.stroke=function(){return ne("S"),this},d.fill=function(E){return Z0("f",E),this},d.fillEvenOdd=function(E){return Z0("f*",E),this},d.fillStroke=function(E){return Z0("B",E),this},d.fillStrokeEvenOdd=function(E){return Z0("B*",E),this};var Z0=function(E,z){"object"===(0,Fr.A)(z)?iU(z,E):ne(E)},wb=function(E){null===E||"advanced"===x&&void 0===E||(E=bM(E),ne(E))};function nU(E,z,pe,Ee,ke){var ht=new V_(z||this.boundingBox,pe||this.xStep,Ee||this.yStep,this.gState,ke||this.matrix);ht.stream=this.stream;var Tt=E+"$$"+this.cloneIndex+++"$$";return bs(Tt,ht),ht}var iU=function(E,z){var pe=Ne[E.key],Ee=bn[pe];if(Ee instanceof qp)ne("q"),ne(rU(z)),Ee.gState&&d.setGState(Ee.gState),ne(E.matrix.toString()+" cm"),ne("/"+pe+" sh"),ne("Q");else if(Ee instanceof V_){var ke=new gn(1,0,0,-1,0,xf());E.matrix&&(ke=ke.multiply(E.matrix||ic),pe=nU.call(Ee,E.key,E.boundingBox,E.xStep,E.yStep,ke).id),ne("q"),ne("/Pattern cs"),ne("/"+pe+" scn"),Ee.gState&&d.setGState(Ee.gState),ne(z),ne("Q")}},rU=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},bb=d.moveTo=function(E,z){return ne(P(k(E))+" "+P(Y(z))+" m"),this},Rg=d.lineTo=function(E,z){return ne(P(k(E))+" "+P(Y(z))+" l"),this},Sf=d.curveTo=function(E,z,pe,Ee,ke,ht){return ne([P(k(E)),P(Y(z)),P(k(pe)),P(Y(Ee)),P(k(ke)),P(Y(ht)),"c"].join(" ")),this};d.__private__.line=d.line=function(E,z,pe,Ee,ke){if(isNaN(E)||isNaN(z)||isNaN(pe)||isNaN(Ee)||!Dh(ke))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===x?this.lines([[pe-E,Ee-z]],E,z,[1,1],ke||"S"):this.lines([[pe-E,Ee-z]],E,z,[1,1]).stroke()},d.__private__.lines=d.lines=function(E,z,pe,Ee,ke,ht){var Tt,nn,En,ni,ei,ya,Ro,ku;if("number"==typeof E&&(ku=pe,pe=z,z=E,E=ku),Ee=Ee||[1,1],ht=ht||!1,isNaN(z)||isNaN(pe)||!Array.isArray(E)||!Array.isArray(Ee)||!Dh(ke)||"boolean"!=typeof ht)throw new Error("Invalid arguments passed to jsPDF.lines");for(bb(z,pe),Tt=Ee[0],nn=Ee[1],ni=E.length,ya=z,Ro=pe,En=0;En<ni;En++)2===(ei=E[En]).length?Rg(ya=ei[0]*Tt+ya,Ro=ei[1]*nn+Ro):Sf(ei[0]*Tt+ya,ei[1]*nn+Ro,ei[2]*Tt+ya,ei[3]*nn+Ro,ya=ei[4]*Tt+ya,Ro=ei[5]*nn+Ro);return ht&&CM(),wb(ke),this},d.path=function(E){for(var z=0;z<E.length;z++){var pe=E[z],Ee=pe.c;switch(pe.op){case"m":bb(Ee[0],Ee[1]);break;case"l":Rg(Ee[0],Ee[1]);break;case"c":Sf.apply(this,Ee);break;case"h":CM()}}return this},d.__private__.rect=d.rect=function(E,z,pe,Ee,ke){if(isNaN(E)||isNaN(z)||isNaN(pe)||isNaN(Ee)||!Dh(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===x&&(Ee=-Ee),ne([P(k(E)),P(Y(z)),P(k(pe)),P(k(Ee)),"re"].join(" ")),wb(ke),this},d.__private__.triangle=d.triangle=function(E,z,pe,Ee,ke,ht,Tt){if(isNaN(E)||isNaN(z)||isNaN(pe)||isNaN(Ee)||isNaN(ke)||isNaN(ht)||!Dh(Tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-E,Ee-z],[ke-pe,ht-Ee],[E-ke,z-ht]],E,z,[1,1],Tt,!0),this},d.__private__.roundedRect=d.roundedRect=function(E,z,pe,Ee,ke,ht,Tt){if(isNaN(E)||isNaN(z)||isNaN(pe)||isNaN(Ee)||isNaN(ke)||isNaN(ht)||!Dh(Tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var nn=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*pe),ht=Math.min(ht,.5*Ee),this.lines([[pe-2*ke,0],[ke*nn,0,ke,ht-ht*nn,ke,ht],[0,Ee-2*ht],[0,ht*nn,-ke*nn,ht,-ke,ht],[2*ke-pe,0],[-ke*nn,0,-ke,-ht*nn,-ke,-ht],[0,2*ht-Ee],[0,-ht*nn,ke*nn,-ht,ke,-ht]],E+ke,z,[1,1],Tt,!0),this},d.__private__.ellipse=d.ellipse=function(E,z,pe,Ee,ke){if(isNaN(E)||isNaN(z)||isNaN(pe)||isNaN(Ee)||!Dh(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ht=4/3*(Math.SQRT2-1)*pe,Tt=4/3*(Math.SQRT2-1)*Ee;return bb(E+pe,z),Sf(E+pe,z-Tt,E+ht,z-Ee,E,z-Ee),Sf(E-ht,z-Ee,E-pe,z-Tt,E-pe,z),Sf(E-pe,z+Tt,E-ht,z+Ee,E,z+Ee),Sf(E+ht,z+Ee,E+pe,z+Tt,E+pe,z),wb(ke),this},d.__private__.circle=d.circle=function(E,z,pe,Ee){if(isNaN(E)||isNaN(z)||isNaN(pe)||!Dh(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,z,pe,pe,Ee)},d.setFont=function(E,z,pe){return pe&&(z=U(z,pe)),en=Cf(E,z,{disableWarning:!1}),this};var sU=d.__private__.getFont=d.getFont=function(){return Ot[Cf.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var E,z,pe={};for(E in _n)if(_n.hasOwnProperty(E))for(z in pe[E]=[],_n[E])_n[E].hasOwnProperty(z)&&pe[E].push(z);return pe},d.addFont=function(E,z,pe,Ee,ke){var ht=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==ht.indexOf(arguments[3])?ke=arguments[3]:arguments[3]&&-1==ht.indexOf(arguments[3])&&(pe=U(pe,Ee)),Bi.call(this,E,z,pe,ke=ke||"Identity-H")};var Fg,Cb=n.lineWidth||.200025,ev=d.__private__.getLineWidth=d.getLineWidth=function(){return Cb},SM=d.__private__.setLineWidth=d.setLineWidth=function(E){return Cb=E,ne(P(k(E))+" w"),this};d.__private__.setLineDash=Ln.API.setLineDash=Ln.API.setLineDashPattern=function(E,z){if(E=E||[],z=z||0,isNaN(z)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(pe){return P(k(pe))}).join(" "),z=P(k(z)),ne("["+E+"] "+z+" d"),this};var EM=d.__private__.getLineHeight=d.getLineHeight=function(){return We*Fg};d.__private__.getLineHeight=d.getLineHeight=function(){return We*Fg};var xM=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(E){return"number"==typeof(E=E||1.15)&&(Fg=E),this},TM=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Fg};xM(n.lineHeight);var Bh=d.__private__.getHorizontalCoordinate=function(E){return k(E)},Gd=d.__private__.getVerticalCoordinate=function(E){return"advanced"===x?E:gt[oe].mediaBox.topRightY-gt[oe].mediaBox.bottomLeftY-k(E)},oU=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(E){return P(Bh(E))},Ef=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(E){return P(Gd(E))},Uu=n.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return bl(Uu)},d.__private__.setStrokeColor=d.setDrawColor=function(E,z,pe,Ee){return Uu=Cl({ch1:E,ch2:z,ch3:pe,ch4:Ee,pdfColorType:"draw",precision:2}),ne(Uu),this};var Sb=n.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return bl(Sb)},d.__private__.setFillColor=d.setFillColor=function(E,z,pe,Ee){return Sb=Cl({ch1:E,ch2:z,ch3:pe,ch4:Ee,pdfColorType:"fill",precision:2}),ne(Sb),this};var Og=n.textColor||"0 g",aU=d.__private__.getTextColor=d.getTextColor=function(){return bl(Og)};d.__private__.setTextColor=d.setTextColor=function(E,z,pe,Ee){return Og=Cl({ch1:E,ch2:z,ch3:pe,ch4:Ee,pdfColorType:"text",precision:3}),this};var tv=n.charSpace,lU=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(tv||0)};d.__private__.setCharSpace=d.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return tv=E,this};var Eb=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(E){var z=d.CapJoinStyles[E];if(void 0===z)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Eb=z,ne(z+" J"),this};var xb=0;d.__private__.setLineJoin=d.setLineJoin=function(E){var z=d.CapJoinStyles[E];if(void 0===z)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xb=z,ne(z+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(P(k(E))+" M"),this},d.GState=Zx,d.setGState=function(E){(E="string"==typeof E?Dt[ot[E]]:MM(null,E)).equals(ft)||(ne("/"+E.id+" gs"),ft=E)};var MM=function(E,z){if(!E||!ot[E]){var pe=!1;for(var Ee in Dt)if(Dt.hasOwnProperty(Ee)&&Dt[Ee].equals(z)){pe=!0;break}if(pe)z=Dt[Ee];else{var ke="GS"+(Object.keys(Dt).length+1).toString(10);Dt[ke]=z,z.id=ke}return E&&(ot[E]=z.id),tn.publish("addGState",z),z}};d.addGState=function(E,z){return MM(E,z),this},d.saveGraphicsState=function(){return ne("q"),Nn.push({key:en,size:We,color:Og}),this},d.restoreGraphicsState=function(){ne("Q");var E=Nn.pop();return en=E.key,We=E.size,Og=E.color,ft=null,this},d.setCurrentTransformationMatrix=function(E){return ne(E.toString()+" cm"),this},d.comment=function(E){return ne("#"+E),this};var nv=function(E,z){var pe=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(ht){isNaN(ht)||(pe=parseFloat(ht))}});var Ee=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(ht){isNaN(ht)||(Ee=parseFloat(ht))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function(ht){ke=ht.toString()}}),this},Tb=function(E,z,pe,Ee){nv.call(this,E,z),this.type="rect";var ke=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(Tt){isNaN(Tt)||(ke=parseFloat(Tt))}});var ht=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ht},set:function(Tt){isNaN(Tt)||(ht=parseFloat(Tt))}}),this},Mb=function(){this.page=Nt,this.currentPage=oe,this.pages=lt.slice(0),this.pagesContext=gt.slice(0),this.x=jt,this.y=Gt,this.matrix=wn,this.width=Pg(oe),this.height=xf(oe),this.outputDestination=Ve,this.id="",this.objectNumber=-1};Mb.prototype.restore=function(){Nt=this.page,gt=this.pagesContext,lt=this.pages,jt=this.x,Gt=this.y,wn=this.matrix,Db(oe=this.currentPage,this.width),Bb(oe,this.height),Ve=this.outputDestination};var DM=function(E,z,pe,Ee,ke){ws.push(new Mb),Nt=oe=0,lt=[],jt=E,Gt=z,wn=ke,_r([pe,Ee])};for(var iv in d.beginFormObject=function(E,z,pe,Ee,ke){return DM(E,z,pe,Ee,ke),this},d.endFormObject=function(E){return function(E){if(pi[E])ws.pop().restore();else{var z=new Mb,pe="Xo"+(Object.keys(Hi).length+1).toString(10);z.id=pe,pi[E]=pe,Hi[pe]=z,tn.publish("addFormObject",z),ws.pop().restore()}}(E),this},d.doFormObject=function(E,z){var pe=Hi[pi[E]];return ne("q"),ne(z.toString()+" cm"),ne("/"+pe.id+" Do"),ne("Q"),this},d.getFormObject=function(E){var z=Hi[pi[E]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},d.save=function(E,z){return E=E||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,!1===z.returnPromise?(Kp(Y0(Qd()),E),"function"==typeof Kp.unload&&kn.setTimeout&&setTimeout(Kp.unload,911),this):new Promise(function(pe,Ee){try{var ke=Kp(Y0(Qd()),E);"function"==typeof Kp.unload&&kn.setTimeout&&setTimeout(Kp.unload,911),pe(ke)}catch(ht){Ee(ht.message)}})},Ln.API)Ln.API.hasOwnProperty(iv)&&("events"===iv&&Ln.API.events.length?function(E,z){var Ee,ke;for(ke=z.length-1;-1!==ke;ke--)E.subscribe.apply(E,[z[ke][0]].concat("function"==typeof(Ee=z[ke][1])?[Ee]:Ee))}(tn,Ln.API.events):d[iv]=Ln.API[iv]);var Pg=d.getPageWidth=function(E){return(gt[E=E||oe].mediaBox.topRightX-gt[E].mediaBox.bottomLeftX)/Ge},Db=d.setPageWidth=function(E,z){gt[E].mediaBox.topRightX=z*Ge+gt[E].mediaBox.bottomLeftX},xf=d.getPageHeight=function(E){return(gt[E=E||oe].mediaBox.topRightY-gt[E].mediaBox.bottomLeftY)/Ge},Bb=d.setPageHeight=function(E,z){gt[E].mediaBox.topRightY=z*Ge+gt[E].mediaBox.bottomLeftY};return d.internal={pdfEscape:no,getStyle:bM,getFont:sU,getFontSize:Q,getCharSpace:lU,getTextColor:aU,getLineHeight:EM,getLineHeightFactor:TM,getLineWidth:ev,write:wt,getHorizontalCoordinate:Bh,getVerticalCoordinate:Gd,getCoordinateString:oU,getVerticalCoordinateString:Ef,collections:{},newObject:us,newAdditionalObject:Pu,newObjectDeferred:hs,newObjectDeferredBegin:ga,getFilters:Uc,putStream:Sl,events:tn,scaleFactor:Ge,pageSize:{getWidth:function(){return Pg(oe)},setWidth:function(E){Db(oe,E)},getHeight:function(){return xf(oe)},setHeight:function(E){Bb(oe,E)}},encryptionOptions:u,encryption:va,getEncryptor:function(E){return null!==u?va.encryptor(E,0):function(z){return z}},output:J0,getNumberOfPages:No,pages:lt,out:ne,f2:F,f3:I,getPageInfo:wM,getPageInfoByObjId:qn,getCurrentPageInfo:eU,getPDFVersion:_,Point:nv,Rectangle:Tb,Matrix:gn,hasHotfix:yM},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Pg(oe)},set:function(E){Db(oe,E)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return xf(oe)},set:function(E){Bb(oe,E)},enumerable:!0,configurable:!0}),function(E){for(var z=0,pe=it.length;z<pe;z++){var Ee=Bi.call(this,E[z][0],E[z][1],E[z][2],it[z][3],!0);!1===h&&(A[Ee]=!0);var ke=E[z][0].split("-");Cs({id:Ee,fontName:ke[0],fontStyle:ke[1]||""})}tn.publish("addFonts",{fonts:Ot,dictionary:_n})}.call(d,it),en="F1",Ko(r,t),tn.publish("initialized"),d}k_.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},k_.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},k_.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},k_.prototype.processOwnerPassword=function(n,e){return pO(fO(e).substr(0,5),n)},k_.prototype.encryptor=function(n,e){var t=fO(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return pO(t,i)}},Zx.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||(0,Fr.A)(n)!==(0,Fr.A)(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return 0===i},Ln.API={events:[]},Ln.version="2.5.2";var vs=Ln.API,gO=1,Xp=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Q_=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yn=function(n){return n.toFixed(2)},tf=function(n){return n.toFixed(5)};vs.__acroform__={};var ul=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},J7=function(n){return n*gO},mh=function(n){var e=new ej,t=hn.internal.getHeight(n)||0,i=hn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Yn(i)),Number(Yn(t))],e},Rfe=vs.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Ffe=vs.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Ofe=vs.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Ls=vs.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ofe(n,e-1)},Us=vs.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Rfe(n,e-1)},ks=vs.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ffe(n,e-1)},Pfe=vs.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(r)||0,l.lowerLeft_Y=i(s+a)||0,l.upperRight_X=t(r+o)||0,l.upperRight_Y=i(s)||0,[Number(Yn(l.lowerLeft_X)),Number(Yn(l.lowerLeft_Y)),Number(Yn(l.upperRight_X)),Number(Yn(l.upperRight_Y))]},Lfe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],i=mO(n,n._V||n.DV),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+r+" "+Yn(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=mh(n);return s.scope=n.scope,s.stream=e.join("\n"),s}},mO=function(n,e){var t=0===n.fontSize?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");r=r.map(n.multiline?function(I){return I.split("\n")}:function(I){return[I]});var s=t,o=hn.internal.getHeight(n)||0;o=o<0?-o:o;var I,a=hn.internal.getWidth(n)||0;a=a<0?-a:a,s++;e:for(;s>0;){e="",s--;var c,u,h=eT("3",n,s).height,A=n.multiline?o-s:(o-h)/2,d=A+=2,f=0,_=0,y=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+eT(e,n,s=12).width+", FieldWidth:"+a+"\n";break}for(var m="",S=0,x=0;x<r.length;x++)if(r.hasOwnProperty(x)){var M=!1;if(1!==r[x].length&&y!==r[x].length-1){if((h+2)*(S+2)+2>o)continue e;m+=r[x][y],M=!0,_=x,x--}else{m=" "==(m+=r[x][y]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var L=parseInt(x),U=(I=L)+1<r.length&&eT(m+" "+r[I+1][0],n,s).width<=a-4,P=x>=r.length-1;if(U&&!P){m+=" ",y=0;continue}if(U||P){if(P)_=L;else if(n.multiline&&(h+2)*(S+2)+2>o)continue e}else{if(!n.multiline||(h+2)*(S+2)+2>o)continue e;_=L}}for(var N="",R=f;R<=_;R++){var F=r[R];if(n.multiline){if(R===_){N+=F[y]+" ",y=(y+1)%F.length;continue}if(R===f){N+=F[F.length-1]+" ";continue}}N+=F[0]+" "}switch(N=" "==N.substr(N.length-1)?N.substr(0,N.length-1):N,u=eT(N,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=Yn(c)+" "+Yn(d)+" Td\n",e+="("+Xp(N)+") Tj\n",e+=-Yn(c)+" 0 Td\n",d=-(s+2),u=0,f=M?_:_+1,S++,m=""}break}return i.text=e,i.fontSize=s,i},eT=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},Ufe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kfe=function(n,e){var t={type:"reference",object:n};void 0===e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Z7=vs.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(o){return o};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(0!==s&&(r+=" "),(0,Fr.A)(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":"/"!==n[s].substr(0,1)?(void 0!==e&&t&&(i=t.internal.getEncryptor(e)),r+="("+Xp(i(n[s].toString()))+")"):r+=n[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_O=function(n,e,t){var i=function(r){return r};return void 0!==e&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Xp(i(n))+")"},_h=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_h.prototype.toString=function(){return this.objId+" 0 R"},_h.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},_h.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var t in e)if(!1===Object.getOwnPropertyDescriptor(this,e[t]).configurable){var i=e[t],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:Z7(r,this.objId,this.scope)}):r instanceof _h?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):"function"!=typeof r&&n.push({key:i,value:r}))}return n};var ej=function(){_h.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ul(ej,_h);var tj=function(){_h.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Xp(t(n))+")"}},set:function(t){n=t}})};ul(tj,_h);var Eu=function n(){_h.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ls(e,3)},set:function(m){this.F=m?Us(e,3):ks(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');t=m}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(m){i=void 0!==m?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(m){i[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(m){i[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(m){i[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(m){i[3]=m}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof iT)return;s="FieldObject"+n.FieldNum++}var m=function(S){return S};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Xp(m(s))+")"},set:function(m){s=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(m){s=m}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(m){a=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/gO:c},set:function(m){c=m}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(m){u=m}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof iT||this instanceof Yp))return _O(h,this.objId,this.scope)},set:function(m){m=m.toString(),h=m}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof To?A:_O(A,this.objId,this.scope)},set:function(m){m=m.toString(),A=this instanceof To?m:"("===m.substr(0,1)?Q_(m.substr(1,m.length-2)):Q_(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof To?Q_(A.substr(1,A.length-1)):A},set:function(m){m=m.toString(),A=this instanceof To?"/"+m:m}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof To?d:_O(d,this.objId,this.scope)},set:function(m){m=m.toString(),d=this instanceof To?m:"("===m.substr(0,1)?Q_(m.substr(1,m.length-2)):Q_(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof To?Q_(d.substr(1,d.length-1)):d},set:function(m){m=m.toString(),d=this instanceof To?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(m){_=m=!!m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(m){f=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,1)},set:function(m){this.Ff=m?Us(this.Ff,1):ks(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,2)},set:function(m){this.Ff=m?Us(this.Ff,2):ks(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,3)},set:function(m){this.Ff=m?Us(this.Ff,3):ks(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==y)return y},set:function(m){if(-1===[0,1,2].indexOf(m))throw new Error('Invalid value "'+m+'" for attribute Q supplied.');y=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(y){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};ul(Eu,_h);var G_=function(){Eu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Z7(e,this.objId,this.scope)},set:function(t){var i,r;r=[],"string"==typeof(i=t)&&(r=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,18)},set:function(t){this.Ff=t?Us(this.Ff,18):ks(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,19)},set:function(t){!0===this.combo&&(this.Ff=t?Us(this.Ff,19):ks(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,20)},set:function(t){t?(this.Ff=Us(this.Ff,20),e.sort()):this.Ff=ks(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,22)},set:function(t){this.Ff=t?Us(this.Ff,22):ks(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,23)},set:function(t){this.Ff=t?Us(this.Ff,23):ks(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,27)},set:function(t){this.Ff=t?Us(this.Ff,27):ks(this.Ff,27)}}),this.hasAppearanceStream=!1};ul(G_,Eu);var z_=function(){G_.call(this),this.fontName="helvetica",this.combo=!1};ul(z_,G_);var j_=function(){z_.call(this),this.combo=!0};ul(j_,z_);var tT=function(){j_.call(this),this.edit=!0};ul(tT,j_);var To=function(){Eu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,15)},set:function(t){this.Ff=t?Us(this.Ff,15):ks(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,16)},set:function(t){this.Ff=t?Us(this.Ff,16):ks(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,17)},set:function(t){this.Ff=t?Us(this.Ff,17):ks(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,26)},set:function(t){this.Ff=t?Us(this.Ff,26):ks(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+Xp(t(e[i]))+")");return r.push(">>"),r.join("\n")}},set:function(t){"object"===(0,Fr.A)(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};ul(To,Eu);var nT=function(){To.call(this),this.pushButton=!0};ul(nT,To);var W_=function(){To.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=void 0!==e?e:[]}})};ul(W_,To);var iT=function(){var n,e;Eu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+Xp(r(i[s]))+")");return o.push(">>"),o.join("\n")},set:function(r){"object"===(0,Fr.A)(r)&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){"string"==typeof r&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=hn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ul(iT,Eu),W_.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},W_.prototype.createOption=function(n){var e=new iT;return e.Parent=this,e.optionName=n,this.Kids.push(e),Qfe.call(this.scope,e),e};var rT=function(){To.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=hn.CheckBox.createAppearanceStream()};ul(rT,To);var Yp=function(){Eu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,13)},set:function(e){this.Ff=e?Us(this.Ff,13):ks(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,21)},set:function(e){this.Ff=e?Us(this.Ff,21):ks(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,23)},set:function(e){this.Ff=e?Us(this.Ff,23):ks(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,24)},set:function(e){this.Ff=e?Us(this.Ff,24):ks(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,25)},set:function(e){this.Ff=e?Us(this.Ff,25):ks(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,26)},set:function(e){this.Ff=e?Us(this.Ff,26):ks(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ul(Yp,Eu);var sT=function(){Yp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,14)},set:function(n){this.Ff=n?Us(this.Ff,14):ks(this.Ff,14)}}),this.password=!0};ul(sT,Yp);var hn={CheckBox:{createAppearanceStream:function(){return{N:{On:hn.CheckBox.YesNormal},D:{On:hn.CheckBox.YesPushDown,Off:hn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=mh(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=mO(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Yn(hn.internal.getWidth(n))+" "+Yn(hn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+Yn(s.fontSize)+" Tf "+r),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(n){var e=mh(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=hn.internal.getHeight(n),o=hn.internal.getWidth(n),a=mO(n,n.caption);return r.push("1 g"),r.push("0 0 "+Yn(o)+" "+Yn(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Yn(o-1)+" "+Yn(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+Yn(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(n){var e=mh(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Yn(hn.internal.getWidth(n))+" "+Yn(hn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:hn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=hn.RadioButton.Circle.YesNormal,e.D[n]=hn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=mh(n);e.scope=n.scope;var t=[],i=hn.internal.getWidth(n)<=hn.internal.getHeight(n)?hn.internal.getWidth(n)/4:hn.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((i*hn.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+tf(hn.internal.getWidth(n)/2)+" "+tf(hn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=mh(n);e.scope=n.scope;var t=[],i=hn.internal.getWidth(n)<=hn.internal.getHeight(n)?hn.internal.getWidth(n)/4:hn.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*hn.internal.Bezier_C).toFixed(5)),o=Number((i*hn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+tf(hn.internal.getWidth(n)/2)+" "+tf(hn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+tf(hn.internal.getWidth(n)/2)+" "+tf(hn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(n){var e=mh(n);e.scope=n.scope;var t=[],i=hn.internal.getWidth(n)<=hn.internal.getHeight(n)?hn.internal.getWidth(n)/4:hn.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*hn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+tf(hn.internal.getWidth(n)/2)+" "+tf(hn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:hn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=hn.RadioButton.Cross.YesNormal,e.D[n]=hn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=mh(n);e.scope=n.scope;var t=[],i=hn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Yn(hn.internal.getWidth(n)-2)+" "+Yn(hn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Yn(i.x1.x)+" "+Yn(i.x1.y)+" m"),t.push(Yn(i.x2.x)+" "+Yn(i.x2.y)+" l"),t.push(Yn(i.x4.x)+" "+Yn(i.x4.y)+" m"),t.push(Yn(i.x3.x)+" "+Yn(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=mh(n);e.scope=n.scope;var t=hn.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+Yn(hn.internal.getWidth(n))+" "+Yn(hn.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Yn(hn.internal.getWidth(n)-2)+" "+Yn(hn.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(Yn(t.x1.x)+" "+Yn(t.x1.y)+" m"),i.push(Yn(t.x2.x)+" "+Yn(t.x2.y)+" l"),i.push(Yn(t.x4.x)+" "+Yn(t.x4.y)+" m"),i.push(Yn(t.x3.x)+" "+Yn(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(n){var e=mh(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Yn(hn.internal.getWidth(n))+" "+Yn(hn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};hn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=hn.internal.getWidth(n),t=hn.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},hn.internal.getWidth=function(n){var e=0;return"object"===(0,Fr.A)(n)&&(e=J7(n.Rect[2])),e},hn.internal.getHeight=function(n){var e=0;return"object"===(0,Fr.A)(n)&&(e=J7(n.Rect[3])),e};var n,e,Qfe=vs.addField=function(n){if(function(n,e){if(e.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(Eu.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Ufe)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gO=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new tj,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var t;(t=n).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&kfe(s,t)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(t){!function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var a=i[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Pfe(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=hn.createDefaultAppearanceStream(a),"object"===(0,Fr.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Lfe(a);l.push({key:"AP",value:"<</N "+u+">>"}),r.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var A in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(A)){var d=a.appearanceStreamContent[A];if(h+="/"+A+" ",h+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var f=d[o];"function"==typeof f&&(f=f.call(r,a)),h+="/"+o+" "+f+" ",r.internal.acroformPlugin.xForms.indexOf(f)>=0||r.internal.acroformPlugin.xForms.push(f)}}else"function"==typeof(f=d)&&(f=f.call(r,a)),h+="/"+o+" "+f,r.internal.acroformPlugin.xForms.indexOf(f)>=0||r.internal.acroformPlugin.xForms.push(f);h+=">>"}l.push({key:"AP",value:"<<\n"+h+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}s&&function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var i=t,r=n[t];e.internal.newObjectDeferredBegin(r.objId,!0),"object"===(0,Fr.A)(r)&&"function"==typeof r.putStream&&r.putStream(),delete n[i]}}(r.internal.acroformPlugin.xForms,r)}(t,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof Eu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function nj(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}vs.AcroFormChoiceField=G_,vs.AcroFormListBox=z_,vs.AcroFormComboBox=j_,vs.AcroFormEditBox=tT,vs.AcroFormButton=To,vs.AcroFormPushButton=nT,vs.AcroFormRadioButton=W_,vs.AcroFormCheckBox=rT,vs.AcroFormTextField=Yp,vs.AcroFormPasswordField=sT,vs.AcroFormAppearance=hn,vs.AcroForm={ChoiceField:G_,ListBox:z_,ComboBox:j_,EditBox:tT,Button:To,PushButton:nT,RadioButton:W_,CheckBox:rT,TextField:Yp,PasswordField:sT,Appearance:hn},Ln.AcroForm={ChoiceField:G_,ListBox:z_,ComboBox:j_,EditBox:tT,Button:To,PushButton:nT,RadioButton:W_,CheckBox:rT,TextField:Yp,PasswordField:sT,Appearance:hn},function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(I,k){var X,Y,ge,Z,ue,te=e;if("RGBA"===(k=k||e)||void 0!==I.data&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(U(I))for(ue in t)for(ge=t[ue],X=0;X<ge.length;X+=1){for(Z=!0,Y=0;Y<ge[X].length;Y+=1)if(void 0!==ge[X][Y]&&ge[X][Y]!==I[Y]){Z=!1;break}if(!0===Z){te=ue;break}}else for(ue in t)for(ge=t[ue],X=0;X<ge.length;X+=1){for(Z=!0,Y=0;Y<ge[X].length;Y+=1)if(void 0!==ge[X][Y]&&ge[X][Y]!==I.charCodeAt(Y)){Z=!1;break}if(!0===Z){te=ue;break}}return te===e&&k!==e&&(te=k),te},r=function I(k){for(var X=this.internal.write,Y=this.internal.putStream,ge=(0,this.internal.getFilters)();-1!==ge.indexOf("FlateEncode");)ge.splice(ge.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:k.width}),Z.push({key:"Height",value:k.height}),k.colorSpace===y.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&void 0!==k.sMask?k.objectId+2:k.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===y.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&void 0!==k.decodeParameters&&Z.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var ue="",te=0,ye=k.transparency.length;te<ye;te++)ue+=k.transparency[te]+" "+k.transparency[te]+" ";Z.push({key:"Mask",value:"["+ue+"]"})}if(void 0!==k.sMask&&Z.push({key:"SMask",value:k.objectId+1+" 0 R"}),Y({data:k.data,additionalKeyValues:Z,alreadyAppliedFilters:void 0!==k.filter?["/"+k.filter]:void 0,objectId:k.objectId}),X("endobj"),"sMask"in k&&void 0!==k.sMask){var V={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:"/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,data:k.sMask};"filter"in k&&(V.filter=k.filter),I.call(this,V)}if(k.colorSpace===y.INDEXED){var oe=this.internal.newObject();Y({data:N(new Uint8Array(k.palette)),objectId:oe}),X("endobj")}},s=function(){var I=this.internal.collections.addImage_images;for(var k in I)r.call(this,I[k])},o=function(){var I,k=this.internal.collections.addImage_images,X=this.internal.write;for(var Y in k)X("/I"+(I=k[Y]).index,I.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var I=this.internal.collections.addImage_images;return a.call(this),I},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(I){return"function"==typeof n["process"+I.toUpperCase()]},h=function(I){return"object"===(0,Fr.A)(I)&&1===I.nodeType},A=function(I,k){if("IMG"===I.nodeName&&I.hasAttribute("src")){var X=""+I.getAttribute("src");if(0===X.indexOf("data:image/"))return Sw(unescape(X).split("base64,").pop());var Y=n.loadFile(X,!0);if(void 0!==Y)return Y}if("CANVAS"===I.nodeName){if(0===I.width||0===I.height)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var ge;switch(k){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;default:ge="image/jpeg"}return Sw(I.toDataURL(ge,1).split("base64,").pop())}},d=function(I){var k=this.internal.collections.addImage_images;if(k)for(var X in k)if(I===k[X].alias)return k[X]},f=function(I,k,X){return I||k||(I=-96,k=-96),I<0&&(I=-1*X.width*72/I/this.internal.scaleFactor),k<0&&(k=-1*X.height*72/k/this.internal.scaleFactor),0===I&&(I=k*X.width/X.height),0===k&&(k=I*X.height/X.width),[I,k]},_=function(I,k,X,Y,ge,Z){var ue=f.call(this,X,Y,ge),te=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,Ce=l.call(this);if(X=ue[0],Y=ue[1],Ce[ge.index]=ge,Z){Z*=Math.PI/180;var qe=Math.cos(Z),V=Math.sin(Z),oe=function(le){return le.toFixed(4)},j=[oe(qe),oe(V),oe(-1*V),oe(qe),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,te(I),ye(k+Y),"cm"].join(" ")),this.internal.write(j.join(" ")),this.internal.write([te(X),"0","0",te(Y),"0","0","cm"].join(" "))):this.internal.write([te(X),"0","0",te(Y),te(I),ye(k+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},y=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=n.__addimage__.sHashCode=function(I){var k,X,Y=0;if("string"==typeof I)for(X=I.length,k=0;k<X;k++)Y=(Y<<5)-Y+I.charCodeAt(k),Y|=0;else if(U(I))for(X=I.byteLength/2,k=0;k<X;k++)Y=(Y<<5)-Y+I[k],Y|=0;return Y},x=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var k=!0;return 0===I.length&&(k=!1),I.length%4!=0&&(k=!1),!1===/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))&&(k=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))&&(k=!1),k},M=n.__addimage__.extractImageFromDataUrl=function(I){var k=(I=I||"").split("base64,"),X=null;if(2===k.length){var Y=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(k[0]);Array.isArray(Y)&&(X={mimeType:Y[1],charset:Y[2],data:k[1]})}return X},L=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(I){return L()&&I instanceof ArrayBuffer};var U=n.__addimage__.isArrayBufferView=function(I){return L()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},P=n.__addimage__.binaryStringToUint8Array=function(I){for(var k=I.length,X=new Uint8Array(k),Y=0;Y<k;Y++)X[Y]=I.charCodeAt(Y);return X},N=n.__addimage__.arrayBufferToBinaryString=function(I){for(var k="",X=U(I)?I:new Uint8Array(I),Y=0;Y<X.length;Y+=8192)k+=String.fromCharCode.apply(null,X.subarray(Y,Y+8192));return k};n.addImage=function(){var I,k,X,Y,ge,Z,ue,te,ye;if("number"==typeof arguments[1]?(k=e,X=arguments[1],Y=arguments[2],ge=arguments[3],Z=arguments[4],ue=arguments[5],te=arguments[6],ye=arguments[7]):(k=arguments[1],X=arguments[2],Y=arguments[3],ge=arguments[4],Z=arguments[5],ue=arguments[6],te=arguments[7],ye=arguments[8]),"object"===(0,Fr.A)(I=arguments[0])&&!h(I)&&"imageData"in I){var Ce=I;I=Ce.imageData,k=Ce.format||k||e,X=Ce.x||X||0,Y=Ce.y||Y||0,ge=Ce.w||Ce.width||ge,Z=Ce.h||Ce.height||Z,ue=Ce.alias||ue,te=Ce.compression||te,ye=Ce.rotation||Ce.angle||ye}var qe=this.internal.getFilters();if(void 0===te&&-1!==qe.indexOf("FlateEncode")&&(te="SLOW"),isNaN(X)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var V=R.call(this,I,k,ue,te);return _.call(this,X,Y,ge,Z,V,ye),this};var R=function(I,k,X,Y){var ge,Z,ue,ye;if("string"==typeof I&&i(I)===e){I=unescape(I);var te=F(I,!1);(""!==te||void 0!==(te=n.loadFile(I,!0)))&&(I=te)}if(h(I)&&(I=A(I,k)),k=i(I,k),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if((null==(ue=X)||0===ue.length)&&(X="string"==typeof(ye=I)||U(ye)?S(ye):U(ye.data)?S(ye.data):null),(ge=d.call(this,X))||(L()&&(I instanceof Uint8Array||"RGBA"===k||(Z=I,I=P(I))),ge=this["process"+k.toUpperCase()](I,c.call(this),X,function(ye){return ye&&"string"==typeof ye&&(ye=ye.toUpperCase()),ye in n.image_compression?ye:m.NONE}(Y),Z)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},F=n.__addimage__.convertBase64ToBinaryString=function(I,k){var X;k="boolean"!=typeof k||k;var Y,ge="";if("string"==typeof I){Y=null!==(X=M(I))?X.data:I;try{ge=Sw(Y)}catch(Z){if(k)throw x(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ge};n.getImageProperties=function(I){var k,X,Y="";if(h(I)&&(I=A(I)),"string"==typeof I&&i(I)===e&&(""===(Y=F(I,!1))&&(Y=n.loadFile(I)||""),I=Y),X=i(I),!u(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(!L()||I instanceof Uint8Array||(I=P(I)),!(k=this["process"+X.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=X,k}}(Ln.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
n=Ln.API,e=function(t){if(void 0!==t&&""!=t)return!0},Ln.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,r,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((i=c[h]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var A=0;A<c.length;A++){i=c[A];var d=this.internal.pdfEscape,f=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(_.objId),S=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+d(m(i.contents))+")",s+=" /Popup "+y.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(m(S))+") >>",_.content=s;var x=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+x,i.open&&(s+=" /Open true"),y.content=s+=" >>",this.internal.write(_.objId,"0 R",y.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var M=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+d(f(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(i.options.name){var L=this.annotations._nameMap[i.options.name];i.options.pageNumber=L.page,i.options.top=L.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+d(f(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var U=a(i.options.top);i.options.left=i.options.left||0,void 0===i.options.zoom&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+U+" "+i.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,r,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(i),w:l(t+r),h:c(i+s)},options:o,type:"link"})},n.textWithLink=function(t,i,r,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var u=this.splitTextToSize(t,a=s.maxWidth).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,i,r,s),"center"===s.align&&(i-=l/2),"right"===s.align&&(i-=l),this.link(i,(r+=.2*c)-c,a,o,s),l},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(_){return void 0!==e[_.charCodeAt(0)]},o=n.__arabicParser__.isArabicLetter=function(_){return"string"==typeof _&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=n.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&r.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&s(_)&&4==e[_.charCodeAt(0)].length},h=n.__arabicParser__.resolveLigatures=function(_){var y=0,m=t,S="",x=0;for(y=0;y<_.length;y+=1)void 0!==m[_.charCodeAt(y)]?(x++,"number"==typeof(m=m[_.charCodeAt(y)])&&(S+=String.fromCharCode(m),m=t,x=0),y===_.length-1&&(m=t,S+=_.charAt(y-(x-1)),y-=x-1,x=0)):(m=t,S+=_.charAt(y-x),y-=x,x=0);return S};n.__arabicParser__.isArabicDiacritic=function(_){return void 0!==_&&void 0!==i[_.charCodeAt(0)]};var A=n.__arabicParser__.getCorrectForm=function(_,y,m){return o(_)?!1===s(_)?-1:!c(_)||!o(y)&&!o(m)||!o(m)&&a(y)||a(_)&&!o(y)||a(_)&&l(y)||a(_)&&a(y)?0:u(_)&&o(y)&&!a(y)&&o(m)&&c(m)?3:a(_)||!o(m)?1:2:-1},d=function(_){var y=0,m=0,S=0,x="",M="",L="",U=(_=_||"").split("\\s+"),P=[];for(y=0;y<U.length;y+=1){for(P.push(""),m=0;m<U[y].length;m+=1)M=U[y][m-1],L=U[y][m+1],o(x=U[y][m])?(S=A(x,M,L),P[y]+=-1!==S?String.fromCharCode(e[x.charCodeAt(0)][S]):x):P[y]+=x;P[y]=h(P[y])}return P.join(" ")},f=n.__arabicParser__.processArabic=n.processArabic=function(){var _,y="string"==typeof arguments[0]?arguments[0]:arguments[0].text,m=[];if(Array.isArray(y)){var S=0;for(m=[],S=0;S<y.length;S+=1)Array.isArray(y[S])?m.push([d(y[S][0]),y[S][1],y[S][2]]):m.push([d(y[S])]);_=m}else _=d(y);return"string"==typeof arguments[0]?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",f])}(Ln.API),Ln.API.autoPrint=function(n){var e;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var r;if("2d"!==(t=t||"2d"))return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ln.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(_){A=_}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var f=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return f},set:function(_){f=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof l?l:void 0,this},n.getTextDimensions=function(l,c){i.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),A=c.scaleFactor||this.internal.scaleFactor,d=0,f=0,_=0,y=this;if(!Array.isArray(l)&&"string"!=typeof l){if("number"!=typeof l)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=c.maxWidth;m>0?"string"==typeof l?l=this.splitTextToSize(l,m):"[object Array]"===Object.prototype.toString.call(l)&&(l=l.reduce(function(x,M){return x.concat(y.splitTextToSize(M,m))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)d<(_=this.getStringUnitWidth(l[S],{font:h})*u)&&(d=_);return 0!==d&&(f=l.length),{w:d/=A,h:Math.max((f*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/A,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return void 0!==c.lineNumber&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,d&&A&&(this.printHeaderRow(l.lineNumber,!0),l.y+=A[0].height)):l.y=c.y+c.height||l.y),void 0!==l.text[0]&&(this.rect(l.x,l.y,l.width,l.height,!0===t?"FD":void 0),"right"===l.align?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):"center"===l.align?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,h,A){if(i.call(this),!u)throw new Error("No data for PDF table.");var d,f,_,y,m=[],S=[],x=[],M={},L={},U=[],P=[],N=(A=A||{}).autoSize||!1,R=!1!==A.printHeaders,F=A.css&&void 0!==A.css["font-size"]?16*A.css["font-size"]:A.fontSize||12,I=A.margins||Object.assign({width:this.getPageWidth()},e),k="number"==typeof A.padding?A.padding:3,X=A.headerBackgroundColor||"#c8c8c8",Y=A.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=Y,this.setFontSize(F),null==h)S=m=Object.keys(u[0]),x=m.map(function(){return"left"});else if(Array.isArray(h)&&"object"===(0,Fr.A)(h[0]))for(m=h.map(function(Ce){return Ce.name}),S=h.map(function(Ce){return Ce.prompt||Ce.name||""}),x=h.map(function(Ce){return Ce.align||"left"}),d=0;d<h.length;d+=1)L[h[d].name]=h[d].width*(19.049976/25.4);else Array.isArray(h)&&"string"==typeof h[0]&&(S=m=h,x=m.map(function(){return"left"}));if(N||Array.isArray(h)&&"string"==typeof h[0])for(d=0;d<m.length;d+=1){for(M[y=m[d]]=u.map(function(Ce){return Ce[y]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(S[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),f=M[y],this.setFont(void 0,"normal"),_=0;_<f.length;_+=1)U.push(this.getTextDimensions(f[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[y]=Math.max.apply(null,U)+k+k,U=[]}if(R){var ge={};for(d=0;d<m.length;d+=1)ge[m[d]]={},ge[m[d]].text=S[d],ge[m[d]].align=x[d];var Z=a.call(this,ge,L);P=m.map(function(Ce){return new s(l,c,L[Ce],Z,ge[Ce].text,void 0,ge[Ce].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var ue=h.reduce(function(Ce,qe){return Ce[qe.name]=qe.align,Ce},{});for(d=0;d<u.length;d+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:d,data:u[d]},this);var te=a.call(this,u[d],L);for(_=0;_<m.length;_+=1){var ye=u[d][m[_]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:d,col:_,data:ye},this),o.call(this,new s(l,c,L[m[_]],te,ye,d+2,ue[m[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(l).map(function(d){var f=l[d];return this.splitTextToSize(f.hasOwnProperty("text")?f.text:f,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*h/A+u+u},this).reduce(function(d,f){return Math.max(d,f)},0)};n.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,A.push(u)),u.lineNumber=l;var f=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(f)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),t=!1}}(Ln.API);var ij={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rj=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vO=nj(rj),sj=[100,200,300,400,500,600,700,800,900],Gfe=nj(sj);function yO(n){var s,e=n.family.replace(/"|'/g,"").toLowerCase(),t=ij[s=(s=n.style)||"normal"]?s:"normal",i=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(n.weight),r=function(s){return"number"==typeof vO[s=s||"normal"]?s:"normal"}(n.stretch);return{family:e,style:t,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:e,style:[r,t,i].join(" ")}}}function oj(n,e,t,i){var r;for(r=t;r>=0&&r<e.length;r+=i)if(n[e[r]])return n[e[r]];for(r=t;r>=0&&r<e.length;r-=i)if(n[e[r]])return n[e[r]]}var zfe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},aj={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function lj(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function cj(n){return n.trimLeft()}function Wfe(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function $fe(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],n.substring(e[0].length)]}var oT,uj,hj,wO=["times"];(function(n){var e,t,i,r,s,o,a,l,c,u=function(V){return this.isStrokeTransparent=(V=V||{}).isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=void 0!==V.transform?V.transform.clone():new l,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof V.ignoreClearRect||V.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var oe=V;Object.defineProperty(this,"pdf",{get:function(){return oe}});var j=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return j},set:function(Oe){j=!!Oe}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(Oe){le=!!Oe}});var ve=0;Object.defineProperty(this,"posX",{get:function(){return ve},set:function(Oe){isNaN(Oe)||(ve=Oe)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(Oe){isNaN(Oe)||(me=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Oe){var ne;"number"==typeof Oe?ne=[Oe,Oe,Oe,Oe]:((ne=new Array(4))[0]=Oe[0],ne[1]=Oe.length>=2?Oe[1]:ne[0],ne[2]=Oe.length>=3?Oe[2]:ne[0],ne[3]=Oe.length>=4?Oe[3]:ne[1]),c.margin=ne}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Oe){be=Oe}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(Oe){Te=Oe}});var rt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return rt},set:function(Oe){rt=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Oe){Oe instanceof u&&(c=Oe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Oe){c.path=Oe}});var lt=[];Object.defineProperty(this,"ctxStack",{get:function(){return lt},set:function(Oe){lt=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var ne;ne=A(Oe),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=0===ne.a,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var ne=A(Oe);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=0===ne.a,this.ctx.strokeOpacity=ne.a,0===ne.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(ne.r,ne.g,ne.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){-1!==["butt","round","square"].indexOf(Oe)&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){-1!==["bevel","round","miter"].indexOf(Oe)&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){-1!==["right","end","center","left","start"].indexOf(Oe)&&(this.ctx.textAlign=Oe)}});var Le=null,se=null;Object.defineProperty(this,"fontFaces",{get:function(){return se},set:function(Oe){Le=null,se=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var ne;if(this.ctx.font=Oe,null!==(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))){var wt=ne[1],tt=ne[3],it=ne[4],We=ne[6],J=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor("px"===J?parseFloat(it)*this.pdf.internal.scaleFactor:"em"===J?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var Q=function(mt){var en,Ge,jt=[],Gt=mt.trim();if(""===Gt)return wO;if(Gt in aj)return[aj[Gt]];for(;""!==Gt;){switch(Ge=null,en=(Gt=cj(Gt)).charAt(0)){case'"':case"'":Ge=Wfe(Gt.substring(1),en);break;default:Ge=$fe(Gt)}if(null===Ge||(jt.push(Ge[0]),""!==(Gt=cj(Ge[1]))&&","!==Gt.charAt(0)))return wO;Gt=Gt.replace(/^,/,"")}return jt}(We);if(this.fontFaces){var Se=function jfe(n,e,t){for(var i=(t=t||{}).defaultFontFamily||"times",r=Object.assign({},zfe,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(r[(s=yO(e[a])).family]&&(s.family=r[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[i]))throw new Error("Could not find a font-family for the rule '"+lj(s)+"' and default family '"+i+"'.");if(o=function(l,c){if(c[l])return c[l];var u=vO[l],A=oj(c,rj,u,u<=vO.normal?-1:1);if(!A)throw new Error("Could not find a matching font-stretch value for "+l);return A}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=ij[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(400===l&&c[500])return c[500];if(500===l&&c[400])return c[400];var h=oj(c,sj,Gfe[l],l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+lj(s)+"'.");return o}(function Ve(Oe,ne){if(null===Le){var wt=(tt=Oe.getFontList(),it=[],Object.keys(tt).forEach(function(We){tt[We].forEach(function(J){var Q=null;switch(J){case"bold":Q={family:We,weight:"bold"};break;case"italic":Q={family:We,style:"italic"};break;case"bolditalic":Q={family:We,weight:"bold",style:"italic"};break;case"":case"normal":Q={family:We}}null!==Q&&(Q.ref={name:We,style:J},it.push(Q))})}),it);Le=function(tt){for(var it={},We=0;We<tt.length;++We){var J=yO(tt[We]),Q=J.family,Se=J.stretch,Qe=J.style,nt=J.weight;it[Q]=it[Q]||{},it[Q][Se]=it[Q][Se]||{},it[Q][Se][Qe]=it[Q][Se][Qe]||{},it[Q][Se][Qe][nt]=J}return it}(wt.concat(ne))}var tt,it;return Le}(this.pdf,this.fontFaces),Q.map(function(mt){return{family:mt,stretch:"normal",weight:tt,style:wt}}));this.pdf.setFont(Se.ref.name,Se.ref.style)}else{var Qe="";("bold"===tt||parseInt(tt,10)>=700||"bold"===wt)&&(Qe="bold"),"italic"===wt&&(Qe+="italic"),0===Qe.length&&(Qe="normal");for(var nt="",$e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Mt=0;Mt<Q.length;Mt++){if(void 0!==this.pdf.internal.getFont(Q[Mt],Qe,{noFallback:!0,disableWarning:!0})){nt=Q[Mt];break}if("bolditalic"===Qe&&void 0!==this.pdf.internal.getFont(Q[Mt],"bold",{noFallback:!0,disableWarning:!0}))nt=Q[Mt],Qe="bold";else if(void 0!==this.pdf.internal.getFont(Q[Mt],"normal",{noFallback:!0,disableWarning:!0})){nt=Q[Mt],Qe="normal";break}}if(""===nt)for(var St=0;St<Q.length;St++)if($e[Q[St]]){nt=$e[Q[St]];break}this.pdf.setFont(nt=""===nt?"Times":nt,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,qe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,qe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};h.prototype.setLineDash=function(V){this.lineDash=V},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){M.call(this,"fill",!1)},h.prototype.stroke=function(){M.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(V,oe){if(isNaN(V)||isNaN(oe))throw Or.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var j=this.ctx.transform.applyToPoint(new o(V,oe));this.path.push({type:"mt",x:j.x,y:j.y}),this.ctx.lastPoint=new o(V,oe)},h.prototype.closePath=function(){var V=new o(0,0),oe=0;for(oe=this.path.length-1;-1!==oe;oe--)if("begin"===this.path[oe].type&&"object"===(0,Fr.A)(this.path[oe+1])&&"number"==typeof this.path[oe+1].x){V=new o(this.path[oe+1].x,this.path[oe+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.lineTo=function(V,oe){if(isNaN(V)||isNaN(oe))throw Or.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var j=this.ctx.transform.applyToPoint(new o(V,oe));this.path.push({type:"lt",x:j.x,y:j.y}),this.ctx.lastPoint=new o(j.x,j.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},h.prototype.quadraticCurveTo=function(V,oe,j,le){if(isNaN(j)||isNaN(le)||isNaN(V)||isNaN(oe))throw Or.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ve=this.ctx.transform.applyToPoint(new o(j,le)),me=this.ctx.transform.applyToPoint(new o(V,oe));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},h.prototype.bezierCurveTo=function(V,oe,j,le,ve,me){if(isNaN(ve)||isNaN(me)||isNaN(V)||isNaN(oe)||isNaN(j)||isNaN(le))throw Or.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new o(ve,me)),Te=this.ctx.transform.applyToPoint(new o(V,oe)),rt=this.ctx.transform.applyToPoint(new o(j,le));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:rt.x,y2:rt.y,x:be.x,y:be.y}),this.ctx.lastPoint=new o(be.x,be.y)},h.prototype.arc=function(V,oe,j,le,ve,me){if(isNaN(V)||isNaN(oe)||isNaN(j)||isNaN(le)||isNaN(ve))throw Or.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new o(V,oe));V=be.x,oe=be.y;var Te=this.ctx.transform.applyToPoint(new o(0,j)),rt=this.ctx.transform.applyToPoint(new o(0,0));j=Math.sqrt(Math.pow(Te.x-rt.x,2)+Math.pow(Te.y-rt.y,2))}Math.abs(ve-le)>=2*Math.PI&&(le=0,ve=2*Math.PI),this.path.push({type:"arc",x:V,y:oe,radius:j,startAngle:le,endAngle:ve,counterclockwise:me})},h.prototype.arcTo=function(V,oe,j,le,ve){throw new Error("arcTo not implemented.")},h.prototype.rect=function(V,oe,j,le){if(isNaN(V)||isNaN(oe)||isNaN(j)||isNaN(le))throw Or.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,oe),this.lineTo(V+j,oe),this.lineTo(V+j,oe+le),this.lineTo(V,oe+le),this.lineTo(V,oe),this.lineTo(V+j,oe),this.lineTo(V,oe)},h.prototype.fillRect=function(V,oe,j,le){if(isNaN(V)||isNaN(oe)||isNaN(j)||isNaN(le))throw Or.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var ve={};"butt"!==this.lineCap&&(ve.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(ve.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,oe,j,le),this.fill(),ve.hasOwnProperty("lineCap")&&(this.lineCap=ve.lineCap),ve.hasOwnProperty("lineJoin")&&(this.lineJoin=ve.lineJoin)}},h.prototype.strokeRect=function(V,oe,j,le){if(isNaN(V)||isNaN(oe)||isNaN(j)||isNaN(le))throw Or.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(V,oe,j,le),this.stroke())},h.prototype.clearRect=function(V,oe,j,le){if(isNaN(V)||isNaN(oe)||isNaN(j)||isNaN(le))throw Or.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,oe,j,le))},h.prototype.save=function(V){V="boolean"!=typeof V||V;for(var oe=this.pdf.internal.getCurrentPageInfo().pageNumber,j=0;j<this.pdf.internal.getNumberOfPages();j++)this.pdf.setPage(j+1),this.pdf.internal.out("q");if(this.pdf.setPage(oe),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},h.prototype.restore=function(V){V="boolean"!=typeof V||V;for(var oe=this.pdf.internal.getCurrentPageInfo().pageNumber,j=0;j<this.pdf.internal.getNumberOfPages();j++)this.pdf.setPage(j+1),this.pdf.internal.out("Q");this.pdf.setPage(oe),V&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(V){var oe,j,le,ve;if(!0===V.isCanvasGradient&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))oe=0,j=0,le=0,ve=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(null!==me)oe=parseInt(me[1]),j=parseInt(me[2]),le=parseInt(me[3]),ve=1;else if(null!==(me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V)))oe=parseInt(me[1]),j=parseInt(me[2]),le=parseInt(me[3]),ve=parseFloat(me[4]);else{if(ve=1,"string"==typeof V&&"#"!==V.charAt(0)){var be=new W7(V);V=be.ok?be.toHex():"#000000"}4===V.length?(oe=V.substring(1,2),oe+=oe,j=V.substring(2,3),j+=j,le=V.substring(3,4),le+=le):(oe=V.substring(1,3),j=V.substring(3,5),le=V.substring(5,7)),oe=parseInt(oe,16),j=parseInt(j,16),le=parseInt(le,16)}}return{r:oe,g:j,b:le,a:ve,style:V}},d=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};h.prototype.fillText=function(V,oe,j,le){if(isNaN(oe)||isNaN(j)||"string"!=typeof V)throw Or.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!d.call(this)){var ve=te(this.ctx.transform.rotation);k.call(this,{text:V,x:oe,y:j,scale:this.ctx.transform.scaleX,angle:ve,align:this.textAlign,maxWidth:le})}},h.prototype.strokeText=function(V,oe,j,le){if(isNaN(oe)||isNaN(j)||"string"!=typeof V)throw Or.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){le=isNaN(le)?void 0:le;var ve=te(this.ctx.transform.rotation);k.call(this,{text:V,x:oe,y:j,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:ve,align:this.textAlign,maxWidth:le})}},h.prototype.measureText=function(V){if("string"!=typeof V)throw Or.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var oe=this.pdf,j=this.pdf.internal.scaleFactor,le=oe.internal.getFontSize(),ve=oe.getStringUnitWidth(V)*le/oe.internal.scaleFactor;return new function(be){var Te=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this}({width:ve*=Math.round(96*j/72*1e4)/1e4})},h.prototype.scale=function(V,oe){if(isNaN(V)||isNaN(oe))throw Or.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var j=new l(V,0,0,oe,0,0);this.ctx.transform=this.ctx.transform.multiply(j)},h.prototype.rotate=function(V){if(isNaN(V))throw Or.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var oe=new l(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(oe)},h.prototype.translate=function(V,oe){if(isNaN(V)||isNaN(oe))throw Or.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var j=new l(1,0,0,1,V,oe);this.ctx.transform=this.ctx.transform.multiply(j)},h.prototype.transform=function(V,oe,j,le,ve,me){if(isNaN(V)||isNaN(oe)||isNaN(j)||isNaN(le)||isNaN(ve)||isNaN(me))throw Or.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new l(V,oe,j,le,ve,me);this.ctx.transform=this.ctx.transform.multiply(be)},h.prototype.setTransform=function(V,oe,j,le,ve,me){V=isNaN(V)?1:V,oe=isNaN(oe)?0:oe,j=isNaN(j)?0:j,le=isNaN(le)?1:le,ve=isNaN(ve)?0:ve,me=isNaN(me)?0:me,this.ctx.transform=new l(V,oe,j,le,ve,me)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(V,oe,j,le,ve,me,be,Te,rt){var lt=this.pdf.getImageProperties(V),Le=1,Ve=1,se=1,Oe=1;void 0!==le&&void 0!==Te&&(se=Te/le,Oe=rt/ve,Le=lt.width/le*Te/le,Ve=lt.height/ve*rt/ve),void 0===me&&(me=oe,be=j,oe=0,j=0),void 0!==le&&void 0===Te&&(Te=le,rt=ve),void 0===le&&void 0===Te&&(Te=lt.width,rt=lt.height);for(var ne,wt=this.ctx.transform.decompose(),tt=te(wt.rotate.shx),it=new l,We=(it=(it=(it=it.multiply(wt.translate)).multiply(wt.skew)).multiply(wt.scale)).applyToRectangle(new a(me-oe*se,be-j*Oe,le*Le,ve*Ve)),J=y.call(this,We),Q=[],Se=0;Se<J.length;Se+=1)-1===Q.indexOf(J[Se])&&Q.push(J[Se]);if(x(Q),this.autoPaging)for(var Qe=Q[0],nt=Q[Q.length-1],$e=Qe;$e<nt+1;$e++){this.pdf.setPage($e);var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=1===$e?this.posY+this.margin[0]:this.margin[0],en=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=1===$e?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+($e-2)*en;if(0!==this.ctx.clip_path.length){var jt=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ne,this.posX+this.margin[3],-Ge+St+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=jt}var Gt=JSON.parse(JSON.stringify(We));Gt=S([Gt],this.posX+this.margin[3],-Ge+St+this.ctx.prevPageLastElemOffset)[0];var wn=($e>Qe||$e<nt)&&_.call(this);wn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,en,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,tt),wn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",We.x,We.y,We.w,We.h,null,null,tt)};var y=function(V,oe,j){var le=[];oe=oe||this.pdf.internal.pageSize.width,j=j||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ve=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":le.push(Math.floor((V.y+ve)/j)+1);break;case"arc":le.push(Math.floor((V.y+ve-V.radius)/j)+1),le.push(Math.floor((V.y+ve+V.radius)/j)+1);break;case"qct":var me=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);le.push(Math.floor((me.y+ve)/j)+1),le.push(Math.floor((me.y+me.h+ve)/j)+1);break;case"bct":var be=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);le.push(Math.floor((be.y+ve)/j)+1),le.push(Math.floor((be.y+be.h+ve)/j)+1);break;case"rect":le.push(Math.floor((V.y+ve)/j)+1),le.push(Math.floor((V.y+V.h+ve)/j)+1)}for(var Te=0;Te<le.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<le[Te];)m.call(this);return le},m=function(){var V=this.fillStyle,oe=this.strokeStyle,j=this.font,le=this.lineCap,ve=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=oe,this.font=j,this.lineCap=le,this.lineWidth=ve,this.lineJoin=me},S=function(V,oe,j){for(var le=0;le<V.length;le++)switch(V[le].type){case"bct":V[le].x2+=oe,V[le].y2+=j;case"qct":V[le].x1+=oe,V[le].y1+=j;default:V[le].x+=oe,V[le].y+=j}return V},x=function(V){return V.sort(function(oe,j){return oe-j})},M=function(V,oe){for(var j,le,ve=this.fillStyle,me=this.strokeStyle,be=this.lineCap,Te=this.lineWidth,rt=Math.abs(Te*this.ctx.transform.scaleX),lt=this.lineJoin,Le=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),se=[],Oe=0;Oe<Ve.length;Oe++)if(void 0!==Ve[Oe].x)for(var ne=y.call(this,Ve[Oe]),wt=0;wt<ne.length;wt+=1)-1===se.indexOf(ne[wt])&&se.push(ne[wt]);for(var tt=0;tt<se.length;tt++)for(;this.pdf.internal.getNumberOfPages()<se[tt];)m.call(this);if(x(se),this.autoPaging)for(var it=se[0],We=se[se.length-1],J=it;J<We+1;J++){this.pdf.setPage(J),this.fillStyle=ve,this.strokeStyle=me,this.lineCap=be,this.lineWidth=rt,this.lineJoin=lt;var Q=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=1===J?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=1===J?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(J-2)*nt;if(0!==this.ctx.clip_path.length){var Mt=this.path;j=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(j,this.posX+this.margin[3],-$e+Se+this.ctx.prevPageLastElemOffset),L.call(this,V,!0),this.path=Mt}if(le=JSON.parse(JSON.stringify(Le)),this.path=S(le,this.posX+this.margin[3],-$e+Se+this.ctx.prevPageLastElemOffset),!1===oe||0===J){var St=(J>it||J<We)&&_.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Q,nt,null).clip().discardPath()),L.call(this,V,oe),St&&this.pdf.restoreGraphicsState()}this.lineWidth=Te}else this.lineWidth=rt,L.call(this,V,oe),this.lineWidth=Te;this.path=Le},L=function(V,oe){if(("stroke"!==V||oe||!f.call(this))&&("stroke"===V||oe||!d.call(this))){for(var j,le,ve=[],me=this.path,be=0;be<me.length;be++){var Te=me[be];switch(Te.type){case"begin":ve.push({begin:!0});break;case"close":ve.push({close:!0});break;case"mt":ve.push({start:Te,deltas:[],abs:[]});break;case"lt":var rt=ve.length;if(me[be-1]&&!isNaN(me[be-1].x)&&(j=[Te.x-me[be-1].x,Te.y-me[be-1].y],rt>0))for(;rt>=0;rt--)if(!0!==ve[rt-1].close&&!0!==ve[rt-1].begin){ve[rt-1].deltas.push(j),ve[rt-1].abs.push(Te);break}break;case"bct":ve[ve.length-1].deltas.push(j=[Te.x1-me[be-1].x,Te.y1-me[be-1].y,Te.x2-me[be-1].x,Te.y2-me[be-1].y,Te.x-me[be-1].x,Te.y-me[be-1].y]);break;case"qct":ve[ve.length-1].deltas.push(j=[me[be-1].x+2/3*(Te.x1-me[be-1].x)-me[be-1].x,me[be-1].y+2/3*(Te.y1-me[be-1].y)-me[be-1].y,Te.x+2/3*(Te.x1-Te.x)-me[be-1].x,Te.y+2/3*(Te.y1-Te.y)-me[be-1].y,Te.x-me[be-1].x,Te.y-me[be-1].y]);break;case"arc":ve.push({deltas:[],abs:[],arc:!0}),Array.isArray(ve[ve.length-1].abs)&&ve[ve.length-1].abs.push(Te)}}le=oe?null:"stroke"===V?"stroke":"fill";for(var wt=!1,tt=0;tt<ve.length;tt++)if(ve[tt].arc)for(var it=ve[tt].abs,We=0;We<it.length;We++){var J=it[We];"arc"===J.type?N.call(this,J.x,J.y,J.radius,J.startAngle,J.endAngle,J.counterclockwise,void 0,oe,!wt):X.call(this,J.x,J.y),wt=!0}else!0===ve[tt].close?(this.pdf.internal.out("h"),wt=!1):!0!==ve[tt].begin&&(Y.call(this,ve[tt].deltas,ve[tt].start.x,ve[tt].start.y),wt=!0);le&&R.call(this,le),oe&&F.call(this)}},U=function(V){var oe=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,j=oe*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-j;case"top":return V+oe-j;case"hanging":return V+oe-2*j;case"middle":return V+oe/2-j;default:return V}},P=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(oe,j){this.colorStops.push([oe,j])},V.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(V,oe,j,le,ve,me,be,Te,rt){for(var lt=Z.call(this,j,le,ve,me),Le=0;Le<lt.length;Le++){var Ve=lt[Le];0===Le&&(rt?I.call(this,Ve.x1+V,Ve.y1+oe):X.call(this,Ve.x1+V,Ve.y1+oe)),ge.call(this,V,oe,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}Te?F.call(this):R.call(this,be)},R=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(V,oe){this.pdf.internal.out(t(V)+" "+i(oe)+" m")},k=function(V){var oe;switch(V.align){case"right":case"end":oe="right";break;case"center":oe="center";break;default:oe="left"}var j=this.pdf.getTextDimensions(V.text),le=U.call(this,V.y),ve=P.call(this,le)-j.h,me=this.ctx.transform.applyToPoint(new o(V.x,le)),be=this.ctx.transform.decompose(),Te=new l;Te=(Te=(Te=Te.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var rt,lt,Le,Ve=this.ctx.transform.applyToRectangle(new a(V.x,le,j.w,j.h)),se=Te.applyToRectangle(new a(V.x,ve,j.w,j.h)),Oe=y.call(this,se),ne=[],wt=0;wt<Oe.length;wt+=1)-1===ne.indexOf(Oe[wt])&&ne.push(Oe[wt]);if(x(ne),this.autoPaging)for(var tt=ne[0],it=ne[ne.length-1],We=tt;We<it+1;We++){this.pdf.setPage(We);var J=1===We?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.margin[2],Qe=Se-this.margin[0],nt=this.pdf.internal.pageSize.width-this.margin[1],$e=nt-this.margin[3],Mt=1===We?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(We-2)*Qe;if(0!==this.ctx.clip_path.length){var St=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(rt,this.posX+this.margin[3],-1*Mt+J),L.call(this,"fill",!0),this.path=St}var mt=S([JSON.parse(JSON.stringify(se))],this.posX+this.margin[3],-Mt+J+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(lt*V.scale),this.lineWidth=(Le=this.lineWidth)*V.scale);var en="text"!==this.autoPaging;if(en||mt.y+mt.h<=Se){if(en||mt.y>=J&&mt.x<=nt){var Ge=en?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||nt-mt.x)[0],jt=S([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-Mt+J+this.ctx.prevPageLastElemOffset)[0],Gt=en&&(We>tt||We<it)&&_.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,Qe,null).clip().discardPath()),this.pdf.text(Ge,jt.x,jt.y,{angle:V.angle,align:oe,renderingMode:V.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else mt.y<Se&&(this.ctx.prevPageLastElemOffset+=Se-mt.y);V.scale>=.01&&(this.pdf.setFontSize(lt),this.lineWidth=Le)}else V.scale>=.01&&(lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(lt*V.scale),this.lineWidth=(Le=this.lineWidth)*V.scale),this.pdf.text(V.text,me.x+this.posX,me.y+this.posY,{angle:V.angle,align:oe,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(lt),this.lineWidth=Le)},X=function(V,oe,j,le){le=le||0,this.pdf.internal.out(t(V+(j=j||0))+" "+i(oe+le)+" l")},Y=function(V,oe,j){return this.pdf.lines(V,oe,j,null,null)},ge=function(V,oe,j,le,ve,me,be,Te){this.pdf.internal.out([e(r(j+V)),e(s(le+oe)),e(r(ve+V)),e(s(me+oe)),e(r(be+V)),e(s(Te+oe)),"c"].join(" "))},Z=function(V,oe,j,le){for(var ve=2*Math.PI,me=Math.PI/2;oe>j;)oe-=ve;var be=Math.abs(j-oe);be<ve&&le&&(be=ve-be);for(var Te=[],rt=le?-1:1,lt=oe;be>1e-5;){var Le=lt+rt*Math.min(be,me);Te.push(ue.call(this,V,lt,Le)),be-=Math.abs(Le-lt),lt=Le}return Te},ue=function(V,oe,j){var le=(j-oe)/2,ve=V*Math.cos(le),me=V*Math.sin(le),be=ve,Te=-me,rt=be*be+Te*Te,lt=rt+be*ve+Te*me,Le=4/3*(Math.sqrt(2*rt*lt)-lt)/(be*me-Te*ve),Ve=be-Le*Te,se=Te+Le*be,Oe=Ve,ne=-se,wt=le+oe,tt=Math.cos(wt),it=Math.sin(wt);return{x1:V*Math.cos(oe),y1:V*Math.sin(oe),x2:Ve*tt-se*it,y2:Ve*it+se*tt,x3:Oe*tt-ne*it,y3:Oe*it+ne*tt,x4:V*Math.cos(j),y4:V*Math.sin(j)}},te=function(V){return 180*V/Math.PI},ye=function(V,oe,j,le,ve,me){var be=V+.5*(j-V),Te=oe+.5*(le-oe),rt=ve+.5*(j-ve),lt=me+.5*(le-me),Le=Math.min(V,ve,be,rt),Ve=Math.max(V,ve,be,rt),se=Math.min(oe,me,Te,lt),Oe=Math.max(oe,me,Te,lt);return new a(Le,se,Ve-Le,Oe-se)},Ce=function(V,oe,j,le,ve,me,be,Te){var rt,lt,Le,Ve,se,Oe,ne,wt,tt,it,We,J,Q,Se,Qe=j-V,nt=le-oe,$e=ve-j,Mt=me-le,St=be-ve,mt=Te-me;for(lt=0;lt<41;lt++)tt=(ne=(Le=V+(rt=lt/40)*Qe)+rt*((se=j+rt*$e)-Le))+rt*(se+rt*(ve+rt*St-se)-ne),it=(wt=(Ve=oe+rt*nt)+rt*((Oe=le+rt*Mt)-Ve))+rt*(Oe+rt*(me+rt*mt-Oe)-wt),0==lt?(We=tt,J=it,Q=tt,Se=it):(We=Math.min(We,tt),J=Math.min(J,it),Q=Math.max(Q,tt),Se=Math.max(Se,it));return new a(Math.round(We),Math.round(J),Math.round(Q-We),Math.round(Se-J))},qe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==j&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=j)}}})(Ln.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(s){var o,a,l,c,u,h,A,d,f,_;for(/[^\x00-\xFF]/.test(s),a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)0!==(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))?(h=(u=((u=((u=((u=(u-(_=u%85))/85)-(f=u%85))/85)-(d=u%85))/85)-(A=u%85))/85)%85,a.push(h+33,A+33,d+33,f+33,_+33)):a.push(122);return function(y,m){for(var S=m;S>0;S--)y.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,l,c,u,h=String,A="length",d=255,f="charCodeAt",_="slice",y="replace";for(s[_](-2),s=s[_](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[_](s[A]%5||5))[A];u>c;c+=5)a=52200625*(s[f](c)-33)+614125*(s[f](c+1)-33)+7225*(s[f](c+2)-33)+85*(s[f](c+3)-33)+(s[f](c+4)-33),l.push(d&a>>24,d&a>>16,d&a>>8,d&a);return function(m,S){for(var x=S;x>0;x--)m.pop()}(l,o[A]),h.fromCharCode.apply(h,l)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===o.test(s))return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},r=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return(o=bw(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=r(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Ln.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.loadFile=function(e,t,i){return function(r,s,o){s=!1!==s,o="function"==typeof o?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,A=0,d=function(f){var _=f.length,y=[],m=String.fromCharCode;for(A=0;A<_;A+=1)y.push(m(255&f.charCodeAt(A)));return y.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),!1===c&&(h.onload=function(){u(200===h.status?d(this.responseText):void 0)}),h.send(null),c&&200===h.status)return d(h.responseText)}(r,s,o)}catch{}return a}(e,t,i)},n.loadImageFile=n.loadFile}(Ln.API),function(n){function e(){return(kn.html2canvas?Promise.resolve(kn.html2canvas):Promise.resolve().then(_e.t.bind(_e,7239,23))).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(kn.DOMPurify?Promise.resolve(kn.DOMPurify):_e.e(973).then(_e.t.bind(_e,1973,23))).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var a=(0,Fr.A)(o);return"undefined"===a?"undefined":"string"===a||o instanceof String?"string":"number"===a||o instanceof Number?"number":"function"===a||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&1===o.nodeType?"element":"object"===a?"object":"unknown"},r=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(i(l)){case"string":return"string";case"element":return"canvas"===l.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:r("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var h=3===c.nodeType?document.createTextNode(c.nodeValue):c.cloneNode(!1),A=c.firstChild;A;A=A.nextSibling)!0!==u&&1===A.nodeType&&"SCRIPT"===A.nodeName||h.appendChild(l(A,u));return 1===c.nodeType&&("CANVAS"===c.nodeName?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):"TEXTAREA"!==c.nodeName&&"SELECT"!==c.nodeName||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===a.tagName&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var A=0;A<c.length;++A){var d=c[A],f=d.src.find(function(_){return"truetype"===_.format});f&&l.addFont(f.url,d.ref.name,d.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=0==h.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return"img"===(l=l||"pdf").toLowerCase()||"image"===l.toLowerCase()?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if("object"!==i(o))return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(2===o.length&&(o=[o[0],o[1],o[0],o[1]]),4===o.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Ln.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return null!=o&&(this.progress.val=o),null!=a&&(this.progress.state=a),null!=l&&(this.progress.n=l),null!=c&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ln.getPageSize=function(o,a,l){if("object"===(0,Fr.A)(o)){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var d,f=0,_=0;if(A.hasOwnProperty(h))f=A[h][1]/u,_=A[h][0]/u;else try{f=l[1],_=l[0]}catch{throw new Error("Invalid format: "+l)}if("p"===o||"portrait"===o)o="p",_>f&&(d=_,_=f,f=d);else{if("l"!==o&&"landscape"!==o)throw"Invalid orientation: "+o;o="l",f>_&&(d=_,_=f,f=d)}return{width:_,height:f,unit:a,k:u,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(yO):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(Ln.API),Ln.API.addJS=function(n){return hj=n,this.internal.events.subscribe("postPutResources",function(){oT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(oT+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),uj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hj+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==oT&&void 0!==uj&&this.internal.out("/Names <</JavaScript "+oT+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],a=i.exec(o);null!=a&&t.internal.newObjectDeferredBegin(a[1],!1),t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=t.internal.newObject();u.push(h);var A=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var d=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+d+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return null==i&&(i=this.root),i.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},t.outline.line=function(i){this.ctx.val+=i+"\r\n"},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+="\r\n"+i.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(Ln.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,r,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=o||t)?new Uint8Array(t):t,(l=function(h){for(var A,d=256*h.charCodeAt(4)+h.charCodeAt(5),f=h.length,_={width:0,height:0,numcomponents:1},y=4;y<f;y+=2){if(-1!==e.indexOf(h.charCodeAt((y+=d)+1))){A=256*h.charCodeAt(y+5)+h.charCodeAt(y+6),_={width:256*h.charCodeAt(y+7)+h.charCodeAt(y+8),height:A,numcomponents:h.charCodeAt(y+9)};break}d=256*h.charCodeAt(y+2)+h.charCodeAt(y+3)}return _}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:r}}return u}}(Ln.API);var $_,aT,dj,Aj,fj,Kfe=function(){var n,e,t;function i(s){var o,l,c,u,h,A,d,f,_,y,m,S,x;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),f=function(){var M,L;for(L=[],M=0;M<4;++M)L.push(String.fromCharCode(this.data[this.pos++]));return L}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for("fdAT"===f&&(this.pos+=4,o-=4),s=h?.data||this.imgData,m=0;0<=o?m<o:m>o;0<=o?++m:--m)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((_=l-this.transparency.indexed.length)>0)for(S=0;0<=_?S<_:S>_;0<=_?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":A=(y=this.read(o)).indexOf(0),d=String.fromCharCode.apply(String,y.slice(0,A)),this.text[d]=String.fromCharCode.apply(String,y.slice(A+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(x=this.colorType)||6===x,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function u(h,A,d,f){var _,y,m,S,x,M,L,U,N,R,F,I,k,X,Y,ge,Z,ue,te,ye,Ce=Math.ceil((c.width-h)/d),qe=Math.ceil((c.height-A)/f),V=c.width==Ce&&c.height==qe;for(k=o*Ce,F=V?a:new Uint8Array(k*qe),M=s.length,I=0,y=0;I<qe&&l<M;){switch(s[l++]){case 0:for(S=ge=0;ge<k;S=ge+=1)F[y++]=s[l++];break;case 1:for(S=Z=0;Z<k;S=Z+=1)_=s[l++],x=S<o?0:F[y-o],F[y++]=(_+x)%256;break;case 2:for(S=ue=0;ue<k;S=ue+=1)_=s[l++],m=(S-S%o)/o,F[y++]=((X=I&&F[(I-1)*k+m*o+S%o])+_)%256;break;case 3:for(S=te=0;te<k;S=te+=1)_=s[l++],m=(S-S%o)/o,x=S<o?0:F[y-o],X=I&&F[(I-1)*k+m*o+S%o],F[y++]=(_+Math.floor((x+X)/2))%256;break;case 4:for(S=ye=0;ye<k;S=ye+=1)_=s[l++],m=(S-S%o)/o,0===I?X=Y=0:(X=F[(I-1)*k+m*o+S%o],Y=m&&F[(I-1)*k+(m-1)*o+S%o]),L=(x=S<o?0:F[y-o])+X-Y,U=Math.abs(L-x),N=Math.abs(L-X),R=Math.abs(L-Y),F[y++]=(_+(U<=N&&U<=R?x:N<=R?X:Y))%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!V){var oe=((A+I*f)*c.width+h)*o,j=I*k;for(S=0;S<Ce;S+=1){for(var le=0;le<o;le+=1)a[oe++]=F[j++];oe+=(d-1)*o}}I++}}return s=$x(s),1==c.interlaceMethod?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},i.prototype.decodePalette=function(){var s,o,a,l,c,u,h,A,d;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=h=0,A=a.length;h<A;o=h+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=null!=(d=u[s++])?d:255;return c},i.prototype.copyToImageData=function(s,o){var a,l,c,u,h,A,d,f,_,y,m;if(l=this.colors,_=null,a=this.hasAlphaChannel,this.palette.length&&(_=null!=(m=this._decodedPalette)?m:this._decodedPalette=this.decodePalette(),l=4,a=!0),f=(c=s.data||s).length,h=_||o,u=A=0,1===l)for(;u<f;)d=_?4*o[u/4]:A,y=h[d++],c[u++]=y,c[u++]=y,c[u++]=y,c[u++]=a?h[d++]:255,A=d;else for(;u<f;)d=_?4*o[u/4]:A,c[u++]=h[d++],c[u++]=h[d++],c[u++]=h[d++],c[u++]=a?h[d++]:255,A=d},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if("[object Window]"===Object.prototype.toString.call(kn)){try{e=kn.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(s){var o;if(!0===r())return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,a,l,c,u,h,A,d;if(this.animation){for(d=[],a=u=0,h=(A=this.animation.frames).length;u<h;a=++u)l=s.createImageData((o=A[a]).width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,d.push(o.image=n(l));return d}},i.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],0===o&&s.clearRect(0,0,this.width,this.height),1===c?.disposeOp?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):2===c?.disposeOp&&s.putImageData(c.imageData,c.xOffset,c.yOffset),0===a.blendOp&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},i.prototype.animate=function(s){var o,a,l,c,u,h,A=this;return a=0,c=(h=this.animation).numFrames,l=h.frames,u=h.numPlays,(o=function(){var d,f;if(d=a++%c,f=l[d],A.renderFrame(s,d),c>1&&a/c<u)return A.animation._timeout=setTimeout(o,f.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},i.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},i}();function qfe(n){var e=0;if(71!==n[e++]||73!==n[e++]||70!==n[e++]||56!==n[e++]||56!=(n[e++]+1&253)||97!==n[e++])throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,r=n[e++],o=1<<1+(7&r);e++,e++;var a=null,l=null;r>>7&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,A=null,d=0,f=null;for(this.width=t,this.height=i;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(11!==n[e]||78==n[e+1]&&69==n[e+2]&&84==n[e+3]&&83==n[e+4]&&67==n[e+5]&&65==n[e+6]&&80==n[e+7]&&69==n[e+8]&&50==n[e+9]&&46==n[e+10]&&48==n[e+11]&&3==n[e+12]&&1==n[e+13]&&0==n[e+16])e+=14,f=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(0===I)break;e+=I}break;case 249:if(4!==n[e++]||0!==n[e+4])throw new Error("Invalid graphics extension block.");var _=n[e++];h=n[e++]|n[e++]<<8,A=n[e++],!(1&_)&&(A=null),d=_>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(0===I)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var y=n[e++]|n[e++]<<8,m=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,x=n[e++]|n[e++]<<8,M=n[e++],L=M>>6&1,U=1<<1+(7&M),P=a,N=l,R=!1;M>>7&&(R=!0,P=e,N=U,e+=3*U);var F=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(0===I)break;e+=I}u.push({x:y,y:m,width:S,height:x,has_local_palette:R,palette_offset:P,palette_size:N,data_offset:F,data_length:e-F,transparent_index:A,interlaced:!!L,delay:h,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return f},this.frameInfo=function(k){if(k<0||k>=u.length)throw new Error("Frame index out of range.");return u[k]},this.decodeAndBlitFrameBGRA=function(k,X){var Y=this.frameInfo(k),ge=Y.width*Y.height,Z=new Uint8Array(ge);pj(n,Y.data_offset,Z,ge);var ue=Y.palette_offset,te=Y.transparent_index;null===te&&(te=256);var ye=Y.width,Ce=t-ye,qe=ye,V=4*(Y.y*t+Y.x),oe=4*((Y.y+Y.height)*t+Y.x),j=V,le=4*Ce;!0===Y.interlaced&&(le+=4*t*7);for(var ve=8,me=0,be=Z.length;me<be;++me){var Te=Z[me];if(0===qe&&(qe=ye,(j+=le)>=oe&&(le=4*Ce+4*t*(ve-1),j=V+(ye+Ce)*(ve<<1),ve>>=1)),Te===te)j+=4;else{var rt=n[ue+3*Te],lt=n[ue+3*Te+1];X[j++]=n[ue+3*Te+2],X[j++]=lt,X[j++]=rt,X[j++]=255}--qe}},this.decodeAndBlitFrameRGBA=function(k,X){var Y=this.frameInfo(k),ge=Y.width*Y.height,Z=new Uint8Array(ge);pj(n,Y.data_offset,Z,ge);var ue=Y.palette_offset,te=Y.transparent_index;null===te&&(te=256);var ye=Y.width,Ce=t-ye,qe=ye,V=4*(Y.y*t+Y.x),oe=4*((Y.y+Y.height)*t+Y.x),j=V,le=4*Ce;!0===Y.interlaced&&(le+=4*t*7);for(var ve=8,me=0,be=Z.length;me<be;++me){var Te=Z[me];if(0===qe&&(qe=ye,(j+=le)>=oe&&(le=4*Ce+4*t*(ve-1),j=V+(ye+Ce)*(ve<<1),ve>>=1)),Te===te)j+=4;else{var lt=n[ue+3*Te+1],Le=n[ue+3*Te+2];X[j++]=n[ue+3*Te],X[j++]=lt,X[j++]=Le,X[j++]=255}--qe}}}function pj(n,e,t,i){for(var r=n[e++],s=1<<r,o=s+1,a=o+1,l=r+1,c=(1<<l)-1,u=0,h=0,A=0,d=n[e++],f=new Int32Array(4096),_=null;;){for(;u<16&&0!==d;)h|=n[e++]<<u,u+=8,1===d?d=n[e++]:--d;if(u<l)break;var y=h&c;if(h>>=l,u-=l,y!==s){if(y===o)break;for(var m=y<a?y:_,S=0,x=m;x>s;)x=f[x]>>8,++S;var M=x;if(A+S+(m!==y?1:0)>i)return void Or.log("Warning, gif stream longer than expected.");t[A++]=M;var L=A+=S;for(m!==y&&(t[A++]=M),x=m;S--;)t[--L]=255&(x=f[x]),x>>=8;null!==_&&a<4096&&(f[a++]=_<<8|M,a>=c+1&&l<12&&(++l,c=c<<1|1)),_=y}else a=o+1,c=(1<<(l=r+1))-1,_=null}return A!==i&&Or.log("Warning, gif stream shorter than expected."),t}function bO(n){var e,t,i,r,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),A=new Array(65535),d=new Array(64),f=new Array(64),_=[],y=0,m=7,S=new Array(64),x=new Array(64),M=new Array(64),L=new Array(256),U=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(V,oe){for(var j=0,le=0,ve=new Array,me=1;me<=16;me++){for(var be=1;be<=V[me];be++)ve[oe[le]]=[],ve[oe[le]][0]=j,ve[oe[le]][1]=me,le++,j++;j*=2}return ve}function ue(V){for(var oe=V[0],j=V[1]-1;j>=0;)oe&1<<j&&(y|=1<<m),j--,--m<0&&(255==y?(te(255),te(0)):te(y),m=7,y=0)}function te(V){_.push(V)}function ye(V){te(V>>8&255),te(255&V)}function Ce(V,oe,j,le,ve){for(var me,be=ve[0],Te=ve[240],rt=function(it,We){var J,Q,Se,Qe,nt,$e,Mt,St,mt,en,Ge=0;for(mt=0;mt<8;++mt){var jt=(J=it[Ge])+(St=it[Ge+7]),Gt=J-St,wn=(Q=it[Ge+1])+(Mt=it[Ge+6]),Ot=Q-Mt,_n=(Se=it[Ge+2])+($e=it[Ge+5]),Nn=Se-$e,bn=(Qe=it[Ge+3])+(nt=it[Ge+4]),Ne=Qe-nt,Dt=jt+bn,ot=jt-bn,ft=wn+_n,Nt=wn-_n;it[Ge]=Dt+ft,it[Ge+4]=Dt-ft;var gt=.707106781*(Nt+ot);it[Ge+2]=ot+gt,it[Ge+6]=ot-gt;var tn=.382683433*((Dt=Ne+Nn)-(Nt=Ot+Gt)),mr=.5411961*Dt+tn,Hi=1.306562965*Nt+tn,pi=.707106781*(ft=Nn+Ot),ws=Gt+pi,gn=Gt-pi;it[Ge+5]=gn+mr,it[Ge+3]=gn-mr,it[Ge+1]=ws+Hi,it[Ge+7]=ws-Hi,Ge+=8}for(Ge=0,mt=0;mt<8;++mt){var wl=(J=it[Ge])+(St=it[Ge+56]),ic=J-St,bs=(Q=it[Ge+8])+(Mt=it[Ge+48]),us=Q-Mt,hs=(Se=it[Ge+16])+($e=it[Ge+40]),ga=Se-$e,Pu=(Qe=it[Ge+24])+(nt=it[Ge+32]),Lc=Qe-nt,ma=wl+Pu,bl=wl-Pu,Cl=bs+hs,Uc=bs-hs;it[Ge]=ma+Cl,it[Ge+32]=ma-Cl;var Sl=.707106781*(Uc+bl);it[Ge+16]=bl+Sl,it[Ge+48]=bl-Sl;var kc=.382683433*((ma=Lc+ga)-(Uc=us+ic)),Vd=.5411961*ma+kc,bf=1.306562965*Uc+kc,re=.707106781*(Cl=ga+us),Fe=ic+re,Ye=ic-re;it[Ge+40]=Ye+Vd,it[Ge+24]=Ye-Vd,it[Ge+8]=Fe+bf,it[Ge+56]=Fe-bf,Ge++}for(mt=0;mt<64;++mt)d[mt]=(en=it[mt]*We[mt])>0?en+.5|0:en-.5|0;return d}(V,oe),lt=0;lt<64;++lt)f[P[lt]]=rt[lt];var Le=f[0]-j;j=f[0],0==Le?ue(le[0]):(ue(le[A[me=32767+Le]]),ue(h[me]));for(var Ve=63;Ve>0&&0==f[Ve];)Ve--;if(0==Ve)return ue(be),j;for(var se,Oe=1;Oe<=Ve;){for(var ne=Oe;0==f[Oe]&&Oe<=Ve;)++Oe;var wt=Oe-ne;if(wt>=16){se=wt>>4;for(var tt=1;tt<=se;++tt)ue(Te);wt&=15}ue(ve[(wt<<4)+A[me=32767+f[Oe]]]),ue(h[me]),Oe++}return 63!=Ve&&ue(be),j}function qe(V){V=Math.min(Math.max(V,1),100),s!=V&&(function(oe){for(var j=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ve=o((j[le]*oe+50)/100);ve=Math.min(Math.max(ve,1),255),a[P[le]]=ve}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var Te=o((me[be]*oe+50)/100);Te=Math.min(Math.max(Te,1),255),l[P[be]]=Te}for(var rt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],lt=0,Le=0;Le<8;Le++)for(var Ve=0;Ve<8;Ve++)c[lt]=1/(a[P[lt]]*rt[Le]*rt[Ve]*8),u[lt]=1/(l[P[lt]]*rt[Le]*rt[Ve]*8),lt++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),s=V)}this.encode=function(V,oe){var Q,Se;oe&&qe(oe),_=new Array,y=0,m=7,ye(65496),ye(65504),ye(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),ye(1),ye(1),te(0),te(0),function(){ye(65499),ye(132),te(0);for(var Q=0;Q<64;Q++)te(a[Q]);te(1);for(var Se=0;Se<64;Se++)te(l[Se])}(),Q=V.width,Se=V.height,ye(65472),ye(17),te(8),ye(Se),ye(Q),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1),function(){ye(65476),ye(418),te(0);for(var Q=0;Q<16;Q++)te(N[Q+1]);for(var Se=0;Se<=11;Se++)te(R[Se]);te(16);for(var Qe=0;Qe<16;Qe++)te(F[Qe+1]);for(var nt=0;nt<=161;nt++)te(I[nt]);te(1);for(var $e=0;$e<16;$e++)te(k[$e+1]);for(var Mt=0;Mt<=11;Mt++)te(X[Mt]);te(17);for(var St=0;St<16;St++)te(Y[St+1]);for(var mt=0;mt<=161;mt++)te(ge[mt])}(),ye(65498),ye(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var j=0,le=0,ve=0;y=0,m=7,this.encode.displayName="_encode_";for(var me,be,Te,rt,lt,Le,Ve,se,Oe,ne=V.data,tt=V.height,it=4*V.width,We=0;We<tt;){for(me=0;me<it;){for(lt=it*We+me,Ve=-1,se=0,Oe=0;Oe<64;Oe++)Le=lt+(se=Oe>>3)*it+(Ve=4*(7&Oe)),We+se>=tt&&(Le-=it*(We+1+se-tt)),me+Ve>=it&&(Le-=me+Ve-it+4),be=ne[Le++],Te=ne[Le++],rt=ne[Le++],S[Oe]=(U[be]+U[Te+256|0]+U[rt+512|0]>>16)-128,x[Oe]=(U[be+768|0]+U[Te+1024|0]+U[rt+1280|0]>>16)-128,M[Oe]=(U[be+1280|0]+U[Te+1536|0]+U[rt+1792|0]>>16)-128;j=Ce(S,c,j,e,i),le=Ce(x,u,le,t,r),ve=Ce(M,u,ve,t,r),me+=32}We+=8}if(m>=0){var J=[];J[1]=m+1,J[0]=(1<<m+1)-1,ue(J)}return ye(65497),new Uint8Array(_)},n=n||50,function(){for(var V=String.fromCharCode,oe=0;oe<256;oe++)L[oe]=V(oe)}(),e=Z(N,R),t=Z(k,X),i=Z(F,I),r=Z(Y,ge),function(){for(var V=1,oe=2,j=1;j<=15;j++){for(var le=V;le<oe;le++)A[32767+le]=j,h[32767+le]=[],h[32767+le][1]=j,h[32767+le][0]=le;for(var ve=-(oe-1);ve<=-V;ve++)A[32767+ve]=j,h[32767+ve]=[],h[32767+ve][1]=j,h[32767+ve][0]=oe-1+ve;V<<=1,oe<<=1}}(),function(){for(var V=0;V<256;V++)U[V]=19595*V,U[V+256|0]=38470*V,U[V+512|0]=7471*V+32768,U[V+768|0]=-11059*V,U[V+1024|0]=-21709*V,U[V+1280|0]=32768*V+8421375,U[V+1536|0]=-27439*V,U[V+1792|0]=-5329*V}(),qe(n)}function xu(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function gj(n){function e(N){if(!N)throw Error("assert :P")}function t(N,R,F){for(var I=0;4>I;I++)if(N[R+I]!=F.charCodeAt(I))return!0;return!1}function i(N,R,F,I,k){for(var X=0;X<k;X++)N[R+X]=F[I+X]}function r(N,R,F,I){for(var k=0;k<I;k++)N[R+k]=F}function s(N){return new Int32Array(N)}function o(N,R){for(var F=[],I=0;I<N;I++)F.push(new R);return F}function a(N,R){var F=[];return function I(k,X,Y){for(var ge=Y[X],Z=0;Z<ge&&(k.push(Y.length>X+1?[]:new R),!(Y.length<X+1));Z++)I(k[Z],X+1,Y)}(F,0,N),F}var l=function(){var N=this;function R(p,C){for(var T=1<<C-1>>>0;p&T;)T>>>=1;return T?(p&T-1)+T:p}function F(p,C,T,B,G){e(!(B%T));do{p[C+(B-=T)]=G}while(0<B)}function I(p,C,T,B,G){if(e(2328>=G),512>=G)var W=s(512);else if(null==(W=s(G)))return 0;return function(K,ee,ie,he,Me,ze){var je,Pe,yt=ee,at=1<<ie,De=s(16),Ie=s(16);for(e(0!=Me),e(null!=he),e(null!=K),e(0<ie),Pe=0;Pe<Me;++Pe){if(15<he[Pe])return 0;++De[he[Pe]]}if(De[0]==Me)return 0;for(Ie[1]=0,je=1;15>je;++je){if(De[je]>1<<je)return 0;Ie[je+1]=Ie[je]+De[je]}for(Pe=0;Pe<Me;++Pe)je=he[Pe],0<he[Pe]&&(ze[Ie[je]++]=Pe);if(1==Ie[15])return(he=new k).g=0,he.value=ze[0],F(K,yt,1,at,he),at;var pt,Ct=-1,_t=at-1,rn=0,Kt=1,Bn=1,Yt=1<<ie;for(Pe=0,je=1,Me=2;je<=ie;++je,Me<<=1){if(Kt+=Bn<<=1,0>(Bn-=De[je]))return 0;for(;0<De[je];--De[je])(he=new k).g=je,he.value=ze[Pe++],F(K,yt+rn,Me,Yt,he),rn=R(rn,je)}for(je=ie+1,Me=2;15>=je;++je,Me<<=1){if(Kt+=Bn<<=1,0>(Bn-=De[je]))return 0;for(;0<De[je];--De[je]){if(he=new k,(rn&_t)!=Ct){for(yt+=Yt,pt=1<<(Ct=je)-ie;15>Ct&&!(0>=(pt-=De[Ct]));)++Ct,pt<<=1;at+=Yt=1<<(pt=Ct-ie),K[ee+(Ct=rn&_t)].g=pt+ie,K[ee+Ct].value=yt-ee-Ct}he.g=je-ie,he.value=ze[Pe++],F(K,yt+(rn>>ie),Me,Yt,he),rn=R(rn,je)}}return Kt!=2*Ie[15]-1?0:at}(p,C,T,B,G,W)}function k(){this.value=this.g=0}function X(){this.value=this.g=0}function Y(){this.G=o(5,k),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(qo,X)}function ge(p,C,T,B){e(null!=p),e(null!=C),e(2147483648>B),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=C,p.pa=T,p.Jd=C,p.Yc=T+B,p.Zc=4<=B?T+B-4+1:T,me(p)}function Z(p,C){for(var T=0;0<C--;)T|=Te(p,128)<<C;return T}function ue(p,C){var T=Z(p,C);return be(p)?-T:T}function te(p,C,T,B){var G,W=0;for(e(null!=p),e(null!=C),e(4294967288>B),p.Sb=B,p.Ra=0,p.u=0,p.h=0,4<B&&(B=4),G=0;G<B;++G)W+=C[T+G]<<8*G;p.Ra=W,p.bb=B,p.oa=C,p.pa=T}function ye(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<lv-8>>>0,++p.bb,p.u-=8;j(p)&&(p.h=1,p.u=0)}function Ce(p,C){if(e(0<=C),!p.h&&C<=av){var T=oe(p)&ov[C];return p.u+=C,ye(p),T}return p.h=1,p.u=0}function qe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function oe(p){return p.Ra>>>(p.u&lv-1)>>>0}function j(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>lv}function le(p,C){p.u=C,p.h=j(p)}function ve(p){p.u>=Ob&&(e(p.u>=Ob),ye(p))}function me(p){e(null!=p&&null!=p.oa),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(null!=p&&null!=p.oa),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function be(p){return Z(p,1)}function Te(p,C){var T=p.Ca;0>p.b&&me(p);var B=p.b,G=T*C>>>8,W=(p.I>>>B>G)+0;for(W?(T-=G,p.I-=G+1<<B>>>0):T=G+1,B=T,G=0;256<=B;)G+=8,B>>=8;return p.b-=B=7^G+El[B],p.Ca=(T<<B)-1,W}function rt(p,C,T){p[C+0]=T>>24&255,p[C+1]=T>>16&255,p[C+2]=T>>8&255,p[C+3]=255&T}function lt(p,C){return p[C+0]|p[C+1]<<8}function Le(p,C){return lt(p,C)|p[C+2]<<16}function Ve(p,C){return lt(p,C)|lt(p,C+2)<<16}function se(p,C){var T=1<<C;return e(null!=p),e(0<C),p.X=s(T),null==p.X?0:(p.Mb=32-C,p.Xa=C,1)}function Oe(p,C){e(null!=p),e(null!=C),e(p.Xa==C.Xa),i(C.X,0,p.X,0,1<<C.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function wt(p,C,T,B){e(null!=T),e(null!=B);var G=T[0],W=B[0];return 0==G&&(G=(p*W+C/2)/C),0==W&&(W=(C*G+p/2)/p),0>=G||0>=W?0:(T[0]=G,B[0]=W,1)}function tt(p,C){return p+(1<<C)-1>>>C}function it(p,C){return((4278255360&p)+(4278255360&C)>>>0&4278255360)+((16711935&p)+(16711935&C)>>>0&16711935)>>>0}function We(p,C){N[C]=function(T,B,G,W,K,ee,ie){var he;for(he=0;he<K;++he){var Me=N[p](ee[ie+he-1],G,W+he);ee[ie+he]=it(T[B+he],Me)}}}function J(){this.ud=this.hd=this.jd=0}function Q(p,C){return((4278124286&(p^C))>>>1)+(p&C)>>>0}function Se(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Qe(p,C){return Se(p+(p-C+.5>>1))}function nt(p,C,T){return Math.abs(C-T)-Math.abs(p-T)}function $e(p,C,T,B,G,W,K){for(B=W[K-1],T=0;T<G;++T)W[K+T]=B=it(p[C+T],B)}function Mt(p,C,T,B,G){var W;for(W=0;W<T;++W){var K=p[C+W],ee=K>>8&255,ie=16711935&(ie=(ie=16711935&K)+((ee<<16)+ee));B[G+W]=(4278255360&K)+ie>>>0}}function St(p,C){C.jd=255&p,C.hd=p>>8&255,C.ud=p>>16&255}function mt(p,C,T,B,G,W){var K;for(K=0;K<B;++K){var ee=C[T+K],ie=ee>>>8,he=ee,Me=255&(Me=(Me=ee>>>16)+((p.jd<<24>>24)*(ie<<24>>24)>>>5));he=255&(he=(he+=(p.hd<<24>>24)*(ie<<24>>24)>>>5)+((p.ud<<24>>24)*(Me<<24>>24)>>>5)),G[W+K]=(4278255360&ee)+(Me<<16)+he}}function en(p,C,T,B,G){N[C]=function(W,K,ee,ie,he,Me,ze,je,Pe){for(ie=ze;ie<je;++ie)for(ze=0;ze<Pe;++ze)he[Me++]=G(ee[B(W[K++])])},N[p]=function(W,K,ee,ie,he,Me,ze){var je=8>>W.b,Pe=W.Ea,yt=W.K[0],at=W.w;if(8>je)for(W=(1<<W.b)-1,at=(1<<je)-1;K<ee;++K){var De,Ie=0;for(De=0;De<Pe;++De)De&W||(Ie=B(ie[he++])),Me[ze++]=G(yt[Ie&at]),Ie>>=je}else N["VP8LMapColor"+T](ie,he,yt,at,Me,ze,K,ee,Pe)}}function Ge(p,C,T,B,G){for(T=C+T;C<T;){var W=p[C++];B[G++]=W>>16&255,B[G++]=W>>8&255,B[G++]=255&W}}function jt(p,C,T,B,G){for(T=C+T;C<T;){var W=p[C++];B[G++]=W>>16&255,B[G++]=W>>8&255,B[G++]=255&W,B[G++]=W>>24&255}}function Gt(p,C,T,B,G){for(T=C+T;C<T;){var W=(K=p[C++])>>16&240|K>>12&15,K=240&K|K>>28&15;B[G++]=W,B[G++]=K}}function wn(p,C,T,B,G){for(T=C+T;C<T;){var W=(K=p[C++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;B[G++]=W,B[G++]=K}}function Ot(p,C,T,B,G){for(T=C+T;C<T;){var W=p[C++];B[G++]=255&W,B[G++]=W>>8&255,B[G++]=W>>16&255}}function _n(p,C,T,B,G,W){if(0==W)for(T=C+T;C<T;)rt(B,((W=p[C++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),G+=32;else i(B,G,p,C,T)}function Nn(p,C){N[C][0]=N[p+"0"],N[C][1]=N[p+"1"],N[C][2]=N[p+"2"],N[C][3]=N[p+"3"],N[C][4]=N[p+"4"],N[C][5]=N[p+"5"],N[C][6]=N[p+"6"],N[C][7]=N[p+"7"],N[C][8]=N[p+"8"],N[C][9]=N[p+"9"],N[C][10]=N[p+"10"],N[C][11]=N[p+"11"],N[C][12]=N[p+"12"],N[C][13]=N[p+"13"],N[C][14]=N[p+"0"],N[C][15]=N[p+"0"]}function bn(p){return p==AU||p==fU||p==VM||p==pU}function Ne(){this.eb=[],this.size=this.A=this.fb=0}function Dt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ot(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ne,this.f.kb=new Dt,this.sd=null}function ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Nt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function gt(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function tn(p,C){var T=p.T,B=C.ba.f.RGBA,G=B.eb,W=B.fb+p.ka*B.A,K=jc[C.ba.S],ee=p.y,ie=p.O,he=p.f,Me=p.N,ze=p.ea,je=p.W,Pe=C.cc,yt=C.dc,at=C.Mc,De=C.Nc,Ie=p.ka,pt=p.ka+p.T,Ct=p.U,_t=Ct+1>>1;for(0==Ie?K(ee,ie,null,null,he,Me,ze,je,he,Me,ze,je,G,W,null,null,Ct):(K(C.ec,C.fc,ee,ie,Pe,yt,at,De,he,Me,ze,je,G,W-B.A,G,W,Ct),++T);Ie+2<pt;Ie+=2)K(ee,(ie+=2*p.fa)-p.fa,ee,ie,Pe=he,yt=Me,at=ze,De=je,he,Me+=p.Rc,ze,je+=p.Rc,G,(W+=2*B.A)-B.A,G,W,Ct);return ie+=p.fa,p.j+pt<p.o?(i(C.ec,C.fc,ee,ie,Ct),i(C.cc,C.dc,he,Me,_t),i(C.Mc,C.Nc,ze,je,_t),T--):1&pt||K(ee,ie,null,null,he,Me,ze,je,he,Me,ze,je,G,W+B.A,null,null,Ct),T}function mr(p,C,T){var B=p.F,G=[p.J];if(null!=B){var W=p.U,K=C.ba.S,ee=K==HM||K==VM;C=C.ba.f.RGBA;var ie=[0],he=p.ka;ie[0]=p.T,p.Kb&&(0==he?--ie[0]:(--he,G[0]-=p.width),p.j+p.ka+p.T==p.o&&(ie[0]=p.o-p.j-he));var Me=C.eb;p=Wr(B,G[0],p.width,W,ie,Me,(he=C.fb+he*C.A)+(ee?0:3),C.A),e(T==ie),p&&bn(K)&&Gc(Me,he,ee,W,ie,C.A)}return 0}function Hi(p){var C=p.ma,T=C.ba.S,B=11>T,G=T==UM||T==kM||T==HM||T==dU||12==T||bn(T);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!Rb(C.Oa,p,G?11:12))return 0;if(G&&bn(T)&&Tt(),p.da)alert("todo:use_scaling");else{if(B){if(C.Ib=gt,p.Kb){if(C.memory=s(p.U+2*(T=p.U+1>>1)),null==C.memory)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+p.U,C.Mc=C.cc,C.Nc=C.dc+T,C.Ib=tn,Tt()}}else alert("todo:EmitYUV");G&&(C.Jb=mr,B&&ke())}if(B&&!eX){for(p=0;256>p;++p)SDe[p]=89858*(p-128)+GM>>QM,TDe[p]=-22014*(p-128)+GM,xDe[p]=-45773*(p-128),EDe[p]=113618*(p-128)+GM>>QM;for(p=Qb;p<_U;++p)MDe[p-Qb]=rc(C=76283*(p-16)+GM>>QM,255),DDe[p-Qb]=rc(C+8>>4,15);eX=1}return 1}function pi(p){var C=p.ma,T=p.U,B=p.T;return e(!(1&p.ka)),0>=T||0>=B?0:(T=C.Ib(p,C),null!=C.Jb&&C.Jb(p,C,T),C.Dc+=T,1)}function ws(p){p.ma.memory=null}function gn(p,C,T,B){return 47!=Ce(p,8)?0:(C[0]=Ce(p,14)+1,T[0]=Ce(p,14)+1,B[0]=Ce(p,1),0!=Ce(p,3)?0:!p.h)}function wl(p,C){if(4>p)return p+1;var T=p-2>>1;return(2+(1&p)<<T)+Ce(C,T)+1}function ic(p,C){return 120<C?C-120:1<=(T=((T=uDe[C-1])>>4)*p+(8-(15&T)))?T:1;var T}function bs(p,C,T){var B=oe(T),G=p[C+=255&B].g-8;return 0<G&&(le(T,T.u+8),B=oe(T),C+=p[C].value,C+=B&(1<<G)-1),le(T,T.u+p[C].g),p[C].value}function us(p,C,T){return T.g+=p.g,T.value+=p.value<<C>>>0,e(8>=T.g),p.g}function hs(p,C,T){var B=p.xc;return e((C=0==B?0:p.vc[p.md*(T>>B)+(C>>B)])<p.Wb),p.Ya[C]}function ga(p,C,T,B){var G=p.ab,W=p.c*C,K=p.C;C=K+C;var ee=T,ie=B;for(B=p.Ta,T=p.Ua;0<G--;){var he=p.gc[G],Me=K,ze=C,je=ee,Pe=ie,yt=(ie=B,ee=T,he.Ea);switch(e(Me<ze),e(ze<=he.nc),he.hc){case 2:IM(je,Pe,(ze-Me)*yt,ie,ee);break;case 0:var at=Me,De=ze,Ie=ie,pt=ee,Ct=(Yt=he).Ea;0==at&&(uU(je,Pe,null,null,1,Ie,pt),$e(je,Pe+1,0,0,Ct-1,Ie,pt+1),Pe+=Ct,pt+=Ct,++at);for(var _t=1<<Yt.b,rn=_t-1,Kt=tt(Ct,Yt.b),Bn=Yt.K,Yt=Yt.w+(at>>Yt.b)*Kt;at<De;){var pr=Bn,Cr=Yt,Xi=1;for(Pb(je,Pe,Ie,pt-Ct,1,Ie,pt);Xi<Ct;){var Ii=(Xi&~rn)+_t;Ii>Ct&&(Ii=Ct),(0,Tf[pr[Cr++]>>8&15])(je,Pe+ +Xi,Ie,pt+Xi-Ct,Ii-Xi,Ie,pt+Xi),Xi=Ii}Pe+=Ct,pt+=Ct,++at&rn||(Yt+=Kt)}ze!=he.nc&&i(ie,ee-yt,ie,ee+(ze-Me-1)*yt,yt);break;case 1:for(yt=je,De=Pe,Ct=(je=he.Ea)-(pt=je&~(Ie=(Pe=1<<he.b)-1)),at=tt(je,he.b),_t=he.K,he=he.w+(Me>>he.b)*at;Me<ze;){for(rn=_t,Kt=he,Bn=new J,Yt=De+pt,pr=De+je;De<Yt;)St(rn[Kt++],Bn),Lg(Bn,yt,De,Pe,ie,ee),De+=Pe,ee+=Pe;De<pr&&(St(rn[Kt++],Bn),Lg(Bn,yt,De,Ct,ie,ee),De+=Ct,ee+=Ct),++Me&Ie||(he+=at)}break;case 3:if(je==ie&&Pe==ee&&0<he.b){for(De=ie,je=yt=ee+(ze-Me)*yt-(pt=(ze-Me)*tt(he.Ea,he.b)),Pe=ie,Ie=ee,at=[],pt=(Ct=pt)-1;0<=pt;--pt)at[pt]=Pe[Ie+pt];for(pt=Ct-1;0<=pt;--pt)De[je+pt]=at[pt];Hc(he,Me,ze,ie,yt,ie,ee)}else Hc(he,Me,ze,je,Pe,ie,ee)}ee=B,ie=T}ie!=T&&i(B,T,ee,ie,W)}function Pu(p,C){var T=p.V,B=p.Ba+p.c*p.C,G=C-p.C;if(e(C<=p.l.o),e(16>=G),0<G){var W=p.l,K=p.Ta,ee=p.Ua,ie=W.width;if(ga(p,G,T,B),G=ee=[ee],e((T=p.C)<(B=C)),e(W.v<W.va),B>W.o&&(B=W.o),T<W.j){var he=W.j-T;T=W.j,G[0]+=he*ie}if(T>=B?T=0:(G[0]+=4*W.v,W.ka=T-W.j,W.U=W.va-W.v,W.T=B-T,T=1),T){if(ee=ee[0],11>(T=p.ca).S){var Me=T.f.RGBA,ze=(B=T.S,G=W.U,W=W.T,he=Me.eb,Me.A),je=W;for(Me=Me.fb+p.Ma*Me.A;0<je--;){var Pe=K,yt=ee,at=G,De=he,Ie=Me;switch(B){case LM:xl(Pe,yt,at,De,Ie);break;case UM:$a(Pe,yt,at,De,Ie);break;case AU:$a(Pe,yt,at,De,Ie),Gc(De,Ie,0,at,1,0);break;case zq:jd(Pe,yt,at,De,Ie);break;case kM:_n(Pe,yt,at,De,Ie,1);break;case fU:_n(Pe,yt,at,De,Ie,1),Gc(De,Ie,0,at,1,0);break;case HM:_n(Pe,yt,at,De,Ie,0);break;case VM:_n(Pe,yt,at,De,Ie,0),Gc(De,Ie,1,at,1,0);break;case dU:Mf(Pe,yt,at,De,Ie);break;case pU:Mf(Pe,yt,at,De,Ie),jr(De,Ie,at,1,0);break;case jq:zd(Pe,yt,at,De,Ie);break;default:e(0)}ee+=ie,Me+=ze}p.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=T.height)}}p.C=C,e(p.C<=p.i)}function Lc(p){var C;if(0<p.ua)return 0;for(C=0;C<p.Wb;++C){var T=p.Ya[C].G,B=p.Ya[C].H;if(0<T[1][B[1]+0].g||0<T[2][B[2]+0].g||0<T[3][B[3]+0].g)return 0}return 1}function ma(p,C,T,B,G,W){if(0!=p.Z){var K=p.qd,ee=p.rd;for(e(null!=Nf[p.Z]);C<T;++C)Nf[p.Z](K,ee,B,G,B,G,W),K=B,ee=G,G+=W;p.qd=K,p.rd=ee}}function bl(p,C){var T=p.l.ma,B=0==T.Z||1==T.Z?p.l.j:p.C;if(B=p.C<B?B:p.C,e(C<=p.l.o),C>B){var G=p.l.width,W=T.ca,K=T.tb+G*B,ee=p.V,ie=p.Ba+p.c*B,he=p.gc;e(1==p.ab),e(3==he[0].hc),NM(he[0],B,C,ee,ie,W,K),ma(T,B,C,W,K,G)}p.C=p.Ma=C}function Cl(p,C,T,B,G,W,K){var ee=p.$/B,ie=p.$%B,he=p.m,Me=p.s,ze=T+p.$,je=ze;G=T+B*G;var Pe=T+B*W,yt=280+Me.ua,at=p.Pb?ee:16777216,De=0<Me.ua?Me.Wa:null,Ie=Me.wc,pt=ze<Pe?hs(Me,ie,ee):null;e(p.C<W),e(Pe<=G);var Ct=!1;e:for(;;){for(;Ct||ze<Pe;){var _t=0;if(ee>=at){var rn=ze-T;e((at=p).Pb),at.wd=at.m,at.xd=rn,0<at.s.ua&&Oe(at.s.Wa,at.s.vb),at=ee+dDe}if(ie&Ie||(pt=hs(Me,ie,ee)),e(null!=pt),pt.Qb&&(C[ze]=pt.qb,Ct=!0),!Ct)if(ve(he),pt.jc){rn=C;var Kt=ze,Bn=pt.pd[oe(_t=he)&qo-1];e(pt.jc),256>Bn.g?(le(_t,_t.u+Bn.g),rn[Kt]=Bn.value,_t=0):(le(_t,_t.u+Bn.g-256),e(256<=Bn.value),_t=Bn.value),0==_t&&(Ct=!0)}else _t=bs(pt.G[0],pt.H[0],he);if(he.h)break;if(Ct||256>_t){if(!Ct)if(pt.nd)C[ze]=(pt.qb|_t<<8)>>>0;else{if(ve(he),Ct=bs(pt.G[1],pt.H[1],he),ve(he),rn=bs(pt.G[2],pt.H[2],he),Kt=bs(pt.G[3],pt.H[3],he),he.h)break;C[ze]=(Kt<<24|Ct<<16|_t<<8|rn)>>>0}if(Ct=!1,++ze,++ie>=B&&(ie=0,++ee,null!=K&&ee<=W&&!(ee%16)&&K(p,ee),null!=De))for(;je<ze;)_t=C[je++],De.X[(506832829*_t&4294967295)>>>De.Mb]=_t}else if(280>_t){if(_t=wl(_t-256,he),rn=bs(pt.G[4],pt.H[4],he),ve(he),rn=ic(B,rn=wl(rn,he)),he.h)break;if(ze-T<rn||G-ze<_t)break e;for(Kt=0;Kt<_t;++Kt)C[ze+Kt]=C[ze+Kt-rn];for(ze+=_t,ie+=_t;ie>=B;)ie-=B,++ee,null!=K&&ee<=W&&!(ee%16)&&K(p,ee);if(e(ze<=G),ie&Ie&&(pt=hs(Me,ie,ee)),null!=De)for(;je<ze;)_t=C[je++],De.X[(506832829*_t&4294967295)>>>De.Mb]=_t}else{if(!(_t<yt))break e;for(Ct=_t-280,e(null!=De);je<ze;)_t=C[je++],De.X[(506832829*_t&4294967295)>>>De.Mb]=_t;_t=ze,e(!(Ct>>>(rn=De).Xa)),C[_t]=rn.X[Ct],Ct=!0}Ct||e(he.h==j(he))}if(p.Pb&&he.h&&ze<G)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Oe(p.s.vb,p.s.Wa);else{if(he.h)break e;K?.(p,ee>W?W:ee),p.a=0,p.$=ze-T}return 1}return p.a=3,0}function Uc(p){e(null!=p),p.vc=null,p.yc=null,p.Ya=null;var C=p.Wa;null!=C&&(C.X=null),p.vb=null,e(null!=p)}function Sl(){var p=new cU;return null==p?null:(p.a=0,p.xb=Kq,Nn("Predictor","VP8LPredictors"),Nn("Predictor","VP8LPredictors_C"),Nn("PredictorAdd","VP8LPredictorsAdd"),Nn("PredictorAdd","VP8LPredictorsAdd_C"),IM=Mt,Lg=mt,xl=Ge,$a=jt,Mf=Gt,zd=wn,jd=Ot,N.VP8LMapColor32b=uv,N.VP8LMapColor8b=RM,p)}function kc(p,C,T,B,G){var W=1,K=[p],ee=[C],ie=B.m,he=B.s,Me=null,ze=0;e:for(;;){if(T)for(;W&&Ce(ie,1);){var je=K,Pe=ee,yt=B,at=1,De=yt.m,Ie=yt.gc[yt.ab],pt=Ce(De,2);if(yt.Oc&1<<pt)W=0;else{switch(yt.Oc|=1<<pt,Ie.hc=pt,Ie.Ea=je[0],Ie.nc=Pe[0],Ie.K=[null],++yt.ab,e(4>=yt.ab),pt){case 0:case 1:Ie.b=Ce(De,3)+2,at=kc(tt(Ie.Ea,Ie.b),tt(Ie.nc,Ie.b),0,yt,Ie.K),Ie.K=Ie.K[0];break;case 3:var Ct,_t=Ce(De,8)+1,rn=16<_t?0:4<_t?1:2<_t?2:3;if(je[0]=tt(Ie.Ea,rn),Ie.b=rn,Ct=at=kc(_t,1,0,yt,Ie.K)){var Kt,Bn=_t,Yt=Ie,pr=1<<(8>>Yt.b),Cr=s(pr);if(null==Cr)Ct=0;else{var Xi=Yt.K[0],Ii=Yt.w;for(Cr[0]=Yt.K[0][0],Kt=1;Kt<1*Bn;++Kt)Cr[Kt]=it(Xi[Ii+Kt],Cr[Kt-1]);for(;Kt<4*pr;++Kt)Cr[Kt]=0;Yt.K[0]=null,Yt.K[0]=Cr,Ct=1}}at=Ct;break;case 2:break;default:e(0)}W=at}}if(K=K[0],ee=ee[0],W&&Ce(ie,1)&&!(W=1<=(ze=Ce(ie,4))&&11>=ze)){B.a=3;break e}var kr;if(kr=W)t:{var Ir,li,so,Tl=B,oo=K,Ml=ee,Sr=ze,oc=T,ac=Tl.m,Fo=Tl.s,Xo=[null],qa=1,Wc=0,Nh=hDe[Sr];n:for(;;){if(oc&&Ce(ac,1)){var Oo=Ce(ac,3)+2,qd=tt(oo,Oo),Qg=tt(Ml,Oo),pv=qd*Qg;if(!kc(qd,Qg,0,Tl,Xo))break n;for(Xo=Xo[0],Fo.xc=Oo,Ir=0;Ir<pv;++Ir){var Rf=Xo[Ir]>>8&65535;Xo[Ir]=Rf,Rf>=qa&&(qa=Rf+1)}}if(ac.h)break n;for(li=0;5>li;++li){var Es=Wq[li];!li&&0<Sr&&(Es+=1<<Sr),Wc<Es&&(Wc=Es)}var vU=o(qa*Nh,k),iX=qa,rX=o(iX,Y);if(null==rX)var jM=null;else e(65536>=iX),jM=rX;var Gb=s(Wc);if(null==jM||null==Gb||null==vU){Tl.a=1;break n}var WM=vU;for(Ir=so=0;Ir<qa;++Ir){var Vu=jM[Ir],gv=Vu.G,mv=Vu.H,sX=0,$M=1,oX=0;for(li=0;5>li;++li){Es=Wq[li],gv[li]=WM,mv[li]=so,!li&&0<Sr&&(Es+=1<<Sr);r:{var KM,yU=Es,qM=Tl,zb=Gb,NDe=WM,RDe=so,wU=0,Ff=qM.m,FDe=Ce(Ff,1);if(r(zb,0,0,yU),FDe){var ODe=Ce(Ff,1)+1,PDe=Ce(Ff,1),aX=Ce(Ff,0==PDe?1:8);zb[aX]=1,2==ODe&&(zb[aX=Ce(Ff,8)]=1);var XM=1}else{var lX=s(19),cX=Ce(Ff,4)+4;if(19<cX){qM.a=3;var YM=0;break r}for(KM=0;KM<cX;++KM)lX[cDe[KM]]=Ce(Ff,3);var bU=void 0,jb=void 0,uX=qM,LDe=lX,JM=yU,hX=zb,CU=0,Of=uX.m,dX=8,AX=o(128,k);i:for(;I(AX,0,7,LDe,19);){if(Ce(Of,1)){var UDe=2+2*Ce(Of,3);if((bU=2+Ce(Of,UDe))>JM)break i}else bU=JM;for(jb=0;jb<JM&&bU--;){ve(Of);var fX=AX[0+(127&oe(Of))];le(Of,Of.u+fX.g);var _v=fX.value;if(16>_v)hX[jb++]=_v,0!=_v&&(dX=_v);else{var kDe=16==_v,pX=_v-16,HDe=aDe[pX],gX=Ce(Of,oDe[pX])+HDe;if(jb+gX>JM)break i;for(var VDe=kDe?dX:0;0<gX--;)hX[jb++]=VDe}}CU=1;break i}CU||(uX.a=3),XM=CU}(XM=XM&&!Ff.h)&&(wU=I(NDe,RDe,8,zb,yU)),XM&&0!=wU?YM=wU:(qM.a=3,YM=0)}if(0==YM)break n;if($M&&1==lDe[li]&&($M=0==WM[so].g),sX+=WM[so].g,so+=YM,3>=li){var Wb,SU=Gb[0];for(Wb=1;Wb<Es;++Wb)Gb[Wb]>SU&&(SU=Gb[Wb]);oX+=SU}}if(Vu.nd=$M,Vu.Qb=0,$M&&(Vu.qb=(gv[3][mv[3]+0].value<<24|gv[1][mv[1]+0].value<<16|gv[2][mv[2]+0].value)>>>0,0==sX&&256>gv[0][mv[0]+0].value&&(Vu.Qb=1,Vu.qb+=gv[0][mv[0]+0].value<<8)),Vu.jc=!Vu.Qb&&6>oX,Vu.jc){var ZM,Xd=Vu;for(ZM=0;ZM<qo;++ZM){var Pf=ZM,Lf=Xd.pd[Pf],eD=Xd.G[0][Xd.H[0]+Pf];256<=eD.value?(Lf.g=eD.g+256,Lf.value=eD.value):(Lf.g=0,Lf.value=0,Pf>>=us(eD,8,Lf),Pf>>=us(Xd.G[1][Xd.H[1]+Pf],16,Lf),Pf>>=us(Xd.G[2][Xd.H[2]+Pf],0,Lf),us(Xd.G[3][Xd.H[3]+Pf],24,Lf))}}}Fo.vc=Xo,Fo.Wb=qa,Fo.Ya=jM,Fo.yc=vU,kr=1;break t}kr=0}if(!(W=kr)){B.a=3;break e}if(0<ze){if(he.ua=1<<ze,!se(he.Wa,ze)){B.a=1,W=0;break e}}else he.ua=0;var EU=B,mX=K,QDe=ee,xU=EU.s,TU=xU.xc;if(EU.c=mX,EU.i=QDe,xU.md=tt(mX,TU),xU.wc=0==TU?-1:(1<<TU)-1,T){B.xb=vDe;break e}if(null==(Me=s(K*ee))){B.a=1,W=0;break e}W=(W=Cl(B,Me,0,K,ee,ee,null))&&!ie.h;break e}return W?(null!=G?G[0]=Me:(e(null==Me),e(T)),B.$=0,T||Uc(he)):Uc(he),W}function Vd(p,C){var T=p.c*p.i,B=T+C+16*C;return e(p.c<=C),p.V=s(B),null==p.V?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+T+C,1)}function bf(p,C){var T=p.C,B=C-T,G=p.V,W=p.Ba+p.c*T;for(e(C<=p.l.o);0<B;){var K=16<B?16:B,ee=p.l.ma,ie=p.l.width,he=ie*K,Me=ee.ca,ze=ee.tb+ie*T,je=p.Ta,Pe=p.Ua;ga(p,K,G,W),Gs(je,Pe,Me,ze,he),ma(ee,T,T+K,Me,ze,ie),B-=K,G+=K*p.c,T+=K}e(T==C),p.C=p.Ma=C}function re(){this.ub=this.yd=this.td=this.Rb=0}function Fe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ye(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ze(){var p;this.Yb=(function C(T,B,G){for(var W=G[B],K=0;K<W&&(T.push(G.length>B+1?[]:0),!(G.length<B+1));K++)C(T[K],B+1,G)}(p=[],0,[3,11]),p)}function Ue(){this.jb=s(3),this.Wc=a([4,8],Ze),this.Xc=a([4,17],Ze)}function Bt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function zt(){this.ld=this.La=this.dd=this.tc=0}function on(){this.Na=this.la=0}function an(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Rn(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Gn(){this.uc=this.M=this.Nb=0,this.wa=Array(new zt),this.Y=0,this.ya=Array(new Rn),this.aa=0,this.l=new Di}function Cn(){this.y=s(16),this.f=s(8),this.ea=s(8)}function vi(){this.cb=this.a=0,this.sc="",this.m=new qe,this.Od=new re,this.Kc=new Fe,this.ed=new Bt,this.Qa=new Ye,this.Ic=this.$c=this.Aa=0,this.D=new Gn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,qe),this.ia=0,this.pb=o(4,an),this.Pa=new Ue,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Cn),this.Hd=0,this.rb=Array(new on),this.sb=0,this.wa=Array(new zt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Rn),this.L=this.aa=0,this.gd=a([4,2],zt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Di(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ur(){var p=new vi;return null!=p&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Vb||(Vb=Cs)),p}function Zn(p,C,T){return 0==p.a&&(p.a=C,p.sc=T,p.cb=0),0}function Ti(p,C,T){return 3<=T&&157==p[C+0]&&1==p[C+1]&&42==p[C+2]}function Sn(p,C){if(null==p)return 0;if(p.a=0,p.sc="OK",null==C)return Zn(p,2,"null VP8Io passed to VP8GetHeaders()");var T=C.data,B=C.w,G=C.ha;if(4>G)return Zn(p,7,"Truncated header.");var W=T[B+0]|T[B+1]<<8|T[B+2]<<16,K=p.Od;if(K.Rb=!(1&W),K.td=W>>1&7,K.yd=W>>4&1,K.ub=W>>5,3<K.td)return Zn(p,3,"Incorrect keyframe parameters.");if(!K.yd)return Zn(p,4,"Frame not displayable.");B+=3,G-=3;var ee=p.Kc;if(K.Rb){if(7>G)return Zn(p,7,"cannot parse picture header");if(!Ti(T,B,G))return Zn(p,3,"Bad code word");ee.c=16383&(T[B+4]<<8|T[B+3]),ee.Td=T[B+4]>>6,ee.i=16383&(T[B+6]<<8|T[B+5]),ee.Ud=T[B+6]>>6,B+=7,G-=7,p.za=ee.c+15>>4,p.Ub=ee.i+15>>4,C.width=ee.c,C.height=ee.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,r((W=p.Pa).jb,0,255,W.jb.length),e(null!=(W=p.Qa)),W.Cb=0,W.Bb=0,W.Fb=1,r(W.Zb,0,0,W.Zb.length),r(W.Lb,0,0,W.Lb)}if(K.ub>G)return Zn(p,7,"bad partition length");ge(W=p.m,T,B,K.ub),B+=K.ub,G-=K.ub,K.Rb&&(ee.Ld=be(W),ee.Kd=be(W)),ee=p.Qa;var ie,he=p.Pa;if(e(null!=W),e(null!=ee),ee.Cb=be(W),ee.Cb){if(ee.Bb=be(W),be(W)){for(ee.Fb=be(W),ie=0;4>ie;++ie)ee.Zb[ie]=be(W)?ue(W,7):0;for(ie=0;4>ie;++ie)ee.Lb[ie]=be(W)?ue(W,6):0}if(ee.Bb)for(ie=0;3>ie;++ie)he.jb[ie]=be(W)?Z(W,8):255}else ee.Bb=0;if(W.Ka)return Zn(p,3,"cannot parse segment header");if((ee=p.ed).zd=be(W),ee.Tb=Z(W,6),ee.wb=Z(W,3),ee.Pc=be(W),ee.Pc&&be(W)){for(he=0;4>he;++he)be(W)&&(ee.vd[he]=ue(W,6));for(he=0;4>he;++he)be(W)&&(ee.od[he]=ue(W,6))}if(p.L=0==ee.Tb?0:ee.zd?1:2,W.Ka)return Zn(p,3,"cannot parse filter header");var Me=G;if(G=ie=B,B=ie+Me,ee=Me,p.Xb=(1<<Z(p.m,2))-1,Me<3*(he=p.Xb))T=7;else{for(ie+=3*he,ee-=3*he,Me=0;Me<he;++Me){var ze=T[G+0]|T[G+1]<<8|T[G+2]<<16;ze>ee&&(ze=ee),ge(p.Jc[+Me],T,ie,ze),ie+=ze,ee-=ze,G+=3}ge(p.Jc[+he],T,ie,ee),T=ie<B?0:5}if(0!=T)return Zn(p,T,"cannot parse partitions");for(T=Z(ie=p.m,7),G=be(ie)?ue(ie,4):0,B=be(ie)?ue(ie,4):0,ee=be(ie)?ue(ie,4):0,he=be(ie)?ue(ie,4):0,ie=be(ie)?ue(ie,4):0,Me=p.Qa,ze=0;4>ze;++ze){if(Me.Cb){var je=Me.Zb[ze];Me.Fb||(je+=T)}else{if(0<ze){p.pb[ze]=p.pb[0];continue}je=T}var Pe=p.pb[ze];Pe.Sc[0]=gU[rc(je+G,127)],Pe.Sc[1]=mU[rc(je+0,127)],Pe.Eb[0]=2*gU[rc(je+B,127)],Pe.Eb[1]=101581*mU[rc(je+ee,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=gU[rc(je+he,117)],Pe.Qc[1]=mU[rc(je+ie,127)],Pe.lc=je+ie}if(!K.Rb)return Zn(p,4,"Not a key frame.");for(be(W),K=p.Pa,T=0;4>T;++T){for(G=0;8>G;++G)for(B=0;3>B;++B)for(ee=0;11>ee;++ee)he=Te(W,mDe[T][G][B][ee])?Z(W,8):pDe[T][G][B][ee],K.Wc[T][G].Yb[B][ee]=he;for(G=0;17>G;++G)K.Xc[T][G]=K.Wc[T][_De[G]]}return p.kc=be(W),p.kc&&(p.Bd=Z(W,8)),p.cb=1}function Cs(p,C,T,B,G,W,K){var ee=C[G].Yb[T];for(T=0;16>G;++G){if(!Te(p,ee[T+0]))return G;for(;!Te(p,ee[T+1]);)if(ee=C[++G].Yb[0],T=0,16==G)return 16;var ie=C[G+1].Yb;if(Te(p,ee[T+2])){var he=p,Me=0;if(Te(he,(je=ee)[(ze=T)+3]))if(Te(he,je[ze+6])){for(ee=0,ze=2*(Me=Te(he,je[ze+8]))+(je=Te(he,je[ze+9+Me])),Me=0,je=ADe[ze];je[ee];++ee)Me+=Me+Te(he,je[ee]);Me+=3+(8<<ze)}else Te(he,je[ze+7])?(Me=7+2*Te(he,165),Me+=Te(he,145)):Me=5+Te(he,159);else Me=Te(he,je[ze+4])?3+Te(he,je[ze+5]):2;ee=ie[2]}else Me=1,ee=ie[1];ie=K+fDe[G],0>(he=p).b&&me(he);var ze,je=he.b,Pe=(ze=he.Ca>>1)-(he.I>>je)>>31;--he.b,he.Ca+=Pe,he.Ca|=1,he.I-=(ze+1&Pe)<<je,W[ie]=((Me^Pe)-Pe)*B[(0<G)+0]}return 16}function Bi(p){var C=p.rb[p.sb-1];C.la=0,C.Na=0,r(p.zc,0,0,p.zc.length),p.ja=0}function Io(p,C,T,B,G){p[C+T+32*B]=-256&(G=p[C+T+32*B]+(G>>3))?0>G?0:255:G}function to(p,C,T,B,G,W){Io(p,C,0,T,B+G),Io(p,C,1,T,B+W),Io(p,C,2,T,B-W),Io(p,C,3,T,B-G)}function no(p){return(20091*p>>16)+p}function _r(p,C,T,B){var G,W=0,K=s(16);for(G=0;4>G;++G){var ee=p[C+0]+p[C+8],ie=p[C+0]-p[C+8],he=(35468*p[C+4]>>16)-no(p[C+12]),Me=no(p[C+4])+(35468*p[C+12]>>16);K[W+0]=ee+Me,K[W+1]=ie+he,K[W+2]=ie-he,K[W+3]=ee-Me,W+=4,C++}for(G=W=0;4>G;++G)ee=(p=K[W+0]+4)+K[W+8],ie=p-K[W+8],he=(35468*K[W+4]>>16)-no(K[W+12]),Io(T,B,0,0,ee+(Me=no(K[W+4])+(35468*K[W+12]>>16))),Io(T,B,1,0,ie+he),Io(T,B,2,0,ie-he),Io(T,B,3,0,ee-Me),W++,B+=32}function Ko(p,C,T,B){var G=p[C+0]+4,W=35468*p[C+4]>>16,K=no(p[C+4]),ee=35468*p[C+1]>>16;to(T,B,0,G+K,p=no(p[C+1]),ee),to(T,B,1,G+W,p,ee),to(T,B,2,G-W,p,ee),to(T,B,3,G-K,p,ee)}function _a(p,C,T,B,G){_r(p,C,T,B),G&&_r(p,C+16,T,B+4)}function io(p,C,T,B){Wd(p,C+0,T,B,1),Wd(p,C+32,T,B+128,1)}function No(p,C,T,B){var G;for(p=p[C+0]+4,G=0;4>G;++G)for(C=0;4>C;++C)Io(T,B,C,G,p)}function Cf(p,C,T,B){p[C+0]&&Ka(p,C+0,T,B),p[C+16]&&Ka(p,C+16,T,B+4),p[C+32]&&Ka(p,C+32,T,B+128),p[C+48]&&Ka(p,C+48,T,B+128+4)}function Lu(p,C,T,B){var G,W=s(16);for(G=0;4>G;++G){var K=p[C+0+G]+p[C+12+G],ee=p[C+4+G]+p[C+8+G],ie=p[C+4+G]-p[C+8+G],he=p[C+0+G]-p[C+12+G];W[0+G]=K+ee,W[8+G]=K-ee,W[4+G]=he+ie,W[12+G]=he-ie}for(G=0;4>G;++G)K=(p=W[0+4*G]+3)+W[3+4*G],ie=W[1+4*G]-W[2+4*G],he=p-W[3+4*G],T[B+0]=K+(ee=W[1+4*G]+W[2+4*G])>>3,T[B+16]=he+ie>>3,T[B+32]=K-ee>>3,T[B+48]=he-ie>>3,B+=64}function yb(p,C,T){var B,G=C-32,W=sc,K=255-p[G-1];for(B=0;B<T;++B){var ee,ie=W,he=K+p[C-1];for(ee=0;ee<T;++ee)p[C+ee]=ie[he+p[G+ee]];C+=32}}function X5(p,C){yb(p,C,4)}function Y5(p,C){yb(p,C,8)}function J5(p,C){yb(p,C,16)}function Qd(p,C){var T;for(T=0;16>T;++T)i(p,C+32*T,p,C-32,16)}function Y0(p,C){var T;for(T=16;0<T;--T)r(p,C,p[C-1],16),C+=32}function J0(p,C,T){var B;for(B=0;16>B;++B)r(C,T+32*B,p,16)}function yM(p,C){var T,B=16;for(T=0;16>T;++T)B+=p[C-1+32*T]+p[C+T-32];J0(B>>5,p,C)}function va(p,C){var T,B=8;for(T=0;16>T;++T)B+=p[C-1+32*T];J0(B>>4,p,C)}function Z5(p,C){var T,B=8;for(T=0;16>T;++T)B+=p[C+T-32];J0(B>>4,p,C)}function wM(p,C){J0(128,p,C)}function qn(p,C,T){return p+2*C+T+2>>2}function eU(p,C){var T,B=C-32;for(B=new Uint8Array([qn(p[B-1],p[B+0],p[B+1]),qn(p[B+0],p[B+1],p[B+2]),qn(p[B+1],p[B+2],p[B+3]),qn(p[B+2],p[B+3],p[B+4])]),T=0;4>T;++T)i(p,C+32*T,B,0,B.length)}function tU(p,C){var T=p[C-1],B=p[C-1+32],G=p[C-1+64],W=p[C-1+96];rt(p,C+0,16843009*qn(p[C-1-32],T,B)),rt(p,C+32,16843009*qn(T,B,G)),rt(p,C+64,16843009*qn(B,G,W)),rt(p,C+96,16843009*qn(G,W,W))}function Dh(p,C){var T,B=4;for(T=0;4>T;++T)B+=p[C+T-32]+p[C-1+32*T];for(B>>=3,T=0;4>T;++T)r(p,C+32*T,B,4)}function bM(p,C){var T=p[C-1+0],B=p[C-1+32],G=p[C-1+64],W=p[C-1-32],K=p[C+0-32],ee=p[C+1-32],ie=p[C+2-32],he=p[C+3-32];p[C+0+96]=qn(B,G,p[C-1+96]),p[C+1+96]=p[C+0+64]=qn(T,B,G),p[C+2+96]=p[C+1+64]=p[C+0+32]=qn(W,T,B),p[C+3+96]=p[C+2+64]=p[C+1+32]=p[C+0+0]=qn(K,W,T),p[C+3+64]=p[C+2+32]=p[C+1+0]=qn(ee,K,W),p[C+3+32]=p[C+2+0]=qn(ie,ee,K),p[C+3+0]=qn(he,ie,ee)}function CM(p,C){var T=p[C+1-32],B=p[C+2-32],G=p[C+3-32],W=p[C+4-32],K=p[C+5-32],ee=p[C+6-32],ie=p[C+7-32];p[C+0+0]=qn(p[C+0-32],T,B),p[C+1+0]=p[C+0+32]=qn(T,B,G),p[C+2+0]=p[C+1+32]=p[C+0+64]=qn(B,G,W),p[C+3+0]=p[C+2+32]=p[C+1+64]=p[C+0+96]=qn(G,W,K),p[C+3+32]=p[C+2+64]=p[C+1+96]=qn(W,K,ee),p[C+3+64]=p[C+2+96]=qn(K,ee,ie),p[C+3+96]=qn(ee,ie,ie)}function Z0(p,C){var T=p[C-1+0],B=p[C-1+32],G=p[C-1+64],W=p[C-1-32],K=p[C+0-32],ee=p[C+1-32],ie=p[C+2-32],he=p[C+3-32];p[C+0+0]=p[C+1+64]=W+K+1>>1,p[C+1+0]=p[C+2+64]=K+ee+1>>1,p[C+2+0]=p[C+3+64]=ee+ie+1>>1,p[C+3+0]=ie+he+1>>1,p[C+0+96]=qn(G,B,T),p[C+0+64]=qn(B,T,W),p[C+0+32]=p[C+1+96]=qn(T,W,K),p[C+1+32]=p[C+2+96]=qn(W,K,ee),p[C+2+32]=p[C+3+96]=qn(K,ee,ie),p[C+3+32]=qn(ee,ie,he)}function wb(p,C){var T=p[C+0-32],B=p[C+1-32],G=p[C+2-32],W=p[C+3-32],K=p[C+4-32],ee=p[C+5-32],ie=p[C+6-32],he=p[C+7-32];p[C+0+0]=T+B+1>>1,p[C+1+0]=p[C+0+64]=B+G+1>>1,p[C+2+0]=p[C+1+64]=G+W+1>>1,p[C+3+0]=p[C+2+64]=W+K+1>>1,p[C+0+32]=qn(T,B,G),p[C+1+32]=p[C+0+96]=qn(B,G,W),p[C+2+32]=p[C+1+96]=qn(G,W,K),p[C+3+32]=p[C+2+96]=qn(W,K,ee),p[C+3+64]=qn(K,ee,ie),p[C+3+96]=qn(ee,ie,he)}function nU(p,C){var T=p[C-1+0],B=p[C-1+32],G=p[C-1+64],W=p[C-1+96];p[C+0+0]=T+B+1>>1,p[C+2+0]=p[C+0+32]=B+G+1>>1,p[C+2+32]=p[C+0+64]=G+W+1>>1,p[C+1+0]=qn(T,B,G),p[C+3+0]=p[C+1+32]=qn(B,G,W),p[C+3+32]=p[C+1+64]=qn(G,W,W),p[C+3+64]=p[C+2+64]=p[C+0+96]=p[C+1+96]=p[C+2+96]=p[C+3+96]=W}function iU(p,C){var T=p[C-1+0],B=p[C-1+32],G=p[C-1+64],W=p[C-1+96],K=p[C-1-32],ee=p[C+0-32],ie=p[C+1-32],he=p[C+2-32];p[C+0+0]=p[C+2+32]=T+K+1>>1,p[C+0+32]=p[C+2+64]=B+T+1>>1,p[C+0+64]=p[C+2+96]=G+B+1>>1,p[C+0+96]=W+G+1>>1,p[C+3+0]=qn(ee,ie,he),p[C+2+0]=qn(K,ee,ie),p[C+1+0]=p[C+3+32]=qn(T,K,ee),p[C+1+32]=p[C+3+64]=qn(B,T,K),p[C+1+64]=p[C+3+96]=qn(G,B,T),p[C+1+96]=qn(W,G,B)}function rU(p,C){var T;for(T=0;8>T;++T)i(p,C+32*T,p,C-32,8)}function bb(p,C){var T;for(T=0;8>T;++T)r(p,C,p[C-1],8),C+=32}function Rg(p,C,T){var B;for(B=0;8>B;++B)r(C,T+32*B,p,8)}function Sf(p,C){var T,B=8;for(T=0;8>T;++T)B+=p[C+T-32]+p[C-1+32*T];Rg(B>>4,p,C)}function sU(p,C){var T,B=4;for(T=0;8>T;++T)B+=p[C+T-32];Rg(B>>3,p,C)}function Fg(p,C){var T,B=4;for(T=0;8>T;++T)B+=p[C-1+32*T];Rg(B>>3,p,C)}function Cb(p,C){Rg(128,p,C)}function ev(p,C,T){var B=p[C-T],G=p[C+0],W=3*(G-B)+hU[1020+p[C-2*T]-p[C+T]],K=PM[112+(W+4>>3)];p[C-T]=sc[255+B+PM[112+(W+3>>3)]],p[C+0]=sc[255+G-K]}function SM(p,C,T,B){return zc[255+p[C-2*T]-p[C-T]]>B||zc[255+p[C+T]-p[C+0]]>B}function EM(p,C,T,B){return 4*zc[255+p[C-T]-p[C+0]]+zc[255+p[C-2*T]-p[C+T]]<=B}function xM(p,C,T,B,G){var W=p[C-3*T],K=p[C-2*T],ee=p[C-T],ie=p[C+0],he=p[C+T],Me=p[C+2*T];return 4*zc[255+ee-ie]+zc[255+K-he]>B?0:zc[255+p[C-4*T]-W]<=G&&zc[255+W-K]<=G&&zc[255+K-ee]<=G&&zc[255+p[C+3*T]-Me]<=G&&zc[255+Me-he]<=G&&zc[255+he-ie]<=G}function TM(p,C,T,B){var G=2*B+1;for(B=0;16>B;++B)EM(p,C+B,T,G)&&ev(p,C+B,T)}function Bh(p,C,T,B){var G=2*B+1;for(B=0;16>B;++B)EM(p,C+B*T,1,G)&&ev(p,C+B*T,1)}function Gd(p,C,T,B){var G;for(G=3;0<G;--G)TM(p,C+=4*T,T,B)}function oU(p,C,T,B){var G;for(G=3;0<G;--G)Bh(p,C+=4,T,B)}function Ef(p,C,T,B,G,W,K,ee){for(W=2*W+1;0<G--;){if(xM(p,C,T,W,K))if(SM(p,C,T,ee))ev(p,C,T);else{var ie=p,he=C,Me=T,ze=ie[he-2*Me],je=ie[he-Me],Pe=ie[he+0],yt=ie[he+Me],at=ie[he+2*Me],De=27*(pt=hU[1020+3*(Pe-je)+hU[1020+ze-yt]])+63>>7,Ie=18*pt+63>>7,pt=9*pt+63>>7;ie[he-3*Me]=sc[255+ie[he-3*Me]+pt],ie[he-2*Me]=sc[255+ze+Ie],ie[he-Me]=sc[255+je+De],ie[he+0]=sc[255+Pe-De],ie[he+Me]=sc[255+yt-Ie],ie[he+2*Me]=sc[255+at-pt]}C+=B}}function Uu(p,C,T,B,G,W,K,ee){for(W=2*W+1;0<G--;){if(xM(p,C,T,W,K))if(SM(p,C,T,ee))ev(p,C,T);else{var ie=p,he=C,Me=T,ze=ie[he-Me],je=ie[he+0],Pe=ie[he+Me],yt=PM[112+(4+(at=3*(je-ze))>>3)],at=PM[112+(at+3>>3)],De=yt+1>>1;ie[he-2*Me]=sc[255+ie[he-2*Me]+De],ie[he-Me]=sc[255+ze+at],ie[he+0]=sc[255+je-yt],ie[he+Me]=sc[255+Pe-De]}C+=B}}function Sb(p,C,T,B,G,W){Ef(p,C,T,1,16,B,G,W)}function Og(p,C,T,B,G,W){Ef(p,C,1,T,16,B,G,W)}function aU(p,C,T,B,G,W){var K;for(K=3;0<K;--K)Uu(p,C+=4*T,T,1,16,B,G,W)}function tv(p,C,T,B,G,W){var K;for(K=3;0<K;--K)Uu(p,C+=4,1,T,16,B,G,W)}function lU(p,C,T,B,G,W,K,ee){Ef(p,C,G,1,8,W,K,ee),Ef(T,B,G,1,8,W,K,ee)}function Eb(p,C,T,B,G,W,K,ee){Ef(p,C,1,G,8,W,K,ee),Ef(T,B,1,G,8,W,K,ee)}function xb(p,C,T,B,G,W,K,ee){Uu(p,C+4*G,G,1,8,W,K,ee),Uu(T,B+4*G,G,1,8,W,K,ee)}function MM(p,C,T,B,G,W,K,ee){Uu(p,C+4,1,G,8,W,K,ee),Uu(T,B+4,1,G,8,W,K,ee)}function nv(){this.ba=new ot,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Nt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Tb(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mb(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function DM(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new k}function cU(){this.xb=this.a=0,this.l=new Di,this.ca=new ot,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new DM,this.ab=0,this.gc=o(4,Mb),this.Oc=0}function iv(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Di,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Pg(p,C,T,B,G,W,K){for(p=null==p?0:p[C+0],C=0;C<K;++C)G[W+C]=p+T[B+C]&255,p=G[W+C]}function Db(p,C,T,B,G,W,K){var ee;if(null==p)Pg(null,null,T,B,G,W,K);else for(ee=0;ee<K;++ee)G[W+ee]=p[C+ee]+T[B+ee]&255}function xf(p,C,T,B,G,W,K){if(null==p)Pg(null,null,T,B,G,W,K);else{var ee,ie=p[C+0],he=ie,Me=ie;for(ee=0;ee<K;++ee)he=Me+(ie=p[C+ee])-he,Me=T[B+ee]+(-256&he?0>he?0:255:he)&255,he=ie,G[W+ee]=Me}}function Bb(p,C,T,B){var G=C.width,W=C.o;if(e(null!=p&&null!=C),0>T||0>=B||T+B>W)return null;if(!p.Cc){if(null==p.ga){var K;if(p.ga=new iv,(K=null==p.ga)||(K=C.width*C.o,e(0==p.Gb.length),p.Gb=s(K),p.Uc=0,null==p.Gb?K=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,K=1),K=!K),!K){var ee=p.Fa,ie=p.P,he=p.qc,Me=p.mb,ze=p.nb,je=ie+1,Pe=he-1,yt=(K=p.ga).l;if(e(null!=ee&&null!=Me&&null!=C),Nf[0]=null,Nf[1]=Pg,Nf[2]=Db,Nf[3]=xf,K.ca=Me,K.tb=ze,K.c=C.width,K.i=C.height,e(0<K.c&&0<K.i),1>=he)C=0;else if(K.$a=3&ee[ie+0],K.Z=ee[ie+0]>>2&3,K.Lc=ee[ie+0]>>4&3,ie=ee[ie+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||ie)C=0;else if(yt.put=pi,yt.ac=Hi,yt.bc=ws,yt.ma=K,yt.width=C.width,yt.height=C.height,yt.Da=C.Da,yt.v=C.v,yt.va=C.va,yt.j=C.j,yt.o=C.o,K.$a)e:{e(1==K.$a),C=Sl();t:for(;;){if(null==C){C=0;break e}if(e(null!=K),K.mc=C,C.c=K.c,C.i=K.i,C.l=K.l,C.l.ma=K,C.l.width=K.c,C.l.height=K.i,C.a=0,te(C.m,ee,je,Pe),!kc(K.c,K.i,1,C,null)||(1==C.ab&&3==C.gc[0].hc&&Lc(C.s)?(K.ic=1,ee=C.c*C.i,C.Ta=null,C.Ua=0,C.V=s(ee),C.Ba=0,null==C.V?(C.a=1,C=0):C=1):(K.ic=0,C=Vd(C,K.c)),!C))break t;C=1;break e}K.mc=null,C=0}else C=Pe>=K.c*K.i;K=!C}if(K)return null;1!=p.ga.Lc?p.Ga=0:B=W-T}e(null!=p.ga),e(T+B<=W);e:{if(C=(ee=p.ga).c,W=ee.l.o,0==ee.$a){if(je=p.rc,Pe=p.Vc,yt=p.Fa,he=p.mb,Me=p.nb+T*C,e((ie=p.P+1+T*C)<=p.P+p.qc),0!=ee.Z)for(e(null!=Nf[ee.Z]),K=0;K<B;++K)Nf[ee.Z](je,Pe,yt,ie,he,Me,C),je=he,Pe=Me,Me+=C,ie+=C;else for(K=0;K<B;++K)i(he,Me,yt,ie,C),je=he,Pe=Me,Me+=C,ie+=C;p.rc=je,p.Vc=Pe}else{if(e(null!=ee.mc),C=T+B,e(null!=(K=ee.mc)),e(C<=K.i),K.C>=C)C=1;else if(ee.ic||ke(),ee.ic){ee=K.V,je=K.Ba;var at=K.i,De=(yt=1,ie=K.$/(Pe=K.c),he=K.$%Pe,Me=K.m,ze=K.s,K.$),Ie=Pe*at,pt=Pe*C,Ct=ze.wc,_t=De<pt?hs(ze,he,ie):null;e(De<=Ie),e(C<=at),e(Lc(ze));t:for(;;){for(;!Me.h&&De<pt;){if(he&Ct||(_t=hs(ze,he,ie)),e(null!=_t),ve(Me),256>(at=bs(_t.G[0],_t.H[0],Me)))ee[je+De]=at,++De,++he>=Pe&&(he=0,++ie<=C&&!(ie%16)&&bl(K,ie));else{if(!(280>at)){yt=0;break t}at=wl(at-256,Me);var rn,Kt=bs(_t.G[4],_t.H[4],Me);if(ve(Me),!(De>=(Kt=ic(Pe,Kt=wl(Kt,Me)))&&Ie-De>=at)){yt=0;break t}for(rn=0;rn<at;++rn)ee[je+De+rn]=ee[je+De+rn-Kt];for(De+=at,he+=at;he>=Pe;)he-=Pe,++ie<=C&&!(ie%16)&&bl(K,ie);De<pt&&he&Ct&&(_t=hs(ze,he,ie))}e(Me.h==j(Me))}bl(K,ie>C?C:ie);break t}!yt||Me.h&&De<Ie?(yt=0,K.a=Me.h?5:3):K.$=De,C=yt}else C=Cl(K,K.V,K.Ba,K.c,K.i,C,bf);if(!C){B=0;break e}}T+B>=W&&(p.Cc=1),B=1}if(!B)return null;if(p.Cc&&(null!=(B=p.ga)&&(B.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+T*G}function E(p,C,T,B,G,W){for(;0<G--;){var K,ee=p,ie=C+(T?1:0),he=p,Me=C+(T?0:3);for(K=0;K<B;++K){var ze=he[Me+4*K];255!=ze&&(ee[ie+4*K+0]=ee[ie+4*K+0]*(ze*=32897)>>23,ee[ie+4*K+1]=ee[ie+4*K+1]*ze>>23,ee[ie+4*K+2]=ee[ie+4*K+2]*ze>>23)}C+=W}}function z(p,C,T,B,G){for(;0<B--;){var W;for(W=0;W<T;++W){var K=p[C+2*W+0],ee=15&(he=p[C+2*W+1]),ie=4369*ee,he=(240&he|he>>4)*ie>>16;p[C+2*W+0]=(240&K|K>>4)*ie>>16&240|(15&K|K<<4)*ie>>16>>4&15,p[C+2*W+1]=240&he|ee}C+=G}}function pe(p,C,T,B,G,W,K,ee){var ie,he,Me=255;for(he=0;he<G;++he){for(ie=0;ie<B;++ie){var ze=p[C+ie];W[K+4*ie]=ze,Me&=ze}C+=T,K+=ee}return 255!=Me}function Ee(p,C,T,B,G){var W;for(W=0;W<G;++W)T[B+W]=p[C+W]>>8}function ke(){Gc=E,jr=z,Wr=pe,Gs=Ee}function ht(p,C,T){N[p]=function(B,G,W,K,ee,ie,he,Me,ze,je,Pe,yt,at,De,Ie,pt,Ct){var _t,rn=Ct-1>>1,Kt=ee[ie+0]|he[Me+0]<<16,Bn=ze[je+0]|Pe[yt+0]<<16;e(null!=B);var Yt=3*Kt+Bn+131074>>2;for(C(B[G+0],255&Yt,Yt>>16,at,De),null!=W&&C(W[K+0],255&(Yt=3*Bn+Kt+131074>>2),Yt>>16,Ie,pt),_t=1;_t<=rn;++_t){var pr=ee[ie+_t]|he[Me+_t]<<16,Cr=ze[je+_t]|Pe[yt+_t]<<16,Xi=Kt+pr+Bn+Cr+524296,Ii=Xi+2*(pr+Bn)>>3;Yt=Ii+Kt>>1,Kt=(Xi=Xi+2*(Kt+Cr)>>3)+pr>>1,C(B[G+2*_t-1],255&Yt,Yt>>16,at,De+(2*_t-1)*T),C(B[G+2*_t-0],255&Kt,Kt>>16,at,De+(2*_t-0)*T),null!=W&&(Kt=Ii+Cr>>1,C(W[K+2*_t-1],255&(Yt=Xi+Bn>>1),Yt>>16,Ie,pt+(2*_t-1)*T),C(W[K+2*_t+0],255&Kt,Kt>>16,Ie,pt+(2*_t+0)*T)),Kt=pr,Bn=Cr}1&Ct||(C(B[G+Ct-1],255&(Yt=3*Kt+Bn+131074>>2),Yt>>16,at,De+(Ct-1)*T),null!=W&&C(W[K+Ct-1],255&(Yt=3*Bn+Kt+131074>>2),Yt>>16,Ie,pt+(Ct-1)*T))}}function Tt(){jc[LM]=yDe,jc[UM]=qq,jc[zq]=wDe,jc[kM]=Xq,jc[HM]=Yq,jc[dU]=Jq,jc[jq]=bDe,jc[AU]=qq,jc[fU]=Xq,jc[VM]=Yq,jc[pU]=Jq}function nn(p){return p&~CDe?0>p?0:255:p>>Zq}function En(p,C){return nn((19077*p>>8)+(26149*C>>8)-14234)}function ni(p,C,T){return nn((19077*p>>8)-(6419*C>>8)-(13320*T>>8)+8708)}function ei(p,C){return nn((19077*p>>8)+(33050*C>>8)-17685)}function Vi(p,C,T,B,G){B[G+0]=En(p,T),B[G+1]=ni(p,C,T),B[G+2]=ei(p,C)}function ds(p,C,T,B,G){B[G+0]=ei(p,C),B[G+1]=ni(p,C,T),B[G+2]=En(p,T)}function Ss(p,C,T,B,G){var W=ni(p,C,T);C=W<<3&224|ei(p,C)>>3,B[G+0]=248&En(p,T)|W>>5,B[G+1]=C}function ro(p,C,T,B,G){var W=240&ei(p,C)|15;B[G+0]=240&En(p,T)|ni(p,C,T)>>4,B[G+1]=W}function ya(p,C,T,B,G){B[G+0]=255,Vi(p,C,T,B,G+1)}function Ro(p,C,T,B,G){ds(p,C,T,B,G),B[G+3]=255}function ku(p,C,T,B,G){Vi(p,C,T,B,G),B[G+3]=255}function rc(p,C){return 0>p?0:p>C?C:p}function Ih(p,C,T){N[p]=function(B,G,W,K,ee,ie,he,Me,ze){for(var je=Me+(-2&ze)*T;Me!=je;)C(B[G+0],W[K+0],ee[ie+0],he,Me),C(B[G+1],W[K+0],ee[ie+0],he,Me+T),G+=2,++K,++ie,Me+=2*T;1&ze&&C(B[G+0],W[K+0],ee[ie+0],he,Me)}}function BM(p,C,T){return 0==T?0==p?0==C?6:5:0==C?4:0:T}function Ib(p,C,T,B,G){switch(p>>>30){case 3:Wd(C,T,B,G,0);break;case 2:Qs(C,T,B,G);break;case 1:Ka(C,T,B,G)}}function Nb(p,C){var T,B,G=C.M,W=C.Nb,K=p.oc,ee=p.pc+40,ie=p.oc,he=p.pc+584,Me=p.oc,ze=p.pc+600;for(T=0;16>T;++T)K[ee+32*T-1]=129;for(T=0;8>T;++T)ie[he+32*T-1]=129,Me[ze+32*T-1]=129;for(0<G?K[ee-1-32]=ie[he-1-32]=Me[ze-1-32]=129:(r(K,ee-32-1,127,21),r(ie,he-32-1,127,9),r(Me,ze-32-1,127,9)),B=0;B<p.za;++B){var je=C.ya[C.aa+B];if(0<B){for(T=-1;16>T;++T)i(K,ee+32*T-4,K,ee+32*T+12,4);for(T=-1;8>T;++T)i(ie,he+32*T-4,ie,he+32*T+4,4),i(Me,ze+32*T-4,Me,ze+32*T+4,4)}var Pe=p.Gd,yt=p.Hd+B,at=je.ad,De=je.Hc;if(0<G&&(i(K,ee-32,Pe[yt].y,0,16),i(ie,he-32,Pe[yt].f,0,8),i(Me,ze-32,Pe[yt].ea,0,8)),je.Za){var Ie=K,pt=ee-32+16;for(0<G&&(B>=p.za-1?r(Ie,pt,Pe[yt].y[15],4):i(Ie,pt,Pe[yt+1].y,0,4)),T=0;4>T;T++)Ie[pt+128+T]=Ie[pt+256+T]=Ie[pt+384+T]=Ie[pt+0+T];for(T=0;16>T;++T,De<<=2)Hu[je.Ob[T]](Ie=K,pt=ee+tX[T]),Ib(De,at,16*+T,Ie,pt)}else if(Ie=BM(B,G,je.Ob[0]),If[Ie](K,ee),0!=De)for(T=0;16>T;++T,De<<=2)Ib(De,at,16*+T,K,ee+tX[T]);for(T=je.Gc,Ie=BM(B,G,je.Dd),Kd[Ie](ie,he),Kd[Ie](Me,ze),De=at,Ie=ie,pt=he,255&(je=0|T)&&(170&je?Lb(De,256,Ie,pt):Vc(De,256,Ie,pt)),je=Me,De=ze,255&(T>>=8)&&(170&T?Lb(at,320,je,De):Vc(at,320,je,De)),G<p.Ub-1&&(i(Pe[yt].y,0,K,ee+480,16),i(Pe[yt].f,0,ie,he+224,8),i(Pe[yt].ea,0,Me,ze+224,8)),Pe=p.sa,yt=p.ta+16*B+16*W*p.R,at=p.qa,je=p.ra+8*B+(T=8*W*p.B),De=p.Ha,Ie=p.Ia+8*B+T,T=0;16>T;++T)i(Pe,yt+T*p.R,K,ee+32*T,16);for(T=0;8>T;++T)i(at,je+T*p.B,ie,he+32*T,8),i(De,Ie+T*p.B,Me,ze+32*T,8)}}function rv(p,C,T,B,G,W,K,ee,ie){var he=[0],Me=[0],ze=0,je=null!=ie?ie.kd:0,Pe=ie??new Tb;if(null==p||12>T)return 7;Pe.data=p,Pe.w=C,Pe.ha=T,C=[C],T=[T],Pe.gb=[Pe.gb];e:{var yt=C,at=T,De=Pe.gb;if(e(null!=p),e(null!=at),e(null!=De),De[0]=0,12<=at[0]&&!t(p,yt[0],"RIFF")){if(t(p,yt[0]+8,"WEBP")){De=3;break e}var Ie=Ve(p,yt[0]+4);if(12>Ie||4294967286<Ie){De=3;break e}if(je&&Ie>at[0]-8){De=7;break e}De[0]=Ie,yt[0]+=12,at[0]-=12}De=0}if(0!=De)return De;for(Ie=0<Pe.gb[0],T=T[0];;){e:{var pt=p;at=C,De=T;var Ct=he,_t=Me,rn=yt=[0];if((Yt=ze=[ze])[0]=0,8>De[0])De=7;else{if(!t(pt,at[0],"VP8X")){if(10!=Ve(pt,at[0]+4)){De=3;break e}if(18>De[0]){De=7;break e}var Kt=Ve(pt,at[0]+8),Bn=1+Le(pt,at[0]+12);if(2147483648<=Bn*(pt=1+Le(pt,at[0]+15))){De=3;break e}null!=rn&&(rn[0]=Kt),null!=Ct&&(Ct[0]=Bn),null!=_t&&(_t[0]=pt),at[0]+=18,De[0]-=18,Yt[0]=1}De=0}}if(ze=ze[0],0!=De)return De;if(at=!!(2&(yt=yt[0])),!Ie&&ze)return 3;if(null!=W&&(W[0]=!!(16&yt)),null!=K&&(K[0]=at),null!=ee&&(ee[0]=0),K=he[0],yt=Me[0],ze&&at&&null==ie){De=0;break}if(4>T){De=7;break}if(Ie&&ze||!Ie&&!ze&&!t(p,C[0],"ALPH")){T=[T],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{De=C,Ie=T;var Yt=Pe.gb;Ct=Pe.na,_t=Pe.P,rn=Pe.Sa,Bn=22,e(null!=(Kt=p)),e(null!=Ie),pt=De[0];var pr=Ie[0];for(e(null!=Ct),e(null!=rn),Ct[0]=null,_t[0]=null,rn[0]=0;;){if(De[0]=pt,Ie[0]=pr,8>pr){De=7;break e}var Cr=Ve(Kt,pt+4);if(4294967286<Cr){De=3;break e}var Xi=8+Cr+1&-2;if(Bn+=Xi,0<Yt&&Bn>Yt){De=3;break e}if(!t(Kt,pt,"VP8 ")||!t(Kt,pt,"VP8L")){De=0;break e}if(pr[0]<Xi){De=7;break e}t(Kt,pt,"ALPH")||(Ct[0]=Kt,_t[0]=pt+8,rn[0]=Cr),pt+=Xi,pr-=Xi}}if(T=T[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],0!=De)break}T=[T],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(Yt=p,De=C,Ie=T,Ct=Pe.gb[0],_t=Pe.Ja,rn=Pe.xa,Kt=De[0],pt=!t(Yt,Kt,"VP8 "),Bn=!t(Yt,Kt,"VP8L"),e(null!=Yt),e(null!=Ie),e(null!=_t),e(null!=rn),8>Ie[0])De=7;else{if(pt||Bn){if(Yt=Ve(Yt,Kt+4),12<=Ct&&Yt>Ct-12){De=3;break e}if(je&&Yt>Ie[0]-8){De=7;break e}_t[0]=Yt,De[0]+=8,Ie[0]-=8,rn[0]=Bn}else rn[0]=5<=Ie[0]&&47==Yt[Kt+0]&&!(Yt[Kt+4]>>5),_t[0]=Ie[0];De=0}if(T=T[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],C=C[0],0!=De)break;if(4294967286<Pe.Ja)return 3;if(null==ee||at||(ee[0]=Pe.xa?2:1),K=[K],yt=[yt],Pe.xa){if(5>T){De=7;break}ee=K,je=yt,at=W,null==p||5>T?p=0:5<=T&&47==p[C+0]&&!(p[C+4]>>5)?(Ie=[0],Yt=[0],Ct=[0],te(_t=new V,p,C,T),gn(_t,Ie,Yt,Ct)?(null!=ee&&(ee[0]=Ie[0]),null!=je&&(je[0]=Yt[0]),null!=at&&(at[0]=Ct[0]),p=1):p=0):p=0}else{if(10>T){De=7;break}ee=yt,null==p||10>T||!Ti(p,C+3,T-3)?p=0:(je=p[C+0]|p[C+1]<<8|p[C+2]<<16,at=16383&(p[C+7]<<8|p[C+6]),p=16383&(p[C+9]<<8|p[C+8]),1&je||3<(je>>1&7)||!(je>>4&1)||je>>5>=Pe.Ja||!at||!p?p=0:(K&&(K[0]=at),ee&&(ee[0]=p),p=1))}if(!p||(K=K[0],yt=yt[0],ze&&(he[0]!=K||Me[0]!=yt)))return 3;null!=ie&&(ie[0]=Pe,ie.offset=C-ie.w,e(4294967286>C-ie.w),e(ie.offset==ie.ha-T));break}return 0==De||7==De&&ze&&null==ie?(null!=W&&(W[0]|=null!=Pe.na&&0<Pe.na.length),null!=B&&(B[0]=K),null!=G&&(G[0]=yt),0):De}function Rb(p,C,T){var B=C.width,G=C.height,W=0,K=0,ee=B,ie=G;if(C.Da=null!=p&&0<p.Da,C.Da&&(ee=p.cd,ie=p.bd,W=p.v,K=p.j,11>T||(W&=-2,K&=-2),0>W||0>K||0>=ee||0>=ie||W+ee>B||K+ie>G))return 0;if(C.v=W,C.j=K,C.va=W+ee,C.o=K+ie,C.U=ee,C.T=ie,C.da=null!=p&&0<p.da,C.da){if(!wt(ee,ie,T=[p.ib],W=[p.hb]))return 0;C.ib=T[0],C.hb=W[0]}return C.ob=null!=p&&p.ob,C.Kb=null==p||!p.Sd,C.da&&(C.ob=C.ib<3*B/4&&C.hb<3*G/4,C.Kb=0),1}function Fb(p){if(null==p)return 2;if(11>p.S){var C=p.f.RGBA;C.fb+=(p.height-1)*C.A,C.A=-C.A}else(C=p.f.kb).O+=((p=p.height)-1)*C.fa,C.fa=-C.fa,C.N+=(p-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(p-1>>1)*C.Db,C.Db=-C.Db,null!=C.F&&(C.J+=(p-1)*C.lb,C.lb=-C.lb);return 0}function sv(p,C,T,B){if(null==B||0>=p||0>=C)return 2;if(null!=T){if(T.Da){var G=T.cd,W=T.bd,K=-2&T.v,ee=-2&T.j;if(0>K||0>ee||0>=G||0>=W||K+G>p||ee+W>C)return 2;p=G,C=W}if(T.da){if(!wt(p,C,G=[T.ib],W=[T.hb]))return 2;p=G[0],C=W[0]}}B.width=p,B.height=C;e:{var ie=B.width,he=B.height;if(p=B.S,0>=ie||0>=he||!(p>=LM&&13>p))p=2;else{if(0>=B.Rd&&null==B.sd){K=W=G=C=0;var Me=(ee=ie*nX[p])*he;if(11>p||(W=(he+1)/2*(C=(ie+1)/2),12==p&&(K=(G=ie)*he)),null==(he=s(Me+2*W+K))){p=1;break e}B.sd=he,11>p?((ie=B.f.RGBA).eb=he,ie.fb=0,ie.A=ee,ie.size=Me):((ie=B.f.kb).y=he,ie.O=0,ie.fa=ee,ie.Fd=Me,ie.f=he,ie.N=0+Me,ie.Ab=C,ie.Cd=W,ie.ea=he,ie.W=0+Me+W,ie.Db=C,ie.Ed=W,12==p&&(ie.F=he,ie.J=0+Me+2*W),ie.Tc=K,ie.lb=G)}if(C=1,W=B.width,K=B.height,(G=B.S)>=LM&&13>G)if(11>G)p=B.f.RGBA,C&=(ee=Math.abs(p.A))*(K-1)+W<=p.size,C&=ee>=W*nX[G],C&=null!=p.eb;else{p=B.f.kb,ee=(W+1)/2,Me=(K+1)/2,ie=Math.abs(p.fa),he=Math.abs(p.Ab);var ze=Math.abs(p.Db),je=Math.abs(p.lb);C&=ie*(K-1)+W<=p.Fd,C&=he*(Me-1)+ee<=p.Cd,C=(C&=ze*(Me-1)+ee<=p.Ed)&ie>=W&he>=ee&ze>=ee,C&=null!=p.y,C&=null!=p.f,C&=null!=p.ea,12==G&&(C&=je>=W,C&=je*(K-1)+W<=p.Tc,C&=null!=p.F)}else C=0;p=C?0:2}}return 0!=p||null!=T&&T.fd&&(p=Fb(B)),p}var qo=64,ov=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],av=24,lv=32,Ob=8,El=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(p){return p},N.Predictor2=function(p,C,T){return C[T+0]},N.Predictor3=function(p,C,T){return C[T+1]},N.Predictor4=function(p,C,T){return C[T-1]},N.Predictor5=function(p,C,T){return Q(Q(p,C[T+1]),C[T+0])},N.Predictor6=function(p,C,T){return Q(p,C[T-1])},N.Predictor7=function(p,C,T){return Q(p,C[T+0])},N.Predictor8=function(p,C,T){return Q(C[T-1],C[T+0])},N.Predictor9=function(p,C,T){return Q(C[T+0],C[T+1])},N.Predictor10=function(p,C,T){return Q(Q(p,C[T-1]),Q(C[T+0],C[T+1]))},N.Predictor11=function(p,C,T){var B=C[T+0];return 0>=nt(B>>24&255,p>>24&255,(C=C[T-1])>>24&255)+nt(B>>16&255,p>>16&255,C>>16&255)+nt(B>>8&255,p>>8&255,C>>8&255)+nt(255&B,255&p,255&C)?B:p},N.Predictor12=function(p,C,T){var B=C[T+0];return(Se((p>>24&255)+(B>>24&255)-((C=C[T-1])>>24&255))<<24|Se((p>>16&255)+(B>>16&255)-(C>>16&255))<<16|Se((p>>8&255)+(B>>8&255)-(C>>8&255))<<8|Se((255&p)+(255&B)-(255&C)))>>>0},N.Predictor13=function(p,C,T){var B=C[T-1];return(Qe((p=Q(p,C[T+0]))>>24&255,B>>24&255)<<24|Qe(p>>16&255,B>>16&255)<<16|Qe(p>>8&255,B>>8&255)<<8|Qe(255&p,255&B))>>>0};var uU=N.PredictorAdd0;N.PredictorAdd1=$e,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var Pb=N.PredictorAdd2;en("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),en("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var IM,Hc=N.ColorIndexInverseTransform,uv=N.MapARGB,NM=N.VP8LColorIndexInverseTransformAlpha,RM=N.MapAlpha,Tf=N.VP8LPredictorsAdd=[];Tf.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var Lg,xl,$a,Mf,zd,jd,hv,Wd,Qs,Lb,Ka,Vc,dv,FM,Ub,Ug,kg,Df,Hg,Av,Vg,Bf,kb,Qc,Gc,jr,Wr,Gs,mo=s(511),$d=s(2041),Hb=s(225),fv=s(767),OM=0,hU=$d,PM=Hb,sc=fv,zc=mo,LM=0,UM=1,zq=2,kM=3,HM=4,dU=5,jq=6,AU=7,fU=8,VM=9,pU=10,oDe=[2,3,7],aDe=[3,3,11],Wq=[280,256,256,256,40],lDe=[0,1,1,1,0],cDe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uDe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hDe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],dDe=8,gU=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],mU=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vb=null,ADe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],fDe=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$q=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],pDe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],gDe=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mDe=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_De=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],If=[],Hu=[],Kd=[],vDe=1,Kq=2,Nf=[],jc=[];ht("UpsampleRgbLinePair",Vi,3),ht("UpsampleBgrLinePair",ds,3),ht("UpsampleRgbaLinePair",ku,4),ht("UpsampleBgraLinePair",Ro,4),ht("UpsampleArgbLinePair",ya,4),ht("UpsampleRgba4444LinePair",ro,2),ht("UpsampleRgb565LinePair",Ss,2);var yDe=N.UpsampleRgbLinePair,wDe=N.UpsampleBgrLinePair,qq=N.UpsampleRgbaLinePair,Xq=N.UpsampleBgraLinePair,Yq=N.UpsampleArgbLinePair,Jq=N.UpsampleRgba4444LinePair,bDe=N.UpsampleRgb565LinePair,QM=16,GM=1<<QM-1,Qb=-227,_U=482,Zq=6,CDe=(256<<Zq)-1,eX=0,SDe=s(256),EDe=s(256),xDe=s(256),TDe=s(256),MDe=s(_U-Qb),DDe=s(_U-Qb);Ih("YuvToRgbRow",Vi,3),Ih("YuvToBgrRow",ds,3),Ih("YuvToRgbaRow",ku,4),Ih("YuvToBgraRow",Ro,4),Ih("YuvToArgbRow",ya,4),Ih("YuvToRgba4444Row",ro,2),Ih("YuvToRgb565Row",Ss,2);var tX=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zM=[0,2,8],BDe=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(p,C,T,B,G){var W=UM,K=new nv,ee=new ot;K.ba=ee,ee.S=W,ee.width=[ee.width],ee.height=[ee.height];var ie=ee.width,he=ee.height,Me=new ft;if(null==Me||null==p)var ze=2;else e(null!=Me),ze=rv(p,C,T,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(0!=ze?ie=0:(null!=ie&&(ie[0]=Me.width[0]),null!=he&&(he[0]=Me.height[0]),ie=1),ie){ee.width=ee.width[0],ee.height=ee.height[0],null!=B&&(B[0]=ee.width),null!=G&&(G[0]=ee.height);e:{if(B=new Di,(G=new Tb).data=p,G.w=C,G.ha=T,G.kd=1,C=[0],e(null!=G),(0==(p=rv(G.data,G.w,G.ha,null,null,null,C,null,G))||7==p)&&C[0]&&(p=4),0==(C=p)){if(e(null!=K),B.data=G.data,B.w=G.w+G.offset,B.ha=G.ha-G.offset,B.put=pi,B.ac=Hi,B.bc=ws,B.ma=K,G.xa){if(null==(p=Sl())){K=1;break e}if(function(je,Pe){var yt=[0],at=[0],De=[0];t:for(;;){if(null==je)return 0;if(null==Pe)return je.a=2,0;if(je.l=Pe,je.a=0,te(je.m,Pe.data,Pe.w,Pe.ha),!gn(je.m,yt,at,De)){je.a=3;break t}if(je.xb=Kq,Pe.width=yt[0],Pe.height=at[0],!kc(yt[0],at[0],1,je,null))break t;return 1}return e(0!=je.a),0}(p,B)){if(B=0==(C=sv(B.width,B.height,K.Oa,K.ba))){t:{B=p;n:for(;;){if(null==B){B=0;break t}if(e(null!=B.s.yc),e(null!=B.s.Ya),e(0<B.s.Wb),e(null!=(T=B.l)),e(null!=(G=T.ma)),0!=B.xb){if(B.ca=G.ba,B.tb=G.tb,e(null!=B.ca),!Rb(G.Oa,T,kM)){B.a=2;break n}if(!Vd(B,T.width)||T.da)break n;if((T.da||bn(B.ca.S))&&ke(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=B.ca.f.kb.F&&ke()),B.Pb&&0<B.s.ua&&null==B.s.vb.X&&!se(B.s.vb,B.s.Wa.Xa)){B.a=1;break n}B.xb=0}if(!Cl(B,B.V,B.Ba,B.c,B.i,T.o,Pu))break n;G.Dc=B.Ma,B=1;break t}e(0!=B.a),B=0}B=!B}B&&(C=p.a)}else C=p.a}else{if(null==(p=new Ur)){K=1;break e}if(p.Fa=G.na,p.P=G.P,p.qc=G.Sa,Sn(p,B)){if(0==(C=sv(B.width,B.height,K.Oa,K.ba))){if(p.Aa=0,T=K.Oa,e(null!=(G=p)),null!=T){if(0<(ie=0>(ie=T.Md)?0:100<ie?255:255*ie/100)){for(he=Me=0;4>he;++he)12>(ze=G.pb[he]).lc&&(ze.ia=ie*BDe[0>ze.lc?0:ze.lc]>>3),Me|=ze.ia;Me&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=T.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}(function Wa(p,C){if(null==p)return 0;if(null==C)return Zn(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!Sn(p,C))return 0;if(e(p.cb),null==C.ac||C.ac(C)){C.ob&&(p.L=0);var T=zM[p.L];if(2==p.L?(p.yb=0,p.zb=0):(p.yb=C.v-T>>4,p.zb=C.j-T>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=C.o+15+T>>4,p.Hb=C.va+15+T>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var B=p.ed;for(T=0;4>T;++T){var G;if(p.Qa.Cb){var W=p.Qa.Lb[T];p.Qa.Fb||(W+=B.Tb)}else W=B.Tb;for(G=0;1>=G;++G){var K=p.gd[T][G],ee=W;if(B.Pc&&(ee+=B.vd[0],G&&(ee+=B.od[0])),0<(ee=0>ee?0:63<ee?63:ee)){var ie=ee;0<B.wb&&(ie=4<B.wb?ie>>2:ie>>1)>9-B.wb&&(ie=9-B.wb),1>ie&&(ie=1),K.dd=ie,K.tc=2*ee+ie,K.ld=40<=ee?2:15<=ee?1:0}else K.tc=0;K.La=G}}}T=0}else Zn(p,6,"Frame setup failed"),T=p.a;if(T=0==T){if(T){p.$c=0,0<p.Aa||(p.Ic=1);e:{B=4*(ie=p.za);var he=32*ie,Me=ie+1,ze=0<p.L?ie*(0<p.Aa?2:1):0,je=(2==p.Aa?2:1)*ie;if((K=B+832+(G=3*(16*(T=p.Ic)+zM[p.L])/2*he)+(W=null!=p.Fa&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=K)T=0;else{if(K>p.Vb){if(p.Vb=0,p.Ec=s(K),p.Fc=0,null==p.Ec){T=Zn(p,1,"no memory during frame initialization.");break e}p.Vb=K}ee=p.Fc,p.Ac=K=p.Ec,p.Bc=ee,ee+=B,p.Gd=o(he,Cn),p.Hd=0,p.rb=o(Me+1,on),p.sb=1,p.wa=ze?o(ze,zt):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=ie),e(!0),p.oc=K,p.pc=ee,ee+=832,p.ya=o(je,Rn),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,2==p.Aa&&(p.D.aa+=ie),p.R=16*ie,p.B=8*ie,ie=(he=zM[p.L])*p.R,he=he/2*p.B,p.sa=K,p.ta=ee+ie,p.qa=p.sa,p.ra=p.ta+16*T*p.R+he,p.Ha=p.qa,p.Ia=p.ra+8*T*p.B+he,p.$c=0,ee+=G,p.mb=W?K:null,p.nb=W?ee:null,e(ee+W<=p.Fc+p.Vb),Bi(p),r(p.Ac,p.Bc,0,B),T=1}}if(T){if(C.ka=0,C.y=p.sa,C.O=p.ta,C.f=p.qa,C.N=p.ra,C.ea=p.Ha,C.Vd=p.Ia,C.fa=p.R,C.Rc=p.B,C.F=null,C.J=0,!OM){for(T=-255;255>=T;++T)mo[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)$d[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)Hb[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)fv[255+T]=0>T?0:255<T?255:T;OM=1}hv=Lu,Wd=_a,Lb=io,Ka=No,Vc=Cf,Qs=Ko,dv=Sb,FM=Og,Ub=lU,Ug=Eb,kg=aU,Df=tv,Hg=xb,Av=MM,Vg=TM,Bf=Bh,kb=Gd,Qc=oU,Hu[0]=Dh,Hu[1]=X5,Hu[2]=eU,Hu[3]=tU,Hu[4]=bM,Hu[5]=Z0,Hu[6]=CM,Hu[7]=wb,Hu[8]=iU,Hu[9]=nU,If[0]=yM,If[1]=J5,If[2]=Qd,If[3]=Y0,If[4]=va,If[5]=Z5,If[6]=wM,Kd[0]=Sf,Kd[1]=Y5,Kd[2]=rU,Kd[3]=bb,Kd[4]=Fg,Kd[5]=sU,Kd[6]=Cb,T=1}else T=0}T&&(T=function(Pe,yt){for(Pe.M=0;Pe.M<Pe.Va;++Pe.M){var at,De=Pe.Jc[Pe.M&Pe.Xb],Ie=Pe.m,pt=Pe;for(at=0;at<pt.za;++at){var Ct=Ie,_t=pt,rn=_t.Ac,Kt=_t.Bc+4*at,Bn=_t.zc,Yt=_t.ya[_t.aa+at];if(Yt.$b=_t.Qa.Bb?Te(Ct,_t.Pa.jb[0])?2+Te(Ct,_t.Pa.jb[2]):Te(Ct,_t.Pa.jb[1]):0,_t.kc&&(Yt.Ad=Te(Ct,_t.Bd)),Yt.Za=!Te(Ct,145)+0,Yt.Za){var pr=Yt.Ob,Cr=0;for(_t=0;4>_t;++_t){var Xi,Ii=Bn[0+_t];for(Xi=0;4>Xi;++Xi){for(var kr=$q[Te(Ct,(Ii=gDe[rn[Kt+Xi]][Ii])[0])];0<kr;)kr=$q[2*kr+Te(Ct,Ii[kr])];rn[Kt+Xi]=Ii=-kr}i(pr,Cr,rn,Kt,4),Cr+=4,Bn[0+_t]=Ii}}else Ii=Te(Ct,156)?Te(Ct,128)?1:3:Te(Ct,163)?2:0,Yt.Ob[0]=Ii,r(rn,Kt,Ii,4),r(Bn,0,Ii,4);Yt.Dd=Te(Ct,142)?Te(Ct,114)?Te(Ct,183)?1:3:2:0}if(pt.m.Ka)return Zn(Pe,7,"Premature end-of-partition0 encountered.");for(;Pe.ja<Pe.za;++Pe.ja){if(pt=De,Ct=(Ie=Pe).rb[Ie.sb-1],rn=Ie.rb[Ie.sb+Ie.ja],at=Ie.ya[Ie.aa+Ie.ja],Kt=Ie.kc?at.Ad:0)Ct.la=rn.la=0,at.Za||(Ct.Na=rn.Na=0),at.Hc=0,at.Gc=0,at.ia=0;else{var Ir,li;if(Ct=rn,rn=pt,Kt=Ie.Pa.Xc,Yt=Ie.pb[(Bn=Ie.ya[Ie.aa+Ie.ja]).$b],Cr=Ie.rb[Ie.sb-1],Ii=Xi=0,r(_t=Bn.ad,pr=0,0,384),Bn.Za)var so=0,Tl=Kt[3];else{kr=s(16);var oo=Ct.Na+Cr.Na;if(oo=Vb(rn,Kt[1],oo,Yt.Eb,0,kr,0),Ct.Na=Cr.Na=(0<oo)+0,1<oo)hv(kr,0,_t,pr);else{var Ml=kr[0]+3>>3;for(kr=0;256>kr;kr+=16)_t[pr+kr]=Ml}so=1,Tl=Kt[0]}var Sr=15&Ct.la,oc=15&Cr.la;for(kr=0;4>kr;++kr){var ac=1&oc;for(Ml=li=0;4>Ml;++Ml)Sr=Sr>>1|(ac=(oo=Vb(rn,Tl,oo=ac+(1&Sr),Yt.Sc,so,_t,pr))>so)<<7,li=li<<2|(3<oo?3:1<oo?2:0!=_t[pr+0]),pr+=16;Sr>>=4,oc=oc>>1|ac<<7,Xi=(Xi<<8|li)>>>0}for(Tl=Sr,so=oc>>4,Ir=0;4>Ir;Ir+=2){for(li=0,Sr=Ct.la>>4+Ir,oc=Cr.la>>4+Ir,kr=0;2>kr;++kr){for(ac=1&oc,Ml=0;2>Ml;++Ml)Sr=Sr>>1|(ac=0<(oo=Vb(rn,Kt[2],oo=ac+(1&Sr),Yt.Qc,0,_t,pr)))<<3,li=li<<2|(3<oo?3:1<oo?2:0!=_t[pr+0]),pr+=16;Sr>>=2,oc=oc>>1|ac<<5}Ii|=li<<4*Ir,Tl|=Sr<<4<<Ir,so|=(240&oc)<<Ir}Ct.la=Tl,Cr.la=so,Bn.Hc=Xi,Bn.Gc=Ii,Bn.ia=43690&Ii?0:Yt.ia,Kt=!(Xi|Ii)}if(0<Ie.L&&(Ie.wa[Ie.Y+Ie.ja]=Ie.gd[at.$b][at.Za],Ie.wa[Ie.Y+Ie.ja].La|=!Kt),pt.Ka)return Zn(Pe,7,"Premature end-of-file encountered.")}if(Bi(Pe),Ie=yt,pt=1,at=(De=Pe).D,Ct=0<De.L&&De.M>=De.zb&&De.M<=De.Va,0==De.Aa)e:{if(at.M=De.M,at.uc=Ct,Nb(De,at),pt=1,at=(li=De.D).Nb,Ct=(Ii=zM[De.L])*De.R,Kt=De.sa,Bn=De.ta-Ct+(kr=16*at*De.R),Yt=De.qa,_t=De.ra-(rn=Ii/2*De.B)+(Ml=8*at*De.B),pr=De.Ha,Cr=De.Ia-rn+Ml,oc=0==(Sr=li.M),Xi=Sr>=De.Va-1,2==De.Aa&&Nb(De,li),li.uc)for(ac=(oo=De).D.M,e(oo.D.uc),li=oo.yb;li<oo.Hb;++li){Tl=ac;var Fo=(Xo=(Es=oo).D).Nb,Xo=Xo.wa[Xo.Y+(so=li)],qa=Es.sa,Wc=Es.ta+16*Fo*(Ir=Es.R)+16*so,Nh=Xo.dd,Oo=Xo.tc;if(0!=Oo)if(e(3<=Oo),1==Es.L)0<so&&Bf(qa,Wc,Ir,Oo+4),Xo.La&&Qc(qa,Wc,Ir,Oo),0<Tl&&Vg(qa,Wc,Ir,Oo+4),Xo.La&&kb(qa,Wc,Ir,Oo);else{var qd=Es.B,Qg=Es.qa,pv=Es.ra+8*Fo*qd+8*so,Rf=Es.Ha,Es=Es.Ia+8*Fo*qd+8*so;Fo=Xo.ld,0<so&&(FM(qa,Wc,Ir,Oo+4,Nh,Fo),Ug(Qg,pv,Rf,Es,qd,Oo+4,Nh,Fo)),Xo.La&&(Df(qa,Wc,Ir,Oo,Nh,Fo),Av(Qg,pv,Rf,Es,qd,Oo,Nh,Fo)),0<Tl&&(dv(qa,Wc,Ir,Oo+4,Nh,Fo),Ub(Qg,pv,Rf,Es,qd,Oo+4,Nh,Fo)),Xo.La&&(kg(qa,Wc,Ir,Oo,Nh,Fo),Hg(Qg,pv,Rf,Es,qd,Oo,Nh,Fo))}}if(De.ia&&alert("todo:DitherRow"),null!=Ie.put){if(li=16*Sr,Sr=16*(Sr+1),oc?(Ie.y=De.sa,Ie.O=De.ta+kr,Ie.f=De.qa,Ie.N=De.ra+Ml,Ie.ea=De.Ha,Ie.W=De.Ia+Ml):(li-=Ii,Ie.y=Kt,Ie.O=Bn,Ie.f=Yt,Ie.N=_t,Ie.ea=pr,Ie.W=Cr),Xi||(Sr-=Ii),Sr>Ie.o&&(Sr=Ie.o),Ie.F=null,Ie.J=null,null!=De.Fa&&0<De.Fa.length&&li<Sr&&(Ie.J=Bb(De,Ie,li,Sr-li),Ie.F=De.mb,null==Ie.F&&0==Ie.F.length)){pt=Zn(De,3,"Could not decode alpha data.");break e}li<Ie.j&&(Ii=Ie.j-li,li=Ie.j,e(!(1&Ii)),Ie.O+=De.R*Ii,Ie.N+=De.B*(Ii>>1),Ie.W+=De.B*(Ii>>1),null!=Ie.F&&(Ie.J+=Ie.width*Ii)),li<Sr&&(Ie.O+=Ie.v,Ie.N+=Ie.v>>1,Ie.W+=Ie.v>>1,null!=Ie.F&&(Ie.J+=Ie.v),Ie.ka=li-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=Sr-li,pt=Ie.put(Ie))}at+1!=De.Ic||Xi||(i(De.sa,De.ta-Ct,Kt,Bn+16*De.R,Ct),i(De.qa,De.ra-rn,Yt,_t+8*De.B,rn),i(De.Ha,De.Ia-rn,pr,Cr+8*De.B,rn))}if(!pt)return Zn(Pe,6,"Output aborted.")}return 1}(p,C)),null!=C.bc&&C.bc(C),T&=1}return T?(p.cb=0,T):0})(p,B)||(C=p.a)}}else C=p.a}0==C&&null!=K.Oa&&K.Oa.fd&&(C=Fb(K.ba))}K=C}W=0!=K?null:11>W?ee.f.RGBA.eb:ee.f.kb.y}else W=null;return W};var nX=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(N,R){for(var F="",I=0;I<4;I++)F+=String.fromCharCode(N[R++]);return F}function u(N,R){return(N[R+0]|N[R+1]<<8|N[R+2]<<16)>>>0}function h(N,R){return(N[R+0]|N[R+1]<<8|N[R+2]<<16|N[R+3]<<24)>>>0}new l;var A=[0],d=[0],f=[],_=new l,y=n,m=function(N,R){var F={},I=0,k=!1,X=0,Y=0;if(F.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(oe,j,le,ve){for(var me=0;me<4;me++)if(oe[j+me]!="RIFF".charCodeAt(me))return!0;return!1}(N,R)){var ge,Z;for(h(N,R+=4),R+=8;R<N.length;){var ue=c(N,R),te=h(N,R+=4);R+=4;var ye=te+(1&te);switch(ue){case"VP8 ":case"VP8L":void 0===F.frames[I]&&(F.frames[I]={}),(V=F.frames[I]).src_off=k?Y:R-8,V.src_size=X+te+8,I++,k&&(k=!1,X=0,Y=0);break;case"VP8X":(V=F.header={}).feature_flags=N[R];var Ce=R+4;V.canvas_width=1+u(N,Ce),V.canvas_height=1+u(N,Ce+=3),Ce+=3;break;case"ALPH":k=!0,X=ye+8,Y=R-8;break;case"ANIM":(V=F.header).bgcolor=h(N,R),V.loop_count=(ge=N)[(Z=Ce=R+4)+0]|ge[Z+1]<<8,Ce+=2;break;case"ANMF":var qe,V;(V=F.frames[I]={}).offset_x=2*u(N,R),V.offset_y=2*u(N,R+=3),V.width=1+u(N,R+=3),V.height=1+u(N,R+=3),V.duration=u(N,R+=3),R+=3,qe=N[R++],V.dispose=1&qe,V.blend=qe>>1&1}"ANMF"!=ue&&(R+=ye)}return F}}(y,0);m.response=y,m.rgbaoutput=!0,m.dataurl=!1;var S=m.header?m.header:null,x=m.frames?m.frames:null;if(S){S.loop_counter=S.loop_count,A=[S.canvas_height],d=[S.canvas_width];for(var M=0;M<x.length&&0!=x[M].blend;M++);}var L=x[0],U=_.WebPDecodeRGBA(y,L.src_off,L.src_size,d,A);L.rgba=U,L.imgwidth=d[0],L.imgheight=A[0];for(var P=0;P<d[0]*A[0]*4;P++)f[P]=U[P];return this.width=d,this.height=A,this.data=f,this}(function(n){var t=function(A,d,f,_){var y=4,m=o;switch(_){case n.image_compression.FAST:y=1,m=s;break;case n.image_compression.MEDIUM:y=6,m=a;break;case n.image_compression.SLOW:y=9,m=l}var S=bw(A=i(A,d,f,m),{level:y});return n.__addimage__.arrayBufferToBinaryString(S)},i=function(A,d,f,_){for(var y,m,S,x=A.length/d,M=new Uint8Array(A.length+x),L=u(),U=0;U<x;U+=1){if(y=A.subarray(S=U*d,S+d),_)M.set(_(y,f,m),S+U);else{for(var P,N=L.length,R=[];P<N;P+=1)R[P]=L[P](y,f,m);var F=h(R.concat());M.set(R[F],S+U)}m=y}return M},r=function(A){var d=Array.apply([],A);return d.unshift(0),d},s=function(A,d){var _=[],y=A.length;_[0]=1;for(var m=0;m<y;m+=1)_[m+1]=A[m]-(A[m-d]||0)+256&255;return _},o=function(A,d,f){var y=[],m=A.length;y[0]=2;for(var S=0;S<m;S+=1)y[S+1]=A[S]-(f&&f[S]||0)+256&255;return y},a=function(A,d,f){var m=[],S=A.length;m[0]=3;for(var x=0;x<S;x+=1)m[x+1]=A[x]+256-((A[x-d]||0)+(f&&f[x]||0)>>>1)&255;return m},l=function(A,d,f){var S,x=[],M=A.length;x[0]=4;for(var L=0;L<M;L+=1)S=c(A[L-d]||0,f&&f[L]||0,f&&f[L-d]||0),x[L+1]=A[L]-S+256&255;return x},c=function(A,d,f){if(A===d&&d===f)return A;var _=Math.abs(d-f),y=Math.abs(A-f),m=Math.abs(A+d-f-f);return _<=y&&_<=m?A:y<=m?d:f},u=function(){return[r,s,o,a,l]},h=function(A){var d=A.map(function(f){return f.reduce(function(_,y){return _+Math.abs(y)},0)});return d.indexOf(Math.min.apply(null,d))};n.processPNG=function(A,d,f,_){var y,m,S,x,M,L,U,P,N,R,F,I,k,X,Y,ge=this.decode.FLATE_DECODE,Z="";if(this.__addimage__.isArrayBuffer(A)&&(A=new Uint8Array(A)),this.__addimage__.isArrayBufferView(A)){if(A=(S=new Kfe(A)).imgData,m=S.bits,y=S.colorSpace,M=S.colors,-1!==[4,6].indexOf(S.colorType)){if(8===S.bits){N=(P=32==S.pixelBitlength?new Uint32Array(S.decodePixels().buffer):16==S.pixelBitlength?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,F=new Uint8Array(N*S.colors),R=new Uint8Array(N);var ue,te=S.pixelBitlength-S.bits;for(X=0,Y=0;X<N;X++){for(k=P[X],ue=0;ue<te;)F[Y++]=k>>>ue&255,ue+=S.bits;R[X]=k>>>ue&255}}if(16===S.bits){N=(P=new Uint32Array(S.decodePixels().buffer)).length,F=new Uint8Array(N*(32/S.pixelBitlength)*S.colors),R=new Uint8Array(N*(32/S.pixelBitlength)),I=S.colors>1,X=0,Y=0;for(var ye=0;X<N;)k=P[X++],F[Y++]=k>>>0&255,I&&(F[Y++]=k>>>16&255,k=P[X++],F[Y++]=k>>>0&255),R[ye++]=k>>>16&255;m=8}_!==n.image_compression.NONE?(A=t(F,S.width*S.colors,S.colors,_),U=t(R,S.width,1,_)):(A=F,U=R,ge=void 0)}if(3===S.colorType&&(y=this.color_spaces.INDEXED,L=S.palette,S.transparency.indexed)){var Ce=S.transparency.indexed,qe=0;for(X=0,N=Ce.length;X<N;++X)qe+=Ce[X];if((qe/=255)==N-1&&-1!==Ce.indexOf(0))x=[Ce.indexOf(0)];else if(qe!==N){for(P=S.decodePixels(),R=new Uint8Array(P.length),X=0,N=P.length;X<N;X++)R[X]=Ce[P[X]];U=t(R,S.width,1)}}var V=function(oe){var j;switch(oe){case n.image_compression.FAST:j=11;break;case n.image_compression.MEDIUM:j=13;break;case n.image_compression.SLOW:j=14;break;default:j=12}return j}(_);return ge===this.decode.FLATE_DECODE&&(Z="/Predictor "+V+" "),Z+="/Colors "+M+" /BitsPerComponent "+m+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),(U&&this.__addimage__.isArrayBuffer(U)||this.__addimage__.isArrayBufferView(U))&&(U=this.__addimage__.arrayBufferToBinaryString(U)),{alias:f,data:A,index:d,filter:ge,decodeParameters:Z,transparency:x,palette:L,sMask:U,predictor:V,width:S.width,height:S.height,bitsPerComponent:m,colorSpace:y}}}})(Ln.API),function(n){n.processGIF89A=function(e,t,i,r){var s=new qfe(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new bO(100).encode(c,100);return n.processJPEG.call(this,u,t,i,r)},n.processGIF87A=n.processGIF89A}(Ln.API),xu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xu.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(t){Or.log("bit decode error:"+t)}},xu.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}0!==t&&(this.pos+=4-t)}},xu.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,l=15&s,c=this.palette[s>>4];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*r+1>=this.width)break;this.data[o+4]=(c=this.palette[l]).blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==e&&(this.pos+=4-e)}},xu.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==n&&(this.pos+=4-n)}},xu.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=s>>15?255:0,u=i*this.width*4+4*r;this.data[u]=(s>>10&e)/e*255|0,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},xu.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,u=r*this.width*4+4*s;this.data[u]=(o>>11)/e*255|0,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},xu.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},xu.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o}},xu.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processBMP=function(e,t,i,r){var s=new xu(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new bO(100).encode(l,100);return n.processJPEG.call(this,c,t,i,r)}}(Ln.API),gj.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processWEBP=function(e,t,i,r){var s=new gj(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new bO(100).encode(l,100);return n.processJPEG.call(this,c,t,i,r)}}(Ln.API),Ln.API.processRGBA=function(n,e,t){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var h=i[c+1],A=i[c+2],d=i[c+3];s[a++]=i[c],s[a++]=h,s[a++]=A,o[l++]=d}var f=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:f,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ln.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},aT=($_=Ln.API).getCharWidthsArray=function(n,e){var t,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:r.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=!1!==e.doKerning,A=0,d=n.length,f=0,_=a[0]||l,y=[];for(t=0;t<d;t++)i=n.charCodeAt(t),"function"==typeof r.metadata.widthOfString?y.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(A=h&&"object"===(0,Fr.A)(c[i])&&!isNaN(parseInt(c[i][f],10))?c[i][f]/u:0,y.push((a[i]||_)/l+A)),f=i;return y},dj=$_.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return $_.processArabic&&(n=$_.processArabic(n)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(n,t,r)/t:aT.apply(this,arguments).reduce(function(s,o){return s+o},0)},Aj=function(n,e,t,i){for(var r=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;r.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>i&&(r.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&r.push(n.slice(l,s)),r},fj=function(n,e,t){t||(t={});var i,r,s,o,a,l,u=[],h=[u],A=t.textIndent||0,d=0,f=0,_=n.split(" "),y=aT.apply(this,[" ",t])[0];if(l=-1===t.lineIndent?_[0].length+2:t.lineIndent||0){var m=Array(l).join(" "),S=[];_.map(function(M){(M=M.split(/\s*\n/)).length>1?S=S.concat(M.map(function(L,U){return(U&&L.length?"\n":"")+L})):S.push(M[0])}),_=S,l=dj.apply(this,[m,t])}for(s=0,o=_.length;s<o;s++){var x=0;if(i=_[s],l&&"\n"==i[0]&&(i=i.substr(1),x=1),A+d+(f=(r=aT.apply(this,[i,t])).reduce(function(M,L){return M+L},0))>e||x){if(f>e){for(a=Aj.apply(this,[i,r,e-(A+d),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);f=r.slice(i.length-(u[0]?u[0].length:0)).reduce(function(M,L){return M+L},0)}else u=[i];h.push(u),A=f+l,d=y}else u.push(i),A+=d+f,d=y}return h.map(l?function(M,L){return(L?m:"")+M.join(" ")}:function(M){return M.join(" ")})},$_.splitTextToSize=function(n,e,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/r;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(fj.apply(this,[i[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},i={},r=0;r<16;r++)t[e[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=e[r];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=n.__fontmetrics__.compress=function(h){var A,d,f,_,y=["{"];for(var m in h){if(A=h[m],isNaN(parseInt(m,10))?d="'"+m+"'":(m=parseInt(m,10),d=(d=s(m).slice(2)).slice(0,-1)+i[d.slice(-1)]),"number"==typeof A)A<0?(f=s(A).slice(3),_="-"):(f=s(A).slice(2),_=""),f=_+f.slice(0,-1)+i[f.slice(-1)];else{if("object"!==(0,Fr.A)(A))throw new Error("Don't know what to do with value type "+(0,Fr.A)(A)+".");f=o(A)}y.push(d+f)}return y.push("}"),y.join("")},a=n.__fontmetrics__.uncompress=function(h){if("string"!=typeof h)throw new Error("Invalid argument passed to uncompress.");for(var A,d,f,_,y={},m=1,S=y,x=[],M="",L="",U=h.length-1,P=1;P<U;P+=1)"'"==(_=h[P])?A?(f=A.join(""),A=void 0):A=[]:A?A.push(_):"{"==_?(x.push([S,f]),S={},f=void 0):"}"==_?((d=x.pop())[0][d[1]]=S,f=void 0,S=d[0]):"-"==_?m=-1:void 0===f?t.hasOwnProperty(_)?(M+=t[_],f=parseInt(M,16)*m,m=1,M=""):M+=_:t.hasOwnProperty(_)?(L+=t[_],S[f]=parseInt(L,16)*m,m=1,f=void 0,L=""):L+=_;return y},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var A=h.font,d=u.Unicode[A.postScriptName];d&&(A.metadata.Unicode={},A.metadata.Unicode.widths=d.widths,A.metadata.Unicode.kerning=d.kerning);var f=c.Unicode[A.postScriptName];f&&(A.metadata.Unicode.encoding=f,A.encoding=f.codePages[0])}])}(Ln.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(t){for(var i=t.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=t.charCodeAt(s);return r};n.API.events.push(["addFont",function(t){var o,a,i=void 0,r=t.font,s=t.instance;if(!r.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if("string"!=typeof(i=!1===s.existsFileInVFS(r.postScriptName)?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");o=r,a=/^\x00\x01\x00\x00/.test(a=i)?e(a):e(Sw(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]}}])}(Ln),Ln.API.addSvgAsImage=function(t,i,r,s,o,a,l,c){if(isNaN(i)||isNaN(r))throw Or.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Or.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return function e(){return(kn.canvg?Promise.resolve(kn.canvg):_e.e(147).then(_e.bind(_e,147))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}().then(function(f){return f.fromString(h,t,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(A)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),i,r,s,o,l,c)})},Ln.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,t);return this},Ln.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function A(f,_){var y,m=!1;for(y=0;y<f.length;y+=1)f[y]===_&&(m=!0);return m}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===n||!0===e){var d=a.length;for(h=0;h<d;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if("object"===(0,Fr.A)(n))for(r in n)if(s=n[r],A(a,r)&&void 0!==s){if("boolean"===t[r].type&&"boolean"==typeof s)t[r].value=s;else if("name"===t[r].type&&A(t[r].valueSet,s))t[r].value=s;else if("integer"===t[r].type&&Number.isInteger(s))t[r].value=s;else if("array"===t[r].type){for(c=0;c<s.length;c+=1)if(i=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)"number"!=typeof s[c][u]&&(i=!1);!0===i&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[r].value="["+l.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var f,_=[];for(f in t)!0===t[f].explicitSet&&_.push("name"===t[f].type?"/"+f+" /"+t[f].value:"/"+f+" "+t[f].value);0!==_.length&&this.internal.write("/ViewerPreferences\n<<\n"+_.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Ln.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,A=s.length;h<A;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),-1==l.indexOf(a)&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),"0"==a)return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},i=function(s){var o,a,l,c,u,h,A;for(u="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",l=[],h=0,A=(a=Object.keys(s).sort(function(d,f){return d-f})).length;h<A;h++)o=a[h],l.length>=100&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar",l=[]),null!=s[o]&&"function"==typeof s[o].toString&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar\n"),u+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"Identity-H"===a.encoding){for(var h=a.metadata.Unicode.widths,A=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),d="",f=0;f<A.length;f++)d+=String.fromCharCode(A[f]);var _=c();u({data:d,addLength1:!0,objectId:_}),l("endobj");var y=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var m=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+H_(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var S=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+H_(a.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+H_(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]),e.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var h=a.metadata.rawData,A="",d=0;d<h.length;d++)A+=String.fromCharCode(h[d]);var f=c();u({data:A,addLength1:!0,objectId:f}),l("endobj");var _=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var y=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+f+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+H_(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var m=0;m<a.metadata.hmtx.widths.length;m++)a.metadata.hmtx.widths[m]=parseInt(a.metadata.hmtx.widths[m]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+H_(a.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]);var r=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},A=h.pdfEscape,d=h.activeFontKey,f=h.fonts,_=d,y="",m=0,S="",x=f[_].encoding;if("Identity-H"!==f[_].encoding)return{text:a,x:l,y:c,options:u,mutex:h};for(S=a,_=d,Array.isArray(a)&&(S=a[0]),m=0;m<S.length;m+=1)f[_].metadata.hasOwnProperty("cmap")&&(o=f[_].metadata.cmap.unicode.codeMap[S[m].charCodeAt(0)]),o||S[m].charCodeAt(0)<256&&f[_].metadata.hasOwnProperty("Unicode")?y+=S[m]:y+="";var M="";return parseInt(_.slice(1))<14||"WinAnsiEncoding"===x?M=A(y,_).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):"Identity-H"===x&&(M=t(y,f[_])),h.isHex=!0,{text:M,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&3===o[c].length?a.push([r(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(r(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=r(Object.assign({},l,{text:o})).text}])}(Ln),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(Ln.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,o,a,l,c,u,h=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,x=0;this.__bidiEngine__={};var M=function(I){var k=I.charCodeAt(),X=k>>8,Y=_[X];return void 0!==Y?h[256*Y+(255&k)]:252===X||253===X?"AL":m.test(X)?"L":8===X?"R":"N"},L=function(I){for(var k,X=0;X<I.length;X++){if("L"===(k=M(I.charAt(X))))return!1;if("R"===k)return!0}return!1},U=function(I,k,X,Y){var ge,Z,ue,te,ye=k[Y];switch(ye){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(ye="AN");break;case"AL":S=!0,ye="R";break;case"WS":case"BN":ye="N";break;case"CS":Y<1||Y+1>=k.length||"EN"!==(ge=X[Y-1])&&"AN"!==ge||"EN"!==(Z=k[Y+1])&&"AN"!==Z?ye="N":S&&(Z="AN"),ye=Z===ge?Z:"N";break;case"ES":ye="EN"===(ge=Y>0?X[Y-1]:"B")&&Y+1<k.length&&"EN"===k[Y+1]?"EN":"N";break;case"ET":if(Y>0&&"EN"===X[Y-1]){ye="EN";break}if(S){ye="N";break}for(ue=Y+1,te=k.length;ue<te&&"ET"===k[ue];)ue++;ye=ue<te&&"EN"===k[ue]?"EN":"N";break;case"NSM":if(o&&!a){for(te=k.length,ue=Y+1;ue<te&&"NSM"===k[ue];)ue++;if(ue<te){var Ce=I[Y];if(ge=k[ue],(Ce>=1425&&Ce<=2303||64286===Ce)&&("R"===ge||"AL"===ge)){ye="R";break}}}ye=Y<1||"B"===(ge=k[Y-1])?"N":X[Y-1];break;case"B":S=!1,r=!0,ye=x;break;case"S":s=!0,ye="N"}return ye},P=function(I,k,X){var Y=I.split("");return X&&N(Y,X,{hiLevel:x}),Y.reverse(),k&&k.reverse(),Y.join("")},N=function(I,k,X){var Y,ge,Z,ue,te,ye=-1,Ce=I.length,qe=0,V=[],oe=x?d:A,j=[];for(S=!1,r=!1,s=!1,ge=0;ge<Ce;ge++)j[ge]=M(I[ge]);for(Z=0;Z<Ce;Z++){if(te=qe,V[Z]=U(I,j,V,Z),Y=240&(qe=oe[te][f[V[Z]]]),k[Z]=ue=oe[qe&=15][5],Y>0)if(16===Y){for(ge=ye;ge<Z;ge++)k[ge]=1;ye=-1}else ye=-1;if(oe[qe][6])-1===ye&&(ye=Z);else if(ye>-1){for(ge=ye;ge<Z;ge++)k[ge]=ue;ye=-1}"B"===j[Z]&&(k[Z]=0),X.hiLevel|=ue}s&&function(le,ve,me){for(var be=0;be<me;be++)if("S"===le[be]){ve[be]=x;for(var Te=be-1;Te>=0&&"WS"===le[Te];Te--)ve[Te]=x}}(j,k,Ce)},R=function(I,k,X,Y,ge){if(!(ge.hiLevel<I)){if(1===I&&1===x&&!r)return k.reverse(),void(X&&X.reverse());for(var Z,ue,te,ye,Ce=k.length,qe=0;qe<Ce;){if(Y[qe]>=I){for(te=qe+1;te<Ce&&Y[te]>=I;)te++;for(ye=qe,ue=te-1;ye<ue;ye++,ue--)Z=k[ye],k[ye]=k[ue],k[ue]=Z,X&&(Z=X[ye],X[ye]=X[ue],X[ue]=Z);qe=te}qe++}}},F=function(I,k,X){var Y=I.split(""),ge={hiLevel:x};return X||(X=[]),N(Y,X,ge),function(Z,ue,te){if(0!==te.hiLevel&&u)for(var ye,Ce=0;Ce<Z.length;Ce++)1===ue[Ce]&&(ye=y.indexOf(Z[Ce]))>=0&&(Z[Ce]=y[ye+1])}(Y,X,ge),R(2,Y,k,X,ge),R(1,Y,k,X,ge),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(I,k,X){if(function(ge,Z){if(Z)for(var ue=0;ue<ge.length;ue++)Z[ue]=ue;void 0===a&&(a=L(ge)),void 0===c&&(c=L(ge))}(I,k),o||!l||c)if(o&&l&&a^c)x=a?1:0,I=P(I,k,X);else if(!o&&l&&c)x=a?1:0,I=F(I,k,X),I=P(I,k);else if(!o||a||l||c){if(o&&!l&&a^c)I=P(I,k),a?(x=0,I=F(I,k,X)):(x=1,I=F(I,k,X),I=P(I,k));else if(o&&a&&!l&&c)x=1,I=F(I,k,X),I=P(I,k);else if(!o&&!l&&a^c){var Y=u;a?(x=1,I=F(I,k,X),x=0,u=!1,I=F(I,k,X),u=Y):(x=0,I=F(I,k,X),I=P(I,k),x=1,u=!1,I=F(I,k,X),u=Y,I=P(I,k))}}else x=0,I=F(I,k,X);else x=a?1:0,I=F(I,k,X);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,l=I.isOutputVisual,a=I.isInputRtl,c=I.isOutputRtl,u=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text,s=i.options||{},o=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,t.setOptions(s),"[object Array]"===Object.prototype.toString.call(r)){var a=0;for(o=[],a=0;a<r.length;a+=1)"[object Array]"===Object.prototype.toString.call(r[a])?o.push([t.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):o.push([t.doBidiReorder(r[a])]);i.text=o}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])}(Ln),Ln.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new nf(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new upe(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Xfe(this.contents),this.head=new Jfe(this),this.name=new ipe(this),this.cmap=new _j(this),this.toUnicode={},this.hhea=new Zfe(this),this.maxp=new rpe(this),this.hmtx=new spe(this),this.post=new tpe(this),this.os2=new epe(this),this.loca=new cpe(this),this.glyf=new ope(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)c.push(Math.round(l[o]*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var r,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)r=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},n}();var Tu,nf=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,r;for(r=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,r,s,o,a,l;return e=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*r+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var i,r,s;for(s=[],i=0,r=e.length;i<r;i++)s.push(this.writeByte(e[i]));return s},n}(),Xfe=function(){var n;function e(t){var i,r,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,r,o,a,l,c,u,h,A,d,f,_;for(_ in d=Object.keys(t).length,l=Math.log(2),h=16*Math.floor(Math.log(d)/l),o=Math.floor(h/l),u=16*d-h,(r=new nf).writeInt(this.scalarType),r.writeShort(d),r.writeShort(h),r.writeShort(o),r.writeShort(u),c=r.pos+16*d,a=null,f=[],t)for(A=t[_],r.writeString(_),r.writeInt(n(A)),r.writeInt(c),r.writeInt(A.length),f=f.concat(A),"head"===_&&(a=c),c+=A.length;c%4;)f.push(0),c++;return r.write(f),i=2981146554-n(r.data),r.pos=a+8,r.writeUInt32(i),r.data},n=function(t){var i,r,s,o;for(t=vj.call(t);t.length%4;)t.push(0);for(s=new nf(t),r=0,i=0,o=t.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},e}(),Yfe={}.hasOwnProperty,vh=function(n,e){for(var t in e)Yfe.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};Tu=function(){function n(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Jfe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return vh(e,Tu),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var i;return(i=new nf).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(t),i.writeShort(this.glyphDataFormat),i.data},e}(),mj=function(){function n(e,t){var i,r,s,o,a,l,c,u,h,A,d,f,_,y,m,S,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),A=d/2,e.pos+=6,s=function(){var M,L;for(L=[],l=M=0;0<=A?M<A:M>A;l=0<=A?++M:--M)L.push(e.readUInt16());return L}(),e.pos+=2,_=function(){var M,L;for(L=[],l=M=0;0<=A?M<A:M>A;l=0<=A?++M:--M)L.push(e.readUInt16());return L}(),c=function(){var M,L;for(L=[],l=M=0;0<=A?M<A:M>A;l=0<=A?++M:--M)L.push(e.readUInt16());return L}(),u=function(){var M,L;for(L=[],l=M=0;0<=A?M<A:M>A;l=0<=A?++M:--M)L.push(e.readUInt16());return L}(),r=(this.length-e.pos+this.offset)/2,a=function(){var M,L;for(L=[],l=M=0;0<=r?M<r:M>r;l=0<=r?++M:--M)L.push(e.readUInt16());return L}(),l=m=0,x=s.length;m<x;l=++m)for(y=s[l],i=S=f=_[l];f<=y?S<=y:S>=y;i=f<=y?++S:--S)0===u[l]?o=i+c[l]:0!==(o=a[u[l]/2+(i-f)-(A-l)]||0)&&(o+=c[l]),this.codeMap[i]=65535&o}e.pos=h}return n.encode=function(e,t){var i,r,s,o,a,l,c,u,h,A,d,f,_,y,m,S,x,L,U,P,N,R,F,I,k,X,Y,ge,Z,ue,te,ye,Ce,qe,V,oe,j,le,ve,me,be,Te,rt,lt,Le;switch(Y=new nf,o=Object.keys(e).sort(function(Ve,se){return Ve-se}),t){case"macroman":for(_=0,y=function(){var Ve=[];for(f=0;f<256;++f)Ve.push(0);return Ve}(),S={0:0},s={},ge=0,ye=o.length;ge<ye;ge++)null==S[Te=e[r=o[ge]]]&&(S[Te]=++_),s[r]={old:e[r],new:S[e[r]]},y[r]=S[e[r]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(y),{charMap:s,subtable:Y.data,maxGlyphID:_+1};case"unicode":for(k=[],h=[],x=0,S={},i={},m=c=null,Z=0,Ce=o.length;Z<Ce;Z++)null==S[L=e[r=o[Z]]]&&(S[L]=++x),i[r]={old:L,new:S[L]},a=S[L]-r,null!=m&&a===c||(m&&h.push(m),k.push(r),c=a),m=r;for(m&&h.push(m),h.push(65535),k.push(65535),F=2*(R=k.length),N=2*Math.pow(Math.log(R)/Math.LN2,2),A=Math.log(N/2)/Math.LN2,P=2*R-N,l=[],U=[],d=[],f=ue=0,qe=k.length;ue<qe;f=++ue){if(u=h[f],65535===(I=k[f])){l.push(0),U.push(0);break}if(I-(X=i[I].new)>=32768)for(l.push(0),U.push(2*(d.length+R-f)),r=te=I;I<=u?te<=u:te>=u;r=I<=u?++te:--te)d.push(i[r].new);else l.push(X-I),U.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*R+2*d.length),Y.writeUInt16(0),Y.writeUInt16(F),Y.writeUInt16(N),Y.writeUInt16(A),Y.writeUInt16(P),me=0,V=h.length;me<V;me++)Y.writeUInt16(r=h[me]);for(Y.writeUInt16(0),be=0,oe=k.length;be<oe;be++)Y.writeUInt16(r=k[be]);for(rt=0,j=l.length;rt<j;rt++)Y.writeUInt16(a=l[rt]);for(lt=0,le=U.length;lt<le;lt++)Y.writeUInt16(U[lt]);for(Le=0,ve=d.length;Le<ve;Le++)Y.writeUInt16(_=d[Le]);return{charMap:i,subtable:Y.data,maxGlyphID:x+1}}},n}(),_j=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return vh(e,Tu),e.prototype.tag="cmap",e.prototype.parse=function(t){var i,r,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new mj(t,this.offset),this.tables.push(i),i.isUnicode&&null==this.unicode&&(this.unicode=i);return!0},e.encode=function(t,i){var r,s;return null==i&&(i="macroman"),r=mj.encode(t,i),(s=new nf).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},e}(),Zfe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return vh(e,Tu),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),epe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return vh(e,Tu),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(t.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),tpe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return vh(e,Tu),e.prototype.tag="post",e.prototype.parse=function(t){var i,r,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)i=t.readByte(),s.push(this.names.push(t.readString(i)));return s;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(t.readUInt32());return c}.call(this)}},e}(),npe=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ipe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return vh(e,Tu),e.prototype.tag="name",e.prototype.parse=function(t){var i,r,s,o,a,l,c,u,h,A,d;for(t.pos=this.offset,t.readShort(),i=t.readShort(),l=t.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},o=h=0,A=r.length;h<A;o=++h)t.pos=(s=r[o]).offset,u=t.readString(s.length),a=new npe(u,s),null==c[d=s.nameID]&&(c[d]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),rpe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return vh(e,Tu),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),spe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return vh(e,Tu),e.prototype.tag="hmtx",e.prototype.parse=function(t){var i,r,s,a,l,c;for(t.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:i>l;i=0<=l?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],i=u=0;0<=s?u<s:u>s;i=0<=s?++u:--u)h.push(t.readInt16());return h}(),this.widths=function(){var u,h,A,d;for(d=[],u=0,h=(A=this.metrics).length;u<h;u++)d.push(A[u].advance);return d}.call(this),r=this.widths[this.widths.length-1],c=[],i=a=0;0<=s?a<s:a>s;i=0<=s?++a:--a)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),vj=[].slice,ope=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return vh(e,Tu),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var i,r,s,o,a,l,c,u,h,A;return t in this.cache?this.cache[t]:(i=this.file.contents,r=(o=this.file.loca).indexOf(t),0===(s=o.lengthOf(t))?this.cache[t]=null:(i.pos=this.offset+r,a=(l=new nf(i.read(s))).readShort(),u=l.readShort(),A=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=-1===a?new lpe(l,u,A,c,h):new ape(l,a,u,A,c,h),this.cache[t]))},e.prototype.encode=function(t,i,r){var s,o,a,l,c;for(a=[],o=[],l=0,c=i.length;l<c;l++)s=t[i[l]],o.push(a.length),s&&(a=a.concat(s.encode(r)));return o.push(a.length),{table:a,offsets:o}},e}(),ape=function(){function n(e,t,i,r,s,o){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),lpe=function(){function n(e,t,i,r,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new nf(vj.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),cpe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return vh(e,Tu),e.prototype.tag="loca",e.prototype.parse=function(t){var r;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*t.readUInt16());return o}.call(this):function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(t.readUInt32());return o}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<r.length;++a)if(r[a]=s,o<i.length&&i[o]==a){++o,r[a]=s;var c=this.offsets[a+1]-this.offsets[a];c>0&&(s+=c)}for(var u=new Array(4*r.length),h=0;h<r.length;++h)u[4*h+3]=255&r[h],u[4*h+2]=(65280&r[h])>>8,u[4*h+1]=(16711680&r[h])>>16,u[4*h]=(4278190080&r[h])>>24;return u},e}(),upe=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)e[t]=r[s[t]];return e},n.prototype.glyphsFor=function(e){var t,i,r,s,o,a,l;for(r={},o=0,a=e.length;o<a;o++)r[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],r)null!=(i=r[s])&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r[s]=i=l[s];return r},n.prototype.encode=function(e,t){var i,r,s,o,l,c,u,h,A,d,f,_,y,m;for(r in i=_j.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),d={0:0},m=i.charMap)d[(l=m[r]).old]=l.new;for(f in A=i.maxGlyphID,o)f in d||(d[f]=A++);return u=function(S){var x,M;for(x in M={},S)M[S[x]]=x;return M}(d),h=Object.keys(u).sort(function(S,x){return S-x}),_=function(){var S,x,M;for(M=[],S=0,x=h.length;S<x;S++)M.push(u[h[S]]);return M}(),s=this.font.glyf.encode(o,_,d),c=this.font.loca.encode(s.offsets,_),y={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},n}();Ln.API.PDFObject=function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var r,s;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)c.push(e.convert(t[a]));return c}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(r in s=["<<"],t)s.push("/"+r+" "+e.convert(t[r]));return s.push(">>"),s.join("\n")}return""+t},e}();const hpe=Ln;let dpe=(()=>{class n{getPdf(t,i,r,s,o){console.log(t+": [GENERANDO PDF]");const a=(new Date).toISOString();s=`${s}_${a}.pdf`;const l=i.nativeElement,c=r.nativeElement;pfe()(l).then(u=>{let h=c.offsetWidth,A=c.offsetHeight,d=u.toDataURL("image/jpeg"),f=new hpe("landscape","px",[h,A]);f.addImage(d,0,0,h,A),f.save(s)}),o.next(s),o.complete()}_GetPDF(t,i,r,s){return new Qi(a=>this.getPdf(t,i,r,s,a))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Ape=["_languajeList"],fpe=["_SourceList"],ppe=["_fileUpload"],gpe=["_sudoku_board"],mpe=n=>({width:n});function _pe(n,e){if(1&n&&(q(0,"td")(1,"div",31),fe(2),$()()),2&n){const t=e.$implicit,i=e.index,r=Ft().index;Ae(),Be("className",i>=3&&i<=5&&r>=0&&r<3||!(i>=3&&i<=5)&&r>=3&&r<=5||i>=3&&i<=5&&r>5&&r<=8?"sudoku-cell_bright":"sudoku-cell_dark"),Ae(),jn(t)}}function vpe(n,e){if(1&n&&(q(0,"tr"),Ht(1,_pe,3,2,"td",5),$()),2&n){const t=e.$implicit;Ae(),Be("ngForOf",t)}}function ype(n,e){if(1&n&&(q(0,"option",32),fe(1),$()),2&n){const t=e.$implicit;Be("value",t._index)("selected",t._selected),Ae(),gr("",t._value," ")}}function wpe(n,e){if(1&n&&(q(0,"option",32),fe(1),$()),2&n){const t=e.$implicit;Be("value",t._index)("selected",t._selected),Ae(),gr("",t._value," ")}}function bpe(n,e){if(1&n&&(q(0,"div",33)(1,"div",34),fe(2),$()()),2&n){const t=Ft();Ae(),Be("ngStyle",ch(3,mpe,t.progress+"%")),Mi("aria-valuenow",t.progress),Ae(),gr(" ",t.progress,"% ")}}function Cpe(n,e){if(1&n&&(q(0,"div",35),fe(1),$()),2&n){const t=Ft();Ae(),jn(t.message)}}function Spe(n,e){if(1&n){const t=Tr();q(0,"div",24)(1,"input",36),xt("click",function(){return ln(t),un(Ft()._GetPdf())}),$()()}if(2&n){const t=Ft();Ae(),Be("disabled","[...Generando PDF...]"==t.message)}}let Epe=(()=>{class n{constructor(t,i,r){this.algorithmService=t,this.formBuilder=i,this.pdfEngine=r,this.board=[],this.tituloListadoLenguajes="Seleccione Backend",this.btnGenerateCaption="[GENERAR]",this.btnSolveCaption="[RESOLVER]",this.tituloGenerarDesde="Generar Desde",this._cppSourceDivHidden=!0,this._fileUploadDivHidden=!0,this.sudokuSolved=!0,this._sudokuGenerated="",this.progress=0,this.message="",this.downloadLink="",this.rf_searchForm=this.formBuilder.group({_fileUpload:["",ace.required]}),this.pageTitle="[SUDOKU]",console.log("[SUDOKU - INGRESO]")}ngAfterViewInit(){}ngOnInit(){this.__languajeList=new Array,this.__languajeList.push(new oa(0,"(SELECCIONE OPCION..)",!1)),this.__languajeList.push(new oa(1,"(.NET Core/C++)",!0)),this.__languajeList.push(new oa(2,"(Node.js)",!1)),this._cppSourceDivHidden=!1,this.__generateSourceList=new Array,this.__generateSourceList.push(new oa(0,"(SELECCIONE OPCION..)",!1)),this.__generateSourceList.push(new oa(1,"[Desde Archivo]",!1)),this.__generateSourceList.push(new oa(2,"[Desde Backend]",!0))}_cppSourceDivHiddenChanged(){console.log("SUDOKU - [DIV CPP SOURCE CHANGED]"),this._cppSourceDivHidden=1!=this._languajeList.nativeElement.options.selectedIndex,this.message=""}_fileUploadDivHiddenChanged(){console.log("SUDOKU - [DIV FILEUPLOAD CHANGED]"),this._fileUploadDivHidden=1!=this._sourceList.nativeElement.options.selectedIndex,this.message=""}GenerateFromBackend(){let t;switch(console.log("[SUDOKU - GENERATE FROM BACKEND]"),this._languajeList.nativeElement.options.selectedIndex){case 1:t=this.algorithmService._GetSudoku();break;case 2:t=this.algorithmService._GetSudoku_NodeJS();break;default:return}this.sudokuSolved=!1,this.btnGenerateCaption="[...generando...]",t.subscribe({next:s=>{console.log("[SUDOKU - GENERATE] - (return): "+s),this._sudokuGenerated=s;let o=(s=(s=(s=(s=(s=s.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let a=0;a<9;a++){const l=[];console.log(o[a]);const c=o[a].split(",");for(let u=0;u<9;u++)l.push(parseInt(c[u]));this.board.push(l)}},error:s=>{console.error("[SUDOKU - GENERATE] - (ERROR) : "+JSON.stringify(s.message)),this.btnGenerateCaption="[GENERAR]"},complete:()=>{console.log("[SUDOKU - GENERATE] -  (COMPLETE)"),this.btnGenerateCaption="[GENERAR]",this.message="[Se gener\xf3 correctamente]"}})}selectFile(t){this.selectedFiles=t.target.files}upload(){if(console.log("[SUDOKU - GENERATE  FROM FILE]"),this.selectedFiles){const t=this.selectedFiles.item(0);t&&(this.progress=0,this.message="...cargando...",this.sudokuSolved=!1,this.btnGenerateCaption="[...generando...]",this.currentFile=t,this.algorithmService.uploadSudoku(this.currentFile).subscribe({next:i=>{if(i.type===fd.UploadProgress)this.progress=Math.round(100*i.loaded/i.total);else if(i instanceof pd){console.log("RESPONSE : "+i.body);let r=i.body;r=r.replaceAll('"',""),r=r.replace(/\\r/g,""),r=r.replace(/\\n/g,""),this._sudokuGenerated=r,r=r.replaceAll("[",""),r=r.replaceAll("]",""),r=r.replaceAll("},","|"),r=r.replaceAll("{",""),r=r.replaceAll("}","");let s=r.split("|");this.board=[];for(let o=0;o<9;o++){const a=[];console.log(s[o]);const l=s[o].split(",");for(let c=0;c<9;c++)a.push(parseInt(l[c]));this.board.push(a)}}},error:i=>{console.error("[SUDOKU - GENERATE  FROM FILE] -  (ERROR)"),console.error(i),this.progress=0,this.message=i.error&&i.error.message?i.error.message:"[Could not upload the file!]",this.currentFile=void 0,this.btnGenerateCaption="[GENERAR]"},complete:()=>{console.log("[SUDOKU - GENERATE  FROM FILE] -  (COMPLETE)"),this.btnGenerateCaption="[GENERAR]",this.message="[Se gener\xf3 correctamente]",this.selectedFiles=void 0,this.currentFile=void 0}}))}else this.message="[Favor seleccione archivo...]"}_GetSudoku(){switch(console.log("[SUDOKU - GENERATE - MAIN MENU]"),this._sourceList.nativeElement.options.selectedIndex){case 1:this.upload();break;case 2:this.GenerateFromBackend();break;default:return}}_SolveSudoku(){let t;switch(console.log("[SUDOKU - SOLVE] \n"+this._sudokuGenerated),this.sudokuSolved=!0,this.btnSolveCaption="[...resolviendo...]",this._languajeList.nativeElement.options.selectedIndex){case 1:t=this.algorithmService._SolveSudoku(this._sudokuGenerated);break;case 2:t=this.algorithmService._SolveSudoku_NodeJS(this._sudokuGenerated);break;default:return}t.subscribe({next:s=>{console.log("[SUDOKU - SOLVE] - (return): "+s),this._sudokuGenerated=s;let o=(s=(s=(s=(s=(s=s.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let a=0;a<9;a++){const l=[];console.log(o[a]);const c=o[a].split(",");for(let u=0;u<9;u++)l.push(parseInt(c[u]));this.board.push(l)}},error:s=>{console.error("[SUDOKU - SOLVE] - (ERROR) : "+JSON.stringify(s.message)),this.message="[Ha ocurrido un error]"},complete:()=>{console.log("[SUDOKU - SOLVE] -  (COMPLETE)"),this.btnSolveCaption="[RESOLVER]",this.message="[Se resolvi\xf3 correctamente]",this.selectedFiles=void 0,this.currentFile=void 0,this.rf_searchForm.reset()}})}_GetPdf(){let i="SUDOKU_BOARD_"+(this.sudokuSolved?"SOLVED":"STARTED"),r="";this.message="[...Generando PDF...]",this.pdfEngine._GetPDF(this.pageTitle,this._sudoku_board,this._sudoku_board,i).subscribe({next:s=>{r=s},error:s=>{this.message="ha ocurrido un error : "+s.message},complete:()=>{this.message=`Se ha generado el archivo PDF :[ ${r} ]`}})}static{this.\u0275fac=function(i){return new(i||n)(et(m7),et($ce),et(dpe))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-sudoku"]],viewQuery:function(i,r){if(1&i&&(Li(Ape,5),Li(fpe,5),Li(ppe,5),Li(gpe,5)),2&i){let s;Tn(s=Mn())&&(r._languajeList=s.first),Tn(s=Mn())&&(r._sourceList=s.first),Tn(s=Mn())&&(r._fileUpload=s.first),Tn(s=Mn())&&(r._sudoku_board=s.first)}},decls:58,vars:15,consts:[["_sudoku_board",""],["_languajeList",""],["_SourceList",""],["_fileUpload",""],[1,"sudoku-board"],[4,"ngFor","ngForOf"],["id","LangListDiv","align","left"],["id","tituloListadoLenguajes"],["for","LanguajeList"],["id","LanguageList","name","LanguajeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","cppSoureDiv",3,"hidden"],["href","javascript: void window.open('https://github.com/aperezNWO/CppBuilder01/blob/master/Project2/Sudoku.cpp')"],["id","SourceListDiv","align","left"],["for","SourceList"],["id","SourceList","name","SourceList",3,"change"],[3,"ngSubmit","formGroup"],["align","left",1,"fileUpload",3,"hidden"],["href","./assets/sudoku.txt","target","_blank","download","sudoku.txt"],[1,"col-12"],[1,"btn","btn-default","p-0"],["type","file","name","_fileUpload","formControlName","_fileUpload",3,"change"],["id","resetFile","type","reset"],["class","progress my-3",4,"ngIf"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["id","GetSudoku","type","button",3,"click","value","disabled"],["id","SolveSudoku","type","submit",3,"value","disabled"],["align","left",4,"ngIf"],["align","right"],["routerLink","/Dev"],[3,"className"],[3,"value","selected"],[1,"progress","my-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped",3,"ngStyle"],["role","alert",1,"alert","alert-secondary"],["type","button","name","btnGeneratePdf","value","[GENERAR PDF]",3,"click","disabled"]],template:function(i,r){if(1&i){const s=Tr();q(0,"h1"),fe(1,"SUDOKU BOARD"),$(),Xe(2,"hr"),q(3,"div",4,0)(5,"table")(6,"tbody"),Ht(7,vpe,2,1,"tr",5),$()()(),Xe(8,"hr"),q(9,"div",6)(10,"span",7),fe(11),$(),Xe(12,"label",8),fe(13," \xa0\xa0 "),q(14,"select",9,1),xt("change",function(){return ln(s),un(r._cppSourceDivHiddenChanged())}),Ht(16,ype,2,3,"option",10),$(),fe(17," \xa0\xa0 "),q(18,"span",11)(19,"a",12),fe(20,"[View Source]"),$()()(),Xe(21,"hr"),q(22,"div",13)(23,"span",7),fe(24),$(),Xe(25,"label",14),fe(26," \xa0\xa0 "),q(27,"select",15,2),xt("change",function(){return ln(s),un(r._fileUploadDivHiddenChanged())}),Ht(29,wpe,2,3,"option",10),$()(),Xe(30,"hr"),q(31,"form",16),xt("ngSubmit",function(){return ln(s),un(r._SolveSudoku())}),q(32,"div",17)(33,"a",18),fe(34,"[Download Template]"),$(),Xe(35,"hr"),q(36,"div",19)(37,"label",20)(38,"input",21,3),xt("change",function(a){return ln(s),un(r.selectFile(a))}),$()(),fe(40," | "),q(41,"button",22),fe(42,"[RESET]"),$()(),Xe(43,"hr"),Ht(44,bpe,3,5,"div",23),$(),q(45,"div",24),Ht(46,Cpe,2,1,"div",25),$(),Xe(47,"hr"),q(48,"div",24)(49,"input",26),xt("click",function(){return ln(s),un(r._GetSudoku())}),$(),fe(50," | "),Xe(51,"input",27),$()(),Xe(52,"hr"),Ht(53,Spe,2,1,"div",28),Xe(54,"hr"),q(55,"div",29)(56,"a",30),fe(57,"[Volver al menu]"),$()()}2&i&&(Ae(7),Be("ngForOf",r.board),Ae(4),jn(r.tituloListadoLenguajes),Ae(5),Be("ngForOf",r.__languajeList),Ae(2),Be("hidden",r._cppSourceDivHidden),Ae(6),jn(r.tituloGenerarDesde),Ae(5),Be("ngForOf",r.__generateSourceList),Ae(2),Be("formGroup",r.rf_searchForm),Ae(),Be("hidden",r._fileUploadDivHidden),Ae(12),Be("ngIf",r.currentFile),Ae(2),Be("ngIf",r.message),Ae(3),Be("value",r.btnGenerateCaption)("disabled","[...generando...]"==r.btnGenerateCaption||"[...resolviendo...]"==r.btnSolveCaption),Ae(2),Be("value",r.btnSolveCaption)("disabled","[...resolviendo...]"==r.btnSolveCaption||"[...generando...]"==r.btnGenerateCaption||1==r.sudokuSolved),Ae(2),Be("ngIf",r.board.length>0))},dependencies:[wr,sa,ll,UE,q1,Hp,Vp,Up,k1,H1,ax,zR],styles:[".sudoku-board[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;height:auto;border:1px solid black}.sudoku-cell_bright[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid black;text-align:center;font-size:20px;background-color:#fff}.sudoku-cell_dark[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid black;text-align:center;font-size:20px;background-color:#ccc}.fileUpload[_ngcontent-%COMP%]{padding:1em;background-color:#ccc}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#007bff}"]})}}return n})(),xpe=(()=>{class n{constructor(){this.value=null,this.clickEvent=new H}onClick(){this.clickEvent.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-square"]],inputs:{value:"value"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[Ks],decls:2,vars:1,consts:[[1,"square",3,"click"]],template:function(i,r){1&i&&(q(0,"button",0),xt("click",function(){return r.onClick()}),fe(1),$()),2&i&&(Ae(),jn(null==r.value?"_":r.value))},dependencies:[Op],styles:[".square[_ngcontent-%COMP%]{width:50px;height:50px}"]})}}return n})(),yj=(()=>{class n{constructor(){this.COMPUTER=1,this.HUMAN=2,this.COMPUTERMOVE="O",this.HUMANMOVE="X",this.SIDE=3,this.boardSurface=this.SIDE*this.SIDE,this.whoseTurn=this.HUMAN,this.moveIndex=0,this.board=[],this.winner=null,this.squares=Array(this.boardSurface).fill(null),this.message="",this.initialise()}initialise(){this.squares=[],this.squares=Array(9).fill(null),this.board=[];for(let t=0;t<this.SIDE;t++){const i=[];for(let r=0;r<this.SIDE;r++)i.push(null);this.board.push(i)}this.winner=null,this.moveIndex=0,this.message=""}declareWinner(t){t==this.COMPUTER?(this.message="[gan\xf3 COMPUTADOR]",this.winner=this.COMPUTERMOVE):(this.message="[gan\xf3 HUMANO]",this.winner=this.HUMANMOVE)}rowCrossed(t){for(let i=0;i<this.SIDE;i++)if(t[i][0]==t[i][1]&&t[i][1]==t[i][2]&&null!=t[i][0])return!0;return!1}columnCrossed(t){for(let i=0;i<this.SIDE;i++)if(t[0][i]==t[1][i]&&t[1][i]==t[2][i]&&null!=t[0][i])return!0;return!1}diagonalCrossed(t){return t[0][0]==t[1][1]&&t[1][1]==t[2][2]&&null!=t[0][0]||t[0][2]==t[1][1]&&t[1][1]==t[2][0]&&null!=t[0][2]}gameOver(t){return this.rowCrossed(t)||this.columnCrossed(t)||this.diagonalCrossed(t)}minimax(t,i,r){let s=0,o=0;if(1==this.gameOver(t)){if(1==r)return-1;if(0==r)return 1}if(i<9){if(1==r){o=-999;for(let a=0;a<this.SIDE;a++)for(let l=0;l<this.SIDE;l++)null==t[a][l]&&(t[a][l]=this.COMPUTERMOVE,s=this.minimax(t,i+1,!1),t[a][l]=null,s>o&&(o=s));return o}o=999;for(let a=0;a<this.SIDE;a++)for(let l=0;l<this.SIDE;l++)null==t[a][l]&&(t[a][l]=this.HUMANMOVE,s=this.minimax(t,i+1,!0),t[a][l]=null,s<o&&(o=s));return o}return 0}bestMove(t,i){let r=-1,s=-1,o=0,a=-999;for(let l=0;l<this.SIDE;l++)for(let c=0;c<this.SIDE;c++)null==t[l][c]&&(t[l][c]=this.COMPUTERMOVE,o=this.minimax(t,i+1,!1),t[l][c]=null,o>a&&(a=o,r=l,s=c));return 3*r+s}doPlay(t,i,r){this.whoseTurn=t;let s=0;switch(t){case this.COMPUTER:s=Math.abs(this.bestMove(this.board,this.moveIndex));break;case this.HUMAN:s=r}let o=Math.floor(s/this.SIDE),a=Math.floor(s%this.SIDE);this.board[o][a]=i,this.squares[s]=i,this.moveIndex++}_declareWinner(){let t=0==this.gameOver(this.board);return console.log("[TIC-TAC-TOE] - [Declare Winner] "),0==(t&&this.moveIndex!=this.boardSurface)&&(t&&this.moveIndex==this.boardSurface?(this.message="[EMPATE]",this.winner=null):this.declareWinner(this.whoseTurn),!0)}makeHumanMove(t){this.doPlay(this.HUMAN,this.HUMANMOVE,t)}makeComputerMove(){this.doPlay(this.COMPUTER,this.COMPUTERMOVE,0)}makeMove(t){this.squares[t]||this.winner||(this.makeHumanMove(t),0==this._declareWinner()&&(this.makeComputerMove(),this._declareWinner()))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Tpe=["_SourceList"],wj=()=>[0,1,2];function Mpe(n,e){if(1&n){const t=Tr();q(0,"app-square",15),xt("clickEvent",function(){const r=ln(t).$implicit,s=Ft().$implicit;return un(Ft(2).makeMove(3*s+r))}),$()}if(2&n){const t=e.$implicit,i=Ft().$implicit;Be("value",Ft(2).ticTacToeEngine.squares[3*i+t])}}function Dpe(n,e){1&n&&(q(0,"div",13),Ht(1,Mpe,1,1,"app-square",14),$()),2&n&&(Ae(),Be("ngForOf",b1(1,wj)))}function Bpe(n,e){1&n&&(q(0,"span",11),Ht(1,Dpe,2,2,"div",12),$()),2&n&&(Ae(),Be("ngForOf",b1(1,wj)))}function Ipe(n,e){if(1&n&&(q(0,"option",16),fe(1),$()),2&n){const t=e.$implicit;Be("value",t._index)("selected",t._selected),Ae(),gr("",t._value," ")}}function Npe(n,e){if(1&n&&(q(0,"div",17)(1,"b"),fe(2),$()()),2&n){const t=Ft();Ae(2),jn(t.ticTacToeEngine.message)}}let bj=(()=>{class n{constructor(){this.tituloSource="\xbfQuien Inicia?",this.IsNewGame=!1,this.showBoard=!1,this.ticTacToeEngine=new yj}ngOnInit(){console.log("[TIC-TAC-TOE - INICIAR VALORES"),this.__SourceList=new Array,this.__SourceList.push(new oa(0,"(SELECCIONE OPCION..)",!1)),this.__SourceList.push(new oa(this.ticTacToeEngine.COMPUTER,"[INICIA MAQUINA]",!0)),this.__SourceList.push(new oa(this.ticTacToeEngine.HUMAN,"[INICIA JUGADOR]",!1)),this.ticTacToeEngine.initialise()}ngAfterViewInit(){this._sourceList.nativeElement.options.selectedIndex=1}_tituloSourceChanged(){}makeMove(t){console.log(`[TIC-TAC-TOE] - [Click on cel : {${t}}] `),this.ticTacToeEngine.makeMove(t)}newGame(){console.log("[GAME - TIC-TAC-TOE] - [NEW GAME]"),this.ticTacToeEngine.initialise(),this.IsNewGame=!0,this.showBoard=!1}startGame(){console.log("[GAME - TIC-TAC-TOE] - [START GAME]"),this._sourceList.nativeElement.options[this._sourceList.nativeElement.options.selectedIndex].value==this.ticTacToeEngine.COMPUTER&&this.ticTacToeEngine.makeComputerMove(),this.IsNewGame=!1,this.showBoard=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-board"]],viewQuery:function(i,r){if(1&i&&Li(Tpe,5),2&i){let s;Tn(s=Mn())&&(r._sourceList=s.first)}},standalone:!0,features:[Ks],decls:19,vars:7,consts:[["_SourceList",""],["class","board","align","center",4,"ngIf"],["id","SourceListDiv","align","left"],["id","tituloSource"],["for","_SourceList"],["id","_SourceList","name","_SourceList",3,"change","disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["type","button","value","[NUEVO]",3,"click","disabled"],["type","button","value","[INICIAR]",3,"click","disabled"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["align","center",1,"board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"value","clickEvent",4,"ngFor","ngForOf"],[3,"clickEvent","value"],[3,"value","selected"],["role","alert",1,"alert","alert-secondary"]],template:function(i,r){if(1&i){const s=Tr();q(0,"h1"),fe(1,"[TIC-TAC-TOE BOARD]"),$(),Xe(2,"hr"),Ht(3,Bpe,2,2,"span",1),Xe(4,"hr"),q(5,"div",2)(6,"span",3),fe(7),$(),Xe(8,"label",4),fe(9," \xa0\xa0 "),q(10,"select",5,0),xt("change",function(){return ln(s),un(r._tituloSourceChanged())}),Ht(12,Ipe,2,3,"option",6),$()(),Xe(13,"hr"),q(14,"input",7),xt("click",function(){return ln(s),un(r.newGame())}),$(),q(15,"input",8),xt("click",function(){return ln(s),un(r.startGame())}),$(),Xe(16,"hr"),q(17,"div",9),Ht(18,Npe,3,1,"div",10),$()}2&i&&(Ae(3),Be("ngIf",r.showBoard),Ae(4),jn(r.tituloSource),Ae(3),Be("disabled",0==r.IsNewGame),Ae(2),Be("ngForOf",r.__SourceList),Ae(2),Be("disabled",1==r.IsNewGame),Ae(),Be("disabled",0==r.IsNewGame),Ae(3),Be("ngIf",r.ticTacToeEngine.message))},dependencies:[xpe,Op,sa,ll]})}}return n})(),Rpe=(()=>{class n{constructor(){console.log("[TIC-TAC-TOE - INICIO COMPONENTE")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-tic-tac-toe"]],decls:5,vars:0,consts:[["align","right"],["routerLink","/Dev"]],template:function(i,r){1&i&&(Xe(0,"app-board")(1,"hr"),q(2,"div",0)(3,"a",1),fe(4,"[Volver al Menu]"),$()())},dependencies:[bj,wr]})}}return n})(),Fpe=(()=>{class n{constructor(){this.value=null,this.clickEvent=new H}onClick(){this.clickEvent.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-square-online"]],inputs:{value:"value"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[Ks],decls:2,vars:1,consts:[[1,"square",3,"click"]],template:function(i,r){1&i&&(q(0,"button",0),xt("click",function(){return r.onClick()}),fe(1),$()),2&i&&(Ae(),jn(null==r.value?"_":r.value))},styles:[".square[_ngcontent-%COMP%]{width:50px;height:50px}"]})}}return n})();const yh=Object.create(null);yh.open="0",yh.close="1",yh.ping="2",yh.pong="3",yh.message="4",yh.upgrade="5",yh.noop="6";const lT=Object.create(null);Object.keys(yh).forEach(n=>{lT[yh[n]]=n});const CO={type:"error",data:"parser error"},Cj="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Sj="function"==typeof ArrayBuffer,Ej=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,SO=({type:n,data:e},t,i)=>Cj&&e instanceof Blob?t?i(e):xj(e,i):Sj&&(e instanceof ArrayBuffer||Ej(e))?t?i(e):xj(new Blob([e]),i):i(yh[n]+(e||"")),xj=(n,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(n)};function Tj(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let EO;const Ew=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<64;n++)Ew["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(n)]=n;const Lpe="function"==typeof ArrayBuffer,xO=(n,e)=>{if("string"!=typeof n)return{type:"message",data:Mj(n,e)};const t=n.charAt(0);return"b"===t?{type:"message",data:Upe(n.substring(1),e)}:lT[t]?n.length>1?{type:lT[t],data:n.substring(1)}:{type:lT[t]}:CO},Upe=(n,e)=>{if(Lpe){const t=(n=>{let i,s,o,a,l,e=.75*n.length,t=n.length,r=0;"="===n[n.length-1]&&(e--,"="===n[n.length-2]&&e--);const c=new ArrayBuffer(e),u=new Uint8Array(c);for(i=0;i<t;i+=4)s=Ew[n.charCodeAt(i)],o=Ew[n.charCodeAt(i+1)],a=Ew[n.charCodeAt(i+2)],l=Ew[n.charCodeAt(i+3)],u[r++]=s<<2|o>>4,u[r++]=(15&o)<<4|a>>2,u[r++]=(3&a)<<6|63&l;return c})(n);return Mj(t,e)}return{base64:!0,data:n}},Mj=(n,e)=>"blob"===e?n instanceof Blob?n:new Blob([n]):n instanceof ArrayBuffer?n:n.buffer;let TO;function cT(n){return n.reduce((e,t)=>e+t.length,0)}function uT(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let i=0;for(let r=0;r<e;r++)t[r]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),t}function Ys(n){if(n)return function Gpe(n){for(var e in Ys.prototype)n[e]=Ys.prototype[e];return n}(n)}Ys.prototype.on=Ys.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},Ys.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},Ys.prototype.off=Ys.prototype.removeListener=Ys.prototype.removeAllListeners=Ys.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var i,r=0;r<t.length;r++)if((i=t[r])===e||i.fn===e){t.splice(r,1);break}return 0===t.length&&delete this._callbacks["$"+n],this},Ys.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){i=0;for(var r=(t=t.slice(0)).length;i<r;++i)t[i].apply(this,e)}return this},Ys.prototype.emitReserved=Ys.prototype.emit,Ys.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Ys.prototype.hasListeners=function(n){return!!this.listeners(n).length};const hT="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Nc=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Ij(n,...e){return e.reduce((t,i)=>(n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}const jpe=Nc.setTimeout,Wpe=Nc.clearTimeout;function dT(n,e){e.useNativeTimers?(n.setTimeoutFn=jpe.bind(Nc),n.clearTimeoutFn=Wpe.bind(Nc)):(n.setTimeoutFn=Nc.setTimeout.bind(Nc),n.clearTimeoutFn=Nc.clearTimeout.bind(Nc))}function Kpe(n){return"string"==typeof n?function qpe(n){let e=0,t=0;for(let i=0,r=n.length;i<r;i++)e=n.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}(n):Math.ceil(1.33*(n.byteLength||n.size))}function Nj(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Jpe extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class MO extends Ys{constructor(e){super(),this.writable=!1,dT(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,i){return super.emitReserved("error",new Jpe(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=xO(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function Xpe(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}(e);return t.length?"?"+t:""}}class Zpe extends MO{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((n,e)=>{const t=n.split("\x1e"),i=[];for(let r=0;r<t.length;r++){const s=xO(t[r],e);if(i.push(s),"error"===s.type)break}return i})(e,this.socket.binaryType).forEach(i=>{if("opening"===this.readyState&&"open"===i.type&&this.onOpen(),"close"===i.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((n,e)=>{const t=n.length,i=new Array(t);let r=0;n.forEach((s,o)=>{SO(s,!1,a=>{i[o]=a,++r===t&&e(i.join("\x1e"))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Nj()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let Rj=!1;try{Rj=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ege=Rj;function tge(){}class nge extends Zpe{constructor(e){if(super(e),typeof location<"u"){const t="https:"===location.protocol;let i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}let AT=(()=>{class n extends Ys{constructor(t,i,r){super(),this.createRequest=t,dT(this,r),this._opts=r,this._method=r.method||"GET",this._uri=i,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var t;const i=Ij(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(i);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;3===r.readyState&&(null===(s=this._opts.cookieJar)||void 0===s||s.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof r.status?r.status:0)},0))},r.send(this._data)}catch(s){return void this.setTimeoutFn(()=>{this._onError(s)},0)}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||null===this._xhr)){if(this._xhr.onreadystatechange=tge,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();function Fj(){for(let n in AT.requests)AT.requests.hasOwnProperty(n)&&AT.requests[n].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",Fj):"function"==typeof addEventListener&&addEventListener("onpagehide"in Nc?"pagehide":"unload",Fj,!1));const ige=function(){const n=Oj({xdomain:!1});return n&&null!==n.responseType}();function Oj(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ege))return new XMLHttpRequest}catch{}if(!e)try{return new(Nc[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}const Pj=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class sge extends MO{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,i=Pj?{}:Ij(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],r=t===e.length-1;SO(i,this.supportsBinary,s=>{try{this.doWrite(i,s)}catch{}r&&hT(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Nj()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const DO=Nc.WebSocket||Nc.MozWebSocket,lge={websocket:class oge extends sge{createSocket(e,t,i){return Pj?new DO(e,t,i):t?new DO(e,t):new DO(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class age extends MO{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function Qpe(n,e){TO||(TO=new TextDecoder);const t=[];let i=0,r=-1,s=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(0===i){if(cT(t)<1)break;const l=uT(t,1);s=!(128&~l[0]),r=127&l[0],i=r<126?3:126===r?1:2}else if(1===i){if(cT(t)<2)break;const l=uT(t,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(2===i){if(cT(t)<8)break;const l=uT(t,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(CO);break}r=u*Math.pow(2,32)+c.getUint32(4),i=3}else{if(cT(t)<r)break;const l=uT(t,r);a.enqueue(xO(s?l:TO.decode(l),e)),i=0}if(0===r||r>n){a.enqueue(CO);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),r=function Vpe(){return new TransformStream({transform(n,e){!function Ope(n,e){Cj&&n.data instanceof Blob?n.data.arrayBuffer().then(Tj).then(e):Sj&&(n.data instanceof ArrayBuffer||Ej(n.data))?e(Tj(n.data)):SO(n,!1,t=>{EO||(EO=new TextEncoder),e(EO.encode(t))})}(n,t=>{const i=t.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,i)}else{r=new Uint8Array(9);const s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(i))}n.data&&"string"!=typeof n.data&&(r[0]|=128),e.enqueue(r),e.enqueue(t)})}})}();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const s=()=>{i.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=t===e.length-1;this._writer.write(e[t]).then(()=>{r&&hT(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class rge extends nge{constructor(e){super(e),this.supportsBinary=ige&&!(e&&e.forceBase64)}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new AT(Oj,this.uri(),e)}}},cge=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,uge=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function BO(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),i=n.indexOf("]");-1!=t&&-1!=i&&(n=n.substring(0,t)+n.substring(t,i).replace(/:/g,";")+n.substring(i,n.length));let r=cge.exec(n||""),s={},o=14;for(;o--;)s[uge[o]]=r[o]||"";return-1!=t&&-1!=i&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function hge(n,e){const i=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.slice(0,1)||0===e.length)&&i.splice(0,1),"/"==e.slice(-1)&&i.splice(i.length-1,1),i}(0,s.path),s.queryKey=function dge(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,s){r&&(t[r]=s)}),t}(0,s.query),s}const IO="function"==typeof addEventListener&&"function"==typeof removeEventListener,fT=[];IO&&addEventListener("offline",()=>{fT.forEach(n=>n())},!1);let NO=(()=>{class n extends Ys{constructor(t,i){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(i=t,t=null),t){const r=BO(t);i.hostname=r.host,i.secure="https"===r.protocol||"wss"===r.protocol,i.port=r.port,r.query&&(i.query=r.query)}else i.host&&(i.hostname=BO(i.host).host);dT(this,i),this.secure=null!=i.secure?i.secure:typeof location<"u"&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function Ype(n){let e={},t=n.split("&");for(let i=0,r=t.length;i<r;i++){let s=t[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}(this.opts.query)),IO&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},fT.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const i=Object.assign({},this.opts.query);i.EIO=4,i.transport=t,this.id&&(i.sid=this.id);const r=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(t);i.open(),this.setTransport(i)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=t.data,this._onError(i);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(i+=Kpe(s)),r>0&&i>this._maxPayload)return this.writeBuffer.slice(0,r);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,hT(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,i,r){return this._sendPacket("message",t,i,r),this}send(t,i,r){return this._sendPacket("message",t,i,r),this}_sendPacket(t,i,r,s){if("function"==typeof i&&(s=i,i=void 0),"function"==typeof r&&(s=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const o={type:t,data:i,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),t()},r=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,i){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),IO&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=fT.indexOf(this._offlineEventListener);-1!==r&&fT.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,i),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=4,n})();class Age extends NO{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),i=!1;NO.priorWebsocketSuccess=!1;const r=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!i)if("pong"===h.type&&"probe"===h.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;NO.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const A=new Error("probe error");A.transport=t.name,this.emitReserved("upgradeError",A)}}))};function s(){i||(i=!0,u(),t.close(),t=null)}const o=h=>{const A=new Error("probe error: "+h);A.transport=t.name,s(),this.emitReserved("upgradeError",A)};function a(){o("transport closed")}function l(){o("socket closed")}function c(h){t&&h.name!==t.name&&s()}const u=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};t.once("open",r),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}}class Lj extends Age{constructor(e,t={}){const i="object"==typeof e?e:t;(!i.transports||i.transports&&"string"==typeof i.transports[0])&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(r=>lge[r]).filter(r=>!!r)),super(e,i)}}const pge="function"==typeof ArrayBuffer,gge=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,Uj=Object.prototype.toString,mge="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Uj.call(Blob),_ge="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===Uj.call(File);function RO(n){return pge&&(n instanceof ArrayBuffer||gge(n))||mge&&n instanceof Blob||_ge&&n instanceof File}function pT(n,e){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++)if(pT(n[t]))return!0;return!1}if(RO(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return pT(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&pT(n[t]))return!0;return!1}function vge(n){const e=[],i=n;return i.data=FO(n.data,e),i.attachments=e.length,{packet:i,buffers:e}}function FO(n,e){if(!n)return n;if(RO(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){const t=new Array(n.length);for(let i=0;i<n.length;i++)t[i]=FO(n[i],e);return t}if("object"==typeof n&&!(n instanceof Date)){const t={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=FO(n[i],e));return t}return n}function yge(n,e){return n.data=OO(n.data,e),delete n.attachments,n}function OO(n,e){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=OO(n[t],e);else if("object"==typeof n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=OO(n[t],e));return n}const wge=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],bge=5;var ki=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(ki||{});class Cge{constructor(e){this.replacer=e}encode(e){return e.type!==ki.EVENT&&e.type!==ki.ACK||!pT(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===ki.EVENT?ki.BINARY_EVENT:ki.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return(e.type===ki.BINARY_EVENT||e.type===ki.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=vge(e),i=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(i),r}}function kj(n){return"[object Object]"===Object.prototype.toString.call(n)}class PO extends Ys{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===ki.BINARY_EVENT;i||t.type===ki.BINARY_ACK?(t.type=i?ki.EVENT:ki.ACK,this.reconstructor=new Sge(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!RO(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(void 0===ki[i.type])throw new Error("unknown packet type "+i.type);if(i.type===ki.BINARY_EVENT||i.type===ki.BINARY_ACK){const s=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(s,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===e.charAt(t+1)){const s=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);i.nsp=e.substring(s,t)}else i.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const s=t+1;for(;++t;){const o=e.charAt(t);if(null==o||Number(o)!=o){--t;break}if(t===e.length)break}i.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(!PO.isPayloadValid(i.type,s))throw new Error("invalid payload");i.data=s}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case ki.CONNECT:return kj(t);case ki.DISCONNECT:return void 0===t;case ki.CONNECT_ERROR:return"string"==typeof t||kj(t);case ki.EVENT:case ki.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===wge.indexOf(t[0]));case ki.ACK:case ki.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Sge{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=yge(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Mu(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const Ege=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Hj extends Ys{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Mu(e,"open",this.onopen.bind(this)),Mu(e,"packet",this.onpacket.bind(this)),Mu(e,"error",this.onerror.bind(this)),Mu(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var i,r,s;if(Ege.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:ki.EVENT,data:t,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const u=this.ids++,h=t.pop();this._registerAckCallback(u,h),o.id=u}const a=null===(r=null===(i=this.io.engine)||void 0===i?void 0:i.transport)||void 0===r?void 0:r.writable,l=this.connected&&!(null!==(s=this.io.engine)&&void 0!==s&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var i;const r=null!==(i=this.flags.timeout)&&void 0!==i?i:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},r),o=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((i,r)=>{const s=(o,a)=>o?r(o):i(a);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...s)=>i!==this._queue[0]?void 0:(null!==r?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(r)):(this._queue.shift(),t&&t(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ki.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ki.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ki.EVENT:case ki.BINARY_EVENT:this.onevent(e);break;case ki.ACK:case ki.BINARY_ACK:this.onack(e);break;case ki.DISCONNECT:this.ondisconnect();break;case ki.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...r){i||(i=!0,t.packet({type:ki.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ki.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function q_(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}q_.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=1&Math.floor(10*e)?n+t:n-t}return 0|Math.min(n,this.max)},q_.prototype.reset=function(){this.attempts=0},q_.prototype.setMin=function(n){this.ms=n},q_.prototype.setMax=function(n){this.max=n},q_.prototype.setJitter=function(n){this.jitter=n};class LO extends Ys{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,dT(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=t.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new q_({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||Lt;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Lj(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=Mu(t,"open",function(){i.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Mu(t,"error",s);if(!1!==this._timeout){const l=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),t.close()},this._timeout);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Mu(e,"ping",this.onping.bind(this)),Mu(e,"data",this.ondata.bind(this)),Mu(e,"error",this.onerror.bind(this)),Mu(e,"close",this.onclose.bind(this)),Mu(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){hT(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new Hj(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var i;this.cleanup(),null===(i=this.engine)||void 0===i||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const xw={};function gT(n,e){"object"==typeof n&&(e=n,n=void 0);const t=function fge(n,e="",t){let i=n;t=t||typeof location<"u"&&location,null==n&&(n=t.protocol+"//"+t.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?t.protocol+n:t.host+n),/^(https?|wss?):\/\//.test(n)||(n=typeof t<"u"?t.protocol+"//"+n:"https://"+n),i=BO(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+e,i.href=i.protocol+"://"+s+(t&&t.port===i.port?"":":"+i.port),i}(n,(e=e||{}).path||"/socket.io"),i=t.source,r=t.id;let l;return e.forceNew||e["force new connection"]||!1===e.multiplex||xw[r]&&t.path in xw[r].nsps?l=new LO(i,e):(xw[r]||(xw[r]=new LO(i,e)),l=xw[r]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(gT,{Manager:LO,Socket:Hj,io:gT,connect:gT});let Vj=(()=>{class n{constructor(t){this.messages=[],this.onNewMessage=new ci;let i=t.getConfigValue("baseUrlNodeJsChat");console.log("Setting chat from url : "+i),this.socket=gT(i,{extraHeaders:{"Access-Control-Allow-Origin":"*"}}),this.socket.on("message",r=>{console.log("received message : ["+JSON.stringify(r)+"]"),this.messages.push(r),console.log("Message Array (service) : "+this.messages),this.onNewMessage.next(r)})}getMessages(){return console.log("Receiving messages to UIX..."),mn(this.messages)}sendMessage(t){this.socket.emit("message",t)}static{this.\u0275fac=function(i){return new(i||n)(bt(XA))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const xge=["_SourceList"],Qj=()=>[0,1,2];function Tge(n,e){if(1&n){const t=Tr();q(0,"app-square-online",18),xt("clickEvent",function(){const r=ln(t).$implicit,s=Ft().$implicit;return un(Ft(2).makeMove(3*s+r))}),$()}if(2&n){const t=e.$implicit,i=Ft().$implicit;Be("value",Ft(2).ticTacToeEngine.squares[3*i+t])}}function Mge(n,e){1&n&&(q(0,"div",16),Ht(1,Tge,1,1,"app-square-online",17),$()),2&n&&(Ae(),Be("ngForOf",b1(1,Qj)))}function Dge(n,e){1&n&&(q(0,"span",14),Ht(1,Mge,2,2,"div",15),$()),2&n&&(Ae(),Be("ngForOf",b1(1,Qj)))}function Bge(n,e){if(1&n&&(q(0,"option",19),fe(1),$()),2&n){const t=e.$implicit;Be("value",t._index)("selected",t._selected),Ae(),gr("",t._value," ")}}function Ige(n,e){if(1&n&&(q(0,"div",20)(1,"b"),fe(2),$()()),2&n){const t=Ft();Ae(2),jn(t.ticTacToeEngine.message)}}function Nge(n,e){if(1&n&&(q(0,"table",21)(1,"tr")(2,"td")(3,"span"),fe(4),$()()()()),2&n){const t=e.$implicit;Ae(4),gr(" ",t," ")}}let Gj=(()=>{class n{constructor(t,i){this.chatService=t,this.ticTacToeEngine=i,this.parentData=[],this.tituloSource="\xbfQuien Inicia?",this.IsNewGame=!1,this.showBoard=!1}ngOnInit(){this.chatService.getMessages().subscribe(t=>this.parentData=t),this.chatService.onNewMessage.subscribe(t=>this.NotifyingMessage(t)),console.log("[TIC-TAC-TOE - INICIAR VALORES"),this.__SourceList=new Array,this.__SourceList.push(new oa(0,"(SELECCIONE OPCION..)",!1)),this.__SourceList.push(new oa(this.ticTacToeEngine.COMPUTER,"[INICIA MAQUINA]",!0)),this.__SourceList.push(new oa(this.ticTacToeEngine.HUMAN,"[INICIA JUGADOR]",!1)),this.__SourceList.push(new oa(this.ticTacToeEngine.HUMAN,"[JUGAR EN LINEA]",!1)),this.ticTacToeEngine.initialise()}ngAfterViewInit(){this._sourceList.nativeElement.options.selectedIndex=1}NotifyingMessage(t){console.log("Pushing data to client : "+t),console.log("Message Array (client) : "+this.parentData)}sendMessage(t){console.log("sending message: ",t),this.chatService.sendMessage(t)}makeMove(t){let i=`[TIC-TAC-TOE] - [Click on cel : {${t+1}}] `;console.log(i),this.ticTacToeEngine.makeMove(t),this.chatService.sendMessage(i)}newGame(){console.log("[GAME - TIC-TAC-TOE] - [NEW GAME]"),this.ticTacToeEngine.initialise(),this.IsNewGame=!0,this.showBoard=!1}startGame(){console.log("[GAME - TIC-TAC-TOE] - [START GAME]"),this._sourceList.nativeElement.options[this._sourceList.nativeElement.options.selectedIndex].value==this.ticTacToeEngine.COMPUTER&&this.ticTacToeEngine.makeComputerMove(),this.IsNewGame=!1,this.showBoard=!0}static{this.\u0275fac=function(i){return new(i||n)(et(Vj),et(yj))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-board-online"]],viewQuery:function(i,r){if(1&i&&Li(xge,5),2&i){let s;Tn(s=Mn())&&(r._sourceList=s.first)}},standalone:!0,features:[Ks],decls:26,vars:8,consts:[["_SourceList",""],["class","board","align","center",4,"ngIf"],["id","SourceListDiv","align","left"],["id","tituloSource"],["for","_SourceList"],["id","_SourceList","name","_SourceList",3,"disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["align","center"],["type","button","value","[NUEVO]",3,"click","disabled"],["type","button","value","[INICIAR]",3,"click","disabled"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["id","divMessages"],["class","message-data",4,"ngFor","ngForOf"],["align","center",1,"board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"value","clickEvent",4,"ngFor","ngForOf"],[3,"clickEvent","value"],[3,"value","selected"],["role","alert",1,"alert","alert-secondary"],[1,"message-data"]],template:function(i,r){if(1&i){const s=Tr();q(0,"h1"),fe(1,"[TIC-TAC-TOE BOARD]"),$(),Xe(2,"hr"),Ht(3,Dge,2,2,"span",1),Xe(4,"hr"),q(5,"div",2)(6,"span",3),fe(7),$(),Xe(8,"label",4),fe(9," \xa0\xa0 "),q(10,"select",5,0),Ht(12,Bge,2,3,"option",6),$()(),Xe(13,"hr"),q(14,"div",7)(15,"input",8),xt("click",function(){return ln(s),un(r.newGame())}),$(),q(16,"input",9),xt("click",function(){return ln(s),un(r.startGame())}),$()(),Xe(17,"hr"),q(18,"div",10),Ht(19,Ige,3,1,"div",11),$(),Xe(20,"hr"),q(21,"h4"),fe(22,"[MESSAGES]"),$(),Xe(23,"hr"),q(24,"div",12),Ht(25,Nge,5,1,"table",13),$()}2&i&&(Ae(3),Be("ngIf",r.showBoard),Ae(4),jn(r.tituloSource),Ae(3),Be("disabled",0==r.IsNewGame),Ae(2),Be("ngForOf",r.__SourceList),Ae(3),Be("disabled",1==r.IsNewGame),Ae(),Be("disabled",0==r.IsNewGame),Ae(3),Be("ngIf",r.ticTacToeEngine.message),Ae(6),Be("ngForOf",r.parentData))},dependencies:[Op,sa,ll,Fpe]})}}return n})(),Rge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-tic-tac-toe-online"]],decls:5,vars:0,consts:[["align","right"],["routerLink","/Dev"]],template:function(i,r){1&i&&(Xe(0,"app-board-online")(1,"hr"),q(2,"div",0)(3,"a",1),fe(4,"[Volver al Menu]"),$()())},dependencies:[Gj,wr]})}}return n})();class X_{constructor(e,t){this.value=e,this.graph=t}}class Fge{constructor(e,t,i){this.n=e,this.from=t,this.to=i}}let zj=(()=>{class n{constructor(){this.towerA=new Map,this.towerB=new Map,this.towerC=new Map,this.steps=[],this._steps=[],this._stepsIndex=0,this._startGame=!0,this._delayInMilliseconds=1500,this._stepsAmt=0,this._diskAmt=0,this.tituloDiskAmtList="Cantidad de Discos",this.gameState$=new Er([[{size:3},{size:2},{size:1}],[],[]]),this.towers$=this.gameState$.asObservable(),this.movesSubject$=new Er(0),this.moves$=this.movesSubject$.asObservable(),this.selectedTower=null,this._diskAmtList=new Array,this._diskAmtList.push(new oa(0,"(seleccione opcion...)",!1)),this._diskAmtList.push(new oa(3,"3",!0)),this._diskAmtList.push(new oa(4,"4",!1))}manual_selectTower(t){null===this.selectedTower?this.selectedTower=t:(this.manual_moveDisk(this.selectedTower,t),this.selectedTower=null)}manual_moveDisk(t,i){const r=this.gameState$.getValue(),s=r[t].pop();if(s){const o=r[i];0===o.length||o[o.length-1].size>s.size?(o.push(s),this.gameState$.next(r),this.movesSubject$.next(this.movesSubject$.getValue()+1),this._checkWinCondition()):r[t].push(s)}}manual_resetGame(){this.gameState$.next([[{size:3},{size:2},{size:1}],[],[]]),this.movesSubject$.next(0),this.selectedTower=null,this.auto_newGame()}_checkWinCondition(){return 3===this.gameState$.getValue()[2].length&&(console.log("Congratulations! You solved the puzzle!"),!0)}auto_printSteps(){if(this._stepsIndex>this._stepsAmt)clearTimeout(this._timeoutId);else{if(0==this._stepsIndex&&this.steps.push("[BEGIN STEPS]"),this._steps[this._stepsIndex]){let t=document.querySelector(".steps-container");t&&(t.scrollTop=t.scrollHeight);let i=this._steps[this._stepsIndex],a=`Step ${this._stepsIndex+1} of ${this._stepsAmt}. Move disk ${i.n} from Tower ${i.from} to Tower ${i.to}`;console.log(a),this.steps.push(a),this.auto_makeMove(i);let l=i.from.charCodeAt(0)-65,c=i.to.charCodeAt(0)-65;console.log(` Manuel Step ${l} to ${c} `),this.manual_moveDisk(l,c)}this._stepsIndex++,this._stepsIndex==this._stepsAmt&&this.steps.push("[END STEPS]"),this._timeoutId=setTimeout(()=>{this.auto_printSteps()},this._delayInMilliseconds)}}auto_makeMove(t){let o,i=t.n,s=t.to;switch(t.from){case"A":o=this.towerA.get(i),this.towerA.set(i,new X_(i,"-"));break;case"B":o=this.towerB.get(i),this.towerB.set(i,new X_(i,"-"));break;case"C":o=this.towerC.get(i),this.towerC.set(i,new X_(i,"-"))}switch(s){case"A":this.towerA.set(i,o);break;case"B":this.towerB.set(i,o);break;case"C":this.towerC.set(i,o)}}auto_saveStep(t,i,r){let s=new Fge(t,i,r);this._steps.push(s),this._stepsAmt++}auto_towerOfHanoi(t,i,r,s){0!==t&&(this.auto_towerOfHanoi(t-1,i,s,r),this.auto_saveStep(t,i,r),this.auto_towerOfHanoi(t-1,s,r,i))}auto_newGame(){if(console.log("[HANOI TOWERS] - [NEW GAME]"),this._diskAmt=3,0===this._diskAmt)return;this.towerA=new Map;let t="";for(let i=1;i<=this._diskAmt;i++)t+="*",this.towerA.set(i,new X_(i,t));this.towerB=new Map;for(let i=1;i<=this._diskAmt;i++)this.towerB.set(i,new X_(i,"-"));this.towerC=new Map;for(let i=1;i<=this._diskAmt;i++)this.towerC.set(i,new X_(i,"-"));this.steps=[],this._steps=[],this._stepsIndex=0,this._stepsAmt=0,this._startGame=!1}auto_startGame(){this.auto_newGame(),console.log("[HANOI TOWERS] - [START GAME]"),0!==this._diskAmt&&(this._startGame=!0,this.auto_towerOfHanoi(this._diskAmt,"A","C","B"),this.auto_printSteps())}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Oge(n,e){if(1&n&&(q(0,"div",8),fe(1),$()),2&n){const t=e.$implicit;u1("width",20*t.size,"px"),Ae(),gr(" ",t.size," ")}}function Pge(n,e){if(1&n&&(q(0,"div",5)(1,"h2"),fe(2),$(),q(3,"div",6),Ht(4,Oge,2,3,"div",7),$()()),2&n){const t=e.$implicit,i=e.index;Ae(2),gr("Tower ",i+1,""),Ae(2),Be("ngForOf",t)}}let Lge=(()=>{class n{constructor(t){this.hanoiEngine=t}ngOnInit(){this.hanoiEngine.manual_resetGame()}static{this.\u0275fac=function(i){return new(i||n)(et(zj))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-hanoi-auto"]],decls:20,vars:8,consts:[[1,"game-container"],["class","tower",4,"ngFor","ngForOf"],[3,"click","disabled"],["align","right"],["routerLink","/Dev"],[1,"tower"],[1,"disks-container"],["class","disk",3,"width",4,"ngFor","ngForOf"],[1,"disk"]],template:function(i,r){1&i&&(q(0,"h4"),fe(1,"[HANOI- AUTO]"),$(),Xe(2,"br"),q(3,"div",0),Ht(4,Pge,5,2,"div",1),ol(5,"async"),$(),Xe(6,"hr"),q(7,"div")(8,"p"),fe(9),ol(10,"async"),$(),q(11,"button",2),xt("click",function(){return r.hanoiEngine.manual_resetGame()}),fe(12,"Reset Game"),$(),fe(13," | "),q(14,"button",2),xt("click",function(){return r.hanoiEngine.auto_startGame()}),fe(15,"Start Game"),$()(),Xe(16,"hr"),q(17,"div",3)(18,"a",4),fe(19,"[Volver al Men\xfa]"),$()()),2&i&&(Ae(4),Be("ngForOf",al(5,4,r.hanoiEngine.towers$)),Ae(5),gr("Moves: ",al(10,6,r.hanoiEngine.moves$),""),Ae(2),Be("disabled",!r.hanoiEngine._checkWinCondition()),Ae(3),Be("disabled",r.hanoiEngine._steps.length>0))},dependencies:[wr,sa,d_],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.tower[_ngcontent-%COMP%]{text-align:center}.disks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100px}.disk[_ngcontent-%COMP%]{height:20px;background-color:#007bff;margin:2px;display:flex;justify-content:center;align-items:center;color:#fff}"]})}}return n})();function Uge(n,e){if(1&n&&(q(0,"div",2)(1,"span"),fe(2),$()()),2&n){const t=e.$implicit;Ae(2),jn(t[1].graph)}}let jj=(()=>{class n{toArray(t){return Array.from(t.entries())}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-tower"]],inputs:{tower:"tower"},standalone:!0,features:[Ks],decls:2,vars:1,consts:[[1,"tower"],["class","disk",4,"ngFor","ngForOf"],[1,"disk"]],template:function(i,r){1&i&&(q(0,"div",0),Ht(1,Uge,3,1,"div",1),$()),2&i&&(Ae(),Be("ngForOf",r.toArray(r.tower)))},dependencies:[Op,sa]})}}return n})();function kge(n,e){if(1&n&&(q(0,"div",17)(1,"span"),fe(2),$()()),2&n){const t=e.$implicit;Ae(2),jn(t)}}function Hge(n,e){if(1&n&&(q(0,"option",18),fe(1),$()),2&n){const t=e.$implicit;Be("value",t._index)("selected",t._selected),Ae(),gr("",t._value," ")}}let Vge=(()=>{class n{constructor(t){this.hanoiEngine=t}static{this.\u0275fac=function(i){return new(i||n)(et(zj))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-games-hanoi"]],decls:40,vars:8,consts:[["__diskAmtList",""],["align","left",1,"game-container"],["width","100%"],["align","center"],["width","33%","align","center"],[3,"tower"],["align","left",1,"steps-container"],["align","left","class","steps-content",4,"ngFor","ngForOf"],["id","diskAmtListDiv","align","left"],["for","diskAmtList"],["id","diskAmtList","name","diskAmtList"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left"],["type","button","id","btnNewGame","value","[NEW GAME]",3,"click","disabled"],["type","button","id","btnStartGame","value","[START GAME]",3,"click","disabled"],["align","right"],["routerLink","/Dev"],["align","left",1,"steps-content"],[3,"value","selected"]],template:function(i,r){if(1&i){const s=Tr();q(0,"h1"),fe(1,"[HANOI TOWER BOARD]"),$(),Xe(2,"hr"),q(3,"div",1)(4,"table",2)(5,"thead")(6,"td",3),fe(7,"A"),$(),q(8,"td",3),fe(9,"B"),$(),q(10,"td",3),fe(11,"C"),$()(),q(12,"tr")(13,"td",4),Xe(14,"app-tower",5),$(),q(15,"td",4),Xe(16,"app-tower",5),$(),q(17,"td",4),Xe(18,"app-tower",5),$()(),Xe(19,"tfoot"),$()(),Xe(20,"hr"),q(21,"div",6),Ht(22,kge,3,1,"div",7),$(),Xe(23,"hr"),q(24,"div",8)(25,"label",9),fe(26),$(),fe(27," \xa0\xa0 "),q(28,"select",10,0),Ht(30,Hge,2,3,"option",11),$()(),Xe(31,"hr"),q(32,"div",12)(33,"input",13),xt("click",function(){return ln(s),un(r.hanoiEngine.auto_newGame())}),$(),fe(34," | "),q(35,"input",14),xt("click",function(){return ln(s),un(r.hanoiEngine.auto_startGame())}),$()(),Xe(36,"hr"),q(37,"div",15)(38,"a",16),fe(39,"[Volver al Men\xfa]"),$()()}2&i&&(Ae(14),Be("tower",r.hanoiEngine.towerA),Ae(2),Be("tower",r.hanoiEngine.towerB),Ae(2),Be("tower",r.hanoiEngine.towerC),Ae(4),Be("ngForOf",r.hanoiEngine.steps),Ae(4),jn(r.hanoiEngine.tituloDiskAmtList),Ae(4),Be("ngForOf",r.hanoiEngine._diskAmtList),Ae(3),Be("disabled",0==r.hanoiEngine._startGame),Ae(2),Be("disabled",1==r.hanoiEngine._startGame))},dependencies:[jj,wr,sa,Hp,Vp],styles:['.game-container[_ngcontent-%COMP%]{width:"100%";padding:1em;background-color:#ccc}.steps-container[_ngcontent-%COMP%]{height:auto;width:100%;border:1px solid #000;padding:.1em;background-color:#ccc}.steps-content[_ngcontent-%COMP%]{padding:.1em}table[_ngcontent-%COMP%]{width:150px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc}']})}}return n})();function Qge(n,e){if(1&n&&(q(0,"div",8),fe(1),$()),2&n){const t=e.$implicit;u1("width",20*t.size,"px"),Ae(),gr(" ",t.size," ")}}function Gge(n,e){if(1&n){const t=Tr();q(0,"div",5)(1,"h2"),fe(2),$(),q(3,"div",6),Ht(4,Qge,2,3,"div",7),$(),q(5,"button",2),xt("click",function(){const r=ln(t).index;return un(Ft().selectTower(r))}),fe(6,"Select"),$()()}if(2&n){const t=e.$implicit,i=e.index;Ae(2),gr("Tower ",i+1,""),Ae(2),Be("ngForOf",t)}}let zge=(()=>{class n{constructor(){this.gameState$=new Er([[{size:3},{size:2},{size:1}],[],[]]),this.towers$=this.gameState$.asObservable(),this.movesSubject$=new Er(0),this.moves$=this.movesSubject$.asObservable(),this.selectedTower=null}ngOnInit(){this.resetGame()}selectTower(t){null===this.selectedTower?this.selectedTower=t:(this.moveDisk(this.selectedTower,t),this.selectedTower=null)}moveDisk(t,i){const r=this.gameState$.getValue(),s=r[t].pop();if(s){const o=r[i];0===o.length||o[o.length-1].size>s.size?(o.push(s),this.gameState$.next(r),this.movesSubject$.next(this.movesSubject$.getValue()+1),this.checkWinCondition()):r[t].push(s)}}resetGame(){this.gameState$.next([[{size:3},{size:2},{size:1}],[],[]]),this.movesSubject$.next(0),this.selectedTower=null}checkWinCondition(){3===this.gameState$.getValue()[2].length&&console.log("Congratulations! You solved the puzzle!")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-hanoi-tower"]],decls:16,vars:6,consts:[[1,"game-container"],["class","tower",4,"ngFor","ngForOf"],[3,"click"],["align","right"],["routerLink","/Dev"],[1,"tower"],[1,"disks-container"],["class","disk",3,"width",4,"ngFor","ngForOf"],[1,"disk"]],template:function(i,r){1&i&&(q(0,"h4"),fe(1,"[HANOI- OBSERVABLE]"),$(),Xe(2,"br"),q(3,"div",0),Ht(4,Gge,7,2,"div",1),ol(5,"async"),$(),q(6,"div")(7,"p"),fe(8),ol(9,"async"),$(),q(10,"button",2),xt("click",function(){return r.resetGame()}),fe(11,"Reset Game"),$()(),Xe(12,"hr"),q(13,"div",3)(14,"a",4),fe(15,"[Volver al Men\xfa]"),$()()),2&i&&(Ae(4),Be("ngForOf",al(5,2,r.towers$)),Ae(4),gr("Moves: ",al(9,4,r.moves$),""))},dependencies:[wr,sa,d_],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.tower[_ngcontent-%COMP%]{text-align:center}.disks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:200px}.disk[_ngcontent-%COMP%]{height:20px;background-color:#007bff;margin:2px;display:flex;justify-content:center;align-items:center;color:#fff}"]})}}return n})();class wh{constructor(e,t,i){this._index=e,this._value=t,this._selected=i}}let Tw=(()=>{class n{get _baseUrlNetCore(){return this.__baseUrlNetCore}set _baseUrlNetCore(t){this.__baseUrlNetCore=t}get _baseUrlNodeJs(){return this.__baseUrlNodeJs}set _baseUrlNodeJs(t){this.__baseUrlNodeJs=t}ngOnInit(){console.log("Calling MCSDService initialization...")}constructor(t,i){this.http=t,this._configService=i,this.HTTPOptions_Text={headers:new Go({Accept:"application/text"}),responseType:"text"},this.HTTPOptions_JSON={headers:new Go({"Content-Type":"application/json"}),responseType:"text"},this.__baseUrlNetCore="",this.__baseUrlNodeJs="",console.log("Calling MCSDService constructor..."),this.__baseUrlNetCore=this._configService.getConfigValue("baseUrlNetCore"),this.__baseUrlNodeJs=this._configService.getConfigValue("baseUrlNodeJs"),console.log("baseUrlNetCore : "+this.__baseUrlNetCore),console.log("baseUrlNodeJs  : "+this.__baseUrlNodeJs)}_GetWebApiAppVersion(){return this.http.get(`${this._baseUrlNetCore}demos/_GetAppVersion`,this.HTTPOptions_Text)}getCSVLinkGET(){return this.http.get(this._baseUrlNetCore+"demos/_GetCSVLinkJsonGET")}getCSVLink(){return this.http.post(this._baseUrlNetCore+"demos/_GetCSVLinkJson",this.HTTPOptions_Text)}getInformeRemotoCSV(){return this.http.get(this._baseUrlNetCore+"demos/GenerarInformeCSVJson",this.HTTPOptions_Text)}getInformeRemotoCSV_STAT(){return this.http.get(this._baseUrlNetCore+"demos/GenerarInformeCSVJsonSTAT",this.HTTPOptions_Text)}_SetSTATPieCache(t){let i=`${t}demos/_SetSTATPieCache`;console.log("Setting STAT Pie data to cache :  "+i),this.http.get(i,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetSTATPieCache - (return): "+o)},error:o=>{console.error("_SetSTATPieCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetSTATPieCache -  (COMPLETE)")}})}getInformeRemotoCSV_NodeJS(){let t=`${this._baseUrlNodeJs}GenerarInformeCSVJson`;console.warn(" REQUESTING URL : "+t);var i={headers:new Go({Accept:"application/text"}),responseType:"text"};return this.http.get(t,i)}getLogRemoto(t){return this.http.get(`${this._baseUrlNetCore}demos/generarinformejson`)}getLogRemotoNodeJS(t){let i=`${this._baseUrlNetCore}demos/generarinformejson`,r=this.http.get(i,this.HTTPOptions_JSON);return console.log("getLogRemotoNodeJS : "+i),r}getInformeExcel(t){return this.http.get(this._baseUrlNetCore+"demos/generarinformexls",this.HTTPOptions_Text)}getLogStatPOST(){return this.http.post(`${this._baseUrlNetCore}demos/GetConsultaLogStatPost`,this.HTTPOptions_JSON)}getLogStatGET(){return this.http.get(`${this._baseUrlNetCore}demos/GetConsultaLogStatGet`)}_SetSTATBarCache(t){let i=`${t}demos/_SetSTATBarCache`;console.log("Setting STAT Bar data to cache :  "+i),this.http.get(i,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetSTATBarCache - (return): "+o)},error:o=>{console.error("_SetSTATBarCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetSTATBarCache -  (COMPLETE)")}})}upload(t){const i=new FormData;i.append("file",t);let r=`${this._baseUrlNetCore}demos/_ZipDemoGetFileName`;console.log("[GENERATE ZIP FILE] - (UPLOADING FILE) url: "+r);const s=new Ad("POST",r,i,{reportProgress:!0,responseType:"text"});return this.http.request(s)}SetZip(t){let i=`${this._baseUrlNetCore}demos/_SetZip?p_fileName=${t}`;return console.log("[GENERATE ZIP FILE] - [GETTING ZIP] - fileName: "+t),console.log("[GENERATE ZIP FILE] - [GETTING ZIP] - url     : "+i),this.http.get(i,this.HTTPOptions_JSON)}GetPDF(t){let i=`${this._baseUrlNetCore}demos/_GetPdf?subjectName=${t}`;console.log("[GENERATE PDF FILE] - [GETTING ZIP] - subjectName  : "+t),console.log("[GENERATE PDF FILE] - [GETTING ZIP] - url          : "+i);const r=new Ad("GET",i,{reportProgress:!0,responseType:"text"});return this.http.request(r)}getRandomVertex(t,i){return this.http.get(`${this._baseUrlNetCore}demos/GenerateRandomVertex?p_vertexSize=${t}&p_sourcePoint=${i}`,this.HTTPOptions_Text)}getRandomVertexCpp(t,i){return this.http.get(`${this._baseUrlNetCore}demos/GenerateRandomVertex_CPP?p_vertexSize=${t}&p_sourcePoint=${i}`,this.HTTPOptions_Text)}getNewSort(){return this.http.get(`${this._baseUrlNetCore}demos/_NewSort`,this.HTTPOptions_Text)}getSort(t,i){return this.http.get(`${this._baseUrlNetCore}demos/_GetSort?p_sortAlgoritm=${t}&p_unsortedList=${i}`,this.HTTPOptions_Text)}getSort_CPP(t,i){return this.http.get(`${this._baseUrlNetCore}demos/_GetSort_CPP?p_sortAlgoritm=${t}&p_unsortedList=${i}`,this.HTTPOptions_Text)}_GetXmlData(){return this.http.get(`${this._baseUrlNetCore}demos/_GetXmlData`,this.HTTPOptions_Text)}_SetXmlDataToCache(t){let i=`${t}demos/_SetXmlDataToCache`;console.log("Setting XML data to cache :  "+i),this.http.get(i,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetXmlDataToCache - (return): "+o)},error:o=>{console.error("_SetXmlDataToCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetXmlDataToCache -  (COMPLETE)")}})}_RegExEval(t,i){return this.http.get(`${this._baseUrlNetCore}demos/_RegExEval?p_tagSearch=${t}&p_textSearch=${i}`,this.HTTPOptions_Text)}_RegExEval_CPP(t,i){return this.http.get(`${this._baseUrlNetCore}demos/_RegExEval_CPP?p_tagSearch=${t}&p_textSearch=${i}`,this.HTTPOptions_Text)}SetLog(t,i,r=qF.Info){let s,o=`${this._baseUrlNetCore}demos/_SetLog?p_logMsg=${i}&logType=${r.toString()}`;s=this.http.get(o,this.HTTPOptions_Text),s.subscribe({next:l=>{console.warn(t+" - [LOG] - [RESULT] : "+l)},error:l=>{console.error(t+" - [LOG] - [ERROR]  : "+l)},complete:()=>{console.info(t+" - [LOG] - [COMPLETE]")}})}_GetSudoku_NodeJS(){return this.http.get(`${this._baseUrlNodeJs}Sudoku_Generate_NodeJS`,this.HTTPOptions_JSON)}_GetSudoku(){return this.http.get(`${this._baseUrlNetCore}Demos/Sudoku_Generate_CPP`,this.HTTPOptions_Text)}_SolveSudoku(t){return this.http.get(`${this._baseUrlNetCore}Demos/Sudoku_Solve_CPP?p_matrix=${t}`,this.HTTPOptions_Text)}_SolveSudoku_NodeJS(t){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Solve_NodeJS?p_matrix=${t}`,this.HTTPOptions_Text)}uploadSudoku(t){const i=new FormData;i.append("file",t);let r=`${this._baseUrlNetCore}demos/Sudoku_Upload_File`;console.log("[SUDOKU] - (UPLOADING FILE) url: "+r);const s=new Ad("POST",r,i,{reportProgress:!0,responseType:"text"});return this.http.request(s)}uploadBase64Image(t){let i=this._configService.getConfigValue("baseUrlNodeJsOcr");return this.http.post(i,{base64Image:t})}static{this.\u0275fac=function(i){return new(i||n)(bt(p_),bt(XA))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class mT{constructor(e,t,i){this.x=e,this.y=t,this.time=i||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class UO{constructor(e,t,i,r,s,o){this.startPoint=e,this.control2=t,this.control1=i,this.endPoint=r,this.startWidth=s,this.endWidth=o}static fromPoints(e,t){const i=this.calculateControlPoints(e[0],e[1],e[2]).c2,r=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new UO(e[1],i,r,e[2],t.start,t.end)}static calculateControlPoints(e,t,i){const r=e.x-t.x,s=e.y-t.y,o=t.x-i.x,a=t.y-i.y,l_x=(e.x+t.x)/2,l_y=(e.y+t.y)/2,c_x=(t.x+i.x)/2,c_y=(t.y+i.y)/2,u=Math.sqrt(r*r+s*s),h=Math.sqrt(o*o+a*a),f=h/(u+h),y=t.x-(c_x+(l_x-c_x)*f),m=t.y-(c_y+(l_y-c_y)*f);return{c1:new mT(l_x+y,l_y+m),c2:new mT(c_x+y,c_y+m)}}length(){let i,r,t=0;for(let s=0;s<=10;s+=1){const o=s/10,a=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){const c=a-i,u=l-r;t+=Math.sqrt(c*c+u*u)}i=a,r=l}return t}point(e,t,i,r,s){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*r*(1-e)*e*e+s*e*e*e}}class _T{constructor(e,t={}){this.canvas=e,this.options=t,this._handleMouseDown=i=>{1===i.which&&(this._mouseButtonDown=!0,this._strokeBegin(i))},this._handleMouseMove=i=>{this._mouseButtonDown&&this._strokeMoveUpdate(i)},this._handleMouseUp=i=>{1===i.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(i))},this._handleTouchStart=i=>{i.preventDefault(),1===i.targetTouches.length&&this._strokeBegin(i.changedTouches[0])},this._handleTouchMove=i=>{i.preventDefault(),this._strokeMoveUpdate(i.targetTouches[0])},this._handleTouchEnd=i=>{i.target===this.canvas&&(i.preventDefault(),this._strokeEnd(i.changedTouches[0]))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this._strokeMoveUpdate=this.throttle?function Wge(n,e=250){let r,s,o,t=0,i=null;const a=()=>{t=Date.now(),i=null,r=n.apply(s,o),i||(s=null,o=[])};return function(...l){const c=Date.now(),u=e-(c-t);return s=this,o=l,u<=0||u>e?(i&&(clearTimeout(i),i=null),t=c,r=n.apply(s,o),i||(s=null,o=[])):i||(i=window.setTimeout(a,u)),r}}(_T.prototype._strokeUpdate,this.throttle):_T.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._ctx=e.getContext("2d"),this.clear(),this.on()}clear(){const e=this._ctx,t=this.canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(e,t={},i){const r=new Image,s=t.ratio||window.devicePixelRatio||1,o=t.width||this.canvas.width/s,a=t.height||this.canvas.height/s;this._reset(),r.onload=()=>{this._ctx.drawImage(r,0,0,o,a),i&&i()},r.onerror=l=>{i&&i(l)},r.src=e,this._isEmpty=!1}toDataURL(e="image/png",t){return"image/svg+xml"===e?this._toSVG():this.canvas.toDataURL(e,t)}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e){this.clear(),this._fromData(e,({color:t,curve:i})=>this._drawCurve({color:t,curve:i}),({color:t,point:i})=>this._drawDot({color:t,point:i})),this._data=e}toData(){return this._data}_strokeBegin(e){this._data.push({color:this.penColor,points:[]}),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)}_strokeUpdate(e){const r=this._createPoint(e.clientX,e.clientY),s=this._data[this._data.length-1],o=s.points,a=o.length>0&&o[o.length-1],l=!!a&&r.distanceTo(a)<=this.minDistance,c=s.color;if(!a||!a||!l){const u=this._addPoint(r);a?u&&this._drawCurve({color:c,curve:u}):this._drawDot({color:c,point:r}),o.push({time:r.time,x:r.x,y:r.y})}}_strokeEnd(e){this._strokeUpdate(e),"function"==typeof this.onEnd&&this.onEnd(e)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(e,t){const i=this.canvas.getBoundingClientRect();return new mT(e-i.left,t-i.top,(new Date).getTime())}_addPoint(e){const{_lastPoints:t}=this;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);const i=this._calculateCurveWidths(t[1],t[2]),r=UO.fromPoints(t,i);return t.shift(),r}return null}_calculateCurveWidths(e,t){const i=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,r=this._strokeWidth(i),s={end:r,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=r,s}_strokeWidth(e){return Math.max(this.maxWidth/(e+1),this.minWidth)}_drawCurveSegment(e,t,i){const r=this._ctx;r.moveTo(e,t),r.arc(e,t,i,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:e,curve:t}){const i=this._ctx,r=t.endWidth-t.startWidth,s=2*Math.floor(t.length());i.beginPath(),i.fillStyle=e;for(let o=0;o<s;o+=1){const a=o/s,l=a*a,c=l*a,u=1-a,h=u*u,A=h*u;let d=A*t.startPoint.x;d+=3*h*a*t.control1.x,d+=3*u*l*t.control2.x,d+=c*t.endPoint.x;let f=A*t.startPoint.y;f+=3*h*a*t.control1.y,f+=3*u*l*t.control2.y,f+=c*t.endPoint.y,this._drawCurveSegment(d,f,t.startWidth+c*r)}i.closePath(),i.fill()}_drawDot({color:e,point:t}){const i=this._ctx,r="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.beginPath(),this._drawCurveSegment(t.x,t.y,r),i.closePath(),i.fillStyle=e,i.fill()}_fromData(e,t,i){for(const r of e){const{color:s,points:o}=r;if(o.length>1)for(let a=0;a<o.length;a+=1){const l=o[a],c=new mT(l.x,l.y,l.time);this.penColor=s,0===a&&this._reset();const u=this._addPoint(c);u&&t({color:s,curve:u})}else this._reset(),i({color:s,point:o[0]})}}_toSVG(){const e=this._data,t=Math.max(window.devicePixelRatio||1,1),s=this.canvas.width/t,o=this.canvas.height/t,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width",this.canvas.width.toString()),a.setAttribute("height",this.canvas.height.toString()),this._fromData(e,({color:d,curve:f})=>{const _=document.createElement("path");if(!(isNaN(f.control1.x)||isNaN(f.control1.y)||isNaN(f.control2.x)||isNaN(f.control2.y))){const y=`M ${f.startPoint.x.toFixed(3)},${f.startPoint.y.toFixed(3)} C ${f.control1.x.toFixed(3)},${f.control1.y.toFixed(3)} ${f.control2.x.toFixed(3)},${f.control2.y.toFixed(3)} ${f.endPoint.x.toFixed(3)},${f.endPoint.y.toFixed(3)}`;_.setAttribute("d",y),_.setAttribute("stroke-width",(2.25*f.endWidth).toFixed(3)),_.setAttribute("stroke",d),_.setAttribute("fill","none"),_.setAttribute("stroke-linecap","round"),a.appendChild(_)}},({color:d,point:f})=>{const _=document.createElement("circle"),y="function"==typeof this.dotSize?this.dotSize():this.dotSize;_.setAttribute("r",y.toString()),_.setAttribute("cx",f.x.toString()),_.setAttribute("cy",f.y.toString()),_.setAttribute("fill",d),a.appendChild(_)});const c=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ${s} ${o}" width="${s}" height="${o}">`;let u=a.innerHTML;if(void 0===u){const d=document.createElement("dummy"),f=a.childNodes;d.innerHTML="";for(let _=0;_<f.length;_+=1)d.appendChild(f[_].cloneNode(!0));u=d.innerHTML}return"data:image/svg+xml;base64,"+btoa(c+u+"</svg>")}}const Wj=_T;class kO{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class $ge extends kO{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class $j extends kO{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Kge extends kO{constructor(e){super(),this.element=e instanceof w?e.nativeElement:e}}class qge{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof $ge?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof $j?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Kge?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Xge extends qge{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||os.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Yge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})();function Kj(n){return Array.isArray(n)?n:[n]}function Js(n){return null==n?"":"string"==typeof n?n:`${n}px`}const eme=["addListener","removeListener"],tme=["addEventListener","removeEventListener"],nme=["on","off"];function Mo(n,e,t,i){if(Ut(t)&&(i=t,t=void 0),i)return Mo(n,e,t).pipe(DR(i));const[r,s]=function sme(n){return Ut(n.addEventListener)&&Ut(n.removeEventListener)}(n)?tme.map(o=>a=>n[o](e,a,t)):function ime(n){return Ut(n.addListener)&&Ut(n.removeListener)}(n)?eme.map(qj(n,e)):function rme(n){return Ut(n.on)&&Ut(n.off)}(n)?nme.map(qj(n,e)):[];if(!r&&pR(n))return Eo(o=>Mo(o,e,t))(So(n));if(!r)throw new TypeError("Invalid event target");return new Qi(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function qj(n,e){return t=>i=>n[t](e,i)}class ome extends Si{constructor(e,t){super()}schedule(e,t=0){return this}}const vT={setInterval(n,e,...t){const{delegate:i}=vT;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=vT;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class HO extends ome{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return vT.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&vT.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Pi(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Mw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Mw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Si(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Mw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Mw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},Xj={now:()=>(Xj.delegate||Date).now(),delegate:void 0};class Dw{constructor(e,t=Dw.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Dw.now=Xj.now;class VO extends Dw{constructor(e,t=Dw.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}new class lme extends VO{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class ame extends HO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Mw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Mw.cancelAnimationFrame(t),e._scheduled=void 0)}});let QO,ume=1;const yT={};function Yj(n){return n in yT&&(delete yT[n],!0)}const hme={setImmediate(n){const e=ume++;return yT[e]=!0,QO||(QO=Promise.resolve()),QO.then(()=>Yj(e)&&n()),e},clearImmediate(n){Yj(n)}},{setImmediate:dme,clearImmediate:Ame}=hme,wT={setImmediate(...n){const{delegate:e}=wT;return(e?.setImmediate||dme)(...n)},clearImmediate(n){const{delegate:e}=wT;return(e?.clearImmediate||Ame)(n)},delegate:void 0},Bw=(new class pme extends VO{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class fme extends HO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=wT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(wT.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),new VO(HO)),mme=Bw;function bT(n=0,e,t=mme){let i=-1;return null!=e&&(E8(e)?t=e:i=e),new Qi(r=>{let s=function vme(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Jj(n,e=Bw){return function _me(n){return Ji((e,t)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(Zi(t,c=>{i=!0,r=c,s||So(n(c)).subscribe(s=Zi(t,a,l))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>bT(n,e))}let GO;try{GO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{GO=!1}let Jp,Iw=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?HE(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!GO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(bt(bc))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wme(){if(null==Jp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Jp=!1,Jp;if("scrollBehavior"in document.documentElement.style)Jp=!0;else{const n=Element.prototype.scrollTo;Jp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Jp}function eW(n){return n.composedPath?n.composedPath()[0]:n.target}function tW(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Cme=new Qt("cdk-dir-doc",{providedIn:"root",factory:function Sme(){return we($i)}}),Eme=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Tme=(()=>{class n{constructor(t){this.value="ltr",this.change=new H,t&&(this.value=function xme(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Eme.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(bt(Cme,8))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jO=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),Dme=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new ci,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Qi(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Jj(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):mn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Jr(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=function Zge(n){return n instanceof w?n.nativeElement:n}(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Mo(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(bt(Vn),bt(Iw),bt($i,8))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nW=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new ci,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Jj(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(bt(Iw),bt(Vn),bt($i,8))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),rW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({imports:[jO,iW,jO,iW]})}}return n})();const oW=wme();class Ime{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Js(-this._previousScrollPosition.left),e.style.top=Js(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),oW&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),oW&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Nme{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Jr(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class aW{enable(){}disable(){}attach(){}}function WO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function lW(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Rme{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();WO(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Fme=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new aW,this.close=o=>new Nme(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Ime(this._viewportRuler,this._document),this.reposition=o=>new Rme(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(i){return new(i||n)(bt(Dme),bt(nW),bt(Vn),bt($i))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Ome{constructor(e){if(this.scrollStrategy=new aW,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Pme{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let cW=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(bt($i))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Lme=(()=>{class n extends cW{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(bt($i),bt(Vn,8))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ume=(()=>{class n extends cW{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=eW(s)},this._clickListener=s=>{const o=eW(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(bt($i),bt(Iw),bt(Vn,8))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),uW=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||tW()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),tW()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(bt($i),bt(Iw))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class kme{constructor(e,t,i,r,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new ci,this._attachments=new ci,this._detachments=new ci,this._locationChanges=Si.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new ci,this._outsidePointerEvents=new ci,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ds(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Js(this._config.width),e.height=Js(this._config.height),e.minWidth=Js(this._config.minWidth),e.minHeight=Js(this._config.minHeight),e.maxWidth=Js(this._config.maxWidth),e.maxHeight=Js(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Kj(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(xo(function sW(...n){const e=F1(n),t=function nae(n,e){return"number"==typeof cR(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?So(i[0]):v_(t)(_s(i,e)):Sa}(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const hW="cdk-overlay-connected-position-bounding-box",Hme=/([A-Za-z%]+)$/;class Vme{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ci,this._resizeSubscription=Si.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(hW),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hW),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?o:a}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=AW(t);let{x:o,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let A=0-a,d=a+s.height-i.height,f=this._subtractOverflows(s.width,0-o,o+s.width-i.width),_=this._subtractOverflows(s.height,A,d),y=f*_;return{visibleArea:y,isCompletelyWithinViewport:s.width*s.height===y,fitsInViewportVertically:_===s.height,fitsInViewportHorizontally:f==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,o=dW(this._overlayRef.getConfig().minHeight),a=dW(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=AW(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-i.top-e.y,0),c=Math.max(s.left-i.left-e.x,0);let u=0,h=0;return u=r.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,h=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:u,y:h},{x:e.x+u,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function Qme(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new Pme(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,o,a,u,h,A;if("top"===t.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const d=Math.min(i.bottom-e.y+i.top,e.y),f=this._lastBoundingBoxSize.height;s=2*d,o=e.y-d,s>f&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-f/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)A=i.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)h=e.x,u=i.right-e.x;else{const d=Math.min(i.right-e.x+i.left,e.x),f=this._lastBoundingBoxSize.width;u=2*d,h=e.x-d,u>f&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-f/2)}return{top:o,left:h,bottom:a,right:A,width:u,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Js(i.height),r.top=Js(i.top),r.bottom=Js(i.bottom),r.width=Js(i.width),r.left=Js(i.left),r.right=Js(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Js(s)),o&&(r.maxWidth=Js(o))}this._lastBoundingBoxSize=i,Zp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Zp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Zp(i,this._getExactOverlayY(t,e,u)),Zp(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=Js(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Js(o.maxWidth):s&&(i.maxWidth="")),Zp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Js(s.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Js(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lW(e,i),isOriginOutsideView:WO(e,i),isOverlayClipped:lW(t,i),isOverlayOutsideView:WO(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Kj(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof w)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Zp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function dW(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Hme);return t&&"px"!==t?null:parseFloat(e)}return n||null}function AW(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const fW="cdk-global-overlay-wrapper";class Gme{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(fW),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,h=this._xOffset,A="rtl"===this._overlayRef.getConfig().direction;let d="",f="",_="";l?_="flex-start":"center"===u?(_="center",A?f=h:d=h):A?"left"===u||"end"===u?(_="flex-end",d=h):("right"===u||"start"===u)&&(_="flex-start",f=h):"left"===u||"start"===u?(_="flex-start",d=h):("right"===u||"end"===u)&&(_="flex-end",f=h),e.position=this._cssPosition,e.marginLeft=l?"0":d,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":f,t.justifyContent=_,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(fW),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let zme=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Gme}flexibleConnectedTo(t){return new Vme(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(bt(nW),bt($i),bt(Iw),bt(uW))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jme=0,ST=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,h,A,d){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=A,this._animationsModuleType=d}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new Ome(t);return o.direction=o.direction||this._directionality.value,new kme(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+jme++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(_u)),new Xge(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(bt(Fme),bt(uW),bt(Jy),bt(zme),bt(Lme),bt(os),bt(Vn),bt($i),bt(Tme),bt(c_),bt(Ume),bt(NB,8))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Wme=new Qt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=we(ST);return()=>n.scrollStrategies.reposition()}}),Kme={provide:Wme,deps:[ST],useFactory:function $me(n){return()=>n.scrollStrategies.reposition()}};let qme=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({providers:[ST,Kme],imports:[jO,Yge,rW,rW]})}}return n})();const Xme=["fullScreenTpl"],Yme=["nspSmall"],Jme=["nspBig"],Zme=["*"],pW=n=>({height:n});function e_e(n,e){if(1&n&&(q(0,"div",3),Xe(1,"div",4)(2,"canvas",null,2)(4,"div",5),y1(5),$()),2&n){const t=Ft();Ae(),Be("ngStyle",ch(2,pW,t.sectionHeight+"px")),Ae(3),Be("ngStyle",ch(4,pW,t.sectionHeight+"px"))}}let $O=(()=>{class n{renderer2;overlay;viewContainerRef;smallPad;bigPad;smallCanvas;bigCanvas;overlayRef;portal;signDataHistory=[];fullScreenWidth;fullScreenHeight;_isEmpty=!0;isFullScreen=!1;sectionHeight;get activePad(){return this.isFullScreen?this.bigPad:this.smallPad}options={};beginSign=new H;endSign=new H;fullScreenTpl;nspSmall;nspBig;fullScreen(){this.portal=new $j(this.fullScreenTpl,this.viewContainerRef),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block(),height:"100%",width:"100%"}),this.overlayRef.attach(this.portal),setTimeout(()=>{this.initBigPad();const{width:t,height:i}=this.options,r=this.bigCanvas.getContext("2d");r.save(),r.translate(this.fullScreenWidth,0),r.rotate(90*Math.PI/180),r.drawImage(this.smallCanvas,0,0,t,i,0,0,this.fullScreenHeight,this.fullScreenWidth),r.restore()},0),this.isFullScreen=!0}miniScreen(){this.smallPad.clear();const{width:t,height:i}=this.options,r=t/this.fullScreenHeight,s=i/this.fullScreenWidth,o=this.smallCanvas.getContext("2d");o.save(),o.translate(0,i),o.rotate(-90*Math.PI/180),o.drawImage(this.bigCanvas,0,0,this.fullScreenWidth,this.fullScreenHeight,0,0,this.fullScreenWidth*r,this.fullScreenHeight*s),o.restore(),this.overlayRef.dispose(),this.bigCanvas=null,this.bigPad=null,this.isFullScreen=!1}toData(){return this.activePad.toData()}fromData(t){this.activePad.fromData(t)}toDataURL(t){switch(t){case"image/jpeg":return this.activePad.toDataURL("image/jpeg");case"image/svg+xml":return this.activePad.toDataURL("image/svg+xml");default:return this.activePad.toDataURL()}}fromDataURL(t,i,r){this.activePad.fromDataURL(t,i,r)}revert(){this.signDataHistory.pop(),this.fromData(this.signDataHistory),0===this.signDataHistory.length&&this.setEmpty()}clear(){this.setEmpty(),this.signDataHistory=[],this.activePad.clear()}isEmpty(){return this._isEmpty}setDirty(){this._isEmpty=!1}setEmpty(){this._isEmpty=!0}getContext(){return this.isFullScreen?this.bigCanvas.getContext("2d"):this.smallCanvas.getContext("2d")}initBigPad(){this.bigCanvas=this.nspBig.nativeElement;const t=JSON.parse(JSON.stringify(this.options));this.fullScreenWidth=document.documentElement.clientWidth;const{width:i,height:r}=this.options;this.fullScreenHeight=this.fullScreenWidth*i/r;const o=document.documentElement.clientHeight-this.fullScreenHeight;this.sectionHeight=o/2,t.width=this.fullScreenWidth,t.height=this.fullScreenHeight;const{css:a}=t;this.bigCanvas.width=this.fullScreenWidth,this.bigCanvas.height=this.fullScreenHeight;for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&this.renderer2.setStyle(this.bigCanvas,l,a[l]);this.bigPad=new Wj(this.bigCanvas,t),this.bigPad.onBegin=this._onBegin.bind(this),this.bigPad.onEnd=this._onEnd.bind(this)}initSmallPad(){this.smallCanvas=this.nspSmall.nativeElement;const{width:t,height:i,css:r}=this.options;this.options.width=t||300,this.options.height=i||150,this.smallCanvas.width=this.options.width,this.smallCanvas.height=this.options.height;for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&this.renderer2.setStyle(this.smallCanvas,s,r[s]);this.smallPad=new Wj(this.smallCanvas,this.options),this.smallPad.onBegin=this._onBegin.bind(this),this.smallPad.onEnd=this._onEnd.bind(this)}_onBegin(){this.setDirty(),this.beginSign.emit()}_onEnd(){this.signDataHistory=this.toData(),this.endSign.emit()}setPadAttribute(t,i){this.bigPad&&(this.bigPad[t]=i),this.smallPad[t]=i}constructor(t,i,r){this.renderer2=t,this.overlay=i,this.viewContainerRef=r}ngAfterViewInit(){this.initSmallPad()}ngOnChanges(t){if(t.options.firstChange)return;const{dotSize:i,minWidth:r,maxWidth:s,throttle:o,minDistance:a,backgroundColor:l,penColor:c,velocityFilterWeight:u,width:h,height:A,css:d}=t.options.currentValue;if(i&&this.setPadAttribute("dotSize",i),r&&this.setPadAttribute("minWidth",r),s&&this.setPadAttribute("maxWidth",s),o&&this.setPadAttribute("throttle",o),a&&this.setPadAttribute("minDistance",a),l&&this.setPadAttribute("backgroundColor",l),c&&this.setPadAttribute("penColor",c),u&&this.setPadAttribute("velocityFilterWeight",u),h||A){const{width:f,height:_}=t.options.previousValue,y=this.smallPad.toDataURL(),m=new Image;m.src=y,m.onload=()=>{this.initSmallPad(),this.smallCanvas.getContext("2d").drawImage(m,0,0,f,_,0,0,h,A)}}if(d){if(this.bigCanvas)for(const f in d)Object.prototype.hasOwnProperty.call(d,f)&&this.renderer2.setStyle(this.bigCanvas,f,d[f]);if(this.smallCanvas)for(const f in d)Object.prototype.hasOwnProperty.call(d,f)&&this.renderer2.setStyle(this.smallCanvas,f,d[f])}}static \u0275fac=function(i){return new(i||n)(et(hu),et(ST),et(rl))};static \u0275cmp=Fn({type:n,selectors:[["ngx-signature-pad"]],viewQuery:function(i,r){if(1&i&&(Li(Xme,5),Li(Yme,5),Li(Jme,5)),2&i){let s;Tn(s=Mn())&&(r.fullScreenTpl=s.first),Tn(s=Mn())&&(r.nspSmall=s.first),Tn(s=Mn())&&(r.nspBig=s.first)}},inputs:{options:"options"},outputs:{beginSign:"beginSign",endSign:"endSign"},features:[rs],ngContentSelectors:Zme,decls:4,vars:0,consts:[["nspSmall",""],["fullScreenTpl",""],["nspBig",""],[1,"nsp-container"],[1,"section","left",2,"width","100%",3,"ngStyle"],[1,"section","right",2,"width","100%",3,"ngStyle"]],template:function(i,r){1&i&&(v1(),Xe(0,"canvas",null,0),Ht(2,e_e,6,6,"ng-template",null,1,mu))},dependencies:[UE],styles:[".nsp-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;left:0;top:0;width:100%;height:100vh;background:#fff}.nsp-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{flex:1}.nsp-container[_ngcontent-%COMP%]   .section.left[_ngcontent-%COMP%]{border-bottom:2px dashed #dedee5}.nsp-container[_ngcontent-%COMP%]   .section.right[_ngcontent-%COMP%]{border-top:2px dashed #dedee5}"]})}return n})(),t_e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ui({type:n});static \u0275inj=ri({imports:[Op,qme]})}return n})();const n_e=["signature"],i_e=["video"],r_e=["canvas"],s_e=["_sourceList"],o_e=["_engineList"];function a_e(n,e){if(1&n&&Xe(0,"img",28),2&n){const t=Ft();Be("src",t.capturedImage,es)("hidden",t.capturedImageHidden)}}function l_e(n,e){if(1&n&&(q(0,"option",29),fe(1),$()),2&n){const t=e.$implicit;Be("value",t._index)("selected",t._selected),Ae(),jn(t._value)}}function c_e(n,e){if(1&n&&(q(0,"option",29),fe(1),$()),2&n){const t=e.$implicit;Be("value",t._index)("selected",t._selected),Ae(),jn(t._value)}}let u_e=(()=>{class n{constructor(t){this.mcsdService=t,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[ORIGEN CAPTURA]",this.titleEngineList="[ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=0,this.selectedIndexEngines=0,this.detectedShapes=[],this.imageURL=null}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera()}ngAfterViewInit(){this.__sourceList=new Array,this.__sourceList.push(new wh(0,"(SELECCIONE OPCION..)",!1)),this.__sourceList.push(new wh(1,"(DESDE CANVAS)",!0)),this.__sourceList.push(new wh(2,"(DESDE CAMARA)",!1)),this.__engineList=new Array,this.__engineList.push(new wh(0,"(SELECCIONE OPCION..)",!1)),this.__engineList.push(new wh(1,"(OCR / TESSERACT - javascript)",!0))}ngOnDestroy(){this.stopCamera()}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status="",console.log(`Selected Source : ${this.selectedIndex}`)}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex}onBeginSign(){}onEndSign(){}saveSignature(){if(1===(console.log("Saving signature..."),this.selectionChangeEngines(),this.selectedIndexEngines)){let t=this.signature?.toDataURL();this.uploadImage(t)}else this.status="Favor seleccione la opci\xf3n [ENGINE]"}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}uploadImage(t){this.statusButton="..parsing..",this.statusButtonSaveImage="..parsing..",this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!0,this.mcsdService.uploadBase64Image(t).subscribe(i=>{console.log("Image uploaded successfully:",i),this.status=JSON.parse(JSON.stringify(i)).message;const r=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(r),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1},i=>{console.error("Error uploading image:",i),this.status=i,this.statusButton="[save]"})}startCamera(){var t=this;return(0,vt.A)(function*(){try{t.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:t.isFrontCamera?"user":"environment"}}),t.videoStream&&(t.videoElement.nativeElement.srcObject=t.videoStream)}catch(i){console.error("Error accessing the camera:",i)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(t=>t.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const t=this.videoElement.nativeElement,i=this.canvas.nativeElement,r=i.getContext("2d");r&&(i.width=t.videoWidth/4,i.height=t.videoHeight/4,console.log("width: "+i.width+" height: "+i.height),r.drawImage(t,0,0,i.width,i.height),this.capturedImage=i.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){1===(this.selectionChangeEngines(),this.selectedIndexEngines)?this.capturedImage&&this.uploadImage(this.capturedImage):this.status="Favor seleccione la opci\xf3n [ENGINE]"}dataURLToBlob(t){const i=atob(t.split(",")[1]),r=t.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return new Blob([s],{type:r})}flipCamera(){var t=this;return(0,vt.A)(function*(){console.log("flippling camera"),t.isFrontCamera=!t.isFrontCamera,t.stopCamera(),yield t.startCamera()})()}static{this.\u0275fac=function(i){return new(i||n)(et(Tw))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-ocr-photo-capture"]],viewQuery:function(i,r){if(1&i&&(Li(n_e,5),Li(i_e,7),Li(r_e,5),Li(s_e,5),Li(o_e,5)),2&i){let s;Tn(s=Mn())&&(r.signature=s.first),Tn(s=Mn())&&(r.videoElement=s.first),Tn(s=Mn())&&(r.canvas=s.first),Tn(s=Mn())&&(r._sourceList=s.first),Tn(s=Mn())&&(r._engineList=s.first)}},decls:53,vars:18,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[3,"click","disabled"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],["routerLink","/Dev"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(i,r){if(1&i){const s=Tr();q(0,"div",5)(1,"h1"),fe(2,"[MISCELANEOUS - OCR]"),$(),q(3,"div",6),Xe(4,"hr"),q(5,"ngx-signature-pad",7,0),xt("beginSign",function(){return ln(s),un(r.onBeginSign())})("endSign",function(){return ln(s),un(r.onEndSign())}),$(),Xe(7,"hr"),q(8,"input",8),xt("click",function(){return ln(s),un(r.saveSignature())}),$(),fe(9," | "),q(10,"button",9),xt("click",function(){return ln(s),un(r.clearSignature())}),fe(11,"Clear Signature"),$(),Xe(12,"br"),$(),q(13,"div",10),Xe(14,"hr"),q(15,"div",11),Xe(16,"video",12,1)(18,"canvas",13,2),$(),Ht(20,a_e,1,2,"img",14),Xe(21,"hr"),q(22,"button",15),xt("click",function(){return ln(s),un(r.capturePhoto())}),fe(23),$(),fe(24," | "),q(25,"button",15),xt("click",function(){return ln(s),un(r.saveImage())}),fe(26),$(),fe(27," | "),q(28,"button",9),xt("click",function(){return ln(s),un(r.flipCamera())}),fe(29,"Flip Camera"),$()(),Xe(30,"hr"),q(31,"span",16),fe(32),$(),Xe(33,"hr"),q(34,"div",17)(35,"label",18)(36,"span",19),fe(37),$()(),fe(38," \xa0"),q(39,"select",20,3),xt("change",function(){return ln(s),un(r.selectionChange())}),Ht(41,l_e,2,3,"option",21),$()(),q(42,"div",22)(43,"label",23)(44,"span",24),fe(45),$()(),fe(46," \xa0"),q(47,"select",25,4),xt("change",function(){return ln(s),un(r.selectionChangeEngines())}),Ht(49,c_e,2,3,"option",21),$()(),q(50,"div",26)(51,"a",27),fe(52,"[Volver al Menu]"),$()()()}2&i&&(Ae(3),Be("hidden",r.hiddenCanvasContainer),Ae(2),Be("options",r.options),Ae(3),Ip("value",r.statusButton),Be("disabled","..parsing.."==r.statusButton),Ae(5),Be("hidden",r.hiddenCameraContainer),Ae(2),Be("hidden",r.cameraContainerHidden),Ae(),Sc(r.videoStyle),Ae(4),Be("ngIf",r.capturedImage),Ae(2),Be("disabled",r.captureButtonDisabled),Ae(),jn(r.captureButtonStatus),Ae(2),Be("disabled",r.saveImageButtonDisabled),Ae(),jn(r.statusButtonSaveImage),Ae(6),jn(r.status),Ae(5),jn(r.tituloListadOrigen),Ae(4),Be("ngForOf",r.__sourceList),Ae(4),jn(r.titleEngineList),Ae(4),Be("ngForOf",r.__engineList))},dependencies:[wr,sa,ll,Hp,Vp,$O],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})(),ha=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),d_e=(()=>{class n{ripple=!1;inputStyle=GI("outlined");overlayOptions={};csp=GI({nonce:void 0});filterMatchModeOptions={text:[ha.STARTS_WITH,ha.CONTAINS,ha.NOT_CONTAINS,ha.ENDS_WITH,ha.EQUALS,ha.NOT_EQUALS],numeric:[ha.EQUALS,ha.NOT_EQUALS,ha.LESS_THAN,ha.LESS_THAN_OR_EQUAL_TO,ha.GREATER_THAN,ha.GREATER_THAN_OR_EQUAL_TO],date:[ha.DATE_IS,ha.DATE_IS_NOT,ha.DATE_BEFORE,ha.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new ci;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),A_e=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(et(Rs))};static \u0275dir=Vt({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[$n.None,"pTemplate","name"]},standalone:!0})}return n})(),f_e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ui({type:n});static \u0275inj=ri({})}return n})(),ka=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)t.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)t.className+=" "+r[s]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,i){return!(!t||!i)&&(t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==t)return r;1==i[s].nodeType&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==t)return s;r[o].attributes&&r[o].attributes[i]&&1==r[o].nodeType&&s++}return-1}static appendOverlay(t,i,r="self"){"self"!==r&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,r="self",s=!0){t&&i&&(s&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),"self"===r?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,r=!0){const s=S=>{if(S)return"relative"===getComputedStyle(S).getPropertyValue("position")?S:s(S.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=i.offsetHeight??i.getBoundingClientRect().height,l=i.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),h=this.getViewport(),d=s(t)?.getBoundingClientRect()||{top:-1*c,left:-1*u};let f,_;l.top+a+o.height>h.height?(f=l.top-d.top-o.height,t.style.transformOrigin="bottom",l.top+f<0&&(f=-1*l.top)):(f=a+l.top-d.top,t.style.transformOrigin="top");const y=l.left+o.width-h.width;_=o.width>h.width?-1*(l.left-d.left):y>0?l.left-d.left-y:l.left-d.left,t.style.top=f+"px",t.style.left=_+"px",r&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,r=!0){const s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=i.offsetHeight??i.getBoundingClientRect().height,c=i.offsetWidth??i.getBoundingClientRect().width,u=i.getBoundingClientRect(),h=this.getWindowScrollTop(),A=this.getWindowScrollLeft(),d=this.getViewport();let f,_;u.top+l+o>d.height?(f=u.top+h-o,t.style.transformOrigin="bottom",f<0&&(f=h)):(f=l+u.top+h,t.style.transformOrigin="top"),_=u.left+a>d.width?Math.max(0,u.left+A+c-a):u.left+A,t.style.top=f+"px",t.style.left=_+"px",r&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return null===t.parentNode?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t);const s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let h=this.findSingle(a,u);h&&o(h)&&i.push(h)}}9!==a.nodeType&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),u=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,h=t.scrollTop,A=t.clientHeight,d=this.getOuterHeight(i);u<0?t.scrollTop=h+u:u+d>A&&(t.scrollTop=h+u-A+d)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,t.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,i){var r=1,a=50/i;let l=setInterval(()=>{(r-=a)<=0&&(r=0,clearInterval(l)),t.style.opacity=r},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0];return{width:t.innerWidth||r.clientWidth||s.clientWidth,height:t.innerHeight||r.clientHeight||s.clientHeight}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+t;i.el.nativeElement.appendChild(t)}}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+t+" from "+i;i.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let r=this.find(t,this.getFocusableSelectorString(i)),s=[];for(let o of r){const a=getComputedStyle(o);this.isVisible(o)&&"none"!=a.display&&"hidden"!=a.visibility&&s.push(o)}return s}static getFocusableElement(t,i=""){let r=this.findSingle(t,this.getFocusableSelectorString(i));if(r){const s=getComputedStyle(r);if(this.isVisible(r)&&"none"!=s.display&&"hidden"!=s.visibility)return r}return null}static getFirstFocusableElement(t,i=""){const r=this.getFocusableElements(t,i);return r.length>0?r[0]:null}static getLastFocusableElement(t,i){const r=this.getFocusableElements(t,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(t,i=!1){const r=n.getFocusableElements(t);let s=0;if(r&&r.length>0){const o=r.indexOf(r[0].ownerDocument.activeElement);i?s=-1==o||0===o?r.length-1:o-1:-1!=o&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof t;if("string"===r)return document.querySelector(t);if("object"===r&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const o=(a=t)&&a.constructor&&a.call&&a.apply?t():t;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){const r=t.getAttribute(i);return isNaN(r)?"true"===r||"false"===r?"true"===r:r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...r){if(t){const s=document.createElement(t);return this.setAttributes(s,i),s.append(...r),s}}static setAttribute(t,i="",r){this.isElement(t)&&null!=r&&t.setAttribute(i,r)}static setAttributes(t,i={}){if(this.isElement(t)){const r=(s,o)=>{const a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,c)=>{if(null!=c){const u=typeof c;if("string"===u||"number"===u)l.push(c);else if("object"===u){const h=Array.isArray(c)?r(s,c):Object.entries(c).map(([A,d])=>"style"!==s||!d&&0!==d?d?A:void 0:`${A.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${d}`);l=h.length?l.concat(h.filter(A=>!!A)):l}}return l},a)};Object.entries(i).forEach(([s,o])=>{if(null!=o){const a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):"pBind"===s?this.setAttributes(t,o):(o="class"===s?[...new Set(r("class",o))].join(" ").trim():"style"===s?r("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,i=""){return!!this.isElement(t)&&t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`)}}return n})(),p_e=(()=>{class n{autofocus=!1;focused=!1;platformId=we(bc);document=we($i);host=we(w);ngAfterContentChecked(){!1===this.autofocus?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){HE(this.platformId)&&this.autofocus&&setTimeout(()=>{const t=ka.getFocusableElements(this.host?.nativeElement);0===t.length&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Vt({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[$n.HasDecoratorInputTransform,"autofocus","autofocus",Qo]},standalone:!0,features:[r1]})}return n})();class Fw{static isArray(e,t=!0){return Array.isArray(e)&&(t||0!==e.length)}static isObject(e,t=!0){return"object"==typeof e&&!Array.isArray(e)&&null!=e&&(t||0!==Object.keys(e).length)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,i=Array.isArray(e),r=Array.isArray(t);if(i&&r){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var A=Object.keys(e);if((o=A.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,A[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[a=A[s]],t[a]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let i=t.split("."),r=e;for(let s=0,o=i.length;s<o;++s){if(null==r)return null;r=r[i[s]]}return r}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>t){i.splice(o,0,e),s=!0;break}s||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t)for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}return i}static contains(e,t){if(null!=e&&t&&t.length)for(let i of t)if(this.equals(e,i))return!0;return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,r=1){let s=-1;const o=this.isEmpty(e),a=this.isEmpty(t);return s=o&&a?0:o?r:a?-r:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,i,{numeric:!0}):e<t?-1:e>t?1:0,s}static sort(e,t,i=1,r,s=1){const o=Fw.compare(e,t,r,i);let a=i;return(Fw.isEmpty(e)||Fw.isEmpty(t))&&(a=1===s?i:s),a*o}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,i=Array.isArray(e),r=Array.isArray(t);if(i&&r){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var A=Object.keys(e);if((o=A.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,A[s]))return!1;for(s=o;0!=s--;)if(!this.deepEquals(e[a=A[s]],t[a]))return!1;return!0}return e!=e&&t!=t}}var gW=0;!function m_e(){let n=[];const r=s=>s&&parseInt(s.style.zIndex,10)||0}();const __e=["*"];let v_e=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const t=Fw.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Fn({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[$n.HasDecoratorInputTransform,"spin","spin",Qo],styleClass:"styleClass"},standalone:!0,features:[r1,Ks],ngContentSelectors:__e,decls:1,vars:0,template:function(i,r){1&i&&(v1(),y1(0))},encapsulation:2,changeDetection:0})}return n})(),y_e=(()=>{class n extends v_e{pathId;ngOnInit(){this.pathId="url(#"+function g_e(n="pn_id_"){return`${n}${++gW}`}()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=hr(n)))(r||n)}})();static \u0275cmp=Fn({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[Wi,Ks],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(function ou(){In.lFrame.currentNamespace="svg"}(),q(0,"svg",0)(1,"g"),Xe(2,"path",1),$(),q(3,"defs")(4,"clipPath",2),Xe(5,"rect",3),$()()()),2&i&&(OA(r.getClassNames()),Mi("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ae(),Mi("clip-path",r.pathId),Ae(3),Be("id",r.pathId))},encapsulation:2})}return n})(),w_e=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,r,s,o,a){this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){HE(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if(ka.removeClass(i,"p-ink-active"),!ka.getHeight(i)&&!ka.getWidth(i)){let a=Math.max(ka.getOuterWidth(this.el.nativeElement),ka.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=ka.getOffset(this.el.nativeElement),s=t.pageX-r.left+this.document.body.scrollTop-ka.getWidth(i)/2,o=t.pageY-r.top+this.document.body.scrollLeft-ka.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),ka.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&ka.removeClass(a,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if("string"==typeof t[i].className&&-1!==t[i].className.indexOf("p-ink"))return t[i];return null}resetInk(){let t=this.getInk();t&&ka.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),ka.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,ka.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(et($i),et(bc),et(hu),et(w),et(Vn),et(d_e,8))};static \u0275dir=Vt({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})();const b_e=["*"],mW=n=>({class:n});function C_e(n,e){1&n&&AN(0)}function S_e(n,e){1&n&&Xe(0,"span",8),2&n&&(Be("ngClass",Ft(3).iconClass()),Mi("aria-hidden",!0)("data-pc-section","loadingicon"))}function E_e(n,e){1&n&&Xe(0,"SpinnerIcon",9),2&n&&(Be("styleClass",Ft(3).spinnerIconClass())("spin",!0),Mi("aria-hidden",!0)("data-pc-section","loadingicon"))}function x_e(n,e){if(1&n&&(Mp(0),Ht(1,S_e,1,3,"span",6)(2,E_e,1,4,"SpinnerIcon",7),Dp()),2&n){const t=Ft(2);Ae(),Be("ngIf",t.loadingIcon),Ae(),Be("ngIf",!t.loadingIcon)}}function T_e(n,e){}function M_e(n,e){1&n&&Ht(0,T_e,0,0,"ng-template",10),2&n&&Be("ngIf",Ft(2).loadingIconTemplate)}function D_e(n,e){if(1&n&&(Mp(0),Ht(1,x_e,3,2,"ng-container",2)(2,M_e,1,1,null,5),Dp()),2&n){const t=Ft();Ae(),Be("ngIf",!t.loadingIconTemplate),Ae(),Be("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",ch(3,mW,t.iconClass()))}}function B_e(n,e){1&n&&Xe(0,"span",8),2&n&&(Be("ngClass",Ft(2).iconClass()),Mi("data-pc-section","icon"))}function I_e(n,e){}function N_e(n,e){if(1&n&&Ht(0,I_e,0,0,"ng-template",10),2&n){const t=Ft(2);Be("ngIf",!t.icon&&t.iconTemplate)}}function R_e(n,e){if(1&n&&(Mp(0),Ht(1,B_e,1,2,"span",6)(2,N_e,1,1,null,5),Dp()),2&n){const t=Ft();Ae(),Be("ngIf",t.icon&&!t.iconTemplate),Ae(),Be("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",ch(3,mW,t.iconClass()))}}function F_e(n,e){if(1&n&&(q(0,"span",11),fe(1),$()),2&n){const t=Ft();Mi("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),Ae(),jn(t.label)}}function O_e(n,e){if(1&n&&(q(0,"span",8),fe(1),$()),2&n){const t=Ft();OA(t.badgeClass),Be("ngClass",t.badgeStyleClass()),Mi("data-pc-section","badge"),Ae(),jn(t.badge)}}let _W=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new H;onFocus=new H;onBlur=new H;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){const t={"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":"small"===this.size,"p-button-lg":"large"===this.size,"p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(et(w))};static \u0275cmp=Fn({type:n,selectors:[["p-button"]],contentQueries:function(i,r,s){if(1&i&&$s(s,A_e,4),2&i){let o;Tn(o=Mn())&&(r.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,r){2&i&&bi("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[$n.HasDecoratorInputTransform,"disabled","disabled",Qo],loading:[$n.HasDecoratorInputTransform,"loading","loading",Qo],loadingIcon:"loadingIcon",raised:[$n.HasDecoratorInputTransform,"raised","raised",Qo],rounded:[$n.HasDecoratorInputTransform,"rounded","rounded",Qo],text:[$n.HasDecoratorInputTransform,"text","text",Qo],plain:[$n.HasDecoratorInputTransform,"plain","plain",Qo],severity:"severity",outlined:[$n.HasDecoratorInputTransform,"outlined","outlined",Qo],link:[$n.HasDecoratorInputTransform,"link","link",Qo],tabindex:[$n.HasDecoratorInputTransform,"tabindex","tabindex",ese],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[$n.HasDecoratorInputTransform,"autofocus","autofocus",Qo]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[r1,Ks],ngContentSelectors:b_e,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,r){1&i&&(v1(),q(0,"button",0),xt("click",function(o){return r.onClick.emit(o)})("focus",function(o){return r.onFocus.emit(o)})("blur",function(o){return r.onBlur.emit(o)}),y1(1),Ht(2,C_e,1,0,"ng-container",1)(3,D_e,3,5,"ng-container",2)(4,R_e,3,5,"ng-container",2)(5,F_e,2,3,"span",3)(6,O_e,2,5,"span",4),$()),2&i&&(Be("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),Mi("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),Ae(2),Be("ngTemplateOutlet",r.contentTemplate),Ae(),Be("ngIf",r.loading),Ae(),Be("ngIf",!r.loading),Ae(),Be("ngIf",!r.contentTemplate&&r.label),Ae(),Be("ngIf",!r.contentTemplate&&r.badge))},dependencies:[ll,h_,UE,c8,w_e,p_e,y_e],encapsulation:2,changeDetection:0})}return n})(),P_e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ui({type:n});static \u0275inj=ri({imports:[_W,f_e]})}return n})();const L_e=["_txtName"],U_e=["_txtMessage"];function k_e(n,e){1&n&&(q(0,"div",17),fe(1," Pleae enter all fields "),$())}function H_e(n,e){if(1&n&&(q(0,"table",18)(1,"tr")(2,"td")(3,"span"),fe(4),$()()()()),2&n){const t=e.$implicit;Ae(4),gr(" ",t," ")}}let V_e=(()=>{class n{constructor(t,i){this.chatService=t,this.datePipe=i,this.parentData=[]}ngOnInit(){this.chatService.getMessages().subscribe(t=>this.parentData=t),this.chatService.onNewMessage.subscribe(t=>this.NotifyingMessage(t))}NotifyingMessage(t){console.log("Pushing data to client : "+t),console.log("Message Array (client) : "+this.parentData)}submitForm(t){t.valid&&(console.log(t.value),this.sendMessage(t.value.txtName,t.value.txtMessage))}sendMessage(t,i){let o=`[${this.datePipe.transform(new Date,"yyyy-MM-dd HH:mm:ss")}] -[${t}] Says: "${i}"`;console.log("sending message: {"+i+"}"),this.chatService.sendMessage(o)}static{this.\u0275fac=function(i){return new(i||n)(et(Vj),et(rR))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-chat"]],viewQuery:function(i,r){if(1&i&&(Li(L_e,5),Li(U_e,5)),2&i){let s;Tn(s=Mn())&&(r.txtName=s.first),Tn(s=Mn())&&(r.txtMessage=s.first)}},decls:29,vars:2,consts:[["messageinputform","ngForm"],["_txtName",""],["_txtMessage",""],["id","divMessageInput","align","left"],[3,"ngSubmit"],[1,"form-group"],["for","txtName"],["type","text","id","txtName","name","txtName","maxlength","10","ngModel","","required",""],["for","txtMessage"],["type","text","id","txtMessage","name","txtMessage","maxlength","25","ngModel","","required",""],["class","form-group","align","left",4,"ngIf"],[1,"card","flex","justify-content-center"],["label","[SEND MESSAGE]","icon","pi pi-check","type","submit"],["id","divMessageOutput"],["class","message-data",4,"ngFor","ngForOf"],["align","right"],["routerLink","/Dev"],["align","left",1,"form-group"],[1,"message-data"]],template:function(i,r){if(1&i){const s=Tr();q(0,"h1"),fe(1,"[CHAT]"),$(),Xe(2,"hr"),q(3,"h4"),fe(4,"[MESSAGES]"),$(),Xe(5,"hr"),q(6,"div",3)(7,"form",4,0),xt("ngSubmit",function(){ln(s);const a=gu(8);return un(r.submitForm(a))}),q(9,"div",5)(10,"label",6),fe(11,"Your Name:"),$(),Xe(12,"input",7,1),$(),q(14,"div",5)(15,"label",8),fe(16,"Your Message :"),$(),Xe(17,"input",9,2),$(),Ht(19,k_e,2,0,"div",10),q(20,"div",11),Xe(21,"p-button",12),$()()(),Xe(22,"hr"),q(23,"div",13),Ht(24,H_e,5,1,"table",14),$(),Xe(25,"hr"),q(26,"div",15)(27,"a",16),fe(28,"[Volver al Menu]"),$()()}if(2&i){const s=gu(8);Ae(19),Be("ngIf",0==s.valid&&s.submitted),Ae(5),Be("ngForOf",r.parentData.reverse())}},dependencies:[wr,sa,ll,q1,Up,k1,H1,lx,WR,K1,m_,_W],styles:["@layer reset,primeng;@layer reset;table[_ngcontent-%COMP%]{width:400px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc;text-align:left}.form-group[_ngcontent-%COMP%]{background-color:#ccc;width:300px;margin-bottom:1em;display:flex;align-items:center}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}.message-data[_ngcontent-%COMP%]{color:#0ff}"]})}}return n})(),Q_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-not-found-page"]],decls:9,vars:0,consts:[["align","right"],["routerLink","/Home"]],template:function(i,r){1&i&&(q(0,"h1"),fe(1,"[Page not found]"),$(),Xe(2,"hr"),q(3,"h4"),fe(4,"[PAGE NOT FOUND]"),$(),Xe(5,"hr"),q(6,"div",0)(7,"a",1),fe(8,"[Volver al Inicio]"),$()())},dependencies:[wr]})}}return n})(),G_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-dev"]],decls:44,vars:0,consts:[["align","left"],["routerLink","/HanoiAuto"],["routerLink","/HanoiRjxs"],["routerLink","/Hanoi3d"],["routerLink","/RxJsPlayground"],["routerLink","/TicTacToeOnline"],["routerLink","/Ocr"],["routerLink","/BackendTesting"],["routerLink","/SpeechRecognition"],["routerLink","/ShapeRecognition"],["routerLink","/ShapeReconCanvas"],["routerLink","/BouncingBall"],["routerLink","/Tetris"],["align","right"],["routerLink","/Home"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h1"),fe(2,"[Testing Releases]"),$(),q(3,"ul")(4,"li")(5,"a",1),fe(6,"[Hanoi RxJS - Auto]"),$()(),q(7,"li")(8,"a",2),fe(9,"[Hanoi RxJS - Manual]"),$()(),q(10,"li")(11,"a",3),fe(12,"[Hanoi - 3d]"),$()(),q(13,"li")(14,"a",4),fe(15,"[RxJS Playground]"),$()(),q(16,"li")(17,"a",5),fe(18,"[tic tac toe (online) - [ALGORITMOS - MINMAX]]"),$()(),q(19,"li")(20,"a",6),fe(21,"[OCR]"),$()(),q(22,"li")(23,"a",7),fe(24,"[Backend Testing]"),$()(),q(25,"li")(26,"a",8),fe(27,"[Speech Recognition]"),$()(),q(28,"li")(29,"a",9),fe(30,"[Shape Recognition]"),$()(),q(31,"li")(32,"a",10),fe(33,"[Shape Recognition - Canvas]"),$()(),q(34,"li")(35,"a",11),fe(36,"[Boucing Ball]"),$()(),q(37,"li")(38,"a",12),fe(39,"[Tetris]"),$()()()(),Xe(40,"hr"),q(41,"div",13)(42,"a",14),fe(43,"[Volver al Inicio]"),$()())},dependencies:[wr]})}}return n})();var KO=function(n){return n[n.RoleAnonyumous=0]="RoleAnonyumous",n[n.RoleAdmin=1]="RoleAdmin",n[n.RoleMarketing=2]="RoleMarketing",n[n.RoleConfig=3]="RoleConfig",n[n.RoleEducation=4]="RoleEducation",n}(KO||{});function vW(n,e=Bw){return Ji((t,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(Zi(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function yW(n,e){return e?t=>iw(e.pipe(Ds(1),function z_e(){return Ji((n,e)=>{n.subscribe(Zi(e,Hr))})}()),t.pipe(yW(n))):Eo((t,i)=>So(n(t,i)).pipe(Ds(1),pz(t)))}function Ow(n,e=Bw){const t=bT(n,e);return yW(()=>t)}let wW=(()=>{class n{constructor(t){this.http=t,this._loggedUser=!1}canActivate(){return!0}get loggedUser(){return this._loggedUser}set loggedUser(t){this._loggedUser=t}matchRoles(t){return"0"==t||t==this.userRoles}static{this.\u0275fac=function(i){return new(i||n)(bt(p_))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const{isArray:K_e}=Array;function bW(n){return 1===n.length&&K_e(n[0])?n[0]:n}function qO(...n){const e=zE(n),t=bW(n);return t.length?new Qi(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<t.length;o++)So(t[o]).subscribe(Zi(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(e?e(...l):l),r.some((c,u)=>!c.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Sa}function XO(...n){const e=zE(n);return Ji((t,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)So(n[l]).subscribe(Zi(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Ca))&&(o=null))},Hr));t.subscribe(Zi(i,l=>{if(a){const c=[l,...s];i.next(e?e(...c):c)}}))})}Math,Math,Math;const ive=["*"],Rve=["dialog"],Uve=(n,e,t)=>({$implicit:n,pages:e,disabled:t}),kve=n=>({disabled:!0,currentPage:n}),Hve=(n,e,t)=>({disabled:n,$implicit:e,currentPage:t}),aP=(n,e)=>({disabled:n,currentPage:e}),Vve=n=>({disabled:n});function Qve(n,e){1&n&&(q(0,"span",13),_1(1,7),$())}function Gve(n,e){1&n&&(q(0,"span",13),_1(1,8),$())}function zve(n,e){1&n&&(q(0,"span",13),_1(1,9),$())}function jve(n,e){1&n&&(q(0,"span",13),_1(1,10),$())}function Wve(n,e){1&n&&fe(0,"...")}function $ve(n,e){1&n&&fe(0),2&n&&jn(e.$implicit)}function Kve(n,e){}function qve(n,e){if(1&n&&(q(0,"a",16),Ht(1,Kve,0,0,"ng-template",12),$()),2&n){const t=Ft(2).$implicit,i=Ft(),r=gu(9);Ae(),Be("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||r)("ngTemplateOutletContext",ch(2,kve,t))}}function Xve(n,e){}function Yve(n,e){if(1&n){const t=Tr();q(0,"a",17),xt("click",function(r){ln(t);const s=Ft().$implicit;return Ft(2).selectPage(s),un(r.preventDefault())}),Ht(1,Xve,0,0,"ng-template",12),$()}if(2&n){const t=Ft().$implicit,i=Ft(),r=i.$implicit,s=i.disabled,o=Ft(),a=gu(11);Mi("tabindex",s?"-1":null)("aria-disabled",s?"true":null),Ae(),Be("ngTemplateOutlet",(null==o.tplNumber?null:o.tplNumber.templateRef)||a)("ngTemplateOutletContext",wN(4,Hve,s,t,r))}}function Jve(n,e){if(1&n&&(q(0,"li",15),Ht(1,qve,2,4,"a",16)(2,Yve,2,8),$()),2&n){const t=e.$implicit,i=Ft(),r=i.$implicit,s=i.disabled,o=Ft();bi("active",t===r)("disabled",o.isEllipsis(t)||s),Mi("aria-current",t===r?"page":null),Ae(),as(1,o.isEllipsis(t)?1:2)}}function Zve(n,e){1&n&&Ql(0,Jve,3,6,"li",14,pu),2&n&&Gl(e.pages)}function eye(n,e){}function tye(n,e){if(1&n){const t=Tr();q(0,"li",15)(1,"a",18),xt("click",function(r){return ln(t),Ft().selectPage(1),un(r.preventDefault())}),Ht(2,eye,0,0,"ng-template",12),$()()}if(2&n){const t=Ft(),i=gu(1);bi("disabled",t.previousDisabled()),Ae(),Mi("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),Ae(),Be("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||i)("ngTemplateOutletContext",hE(6,aP,t.previousDisabled(),t.page))}}function nye(n,e){}function iye(n,e){if(1&n){const t=Tr();q(0,"li",15)(1,"a",19),xt("click",function(r){ln(t);const s=Ft();return s.selectPage(s.page-1),un(r.preventDefault())}),Ht(2,nye,0,0,"ng-template",12),$()()}if(2&n){const t=Ft(),i=gu(3);bi("disabled",t.previousDisabled()),Ae(),Mi("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),Ae(),Be("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||i)("ngTemplateOutletContext",ch(6,Vve,t.previousDisabled()))}}function rye(n,e){}function sye(n,e){}function oye(n,e){if(1&n){const t=Tr();q(0,"li",15)(1,"a",20),xt("click",function(r){ln(t);const s=Ft();return s.selectPage(s.page+1),un(r.preventDefault())}),Ht(2,sye,0,0,"ng-template",12),$()()}if(2&n){const t=Ft(),i=gu(5);bi("disabled",t.nextDisabled()),Ae(),Mi("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),Ae(),Be("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||i)("ngTemplateOutletContext",hE(6,aP,t.nextDisabled(),t.page))}}function aye(n,e){}function lye(n,e){if(1&n){const t=Tr();q(0,"li",15)(1,"a",21),xt("click",function(r){ln(t);const s=Ft();return s.selectPage(s.pageCount),un(r.preventDefault())}),Ht(2,aye,0,0,"ng-template",12),$()()}if(2&n){const t=Ft(),i=gu(7);bi("disabled",t.nextDisabled()),Ae(),Mi("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),Ae(),Be("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||i)("ngTemplateOutletContext",hE(6,aP,t.nextDisabled(),t.page))}}function mye(n,e){if(1&n&&(q(0,"span"),fe(1),$()),2&n){const t=Ft().$implicit;OA(Ft().highlightClass),Ae(),jn(t)}}function _ye(n,e){if(1&n&&(Mp(0),fe(1),Dp()),2&n){const t=Ft().$implicit;Ae(),jn(t)}}function vye(n,e){1&n&&Ht(0,mye,2,4,"span",0)(1,_ye,2,1),2&n&&as(0,e.$index%2!=0?0:1)}const VW={animation:!0,transitionTimerDelayMs:5};let DT=(()=>{class n{constructor(){this.animation=VW.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function QW(n){return null!=n?`${n}`:""}function n0(n){return"string"==typeof n}function Wo(n){return!isNaN(function hl(n){return parseInt(`${n}`,10)}(n))}function ng(n){return null!=n}function r0(n){return(n||document.body).getBoundingClientRect()}function jW(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const Mye=()=>{},{transitionTimerDelayMs:Dye}=VW,Qw=new Map,Fc=(n,e,t,i)=>{let r=i.context||{};const s=Qw.get(e);if(s)switch(i.runningTransition){case"continue":return Sa;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Qw.delete(e)}const o=t(e,i.animation,r)||Mye;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>o()),mn(void 0).pipe(function Tye(n){return e=>new Qi(t=>e.subscribe({next:o=>n.run(()=>t.next(o)),error:o=>n.run(()=>t.error(o)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new ci,l=new ci,c=a.pipe(function X_e(...n){return e=>iw(e,mn(...n))}(!0));Qw.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function Cye(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const h=Mo(e,"transitionend").pipe(xo(c),Jr(({target:d})=>d===e));(function CW(...n){return 1===(n=bW(n)).length?So(n[0]):new Qi(function q_e(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(So(n[i]).subscribe(Zi(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))})(bT(u+Dye).pipe(xo(c)),h,l).pipe(xo(c)).subscribe(()=>{Qw.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()},Iye=(n,e,t)=>{let{direction:i,maxSize:r,dimension:s}=t;const{classList:o}=n;function a(){o.add("collapse"),"show"===i?o.add("show"):o.remove("show")}if(e)return r||(r=function Bye(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,i=t.contains("show");i||t.add("show"),n.style[e]="";const r=n.getBoundingClientRect()[e]+"px";return i||t.remove("show"),r}(n,s),t.maxSize=r,n.style[s]="show"!==i?r:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),r0(n),o.add("collapsing")),n.style[s]="show"===i?r:"0px",()=>{a(),o.remove("collapsing"),n.style[s]=""};a()};let Nye=(()=>{class n{constructor(){this._ngbConfig=we(DT),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lP=(()=>{class n{constructor(){this._config=we(Nye),this._element=we(w),this._zone=we(Vn),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new H,this.horizontal=this._config.horizontal,this.shown=new H,this.hidden=new H}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,i){return Fc(this._zone,this._element.nativeElement,Iye,{animation:i,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,i){this._runTransition(t,i).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){2&i&&bi("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:[$n.None,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return n})(),qW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),uP=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),JW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),ZW=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})();var Pr=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Pr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const o9=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function a9(n){const e=Array.from(n.querySelectorAll(o9)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let C9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),E9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),N1e=(()=>{class n{constructor(){this._ngbConfig=we(DT),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class ag{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let R1e=(()=>{class n{constructor(){this._document=we($i)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(t>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=o),r.overflow=s}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),F1e=(()=>{class n{constructor(){this._nativeElement=we(w).nativeElement,this._zone=we(Vn)}ngOnInit(){this._zone.onStable.asObservable().pipe(Ds(1)).subscribe(()=>{Fc(this._zone,this._nativeElement,(t,i)=>{i&&r0(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Fc(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(OA("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),bi("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ks],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})();class x9{update(e){}close(e){}dismiss(e){}}const O1e=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],P1e=["animation","backdropClass"];class L1e{_applyWindowOptions(e,t){O1e.forEach(i=>{ng(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){P1e.forEach(i=>{ng(t[i])&&(e[i]=t[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(xo(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(xo(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new ci,this._dismissed=new ci,this._hidden=new ci,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function GW(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():mn(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),qO(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var bP=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(bP||{});let U1e=(()=>{class n{constructor(){this._document=we($i),this._elRef=we(w),this._zone=we(Vn),this._closed$=new ci,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new H,this.shown=new ci,this.hidden=new ci}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":n0(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ds(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=qO(Fc(this._zone,t,()=>t.classList.remove("show"),i),Fc(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};qO(Fc(this._zone,this._elRef.nativeElement,(s,o)=>{o&&r0(s),s.classList.add("show")},t),Fc(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Mo(t,"keydown").pipe(xo(this._closed$),Jr(r=>r.which===Pr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(bP.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Mo(this._dialogEl.nativeElement,"mousedown").pipe(xo(this._closed$),ls(()=>i=!1),cl(()=>Mo(t,"mouseup").pipe(xo(this._closed$),Ds(1))),Jr(({target:r})=>t===r)).subscribe(()=>{i=!0}),Mo(t,"click").pipe(xo(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(bP.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=a9(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Fc(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&Li(Rve,7),2&i){let s;Tn(s=Mn())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Mi("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),OA("modal d-block"+(r.windowClass?" "+r.windowClass:"")),bi("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ks],ngContentSelectors:ive,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){1&i&&(v1(),q(0,"div",1,0)(2,"div",2),y1(3),$()()),2&i&&OA("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return n})(),k1e=(()=>{class n{constructor(){this._applicationRef=we(_u),this._injector=we(os),this._environmentInjector=we(lo),this._document=we($i),this._scrollBar=we(R1e),this._activeWindowCmptHasChanged=new ci,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new H;const t=we(Vn);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const i=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{n.runOutsideAngular(()=>{const r=Mo(e,"focusin").pipe(xo(t),ii(s=>s.target));Mo(e,"keydown").pipe(xo(t),Jr(s=>s.which===Pr.Tab),XO(r)).subscribe(([s,o])=>{const[a,l]=a9(e);(o===a||o===e)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Mo(e,"click").pipe(xo(t),XO(r),ii(s=>s[1])).subscribe(s=>s.focus())})})(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const s=r.container instanceof HTMLElement?r.container:ng(r.container)?this._document.querySelector(r.container):this._document.body;if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const o=new x9,a=(t=r.injector||t).get(lo,null)||this._environmentInjector,l=this._getContentRef(t,a,i,o,r);let c=!1!==r.backdrop?this._attachBackdrop(s):void 0,u=this._attachWindowComponent(s,l.nodes),h=new L1e(u,l,c,r.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(u),h.hidden.pipe(Ds(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),o.close=A=>{h.close(A)},o.dismiss=A=>{h.dismiss(A)},o.update=A=>{h.update(A)},h.update(r),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=QN(F1e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=QN(U1e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,s,o){return r?r instanceof Rs?this._createFromTemplateRef(r,s):n0(r)?this._createFromString(r):this._createFromComponent(t,i,r,s,o):new ag([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new ag([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new ag([[i]])}_createFromComponent(t,i,r,s,o){const l=QN(r,{environmentInjector:i,elementInjector:os.create({providers:[{provide:x9,useValue:s}],parent:t})}),c=l.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new ag([[c]],l.hostView,l)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),H1e=(()=>{class n{constructor(){this._injector=we(os),this._modalStack=we(k1e),this._config=we(N1e)}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),T9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({providers:[H1e]})}}return n})(),B9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),K1e=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),I9=(()=>{class n{constructor(){this.templateRef=we(Rs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0})}}return n})(),N9=(()=>{class n{constructor(){this.templateRef=we(Rs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0})}}return n})(),R9=(()=>{class n{constructor(){this.templateRef=we(Rs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0})}}return n})(),F9=(()=>{class n{constructor(){this.templateRef=we(Rs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0})}}return n})(),O9=(()=>{class n{constructor(){this.templateRef=we(Rs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0})}}return n})(),P9=(()=>{class n{constructor(){this.templateRef=we(Rs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0})}}return n})(),L9=(()=>{class n{constructor(){this.templateRef=we(Rs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0})}}return n})(),EP=(()=>{class n{constructor(){this._config=we(K1e),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new H(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,i){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,i=this.pageCount,r=Math.floor(this.maxSize/2);return this.page<=r?i=this.maxSize:this.pageCount-this.page<r?t=this.pageCount-this.maxSize:(t=this.page-r-1,i=this.page+(this.maxSize%2==0?r-1:r)),[t,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(t){const i=this.page;this.page=function Sye(n,e,t=0){return Math.max(Math.min(n,e),t)}(t,this.pageCount,1),this.page!==i&&Wo(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Wo(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,r=this.pageCount;[i,r]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,r),this._applyEllipses(i,r)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["ngb-pagination"]],contentQueries:function(i,r,s){if(1&i&&($s(s,I9,5),$s(s,N9,5),$s(s,R9,5),$s(s,F9,5),$s(s,O9,5),$s(s,P9,5),$s(s,L9,5)),2&i){let o;Tn(o=Mn())&&(r.tplEllipsis=o.first),Tn(o=Mn())&&(r.tplFirst=o.first),Tn(o=Mn())&&(r.tplLast=o.first),Tn(o=Mn())&&(r.tplNext=o.first),Tn(o=Mn())&&(r.tplNumber=o.first),Tn(o=Mn())&&(r.tplPrevious=o.first),Tn(o=Mn())&&(r.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[rs,Ks],decls:20,vars:12,consts:()=>{let t,i,r,s,o,a,l,c;return t=$localize`:@@ngb.pagination.first:`,i=$localize`:@@ngb.pagination.previous:`,r=$localize`:@@ngb.pagination.next:`,s=$localize`:@@ngb.pagination.last:`,o=$localize`:@@ngb.pagination.first-aria:First`,a=$localize`:@@ngb.pagination.previous-aria:Previous`,l=$localize`:@@ngb.pagination.next-aria:Next`,c=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],t,i,r,s,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"]]},template:function(i,r){if(1&i&&(Ht(0,Qve,2,0,"ng-template",null,0,mu)(2,Gve,2,0,"ng-template",null,1,mu)(4,zve,2,0,"ng-template",null,2,mu)(6,jve,2,0,"ng-template",null,3,mu)(8,Wve,1,0,"ng-template",null,4,mu)(10,$ve,1,1,"ng-template",null,5,mu)(12,Zve,2,0,"ng-template",null,6,mu),q(14,"ul"),Ht(15,tye,3,9,"li",11)(16,iye,3,8,"li",11)(17,rye,0,0,"ng-template",12)(18,oye,3,9,"li",11)(19,lye,3,9,"li",11),$()),2&i){const s=gu(13);Ae(14),OA("pagination"+(r.size?" pagination-"+r.size:"")),Ae(),as(15,r.boundaryLinks?15:-1),Ae(),as(16,r.directionLinks?16:-1),Ae(),Be("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||s)("ngTemplateOutletContext",wN(8,Uve,r.page,r.pages,r.disabled)),Ae(),as(18,r.directionLinks?18:-1),Ae(),as(19,r.boundaryLinks?19:-1)}},dependencies:[h_],encapsulation:2,changeDetection:0})}}return n})(),QT=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),U9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),k9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),H9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),V9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),Q9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),G9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),z9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),xP=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=QW(this.result),r=Array.isArray(this.term)?this.term:[this.term],s=c=>this.accentSensitive?c:jW(c),o=r.map(c=>function Eye(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(s(QW(c)))).filter(c=>c),a=this.accentSensitive?i:jW(i),l=o.length?a.split(new RegExp(`(${o.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=l;else{let c=0;this.parts=l.map(u=>i.substring(c,c+=u.length))}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[rs,Ks],decls:2,vars:0,consts:[[3,"class"]],template:function(i,r){1&i&&Ql(0,vye,2,1,null,null,pu),2&i&&Gl(r.parts)},styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0})}}return n})();new Qt("live announcer delay",{providedIn:"root",factory:()=>100});let j9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})(),W9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({})}}return n})();const twe=[qW,uP,JW,ZW,C9,E9,T9,B9,W9,QT,U9,k9,H9,V9,Q9,G9,z9,j9];let $9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({imports:[twe,qW,uP,JW,ZW,C9,E9,T9,B9,W9,QT,U9,k9,H9,V9,Q9,G9,z9,j9]})}}return n})();const nwe=(n,e)=>e.id;function iwe(n,e){1&n&&(q(0,"span",9),fe(1,"[Cargando...]"),$())}function rwe(n,e){1&n&&(q(0,"span",9),fe(1,"[Escuchando...]"),$())}function swe(n,e){if(1&n&&(q(0,"span",25)(1,"p"),fe(2),$()()),2&n){const t=Ft();Ae(2),gr("Error: ",t.error,"")}}function owe(n,e){if(1&n&&(q(0,"tr")(1,"th",26),fe(2),$(),q(3,"td"),Xe(4,"input",27),$(),q(5,"td",0),Xe(6,"ngb-highlight",28),$(),q(7,"td",0)(8,"a",29),Xe(9,"ngb-highlight",28),$()(),q(10,"td",0)(11,"a",29),Xe(12,"ngb-highlight",28),$()(),q(13,"td",0)(14,"a",29),Xe(15,"ngb-highlight",28),$()(),q(16,"td",0)(17,"a",29),Xe(18,"ngb-highlight",28),$()()()),2&n){const t=e.$implicit,i=Ft();Ae(2),jn(t.id),Ae(2),Be("checked",t.done),Ae(2),Be("result",t.description)("term",i.searchTerm),Ae(2),Be("href",t.field_1,es),Ae(),Be("result",t.name)("term",i.searchTerm),Ae(2),Be("href",t.field_3,es),Ae(),Be("result",t.field_2)("term",i.searchTerm),Ae(2),Be("href",t.field_5,es),Ae(),Be("result",t.field_4)("term",i.searchTerm),Ae(2),Be("href",t.field_7,es),Ae(),Be("result",t.field_6)("term",i.searchTerm)}}function awe(n,e){1&n&&(q(0,"tr")(1,"td",30),fe(2,"[NO SE ENCONTRARON DATOS]"),$()())}const lwe={asc:"desc",desc:"","":"asc"};let uwe=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new H}_rotatePage(){this.direction=lwe[this.direction],this.sortevent.emit({column:this.sortable,direction:this.direction})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["th","_sortevent",""]],hostVars:4,hostBindings:function(i,r){1&i&&xt("click",function(){return r._rotatePage()}),2&i&&bi("asc","asc"===r._direction)("desc","desc"===r._direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})(),hwe=(()=>{class n{constructor(t,i){this.pipe=t,this._authService=i,this.ConfigRoleString=KO.RoleConfig.toString(),this._loading=new Er(!0),this._total=new Er(0),this._search$=new ci,this._Pagelist=new Er([]),this._state={page:1,pageSize:6,searchTerm:"",sortColumn:"",sortDirection:""},this.isListening=!1,this.transcript="",this.error="",this.ListeningButtonIconOn="./assets/images/mic_on.gif",this.ListeningButtonIconOff="./assets/images/mic_off.gif",this.SpeakerIcon="./assets/images/speaker_on.gif",this.clearFormIcon="./assets/images/clearForm.gif",this.InitializeSpeechRecognition(),this._search$.pipe(ls(()=>this._loading.next(!0)),vW(200),cl(()=>this._search()),Ow(200),ls(()=>this._loading.next(!1))).subscribe(r=>{this._Pagelist.next(r.searchPages),this._total.next(r.total)}),this._search$.next()}_search(){let t,i,r={searchPages:t,total:i};const{pageSize:a,page:l,searchTerm:c}=this._state;return console.log("search : "+JSON.stringify(qA.scmList)),t=qA.scmList,t=t.filter(u=>function cwe(n,e,t){return n.name?.toLowerCase().includes(e?.toLowerCase())||n.description?.toLowerCase().includes(e?.toLowerCase())||n.field_1?.toLowerCase().includes(e?.toLowerCase())||n.field_2?.toLowerCase().includes(e?.toLowerCase())||n.field_3?.toLowerCase().includes(e?.toLowerCase())||n.field_4?.toLowerCase().includes(e?.toLowerCase())||n.field_5?.toLowerCase().includes(e?.toLowerCase())||n.field_6?.toLowerCase().includes(e?.toLowerCase())||n.field_7?.toLowerCase().includes(e?.toLowerCase())}(u,c)),i=t.length,t=t.slice((l-1)*a,(l-1)*a+a),r={searchPages:t,total:i},mn(r)}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(t){this._Pagelist=t}get page(){return this._state.page}set page(t){this._set({page:t})}get pageSize(){return this._state.pageSize}set pageSize(t){this._set({pageSize:t})}get searchTerm(){return this._state.searchTerm}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}onSort({column:t,direction:i}){this.headers?.forEach(r=>{r.sortable!==t&&(r.direction="")}),this.sortColumn=t,this.sortDirection=i}InitializeSpeechRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=i=>{this.transcript=i.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=i=>{this.error=i.error,this.isListening=!1,console.error("Error:",this.error)},this.recognition.onend=()=>{console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}startListening(){this.recognition&&(console.log("listening started"),this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(console.log("listening ended"),this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t),this.searchTerm=this.transcript}else alert("No text to speak!")}clearText(){this.searchTerm=""}static{this.\u0275fac=function(i){return new(i||n)(et(kE),et(wW))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-scm"]],viewQuery:function(i,r){if(1&i&&Li(uwe,5),2&i){let s;Tn(s=Mn())&&(r.headers=s)}},decls:61,vars:26,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"click","disabled"],[3,"src"],[3,"click"],[1,"col","col-form-label"],["class","error",4,"ngIf"],[1,"table","table-striped","table-dark"],["align","left","scope","col","sortable","id"],["align","left","scope","col","sortable","done"],["align","left","scope","col","sortable","description"],["align","left","scope","col","sortable","name"],["align","left","scope","col","sortable","field_2"],["align","left","scope","col","sortable","field_4"],["align","left","scope","col","sortable","field_6"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],["routerLink","/Home"],[1,"error"],["scope","row"],["type","checkbox","name","done","id","done","value","done","readonly","",3,"checked"],[3,"result","term"],["target","_blank",3,"href"],["colspan","4",2,"text-align","center"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h1"),fe(2,"[SCM]"),$()(),Xe(3,"hr"),q(4,"form")(5,"div",1)(6,"label",2),fe(7,"Busqueda de Texto Completo:"),$(),q(8,"div",3)(9,"input",4),LA("ngModelChange",function(o){return Np(r.searchTerm,o)||(r.searchTerm=o),o}),$()(),q(10,"span",5)(11,"button",6),xt("click",function(){return r.startListening()}),Xe(12,"img",7),$(),q(13,"button",6),xt("click",function(){return r.stopListening()}),Xe(14,"img",7),$(),q(15,"button",6),xt("click",function(){return r.speakText()}),Xe(16,"img",7),$(),q(17,"button",8),xt("click",function(){return r.clearText()}),Xe(18,"img",7),$()(),Ht(19,iwe,2,0,"span",9),ol(20,"async"),Ht(21,rwe,2,0,"span",9)(22,swe,3,1,"span",10),$(),q(23,"table",11)(24,"thead")(25,"tr")(26,"th",12),fe(27,"#"),$(),q(28,"th",13),fe(29,"(Hecho)"),$(),q(30,"th",14),fe(31,"[Type]"),$(),q(32,"th",15),fe(33,"[desc_1]"),$(),q(34,"th",16),fe(35,"[desc_2]"),$(),q(36,"th",17),fe(37,"[desc_3]"),$(),q(38,"th",18),fe(39,"[desc_4]"),$()()(),q(40,"tbody"),Ql(41,owe,19,16,"tr",null,nwe,!1,awe,3,0,"tr"),ol(44,"async"),$()(),q(45,"div",19)(46,"ngb-pagination",20),ol(47,"async"),LA("pageChange",function(o){return Np(r.page,o)||(r.page=o),o}),$(),q(48,"select",21),LA("ngModelChange",function(o){return Np(r.pageSize,o)||(r.pageSize=o),o}),q(49,"option",22),fe(50,"2 items por Pagina"),$(),q(51,"option",22),fe(52,"4 items por Pagina"),$(),q(53,"option",22),fe(54,"6 tems por Pagina"),$(),q(55,"option",22),fe(56,"10 items por Pagina"),$()()()(),Xe(57,"hr"),q(58,"div",23)(59,"a",24),fe(60,"[Volver al Inicio]"),$()()),2&i&&(Ae(9),PA("ngModel",r.searchTerm),Ae(2),Be("disabled",r.isListening),Ae(),Be("src",r.ListeningButtonIconOn,es),Ae(),Be("disabled",!r.isListening),Ae(),Be("src",r.ListeningButtonIconOff,es),Ae(),Be("disabled",r.isListening),Ae(),Be("src",r.SpeakerIcon,es),Ae(2),Be("src",r.clearFormIcon,es),Ae(),as(19,al(20,20,r.loading)?19:-1),Ae(2),as(21,r.isListening&&!r.error?21:-1),Ae(),Be("ngIf",r.error),Ae(19),Gl(al(44,22,r._Pagelist)),Ae(5),Be("collectionSize",al(47,24,r.total)),PA("page",r.page),Be("pageSize",r.pageSize),Ae(2),PA("ngModel",r.pageSize),Ae(),Be("ngValue",2),Ae(2),Be("ngValue",4),Ae(2),Be("ngValue",6),Ae(2),Be("ngValue",10))},dependencies:[wr,ll,q1,Hp,Vp,Up,X1,k1,H1,K1,m_,EP,xP,d_],styles:["img[_ngcontent-%COMP%]{width:15px;height:30px}"]})}}return n})(),dwe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-topics"]],decls:120,vars:0,consts:[["align","left"],["target","_blank","href","#"],["align","right"],["routerLink","/Home"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h1"),fe(2,"[TOPICS]"),$(),q(3,"h2"),fe(4,"[Front End]"),$(),q(5,"ul")(6,"li")(7,"a",1),fe(8,"[Angular/Typescript]"),$()(),q(9,"li")(10,"a",1),fe(11,"[BootStrap]"),$()(),q(12,"li")(13,"a",1),fe(14,"[Angular Material]"),$()(),q(15,"li")(16,"a",1),fe(17,"[jquery/css/html]"),$()()(),q(18,"h2"),fe(19,"[Backend]"),$(),q(20,"ul")(21,"li")(22,"a",1),fe(23,"[c# / .NET CORE]"),$()(),q(24,"li")(25,"a",1),fe(26,"[node.js]"),$()()(),q(27,"h2"),fe(28,"[A.I.]"),$(),q(29,"ul")(30,"li")(31,"a",1),fe(32,"Google Gemini"),$()(),q(33,"li")(34,"a",1),fe(35,"Chat gtp"),$()(),q(36,"li")(37,"a",1),fe(38,"C# Accord"),$()(),q(39,"li")(40,"a",1),fe(41,"C++ OpenCV"),$()()(),q(42,"h2"),fe(43,"[Algorithm]"),$(),q(44,"ul")(45,"li")(46,"a",1),fe(47,"[TAOCP]"),$()(),q(48,"li")(49,"a",1),fe(50,"[Coursera / Neural Networks / Machine Learning]"),$()()(),q(51,"h2"),fe(52,"[Databases]"),$(),q(53,"ul")(54,"li")(55,"a",1),fe(56,"[MS SQL SERVER]"),$()(),q(57,"li")(58,"a",1),fe(59,"[ORACLE]"),$()(),q(60,"li")(61,"a",1),fe(62,"[MY SQL]"),$()()(),q(63,"h2"),fe(64,"[Software Engineering]"),$(),q(65,"ul")(66,"li")(67,"a",1),fe(68,"[Swebok]"),$()(),q(69,"li")(70,"a",1),fe(71,"[Solid]"),$()(),q(72,"li")(73,"a",1),fe(74,"[Softeware Patterns]"),$()(),q(75,"li")(76,"a",1),fe(77,"[Clean]"),$()()(),Xe(78,"hr"),q(79,"h4"),fe(80,"[Angular - Listado por Tema]"),$(),q(81,"ul")(82,"li"),fe(83,"Formularios basados en plantillas."),$(),q(84,"li"),fe(85,"Fomulaios reactivos."),$(),q(86,"li"),fe(87,"Servicios (llamadas API Rest a backends .net o node.js)."),$(),q(88,"li"),fe(89,"Pipes (formato de fecha)."),$(),q(90,"li"),fe(91,"Injecci\xf3n de Dependencia."),$()(),Xe(92,"hr"),q(93,"h4"),fe(94,"[Angular - Listado Por Caracter\xedstica]"),$(),q(95,"ul")(96,"li"),fe(97,"Lectura de archivos de configuraci\xf3n."),$(),q(98,"li"),fe(99,"Interceptores (registro de llamadas http)"),$(),q(100,"li"),fe(101,"Manejo de errores."),$(),q(102,"li"),fe(103,"Manejo de Graficos (canvas)."),$(),q(104,"li"),fe(105,"Graficos estadisticos tipo Pastel y barras."),$(),q(106,"li"),fe(107,"Exportaciones pdf, xls, csv, pdf."),$(),q(108,"li"),fe(109,"Algoritmos (minmax, camino m\xe1s corto)."),$(),q(110,"li"),fe(111,"OCR (Reconocimientos de Caracteres)."),$(),q(112,"li"),fe(113,"LLamado a Sockets via Node.js (Chat)."),$(),q(114,"li"),fe(115,"Manipulaci\xf3n de bases de datos MS SQL Server desde .net Core (backend)."),$()()(),Xe(116,"hr"),q(117,"div",2)(118,"a",3),fe(119,"[Volver al Inicio]"),$()())},dependencies:[wr]})}}return n})(),Awe=(()=>{class n{constructor(t,i){this.algorithmService=t,this.router=i,this.lblStatusNodeJs="",this.BtnTestNodeJSCaption="[TEST NODE.JS]",this.lblStatusSpringBoot="",this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"}RedirectHome(){this.router.navigateByUrl("/Home")}TestNodeJs(){console.log("[TEST NODE.JS] \n"),this.BtnTestNodeJSCaption="...(retrieving data)...",this.algorithmService._TestNodeJs().subscribe({next:r=>{this.lblStatusNodeJs=JSON.parse(r).recordsets[0][0].nombreCompleto,console.log("[TEST - NODEJS] - (return): "+this.lblStatusNodeJs),this.BtnTestNodeJSCaption="[TEST NODE.JS]"},error:r=>{console.error("[TEST - NODEJS] - (ERROR) : "+JSON.stringify(r.message)),this.lblStatusNodeJs=r.message,this.BtnTestNodeJSCaption="[TEST NODE.JS]"},complete:()=>{console.log("[TEST - NODEJS]  -  (COMPLETE)")}})}TestSpringBoot(){console.log("[TEST SPRINGBOOT] \n"),this.BtnTestSpringBootCaption="...(retrieving data)...",this.algorithmService._TestSprinbBoot().subscribe({next:r=>{this.lblStatusSpringBoot=r,console.log("[TEST - NODEJS] - (return): "+this.lblStatusSpringBoot),this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"},error:r=>{let s=JSON.stringify(r.message);console.error("[TEST - SPRINBBOOT] - (ERROR) : "+s),this.lblStatusSpringBoot=s,this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"},complete:()=>{console.log("[TEST - springboot]  -  (COMPLETE)")}})}static{this.\u0275fac=function(i){return new(i||n)(et(m7),et(La))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-unt-testing"]],decls:21,vars:6,consts:[["align","left"],["type","button",3,"click","value","disabled"],["id","lblStatusNodeJs"],["id","lblStatusSprinbBoot"],["align","right"],["routerLink","/Dev"]],template:function(i,r){1&i&&(q(0,"div",0),Xe(1,"hr"),q(2,"h1"),fe(3,"[NODE.JS]"),$(),Xe(4,"br"),q(5,"input",1),xt("click",function(){return r.TestNodeJs()}),$(),Xe(6,"br"),q(7,"label",2),fe(8),$(),Xe(9,"hr"),q(10,"h1"),fe(11,"[SPRING BOOT]"),$(),q(12,"input",1),xt("click",function(){return r.TestSpringBoot()}),$(),Xe(13,"br"),q(14,"label",3),fe(15),$(),Xe(16,"hr"),$(),Xe(17,"hr"),q(18,"div",4)(19,"a",5),fe(20,"[Volver al Menu]"),$()()),2&i&&(Ae(5),Ip("value",r.BtnTestNodeJSCaption),Be("disabled","[TEST NODE.JS]"!=r.BtnTestNodeJSCaption),Ae(3),gr("Test Result :[",r.lblStatusNodeJs,"]"),Ae(4),Ip("value",r.BtnTestSpringBootCaption),Be("disabled","[TEST SPRINGBOOT]"!=r.BtnTestSpringBootCaption),Ae(3),gr("Test Result :[",r.lblStatusSpringBoot,"]"))},dependencies:[wr]})}}return n})();const fwe=["signature"];let pwe=(()=>{class n{constructor(t){this.backendService=t,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]"}onBeginSign(){}onEndSign(){}saveSignature(){console.log("Saving signature...");let t=this.signature?.toDataURL();console.log("Data URL:",t),this.uploadImage(t)}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}uploadImage(t){this.statusButton="..parsing..",this.backendService.uploadBase64Image(t).subscribe(i=>{console.log("Image uploaded successfully:",i),this.status=JSON.parse(JSON.stringify(i)).message,this.statusButton="[save]";const r=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(r)},i=>{console.error("Error uploading image:",i),this.status=i,this.statusButton="[save]"})}static{this.\u0275fac=function(i){return new(i||n)(et(Tw))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-ocr"]],viewQuery:function(i,r){if(1&i&&Li(fwe,5),2&i){let s;Tn(s=Mn())&&(r.signature=s.first)}},decls:19,vars:4,consts:[["signature",""],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","right"],["routerLink","/Dev"]],template:function(i,r){if(1&i){const s=Tr();q(0,"h1"),fe(1,"[OCR]"),$(),Xe(2,"hr"),q(3,"div")(4,"ngx-signature-pad",1,0),xt("beginSign",function(){return ln(s),un(r.onBeginSign())})("endSign",function(){return ln(s),un(r.onEndSign())}),$()(),Xe(6,"hr"),q(7,"input",2),xt("click",function(){return ln(s),un(r.saveSignature())}),$(),fe(8,"\n|\n"),q(9,"button",3),xt("click",function(){return ln(s),un(r.clearSignature())}),fe(10,"Clear Signature"),$(),Xe(11,"br")(12,"br"),q(13,"span",4),fe(14),$(),Xe(15,"hr"),q(16,"div",5)(17,"a",6),fe(18,"[Volver al Menu]"),$()()}2&i&&(Ae(4),Be("options",r.options),Ae(3),Ip("value",r.statusButton),Be("disabled","..parsing.."==r.statusButton),Ae(7),jn(r.status))},dependencies:[wr,$O],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}"]})}}return n})();function K9(n=0,e=Bw){return n<0&&(n=0),bT(n,n,e)}let TP,MP,q9=mn(1,2,3,4,5),X9=[],Y9=["a","b","c","d","e"],J9=new Er(null),gwe=J9.asObservable();let vwe=(()=>{class n{constructor(){this.TestBasicObservable()}TestBasicObservable(){TP=_s(q9).pipe(VA(t=>mn(t).pipe(Ow(1e3)))),TP.subscribe({next(t){console.log("Observable emitted the next value from service to array : "+t),X9.push(t)},error(t){console.error("Behaviour subject erro: "+t)},complete(){console.log("Observable complete notification"),function mwe(){K9(1e3).pipe(Ds(Y9.length),ii(n=>Y9[n])).subscribe({next(n){console.log("Behaviour subject item : "+n),J9.next(n)},error(n){console.error("Behaviour subject erro: "+n)},complete(){console.log("Behaviour subject complete notification"),function _we(){MP=_s(["A","B","C","D","E"]).pipe(VA(t=>mn(t).pipe(Ow(1e3)))),MP.subscribe({next(t){console.log(`Iteration emitted Result: ${t}`)},error(t){console.error("Iteration emitted an error: "+t)},complete(){console.log("Iteration complete notification")}})}()}})}()}})}get CurrentValue(){return X9}get Numbers(){return q9}get CurrentItem(){return gwe}get delayedObservable(){return TP}get delayedObservableIteration(){return MP}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ywe=(()=>{class n{constructor(t){this.service=t}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)(et(vwe))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-rx-jsplayground"]],decls:18,vars:9,consts:[["align","right"],["routerLink","/Dev"]],template:function(i,r){1&i&&(q(0,"h1"),fe(1,"[RXJS PLAYGROUND]"),$(),Xe(2,"hr"),q(3,"div"),fe(4),ol(5,"async"),$(),Xe(6,"hr"),q(7,"div"),fe(8),ol(9,"async"),$(),Xe(10,"hr"),q(11,"div"),fe(12),ol(13,"async"),$(),Xe(14,"hr"),q(15,"div",0)(16,"a",1),fe(17,"[Volver al Menu]"),$()()),2&i&&(Ae(4),gr(" Current observable value : ",al(5,3,r.service.delayedObservable),"\n"),Ae(4),gr(" Current BehaviourSubject value : ",al(9,5,r.service.CurrentItem),"\n"),Ae(4),gr(" Current Iteration value : ",al(13,7,r.service.delayedObservableIteration),"\n"))},dependencies:[wr,d_]})}}return n})();function wwe(n,e){if(1&n&&(q(0,"span",5)(1,"a",6)(2,"span",7),fe(3),$()()()),2&n){const t=Ft().$implicit;Ae(),w1("routerLink","/",t.url,""),Ae(2),jn(t.text)}}function bwe(n,e){if(1&n&&(q(0,"span"),Ht(1,wwe,4,3,"span",4),$()),2&n){const t=e.$implicit;Ae(),Be("ngIf",t)}}let Z9=(()=>{class n{constructor(t,i,r,s){this.titleService=t,this.configService=i,this.customErrorHandler=r,this.loggingInterceptor=s,this._appBrand="",this._appVersion="",this._appEnv="",this._title="",this.pages=[{url:"/Dev",text:"[TESTING]"},{url:"/StableReleases",text:"[PRODUCTION]"},{url:"/SCM",text:"[SCM]"},{url:"/AiPrompts",text:"[LLMs]"}],this._appBrand=this.configService.getConfigValue("appBrand"),this._appVersion=this.configService.getConfigValue("appVersion"),this._appEnv=this.configService.getConfigValue("appEnv"),this._title=this._appBrand+"-"+this._appEnv+" - v["+this._appVersion+"]",console.log(this._title),this.titleService.setTitle(this._title)}static{this.\u0275fac=function(i){return new(i||n)(et(XE),et(XA),et(_M),et(vM))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-home"]],decls:17,vars:13,consts:[["align","center",1,"animate"],["routerLink","/"],[1,"me-1",2,"width","50px",3,"src","alt"],[4,"ngFor","ngForOf"],["style","padding:5px;",4,"ngIf"],[2,"padding","5px"],[3,"routerLink"],["align","left"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h1"),fe(2),$(),Xe(3,"hr"),q(4,"a",1),Xe(5,"img",2),$(),q(6,"a",1),Xe(7,"img",2),$(),q(8,"a",1),Xe(9,"img",2),$(),q(10,"a",1),Xe(11,"img",2),$(),q(12,"a",1),Xe(13,"img",2),$(),Xe(14,"hr"),Ht(15,bwe,2,1,"span",3),Xe(16,"hr"),$()),2&i&&(Ae(2),cE("Welcome to ",r._appBrand," - ",r._appEnv,""),Ae(3),Be("src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/800px-Angular_full_color_logo.svg.png",es)("alt","Angular Logo"),Ae(2),Be("src","https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1024px-Node.js_logo.svg.png",es)("alt","NodeJs Logo"),Ae(2),Be("src","https://upload.wikimedia.org/wikipedia/commons/d/d2/C_Sharp_Logo_2023.svg",es)("alt","C# Logo"),Ae(2),Be("src","https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/ISO_C%2B%2B_Logo.svg/306px-ISO_C%2B%2B_Logo.svg.png",es)("alt","C++ Logo"),Ae(2),Be("src","https://vmware.gallerycdn.vsassets.io/extensions/vmware/vscode-spring-boot/1.59.2024110900/1731113263936/Microsoft.VisualStudio.Services.Icons.Default",es)("alt","SPRING BOOT Logo"),Ae(2),Be("ngForOf",r.pages))},dependencies:[wr,sa,ll],styles:[".animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale 2s}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}"]})}}return n})();function Cwe(n,e){if(1&n&&(q(0,"div",8)(1,"p"),fe(2),$()()),2&n){const t=Ft();Ae(2),gr("Error: ",t.error,"")}}let Swe=(()=>{class n{constructor(){this.isListening=!1,this.transcript="",this.error="";const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=i=>{this.transcript=i.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=i=>{this.error=i.error,console.error("Error:",this.error)},this.recognition.onend=()=>{this.isListening=!1,console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}ngOnInit(){}startListening(){this.recognition&&(this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t)}else alert("No text to speak!")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-speech-recognition"]],decls:20,vars:4,consts:[[1,"speech-recognition-container"],[1,"controls"],[3,"click","disabled"],[3,"click"],[1,"output"],["class","error",4,"ngIf"],["align","right"],["routerLink","/Dev"],[1,"error"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h2"),fe(2,"Speech Recognition with Angular"),$(),q(3,"div",1)(4,"button",2),xt("click",function(){return r.startListening()}),fe(5,"Start Listening"),$(),q(6,"button",2),xt("click",function(){return r.stopListening()}),fe(7,"Stop Listening"),$(),q(8,"button",3),xt("click",function(){return r.speakText()}),fe(9,"Speak Text"),$()(),q(10,"div",4)(11,"h3"),fe(12,"Transcript:"),$(),q(13,"p"),fe(14),$()(),Ht(15,Cwe,3,1,"div",5),$(),Xe(16,"hr"),q(17,"div",6)(18,"a",7),fe(19,"[Volver al Menu]"),$()()),2&i&&(Ae(4),Be("disabled",r.isListening),Ae(2),Be("disabled",!r.isListening),Ae(8),jn(r.transcript||"No speech detected yet."),Ae(),Be("ngIf",r.error))},dependencies:[wr,ll],styles:[".speech-recognition-container[_ngcontent-%COMP%]{text-align:center;margin:20px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;padding:10px 20px;font-size:16px;cursor:pointer}.output[_ngcontent-%COMP%]{margin-top:20px;font-size:18px}.error[_ngcontent-%COMP%]{color:red;margin-top:10px}"]})}}return n})();const Ewe=(n,e)=>e.path;function xwe(n,e){1&n&&(q(0,"span",9),fe(1,"[Cargando...]"),$())}function Twe(n,e){1&n&&(q(0,"span",9),fe(1,"[Escuchando...]"),$())}function Mwe(n,e){if(1&n&&(q(0,"span",19)(1,"p"),fe(2),$()()),2&n){const t=Ft();Ae(2),gr("Error: ",t.error,"")}}function Dwe(n,e){if(1&n&&(q(0,"tr")(1,"td")(2,"a",21),Xe(3,"ngb-highlight",22),$()()()),2&n){const t=Ft().$implicit,i=Ft();Ae(2),Be("routerLink","/"+t.path),Ae(),Be("result",t.caption)("term",i.searchTerm)}}function Bwe(n,e){1&n&&Ht(0,Dwe,4,3,"tr",20),2&n&&Be("ngIf",""!=e.$implicit.path)}function Iwe(n,e){1&n&&(q(0,"tr")(1,"td",23),fe(2,"[NO SE ENCONTRARON DATOS]"),$()())}const Nwe={asc:"desc",desc:"","":"asc"};let Fwe=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new H}_rotatePage(){this.direction=Nwe[this.direction],this.sortevent.emit({column:this.sortable,direction:this.direction})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["th","_sortevent",""]],hostVars:4,hostBindings:function(i,r){1&i&&xt("click",function(){return r._rotatePage()}),2&i&&bi("asc","asc"===r._direction)("desc","desc"===r._direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})(),Owe=(()=>{class n{constructor(t,i){this.pipe=t,this._authService=i,this.ConfigRoleString=KO.RoleConfig.toString(),this._loading=new Er(!0),this._total=new Er(0),this._search$=new ci,this._Pagelist=new Er([]),this._state={page:1,pageSize:4,searchTerm:"",sortColumn:"",sortDirection:""},this.isListening=!1,this.transcript="",this.error="",this.ListeningButtonIconOn="./assets/images/mic_on.gif",this.ListeningButtonIconOff="./assets/images/mic_off.gif",this.SpeakerIcon="./assets/images/speaker_on.gif",this.clearFormIcon="./assets/images/clearForm.gif",this.InitializeSpeechRecognition(),this._search$.pipe(ls(()=>this._loading.next(!0)),vW(200),cl(()=>this._search()),Ow(200),ls(()=>this._loading.next(!1))).subscribe(r=>{this._Pagelist.next(r.searchPages),this._total.next(r.total)}),this._search$.next()}InitializeSpeechRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=i=>{this.transcript=i.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=i=>{this.error=i.error,this.isListening=!1,console.error("Error:",this.error)},this.recognition.onend=()=>{console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}_search(){let t,i,r={searchPages:t,total:i};const{pageSize:a,page:l,searchTerm:c}=this._state;return t=Gq,t=t.filter(u=>function Rwe(n,e,t){return n.caption?.toLowerCase().includes(e?.toLowerCase())}(u,c)),i=t.length,t=t.slice((l-1)*a,(l-1)*a+a),r={searchPages:t,total:i},mn(r)}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(t){this._Pagelist=t}get page(){return this._state.page}set page(t){this._set({page:t})}get pageSize(){return this._state.pageSize}set pageSize(t){this._set({pageSize:t})}get searchTerm(){return this._state.searchTerm}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}onSort({column:t,direction:i}){this.headers?.forEach(r=>{r.sortable!==t&&(r.direction="")}),this.sortColumn=t,this.sortDirection=i}startListening(){this.recognition&&(console.log("listening started"),this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(console.log("listening ended"),this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t),this.searchTerm=this.transcript}else alert("No text to speak!")}clearText(){this.searchTerm=""}static{this.\u0275fac=function(i){return new(i||n)(et(kE),et(wW))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-index"]],viewQuery:function(i,r){if(1&i&&Li(Fwe,5),2&i){let s;Tn(s=Mn())&&(r.headers=s)}},decls:49,vars:26,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"click","disabled"],[3,"src"],[3,"click"],[1,"col","col-form-label"],["class","error",4,"ngIf"],[1,"table","table-striped","table-dark"],["scope","col","sortable","path"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],["routerLink","/Home"],[1,"error"],[4,"ngIf"],[3,"routerLink"],[3,"result","term"],["colspan","4",2,"text-align","center"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h1"),fe(2,"[INDEX]"),$(),Xe(3,"hr"),q(4,"form")(5,"div",1)(6,"label",2),fe(7,"Busqueda de Texto Completo:"),$(),q(8,"div",3)(9,"input",4),LA("ngModelChange",function(o){return Np(r.searchTerm,o)||(r.searchTerm=o),o}),$()(),q(10,"span",5)(11,"button",6),xt("click",function(){return r.startListening()}),Xe(12,"img",7),$(),q(13,"button",6),xt("click",function(){return r.stopListening()}),Xe(14,"img",7),$(),q(15,"button",6),xt("click",function(){return r.speakText()}),Xe(16,"img",7),$(),q(17,"button",8),xt("click",function(){return r.clearText()}),Xe(18,"img",7),$()(),Ht(19,xwe,2,0,"span",9),ol(20,"async"),Ht(21,Twe,2,0,"span",9)(22,Mwe,3,1,"span",10),$(),q(23,"table",11)(24,"thead")(25,"tr")(26,"th",12),fe(27,"[Pagina]"),$()()(),q(28,"tbody"),Ql(29,Bwe,1,1,"tr",null,Ewe,!1,Iwe,3,0,"tr"),ol(32,"async"),$()(),q(33,"div",13)(34,"ngb-pagination",14),ol(35,"async"),LA("pageChange",function(o){return Np(r.page,o)||(r.page=o),o}),$(),q(36,"select",15),LA("ngModelChange",function(o){return Np(r.pageSize,o)||(r.pageSize=o),o}),q(37,"option",16),fe(38,"2 items por Pagina"),$(),q(39,"option",16),fe(40,"4 items por Pagina"),$(),q(41,"option",16),fe(42,"6 tems por Pagina"),$(),q(43,"option",16),fe(44,"10 items por Pagina"),$()()()()(),Xe(45,"hr"),q(46,"div",17)(47,"a",18),fe(48,"[Volver al Inicio]"),$()()),2&i&&(Ae(9),PA("ngModel",r.searchTerm),Ae(2),Be("disabled",r.isListening),Ae(),Be("src",r.ListeningButtonIconOn,es),Ae(),Be("disabled",!r.isListening),Ae(),Be("src",r.ListeningButtonIconOff,es),Ae(),Be("disabled",r.isListening),Ae(),Be("src",r.SpeakerIcon,es),Ae(2),Be("src",r.clearFormIcon,es),Ae(),as(19,al(20,20,r.loading)?19:-1),Ae(2),as(21,r.isListening&&!r.error?21:-1),Ae(),Be("ngIf",r.error),Ae(7),Gl(al(32,22,r._Pagelist)),Ae(5),Be("collectionSize",al(35,24,r.total)),PA("page",r.page),Be("pageSize",r.pageSize),Ae(2),PA("ngModel",r.pageSize),Ae(),Be("ngValue",2),Ae(2),Be("ngValue",4),Ae(2),Be("ngValue",6),Ae(2),Be("ngValue",10))},dependencies:[wr,ll,q1,Hp,Vp,Up,X1,k1,H1,K1,m_,EP,xP,d_],styles:["img[_ngcontent-%COMP%]{width:15px;height:30px}"]})}}return n})();function Pwe(n,e){if(1&n&&(q(0,"ul")(1,"li")(2,"a",5),fe(3),$()()()),2&n){const t=e.$implicit;Ae(2),Be("href",t.url,es),Ae(),jn(t.name)}}let Lwe=(()=>{class n{constructor(){this.aiPrompts=[],console.log("AI Prompts: "+JSON.stringify(qA.aiPrompts)),this.aiPrompts=qA.aiPrompts}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-ai-prompts"]],decls:11,vars:1,consts:[["align","center"],["align","left"],[4,"ngFor","ngForOf"],["align","right"],["routerLink","/Home"],["target","_blank",3,"href"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h4")(2,"b"),fe(3,"[LLMs]"),$()(),Xe(4,"hr"),$(),q(5,"div",1),Ht(6,Pwe,4,2,"ul",2),$(),Xe(7,"hr"),q(8,"div",3)(9,"a",4),fe(10,"[Inicio]"),$()()),2&i&&(Ae(6),Be("ngForOf",r.aiPrompts))},dependencies:[wr,sa]})}}return n})(),Uwe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-stable-releases"]],decls:23,vars:0,consts:[["align","left"],["routerLink","/OcrPhotoCapture"],["routerLink","/Chat"],["routerLink","/Sudoku"],["routerLink","/Hanoi"],["routerLink","/TicTacToe"],["align","right"],["routerLink","/Home"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h2"),fe(2,"[Stable Releases]"),$(),q(3,"ul")(4,"li")(5,"a",1),fe(6,"[OCR / COMPUTER VISION]"),$()(),q(7,"li")(8,"a",2),fe(9,"[chat]"),$()(),q(10,"li")(11,"a",3),fe(12,"[sudoku]"),$()(),q(13,"li")(14,"a",4),fe(15,"[hanoi towers - [ALGORITMOS - RECURSION]]"),$()(),q(16,"li")(17,"a",5),fe(18,"[tic tac toe (offline) - [ALGORITMOS - MINMAX]]"),$()()()(),Xe(19,"hr"),q(20,"div",6)(21,"a",7),fe(22,"[Volver al Inicio]"),$()())},dependencies:[wr]})}}return n})(),e$=(()=>{class n{constructor(){console.log("cv global variable : "+cv)}detectShapes(t){const i=[];if(cv.getBuildInformation){const r=cv.imread(t),s=new cv.Mat,o=new cv.Mat;cv.cvtColor(r,s,cv.COLOR_RGBA2GRAY,0),cv.Canny(s,o,50,150,3,!1);const a=new cv.MatVector,l=new cv.Mat;cv.findContours(o,a,l,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE);for(let c=0;c<a.size();c++){const u=a.get(c),h=new cv.Mat,A=.04*cv.arcLength(u,!0);cv.approxPolyDP(u,h,A,!0);let d="";if(3===h.rows)d="Tri\xe1ngulo";else if(4===h.rows){const f=cv.boundingRect(h),_=f.width/f.height;d=_>=.95&&_<=1.05?"Cuadrado":"Rect\xe1ngulo"}else h.rows>4&&(d="C\xedrculo");d&&i.push(d)}return r.delete(),s.delete(),o.delete(),a.delete(),l.delete(),i}return i}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const kwe=["video"];function Hwe(n,e){if(1&n&&(q(0,"div"),Xe(1,"img",5),$()),2&n){const t=Ft();Ae(),Be("src",t.imageURL,es)}}function Vwe(n,e){if(1&n&&(q(0,"li"),fe(1),$()),2&n){const t=e.$implicit;Ae(),jn(t)}}function Qwe(n,e){if(1&n&&(q(0,"div",6)(1,"h3"),fe(2,"Detected Shapes:"),$(),q(3,"ul"),Ht(4,Vwe,2,1,"li",7),$()()),2&n){const t=Ft();Ae(4),Be("ngForOf",t.detectedShapes)}}let Gwe=(()=>{class n{constructor(t,i){this.mcsdService=t,this.shapeDetectionService=i,this.detectedShapes=[],this.imageURL=null,this.videoStyle="width: 150px;height:150px; transform : scaleX(1);"}onFileSelected(t){const i=t.target.files[0];if(i){const r=new FileReader;r.onload=s=>{this.imageURL=s.target.result,this.detectShapes()},r.readAsDataURL(i)}}detectShapes(){const t=new Image;t.onload=()=>{const i=this.shapeDetectionService.detectShapes(t);this.detectedShapes=i;const r=new SpeechSynthesisUtterance(this.detectedShapes.toString());speechSynthesis.speak(r)},t.src=this.imageURL}ngAfterViewInit(){}static{this.\u0275fac=function(i){return new(i||n)(et(Tw),et(e$))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-open-cv-shape-recon"]],viewQuery:function(i,r){if(1&i&&Li(kwe,7),2&i){let s;Tn(s=Mn())&&(r.videoElement=s.first)}},decls:11,vars:2,consts:[["type","file",3,"change"],[4,"ngIf"],["align","center",4,"ngIf"],["align","right"],["routerLink","/Dev"],["alt","Uploaded Image",2,"max-width","100%","height","auto",3,"src"],["align","center"],[4,"ngFor","ngForOf"]],template:function(i,r){1&i&&(q(0,"h4"),fe(1,"[MISCELANEOUS / SHAPE RECOGNITION]"),$(),Xe(2,"hr"),q(3,"div")(4,"input",0),xt("change",function(o){return r.onFileSelected(o)}),$()(),Ht(5,Hwe,2,1,"div",1)(6,Qwe,5,1,"div",2),Xe(7,"hr"),q(8,"div",3)(9,"a",4),fe(10,"[Volver al Menu]"),$()()),2&i&&(Ae(5),Be("ngIf",r.imageURL),Ae(),Be("ngIf",r.detectedShapes.length>0))},dependencies:[wr,sa,ll],styles:["input[type=file][_ngcontent-%COMP%]{margin-bottom:10px}img[_ngcontent-%COMP%]{margin-top:20px}","video[_ngcontent-%COMP%] {\n    \n\n    \n\n    width: 50%;\n    \n\n    height: 50%;\n    transform: scaleX(1);\n  }"]})}}return n})();const zwe=["signature"],jwe=["video"],Wwe=["canvas"],$we=["_sourceList"],Kwe=["_engineList"];function qwe(n,e){if(1&n&&Xe(0,"img",28),2&n){const t=Ft();Be("src",t.capturedImage,es)("hidden",t.capturedImageHidden)}}function Xwe(n,e){if(1&n&&(q(0,"option",29),fe(1),$()),2&n){const t=e.$implicit;Be("value",t._index)("selected",t._selected),Ae(),jn(t._value)}}function Ywe(n,e){if(1&n&&(q(0,"option",29),fe(1),$()),2&n){const t=e.$implicit;Be("value",t._index)("selected",t._selected),Ae(),jn(t._value)}}let Jwe=(()=>{class n{constructor(t,i){this.backendService=t,this.shapeDetectionService=i,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[ORIGEN CAPTURA]",this.titleEngineList="[ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=0,this.selectedIndexEngines=0,this.detectedShapes=[]}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera()}ngAfterViewInit(){this.__sourceList=new Array,this.__sourceList.push(new wh(0,"(SELECCIONE OPCION..)",!1)),this.__sourceList.push(new wh(1,"(DESDE CANVAS)",!0)),this.__sourceList.push(new wh(2,"(DESDE CAMARA)",!1)),this.__engineList=new Array,this.__engineList.push(new wh(0,"(SELECCIONE OPCION..)",!1)),this.__engineList.push(new wh(1,"(CV / OPENCV - javascript)",!0))}ngOnDestroy(){this.stopCamera()}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status="",console.log(`Selected Source : ${this.selectedIndex}`)}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex}onBeginSign(){}onEndSign(){}saveSignature(){1===(console.log("Saving signature..."),this.selectionChangeEngines(),this.selectedIndexEngines)?this.detectShapes(this.signature?.toDataURL()):this.status="Favor seleccione la opci\xf3n [ENGINE]"}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}startCamera(){var t=this;return(0,vt.A)(function*(){try{t.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:t.isFrontCamera?"user":"environment"}}),t.videoStream&&(t.videoElement.nativeElement.srcObject=t.videoStream)}catch(i){console.error("Error accessing the camera:",i)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(t=>t.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const t=this.videoElement.nativeElement,i=this.canvas.nativeElement,r=i.getContext("2d");r&&(i.width=t.videoWidth/4,i.height=t.videoHeight/4,console.log("width: "+i.width+" height: "+i.height),r.drawImage(t,0,0,i.width,i.height),this.capturedImage=i.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){1===(this.selectionChangeEngines(),this.selectedIndexEngines)?this.capturedImage&&(this.detectShapes(this.capturedImage),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1):this.status="Favor seleccione la opci\xf3n [ENGINE]"}dataURLToBlob(t){const i=atob(t.split(",")[1]),r=t.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return new Blob([s],{type:r})}flipCamera(){var t=this;return(0,vt.A)(function*(){console.log("flippling camera"),t.isFrontCamera=!t.isFrontCamera,t.stopCamera(),yield t.startCamera()})()}detectShapes(t){const i=new Image;i.onload=()=>{const r=this.shapeDetectionService.detectShapes(i);this.detectedShapes=r,this.status=this.detectedShapes.toString();const s=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(s)},i.src=t}static{this.\u0275fac=function(i){return new(i||n)(et(Tw),et(e$))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-shape-recon-canvas"]],viewQuery:function(i,r){if(1&i&&(Li(zwe,5),Li(jwe,7),Li(Wwe,5),Li($we,5),Li(Kwe,5)),2&i){let s;Tn(s=Mn())&&(r.signature=s.first),Tn(s=Mn())&&(r.videoElement=s.first),Tn(s=Mn())&&(r.canvas=s.first),Tn(s=Mn())&&(r._sourceList=s.first),Tn(s=Mn())&&(r._engineList=s.first)}},decls:53,vars:18,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[3,"click","disabled"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],["routerLink","/Dev"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(i,r){if(1&i){const s=Tr();q(0,"div",5)(1,"h1"),fe(2,"[MISCELANEOUS - CV]"),$(),q(3,"div",6),Xe(4,"hr"),q(5,"ngx-signature-pad",7,0),xt("beginSign",function(){return ln(s),un(r.onBeginSign())})("endSign",function(){return ln(s),un(r.onEndSign())}),$(),Xe(7,"hr"),q(8,"input",8),xt("click",function(){return ln(s),un(r.saveSignature())}),$(),fe(9," | "),q(10,"button",9),xt("click",function(){return ln(s),un(r.clearSignature())}),fe(11,"Clear Signature"),$(),Xe(12,"br"),$(),q(13,"div",10),Xe(14,"hr"),q(15,"div",11),Xe(16,"video",12,1)(18,"canvas",13,2),$(),Ht(20,qwe,1,2,"img",14),Xe(21,"hr"),q(22,"button",15),xt("click",function(){return ln(s),un(r.capturePhoto())}),fe(23),$(),fe(24," | "),q(25,"button",15),xt("click",function(){return ln(s),un(r.saveImage())}),fe(26),$(),fe(27," | "),q(28,"button",9),xt("click",function(){return ln(s),un(r.flipCamera())}),fe(29,"Flip Camera"),$()(),Xe(30,"hr"),q(31,"span",16),fe(32),$(),Xe(33,"hr"),q(34,"div",17)(35,"label",18)(36,"span",19),fe(37),$()(),fe(38," \xa0"),q(39,"select",20,3),xt("change",function(){return ln(s),un(r.selectionChange())}),Ht(41,Xwe,2,3,"option",21),$()(),q(42,"div",22)(43,"label",23)(44,"span",24),fe(45),$()(),fe(46," \xa0"),q(47,"select",25,4),xt("change",function(){return ln(s),un(r.selectionChangeEngines())}),Ht(49,Ywe,2,3,"option",21),$()(),q(50,"div",26)(51,"a",27),fe(52,"[Volver al Menu]"),$()()()}2&i&&(Ae(3),Be("hidden",r.hiddenCanvasContainer),Ae(2),Be("options",r.options),Ae(3),Ip("value",r.statusButton),Be("disabled","..parsing.."==r.statusButton),Ae(5),Be("hidden",r.hiddenCameraContainer),Ae(2),Be("hidden",r.cameraContainerHidden),Ae(),Sc(r.videoStyle),Ae(4),Be("ngIf",r.capturedImage),Ae(2),Be("disabled",r.captureButtonDisabled),Ae(),jn(r.captureButtonStatus),Ae(2),Be("disabled",r.saveImageButtonDisabled),Ae(),jn(r.statusButtonSaveImage),Ae(6),jn(r.status),Ae(5),jn(r.tituloListadOrigen),Ae(4),Be("ngForOf",r.__sourceList),Ae(4),jn(r.titleEngineList),Ae(4),Be("ngForOf",r.__engineList))},dependencies:[wr,sa,ll,Hp,Vp,$O],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})(),DP=(()=>{class n{constructor(t){this.router=t}reloadPage(){window.location.reload()}reloadCurrentRoute(){var t=this;return(0,vt.A)(function*(){const i=t.router.url;return yield t.router.navigateByUrl("/",{skipLocationChange:!0}),t.router.navigateByUrl(i)})()}reloadWithQueryParamsRefresh(){const t=window.location.href;window.location.href=t}static{this.\u0275fac=function(i){return new(i||n)(bt(La))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Zwe=["ballCanvas"];let ebe=(()=>{class n{constructor(t){this.pageRestartService=t,this.ball={x:100,y:100,vx:5,vy:0,radius:15,mass:1},this.gravity=.5,this.friction=.98,this.restitution=.8,this.animate=()=>{this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),this.ball.vy+=this.gravity,this.ball.x+=this.ball.vx,this.ball.y+=this.ball.vy,(this.ball.x+this.ball.radius>this.canvas.nativeElement.width||this.ball.x-this.ball.radius<0)&&(this.ball.vx=-this.ball.vx*this.restitution),this.ball.y+this.ball.radius>this.canvas.nativeElement.height&&(this.ball.y=this.canvas.nativeElement.height-this.ball.radius,this.ball.vy=-this.ball.vy*this.restitution,this.ball.vx*=this.friction),this.ctx.beginPath(),this.ctx.arc(this.ball.x,this.ball.y,this.ball.radius,0,2*Math.PI),this.ctx.fillStyle="red",this.ctx.fill(),this.ctx.closePath(),Math.abs(this.ball.vx)<.1&&Math.abs(this.ball.vy)<.1?(this.ball.vx=0,this.ball.vy=0):requestAnimationFrame(this.animate)}}restart(){this.pageRestartService.reloadPage()}ngAfterViewInit(){this.animate()}static{this.\u0275fac=function(i){return new(i||n)(et(DP))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-bouncing-ball"]],viewQuery:function(i,r){if(1&i&&Li(Zwe,5),2&i){let s;Tn(s=Mn())&&(r.canvas=s.first)}},decls:13,vars:0,consts:[["ballCanvas",""],["align","center"],["width","300","height","300"],[3,"click"],["align","right"],["routerLink","/Dev"]],template:function(i,r){if(1&i){const s=Tr();q(0,"div",1)(1,"h1"),fe(2,"[BOUCING BALL DEMO]"),$(),Xe(3,"hr")(4,"canvas",2,0)(6,"hr"),q(7,"button",3),xt("click",function(){return ln(s),un(r.restart())}),fe(8,"[RESTART]"),$(),Xe(9,"hr"),q(10,"div",4)(11,"a",5),fe(12,"[Volver al Menu]"),$()()()}},dependencies:[wr],styles:["canvas[_ngcontent-%COMP%]{border:1px solid #d3d3d3}"]})}}return n})();const n$=1,ibe=2,bd=3,GT=0,bbe=1,Cbe=2,lf=0,Sbe=1,Ebe=2,xbe=3,Tbe=4,Mbe=5,Dbe=6,Bbe=7,cf=301,cg=302,Ww=306,Nu=1001,da=1003,Do=1006,Sd=1008,Ed=1009,l$=1010,c$=1011,Kw=1012,VP=1013,uf=1014,Yl=1015,qw=1016,QP=1017,GP=1018,h0=1020,u$=35902,h$=1021,d$=1022,fl=1023,A$=1024,f$=1025,d0=1026,A0=1027,zP=1028,qT=1029,p$=1030,jP=1031,WP=1033,XT=33776,YT=33777,JT=33778,ZT=33779,$P=35840,KP=35841,qP=35842,XP=35843,YP=36196,JP=37492,ZP=37496,eL=37808,tL=37809,nL=37810,iL=37811,rL=37812,sL=37813,oL=37814,aL=37815,lL=37816,cL=37817,uL=37818,hL=37819,dL=37820,AL=37821,e2=36492,fL=36494,pL=36495,g$=36283,gL=36284,mL=36285,_L=36286,Jl="srgb",g0="srgb-linear",r2="linear",Dr="srgb",m0=7680,y$="300 es",xd=2e3;class Td{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Aa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],hg=Math.PI/180,_0=180/Math.PI;function Zl(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Aa[255&n]+Aa[n>>8&255]+Aa[n>>16&255]+Aa[n>>24&255]+"-"+Aa[255&e]+Aa[e>>8&255]+"-"+Aa[e>>16&15|64]+Aa[e>>24&255]+"-"+Aa[63&t|128]+Aa[t>>8&255]+"-"+Aa[t>>16&255]+Aa[t>>24&255]+Aa[255&i]+Aa[i>>8&255]+Aa[i>>16&255]+Aa[i>>24&255]).toLowerCase()}function Jn(n,e,t){return Math.max(e,Math.min(t,n))}function Xw(n,e,t){return(1-t)*n+t*e}function Ha(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function oi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const aCe_DEG2RAD=hg;class At{constructor(e=0,t=0){At.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Jn(this.x,e.x,t.x),this.y=Jn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Jn(this.x,e,t),this.y=Jn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Jn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Jn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ai{constructor(e,t,i,r,s,o,a,l,c){ai.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],h=i[7],A=i[2],d=i[5],f=i[8],_=r[0],y=r[3],m=r[6],S=r[1],x=r[4],M=r[7],L=r[2],U=r[5],P=r[8];return s[0]=o*_+a*S+l*L,s[3]=o*y+a*x+l*U,s[6]=o*m+a*M+l*P,s[1]=c*_+u*S+h*L,s[4]=c*y+u*x+h*U,s[7]=c*m+u*M+h*P,s[2]=A*_+d*S+f*L,s[5]=A*y+d*x+f*U,s[8]=A*m+d*M+f*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,A=a*l-u*s,d=c*s-o*l,f=t*h+i*A+r*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const _=1/f;return e[0]=h*_,e[1]=(r*c-u*i)*_,e[2]=(a*i-r*o)*_,e[3]=A*_,e[4]=(u*t-r*l)*_,e[5]=(r*s-a*t)*_,e[6]=d*_,e[7]=(i*l-c*t)*_,e[8]=(o*t-i*s)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(CL.makeScale(e,t)),this}rotate(e){return this.premultiply(CL.makeRotation(-e)),this}translate(e,t){return this.premultiply(CL.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const CL=new ai;function b$(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function Yw(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function cCe(){const n=Yw("canvas");return n.style.display="block",n}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const C$={};function y0(n){n in C$||(C$[n]=!0,console.warn(n))}const S$=(new ai).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),E$=(new ai).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function ACe(){const n={enabled:!0,workingColorSpace:g0,spaces:{},convert:function(r,s,o){return!1===this.enabled||s===o||!s||!o||(this.spaces[s].transfer===Dr&&(r.r=Md(r.r),r.g=Md(r.g),r.b=Md(r.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Dr&&(r.r=w0(r.r),r.g=w0(r.g),r.b=w0(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return""===r?r2:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,o){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[g0]:{primaries:e,whitePoint:i,transfer:r2,toXYZ:S$,fromXYZ:E$,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Jl},outputColorSpaceConfig:{drawingBufferColorSpace:Jl}},[Jl]:{primaries:e,whitePoint:i,transfer:Dr,toXYZ:S$,fromXYZ:E$,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Jl}}}),n}const qi=ACe();function Md(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function w0(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}let b0;class fCe{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===b0&&(b0=Yw("canvas")),b0.width=e.width,b0.height=e.height;const i=b0.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=b0}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Yw("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=255*Md(s[o]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*Md(t[i]/255)):Md(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let pCe=0;class C0{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:pCe++}),this.uuid=Zl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)s.push(SL(r[o].isDataTexture?r[o].image:r[o]))}else s=SL(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function SL(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?fCe.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let gCe=0,pl=(()=>{class n extends Td{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=Nu,s=Nu,o=Do,a=Sd,l=fl,c=Ed,u=n.DEFAULT_ANISOTROPY,h=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:gCe++}),this.uuid=Zl(),this.name="",this.source=new C0(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new At(0,0),this.repeat=new At(1,1),this.center=new At(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ai,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case Nu:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case Nu:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class rr{constructor(e=0,t=0,i=0,r=1){rr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],h=l[8],A=l[1],d=l[5],f=l[9],_=l[2],y=l[6],m=l[10];if(Math.abs(u-A)<.01&&Math.abs(h-_)<.01&&Math.abs(f-y)<.01){if(Math.abs(u+A)<.1&&Math.abs(h+_)<.1&&Math.abs(f+y)<.1&&Math.abs(c+d+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const x=(c+1)/2,M=(d+1)/2,L=(m+1)/2,U=(u+A)/4,P=(h+_)/4,N=(f+y)/4;return x>M&&x>L?x<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(x),r=U/i,s=P/i):M>L?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=U/r,s=N/r):L<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(L),i=P/s,r=N/s),this.set(i,r,s,t),this}let S=Math.sqrt((y-f)*(y-f)+(h-_)*(h-_)+(A-u)*(A-u));return Math.abs(S)<.001&&(S=1),this.x=(y-f)/S,this.y=(h-_)/S,this.z=(A-u)/S,this.w=Math.acos((c+d+m-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Jn(this.x,e.x,t.x),this.y=Jn(this.y,e.y,t.y),this.z=Jn(this.z,e.z,t.z),this.w=Jn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Jn(this.x,e,t),this.y=Jn(this.y,e,t),this.z=Jn(this.z,e,t),this.w=Jn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Jn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class mCe extends Td{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new rr(0,0,e,t),this.scissorTest=!1,this.viewport=new rr(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Do,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new pl(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new C0(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Sh extends mCe{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class EL extends pl{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=da,this.minFilter=da,this.wrapR=Nu,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class x$ extends pl{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=da,this.minFilter=da,this.wrapR=Nu,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Va{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],h=i[r+3];const A=s[o+0],d=s[o+1],f=s[o+2],_=s[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=h);if(1===a)return e[t+0]=A,e[t+1]=d,e[t+2]=f,void(e[t+3]=_);if(h!==_||l!==A||c!==d||u!==f){let y=1-a;const m=l*A+c*d+u*f+h*_,S=m>=0?1:-1,x=1-m*m;if(x>Number.EPSILON){const L=Math.sqrt(x),U=Math.atan2(L,m*S);y=Math.sin(y*U)/L,a=Math.sin(a*U)/L}const M=a*S;if(l=l*y+A*M,c=c*y+d*M,u=u*y+f*M,h=h*y+_*M,y===1-a){const L=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=L,c*=L,u*=L,h*=L}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],h=s[o],A=s[o+1],d=s[o+2],f=s[o+3];return e[t]=a*f+u*h+l*d-c*A,e[t+1]=l*f+u*A+c*h-a*d,e[t+2]=c*f+u*d+a*A-l*h,e[t+3]=u*f-a*h-l*A-c*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),h=a(s/2),A=l(i/2),d=l(r/2),f=l(s/2);switch(o){case"XYZ":this._x=A*u*h+c*d*f,this._y=c*d*h-A*u*f,this._z=c*u*f+A*d*h,this._w=c*u*h-A*d*f;break;case"YXZ":this._x=A*u*h+c*d*f,this._y=c*d*h-A*u*f,this._z=c*u*f-A*d*h,this._w=c*u*h+A*d*f;break;case"ZXY":this._x=A*u*h-c*d*f,this._y=c*d*h+A*u*f,this._z=c*u*f+A*d*h,this._w=c*u*h-A*d*f;break;case"ZYX":this._x=A*u*h-c*d*f,this._y=c*d*h+A*u*f,this._z=c*u*f-A*d*h,this._w=c*u*h+A*d*f;break;case"YZX":this._x=A*u*h+c*d*f,this._y=c*d*h+A*u*f,this._z=c*u*f-A*d*h,this._w=c*u*h-A*d*f;break;case"XZY":this._x=A*u*h-c*d*f,this._y=c*d*h-A*u*f,this._z=c*u*f+A*d*h,this._w=c*u*h+A*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],A=i+a+h;if(A>0){const d=.5/Math.sqrt(A+1);this._w=.25/d,this._x=(u-l)*d,this._y=(s-c)*d,this._z=(o-r)*d}else if(i>a&&i>h){const d=2*Math.sqrt(1+i-a-h);this._w=(u-l)/d,this._x=.25*d,this._y=(r+o)/d,this._z=(s+c)/d}else if(a>h){const d=2*Math.sqrt(1+a-i-h);this._w=(s-c)/d,this._x=(r+o)/d,this._y=.25*d,this._z=(l+u)/d}else{const d=2*Math.sqrt(1+h-i-a);this._w=(o-r)/d,this._x=(s+c)/d,this._y=(l+u)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Jn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const d=1-t;return this._w=d*o+t*this._w,this._x=d*i+t*this._x,this._y=d*r+t*this._y,this._z=d*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,A=Math.sin(t*u)/c;return this._w=o*h+this._w*A,this._x=i*h+this._x*A,this._y=r*h+this._y*A,this._z=s*h+this._z*A,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class de{constructor(e=0,t=0,i=0){de.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(T$.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(T$.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),u=2*(a*t-s*r),h=2*(s*i-o*t);return this.x=t+l*c+o*h-a*u,this.y=i+l*u+a*c-s*h,this.z=r+l*h+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Jn(this.x,e.x,t.x),this.y=Jn(this.y,e.y,t.y),this.z=Jn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Jn(this.x,e,t),this.y=Jn(this.y,e,t),this.z=Jn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Jn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return xL.copy(this).projectOnVector(e),this.sub(xL)}reflect(e){return this.sub(xL.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Jn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const xL=new de,T$=new Va;class gl{constructor(e=new de(1/0,1/0,1/0),t=new de(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Ru.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Ru.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Ru.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(void 0!==i){const s=i.getAttribute("position");if(!0===t&&void 0!==s&&!0!==e.isInstancedMesh)for(let o=0,a=s.count;o<a;o++)!0===e.isMesh?e.getVertexPosition(o,Ru):Ru.fromBufferAttribute(s,o),Ru.applyMatrix4(e.matrixWorld),this.expandByPoint(Ru);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),a2.copy(e.boundingBox)):(null===i.boundingBox&&i.computeBoundingBox(),a2.copy(i.boundingBox)),a2.applyMatrix4(e.matrixWorld),this.union(a2)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ru),Ru.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Jw),l2.subVectors(this.max,Jw),S0.subVectors(e.a,Jw),E0.subVectors(e.b,Jw),x0.subVectors(e.c,Jw),df.subVectors(E0,S0),Af.subVectors(x0,E0),dg.subVectors(S0,x0);let t=[0,-df.z,df.y,0,-Af.z,Af.y,0,-dg.z,dg.y,df.z,0,-df.x,Af.z,0,-Af.x,dg.z,0,-dg.x,-df.y,df.x,0,-Af.y,Af.x,0,-dg.y,dg.x,0];return!(!TL(t,S0,E0,x0,l2)||(t=[1,0,0,0,1,0,0,0,1],!TL(t,S0,E0,x0,l2)))&&(c2.crossVectors(df,Af),t=[c2.x,c2.y,c2.z],TL(t,S0,E0,x0,l2))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ru).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Ru).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Dd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Dd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Dd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Dd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Dd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Dd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Dd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Dd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Dd)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Dd=[new de,new de,new de,new de,new de,new de,new de,new de],Ru=new de,a2=new gl,S0=new de,E0=new de,x0=new de,df=new de,Af=new de,dg=new de,Jw=new de,l2=new de,c2=new de,Ag=new de;function TL(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Ag.fromArray(n,s);const a=r.x*Math.abs(Ag.x)+r.y*Math.abs(Ag.y)+r.z*Math.abs(Ag.z),l=e.dot(Ag),c=t.dot(Ag),u=i.dot(Ag);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const _Ce=new gl,Zw=new de,ML=new de;class Qa{constructor(e=new de,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):_Ce.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Zw.subVectors(e,this.center);const t=Zw.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(Zw,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(ML.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Zw.copy(e.center).add(ML)),this.expandByPoint(Zw.copy(e.center).sub(ML))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Bd=new de,DL=new de,u2=new de,ff=new de,BL=new de,h2=new de,IL=new de;class T0{constructor(e=new de,t=new de(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Bd)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Bd.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Bd.copy(this.origin).addScaledVector(this.direction,t),Bd.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){DL.copy(e).add(t).multiplyScalar(.5),u2.copy(t).sub(e).normalize(),ff.copy(this.origin).sub(DL);const s=.5*e.distanceTo(t),o=-this.direction.dot(u2),a=ff.dot(this.direction),l=-ff.dot(u2),c=ff.lengthSq(),u=Math.abs(1-o*o);let h,A,d,f;if(u>0)if(h=o*l-a,A=o*a-l,f=s*u,h>=0)if(A>=-f)if(A<=f){const _=1/u;h*=_,A*=_,d=h*(h+o*A+2*a)+A*(o*h+A+2*l)+c}else A=s,h=Math.max(0,-(o*A+a)),d=-h*h+A*(A+2*l)+c;else A=-s,h=Math.max(0,-(o*A+a)),d=-h*h+A*(A+2*l)+c;else A<=-f?(h=Math.max(0,-(-o*s+a)),A=h>0?-s:Math.min(Math.max(-s,-l),s),d=-h*h+A*(A+2*l)+c):A<=f?(h=0,A=Math.min(Math.max(-s,-l),s),d=A*(A+2*l)+c):(h=Math.max(0,-(o*s+a)),A=h>0?s:Math.min(Math.max(-s,-l),s),d=-h*h+A*(A+2*l)+c);else A=o>0?-s:s,h=Math.max(0,-(o*A+a)),d=-h*h+A*(A+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(DL).addScaledVector(u2,A),d}intersectSphere(e,t){Bd.subVectors(e.center,this.origin);const i=Bd.dot(this.direction),r=Bd.dot(Bd)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,A=this.origin;return c>=0?(i=(e.min.x-A.x)*c,r=(e.max.x-A.x)*c):(i=(e.max.x-A.x)*c,r=(e.min.x-A.x)*c),u>=0?(s=(e.min.y-A.y)*u,o=(e.max.y-A.y)*u):(s=(e.max.y-A.y)*u,o=(e.min.y-A.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-A.z)*h,l=(e.max.z-A.z)*h):(a=(e.max.z-A.z)*h,l=(e.min.z-A.z)*h),i>l||a>r)||((a>i||i!=i)&&(i=a),(l<r||r!=r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,Bd)}intersectTriangle(e,t,i,r,s){BL.subVectors(t,e),h2.subVectors(i,e),IL.crossVectors(BL,h2);let a,o=this.direction.dot(IL);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ff.subVectors(this.origin,e);const l=a*this.direction.dot(h2.crossVectors(ff,h2));if(l<0)return null;const c=a*this.direction.dot(BL.cross(ff));if(c<0||l+c>o)return null;const u=-a*ff.dot(IL);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Wn{constructor(e,t,i,r,s,o,a,l,c,u,h,A,d,f,_,y){Wn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,o,a,l,c,u,h,A,d,f,_,y)}set(e,t,i,r,s,o,a,l,c,u,h,A,d,f,_,y){const m=this.elements;return m[0]=e,m[4]=t,m[8]=i,m[12]=r,m[1]=s,m[5]=o,m[9]=a,m[13]=l,m[2]=c,m[6]=u,m[10]=h,m[14]=A,m[3]=d,m[7]=f,m[11]=_,m[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Wn).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/M0.setFromMatrixColumn(e,0).length(),s=1/M0.setFromMatrixColumn(e,1).length(),o=1/M0.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),h=Math.sin(s);if("XYZ"===e.order){const A=o*u,d=o*h,f=a*u,_=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=d+f*c,t[5]=A-_*c,t[9]=-a*l,t[2]=_-A*c,t[6]=f+d*c,t[10]=o*l}else if("YXZ"===e.order){const A=l*u,d=l*h,f=c*u,_=c*h;t[0]=A+_*a,t[4]=f*a-d,t[8]=o*c,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=d*a-f,t[6]=_+A*a,t[10]=o*l}else if("ZXY"===e.order){const A=l*u,d=l*h,f=c*u,_=c*h;t[0]=A-_*a,t[4]=-o*h,t[8]=f+d*a,t[1]=d+f*a,t[5]=o*u,t[9]=_-A*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const A=o*u,d=o*h,f=a*u,_=a*h;t[0]=l*u,t[4]=f*c-d,t[8]=A*c+_,t[1]=l*h,t[5]=_*c+A,t[9]=d*c-f,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const A=o*l,d=o*c,f=a*l,_=a*c;t[0]=l*u,t[4]=_-A*h,t[8]=f*h+d,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=d*h+f,t[10]=A-_*h}else if("XZY"===e.order){const A=o*l,d=o*c,f=a*l,_=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=A*h+_,t[5]=o*u,t[9]=d*h-f,t[2]=f*h-d,t[6]=a*u,t[10]=_*h+A}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(vCe,e,yCe)}lookAt(e,t,i){const r=this.elements;return ec.subVectors(e,t),0===ec.lengthSq()&&(ec.z=1),ec.normalize(),pf.crossVectors(i,ec),0===pf.lengthSq()&&(1===Math.abs(i.z)?ec.x+=1e-4:ec.z+=1e-4,ec.normalize(),pf.crossVectors(i,ec)),pf.normalize(),d2.crossVectors(ec,pf),r[0]=pf.x,r[4]=d2.x,r[8]=ec.x,r[1]=pf.y,r[5]=d2.y,r[9]=ec.y,r[2]=pf.z,r[6]=d2.z,r[10]=ec.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],h=i[5],A=i[9],d=i[13],f=i[2],_=i[6],y=i[10],m=i[14],S=i[3],x=i[7],M=i[11],L=i[15],U=r[0],P=r[4],N=r[8],R=r[12],F=r[1],I=r[5],k=r[9],X=r[13],Y=r[2],ge=r[6],Z=r[10],ue=r[14],te=r[3],ye=r[7],Ce=r[11],qe=r[15];return s[0]=o*U+a*F+l*Y+c*te,s[4]=o*P+a*I+l*ge+c*ye,s[8]=o*N+a*k+l*Z+c*Ce,s[12]=o*R+a*X+l*ue+c*qe,s[1]=u*U+h*F+A*Y+d*te,s[5]=u*P+h*I+A*ge+d*ye,s[9]=u*N+h*k+A*Z+d*Ce,s[13]=u*R+h*X+A*ue+d*qe,s[2]=f*U+_*F+y*Y+m*te,s[6]=f*P+_*I+y*ge+m*ye,s[10]=f*N+_*k+y*Z+m*Ce,s[14]=f*R+_*X+y*ue+m*qe,s[3]=S*U+x*F+M*Y+L*te,s[7]=S*P+x*I+M*ge+L*ye,s[11]=S*N+x*k+M*Z+L*Ce,s[15]=S*R+x*X+M*ue+L*qe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],A=e[10],d=e[14];return e[3]*(+s*l*h-r*c*h-s*a*A+i*c*A+r*a*d-i*l*d)+e[7]*(+t*l*d-t*c*A+s*o*A-r*o*d+r*c*u-s*l*u)+e[11]*(+t*c*h-t*a*d-s*o*h+i*o*d+s*a*u-i*c*u)+e[15]*(-r*a*u-t*l*h+t*a*A+r*o*h-i*o*A+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],A=e[10],d=e[11],f=e[12],_=e[13],y=e[14],m=e[15],S=h*y*c-_*A*c+_*l*d-a*y*d-h*l*m+a*A*m,x=f*A*c-u*y*c-f*l*d+o*y*d+u*l*m-o*A*m,M=u*_*c-f*h*c+f*a*d-o*_*d-u*a*m+o*h*m,L=f*h*l-u*_*l-f*a*A+o*_*A+u*a*y-o*h*y,U=t*S+i*x+r*M+s*L;if(0===U)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/U;return e[0]=S*P,e[1]=(_*A*s-h*y*s-_*r*d+i*y*d+h*r*m-i*A*m)*P,e[2]=(a*y*s-_*l*s+_*r*c-i*y*c-a*r*m+i*l*m)*P,e[3]=(h*l*s-a*A*s-h*r*c+i*A*c+a*r*d-i*l*d)*P,e[4]=x*P,e[5]=(u*y*s-f*A*s+f*r*d-t*y*d-u*r*m+t*A*m)*P,e[6]=(f*l*s-o*y*s-f*r*c+t*y*c+o*r*m-t*l*m)*P,e[7]=(o*A*s-u*l*s+u*r*c-t*A*c-o*r*d+t*l*d)*P,e[8]=M*P,e[9]=(f*h*s-u*_*s-f*i*d+t*_*d+u*i*m-t*h*m)*P,e[10]=(o*_*s-f*a*s+f*i*c-t*_*c-o*i*m+t*a*m)*P,e[11]=(u*a*s-o*h*s-u*i*c+t*h*c+o*i*d-t*a*d)*P,e[12]=L*P,e[13]=(u*_*r-f*h*r+f*i*A-t*_*A-u*i*y+t*h*y)*P,e[14]=(f*a*r-o*_*r-f*i*l+t*_*l+o*i*y-t*a*y)*P,e[15]=(o*h*r-u*a*r+u*i*l-t*h*l-o*i*A+t*a*A)*P,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,h=a+a,A=s*c,d=s*u,f=s*h,_=o*u,y=o*h,m=a*h,S=l*c,x=l*u,M=l*h,L=i.x,U=i.y,P=i.z;return r[0]=(1-(_+m))*L,r[1]=(d+M)*L,r[2]=(f-x)*L,r[3]=0,r[4]=(d-M)*U,r[5]=(1-(A+m))*U,r[6]=(y+S)*U,r[7]=0,r[8]=(f+x)*P,r[9]=(y-S)*P,r[10]=(1-(A+_))*P,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=M0.set(r[0],r[1],r[2]).length();const o=M0.set(r[4],r[5],r[6]).length(),a=M0.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Fu.copy(this);const c=1/s,u=1/o,h=1/a;return Fu.elements[0]*=c,Fu.elements[1]*=c,Fu.elements[2]*=c,Fu.elements[4]*=u,Fu.elements[5]*=u,Fu.elements[6]*=u,Fu.elements[8]*=h,Fu.elements[9]*=h,Fu.elements[10]*=h,t.setFromRotationMatrix(Fu),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=xd){const l=this.elements,c=2*s/(t-e),u=2*s/(i-r),h=(t+e)/(t-e),A=(i+r)/(i-r);let d,f;if(a===xd)d=-(o+s)/(o-s),f=-2*o*s/(o-s);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);d=-o/(o-s),f=-o*s/(o-s)}return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=A,l[13]=0,l[2]=0,l[6]=0,l[10]=d,l[14]=f,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=xd){const l=this.elements,c=1/(t-e),u=1/(i-r),h=1/(o-s),A=(t+e)*c,d=(i+r)*u;let f,_;if(a===xd)f=(o+s)*h,_=-2*h;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);f=s*h,_=-1*h}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-A,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-d,l[2]=0,l[6]=0,l[10]=_,l[14]=-f,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const M0=new de,Fu=new Wn,vCe=new de(0,0,0),yCe=new de(1,1,1),pf=new de,d2=new de,ec=new de,M$=new Wn,D$=new Va;let Id=(()=>{class n{constructor(t=0,i=0,r=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,s=this._order){return this._x=t,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const s=t.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],h=s[9],A=s[2],d=s[6],f=s[10];switch(i){case"XYZ":this._y=Math.asin(Jn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,f),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Jn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(l,f),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-A,o),this._z=0);break;case"ZXY":this._x=Math.asin(Jn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-A,f),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-Jn(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Jn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-A,o)):(this._x=0,this._y=Math.atan2(l,f));break;case"XZY":this._z=Math.asin(-Jn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-h,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return M$.makeRotationFromQuaternion(t),this.setFromRotationMatrix(M$,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return D$.setFromEuler(this),this.setFromQuaternion(D$,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class NL{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return!!(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let wCe=0;const B$=new de,D0=new Va,Nd=new Wn,A2=new de,eb=new de,bCe=new de,CCe=new Va,I$=new de(1,0,0),N$=new de(0,1,0),R$=new de(0,0,1),F$={type:"added"},SCe={type:"removed"},B0={type:"childadded",child:null},RL={type:"childremoved",child:null};let Xr=(()=>{class n extends Td{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wCe++}),this.uuid=Zl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new de,i=new Id,r=new Va,s=new de(1,1,1);i._onChange(function o(){r.setFromEuler(i,!1)}),r._onChange(function a(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Wn},normalMatrix:{value:new ai}}),this.matrix=new Wn,this.matrixWorld=new Wn,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new NL,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return D0.setFromAxisAngle(t,i),this.quaternion.multiply(D0),this}rotateOnWorldAxis(t,i){return D0.setFromAxisAngle(t,i),this.quaternion.premultiply(D0),this}rotateX(t){return this.rotateOnAxis(I$,t)}rotateY(t){return this.rotateOnAxis(N$,t)}rotateZ(t){return this.rotateOnAxis(R$,t)}translateOnAxis(t,i){return B$.copy(t).applyQuaternion(this.quaternion),this.position.add(B$.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(I$,t)}translateY(t){return this.translateOnAxis(N$,t)}translateZ(t){return this.translateOnAxis(R$,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Nd.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?A2.copy(t):A2.set(t,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),eb.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Nd.lookAt(eb,A2,this.up):Nd.lookAt(A2,eb,this.up),this.quaternion.setFromRotationMatrix(Nd),s&&(Nd.extractRotation(s.matrixWorld),D0.setFromRotationMatrix(Nd),this.quaternion.premultiply(D0.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(F$),B0.child=t,this.dispatchEvent(B0),B0.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(SCe),RL.child=t,this.dispatchEvent(RL),RL.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Nd.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Nd.multiply(t.parent.matrixWorld)),t.applyMatrix4(Nd),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(F$),B0.child=t,this.dispatchEvent(B0),B0.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(t,i);if(void 0!==a)return a}}getObjectsByProperty(t,i,r=[]){this[t]===i&&r.push(this);const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].getObjectsByProperty(t,i,r);return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(eb,t,bCe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(eb,CCe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].updateMatrixWorld(t)}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===i){const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].updateWorldMatrix(!1,!0)}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(t),null!==this._colorsTexture&&(s.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),null!==this.boundingBox&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,h=c.length;u<h;u++)o(t.shapes,c[u]);else o(t.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(t.materials,this.material[c]));s.material=l}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(o(t.animations,this.animations[l]))}if(i){const l=a(t.geometries),c=a(t.materials),u=a(t.textures),h=a(t.images),A=a(t.shapes),d=a(t.skeletons),f=a(t.animations),_=a(t.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),h.length>0&&(r.images=h),A.length>0&&(r.shapes=A),d.length>0&&(r.skeletons=d),f.length>0&&(r.animations=f),_.length>0&&(r.nodes=_)}return r.object=s,r;function a(l){const c=[];for(const u in l){const h=l[u];delete h.metadata,c.push(h)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DEFAULT_UP=new de(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Ou=new de,Rd=new de,FL=new de,Fd=new de,I0=new de,N0=new de,O$=new de,OL=new de,PL=new de,LL=new de,UL=new rr,kL=new rr,HL=new rr;class tc{constructor(e=new de,t=new de,i=new de){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Ou.subVectors(e,t),r.cross(Ou);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Ou.subVectors(r,t),Rd.subVectors(i,t),FL.subVectors(e,t);const o=Ou.dot(Ou),a=Ou.dot(Rd),l=Ou.dot(FL),c=Rd.dot(Rd),u=Rd.dot(FL),h=o*c-a*a;if(0===h)return s.set(0,0,0),null;const A=1/h,d=(c*l-a*u)*A,f=(o*u-a*l)*A;return s.set(1-d-f,f,d)}static containsPoint(e,t,i,r){return null!==this.getBarycoord(e,t,i,r,Fd)&&Fd.x>=0&&Fd.y>=0&&Fd.x+Fd.y<=1}static getInterpolation(e,t,i,r,s,o,a,l){return null===this.getBarycoord(e,t,i,r,Fd)?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Fd.x),l.addScaledVector(o,Fd.y),l.addScaledVector(a,Fd.z),l)}static getInterpolatedAttribute(e,t,i,r,s,o){return UL.setScalar(0),kL.setScalar(0),HL.setScalar(0),UL.fromBufferAttribute(e,t),kL.fromBufferAttribute(e,i),HL.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(UL,s.x),o.addScaledVector(kL,s.y),o.addScaledVector(HL,s.z),o}static isFrontFacing(e,t,i,r){return Ou.subVectors(i,t),Rd.subVectors(e,t),Ou.cross(Rd).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ou.subVectors(this.c,this.b),Rd.subVectors(this.a,this.b),.5*Ou.cross(Rd).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return tc.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return tc.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return tc.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return tc.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return tc.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;I0.subVectors(r,i),N0.subVectors(s,i),OL.subVectors(e,i);const l=I0.dot(OL),c=N0.dot(OL);if(l<=0&&c<=0)return t.copy(i);PL.subVectors(e,r);const u=I0.dot(PL),h=N0.dot(PL);if(u>=0&&h<=u)return t.copy(r);const A=l*h-u*c;if(A<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(I0,o);LL.subVectors(e,s);const d=I0.dot(LL),f=N0.dot(LL);if(f>=0&&d<=f)return t.copy(s);const _=d*c-l*f;if(_<=0&&c>=0&&f<=0)return a=c/(c-f),t.copy(i).addScaledVector(N0,a);const y=u*f-d*h;if(y<=0&&h-u>=0&&d-f>=0)return O$.subVectors(s,r),a=(h-u)/(h-u+(d-f)),t.copy(r).addScaledVector(O$,a);const m=1/(y+_+A);return o=_*m,a=A*m,t.copy(i).addScaledVector(I0,o).addScaledVector(N0,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const P$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},gf={h:0,s:0,l:0},f2={h:0,s:0,l:0};function VL(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class sn{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(void 0===t&&void 0===i){const r=e;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Jl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,qi.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=qi.workingColorSpace){return this.r=e,this.g=t,this.b=i,qi.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=qi.workingColorSpace){if(e=function bL(n,e){return(n%e+e)%e}(e,1),t=Jn(t,0,1),i=Jn(i,0,1),0===t)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=VL(o,s,e+1/3),this.g=VL(o,s,e),this.b=VL(o,s,e-1/3)}return qi.toWorkingColorSpace(this,r),this}setStyle(e,t=Jl){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Jl){const i=P$[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Md(e.r),this.g=Md(e.g),this.b=Md(e.b),this}copyLinearToSRGB(e){return this.r=w0(e.r),this.g=w0(e.g),this.b=w0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Jl){return qi.fromWorkingColorSpace(fa.copy(this),e),65536*Math.round(Jn(255*fa.r,0,255))+256*Math.round(Jn(255*fa.g,0,255))+Math.round(Jn(255*fa.b,0,255))}getHexString(e=Jl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=qi.workingColorSpace){qi.fromWorkingColorSpace(fa.copy(this),t);const i=fa.r,r=fa.g,s=fa.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=qi.workingColorSpace){return qi.fromWorkingColorSpace(fa.copy(this),t),e.r=fa.r,e.g=fa.g,e.b=fa.b,e}getStyle(e=Jl){qi.fromWorkingColorSpace(fa.copy(this),e);const t=fa.r,i=fa.g,r=fa.b;return e!==Jl?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(e,t,i){return this.getHSL(gf),this.setHSL(gf.h+e,gf.s+t,gf.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(gf),e.getHSL(f2);const i=Xw(gf.h,f2.h,t),r=Xw(gf.s,f2.s,t),s=Xw(gf.l,f2.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const fa=new sn;sn.NAMES=P$;let ECe=0;class Ga extends Td{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ECe++}),this.uuid=Zl(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new sn(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=m0,this.stencilZFail=m0,this.stencilZPass=m0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(i.dispersion=this.dispersion),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapRotation&&(i.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),!0===this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=!0),204!==this.blendSrc&&(i.blendSrc=this.blendSrc),205!==this.blendDst&&(i.blendDst=this.blendDst),100!==this.blendEquation&&(i.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(i.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(i.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(i.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(i.depthFunc=this.depthFunc),!1===this.depthTest&&(i.depthTest=this.depthTest),!1===this.depthWrite&&(i.depthWrite=this.depthWrite),!1===this.colorWrite&&(i.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(i.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(i.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(i.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==m0&&(i.stencilFail=this.stencilFail),this.stencilZFail!==m0&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==m0&&(i.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(i.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=!0),!0===this.alphaToCoverage&&(i.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=!0),!0===this.forceSinglePass&&(i.forceSinglePass=!0),!0===this.wireframe&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Od extends Ga{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new sn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Id,this.combine=GT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const eo=new de,p2=new At;class Lr{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRanges=[],this.gpuType=Yl,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)p2.fromBufferAttribute(this,t),p2.applyMatrix3(e),this.setXY(t,p2.x,p2.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)eo.fromBufferAttribute(this,t),eo.applyMatrix3(e),this.setXYZ(t,eo.x,eo.y,eo.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)eo.fromBufferAttribute(this,t),eo.applyMatrix4(e),this.setXYZ(t,eo.x,eo.y,eo.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)eo.fromBufferAttribute(this,t),eo.applyNormalMatrix(e),this.setXYZ(t,eo.x,eo.y,eo.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)eo.fromBufferAttribute(this,t),eo.transformDirection(e),this.setXYZ(t,eo.x,eo.y,eo.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Ha(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=oi(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ha(t,this.array)),t}setX(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ha(t,this.array)),t}setY(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ha(t,this.array)),t}setZ(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ha(t,this.array)),t}setW(e,t){return this.normalized&&(t=oi(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),i=oi(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),i=oi(i,this.array),r=oi(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=oi(t,this.array),i=oi(i,this.array),r=oi(r,this.array),s=oi(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class L$ extends Lr{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class U$ extends Lr{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class pn extends Lr{constructor(e,t,i){super(new Float32Array(e),t,i)}}let TCe=0;const Oc=new Wn,QL=new Xr,R0=new de,nc=new gl,nb=new gl,Bo=new de;class Ai extends Td{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:TCe++}),this.uuid=Zl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(b$(e)?U$:L$)(e,1):e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new ai).getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Oc.makeRotationFromQuaternion(e),this.applyMatrix4(Oc),this}rotateX(e){return Oc.makeRotationX(e),this.applyMatrix4(Oc),this}rotateY(e){return Oc.makeRotationY(e),this.applyMatrix4(Oc),this}rotateZ(e){return Oc.makeRotationZ(e),this.applyMatrix4(Oc),this}translate(e,t,i){return Oc.makeTranslation(e,t,i),this.applyMatrix4(Oc),this}scale(e,t,i){return Oc.makeScale(e,t,i),this.applyMatrix4(Oc),this}lookAt(e){return QL.lookAt(e),QL.updateMatrix(),this.applyMatrix4(QL.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(R0).negate(),this.translate(R0.x,R0.y,R0.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new pn(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new gl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new de(-1/0,-1/0,-1/0),new de(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)nc.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(Bo.addVectors(this.boundingBox.min,nc.min),this.boundingBox.expandByPoint(Bo),Bo.addVectors(this.boundingBox.max,nc.max),this.boundingBox.expandByPoint(Bo)):(this.boundingBox.expandByPoint(nc.min),this.boundingBox.expandByPoint(nc.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Qa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new de,1/0);if(e){const i=this.boundingSphere.center;if(nc.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)nb.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(Bo.addVectors(nc.min,nb.min),nc.expandByPoint(Bo),Bo.addVectors(nc.max,nb.max),nc.expandByPoint(Bo)):(nc.expandByPoint(nb.min),nc.expandByPoint(nb.max));nc.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Bo.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Bo));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Bo.fromBufferAttribute(a,c),l&&(R0.fromBufferAttribute(e,c),Bo.add(R0)),r=Math.max(r,i.distanceToSquared(Bo))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=t.position,r=t.normal,s=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Lr(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let N=0;N<i.count;N++)a[N]=new de,l[N]=new de;const c=new de,u=new de,h=new de,A=new At,d=new At,f=new At,_=new de,y=new de;function m(N,R,F){c.fromBufferAttribute(i,N),u.fromBufferAttribute(i,R),h.fromBufferAttribute(i,F),A.fromBufferAttribute(s,N),d.fromBufferAttribute(s,R),f.fromBufferAttribute(s,F),u.sub(c),h.sub(c),d.sub(A),f.sub(A);const I=1/(d.x*f.y-f.x*d.y);isFinite(I)&&(_.copy(u).multiplyScalar(f.y).addScaledVector(h,-d.y).multiplyScalar(I),y.copy(h).multiplyScalar(d.x).addScaledVector(u,-f.x).multiplyScalar(I),a[N].add(_),a[R].add(_),a[F].add(_),l[N].add(y),l[R].add(y),l[F].add(y))}let S=this.groups;0===S.length&&(S=[{start:0,count:e.count}]);for(let N=0,R=S.length;N<R;++N){const F=S[N],I=F.start;for(let X=I,Y=I+F.count;X<Y;X+=3)m(e.getX(X+0),e.getX(X+1),e.getX(X+2))}const x=new de,M=new de,L=new de,U=new de;function P(N){L.fromBufferAttribute(r,N),U.copy(L);const R=a[N];x.copy(R),x.sub(L.multiplyScalar(L.dot(R))).normalize(),M.crossVectors(U,R);const I=M.dot(l[N])<0?-1:1;o.setXYZW(N,x.x,x.y,x.z,I)}for(let N=0,R=S.length;N<R;++N){const F=S[N],I=F.start;for(let X=I,Y=I+F.count;X<Y;X+=3)P(e.getX(X+0)),P(e.getX(X+1)),P(e.getX(X+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new Lr(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let A=0,d=i.count;A<d;A++)i.setXYZ(A,0,0,0);const r=new de,s=new de,o=new de,a=new de,l=new de,c=new de,u=new de,h=new de;if(e)for(let A=0,d=e.count;A<d;A+=3){const f=e.getX(A+0),_=e.getX(A+1),y=e.getX(A+2);r.fromBufferAttribute(t,f),s.fromBufferAttribute(t,_),o.fromBufferAttribute(t,y),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),a.fromBufferAttribute(i,f),l.fromBufferAttribute(i,_),c.fromBufferAttribute(i,y),a.add(u),l.add(u),c.add(u),i.setXYZ(f,a.x,a.y,a.z),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(y,c.x,c.y,c.z)}else for(let A=0,d=t.count;A<d;A+=3)r.fromBufferAttribute(t,A+0),s.fromBufferAttribute(t,A+1),o.fromBufferAttribute(t,A+2),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),i.setXYZ(A+0,u.x,u.y,u.z),i.setXYZ(A+1,u.x,u.y,u.z),i.setXYZ(A+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Bo.fromBufferAttribute(e,t),Bo.normalize(),e.setXYZ(t,Bo.x,Bo.y,Bo.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,A=new c.constructor(l.length*u);let d=0,f=0;for(let _=0,y=l.length;_<y;_++){d=a.isInterleavedBufferAttribute?l[_]*a.data.stride+a.offset:l[_]*u;for(let m=0;m<u;m++)A[f++]=c[d++]}return new Lr(A,u,h)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ai,i=this.index.array,r=this.attributes;for(const a in r){const c=e(r[a],i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const d=e(c[u],i);l.push(d)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i)e.data.attributes[l]=i[l].toJSON(e.data);const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,A=c.length;h<A;h++)u.push(c[h].toJSON(e.data));u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r)this.setAttribute(c,r[c].clone(t));const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let A=0,d=h.length;A<d;A++)u.push(h[A].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const k$=new Wn,fg=new T0,g2=new Qa,H$=new de,m2=new de,_2=new de,v2=new de,GL=new de,y2=new de,V$=new de,w2=new de;class Hs extends Xr{constructor(e=new Ai,t=new Od){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const a=this.morphTargetInfluences;if(s&&a){y2.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l];0!==u&&(GL.fromBufferAttribute(s[l],e),y2.addScaledVector(o?GL:GL.sub(t),u))}t.add(y2)}return t}raycast(e,t){const i=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),g2.copy(i.boundingSphere),g2.applyMatrix4(s),fg.copy(e.ray).recast(e.near),(!1!==g2.containsPoint(fg.origin)||!(null===fg.intersectSphere(g2,H$)||fg.origin.distanceToSquared(H$)>(e.far-e.near)**2))&&(k$.copy(s).invert(),fg.copy(e.ray).applyMatrix4(k$),(null===i.boundingBox||!1!==fg.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t,fg)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,A=s.groups,d=s.drawRange;if(null!==a)if(Array.isArray(o))for(let f=0,_=A.length;f<_;f++){const y=A[f],m=o[y.materialIndex];for(let M=Math.max(y.start,d.start),L=Math.min(a.count,Math.min(y.start+y.count,d.start+d.count));M<L;M+=3)r=b2(this,m,e,i,c,u,h,a.getX(M),a.getX(M+1),a.getX(M+2)),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=y.materialIndex,t.push(r))}else for(let y=Math.max(0,d.start),m=Math.min(a.count,d.start+d.count);y<m;y+=3)r=b2(this,o,e,i,c,u,h,a.getX(y),a.getX(y+1),a.getX(y+2)),r&&(r.faceIndex=Math.floor(y/3),t.push(r));else if(void 0!==l)if(Array.isArray(o))for(let f=0,_=A.length;f<_;f++){const y=A[f],m=o[y.materialIndex];for(let M=Math.max(y.start,d.start),L=Math.min(l.count,Math.min(y.start+y.count,d.start+d.count));M<L;M+=3)r=b2(this,m,e,i,c,u,h,M,M+1,M+2),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=y.materialIndex,t.push(r))}else for(let y=Math.max(0,d.start),m=Math.min(l.count,d.start+d.count);y<m;y+=3)r=b2(this,o,e,i,c,u,h,y,y+1,y+2),r&&(r.faceIndex=Math.floor(y/3),t.push(r))}}function b2(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,m2),n.getVertexPosition(l,_2),n.getVertexPosition(c,v2);const u=function MCe(n,e,t,i,r,s,o,a){let l;if(l=1===e.side?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,0===e.side,a),null===l)return null;w2.copy(a),w2.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(w2);return c<t.near||c>t.far?null:{distance:c,point:w2.clone(),object:n}}(n,e,t,i,m2,_2,v2,V$);if(u){const h=new de;tc.getBarycoord(V$,m2,_2,v2,h),r&&(u.uv=tc.getInterpolatedAttribute(r,a,l,c,h,new At)),s&&(u.uv1=tc.getInterpolatedAttribute(s,a,l,c,h,new At)),o&&(u.normal=tc.getInterpolatedAttribute(o,a,l,c,h,new de),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const A={a,b:l,c,normal:new de,materialIndex:0};tc.getNormal(m2,_2,v2,A.normal),u.face=A,u.barycoord=h}return u}class F0 extends Ai{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let A=0,d=0;function f(_,y,m,S,x,M,L,U,P,N,R){const F=M/P,I=L/N,k=M/2,X=L/2,Y=U/2,ge=P+1,Z=N+1;let ue=0,te=0;const ye=new de;for(let Ce=0;Ce<Z;Ce++){const qe=Ce*I-X;for(let V=0;V<ge;V++)ye[_]=(V*F-k)*S,ye[y]=qe*x,ye[m]=Y,c.push(ye.x,ye.y,ye.z),ye[_]=0,ye[y]=0,ye[m]=U>0?1:-1,u.push(ye.x,ye.y,ye.z),h.push(V/P),h.push(1-Ce/N),ue+=1}for(let Ce=0;Ce<N;Ce++)for(let qe=0;qe<P;qe++){const oe=A+qe+ge*(Ce+1),j=A+(qe+1)+ge*(Ce+1),le=A+(qe+1)+ge*Ce;l.push(A+qe+ge*Ce,oe,le),l.push(oe,j,le),te+=6}a.addGroup(d,te,R),d+=te,A+=ue}f("z","y","x",-1,-1,i,t,e,o,s,0),f("z","y","x",1,-1,i,t,-e,o,s,1),f("x","z","y",1,1,e,i,t,r,o,2),f("x","z","y",1,-1,e,i,-t,r,o,3),f("x","y","z",1,-1,e,t,i,r,s,4),f("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new pn(c,3)),this.setAttribute("normal",new pn(u,3)),this.setAttribute("uv",new pn(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new F0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function O0(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():e[t][i]=Array.isArray(r)?r.slice():r}}return e}function za(n){const e={};for(let t=0;t<n.length;t++){const i=O0(n[t]);for(const r in i)e[r]=i[r]}return e}function Q$(n){const e=n.getRenderTarget();return null===e?n.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:qi.workingColorSpace}const BCe={clone:O0,merge:za};class Eh extends Ga{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=O0(e.uniforms),this.uniformsGroups=function DCe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;t.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class zL extends Xr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wn,this.projectionMatrix=new Wn,this.projectionMatrixInverse=new Wn,this.coordinateSystem=xd}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const mf=new de,G$=new At,z$=new At;class $o extends zL{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*_0*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*hg*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*_0*Math.atan(Math.tan(.5*hg*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){mf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(mf.x,mf.y).multiplyScalar(-e/mf.z),mf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(mf.x,mf.y).multiplyScalar(-e/mf.z)}getViewSize(e,t){return this.getViewBounds(e,G$,z$),t.subVectors(z$,G$)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*hg*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class RCe extends Xr{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new $o(-90,1,e,t);r.layers=this.layers,this.add(r);const s=new $o(-90,1,e,t);s.layers=this.layers,this.add(s);const o=new $o(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new $o(-90,1,e,t);a.layers=this.layers,this.add(a);const l=new $o(-90,1,e,t);l.layers=this.layers,this.add(l);const c=new $o(-90,1,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===xd)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1)}for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,h=e.getRenderTarget(),A=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),f=e.xr.enabled;e.xr.enabled=!1;const _=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=_,e.setRenderTarget(i,5,r),e.render(t,u),e.setRenderTarget(h,A,d),e.xr.enabled=f,i.texture.needsPMREMUpdate=!0}}class C2 extends pl{constructor(e,t,i,r,s,o,a,l,c,u){super(e=void 0!==e?e:[],t=void 0!==t?t:cf,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class FCe extends Sh{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1};this.texture=new C2([i,i,i,i,i,i],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Do}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new F0(5,5,5),s=new Eh({name:"CubemapFromEquirect",uniforms:O0(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const o=new Hs(r,s),a=t.minFilter;return t.minFilter===Sd&&(t.minFilter=Do),new RCe(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}class j$ extends Xr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Id,this.environmentIntensity=1,this.environmentRotation=new Id,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}const JL=new de,QCe=new de,GCe=new ai;class _f{constructor(e=new de(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=JL.subVectors(i,t).cross(QCe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(JL),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||GCe.getNormalMatrix(e),r=this.coplanarPoint(JL).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const pg=new Qa,B2=new de;class I2{constructor(e=new _f,t=new _f,i=new _f,r=new _f,s=new _f,o=new _f){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=xd){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],h=r[6],A=r[7],d=r[8],f=r[9],_=r[10],y=r[11],m=r[12],S=r[13],x=r[14],M=r[15];if(i[0].setComponents(l-s,A-c,y-d,M-m).normalize(),i[1].setComponents(l+s,A+c,y+d,M+m).normalize(),i[2].setComponents(l+o,A+u,y+f,M+S).normalize(),i[3].setComponents(l-o,A-u,y-f,M-S).normalize(),i[4].setComponents(l-a,A-h,y-_,M-x).normalize(),t===xd)i[5].setComponents(l+a,A+h,y+_,M+x).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);i[5].setComponents(a,h,_,x).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),pg.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),pg.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(pg)}intersectsSprite(e){return pg.center.set(0,0,0),pg.radius=.7071067811865476,pg.applyMatrix4(e.matrixWorld),this.intersectsSphere(pg)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(B2.x=r.normal.x>0?e.max.x:e.min.x,B2.y=r.normal.y>0?e.max.y:e.min.y,B2.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(B2)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}class hb extends Xr{constructor(){super(),this.isGroup=!0,this.type="Group"}}class fK extends pl{constructor(e,t,i,r,s,o,a,l,c,u=d0){if(u!==d0&&u!==A0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&u===d0&&(i=uf),void 0===i&&u===A0&&(i=h0),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:da,this.minFilter=void 0!==l?l:da,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class vg extends Ai{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],h=[],A=[],d=[];let f=0;const _=[],y=i/2;let m=0;function x(M){const L=f,U=new At,P=new de;let N=0;const R=!0===M?e:t,F=!0===M?1:-1;for(let k=1;k<=r;k++)h.push(0,y*F,0),A.push(0,F,0),d.push(.5,.5),f++;const I=f;for(let k=0;k<=r;k++){const Y=k/r*l+a,ge=Math.cos(Y),Z=Math.sin(Y);P.x=R*Z,P.y=y*F,P.z=R*ge,h.push(P.x,P.y,P.z),A.push(0,F,0),U.x=.5*ge+.5,U.y=.5*Z*F+.5,d.push(U.x,U.y),f++}for(let k=0;k<r;k++){const X=L+k,Y=I+k;!0===M?u.push(Y,Y+1,X):u.push(Y+1,Y,X),N+=3}c.addGroup(m,N,!0===M?1:2),m+=N}(function S(){const M=new de,L=new de;let U=0;const P=(t-e)/i;for(let N=0;N<=s;N++){const R=[],F=N/s,I=F*(t-e)+e;for(let k=0;k<=r;k++){const X=k/r,Y=X*l+a,ge=Math.sin(Y),Z=Math.cos(Y);L.x=I*ge,L.y=-F*i+y,L.z=I*Z,h.push(L.x,L.y,L.z),M.set(ge,P,Z).normalize(),A.push(M.x,M.y,M.z),d.push(X,1-F),R.push(f++)}_.push(R)}for(let N=0;N<r;N++)for(let R=0;R<s;R++){const I=_[R+1][N],k=_[R+1][N+1],X=_[R][N+1];(e>0||0!==R)&&(u.push(_[R][N],I,X),U+=3),(t>0||R!==s-1)&&(u.push(I,k,X),U+=3)}c.addGroup(m,U,0),m+=U})(),!1===o&&(e>0&&x(!0),t>0&&x(!1)),this.setIndex(u),this.setAttribute("position",new pn(h,3)),this.setAttribute("normal",new pn(A,3)),this.setAttribute("uv",new pn(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vg(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class mb extends Ai{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,h=e/a,A=t/l,d=[],f=[],_=[],y=[];for(let m=0;m<u;m++){const S=m*A-o;for(let x=0;x<c;x++)f.push(x*h-s,-S,0),_.push(0,0,1),y.push(x/a),y.push(1-m/l)}for(let m=0;m<l;m++)for(let S=0;S<a;S++){const M=S+c*(m+1),L=S+1+c*(m+1),U=S+1+c*m;d.push(S+c*m,M,U),d.push(M,L,U)}this.setIndex(d),this.setAttribute("position",new pn(f,3)),this.setAttribute("normal",new pn(_,3)),this.setAttribute("uv",new pn(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mb(e.width,e.height,e.widthSegments,e.heightSegments)}}class BK extends Ga{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class IK extends Ga{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function bg(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}class J2{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{r:if(!(e<r)){for(let a=i+2;;){if(void 0===r){if(e<s)break r;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0}}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class zSe extends J2{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=e,a=2*t-i;break;case 2402:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=e,l=2*i-t;break;case 2402:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=.5*(i-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,A=this._weightPrev,d=this._weightNext,f=(i-t)/(r-t),_=f*f,y=_*f,m=-A*y+2*A*_-A*f,S=(1+A)*y+(-1.5-2*A)*_+(-.5+A)*f+1,x=(-1-d)*y+(1.5+d)*_+.5*f,M=d*y-d*_;for(let L=0;L!==a;++L)s[L]=m*o[u+L]+S*o[c+L]+x*o[l+L]+M*o[h+L];return s}}class FK extends J2{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),h=1-u;for(let A=0;A!==a;++A)s[A]=o[c+A]*h+o[l+A]*u;return s}}class jSe extends J2{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Th{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=bg(t,this.TimeBufferType),this.values=bg(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:bg(e.times,Array),values:bg(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new jSe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new FK(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new zSe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;-1!==o&&i[o]>t;)--o;if(++o,0!==s||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==r&&function NK(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(r)l=!0;else{const h=a*i,A=h-i,d=h+i;for(let f=0;f!==i;++f){const _=t[h+f];if(_!==t[A+f]||_!==t[d+f]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,A=o*i;for(let d=0;d!==i;++d)t[A+d]=t[h+d]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Th.prototype.TimeBufferType=Float32Array,Th.prototype.ValueBufferType=Float32Array,Th.prototype.DefaultInterpolation=2301;class W0 extends Th{constructor(e,t,i){super(e,t,i)}}W0.prototype.ValueTypeName="bool",W0.prototype.ValueBufferType=Array,W0.prototype.DefaultInterpolation=2300,W0.prototype.InterpolantFactoryMethodLinear=void 0,W0.prototype.InterpolantFactoryMethodSmooth=void 0;(class OK extends Th{}).prototype.ValueTypeName="color";(class Z2 extends Th{}).prototype.ValueTypeName="number";class WSe extends J2{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Va.slerpFlat(s,0,o,c-a,o,c,l);return s}}class eM extends Th{InterpolantFactoryMethodLinear(e){return new WSe(this.times,this.values,this.getValueSize(),e)}}eM.prototype.ValueTypeName="quaternion",eM.prototype.InterpolantFactoryMethodSmooth=void 0;class $0 extends Th{constructor(e,t,i){super(e,t,i)}}$0.prototype.ValueTypeName="string",$0.prototype.ValueBufferType=Array,$0.prototype.DefaultInterpolation=2300,$0.prototype.InterpolantFactoryMethodLinear=void 0,$0.prototype.InterpolantFactoryMethodSmooth=void 0;(class tM extends Th{}).prototype.ValueTypeName="vector",Error;class Cg extends Xr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new sn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}const M5=new Wn,LK=new de,UK=new de;class D5{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new At(512,512),this.map=null,this.mapPass=null,this.matrix=new Wn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new I2,this._frameExtents=new At(1,1),this._viewportCount=1,this._viewports=[new rr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;LK.setFromMatrixPosition(e.matrixWorld),t.position.copy(LK),UK.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(UK),t.updateMatrixWorld(),M5.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(M5),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(M5)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class I5 extends zL{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class nEe extends D5{constructor(){super(new I5(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class HK extends Cg{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Xr.DEFAULT_UP),this.updateMatrix(),this.target=new Xr,this.shadow=new nEe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class VK extends Cg{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class cEe extends $o{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}const R5="\\[\\]\\.:\\/",pEe=new RegExp("["+R5+"]","g"),F5="[^"+R5+"]",gEe="[^"+R5.replace("\\.","")+"]",wEe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",F5)+/(WCOD+)?/.source.replace("WCOD",gEe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",F5)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",F5)+"$"),bEe=["material","materials","bones","map"];class CEe{constructor(e,t,i){const r=i||Yr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let Yr=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(pEe,"")}static parseTrackName(t){const i=wEe.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=r.nodeName.substring(s+1);-1!==bEe.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===i||l.uuid===i)return l;const c=r(l.children);if(c)return c}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)t[i++]=r[s]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let o=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(r){let u=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let h=0;h<t.length;h++)if(t[h].name===u){u=h;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=CEe,n})();Yr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Yr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Yr.prototype.GetterByBindingType=[Yr.prototype._getValue_direct,Yr.prototype._getValue_array,Yr.prototype._getValue_arrayElement,Yr.prototype._getValue_toArray],Yr.prototype.SetterByBindingTypeAndVersioning=[[Yr.prototype._setValue_direct,Yr.prototype._setValue_direct_setNeedsUpdate,Yr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Yr.prototype._setValue_array,Yr.prototype._setValue_array_setNeedsUpdate,Yr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Yr.prototype._setValue_arrayElement,Yr.prototype._setValue_arrayElement_setNeedsUpdate,Yr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Yr.prototype._setValue_fromArray,Yr.prototype._setValue_fromArray_setNeedsUpdate,Yr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class eq{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Jn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Jn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class MEe extends Td{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function U5(n,e,t,i){const r=function NEe(n){switch(n){case Ed:case l$:return{byteLength:1,components:1};case Kw:case c$:case qw:return{byteLength:2,components:1};case QP:case GP:return{byteLength:2,components:4};case uf:case VP:case Yl:return{byteLength:4,components:1};case u$:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}(i);switch(t){case h$:case A$:return n*e;case f$:return n*e*2;case zP:case qT:return n*e/r.components*r.byteLength;case p$:case jP:return n*e*2/r.components*r.byteLength;case d$:return n*e*3/r.components*r.byteLength;case fl:case WP:return n*e*4/r.components*r.byteLength;case XT:case YT:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case JT:case ZT:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case KP:case XP:return Math.max(n,16)*Math.max(e,8)/4;case $P:case qP:return Math.max(n,8)*Math.max(e,8)/2;case YP:case JP:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case ZP:case eL:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case tL:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case nL:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case iL:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case rL:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case sL:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case oL:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case aL:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case lL:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case cL:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case uL:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case hL:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case dL:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case AL:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case e2:case fL:case pL:return Math.ceil(n/4)*Math.ceil(e/4)*16;case g$:case gL:return Math.ceil(n/4)*Math.ceil(e/4)*8;case mL:case _L:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"171"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="171");const hq={type:"change"},k5={type:"start"},dq={type:"end"},hM=new T0,Aq=new _f,REe=Math.cos(70*aCe_DEG2RAD),fo=new de,yl=2*Math.PI,H5=1e-6;class FEe extends MEe{constructor(e,t=null){super(e,t),this.state=-1,this.enabled=!0,this.target=new de,this.cursor=new de,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new de,this._lastQuaternion=new Va,this._lastTargetPosition=new de,this._quat=(new Va).setFromUnitVectors(e.up,new de(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new eq,this._sphericalDelta=new eq,this._scale=1,this._panOffset=new de,this._rotateStart=new At,this._rotateEnd=new At,this._rotateDelta=new At,this._panStart=new At,this._panEnd=new At,this._panDelta=new At,this._dollyStart=new At,this._dollyEnd=new At,this._dollyDelta=new At,this._dollyDirection=new de,this._mouse=new At,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=PEe.bind(this),this._onPointerDown=OEe.bind(this),this._onPointerUp=LEe.bind(this),this._onContextMenu=zEe.bind(this),this._onMouseWheel=HEe.bind(this),this._onKeyDown=VEe.bind(this),this._onTouchStart=QEe.bind(this),this._onTouchMove=GEe.bind(this),this._onMouseDown=UEe.bind(this),this._onMouseMove=kEe.bind(this),this._interceptControlDown=jEe.bind(this),this._interceptControlUp=WEe.bind(this),null!==this.domElement&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(hq),this.update(),this.state=-1}update(e=null){const t=this.object.position;fo.copy(t).sub(this.target),fo.applyQuaternion(this._quat),this._spherical.setFromVector3(fo),this.autoRotate&&-1===this.state&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let i=this.minAzimuthAngle,r=this.maxAzimuthAngle;isFinite(i)&&isFinite(r)&&(i<-Math.PI?i+=yl:i>Math.PI&&(i-=yl),r<-Math.PI?r+=yl:r>Math.PI&&(r-=yl),this._spherical.theta=i<=r?Math.max(i,Math.min(r,this._spherical.theta)):this._spherical.theta>(i+r)/2?Math.max(i,this._spherical.theta):Math.min(r,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const o=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=o!=this._spherical.radius}if(fo.setFromSpherical(this._spherical),fo.applyQuaternion(this._quatInverse),t.copy(this.target).add(fo),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let o=null;if(this.object.isPerspectiveCamera){const a=fo.length();o=this._clampDistance(a*this._scale);const l=a-o;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),s=!!l}else if(this.object.isOrthographicCamera){const a=new de(this._mouse.x,this._mouse.y,0);a.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=l!==this.object.zoom;const c=new de(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(a),this.object.updateMatrixWorld(),o=fo.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;null!==o&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(o).add(this.object.position):(hM.origin.copy(this.object.position),hM.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(hM.direction))<REe?this.object.lookAt(this.target):(Aq.setFromNormalAndCoplanarPoint(this.object.up,this.target),hM.intersectPlane(Aq,this.target))))}else if(this.object.isOrthographicCamera){const o=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),o!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,!!(s||this._lastPosition.distanceToSquared(this.object.position)>H5||8*(1-this._lastQuaternion.dot(this.object.quaternion))>H5||this._lastTargetPosition.distanceToSquared(this.target)>H5)&&(this.dispatchEvent(hq),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}_getAutoRotationAngle(e){return null!==e?yl/60*this.autoRotateSpeed*e:yl/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(.01*e);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){fo.setFromMatrixColumn(t,0),fo.multiplyScalar(-e),this._panOffset.add(fo)}_panUp(e,t){!0===this.screenSpacePanning?fo.setFromMatrixColumn(t,1):(fo.setFromMatrixColumn(t,0),fo.crossVectors(this.object.up,fo)),fo.multiplyScalar(e),this._panOffset.add(fo)}_pan(e,t){const i=this.domElement;if(this.object.isPerspectiveCamera){fo.copy(this.object.position).sub(this.target);let s=fo.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/i.clientHeight,this.object.matrix),this._panUp(2*t*s/i.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/i.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/i.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const i=this.domElement.getBoundingClientRect(),s=t-i.top,a=i.height;this._mouse.x=(e-i.left)/i.width*2-1,this._mouse.y=-s/a*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(yl*this._rotateDelta.x/t.clientHeight),this._rotateUp(yl*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(yl*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-yl*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(yl*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-yl*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(1===this._pointers.length)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._rotateStart.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}}_handleTouchStartPan(e){if(1===this._pointers.length)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._panStart.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),i=e.pageX-t.x,r=e.pageY-t.y,s=Math.sqrt(i*i+r*r);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(1==this._pointers.length)this._rotateEnd.set(e.pageX,e.pageY);else{const i=this._getSecondPointerPosition(e);this._rotateEnd.set(.5*(e.pageX+i.x),.5*(e.pageY+i.y))}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(yl*this._rotateDelta.x/t.clientHeight),this._rotateUp(yl*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(1===this._pointers.length)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._panEnd.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),i=e.pageX-t.x,r=e.pageY-t.y,s=Math.sqrt(i*i+r*r);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd),this._updateZoomParameters(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return void this._pointers.splice(t,1)}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];void 0===t&&(t=new At,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){return this._pointerPositions[e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0]]}_customWheelEvent(e){const i={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(e.deltaMode){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100}return e.ctrlKey&&!this._controlActive&&(i.deltaY*=10),i}}function OEe(n){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),"touch"===n.pointerType?this._onTouchStart(n):this._onMouseDown(n)))}function PEe(n){!1!==this.enabled&&("touch"===n.pointerType?this._onTouchMove(n):this._onMouseMove(n))}function LEe(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(dq),this.state=-1;break;case 1:const e=this._pointers[0],t=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:t.x,pageY:t.y})}}function UEe(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case 1:if(!1===this.enableZoom)return;this._handleMouseDownDolly(n),this.state=1;break;case 0:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}break;case 2:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}else{if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(k5)}function kEe(n){switch(this.state){case 0:if(!1===this.enableRotate)return;this._handleMouseMoveRotate(n);break;case 1:if(!1===this.enableZoom)return;this._handleMouseMoveDolly(n);break;case 2:if(!1===this.enablePan)return;this._handleMouseMovePan(n)}}function HEe(n){!1===this.enabled||!1===this.enableZoom||-1!==this.state||(n.preventDefault(),this.dispatchEvent(k5),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(dq))}function VEe(n){!1!==this.enabled&&this._handleKeyDown(n)}function QEe(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case 0:if(!1===this.enableRotate)return;this._handleTouchStartRotate(n),this.state=3;break;case 1:if(!1===this.enablePan)return;this._handleTouchStartPan(n),this.state=4;break;default:this.state=-1}break;case 2:switch(this.touches.TWO){case 2:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(n),this.state=5;break;case 3:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(n),this.state=6;break;default:this.state=-1}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(k5)}function GEe(n){switch(this._trackPointer(n),this.state){case 3:if(!1===this.enableRotate)return;this._handleTouchMoveRotate(n),this.update();break;case 4:if(!1===this.enablePan)return;this._handleTouchMovePan(n),this.update();break;case 5:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchMoveDollyPan(n),this.update();break;case 6:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=-1}}function zEe(n){!1!==this.enabled&&n.preventDefault()}function jEe(n){"Control"===n.key&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function WEe(n){"Control"===n.key&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function fq(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function $Ee(n){const e=new WeakMap;return{get:function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)},remove:function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))},update:function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);return void((!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version}))}const c=e.get(a);if(void 0===c)e.set(a,function t(a,l){const c=a.array,u=a.usage,h=c.byteLength,A=n.createBuffer();let d;if(n.bindBuffer(l,A),n.bufferData(l,c,u),a.onUploadCallback(),c instanceof Float32Array)d=n.FLOAT;else if(c instanceof Uint16Array)d=a.isFloat16BufferAttribute?n.HALF_FLOAT:n.UNSIGNED_SHORT;else if(c instanceof Int16Array)d=n.SHORT;else if(c instanceof Uint32Array)d=n.UNSIGNED_INT;else if(c instanceof Int32Array)d=n.INT;else if(c instanceof Int8Array)d=n.BYTE;else if(c instanceof Uint8Array)d=n.UNSIGNED_BYTE;else{if(!(c instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);d=n.UNSIGNED_BYTE}return{buffer:A,type:d,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:h}}(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function i(a,l,c){const u=l.array,h=l.updateRanges;if(n.bindBuffer(c,a),0===h.length)n.bufferSubData(c,0,u);else{h.sort((d,f)=>d.start-f.start);let A=0;for(let d=1;d<h.length;d++){const f=h[A],_=h[d];_.start<=f.start+f.count+1?f.count=Math.max(f.count,_.start+_.count-f.start):(++A,h[A]=_)}h.length=A+1;for(let d=0,f=h.length;d<f;d++){const _=h[d];n.bufferSubData(c,_.start*u.BYTES_PER_ELEMENT,u,_.start,_.count)}l.clearUpdateRanges()}l.onUploadCallback()})(c.buffer,a,l),c.version=a.version}}}}const fi={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Zt={common:{diffuse:{value:new sn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ai},alphaMap:{value:null},alphaMapTransform:{value:new ai},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ai}},envmap:{envMap:{value:null},envMapRotation:{value:new ai},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ai}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ai}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ai},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ai},normalScale:{value:new At(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ai},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ai}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ai}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ai}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new sn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new sn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ai},alphaTest:{value:0},uvTransform:{value:new ai}},sprite:{diffuse:{value:new sn(16777215)},opacity:{value:1},center:{value:new At(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ai},alphaMap:{value:null},alphaMapTransform:{value:new ai},alphaTest:{value:0}}},Mh={basic:{uniforms:za([Zt.common,Zt.specularmap,Zt.envmap,Zt.aomap,Zt.lightmap,Zt.fog]),vertexShader:fi.meshbasic_vert,fragmentShader:fi.meshbasic_frag},lambert:{uniforms:za([Zt.common,Zt.specularmap,Zt.envmap,Zt.aomap,Zt.lightmap,Zt.emissivemap,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.fog,Zt.lights,{emissive:{value:new sn(0)}}]),vertexShader:fi.meshlambert_vert,fragmentShader:fi.meshlambert_frag},phong:{uniforms:za([Zt.common,Zt.specularmap,Zt.envmap,Zt.aomap,Zt.lightmap,Zt.emissivemap,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.fog,Zt.lights,{emissive:{value:new sn(0)},specular:{value:new sn(1118481)},shininess:{value:30}}]),vertexShader:fi.meshphong_vert,fragmentShader:fi.meshphong_frag},standard:{uniforms:za([Zt.common,Zt.envmap,Zt.aomap,Zt.lightmap,Zt.emissivemap,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.roughnessmap,Zt.metalnessmap,Zt.fog,Zt.lights,{emissive:{value:new sn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:fi.meshphysical_vert,fragmentShader:fi.meshphysical_frag},toon:{uniforms:za([Zt.common,Zt.aomap,Zt.lightmap,Zt.emissivemap,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.gradientmap,Zt.fog,Zt.lights,{emissive:{value:new sn(0)}}]),vertexShader:fi.meshtoon_vert,fragmentShader:fi.meshtoon_frag},matcap:{uniforms:za([Zt.common,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,Zt.fog,{matcap:{value:null}}]),vertexShader:fi.meshmatcap_vert,fragmentShader:fi.meshmatcap_frag},points:{uniforms:za([Zt.points,Zt.fog]),vertexShader:fi.points_vert,fragmentShader:fi.points_frag},dashed:{uniforms:za([Zt.common,Zt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:fi.linedashed_vert,fragmentShader:fi.linedashed_frag},depth:{uniforms:za([Zt.common,Zt.displacementmap]),vertexShader:fi.depth_vert,fragmentShader:fi.depth_frag},normal:{uniforms:za([Zt.common,Zt.bumpmap,Zt.normalmap,Zt.displacementmap,{opacity:{value:1}}]),vertexShader:fi.meshnormal_vert,fragmentShader:fi.meshnormal_frag},sprite:{uniforms:za([Zt.sprite,Zt.fog]),vertexShader:fi.sprite_vert,fragmentShader:fi.sprite_frag},background:{uniforms:{uvTransform:{value:new ai},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:fi.background_vert,fragmentShader:fi.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ai}},vertexShader:fi.backgroundCube_vert,fragmentShader:fi.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:fi.cube_vert,fragmentShader:fi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:fi.equirect_vert,fragmentShader:fi.equirect_frag},distanceRGBA:{uniforms:za([Zt.common,Zt.displacementmap,{referencePosition:{value:new de},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:fi.distanceRGBA_vert,fragmentShader:fi.distanceRGBA_frag},shadow:{uniforms:za([Zt.lights,Zt.fog,{color:{value:new sn(0)},opacity:{value:1}}]),vertexShader:fi.shadow_vert,fragmentShader:fi.shadow_frag}};Mh.physical={uniforms:za([Mh.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ai},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ai},clearcoatNormalScale:{value:new At(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ai},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ai},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ai},sheen:{value:0},sheenColor:{value:new sn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ai},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ai},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ai},transmissionSamplerSize:{value:new At},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ai},attenuationDistance:{value:0},attenuationColor:{value:new sn(0)},specularColor:{value:new sn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ai},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ai},anisotropyVector:{value:new At},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ai}}]),vertexShader:fi.meshphysical_vert,fragmentShader:fi.meshphysical_frag};const dM={r:0,b:0,g:0},Dg=new Id,$Te=new Wn;function KTe(n,e,t,i,r,s,o){const a=new sn(0);let c,u,l=!0===s?0:1,h=null,A=0,d=null;function f(x){let M=!0===x.isScene?x.background:null;return M&&M.isTexture&&(M=(x.backgroundBlurriness>0?t:e).get(M)),M}function m(x,M){x.getRGB(dM,Q$(n)),i.buffers.color.setClear(dM.r,dM.g,dM.b,M,o)}return{getClearColor:function(){return a},setClearColor:function(x,M=1){a.set(x),l=M,m(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,m(a,l)},render:function _(x){let M=!1;const L=f(x);null===L?m(a,l):L&&L.isColor&&(m(L,1),M=!0);const U=n.xr.getEnvironmentBlendMode();"additive"===U?i.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===U&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||M)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))},addToRenderList:function y(x,M){const L=f(M);L&&(L.isCubeTexture||L.mapping===Ww)?(void 0===u&&(u=new Hs(new F0(1,1,1),new Eh({name:"BackgroundCubeMaterial",uniforms:O0(Mh.backgroundCube.uniforms),vertexShader:Mh.backgroundCube.vertexShader,fragmentShader:Mh.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(U,P,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),Dg.copy(M.backgroundRotation),Dg.x*=-1,Dg.y*=-1,Dg.z*=-1,L.isCubeTexture&&!1===L.isRenderTargetTexture&&(Dg.y*=-1,Dg.z*=-1),u.material.uniforms.envMap.value=L,u.material.uniforms.flipEnvMap.value=L.isCubeTexture&&!1===L.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4($Te.makeRotationFromEuler(Dg)),u.material.toneMapped=qi.getTransfer(L.colorSpace)!==Dr,(h!==L||A!==L.version||d!==n.toneMapping)&&(u.material.needsUpdate=!0,h=L,A=L.version,d=n.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):L&&L.isTexture&&(void 0===c&&(c=new Hs(new mb(2,2),new Eh({name:"BackgroundMaterial",uniforms:O0(Mh.background.uniforms),vertexShader:Mh.background.vertexShader,fragmentShader:Mh.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=L,c.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,c.material.toneMapped=qi.getTransfer(L.colorSpace)!==Dr,!0===L.matrixAutoUpdate&&L.updateMatrix(),c.material.uniforms.uvTransform.value.copy(L.matrix),(h!==L||A!==L.version||d!==n.toneMapping)&&(c.material.needsUpdate=!0,h=L,A=L.version,d=n.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))},dispose:function S(){void 0!==u&&(u.geometry.dispose(),u.material.dispose()),void 0!==c&&(c.geometry.dispose(),c.material.dispose())}}}function qTe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=A(null);let s=r,o=!1;function c(F){return n.bindVertexArray(F)}function u(F){return n.deleteVertexArray(F)}function A(F){const I=[],k=[],X=[];for(let Y=0;Y<t;Y++)I[Y]=0,k[Y]=0,X[Y]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:k,attributeDivisors:X,object:F,attributes:{},index:null}}function _(){const F=s.newAttributes;for(let I=0,k=F.length;I<k;I++)F[I]=0}function y(F){m(F,0)}function m(F,I){const X=s.enabledAttributes,Y=s.attributeDivisors;s.newAttributes[F]=1,0===X[F]&&(n.enableVertexAttribArray(F),X[F]=1),Y[F]!==I&&(n.vertexAttribDivisor(F,I),Y[F]=I)}function S(){const F=s.newAttributes,I=s.enabledAttributes;for(let k=0,X=I.length;k<X;k++)I[k]!==F[k]&&(n.disableVertexAttribArray(k),I[k]=0)}function x(F,I,k,X,Y,ge,Z){!0===Z?n.vertexAttribIPointer(F,I,k,Y,ge):n.vertexAttribPointer(F,I,k,X,Y,ge)}function N(){R(),o=!0,s!==r&&(s=r,c(s.object))}function R(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:function a(F,I,k,X,Y){let ge=!1;const Z=function h(F,I,k){const X=!0===k.wireframe;let Y=i[F.id];void 0===Y&&(Y={},i[F.id]=Y);let ge=Y[I.id];void 0===ge&&(ge={},Y[I.id]=ge);let Z=ge[X];return void 0===Z&&(Z=A(function l(){return n.createVertexArray()}()),ge[X]=Z),Z}(X,k,I);s!==Z&&(s=Z,c(s.object)),ge=function d(F,I,k,X){const Y=s.attributes,ge=I.attributes;let Z=0;const ue=k.getAttributes();for(const te in ue)if(ue[te].location>=0){const Ce=Y[te];let qe=ge[te];if(void 0===qe&&("instanceMatrix"===te&&F.instanceMatrix&&(qe=F.instanceMatrix),"instanceColor"===te&&F.instanceColor&&(qe=F.instanceColor)),void 0===Ce||Ce.attribute!==qe||qe&&Ce.data!==qe.data)return!0;Z++}return s.attributesNum!==Z||s.index!==X}(F,X,k,Y),ge&&function f(F,I,k,X){const Y={},ge=I.attributes;let Z=0;const ue=k.getAttributes();for(const te in ue)if(ue[te].location>=0){let Ce=ge[te];void 0===Ce&&("instanceMatrix"===te&&F.instanceMatrix&&(Ce=F.instanceMatrix),"instanceColor"===te&&F.instanceColor&&(Ce=F.instanceColor));const qe={};qe.attribute=Ce,Ce&&Ce.data&&(qe.data=Ce.data),Y[te]=qe,Z++}s.attributes=Y,s.attributesNum=Z,s.index=X}(F,X,k,Y),null!==Y&&e.update(Y,n.ELEMENT_ARRAY_BUFFER),(ge||o)&&(o=!1,function M(F,I,k,X){_();const Y=X.attributes,ge=k.getAttributes(),Z=I.defaultAttributeValues;for(const ue in ge){const te=ge[ue];if(te.location>=0){let ye=Y[ue];if(void 0===ye&&("instanceMatrix"===ue&&F.instanceMatrix&&(ye=F.instanceMatrix),"instanceColor"===ue&&F.instanceColor&&(ye=F.instanceColor)),void 0!==ye){const Ce=ye.normalized,qe=ye.itemSize,V=e.get(ye);if(void 0===V)continue;const oe=V.buffer,j=V.type,le=V.bytesPerElement,ve=j===n.INT||j===n.UNSIGNED_INT||ye.gpuType===VP;if(ye.isInterleavedBufferAttribute){const me=ye.data,be=me.stride,Te=ye.offset;if(me.isInstancedInterleavedBuffer){for(let rt=0;rt<te.locationSize;rt++)m(te.location+rt,me.meshPerAttribute);!0!==F.isInstancedMesh&&void 0===X._maxInstanceCount&&(X._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let rt=0;rt<te.locationSize;rt++)y(te.location+rt);n.bindBuffer(n.ARRAY_BUFFER,oe);for(let rt=0;rt<te.locationSize;rt++)x(te.location+rt,qe/te.locationSize,j,Ce,be*le,(Te+qe/te.locationSize*rt)*le,ve)}else{if(ye.isInstancedBufferAttribute){for(let me=0;me<te.locationSize;me++)m(te.location+me,ye.meshPerAttribute);!0!==F.isInstancedMesh&&void 0===X._maxInstanceCount&&(X._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let me=0;me<te.locationSize;me++)y(te.location+me);n.bindBuffer(n.ARRAY_BUFFER,oe);for(let me=0;me<te.locationSize;me++)x(te.location+me,qe/te.locationSize,j,Ce,qe*le,qe/te.locationSize*me*le,ve)}}else if(void 0!==Z){const Ce=Z[ue];if(void 0!==Ce)switch(Ce.length){case 2:n.vertexAttrib2fv(te.location,Ce);break;case 3:n.vertexAttrib3fv(te.location,Ce);break;case 4:n.vertexAttrib4fv(te.location,Ce);break;default:n.vertexAttrib1fv(te.location,Ce)}}}}S()}(F,I,k,X),null!==Y&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(Y).buffer))},reset:N,resetDefaultState:R,dispose:function L(){N();for(const F in i){const I=i[F];for(const k in I){const X=I[k];for(const Y in X)u(X[Y].object),delete X[Y];delete I[k]}delete i[F]}},releaseStatesOfGeometry:function U(F){if(void 0===i[F.id])return;const I=i[F.id];for(const k in I){const X=I[k];for(const Y in X)u(X[Y].object),delete X[Y];delete I[k]}delete i[F.id]},releaseStatesOfProgram:function P(F){for(const I in i){const k=i[I];if(void 0===k[F.id])continue;const X=k[F.id];for(const Y in X)u(X[Y].object),delete X[Y];delete k[F.id]}},initAttributes:_,enableAttribute:y,disableUnusedAttributes:S}}function XTe(n,e,t){let i;function o(c,u,h){0!==h&&(n.drawArraysInstanced(i,c,u,h),t.update(u,i,h))}this.setMode=function r(c){i=c},this.render=function s(c,u){n.drawArrays(i,c,u),t.update(u,i,1)},this.renderInstances=o,this.renderMultiDraw=function a(c,u,h){if(0===h)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,u,0,h);let d=0;for(let f=0;f<h;f++)d+=u[f];t.update(d,i,1)},this.renderMultiDrawInstances=function l(c,u,h,A){if(0===h)return;const d=e.get("WEBGL_multi_draw");if(null===d)for(let f=0;f<c.length;f++)o(c[f],u[f],A[f]);else{d.multiDrawArraysInstancedWEBGL(i,c,0,u,0,A,0,h);let f=0;for(let _=0;_<h;_++)f+=u[_]*A[_];t.update(f,i,1)}}}function YTe(n,e,t,i){let r;function l(P){if("highp"===P){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return"mediump"===P&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=void 0!==t.precision?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const h=!0===t.logarithmicDepthBuffer,A=!0===t.reverseDepthBuffer&&e.has("EXT_clip_control"),d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function s(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){const P=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:l,textureFormatReadable:function o(P){return!(P!==fl&&i.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))},textureTypeReadable:function a(P){const N=P===qw&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==Ed&&i.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==Yl&&!N)},precision:c,logarithmicDepthBuffer:h,reverseDepthBuffer:A,maxTextures:d,maxVertexTextures:f,maxTextureSize:n.getParameter(n.MAX_TEXTURE_SIZE),maxCubemapSize:n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:n.getParameter(n.MAX_VERTEX_ATTRIBS),maxVertexUniforms:n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:n.getParameter(n.MAX_VARYING_VECTORS),maxFragmentUniforms:n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:f>0,maxSamples:n.getParameter(n.MAX_SAMPLES)}}function JTe(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new _f,a=new ai,l={value:null,needsUpdate:!1};function u(h,A,d,f){const _=null!==h?h.length:0;let y=null;if(0!==_){if(y=l.value,!0!==f||null===y){const m=d+4*_,S=A.matrixWorldInverse;a.getNormalMatrix(S),(null===y||y.length<m)&&(y=new Float32Array(m));for(let x=0,M=d;x!==_;++x,M+=4)o.copy(h[x]).applyMatrix4(S,a),o.normal.toArray(y,M),y[M+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,y}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,A){const d=0!==h.length||A||0!==i||r;return r=A,i=h.length,d},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,A){t=u(h,A,0)},this.setState=function(h,A,d){const f=h.clippingPlanes,_=h.clipIntersection,y=h.clipShadows,m=n.get(h);if(!r||null===f||0===f.length||s&&!y)s?u(null):function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const S=s?0:i,x=4*S;let M=m.clippingState||null;l.value=M,M=u(f,A,x,d);for(let L=0;L!==x;++L)M[L]=t[L];m.clippingState=M,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=S}}}function ZTe(n){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=cf:304===a&&(o.mapping=cg),o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function i(o){if(o&&o.isTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new FCe(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}const pq=[.125,.215,.35,.446,.526,.582],V5=new I5,gq=new sn;let Q5=null,G5=0,z5=0,j5=!1;const Ig=(1+Math.sqrt(5))/2,q0=1/Ig,mq=[new de(-Ig,q0,0),new de(Ig,q0,0),new de(-q0,0,Ig),new de(q0,0,Ig),new de(0,Ig,-q0),new de(0,Ig,q0),new de(-1,1,-1),new de(1,1,-1),new de(-1,1,1),new de(1,1,1)];class _q{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){Q5=this._renderer.getRenderTarget(),G5=this._renderer.getActiveCubeFace(),z5=this._renderer.getActiveMipmapLevel(),j5=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=wq(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=yq(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Q5,G5,z5),this._renderer.xr.enabled=j5,e.scissorTest=!1,AM(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===cf||e.mapping===cg?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),Q5=this._renderer.getRenderTarget(),G5=this._renderer.getActiveCubeFace(),z5=this._renderer.getActiveMipmapLevel(),j5=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Do,minFilter:Do,generateMipmaps:!1,type:qw,format:fl,colorSpace:g0,depthBuffer:!1},r=vq(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=vq(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function e2e(n){const e=[],t=[],i=[];let r=n;const s=n-4+1+pq.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-4?l=pq[o-n+4-1]:0===o&&(l=0),i.push(l);const c=1/(a-2),u=-c,h=1+c,A=[u,u,h,u,h,h,u,u,h,h,u,h],d=6,f=6,_=3,y=2,m=1,S=new Float32Array(_*f*d),x=new Float32Array(y*f*d),M=new Float32Array(m*f*d);for(let U=0;U<d;U++){const P=U%3*2/3-1,N=U>2?0:-1;S.set([P,N,0,P+2/3,N,0,P+2/3,N+1,0,P,N,0,P+2/3,N+1,0,P,N+1,0],_*f*U),x.set(A,y*f*U),M.set([U,U,U,U,U,U],m*f*U)}const L=new Ai;L.setAttribute("position",new Lr(S,_)),L.setAttribute("uv",new Lr(x,y)),L.setAttribute("faceIndex",new Lr(M,m)),e.push(L),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(s)),this._blurMaterial=function t2e(n,e,t){const i=new Float32Array(20),r=new de(0,1,0);return new Eh({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,e,t)}return r}_compileMaterial(e){const t=new Hs(this._lodPlanes[0],e);this._renderer.compile(t,V5)}_sceneToCubeUV(e,t,i,r){const a=new $o(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,A=u.toneMapping;u.getClearColor(gq),u.toneMapping=lf,u.autoClear=!1;const d=new Od({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),f=new Hs(new F0,d);let _=!1;const y=e.background;y?y.isColor&&(d.color.copy(y),e.background=null,_=!0):(d.color.copy(gq),_=!0);for(let m=0;m<6;m++){const S=m%3;0===S?(a.up.set(0,l[m],0),a.lookAt(c[m],0,0)):1===S?(a.up.set(0,0,l[m]),a.lookAt(0,c[m],0)):(a.up.set(0,l[m],0),a.lookAt(0,0,c[m]));const x=this._cubeSize;AM(r,S*x,m>2?x:0,x,x),u.setRenderTarget(r),_&&u.render(f,a),u.render(e,a)}f.geometry.dispose(),f.material.dispose(),u.toneMapping=A,u.autoClear=h,e.background=y}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===cf||e.mapping===cg;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=wq()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=yq());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Hs(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const l=this._cubeSize;AM(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,V5)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]);this._blur(e,s-1,s,o,mq[(r-s-1)%mq.length])}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const h=new Hs(this._lodPlanes[r],c),A=c.uniforms,d=this._sizeLods[i]-1,f=isFinite(s)?Math.PI/(2*d):2*Math.PI/39,_=s/f,y=isFinite(s)?1+Math.floor(3*_):20;y>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to 20`);const m=[];let S=0;for(let P=0;P<20;++P){const N=P/_,R=Math.exp(-N*N/2);m.push(R),0===P?S+=R:P<y&&(S+=2*R)}for(let P=0;P<m.length;P++)m[P]=m[P]/S;A.envMap.value=e.texture,A.samples.value=y,A.weights.value=m,A.latitudinal.value="latitudinal"===o,a&&(A.poleAxis.value=a);const{_lodMax:x}=this;A.dTheta.value=f,A.mipInt.value=x-i;const M=this._sizeLods[r];AM(t,3*M*(r>x-4?r-x+4:0),4*(this._cubeSize-M),3*M,2*M),l.setRenderTarget(t),l.render(h,V5)}}function vq(n,e,t){const i=new Sh(n,e,t);return i.texture.mapping=Ww,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function AM(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function yq(){return new Eh({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function wq(){return new Eh({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function n2e(n){let e=new WeakMap,t=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function i(a){if(a&&a.isTexture){const l=a.mapping,c=303===l||304===l,u=l===cf||l===cg;if(c||u){let h=e.get(a);if(a.isRenderTargetTexture&&a.pmremVersion!==(void 0!==h?h.texture.pmremVersion:0))return null===t&&(t=new _q(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(void 0!==h)return h.texture;{const d=a.image;return c&&d&&d.height>0||u&&d&&function r(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(d)?(null===t&&(t=new _q(n)),h=c?t.fromEquirectangular(a):t.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",s),h.texture):null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function i2e(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return null===r&&y0("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function r2e(n,e,t,i){const r={},s=new WeakMap;function o(h){const A=h.target;null!==A.index&&e.remove(A.index);for(const f in A.attributes)e.remove(A.attributes[f]);A.removeEventListener("dispose",o),delete r[A.id];const d=s.get(A);d&&(e.remove(d),s.delete(A)),i.releaseStatesOfGeometry(A),!0===A.isInstancedBufferGeometry&&delete A._maxInstanceCount,t.memory.geometries--}function c(h){const A=[],d=h.index,f=h.attributes.position;let _=0;if(null!==d){const S=d.array;_=d.version;for(let x=0,M=S.length;x<M;x+=3){const L=S[x+0],U=S[x+1],P=S[x+2];A.push(L,U,U,P,P,L)}}else{if(void 0===f)return;_=f.version;for(let x=0,M=f.array.length/3-1;x<M;x+=3){const L=x+0,U=x+1,P=x+2;A.push(L,U,U,P,P,L)}}const y=new(b$(A)?U$:L$)(A,1);y.version=_;const m=s.get(h);m&&e.remove(m),s.set(h,y)}return{get:function a(h,A){return!0===r[A.id]||(A.addEventListener("dispose",o),r[A.id]=!0,t.memory.geometries++),A},update:function l(h){const A=h.attributes;for(const d in A)e.update(A[d],n.ARRAY_BUFFER)},getWireframeAttribute:function u(h){const A=s.get(h);if(A){const d=h.index;null!==d&&A.version<d.version&&c(h)}else c(h);return s.get(h)}}}function s2e(n,e,t){let i,s,o;function c(A,d,f){0!==f&&(n.drawElementsInstanced(i,d,s,A*o,f),t.update(d,i,f))}this.setMode=function r(A){i=A},this.setIndex=function a(A){s=A.type,o=A.bytesPerElement},this.render=function l(A,d){n.drawElements(i,d,s,A*o),t.update(d,i,1)},this.renderInstances=c,this.renderMultiDraw=function u(A,d,f){if(0===f)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,d,0,s,A,0,f);let y=0;for(let m=0;m<f;m++)y+=d[m];t.update(y,i,1)},this.renderMultiDrawInstances=function h(A,d,f,_){if(0===f)return;const y=e.get("WEBGL_multi_draw");if(null===y)for(let m=0;m<A.length;m++)c(A[m]/o,d[m],_[m]);else{y.multiDrawElementsInstancedWEBGL(i,d,0,s,A,0,_,0,f);let m=0;for(let S=0;S<f;S++)m+=d[S]*_[S];t.update(m,i,1)}}}function o2e(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function a2e(n,e,t){const i=new WeakMap,r=new rr;return{update:function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=void 0!==u?u.length:0;let A=i.get(a);if(void 0===A||A.count!==h){let R=function(){P.dispose(),i.delete(a),a.removeEventListener("dispose",R)};void 0!==A&&A.texture.dispose();const d=void 0!==a.morphAttributes.position,f=void 0!==a.morphAttributes.normal,_=void 0!==a.morphAttributes.color,y=a.morphAttributes.position||[],m=a.morphAttributes.normal||[],S=a.morphAttributes.color||[];let x=0;!0===d&&(x=1),!0===f&&(x=2),!0===_&&(x=3);let M=a.attributes.position.count*x,L=1;M>e.maxTextureSize&&(L=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const U=new Float32Array(M*L*4*h),P=new EL(U,M,L,h);P.type=Yl,P.needsUpdate=!0;const N=4*x;for(let F=0;F<h;F++){const I=y[F],k=m[F],X=S[F],Y=M*L*4*F;for(let ge=0;ge<I.count;ge++){const Z=ge*N;!0===d&&(r.fromBufferAttribute(I,ge),U[Y+Z+0]=r.x,U[Y+Z+1]=r.y,U[Y+Z+2]=r.z,U[Y+Z+3]=0),!0===f&&(r.fromBufferAttribute(k,ge),U[Y+Z+4]=r.x,U[Y+Z+5]=r.y,U[Y+Z+6]=r.z,U[Y+Z+7]=0),!0===_&&(r.fromBufferAttribute(X,ge),U[Y+Z+8]=r.x,U[Y+Z+9]=r.y,U[Y+Z+10]=r.z,U[Y+Z+11]=4===X.itemSize?r.w:1)}}A={count:h,texture:P,size:new At(M,L)},i.set(a,A),a.addEventListener("dispose",R)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let d=0;for(let _=0;_<c.length;_++)d+=c[_];const f=a.morphTargetsRelative?1:1-d;l.getUniforms().setValue(n,"morphTargetBaseInfluence",f),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",A.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",A.size)}}}function l2e(n,e,t,i){let r=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function s(l){const c=i.render.frame,h=e.get(l,l.geometry);if(r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),null!==l.instanceColor&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const A=l.skeleton;r.get(A)!==c&&(A.update(),r.set(A,c))}return h},dispose:function o(){r=new WeakMap}}}const bq=new pl,Cq=new fK(1,1),Sq=new EL,Eq=new x$,xq=new C2,Tq=[],Mq=[],Dq=new Float32Array(16),Bq=new Float32Array(9),Iq=new Float32Array(4);function X0(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=Tq[r];if(void 0===s&&(s=new Float32Array(r),Tq[r]=s),0!==e){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function po(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function go(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function fM(n,e){let t=Mq[e];void 0===t&&(t=new Int32Array(e),Mq[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function c2e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function u2e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(po(t,e))return;n.uniform2fv(this.addr,e),go(t,e)}}function h2e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(po(t,e))return;n.uniform3fv(this.addr,e),go(t,e)}}function d2e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(po(t,e))return;n.uniform4fv(this.addr,e),go(t,e)}}function A2e(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(po(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),go(t,e)}else{if(po(t,i))return;Iq.set(i),n.uniformMatrix2fv(this.addr,!1,Iq),go(t,i)}}function f2e(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(po(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),go(t,e)}else{if(po(t,i))return;Bq.set(i),n.uniformMatrix3fv(this.addr,!1,Bq),go(t,i)}}function p2e(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(po(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),go(t,e)}else{if(po(t,i))return;Dq.set(i),n.uniformMatrix4fv(this.addr,!1,Dq),go(t,i)}}function g2e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function m2e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(po(t,e))return;n.uniform2iv(this.addr,e),go(t,e)}}function _2e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(po(t,e))return;n.uniform3iv(this.addr,e),go(t,e)}}function v2e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(po(t,e))return;n.uniform4iv(this.addr,e),go(t,e)}}function y2e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function w2e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(po(t,e))return;n.uniform2uiv(this.addr,e),go(t,e)}}function b2e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(po(t,e))return;n.uniform3uiv(this.addr,e),go(t,e)}}function C2e(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(po(t,e))return;n.uniform4uiv(this.addr,e),go(t,e)}}function S2e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();let s;i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),this.type===n.SAMPLER_2D_SHADOW?(Cq.compareFunction=515,s=Cq):s=bq,t.setTexture2D(e||s,r)}function E2e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||Eq,r)}function x2e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||xq,r)}function T2e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||Sq,r)}function D2e(n,e){n.uniform1fv(this.addr,e)}function B2e(n,e){const t=X0(e,this.size,2);n.uniform2fv(this.addr,t)}function I2e(n,e){const t=X0(e,this.size,3);n.uniform3fv(this.addr,t)}function N2e(n,e){const t=X0(e,this.size,4);n.uniform4fv(this.addr,t)}function R2e(n,e){const t=X0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function F2e(n,e){const t=X0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function O2e(n,e){const t=X0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function P2e(n,e){n.uniform1iv(this.addr,e)}function L2e(n,e){n.uniform2iv(this.addr,e)}function U2e(n,e){n.uniform3iv(this.addr,e)}function k2e(n,e){n.uniform4iv(this.addr,e)}function H2e(n,e){n.uniform1uiv(this.addr,e)}function V2e(n,e){n.uniform2uiv(this.addr,e)}function Q2e(n,e){n.uniform3uiv(this.addr,e)}function G2e(n,e){n.uniform4uiv(this.addr,e)}function z2e(n,e,t){const i=this.cache,r=e.length,s=fM(t,r);po(i,s)||(n.uniform1iv(this.addr,s),go(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||bq,s[o])}function j2e(n,e,t){const i=this.cache,r=e.length,s=fM(t,r);po(i,s)||(n.uniform1iv(this.addr,s),go(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||Eq,s[o])}function W2e(n,e,t){const i=this.cache,r=e.length,s=fM(t,r);po(i,s)||(n.uniform1iv(this.addr,s),go(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||xq,s[o])}function $2e(n,e,t){const i=this.cache,r=e.length,s=fM(t,r);po(i,s)||(n.uniform1iv(this.addr,s),go(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||Sq,s[o])}class q2e{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=function M2e(n){switch(n){case 5126:return c2e;case 35664:return u2e;case 35665:return h2e;case 35666:return d2e;case 35674:return A2e;case 35675:return f2e;case 35676:return p2e;case 5124:case 35670:return g2e;case 35667:case 35671:return m2e;case 35668:case 35672:return _2e;case 35669:case 35673:return v2e;case 5125:return y2e;case 36294:return w2e;case 36295:return b2e;case 36296:return C2e;case 35678:case 36198:case 36298:case 36306:case 35682:return S2e;case 35679:case 36299:case 36307:return E2e;case 35680:case 36300:case 36308:case 36293:return x2e;case 36289:case 36303:case 36311:case 36292:return T2e}}(t.type)}}class X2e{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function K2e(n){switch(n){case 5126:return D2e;case 35664:return B2e;case 35665:return I2e;case 35666:return N2e;case 35674:return R2e;case 35675:return F2e;case 35676:return O2e;case 5124:case 35670:return P2e;case 35667:case 35671:return L2e;case 35668:case 35672:return U2e;case 35669:case 35673:return k2e;case 5125:return H2e;case 36294:return V2e;case 36295:return Q2e;case 36296:return G2e;case 35678:case 36198:case 36298:case 36306:case 35682:return z2e;case 35679:case 36299:case 36307:return j2e;case 35680:case 36300:case 36308:case 36293:return W2e;case 36289:case 36303:case 36311:case 36292:return $2e}}(t.type)}}class Y2e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const $5=/(\w+)(\])?(\[|\.)?/g;function Nq(n,e){n.seq.push(e),n.map[e.id]=e}function J2e(n,e,t){const i=n.name,r=i.length;for($5.lastIndex=0;;){const s=$5.exec(i);let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&$5.lastIndex+2===r){Nq(t,void 0===c?new q2e(a,n,e):new X2e(a,n,e));break}{let h=t.map[a];void 0===h&&(h=new Y2e(a),Nq(t,h)),t=h}}}class pM{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r);J2e(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,i,r){const s=this.map[t];void 0!==s&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];!1!==l.needsUpdate&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function Rq(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const Z2e=37297;let eMe=0;const Fq=new ai;function Oq(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function tMe(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join("\n")}(n.getShaderSource(e),o)}return r}function iMe(n,e){const t=function nMe(n){qi._getMatrix(Fq,qi.workingColorSpace,n);const e=`mat3( ${Fq.elements.map(t=>t.toFixed(4))} )`;switch(qi.getTransfer(n)){case r2:return[e,"LinearTransferOETF"];case Dr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}(e);return[`vec4 ${n}( vec4 value ) {`,`\treturn ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join("\n")}function rMe(n,e){let t;switch(e){case Sbe:t="Linear";break;case Ebe:t="Reinhard";break;case xbe:t="Cineon";break;case Tbe:t="ACESFilmic";break;case Dbe:t="AgX";break;case Bbe:t="Neutral";break;case Mbe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const gM=new de;function vb(n){return""!==n}function Pq(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Lq(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const cMe=/^[ \t]*#include +<([\w\d./]+)>/gm;function K5(n){return n.replace(cMe,hMe)}const uMe=new Map;function hMe(n,e){let t=fi[e];if(void 0===t){const i=uMe.get(e);if(void 0===i)throw new Error("Can not resolve #include <"+e+">");t=fi[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i)}return K5(t)}const dMe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Uq(n){return n.replace(dMe,AMe)}function AMe(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function kq(n){let e=`precision ${n.precision} float;\n\tprecision ${n.precision} int;\n\tprecision ${n.precision} sampler2D;\n\tprecision ${n.precision} samplerCube;\n\tprecision ${n.precision} sampler3D;\n\tprecision ${n.precision} sampler2DArray;\n\tprecision ${n.precision} sampler2DShadow;\n\tprecision ${n.precision} samplerCubeShadow;\n\tprecision ${n.precision} sampler2DArrayShadow;\n\tprecision ${n.precision} isampler2D;\n\tprecision ${n.precision} isampler3D;\n\tprecision ${n.precision} isamplerCube;\n\tprecision ${n.precision} isampler2DArray;\n\tprecision ${n.precision} usampler2D;\n\tprecision ${n.precision} usampler3D;\n\tprecision ${n.precision} usamplerCube;\n\tprecision ${n.precision} usampler2DArray;\n\t`;return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function vMe(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function fMe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===n$?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===ibe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===bd&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function pMe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case cf:case cg:e="ENVMAP_TYPE_CUBE";break;case Ww:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function gMe(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===cg&&(e="ENVMAP_MODE_REFRACTION"),e}(t),h=function mMe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case GT:e="ENVMAP_BLENDING_MULTIPLY";break;case bbe:e="ENVMAP_BLENDING_MIX";break;case Cbe:e="ENVMAP_BLENDING_ADD"}return e}(t),A=function _Me(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),d=function oMe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(vb).join("\n")}(t),f=function aMe(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(s),_=r.createProgram();let y,m,S=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,f].filter(vb).join("\n"),y.length>0&&(y+="\n"),m=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,f].filter(vb).join("\n"),m.length>0&&(m+="\n")):(y=[kq(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,f,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(vb).join("\n"),m=[kq(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,f,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",A?"#define CUBEUV_TEXEL_WIDTH "+A.texelWidth:"",A?"#define CUBEUV_TEXEL_HEIGHT "+A.texelHeight:"",A?"#define CUBEUV_MAX_MIP "+A.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==lf?"#define TONE_MAPPING":"",t.toneMapping!==lf?fi.tonemapping_pars_fragment:"",t.toneMapping!==lf?rMe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",fi.colorspace_pars_fragment,iMe("linearToOutputTexel",t.outputColorSpace),(qi.getLuminanceCoefficients(gM),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${gM.x.toFixed(4)}, ${gM.y.toFixed(4)}, ${gM.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(vb).join("\n")),o=K5(o),o=Pq(o,t),o=Lq(o,t),a=K5(a),a=Pq(a,t),a=Lq(a,t),o=Uq(o),a=Uq(a),!0!==t.isRawShaderMaterial&&(S="#version 300 es\n",y=[d,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+y,m=["#define varying in",t.glslVersion===y$?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===y$?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+m);const M=S+m+a,L=Rq(r,r.VERTEX_SHADER,S+y+o),U=Rq(r,r.FRAGMENT_SHADER,M);function P(I){if(n.debug.checkShaderErrors){const k=r.getProgramInfoLog(_).trim(),X=r.getShaderInfoLog(L).trim(),Y=r.getShaderInfoLog(U).trim();let ge=!0,Z=!0;if(!1===r.getProgramParameter(_,r.LINK_STATUS))if(ge=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,_,L,U);else{const ue=Oq(r,L,"vertex"),te=Oq(r,U,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(_,r.VALIDATE_STATUS)+"\n\nMaterial Name: "+I.name+"\nMaterial Type: "+I.type+"\n\nProgram Info Log: "+k+"\n"+ue+"\n"+te)}else""!==k?console.warn("THREE.WebGLProgram: Program Info Log:",k):(""===X||""===Y)&&(Z=!1);Z&&(I.diagnostics={runnable:ge,programLog:k,vertexShader:{log:X,prefix:y},fragmentShader:{log:Y,prefix:m}})}r.deleteShader(L),r.deleteShader(U),N=new pM(r,_),R=function lMe(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(r,_)}let N,R;r.attachShader(_,L),r.attachShader(_,U),void 0!==t.index0AttributeName?r.bindAttribLocation(_,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(_,0,"position"),r.linkProgram(_),this.getUniforms=function(){return void 0===N&&P(this),N},this.getAttributes=function(){return void 0===R&&P(this),R};let F=!1===t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===F&&(F=r.getProgramParameter(_,Z2e)),F},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=eMe++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=L,this.fragmentShader=U,this}let yMe=0;class wMe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new bMe(e),t.set(e,i)),i}}class bMe{constructor(e){this.id=yMe++,this.code=e,this.usedTimes=0}}function CMe(n,e,t,i,r,s,o){const a=new NL,l=new wMe,c=new Set,u=[],h=r.logarithmicDepthBuffer,A=r.vertexTextures;let d=r.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(R){return c.add(R),0===R?"uv":`uv${R}`}return{getParameters:function y(R,F,I,k,X){const Y=k.fog,ge=X.geometry,ue=(R.isMeshStandardMaterial?t:e).get(R.envMap||(R.isMeshStandardMaterial?k.environment:null)),te=ue&&ue.mapping===Ww?ue.image.height:null,ye=f[R.type];null!==R.precision&&(d=r.getMaxPrecision(R.precision),d!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",d,"instead."));const Ce=ge.morphAttributes.position||ge.morphAttributes.normal||ge.morphAttributes.color,qe=void 0!==Ce?Ce.length:0;let oe,j,le,ve,V=0;if(void 0!==ge.morphAttributes.position&&(V=1),void 0!==ge.morphAttributes.normal&&(V=2),void 0!==ge.morphAttributes.color&&(V=3),ye){const pi=Mh[ye];oe=pi.vertexShader,j=pi.fragmentShader}else oe=R.vertexShader,j=R.fragmentShader,l.update(R),le=l.getVertexShaderID(R),ve=l.getFragmentShaderID(R);const me=n.getRenderTarget(),be=n.state.buffers.depth.getReversed(),Te=!0===X.isInstancedMesh,rt=!0===X.isBatchedMesh,lt=!!R.map,Ve=!!ue,se=!!R.aoMap,Oe=!!R.lightMap,ne=!!R.bumpMap,wt=!!R.normalMap,tt=!!R.displacementMap,it=!!R.emissiveMap,We=!!R.metalnessMap,J=!!R.roughnessMap,Q=R.anisotropy>0,Se=R.clearcoat>0,nt=R.iridescence>0,$e=R.sheen>0,Mt=R.transmission>0,St=Q&&!!R.anisotropyMap,mt=Se&&!!R.clearcoatMap,en=Se&&!!R.clearcoatNormalMap,Ge=Se&&!!R.clearcoatRoughnessMap,jt=nt&&!!R.iridescenceMap,Gt=nt&&!!R.iridescenceThicknessMap,wn=$e&&!!R.sheenColorMap,Ot=$e&&!!R.sheenRoughnessMap,_n=!!R.specularMap,Nn=!!R.specularColorMap,bn=!!R.specularIntensityMap,Ne=Mt&&!!R.transmissionMap,Dt=Mt&&!!R.thicknessMap,ft=!!R.alphaMap,tn=!!R.extensions;let mr=lf;R.toneMapped&&(null===me||!0===me.isXRRenderTarget)&&(mr=n.toneMapping);const Hi={shaderID:ye,shaderType:R.type,shaderName:R.name,vertexShader:oe,fragmentShader:j,defines:R.defines,customVertexShaderID:le,customFragmentShaderID:ve,isRawShaderMaterial:!0===R.isRawShaderMaterial,glslVersion:R.glslVersion,precision:d,batching:rt,batchingColor:rt&&null!==X._colorsTexture,instancing:Te,instancingColor:Te&&null!==X.instanceColor,instancingMorph:Te&&null!==X.morphTexture,supportsVertexTextures:A,outputColorSpace:null===me?n.outputColorSpace:!0===me.isXRRenderTarget?me.texture.colorSpace:g0,alphaToCoverage:!!R.alphaToCoverage,map:lt,matcap:!!R.matcap,envMap:Ve,envMapMode:Ve&&ue.mapping,envMapCubeUVHeight:te,aoMap:se,lightMap:Oe,bumpMap:ne,normalMap:wt,displacementMap:A&&tt,emissiveMap:it,normalMapObjectSpace:wt&&1===R.normalMapType,normalMapTangentSpace:wt&&0===R.normalMapType,metalnessMap:We,roughnessMap:J,anisotropy:Q,anisotropyMap:St,clearcoat:Se,clearcoatMap:mt,clearcoatNormalMap:en,clearcoatRoughnessMap:Ge,dispersion:R.dispersion>0,iridescence:nt,iridescenceMap:jt,iridescenceThicknessMap:Gt,sheen:$e,sheenColorMap:wn,sheenRoughnessMap:Ot,specularMap:_n,specularColorMap:Nn,specularIntensityMap:bn,transmission:Mt,transmissionMap:Ne,thicknessMap:Dt,gradientMap:!!R.gradientMap,opaque:!1===R.transparent&&1===R.blending&&!1===R.alphaToCoverage,alphaMap:ft,alphaTest:R.alphaTest>0,alphaHash:!!R.alphaHash,combine:R.combine,mapUv:lt&&_(R.map.channel),aoMapUv:se&&_(R.aoMap.channel),lightMapUv:Oe&&_(R.lightMap.channel),bumpMapUv:ne&&_(R.bumpMap.channel),normalMapUv:wt&&_(R.normalMap.channel),displacementMapUv:tt&&_(R.displacementMap.channel),emissiveMapUv:it&&_(R.emissiveMap.channel),metalnessMapUv:We&&_(R.metalnessMap.channel),roughnessMapUv:J&&_(R.roughnessMap.channel),anisotropyMapUv:St&&_(R.anisotropyMap.channel),clearcoatMapUv:mt&&_(R.clearcoatMap.channel),clearcoatNormalMapUv:en&&_(R.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ge&&_(R.clearcoatRoughnessMap.channel),iridescenceMapUv:jt&&_(R.iridescenceMap.channel),iridescenceThicknessMapUv:Gt&&_(R.iridescenceThicknessMap.channel),sheenColorMapUv:wn&&_(R.sheenColorMap.channel),sheenRoughnessMapUv:Ot&&_(R.sheenRoughnessMap.channel),specularMapUv:_n&&_(R.specularMap.channel),specularColorMapUv:Nn&&_(R.specularColorMap.channel),specularIntensityMapUv:bn&&_(R.specularIntensityMap.channel),transmissionMapUv:Ne&&_(R.transmissionMap.channel),thicknessMapUv:Dt&&_(R.thicknessMap.channel),alphaMapUv:ft&&_(R.alphaMap.channel),vertexTangents:!!ge.attributes.tangent&&(wt||Q),vertexColors:R.vertexColors,vertexAlphas:!0===R.vertexColors&&!!ge.attributes.color&&4===ge.attributes.color.itemSize,pointsUvs:!0===X.isPoints&&!!ge.attributes.uv&&(lt||ft),fog:!!Y,useFog:!0===R.fog,fogExp2:!!Y&&Y.isFogExp2,flatShading:!0===R.flatShading,sizeAttenuation:!0===R.sizeAttenuation,logarithmicDepthBuffer:h,reverseDepthBuffer:be,skinning:!0===X.isSkinnedMesh,morphTargets:void 0!==ge.morphAttributes.position,morphNormals:void 0!==ge.morphAttributes.normal,morphColors:void 0!==ge.morphAttributes.color,morphTargetsCount:qe,morphTextureStride:V,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numSpotLightMaps:F.spotLightMap.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numSpotLightShadowsWithMaps:F.numSpotLightShadowsWithMaps,numLightProbes:F.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&I.length>0,shadowMapType:n.shadowMap.type,toneMapping:mr,decodeVideoTexture:lt&&!0===R.map.isVideoTexture&&qi.getTransfer(R.map.colorSpace)===Dr,decodeVideoTextureEmissive:it&&!0===R.emissiveMap.isVideoTexture&&qi.getTransfer(R.emissiveMap.colorSpace)===Dr,premultipliedAlpha:R.premultipliedAlpha,doubleSided:2===R.side,flipSided:1===R.side,useDepthPacking:R.depthPacking>=0,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionClipCullDistance:tn&&!0===R.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(tn&&!0===R.extensions.multiDraw||rt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:R.customProgramCacheKey()};return Hi.vertexUv1s=c.has(1),Hi.vertexUv2s=c.has(2),Hi.vertexUv3s=c.has(3),c.clear(),Hi},getProgramCacheKey:function m(R){const F=[];if(R.shaderID?F.push(R.shaderID):(F.push(R.customVertexShaderID),F.push(R.customFragmentShaderID)),void 0!==R.defines)for(const I in R.defines)F.push(I),F.push(R.defines[I]);return!1===R.isRawShaderMaterial&&(function S(R,F){R.push(F.precision),R.push(F.outputColorSpace),R.push(F.envMapMode),R.push(F.envMapCubeUVHeight),R.push(F.mapUv),R.push(F.alphaMapUv),R.push(F.lightMapUv),R.push(F.aoMapUv),R.push(F.bumpMapUv),R.push(F.normalMapUv),R.push(F.displacementMapUv),R.push(F.emissiveMapUv),R.push(F.metalnessMapUv),R.push(F.roughnessMapUv),R.push(F.anisotropyMapUv),R.push(F.clearcoatMapUv),R.push(F.clearcoatNormalMapUv),R.push(F.clearcoatRoughnessMapUv),R.push(F.iridescenceMapUv),R.push(F.iridescenceThicknessMapUv),R.push(F.sheenColorMapUv),R.push(F.sheenRoughnessMapUv),R.push(F.specularMapUv),R.push(F.specularColorMapUv),R.push(F.specularIntensityMapUv),R.push(F.transmissionMapUv),R.push(F.thicknessMapUv),R.push(F.combine),R.push(F.fogExp2),R.push(F.sizeAttenuation),R.push(F.morphTargetsCount),R.push(F.morphAttributeCount),R.push(F.numDirLights),R.push(F.numPointLights),R.push(F.numSpotLights),R.push(F.numSpotLightMaps),R.push(F.numHemiLights),R.push(F.numRectAreaLights),R.push(F.numDirLightShadows),R.push(F.numPointLightShadows),R.push(F.numSpotLightShadows),R.push(F.numSpotLightShadowsWithMaps),R.push(F.numLightProbes),R.push(F.shadowMapType),R.push(F.toneMapping),R.push(F.numClippingPlanes),R.push(F.numClipIntersection),R.push(F.depthPacking)}(F,R),function x(R,F){a.disableAll(),F.supportsVertexTextures&&a.enable(0),F.instancing&&a.enable(1),F.instancingColor&&a.enable(2),F.instancingMorph&&a.enable(3),F.matcap&&a.enable(4),F.envMap&&a.enable(5),F.normalMapObjectSpace&&a.enable(6),F.normalMapTangentSpace&&a.enable(7),F.clearcoat&&a.enable(8),F.iridescence&&a.enable(9),F.alphaTest&&a.enable(10),F.vertexColors&&a.enable(11),F.vertexAlphas&&a.enable(12),F.vertexUv1s&&a.enable(13),F.vertexUv2s&&a.enable(14),F.vertexUv3s&&a.enable(15),F.vertexTangents&&a.enable(16),F.anisotropy&&a.enable(17),F.alphaHash&&a.enable(18),F.batching&&a.enable(19),F.dispersion&&a.enable(20),F.batchingColor&&a.enable(21),R.push(a.mask),a.disableAll(),F.fog&&a.enable(0),F.useFog&&a.enable(1),F.flatShading&&a.enable(2),F.logarithmicDepthBuffer&&a.enable(3),F.reverseDepthBuffer&&a.enable(4),F.skinning&&a.enable(5),F.morphTargets&&a.enable(6),F.morphNormals&&a.enable(7),F.morphColors&&a.enable(8),F.premultipliedAlpha&&a.enable(9),F.shadowMapEnabled&&a.enable(10),F.doubleSided&&a.enable(11),F.flipSided&&a.enable(12),F.useDepthPacking&&a.enable(13),F.dithering&&a.enable(14),F.transmission&&a.enable(15),F.sheen&&a.enable(16),F.opaque&&a.enable(17),F.pointsUvs&&a.enable(18),F.decodeVideoTexture&&a.enable(19),F.decodeVideoTextureEmissive&&a.enable(20),F.alphaToCoverage&&a.enable(21),R.push(a.mask)}(F,R),F.push(n.outputColorSpace)),F.push(R.customProgramCacheKey),F.join()},getUniforms:function M(R){const F=f[R.type];let I;return I=F?BCe.clone(Mh[F].uniforms):R.uniforms,I},acquireProgram:function L(R,F){let I;for(let k=0,X=u.length;k<X;k++){const Y=u[k];if(Y.cacheKey===F){I=Y,++I.usedTimes;break}}return void 0===I&&(I=new vMe(n,F,R,s),u.push(I)),I},releaseProgram:function U(R){if(0==--R.usedTimes){const F=u.indexOf(R);u[F]=u[u.length-1],u.pop(),R.destroy()}},releaseShaderCache:function P(R){l.remove(R)},programs:u,dispose:function N(){l.dispose()}}}function SMe(){let n=new WeakMap;return{has:function e(o){return n.has(o)},get:function t(o){let a=n.get(o);return void 0===a&&(a={},n.set(o,a)),a},remove:function i(o){n.delete(o)},update:function r(o,a,l){n.get(o)[a]=l},dispose:function s(){n=new WeakMap}}}function EMe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Hq(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Vq(){const n=[];let e=0;const t=[],i=[],r=[];function o(h,A,d,f,_,y){let m=n[e];return void 0===m?(m={id:h.id,object:h,geometry:A,material:d,groupOrder:f,renderOrder:h.renderOrder,z:_,group:y},n[e]=m):(m.id=h.id,m.object=h,m.geometry=A,m.material=d,m.groupOrder=f,m.renderOrder=h.renderOrder,m.z=_,m.group=y),e++,m}return{opaque:t,transmissive:i,transparent:r,init:function s(){e=0,t.length=0,i.length=0,r.length=0},push:function a(h,A,d,f,_,y){const m=o(h,A,d,f,_,y);d.transmission>0?i.push(m):!0===d.transparent?r.push(m):t.push(m)},unshift:function l(h,A,d,f,_,y){const m=o(h,A,d,f,_,y);d.transmission>0?i.unshift(m):!0===d.transparent?r.unshift(m):t.unshift(m)},finish:function u(){for(let h=e,A=n.length;h<A;h++){const d=n[h];if(null===d.id)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}},sort:function c(h,A){t.length>1&&t.sort(h||EMe),i.length>1&&i.sort(A||Hq),r.length>1&&r.sort(A||Hq)}}}function xMe(){let n=new WeakMap;return{get:function e(i,r){const s=n.get(i);let o;return void 0===s?(o=new Vq,n.set(i,[o])):r>=s.length?(o=new Vq,s.push(o)):o=s[r],o},dispose:function t(){n=new WeakMap}}}function TMe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new de,color:new sn};break;case"SpotLight":t={position:new de,direction:new de,color:new sn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new de,color:new sn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new de,skyColor:new sn,groundColor:new sn};break;case"RectAreaLight":t={color:new sn,position:new de,halfWidth:new de,halfHeight:new de}}return n[e.id]=t,t}}}let DMe=0;function BMe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function IMe(n){const e=new TMe,t=function MMe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new At};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new At,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new de);const r=new de,s=new Wn,o=new Wn;return{setup:function a(c){let u=0,h=0,A=0;for(let R=0;R<9;R++)i.probe[R].set(0,0,0);let d=0,f=0,_=0,y=0,m=0,S=0,x=0,M=0,L=0,U=0,P=0;c.sort(BMe);for(let R=0,F=c.length;R<F;R++){const I=c[R],k=I.color,X=I.intensity,Y=I.distance,ge=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)u+=k.r*X,h+=k.g*X,A+=k.b*X;else if(I.isLightProbe){for(let Z=0;Z<9;Z++)i.probe[Z].addScaledVector(I.sh.coefficients[Z],X);P++}else if(I.isDirectionalLight){const Z=e.get(I);if(Z.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const ue=I.shadow,te=t.get(I);te.shadowIntensity=ue.intensity,te.shadowBias=ue.bias,te.shadowNormalBias=ue.normalBias,te.shadowRadius=ue.radius,te.shadowMapSize=ue.mapSize,i.directionalShadow[d]=te,i.directionalShadowMap[d]=ge,i.directionalShadowMatrix[d]=I.shadow.matrix,S++}i.directional[d]=Z,d++}else if(I.isSpotLight){const Z=e.get(I);Z.position.setFromMatrixPosition(I.matrixWorld),Z.color.copy(k).multiplyScalar(X),Z.distance=Y,Z.coneCos=Math.cos(I.angle),Z.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),Z.decay=I.decay,i.spot[_]=Z;const ue=I.shadow;if(I.map&&(i.spotLightMap[L]=I.map,L++,ue.updateMatrices(I),I.castShadow&&U++),i.spotLightMatrix[_]=ue.matrix,I.castShadow){const te=t.get(I);te.shadowIntensity=ue.intensity,te.shadowBias=ue.bias,te.shadowNormalBias=ue.normalBias,te.shadowRadius=ue.radius,te.shadowMapSize=ue.mapSize,i.spotShadow[_]=te,i.spotShadowMap[_]=ge,M++}_++}else if(I.isRectAreaLight){const Z=e.get(I);Z.color.copy(k).multiplyScalar(X),Z.halfWidth.set(.5*I.width,0,0),Z.halfHeight.set(0,.5*I.height,0),i.rectArea[y]=Z,y++}else if(I.isPointLight){const Z=e.get(I);if(Z.color.copy(I.color).multiplyScalar(I.intensity),Z.distance=I.distance,Z.decay=I.decay,I.castShadow){const ue=I.shadow,te=t.get(I);te.shadowIntensity=ue.intensity,te.shadowBias=ue.bias,te.shadowNormalBias=ue.normalBias,te.shadowRadius=ue.radius,te.shadowMapSize=ue.mapSize,te.shadowCameraNear=ue.camera.near,te.shadowCameraFar=ue.camera.far,i.pointShadow[f]=te,i.pointShadowMap[f]=ge,i.pointShadowMatrix[f]=I.shadow.matrix,x++}i.point[f]=Z,f++}else if(I.isHemisphereLight){const Z=e.get(I);Z.skyColor.copy(I.color).multiplyScalar(X),Z.groundColor.copy(I.groundColor).multiplyScalar(X),i.hemi[m]=Z,m++}}y>0&&(!0===n.has("OES_texture_float_linear")?(i.rectAreaLTC1=Zt.LTC_FLOAT_1,i.rectAreaLTC2=Zt.LTC_FLOAT_2):(i.rectAreaLTC1=Zt.LTC_HALF_1,i.rectAreaLTC2=Zt.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=h,i.ambient[2]=A;const N=i.hash;(N.directionalLength!==d||N.pointLength!==f||N.spotLength!==_||N.rectAreaLength!==y||N.hemiLength!==m||N.numDirectionalShadows!==S||N.numPointShadows!==x||N.numSpotShadows!==M||N.numSpotMaps!==L||N.numLightProbes!==P)&&(i.directional.length=d,i.spot.length=_,i.rectArea.length=y,i.point.length=f,i.hemi.length=m,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=x,i.pointShadowMap.length=x,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=x,i.spotLightMatrix.length=M+L-U,i.spotLightMap.length=L,i.numSpotLightShadowsWithMaps=U,i.numLightProbes=P,N.directionalLength=d,N.pointLength=f,N.spotLength=_,N.rectAreaLength=y,N.hemiLength=m,N.numDirectionalShadows=S,N.numPointShadows=x,N.numSpotShadows=M,N.numSpotMaps=L,N.numLightProbes=P,i.version=DMe++)},setupView:function l(c,u){let h=0,A=0,d=0,f=0,_=0;const y=u.matrixWorldInverse;for(let m=0,S=c.length;m<S;m++){const x=c[m];if(x.isDirectionalLight){const M=i.directional[h];M.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(y),h++}else if(x.isSpotLight){const M=i.spot[d];M.position.setFromMatrixPosition(x.matrixWorld),M.position.applyMatrix4(y),M.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),M.direction.sub(r),M.direction.transformDirection(y),d++}else if(x.isRectAreaLight){const M=i.rectArea[f];M.position.setFromMatrixPosition(x.matrixWorld),M.position.applyMatrix4(y),o.identity(),s.copy(x.matrixWorld),s.premultiply(y),o.extractRotation(s),M.halfWidth.set(.5*x.width,0,0),M.halfHeight.set(0,.5*x.height,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),f++}else if(x.isPointLight){const M=i.point[A];M.position.setFromMatrixPosition(x.matrixWorld),M.position.applyMatrix4(y),A++}else if(x.isHemisphereLight){const M=i.hemi[_];M.direction.setFromMatrixPosition(x.matrixWorld),M.direction.transformDirection(y),_++}}},state:i}}function Qq(n){const e=new IMe(n),t=[],i=[],c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function r(u){c.camera=u,t.length=0,i.length=0},state:c,setupLights:function a(){e.setup(t)},setupLightsView:function l(u){e.setupView(t,u)},pushLight:function s(u){t.push(u)},pushShadow:function o(u){i.push(u)}}}function NMe(n){let e=new WeakMap;return{get:function t(r,s=0){const o=e.get(r);let a;return void 0===o?(a=new Qq(n),e.set(r,[a])):s>=o.length?(a=new Qq(n),o.push(a)):a=o[s],a},dispose:function i(){e=new WeakMap}}}function OMe(n,e,t){let i=new I2;const r=new At,s=new At,o=new rr,a=new BK({depthPacking:3201}),l=new IK,c={},u=t.maxTextureSize,h={0:1,1:0,2:2},A=new Eh({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new At},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=A.clone();d.defines.HORIZONTAL_PASS=1;const f=new Ai;f.setAttribute("position",new Lr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Hs(f,A),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=n$;let m=this.type;function S(U,P){const N=e.update(_);A.defines.VSM_SAMPLES!==U.blurSamples&&(A.defines.VSM_SAMPLES=U.blurSamples,d.defines.VSM_SAMPLES=U.blurSamples,A.needsUpdate=!0,d.needsUpdate=!0),null===U.mapPass&&(U.mapPass=new Sh(r.x,r.y)),A.uniforms.shadow_pass.value=U.map.texture,A.uniforms.resolution.value=U.mapSize,A.uniforms.radius.value=U.radius,n.setRenderTarget(U.mapPass),n.clear(),n.renderBufferDirect(P,null,N,A,_,null),d.uniforms.shadow_pass.value=U.mapPass.texture,d.uniforms.resolution.value=U.mapSize,d.uniforms.radius.value=U.radius,n.setRenderTarget(U.map),n.clear(),n.renderBufferDirect(P,null,N,d,_,null)}function x(U,P,N,R){let F=null;const I=!0===N.isPointLight?U.customDistanceMaterial:U.customDepthMaterial;if(void 0!==I)F=I;else if(F=!0===N.isPointLight?l:a,n.localClippingEnabled&&!0===P.clipShadows&&Array.isArray(P.clippingPlanes)&&0!==P.clippingPlanes.length||P.displacementMap&&0!==P.displacementScale||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const k=F.uuid,X=P.uuid;let Y=c[k];void 0===Y&&(Y={},c[k]=Y);let ge=Y[X];void 0===ge&&(ge=F.clone(),Y[X]=ge,P.addEventListener("dispose",L)),F=ge}return F.visible=P.visible,F.wireframe=P.wireframe,F.side=R===bd?null!==P.shadowSide?P.shadowSide:P.side:null!==P.shadowSide?P.shadowSide:h[P.side],F.alphaMap=P.alphaMap,F.alphaTest=P.alphaTest,F.map=P.map,F.clipShadows=P.clipShadows,F.clippingPlanes=P.clippingPlanes,F.clipIntersection=P.clipIntersection,F.displacementMap=P.displacementMap,F.displacementScale=P.displacementScale,F.displacementBias=P.displacementBias,F.wireframeLinewidth=P.wireframeLinewidth,F.linewidth=P.linewidth,!0===N.isPointLight&&!0===F.isMeshDistanceMaterial&&(n.properties.get(F).light=N),F}function M(U,P,N,R,F){if(!1===U.visible)return;if(U.layers.test(P.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&F===bd)&&(!U.frustumCulled||i.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,U.matrixWorld);const X=e.update(U),Y=U.material;if(Array.isArray(Y)){const ge=X.groups;for(let Z=0,ue=ge.length;Z<ue;Z++){const te=ge[Z],ye=Y[te.materialIndex];if(ye&&ye.visible){const Ce=x(U,ye,R,F);U.onBeforeShadow(n,U,P,N,X,Ce,te),n.renderBufferDirect(N,null,X,Ce,U,te),U.onAfterShadow(n,U,P,N,X,Ce,te)}}}else if(Y.visible){const ge=x(U,Y,R,F);U.onBeforeShadow(n,U,P,N,X,ge,null),n.renderBufferDirect(N,null,X,ge,U,null),U.onAfterShadow(n,U,P,N,X,ge,null)}}const k=U.children;for(let X=0,Y=k.length;X<Y;X++)M(k[X],P,N,R,F)}function L(U){U.target.removeEventListener("dispose",L);for(const N in c){const R=c[N],F=U.target.uuid;F in R&&(R[F].dispose(),delete R[F])}}this.render=function(U,P,N){if(!1===y.enabled||!1===y.autoUpdate&&!1===y.needsUpdate||0===U.length)return;const R=n.getRenderTarget(),F=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),k=n.state;k.setBlending(0),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const X=m!==bd&&this.type===bd,Y=m===bd&&this.type!==bd;for(let ge=0,Z=U.length;ge<Z;ge++){const ue=U[ge],te=ue.shadow;if(void 0===te){console.warn("THREE.WebGLShadowMap:",ue,"has no shadow.");continue}if(!1===te.autoUpdate&&!1===te.needsUpdate)continue;r.copy(te.mapSize);const ye=te.getFrameExtents();if(r.multiply(ye),s.copy(te.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/ye.x),r.x=s.x*ye.x,te.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/ye.y),r.y=s.y*ye.y,te.mapSize.y=s.y)),null===te.map||!0===X||!0===Y){const qe=this.type!==bd?{minFilter:da,magFilter:da}:{};null!==te.map&&te.map.dispose(),te.map=new Sh(r.x,r.y,qe),te.map.texture.name=ue.name+".shadowMap",te.camera.updateProjectionMatrix()}n.setRenderTarget(te.map),n.clear();const Ce=te.getViewportCount();for(let qe=0;qe<Ce;qe++){const V=te.getViewport(qe);o.set(s.x*V.x,s.y*V.y,s.x*V.z,s.y*V.w),k.viewport(o),te.updateMatrices(ue,qe),i=te.getFrustum(),M(P,N,te.camera,ue,this.type)}!0!==te.isPointLightShadow&&this.type===bd&&S(te,N),te.needsUpdate=!1}m=this.type,y.needsUpdate=!1,n.setRenderTarget(R,F,I)}}const PMe={0:1,2:6,4:7,3:5,1:0,6:2,7:4,5:3};function LMe(n,e){const s=new function t(){let Ne=!1;const Dt=new rr;let ot=null;const ft=new rr(0,0,0,0);return{setMask:function(Nt){ot!==Nt&&!Ne&&(n.colorMask(Nt,Nt,Nt,Nt),ot=Nt)},setLocked:function(Nt){Ne=Nt},setClear:function(Nt,gt,tn,mr,Hi){!0===Hi&&(Nt*=mr,gt*=mr,tn*=mr),Dt.set(Nt,gt,tn,mr),!1===ft.equals(Dt)&&(n.clearColor(Nt,gt,tn,mr),ft.copy(Dt))},reset:function(){Ne=!1,ot=null,ft.set(-1,0,0,0)}}},o=new function i(){let Ne=!1,Dt=!1,ot=null,ft=null,Nt=null;return{setReversed:function(gt){if(Dt!==gt){const tn=e.get("EXT_clip_control");tn.clipControlEXT(tn.LOWER_LEFT_EXT,Dt?tn.ZERO_TO_ONE_EXT:tn.NEGATIVE_ONE_TO_ONE_EXT);const mr=Nt;Nt=null,this.setClear(mr)}Dt=gt},getReversed:function(){return Dt},setTest:function(gt){gt?me(n.DEPTH_TEST):be(n.DEPTH_TEST)},setMask:function(gt){ot!==gt&&!Ne&&(n.depthMask(gt),ot=gt)},setFunc:function(gt){if(Dt&&(gt=PMe[gt]),ft!==gt){switch(gt){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}ft=gt}},setLocked:function(gt){Ne=gt},setClear:function(gt){Nt!==gt&&(Dt&&(gt=1-gt),n.clearDepth(gt),Nt=gt)},reset:function(){Ne=!1,ot=null,ft=null,Nt=null,Dt=!1}}},a=new function r(){let Ne=!1,Dt=null,ot=null,ft=null,Nt=null,gt=null,tn=null,mr=null,Hi=null;return{setTest:function(pi){Ne||(pi?me(n.STENCIL_TEST):be(n.STENCIL_TEST))},setMask:function(pi){Dt!==pi&&!Ne&&(n.stencilMask(pi),Dt=pi)},setFunc:function(pi,ws,gn){(ot!==pi||ft!==ws||Nt!==gn)&&(n.stencilFunc(pi,ws,gn),ot=pi,ft=ws,Nt=gn)},setOp:function(pi,ws,gn){(gt!==pi||tn!==ws||mr!==gn)&&(n.stencilOp(pi,ws,gn),gt=pi,tn=ws,mr=gn)},setLocked:function(pi){Ne=pi},setClear:function(pi){Hi!==pi&&(n.clearStencil(pi),Hi=pi)},reset:function(){Ne=!1,Dt=null,ot=null,ft=null,Nt=null,gt=null,tn=null,mr=null,Hi=null}}},l=new WeakMap,c=new WeakMap;let u={},h={},A=new WeakMap,d=[],f=null,_=!1,y=null,m=null,S=null,x=null,M=null,L=null,U=null,P=new sn(0,0,0),N=0,R=!1,F=null,I=null,k=null,X=null,Y=null;const ge=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Z=!1,ue=0;const te=n.getParameter(n.VERSION);-1!==te.indexOf("WebGL")?(ue=parseFloat(/^WebGL (\d)/.exec(te)[1]),Z=ue>=1):-1!==te.indexOf("OpenGL ES")&&(ue=parseFloat(/^OpenGL ES (\d)/.exec(te)[1]),Z=ue>=2);let ye=null,Ce={};const qe=n.getParameter(n.SCISSOR_BOX),V=n.getParameter(n.VIEWPORT),oe=(new rr).fromArray(qe),j=(new rr).fromArray(V);function le(Ne,Dt,ot,ft){const Nt=new Uint8Array(4),gt=n.createTexture();n.bindTexture(Ne,gt),n.texParameteri(Ne,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ne,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let tn=0;tn<ot;tn++)Ne===n.TEXTURE_3D||Ne===n.TEXTURE_2D_ARRAY?n.texImage3D(Dt,0,n.RGBA,1,1,ft,0,n.RGBA,n.UNSIGNED_BYTE,Nt):n.texImage2D(Dt+tn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Nt);return gt}const ve={};function me(Ne){!0!==u[Ne]&&(n.enable(Ne),u[Ne]=!0)}function be(Ne){!1!==u[Ne]&&(n.disable(Ne),u[Ne]=!1)}ve[n.TEXTURE_2D]=le(n.TEXTURE_2D,n.TEXTURE_2D,1),ve[n.TEXTURE_CUBE_MAP]=le(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ve[n.TEXTURE_2D_ARRAY]=le(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ve[n.TEXTURE_3D]=le(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),me(n.DEPTH_TEST),o.setFunc(3),ne(!1),wt(1),me(n.CULL_FACE),se(0);const Le={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};Le[103]=n.MIN,Le[104]=n.MAX;const Ve={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA,211:n.CONSTANT_COLOR,212:n.ONE_MINUS_CONSTANT_COLOR,213:n.CONSTANT_ALPHA,214:n.ONE_MINUS_CONSTANT_ALPHA};function se(Ne,Dt,ot,ft,Nt,gt,tn,mr,Hi,pi){if(0!==Ne){if(!1===_&&(me(n.BLEND),_=!0),5===Ne)Nt=Nt||Dt,gt=gt||ot,tn=tn||ft,(Dt!==m||Nt!==M)&&(n.blendEquationSeparate(Le[Dt],Le[Nt]),m=Dt,M=Nt),(ot!==S||ft!==x||gt!==L||tn!==U)&&(n.blendFuncSeparate(Ve[ot],Ve[ft],Ve[gt],Ve[tn]),S=ot,x=ft,L=gt,U=tn),(!1===mr.equals(P)||Hi!==N)&&(n.blendColor(mr.r,mr.g,mr.b,Hi),P.copy(mr),N=Hi),y=Ne,R=!1;else if(Ne!==y||pi!==R){if((100!==m||100!==M)&&(n.blendEquation(n.FUNC_ADD),m=100,M=100),pi)switch(Ne){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ne)}else switch(Ne){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ne)}S=null,x=null,L=null,U=null,P.set(0,0,0),N=0,y=Ne,R=pi}}else!0===_&&(be(n.BLEND),_=!1)}function ne(Ne){F!==Ne&&(n.frontFace(Ne?n.CW:n.CCW),F=Ne)}function wt(Ne){0!==Ne?(me(n.CULL_FACE),Ne!==I&&n.cullFace(1===Ne?n.BACK:2===Ne?n.FRONT:n.FRONT_AND_BACK)):be(n.CULL_FACE),I=Ne}function it(Ne,Dt,ot){Ne?(me(n.POLYGON_OFFSET_FILL),(X!==Dt||Y!==ot)&&(n.polygonOffset(Dt,ot),X=Dt,Y=ot)):be(n.POLYGON_OFFSET_FILL)}return{buffers:{color:s,depth:o,stencil:a},enable:me,disable:be,bindFramebuffer:function Te(Ne,Dt){return h[Ne]!==Dt&&(n.bindFramebuffer(Ne,Dt),h[Ne]=Dt,Ne===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=Dt),Ne===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=Dt),!0)},drawBuffers:function rt(Ne,Dt){let ot=d,ft=!1;if(Ne){ot=A.get(Dt),void 0===ot&&(ot=[],A.set(Dt,ot));const Nt=Ne.textures;if(ot.length!==Nt.length||ot[0]!==n.COLOR_ATTACHMENT0){for(let gt=0,tn=Nt.length;gt<tn;gt++)ot[gt]=n.COLOR_ATTACHMENT0+gt;ot.length=Nt.length,ft=!0}}else ot[0]!==n.BACK&&(ot[0]=n.BACK,ft=!0);ft&&n.drawBuffers(ot)},useProgram:function lt(Ne){return f!==Ne&&(n.useProgram(Ne),f=Ne,!0)},setBlending:se,setMaterial:function Oe(Ne,Dt){2===Ne.side?be(n.CULL_FACE):me(n.CULL_FACE);let ot=1===Ne.side;Dt&&(ot=!ot),ne(ot),1===Ne.blending&&!1===Ne.transparent?se(0):se(Ne.blending,Ne.blendEquation,Ne.blendSrc,Ne.blendDst,Ne.blendEquationAlpha,Ne.blendSrcAlpha,Ne.blendDstAlpha,Ne.blendColor,Ne.blendAlpha,Ne.premultipliedAlpha),o.setFunc(Ne.depthFunc),o.setTest(Ne.depthTest),o.setMask(Ne.depthWrite),s.setMask(Ne.colorWrite);const ft=Ne.stencilWrite;a.setTest(ft),ft&&(a.setMask(Ne.stencilWriteMask),a.setFunc(Ne.stencilFunc,Ne.stencilRef,Ne.stencilFuncMask),a.setOp(Ne.stencilFail,Ne.stencilZFail,Ne.stencilZPass)),it(Ne.polygonOffset,Ne.polygonOffsetFactor,Ne.polygonOffsetUnits),!0===Ne.alphaToCoverage?me(n.SAMPLE_ALPHA_TO_COVERAGE):be(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ne,setCullFace:wt,setLineWidth:function tt(Ne){Ne!==k&&(Z&&n.lineWidth(Ne),k=Ne)},setPolygonOffset:it,setScissorTest:function We(Ne){Ne?me(n.SCISSOR_TEST):be(n.SCISSOR_TEST)},activeTexture:function J(Ne){void 0===Ne&&(Ne=n.TEXTURE0+ge-1),ye!==Ne&&(n.activeTexture(Ne),ye=Ne)},bindTexture:function Q(Ne,Dt,ot){void 0===ot&&(ot=null===ye?n.TEXTURE0+ge-1:ye);let ft=Ce[ot];void 0===ft&&(ft={type:void 0,texture:void 0},Ce[ot]=ft),(ft.type!==Ne||ft.texture!==Dt)&&(ye!==ot&&(n.activeTexture(ot),ye=ot),n.bindTexture(Ne,Dt||ve[Ne]),ft.type=Ne,ft.texture=Dt)},unbindTexture:function Se(){const Ne=Ce[ye];void 0!==Ne&&void 0!==Ne.type&&(n.bindTexture(Ne.type,null),Ne.type=void 0,Ne.texture=void 0)},compressedTexImage2D:function Qe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},compressedTexImage3D:function nt(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texImage2D:function jt(){try{n.texImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texImage3D:function Gt(){try{n.texImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},updateUBOMapping:function _n(Ne,Dt){let ot=c.get(Dt);void 0===ot&&(ot=new WeakMap,c.set(Dt,ot));let ft=ot.get(Ne);void 0===ft&&(ft=n.getUniformBlockIndex(Dt,Ne.name),ot.set(Ne,ft))},uniformBlockBinding:function Nn(Ne,Dt){const ft=c.get(Dt).get(Ne);l.get(Dt)!==ft&&(n.uniformBlockBinding(Dt,ft,Ne.__bindingPointIndex),l.set(Dt,ft))},texStorage2D:function en(){try{n.texStorage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texStorage3D:function Ge(){try{n.texStorage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texSubImage2D:function $e(){try{n.texSubImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texSubImage3D:function Mt(){try{n.texSubImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},compressedTexSubImage2D:function St(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},compressedTexSubImage3D:function mt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},scissor:function wn(Ne){!1===oe.equals(Ne)&&(n.scissor(Ne.x,Ne.y,Ne.z,Ne.w),oe.copy(Ne))},viewport:function Ot(Ne){!1===j.equals(Ne)&&(n.viewport(Ne.x,Ne.y,Ne.z,Ne.w),j.copy(Ne))},reset:function bn(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},ye=null,Ce={},h={},A=new WeakMap,d=[],f=null,_=!1,y=null,m=null,S=null,x=null,M=null,L=null,U=null,P=new sn(0,0,0),N=0,R=!1,F=null,I=null,k=null,X=null,Y=null,oe.set(0,0,n.canvas.width,n.canvas.height),j.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}}}function UMe(n,e,t,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),c=new At,u=new WeakMap;let h;const A=new WeakMap;let d=!1;try{d=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function f(J,Q){return d?new OffscreenCanvas(J,Q):Yw("canvas")}function _(J,Q,Se){let Qe=1;const nt=We(J);if((nt.width>Se||nt.height>Se)&&(Qe=Se/Math.max(nt.width,nt.height)),Qe<1){if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap||typeof VideoFrame<"u"&&J instanceof VideoFrame){const $e=Math.floor(Qe*nt.width),Mt=Math.floor(Qe*nt.height);void 0===h&&(h=f($e,Mt));const St=Q?f($e,Mt):h;return St.width=$e,St.height=Mt,St.getContext("2d").drawImage(J,0,0,$e,Mt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+nt.width+"x"+nt.height+") to ("+$e+"x"+Mt+")."),St}return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+nt.width+"x"+nt.height+")."),J}return J}function y(J){return J.generateMipmaps}function m(J){n.generateMipmap(J)}function S(J){return J.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:J.isWebGL3DRenderTarget?n.TEXTURE_3D:J.isWebGLArrayRenderTarget||J.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function x(J,Q,Se,Qe,nt=!1){if(null!==J){if(void 0!==n[J])return n[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let $e=Q;if(Q===n.RED&&(Se===n.FLOAT&&($e=n.R32F),Se===n.HALF_FLOAT&&($e=n.R16F),Se===n.UNSIGNED_BYTE&&($e=n.R8)),Q===n.RED_INTEGER&&(Se===n.UNSIGNED_BYTE&&($e=n.R8UI),Se===n.UNSIGNED_SHORT&&($e=n.R16UI),Se===n.UNSIGNED_INT&&($e=n.R32UI),Se===n.BYTE&&($e=n.R8I),Se===n.SHORT&&($e=n.R16I),Se===n.INT&&($e=n.R32I)),Q===n.RG&&(Se===n.FLOAT&&($e=n.RG32F),Se===n.HALF_FLOAT&&($e=n.RG16F),Se===n.UNSIGNED_BYTE&&($e=n.RG8)),Q===n.RG_INTEGER&&(Se===n.UNSIGNED_BYTE&&($e=n.RG8UI),Se===n.UNSIGNED_SHORT&&($e=n.RG16UI),Se===n.UNSIGNED_INT&&($e=n.RG32UI),Se===n.BYTE&&($e=n.RG8I),Se===n.SHORT&&($e=n.RG16I),Se===n.INT&&($e=n.RG32I)),Q===n.RGB_INTEGER&&(Se===n.UNSIGNED_BYTE&&($e=n.RGB8UI),Se===n.UNSIGNED_SHORT&&($e=n.RGB16UI),Se===n.UNSIGNED_INT&&($e=n.RGB32UI),Se===n.BYTE&&($e=n.RGB8I),Se===n.SHORT&&($e=n.RGB16I),Se===n.INT&&($e=n.RGB32I)),Q===n.RGBA_INTEGER&&(Se===n.UNSIGNED_BYTE&&($e=n.RGBA8UI),Se===n.UNSIGNED_SHORT&&($e=n.RGBA16UI),Se===n.UNSIGNED_INT&&($e=n.RGBA32UI),Se===n.BYTE&&($e=n.RGBA8I),Se===n.SHORT&&($e=n.RGBA16I),Se===n.INT&&($e=n.RGBA32I)),Q===n.RGB&&Se===n.UNSIGNED_INT_5_9_9_9_REV&&($e=n.RGB9_E5),Q===n.RGBA){const Mt=nt?r2:qi.getTransfer(Qe);Se===n.FLOAT&&($e=n.RGBA32F),Se===n.HALF_FLOAT&&($e=n.RGBA16F),Se===n.UNSIGNED_BYTE&&($e=Mt===Dr?n.SRGB8_ALPHA8:n.RGBA8),Se===n.UNSIGNED_SHORT_4_4_4_4&&($e=n.RGBA4),Se===n.UNSIGNED_SHORT_5_5_5_1&&($e=n.RGB5_A1)}return($e===n.R16F||$e===n.R32F||$e===n.RG16F||$e===n.RG32F||$e===n.RGBA16F||$e===n.RGBA32F)&&e.get("EXT_color_buffer_float"),$e}function M(J,Q){let Se;return J?null===Q||Q===uf||Q===h0?Se=n.DEPTH24_STENCIL8:Q===Yl?Se=n.DEPTH32F_STENCIL8:Q===Kw&&(Se=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===Q||Q===uf||Q===h0?Se=n.DEPTH_COMPONENT24:Q===Yl?Se=n.DEPTH_COMPONENT32F:Q===Kw&&(Se=n.DEPTH_COMPONENT16),Se}function L(J,Q){return!0===y(J)||J.isFramebufferTexture&&J.minFilter!==da&&J.minFilter!==Do?Math.log2(Math.max(Q.width,Q.height))+1:void 0!==J.mipmaps&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?Q.mipmaps.length:1}function U(J){const Q=J.target;Q.removeEventListener("dispose",U),function N(J){const Q=i.get(J);if(void 0===Q.__webglInit)return;const Se=J.source,Qe=A.get(Se);if(Qe){const nt=Qe[Q.__cacheKey];nt.usedTimes--,0===nt.usedTimes&&R(J),0===Object.keys(Qe).length&&A.delete(Se)}i.remove(J)}(Q),Q.isVideoTexture&&u.delete(Q)}function P(J){const Q=J.target;Q.removeEventListener("dispose",P),function F(J){const Q=i.get(J);if(J.depthTexture&&(J.depthTexture.dispose(),i.remove(J.depthTexture)),J.isWebGLCubeRenderTarget)for(let Qe=0;Qe<6;Qe++){if(Array.isArray(Q.__webglFramebuffer[Qe]))for(let nt=0;nt<Q.__webglFramebuffer[Qe].length;nt++)n.deleteFramebuffer(Q.__webglFramebuffer[Qe][nt]);else n.deleteFramebuffer(Q.__webglFramebuffer[Qe]);Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer[Qe])}else{if(Array.isArray(Q.__webglFramebuffer))for(let Qe=0;Qe<Q.__webglFramebuffer.length;Qe++)n.deleteFramebuffer(Q.__webglFramebuffer[Qe]);else n.deleteFramebuffer(Q.__webglFramebuffer);if(Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer),Q.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Q.__webglMultisampledFramebuffer),Q.__webglColorRenderbuffer)for(let Qe=0;Qe<Q.__webglColorRenderbuffer.length;Qe++)Q.__webglColorRenderbuffer[Qe]&&n.deleteRenderbuffer(Q.__webglColorRenderbuffer[Qe]);Q.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Q.__webglDepthRenderbuffer)}const Se=J.textures;for(let Qe=0,nt=Se.length;Qe<nt;Qe++){const $e=i.get(Se[Qe]);$e.__webglTexture&&(n.deleteTexture($e.__webglTexture),o.memory.textures--),i.remove(Se[Qe])}i.remove(J)}(Q)}function R(J){const Q=i.get(J);n.deleteTexture(Q.__webglTexture),delete A.get(J.source)[Q.__cacheKey],o.memory.textures--}let I=0;function ge(J,Q){const Se=i.get(J);if(J.isVideoTexture&&function tt(J){const Q=o.render.frame;u.get(J)!==Q&&(u.set(J,Q),J.update())}(J),!1===J.isRenderTargetTexture&&J.version>0&&Se.__version!==J.version){const Qe=J.image;if(null===Qe)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Qe.complete)return void j(Se,J,Q);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,Se.__webglTexture,n.TEXTURE0+Q)}const ye={1e3:n.REPEAT,[Nu]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},Ce={[da]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[Do]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[Sd]:n.LINEAR_MIPMAP_LINEAR},qe={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function V(J,Q){if(Q.type===Yl&&!1===e.has("OES_texture_float_linear")&&(Q.magFilter===Do||1007===Q.magFilter||1005===Q.magFilter||Q.magFilter===Sd||Q.minFilter===Do||1007===Q.minFilter||1005===Q.minFilter||Q.minFilter===Sd)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(J,n.TEXTURE_WRAP_S,ye[Q.wrapS]),n.texParameteri(J,n.TEXTURE_WRAP_T,ye[Q.wrapT]),(J===n.TEXTURE_3D||J===n.TEXTURE_2D_ARRAY)&&n.texParameteri(J,n.TEXTURE_WRAP_R,ye[Q.wrapR]),n.texParameteri(J,n.TEXTURE_MAG_FILTER,Ce[Q.magFilter]),n.texParameteri(J,n.TEXTURE_MIN_FILTER,Ce[Q.minFilter]),Q.compareFunction&&(n.texParameteri(J,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(J,n.TEXTURE_COMPARE_FUNC,qe[Q.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(Q.magFilter===da||1005!==Q.minFilter&&Q.minFilter!==Sd||Q.type===Yl&&!1===e.has("OES_texture_float_linear"))return;if(Q.anisotropy>1||i.get(Q).__currentAnisotropy){const Se=e.get("EXT_texture_filter_anisotropic");n.texParameterf(J,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Q.anisotropy,r.getMaxAnisotropy())),i.get(Q).__currentAnisotropy=Q.anisotropy}}}function oe(J,Q){let Se=!1;void 0===J.__webglInit&&(J.__webglInit=!0,Q.addEventListener("dispose",U));const Qe=Q.source;let nt=A.get(Qe);void 0===nt&&(nt={},A.set(Qe,nt));const $e=function Y(J){const Q=[];return Q.push(J.wrapS),Q.push(J.wrapT),Q.push(J.wrapR||0),Q.push(J.magFilter),Q.push(J.minFilter),Q.push(J.anisotropy),Q.push(J.internalFormat),Q.push(J.format),Q.push(J.type),Q.push(J.generateMipmaps),Q.push(J.premultiplyAlpha),Q.push(J.flipY),Q.push(J.unpackAlignment),Q.push(J.colorSpace),Q.join()}(Q);if($e!==J.__cacheKey){void 0===nt[$e]&&(nt[$e]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Se=!0),nt[$e].usedTimes++;const Mt=nt[J.__cacheKey];void 0!==Mt&&(nt[J.__cacheKey].usedTimes--,0===Mt.usedTimes&&R(Q)),J.__cacheKey=$e,J.__webglTexture=nt[$e].texture}return Se}function j(J,Q,Se){let Qe=n.TEXTURE_2D;(Q.isDataArrayTexture||Q.isCompressedArrayTexture)&&(Qe=n.TEXTURE_2D_ARRAY),Q.isData3DTexture&&(Qe=n.TEXTURE_3D);const nt=oe(J,Q),$e=Q.source;t.bindTexture(Qe,J.__webglTexture,n.TEXTURE0+Se);const Mt=i.get($e);if($e.version!==Mt.__version||!0===nt){t.activeTexture(n.TEXTURE0+Se);const St=qi.getPrimaries(qi.workingColorSpace),mt=""===Q.colorSpace?null:qi.getPrimaries(Q.colorSpace),en=""===Q.colorSpace||St===mt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Q.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Q.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,en);let Ge=_(Q.image,!1,r.maxTextureSize);Ge=it(Q,Ge);const jt=s.convert(Q.format,Q.colorSpace),Gt=s.convert(Q.type);let Ot,wn=x(Q.internalFormat,jt,Gt,Q.colorSpace,Q.isVideoTexture);V(Qe,Q);const _n=Q.mipmaps,Nn=!0!==Q.isVideoTexture,bn=void 0===Mt.__version||!0===nt,Ne=$e.dataReady,Dt=L(Q,Ge);if(Q.isDepthTexture)wn=M(Q.format===A0,Q.type),bn&&(Nn?t.texStorage2D(n.TEXTURE_2D,1,wn,Ge.width,Ge.height):t.texImage2D(n.TEXTURE_2D,0,wn,Ge.width,Ge.height,0,jt,Gt,null));else if(Q.isDataTexture)if(_n.length>0){Nn&&bn&&t.texStorage2D(n.TEXTURE_2D,Dt,wn,_n[0].width,_n[0].height);for(let ot=0,ft=_n.length;ot<ft;ot++)Ot=_n[ot],Nn?Ne&&t.texSubImage2D(n.TEXTURE_2D,ot,0,0,Ot.width,Ot.height,jt,Gt,Ot.data):t.texImage2D(n.TEXTURE_2D,ot,wn,Ot.width,Ot.height,0,jt,Gt,Ot.data);Q.generateMipmaps=!1}else Nn?(bn&&t.texStorage2D(n.TEXTURE_2D,Dt,wn,Ge.width,Ge.height),Ne&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ge.width,Ge.height,jt,Gt,Ge.data)):t.texImage2D(n.TEXTURE_2D,0,wn,Ge.width,Ge.height,0,jt,Gt,Ge.data);else if(Q.isCompressedTexture)if(Q.isCompressedArrayTexture){Nn&&bn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Dt,wn,_n[0].width,_n[0].height,Ge.depth);for(let ot=0,ft=_n.length;ot<ft;ot++)if(Ot=_n[ot],Q.format!==fl)if(null!==jt)if(Nn){if(Ne)if(Q.layerUpdates.size>0){const Nt=U5(Ot.width,Ot.height,Q.format,Q.type);for(const gt of Q.layerUpdates){const tn=Ot.data.subarray(gt*Nt/Ot.data.BYTES_PER_ELEMENT,(gt+1)*Nt/Ot.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ot,0,0,gt,Ot.width,Ot.height,1,jt,tn)}Q.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ot,0,0,0,Ot.width,Ot.height,Ge.depth,jt,Ot.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ot,wn,Ot.width,Ot.height,Ge.depth,0,Ot.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Nn?Ne&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,ot,0,0,0,Ot.width,Ot.height,Ge.depth,jt,Gt,Ot.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ot,wn,Ot.width,Ot.height,Ge.depth,0,jt,Gt,Ot.data)}else{Nn&&bn&&t.texStorage2D(n.TEXTURE_2D,Dt,wn,_n[0].width,_n[0].height);for(let ot=0,ft=_n.length;ot<ft;ot++)Ot=_n[ot],Q.format!==fl?null!==jt?Nn?Ne&&t.compressedTexSubImage2D(n.TEXTURE_2D,ot,0,0,Ot.width,Ot.height,jt,Ot.data):t.compressedTexImage2D(n.TEXTURE_2D,ot,wn,Ot.width,Ot.height,0,Ot.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Nn?Ne&&t.texSubImage2D(n.TEXTURE_2D,ot,0,0,Ot.width,Ot.height,jt,Gt,Ot.data):t.texImage2D(n.TEXTURE_2D,ot,wn,Ot.width,Ot.height,0,jt,Gt,Ot.data)}else if(Q.isDataArrayTexture)if(Nn){if(bn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Dt,wn,Ge.width,Ge.height,Ge.depth),Ne)if(Q.layerUpdates.size>0){const ot=U5(Ge.width,Ge.height,Q.format,Q.type);for(const ft of Q.layerUpdates){const Nt=Ge.data.subarray(ft*ot/Ge.data.BYTES_PER_ELEMENT,(ft+1)*ot/Ge.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,ft,Ge.width,Ge.height,1,jt,Gt,Nt)}Q.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ge.width,Ge.height,Ge.depth,jt,Gt,Ge.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,wn,Ge.width,Ge.height,Ge.depth,0,jt,Gt,Ge.data);else if(Q.isData3DTexture)Nn?(bn&&t.texStorage3D(n.TEXTURE_3D,Dt,wn,Ge.width,Ge.height,Ge.depth),Ne&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ge.width,Ge.height,Ge.depth,jt,Gt,Ge.data)):t.texImage3D(n.TEXTURE_3D,0,wn,Ge.width,Ge.height,Ge.depth,0,jt,Gt,Ge.data);else if(Q.isFramebufferTexture){if(bn)if(Nn)t.texStorage2D(n.TEXTURE_2D,Dt,wn,Ge.width,Ge.height);else{let ot=Ge.width,ft=Ge.height;for(let Nt=0;Nt<Dt;Nt++)t.texImage2D(n.TEXTURE_2D,Nt,wn,ot,ft,0,jt,Gt,null),ot>>=1,ft>>=1}}else if(_n.length>0){if(Nn&&bn){const ot=We(_n[0]);t.texStorage2D(n.TEXTURE_2D,Dt,wn,ot.width,ot.height)}for(let ot=0,ft=_n.length;ot<ft;ot++)Ot=_n[ot],Nn?Ne&&t.texSubImage2D(n.TEXTURE_2D,ot,0,0,jt,Gt,Ot):t.texImage2D(n.TEXTURE_2D,ot,wn,jt,Gt,Ot);Q.generateMipmaps=!1}else if(Nn){if(bn){const ot=We(Ge);t.texStorage2D(n.TEXTURE_2D,Dt,wn,ot.width,ot.height)}Ne&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,jt,Gt,Ge)}else t.texImage2D(n.TEXTURE_2D,0,wn,jt,Gt,Ge);y(Q)&&m(Qe),Mt.__version=$e.version,Q.onUpdate&&Q.onUpdate(Q)}J.__version=Q.version}function ve(J,Q,Se,Qe,nt,$e){const Mt=s.convert(Se.format,Se.colorSpace),St=s.convert(Se.type),mt=x(Se.internalFormat,Mt,St,Se.colorSpace),en=i.get(Q),Ge=i.get(Se);if(Ge.__renderTarget=Q,!en.__hasExternalTextures){const jt=Math.max(1,Q.width>>$e),Gt=Math.max(1,Q.height>>$e);nt===n.TEXTURE_3D||nt===n.TEXTURE_2D_ARRAY?t.texImage3D(nt,$e,mt,jt,Gt,Q.depth,0,Mt,St,null):t.texImage2D(nt,$e,mt,jt,Gt,0,Mt,St,null)}t.bindFramebuffer(n.FRAMEBUFFER,J),wt(Q)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Qe,nt,Ge.__webglTexture,0,ne(Q)):(nt===n.TEXTURE_2D||nt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&nt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Qe,nt,Ge.__webglTexture,$e),t.bindFramebuffer(n.FRAMEBUFFER,null)}function me(J,Q,Se){if(n.bindRenderbuffer(n.RENDERBUFFER,J),Q.depthBuffer){const Qe=Q.depthTexture,$e=M(Q.stencilBuffer,Qe&&Qe.isDepthTexture?Qe.type:null),Mt=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,St=ne(Q);wt(Q)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,St,$e,Q.width,Q.height):Se?n.renderbufferStorageMultisample(n.RENDERBUFFER,St,$e,Q.width,Q.height):n.renderbufferStorage(n.RENDERBUFFER,$e,Q.width,Q.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Mt,n.RENDERBUFFER,J)}else{const Qe=Q.textures;for(let nt=0;nt<Qe.length;nt++){const $e=Qe[nt],Mt=s.convert($e.format,$e.colorSpace),St=s.convert($e.type),mt=x($e.internalFormat,Mt,St,$e.colorSpace),en=ne(Q);Se&&!1===wt(Q)?n.renderbufferStorageMultisample(n.RENDERBUFFER,en,mt,Q.width,Q.height):wt(Q)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,en,mt,Q.width,Q.height):n.renderbufferStorage(n.RENDERBUFFER,mt,Q.width,Q.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Te(J){const Q=i.get(J),Se=!0===J.isWebGLCubeRenderTarget;if(Q.__boundDepthTexture!==J.depthTexture){const Qe=J.depthTexture;if(Q.__depthDisposeCallback&&Q.__depthDisposeCallback(),Qe){const nt=()=>{delete Q.__boundDepthTexture,delete Q.__depthDisposeCallback,Qe.removeEventListener("dispose",nt)};Qe.addEventListener("dispose",nt),Q.__depthDisposeCallback=nt}Q.__boundDepthTexture=Qe}if(J.depthTexture&&!Q.__autoAllocateDepthBuffer){if(Se)throw new Error("target.depthTexture not supported in Cube render targets");!function be(J,Q){if(Q&&Q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,J),!Q.depthTexture||!Q.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Qe=i.get(Q.depthTexture);Qe.__renderTarget=Q,(!Qe.__webglTexture||Q.depthTexture.image.width!==Q.width||Q.depthTexture.image.height!==Q.height)&&(Q.depthTexture.image.width=Q.width,Q.depthTexture.image.height=Q.height,Q.depthTexture.needsUpdate=!0),ge(Q.depthTexture,0);const nt=Qe.__webglTexture,$e=ne(Q);if(Q.depthTexture.format===d0)wt(Q)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,nt,0,$e):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,nt,0);else{if(Q.depthTexture.format!==A0)throw new Error("Unknown depthTexture format");wt(Q)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,nt,0,$e):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,nt,0)}}(Q.__webglFramebuffer,J)}else if(Se){Q.__webglDepthbuffer=[];for(let Qe=0;Qe<6;Qe++)if(t.bindFramebuffer(n.FRAMEBUFFER,Q.__webglFramebuffer[Qe]),void 0===Q.__webglDepthbuffer[Qe])Q.__webglDepthbuffer[Qe]=n.createRenderbuffer(),me(Q.__webglDepthbuffer[Qe],J,!1);else{const nt=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,$e=Q.__webglDepthbuffer[Qe];n.bindRenderbuffer(n.RENDERBUFFER,$e),n.framebufferRenderbuffer(n.FRAMEBUFFER,nt,n.RENDERBUFFER,$e)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,Q.__webglFramebuffer),void 0===Q.__webglDepthbuffer)Q.__webglDepthbuffer=n.createRenderbuffer(),me(Q.__webglDepthbuffer,J,!1);else{const Qe=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,nt=Q.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,nt),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,nt)}t.bindFramebuffer(n.FRAMEBUFFER,null)}const Ve=[],se=[];function ne(J){return Math.min(r.maxSamples,J.samples)}function wt(J){const Q=i.get(J);return J.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==Q.__useRenderToTexture}function it(J,Q){const Se=J.colorSpace,Qe=J.format,nt=J.type;return!0===J.isCompressedTexture||!0===J.isVideoTexture||Se!==g0&&""!==Se&&(qi.getTransfer(Se)===Dr?(Qe!==fl||nt!==Ed)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Se)),Q}function We(J){return typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement?(c.width=J.naturalWidth||J.width,c.height=J.naturalHeight||J.height):typeof VideoFrame<"u"&&J instanceof VideoFrame?(c.width=J.displayWidth,c.height=J.displayHeight):(c.width=J.width,c.height=J.height),c}this.allocateTextureUnit=function X(){const J=I;return J>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+r.maxTextures),I+=1,J},this.resetTextureUnits=function k(){I=0},this.setTexture2D=ge,this.setTexture2DArray=function Z(J,Q){const Se=i.get(J);J.version>0&&Se.__version!==J.version?j(Se,J,Q):t.bindTexture(n.TEXTURE_2D_ARRAY,Se.__webglTexture,n.TEXTURE0+Q)},this.setTexture3D=function ue(J,Q){const Se=i.get(J);J.version>0&&Se.__version!==J.version?j(Se,J,Q):t.bindTexture(n.TEXTURE_3D,Se.__webglTexture,n.TEXTURE0+Q)},this.setTextureCube=function te(J,Q){const Se=i.get(J);J.version>0&&Se.__version!==J.version?function le(J,Q,Se){if(6!==Q.image.length)return;const Qe=oe(J,Q),nt=Q.source;t.bindTexture(n.TEXTURE_CUBE_MAP,J.__webglTexture,n.TEXTURE0+Se);const $e=i.get(nt);if(nt.version!==$e.__version||!0===Qe){t.activeTexture(n.TEXTURE0+Se);const Mt=qi.getPrimaries(qi.workingColorSpace),St=""===Q.colorSpace?null:qi.getPrimaries(Q.colorSpace),mt=""===Q.colorSpace||Mt===St?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Q.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Q.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,mt);const en=Q.isCompressedTexture||Q.image[0].isCompressedTexture,Ge=Q.image[0]&&Q.image[0].isDataTexture,jt=[];for(let ft=0;ft<6;ft++)jt[ft]=en||Ge?Ge?Q.image[ft].image:Q.image[ft]:_(Q.image[ft],!0,r.maxCubemapSize),jt[ft]=it(Q,jt[ft]);const Gt=jt[0],wn=s.convert(Q.format,Q.colorSpace),Ot=s.convert(Q.type),_n=x(Q.internalFormat,wn,Ot,Q.colorSpace),Nn=!0!==Q.isVideoTexture,bn=void 0===$e.__version||!0===Qe,Ne=nt.dataReady;let ot,Dt=L(Q,Gt);if(V(n.TEXTURE_CUBE_MAP,Q),en){Nn&&bn&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Dt,_n,Gt.width,Gt.height);for(let ft=0;ft<6;ft++){ot=jt[ft].mipmaps;for(let Nt=0;Nt<ot.length;Nt++){const gt=ot[Nt];Q.format!==fl?null!==wn?Nn?Ne&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Nt,0,0,gt.width,gt.height,wn,gt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Nt,_n,gt.width,gt.height,0,gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Nn?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Nt,0,0,gt.width,gt.height,wn,Ot,gt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Nt,_n,gt.width,gt.height,0,wn,Ot,gt.data)}}}else{if(ot=Q.mipmaps,Nn&&bn){ot.length>0&&Dt++;const ft=We(jt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Dt,_n,ft.width,ft.height)}for(let ft=0;ft<6;ft++)if(Ge){Nn?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0,0,0,jt[ft].width,jt[ft].height,wn,Ot,jt[ft].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0,_n,jt[ft].width,jt[ft].height,0,wn,Ot,jt[ft].data);for(let Nt=0;Nt<ot.length;Nt++){const tn=ot[Nt].image[ft].image;Nn?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Nt+1,0,0,tn.width,tn.height,wn,Ot,tn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Nt+1,_n,tn.width,tn.height,0,wn,Ot,tn.data)}}else{Nn?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0,0,0,wn,Ot,jt[ft]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0,_n,wn,Ot,jt[ft]);for(let Nt=0;Nt<ot.length;Nt++){const gt=ot[Nt];Nn?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Nt+1,0,0,wn,Ot,gt.image[ft]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ft,Nt+1,_n,wn,Ot,gt.image[ft])}}}y(Q)&&m(n.TEXTURE_CUBE_MAP),$e.__version=nt.version,Q.onUpdate&&Q.onUpdate(Q)}J.__version=Q.version}(Se,J,Q):t.bindTexture(n.TEXTURE_CUBE_MAP,Se.__webglTexture,n.TEXTURE0+Q)},this.rebindTextures=function rt(J,Q,Se){const Qe=i.get(J);void 0!==Q&&ve(Qe.__webglFramebuffer,J,J.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==Se&&Te(J)},this.setupRenderTarget=function lt(J){const Q=J.texture,Se=i.get(J),Qe=i.get(Q);J.addEventListener("dispose",P);const nt=J.textures,$e=!0===J.isWebGLCubeRenderTarget,Mt=nt.length>1;if(Mt||(void 0===Qe.__webglTexture&&(Qe.__webglTexture=n.createTexture()),Qe.__version=Q.version,o.memory.textures++),$e){Se.__webglFramebuffer=[];for(let St=0;St<6;St++)if(Q.mipmaps&&Q.mipmaps.length>0){Se.__webglFramebuffer[St]=[];for(let mt=0;mt<Q.mipmaps.length;mt++)Se.__webglFramebuffer[St][mt]=n.createFramebuffer()}else Se.__webglFramebuffer[St]=n.createFramebuffer()}else{if(Q.mipmaps&&Q.mipmaps.length>0){Se.__webglFramebuffer=[];for(let St=0;St<Q.mipmaps.length;St++)Se.__webglFramebuffer[St]=n.createFramebuffer()}else Se.__webglFramebuffer=n.createFramebuffer();if(Mt)for(let St=0,mt=nt.length;St<mt;St++){const en=i.get(nt[St]);void 0===en.__webglTexture&&(en.__webglTexture=n.createTexture(),o.memory.textures++)}if(J.samples>0&&!1===wt(J)){Se.__webglMultisampledFramebuffer=n.createFramebuffer(),Se.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Se.__webglMultisampledFramebuffer);for(let St=0;St<nt.length;St++){const mt=nt[St];Se.__webglColorRenderbuffer[St]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Se.__webglColorRenderbuffer[St]);const en=s.convert(mt.format,mt.colorSpace),Ge=s.convert(mt.type),jt=x(mt.internalFormat,en,Ge,mt.colorSpace,!0===J.isXRRenderTarget),Gt=ne(J);n.renderbufferStorageMultisample(n.RENDERBUFFER,Gt,jt,J.width,J.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.RENDERBUFFER,Se.__webglColorRenderbuffer[St])}n.bindRenderbuffer(n.RENDERBUFFER,null),J.depthBuffer&&(Se.__webglDepthRenderbuffer=n.createRenderbuffer(),me(Se.__webglDepthRenderbuffer,J,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if($e){t.bindTexture(n.TEXTURE_CUBE_MAP,Qe.__webglTexture),V(n.TEXTURE_CUBE_MAP,Q);for(let St=0;St<6;St++)if(Q.mipmaps&&Q.mipmaps.length>0)for(let mt=0;mt<Q.mipmaps.length;mt++)ve(Se.__webglFramebuffer[St][mt],J,Q,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+St,mt);else ve(Se.__webglFramebuffer[St],J,Q,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+St,0);y(Q)&&m(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Mt){for(let St=0,mt=nt.length;St<mt;St++){const en=nt[St],Ge=i.get(en);t.bindTexture(n.TEXTURE_2D,Ge.__webglTexture),V(n.TEXTURE_2D,en),ve(Se.__webglFramebuffer,J,en,n.COLOR_ATTACHMENT0+St,n.TEXTURE_2D,0),y(en)&&m(n.TEXTURE_2D)}t.unbindTexture()}else{let St=n.TEXTURE_2D;if((J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(St=J.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(St,Qe.__webglTexture),V(St,Q),Q.mipmaps&&Q.mipmaps.length>0)for(let mt=0;mt<Q.mipmaps.length;mt++)ve(Se.__webglFramebuffer[mt],J,Q,n.COLOR_ATTACHMENT0,St,mt);else ve(Se.__webglFramebuffer,J,Q,n.COLOR_ATTACHMENT0,St,0);y(Q)&&m(St),t.unbindTexture()}J.depthBuffer&&Te(J)},this.updateRenderTargetMipmap=function Le(J){const Q=J.textures;for(let Se=0,Qe=Q.length;Se<Qe;Se++){const nt=Q[Se];if(y(nt)){const $e=S(J),Mt=i.get(nt).__webglTexture;t.bindTexture($e,Mt),m($e),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Oe(J){if(J.samples>0)if(!1===wt(J)){const Q=J.textures,Se=J.width,Qe=J.height;let nt=n.COLOR_BUFFER_BIT;const $e=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Mt=i.get(J),St=Q.length>1;if(St)for(let mt=0;mt<Q.length;mt++)t.bindFramebuffer(n.FRAMEBUFFER,Mt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+mt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Mt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+mt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Mt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Mt.__webglFramebuffer);for(let mt=0;mt<Q.length;mt++){if(J.resolveDepthBuffer&&(J.depthBuffer&&(nt|=n.DEPTH_BUFFER_BIT),J.stencilBuffer&&J.resolveStencilBuffer&&(nt|=n.STENCIL_BUFFER_BIT)),St){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Mt.__webglColorRenderbuffer[mt]);const en=i.get(Q[mt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,en,0)}n.blitFramebuffer(0,0,Se,Qe,0,0,Se,Qe,nt,n.NEAREST),!0===l&&(Ve.length=0,se.length=0,Ve.push(n.COLOR_ATTACHMENT0+mt),J.depthBuffer&&!1===J.resolveDepthBuffer&&(Ve.push($e),se.push($e),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,se)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ve))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),St)for(let mt=0;mt<Q.length;mt++){t.bindFramebuffer(n.FRAMEBUFFER,Mt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+mt,n.RENDERBUFFER,Mt.__webglColorRenderbuffer[mt]);const en=i.get(Q[mt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Mt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+mt,n.TEXTURE_2D,en,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Mt.__webglMultisampledFramebuffer)}else J.depthBuffer&&!1===J.resolveDepthBuffer&&l&&n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT])},this.setupDepthRenderbuffer=Te,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=wt}function kMe(n,e){return{convert:function t(i,r=""){let s;const o=qi.getTransfer(r);if(i===Ed)return n.UNSIGNED_BYTE;if(i===QP)return n.UNSIGNED_SHORT_4_4_4_4;if(i===GP)return n.UNSIGNED_SHORT_5_5_5_1;if(i===u$)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===l$)return n.BYTE;if(i===c$)return n.SHORT;if(i===Kw)return n.UNSIGNED_SHORT;if(i===VP)return n.INT;if(i===uf)return n.UNSIGNED_INT;if(i===Yl)return n.FLOAT;if(i===qw)return n.HALF_FLOAT;if(i===h$)return n.ALPHA;if(i===d$)return n.RGB;if(i===fl)return n.RGBA;if(i===A$)return n.LUMINANCE;if(i===f$)return n.LUMINANCE_ALPHA;if(i===d0)return n.DEPTH_COMPONENT;if(i===A0)return n.DEPTH_STENCIL;if(i===zP)return n.RED;if(i===qT)return n.RED_INTEGER;if(i===p$)return n.RG;if(i===jP)return n.RG_INTEGER;if(i===WP)return n.RGBA_INTEGER;if(i===XT||i===YT||i===JT||i===ZT)if(o===Dr){if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===s)return null;if(i===XT)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===YT)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===JT)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===ZT)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(s=e.get("WEBGL_compressed_texture_s3tc"),null===s)return null;if(i===XT)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===YT)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===JT)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===ZT)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(i===$P||i===KP||i===qP||i===XP){if(s=e.get("WEBGL_compressed_texture_pvrtc"),null===s)return null;if(i===$P)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===KP)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===qP)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===XP)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(i===YP||i===JP||i===ZP){if(s=e.get("WEBGL_compressed_texture_etc"),null===s)return null;if(i===YP||i===JP)return o===Dr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===ZP)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}if(i===eL||i===tL||i===nL||i===iL||i===rL||i===sL||i===oL||i===aL||i===lL||i===cL||i===uL||i===hL||i===dL||i===AL){if(s=e.get("WEBGL_compressed_texture_astc"),null===s)return null;if(i===eL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===tL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===nL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===iL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===rL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===sL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===oL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===aL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===lL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===cL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===uL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===hL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===dL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===AL)return o===Dr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}if(i===e2||i===fL||i===pL){if(s=e.get("EXT_texture_compression_bptc"),null===s)return null;if(i===e2)return o===Dr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===fL)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===pL)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(i===g$||i===gL||i===mL||i===_L){if(s=e.get("EXT_texture_compression_rgtc"),null===s)return null;if(i===e2)return s.COMPRESSED_RED_RGTC1_EXT;if(i===gL)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===mL)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===_L)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return i===h0?n.UNSIGNED_INT_24_8:void 0!==n[i]?n[i]:null}}}const HMe={type:"move"};class q5{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new hb,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new hb,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new de,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new de),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new hb,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new de,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new de),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){o=!0;for(const _ of e.hand.values()){const y=t.getJointPose(_,i),m=this._getHandJoint(c,_);null!==y&&(m.matrix.fromArray(y.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=y.radius),m.visible=null!==y}const A=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),d=.02,f=.005;c.inputState.pinching&&A>d+f?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&A<=d-f&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(HMe)))}return null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new hb;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class GMe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(null===this.texture){const r=new pl;e.properties.get(r).__webglTexture=t.texture,(t.depthNear!=i.depthNear||t.depthFar!=i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,i=new Eh({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Hs(new mb(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class zMe extends Td{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,A=null,d=null,f=null;const _=new GMe,y=t.getContextAttributes();let m=null,S=null;const x=[],M=[],L=new At;let U=null;const P=new $o;P.viewport=new rr;const N=new $o;N.viewport=new rr;const R=[P,N],F=new cEe;let I=null,k=null;function X(j){const le=M.indexOf(j.inputSource);if(-1===le)return;const ve=x[le];void 0!==ve&&(ve.update(j.inputSource,j.frame,c||o),ve.dispatchEvent({type:j.type,data:j.inputSource}))}function Y(){r.removeEventListener("select",X),r.removeEventListener("selectstart",X),r.removeEventListener("selectend",X),r.removeEventListener("squeeze",X),r.removeEventListener("squeezestart",X),r.removeEventListener("squeezeend",X),r.removeEventListener("end",Y),r.removeEventListener("inputsourceschange",ge);for(let j=0;j<x.length;j++){const le=M[j];null!==le&&(M[j]=null,x[j].disconnect(le))}I=null,k=null,_.reset(),e.setRenderTarget(m),d=null,A=null,h=null,r=null,S=null,oe.stop(),i.isPresenting=!1,e.setPixelRatio(U),e.setSize(L.width,L.height,!1),i.dispatchEvent({type:"sessionend"})}function ge(j){for(let le=0;le<j.removed.length;le++){const ve=j.removed[le],me=M.indexOf(ve);me>=0&&(M[me]=null,x[me].disconnect(ve))}for(let le=0;le<j.added.length;le++){const ve=j.added[le];let me=M.indexOf(ve);if(-1===me){for(let Te=0;Te<x.length;Te++){if(Te>=M.length){M.push(ve),me=Te;break}if(null===M[Te]){M[Te]=ve,me=Te;break}}if(-1===me)break}const be=x[me];be&&be.connect(ve)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(j){let le=x[j];return void 0===le&&(le=new q5,x[j]=le),le.getTargetRaySpace()},this.getControllerGrip=function(j){let le=x[j];return void 0===le&&(le=new q5,x[j]=le),le.getGripSpace()},this.getHand=function(j){let le=x[j];return void 0===le&&(le=new q5,x[j]=le),le.getHandSpace()},this.setFramebufferScaleFactor=function(j){s=j,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(j){a=j,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(j){c=j},this.getBaseLayer=function(){return null!==A?A:d},this.getBinding=function(){return h},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=function(){var j=(0,vt.A)(function*(le){if(r=le,null!==r){if(m=e.getRenderTarget(),r.addEventListener("select",X),r.addEventListener("selectstart",X),r.addEventListener("selectend",X),r.addEventListener("squeeze",X),r.addEventListener("squeezestart",X),r.addEventListener("squeezeend",X),r.addEventListener("end",Y),r.addEventListener("inputsourceschange",ge),!0!==y.xrCompatible&&(yield t.makeXRCompatible()),U=e.getPixelRatio(),e.getSize(L),void 0===r.renderState.layers)d=new XRWebGLLayer(r,t,{antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),S=new Sh(d.framebufferWidth,d.framebufferHeight,{format:fl,type:Ed,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil});else{let ve=null,me=null,be=null;y.depth&&(be=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ve=y.stencil?A0:d0,me=y.stencil?h0:uf);const Te={colorFormat:t.RGBA8,depthFormat:be,scaleFactor:s};h=new XRWebGLBinding(r,t),A=h.createProjectionLayer(Te),r.updateRenderState({layers:[A]}),e.setPixelRatio(1),e.setSize(A.textureWidth,A.textureHeight,!1),S=new Sh(A.textureWidth,A.textureHeight,{format:fl,type:Ed,depthTexture:new fK(A.textureWidth,A.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:!1===A.ignoreDepthValues})}S.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=yield r.requestReferenceSpace(a),oe.setContext(r),oe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(le){return j.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return _.getDepthTexture()};const Z=new de,ue=new de;function ye(j,le){null===le?j.matrixWorld.copy(j.matrix):j.matrixWorld.multiplyMatrices(le.matrixWorld,j.matrix),j.matrixWorldInverse.copy(j.matrixWorld).invert()}this.updateCamera=function(j){if(null===r)return;let le=j.near,ve=j.far;null!==_.texture&&(_.depthNear>0&&(le=_.depthNear),_.depthFar>0&&(ve=_.depthFar)),F.near=N.near=P.near=le,F.far=N.far=P.far=ve,(I!==F.near||k!==F.far)&&(r.updateRenderState({depthNear:F.near,depthFar:F.far}),I=F.near,k=F.far),P.layers.mask=2|j.layers.mask,N.layers.mask=4|j.layers.mask,F.layers.mask=P.layers.mask|N.layers.mask;const me=j.parent,be=F.cameras;ye(F,me);for(let Te=0;Te<be.length;Te++)ye(be[Te],me);2===be.length?function te(j,le,ve){Z.setFromMatrixPosition(le.matrixWorld),ue.setFromMatrixPosition(ve.matrixWorld);const me=Z.distanceTo(ue),be=le.projectionMatrix.elements,Te=ve.projectionMatrix.elements,rt=be[14]/(be[10]-1),lt=be[14]/(be[10]+1),Le=(be[9]+1)/be[5],Ve=(be[9]-1)/be[5],se=(be[8]-1)/be[0],Oe=(Te[8]+1)/Te[0],ne=rt*se,wt=rt*Oe,tt=me/(-se+Oe),it=tt*-se;if(le.matrixWorld.decompose(j.position,j.quaternion,j.scale),j.translateX(it),j.translateZ(tt),j.matrixWorld.compose(j.position,j.quaternion,j.scale),j.matrixWorldInverse.copy(j.matrixWorld).invert(),-1===be[10])j.projectionMatrix.copy(le.projectionMatrix),j.projectionMatrixInverse.copy(le.projectionMatrixInverse);else{const We=rt+tt,J=lt+tt;j.projectionMatrix.makePerspective(ne-it,wt+(me-it),Le*lt/J*We,Ve*lt/J*We,We,J),j.projectionMatrixInverse.copy(j.projectionMatrix).invert()}}(F,P,N):F.projectionMatrix.copy(P.projectionMatrix),function Ce(j,le,ve){null===ve?j.matrix.copy(le.matrixWorld):(j.matrix.copy(ve.matrixWorld),j.matrix.invert(),j.matrix.multiply(le.matrixWorld)),j.matrix.decompose(j.position,j.quaternion,j.scale),j.updateMatrixWorld(!0),j.projectionMatrix.copy(le.projectionMatrix),j.projectionMatrixInverse.copy(le.projectionMatrixInverse),j.isPerspectiveCamera&&(j.fov=2*_0*Math.atan(1/j.projectionMatrix.elements[5]),j.zoom=1)}(j,F,me)},this.getCamera=function(){return F},this.getFoveation=function(){if(null!==A||null!==d)return l},this.setFoveation=function(j){l=j,null!==A&&(A.fixedFoveation=j),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=j)},this.hasDepthSensing=function(){return null!==_.texture},this.getDepthSensingMesh=function(){return _.getMesh(F)};let qe=null;const oe=new fq;oe.setAnimationLoop(function V(j,le){if(u=le.getViewerPose(c||o),f=le,null!==u){const ve=u.views;null!==d&&(e.setRenderTargetFramebuffer(S,d.framebuffer),e.setRenderTarget(S));let me=!1;ve.length!==F.cameras.length&&(F.cameras.length=0,me=!0);for(let Te=0;Te<ve.length;Te++){const rt=ve[Te];let lt=null;if(null!==d)lt=d.getViewport(rt);else{const Ve=h.getViewSubImage(A,rt);lt=Ve.viewport,0===Te&&(e.setRenderTargetTextures(S,Ve.colorTexture,A.ignoreDepthValues?void 0:Ve.depthStencilTexture),e.setRenderTarget(S))}let Le=R[Te];void 0===Le&&(Le=new $o,Le.layers.enable(Te),Le.viewport=new rr,R[Te]=Le),Le.matrix.fromArray(rt.transform.matrix),Le.matrix.decompose(Le.position,Le.quaternion,Le.scale),Le.projectionMatrix.fromArray(rt.projectionMatrix),Le.projectionMatrixInverse.copy(Le.projectionMatrix).invert(),Le.viewport.set(lt.x,lt.y,lt.width,lt.height),0===Te&&(F.matrix.copy(Le.matrix),F.matrix.decompose(F.position,F.quaternion,F.scale)),!0===me&&F.cameras.push(Le)}const be=r.enabledFeatures;if(be&&be.includes("depth-sensing")){const Te=h.getDepthInformation(ve[0]);Te&&Te.isValid&&Te.texture&&_.init(e,Te,r.renderState)}}for(let ve=0;ve<x.length;ve++){const me=M[ve],be=x[ve];null!==me&&void 0!==be&&be.update(me,le,c||o)}qe&&qe(j,le),le.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:le}),f=null}),this.setAnimationLoop=function(j){qe=j},this.dispose=function(){}}}const Ng=new Id,jMe=new Wn;function WMe(n,e){function t(y,m){!0===y.matrixAutoUpdate&&y.updateMatrix(),m.value.copy(y.matrix)}function s(y,m){y.opacity.value=m.opacity,m.color&&y.diffuse.value.copy(m.color),m.emissive&&y.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(y.map.value=m.map,t(m.map,y.mapTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,t(m.alphaMap,y.alphaMapTransform)),m.bumpMap&&(y.bumpMap.value=m.bumpMap,t(m.bumpMap,y.bumpMapTransform),y.bumpScale.value=m.bumpScale,1===m.side&&(y.bumpScale.value*=-1)),m.normalMap&&(y.normalMap.value=m.normalMap,t(m.normalMap,y.normalMapTransform),y.normalScale.value.copy(m.normalScale),1===m.side&&y.normalScale.value.negate()),m.displacementMap&&(y.displacementMap.value=m.displacementMap,t(m.displacementMap,y.displacementMapTransform),y.displacementScale.value=m.displacementScale,y.displacementBias.value=m.displacementBias),m.emissiveMap&&(y.emissiveMap.value=m.emissiveMap,t(m.emissiveMap,y.emissiveMapTransform)),m.specularMap&&(y.specularMap.value=m.specularMap,t(m.specularMap,y.specularMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest);const S=e.get(m),x=S.envMap,M=S.envMapRotation;x&&(y.envMap.value=x,Ng.copy(M),Ng.x*=-1,Ng.y*=-1,Ng.z*=-1,x.isCubeTexture&&!1===x.isRenderTargetTexture&&(Ng.y*=-1,Ng.z*=-1),y.envMapRotation.value.setFromMatrix4(jMe.makeRotationFromEuler(Ng)),y.flipEnvMap.value=x.isCubeTexture&&!1===x.isRenderTargetTexture?-1:1,y.reflectivity.value=m.reflectivity,y.ior.value=m.ior,y.refractionRatio.value=m.refractionRatio),m.lightMap&&(y.lightMap.value=m.lightMap,y.lightMapIntensity.value=m.lightMapIntensity,t(m.lightMap,y.lightMapTransform)),m.aoMap&&(y.aoMap.value=m.aoMap,y.aoMapIntensity.value=m.aoMapIntensity,t(m.aoMap,y.aoMapTransform))}return{refreshFogUniforms:function i(y,m){m.color.getRGB(y.fogColor.value,Q$(n)),m.isFog?(y.fogNear.value=m.near,y.fogFar.value=m.far):m.isFogExp2&&(y.fogDensity.value=m.density)},refreshMaterialUniforms:function r(y,m,S,x,M){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(y,m):m.isMeshToonMaterial?(s(y,m),function h(y,m){m.gradientMap&&(y.gradientMap.value=m.gradientMap)}(y,m)):m.isMeshPhongMaterial?(s(y,m),function u(y,m){y.specular.value.copy(m.specular),y.shininess.value=Math.max(m.shininess,1e-4)}(y,m)):m.isMeshStandardMaterial?(s(y,m),function A(y,m){y.metalness.value=m.metalness,m.metalnessMap&&(y.metalnessMap.value=m.metalnessMap,t(m.metalnessMap,y.metalnessMapTransform)),y.roughness.value=m.roughness,m.roughnessMap&&(y.roughnessMap.value=m.roughnessMap,t(m.roughnessMap,y.roughnessMapTransform)),m.envMap&&(y.envMapIntensity.value=m.envMapIntensity)}(y,m),m.isMeshPhysicalMaterial&&function d(y,m,S){y.ior.value=m.ior,m.sheen>0&&(y.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),y.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(y.sheenColorMap.value=m.sheenColorMap,t(m.sheenColorMap,y.sheenColorMapTransform)),m.sheenRoughnessMap&&(y.sheenRoughnessMap.value=m.sheenRoughnessMap,t(m.sheenRoughnessMap,y.sheenRoughnessMapTransform))),m.clearcoat>0&&(y.clearcoat.value=m.clearcoat,y.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(y.clearcoatMap.value=m.clearcoatMap,t(m.clearcoatMap,y.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,t(m.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(y.clearcoatNormalMap.value=m.clearcoatNormalMap,t(m.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),1===m.side&&y.clearcoatNormalScale.value.negate())),m.dispersion>0&&(y.dispersion.value=m.dispersion),m.iridescence>0&&(y.iridescence.value=m.iridescence,y.iridescenceIOR.value=m.iridescenceIOR,y.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(y.iridescenceMap.value=m.iridescenceMap,t(m.iridescenceMap,y.iridescenceMapTransform)),m.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=m.iridescenceThicknessMap,t(m.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),m.transmission>0&&(y.transmission.value=m.transmission,y.transmissionSamplerMap.value=S.texture,y.transmissionSamplerSize.value.set(S.width,S.height),m.transmissionMap&&(y.transmissionMap.value=m.transmissionMap,t(m.transmissionMap,y.transmissionMapTransform)),y.thickness.value=m.thickness,m.thicknessMap&&(y.thicknessMap.value=m.thicknessMap,t(m.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=m.attenuationDistance,y.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(y.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(y.anisotropyMap.value=m.anisotropyMap,t(m.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=m.specularIntensity,y.specularColor.value.copy(m.specularColor),m.specularColorMap&&(y.specularColorMap.value=m.specularColorMap,t(m.specularColorMap,y.specularColorMapTransform)),m.specularIntensityMap&&(y.specularIntensityMap.value=m.specularIntensityMap,t(m.specularIntensityMap,y.specularIntensityMapTransform))}(y,m,M)):m.isMeshMatcapMaterial?(s(y,m),function f(y,m){m.matcap&&(y.matcap.value=m.matcap)}(y,m)):m.isMeshDepthMaterial?s(y,m):m.isMeshDistanceMaterial?(s(y,m),function _(y,m){const S=e.get(m).light;y.referencePosition.value.setFromMatrixPosition(S.matrixWorld),y.nearDistance.value=S.shadow.camera.near,y.farDistance.value=S.shadow.camera.far}(y,m)):m.isMeshNormalMaterial?s(y,m):m.isLineBasicMaterial?(function o(y,m){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,m.map&&(y.map.value=m.map,t(m.map,y.mapTransform))}(y,m),m.isLineDashedMaterial&&function a(y,m){y.dashSize.value=m.dashSize,y.totalSize.value=m.dashSize+m.gapSize,y.scale.value=m.scale}(y,m)):m.isPointsMaterial?function l(y,m,S,x){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,y.size.value=m.size*S,y.scale.value=.5*x,m.map&&(y.map.value=m.map,t(m.map,y.uvTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,t(m.alphaMap,y.alphaMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest)}(y,m,S,x):m.isSpriteMaterial?function c(y,m){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,y.rotation.value=m.rotation,m.map&&(y.map.value=m.map,t(m.map,y.mapTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,t(m.alphaMap,y.alphaMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest)}(y,m):m.isShadowMaterial?(y.color.value.copy(m.color),y.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}}}function $Me(n,e,t,i){let r={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function d(S,x,M,L){const U=S.value,P=x+"_"+M;if(void 0===L[P])return L[P]="number"==typeof U||"boolean"==typeof U?U:U.clone(),!0;{const N=L[P];if("number"==typeof U||"boolean"==typeof U){if(N!==U)return L[P]=U,!0}else if(!1===N.equals(U))return N.copy(U),!0}return!1}function _(S){const x={boundary:0,storage:0};return"number"==typeof S||"boolean"==typeof S?(x.boundary=4,x.storage=4):S.isVector2?(x.boundary=8,x.storage=8):S.isVector3||S.isColor?(x.boundary=16,x.storage=12):S.isVector4?(x.boundary=16,x.storage=16):S.isMatrix3?(x.boundary=48,x.storage=48):S.isMatrix4?(x.boundary=64,x.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),x}function y(S){const x=S.target;x.removeEventListener("dispose",y);const M=o.indexOf(x.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(r[x.id]),delete r[x.id],delete s[x.id]}return{bind:function l(S,x){i.uniformBlockBinding(S,x.program)},update:function c(S,x){let M=r[S.id];void 0===M&&(function f(S){const x=S.uniforms;let M=0;for(let P=0,N=x.length;P<N;P++){const R=Array.isArray(x[P])?x[P]:[x[P]];for(let F=0,I=R.length;F<I;F++){const k=R[F],X=Array.isArray(k.value)?k.value:[k.value];for(let Y=0,ge=X.length;Y<ge;Y++){const ue=_(X[Y]),te=M%16,ye=te%ue.boundary,Ce=te+ye;M+=ye,0!==Ce&&16-Ce<ue.storage&&(M+=16-Ce),k.__data=new Float32Array(ue.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=M,M+=ue.storage}}}const U=M%16;U>0&&(M+=16-U),S.__size=M,S.__cache={}}(S),M=function u(S){const x=function h(){for(let S=0;S<a;S++)if(-1===o.indexOf(S))return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();S.__bindingPointIndex=x;const M=n.createBuffer(),L=S.__size,U=S.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,L,U),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,x,M),M}(S),r[S.id]=M,S.addEventListener("dispose",y)),i.updateUBOMapping(S,x.program);const U=e.render.frame;s[S.id]!==U&&(function A(S){const M=S.uniforms,L=S.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[S.id]);for(let U=0,P=M.length;U<P;U++){const N=Array.isArray(M[U])?M[U]:[M[U]];for(let R=0,F=N.length;R<F;R++){const I=N[R];if(!0===d(I,U,R,L)){const k=I.__offset,X=Array.isArray(I.value)?I.value:[I.value];let Y=0;for(let ge=0;ge<X.length;ge++){const Z=X[ge],ue=_(Z);"number"==typeof Z||"boolean"==typeof Z?(I.__data[0]=Z,n.bufferSubData(n.UNIFORM_BUFFER,k+Y,I.__data)):Z.isMatrix3?(I.__data[0]=Z.elements[0],I.__data[1]=Z.elements[1],I.__data[2]=Z.elements[2],I.__data[3]=0,I.__data[4]=Z.elements[3],I.__data[5]=Z.elements[4],I.__data[6]=Z.elements[5],I.__data[7]=0,I.__data[8]=Z.elements[6],I.__data[9]=Z.elements[7],I.__data[10]=Z.elements[8],I.__data[11]=0):(Z.toArray(I.__data,Y),Y+=ue.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,k,I.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(S),s[S.id]=U)},dispose:function m(){for(const S in r)n.deleteBuffer(r[S]);o=[],r={},s={}}}}class KMe{constructor(e={}){const{canvas:t=cCe(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1,reverseDepthBuffer:A=!1}=e;let d;if(this.isWebGLRenderer=!0,null!==i){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=i.getContextAttributes().alpha}else d=o;const f=new Uint32Array(4),_=new Int32Array(4);let y=null,m=null;const S=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Jl,this.toneMapping=lf,this.toneMappingExposure=1;const M=this;let L=!1,U=0,P=0,N=null,R=-1,F=null;const I=new rr,k=new rr;let X=null;const Y=new sn(0);let ge=0,Z=t.width,ue=t.height,te=1,ye=null,Ce=null;const qe=new rr(0,0,Z,ue),V=new rr(0,0,Z,ue);let oe=!1;const j=new I2;let le=!1,ve=!1;const me=new Wn,be=new Wn,Te=new de,rt=new rr,lt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Le=!1;function Ve(){return null===N?te:1}let ne,wt,tt,it,We,J,Q,Se,Qe,nt,$e,Mt,St,mt,en,Ge,jt,Gt,wn,Ot,_n,Nn,bn,Ne,se=i;function Oe(re,Fe){return t.getContext(re,Fe)}try{const re={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r171"),t.addEventListener("webglcontextlost",ft,!1),t.addEventListener("webglcontextrestored",Nt,!1),t.addEventListener("webglcontextcreationerror",gt,!1),null===se){const Fe="webgl2";if(se=Oe(Fe,re),null===se)throw Oe(Fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(re){throw console.error("THREE.WebGLRenderer: "+re.message),re}function Dt(){ne=new i2e(se),ne.init(),Nn=new kMe(se,ne),wt=new YTe(se,ne,e,Nn),tt=new LMe(se,ne),wt.reverseDepthBuffer&&A&&tt.buffers.depth.setReversed(!0),it=new o2e(se),We=new SMe,J=new UMe(se,ne,tt,We,wt,Nn,it),Q=new ZTe(M),Se=new n2e(M),Qe=new $Ee(se),bn=new qTe(se,Qe),nt=new r2e(se,Qe,it,bn),$e=new l2e(se,nt,Qe,it),wn=new a2e(se,wt,J),Ge=new JTe(We),Mt=new CMe(M,Q,Se,ne,wt,bn,Ge),St=new WMe(M,We),mt=new xMe,en=new NMe(ne),Gt=new KTe(M,Q,Se,tt,$e,d,l),jt=new OMe(M,$e,wt),Ne=new $Me(se,it,wt,tt),Ot=new XTe(se,ne,it),_n=new s2e(se,ne,it),it.programs=Mt.programs,M.capabilities=wt,M.extensions=ne,M.properties=We,M.renderLists=mt,M.shadowMap=jt,M.state=tt,M.info=it}Dt();const ot=new zMe(M,se);function ft(re){re.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function Nt(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1;const re=it.autoReset,Fe=jt.enabled,Ye=jt.autoUpdate,Ze=jt.needsUpdate,Ue=jt.type;Dt(),it.autoReset=re,jt.enabled=Fe,jt.autoUpdate=Ye,jt.needsUpdate=Ze,jt.type=Ue}function gt(re){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",re.statusMessage)}function tn(re){const Fe=re.target;Fe.removeEventListener("dispose",tn),function mr(re){(function Hi(re){const Fe=We.get(re).programs;void 0!==Fe&&(Fe.forEach(function(Ye){Mt.releaseProgram(Ye)}),re.isShaderMaterial&&Mt.releaseShaderCache(re))})(re),We.remove(re)}(Fe)}function pi(re,Fe,Ye){!0===re.transparent&&2===re.side&&!1===re.forceSinglePass?(re.side=1,re.needsUpdate=!0,ma(re,Fe,Ye),re.side=0,re.needsUpdate=!0,ma(re,Fe,Ye),re.side=2):ma(re,Fe,Ye)}this.xr=ot,this.getContext=function(){return se},this.getContextAttributes=function(){return se.getContextAttributes()},this.forceContextLoss=function(){const re=ne.get("WEBGL_lose_context");re&&re.loseContext()},this.forceContextRestore=function(){const re=ne.get("WEBGL_lose_context");re&&re.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(re){void 0!==re&&(te=re,this.setSize(Z,ue,!1))},this.getSize=function(re){return re.set(Z,ue)},this.setSize=function(re,Fe,Ye=!0){ot.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Z=re,ue=Fe,t.width=Math.floor(re*te),t.height=Math.floor(Fe*te),!0===Ye&&(t.style.width=re+"px",t.style.height=Fe+"px"),this.setViewport(0,0,re,Fe))},this.getDrawingBufferSize=function(re){return re.set(Z*te,ue*te).floor()},this.setDrawingBufferSize=function(re,Fe,Ye){Z=re,ue=Fe,te=Ye,t.width=Math.floor(re*Ye),t.height=Math.floor(Fe*Ye),this.setViewport(0,0,re,Fe)},this.getCurrentViewport=function(re){return re.copy(I)},this.getViewport=function(re){return re.copy(qe)},this.setViewport=function(re,Fe,Ye,Ze){re.isVector4?qe.set(re.x,re.y,re.z,re.w):qe.set(re,Fe,Ye,Ze),tt.viewport(I.copy(qe).multiplyScalar(te).round())},this.getScissor=function(re){return re.copy(V)},this.setScissor=function(re,Fe,Ye,Ze){re.isVector4?V.set(re.x,re.y,re.z,re.w):V.set(re,Fe,Ye,Ze),tt.scissor(k.copy(V).multiplyScalar(te).round())},this.getScissorTest=function(){return oe},this.setScissorTest=function(re){tt.setScissorTest(oe=re)},this.setOpaqueSort=function(re){ye=re},this.setTransparentSort=function(re){Ce=re},this.getClearColor=function(re){return re.copy(Gt.getClearColor())},this.setClearColor=function(){Gt.setClearColor.apply(Gt,arguments)},this.getClearAlpha=function(){return Gt.getClearAlpha()},this.setClearAlpha=function(){Gt.setClearAlpha.apply(Gt,arguments)},this.clear=function(re=!0,Fe=!0,Ye=!0){let Ze=0;if(re){let Ue=!1;if(null!==N){const Bt=N.texture.format;Ue=Bt===WP||Bt===jP||Bt===qT}if(Ue){const Bt=N.texture.type,zt=Bt===Ed||Bt===uf||Bt===Kw||Bt===h0||Bt===QP||Bt===GP,on=Gt.getClearColor(),an=Gt.getClearAlpha(),Rn=on.r,Gn=on.g,Cn=on.b;zt?(f[0]=Rn,f[1]=Gn,f[2]=Cn,f[3]=an,se.clearBufferuiv(se.COLOR,0,f)):(_[0]=Rn,_[1]=Gn,_[2]=Cn,_[3]=an,se.clearBufferiv(se.COLOR,0,_))}else Ze|=se.COLOR_BUFFER_BIT}Fe&&(Ze|=se.DEPTH_BUFFER_BIT),Ye&&(Ze|=se.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),se.clear(Ze)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ft,!1),t.removeEventListener("webglcontextrestored",Nt,!1),t.removeEventListener("webglcontextcreationerror",gt,!1),Gt.dispose(),mt.dispose(),en.dispose(),We.dispose(),Q.dispose(),Se.dispose(),$e.dispose(),bn.dispose(),Ne.dispose(),Mt.dispose(),ot.dispose(),ot.removeEventListener("sessionstart",wl),ot.removeEventListener("sessionend",ic),bs.stop()},this.renderBufferDirect=function(re,Fe,Ye,Ze,Ue,Bt){null===Fe&&(Fe=lt);const zt=Ue.isMesh&&Ue.matrixWorld.determinant()<0,on=function Uc(re,Fe,Ye,Ze,Ue){!0!==Fe.isScene&&(Fe=lt),J.resetTextureUnits();const Bt=Fe.fog,on=null===N?M.outputColorSpace:!0===N.isXRRenderTarget?N.texture.colorSpace:g0,an=(Ze.isMeshStandardMaterial?Se:Q).get(Ze.envMap||(Ze.isMeshStandardMaterial?Fe.environment:null)),Rn=!0===Ze.vertexColors&&!!Ye.attributes.color&&4===Ye.attributes.color.itemSize,Gn=!!Ye.attributes.tangent&&(!!Ze.normalMap||Ze.anisotropy>0),Cn=!!Ye.morphAttributes.position,vi=!!Ye.morphAttributes.normal,Di=!!Ye.morphAttributes.color;let Ur=lf;Ze.toneMapped&&(null===N||!0===N.isXRRenderTarget)&&(Ur=M.toneMapping);const Zn=Ye.morphAttributes.position||Ye.morphAttributes.normal||Ye.morphAttributes.color,Ti=void 0!==Zn?Zn.length:0,Sn=We.get(Ze),Cs=m.state.lights;!0!==le||!0!==ve&&re===F||Ge.setState(Ze,re,re===F&&Ze.id===R);let Bi=!1;Ze.version===Sn.__version?(Sn.needsLights&&Sn.lightsStateVersion!==Cs.state.version||Sn.outputColorSpace!==on||Ue.isBatchedMesh&&!1===Sn.batching||!Ue.isBatchedMesh&&!0===Sn.batching||Ue.isBatchedMesh&&!0===Sn.batchingColor&&null===Ue.colorTexture||Ue.isBatchedMesh&&!1===Sn.batchingColor&&null!==Ue.colorTexture||Ue.isInstancedMesh&&!1===Sn.instancing||!Ue.isInstancedMesh&&!0===Sn.instancing||Ue.isSkinnedMesh&&!1===Sn.skinning||!Ue.isSkinnedMesh&&!0===Sn.skinning||Ue.isInstancedMesh&&!0===Sn.instancingColor&&null===Ue.instanceColor||Ue.isInstancedMesh&&!1===Sn.instancingColor&&null!==Ue.instanceColor||Ue.isInstancedMesh&&!0===Sn.instancingMorph&&null===Ue.morphTexture||Ue.isInstancedMesh&&!1===Sn.instancingMorph&&null!==Ue.morphTexture||Sn.envMap!==an||!0===Ze.fog&&Sn.fog!==Bt||void 0!==Sn.numClippingPlanes&&(Sn.numClippingPlanes!==Ge.numPlanes||Sn.numIntersection!==Ge.numIntersection)||Sn.vertexAlphas!==Rn||Sn.vertexTangents!==Gn||Sn.morphTargets!==Cn||Sn.morphNormals!==vi||Sn.morphColors!==Di||Sn.toneMapping!==Ur||Sn.morphTargetsCount!==Ti)&&(Bi=!0):(Bi=!0,Sn.__version=Ze.version);let Wa=Sn.currentProgram;!0===Bi&&(Wa=ma(Ze,Fe,Ue));let Io=!1,to=!1,no=!1;const _r=Wa.getUniforms(),Ko=Sn.uniforms;if(tt.useProgram(Wa.program)&&(Io=!0,to=!0,no=!0),Ze.id!==R&&(R=Ze.id,to=!0),Io||F!==re){tt.buffers.depth.getReversed()?(me.copy(re.projectionMatrix),function hCe(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}(me),function dCe(n){const e=n.elements;-1===e[11]?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=1-e[14])}(me),_r.setValue(se,"projectionMatrix",me)):_r.setValue(se,"projectionMatrix",re.projectionMatrix),_r.setValue(se,"viewMatrix",re.matrixWorldInverse);const No=_r.map.cameraPosition;void 0!==No&&No.setValue(se,Te.setFromMatrixPosition(re.matrixWorld)),wt.logarithmicDepthBuffer&&_r.setValue(se,"logDepthBufFC",2/(Math.log(re.far+1)/Math.LN2)),(Ze.isMeshPhongMaterial||Ze.isMeshToonMaterial||Ze.isMeshLambertMaterial||Ze.isMeshBasicMaterial||Ze.isMeshStandardMaterial||Ze.isShaderMaterial)&&_r.setValue(se,"isOrthographic",!0===re.isOrthographicCamera),F!==re&&(F=re,to=!0,no=!0)}if(Ue.isSkinnedMesh){_r.setOptional(se,Ue,"bindMatrix"),_r.setOptional(se,Ue,"bindMatrixInverse");const io=Ue.skeleton;io&&(null===io.boneTexture&&io.computeBoneTexture(),_r.setValue(se,"boneTexture",io.boneTexture,J))}Ue.isBatchedMesh&&(_r.setOptional(se,Ue,"batchingTexture"),_r.setValue(se,"batchingTexture",Ue._matricesTexture,J),_r.setOptional(se,Ue,"batchingIdTexture"),_r.setValue(se,"batchingIdTexture",Ue._indirectTexture,J),_r.setOptional(se,Ue,"batchingColorTexture"),null!==Ue._colorsTexture&&_r.setValue(se,"batchingColorTexture",Ue._colorsTexture,J));const _a=Ye.morphAttributes;if((void 0!==_a.position||void 0!==_a.normal||void 0!==_a.color)&&wn.update(Ue,Ye,Wa),(to||Sn.receiveShadow!==Ue.receiveShadow)&&(Sn.receiveShadow=Ue.receiveShadow,_r.setValue(se,"receiveShadow",Ue.receiveShadow)),Ze.isMeshGouraudMaterial&&null!==Ze.envMap&&(Ko.envMap.value=an,Ko.flipEnvMap.value=an.isCubeTexture&&!1===an.isRenderTargetTexture?-1:1),Ze.isMeshStandardMaterial&&null===Ze.envMap&&null!==Fe.environment&&(Ko.envMapIntensity.value=Fe.environmentIntensity),to&&(_r.setValue(se,"toneMappingExposure",M.toneMappingExposure),Sn.needsLights&&function Sl(re,Fe){re.ambientLightColor.needsUpdate=Fe,re.lightProbe.needsUpdate=Fe,re.directionalLights.needsUpdate=Fe,re.directionalLightShadows.needsUpdate=Fe,re.pointLights.needsUpdate=Fe,re.pointLightShadows.needsUpdate=Fe,re.spotLights.needsUpdate=Fe,re.spotLightShadows.needsUpdate=Fe,re.rectAreaLights.needsUpdate=Fe,re.hemisphereLights.needsUpdate=Fe}(Ko,no),Bt&&!0===Ze.fog&&St.refreshFogUniforms(Ko,Bt),St.refreshMaterialUniforms(Ko,Ze,te,ue,m.state.transmissionRenderTarget[re.id]),pM.upload(se,bl(Sn),Ko,J)),Ze.isShaderMaterial&&!0===Ze.uniformsNeedUpdate&&(pM.upload(se,bl(Sn),Ko,J),Ze.uniformsNeedUpdate=!1),Ze.isSpriteMaterial&&_r.setValue(se,"center",Ue.center),_r.setValue(se,"modelViewMatrix",Ue.modelViewMatrix),_r.setValue(se,"normalMatrix",Ue.normalMatrix),_r.setValue(se,"modelMatrix",Ue.matrixWorld),Ze.isShaderMaterial||Ze.isRawShaderMaterial){const io=Ze.uniformsGroups;for(let No=0,Cf=io.length;No<Cf;No++){const Lu=io[No];Ne.update(Lu,Wa),Ne.bind(Lu,Wa)}}return Wa}(re,Fe,Ye,Ze,Ue);tt.setMaterial(Ze,zt);let an=Ye.index,Rn=1;if(!0===Ze.wireframe){if(an=nt.getWireframeAttribute(Ye),void 0===an)return;Rn=2}const Gn=Ye.drawRange,Cn=Ye.attributes.position;let vi=Gn.start*Rn,Di=(Gn.start+Gn.count)*Rn;null!==Bt&&(vi=Math.max(vi,Bt.start*Rn),Di=Math.min(Di,(Bt.start+Bt.count)*Rn)),null!==an?(vi=Math.max(vi,0),Di=Math.min(Di,an.count)):null!=Cn&&(vi=Math.max(vi,0),Di=Math.min(Di,Cn.count));const Ur=Di-vi;if(Ur<0||Ur===1/0)return;bn.setup(Ue,Ze,on,Ye,an);let Zn,Ti=Ot;if(null!==an&&(Zn=Qe.get(an),Ti=_n,Ti.setIndex(Zn)),Ue.isMesh)!0===Ze.wireframe?(tt.setLineWidth(Ze.wireframeLinewidth*Ve()),Ti.setMode(se.LINES)):Ti.setMode(se.TRIANGLES);else if(Ue.isLine){let Sn=Ze.linewidth;void 0===Sn&&(Sn=1),tt.setLineWidth(Sn*Ve()),Ti.setMode(Ue.isLineSegments?se.LINES:Ue.isLineLoop?se.LINE_LOOP:se.LINE_STRIP)}else Ue.isPoints?Ti.setMode(se.POINTS):Ue.isSprite&&Ti.setMode(se.TRIANGLES);if(Ue.isBatchedMesh)if(null!==Ue._multiDrawInstances)Ti.renderMultiDrawInstances(Ue._multiDrawStarts,Ue._multiDrawCounts,Ue._multiDrawCount,Ue._multiDrawInstances);else if(ne.get("WEBGL_multi_draw"))Ti.renderMultiDraw(Ue._multiDrawStarts,Ue._multiDrawCounts,Ue._multiDrawCount);else{const Sn=Ue._multiDrawStarts,Cs=Ue._multiDrawCounts,Bi=Ue._multiDrawCount,Wa=an?Qe.get(an).bytesPerElement:1,Io=We.get(Ze).currentProgram.getUniforms();for(let to=0;to<Bi;to++)Io.setValue(se,"_gl_DrawID",to),Ti.render(Sn[to]/Wa,Cs[to])}else if(Ue.isInstancedMesh)Ti.renderInstances(vi,Ur,Ue.count);else if(Ye.isInstancedBufferGeometry){const Cs=Math.min(Ye.instanceCount,void 0!==Ye._maxInstanceCount?Ye._maxInstanceCount:1/0);Ti.renderInstances(vi,Ur,Cs)}else Ti.render(vi,Ur)},this.compile=function(re,Fe,Ye=null){null===Ye&&(Ye=re),m=en.get(Ye),m.init(Fe),x.push(m),Ye.traverseVisible(function(Ue){Ue.isLight&&Ue.layers.test(Fe.layers)&&(m.pushLight(Ue),Ue.castShadow&&m.pushShadow(Ue))}),re!==Ye&&re.traverseVisible(function(Ue){Ue.isLight&&Ue.layers.test(Fe.layers)&&(m.pushLight(Ue),Ue.castShadow&&m.pushShadow(Ue))}),m.setupLights();const Ze=new Set;return re.traverse(function(Ue){if(!(Ue.isMesh||Ue.isPoints||Ue.isLine||Ue.isSprite))return;const Bt=Ue.material;if(Bt)if(Array.isArray(Bt))for(let zt=0;zt<Bt.length;zt++){const on=Bt[zt];pi(on,Ye,Ue),Ze.add(on)}else pi(Bt,Ye,Ue),Ze.add(Bt)}),x.pop(),m=null,Ze},this.compileAsync=function(re,Fe,Ye=null){const Ze=this.compile(re,Fe,Ye);return new Promise(Ue=>{function Bt(){Ze.forEach(function(zt){We.get(zt).currentProgram.isReady()&&Ze.delete(zt)}),0!==Ze.size?setTimeout(Bt,10):Ue(re)}null!==ne.get("KHR_parallel_shader_compile")?Bt():setTimeout(Bt,10)})};let ws=null;function wl(){bs.stop()}function ic(){bs.start()}const bs=new fq;function us(re,Fe,Ye,Ze){if(!1===re.visible)return;if(re.layers.test(Fe.layers))if(re.isGroup)Ye=re.renderOrder;else if(re.isLOD)!0===re.autoUpdate&&re.update(Fe);else if(re.isLight)m.pushLight(re),re.castShadow&&m.pushShadow(re);else if(re.isSprite){if(!re.frustumCulled||j.intersectsSprite(re)){Ze&&rt.setFromMatrixPosition(re.matrixWorld).applyMatrix4(be);const zt=$e.update(re),on=re.material;on.visible&&y.push(re,zt,on,Ye,rt.z,null)}}else if((re.isMesh||re.isLine||re.isPoints)&&(!re.frustumCulled||j.intersectsObject(re))){const zt=$e.update(re),on=re.material;if(Ze&&(void 0!==re.boundingSphere?(null===re.boundingSphere&&re.computeBoundingSphere(),rt.copy(re.boundingSphere.center)):(null===zt.boundingSphere&&zt.computeBoundingSphere(),rt.copy(zt.boundingSphere.center)),rt.applyMatrix4(re.matrixWorld).applyMatrix4(be)),Array.isArray(on)){const an=zt.groups;for(let Rn=0,Gn=an.length;Rn<Gn;Rn++){const Cn=an[Rn],vi=on[Cn.materialIndex];vi&&vi.visible&&y.push(re,zt,vi,Ye,rt.z,Cn)}}else on.visible&&y.push(re,zt,on,Ye,rt.z,null)}const Bt=re.children;for(let zt=0,on=Bt.length;zt<on;zt++)us(Bt[zt],Fe,Ye,Ze)}function hs(re,Fe,Ye,Ze){const Ue=re.opaque,Bt=re.transmissive,zt=re.transparent;m.setupLightsView(Ye),!0===le&&Ge.setGlobalState(M.clippingPlanes,Ye),Ze&&tt.viewport(I.copy(Ze)),Ue.length>0&&Pu(Ue,Fe,Ye),Bt.length>0&&Pu(Bt,Fe,Ye),zt.length>0&&Pu(zt,Fe,Ye),tt.buffers.depth.setTest(!0),tt.buffers.depth.setMask(!0),tt.buffers.color.setMask(!0),tt.setPolygonOffset(!1)}function ga(re,Fe,Ye,Ze){if(null!==(!0===Ye.isScene?Ye.overrideMaterial:null))return;void 0===m.state.transmissionRenderTarget[Ze.id]&&(m.state.transmissionRenderTarget[Ze.id]=new Sh(1,1,{generateMipmaps:!0,type:ne.has("EXT_color_buffer_half_float")||ne.has("EXT_color_buffer_float")?qw:Ed,minFilter:Sd,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:qi.workingColorSpace}));const Bt=m.state.transmissionRenderTarget[Ze.id],zt=Ze.viewport||I;Bt.setSize(zt.z,zt.w);const on=M.getRenderTarget();M.setRenderTarget(Bt),M.getClearColor(Y),ge=M.getClearAlpha(),ge<1&&M.setClearColor(16777215,.5),M.clear(),Le&&Gt.render(Ye);const an=M.toneMapping;M.toneMapping=lf;const Rn=Ze.viewport;if(void 0!==Ze.viewport&&(Ze.viewport=void 0),m.setupLightsView(Ze),!0===le&&Ge.setGlobalState(M.clippingPlanes,Ze),Pu(re,Ye,Ze),J.updateMultisampleRenderTarget(Bt),J.updateRenderTargetMipmap(Bt),!1===ne.has("WEBGL_multisampled_render_to_texture")){let Gn=!1;for(let Cn=0,vi=Fe.length;Cn<vi;Cn++){const Di=Fe[Cn],Ur=Di.object,Zn=Di.geometry,Ti=Di.material,Sn=Di.group;if(2===Ti.side&&Ur.layers.test(Ze.layers)){const Cs=Ti.side;Ti.side=1,Ti.needsUpdate=!0,Lc(Ur,Ye,Ze,Zn,Ti,Sn),Ti.side=Cs,Ti.needsUpdate=!0,Gn=!0}}!0===Gn&&(J.updateMultisampleRenderTarget(Bt),J.updateRenderTargetMipmap(Bt))}M.setRenderTarget(on),M.setClearColor(Y,ge),void 0!==Rn&&(Ze.viewport=Rn),M.toneMapping=an}function Pu(re,Fe,Ye){const Ze=!0===Fe.isScene?Fe.overrideMaterial:null;for(let Ue=0,Bt=re.length;Ue<Bt;Ue++){const zt=re[Ue],on=zt.object,an=zt.geometry,Rn=null===Ze?zt.material:Ze,Gn=zt.group;on.layers.test(Ye.layers)&&Lc(on,Fe,Ye,an,Rn,Gn)}}function Lc(re,Fe,Ye,Ze,Ue,Bt){re.onBeforeRender(M,Fe,Ye,Ze,Ue,Bt),re.modelViewMatrix.multiplyMatrices(Ye.matrixWorldInverse,re.matrixWorld),re.normalMatrix.getNormalMatrix(re.modelViewMatrix),Ue.onBeforeRender(M,Fe,Ye,Ze,re,Bt),!0===Ue.transparent&&2===Ue.side&&!1===Ue.forceSinglePass?(Ue.side=1,Ue.needsUpdate=!0,M.renderBufferDirect(Ye,Fe,Ze,Ue,re,Bt),Ue.side=0,Ue.needsUpdate=!0,M.renderBufferDirect(Ye,Fe,Ze,Ue,re,Bt),Ue.side=2):M.renderBufferDirect(Ye,Fe,Ze,Ue,re,Bt),re.onAfterRender(M,Fe,Ye,Ze,Ue,Bt)}function ma(re,Fe,Ye){!0!==Fe.isScene&&(Fe=lt);const Ze=We.get(re),Ue=m.state.lights,zt=Ue.state.version,on=Mt.getParameters(re,Ue.state,m.state.shadowsArray,Fe,Ye),an=Mt.getProgramCacheKey(on);let Rn=Ze.programs;Ze.environment=re.isMeshStandardMaterial?Fe.environment:null,Ze.fog=Fe.fog,Ze.envMap=(re.isMeshStandardMaterial?Se:Q).get(re.envMap||Ze.environment),Ze.envMapRotation=null!==Ze.environment&&null===re.envMap?Fe.environmentRotation:re.envMapRotation,void 0===Rn&&(re.addEventListener("dispose",tn),Rn=new Map,Ze.programs=Rn);let Gn=Rn.get(an);if(void 0!==Gn){if(Ze.currentProgram===Gn&&Ze.lightsStateVersion===zt)return Cl(re,on),Gn}else on.uniforms=Mt.getUniforms(re),re.onBeforeCompile(on,M),Gn=Mt.acquireProgram(on,an),Rn.set(an,Gn),Ze.uniforms=on.uniforms;const Cn=Ze.uniforms;return(!re.isShaderMaterial&&!re.isRawShaderMaterial||!0===re.clipping)&&(Cn.clippingPlanes=Ge.uniform),Cl(re,on),Ze.needsLights=function kc(re){return re.isMeshLambertMaterial||re.isMeshToonMaterial||re.isMeshPhongMaterial||re.isMeshStandardMaterial||re.isShadowMaterial||re.isShaderMaterial&&!0===re.lights}(re),Ze.lightsStateVersion=zt,Ze.needsLights&&(Cn.ambientLightColor.value=Ue.state.ambient,Cn.lightProbe.value=Ue.state.probe,Cn.directionalLights.value=Ue.state.directional,Cn.directionalLightShadows.value=Ue.state.directionalShadow,Cn.spotLights.value=Ue.state.spot,Cn.spotLightShadows.value=Ue.state.spotShadow,Cn.rectAreaLights.value=Ue.state.rectArea,Cn.ltc_1.value=Ue.state.rectAreaLTC1,Cn.ltc_2.value=Ue.state.rectAreaLTC2,Cn.pointLights.value=Ue.state.point,Cn.pointLightShadows.value=Ue.state.pointShadow,Cn.hemisphereLights.value=Ue.state.hemi,Cn.directionalShadowMap.value=Ue.state.directionalShadowMap,Cn.directionalShadowMatrix.value=Ue.state.directionalShadowMatrix,Cn.spotShadowMap.value=Ue.state.spotShadowMap,Cn.spotLightMatrix.value=Ue.state.spotLightMatrix,Cn.spotLightMap.value=Ue.state.spotLightMap,Cn.pointShadowMap.value=Ue.state.pointShadowMap,Cn.pointShadowMatrix.value=Ue.state.pointShadowMatrix),Ze.currentProgram=Gn,Ze.uniformsList=null,Gn}function bl(re){if(null===re.uniformsList){const Fe=re.currentProgram.getUniforms();re.uniformsList=pM.seqWithValue(Fe.seq,re.uniforms)}return re.uniformsList}function Cl(re,Fe){const Ye=We.get(re);Ye.outputColorSpace=Fe.outputColorSpace,Ye.batching=Fe.batching,Ye.batchingColor=Fe.batchingColor,Ye.instancing=Fe.instancing,Ye.instancingColor=Fe.instancingColor,Ye.instancingMorph=Fe.instancingMorph,Ye.skinning=Fe.skinning,Ye.morphTargets=Fe.morphTargets,Ye.morphNormals=Fe.morphNormals,Ye.morphColors=Fe.morphColors,Ye.morphTargetsCount=Fe.morphTargetsCount,Ye.numClippingPlanes=Fe.numClippingPlanes,Ye.numIntersection=Fe.numClipIntersection,Ye.vertexAlphas=Fe.vertexAlphas,Ye.vertexTangents=Fe.vertexTangents,Ye.toneMapping=Fe.toneMapping}bs.setAnimationLoop(function gn(re){ws&&ws(re)}),typeof self<"u"&&bs.setContext(self),this.setAnimationLoop=function(re){ws=re,ot.setAnimationLoop(re),null===re?bs.stop():bs.start()},ot.addEventListener("sessionstart",wl),ot.addEventListener("sessionend",ic),this.render=function(re,Fe){if(void 0!==Fe&&!0!==Fe.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===L)return;if(!0===re.matrixWorldAutoUpdate&&re.updateMatrixWorld(),null===Fe.parent&&!0===Fe.matrixWorldAutoUpdate&&Fe.updateMatrixWorld(),!0===ot.enabled&&!0===ot.isPresenting&&(!0===ot.cameraAutoUpdate&&ot.updateCamera(Fe),Fe=ot.getCamera()),!0===re.isScene&&re.onBeforeRender(M,re,Fe,N),m=en.get(re,x.length),m.init(Fe),x.push(m),be.multiplyMatrices(Fe.projectionMatrix,Fe.matrixWorldInverse),j.setFromProjectionMatrix(be),ve=this.localClippingEnabled,le=Ge.init(this.clippingPlanes,ve),y=mt.get(re,S.length),y.init(),S.push(y),!0===ot.enabled&&!0===ot.isPresenting){const Bt=M.xr.getDepthSensingMesh();null!==Bt&&us(Bt,Fe,-1/0,M.sortObjects)}us(re,Fe,0,M.sortObjects),y.finish(),!0===M.sortObjects&&y.sort(ye,Ce),Le=!1===ot.enabled||!1===ot.isPresenting||!1===ot.hasDepthSensing(),Le&&Gt.addToRenderList(y,re),this.info.render.frame++,!0===le&&Ge.beginShadows(),jt.render(m.state.shadowsArray,re,Fe),!0===le&&Ge.endShadows(),!0===this.info.autoReset&&this.info.reset();const Ze=y.opaque,Ue=y.transmissive;if(m.setupLights(),Fe.isArrayCamera){const Bt=Fe.cameras;if(Ue.length>0)for(let zt=0,on=Bt.length;zt<on;zt++)ga(Ze,Ue,re,Bt[zt]);Le&&Gt.render(re);for(let zt=0,on=Bt.length;zt<on;zt++){const an=Bt[zt];hs(y,re,an,an.viewport)}}else Ue.length>0&&ga(Ze,Ue,re,Fe),Le&&Gt.render(re),hs(y,re,Fe);null!==N&&(J.updateMultisampleRenderTarget(N),J.updateRenderTargetMipmap(N)),!0===re.isScene&&re.onAfterRender(M,re,Fe),bn.resetDefaultState(),R=-1,F=null,x.pop(),x.length>0?(m=x[x.length-1],!0===le&&Ge.setGlobalState(M.clippingPlanes,m.state.camera)):m=null,S.pop(),y=S.length>0?S[S.length-1]:null},this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(re,Fe,Ye){We.get(re.texture).__webglTexture=Fe,We.get(re.depthTexture).__webglTexture=Ye;const Ze=We.get(re);Ze.__hasExternalTextures=!0,Ze.__autoAllocateDepthBuffer=void 0===Ye,Ze.__autoAllocateDepthBuffer||!0===ne.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ze.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(re,Fe){const Ye=We.get(re);Ye.__webglFramebuffer=Fe,Ye.__useDefaultFramebuffer=void 0===Fe},this.setRenderTarget=function(re,Fe=0,Ye=0){N=re,U=Fe,P=Ye;let Ze=!0,Ue=null,Bt=!1,zt=!1;if(re){const an=We.get(re);if(void 0!==an.__useDefaultFramebuffer)tt.bindFramebuffer(se.FRAMEBUFFER,null),Ze=!1;else if(void 0===an.__webglFramebuffer)J.setupRenderTarget(re);else if(an.__hasExternalTextures)J.rebindTextures(re,We.get(re.texture).__webglTexture,We.get(re.depthTexture).__webglTexture);else if(re.depthBuffer){const Cn=re.depthTexture;if(an.__boundDepthTexture!==Cn){if(null!==Cn&&We.has(Cn)&&(re.width!==Cn.image.width||re.height!==Cn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");J.setupDepthRenderbuffer(re)}}const Rn=re.texture;(Rn.isData3DTexture||Rn.isDataArrayTexture||Rn.isCompressedArrayTexture)&&(zt=!0);const Gn=We.get(re).__webglFramebuffer;re.isWebGLCubeRenderTarget?(Ue=Array.isArray(Gn[Fe])?Gn[Fe][Ye]:Gn[Fe],Bt=!0):Ue=re.samples>0&&!1===J.useMultisampledRTT(re)?We.get(re).__webglMultisampledFramebuffer:Array.isArray(Gn)?Gn[Ye]:Gn,I.copy(re.viewport),k.copy(re.scissor),X=re.scissorTest}else I.copy(qe).multiplyScalar(te).floor(),k.copy(V).multiplyScalar(te).floor(),X=oe;if(tt.bindFramebuffer(se.FRAMEBUFFER,Ue)&&Ze&&tt.drawBuffers(re,Ue),tt.viewport(I),tt.scissor(k),tt.setScissorTest(X),Bt){const an=We.get(re.texture);se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,an.__webglTexture,Ye)}else if(zt){const an=We.get(re.texture);se.framebufferTextureLayer(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,an.__webglTexture,Ye||0,Fe||0)}R=-1},this.readRenderTargetPixels=function(re,Fe,Ye,Ze,Ue,Bt,zt){if(!re||!re.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let on=We.get(re).__webglFramebuffer;if(re.isWebGLCubeRenderTarget&&void 0!==zt&&(on=on[zt]),on){tt.bindFramebuffer(se.FRAMEBUFFER,on);try{const an=re.texture,Rn=an.format,Gn=an.type;if(!wt.textureFormatReadable(Rn))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!wt.textureTypeReadable(Gn))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Fe>=0&&Fe<=re.width-Ze&&Ye>=0&&Ye<=re.height-Ue&&se.readPixels(Fe,Ye,Ze,Ue,Nn.convert(Rn),Nn.convert(Gn),Bt)}finally{const an=null!==N?We.get(N).__webglFramebuffer:null;tt.bindFramebuffer(se.FRAMEBUFFER,an)}}},this.readRenderTargetPixelsAsync=function(){var re=(0,vt.A)(function*(Fe,Ye,Ze,Ue,Bt,zt,on){if(!Fe||!Fe.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let an=We.get(Fe).__webglFramebuffer;if(Fe.isWebGLCubeRenderTarget&&void 0!==on&&(an=an[on]),an){const Rn=Fe.texture,Gn=Rn.format,Cn=Rn.type;if(!wt.textureFormatReadable(Gn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!wt.textureTypeReadable(Cn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Ye>=0&&Ye<=Fe.width-Ue&&Ze>=0&&Ze<=Fe.height-Bt){tt.bindFramebuffer(se.FRAMEBUFFER,an);const vi=se.createBuffer();se.bindBuffer(se.PIXEL_PACK_BUFFER,vi),se.bufferData(se.PIXEL_PACK_BUFFER,zt.byteLength,se.STREAM_READ),se.readPixels(Ye,Ze,Ue,Bt,Nn.convert(Gn),Nn.convert(Cn),0);const Di=null!==N?We.get(N).__webglFramebuffer:null;tt.bindFramebuffer(se.FRAMEBUFFER,Di);const Ur=se.fenceSync(se.SYNC_GPU_COMMANDS_COMPLETE,0);return se.flush(),yield function uCe(n,e,t){return new Promise(function(i,r){setTimeout(function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}},t)})}(se,Ur,4),se.bindBuffer(se.PIXEL_PACK_BUFFER,vi),se.getBufferSubData(se.PIXEL_PACK_BUFFER,0,zt),se.deleteBuffer(vi),se.deleteSync(Ur),zt}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}});return function(Fe,Ye,Ze,Ue,Bt,zt,on){return re.apply(this,arguments)}}(),this.copyFramebufferToTexture=function(re,Fe=null,Ye=0){!0!==re.isTexture&&(y0("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Fe=arguments[0]||null,re=arguments[1]);const Ze=Math.pow(2,-Ye),Ue=Math.floor(re.image.width*Ze),Bt=Math.floor(re.image.height*Ze),zt=null!==Fe?Fe.x:0,on=null!==Fe?Fe.y:0;J.setTexture2D(re,0),se.copyTexSubImage2D(se.TEXTURE_2D,Ye,0,0,zt,on,Ue,Bt),tt.unbindTexture()};const Vd=se.createFramebuffer(),bf=se.createFramebuffer();this.copyTextureToTexture=function(re,Fe,Ye=null,Ze=null,Ue=0,Bt=null){let zt,on,an,Rn,Gn,Cn,vi,Di,Ur;!0!==re.isTexture&&(y0("WebGLRenderer: copyTextureToTexture function signature has changed."),Ze=arguments[0]||null,re=arguments[1],Fe=arguments[2],Bt=arguments[3]||0,Ye=null),null===Bt&&(0!==Ue?(y0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Bt=Ue,Ue=0):Bt=0);const Zn=re.isCompressedTexture?re.mipmaps[Bt]:re.image;if(null!==Ye)zt=Ye.max.x-Ye.min.x,on=Ye.max.y-Ye.min.y,an=Ye.isBox3?Ye.max.z-Ye.min.z:1,Rn=Ye.min.x,Gn=Ye.min.y,Cn=Ye.isBox3?Ye.min.z:0;else{const _a=Math.pow(2,-Ue);zt=Math.floor(Zn.width*_a),on=Math.floor(Zn.height*_a),an=re.isDataArrayTexture?Zn.depth:re.isData3DTexture?Math.floor(Zn.depth*_a):1,Rn=0,Gn=0,Cn=0}null!==Ze?(vi=Ze.x,Di=Ze.y,Ur=Ze.z):(vi=0,Di=0,Ur=0);const Ti=Nn.convert(Fe.format),Sn=Nn.convert(Fe.type);let Cs;Fe.isData3DTexture?(J.setTexture3D(Fe,0),Cs=se.TEXTURE_3D):Fe.isDataArrayTexture||Fe.isCompressedArrayTexture?(J.setTexture2DArray(Fe,0),Cs=se.TEXTURE_2D_ARRAY):(J.setTexture2D(Fe,0),Cs=se.TEXTURE_2D),se.pixelStorei(se.UNPACK_FLIP_Y_WEBGL,Fe.flipY),se.pixelStorei(se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Fe.premultiplyAlpha),se.pixelStorei(se.UNPACK_ALIGNMENT,Fe.unpackAlignment);const Bi=se.getParameter(se.UNPACK_ROW_LENGTH),Wa=se.getParameter(se.UNPACK_IMAGE_HEIGHT),Io=se.getParameter(se.UNPACK_SKIP_PIXELS),to=se.getParameter(se.UNPACK_SKIP_ROWS),no=se.getParameter(se.UNPACK_SKIP_IMAGES);se.pixelStorei(se.UNPACK_ROW_LENGTH,Zn.width),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,Zn.height),se.pixelStorei(se.UNPACK_SKIP_PIXELS,Rn),se.pixelStorei(se.UNPACK_SKIP_ROWS,Gn),se.pixelStorei(se.UNPACK_SKIP_IMAGES,Cn);const _r=re.isDataArrayTexture||re.isData3DTexture,Ko=Fe.isDataArrayTexture||Fe.isData3DTexture;if(re.isDepthTexture){const _a=We.get(re),io=We.get(Fe),No=We.get(_a.__renderTarget),Cf=We.get(io.__renderTarget);tt.bindFramebuffer(se.READ_FRAMEBUFFER,No.__webglFramebuffer),tt.bindFramebuffer(se.DRAW_FRAMEBUFFER,Cf.__webglFramebuffer);for(let Lu=0;Lu<an;Lu++)_r&&(se.framebufferTextureLayer(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,We.get(re).__webglTexture,Ue,Cn+Lu),se.framebufferTextureLayer(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,We.get(Fe).__webglTexture,Bt,Ur+Lu)),se.blitFramebuffer(Rn,Gn,zt,on,vi,Di,zt,on,se.DEPTH_BUFFER_BIT,se.NEAREST);tt.bindFramebuffer(se.READ_FRAMEBUFFER,null),tt.bindFramebuffer(se.DRAW_FRAMEBUFFER,null)}else if(0!==Ue||re.isRenderTargetTexture||We.has(re)){const _a=We.get(re),io=We.get(Fe);tt.bindFramebuffer(se.READ_FRAMEBUFFER,Vd),tt.bindFramebuffer(se.DRAW_FRAMEBUFFER,bf);for(let No=0;No<an;No++)_r?se.framebufferTextureLayer(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,_a.__webglTexture,Ue,Cn+No):se.framebufferTexture2D(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,_a.__webglTexture,Ue),Ko?se.framebufferTextureLayer(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,io.__webglTexture,Bt,Ur+No):se.framebufferTexture2D(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,io.__webglTexture,Bt),0!==Ue?se.blitFramebuffer(Rn,Gn,zt,on,vi,Di,zt,on,se.COLOR_BUFFER_BIT,se.NEAREST):Ko?se.copyTexSubImage3D(Cs,Bt,vi,Di,Ur+No,Rn,Gn,zt,on):se.copyTexSubImage2D(Cs,Bt,vi,Di,Rn,Gn,zt,on);tt.bindFramebuffer(se.READ_FRAMEBUFFER,null),tt.bindFramebuffer(se.DRAW_FRAMEBUFFER,null)}else Ko?re.isDataTexture||re.isData3DTexture?se.texSubImage3D(Cs,Bt,vi,Di,Ur,zt,on,an,Ti,Sn,Zn.data):Fe.isCompressedArrayTexture?se.compressedTexSubImage3D(Cs,Bt,vi,Di,Ur,zt,on,an,Ti,Zn.data):se.texSubImage3D(Cs,Bt,vi,Di,Ur,zt,on,an,Ti,Sn,Zn):re.isDataTexture?se.texSubImage2D(se.TEXTURE_2D,Bt,vi,Di,zt,on,Ti,Sn,Zn.data):re.isCompressedTexture?se.compressedTexSubImage2D(se.TEXTURE_2D,Bt,vi,Di,Zn.width,Zn.height,Ti,Zn.data):se.texSubImage2D(se.TEXTURE_2D,Bt,vi,Di,zt,on,Ti,Sn,Zn);se.pixelStorei(se.UNPACK_ROW_LENGTH,Bi),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,Wa),se.pixelStorei(se.UNPACK_SKIP_PIXELS,Io),se.pixelStorei(se.UNPACK_SKIP_ROWS,to),se.pixelStorei(se.UNPACK_SKIP_IMAGES,no),0===Bt&&Fe.generateMipmaps&&se.generateMipmap(Cs),tt.unbindTexture()},this.copyTextureToTexture3D=function(re,Fe,Ye=null,Ze=null,Ue=0){return!0!==re.isTexture&&(y0("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ye=arguments[0]||null,Ze=arguments[1]||null,re=arguments[2],Fe=arguments[3],Ue=arguments[4]||0),y0('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(re,Fe,Ye,Ze,Ue)},this.initRenderTarget=function(re){void 0===We.get(re).__webglFramebuffer&&J.setupRenderTarget(re)},this.initTexture=function(re){re.isCubeTexture?J.setTextureCube(re,0):re.isData3DTexture?J.setTexture3D(re,0):re.isDataArrayTexture||re.isCompressedArrayTexture?J.setTexture2DArray(re,0):J.setTexture2D(re,0),tt.unbindTexture()},this.resetState=function(){U=0,P=0,N=null,tt.reset(),bn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return xd}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=qi._getDrawingBufferColorSpace(e),t.unpackColorSpace=qi._getUnpackColorSpace()}}var mM=_e(724);const qMe=["rendererContainer"];let XMe=(()=>{class n{constructor(t){this.pageRestartService=t,this.disks=[],this.towers=[],this.numDisks=3,this.moves=[],this.currentMove=0,this.isAnimating=!1}restart(){this.pageRestartService.reloadPage()}ngOnInit(){}ngAfterViewInit(){this.initScene(),this.createTowers(),this.createDisks(),this.solveHanoi(this.numDisks,0,2,1),this.animate()}initScene(){this.scene=new j$,this.camera=new $o(75,this.rendererContainer.nativeElement.offsetWidth/this.rendererContainer.nativeElement.offsetHeight,.1,1e3),this.renderer=new KMe({antialias:!0}),this.renderer.setSize(this.rendererContainer.nativeElement.offsetWidth,this.rendererContainer.nativeElement.offsetHeight),this.rendererContainer.nativeElement.appendChild(this.renderer.domElement),this.controls=new FEe(this.camera,this.renderer.domElement),this.camera.position.set(10,10,10),this.controls.update();const t=new VK(4210752);this.scene.add(t);const i=new HK(16777215,.5);i.position.set(1,1,1).normalize(),this.scene.add(i)}createTowers(){const t=new vg(.5,.5,5,32),i=new Od({color:8421504});for(let r=0;r<3;r++){const s=new Hs(t,i);s.position.set(4*r-4,2.5,0),this.towers.push(s),this.scene.add(s)}}createDisks(){for(let t=0;t<this.numDisks;t++){const i=new vg(1-.1*t,1-.1*t,.5,32),r=new Od({color:(new sn).setHSL(t/this.numDisks,1,.5)}),s=new Hs(i,r);s.position.set(-4,.5*t+.25,0),this.disks.push(s),this.scene.add(s)}}solveHanoi(t,i,r,s){t>0&&(this.solveHanoi(t-1,i,s,r),this.moves.push({from:i,to:r}),this.solveHanoi(t-1,s,r,i))}animateMove(){if(this.currentMove<this.moves.length&&!this.isAnimating){this.isAnimating=!0;const t=this.moves[this.currentMove],i=this.disks.filter(r=>Math.abs(r.position.x-this.towers[t.from].position.x)<.1).sort((r,s)=>s.position.y-r.position.y);if(i.length>0){const r=i[0],s=this.towers[t.to].position.y+.25+.5*this.disks.filter(o=>Math.abs(o.position.x-this.towers[t.to].position.x)<.1).length;new mM.Tween(r.position).to({y:r.position.y+3},500).onComplete(()=>{new mM.Tween(r.position).to({x:this.towers[t.to].position.x},500).onComplete(()=>{new mM.Tween(r.position).to({y:s},500).onComplete(()=>{this.currentMove++,this.isAnimating=!1}).start()}).start()}).start()}else this.currentMove++,this.isAnimating=!1}}animate(){requestAnimationFrame(this.animate.bind(this)),mM.update(),this.controls.update(),this.currentMove<this.moves.length&&this.animateMove(),this.renderer.render(this.scene,this.camera)}static{this.\u0275fac=function(i){return new(i||n)(et(DP))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-hanoi3d"]],viewQuery:function(i,r){if(1&i&&Li(qMe,5),2&i){let s;Tn(s=Mn())&&(r.rendererContainer=s.first)}},decls:13,vars:0,consts:[["rendererContainer",""],["align","center"],[2,"width","300px","height","300px"],[3,"click"],["align","right"],["routerLink","/Dev"]],template:function(i,r){if(1&i){const s=Tr();q(0,"div",1)(1,"h1"),fe(2,"[HANOI - 3D]"),$(),Xe(3,"hr")(4,"div",2,0)(6,"hr"),q(7,"button",3),xt("click",function(){return ln(s),un(r.restart())}),fe(8,"[RESTART]"),$(),Xe(9,"hr"),q(10,"div",4)(11,"a",5),fe(12,"[Volver al Menu]"),$()()()}},dependencies:[wr],styles:["#canvas-container[_ngcontent-%COMP%]{width:300px;height:300px}"]})}}return n})();function YMe(n,e){if(1&n&&Xe(0,"div",13),2&n){const t=e.$implicit;u1("background-color",t),bi("filled",t)}}function JMe(n,e){if(1&n&&(q(0,"div",11),Ht(1,YMe,1,4,"div",12),$()),2&n){const t=e.$implicit;Ae(),Be("ngForOf",t)}}function ZMe(n,e){if(1&n){const t=Tr();q(0,"button",8),xt("click",function(){return ln(t),un(Ft().startGame())}),fe(1),$()}if(2&n){const t=Ft();Ae(),gr(" ",t.gameOver?"Play Again":"Start Game"," ")}}function eDe(n,e){if(1&n){const t=Tr();q(0,"div",14)(1,"button",15),xt("click",function(){return ln(t),un(Ft().moveLeft())}),fe(2,"\u2190"),$(),q(3,"button",15),xt("click",function(){return ln(t),un(Ft().moveRight())}),fe(4,"\u2192"),$(),q(5,"button",8),xt("click",function(){return ln(t),un(Ft().rotate())}),fe(6,"Rotate"),$(),q(7,"button",8),xt("click",function(){return ln(t),un(Ft().drop())}),fe(8,"Drop"),$()()}}const Gq=[{path:"Home",component:Z9,caption:"Home"},{path:"",component:Z9,caption:""},{path:"Sudoku",component:Epe,caption:"Sudoku"},{path:"TicTacToe",component:Rpe,caption:"TicTacToe"},{path:"TicTacToeOnline",component:Rge,caption:"TicTacToe-Online"},{path:"Hanoi",component:Vge,caption:"Hanoi - Timer"},{path:"HanoiRjxs",component:zge,caption:"Hanoi - Rjxs"},{path:"HanoiAuto",component:Lge,caption:"Hanoi - Rjxs -Auto"},{path:"Hanoi3d",component:XMe,caption:"Hanoi - 3d"},{path:"RxJsPlayground",component:ywe,caption:"RxJs-Playground"},{path:"OcrPhotoCapture",component:u_e,caption:"Ocr-Photo-Capture"},{path:"Ocr",component:pwe,caption:"Ocr"},{path:"Chat",component:V_e,caption:"Chat"},{path:"SpeechRecognition",component:Swe,caption:"Speech  - Recognition"},{path:"ShapeReconCanvas",component:Jwe,caption:"Shape   - Recon - Canvas"},{path:"ShapeRecognition",component:Gwe,caption:"Shape   - Recognition"},{path:"BackendTesting",component:Awe,caption:"Backend - Testing"},{path:"BouncingBall",component:ebe,caption:"Boucing - Testing"},{path:"Tetris",component:(()=>{class n{constructor(t){this.pageRestartService=t,this.BOARD_WIDTH=10,this.BOARD_HEIGHT=20,this.TICK_INTERVAL=1e3,this.board=[],this.displayBoard=[],this.currentPiece=[],this.currentColor="",this.score=0,this.isPlaying=!1,this.gameOver=!1,this.isMobile=!1,this.TETROMINOS={I:{shape:[[1,1,1,1]],color:"#00f0f0"},O:{shape:[[1,1],[1,1]],color:"#f0f000"},T:{shape:[[0,1,0],[1,1,1]],color:"#a000f0"},S:{shape:[[0,1,1],[1,1,0]],color:"#00f000"},Z:{shape:[[1,1,0],[0,1,1]],color:"#f00000"},J:{shape:[[1,0,0],[1,1,1]],color:"#0000f0"},L:{shape:[[0,0,1],[1,1,1]],color:"#f0a000"}}}restart(){this.pageRestartService.reloadPage()}ngOnInit(){this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.initBoard()}handleKeyboardEvent(t){if(this.isPlaying&&!this.gameOver)switch(t.key){case"ArrowLeft":this.moveLeft();break;case"ArrowRight":this.moveRight();break;case"ArrowUp":this.rotate();break;case"ArrowDown":this.moveDown();break;case" ":this.drop()}}initBoard(){this.board=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill("")),this.displayBoard=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill(""))}startGame(){this.gameLoop$&&this.gameLoop$.unsubscribe(),this.initBoard(),this.score=0,this.gameOver=!1,this.isPlaying=!0,this.spawnPiece(),this.gameLoop$=K9(this.TICK_INTERVAL).subscribe(()=>{this.gameOver||this.moveDown()})}spawnPiece(){const t=Object.keys(this.TETROMINOS),i=t[Math.floor(Math.random()*t.length)],r=this.TETROMINOS[i];this.currentPiece=r.shape.flatMap((s,o)=>s.map((a,l)=>a?{x:l+Math.floor(this.BOARD_WIDTH/2)-1,y:o}:null)).filter(s=>null!==s),this.currentColor=r.color,this.checkCollision()&&(this.gameOver=!0,this.isPlaying=!1,this.gameLoop$&&this.gameLoop$.unsubscribe()),this.updateDisplayBoard()}moveLeft(){const t=this.currentPiece.map(i=>({...i,x:i.x-1}));this.isValidMove(t)&&(this.currentPiece=t,this.updateDisplayBoard())}moveRight(){const t=this.currentPiece.map(i=>({...i,x:i.x+1}));this.isValidMove(t)&&(this.currentPiece=t,this.updateDisplayBoard())}moveDown(){const t=this.currentPiece.map(i=>({...i,y:i.y+1}));this.isValidMove(t)?(this.currentPiece=t,this.updateDisplayBoard()):(this.lockPiece(),this.clearLines(),this.spawnPiece())}drop(){for(;this.isValidMove(this.currentPiece.map(t=>({...t,y:t.y+1})));)this.currentPiece=this.currentPiece.map(t=>({...t,y:t.y+1}));this.updateDisplayBoard(),this.lockPiece(),this.clearLines(),this.spawnPiece()}rotate(){if(!this.currentPiece.length)return;const t=this.currentPiece[1],i=this.currentPiece.map(r=>({x:t.x-(r.y-t.y),y:t.y+(r.x-t.x)}));this.isValidMove(i)&&(this.currentPiece=i,this.updateDisplayBoard())}isValidMove(t){return t.every(i=>i.x>=0&&i.x<this.BOARD_WIDTH&&i.y>=0&&i.y<this.BOARD_HEIGHT&&!this.board[i.y]?.[i.x])}checkCollision(){return!this.isValidMove(this.currentPiece)}updateDisplayBoard(){this.displayBoard=this.board.map(t=>[...t]),this.currentPiece.forEach(t=>{t.y>=0&&t.y<this.BOARD_HEIGHT&&(this.displayBoard[t.y][t.x]=this.currentColor)})}lockPiece(){this.currentPiece.forEach(t=>{t.y>=0&&t.y<this.BOARD_HEIGHT&&(this.board[t.y][t.x]=this.currentColor)}),this.updateDisplayBoard()}clearLines(){let t=0;for(let i=this.BOARD_HEIGHT-1;i>=0;i--)this.board[i].every(r=>""!==r)&&(this.board.splice(i,1),this.board.unshift(Array(this.BOARD_WIDTH).fill("")),t++,i++);t>0&&(this.score+=100*Math.pow(2,t-1)),this.updateDisplayBoard()}ngOnDestroy(){this.gameLoop$&&this.gameLoop$.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(et(DP))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-tetris"]],hostBindings:function(i,r){1&i&&xt("keydown",function(o){return r.handleKeyboardEvent(o)},0,H3)},decls:19,vars:6,consts:[["align","center"],[1,"game-container"],[1,"game-board"],["class","row",4,"ngFor","ngForOf"],[1,"controls"],[1,"score"],[3,"click",4,"ngIf"],["class","mobile-controls",4,"ngIf"],[3,"click"],["align","right"],["routerLink","/Dev"],[1,"row"],["class","cell",3,"filled","backgroundColor",4,"ngFor","ngForOf"],[1,"cell"],[1,"mobile-controls"],[2,"font-size","x-large",3,"click"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h1"),fe(2,"[TETRIS]"),$(),Xe(3,"hr"),q(4,"div",1)(5,"div",2),Ht(6,JMe,2,1,"div",3),$(),q(7,"div",4)(8,"div",5),fe(9),$(),Ht(10,ZMe,2,1,"button",6)(11,eDe,9,0,"div",7),$()(),Xe(12,"hr"),q(13,"button",8),xt("click",function(){return r.restart()}),fe(14,"[RESTART]"),$(),Xe(15,"hr"),$(),q(16,"div",9)(17,"a",10),fe(18,"[Volver al Menu]"),$()()),2&i&&(Ae(4),bi("game-over",r.gameOver),Ae(2),Be("ngForOf",r.displayBoard),Ae(3),gr("Score: ",r.score,""),Ae(),Be("ngIf",!r.isPlaying||r.gameOver),Ae(),Be("ngIf",r.isMobile))},dependencies:[wr,sa,ll],styles:[".game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.game-board[_ngcontent-%COMP%]{border:2px solid #333;background:#f0f0f0}.row[_ngcontent-%COMP%]{display:flex}.cell[_ngcontent-%COMP%]{width:25px;height:25px;border:1px solid #ccc}.cell.filled[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2)}.controls[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.score[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}button[_ngcontent-%COMP%]{padding:10px 20px;margin:5px;font-size:16px;cursor:pointer}.mobile-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:20px}.game-over[_ngcontent-%COMP%]   .game-board[_ngcontent-%COMP%]{opacity:.5}@media (max-width: 600px){.cell[_ngcontent-%COMP%]{width:20px;height:20px}}"]})}}return n})(),caption:"Tetris  - Testing"},{path:"Dev",component:G_e,caption:"Testing Releases"},{path:"StableReleases",component:Uwe,caption:"Stable Releases"},{path:"SCM",component:hwe,caption:"SCM"},{path:"Topics",component:dwe,caption:"Topics"},{path:"AiPrompts",component:Lwe,caption:"A.I. Prompts"},{path:"Index",component:Owe,caption:"Index"},{path:"**",component:Q_e,caption:""}];let tDe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n})}static{this.\u0275inj=ri({imports:[f7.forRoot(Gq),f7]})}}return n})();function nDe(n,e){if(1&n){const t=Tr();q(0,"ul",14)(1,"li",15)(2,"a",16),xt("click",function(){return ln(t),un(Ft().NavbarCollapsed=!0)}),q(3,"div",17),fe(4),$()()()()}if(2&n){const t=e.$implicit;Ae(2),w1("routerLink","/",t.url,""),Ae(2),jn(t.text)}}let iDe=(()=>{class n{get NavbarCollapsed(){return this.navbarCollapsed}set NavbarCollapsed(t){this.navbarCollapsed=t}constructor(t,i,r,s,o){this.router=t,this.configService=i,this.titleService=r,this.customErrorHandler=s,this.loggingInterceptor=o,this.title="PWA_DEMO_ENV_TEST",this._title="",this._appBrand="",this._appEnv="",this._appVersion="",this.runtimeVersion=KV.full,this.pages=[{url:"/Home",text:"[Home]"},{url:"/Dev",text:"[Testing Releases]"},{url:"/StableReleases",text:"[Stable Releases]"},{url:"/SCM",text:"[SCM]"},{url:"/AiPrompts",text:"[LLMs]"},{url:"/Topics",text:"[Topics]"},{url:"/Index",text:"[Index]"}],this.navbarCollapsed=!0,this._appBrand=this.configService.getConfigValue("appBrand"),this._appEnv=this.configService.getConfigValue("appEnv"),this._appVersion=this.configService.getConfigValue("appVersion"),this._title=`${this._appBrand} - ${this._appEnv}  - v[${this._appVersion}]`,console.log(`${this._title}`)}ngOnInit(){this.titleService.setTitle(this._title)}static{this.\u0275fac=function(i){return new(i||n)(et(La),et(XA),et(XE),et(_M),et(vM))}}static{this.\u0275cmp=Fn({type:n,selectors:[["app-nav"]],decls:25,vars:7,consts:[["navbarItems",""],[1,""],[1,"navbar","navbar-expand-lg","subtitle"],["type","button","data-toggle","collapse","data-target","#navbarItems","aria-controls","navbarItems","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand"],[1,"subtitle",3,"click"],["routerLink","/"],[1,"me-1",2,"width","25px",3,"src","alt"],["id","navbarItems",1,"collapse","navbar-collapse","subtitle",3,"ngbCollapse"],["class","navbar-nav",4,"ngFor","ngForOf"],["role","main",1,"content"],[1,"footer"],["routerLink","/Index"],[1,"navbar-nav"],[1,"nav-item"],[1,"nav-link",3,"click","routerLink"],["align","left"]],template:function(i,r){if(1&i){const s=Tr();q(0,"header",1)(1,"div",1)(2,"nav",2)(3,"button",3),xt("click",function(){return ln(s),un(r.NavbarCollapsed=!r.NavbarCollapsed)}),Xe(4,"span",4),$(),q(5,"a",5)(6,"div",6),xt("click",function(){return ln(s),un(r.NavbarCollapsed=!0)}),q(7,"a",7),Xe(8,"img",8),$()()(),q(9,"div",9,0),Ht(11,nDe,5,3,"ul",10),$()()()(),Xe(12,"hr"),q(13,"div",11),Xe(14,"router-outlet"),$(),Xe(15,"hr"),q(16,"footer")(17,"div",12)(18,"h5")(19,"a",13),fe(20,"[Index]"),$()(),q(21,"h5"),fe(22),$(),q(23,"h5"),fe(24),$()()()}2&i&&(Ae(8),Be("src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/800px-Angular_full_color_logo.svg.png",es)("alt","Angular Logo"),Ae(),Be("ngbCollapse",r.NavbarCollapsed),Ae(2),Be("ngForOf",r.pages),Ae(11),cE("Aplication Name : ",r._appBrand," - ",r._appEnv,""),Ae(2),gr("Aplication Version : ",r._appVersion,""))},dependencies:[LF,wr,sa,lP]})}}return n})(),_M=(()=>{class n{constructor(t){this.mcsdService=t}handleError(t){console.warn("[CUSTOM ERROR HANDLING]:\n"+t.name+"\n"+t.message),this.mcsdService.SetLog("[CUSTOM ERROR HANDLING]",t.message,qF.Error)}static{this.\u0275fac=function(i){return new(i||n)(bt(Tw))}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vM=(()=>{class n{constructor(){}intercept(t,i){const r=Date.now();let s;return i.handle(t).pipe(ls({next:o=>s=o instanceof pd?"succeeded":"",error:o=>s="failed"}),A_(()=>{const o=Date.now()-r;console.warn(` [REQUEST URL (INTERCEPT)] : ${t.method} "${t.urlWithParams}" ${s} in ${o} ms.`)}))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=dt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function rDe(n){return n.loadAiPrompts(),n.loadSCMList(),()=>n.loadConfig()}let sDe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ui({type:n,bootstrap:[g7]})}static{this.\u0275inj=ri({providers:[rR,kE,p_,$le(),[{provide:K8,useClass:vM,multi:!0},{provide:Ul,useClass:_M},XA,{provide:pE,useFactory:rDe,deps:[XA],multi:!0}]],imports:[bj,jj,Gj,tDe,Op,BG,Kce,ple,C6,Qhe,t_e,$9,$9,QT,uP,xP,QT,BG,P_e]})}}return n})();(function xV(n,e,t){const i=n.\u0275cmp;i.directiveDefs=jh(e,!1),i.pipeDefs=jh(t,!0)})(g7,[iDe],[]),Qle().bootstrapModule(sDe).catch(n=>console.error(n))},7239:function(Dl){Dl.exports=function(){"use strict";var sr=function(v,g){return(sr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,b){w.__proto__=b}||function(w,b){for(var D in b)Object.prototype.hasOwnProperty.call(b,D)&&(w[D]=b[D])})(v,g)};function _e(v,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function w(){this.constructor=v}sr(v,g),v.prototype=null===g?Object.create(g):(w.prototype=g.prototype,new w)}var Lt=function(){return Lt=Object.assign||function(g){for(var w,b=1,D=arguments.length;b<D;b++)for(var O in w=arguments[b])Object.prototype.hasOwnProperty.call(w,O)&&(g[O]=w[O]);return g},Lt.apply(this,arguments)};function vt(v,g,w,b){return new(w||(w=Promise))(function(O,H){function ce(Re){try{xe(b.next(Re))}catch(He){H(He)}}function ae(Re){try{xe(b.throw(Re))}catch(He){H(He)}}function xe(Re){Re.done?O(Re.value):function D(O){return O instanceof w?O:new w(function(H){H(O)})}(Re.value).then(ce,ae)}xe((b=b.apply(v,g||[])).next())})}function qt(v,g){var b,D,O,H,w={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return H={next:ce(0),throw:ce(1),return:ce(2)},"function"==typeof Symbol&&(H[Symbol.iterator]=function(){return this}),H;function ce(xe){return function(Re){return function ae(xe){if(b)throw new TypeError("Generator is already executing.");for(;w;)try{if(b=1,D&&(O=2&xe[0]?D.return:xe[0]?D.throw||((O=D.return)&&O.call(D),0):D.next)&&!(O=O.call(D,xe[1])).done)return O;switch(D=0,O&&(xe=[2&xe[0],O.value]),xe[0]){case 0:case 1:O=xe;break;case 4:return w.label++,{value:xe[1],done:!1};case 5:w.label++,D=xe[1],xe=[0];continue;case 7:xe=w.ops.pop(),w.trys.pop();continue;default:if(!(O=(O=w.trys).length>0&&O[O.length-1])&&(6===xe[0]||2===xe[0])){w=0;continue}if(3===xe[0]&&(!O||xe[1]>O[0]&&xe[1]<O[3])){w.label=xe[1];break}if(6===xe[0]&&w.label<O[1]){w.label=O[1],O=xe;break}if(O&&w.label<O[2]){w.label=O[2],w.ops.push(xe);break}O[2]&&w.ops.pop(),w.trys.pop();continue}xe=g.call(v,w)}catch(Re){xe=[6,Re],D=0}finally{b=O=0}if(5&xe[0])throw xe[1];return{value:xe[0]?xe[1]:void 0,done:!0}}([xe,Re])}}}function An(v,g,w){if(w||2===arguments.length)for(var O,b=0,D=g.length;b<D;b++)(O||!(b in g))&&(O||(O=Array.prototype.slice.call(g,0,b)),O[b]=g[b]);return v.concat(O||g)}for(var yi=function(){function v(g,w,b,D){this.left=g,this.top=w,this.width=b,this.height=D}return v.prototype.add=function(g,w,b,D){return new v(this.left+g,this.top+w,this.width+b,this.height+D)},v.fromClientRect=function(g,w){return new v(w.left+g.windowBounds.left,w.top+g.windowBounds.top,w.width,w.height)},v.fromDOMRectList=function(g,w){var b=Array.from(w).find(function(D){return 0!==D.width});return b?new v(b.left+g.windowBounds.left,b.top+g.windowBounds.top,b.width,b.height):v.EMPTY},v.EMPTY=new v(0,0,0,0),v}(),Yi=function(v,g){return yi.fromClientRect(v,g.getBoundingClientRect())},yn=function(v){for(var g=[],w=0,b=v.length;w<b;){var D=v.charCodeAt(w++);if(D>=55296&&D<=56319&&w<b){var O=v.charCodeAt(w++);56320==(64512&O)?g.push(((1023&D)<<10)+(1023&O)+65536):(g.push(D),w--)}else g.push(D)}return g},Ni=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];if(String.fromCodePoint)return String.fromCodePoint.apply(String,v);var w=v.length;if(!w)return"";for(var b=[],D=-1,O="";++D<w;){var H=v[D];H<=65535?b.push(H):b.push(55296+((H-=65536)>>10),H%1024+56320),(D+1===w||b.length>16384)&&(O+=String.fromCharCode.apply(String,b),b.length=0)}return O},Yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wa=typeof Uint8Array>"u"?[]:new Uint8Array(256),ao=0;ao<64;ao++)wa[Yo.charCodeAt(ao)]=ao;for(var lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",or=typeof Uint8Array>"u"?[]:new Uint8Array(256),vr=0;vr<64;vr++)or[lc.charCodeAt(vr)]=vr;for(var Uf=function(v,g,w){return v.slice?v.slice(g,w):new Uint16Array(Array.prototype.slice.call(v,g,w))},Zd=function(){function v(g,w,b,D,O,H){this.initialValue=g,this.errorValue=w,this.highStart=b,this.highValueIndex=D,this.index=O,this.data=H}return v.prototype.get=function(g){var w;if(g>=0){if(g<55296||g>56319&&g<=65535)return this.data[w=((w=this.index[g>>5])<<2)+(31&g)];if(g<=65535)return this.data[w=((w=this.index[2048+(g-55296>>5)])<<2)+(31&g)];if(g<this.highStart)return w=this.index[w=2080+(g>>11)],this.data[w=((w=this.index[w+=g>>5&63])<<2)+(31&g)];if(g<=1114111)return this.data[this.highValueIndex]}return this.errorValue},v}(),Sv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tD=typeof Uint8Array>"u"?[]:new Uint8Array(256),kf=0;kf<64;kf++)tD[Sv.charCodeAt(kf)]=kf;var w,b,D,H,ce,Ci=10,Il=13,Nl=15,Ms=17,Rl=18,Hr=19,zu=20,Hf=21,Rh=22,Xa=24,_o=25,Vf=26,Oh=27,tA=28,Ph=30,Lh=32,Kg=33,Qf=34,Tv=35,Ca=37,Mv=38,zf=39,Qi=40,qb=42,iD=[9001,65288],gi="\xd7",Xg=(w=function(v){var b,O,H,ce,ae,g=.75*v.length,w=v.length,D=0;"="===v[v.length-1]&&(g--,"="===v[v.length-2]&&g--);var xe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(g):new Array(g),Re=Array.isArray(xe)?xe:new Uint8Array(xe);for(b=0;b<w;b+=4)O=or[v.charCodeAt(b)],H=or[v.charCodeAt(b+1)],ce=or[v.charCodeAt(b+2)],ae=or[v.charCodeAt(b+3)],Re[D++]=O<<2|H>>4,Re[D++]=(15&H)<<4|ce>>2,Re[D++]=(3&ce)<<6|63&ae;return xe}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),b=Array.isArray(w)?function(v){for(var g=v.length,w=[],b=0;b<g;b+=4)w.push(v[b+3]<<24|v[b+2]<<16|v[b+1]<<8|v[b]);return w}(w):new Uint32Array(w),D=Array.isArray(w)?function(v){for(var g=v.length,w=[],b=0;b<g;b+=2)w.push(v[b+1]<<8|v[b]);return w}(w):new Uint16Array(w),H=Uf(D,12,b[4]/2),ce=2===b[5]?Uf(D,(24+b[4])/2):function(v,g,w){return v.slice?v.slice(g,w):new Uint32Array(Array.prototype.slice.call(v,g,w))}(b,Math.ceil((24+b[4])/4)),new Zd(b[0],b[1],b[2],b[3],H,ce)),Ji=[Ph,36],Zi=[1,2,3,5],Xb=[Ci,8],ii=[Oh,Vf],Yg=Zi.concat(Xb),Jr=[Mv,zf,Qi,Qf,Tv],Sa=[Nl,Il],Dv=function(v,g,w,b){var D=b[w];if(Array.isArray(v)?-1!==v.indexOf(D):v===D)for(var O=w;O<=b.length;){if((H=b[++O])===g)return!0;if(H!==Ci)break}if(D===Ci)for(O=w;O>0;){var ce=b[--O];if(Array.isArray(v)?-1!==v.indexOf(ce):v===ce)for(var ae=w;ae<=b.length;){var H;if((H=b[++ae])===g)return!0;if(H!==Ci)break}if(ce!==Ci)break}return!1},Ds=function(v,g){for(var w=v;w>=0;){var b=g[w];if(b!==Ci)return b;w--}return 0},Jg=function(v,g,w,b,D){if(0===w[b])return gi;var O=b-1;if(Array.isArray(D)&&!0===D[O])return gi;var H=O-1,ce=O+1,ae=g[O],xe=H>=0?g[H]:0,Re=g[ce];if(2===ae&&3===Re)return gi;if(-1!==Zi.indexOf(ae))return"!";if(-1!==Zi.indexOf(Re)||-1!==Xb.indexOf(Re))return gi;if(8===Ds(O,g))return"\xf7";if(11===Xg.get(v[O])||(ae===Lh||ae===Kg)&&11===Xg.get(v[ce])||7===ae||7===Re||9===ae||-1===[Ci,Il,Nl].indexOf(ae)&&9===Re||-1!==[Ms,Rl,Hr,Xa,tA].indexOf(Re)||Ds(O,g)===Rh||Dv(23,Rh,O,g)||Dv([Ms,Rl],Hf,O,g)||Dv(12,12,O,g))return gi;if(ae===Ci)return"\xf7";if(23===ae||23===Re)return gi;if(16===Re||16===ae)return"\xf7";if(-1!==[Il,Nl,Hf].indexOf(Re)||14===ae||36===xe&&-1!==Sa.indexOf(ae)||ae===tA&&36===Re||Re===zu||-1!==Ji.indexOf(Re)&&ae===_o||-1!==Ji.indexOf(ae)&&Re===_o||ae===Oh&&-1!==[Ca,Lh,Kg].indexOf(Re)||-1!==[Ca,Lh,Kg].indexOf(ae)&&Re===Vf||-1!==Ji.indexOf(ae)&&-1!==ii.indexOf(Re)||-1!==ii.indexOf(ae)&&-1!==Ji.indexOf(Re)||-1!==[Oh,Vf].indexOf(ae)&&(Re===_o||-1!==[Rh,Nl].indexOf(Re)&&g[ce+1]===_o)||-1!==[Rh,Nl].indexOf(ae)&&Re===_o||ae===_o&&-1!==[_o,tA,Xa].indexOf(Re))return gi;if(-1!==[_o,tA,Xa,Ms,Rl].indexOf(Re))for(var He=O;He>=0;){if((ut=g[He])===_o)return gi;if(-1===[tA,Xa].indexOf(ut))break;He--}if(-1!==[Oh,Vf].indexOf(Re))for(He=-1!==[Ms,Rl].indexOf(ae)?H:O;He>=0;){var ut;if((ut=g[He])===_o)return gi;if(-1===[tA,Xa].indexOf(ut))break;He--}if(Mv===ae&&-1!==[Mv,zf,Qf,Tv].indexOf(Re)||-1!==[zf,Qf].indexOf(ae)&&-1!==[zf,Qi].indexOf(Re)||-1!==[Qi,Tv].indexOf(ae)&&Re===Qi||-1!==Jr.indexOf(ae)&&-1!==[zu,Vf].indexOf(Re)||-1!==Jr.indexOf(Re)&&ae===Oh||-1!==Ji.indexOf(ae)&&-1!==Ji.indexOf(Re)||ae===Xa&&-1!==Ji.indexOf(Re)||-1!==Ji.concat(_o).indexOf(ae)&&Re===Rh&&-1===iD.indexOf(v[ce])||-1!==Ji.concat(_o).indexOf(Re)&&ae===Rl)return gi;if(41===ae&&41===Re){for(var Jt=w[O],It=1;Jt>0&&41===g[--Jt];)It++;if(It%2!=0)return gi}return ae===Lh&&Re===Kg?gi:"\xf7"},Yb=function(v,g){g||(g={lineBreak:"normal",wordBreak:"normal"});var w=function(v,g){void 0===g&&(g="strict");var w=[],b=[],D=[];return v.forEach(function(O,H){var ce=Xg.get(O);if(ce>50?(D.push(!0),ce-=50):D.push(!1),-1!==["normal","auto","loose"].indexOf(g)&&-1!==[8208,8211,12316,12448].indexOf(O))return b.push(H),w.push(16);if(4===ce||11===ce){if(0===H)return b.push(H),w.push(Ph);var ae=w[H-1];return-1===Yg.indexOf(ae)?(b.push(b[H-1]),w.push(ae)):(b.push(H),w.push(Ph))}return b.push(H),31===ce?w.push("strict"===g?Hf:Ca):ce===qb||29===ce?w.push(Ph):43===ce?w.push(O>=131072&&O<=196605||O>=196608&&O<=262141?Ca:Ph):void w.push(ce)}),[b,w,D]}(v,g.lineBreak),b=w[0],D=w[1],O=w[2];return("break-all"===g.wordBreak||"break-word"===g.wordBreak)&&(D=D.map(function(ce){return-1!==[_o,Ph,qb].indexOf(ce)?Ca:ce})),[b,D,"keep-all"===g.wordBreak?O.map(function(ce,ae){return ce&&v[ae]>=19968&&v[ae]<=40959}):void 0]},rD=function(){function v(g,w,b,D){this.codePoints=g,this.required="!"===w,this.start=b,this.end=D}return v.prototype.slice=function(){return Ni.apply(void 0,this.codePoints.slice(this.start,this.end))},v}(),Is=function(v){return v>=48&&v<=57},kh=function(v){return Is(v)||v>=65&&v<=70||v>=97&&v<=102},$f=function(v){return 10===v||9===v||32===v},oA=function(v){return function(v){return function(v){return v>=97&&v<=122}(v)||function(v){return v>=65&&v<=90}(v)}(v)||function(v){return v>=128}(v)||95===v},nC=function(v){return oA(v)||Is(v)||45===v},Pv=function(v){return v>=0&&v<=8||11===v||v>=14&&v<=31||127===v},Hh=function(v,g){return 92===v&&10!==g},Lv=function(v,g,w){return 45===v?oA(g)||Hh(g,w):!!oA(v)||!(92!==v||!Hh(v,g))},iC=function(v,g,w){return 43===v||45===v?!!Is(g)||46===g&&Is(w):Is(46===v?g:v)},HU=function(v){var g=0,w=1;(43===v[g]||45===v[g])&&(45===v[g]&&(w=-1),g++);for(var b=[];Is(v[g]);)b.push(v[g++]);var D=b.length?parseInt(Ni.apply(void 0,b),10):0;46===v[g]&&g++;for(var O=[];Is(v[g]);)O.push(v[g++]);var H=O.length,ce=H?parseInt(Ni.apply(void 0,O),10):0;(69===v[g]||101===v[g])&&g++;var ae=1;(43===v[g]||45===v[g])&&(45===v[g]&&(ae=-1),g++);for(var xe=[];Is(v[g]);)xe.push(v[g++]);var Re=xe.length?parseInt(Ni.apply(void 0,xe),10):0;return w*(D+ce*Math.pow(10,-H))*Math.pow(10,ae*Re)},Uv={type:2},Kf={type:3},kv={type:4},Hv={type:13},rC={type:8},Zc={type:21},qf={type:9},sC={type:10},zn={type:11},Gi={type:12},VU={type:14},im={type:23},gD={type:1},QU={type:25},mD={type:24},Vv={type:26},mi={type:27},Qv={type:28},oC={type:29},Zo={type:31},rm={type:32},_D=function(){function v(){this._value=[]}return v.prototype.write=function(g){this._value=this._value.concat(yn(g))},v.prototype.read=function(){for(var g=[],w=this.consumeToken();w!==rm;)g.push(w),w=this.consumeToken();return g},v.prototype.consumeToken=function(){var g=this.consumeCodePoint();switch(g){case 34:return this.consumeStringToken(34);case 35:var w=this.peekCodePoint(0),b=this.peekCodePoint(1),D=this.peekCodePoint(2);if(nC(w)||Hh(b,D)){var O=Lv(w,b,D)?2:1;return{type:5,value:this.consumeName(),flags:O}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Hv;break;case 39:return this.consumeStringToken(39);case 40:return Uv;case 41:return Kf;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),VU;break;case 43:if(iC(g,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(g),this.consumeNumericToken();break;case 44:return kv;case 45:var ce=g,ae=this.peekCodePoint(0),xe=this.peekCodePoint(1);if(iC(ce,ae,xe))return this.reconsumeCodePoint(g),this.consumeNumericToken();if(Lv(ce,ae,xe))return this.reconsumeCodePoint(g),this.consumeIdentLikeToken();if(45===ae&&62===xe)return this.consumeCodePoint(),this.consumeCodePoint(),mD;break;case 46:if(iC(g,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(g),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var Re=this.consumeCodePoint();if(42===Re&&47===(Re=this.consumeCodePoint()))return this.consumeToken();if(-1===Re)return this.consumeToken()}break;case 58:return Vv;case 59:return mi;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),QU;break;case 64:var He=this.peekCodePoint(0),ut=this.peekCodePoint(1),Jt=this.peekCodePoint(2);if(Lv(He,ut,Jt))return{type:7,value:this.consumeName()};break;case 91:return Qv;case 92:if(Hh(g,this.peekCodePoint(0)))return this.reconsumeCodePoint(g),this.consumeIdentLikeToken();break;case 93:return oC;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),rC;break;case 123:return zn;case 125:return Gi;case 117:case 85:var It=this.peekCodePoint(0),$t=this.peekCodePoint(1);return 43===It&&(kh($t)||63===$t)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(g),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),qf;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Zc;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),sC;break;case-1:return rm}return $f(g)?(this.consumeWhiteSpace(),Zo):Is(g)?(this.reconsumeCodePoint(g),this.consumeNumericToken()):oA(g)?(this.reconsumeCodePoint(g),this.consumeIdentLikeToken()):{type:6,value:Ni(g)}},v.prototype.consumeCodePoint=function(){var g=this._value.shift();return typeof g>"u"?-1:g},v.prototype.reconsumeCodePoint=function(g){this._value.unshift(g)},v.prototype.peekCodePoint=function(g){return g>=this._value.length?-1:this._value[g]},v.prototype.consumeUnicodeRangeToken=function(){for(var g=[],w=this.consumeCodePoint();kh(w)&&g.length<6;)g.push(w),w=this.consumeCodePoint();for(var b=!1;63===w&&g.length<6;)g.push(w),w=this.consumeCodePoint(),b=!0;if(b)return{type:30,start:parseInt(Ni.apply(void 0,g.map(function(ae){return 63===ae?48:ae})),16),end:parseInt(Ni.apply(void 0,g.map(function(ae){return 63===ae?70:ae})),16)};var H=parseInt(Ni.apply(void 0,g),16);if(45===this.peekCodePoint(0)&&kh(this.peekCodePoint(1))){this.consumeCodePoint(),w=this.consumeCodePoint();for(var ce=[];kh(w)&&ce.length<6;)ce.push(w),w=this.consumeCodePoint();return{type:30,start:H,end:parseInt(Ni.apply(void 0,ce),16)}}return{type:30,start:H,end:H}},v.prototype.consumeIdentLikeToken=function(){var g=this.consumeName();return"url"===g.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:g}):{type:20,value:g}},v.prototype.consumeUrlToken=function(){var g=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var w=this.peekCodePoint(0);if(39===w||34===w){var b=this.consumeStringToken(this.consumeCodePoint());return 0===b.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:b.value}):(this.consumeBadUrlRemnants(),im)}for(;;){var D=this.consumeCodePoint();if(-1===D||41===D)return{type:22,value:Ni.apply(void 0,g)};if($f(D))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:Ni.apply(void 0,g)}):(this.consumeBadUrlRemnants(),im);if(34===D||39===D||40===D||Pv(D))return this.consumeBadUrlRemnants(),im;if(92===D){if(!Hh(D,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),im;g.push(this.consumeEscapedCodePoint())}else g.push(D)}},v.prototype.consumeWhiteSpace=function(){for(;$f(this.peekCodePoint(0));)this.consumeCodePoint()},v.prototype.consumeBadUrlRemnants=function(){for(;;){var g=this.consumeCodePoint();if(41===g||-1===g)return;Hh(g,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},v.prototype.consumeStringSlice=function(g){for(var b="";g>0;){var D=Math.min(5e4,g);b+=Ni.apply(void 0,this._value.splice(0,D)),g-=D}return this._value.shift(),b},v.prototype.consumeStringToken=function(g){for(var w="",b=0;;){var D=this._value[b];if(-1===D||void 0===D||D===g)return{type:0,value:w+=this.consumeStringSlice(b)};if(10===D)return this._value.splice(0,b),gD;if(92===D){var O=this._value[b+1];-1!==O&&void 0!==O&&(10===O?(w+=this.consumeStringSlice(b),b=-1,this._value.shift()):Hh(D,O)&&(w+=this.consumeStringSlice(b),w+=Ni(this.consumeEscapedCodePoint()),b=-1))}b++}},v.prototype.consumeNumber=function(){var g=[],w=4,b=this.peekCodePoint(0);for((43===b||45===b)&&g.push(this.consumeCodePoint());Is(this.peekCodePoint(0));)g.push(this.consumeCodePoint());b=this.peekCodePoint(0);var D=this.peekCodePoint(1);if(46===b&&Is(D))for(g.push(this.consumeCodePoint(),this.consumeCodePoint()),w=8;Is(this.peekCodePoint(0));)g.push(this.consumeCodePoint());b=this.peekCodePoint(0),D=this.peekCodePoint(1);var O=this.peekCodePoint(2);if((69===b||101===b)&&((43===D||45===D)&&Is(O)||Is(D)))for(g.push(this.consumeCodePoint(),this.consumeCodePoint()),w=8;Is(this.peekCodePoint(0));)g.push(this.consumeCodePoint());return[HU(g),w]},v.prototype.consumeNumericToken=function(){var g=this.consumeNumber(),w=g[0],b=g[1],D=this.peekCodePoint(0),O=this.peekCodePoint(1),H=this.peekCodePoint(2);return Lv(D,O,H)?{type:15,number:w,flags:b,unit:this.consumeName()}:37===D?(this.consumeCodePoint(),{type:16,number:w,flags:b}):{type:17,number:w,flags:b}},v.prototype.consumeEscapedCodePoint=function(){var g=this.consumeCodePoint();if(kh(g)){for(var w=Ni(g);kh(this.peekCodePoint(0))&&w.length<6;)w+=Ni(this.consumeCodePoint());$f(this.peekCodePoint(0))&&this.consumeCodePoint();var b=parseInt(w,16);return 0===b||function(v){return v>=55296&&v<=57343}(b)||b>1114111?65533:b}return-1===g?65533:g},v.prototype.consumeName=function(){for(var g="";;){var w=this.consumeCodePoint();if(nC(w))g+=Ni(w);else{if(!Hh(w,this.peekCodePoint(0)))return this.reconsumeCodePoint(w),g;g+=Ni(this.consumeEscapedCodePoint())}}},v}(),vD=function(){function v(g){this._tokens=g}return v.create=function(g){var w=new _D;return w.write(g),new v(w.read())},v.parseValue=function(g){return v.create(g).parseComponentValue()},v.parseValues=function(g){return v.create(g).parseComponentValues()},v.prototype.parseComponentValue=function(){for(var g=this.consumeToken();31===g.type;)g=this.consumeToken();if(32===g.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(g);var w=this.consumeComponentValue();do{g=this.consumeToken()}while(31===g.type);if(32===g.type)return w;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},v.prototype.parseComponentValues=function(){for(var g=[];;){var w=this.consumeComponentValue();if(32===w.type)return g;g.push(w),g.push()}},v.prototype.consumeComponentValue=function(){var g=this.consumeToken();switch(g.type){case 11:case 28:case 2:return this.consumeSimpleBlock(g.type);case 19:return this.consumeFunction(g)}return g},v.prototype.consumeSimpleBlock=function(g){for(var w={type:g,values:[]},b=this.consumeToken();;){if(32===b.type||wD(b,g))return w;this.reconsumeToken(b),w.values.push(this.consumeComponentValue()),b=this.consumeToken()}},v.prototype.consumeFunction=function(g){for(var w={name:g.value,values:[],type:18};;){var b=this.consumeToken();if(32===b.type||3===b.type)return w;this.reconsumeToken(b),w.values.push(this.consumeComponentValue())}},v.prototype.consumeToken=function(){var g=this._tokens.shift();return typeof g>"u"?rm:g},v.prototype.reconsumeToken=function(g){this._tokens.unshift(g)},v}(),eu=function(v){return 15===v.type},Wu=function(v){return 17===v.type},zi=function(v){return 20===v.type},yD=function(v){return 0===v.type},Gv=function(v,g){return zi(v)&&v.value===g},aC=function(v){return 31!==v.type},Vh=function(v){return 31!==v.type&&4!==v.type},Po=function(v){var g=[],w=[];return v.forEach(function(b){if(4===b.type){if(0===w.length)throw new Error("Error parsing function args, zero tokens for arg");return g.push(w),void(w=[])}31!==b.type&&w.push(b)}),w.length&&g.push(w),g},wD=function(v,g){return 11===g&&12===v.type||28===g&&29===v.type||2===g&&3===v.type},Lo=function(v){return 17===v.type||15===v.type},As=function(v){return 16===v.type||Lo(v)},bt=function(v){return v.length>1?[v[0],v[1]]:[v[0]]},zs={type:17,number:0,flags:4},we={type:16,number:50,flags:4},Fl={type:16,number:100,flags:4},Qh=function(v,g,w){var b=v[0],D=v[1];return[nr(b,g),nr(typeof D<"u"?D:b,w)]},nr=function(v,g){if(16===v.type)return v.number/100*g;if(eu(v))switch(v.unit){case"rem":case"em":return 16*v.number;default:return v.number}return v.number},Gh_parse=function(v,g){if(15===g.type)switch(g.unit){case"deg":return Math.PI*g.number/180;case"grad":return Math.PI/200*g.number;case"rad":return g.number;case"turn":return 2*Math.PI*g.number}throw new Error("Unsupported angle type")},dC=function(v){return 15===v.type&&("deg"===v.unit||"grad"===v.unit||"rad"===v.unit||"turn"===v.unit)},Xf=function(v){switch(v.filter(zi).map(function(w){return w.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[zs,zs];case"to top":case"bottom":return Ja(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[zs,Fl];case"to right":case"left":return Ja(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Fl,Fl];case"to bottom":case"top":return Ja(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Fl,zs];case"to left":case"right":return Ja(270)}return 0},Ja=function(v){return Math.PI*v/180},ea_parse=function(v,g){if(18===g.type){var w=GU[g.name];if(typeof w>"u")throw new Error('Attempting to parse an unsupported color function "'+g.name+'"');return w(v,g.values)}if(5===g.type){if(3===g.value.length){var b=g.value.substring(0,1),D=g.value.substring(1,2),O=g.value.substring(2,3);return Ta(parseInt(b+b,16),parseInt(D+D,16),parseInt(O+O,16),1)}if(4===g.value.length){b=g.value.substring(0,1),D=g.value.substring(1,2),O=g.value.substring(2,3);var H=g.value.substring(3,4);return Ta(parseInt(b+b,16),parseInt(D+D,16),parseInt(O+O,16),parseInt(H+H,16)/255)}if(6===g.value.length)return b=g.value.substring(0,2),D=g.value.substring(2,4),O=g.value.substring(4,6),Ta(parseInt(b,16),parseInt(D,16),parseInt(O,16),1);if(8===g.value.length)return b=g.value.substring(0,2),D=g.value.substring(2,4),O=g.value.substring(4,6),H=g.value.substring(6,8),Ta(parseInt(b,16),parseInt(D,16),parseInt(O,16),parseInt(H,16)/255)}if(20===g.type){var ce=Ku[g.value.toUpperCase()];if(typeof ce<"u")return ce}return Ku.TRANSPARENT},$u=function(v){return!(255&v)},ji=function(v){var g=255&v,w=255&v>>8,b=255&v>>16,D=255&v>>24;return g<255?"rgba("+D+","+b+","+w+","+g/255+")":"rgb("+D+","+b+","+w+")"},Ta=function(v,g,w,b){return(v<<24|g<<16|w<<8|Math.round(255*b))>>>0},zv=function(v,g){if(17===v.type)return v.number;if(16===v.type){var w=3===g?1:255;return 3===g?v.number/100*w:Math.round(v.number/100*w)}return 0},Yf=function(v,g){var w=g.filter(Vh);if(3===w.length){var b=w.map(zv);return Ta(b[0],b[1],b[2],1)}if(4===w.length){var ce=w.map(zv);return Ta(ce[0],ce[1],ce[2],ce[3])}return 0};function aA(v,g,w){return w<0&&(w+=1),w>=1&&(w-=1),w<1/6?(g-v)*w*6+v:w<.5?g:w<2/3?6*(g-v)*(2/3-w)+v:v}var sm=function(v,g){var w=g.filter(Vh),b=w[0],D=w[1],O=w[2],H=w[3],ce=(17===b.type?Ja(b.number):Gh_parse(v,b))/(2*Math.PI),ae=As(D)?D.number/100:0,xe=As(O)?O.number/100:0,Re=typeof H<"u"&&As(H)?nr(H,1):1;if(0===ae)return Ta(255*xe,255*xe,255*xe,1);var He=xe<=.5?xe*(ae+1):xe+ae-xe*ae,ut=2*xe-He,Jt=aA(ut,He,ce+1/3),It=aA(ut,He,ce),$t=aA(ut,He,ce-1/3);return Ta(255*Jt,255*It,255*$t,Re)},GU={hsl:sm,hsla:sm,rgb:Yf,rgba:Yf},lA=function(v,g){return ea_parse(v,vD.create(g).parseComponentValue())},Ku={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ma={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(v,g){return g.map(function(w){if(zi(w))switch(w.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},jv={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},tu=function(v,g){var w=ea_parse(v,g[0]),b=g[1];return b&&As(b)?{color:w,stop:b}:{color:w,stop:null}},bD=function(v,g){var w=v[0],b=v[v.length-1];null===w.stop&&(w.stop=zs),null===b.stop&&(b.stop=Fl);for(var D=[],O=0,H=0;H<v.length;H++){var ce=v[H].stop;if(null!==ce){var ae=nr(ce,g);D.push(ae>O?ae:O),O=ae}else D.push(null)}var xe=null;for(H=0;H<D.length;H++){var Re=D[H];if(null===Re)null===xe&&(xe=H);else if(null!==xe){for(var He=H-xe,Jt=(Re-D[xe-1])/(He+1),It=1;It<=He;It++)D[xe+It-1]=Jt*It;xe=null}}return v.map(function($t,ti){return{color:$t.color,stop:Math.max(Math.min(1,D[ti]/g),0)}})},Ac=function(v,g,w){var b="number"==typeof v?v:function(v,g,w){var b=g/2,D=w/2,O=nr(v[0],g)-b,H=D-nr(v[1],w);return(Math.atan2(H,O)+2*Math.PI)%(2*Math.PI)}(v,g,w),D=Math.abs(g*Math.sin(b))+Math.abs(w*Math.cos(b)),O=g/2,H=w/2,ce=D/2,ae=Math.sin(b-Math.PI/2)*ce,xe=Math.cos(b-Math.PI/2)*ce;return[D,O-xe,O+xe,H-ae,H+ae]},Kn=function(v,g){return Math.sqrt(v*v+g*g)},nu=function(v,g,w,b,D){return[[0,0],[0,g],[v,0],[v,g]].reduce(function(H,ce){var Re=Kn(w-ce[0],b-ce[1]);return(D?Re<H.optimumDistance:Re>H.optimumDistance)?{optimumCorner:ce,optimumDistance:Re}:H},{optimumDistance:D?1/0:-1/0,optimumCorner:null}).optimumCorner},zh=function(v,g){var w=Ja(180),b=[];return Po(g).forEach(function(D,O){if(0===O){var H=D[0];if(20===H.type&&-1!==["top","left","right","bottom"].indexOf(H.value))return void(w=Xf(D));if(dC(H))return void(w=(Gh_parse(v,H)+Ja(270))%Ja(360))}var ce=tu(v,D);b.push(ce)}),{angle:w,stops:b,type:1}},Za="closest-side",$n="farthest-side",pC="closest-corner",am="farthest-corner",Kv="ellipse",qv="contain",lm=function(v,g){var w=0,b=3,D=[],O=[];return Po(g).forEach(function(H,ce){var ae=!0;if(0===ce?ae=H.reduce(function(Re,He){if(zi(He))switch(He.value){case"center":return O.push(we),!1;case"top":case"left":return O.push(zs),!1;case"right":case"bottom":return O.push(Fl),!1}else if(As(He)||Lo(He))return O.push(He),!1;return Re},ae):1===ce&&(ae=H.reduce(function(Re,He){if(zi(He))switch(He.value){case"circle":return w=0,!1;case Kv:return w=1,!1;case qv:case Za:return b=0,!1;case $n:return b=1,!1;case pC:return b=2,!1;case"cover":case am:return b=3,!1}else if(Lo(He)||As(He))return Array.isArray(b)||(b=[]),b.push(He),!1;return Re},ae)),ae){var xe=tu(v,H);D.push(xe)}}),{size:b,shape:w,stops:D,position:O,type:2}},Yv_parse=function(v,g){if(22===g.type){var w={url:g.value,type:0};return v.cache.addImage(g.value),w}if(18===g.type){var b=mC[g.name];if(typeof b>"u")throw new Error('Attempting to parse an unsupported image function "'+g.name+'"');return b(v,g.values)}throw new Error("Unsupported image type "+g.type)};for(var mC={"linear-gradient":function(v,g){var w=Ja(180),b=[];return Po(g).forEach(function(D,O){if(0===O){var H=D[0];if(20===H.type&&"to"===H.value)return void(w=Xf(D));if(dC(H))return void(w=Gh_parse(v,H))}var ce=tu(v,D);b.push(ce)}),{angle:w,stops:b,type:1}},"-moz-linear-gradient":zh,"-ms-linear-gradient":zh,"-o-linear-gradient":zh,"-webkit-linear-gradient":zh,"radial-gradient":function(v,g){var w=0,b=3,D=[],O=[];return Po(g).forEach(function(H,ce){var ae=!0;if(0===ce){var xe=!1;ae=H.reduce(function(He,ut){if(xe)if(zi(ut))switch(ut.value){case"center":return O.push(we),He;case"top":case"left":return O.push(zs),He;case"right":case"bottom":return O.push(Fl),He}else(As(ut)||Lo(ut))&&O.push(ut);else if(zi(ut))switch(ut.value){case"circle":return w=0,!1;case Kv:return w=1,!1;case"at":return xe=!0,!1;case Za:return b=0,!1;case"cover":case $n:return b=1,!1;case qv:case pC:return b=2,!1;case am:return b=3,!1}else if(Lo(ut)||As(ut))return Array.isArray(b)||(b=[]),b.push(ut),!1;return He},ae)}if(ae){var Re=tu(v,H);D.push(Re)}}),{size:b,shape:w,stops:D,position:O,type:2}},"-moz-radial-gradient":lm,"-ms-radial-gradient":lm,"-o-radial-gradient":lm,"-webkit-radial-gradient":lm,"-webkit-gradient":function(v,g){var w=Ja(180),b=[],D=1;return Po(g).forEach(function(ae,xe){var Re=ae[0];if(0===xe){if(zi(Re)&&"linear"===Re.value)return void(D=1);if(zi(Re)&&"radial"===Re.value)return void(D=2)}if(18===Re.type)if("from"===Re.name){var He=ea_parse(v,Re.values[0]);b.push({stop:zs,color:He})}else if("to"===Re.name)He=ea_parse(v,Re.values[0]),b.push({stop:Fl,color:He});else if("color-stop"===Re.name){var ut=Re.values.filter(Vh);if(2===ut.length){He=ea_parse(v,ut[1]);var Jt=ut[0];Wu(Jt)&&b.push({stop:{type:16,number:100*Jt.number,flags:Jt.flags},color:He})}}}),1===D?{angle:(w+Ja(180))%Ja(360),stops:b,type:D}:{size:3,shape:0,stops:b,position:[],type:D}}},_C={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(v,g){if(0===g.length)return[];var w=g[0];return 20===w.type&&"none"===w.value?[]:g.filter(function(b){return Vh(b)&&function Ol(v){return!(20===v.type&&"none"===v.value||18===v.type&&!mC[v.name])}(b)}).map(function(b){return Yv_parse(v,b)})}},SD={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(v,g){return g.map(function(w){if(zi(w))switch(w.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ED={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(v,g){return Po(g).map(function(w){return w.filter(As)}).map(bt)}},xD={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(v,g){return Po(g).map(function(w){return w.filter(zi).map(function(b){return b.value}).join(" ")}).map(TD)}},TD=function(v){switch(v){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},uA=function(v){return v.AUTO="auto",v.CONTAIN="contain",v.COVER="cover",v}(uA||{}),MD={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(v,g){return Po(g).map(function(w){return w.filter(DD)})}},DD=function(v){return zi(v)||As(v)},cm=function(v){return{name:"border-"+v+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Fn=cm("top"),BD=cm("right"),ID=cm("bottom"),ui=cm("left"),Jf=function(v){return{name:"border-radius-"+v,initialValue:"0 0",prefix:!1,type:1,parse:function(g,w){return bt(w.filter(As))}}},Vt=Jf("top-left"),ta=Jf("top-right"),hi=Jf("bottom-right"),Ns=Jf("bottom-left"),fs=function(v){return{name:"border-"+v+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(g,w){switch(w){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},qu=fs("top"),vo=fs("right"),vC=fs("bottom"),yC=fs("left"),jh=function(v){return{name:"border-"+v+"-width",initialValue:"0",type:0,prefix:!1,parse:function(g,w){return eu(w)?w.number:0}}},ND=jh("top"),RD=jh("right"),hA=jh("bottom"),FD=jh("left"),Jv={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wC={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(v,g){return"rtl"===g?1:0}},um={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(v,g){return g.filter(zi).reduce(function(w,b){return w|zU(b.value)},0)}},zU=function(v){switch(v){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Zv={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(v,g){switch(g){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},OD={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(v,g){return 20===g.type&&"normal"===g.value?0:17===g.type||15===g.type?g.number:0}},Zf=function(v){return v.NORMAL="normal",v.STRICT="strict",v}(Zf||{}),bC={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(v,g){return"strict"===g?Zf.STRICT:Zf.NORMAL}},CC={name:"line-height",initialValue:"normal",prefix:!1,type:4},Xu=function(v,g){return zi(v)&&"normal"===v.value?1.2*g:17===v.type?g*v.number:As(v)?nr(v,g):g},PD={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(v,g){return 20===g.type&&"none"===g.value?null:Yv_parse(v,g)}},ey={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(v,g){return"inside"===g?0:1}},dA={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(v,g){switch(g){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},hm=function(v){return{name:"margin-"+v,initialValue:"0",prefix:!1,type:4}},ty=hm("top"),dm=hm("right"),lo=hm("bottom"),AA=hm("left"),ny={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(v,g){return g.filter(zi).map(function(w){switch(w.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},LD={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(v,g){return"break-word"===g?"break-word":"normal"}},Am=function(v){return{name:"padding-"+v,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},SC=Am("top"),fA=Am("right"),UD=Am("bottom"),kD=Am("left"),HD={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(v,g){switch(g){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},iy={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(v,g){switch(g){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},fc={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(v,g){return 1===g.length&&Gv(g[0],"none")?[]:Po(g).map(function(w){for(var b={color:Ku.TRANSPARENT,offsetX:zs,offsetY:zs,blur:zs},D=0,O=0;O<w.length;O++){var H=w[O];Lo(H)?(0===D?b.offsetX=H:1===D?b.offsetY=H:b.blur=H,D++):b.color=ea_parse(v,H)}return b})}},EC={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(v,g){switch(g){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ep={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(v,g){if(20===g.type&&"none"===g.value)return null;if(18===g.type){var w=QD[g.name];if(typeof w>"u")throw new Error('Attempting to parse an unsupported transform function "'+g.name+'"');return w(g.values)}return null}},QD={matrix:function(v){var g=v.filter(function(w){return 17===w.type}).map(function(w){return w.number});return 6===g.length?g:null},matrix3d:function(v){var g=v.filter(function(ae){return 17===ae.type}).map(function(ae){return ae.number});return 16===g.length?[g[0],g[1],g[4],g[5],g[12],g[13]]:null}},ps={type:16,number:50,flags:4},xC=[ps,ps],GD={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(v,g){var w=g.filter(As);return 2!==w.length?xC:[w[0],w[1]]}},tp={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(v,g){switch(g){case"hidden":return 1;case"collapse":return 2;default:return 0}}},fm=function(v){return v.NORMAL="normal",v.BREAK_ALL="break-all",v.KEEP_ALL="keep-all",v}(fm||{}),zD={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(v,g){switch(g){case"break-all":return fm.BREAK_ALL;case"keep-all":return fm.KEEP_ALL;default:return fm.NORMAL}}},jD={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(v,g){if(20===g.type)return{auto:!0,order:0};if(Wu(g))return{auto:!1,order:g.number};throw new Error("Invalid z-index number parsed")}},TC={name:"time",parse:function(v,g){if(15===g.type)switch(g.unit.toLowerCase()){case"s":return 1e3*g.number;case"ms":return g.number}throw new Error("Unsupported time type")}},WD={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(v,g){return Wu(g)?g.number:1}},$D={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ry={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(v,g){return g.filter(zi).map(function(w){switch(w.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(w){return 0!==w})}},pm={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(v,g){var w=[],b=[];return g.forEach(function(D){switch(D.type){case 20:case 0:w.push(D.value);break;case 17:w.push(D.number.toString());break;case 4:b.push(w.join(" ")),w.length=0}}),w.length&&b.push(w.join(" ")),b.map(function(D){return-1===D.indexOf(" ")?D:"'"+D+"'"})}},Vr={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Rt={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(v,g){return Wu(g)?g.number:zi(g)&&"bold"===g.value?700:400}},vn={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(v,g){return g.filter(zi).map(function(w){return w.value})}},is={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(v,g){switch(g){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},lr=function(v,g){return!!(v&g)},yo={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(v,g){if(0===g.length)return[];var w=g[0];return 20===w.type&&"none"===w.value?[]:g}},Da={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(v,g){if(0===g.length)return null;var w=g[0];if(20===w.type&&"none"===w.value)return null;for(var b=[],D=g.filter(aC),O=0;O<D.length;O++){var H=D[O],ce=D[O+1];if(20===H.type){var ae=ce&&Wu(ce)?ce.number:1;b.push({counter:H.value,increment:ae})}}return b}},gA={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(v,g){if(0===g.length)return[];for(var w=[],b=g.filter(aC),D=0;D<b.length;D++){var O=b[D],H=b[D+1];if(zi(O)&&"none"!==O.value){var ce=H&&Wu(H)?H.number:0;w.push({counter:O.value,reset:ce})}}return w}},xr={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(v,g){return g.filter(eu).map(function(w){return TC.parse(v,w)})}},gs={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(v,g){if(0===g.length)return null;var w=g[0];if(20===w.type&&"none"===w.value)return null;var b=[],D=g.filter(yD);if(D.length%2!=0)return null;for(var O=0;O<D.length;O+=2)b.push({open:D[O].value,close:D[O+1].value});return b}},el=function(v,g,w){if(!v)return"";var b=v[Math.min(g,v.length-1)];return b?w?b.open:b.close:""},On={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(v,g){return 1===g.length&&Gv(g[0],"none")?[]:Po(g).map(function(w){for(var b={color:255,offsetX:zs,offsetY:zs,blur:zs,spread:zs,inset:!1},D=0,O=0;O<w.length;O++){var H=w[O];Gv(H,"inset")?b.inset=!0:Lo(H)?(0===D?b.offsetX=H:1===D?b.offsetY=H:2===D?b.blur=H:b.spread=H,D++):b.color=ea_parse(v,H)}return b})}},np={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(v,g){var b=[];return g.filter(zi).forEach(function(D){switch(D.value){case"stroke":b.push(1);break;case"fill":b.push(0);break;case"markers":b.push(2)}}),[0,1,2].forEach(function(D){-1===b.indexOf(D)&&b.push(D)}),b}},MC={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},mA={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(v,g){return eu(g)?g.number:0}},Kr=function(){function v(g,w){var b,D;this.animationDuration=Wt(g,xr,w.animationDuration),this.backgroundClip=Wt(g,Ma,w.backgroundClip),this.backgroundColor=Wt(g,jv,w.backgroundColor),this.backgroundImage=Wt(g,_C,w.backgroundImage),this.backgroundOrigin=Wt(g,SD,w.backgroundOrigin),this.backgroundPosition=Wt(g,ED,w.backgroundPosition),this.backgroundRepeat=Wt(g,xD,w.backgroundRepeat),this.backgroundSize=Wt(g,MD,w.backgroundSize),this.borderTopColor=Wt(g,Fn,w.borderTopColor),this.borderRightColor=Wt(g,BD,w.borderRightColor),this.borderBottomColor=Wt(g,ID,w.borderBottomColor),this.borderLeftColor=Wt(g,ui,w.borderLeftColor),this.borderTopLeftRadius=Wt(g,Vt,w.borderTopLeftRadius),this.borderTopRightRadius=Wt(g,ta,w.borderTopRightRadius),this.borderBottomRightRadius=Wt(g,hi,w.borderBottomRightRadius),this.borderBottomLeftRadius=Wt(g,Ns,w.borderBottomLeftRadius),this.borderTopStyle=Wt(g,qu,w.borderTopStyle),this.borderRightStyle=Wt(g,vo,w.borderRightStyle),this.borderBottomStyle=Wt(g,vC,w.borderBottomStyle),this.borderLeftStyle=Wt(g,yC,w.borderLeftStyle),this.borderTopWidth=Wt(g,ND,w.borderTopWidth),this.borderRightWidth=Wt(g,RD,w.borderRightWidth),this.borderBottomWidth=Wt(g,hA,w.borderBottomWidth),this.borderLeftWidth=Wt(g,FD,w.borderLeftWidth),this.boxShadow=Wt(g,On,w.boxShadow),this.color=Wt(g,Jv,w.color),this.direction=Wt(g,wC,w.direction),this.display=Wt(g,um,w.display),this.float=Wt(g,Zv,w.cssFloat),this.fontFamily=Wt(g,pm,w.fontFamily),this.fontSize=Wt(g,Vr,w.fontSize),this.fontStyle=Wt(g,is,w.fontStyle),this.fontVariant=Wt(g,vn,w.fontVariant),this.fontWeight=Wt(g,Rt,w.fontWeight),this.letterSpacing=Wt(g,OD,w.letterSpacing),this.lineBreak=Wt(g,bC,w.lineBreak),this.lineHeight=Wt(g,CC,w.lineHeight),this.listStyleImage=Wt(g,PD,w.listStyleImage),this.listStylePosition=Wt(g,ey,w.listStylePosition),this.listStyleType=Wt(g,dA,w.listStyleType),this.marginTop=Wt(g,ty,w.marginTop),this.marginRight=Wt(g,dm,w.marginRight),this.marginBottom=Wt(g,lo,w.marginBottom),this.marginLeft=Wt(g,AA,w.marginLeft),this.opacity=Wt(g,WD,w.opacity);var O=Wt(g,ny,w.overflow);this.overflowX=O[0],this.overflowY=O[O.length>1?1:0],this.overflowWrap=Wt(g,LD,w.overflowWrap),this.paddingTop=Wt(g,SC,w.paddingTop),this.paddingRight=Wt(g,fA,w.paddingRight),this.paddingBottom=Wt(g,UD,w.paddingBottom),this.paddingLeft=Wt(g,kD,w.paddingLeft),this.paintOrder=Wt(g,np,w.paintOrder),this.position=Wt(g,iy,w.position),this.textAlign=Wt(g,HD,w.textAlign),this.textDecorationColor=Wt(g,$D,null!==(b=w.textDecorationColor)&&void 0!==b?b:w.color),this.textDecorationLine=Wt(g,ry,null!==(D=w.textDecorationLine)&&void 0!==D?D:w.textDecoration),this.textShadow=Wt(g,fc,w.textShadow),this.textTransform=Wt(g,EC,w.textTransform),this.transform=Wt(g,ep,w.transform),this.transformOrigin=Wt(g,GD,w.transformOrigin),this.visibility=Wt(g,tp,w.visibility),this.webkitTextStrokeColor=Wt(g,MC,w.webkitTextStrokeColor),this.webkitTextStrokeWidth=Wt(g,mA,w.webkitTextStrokeWidth),this.wordBreak=Wt(g,zD,w.wordBreak),this.zIndex=Wt(g,jD,w.zIndex)}return v.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},v.prototype.isTransparent=function(){return $u(this.backgroundColor)},v.prototype.isTransformed=function(){return null!==this.transform},v.prototype.isPositioned=function(){return 0!==this.position},v.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},v.prototype.isFloating=function(){return 0!==this.float},v.prototype.isInlineLevel=function(){return lr(this.display,4)||lr(this.display,33554432)||lr(this.display,268435456)||lr(this.display,536870912)||lr(this.display,67108864)||lr(this.display,134217728)},v}(),ip=function(){return function v(g,w){this.content=Wt(g,yo,w.content),this.quotes=Wt(g,gs,w.quotes)}}(),Wh=function(){return function v(g,w){this.counterIncrement=Wt(g,Da,w.counterIncrement),this.counterReset=Wt(g,gA,w.counterReset)}}(),Wt=function(v,g,w){var b=new _D,D=null!==w&&typeof w<"u"?w.toString():g.initialValue;b.write(D);var O=new vD(b.read());switch(g.type){case 2:var H=O.parseComponentValue();return g.parse(v,zi(H)?H.value:g.initialValue);case 0:return g.parse(v,O.parseComponentValue());case 1:return g.parse(v,O.parseComponentValues());case 4:return O.parseComponentValue();case 3:switch(g.format){case"angle":return Gh_parse(v,O.parseComponentValue());case"color":return ea_parse(v,O.parseComponentValue());case"image":return Yv_parse(v,O.parseComponentValue());case"length":var ce=O.parseComponentValue();return Lo(ce)?ce:zs;case"length-percentage":var ae=O.parseComponentValue();return As(ae)?ae:zs;case"time":return TC.parse(v,O.parseComponentValue())}}},pc=function(v,g){var w=function(v){switch(v.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(v);return 1===w||g===w},Ba=function(){return function v(g,w){this.context=g,this.textNodes=[],this.elements=[],this.flags=0,pc(w,3),this.styles=new Kr(g,window.getComputedStyle(w,null)),hp(w)&&(this.styles.animationDuration.some(function(b){return b>0})&&(w.style.animationDuration="0s"),null!==this.styles.transform&&(w.style.transform="none")),this.bounds=Yi(this.context,w),pc(w,4)&&(this.flags|=16)}}(),Hn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kh=typeof Uint8Array>"u"?[]:new Uint8Array(256),Yu=0;Yu<64;Yu++)Kh[Hn.charCodeAt(Yu)]=Yu;for(var YD=function(v,g,w){return v.slice?v.slice(g,w):new Uint16Array(Array.prototype.slice.call(v,g,w))},$U=function(){function v(g,w,b,D,O,H){this.initialValue=g,this.errorValue=w,this.highStart=b,this.highValueIndex=D,this.index=O,this.data=H}return v.prototype.get=function(g){var w;if(g>=0){if(g<55296||g>56319&&g<=65535)return this.data[w=((w=this.index[g>>5])<<2)+(31&g)];if(g<=65535)return this.data[w=((w=this.index[2048+(g-55296>>5)])<<2)+(31&g)];if(g<this.highStart)return w=this.index[w=2080+(g>>11)],this.data[w=((w=this.index[w+=g>>5&63])<<2)+(31&g)];if(g<=1114111)return this.data[this.highValueIndex]}return this.errorValue},v}(),JD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",KU=typeof Uint8Array>"u"?[]:new Uint8Array(256),ly=0;ly<64;ly++)KU[JD.charCodeAt(ly)]=ly;var cy=8,FC=9,tB=11,nB=12,iB=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];if(String.fromCodePoint)return String.fromCodePoint.apply(String,v);var w=v.length;if(!w)return"";for(var b=[],D=-1,O="";++D<w;){var H=v[D];H<=65535?b.push(H):b.push(55296+((H-=65536)>>10),H%1024+56320),(D+1===w||b.length>16384)&&(O+=String.fromCharCode.apply(String,b),b.length=0)}return O},rB=function(v,g){var w=function(v){var b,O,H,ce,ae,g=.75*v.length,w=v.length,D=0;"="===v[v.length-1]&&(g--,"="===v[v.length-2]&&g--);var xe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(g):new Array(g),Re=Array.isArray(xe)?xe:new Uint8Array(xe);for(b=0;b<w;b+=4)O=Kh[v.charCodeAt(b)],H=Kh[v.charCodeAt(b+1)],ce=Kh[v.charCodeAt(b+2)],ae=Kh[v.charCodeAt(b+3)],Re[D++]=O<<2|H>>4,Re[D++]=(15&H)<<4|ce>>2,Re[D++]=(3&ce)<<6|63&ae;return xe}(v),b=Array.isArray(w)?function(v){for(var g=v.length,w=[],b=0;b<g;b+=4)w.push(v[b+3]<<24|v[b+2]<<16|v[b+1]<<8|v[b]);return w}(w):new Uint32Array(w),D=Array.isArray(w)?function(v){for(var g=v.length,w=[],b=0;b<g;b+=2)w.push(v[b+1]<<8|v[b]);return w}(w):new Uint16Array(w),H=YD(D,12,b[4]/2),ce=2===b[5]?YD(D,(24+b[4])/2):function(v,g,w){return v.slice?v.slice(g,w):new Uint32Array(Array.prototype.slice.call(v,g,w))}(b,Math.ceil((24+b[4])/4));return new $U(b[0],b[1],b[2],b[3],H,ce)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),sB=function(v){return rB.get(v)},hy=function(v,g,w){var b=w-2,D=g[b],O=g[w-1],H=g[w];if(2===O&&3===H)return"\xd7";if(2===O||3===O||4===O||2===H||3===H||4===H)return"\xf7";if(O===cy&&-1!==[cy,FC,tB,nB].indexOf(H)||(O===tB||O===FC)&&(H===FC||10===H)||(O===nB||10===O)&&10===H||13===H||5===H||7===H||1===O)return"\xd7";if(13===O&&14===H){for(;5===D;)D=g[--b];if(14===D)return"\xd7"}if(15===O&&15===H){for(var ce=0;15===D;)ce++,D=g[--b];if(ce%2==0)return"\xd7"}return"\xf7"},oB=function(v){var g=function(v){for(var g=[],w=0,b=v.length;w<b;){var D=v.charCodeAt(w++);if(D>=55296&&D<=56319&&w<b){var O=v.charCodeAt(w++);56320==(64512&O)?g.push(((1023&D)<<10)+(1023&O)+65536):(g.push(D),w--)}else g.push(D)}return g}(v),w=g.length,b=0,D=0,O=g.map(sB);return{next:function(){if(b>=w)return{done:!0,value:null};for(var H="\xd7";b<w&&"\xd7"===(H=hy(0,O,++b)););if("\xd7"!==H||b===w){var ce=iB.apply(null,g.slice(D,b));return D=b,{value:ce,done:!1}}return{done:!0,value:null}}}},cr=function(v){return 0===v[0]&&255===v[1]&&0===v[2]&&255===v[3]},Xh=function(v,g,w,b,D){var O="http://www.w3.org/2000/svg",H=document.createElementNS(O,"svg"),ce=document.createElementNS(O,"foreignObject");return H.setAttributeNS(null,"width",v.toString()),H.setAttributeNS(null,"height",g.toString()),ce.setAttributeNS(null,"width","100%"),ce.setAttributeNS(null,"height","100%"),ce.setAttributeNS(null,"x",w.toString()),ce.setAttributeNS(null,"y",b.toString()),ce.setAttributeNS(null,"externalResourcesRequired","true"),H.appendChild(ce),ce.appendChild(D),H},bo=function(v){return new Promise(function(g,w){var b=new Image;b.onload=function(){return g(b)},b.onerror=w,b.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(v))})},co={get SUPPORT_RANGE_BOUNDS(){var v=function(v){if(v.createRange){var w=v.createRange();if(w.getBoundingClientRect){var b=v.createElement("boundtest");b.style.height="123px",b.style.display="block",v.body.appendChild(b),w.selectNode(b);var D=w.getBoundingClientRect(),O=Math.round(D.height);if(v.body.removeChild(b),123===O)return!0}}return!1}(document);return Object.defineProperty(co,"SUPPORT_RANGE_BOUNDS",{value:v}),v},get SUPPORT_WORD_BREAKING(){var v=co.SUPPORT_RANGE_BOUNDS&&function(v){var g=v.createElement("boundtest");g.style.width="50px",g.style.display="block",g.style.fontSize="12px",g.style.letterSpacing="0px",g.style.wordSpacing="0px",v.body.appendChild(g);var w=v.createRange();g.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var b=g.firstChild,D=yn(b.data).map(function(ae){return Ni(ae)}),O=0,H={},ce=D.every(function(ae,xe){w.setStart(b,O),w.setEnd(b,O+ae.length);var Re=w.getBoundingClientRect();O+=ae.length;var He=Re.x>H.x||Re.y>H.y;return H=Re,0===xe||He});return v.body.removeChild(g),ce}(document);return Object.defineProperty(co,"SUPPORT_WORD_BREAKING",{value:v}),v},get SUPPORT_SVG_DRAWING(){var v=function(v){var g=new Image,w=v.createElement("canvas"),b=w.getContext("2d");if(!b)return!1;g.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{b.drawImage(g,0,0),w.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(co,"SUPPORT_SVG_DRAWING",{value:v}),v},get SUPPORT_FOREIGNOBJECT_DRAWING(){var v="function"==typeof Array.from&&"function"==typeof window.fetch?function(v){var g=v.createElement("canvas"),w=100;g.width=w,g.height=w;var b=g.getContext("2d");if(!b)return Promise.reject(!1);b.fillStyle="rgb(0, 255, 0)",b.fillRect(0,0,w,w);var D=new Image,O=g.toDataURL();D.src=O;var H=Xh(w,w,0,0,D);return b.fillStyle="red",b.fillRect(0,0,w,w),bo(H).then(function(ce){b.drawImage(ce,0,0);var ae=b.getImageData(0,0,w,w).data;b.fillStyle="red",b.fillRect(0,0,w,w);var xe=v.createElement("div");return xe.style.backgroundImage="url("+O+")",xe.style.height=w+"px",cr(ae)?bo(Xh(w,w,0,0,xe)):Promise.reject(!1)}).then(function(ce){return b.drawImage(ce,0,0),cr(b.getImageData(0,0,w,w).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(co,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:v}),v},get SUPPORT_CORS_IMAGES(){var v=typeof(new Image).crossOrigin<"u";return Object.defineProperty(co,"SUPPORT_CORS_IMAGES",{value:v}),v},get SUPPORT_RESPONSE_TYPE(){var v="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(co,"SUPPORT_RESPONSE_TYPE",{value:v}),v},get SUPPORT_CORS_XHR(){var v="withCredentials"in new XMLHttpRequest;return Object.defineProperty(co,"SUPPORT_CORS_XHR",{value:v}),v},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var v=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(co,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:v}),v}},iu=function(){return function v(g,w){this.text=g,this.bounds=w}}(),Na=function(v,g){var w=g.ownerDocument;if(w){var b=w.createElement("html2canvaswrapper");b.appendChild(g.cloneNode(!0));var D=g.parentNode;if(D){D.replaceChild(b,g);var O=Yi(v,b);return b.firstChild&&D.replaceChild(b.firstChild,b),O}}return yi.EMPTY},VC=function(v,g,w){var b=v.ownerDocument;if(!b)throw new Error("Node has no owner document");var D=b.createRange();return D.setStart(v,g),D.setEnd(v,g+w),D},op=function(v){if(co.SUPPORT_NATIVE_TEXT_SEGMENTATION){var g=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(g.segment(v)).map(function(w){return w.segment})}return function(v){for(var b,g=oB(v),w=[];!(b=g.next()).done;)b.value&&w.push(b.value.slice());return w}(v)},_c=function(v,g){return 0!==g.letterSpacing?op(v):function(v,g){if(co.SUPPORT_NATIVE_TEXT_SEGMENTATION){var w=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(w.segment(v)).map(function(b){return b.segment})}return cB(v,g)}(v,g)},QC=[32,160,4961,65792,65793,4153,4241],cB=function(v,g){for(var D,w=function(v,g){var w=yn(v),b=Yb(w,g),D=b[0],O=b[1],H=b[2],ce=w.length,ae=0,xe=0;return{next:function(){if(xe>=ce)return{done:!0,value:null};for(var Re=gi;xe<ce&&(Re=Jg(w,O,D,++xe,H))===gi;);if(Re!==gi||xe===ce){var He=new rD(w,Re,ae,xe);return ae=xe,{value:He,done:!1}}return{done:!0,value:null}}}}(v,{lineBreak:g.lineBreak,wordBreak:"break-word"===g.overflowWrap?"break-word":g.wordBreak}),b=[],O=function(){if(D.value){var H=D.value.slice(),ce=yn(H),ae="";ce.forEach(function(xe){-1===QC.indexOf(xe)?ae+=Ni(xe):(ae.length&&b.push(ae),b.push(Ni(xe)),ae="")}),ae.length&&b.push(ae)}};!(D=w.next()).done;)O();return b},GC=function(){return function v(g,w,b){this.text=Ay(w.data,b.textTransform),this.textBounds=function(v,g,w,b){var D=_c(g,w),O=[],H=0;return D.forEach(function(ce){if(w.textDecorationLine.length||ce.trim().length>0)if(co.SUPPORT_RANGE_BOUNDS){var ae=VC(b,H,ce.length).getClientRects();if(ae.length>1){var xe=op(ce),Re=0;xe.forEach(function(ut){O.push(new iu(ut,yi.fromDOMRectList(v,VC(b,Re+H,ut.length).getClientRects()))),Re+=ut.length})}else O.push(new iu(ce,yi.fromDOMRectList(v,ae)))}else{var He=b.splitText(ce.length);O.push(new iu(ce,Na(v,b))),b=He}else co.SUPPORT_RANGE_BOUNDS||(b=b.splitText(ce.length));H+=ce.length}),O}(g,this.text,b,w)}}(),Ay=function(v,g){switch(g){case 1:return v.toLowerCase();case 3:return v.replace(fy,ap);case 2:return v.toUpperCase();default:return v}},fy=/(^|\s|:|-|\(|\))([a-z])/g,ap=function(v,g,w){return v.length>0?g+w.toUpperCase():v},lp=function(v){function g(w,b){var D=v.call(this,w,b)||this;return D.src=b.currentSrc||b.src,D.intrinsicWidth=b.naturalWidth,D.intrinsicHeight=b.naturalHeight,D.context.cache.addImage(D.src),D}return _e(g,v),g}(Ba),vm=function(v){function g(w,b){var D=v.call(this,w,b)||this;return D.canvas=b,D.intrinsicWidth=b.width,D.intrinsicHeight=b.height,D}return _e(g,v),g}(Ba),Ju=function(v){function g(w,b){var D=v.call(this,w,b)||this,O=new XMLSerializer,H=Yi(w,b);return b.setAttribute("width",H.width+"px"),b.setAttribute("height",H.height+"px"),D.svg="data:image/svg+xml,"+encodeURIComponent(O.serializeToString(b)),D.intrinsicWidth=b.width.baseVal.value,D.intrinsicHeight=b.height.baseVal.value,D.context.cache.addImage(D.svg),D}return _e(g,v),g}(Ba),In=function(v){function g(w,b){var D=v.call(this,w,b)||this;return D.value=b.value,D}return _e(g,v),g}(Ba),ym=function(v){function g(w,b){var D=v.call(this,w,b)||this;return D.start=b.start,D.reversed="boolean"==typeof b.reversed&&!0===b.reversed,D}return _e(g,v),g}(Ba),YU=[{type:15,flags:0,unit:"px",number:3}],uB=[{type:16,flags:0,number:50}],cp="checkbox",ru="radio",AB="password",zC=707406591,py=function(v){function g(w,b){var D=v.call(this,w,b)||this;switch(D.type=b.type.toLowerCase(),D.checked=b.checked,D.value=function(v){var g=v.type===AB?new Array(v.value.length+1).join("\u2022"):v.value;return 0===g.length?v.placeholder||"":g}(b),(D.type===cp||D.type===ru)&&(D.styles.backgroundColor=3739148031,D.styles.borderTopColor=D.styles.borderRightColor=D.styles.borderBottomColor=D.styles.borderLeftColor=2779096575,D.styles.borderTopWidth=D.styles.borderRightWidth=D.styles.borderBottomWidth=D.styles.borderLeftWidth=1,D.styles.borderTopStyle=D.styles.borderRightStyle=D.styles.borderBottomStyle=D.styles.borderLeftStyle=1,D.styles.backgroundClip=[0],D.styles.backgroundOrigin=[0],D.bounds=function(v){return v.width>v.height?new yi(v.left+(v.width-v.height)/2,v.top,v.height,v.height):v.width<v.height?new yi(v.left,v.top+(v.height-v.width)/2,v.width,v.width):v}(D.bounds)),D.type){case cp:D.styles.borderTopRightRadius=D.styles.borderTopLeftRadius=D.styles.borderBottomRightRadius=D.styles.borderBottomLeftRadius=YU;break;case ru:D.styles.borderTopRightRadius=D.styles.borderTopLeftRadius=D.styles.borderBottomRightRadius=D.styles.borderBottomLeftRadius=uB}return D}return _e(g,v),g}(Ba),jC=function(v){function g(w,b){var D=v.call(this,w,b)||this,O=b.options[b.selectedIndex||0];return D.value=O&&O.text||"",D}return _e(g,v),g}(Ba),WC=function(v){function g(w,b){var D=v.call(this,w,b)||this;return D.value=b.value,D}return _e(g,v),g}(Ba),ct=function(v){function g(w,b){var D=v.call(this,w,b)||this;D.src=b.src,D.width=parseInt(b.width,10)||0,D.height=parseInt(b.height,10)||0,D.backgroundColor=D.styles.backgroundColor;try{if(b.contentWindow&&b.contentWindow.document&&b.contentWindow.document.documentElement){D.tree=ir(w,b.contentWindow.document.documentElement);var O=b.contentWindow.document.documentElement?lA(w,getComputedStyle(b.contentWindow.document.documentElement).backgroundColor):Ku.TRANSPARENT,H=b.contentWindow.document.body?lA(w,getComputedStyle(b.contentWindow.document.body).backgroundColor):Ku.TRANSPARENT;D.backgroundColor=$u(O)?$u(H)?D.styles.backgroundColor:H:O}}catch{}return D}return _e(g,v),g}(Ba),_i=["OL","UL","MENU"],ln=function(v,g,w,b){for(var D=g.firstChild,O=void 0;D;D=O)if(O=D.nextSibling,Ll(D)&&D.data.trim().length>0)w.textNodes.push(new GC(v,D,w.styles));else if(Zu(D))if(dp(D)&&D.assignedNodes)D.assignedNodes().forEach(function(ce){return ln(v,ce,w,b)});else{var H=un(v,D);H.styles.isVisible()&&($C(D,H,b)?H.flags|=4:up(H.styles)&&(H.flags|=2),-1!==_i.indexOf(D.tagName)&&(H.flags|=8),w.elements.push(H),D.shadowRoot?ln(v,D.shadowRoot,H,b):!wA(D)&&!gy(D)&&!bA(D)&&ln(v,D,H,b))}},un=function(v,g){return bm(g)?new lp(v,g):vc(g)?new vm(v,g):gy(g)?new Ju(v,g):JU(g)?new In(v,g):KC(g)?new ym(v,g):Uo(g)?new py(v,g):bA(g)?new jC(v,g):wA(g)?new WC(v,g):XC(g)?new ct(v,g):new Ba(v,g)},ir=function(v,g){var w=un(v,g);return w.flags|=4,ln(v,g,w,w),w},$C=function(v,g,w){return g.styles.isPositionedWithZIndex()||g.styles.opacity<1||g.styles.isTransformed()||Ra(v)&&w.styles.isTransparent()},up=function(v){return v.isPositioned()||v.isFloating()},Ll=function(v){return v.nodeType===Node.TEXT_NODE},Zu=function(v){return v.nodeType===Node.ELEMENT_NODE},hp=function(v){return Zu(v)&&typeof v.style<"u"&&!wm(v)},wm=function(v){return"object"==typeof v.className},JU=function(v){return"LI"===v.tagName},KC=function(v){return"OL"===v.tagName},Uo=function(v){return"INPUT"===v.tagName},gy=function(v){return"svg"===v.tagName},Ra=function(v){return"BODY"===v.tagName},vc=function(v){return"CANVAS"===v.tagName},qC=function(v){return"VIDEO"===v.tagName},bm=function(v){return"IMG"===v.tagName},XC=function(v){return"IFRAME"===v.tagName},YC=function(v){return"STYLE"===v.tagName},wA=function(v){return"TEXTAREA"===v.tagName},bA=function(v){return"SELECT"===v.tagName},dp=function(v){return"SLOT"===v.tagName},JC=function(v){return v.tagName.indexOf("-")>0},ZC=function(){function v(){this.counters={}}return v.prototype.getCounterValue=function(g){var w=this.counters[g];return w&&w.length?w[w.length-1]:1},v.prototype.getCounterValues=function(g){return this.counters[g]||[]},v.prototype.pop=function(g){var w=this;g.forEach(function(b){return w.counters[b].pop()})},v.prototype.parse=function(g){var w=this,b=g.counterIncrement,D=g.counterReset,O=!0;null!==b&&b.forEach(function(ce){var ae=w.counters[ce.counter];ae&&0!==ce.increment&&(O=!1,ae.length||ae.push(1),ae[Math.max(0,ae.length-1)]+=ce.increment)});var H=[];return O&&D.forEach(function(ce){var ae=w.counters[ce.counter];H.push(ce.counter),ae||(ae=w.counters[ce.counter]=[]),ae.push(ce.reset)}),H},v}(),Cm={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_y={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},eS={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},tS={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Yh=function(v,g,w,b,D,O){return v<g||v>w?na(v,D,O.length>0):b.integers.reduce(function(H,ce,ae){for(;v>=ce;)v-=ce,H+=b.values[ae];return H},"")+O},Sm=function(v,g,w,b){var D="";do{w||v--,D=b(v)+D,v/=g}while(v*g>=g);return D},ss=function(v,g,w,b,D){var O=w-g+1;return(v<0?"-":"")+(Sm(Math.abs(v),O,b,function(H){return Ni(Math.floor(H%O)+g)})+D)},Zr=function(v,g,w){void 0===w&&(w=". ");var b=g.length;return Sm(Math.abs(v),b,!1,function(D){return g[Math.floor(D%b)]})+w},au=function(v,g,w,b,D,O){if(v<-9999||v>9999)return na(v,4,D.length>0);var H=Math.abs(v),ce=D;if(0===H)return g[0]+ce;for(var ae=0;H>0&&ae<=4;ae++){var xe=H%10;0===xe&&lr(O,1)&&""!==ce?ce=g[xe]+ce:xe>1||1===xe&&0===ae||1===xe&&1===ae&&lr(O,2)||1===xe&&1===ae&&lr(O,4)&&v>100||1===xe&&ae>1&&lr(O,8)?ce=g[xe]+(ae>0?w[ae-1]:"")+ce:1===xe&&ae>0&&(ce=w[ae-1]+ce),H=Math.floor(H/10)}return(v<0?b:"")+ce},Jh="\ub9c8\uc774\ub108\uc2a4",na=function(v,g,w){var b=w?". ":"",D=w?"\u3001":"",O=w?", ":"",H=w?" ":"";switch(g){case 0:return"\u2022"+H;case 1:return"\u25e6"+H;case 2:return"\u25fe"+H;case 5:var ce=ss(v,48,57,!0,b);return ce.length<4?"0"+ce:ce;case 4:return Zr(v,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",D);case 6:return Yh(v,1,3999,Cm,3,b).toLowerCase();case 7:return Yh(v,1,3999,Cm,3,b);case 8:return ss(v,945,969,!1,b);case 9:return ss(v,97,122,!1,b);case 10:return ss(v,65,90,!1,b);case 11:return ss(v,1632,1641,!0,b);case 12:case 49:return Yh(v,1,9999,_y,3,b);case 35:return Yh(v,1,9999,_y,3,b).toLowerCase();case 13:return ss(v,2534,2543,!0,b);case 14:case 30:return ss(v,6112,6121,!0,b);case 15:return Zr(v,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",D);case 16:return Zr(v,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",D);case 17:case 48:return au(v,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",D,14);case 47:return au(v,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",D,15);case 42:return au(v,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",D,14);case 41:return au(v,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",D,15);case 26:return au(v,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",D,0);case 25:return au(v,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",D,7);case 31:return au(v,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Jh,O,7);case 33:return au(v,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Jh,O,0);case 32:return au(v,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Jh,O,7);case 18:return ss(v,2406,2415,!0,b);case 20:return Yh(v,1,19999,tS,3,b);case 21:return ss(v,2790,2799,!0,b);case 22:return ss(v,2662,2671,!0,b);case 22:return Yh(v,1,10999,eS,3,b);case 23:return Zr(v,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Zr(v,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return ss(v,3302,3311,!0,b);case 28:return Zr(v,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",D);case 29:return Zr(v,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",D);case 34:return ss(v,3792,3801,!0,b);case 37:return ss(v,6160,6169,!0,b);case 38:return ss(v,4160,4169,!0,b);case 39:return ss(v,2918,2927,!0,b);case 40:return ss(v,1776,1785,!0,b);case 43:return ss(v,3046,3055,!0,b);case 44:return ss(v,3174,3183,!0,b);case 45:return ss(v,3664,3673,!0,b);case 46:return ss(v,3872,3881,!0,b);default:return ss(v,48,57,!0,b)}},iS="data-html2canvas-ignore",fp=function(){function v(g,w,b){if(this.context=g,this.options=b,this.scrolledElements=[],this.referenceElement=w,this.counters=new ZC,this.quoteDepth=0,!w.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(w.ownerDocument.documentElement,!1)}return v.prototype.toIFrame=function(g,w){var b=this,D=Em(g,w);if(!D.contentWindow)return Promise.reject("Unable to find iframe window");var O=g.defaultView.pageXOffset,H=g.defaultView.pageYOffset,ce=D.contentWindow,ae=ce.document,xe=sS(D).then(function(){return vt(b,void 0,void 0,function(){var Re,He;return qt(this,function(ut){switch(ut.label){case 0:return this.scrolledElements.forEach(by),ce&&(ce.scrollTo(w.left,w.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ce.scrollY!==w.top||ce.scrollX!==w.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ce.scrollX-w.left,ce.scrollY-w.top,0,0))),Re=this.options.onclone,typeof(He=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ae.fonts&&ae.fonts.ready?[4,ae.fonts.ready]:[3,2];case 1:ut.sent(),ut.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,rS(ae)]:[3,4];case 3:ut.sent(),ut.label=4;case 4:return"function"==typeof Re?[2,Promise.resolve().then(function(){return Re(ae,He)}).then(function(){return D})]:[2,D]}})})});return ae.open(),ae.write(pp(document.doctype)+"<html></html>"),pB(this.referenceElement.ownerDocument,O,H),ae.replaceChild(ae.adoptNode(this.documentElement),ae.documentElement),ae.close(),xe},v.prototype.createElementClone=function(g){if(pc(g,2),vc(g))return this.createCanvasClone(g);if(qC(g))return this.createVideoClone(g);if(YC(g))return this.createStyleClone(g);var w=g.cloneNode(!1);return bm(w)&&(bm(g)&&g.currentSrc&&g.currentSrc!==g.src&&(w.src=g.currentSrc,w.srcset=""),"lazy"===w.loading&&(w.loading="eager")),JC(w)?this.createCustomElementClone(w):w},v.prototype.createCustomElementClone=function(g){var w=document.createElement("html2canvascustomelement");return eh(g.style,w),w},v.prototype.createStyleClone=function(g){try{var w=g.sheet;if(w&&w.cssRules){var b=[].slice.call(w.cssRules,0).reduce(function(O,H){return H&&"string"==typeof H.cssText?O+H.cssText:O},""),D=g.cloneNode(!1);return D.textContent=b,D}}catch(O){if(this.context.logger.error("Unable to access cssRules property",O),"SecurityError"!==O.name)throw O}return g.cloneNode(!1)},v.prototype.createCanvasClone=function(g){var w;if(this.options.inlineImages&&g.ownerDocument){var b=g.ownerDocument.createElement("img");try{return b.src=g.toDataURL(),b}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",g)}}var D=g.cloneNode(!1);try{D.width=g.width,D.height=g.height;var O=g.getContext("2d"),H=D.getContext("2d");if(H)if(!this.options.allowTaint&&O)H.putImageData(O.getImageData(0,0,g.width,g.height),0,0);else{var ce=null!==(w=g.getContext("webgl2"))&&void 0!==w?w:g.getContext("webgl");if(ce){var ae=ce.getContextAttributes();!1===ae?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",g)}H.drawImage(g,0,0)}return D}catch{this.context.logger.info("Unable to clone canvas as it is tainted",g)}return D},v.prototype.createVideoClone=function(g){var w=g.ownerDocument.createElement("canvas");w.width=g.offsetWidth,w.height=g.offsetHeight;var b=w.getContext("2d");try{return b&&(b.drawImage(g,0,0,w.width,w.height),this.options.allowTaint||b.getImageData(0,0,w.width,w.height)),w}catch{this.context.logger.info("Unable to clone video as it is tainted",g)}var D=g.ownerDocument.createElement("canvas");return D.width=g.offsetWidth,D.height=g.offsetHeight,D},v.prototype.appendChildNode=function(g,w,b){(!Zu(w)||!function(v){return"SCRIPT"===v.tagName}(w)&&!w.hasAttribute(iS)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(w)))&&(!this.options.copyStyles||!Zu(w)||!YC(w))&&g.appendChild(this.cloneNode(w,b))},v.prototype.cloneChildNodes=function(g,w,b){for(var D=this,O=g.shadowRoot?g.shadowRoot.firstChild:g.firstChild;O;O=O.nextSibling)if(Zu(O)&&dp(O)&&"function"==typeof O.assignedNodes){var H=O.assignedNodes();H.length&&H.forEach(function(ce){return D.appendChildNode(w,ce,b)})}else this.appendChildNode(w,O,b)},v.prototype.cloneNode=function(g,w){if(Ll(g))return document.createTextNode(g.data);if(!g.ownerDocument)return g.cloneNode(!1);var b=g.ownerDocument.defaultView;if(b&&Zu(g)&&(hp(g)||wm(g))){var D=this.createElementClone(g);D.style.transitionProperty="none";var O=b.getComputedStyle(g),H=b.getComputedStyle(g,":before"),ce=b.getComputedStyle(g,":after");this.referenceElement===g&&hp(D)&&(this.clonedReferenceElement=D),Ra(D)&&Sy(D);var ae=this.counters.parse(new Wh(this.context,O)),xe=this.resolvePseudoContent(g,D,H,Zh.BEFORE);JC(g)&&(w=!0),qC(g)||this.cloneChildNodes(g,D,w),xe&&D.insertBefore(xe,D.firstChild);var Re=this.resolvePseudoContent(g,D,ce,Zh.AFTER);return Re&&D.appendChild(Re),this.counters.pop(ae),(O&&(this.options.copyStyles||wm(g))&&!XC(g)||w)&&eh(O,D),(0!==g.scrollTop||0!==g.scrollLeft)&&this.scrolledElements.push([D,g.scrollLeft,g.scrollTop]),(wA(g)||bA(g))&&(wA(D)||bA(D))&&(D.value=g.value),D}return g.cloneNode(!1)},v.prototype.resolvePseudoContent=function(g,w,b,D){var O=this;if(b){var H=b.content,ce=w.ownerDocument;if(ce&&H&&"none"!==H&&"-moz-alt-content"!==H&&"none"!==b.display){this.counters.parse(new Wh(this.context,b));var ae=new ip(this.context,b),xe=ce.createElement("html2canvaspseudoelement");eh(b,xe),ae.content.forEach(function(He){if(0===He.type)xe.appendChild(ce.createTextNode(He.value));else if(22===He.type){var ut=ce.createElement("img");ut.src=He.value,ut.style.opacity="1",xe.appendChild(ut)}else if(18===He.type){if("attr"===He.name){var Jt=He.values.filter(zi);Jt.length&&xe.appendChild(ce.createTextNode(g.getAttribute(Jt[0].value)||""))}else if("counter"===He.name){var It=He.values.filter(Vh),ti=It[1];if(($t=It[0])&&zi($t)){var dn=O.counters.getCounterValue($t.value),cn=ti&&zi(ti)?dA.parse(O.context,ti.value):3;xe.appendChild(ce.createTextNode(na(dn,cn,!1)))}}else if("counters"===He.name){var $t,Fi=He.values.filter(Vh),si=Fi[1];if(ti=Fi[2],($t=Fi[0])&&zi($t)){var Un=O.counters.getCounterValues($t.value),kt=ti&&zi(ti)?dA.parse(O.context,ti.value):3,wi=si&&0===si.type?si.value:"",Ei=Un.map(function(Ws){return na(Ws,kt,!1)}).join(wi);xe.appendChild(ce.createTextNode(Ei))}}}else if(20===He.type)switch(He.value){case"open-quote":xe.appendChild(ce.createTextNode(el(ae.quotes,O.quoteDepth++,!0)));break;case"close-quote":xe.appendChild(ce.createTextNode(el(ae.quotes,--O.quoteDepth,!1)));break;default:xe.appendChild(ce.createTextNode(He.value))}}),xe.className=Cy+" "+oS;var Re=D===Zh.BEFORE?" "+Cy:" "+oS;return wm(w)?w.className.baseValue+=Re:w.className+=Re,xe}}},v.destroy=function(g){return!!g.parentNode&&(g.parentNode.removeChild(g),!0)},v}(),Zh=function(v){return v[v.BEFORE=0]="BEFORE",v[v.AFTER=1]="AFTER",v}(Zh||{}),Em=function(v,g){var w=v.createElement("iframe");return w.className="html2canvas-container",w.style.visibility="hidden",w.style.position="fixed",w.style.left="-10000px",w.style.top="0px",w.style.border="0",w.width=g.width.toString(),w.height=g.height.toString(),w.scrolling="no",w.setAttribute(iS,"true"),v.body.appendChild(w),w},wy=function(v){return new Promise(function(g){v.complete?g():v.src?(v.onload=g,v.onerror=g):g()})},rS=function(v){return Promise.all([].slice.call(v.images,0).map(wy))},sS=function(v){return new Promise(function(g,w){var b=v.contentWindow;if(!b)return w("No window assigned for iframe");var D=b.document;b.onload=v.onload=function(){b.onload=v.onload=null;var O=setInterval(function(){D.body.childNodes.length>0&&"complete"===D.readyState&&(clearInterval(O),g(v))},50)}})},fB=["all","d","content"],eh=function(v,g){for(var w=v.length-1;w>=0;w--){var b=v.item(w);-1===fB.indexOf(b)&&g.style.setProperty(b,v.getPropertyValue(b))}return g},pp=function(v){var g="";return v&&(g+="<!DOCTYPE ",v.name&&(g+=v.name),v.internalSubset&&(g+=v.internalSubset),v.publicId&&(g+='"'+v.publicId+'"'),v.systemId&&(g+='"'+v.systemId+'"'),g+=">"),g},pB=function(v,g,w){v&&v.defaultView&&(g!==v.defaultView.pageXOffset||w!==v.defaultView.pageYOffset)&&v.defaultView.scrollTo(g,w)},by=function(v){var g=v[0],b=v[2];g.scrollLeft=v[1],g.scrollTop=b},Cy="___html2canvas___pseudoelement_before",oS="___html2canvas___pseudoelement_after",_B='{\n    content: "" !important;\n    display: none !important;\n}',Sy=function(v){gp(v,"."+Cy+":before"+_B+"\n         ."+oS+":after"+_B)},gp=function(v,g){var w=v.ownerDocument;if(w){var b=w.createElement("style");b.textContent=g,v.appendChild(b)}},aS=function(){function v(){}return v.getOrigin=function(g){var w=v._link;return w?(w.href=g,w.href=w.href,w.protocol+w.hostname+w.port):"about:blank"},v.isSameOrigin=function(g){return v.getOrigin(g)===v._origin},v.setContext=function(g){v._link=g.document.createElement("a"),v._origin=v.getOrigin(g.location.href)},v._origin="about:blank",v}(),mp=function(){function v(g,w){this.context=g,this._options=w,this._cache={}}return v.prototype.addImage=function(g){var w=Promise.resolve();return this.has(g)||(nl(g)||lS(g))&&(this._cache[g]=this.loadImage(g)).catch(function(){}),w},v.prototype.match=function(g){return this._cache[g]},v.prototype.loadImage=function(g){return vt(this,void 0,void 0,function(){var w,b,D,O,H=this;return qt(this,function(ce){switch(ce.label){case 0:return w=aS.isSameOrigin(g),b=!Tm(g)&&!0===this._options.useCORS&&co.SUPPORT_CORS_IMAGES&&!w,D=!Tm(g)&&!w&&!nl(g)&&"string"==typeof this._options.proxy&&co.SUPPORT_CORS_XHR&&!b,w||!1!==this._options.allowTaint||Tm(g)||nl(g)||D||b?(O=g,D?[4,this.proxy(O)]:[3,2]):[2];case 1:O=ce.sent(),ce.label=2;case 2:return this.context.logger.debug("Added image "+g.substring(0,256)),[4,new Promise(function(ae,xe){var Re=new Image;Re.onload=function(){return ae(Re)},Re.onerror=xe,(vB(O)||b)&&(Re.crossOrigin="anonymous"),Re.src=O,!0===Re.complete&&setTimeout(function(){return ae(Re)},500),H._options.imageTimeout>0&&setTimeout(function(){return xe("Timed out ("+H._options.imageTimeout+"ms) loading image")},H._options.imageTimeout)})];case 3:return[2,ce.sent()]}})})},v.prototype.has=function(g){return typeof this._cache[g]<"u"},v.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},v.prototype.proxy=function(g){var w=this,b=this._options.proxy;if(!b)throw new Error("No proxy defined");var D=g.substring(0,256);return new Promise(function(O,H){var ce=co.SUPPORT_RESPONSE_TYPE?"blob":"text",ae=new XMLHttpRequest;ae.onload=function(){if(200===ae.status)if("text"===ce)O(ae.response);else{var He=new FileReader;He.addEventListener("load",function(){return O(He.result)},!1),He.addEventListener("error",function(ut){return H(ut)},!1),He.readAsDataURL(ae.response)}else H("Failed to proxy resource "+D+" with status code "+ae.status)},ae.onerror=H;var xe=b.indexOf("?")>-1?"&":"?";if(ae.open("GET",""+b+xe+"url="+encodeURIComponent(g)+"&responseType="+ce),"text"!==ce&&ae instanceof XMLHttpRequest&&(ae.responseType=ce),w._options.imageTimeout){var Re=w._options.imageTimeout;ae.timeout=Re,ae.ontimeout=function(){return H("Timed out ("+Re+"ms) proxying "+D)}}ae.send()})},v}(),Ey=/^data:image\/svg\+xml/i,xm=/^data:image\/.*;base64,/i,ZU=/^data:image\/.*/i,lS=function(v){return co.SUPPORT_SVG_DRAWING||!yB(v)},Tm=function(v){return ZU.test(v)},vB=function(v){return xm.test(v)},nl=function(v){return"blob"===v.substr(0,4)},yB=function(v){return"svg"===v.substr(-3).toLowerCase()||Ey.test(v)},Xt=function(){function v(g,w){this.type=0,this.x=g,this.y=w}return v.prototype.add=function(g,w){return new v(this.x+g,this.y+w)},v}(),th=function(v,g,w){return new Xt(v.x+(g.x-v.x)*w,v.y+(g.y-v.y)*w)},_p=function(){function v(g,w,b,D){this.type=1,this.start=g,this.startControl=w,this.endControl=b,this.end=D}return v.prototype.subdivide=function(g,w){var b=th(this.start,this.startControl,g),D=th(this.startControl,this.endControl,g),O=th(this.endControl,this.end,g),H=th(b,D,g),ce=th(D,O,g),ae=th(H,ce,g);return w?new v(this.start,b,H,ae):new v(ae,ce,O,this.end)},v.prototype.add=function(g,w){return new v(this.start.add(g,w),this.startControl.add(g,w),this.endControl.add(g,w),this.end.add(g,w))},v.prototype.reverse=function(){return new v(this.end,this.endControl,this.startControl,this.start)},v}(),ko=function(v){return 1===v.type},xy=function(){return function v(g){var w=g.styles,b=g.bounds,D=Qh(w.borderTopLeftRadius,b.width,b.height),O=D[0],H=D[1],ce=Qh(w.borderTopRightRadius,b.width,b.height),ae=ce[0],xe=ce[1],Re=Qh(w.borderBottomRightRadius,b.width,b.height),He=Re[0],ut=Re[1],Jt=Qh(w.borderBottomLeftRadius,b.width,b.height),It=Jt[0],$t=Jt[1],ti=[];ti.push((O+ae)/b.width),ti.push((It+He)/b.width),ti.push((H+$t)/b.height),ti.push((xe+ut)/b.height);var dn=Math.max.apply(Math,ti);dn>1&&(O/=dn,H/=dn,ae/=dn,xe/=dn,He/=dn,ut/=dn,It/=dn,$t/=dn);var cn=b.width-ae,Fi=b.height-ut,si=b.width-He,Un=b.height-$t,kt=w.borderTopWidth,wi=w.borderRightWidth,Ei=w.borderBottomWidth,Pn=w.borderLeftWidth,xi=nr(w.paddingTop,g.bounds.width),Ws=nr(w.paddingRight,g.bounds.width),ia=nr(w.paddingBottom,g.bounds.width),dr=nr(w.paddingLeft,g.bounds.width);this.topLeftBorderDoubleOuterBox=O>0||H>0?Nr(b.left+Pn/3,b.top+kt/3,O-Pn/3,H-kt/3,ur.TOP_LEFT):new Xt(b.left+Pn/3,b.top+kt/3),this.topRightBorderDoubleOuterBox=O>0||H>0?Nr(b.left+cn,b.top+kt/3,ae-wi/3,xe-kt/3,ur.TOP_RIGHT):new Xt(b.left+b.width-wi/3,b.top+kt/3),this.bottomRightBorderDoubleOuterBox=He>0||ut>0?Nr(b.left+si,b.top+Fi,He-wi/3,ut-Ei/3,ur.BOTTOM_RIGHT):new Xt(b.left+b.width-wi/3,b.top+b.height-Ei/3),this.bottomLeftBorderDoubleOuterBox=It>0||$t>0?Nr(b.left+Pn/3,b.top+Un,It-Pn/3,$t-Ei/3,ur.BOTTOM_LEFT):new Xt(b.left+Pn/3,b.top+b.height-Ei/3),this.topLeftBorderDoubleInnerBox=O>0||H>0?Nr(b.left+2*Pn/3,b.top+2*kt/3,O-2*Pn/3,H-2*kt/3,ur.TOP_LEFT):new Xt(b.left+2*Pn/3,b.top+2*kt/3),this.topRightBorderDoubleInnerBox=O>0||H>0?Nr(b.left+cn,b.top+2*kt/3,ae-2*wi/3,xe-2*kt/3,ur.TOP_RIGHT):new Xt(b.left+b.width-2*wi/3,b.top+2*kt/3),this.bottomRightBorderDoubleInnerBox=He>0||ut>0?Nr(b.left+si,b.top+Fi,He-2*wi/3,ut-2*Ei/3,ur.BOTTOM_RIGHT):new Xt(b.left+b.width-2*wi/3,b.top+b.height-2*Ei/3),this.bottomLeftBorderDoubleInnerBox=It>0||$t>0?Nr(b.left+2*Pn/3,b.top+Un,It-2*Pn/3,$t-2*Ei/3,ur.BOTTOM_LEFT):new Xt(b.left+2*Pn/3,b.top+b.height-2*Ei/3),this.topLeftBorderStroke=O>0||H>0?Nr(b.left+Pn/2,b.top+kt/2,O-Pn/2,H-kt/2,ur.TOP_LEFT):new Xt(b.left+Pn/2,b.top+kt/2),this.topRightBorderStroke=O>0||H>0?Nr(b.left+cn,b.top+kt/2,ae-wi/2,xe-kt/2,ur.TOP_RIGHT):new Xt(b.left+b.width-wi/2,b.top+kt/2),this.bottomRightBorderStroke=He>0||ut>0?Nr(b.left+si,b.top+Fi,He-wi/2,ut-Ei/2,ur.BOTTOM_RIGHT):new Xt(b.left+b.width-wi/2,b.top+b.height-Ei/2),this.bottomLeftBorderStroke=It>0||$t>0?Nr(b.left+Pn/2,b.top+Un,It-Pn/2,$t-Ei/2,ur.BOTTOM_LEFT):new Xt(b.left+Pn/2,b.top+b.height-Ei/2),this.topLeftBorderBox=O>0||H>0?Nr(b.left,b.top,O,H,ur.TOP_LEFT):new Xt(b.left,b.top),this.topRightBorderBox=ae>0||xe>0?Nr(b.left+cn,b.top,ae,xe,ur.TOP_RIGHT):new Xt(b.left+b.width,b.top),this.bottomRightBorderBox=He>0||ut>0?Nr(b.left+si,b.top+Fi,He,ut,ur.BOTTOM_RIGHT):new Xt(b.left+b.width,b.top+b.height),this.bottomLeftBorderBox=It>0||$t>0?Nr(b.left,b.top+Un,It,$t,ur.BOTTOM_LEFT):new Xt(b.left,b.top+b.height),this.topLeftPaddingBox=O>0||H>0?Nr(b.left+Pn,b.top+kt,Math.max(0,O-Pn),Math.max(0,H-kt),ur.TOP_LEFT):new Xt(b.left+Pn,b.top+kt),this.topRightPaddingBox=ae>0||xe>0?Nr(b.left+Math.min(cn,b.width-wi),b.top+kt,cn>b.width+wi?0:Math.max(0,ae-wi),Math.max(0,xe-kt),ur.TOP_RIGHT):new Xt(b.left+b.width-wi,b.top+kt),this.bottomRightPaddingBox=He>0||ut>0?Nr(b.left+Math.min(si,b.width-Pn),b.top+Math.min(Fi,b.height-Ei),Math.max(0,He-wi),Math.max(0,ut-Ei),ur.BOTTOM_RIGHT):new Xt(b.left+b.width-wi,b.top+b.height-Ei),this.bottomLeftPaddingBox=It>0||$t>0?Nr(b.left+Pn,b.top+Math.min(Un,b.height-Ei),Math.max(0,It-Pn),Math.max(0,$t-Ei),ur.BOTTOM_LEFT):new Xt(b.left+Pn,b.top+b.height-Ei),this.topLeftContentBox=O>0||H>0?Nr(b.left+Pn+dr,b.top+kt+xi,Math.max(0,O-(Pn+dr)),Math.max(0,H-(kt+xi)),ur.TOP_LEFT):new Xt(b.left+Pn+dr,b.top+kt+xi),this.topRightContentBox=ae>0||xe>0?Nr(b.left+Math.min(cn,b.width+Pn+dr),b.top+kt+xi,cn>b.width+Pn+dr?0:ae-Pn+dr,xe-(kt+xi),ur.TOP_RIGHT):new Xt(b.left+b.width-(wi+Ws),b.top+kt+xi),this.bottomRightContentBox=He>0||ut>0?Nr(b.left+Math.min(si,b.width-(Pn+dr)),b.top+Math.min(Fi,b.height+kt+xi),Math.max(0,He-(wi+Ws)),ut-(Ei+ia),ur.BOTTOM_RIGHT):new Xt(b.left+b.width-(wi+Ws),b.top+b.height-(Ei+ia)),this.bottomLeftContentBox=It>0||$t>0?Nr(b.left+Pn+dr,b.top+Un,Math.max(0,It-(Pn+dr)),$t-(Ei+ia),ur.BOTTOM_LEFT):new Xt(b.left+Pn+dr,b.top+b.height-(Ei+ia))}}(),ur=function(v){return v[v.TOP_LEFT=0]="TOP_LEFT",v[v.TOP_RIGHT=1]="TOP_RIGHT",v[v.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",v[v.BOTTOM_LEFT=3]="BOTTOM_LEFT",v}(ur||{}),Nr=function(v,g,w,b,D){var O=(Math.sqrt(2)-1)/3*4,H=w*O,ce=b*O,ae=v+w,xe=g+b;switch(D){case ur.TOP_LEFT:return new _p(new Xt(v,xe),new Xt(v,xe-ce),new Xt(ae-H,g),new Xt(ae,g));case ur.TOP_RIGHT:return new _p(new Xt(v,g),new Xt(v+H,g),new Xt(ae,xe-ce),new Xt(ae,xe));case ur.BOTTOM_RIGHT:return new _p(new Xt(ae,g),new Xt(ae,g+ce),new Xt(v+H,xe),new Xt(v,xe));default:return new _p(new Xt(ae,xe),new Xt(ae-H,xe),new Xt(v,g+ce),new Xt(v,g))}},vp=function(v){return[v.topLeftBorderBox,v.topRightBorderBox,v.bottomRightBorderBox,v.bottomLeftBorderBox]},yp=function(v){return[v.topLeftPaddingBox,v.topRightPaddingBox,v.bottomRightPaddingBox,v.bottomLeftPaddingBox]},wB=function(){return function v(g,w,b){this.offsetX=g,this.offsetY=w,this.matrix=b,this.type=0,this.target=6}}(),ed=function(){return function v(g,w){this.path=g,this.target=w,this.type=1}}(),td=function(){return function v(g){this.opacity=g,this.type=2,this.target=6}}(),Ty=function(v){return 1===v.type},nd=function(v,g){return v.length===g.length&&v.some(function(w,b){return w===g[b]})},ms=function(){return function v(g){this.element=g,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),hS=function(){function v(g,w){if(this.container=g,this.parent=w,this.effects=[],this.curves=new xy(this.container),this.container.styles.opacity<1&&this.effects.push(new td(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new wB(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var H=vp(this.curves),ce=yp(this.curves);nd(H,ce)?this.effects.push(new ed(H,6)):(this.effects.push(new ed(H,2)),this.effects.push(new ed(ce,4)))}}return v.prototype.getEffects=function(g){for(var w=-1===[2,3].indexOf(this.container.styles.position),b=this.parent,D=this.effects.slice(0);b;){var O=b.effects.filter(function(ae){return!Ty(ae)});if(w||0!==b.container.styles.position||!b.parent){if(D.unshift.apply(D,O),w=-1===[2,3].indexOf(b.container.styles.position),0!==b.container.styles.overflowX){var H=vp(b.curves),ce=yp(b.curves);nd(H,ce)||D.unshift(new ed(ce,6))}}else D.unshift.apply(D,O);b=b.parent}return D.filter(function(ae){return lr(ae.target,g)})},v}(),hr=function(v,g,w,b){v.container.elements.forEach(function(D){var O=lr(D.flags,4),H=lr(D.flags,2),ce=new hS(D,v);lr(D.styles.display,2048)&&b.push(ce);var ae=lr(D.flags,8)?[]:b;if(O||H){var xe=O||D.styles.isPositioned()?w:g,Re=new ms(ce);if(D.styles.isPositioned()||D.styles.opacity<1||D.styles.isTransformed()){var He=D.styles.zIndex.order;if(He<0){var ut=0;xe.negativeZIndex.some(function(It,$t){return He>It.element.container.styles.zIndex.order?(ut=$t,!1):ut>0}),xe.negativeZIndex.splice(ut,0,Re)}else if(He>0){var Jt=0;xe.positiveZIndex.some(function(It,$t){return He>=It.element.container.styles.zIndex.order?(Jt=$t+1,!1):Jt>0}),xe.positiveZIndex.splice(Jt,0,Re)}else xe.zeroOrAutoZIndexOrTransformedOrOpacity.push(Re)}else D.styles.isFloating()?xe.nonPositionedFloats.push(Re):xe.nonPositionedInlineLevel.push(Re);hr(ce,Re,O?Re:w,ae)}else D.styles.isInlineLevel()?g.inlineLevel.push(ce):g.nonInlineLevel.push(ce),hr(ce,g,w,ae);lr(D.flags,8)&&Mm(D,ae)})},Mm=function(v,g){for(var w=v instanceof ym?v.start:1,b=v instanceof ym&&v.reversed,D=0;D<g.length;D++){var O=g[D];O.container instanceof In&&"number"==typeof O.container.value&&0!==O.container.value&&(w=O.container.value),O.listValue=na(w,O.container.styles.listStyleType,!0),w+=b?-1:1}},My=function(v,g){switch(g){case 0:return Ho(v.topLeftBorderBox,v.topLeftPaddingBox,v.topRightBorderBox,v.topRightPaddingBox);case 1:return Ho(v.topRightBorderBox,v.topRightPaddingBox,v.bottomRightBorderBox,v.bottomRightPaddingBox);case 2:return Ho(v.bottomRightBorderBox,v.bottomRightPaddingBox,v.bottomLeftBorderBox,v.bottomLeftPaddingBox);default:return Ho(v.bottomLeftBorderBox,v.bottomLeftPaddingBox,v.topLeftBorderBox,v.topLeftPaddingBox)}},SA=function(v,g){var w=[];return ko(v)?w.push(v.subdivide(.5,!1)):w.push(v),ko(g)?w.push(g.subdivide(.5,!0)):w.push(g),w},Ho=function(v,g,w,b){var D=[];return ko(v)?D.push(v.subdivide(.5,!1)):D.push(v),ko(w)?D.push(w.subdivide(.5,!0)):D.push(w),ko(b)?D.push(b.subdivide(.5,!0).reverse()):D.push(b),ko(g)?D.push(g.subdivide(.5,!1).reverse()):D.push(g),D},Dy=function(v){var w=v.styles;return v.bounds.add(w.borderLeftWidth,w.borderTopWidth,-(w.borderRightWidth+w.borderLeftWidth),-(w.borderTopWidth+w.borderBottomWidth))},Dm=function(v){var g=v.styles,w=v.bounds,b=nr(g.paddingLeft,w.width),D=nr(g.paddingRight,w.width),O=nr(g.paddingTop,w.width),H=nr(g.paddingBottom,w.width);return w.add(b+g.borderLeftWidth,O+g.borderTopWidth,-(g.borderRightWidth+g.borderLeftWidth+b+D),-(g.borderTopWidth+g.borderBottomWidth+O+H))},Bm=function(v,g,w){var b=function(v,g){return 0===v?g.bounds:2===v?Dm(g):Dy(g)}(xA(v.styles.backgroundOrigin,g),v),D=function(v,g){return 0===v?g.bounds:2===v?Dm(g):Dy(g)}(xA(v.styles.backgroundClip,g),v),O=TB(xA(v.styles.backgroundSize,g),w,b),H=O[0],ce=O[1],ae=Qh(xA(v.styles.backgroundPosition,g),b.width-H,b.height-ce);return[e3(xA(v.styles.backgroundRepeat,g),ae,O,b,D),Math.round(b.left+ae[0]),Math.round(b.top+ae[1]),H,ce]},EA=function(v){return zi(v)&&v.value===uA.AUTO},wp=function(v){return"number"==typeof v},TB=function(v,g,w){var b=g[0],D=g[1],O=g[2],H=v[0],ce=v[1];if(!H)return[0,0];if(As(H)&&ce&&As(ce))return[nr(H,w.width),nr(ce,w.height)];var ae=wp(O);if(zi(H)&&(H.value===uA.CONTAIN||H.value===uA.COVER))return wp(O)?w.width/w.height<O!=(H.value===uA.COVER)?[w.width,w.width/O]:[w.height*O,w.height]:[w.width,w.height];var Re=wp(b),He=wp(D),ut=Re||He;if(EA(H)&&(!ce||EA(ce)))return Re&&He?[b,D]:ae||ut?ut&&ae?[Re?b:D*O,He?D:b/O]:[Re?b:w.width,He?D:w.height]:[w.width,w.height];if(ae){var dn=0,cn=0;return As(H)?dn=nr(H,w.width):As(ce)&&(cn=nr(ce,w.height)),EA(H)?dn=cn*O:(!ce||EA(ce))&&(cn=dn/O),[dn,cn]}var Fi=null,si=null;if(As(H)?Fi=nr(H,w.width):ce&&As(ce)&&(si=nr(ce,w.height)),null!==Fi&&(!ce||EA(ce))&&(si=Re&&He?Fi/b*D:w.height),null!==si&&EA(H)&&(Fi=Re&&He?si/D*b:w.width),null!==Fi&&null!==si)return[Fi,si];throw new Error("Unable to calculate background-size for element")},xA=function(v,g){var w=v[g];return typeof w>"u"?v[0]:w},e3=function(v,g,w,b,D){var O=g[0],H=g[1],ce=w[0],ae=w[1];switch(v){case 2:return[new Xt(Math.round(b.left),Math.round(b.top+H)),new Xt(Math.round(b.left+b.width),Math.round(b.top+H)),new Xt(Math.round(b.left+b.width),Math.round(ae+b.top+H)),new Xt(Math.round(b.left),Math.round(ae+b.top+H))];case 3:return[new Xt(Math.round(b.left+O),Math.round(b.top)),new Xt(Math.round(b.left+O+ce),Math.round(b.top)),new Xt(Math.round(b.left+O+ce),Math.round(b.height+b.top)),new Xt(Math.round(b.left+O),Math.round(b.height+b.top))];case 1:return[new Xt(Math.round(b.left+O),Math.round(b.top+H)),new Xt(Math.round(b.left+O+ce),Math.round(b.top+H)),new Xt(Math.round(b.left+O+ce),Math.round(b.top+H+ae)),new Xt(Math.round(b.left+O),Math.round(b.top+H+ae))];default:return[new Xt(Math.round(D.left),Math.round(D.top)),new Xt(Math.round(D.left+D.width),Math.round(D.top)),new Xt(Math.round(D.left+D.width),Math.round(D.height+D.top)),new Xt(Math.round(D.left),Math.round(D.height+D.top))]}},By="Hidden Text",os=function(){function v(g){this._data={},this._document=g}return v.prototype.parseMetrics=function(g,w){var b=this._document.createElement("div"),D=this._document.createElement("img"),O=this._document.createElement("span"),H=this._document.body;b.style.visibility="hidden",b.style.fontFamily=g,b.style.fontSize=w,b.style.margin="0",b.style.padding="0",b.style.whiteSpace="nowrap",H.appendChild(b),D.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",D.width=1,D.height=1,D.style.margin="0",D.style.padding="0",D.style.verticalAlign="baseline",O.style.fontFamily=g,O.style.fontSize=w,O.style.margin="0",O.style.padding="0",O.appendChild(this._document.createTextNode(By)),b.appendChild(O),b.appendChild(D);var ce=D.offsetTop-O.offsetTop+2;b.removeChild(O),b.appendChild(this._document.createTextNode(By)),b.style.lineHeight="normal",D.style.verticalAlign="super";var ae=D.offsetTop-b.offsetTop+2;return H.removeChild(b),{baseline:ce,middle:ae}},v.prototype.getMetrics=function(g,w){var b=g+" "+w;return typeof this._data[b]>"u"&&(this._data[b]=this.parseMetrics(g,w)),this._data[b]},v}(),MB=function(){return function v(g,w){this.context=g,this.options=w}}(),t3=function(v){function g(w,b){var D=v.call(this,w,b)||this;return D._activeEffects=[],D.canvas=b.canvas?b.canvas:document.createElement("canvas"),D.ctx=D.canvas.getContext("2d"),b.canvas||(D.canvas.width=Math.floor(b.width*b.scale),D.canvas.height=Math.floor(b.height*b.scale),D.canvas.style.width=b.width+"px",D.canvas.style.height=b.height+"px"),D.fontMetrics=new os(document),D.ctx.scale(D.options.scale,D.options.scale),D.ctx.translate(-b.x,-b.y),D.ctx.textBaseline="bottom",D._activeEffects=[],D.context.logger.debug("Canvas renderer initialized ("+b.width+"x"+b.height+") with scale "+b.scale),D}return _e(g,v),g.prototype.applyEffects=function(w){for(var b=this;this._activeEffects.length;)this.popEffect();w.forEach(function(D){return b.applyEffect(D)})},g.prototype.applyEffect=function(w){this.ctx.save(),function(v){return 2===v.type}(w)&&(this.ctx.globalAlpha=w.opacity),function(v){return 0===v.type}(w)&&(this.ctx.translate(w.offsetX,w.offsetY),this.ctx.transform(w.matrix[0],w.matrix[1],w.matrix[2],w.matrix[3],w.matrix[4],w.matrix[5]),this.ctx.translate(-w.offsetX,-w.offsetY)),Ty(w)&&(this.path(w.path),this.ctx.clip()),this._activeEffects.push(w)},g.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},g.prototype.renderStack=function(w){return vt(this,void 0,void 0,function(){return qt(this,function(D){switch(D.label){case 0:return w.element.container.styles.isVisible()?[4,this.renderStackContent(w)]:[3,2];case 1:D.sent(),D.label=2;case 2:return[2]}})})},g.prototype.renderNode=function(w){return vt(this,void 0,void 0,function(){return qt(this,function(b){switch(b.label){case 0:return lr(w.container.flags,16),w.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(w)]:[3,3];case 1:return b.sent(),[4,this.renderNodeContent(w)];case 2:b.sent(),b.label=3;case 3:return[2]}})})},g.prototype.renderTextWithLetterSpacing=function(w,b,D){var O=this;0===b?this.ctx.fillText(w.text,w.bounds.left,w.bounds.top+D):op(w.text).reduce(function(ce,ae){return O.ctx.fillText(ae,ce,w.bounds.top+D),ce+O.ctx.measureText(ae).width},w.bounds.left)},g.prototype.createFontStyle=function(w){var b=w.fontVariant.filter(function(H){return"normal"===H||"small-caps"===H}).join(""),D=DB(w.fontFamily).join(", "),O=eu(w.fontSize)?""+w.fontSize.number+w.fontSize.unit:w.fontSize.number+"px";return[[w.fontStyle,b,w.fontWeight,O,D].join(" "),D,O]},g.prototype.renderTextNode=function(w,b){return vt(this,void 0,void 0,function(){var D,H,ce,ae,xe,Re,He,ut=this;return qt(this,function(Jt){return D=this.createFontStyle(b),H=D[1],ce=D[2],this.ctx.font=D[0],this.ctx.direction=1===b.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ae=this.fontMetrics.getMetrics(H,ce),xe=ae.baseline,Re=ae.middle,He=b.paintOrder,w.textBounds.forEach(function(It){He.forEach(function($t){switch($t){case 0:ut.ctx.fillStyle=ji(b.color),ut.renderTextWithLetterSpacing(It,b.letterSpacing,xe);var ti=b.textShadow;ti.length&&It.text.trim().length&&(ti.slice(0).reverse().forEach(function(dn){ut.ctx.shadowColor=ji(dn.color),ut.ctx.shadowOffsetX=dn.offsetX.number*ut.options.scale,ut.ctx.shadowOffsetY=dn.offsetY.number*ut.options.scale,ut.ctx.shadowBlur=dn.blur.number,ut.renderTextWithLetterSpacing(It,b.letterSpacing,xe)}),ut.ctx.shadowColor="",ut.ctx.shadowOffsetX=0,ut.ctx.shadowOffsetY=0,ut.ctx.shadowBlur=0),b.textDecorationLine.length&&(ut.ctx.fillStyle=ji(b.textDecorationColor||b.color),b.textDecorationLine.forEach(function(dn){switch(dn){case 1:ut.ctx.fillRect(It.bounds.left,Math.round(It.bounds.top+xe),It.bounds.width,1);break;case 2:ut.ctx.fillRect(It.bounds.left,Math.round(It.bounds.top),It.bounds.width,1);break;case 3:ut.ctx.fillRect(It.bounds.left,Math.ceil(It.bounds.top+Re),It.bounds.width,1)}}));break;case 1:b.webkitTextStrokeWidth&&It.text.trim().length&&(ut.ctx.strokeStyle=ji(b.webkitTextStrokeColor),ut.ctx.lineWidth=b.webkitTextStrokeWidth,ut.ctx.lineJoin=window.chrome?"miter":"round",ut.ctx.strokeText(It.text,It.bounds.left,It.bounds.top+xe)),ut.ctx.strokeStyle="",ut.ctx.lineWidth=0,ut.ctx.lineJoin="miter"}})}),[2]})})},g.prototype.renderReplacedElement=function(w,b,D){if(D&&w.intrinsicWidth>0&&w.intrinsicHeight>0){var O=Dm(w),H=yp(b);this.path(H),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(D,0,0,w.intrinsicWidth,w.intrinsicHeight,O.left,O.top,O.width,O.height),this.ctx.restore()}},g.prototype.renderNodeContent=function(w){return vt(this,void 0,void 0,function(){var b,D,O,H,ce,Re,He,ut,It,$t,ti,dn,cn,Fi,si,Un;return qt(this,function(kt){switch(kt.label){case 0:this.applyEffects(w.getEffects(4)),D=w.curves,O=(b=w.container).styles,H=0,ce=b.textNodes,kt.label=1;case 1:return H<ce.length?[4,this.renderTextNode(ce[H],O)]:[3,4];case 2:kt.sent(),kt.label=3;case 3:return H++,[3,1];case 4:if(!(b instanceof lp))return[3,8];kt.label=5;case 5:return kt.trys.push([5,7,,8]),[4,this.context.cache.match(b.src)];case 6:return cn=kt.sent(),this.renderReplacedElement(b,D,cn),[3,8];case 7:return kt.sent(),this.context.logger.error("Error loading image "+b.src),[3,8];case 8:if(b instanceof vm&&this.renderReplacedElement(b,D,b.canvas),!(b instanceof Ju))return[3,12];kt.label=9;case 9:return kt.trys.push([9,11,,12]),[4,this.context.cache.match(b.svg)];case 10:return cn=kt.sent(),this.renderReplacedElement(b,D,cn),[3,12];case 11:return kt.sent(),this.context.logger.error("Error loading svg "+b.svg.substring(0,255)),[3,12];case 12:return b instanceof ct&&b.tree?[4,new g(this.context,{scale:this.options.scale,backgroundColor:b.backgroundColor,x:0,y:0,width:b.width,height:b.height}).render(b.tree)]:[3,14];case 13:Re=kt.sent(),b.width&&b.height&&this.ctx.drawImage(Re,0,0,b.width,b.height,b.bounds.left,b.bounds.top,b.bounds.width,b.bounds.height),kt.label=14;case 14:if(b instanceof py&&(He=Math.min(b.bounds.width,b.bounds.height),b.type===cp?b.checked&&(this.ctx.save(),this.path([new Xt(b.bounds.left+.39363*He,b.bounds.top+.79*He),new Xt(b.bounds.left+.16*He,b.bounds.top+.5549*He),new Xt(b.bounds.left+.27347*He,b.bounds.top+.44071*He),new Xt(b.bounds.left+.39694*He,b.bounds.top+.5649*He),new Xt(b.bounds.left+.72983*He,b.bounds.top+.23*He),new Xt(b.bounds.left+.84*He,b.bounds.top+.34085*He),new Xt(b.bounds.left+.39363*He,b.bounds.top+.79*He)]),this.ctx.fillStyle=ji(zC),this.ctx.fill(),this.ctx.restore()):b.type===ru&&b.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(b.bounds.left+He/2,b.bounds.top+He/2,He/4,0,2*Math.PI,!0),this.ctx.fillStyle=ji(zC),this.ctx.fill(),this.ctx.restore())),Iy(b)&&b.value.length){switch(ut=this.createFontStyle(O),It=this.fontMetrics.getMetrics(si=ut[0],ut[1]).baseline,this.ctx.font=si,this.ctx.fillStyle=ji(O.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=pS(b.styles.textAlign),Un=Dm(b),$t=0,b.styles.textAlign){case 1:$t+=Un.width/2;break;case 2:$t+=Un.width}ti=Un.add($t,0,0,-Un.height/2+1),this.ctx.save(),this.path([new Xt(Un.left,Un.top),new Xt(Un.left+Un.width,Un.top),new Xt(Un.left+Un.width,Un.top+Un.height),new Xt(Un.left,Un.top+Un.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new iu(b.value,ti),O.letterSpacing,It),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!lr(b.styles.display,2048))return[3,20];if(null===b.styles.listStyleImage)return[3,19];if(0!==(dn=b.styles.listStyleImage).type)return[3,18];cn=void 0,Fi=dn.url,kt.label=15;case 15:return kt.trys.push([15,17,,18]),[4,this.context.cache.match(Fi)];case 16:return cn=kt.sent(),this.ctx.drawImage(cn,b.bounds.left-(cn.width+10),b.bounds.top),[3,18];case 17:return kt.sent(),this.context.logger.error("Error loading list-style-image "+Fi),[3,18];case 18:return[3,20];case 19:w.listValue&&-1!==b.styles.listStyleType&&(si=this.createFontStyle(O)[0],this.ctx.font=si,this.ctx.fillStyle=ji(O.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Un=new yi(b.bounds.left,b.bounds.top+nr(b.styles.paddingTop,b.bounds.width),b.bounds.width,Xu(O.lineHeight,O.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new iu(w.listValue,Un),O.letterSpacing,Xu(O.lineHeight,O.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),kt.label=20;case 20:return[2]}})})},g.prototype.renderStackContent=function(w){return vt(this,void 0,void 0,function(){var b,D,O,H,ce,ae,xe,Re,He,ut,Jt,It,$t,ti;return qt(this,function(cn){switch(cn.label){case 0:return lr(w.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(w.element)];case 1:cn.sent(),b=0,D=w.negativeZIndex,cn.label=2;case 2:return b<D.length?[4,this.renderStack(D[b])]:[3,5];case 3:cn.sent(),cn.label=4;case 4:return b++,[3,2];case 5:return[4,this.renderNodeContent(w.element)];case 6:cn.sent(),O=0,H=w.nonInlineLevel,cn.label=7;case 7:return O<H.length?[4,this.renderNode(H[O])]:[3,10];case 8:cn.sent(),cn.label=9;case 9:return O++,[3,7];case 10:ce=0,ae=w.nonPositionedFloats,cn.label=11;case 11:return ce<ae.length?[4,this.renderStack(ae[ce])]:[3,14];case 12:cn.sent(),cn.label=13;case 13:return ce++,[3,11];case 14:xe=0,Re=w.nonPositionedInlineLevel,cn.label=15;case 15:return xe<Re.length?[4,this.renderStack(Re[xe])]:[3,18];case 16:cn.sent(),cn.label=17;case 17:return xe++,[3,15];case 18:He=0,ut=w.inlineLevel,cn.label=19;case 19:return He<ut.length?[4,this.renderNode(ut[He])]:[3,22];case 20:cn.sent(),cn.label=21;case 21:return He++,[3,19];case 22:Jt=0,It=w.zeroOrAutoZIndexOrTransformedOrOpacity,cn.label=23;case 23:return Jt<It.length?[4,this.renderStack(It[Jt])]:[3,26];case 24:cn.sent(),cn.label=25;case 25:return Jt++,[3,23];case 26:$t=0,ti=w.positiveZIndex,cn.label=27;case 27:return $t<ti.length?[4,this.renderStack(ti[$t])]:[3,30];case 28:cn.sent(),cn.label=29;case 29:return $t++,[3,27];case 30:return[2]}})})},g.prototype.mask=function(w){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(w.slice(0).reverse()),this.ctx.closePath()},g.prototype.path=function(w){this.ctx.beginPath(),this.formatPath(w),this.ctx.closePath()},g.prototype.formatPath=function(w){var b=this;w.forEach(function(D,O){var H=ko(D)?D.start:D;0===O?b.ctx.moveTo(H.x,H.y):b.ctx.lineTo(H.x,H.y),ko(D)&&b.ctx.bezierCurveTo(D.startControl.x,D.startControl.y,D.endControl.x,D.endControl.y,D.end.x,D.end.y)})},g.prototype.renderRepeat=function(w,b,D,O){this.path(w),this.ctx.fillStyle=b,this.ctx.translate(D,O),this.ctx.fill(),this.ctx.translate(-D,-O)},g.prototype.resizeImage=function(w,b,D){var O;if(w.width===b&&w.height===D)return w;var ce=(null!==(O=this.canvas.ownerDocument)&&void 0!==O?O:document).createElement("canvas");return ce.width=Math.max(1,b),ce.height=Math.max(1,D),ce.getContext("2d").drawImage(w,0,0,w.width,w.height,0,0,b,D),ce},g.prototype.renderBackgroundImage=function(w){return vt(this,void 0,void 0,function(){var b,D,O,H,ce;return qt(this,function(xe){switch(xe.label){case 0:b=w.styles.backgroundImage.length-1,D=function(Re){var He,ut,Jt,It,$t,ti,dn,cn,Fi,si,Un,kt,wi,Ei,Pn,xi,Ws,ia,dr,uo,lu,ra,Vo,id,kl,ih,rd,sd,cu,rh,wc;return qt(this,function(od){switch(od.label){case 0:if(0!==Re.type)return[3,5];He=void 0,ut=Re.url,od.label=1;case 1:return od.trys.push([1,3,,4]),[4,O.context.cache.match(ut)];case 2:return He=od.sent(),[3,4];case 3:return od.sent(),O.context.logger.error("Error loading background-image "+ut),[3,4];case 4:return He&&(Jt=Bm(w,b,[He.width,He.height,He.width/He.height]),xi=Jt[0],ra=Jt[1],Vo=Jt[2],Ei=O.ctx.createPattern(O.resizeImage(He,dr=Jt[3],uo=Jt[4]),"repeat"),O.renderRepeat(xi,Ei,ra,Vo)),[3,6];case 5:!function(v){return 1===v.type}(Re)?function(v){return 2===v.type}(Re)&&(Pn=Bm(w,b,[null,null,null]),xi=Pn[0],Ws=Pn[1],ia=Pn[2],uo=Pn[4],ra=nr((lu=0===Re.position.length?[we]:Re.position)[0],dr=Pn[3]),Vo=nr(lu[lu.length-1],uo),id=function(v,g,w,b,D){var O=0,H=0;switch(v.size){case 0:0===v.shape?O=H=Math.min(Math.abs(g),Math.abs(g-b),Math.abs(w),Math.abs(w-D)):1===v.shape&&(O=Math.min(Math.abs(g),Math.abs(g-b)),H=Math.min(Math.abs(w),Math.abs(w-D)));break;case 2:if(0===v.shape)O=H=Math.min(Kn(g,w),Kn(g,w-D),Kn(g-b,w),Kn(g-b,w-D));else if(1===v.shape){var ce=Math.min(Math.abs(w),Math.abs(w-D))/Math.min(Math.abs(g),Math.abs(g-b)),ae=nu(b,D,g,w,!0);H=ce*(O=Kn(ae[0]-g,(ae[1]-w)/ce))}break;case 1:0===v.shape?O=H=Math.max(Math.abs(g),Math.abs(g-b),Math.abs(w),Math.abs(w-D)):1===v.shape&&(O=Math.max(Math.abs(g),Math.abs(g-b)),H=Math.max(Math.abs(w),Math.abs(w-D)));break;case 3:if(0===v.shape)O=H=Math.max(Kn(g,w),Kn(g,w-D),Kn(g-b,w),Kn(g-b,w-D));else if(1===v.shape){ce=Math.max(Math.abs(w),Math.abs(w-D))/Math.max(Math.abs(g),Math.abs(g-b));var He=nu(b,D,g,w,!1);H=ce*(O=Kn(He[0]-g,(He[1]-w)/ce))}}return Array.isArray(v.size)&&(O=nr(v.size[0],b),H=2===v.size.length?nr(v.size[1],D):O),[O,H]}(Re,ra,Vo,dr,uo),ih=id[1],(kl=id[0])>0&&ih>0&&(rd=O.ctx.createRadialGradient(Ws+ra,ia+Vo,0,Ws+ra,ia+Vo,kl),bD(Re.stops,2*kl).forEach(function(sh){return rd.addColorStop(sh.stop,ji(sh.color))}),O.path(xi),O.ctx.fillStyle=rd,kl!==ih?(sd=w.bounds.left+.5*w.bounds.width,cu=w.bounds.top+.5*w.bounds.height,wc=1/(rh=ih/kl),O.ctx.save(),O.ctx.translate(sd,cu),O.ctx.transform(1,0,0,rh,0,0),O.ctx.translate(-sd,-cu),O.ctx.fillRect(Ws,wc*(ia-cu)+cu,dr,uo*wc),O.ctx.restore()):O.ctx.fill())):(It=Bm(w,b,[null,null,null]),xi=It[0],ra=It[1],Vo=It[2],$t=Ac(Re.angle,dr=It[3],uo=It[4]),ti=$t[0],dn=$t[1],cn=$t[2],Fi=$t[3],si=$t[4],(Un=document.createElement("canvas")).width=dr,Un.height=uo,kt=Un.getContext("2d"),wi=kt.createLinearGradient(dn,Fi,cn,si),bD(Re.stops,ti).forEach(function(sh){return wi.addColorStop(sh.stop,ji(sh.color))}),kt.fillStyle=wi,kt.fillRect(0,0,dr,uo),dr>0&&uo>0&&(Ei=O.ctx.createPattern(Un,"repeat"),O.renderRepeat(xi,Ei,ra,Vo))),od.label=6;case 6:return b--,[2]}})},O=this,H=0,ce=w.styles.backgroundImage.slice(0).reverse(),xe.label=1;case 1:return H<ce.length?[5,D(ce[H])]:[3,4];case 2:xe.sent(),xe.label=3;case 3:return H++,[3,1];case 4:return[2]}})})},g.prototype.renderSolidBorder=function(w,b,D){return vt(this,void 0,void 0,function(){return qt(this,function(O){return this.path(My(D,b)),this.ctx.fillStyle=ji(w),this.ctx.fill(),[2]})})},g.prototype.renderDoubleBorder=function(w,b,D,O){return vt(this,void 0,void 0,function(){var H,ce;return qt(this,function(ae){switch(ae.label){case 0:return b<3?[4,this.renderSolidBorder(w,D,O)]:[3,2];case 1:return ae.sent(),[2];case 2:return H=function(v,g){switch(g){case 0:return Ho(v.topLeftBorderBox,v.topLeftBorderDoubleOuterBox,v.topRightBorderBox,v.topRightBorderDoubleOuterBox);case 1:return Ho(v.topRightBorderBox,v.topRightBorderDoubleOuterBox,v.bottomRightBorderBox,v.bottomRightBorderDoubleOuterBox);case 2:return Ho(v.bottomRightBorderBox,v.bottomRightBorderDoubleOuterBox,v.bottomLeftBorderBox,v.bottomLeftBorderDoubleOuterBox);default:return Ho(v.bottomLeftBorderBox,v.bottomLeftBorderDoubleOuterBox,v.topLeftBorderBox,v.topLeftBorderDoubleOuterBox)}}(O,D),this.path(H),this.ctx.fillStyle=ji(w),this.ctx.fill(),ce=function(v,g){switch(g){case 0:return Ho(v.topLeftBorderDoubleInnerBox,v.topLeftPaddingBox,v.topRightBorderDoubleInnerBox,v.topRightPaddingBox);case 1:return Ho(v.topRightBorderDoubleInnerBox,v.topRightPaddingBox,v.bottomRightBorderDoubleInnerBox,v.bottomRightPaddingBox);case 2:return Ho(v.bottomRightBorderDoubleInnerBox,v.bottomRightPaddingBox,v.bottomLeftBorderDoubleInnerBox,v.bottomLeftPaddingBox);default:return Ho(v.bottomLeftBorderDoubleInnerBox,v.bottomLeftPaddingBox,v.topLeftBorderDoubleInnerBox,v.topLeftPaddingBox)}}(O,D),this.path(ce),this.ctx.fill(),[2]}})})},g.prototype.renderNodeBackgroundAndBorders=function(w){return vt(this,void 0,void 0,function(){var b,D,O,H,ce,ae,xe,Re,He=this;return qt(this,function(ut){switch(ut.label){case 0:return this.applyEffects(w.getEffects(2)),D=!$u((b=w.container.styles).backgroundColor)||b.backgroundImage.length,O=[{style:b.borderTopStyle,color:b.borderTopColor,width:b.borderTopWidth},{style:b.borderRightStyle,color:b.borderRightColor,width:b.borderRightWidth},{style:b.borderBottomStyle,color:b.borderBottomColor,width:b.borderBottomWidth},{style:b.borderLeftStyle,color:b.borderLeftColor,width:b.borderLeftWidth}],H=Ul(xA(b.backgroundClip,0),w.curves),D||b.boxShadow.length?(this.ctx.save(),this.path(H),this.ctx.clip(),$u(b.backgroundColor)||(this.ctx.fillStyle=ji(b.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(w.container)]):[3,2];case 1:ut.sent(),this.ctx.restore(),b.boxShadow.slice(0).reverse().forEach(function(Jt){He.ctx.save();var It=vp(w.curves),$t=Jt.inset?0:1e4,ti=function(v,g,w,b,D){return v.map(function(O,H){switch(H){case 0:return O.add(g,w);case 1:return O.add(g+b,w);case 2:return O.add(g+b,w+D);case 3:return O.add(g,w+D)}return O})}(It,(Jt.inset?1:-1)*Jt.spread.number-$t,(Jt.inset?1:-1)*Jt.spread.number,Jt.spread.number*(Jt.inset?-2:2),Jt.spread.number*(Jt.inset?-2:2));Jt.inset?(He.path(It),He.ctx.clip(),He.mask(ti)):(He.mask(It),He.ctx.clip(),He.path(ti)),He.ctx.shadowOffsetX=Jt.offsetX.number+$t,He.ctx.shadowOffsetY=Jt.offsetY.number,He.ctx.shadowColor=ji(Jt.color),He.ctx.shadowBlur=Jt.blur.number,He.ctx.fillStyle=Jt.inset?ji(Jt.color):"rgba(0,0,0,1)",He.ctx.fill(),He.ctx.restore()}),ut.label=2;case 2:ce=0,ae=0,xe=O,ut.label=3;case 3:return ae<xe.length?0!==(Re=xe[ae]).style&&!$u(Re.color)&&Re.width>0?2!==Re.style?[3,5]:[4,this.renderDashedDottedBorder(Re.color,Re.width,ce,w.curves,2)]:[3,11]:[3,13];case 4:return ut.sent(),[3,11];case 5:return 3!==Re.style?[3,7]:[4,this.renderDashedDottedBorder(Re.color,Re.width,ce,w.curves,3)];case 6:return ut.sent(),[3,11];case 7:return 4!==Re.style?[3,9]:[4,this.renderDoubleBorder(Re.color,Re.width,ce,w.curves)];case 8:return ut.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Re.color,ce,w.curves)];case 10:ut.sent(),ut.label=11;case 11:ce++,ut.label=12;case 12:return ae++,[3,3];case 13:return[2]}})})},g.prototype.renderDashedDottedBorder=function(w,b,D,O,H){return vt(this,void 0,void 0,function(){var ce,ae,xe,Re,He,ut,Jt,It,$t,ti,dn,cn,Fi,si,Un,kt;return qt(this,function(wi){return this.ctx.save(),ce=function(v,g){switch(g){case 0:return SA(v.topLeftBorderStroke,v.topRightBorderStroke);case 1:return SA(v.topRightBorderStroke,v.bottomRightBorderStroke);case 2:return SA(v.bottomRightBorderStroke,v.bottomLeftBorderStroke);default:return SA(v.bottomLeftBorderStroke,v.topLeftBorderStroke)}}(O,D),ae=My(O,D),2===H&&(this.path(ae),this.ctx.clip()),ko(ae[0])?(xe=ae[0].start.x,Re=ae[0].start.y):(xe=ae[0].x,Re=ae[0].y),ko(ae[1])?(He=ae[1].end.x,ut=ae[1].end.y):(He=ae[1].x,ut=ae[1].y),Jt=0===D||2===D?Math.abs(xe-He):Math.abs(Re-ut),this.ctx.beginPath(),this.formatPath(3===H?ce:ae.slice(0,2)),It=b<3?3*b:2*b,$t=b<3?2*b:b,3===H&&(It=b,$t=b),ti=!0,Jt<=2*It?ti=!1:Jt<=2*It+$t?(It*=dn=Jt/(2*It+$t),$t*=dn):(cn=Math.floor((Jt+$t)/(It+$t)),Fi=(Jt-cn*It)/(cn-1),$t=(si=(Jt-(cn+1)*It)/cn)<=0||Math.abs($t-Fi)<Math.abs($t-si)?Fi:si),ti&&this.ctx.setLineDash(3===H?[0,It+$t]:[It,$t]),3===H?(this.ctx.lineCap="round",this.ctx.lineWidth=b):this.ctx.lineWidth=2*b+1.1,this.ctx.strokeStyle=ji(w),this.ctx.stroke(),this.ctx.setLineDash([]),2===H&&(ko(ae[0])&&(Un=ae[3],kt=ae[0],this.ctx.beginPath(),this.formatPath([new Xt(Un.end.x,Un.end.y),new Xt(kt.start.x,kt.start.y)]),this.ctx.stroke()),ko(ae[1])&&(Un=ae[1],kt=ae[2],this.ctx.beginPath(),this.formatPath([new Xt(Un.end.x,Un.end.y),new Xt(kt.start.x,kt.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},g.prototype.render=function(w){return vt(this,void 0,void 0,function(){var b;return qt(this,function(D){switch(D.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ji(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),b=function(v){var g=new hS(v,null),w=new ms(g),b=[];return hr(g,w,w,b),Mm(g.container,b),w}(w),[4,this.renderStack(b)];case 1:return D.sent(),this.applyEffects([]),[2,this.canvas]}})})},g}(MB),Iy=function(v){return v instanceof WC||v instanceof jC||v instanceof py&&v.type!==ru&&v.type!==cp},Ul=function(v,g){switch(v){case 0:return vp(g);case 2:return function(v){return[v.topLeftContentBox,v.topRightContentBox,v.bottomRightContentBox,v.bottomLeftContentBox]}(g);default:return yp(g)}},pS=function(v){switch(v){case 1:return"center";case 2:return"right";default:return"left"}},yc=["-apple-system","system-ui"],DB=function(v){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?v.filter(function(g){return-1===yc.indexOf(g)}):v},BB=function(v){function g(w,b){var D=v.call(this,w,b)||this;return D.canvas=b.canvas?b.canvas:document.createElement("canvas"),D.ctx=D.canvas.getContext("2d"),D.options=b,D.canvas.width=Math.floor(b.width*b.scale),D.canvas.height=Math.floor(b.height*b.scale),D.canvas.style.width=b.width+"px",D.canvas.style.height=b.height+"px",D.ctx.scale(D.options.scale,D.options.scale),D.ctx.translate(-b.x,-b.y),D.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+b.width+"x"+b.height+" at "+b.x+","+b.y+") with scale "+b.scale),D}return _e(g,v),g.prototype.render=function(w){return vt(this,void 0,void 0,function(){var b,D;return qt(this,function(O){switch(O.label){case 0:return b=Xh(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,w),[4,gS(b)];case 1:return D=O.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ji(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(D,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},g}(MB),gS=function(v){return new Promise(function(g,w){var b=new Image;b.onload=function(){g(b)},b.onerror=w,b.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(v))})},n3=function(){function v(g){var b=g.enabled;this.id=g.id,this.enabled=b,this.start=Date.now()}return v.prototype.debug=function(){for(var g=[],w=0;w<arguments.length;w++)g[w]=arguments[w];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,An([this.id,this.getTime()+"ms"],g)):this.info.apply(this,g))},v.prototype.getTime=function(){return Date.now()-this.start},v.prototype.info=function(){for(var g=[],w=0;w<arguments.length;w++)g[w]=arguments[w];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,An([this.id,this.getTime()+"ms"],g))},v.prototype.warn=function(){for(var g=[],w=0;w<arguments.length;w++)g[w]=arguments[w];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,An([this.id,this.getTime()+"ms"],g)):this.info.apply(this,g))},v.prototype.error=function(){for(var g=[],w=0;w<arguments.length;w++)g[w]=arguments[w];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,An([this.id,this.getTime()+"ms"],g)):this.info.apply(this,g))},v.instances={},v}(),i3=function(){function v(g,w){var b;this.windowBounds=w,this.instanceName="#"+v.instanceCount++,this.logger=new n3({id:this.instanceName,enabled:g.logging}),this.cache=null!==(b=g.cache)&&void 0!==b?b:new mp(this,g)}return v.instanceCount=1,v}();typeof window<"u"&&aS.setContext(window);var s3=function(v,g){return vt(void 0,void 0,void 0,function(){var w,b,D,O,H,ce,ae,xe,Re,He,ut,Jt,It,$t,ti,dn,cn,Fi,si,Un,kt,Ei,Pn,xi,Ws,ia,dr,uo,lu,ra,Vo,id,kl,ih,rd,sd,cu,rh;return qt(this,function(wc){switch(wc.label){case 0:if(!v||"object"!=typeof v)return[2,Promise.reject("Invalid element provided as first argument")];if(!(w=v.ownerDocument))throw new Error("Element is not attached to a Document");if(!(b=w.defaultView))throw new Error("Document is not attached to a Window");return D={allowTaint:null!==(Ei=g.allowTaint)&&void 0!==Ei&&Ei,imageTimeout:null!==(Pn=g.imageTimeout)&&void 0!==Pn?Pn:15e3,proxy:g.proxy,useCORS:null!==(xi=g.useCORS)&&void 0!==xi&&xi},O=Lt({logging:null===(Ws=g.logging)||void 0===Ws||Ws,cache:g.cache},D),H={windowWidth:null!==(ia=g.windowWidth)&&void 0!==ia?ia:b.innerWidth,windowHeight:null!==(dr=g.windowHeight)&&void 0!==dr?dr:b.innerHeight,scrollX:null!==(uo=g.scrollX)&&void 0!==uo?uo:b.pageXOffset,scrollY:null!==(lu=g.scrollY)&&void 0!==lu?lu:b.pageYOffset},ce=new yi(H.scrollX,H.scrollY,H.windowWidth,H.windowHeight),ae=new i3(O,ce),xe=null!==(ra=g.foreignObjectRendering)&&void 0!==ra&&ra,Re={allowTaint:null!==(Vo=g.allowTaint)&&void 0!==Vo&&Vo,onclone:g.onclone,ignoreElements:g.ignoreElements,inlineImages:xe,copyStyles:xe},ae.logger.debug("Starting document clone with size "+ce.width+"x"+ce.height+" scrolled to "+-ce.left+","+-ce.top),He=new fp(ae,v,Re),(ut=He.clonedReferenceElement)?[4,He.toIFrame(w,ce)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Jt=wc.sent(),It=Ra(ut)||function(v){return"HTML"===v.tagName}(ut)?function(v){var g=v.body,w=v.documentElement;if(!g||!w)throw new Error("Unable to get document size");var b=Math.max(Math.max(g.scrollWidth,w.scrollWidth),Math.max(g.offsetWidth,w.offsetWidth),Math.max(g.clientWidth,w.clientWidth)),D=Math.max(Math.max(g.scrollHeight,w.scrollHeight),Math.max(g.offsetHeight,w.offsetHeight),Math.max(g.clientHeight,w.clientHeight));return new yi(0,0,b,D)}(ut.ownerDocument):Yi(ae,ut),$t=It.width,ti=It.height,dn=It.left,cn=It.top,Fi=o3(ae,ut,g.backgroundColor),si={canvas:g.canvas,backgroundColor:Fi,scale:null!==(kl=null!==(id=g.scale)&&void 0!==id?id:b.devicePixelRatio)&&void 0!==kl?kl:1,x:(null!==(ih=g.x)&&void 0!==ih?ih:0)+dn,y:(null!==(rd=g.y)&&void 0!==rd?rd:0)+cn,width:null!==(sd=g.width)&&void 0!==sd?sd:Math.ceil($t),height:null!==(cu=g.height)&&void 0!==cu?cu:Math.ceil(ti)},xe?(ae.logger.debug("Document cloned, using foreign object rendering"),[4,new BB(ae,si).render(ut)]):[3,3];case 2:return Un=wc.sent(),[3,5];case 3:return ae.logger.debug("Document cloned, element located at "+dn+","+cn+" with size "+$t+"x"+ti+" using computed rendering"),ae.logger.debug("Starting DOM parsing"),kt=ir(ae,ut),Fi===kt.styles.backgroundColor&&(kt.styles.backgroundColor=Ku.TRANSPARENT),ae.logger.debug("Starting renderer for element at "+si.x+","+si.y+" with size "+si.width+"x"+si.height),[4,new t3(ae,si).render(kt)];case 4:Un=wc.sent(),wc.label=5;case 5:return(!(null!==(rh=g.removeContainer)&&void 0!==rh)||rh)&&(fp.destroy(Jt)||ae.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ae.logger.debug("Finished rendering"),[2,Un]}})})},o3=function(v,g,w){var b=g.ownerDocument,D=b.documentElement?lA(v,getComputedStyle(b.documentElement).backgroundColor):Ku.TRANSPARENT,O=b.body?lA(v,getComputedStyle(b.body).backgroundColor):Ku.TRANSPARENT,H="string"==typeof w?lA(v,w):null===w?Ku.TRANSPARENT:4294967295;return g===b.documentElement?$u(D)?$u(O)?H:O:D:H};return function(v,g){return void 0===g&&(g={}),s3(v,g)}}()},724:Dl=>{void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var sr=sr||function(){var _e=[];return{REVISION:"8",getAll:function(){return _e},removeAll:function(){_e=[]},add:function(Lt){_e.push(Lt)},remove:function(Lt){var vt=_e.indexOf(Lt);-1!==vt&&_e.splice(vt,1)},update:function(Lt){if(0===_e.length)return!1;var vt=0,qt=_e.length;for(Lt=void 0!==Lt?Lt:Date.now();vt<qt;)_e[vt].update(Lt)?vt++:(_e.splice(vt,1),qt--);return!0}}}();sr.Tween=function(_e){var Lt=_e,vt={},qt={},An=1e3,yi=0,Yi=null,$r=sr.Easing.Linear.None,yn=sr.Interpolation.Linear,Ni=[],Yo=null,wa=!1,ao=null,lc=null;this.to=function(or,vr){return void 0!==vr&&(An=vr),qt=or,this},this.start=function(or){for(var vr in sr.add(this),wa=!1,Yi=void 0!==or?or:Date.now(),Yi+=yi,qt)if(null!==Lt[vr]&&vr in Lt){if(qt[vr]instanceof Array){if(0===qt[vr].length)continue;qt[vr]=[Lt[vr]].concat(qt[vr])}vt[vr]=Lt[vr]}return this},this.stop=function(){return sr.remove(this),this},this.delay=function(or){return yi=or,this},this.easing=function(or){return $r=or,this},this.interpolation=function(or){return yn=or,this},this.chain=function(){return Ni=arguments,this},this.onStart=function(or){return Yo=or,this},this.onUpdate=function(or){return ao=or,this},this.onComplete=function(or){return lc=or,this},this.update=function(or){if(or<Yi)return!0;!1===wa&&(null!==Yo&&Yo.call(Lt),wa=!0);var vr=(or-Yi)/An,$c=$r(vr=vr>1?1:vr);for(var cc in vt){var Kc=vt[cc],xs=qt[cc];Lt[cc]=xs instanceof Array?yn(xs,$c):Kc+(xs-Kc)*$c}if(null!==ao&&ao.call(Lt,$c),1==vr){null!==lc&&lc.call(Lt);for(var uc=0,Bl=Ni.length;uc<Bl;uc++)Ni[uc].start(or);return!1}return!0}},sr.Easing={Linear:{None:function(_e){return _e}},Quadratic:{In:function(_e){return _e*_e},Out:function(_e){return _e*(2-_e)},InOut:function(_e){return(_e*=2)<1?.5*_e*_e:-.5*(--_e*(_e-2)-1)}},Cubic:{In:function(_e){return _e*_e*_e},Out:function(_e){return--_e*_e*_e+1},InOut:function(_e){return(_e*=2)<1?.5*_e*_e*_e:.5*((_e-=2)*_e*_e+2)}},Quartic:{In:function(_e){return _e*_e*_e*_e},Out:function(_e){return 1- --_e*_e*_e*_e},InOut:function(_e){return(_e*=2)<1?.5*_e*_e*_e*_e:-.5*((_e-=2)*_e*_e*_e-2)}},Quintic:{In:function(_e){return _e*_e*_e*_e*_e},Out:function(_e){return--_e*_e*_e*_e*_e+1},InOut:function(_e){return(_e*=2)<1?.5*_e*_e*_e*_e*_e:.5*((_e-=2)*_e*_e*_e*_e+2)}},Sinusoidal:{In:function(_e){return 1-Math.cos(_e*Math.PI/2)},Out:function(_e){return Math.sin(_e*Math.PI/2)},InOut:function(_e){return.5*(1-Math.cos(Math.PI*_e))}},Exponential:{In:function(_e){return 0===_e?0:Math.pow(1024,_e-1)},Out:function(_e){return 1===_e?1:1-Math.pow(2,-10*_e)},InOut:function(_e){return 0===_e?0:1===_e?1:(_e*=2)<1?.5*Math.pow(1024,_e-1):.5*(2-Math.pow(2,-10*(_e-1)))}},Circular:{In:function(_e){return 1-Math.sqrt(1-_e*_e)},Out:function(_e){return Math.sqrt(1- --_e*_e)},InOut:function(_e){return(_e*=2)<1?-.5*(Math.sqrt(1-_e*_e)-1):.5*(Math.sqrt(1-(_e-=2)*_e)+1)}},Elastic:{In:function(_e){var Lt,vt=.1;return 0===_e?0:1===_e?1:(!vt||vt<1?(vt=1,Lt=.1):Lt=.4*Math.asin(1/vt)/(2*Math.PI),-vt*Math.pow(2,10*(_e-=1))*Math.sin((_e-Lt)*(2*Math.PI)/.4))},Out:function(_e){var Lt,vt=.1;return 0===_e?0:1===_e?1:(!vt||vt<1?(vt=1,Lt=.1):Lt=.4*Math.asin(1/vt)/(2*Math.PI),vt*Math.pow(2,-10*_e)*Math.sin((_e-Lt)*(2*Math.PI)/.4)+1)},InOut:function(_e){var Lt,vt=.1;return 0===_e?0:1===_e?1:(!vt||vt<1?(vt=1,Lt=.1):Lt=.4*Math.asin(1/vt)/(2*Math.PI),(_e*=2)<1?vt*Math.pow(2,10*(_e-=1))*Math.sin((_e-Lt)*(2*Math.PI)/.4)*-.5:vt*Math.pow(2,-10*(_e-=1))*Math.sin((_e-Lt)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(_e){return _e*_e*(2.70158*_e-1.70158)},Out:function(_e){return--_e*_e*(2.70158*_e+1.70158)+1},InOut:function(_e){var Lt=2.5949095;return(_e*=2)<1?_e*_e*((Lt+1)*_e-Lt)*.5:.5*((_e-=2)*_e*((Lt+1)*_e+Lt)+2)}},Bounce:{In:function(_e){return 1-sr.Easing.Bounce.Out(1-_e)},Out:function(_e){return _e<1/2.75?7.5625*_e*_e:_e<2/2.75?7.5625*(_e-=1.5/2.75)*_e+.75:_e<2.5/2.75?7.5625*(_e-=2.25/2.75)*_e+.9375:7.5625*(_e-=2.625/2.75)*_e+.984375},InOut:function(_e){return _e<.5?.5*sr.Easing.Bounce.In(2*_e):.5*sr.Easing.Bounce.Out(2*_e-1)+.5}}},sr.Interpolation={Linear:function(_e,Lt){var vt=_e.length-1,qt=vt*Lt,An=Math.floor(qt),yi=sr.Interpolation.Utils.Linear;return Lt<0?yi(_e[0],_e[1],qt):Lt>1?yi(_e[vt],_e[vt-1],vt-qt):yi(_e[An],_e[An+1>vt?vt:An+1],qt-An)},Bezier:function(_e,Lt){var Yi,vt=0,qt=_e.length-1,An=Math.pow,yi=sr.Interpolation.Utils.Bernstein;for(Yi=0;Yi<=qt;Yi++)vt+=An(1-Lt,qt-Yi)*An(Lt,Yi)*_e[Yi]*yi(qt,Yi);return vt},CatmullRom:function(_e,Lt){var vt=_e.length-1,qt=vt*Lt,An=Math.floor(qt),yi=sr.Interpolation.Utils.CatmullRom;return _e[0]===_e[vt]?(Lt<0&&(An=Math.floor(qt=vt*(1+Lt))),yi(_e[(An-1+vt)%vt],_e[An],_e[(An+1)%vt],_e[(An+2)%vt],qt-An)):Lt<0?_e[0]-(yi(_e[0],_e[0],_e[1],_e[1],-qt)-_e[0]):Lt>1?_e[vt]-(yi(_e[vt],_e[vt],_e[vt-1],_e[vt-1],qt-vt)-_e[vt]):yi(_e[An?An-1:0],_e[An],_e[vt<An+1?vt:An+1],_e[vt<An+2?vt:An+2],qt-An)},Utils:{Linear:function(_e,Lt,vt){return(Lt-_e)*vt+_e},Bernstein:function(_e,Lt){var vt=sr.Interpolation.Utils.Factorial;return vt(_e)/vt(Lt)/vt(_e-Lt)},Factorial:function(){var _e=[1];return function(Lt){var qt,vt=1;if(_e[Lt])return _e[Lt];for(qt=Lt;qt>1;qt--)vt*=qt;return _e[Lt]=vt}}(),CatmullRom:function(_e,Lt,vt,qt,An){var yi=.5*(vt-_e),Yi=.5*(qt-Lt),$r=An*An;return(2*Lt-2*vt+yi+Yi)*(An*$r)+(-3*Lt+3*vt-2*yi-Yi)*$r+yi*An+Lt}}},Dl.exports=sr},4073:()=>{"use strict";const Dl=":";Error;const eA=function(Ke,...st){if(eA.translate){const Pt=eA.translate(Ke,st);Ke=Pt[0],st=Pt[1]}let Et=$g(Ke[0],Ke.raw[0]);for(let Pt=1;Pt<Ke.length;Pt++)Et+=st[Pt-1]+$g(Ke[Pt],Ke.raw[Pt]);return Et},Wg=":";function $g(Ke,st){return st.charAt(0)===Wg?Ke.substring(function yv(Ke,st){for(let Et=1,Pt=1;Et<Ke.length;Et++,Pt++)if("\\"===st[Pt])Pt++;else if(Ke[Et]===Dl)return Et;throw new Error(`Unterminated $localize metadata block in "${st}".`)}(Ke,st)+1):Ke}globalThis.$localize=eA},467:(Dl,sr,_e)=>{"use strict";function Lt(qt,An,yi,Yi,$r,yn,Ni){try{var Yo=qt[yn](Ni),wa=Yo.value}catch(ao){return void yi(ao)}Yo.done?An(wa):Promise.resolve(wa).then(Yi,$r)}function vt(qt){return function(){var An=this,yi=arguments;return new Promise(function(Yi,$r){var yn=qt.apply(An,yi);function Ni(wa){Lt(yn,Yi,$r,Ni,Yo,"next",wa)}function Yo(wa){Lt(yn,Yi,$r,Ni,Yo,"throw",wa)}Ni(void 0)})}}_e.d(sr,{A:()=>vt})},2284:(Dl,sr,_e)=>{"use strict";function Lt(vt){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(qt){return typeof qt}:function(qt){return qt&&"function"==typeof Symbol&&qt.constructor===Symbol&&qt!==Symbol.prototype?"symbol":typeof qt})(vt)}_e.d(sr,{A:()=>Lt})}},Dl=>{var sr=Lt=>Dl(Dl.s=Lt);sr(4073),sr(3582)}]);