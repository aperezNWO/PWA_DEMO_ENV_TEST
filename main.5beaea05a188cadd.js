(self.webpackChunkAngularDijkstra=self.webpackChunkAngularDijkstra||[]).push([[792],{1162:(pi,ni,De)=>{"use strict";let He;De.d(ni,{bJ:()=>cr}),pi=De.hmd(pi);const dn=new Array(32).fill(void 0);dn.push(void 0,null,!0,!1);let qn=dn.length;function Vt(ft){qn===dn.length&&dn.push(dn.length+1);const Pe=qn;return qn=dn[Pe],dn[Pe]=ft,Pe}const xt=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});xt.decode();let We=new Uint8Array;function Pt(){return 0===We.byteLength&&(We=new Uint8Array(He.memory.buffer)),We}function Ft(ft,Pe){return xt.decode(Pt().subarray(ft,ft+Pe))}function gt(ft){const Pe=function _t(ft){return dn[ft]}(ft);return(et=ft)<36||(dn[et]=qn,qn=et),Pe;var et}let zt=0;const gn=new TextEncoder("utf-8"),$i="function"==typeof gn.encodeInto?function(ft,Pe){return gn.encodeInto(ft,Pe)}:function(ft,Pe){const et=gn.encode(ft);return Pe.set(et),{read:ft.length,written:et.length}};function er(ft,Pe,et){if(void 0===et){const $e=gn.encode(ft),Bt=Pe($e.length);return Pt().subarray(Bt,Bt+$e.length).set($e),zt=$e.length,Bt}let Mt=ft.length,bt=Pe(Mt);const mn=Pt();let Nn=0;for(;Nn<Mt;Nn++){const $e=ft.charCodeAt(Nn);if($e>127)break;mn[bt+Nn]=$e}if(Nn!==Mt){0!==Nn&&(ft=ft.slice(Nn)),bt=et(bt,Mt,Mt=Nn+3*ft.length);const $e=Pt().subarray(bt+Nn,bt+Mt);Nn+=$i(ft,$e).written}return zt=Nn,bt}let gA=new Int32Array;function rn(){return 0===gA.byteLength&&(gA=new Int32Array(He.memory.buffer)),gA}function Is(ft){return null==ft}function PA(ft,Pe){return Pt().subarray(ft/1,ft/1+Pe)}function hA(ft,Pe){const et=Pe(1*ft.length);return Pt().set(ft,et/1),zt=ft.length,et}new Float64Array;class Mr{static __wrap(Pe){const et=Object.create(Mr.prototype);return et.ptr=Pe,et}__destroy_into_raw(){const Pe=this.ptr;return this.ptr=0,Pe}free(){const Pe=this.__destroy_into_raw();He.__wbg_jsvirtualfile_free(Pe)}lastAccessed(){const Pe=He.jsvirtualfile_lastAccessed(this.ptr);return BigInt.asUintN(64,Pe)}lastModified(){const Pe=He.jsvirtualfile_lastModified(this.ptr);return BigInt.asUintN(64,Pe)}createdTime(){const Pe=He.jsvirtualfile_createdTime(this.ptr);return BigInt.asUintN(64,Pe)}size(){const Pe=He.jsvirtualfile_size(this.ptr);return BigInt.asUintN(64,Pe)}setLength(Pe){try{const Mt=He.__wbindgen_add_to_stack_pointer(-16);He.jsvirtualfile_setLength(Mt,this.ptr,Pe);var et=rn()[Mt/4+0];if(rn()[Mt/4+1])throw gt(et)}finally{He.__wbindgen_add_to_stack_pointer(16)}}read(){try{const mn=He.__wbindgen_add_to_stack_pointer(-16);He.jsvirtualfile_read(mn,this.ptr);var Pe=rn()[mn/4+0],et=rn()[mn/4+1],Mt=rn()[mn/4+2];if(rn()[mn/4+3])throw gt(Mt);var bt=PA(Pe,et).slice();return He.__wbindgen_free(Pe,1*et),bt}finally{He.__wbindgen_add_to_stack_pointer(16)}}readString(){try{const $e=He.__wbindgen_add_to_stack_pointer(-16);He.jsvirtualfile_readString($e,this.ptr);var Pe=rn()[$e/4+0],et=rn()[$e/4+1],Mt=rn()[$e/4+2],bt=rn()[$e/4+3],mn=Pe,Nn=et;if(bt)throw mn=0,Nn=0,gt(Mt);return Ft(mn,Nn)}finally{He.__wbindgen_add_to_stack_pointer(16),He.__wbindgen_free(mn,Nn)}}write(Pe){try{const Nn=He.__wbindgen_add_to_stack_pointer(-16);var et=hA(Pe,He.__wbindgen_malloc),Mt=zt;He.jsvirtualfile_write(Nn,this.ptr,et,Mt);var bt=rn()[Nn/4+0],mn=rn()[Nn/4+1];if(rn()[Nn/4+2])throw gt(mn);return bt>>>0}finally{He.__wbindgen_add_to_stack_pointer(16),Pe.set(Pt().subarray(et/1,et/1+Mt)),He.__wbindgen_free(et,1*Mt)}}writeString(Pe){try{const bt=He.__wbindgen_add_to_stack_pointer(-16),mn=er(Pe,He.__wbindgen_malloc,He.__wbindgen_realloc);He.jsvirtualfile_writeString(bt,this.ptr,mn,zt);var et=rn()[bt/4+0],Mt=rn()[bt/4+1];if(rn()[bt/4+2])throw gt(Mt);return et>>>0}finally{He.__wbindgen_add_to_stack_pointer(16)}}flush(){try{const et=He.__wbindgen_add_to_stack_pointer(-16);He.jsvirtualfile_flush(et,this.ptr);var Pe=rn()[et/4+0];if(rn()[et/4+1])throw gt(Pe)}finally{He.__wbindgen_add_to_stack_pointer(16)}}seek(Pe){try{const bt=He.__wbindgen_add_to_stack_pointer(-16);He.jsvirtualfile_seek(bt,this.ptr,Pe);var et=rn()[bt/4+0],Mt=rn()[bt/4+1];if(rn()[bt/4+2])throw gt(Mt);return et>>>0}finally{He.__wbindgen_add_to_stack_pointer(16)}}}class Yi{static __wrap(Pe){const et=Object.create(Yi.prototype);return et.ptr=Pe,et}__destroy_into_raw(){const Pe=this.ptr;return this.ptr=0,Pe}free(){const Pe=this.__destroy_into_raw();He.__wbg_memfs_free(Pe)}static __wbgd_downcast_token(){return gt(He.memfs___wbgd_downcast_token())}constructor(){try{const Mt=He.__wbindgen_add_to_stack_pointer(-16);He.memfs_new(Mt);var Pe=rn()[Mt/4+0],et=rn()[Mt/4+1];if(rn()[Mt/4+2])throw gt(et);return Yi.__wrap(Pe)}finally{He.__wbindgen_add_to_stack_pointer(16)}}static from_js(Pe){try{const bt=He.__wbindgen_add_to_stack_pointer(-16);He.memfs_from_js(bt,Vt(Pe));var et=rn()[bt/4+0],Mt=rn()[bt/4+1];if(rn()[bt/4+2])throw gt(Mt);return Yi.__wrap(et)}finally{He.__wbindgen_add_to_stack_pointer(16)}}readDir(Pe){try{const bt=He.__wbindgen_add_to_stack_pointer(-16),mn=er(Pe,He.__wbindgen_malloc,He.__wbindgen_realloc);He.memfs_readDir(bt,this.ptr,mn,zt);var et=rn()[bt/4+0],Mt=rn()[bt/4+1];if(rn()[bt/4+2])throw gt(Mt);return gt(et)}finally{He.__wbindgen_add_to_stack_pointer(16)}}createDir(Pe){try{const Mt=He.__wbindgen_add_to_stack_pointer(-16),bt=er(Pe,He.__wbindgen_malloc,He.__wbindgen_realloc);He.memfs_createDir(Mt,this.ptr,bt,zt);var et=rn()[Mt/4+0];if(rn()[Mt/4+1])throw gt(et)}finally{He.__wbindgen_add_to_stack_pointer(16)}}removeDir(Pe){try{const Mt=He.__wbindgen_add_to_stack_pointer(-16),bt=er(Pe,He.__wbindgen_malloc,He.__wbindgen_realloc);He.memfs_removeDir(Mt,this.ptr,bt,zt);var et=rn()[Mt/4+0];if(rn()[Mt/4+1])throw gt(et)}finally{He.__wbindgen_add_to_stack_pointer(16)}}removeFile(Pe){try{const Mt=He.__wbindgen_add_to_stack_pointer(-16),bt=er(Pe,He.__wbindgen_malloc,He.__wbindgen_realloc);He.memfs_removeFile(Mt,this.ptr,bt,zt);var et=rn()[Mt/4+0];if(rn()[Mt/4+1])throw gt(et)}finally{He.__wbindgen_add_to_stack_pointer(16)}}rename(Pe,et){try{const bt=He.__wbindgen_add_to_stack_pointer(-16),mn=er(Pe,He.__wbindgen_malloc,He.__wbindgen_realloc),Nn=zt,$e=er(et,He.__wbindgen_malloc,He.__wbindgen_realloc);He.memfs_rename(bt,this.ptr,mn,Nn,$e,zt);var Mt=rn()[bt/4+0];if(rn()[bt/4+1])throw gt(Mt)}finally{He.__wbindgen_add_to_stack_pointer(16)}}metadata(Pe){try{const bt=He.__wbindgen_add_to_stack_pointer(-16),mn=er(Pe,He.__wbindgen_malloc,He.__wbindgen_realloc);He.memfs_metadata(bt,this.ptr,mn,zt);var et=rn()[bt/4+0],Mt=rn()[bt/4+1];if(rn()[bt/4+2])throw gt(Mt);return gt(et)}finally{He.__wbindgen_add_to_stack_pointer(16)}}open(Pe,et){try{const mn=He.__wbindgen_add_to_stack_pointer(-16),Nn=er(Pe,He.__wbindgen_malloc,He.__wbindgen_realloc);He.memfs_open(mn,this.ptr,Nn,zt,Vt(et));var Mt=rn()[mn/4+0],bt=rn()[mn/4+1];if(rn()[mn/4+2])throw gt(bt);return Mr.__wrap(Mt)}finally{He.__wbindgen_add_to_stack_pointer(16)}}}class cr{static __wrap(Pe){const et=Object.create(cr.prototype);return et.ptr=Pe,et}__destroy_into_raw(){const Pe=this.ptr;return this.ptr=0,Pe}free(){const Pe=this.__destroy_into_raw();He.__wbg_wasi_free(Pe)}constructor(Pe){try{const bt=He.__wbindgen_add_to_stack_pointer(-16);He.wasi_new(bt,Vt(Pe));var et=rn()[bt/4+0],Mt=rn()[bt/4+1];if(rn()[bt/4+2])throw gt(Mt);return cr.__wrap(et)}finally{He.__wbindgen_add_to_stack_pointer(16)}}get fs(){try{const Mt=He.__wbindgen_add_to_stack_pointer(-16);He.wasi_fs(Mt,this.ptr);var Pe=rn()[Mt/4+0],et=rn()[Mt/4+1];if(rn()[Mt/4+2])throw gt(et);return Yi.__wrap(Pe)}finally{He.__wbindgen_add_to_stack_pointer(16)}}getImports(Pe){try{const bt=He.__wbindgen_add_to_stack_pointer(-16);He.wasi_getImports(bt,this.ptr,Vt(Pe));var et=rn()[bt/4+0],Mt=rn()[bt/4+1];if(rn()[bt/4+2])throw gt(Mt);return gt(et)}finally{He.__wbindgen_add_to_stack_pointer(16)}}instantiate(Pe,et){try{const mn=He.__wbindgen_add_to_stack_pointer(-16);He.wasi_instantiate(mn,this.ptr,Vt(Pe),Is(et)?0:Vt(et));var Mt=rn()[mn/4+0],bt=rn()[mn/4+1];if(rn()[mn/4+2])throw gt(bt);return gt(Mt)}finally{He.__wbindgen_add_to_stack_pointer(16)}}start(Pe){try{const bt=He.__wbindgen_add_to_stack_pointer(-16);He.wasi_start(bt,this.ptr,Is(Pe)?0:Vt(Pe));var et=rn()[bt/4+0],Mt=rn()[bt/4+1];if(rn()[bt/4+2])throw gt(Mt);return et>>>0}finally{He.__wbindgen_add_to_stack_pointer(16)}}getStdoutBuffer(){try{const mn=He.__wbindgen_add_to_stack_pointer(-16);He.wasi_getStdoutBuffer(mn,this.ptr);var Pe=rn()[mn/4+0],et=rn()[mn/4+1],Mt=rn()[mn/4+2];if(rn()[mn/4+3])throw gt(Mt);var bt=PA(Pe,et).slice();return He.__wbindgen_free(Pe,1*et),bt}finally{He.__wbindgen_add_to_stack_pointer(16)}}getStdoutString(){try{const $e=He.__wbindgen_add_to_stack_pointer(-16);He.wasi_getStdoutString($e,this.ptr);var Pe=rn()[$e/4+0],et=rn()[$e/4+1],Mt=rn()[$e/4+2],bt=rn()[$e/4+3],mn=Pe,Nn=et;if(bt)throw mn=0,Nn=0,gt(Mt);return Ft(mn,Nn)}finally{He.__wbindgen_add_to_stack_pointer(16),He.__wbindgen_free(mn,Nn)}}getStderrBuffer(){try{const mn=He.__wbindgen_add_to_stack_pointer(-16);He.wasi_getStderrBuffer(mn,this.ptr);var Pe=rn()[mn/4+0],et=rn()[mn/4+1],Mt=rn()[mn/4+2];if(rn()[mn/4+3])throw gt(Mt);var bt=PA(Pe,et).slice();return He.__wbindgen_free(Pe,1*et),bt}finally{He.__wbindgen_add_to_stack_pointer(16)}}getStderrString(){try{const $e=He.__wbindgen_add_to_stack_pointer(-16);He.wasi_getStderrString($e,this.ptr);var Pe=rn()[$e/4+0],et=rn()[$e/4+1],Mt=rn()[$e/4+2],bt=rn()[$e/4+3],mn=Pe,Nn=et;if(bt)throw mn=0,Nn=0,gt(Mt);return Ft(mn,Nn)}finally{He.__wbindgen_add_to_stack_pointer(16),He.__wbindgen_free(mn,Nn)}}setStdinBuffer(Pe){try{const Mt=He.__wbindgen_add_to_stack_pointer(-16),bt=hA(Pe,He.__wbindgen_malloc);He.wasi_setStdinBuffer(Mt,this.ptr,bt,zt);var et=rn()[Mt/4+0];if(rn()[Mt/4+1])throw gt(et)}finally{He.__wbindgen_add_to_stack_pointer(16)}}setStdinString(Pe){try{const Mt=He.__wbindgen_add_to_stack_pointer(-16),bt=er(Pe,He.__wbindgen_malloc,He.__wbindgen_realloc);He.wasi_setStdinString(Mt,this.ptr,bt,zt);var et=rn()[Mt/4+0];if(rn()[Mt/4+1])throw gt(et)}finally{He.__wbindgen_add_to_stack_pointer(16)}}}},7636:pi=>{"use strict";var ni=Object.assign||function(He){for(var dn=1;dn<arguments.length;dn++){var _t=arguments[dn];for(var qn in _t)Object.prototype.hasOwnProperty.call(_t,qn)&&(He[qn]=_t[qn])}return He},De={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},kt={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},St=function(dn,_t){return ni({},dn,_t)};pi.exports=function(He){for(var dn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_t=dn.preserveFormatting,qn=void 0!==_t&&_t,Vt=dn.escapeMapFn,xt=void 0===Vt?St:Vt,We=String(He),Pt="",Ft=xt(ni({},De),qn?ni({},kt):{}),gt=Object.keys(Ft),Zt=function(){var gn=!1;gt.forEach(function($i,er){gn||We.length>=$i.length&&We.slice(0,$i.length)===$i&&(Pt+=Ft[gt[er]],We=We.slice($i.length,We.length),gn=!0)}),gn||(Pt+=We.slice(0,1),We=We.slice(1,We.length))};We;)Zt();return Pt}},6990:function(pi){pi.exports=function(){"use strict";var ni=function(_,Q){return(ni=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,x){N.__proto__=x}||function(N,x){for(var q in x)Object.prototype.hasOwnProperty.call(x,q)&&(N[q]=x[q])})(_,Q)};function De(_,Q){if("function"!=typeof Q&&null!==Q)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");function N(){this.constructor=_}ni(_,Q),_.prototype=null===Q?Object.create(Q):(N.prototype=Q.prototype,new N)}var kt=function(){return kt=Object.assign||function(Q){for(var N,x=1,q=arguments.length;x<q;x++)for(var ne in N=arguments[x])Object.prototype.hasOwnProperty.call(N,ne)&&(Q[ne]=N[ne]);return Q},kt.apply(this,arguments)};function St(_,Q,N,x){return new(N||(N=Promise))(function(ne,ae){function Fe(ot){try{Ze(x.next(ot))}catch(pt){ae(pt)}}function xe(ot){try{Ze(x.throw(ot))}catch(pt){ae(pt)}}function Ze(ot){ot.done?ne(ot.value):function q(ne){return ne instanceof N?ne:new N(function(ae){ae(ne)})}(ot.value).then(Fe,xe)}Ze((x=x.apply(_,Q||[])).next())})}function He(_,Q){var x,q,ne,ae,N={label:0,sent:function(){if(1&ne[0])throw ne[1];return ne[1]},trys:[],ops:[]};return ae={next:Fe(0),throw:Fe(1),return:Fe(2)},"function"==typeof Symbol&&(ae[Symbol.iterator]=function(){return this}),ae;function Fe(Ze){return function(ot){return function xe(Ze){if(x)throw new TypeError("Generator is already executing.");for(;N;)try{if(x=1,q&&(ne=2&Ze[0]?q.return:Ze[0]?q.throw||((ne=q.return)&&ne.call(q),0):q.next)&&!(ne=ne.call(q,Ze[1])).done)return ne;switch(q=0,ne&&(Ze=[2&Ze[0],ne.value]),Ze[0]){case 0:case 1:ne=Ze;break;case 4:return N.label++,{value:Ze[1],done:!1};case 5:N.label++,q=Ze[1],Ze=[0];continue;case 7:Ze=N.ops.pop(),N.trys.pop();continue;default:if(!(ne=(ne=N.trys).length>0&&ne[ne.length-1])&&(6===Ze[0]||2===Ze[0])){N=0;continue}if(3===Ze[0]&&(!ne||Ze[1]>ne[0]&&Ze[1]<ne[3])){N.label=Ze[1];break}if(6===Ze[0]&&N.label<ne[1]){N.label=ne[1],ne=Ze;break}if(ne&&N.label<ne[2]){N.label=ne[2],N.ops.push(Ze);break}ne[2]&&N.ops.pop(),N.trys.pop();continue}Ze=Q.call(_,N)}catch(ot){Ze=[6,ot],q=0}finally{x=ne=0}if(5&Ze[0])throw Ze[1];return{value:Ze[0]?Ze[1]:void 0,done:!0}}([Ze,ot])}}}function dn(_,Q,N){if(N||2===arguments.length)for(var ne,x=0,q=Q.length;x<q;x++)(ne||!(x in Q))&&(ne||(ne=Array.prototype.slice.call(Q,0,x)),ne[x]=Q[x]);return _.concat(ne||Q)}for(var _t=function(){function _(Q,N,x,q){this.left=Q,this.top=N,this.width=x,this.height=q}return _.prototype.add=function(Q,N,x,q){return new _(this.left+Q,this.top+N,this.width+x,this.height+q)},_.fromClientRect=function(Q,N){return new _(N.left+Q.windowBounds.left,N.top+Q.windowBounds.top,N.width,N.height)},_.fromDOMRectList=function(Q,N){var x=Array.from(N).find(function(q){return 0!==q.width});return x?new _(x.left+Q.windowBounds.left,x.top+Q.windowBounds.top,x.width,x.height):_.EMPTY},_.EMPTY=new _(0,0,0,0),_}(),qn=function(_,Q){return _t.fromClientRect(_,Q.getBoundingClientRect())},xt=function(_){for(var Q=[],N=0,x=_.length;N<x;){var q=_.charCodeAt(N++);if(q>=55296&&q<=56319&&N<x){var ne=_.charCodeAt(N++);56320==(64512&ne)?Q.push(((1023&q)<<10)+(1023&ne)+65536):(Q.push(q),N--)}else Q.push(q)}return Q},We=function(){for(var _=[],Q=0;Q<arguments.length;Q++)_[Q]=arguments[Q];if(String.fromCodePoint)return String.fromCodePoint.apply(String,_);var N=_.length;if(!N)return"";for(var x=[],q=-1,ne="";++q<N;){var ae=_[q];ae<=65535?x.push(ae):x.push(55296+((ae-=65536)>>10),ae%1024+56320),(q+1===N||x.length>16384)&&(ne+=String.fromCharCode.apply(String,x),x.length=0)}return ne},Pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ft=typeof Uint8Array>"u"?[]:new Uint8Array(256),gt=0;gt<64;gt++)Ft[Pt.charCodeAt(gt)]=gt;for(var Zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zt=typeof Uint8Array>"u"?[]:new Uint8Array(256),gn=0;gn<64;gn++)zt[Zt.charCodeAt(gn)]=gn;for(var Hu=function(_,Q,N){return _.slice?_.slice(Q,N):new Uint16Array(Array.prototype.slice.call(_,Q,N))},ft=function(){function _(Q,N,x,q,ne,ae){this.initialValue=Q,this.errorValue=N,this.highStart=x,this.highValueIndex=q,this.index=ne,this.data=ae}return _.prototype.get=function(Q){var N;if(Q>=0){if(Q<55296||Q>56319&&Q<=65535)return this.data[N=((N=this.index[Q>>5])<<2)+(31&Q)];if(Q<=65535)return this.data[N=((N=this.index[2048+(Q-55296>>5)])<<2)+(31&Q)];if(Q<this.highStart)return N=this.index[N=2080+(Q>>11)],this.data[N=((N=this.index[N+=Q>>5&63])<<2)+(31&Q)];if(Q<=1114111)return this.data[this.highValueIndex]}return this.errorValue},_}(),Pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",et=typeof Uint8Array>"u"?[]:new Uint8Array(256),Mt=0;Mt<64;Mt++)et[Pe.charCodeAt(Mt)]=Mt;var N,x,q,ae,Fe,vr=10,Yc=13,cc=15,Fs=17,lc=18,es=19,Ku=20,zf=21,qu=22,st=24,It=25,qt=26,an=27,tn=28,pn=30,hn=32,jr=33,rA=34,Bs=35,bA=37,Oa=38,$o=39,_r=40,XB=42,gQ=[9001,65288],yr="\xd7",vp=(N=function(_){var x,ne,ae,Fe,xe,Q=.75*_.length,N=_.length,q=0;"="===_[_.length-1]&&(Q--,"="===_[_.length-2]&&Q--);var Ze=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(Q):new Array(Q),ot=Array.isArray(Ze)?Ze:new Uint8Array(Ze);for(x=0;x<N;x+=4)ne=zt[_.charCodeAt(x)],ae=zt[_.charCodeAt(x+1)],Fe=zt[_.charCodeAt(x+2)],xe=zt[_.charCodeAt(x+3)],ot[q++]=ne<<2|ae>>4,ot[q++]=(15&ae)<<4|Fe>>2,ot[q++]=(3&Fe)<<6|63&xe;return Ze}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),x=Array.isArray(N)?function(_){for(var Q=_.length,N=[],x=0;x<Q;x+=4)N.push(_[x+3]<<24|_[x+2]<<16|_[x+1]<<8|_[x]);return N}(N):new Uint32Array(N),q=Array.isArray(N)?function(_){for(var Q=_.length,N=[],x=0;x<Q;x+=2)N.push(_[x+1]<<8|_[x]);return N}(N):new Uint16Array(N),ae=Hu(q,12,x[4]/2),Fe=2===x[5]?Hu(q,(24+x[4])/2):function(_,Q,N){return _.slice?_.slice(Q,N):new Uint32Array(Array.prototype.slice.call(_,Q,N))}(x,Math.ceil((24+x[4])/4)),new ft(x[0],x[1],x[2],x[3],ae,Fe)),AA=[pn,36],sA=[1,2,3,5],$B=[vr,8],tr=[an,qt],yp=sA.concat($B),cs=[Oa,$o,_r,rA,Bs],Ga=[cc,Yc],SC=function(_,Q,N,x){var q=x[N];if(Array.isArray(_)?-1!==_.indexOf(q):_===q)for(var ne=N;ne<=x.length;){if((ae=x[++ne])===Q)return!0;if(ae!==vr)break}if(q===vr)for(ne=N;ne>0;){var Fe=x[--ne];if(Array.isArray(_)?-1!==_.indexOf(Fe):_===Fe)for(var xe=N;xe<=x.length;){var ae;if((ae=x[++xe])===Q)return!0;if(ae!==vr)break}if(Fe!==vr)break}return!1},Rs=function(_,Q){for(var N=_;N>=0;){var x=Q[N];if(x!==vr)return x;N--}return 0},Qp=function(_,Q,N,x,q){if(0===N[x])return yr;var ne=x-1;if(Array.isArray(q)&&!0===q[ne])return yr;var ae=ne-1,Fe=ne+1,xe=Q[ne],Ze=ae>=0?Q[ae]:0,ot=Q[Fe];if(2===xe&&3===ot)return yr;if(-1!==sA.indexOf(xe))return"!";if(-1!==sA.indexOf(ot)||-1!==$B.indexOf(ot))return yr;if(8===Rs(ne,Q))return"\xf7";if(11===vp.get(_[ne])||(xe===hn||xe===jr)&&11===vp.get(_[Fe])||7===xe||7===ot||9===xe||-1===[vr,Yc,cc].indexOf(xe)&&9===ot||-1!==[Fs,lc,es,st,tn].indexOf(ot)||Rs(ne,Q)===qu||SC(23,qu,ne,Q)||SC([Fs,lc],zf,ne,Q)||SC(12,12,ne,Q))return yr;if(xe===vr)return"\xf7";if(23===xe||23===ot)return yr;if(16===ot||16===xe)return"\xf7";if(-1!==[Yc,cc,zf].indexOf(ot)||14===xe||36===Ze&&-1!==Ga.indexOf(xe)||xe===tn&&36===ot||ot===Ku||-1!==AA.indexOf(ot)&&xe===It||-1!==AA.indexOf(xe)&&ot===It||xe===an&&-1!==[bA,hn,jr].indexOf(ot)||-1!==[bA,hn,jr].indexOf(xe)&&ot===qt||-1!==AA.indexOf(xe)&&-1!==tr.indexOf(ot)||-1!==tr.indexOf(xe)&&-1!==AA.indexOf(ot)||-1!==[an,qt].indexOf(xe)&&(ot===It||-1!==[qu,cc].indexOf(ot)&&Q[Fe+1]===It)||-1!==[qu,cc].indexOf(xe)&&ot===It||xe===It&&-1!==[It,tn,st].indexOf(ot))return yr;if(-1!==[It,tn,st,Fs,lc].indexOf(ot))for(var pt=ne;pt>=0;){if((Ut=Q[pt])===It)return yr;if(-1===[tn,st].indexOf(Ut))break;pt--}if(-1!==[an,qt].indexOf(ot))for(pt=-1!==[Fs,lc].indexOf(xe)?ae:ne;pt>=0;){var Ut;if((Ut=Q[pt])===It)return yr;if(-1===[tn,st].indexOf(Ut))break;pt--}if(Oa===xe&&-1!==[Oa,$o,rA,Bs].indexOf(ot)||-1!==[$o,rA].indexOf(xe)&&-1!==[$o,_r].indexOf(ot)||-1!==[_r,Bs].indexOf(xe)&&ot===_r||-1!==cs.indexOf(xe)&&-1!==[Ku,qt].indexOf(ot)||-1!==cs.indexOf(ot)&&xe===an||-1!==AA.indexOf(xe)&&-1!==AA.indexOf(ot)||xe===st&&-1!==AA.indexOf(ot)||-1!==AA.concat(It).indexOf(xe)&&ot===qu&&-1===gQ.indexOf(_[Fe])||-1!==AA.concat(It).indexOf(ot)&&xe===lc)return yr;if(41===xe&&41===ot){for(var Yn=N[ne],vn=1;Yn>0&&41===Q[--Yn];)vn++;if(vn%2!=0)return yr}return xe===hn&&ot===jr?yr:"\xf7"},eE=function(_,Q){Q||(Q={lineBreak:"normal",wordBreak:"normal"});var N=function(_,Q){void 0===Q&&(Q="strict");var N=[],x=[],q=[];return _.forEach(function(ne,ae){var Fe=vp.get(ne);if(Fe>50?(q.push(!0),Fe-=50):q.push(!1),-1!==["normal","auto","loose"].indexOf(Q)&&-1!==[8208,8211,12316,12448].indexOf(ne))return x.push(ae),N.push(16);if(4===Fe||11===Fe){if(0===ae)return x.push(ae),N.push(pn);var xe=N[ae-1];return-1===yp.indexOf(xe)?(x.push(x[ae-1]),N.push(xe)):(x.push(ae),N.push(pn))}return x.push(ae),31===Fe?N.push("strict"===Q?zf:bA):Fe===XB||29===Fe?N.push(pn):43===Fe?N.push(ne>=131072&&ne<=196605||ne>=196608&&ne<=262141?bA:pn):void N.push(Fe)}),[x,N,q]}(_,Q.lineBreak),x=N[0],q=N[1],ne=N[2];return("break-all"===Q.wordBreak||"break-word"===Q.wordBreak)&&(q=q.map(function(Fe){return-1!==[It,pn,XB].indexOf(Fe)?bA:Fe})),[x,q,"keep-all"===Q.wordBreak?ne.map(function(Fe,xe){return Fe&&_[xe]>=19968&&_[xe]<=40959}):void 0]},hQ=function(){function _(Q,N,x,q){this.codePoints=Q,this.required="!"===N,this.start=x,this.end=q}return _.prototype.slice=function(){return We.apply(void 0,this.codePoints.slice(this.start,this.end))},_}(),Io=function(_){return _>=48&&_<=57},Wf=function(_){return Io(_)||_>=65&&_<=70||_>=97&&_<=102},FC=function(_){return 10===_||9===_||32===_},Sp=function(_){return function(_){return function(_){return _>=97&&_<=122}(_)||function(_){return _>=65&&_<=90}(_)}(_)||function(_){return _>=128}(_)||95===_},ub=function(_){return Sp(_)||Io(_)||45===_},IQ=function(_){return _>=0&&_<=8||11===_||_>=14&&_<=31||127===_},jf=function(_,Q){return 92===_&&10!==Q},BQ=function(_,Q,N){return 45===_?Sp(Q)||jf(Q,N):!!Sp(_)||!(92!==_||!jf(_,Q))},gb=function(_,Q,N){return 43===_||45===_?!!Io(Q)||46===Q&&Io(N):Io(46===_?Q:_)},IK=function(_){var Q=0,N=1;(43===_[Q]||45===_[Q])&&(45===_[Q]&&(N=-1),Q++);for(var x=[];Io(_[Q]);)x.push(_[Q++]);var q=x.length?parseInt(We.apply(void 0,x),10):0;46===_[Q]&&Q++;for(var ne=[];Io(_[Q]);)ne.push(_[Q++]);var ae=ne.length,Fe=ae?parseInt(We.apply(void 0,ne),10):0;(69===_[Q]||101===_[Q])&&Q++;var xe=1;(43===_[Q]||45===_[Q])&&(45===_[Q]&&(xe=-1),Q++);for(var Ze=[];Io(_[Q]);)Ze.push(_[Q++]);var ot=Ze.length?parseInt(We.apply(void 0,Ze),10):0;return N*(q+Fe*Math.pow(10,-ae))*Math.pow(10,xe*ot)},EQ={type:2},RC={type:3},vQ={type:4},yQ={type:13},hb={type:8},qg={type:21},TC={type:9},fb={type:10},Oi={type:11},fA={type:12},BK={type:14},sE={type:23},JT={type:1},EK={type:25},VT={type:24},QQ={type:26},xr={type:27},wQ={type:28},db={type:29},gc={type:31},oE={type:32},zT=function(){function _(){this._value=[]}return _.prototype.write=function(Q){this._value=this._value.concat(xt(Q))},_.prototype.read=function(){for(var Q=[],N=this.consumeToken();N!==oE;)Q.push(N),N=this.consumeToken();return Q},_.prototype.consumeToken=function(){var Q=this.consumeCodePoint();switch(Q){case 34:return this.consumeStringToken(34);case 35:var N=this.peekCodePoint(0),x=this.peekCodePoint(1),q=this.peekCodePoint(2);if(ub(N)||jf(x,q)){var ne=BQ(N,x,q)?2:1;return{type:5,value:this.consumeName(),flags:ne}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),yQ;break;case 39:return this.consumeStringToken(39);case 40:return EQ;case 41:return RC;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),BK;break;case 43:if(gb(Q,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(Q),this.consumeNumericToken();break;case 44:return vQ;case 45:var Fe=Q,xe=this.peekCodePoint(0),Ze=this.peekCodePoint(1);if(gb(Fe,xe,Ze))return this.reconsumeCodePoint(Q),this.consumeNumericToken();if(BQ(Fe,xe,Ze))return this.reconsumeCodePoint(Q),this.consumeIdentLikeToken();if(45===xe&&62===Ze)return this.consumeCodePoint(),this.consumeCodePoint(),VT;break;case 46:if(gb(Q,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(Q),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var ot=this.consumeCodePoint();if(42===ot&&47===(ot=this.consumeCodePoint()))return this.consumeToken();if(-1===ot)return this.consumeToken()}break;case 58:return QQ;case 59:return xr;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),EK;break;case 64:var pt=this.peekCodePoint(0),Ut=this.peekCodePoint(1),Yn=this.peekCodePoint(2);if(BQ(pt,Ut,Yn))return{type:7,value:this.consumeName()};break;case 91:return wQ;case 92:if(jf(Q,this.peekCodePoint(0)))return this.reconsumeCodePoint(Q),this.consumeIdentLikeToken();break;case 93:return db;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),hb;break;case 123:return Oi;case 125:return fA;case 117:case 85:var vn=this.peekCodePoint(0),Un=this.peekCodePoint(1);return 43===vn&&(Wf(Un)||63===Un)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(Q),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),TC;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),qg;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),fb;break;case-1:return oE}return FC(Q)?(this.consumeWhiteSpace(),gc):Io(Q)?(this.reconsumeCodePoint(Q),this.consumeNumericToken()):Sp(Q)?(this.reconsumeCodePoint(Q),this.consumeIdentLikeToken()):{type:6,value:We(Q)}},_.prototype.consumeCodePoint=function(){var Q=this._value.shift();return typeof Q>"u"?-1:Q},_.prototype.reconsumeCodePoint=function(Q){this._value.unshift(Q)},_.prototype.peekCodePoint=function(Q){return Q>=this._value.length?-1:this._value[Q]},_.prototype.consumeUnicodeRangeToken=function(){for(var Q=[],N=this.consumeCodePoint();Wf(N)&&Q.length<6;)Q.push(N),N=this.consumeCodePoint();for(var x=!1;63===N&&Q.length<6;)Q.push(N),N=this.consumeCodePoint(),x=!0;if(x)return{type:30,start:parseInt(We.apply(void 0,Q.map(function(xe){return 63===xe?48:xe})),16),end:parseInt(We.apply(void 0,Q.map(function(xe){return 63===xe?70:xe})),16)};var ae=parseInt(We.apply(void 0,Q),16);if(45===this.peekCodePoint(0)&&Wf(this.peekCodePoint(1))){this.consumeCodePoint(),N=this.consumeCodePoint();for(var Fe=[];Wf(N)&&Fe.length<6;)Fe.push(N),N=this.consumeCodePoint();return{type:30,start:ae,end:parseInt(We.apply(void 0,Fe),16)}}return{type:30,start:ae,end:ae}},_.prototype.consumeIdentLikeToken=function(){var Q=this.consumeName();return"url"===Q.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:Q}):{type:20,value:Q}},_.prototype.consumeUrlToken=function(){var Q=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var N=this.peekCodePoint(0);if(39===N||34===N){var x=this.consumeStringToken(this.consumeCodePoint());return 0===x.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:x.value}):(this.consumeBadUrlRemnants(),sE)}for(;;){var q=this.consumeCodePoint();if(-1===q||41===q)return{type:22,value:We.apply(void 0,Q)};if(FC(q))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:We.apply(void 0,Q)}):(this.consumeBadUrlRemnants(),sE);if(34===q||39===q||40===q||IQ(q))return this.consumeBadUrlRemnants(),sE;if(92===q){if(!jf(q,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),sE;Q.push(this.consumeEscapedCodePoint())}else Q.push(q)}},_.prototype.consumeWhiteSpace=function(){for(;FC(this.peekCodePoint(0));)this.consumeCodePoint()},_.prototype.consumeBadUrlRemnants=function(){for(;;){var Q=this.consumeCodePoint();if(41===Q||-1===Q)return;jf(Q,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},_.prototype.consumeStringSlice=function(Q){for(var x="";Q>0;){var q=Math.min(5e4,Q);x+=We.apply(void 0,this._value.splice(0,q)),Q-=q}return this._value.shift(),x},_.prototype.consumeStringToken=function(Q){for(var N="",x=0;;){var q=this._value[x];if(-1===q||void 0===q||q===Q)return{type:0,value:N+=this.consumeStringSlice(x)};if(10===q)return this._value.splice(0,x),JT;if(92===q){var ne=this._value[x+1];-1!==ne&&void 0!==ne&&(10===ne?(N+=this.consumeStringSlice(x),x=-1,this._value.shift()):jf(q,ne)&&(N+=this.consumeStringSlice(x),N+=We(this.consumeEscapedCodePoint()),x=-1))}x++}},_.prototype.consumeNumber=function(){var Q=[],N=4,x=this.peekCodePoint(0);for((43===x||45===x)&&Q.push(this.consumeCodePoint());Io(this.peekCodePoint(0));)Q.push(this.consumeCodePoint());x=this.peekCodePoint(0);var q=this.peekCodePoint(1);if(46===x&&Io(q))for(Q.push(this.consumeCodePoint(),this.consumeCodePoint()),N=8;Io(this.peekCodePoint(0));)Q.push(this.consumeCodePoint());x=this.peekCodePoint(0),q=this.peekCodePoint(1);var ne=this.peekCodePoint(2);if((69===x||101===x)&&((43===q||45===q)&&Io(ne)||Io(q)))for(Q.push(this.consumeCodePoint(),this.consumeCodePoint()),N=8;Io(this.peekCodePoint(0));)Q.push(this.consumeCodePoint());return[IK(Q),N]},_.prototype.consumeNumericToken=function(){var Q=this.consumeNumber(),N=Q[0],x=Q[1],q=this.peekCodePoint(0),ne=this.peekCodePoint(1),ae=this.peekCodePoint(2);return BQ(q,ne,ae)?{type:15,number:N,flags:x,unit:this.consumeName()}:37===q?(this.consumeCodePoint(),{type:16,number:N,flags:x}):{type:17,number:N,flags:x}},_.prototype.consumeEscapedCodePoint=function(){var Q=this.consumeCodePoint();if(Wf(Q)){for(var N=We(Q);Wf(this.peekCodePoint(0))&&N.length<6;)N+=We(this.consumeCodePoint());FC(this.peekCodePoint(0))&&this.consumeCodePoint();var x=parseInt(N,16);return 0===x||function(_){return _>=55296&&_<=57343}(x)||x>1114111?65533:x}return-1===Q?65533:Q},_.prototype.consumeName=function(){for(var Q="";;){var N=this.consumeCodePoint();if(ub(N))Q+=We(N);else{if(!jf(N,this.peekCodePoint(0)))return this.reconsumeCodePoint(N),Q;Q+=We(this.consumeEscapedCodePoint())}}},_}(),WT=function(){function _(Q){this._tokens=Q}return _.create=function(Q){var N=new zT;return N.write(Q),new _(N.read())},_.parseValue=function(Q){return _.create(Q).parseComponentValue()},_.parseValues=function(Q){return _.create(Q).parseComponentValues()},_.prototype.parseComponentValue=function(){for(var Q=this.consumeToken();31===Q.type;)Q=this.consumeToken();if(32===Q.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(Q);var N=this.consumeComponentValue();do{Q=this.consumeToken()}while(31===Q.type);if(32===Q.type)return N;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},_.prototype.parseComponentValues=function(){for(var Q=[];;){var N=this.consumeComponentValue();if(32===N.type)return Q;Q.push(N),Q.push()}},_.prototype.consumeComponentValue=function(){var Q=this.consumeToken();switch(Q.type){case 11:case 28:case 2:return this.consumeSimpleBlock(Q.type);case 19:return this.consumeFunction(Q)}return Q},_.prototype.consumeSimpleBlock=function(Q){for(var N={type:Q,values:[]},x=this.consumeToken();;){if(32===x.type||ZT(x,Q))return N;this.reconsumeToken(x),N.values.push(this.consumeComponentValue()),x=this.consumeToken()}},_.prototype.consumeFunction=function(Q){for(var N={name:Q.value,values:[],type:18};;){var x=this.consumeToken();if(32===x.type||3===x.type)return N;this.reconsumeToken(x),N.values.push(this.consumeComponentValue())}},_.prototype.consumeToken=function(){var Q=this._tokens.shift();return typeof Q>"u"?oE:Q},_.prototype.reconsumeToken=function(Q){this._tokens.unshift(Q)},_}(),Jg=function(_){return 15===_.type},Jh=function(_){return 17===_.type},dA=function(_){return 20===_.type},jT=function(_){return 0===_.type},_Q=function(_,Q){return dA(_)&&_.value===Q},pb=function(_){return 31!==_.type},Zf=function(_){return 31!==_.type&&4!==_.type},Pa=function(_){var Q=[],N=[];return _.forEach(function(x){if(4===x.type){if(0===N.length)throw new Error("Error parsing function args, zero tokens for arg");return Q.push(N),void(N=[])}31!==x.type&&N.push(x)}),N.length&&Q.push(N),Q},ZT=function(_,Q){return 11===Q&&12===_.type||28===Q&&29===_.type||2===Q&&3===_.type},Ha=function(_){return 17===_.type||15===_.type},no=function(_){return 16===_.type||Ha(_)},cn=function(_){return _.length>1?[_[0],_[1]]:[_[0]]},Ro={type:17,number:0,flags:4},ze={type:16,number:50,flags:4},uu={type:16,number:100,flags:4},Xf=function(_,Q,N){var x=_[0],q=_[1];return[wA(x,Q),wA(typeof q<"u"?q:x,N)]},wA=function(_,Q){if(16===_.type)return _.number/100*Q;if(Jg(_))switch(_.unit){case"rem":case"em":return 16*_.number;default:return _.number}return _.number},$f_parse=function(_,Q){if(15===Q.type)switch(Q.unit){case"deg":return Math.PI*Q.number/180;case"grad":return Math.PI/200*Q.number;case"rad":return Q.number;case"turn":return 2*Math.PI*Q.number}throw new Error("Unsupported angle type")},Eb=function(_){return 15===_.type&&("deg"===_.unit||"grad"===_.unit||"rad"===_.unit||"turn"===_.unit)},kC=function(_){switch(_.filter(dA).map(function(N){return N.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ro,Ro];case"to top":case"bottom":return _l(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ro,uu];case"to right":case"left":return _l(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[uu,uu];case"to bottom":case"top":return _l(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[uu,Ro];case"to left":case"right":return _l(270)}return 0},_l=function(_){return Math.PI*_/180},hc_parse=function(_,Q){if(18===Q.type){var N=vK[Q.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported color function "'+Q.name+'"');return N(_,Q.values)}if(5===Q.type){if(3===Q.value.length){var x=Q.value.substring(0,1),q=Q.value.substring(1,2),ne=Q.value.substring(2,3);return Jc(parseInt(x+x,16),parseInt(q+q,16),parseInt(ne+ne,16),1)}if(4===Q.value.length){x=Q.value.substring(0,1),q=Q.value.substring(1,2),ne=Q.value.substring(2,3);var ae=Q.value.substring(3,4);return Jc(parseInt(x+x,16),parseInt(q+q,16),parseInt(ne+ne,16),parseInt(ae+ae,16)/255)}if(6===Q.value.length)return x=Q.value.substring(0,2),q=Q.value.substring(2,4),ne=Q.value.substring(4,6),Jc(parseInt(x,16),parseInt(q,16),parseInt(ne,16),1);if(8===Q.value.length)return x=Q.value.substring(0,2),q=Q.value.substring(2,4),ne=Q.value.substring(4,6),ae=Q.value.substring(6,8),Jc(parseInt(x,16),parseInt(q,16),parseInt(ne,16),parseInt(ae,16)/255)}if(20===Q.type){var Fe=zh[Q.value.toUpperCase()];if(typeof Fe<"u")return Fe}return zh.TRANSPARENT},Vh=function(_){return!(255&_)},pA=function(_){var Q=255&_,N=255&_>>8,x=255&_>>16,q=255&_>>24;return Q<255?"rgba("+q+","+x+","+N+","+Q/255+")":"rgb("+q+","+x+","+N+")"},Jc=function(_,Q,N,x){return(_<<24|Q<<16|N<<8|Math.round(255*x))>>>0},DQ=function(_,Q){if(17===_.type)return _.number;if(16===_.type){var N=3===Q?1:255;return 3===Q?_.number/100*N:Math.round(_.number/100*N)}return 0},LC=function(_,Q){var N=Q.filter(Zf);if(3===N.length){var x=N.map(DQ);return Jc(x[0],x[1],x[2],1)}if(4===N.length){var Fe=N.map(DQ);return Jc(Fe[0],Fe[1],Fe[2],Fe[3])}return 0};function Mp(_,Q,N){return N<0&&(N+=1),N>=1&&(N-=1),N<1/6?(Q-_)*N*6+_:N<.5?Q:N<2/3?6*(Q-_)*(2/3-N)+_:_}var aE=function(_,Q){var N=Q.filter(Zf),x=N[0],q=N[1],ne=N[2],ae=N[3],Fe=(17===x.type?_l(x.number):$f_parse(_,x))/(2*Math.PI),xe=no(q)?q.number/100:0,Ze=no(ne)?ne.number/100:0,ot=typeof ae<"u"&&no(ae)?wA(ae,1):1;if(0===xe)return Jc(255*Ze,255*Ze,255*Ze,1);var pt=Ze<=.5?Ze*(xe+1):Ze+xe-Ze*xe,Ut=2*Ze-pt,Yn=Mp(Ut,pt,Fe+1/3),vn=Mp(Ut,pt,Fe),Un=Mp(Ut,pt,Fe-1/3);return Jc(255*Yn,255*vn,255*Un,ot)},vK={hsl:aE,hsla:aE,rgb:LC,rgba:LC},Np=function(_,Q){return hc_parse(_,WT.create(Q).parseComponentValue())},zh={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Vc={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(_,Q){return Q.map(function(N){if(dA(N))switch(N.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},bQ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Vg=function(_,Q){var N=hc_parse(_,Q[0]),x=Q[1];return x&&no(x)?{color:N,stop:x}:{color:N,stop:null}},XT=function(_,Q){var N=_[0],x=_[_.length-1];null===N.stop&&(N.stop=Ro),null===x.stop&&(x.stop=uu);for(var q=[],ne=0,ae=0;ae<_.length;ae++){var Fe=_[ae].stop;if(null!==Fe){var xe=wA(Fe,Q);q.push(xe>ne?xe:ne),ne=xe}else q.push(null)}var Ze=null;for(ae=0;ae<q.length;ae++){var ot=q[ae];if(null===ot)null===Ze&&(Ze=ae);else if(null!==Ze){for(var pt=ae-Ze,Yn=(ot-q[Ze-1])/(pt+1),vn=1;vn<=pt;vn++)q[Ze+vn-1]=Yn*vn;Ze=null}}return _.map(function(Un,ur){return{color:Un.color,stop:Math.max(Math.min(1,q[ur]/Q),0)}})},zu=function(_,Q,N){var x="number"==typeof _?_:function(_,Q,N){var x=Q/2,q=N/2,ne=wA(_[0],Q)-x,ae=q-wA(_[1],N);return(Math.atan2(ae,ne)+2*Math.PI)%(2*Math.PI)}(_,Q,N),q=Math.abs(Q*Math.sin(x))+Math.abs(N*Math.cos(x)),ne=Q/2,ae=N/2,Fe=q/2,xe=Math.sin(x-Math.PI/2)*Fe,Ze=Math.cos(x-Math.PI/2)*Fe;return[q,ne-Ze,ne+Ze,ae-xe,ae+xe]},Wi=function(_,Q){return Math.sqrt(_*_+Q*Q)},zg=function(_,Q,N,x,q){return[[0,0],[0,Q],[_,0],[_,Q]].reduce(function(ae,Fe){var ot=Wi(N-Fe[0],x-Fe[1]);return(q?ot<ae.optimumDistance:ot>ae.optimumDistance)?{optimumCorner:Fe,optimumDistance:ot}:ae},{optimumDistance:q?1/0:-1/0,optimumCorner:null}).optimumCorner},ed=function(_,Q){var N=_l(180),x=[];return Pa(Q).forEach(function(q,ne){if(0===ne){var ae=q[0];if(20===ae.type&&-1!==["top","left","right","bottom"].indexOf(ae.value))return void(N=kC(q));if(Eb(ae))return void(N=($f_parse(_,ae)+_l(270))%_l(360))}var Fe=Vg(_,q);x.push(Fe)}),{angle:N,stops:x,type:1}},Dl="closest-side",Ki="farthest-side",Qb="closest-corner",lE="farthest-corner",NQ="ellipse",xQ="contain",uE=function(_,Q){var N=0,x=3,q=[],ne=[];return Pa(Q).forEach(function(ae,Fe){var xe=!0;if(0===Fe?xe=ae.reduce(function(ot,pt){if(dA(pt))switch(pt.value){case"center":return ne.push(ze),!1;case"top":case"left":return ne.push(Ro),!1;case"right":case"bottom":return ne.push(uu),!1}else if(no(pt)||Ha(pt))return ne.push(pt),!1;return ot},xe):1===Fe&&(xe=ae.reduce(function(ot,pt){if(dA(pt))switch(pt.value){case"circle":return N=0,!1;case NQ:return N=1,!1;case xQ:case Dl:return x=0,!1;case Ki:return x=1,!1;case Qb:return x=2,!1;case"cover":case lE:return x=3,!1}else if(Ha(pt)||no(pt))return Array.isArray(x)||(x=[]),x.push(pt),!1;return ot},xe)),xe){var Ze=Vg(_,ae);q.push(Ze)}}),{size:x,shape:N,stops:q,position:ne,type:2}},RQ_parse=function(_,Q){if(22===Q.type){var N={url:Q.value,type:0};return _.cache.addImage(Q.value),N}if(18===Q.type){var x=_b[Q.name];if(typeof x>"u")throw new Error('Attempting to parse an unsupported image function "'+Q.name+'"');return x(_,Q.values)}throw new Error("Unsupported image type "+Q.type)};for(var _b={"linear-gradient":function(_,Q){var N=_l(180),x=[];return Pa(Q).forEach(function(q,ne){if(0===ne){var ae=q[0];if(20===ae.type&&"to"===ae.value)return void(N=kC(q));if(Eb(ae))return void(N=$f_parse(_,ae))}var Fe=Vg(_,q);x.push(Fe)}),{angle:N,stops:x,type:1}},"-moz-linear-gradient":ed,"-ms-linear-gradient":ed,"-o-linear-gradient":ed,"-webkit-linear-gradient":ed,"radial-gradient":function(_,Q){var N=0,x=3,q=[],ne=[];return Pa(Q).forEach(function(ae,Fe){var xe=!0;if(0===Fe){var Ze=!1;xe=ae.reduce(function(pt,Ut){if(Ze)if(dA(Ut))switch(Ut.value){case"center":return ne.push(ze),pt;case"top":case"left":return ne.push(Ro),pt;case"right":case"bottom":return ne.push(uu),pt}else(no(Ut)||Ha(Ut))&&ne.push(Ut);else if(dA(Ut))switch(Ut.value){case"circle":return N=0,!1;case NQ:return N=1,!1;case"at":return Ze=!0,!1;case Dl:return x=0,!1;case"cover":case Ki:return x=1,!1;case xQ:case Qb:return x=2,!1;case lE:return x=3,!1}else if(Ha(Ut)||no(Ut))return Array.isArray(x)||(x=[]),x.push(Ut),!1;return pt},xe)}if(xe){var ot=Vg(_,ae);q.push(ot)}}),{size:x,shape:N,stops:q,position:ne,type:2}},"-moz-radial-gradient":uE,"-ms-radial-gradient":uE,"-o-radial-gradient":uE,"-webkit-radial-gradient":uE,"-webkit-gradient":function(_,Q){var N=_l(180),x=[],q=1;return Pa(Q).forEach(function(xe,Ze){var ot=xe[0];if(0===Ze){if(dA(ot)&&"linear"===ot.value)return void(q=1);if(dA(ot)&&"radial"===ot.value)return void(q=2)}if(18===ot.type)if("from"===ot.name){var pt=hc_parse(_,ot.values[0]);x.push({stop:Ro,color:pt})}else if("to"===ot.name)pt=hc_parse(_,ot.values[0]),x.push({stop:uu,color:pt});else if("color-stop"===ot.name){var Ut=ot.values.filter(Zf);if(2===Ut.length){pt=hc_parse(_,Ut[1]);var Yn=Ut[0];Jh(Yn)&&x.push({stop:{type:16,number:100*Yn.number,flags:Yn.flags},color:pt})}}}),1===q?{angle:(N+_l(180))%_l(360),stops:x,type:q}:{size:3,shape:0,stops:x,position:[],type:q}}},Db={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(_,Q){if(0===Q.length)return[];var N=Q[0];return 20===N.type&&"none"===N.value?[]:Q.filter(function(x){return Zf(x)&&function gu(_){return!(20===_.type&&"none"===_.value||18===_.type&&!_b[_.name])}(x)}).map(function(x){return RQ_parse(_,x)})}},ek={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(_,Q){return Q.map(function(N){if(dA(N))switch(N.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},tk={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(_,Q){return Pa(Q).map(function(N){return N.filter(no)}).map(cn)}},nk={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(_,Q){return Pa(Q).map(function(N){return N.filter(dA).map(function(x){return x.value}).join(" ")}).map(ik)}},ik=function(_){switch(_){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Fp=function(_){return _.AUTO="auto",_.CONTAIN="contain",_.COVER="cover",_}(Fp||{}),rk={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(_,Q){return Pa(Q).map(function(N){return N.filter(Ak)})}},Ak=function(_){return dA(_)||no(_)},gE=function(_){return{name:"border-"+_+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ci=gE("top"),sk=gE("right"),ok=gE("bottom"),hr=gE("left"),UC=function(_){return{name:"border-radius-"+_,initialValue:"0 0",prefix:!1,type:1,parse:function(Q,N){return cn(N.filter(no))}}},Mn=UC("top-left"),fc=UC("top-right"),Qr=UC("bottom-right"),Bo=UC("bottom-left"),io=function(_){return{name:"border-"+_+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(Q,N){switch(N){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Wh=io("top"),ma=io("right"),bb=io("bottom"),Sb=io("left"),td=function(_){return{name:"border-"+_+"-width",initialValue:"0",type:0,prefix:!1,parse:function(Q,N){return Jg(N)?N.number:0}}},ak=td("top"),ck=td("right"),Rp=td("bottom"),lk=td("left"),TQ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Mb={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(_,Q){return"rtl"===Q?1:0}},hE={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(_,Q){return Q.filter(dA).reduce(function(N,x){return N|yK(x.value)},0)}},yK=function(_){switch(_){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},kQ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(_,Q){switch(Q){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},uk={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(_,Q){return 20===Q.type&&"normal"===Q.value?0:17===Q.type||15===Q.type?Q.number:0}},OC=function(_){return _.NORMAL="normal",_.STRICT="strict",_}(OC||{}),Nb={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(_,Q){return"strict"===Q?OC.STRICT:OC.NORMAL}},xb={name:"line-height",initialValue:"normal",prefix:!1,type:4},jh=function(_,Q){return dA(_)&&"normal"===_.value?1.2*Q:17===_.type?Q*_.number:no(_)?wA(_,Q):Q},gk={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(_,Q){return 20===Q.type&&"none"===Q.value?null:RQ_parse(_,Q)}},LQ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(_,Q){return"inside"===Q?0:1}},Tp={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(_,Q){switch(Q){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},fE=function(_){return{name:"margin-"+_,initialValue:"0",prefix:!1,type:4}},UQ=fE("top"),dE=fE("right"),ea=fE("bottom"),kp=fE("left"),OQ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(_,Q){return Q.filter(dA).map(function(N){switch(N.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},hk={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(_,Q){return"break-word"===Q?"break-word":"normal"}},pE=function(_){return{name:"padding-"+_,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Fb=pE("top"),Lp=pE("right"),fk=pE("bottom"),dk=pE("left"),pk={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(_,Q){switch(Q){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},GQ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(_,Q){switch(Q){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Wu={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(_,Q){return 1===Q.length&&_Q(Q[0],"none")?[]:Pa(Q).map(function(N){for(var x={color:zh.TRANSPARENT,offsetX:Ro,offsetY:Ro,blur:Ro},q=0,ne=0;ne<N.length;ne++){var ae=N[ne];Ha(ae)?(0===q?x.offsetX=ae:1===q?x.offsetY=ae:x.blur=ae,q++):x.color=hc_parse(_,ae)}return x})}},Rb={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(_,Q){switch(Q){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},GC={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(_,Q){if(20===Q.type&&"none"===Q.value)return null;if(18===Q.type){var N=Ck[Q.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported transform function "'+Q.name+'"');return N(Q.values)}return null}},Ck={matrix:function(_){var Q=_.filter(function(N){return 17===N.type}).map(function(N){return N.number});return 6===Q.length?Q:null},matrix3d:function(_){var Q=_.filter(function(xe){return 17===xe.type}).map(function(xe){return xe.number});return 16===Q.length?[Q[0],Q[1],Q[4],Q[5],Q[12],Q[13]]:null}},ro={type:16,number:50,flags:4},Tb=[ro,ro],Ik={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(_,Q){var N=Q.filter(no);return 2!==N.length?Tb:[N[0],N[1]]}},PC={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(_,Q){switch(Q){case"hidden":return 1;case"collapse":return 2;default:return 0}}},mE=function(_){return _.NORMAL="normal",_.BREAK_ALL="break-all",_.KEEP_ALL="keep-all",_}(mE||{}),Bk={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(_,Q){switch(Q){case"break-all":return mE.BREAK_ALL;case"keep-all":return mE.KEEP_ALL;default:return mE.NORMAL}}},Ek={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(_,Q){if(20===Q.type)return{auto:!0,order:0};if(Jh(Q))return{auto:!1,order:Q.number};throw new Error("Invalid z-index number parsed")}},kb={name:"time",parse:function(_,Q){if(15===Q.type)switch(Q.unit.toLowerCase()){case"s":return 1e3*Q.number;case"ms":return Q.number}throw new Error("Unsupported time type")}},vk={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(_,Q){return Jh(Q)?Q.number:1}},yk={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},PQ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(_,Q){return Q.filter(dA).map(function(N){switch(N.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(N){return 0!==N})}},CE={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(_,Q){var N=[],x=[];return Q.forEach(function(q){switch(q.type){case 20:case 0:N.push(q.value);break;case 17:N.push(q.number.toString());break;case 4:x.push(N.join(" ")),N.length=0}}),N.length&&x.push(N.join(" ")),x.map(function(q){return-1===q.indexOf(" ")?q:"'"+q+"'"})}},Es={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},wn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(_,Q){return Jh(Q)?Q.number:dA(Q)&&"bold"===Q.value?700:400}},ci={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(_,Q){return Q.filter(dA).map(function(N){return N.value})}},qs={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(_,Q){switch(Q){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},MA=function(_,Q){return!!(_&Q)},Ca={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(_,Q){if(0===Q.length)return[];var N=Q[0];return 20===N.type&&"none"===N.value?[]:Q}},zc={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(_,Q){if(0===Q.length)return null;var N=Q[0];if(20===N.type&&"none"===N.value)return null;for(var x=[],q=Q.filter(pb),ne=0;ne<q.length;ne++){var ae=q[ne],Fe=q[ne+1];if(20===ae.type){var xe=Fe&&Jh(Fe)?Fe.number:1;x.push({counter:ae.value,increment:xe})}}return x}},Op={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(_,Q){if(0===Q.length)return[];for(var N=[],x=Q.filter(pb),q=0;q<x.length;q++){var ne=x[q],ae=x[q+1];if(dA(ne)&&"none"!==ne.value){var Fe=ae&&Jh(ae)?ae.number:0;N.push({counter:ne.value,reset:Fe})}}return N}},ts={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(_,Q){return Q.filter(Jg).map(function(N){return kb.parse(_,N)})}},Ao={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(_,Q){if(0===Q.length)return null;var N=Q[0];if(20===N.type&&"none"===N.value)return null;var x=[],q=Q.filter(jT);if(q.length%2!=0)return null;for(var ne=0;ne<q.length;ne+=2)x.push({open:q[ne].value,close:q[ne+1].value});return x}},bl=function(_,Q,N){if(!_)return"";var x=_[Math.min(Q,_.length-1)];return x?N?x.open:x.close:""},bi={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(_,Q){return 1===Q.length&&_Q(Q[0],"none")?[]:Pa(Q).map(function(N){for(var x={color:255,offsetX:Ro,offsetY:Ro,blur:Ro,spread:Ro,inset:!1},q=0,ne=0;ne<N.length;ne++){var ae=N[ne];_Q(ae,"inset")?x.inset=!0:Ha(ae)?(0===q?x.offsetX=ae:1===q?x.offsetY=ae:2===q?x.blur=ae:x.spread=ae,q++):x.color=hc_parse(_,ae)}return x})}},HC={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(_,Q){var x=[];return Q.filter(dA).forEach(function(q){switch(q.value){case"stroke":x.push(1);break;case"fill":x.push(0);break;case"markers":x.push(2)}}),[0,1,2].forEach(function(q){-1===x.indexOf(q)&&x.push(q)}),x}},Lb={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Gp={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(_,Q){return Jg(Q)?Q.number:0}},Ds=function(){function _(Q,N){var x,q;this.animationDuration=Ln(Q,ts,N.animationDuration),this.backgroundClip=Ln(Q,Vc,N.backgroundClip),this.backgroundColor=Ln(Q,bQ,N.backgroundColor),this.backgroundImage=Ln(Q,Db,N.backgroundImage),this.backgroundOrigin=Ln(Q,ek,N.backgroundOrigin),this.backgroundPosition=Ln(Q,tk,N.backgroundPosition),this.backgroundRepeat=Ln(Q,nk,N.backgroundRepeat),this.backgroundSize=Ln(Q,rk,N.backgroundSize),this.borderTopColor=Ln(Q,Ci,N.borderTopColor),this.borderRightColor=Ln(Q,sk,N.borderRightColor),this.borderBottomColor=Ln(Q,ok,N.borderBottomColor),this.borderLeftColor=Ln(Q,hr,N.borderLeftColor),this.borderTopLeftRadius=Ln(Q,Mn,N.borderTopLeftRadius),this.borderTopRightRadius=Ln(Q,fc,N.borderTopRightRadius),this.borderBottomRightRadius=Ln(Q,Qr,N.borderBottomRightRadius),this.borderBottomLeftRadius=Ln(Q,Bo,N.borderBottomLeftRadius),this.borderTopStyle=Ln(Q,Wh,N.borderTopStyle),this.borderRightStyle=Ln(Q,ma,N.borderRightStyle),this.borderBottomStyle=Ln(Q,bb,N.borderBottomStyle),this.borderLeftStyle=Ln(Q,Sb,N.borderLeftStyle),this.borderTopWidth=Ln(Q,ak,N.borderTopWidth),this.borderRightWidth=Ln(Q,ck,N.borderRightWidth),this.borderBottomWidth=Ln(Q,Rp,N.borderBottomWidth),this.borderLeftWidth=Ln(Q,lk,N.borderLeftWidth),this.boxShadow=Ln(Q,bi,N.boxShadow),this.color=Ln(Q,TQ,N.color),this.direction=Ln(Q,Mb,N.direction),this.display=Ln(Q,hE,N.display),this.float=Ln(Q,kQ,N.cssFloat),this.fontFamily=Ln(Q,CE,N.fontFamily),this.fontSize=Ln(Q,Es,N.fontSize),this.fontStyle=Ln(Q,qs,N.fontStyle),this.fontVariant=Ln(Q,ci,N.fontVariant),this.fontWeight=Ln(Q,wn,N.fontWeight),this.letterSpacing=Ln(Q,uk,N.letterSpacing),this.lineBreak=Ln(Q,Nb,N.lineBreak),this.lineHeight=Ln(Q,xb,N.lineHeight),this.listStyleImage=Ln(Q,gk,N.listStyleImage),this.listStylePosition=Ln(Q,LQ,N.listStylePosition),this.listStyleType=Ln(Q,Tp,N.listStyleType),this.marginTop=Ln(Q,UQ,N.marginTop),this.marginRight=Ln(Q,dE,N.marginRight),this.marginBottom=Ln(Q,ea,N.marginBottom),this.marginLeft=Ln(Q,kp,N.marginLeft),this.opacity=Ln(Q,vk,N.opacity);var ne=Ln(Q,OQ,N.overflow);this.overflowX=ne[0],this.overflowY=ne[ne.length>1?1:0],this.overflowWrap=Ln(Q,hk,N.overflowWrap),this.paddingTop=Ln(Q,Fb,N.paddingTop),this.paddingRight=Ln(Q,Lp,N.paddingRight),this.paddingBottom=Ln(Q,fk,N.paddingBottom),this.paddingLeft=Ln(Q,dk,N.paddingLeft),this.paintOrder=Ln(Q,HC,N.paintOrder),this.position=Ln(Q,GQ,N.position),this.textAlign=Ln(Q,pk,N.textAlign),this.textDecorationColor=Ln(Q,yk,null!==(x=N.textDecorationColor)&&void 0!==x?x:N.color),this.textDecorationLine=Ln(Q,PQ,null!==(q=N.textDecorationLine)&&void 0!==q?q:N.textDecoration),this.textShadow=Ln(Q,Wu,N.textShadow),this.textTransform=Ln(Q,Rb,N.textTransform),this.transform=Ln(Q,GC,N.transform),this.transformOrigin=Ln(Q,Ik,N.transformOrigin),this.visibility=Ln(Q,PC,N.visibility),this.webkitTextStrokeColor=Ln(Q,Lb,N.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ln(Q,Gp,N.webkitTextStrokeWidth),this.wordBreak=Ln(Q,Bk,N.wordBreak),this.zIndex=Ln(Q,Ek,N.zIndex)}return _.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},_.prototype.isTransparent=function(){return Vh(this.backgroundColor)},_.prototype.isTransformed=function(){return null!==this.transform},_.prototype.isPositioned=function(){return 0!==this.position},_.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},_.prototype.isFloating=function(){return 0!==this.float},_.prototype.isInlineLevel=function(){return MA(this.display,4)||MA(this.display,33554432)||MA(this.display,268435456)||MA(this.display,536870912)||MA(this.display,67108864)||MA(this.display,134217728)},_}(),YC=function(){return function _(Q,N){this.content=Ln(Q,Ca,N.content),this.quotes=Ln(Q,Ao,N.quotes)}}(),nd=function(){return function _(Q,N){this.counterIncrement=Ln(Q,zc,N.counterIncrement),this.counterReset=Ln(Q,Op,N.counterReset)}}(),Ln=function(_,Q,N){var x=new zT,q=null!==N&&typeof N<"u"?N.toString():Q.initialValue;x.write(q);var ne=new WT(x.read());switch(Q.type){case 2:var ae=ne.parseComponentValue();return Q.parse(_,dA(ae)?ae.value:Q.initialValue);case 0:return Q.parse(_,ne.parseComponentValue());case 1:return Q.parse(_,ne.parseComponentValues());case 4:return ne.parseComponentValue();case 3:switch(Q.format){case"angle":return $f_parse(_,ne.parseComponentValue());case"color":return hc_parse(_,ne.parseComponentValue());case"image":return RQ_parse(_,ne.parseComponentValue());case"length":var Fe=ne.parseComponentValue();return Ha(Fe)?Fe:Ro;case"length-percentage":var xe=ne.parseComponentValue();return no(xe)?xe:Ro;case"time":return kb.parse(_,ne.parseComponentValue())}}},ju=function(_,Q){var N=function(_){switch(_.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(_);return 1===N||Q===N},Wc=function(){return function _(Q,N){this.context=Q,this.textNodes=[],this.elements=[],this.flags=0,ju(N,3),this.styles=new Ds(Q,window.getComputedStyle(N,null)),ZC(N)&&(this.styles.animationDuration.some(function(x){return x>0})&&(N.style.animationDuration="0s"),null!==this.styles.transform&&(N.style.transform="none")),this.bounds=qn(this.context,N),ju(N,4)&&(this.flags|=16)}}(),ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rd=typeof Uint8Array>"u"?[]:new Uint8Array(256),Zh=0;Zh<64;Zh++)rd[ki.charCodeAt(Zh)]=Zh;for(var Dk=function(_,Q,N){return _.slice?_.slice(Q,N):new Uint16Array(Array.prototype.slice.call(_,Q,N))},_K=function(){function _(Q,N,x,q,ne,ae){this.initialValue=Q,this.errorValue=N,this.highStart=x,this.highValueIndex=q,this.index=ne,this.data=ae}return _.prototype.get=function(Q){var N;if(Q>=0){if(Q<55296||Q>56319&&Q<=65535)return this.data[N=((N=this.index[Q>>5])<<2)+(31&Q)];if(Q<=65535)return this.data[N=((N=this.index[2048+(Q-55296>>5)])<<2)+(31&Q)];if(Q<this.highStart)return N=this.index[N=2080+(Q>>11)],this.data[N=((N=this.index[N+=Q>>5&63])<<2)+(31&Q)];if(Q<=1114111)return this.data[this.highValueIndex]}return this.errorValue},_}(),bk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DK=typeof Uint8Array>"u"?[]:new Uint8Array(256),qQ=0;qQ<64;qQ++)DK[bk.charCodeAt(qQ)]=qQ;var JQ=8,Yb=9,Nk=11,xk=12,Fk=function(){for(var _=[],Q=0;Q<arguments.length;Q++)_[Q]=arguments[Q];if(String.fromCodePoint)return String.fromCodePoint.apply(String,_);var N=_.length;if(!N)return"";for(var x=[],q=-1,ne="";++q<N;){var ae=_[q];ae<=65535?x.push(ae):x.push(55296+((ae-=65536)>>10),ae%1024+56320),(q+1===N||x.length>16384)&&(ne+=String.fromCharCode.apply(String,x),x.length=0)}return ne},Rk=function(_,Q){var N=function(_){var x,ne,ae,Fe,xe,Q=.75*_.length,N=_.length,q=0;"="===_[_.length-1]&&(Q--,"="===_[_.length-2]&&Q--);var Ze=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(Q):new Array(Q),ot=Array.isArray(Ze)?Ze:new Uint8Array(Ze);for(x=0;x<N;x+=4)ne=rd[_.charCodeAt(x)],ae=rd[_.charCodeAt(x+1)],Fe=rd[_.charCodeAt(x+2)],xe=rd[_.charCodeAt(x+3)],ot[q++]=ne<<2|ae>>4,ot[q++]=(15&ae)<<4|Fe>>2,ot[q++]=(3&Fe)<<6|63&xe;return Ze}(_),x=Array.isArray(N)?function(_){for(var Q=_.length,N=[],x=0;x<Q;x+=4)N.push(_[x+3]<<24|_[x+2]<<16|_[x+1]<<8|_[x]);return N}(N):new Uint32Array(N),q=Array.isArray(N)?function(_){for(var Q=_.length,N=[],x=0;x<Q;x+=2)N.push(_[x+1]<<8|_[x]);return N}(N):new Uint16Array(N),ae=Dk(q,12,x[4]/2),Fe=2===x[5]?Dk(q,(24+x[4])/2):function(_,Q,N){return _.slice?_.slice(Q,N):new Uint32Array(Array.prototype.slice.call(_,Q,N))}(x,Math.ceil((24+x[4])/4));return new _K(x[0],x[1],x[2],x[3],ae,Fe)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),Tk=function(_){return Rk.get(_)},zQ=function(_,Q,N){var x=N-2,q=Q[x],ne=Q[N-1],ae=Q[N];if(2===ne&&3===ae)return"\xd7";if(2===ne||3===ne||4===ne||2===ae||3===ae||4===ae)return"\xf7";if(ne===JQ&&-1!==[JQ,Yb,Nk,xk].indexOf(ae)||(ne===Nk||ne===Yb)&&(ae===Yb||10===ae)||(ne===xk||10===ne)&&10===ae||13===ae||5===ae||7===ae||1===ne)return"\xd7";if(13===ne&&14===ae){for(;5===q;)q=Q[--x];if(14===q)return"\xd7"}if(15===ne&&15===ae){for(var Fe=0;15===q;)Fe++,q=Q[--x];if(Fe%2==0)return"\xd7"}return"\xf7"},kk=function(_){var Q=function(_){for(var Q=[],N=0,x=_.length;N<x;){var q=_.charCodeAt(N++);if(q>=55296&&q<=56319&&N<x){var ne=_.charCodeAt(N++);56320==(64512&ne)?Q.push(((1023&q)<<10)+(1023&ne)+65536):(Q.push(q),N--)}else Q.push(q)}return Q}(_),N=Q.length,x=0,q=0,ne=Q.map(Tk);return{next:function(){if(x>=N)return{done:!0,value:null};for(var ae="\xd7";x<N&&"\xd7"===(ae=zQ(0,ne,++x)););if("\xd7"!==ae||x===N){var Fe=Fk.apply(null,Q.slice(q,x));return q=x,{value:Fe,done:!1}}return{done:!0,value:null}}}},NA=function(_){return 0===_[0]&&255===_[1]&&0===_[2]&&255===_[3]},sd=function(_,Q,N,x,q){var ne="http://www.w3.org/2000/svg",ae=document.createElementNS(ne,"svg"),Fe=document.createElementNS(ne,"foreignObject");return ae.setAttributeNS(null,"width",_.toString()),ae.setAttributeNS(null,"height",Q.toString()),Fe.setAttributeNS(null,"width","100%"),Fe.setAttributeNS(null,"height","100%"),Fe.setAttributeNS(null,"x",N.toString()),Fe.setAttributeNS(null,"y",x.toString()),Fe.setAttributeNS(null,"externalResourcesRequired","true"),ae.appendChild(Fe),Fe.appendChild(q),ae},Ba=function(_){return new Promise(function(Q,N){var x=new Image;x.onload=function(){return Q(x)},x.onerror=N,x.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(_))})},ta={get SUPPORT_RANGE_BOUNDS(){var _=function(_){if(_.createRange){var N=_.createRange();if(N.getBoundingClientRect){var x=_.createElement("boundtest");x.style.height="123px",x.style.display="block",_.body.appendChild(x),N.selectNode(x);var q=N.getBoundingClientRect(),ne=Math.round(q.height);if(_.body.removeChild(x),123===ne)return!0}}return!1}(document);return Object.defineProperty(ta,"SUPPORT_RANGE_BOUNDS",{value:_}),_},get SUPPORT_WORD_BREAKING(){var _=ta.SUPPORT_RANGE_BOUNDS&&function(_){var Q=_.createElement("boundtest");Q.style.width="50px",Q.style.display="block",Q.style.fontSize="12px",Q.style.letterSpacing="0px",Q.style.wordSpacing="0px",_.body.appendChild(Q);var N=_.createRange();Q.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var x=Q.firstChild,q=xt(x.data).map(function(xe){return We(xe)}),ne=0,ae={},Fe=q.every(function(xe,Ze){N.setStart(x,ne),N.setEnd(x,ne+xe.length);var ot=N.getBoundingClientRect();ne+=xe.length;var pt=ot.x>ae.x||ot.y>ae.y;return ae=ot,0===Ze||pt});return _.body.removeChild(Q),Fe}(document);return Object.defineProperty(ta,"SUPPORT_WORD_BREAKING",{value:_}),_},get SUPPORT_SVG_DRAWING(){var _=function(_){var Q=new Image,N=_.createElement("canvas"),x=N.getContext("2d");if(!x)return!1;Q.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{x.drawImage(Q,0,0),N.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(ta,"SUPPORT_SVG_DRAWING",{value:_}),_},get SUPPORT_FOREIGNOBJECT_DRAWING(){var _="function"==typeof Array.from&&"function"==typeof window.fetch?function(_){var Q=_.createElement("canvas"),N=100;Q.width=N,Q.height=N;var x=Q.getContext("2d");if(!x)return Promise.reject(!1);x.fillStyle="rgb(0, 255, 0)",x.fillRect(0,0,N,N);var q=new Image,ne=Q.toDataURL();q.src=ne;var ae=sd(N,N,0,0,q);return x.fillStyle="red",x.fillRect(0,0,N,N),Ba(ae).then(function(Fe){x.drawImage(Fe,0,0);var xe=x.getImageData(0,0,N,N).data;x.fillStyle="red",x.fillRect(0,0,N,N);var Ze=_.createElement("div");return Ze.style.backgroundImage="url("+ne+")",Ze.style.height=N+"px",NA(xe)?Ba(sd(N,N,0,0,Ze)):Promise.reject(!1)}).then(function(Fe){return x.drawImage(Fe,0,0),NA(x.getImageData(0,0,N,N).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(ta,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:_}),_},get SUPPORT_CORS_IMAGES(){var _=typeof(new Image).crossOrigin<"u";return Object.defineProperty(ta,"SUPPORT_CORS_IMAGES",{value:_}),_},get SUPPORT_RESPONSE_TYPE(){var _="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(ta,"SUPPORT_RESPONSE_TYPE",{value:_}),_},get SUPPORT_CORS_XHR(){var _="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ta,"SUPPORT_CORS_XHR",{value:_}),_},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var _=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ta,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:_}),_}},Wg=function(){return function _(Q,N){this.text=Q,this.bounds=N}}(),Zc=function(_,Q){var N=Q.ownerDocument;if(N){var x=N.createElement("html2canvaswrapper");x.appendChild(Q.cloneNode(!0));var q=Q.parentNode;if(q){q.replaceChild(x,Q);var ne=qn(_,x);return x.firstChild&&q.replaceChild(x.firstChild,x),ne}}return _t.EMPTY},jb=function(_,Q,N){var x=_.ownerDocument;if(!x)throw new Error("Node has no owner document");var q=x.createRange();return q.setStart(_,Q),q.setEnd(_,Q+N),q},JC=function(_){if(ta.SUPPORT_NATIVE_TEXT_SEGMENTATION){var Q=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(Q.segment(_)).map(function(N){return N.segment})}return function(_){for(var x,Q=kk(_),N=[];!(x=Q.next()).done;)x.value&&N.push(x.value.slice());return N}(_)},$u=function(_,Q){return 0!==Q.letterSpacing?JC(_):function(_,Q){if(ta.SUPPORT_NATIVE_TEXT_SEGMENTATION){var N=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(N.segment(_)).map(function(x){return x.segment})}return Ok(_,Q)}(_,Q)},Zb=[32,160,4961,65792,65793,4153,4241],Ok=function(_,Q){for(var q,N=function(_,Q){var N=xt(_),x=eE(N,Q),q=x[0],ne=x[1],ae=x[2],Fe=N.length,xe=0,Ze=0;return{next:function(){if(Ze>=Fe)return{done:!0,value:null};for(var ot=yr;Ze<Fe&&(ot=Qp(N,ne,q,++Ze,ae))===yr;);if(ot!==yr||Ze===Fe){var pt=new hQ(N,ot,xe,Ze);return xe=Ze,{value:pt,done:!1}}return{done:!0,value:null}}}}(_,{lineBreak:Q.lineBreak,wordBreak:"break-word"===Q.overflowWrap?"break-word":Q.wordBreak}),x=[],ne=function(){if(q.value){var ae=q.value.slice(),Fe=xt(ae),xe="";Fe.forEach(function(Ze){-1===Zb.indexOf(Ze)?xe+=We(Ze):(xe.length&&x.push(xe),x.push(We(Ze)),xe="")}),xe.length&&x.push(xe)}};!(q=N.next()).done;)ne();return x},Xb=function(){return function _(Q,N,x){this.text=jQ(N.data,x.textTransform),this.textBounds=function(_,Q,N,x){var q=$u(Q,N),ne=[],ae=0;return q.forEach(function(Fe){if(N.textDecorationLine.length||Fe.trim().length>0)if(ta.SUPPORT_RANGE_BOUNDS){var xe=jb(x,ae,Fe.length).getClientRects();if(xe.length>1){var Ze=JC(Fe),ot=0;Ze.forEach(function(Ut){ne.push(new Wg(Ut,_t.fromDOMRectList(_,jb(x,ot+ae,Ut.length).getClientRects()))),ot+=Ut.length})}else ne.push(new Wg(Fe,_t.fromDOMRectList(_,xe)))}else{var pt=x.splitText(Fe.length);ne.push(new Wg(Fe,Zc(_,x))),x=pt}else ta.SUPPORT_RANGE_BOUNDS||(x=x.splitText(Fe.length));ae+=Fe.length}),ne}(Q,this.text,x,N)}}(),jQ=function(_,Q){switch(Q){case 1:return _.toLowerCase();case 3:return _.replace(ZQ,VC);case 2:return _.toUpperCase();default:return _}},ZQ=/(^|\s|:|-|\(|\))([a-z])/g,VC=function(_,Q,N){return _.length>0?Q+N.toUpperCase():_},zC=function(_){function Q(N,x){var q=_.call(this,N,x)||this;return q.src=x.currentSrc||x.src,q.intrinsicWidth=x.naturalWidth,q.intrinsicHeight=x.naturalHeight,q.context.cache.addImage(q.src),q}return De(Q,_),Q}(Wc),vE=function(_){function Q(N,x){var q=_.call(this,N,x)||this;return q.canvas=x,q.intrinsicWidth=x.width,q.intrinsicHeight=x.height,q}return De(Q,_),Q}(Wc),Xh=function(_){function Q(N,x){var q=_.call(this,N,x)||this,ne=new XMLSerializer,ae=qn(N,x);return x.setAttribute("width",ae.width+"px"),x.setAttribute("height",ae.height+"px"),q.svg="data:image/svg+xml,"+encodeURIComponent(ne.serializeToString(x)),q.intrinsicWidth=x.width.baseVal.value,q.intrinsicHeight=x.height.baseVal.value,q.context.cache.addImage(q.svg),q}return De(Q,_),Q}(Wc),wi=function(_){function Q(N,x){var q=_.call(this,N,x)||this;return q.value=x.value,q}return De(Q,_),Q}(Wc),yE=function(_){function Q(N,x){var q=_.call(this,N,x)||this;return q.start=x.start,q.reversed="boolean"==typeof x.reversed&&!0===x.reversed,q}return De(Q,_),Q}(Wc),MK=[{type:15,flags:0,unit:"px",number:3}],Gk=[{type:16,flags:0,number:50}],WC="checkbox",jg="radio",Yk="password",$b=707406591,XQ=function(_){function Q(N,x){var q=_.call(this,N,x)||this;switch(q.type=x.type.toLowerCase(),q.checked=x.checked,q.value=function(_){var Q=_.type===Yk?new Array(_.value.length+1).join("\u2022"):_.value;return 0===Q.length?_.placeholder||"":Q}(x),(q.type===WC||q.type===jg)&&(q.styles.backgroundColor=3739148031,q.styles.borderTopColor=q.styles.borderRightColor=q.styles.borderBottomColor=q.styles.borderLeftColor=2779096575,q.styles.borderTopWidth=q.styles.borderRightWidth=q.styles.borderBottomWidth=q.styles.borderLeftWidth=1,q.styles.borderTopStyle=q.styles.borderRightStyle=q.styles.borderBottomStyle=q.styles.borderLeftStyle=1,q.styles.backgroundClip=[0],q.styles.backgroundOrigin=[0],q.bounds=function(_){return _.width>_.height?new _t(_.left+(_.width-_.height)/2,_.top,_.height,_.height):_.width<_.height?new _t(_.left,_.top+(_.height-_.width)/2,_.width,_.width):_}(q.bounds)),q.type){case WC:q.styles.borderTopRightRadius=q.styles.borderTopLeftRadius=q.styles.borderBottomRightRadius=q.styles.borderBottomLeftRadius=MK;break;case jg:q.styles.borderTopRightRadius=q.styles.borderTopLeftRadius=q.styles.borderBottomRightRadius=q.styles.borderBottomLeftRadius=Gk}return q}return De(Q,_),Q}(Wc),eS=function(_){function Q(N,x){var q=_.call(this,N,x)||this,ne=x.options[x.selectedIndex||0];return q.value=ne&&ne.text||"",q}return De(Q,_),Q}(Wc),tS=function(_){function Q(N,x){var q=_.call(this,N,x)||this;return q.value=x.value,q}return De(Q,_),Q}(Wc),Lt=function(_){function Q(N,x){var q=_.call(this,N,x)||this;q.src=x.src,q.width=parseInt(x.width,10)||0,q.height=parseInt(x.height,10)||0,q.backgroundColor=q.styles.backgroundColor;try{if(x.contentWindow&&x.contentWindow.document&&x.contentWindow.document.documentElement){q.tree=_A(N,x.contentWindow.document.documentElement);var ne=x.contentWindow.document.documentElement?Np(N,getComputedStyle(x.contentWindow.document.documentElement).backgroundColor):zh.TRANSPARENT,ae=x.contentWindow.document.body?Np(N,getComputedStyle(x.contentWindow.document.body).backgroundColor):zh.TRANSPARENT;q.backgroundColor=Vh(ne)?Vh(ae)?q.styles.backgroundColor:ae:ne}}catch{}return q}return De(Q,_),Q}(Wc),Fr=["OL","UL","MENU"],zn=function(_,Q,N,x){for(var q=Q.firstChild,ne=void 0;q;q=ne)if(ne=q.nextSibling,fu(q)&&q.data.trim().length>0)N.textNodes.push(new Xb(_,q,N.styles));else if($h(q))if(XC(q)&&q.assignedNodes)q.assignedNodes().forEach(function(Fe){return zn(_,Fe,N,x)});else{var ae=$n(_,q);ae.styles.isVisible()&&(nS(q,ae,x)?ae.flags|=4:jC(ae.styles)&&(ae.flags|=2),-1!==Fr.indexOf(q.tagName)&&(ae.flags|=8),N.elements.push(ae),q.shadowRoot?zn(_,q.shadowRoot,ae,x):!Kp(q)&&!$Q(q)&&!qp(q)&&zn(_,q,ae,x))}},$n=function(_,Q){return wE(Q)?new zC(_,Q):eg(Q)?new vE(_,Q):$Q(Q)?new Xh(_,Q):NK(Q)?new wi(_,Q):iS(Q)?new yE(_,Q):Ya(Q)?new XQ(_,Q):qp(Q)?new eS(_,Q):Kp(Q)?new tS(_,Q):AS(Q)?new Lt(_,Q):new Wc(_,Q)},_A=function(_,Q){var N=$n(_,Q);return N.flags|=4,zn(_,Q,N,N),N},nS=function(_,Q,N){return Q.styles.isPositionedWithZIndex()||Q.styles.opacity<1||Q.styles.isTransformed()||Xc(_)&&N.styles.isTransparent()},jC=function(_){return _.isPositioned()||_.isFloating()},fu=function(_){return _.nodeType===Node.TEXT_NODE},$h=function(_){return _.nodeType===Node.ELEMENT_NODE},ZC=function(_){return $h(_)&&typeof _.style<"u"&&!QE(_)},QE=function(_){return"object"==typeof _.className},NK=function(_){return"LI"===_.tagName},iS=function(_){return"OL"===_.tagName},Ya=function(_){return"INPUT"===_.tagName},$Q=function(_){return"svg"===_.tagName},Xc=function(_){return"BODY"===_.tagName},eg=function(_){return"CANVAS"===_.tagName},rS=function(_){return"VIDEO"===_.tagName},wE=function(_){return"IMG"===_.tagName},AS=function(_){return"IFRAME"===_.tagName},sS=function(_){return"STYLE"===_.tagName},Kp=function(_){return"TEXTAREA"===_.tagName},qp=function(_){return"SELECT"===_.tagName},XC=function(_){return"SLOT"===_.tagName},oS=function(_){return _.tagName.indexOf("-")>0},aS=function(){function _(){this.counters={}}return _.prototype.getCounterValue=function(Q){var N=this.counters[Q];return N&&N.length?N[N.length-1]:1},_.prototype.getCounterValues=function(Q){return this.counters[Q]||[]},_.prototype.pop=function(Q){var N=this;Q.forEach(function(x){return N.counters[x].pop()})},_.prototype.parse=function(Q){var N=this,x=Q.counterIncrement,q=Q.counterReset,ne=!0;null!==x&&x.forEach(function(Fe){var xe=N.counters[Fe.counter];xe&&0!==Fe.increment&&(ne=!1,xe.length||xe.push(1),xe[Math.max(0,xe.length-1)]+=Fe.increment)});var ae=[];return ne&&q.forEach(function(Fe){var xe=N.counters[Fe.counter];ae.push(Fe.counter),xe||(xe=N.counters[Fe.counter]=[]),xe.push(Fe.reset)}),ae},_}(),_E={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},tw={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},cS={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},lS={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},od=function(_,Q,N,x,q,ne){return _<Q||_>N?dc(_,q,ne.length>0):x.integers.reduce(function(ae,Fe,xe){for(;_>=Fe;)_-=Fe,ae+=x.values[xe];return ae},"")+ne},DE=function(_,Q,N,x){var q="";do{N||_--,q=x(_)+q,_/=Q}while(_*Q>=Q);return q},Vs=function(_,Q,N,x,q){var ne=N-Q+1;return(_<0?"-":"")+(DE(Math.abs(_),ne,x,function(ae){return We(Math.floor(ae%ne)+Q)})+q)},Ts=function(_,Q,N){void 0===N&&(N=". ");var x=Q.length;return DE(Math.abs(_),x,!1,function(q){return Q[Math.floor(q%x)]})+N},$g=function(_,Q,N,x,q,ne){if(_<-9999||_>9999)return dc(_,4,q.length>0);var ae=Math.abs(_),Fe=q;if(0===ae)return Q[0]+Fe;for(var xe=0;ae>0&&xe<=4;xe++){var Ze=ae%10;0===Ze&&MA(ne,1)&&""!==Fe?Fe=Q[Ze]+Fe:Ze>1||1===Ze&&0===xe||1===Ze&&1===xe&&MA(ne,2)||1===Ze&&1===xe&&MA(ne,4)&&_>100||1===Ze&&xe>1&&MA(ne,8)?Fe=Q[Ze]+(xe>0?N[xe-1]:"")+Fe:1===Ze&&xe>0&&(Fe=N[xe-1]+Fe),ae=Math.floor(ae/10)}return(_<0?x:"")+Fe},ad="\ub9c8\uc774\ub108\uc2a4",dc=function(_,Q,N){var x=N?". ":"",q=N?"\u3001":"",ne=N?", ":"",ae=N?" ":"";switch(Q){case 0:return"\u2022"+ae;case 1:return"\u25e6"+ae;case 2:return"\u25fe"+ae;case 5:var Fe=Vs(_,48,57,!0,x);return Fe.length<4?"0"+Fe:Fe;case 4:return Ts(_,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",q);case 6:return od(_,1,3999,_E,3,x).toLowerCase();case 7:return od(_,1,3999,_E,3,x);case 8:return Vs(_,945,969,!1,x);case 9:return Vs(_,97,122,!1,x);case 10:return Vs(_,65,90,!1,x);case 11:return Vs(_,1632,1641,!0,x);case 12:case 49:return od(_,1,9999,tw,3,x);case 35:return od(_,1,9999,tw,3,x).toLowerCase();case 13:return Vs(_,2534,2543,!0,x);case 14:case 30:return Vs(_,6112,6121,!0,x);case 15:return Ts(_,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",q);case 16:return Ts(_,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",q);case 17:case 48:return $g(_,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",q,14);case 47:return $g(_,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",q,15);case 42:return $g(_,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",q,14);case 41:return $g(_,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",q,15);case 26:return $g(_,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",q,0);case 25:return $g(_,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",q,7);case 31:return $g(_,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",ad,ne,7);case 33:return $g(_,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",ad,ne,0);case 32:return $g(_,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",ad,ne,7);case 18:return Vs(_,2406,2415,!0,x);case 20:return od(_,1,19999,lS,3,x);case 21:return Vs(_,2790,2799,!0,x);case 22:return Vs(_,2662,2671,!0,x);case 22:return od(_,1,10999,cS,3,x);case 23:return Ts(_,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Ts(_,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Vs(_,3302,3311,!0,x);case 28:return Ts(_,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",q);case 29:return Ts(_,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",q);case 34:return Vs(_,3792,3801,!0,x);case 37:return Vs(_,6160,6169,!0,x);case 38:return Vs(_,4160,4169,!0,x);case 39:return Vs(_,2918,2927,!0,x);case 40:return Vs(_,1776,1785,!0,x);case 43:return Vs(_,3046,3055,!0,x);case 44:return Vs(_,3174,3183,!0,x);case 45:return Vs(_,3664,3673,!0,x);case 46:return Vs(_,3872,3881,!0,x);default:return Vs(_,48,57,!0,x)}},gS="data-html2canvas-ignore",eI=function(){function _(Q,N,x){if(this.context=Q,this.options=x,this.scrolledElements=[],this.referenceElement=N,this.counters=new aS,this.quoteDepth=0,!N.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(N.ownerDocument.documentElement,!1)}return _.prototype.toIFrame=function(Q,N){var x=this,q=bE(Q,N);if(!q.contentWindow)return Promise.reject("Unable to find iframe window");var ne=Q.defaultView.pageXOffset,ae=Q.defaultView.pageYOffset,Fe=q.contentWindow,xe=Fe.document,Ze=fS(q).then(function(){return St(x,void 0,void 0,function(){var ot,pt;return He(this,function(Ut){switch(Ut.label){case 0:return this.scrolledElements.forEach(Aw),Fe&&(Fe.scrollTo(N.left,N.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Fe.scrollY!==N.top||Fe.scrollX!==N.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Fe.scrollX-N.left,Fe.scrollY-N.top,0,0))),ot=this.options.onclone,typeof(pt=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:xe.fonts&&xe.fonts.ready?[4,xe.fonts.ready]:[3,2];case 1:Ut.sent(),Ut.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,hS(xe)]:[3,4];case 3:Ut.sent(),Ut.label=4;case 4:return"function"==typeof ot?[2,Promise.resolve().then(function(){return ot(xe,pt)}).then(function(){return q})]:[2,q]}})})});return xe.open(),xe.write(tI(document.doctype)+"<html></html>"),qk(this.referenceElement.ownerDocument,ne,ae),xe.replaceChild(xe.adoptNode(this.documentElement),xe.documentElement),xe.close(),Ze},_.prototype.createElementClone=function(Q){if(ju(Q,2),eg(Q))return this.createCanvasClone(Q);if(rS(Q))return this.createVideoClone(Q);if(sS(Q))return this.createStyleClone(Q);var N=Q.cloneNode(!1);return wE(N)&&(wE(Q)&&Q.currentSrc&&Q.currentSrc!==Q.src&&(N.src=Q.currentSrc,N.srcset=""),"lazy"===N.loading&&(N.loading="eager")),oS(N)?this.createCustomElementClone(N):N},_.prototype.createCustomElementClone=function(Q){var N=document.createElement("html2canvascustomelement");return ef(Q.style,N),N},_.prototype.createStyleClone=function(Q){try{var N=Q.sheet;if(N&&N.cssRules){var x=[].slice.call(N.cssRules,0).reduce(function(ne,ae){return ae&&"string"==typeof ae.cssText?ne+ae.cssText:ne},""),q=Q.cloneNode(!1);return q.textContent=x,q}}catch(ne){if(this.context.logger.error("Unable to access cssRules property",ne),"SecurityError"!==ne.name)throw ne}return Q.cloneNode(!1)},_.prototype.createCanvasClone=function(Q){var N;if(this.options.inlineImages&&Q.ownerDocument){var x=Q.ownerDocument.createElement("img");try{return x.src=Q.toDataURL(),x}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",Q)}}var q=Q.cloneNode(!1);try{q.width=Q.width,q.height=Q.height;var ne=Q.getContext("2d"),ae=q.getContext("2d");if(ae)if(!this.options.allowTaint&&ne)ae.putImageData(ne.getImageData(0,0,Q.width,Q.height),0,0);else{var Fe=null!==(N=Q.getContext("webgl2"))&&void 0!==N?N:Q.getContext("webgl");if(Fe){var xe=Fe.getContextAttributes();!1===xe?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",Q)}ae.drawImage(Q,0,0)}return q}catch{this.context.logger.info("Unable to clone canvas as it is tainted",Q)}return q},_.prototype.createVideoClone=function(Q){var N=Q.ownerDocument.createElement("canvas");N.width=Q.offsetWidth,N.height=Q.offsetHeight;var x=N.getContext("2d");try{return x&&(x.drawImage(Q,0,0,N.width,N.height),this.options.allowTaint||x.getImageData(0,0,N.width,N.height)),N}catch{this.context.logger.info("Unable to clone video as it is tainted",Q)}var q=Q.ownerDocument.createElement("canvas");return q.width=Q.offsetWidth,q.height=Q.offsetHeight,q},_.prototype.appendChildNode=function(Q,N,x){(!$h(N)||!function(_){return"SCRIPT"===_.tagName}(N)&&!N.hasAttribute(gS)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(N)))&&(!this.options.copyStyles||!$h(N)||!sS(N))&&Q.appendChild(this.cloneNode(N,x))},_.prototype.cloneChildNodes=function(Q,N,x){for(var q=this,ne=Q.shadowRoot?Q.shadowRoot.firstChild:Q.firstChild;ne;ne=ne.nextSibling)if($h(ne)&&XC(ne)&&"function"==typeof ne.assignedNodes){var ae=ne.assignedNodes();ae.length&&ae.forEach(function(Fe){return q.appendChildNode(N,Fe,x)})}else this.appendChildNode(N,ne,x)},_.prototype.cloneNode=function(Q,N){if(fu(Q))return document.createTextNode(Q.data);if(!Q.ownerDocument)return Q.cloneNode(!1);var x=Q.ownerDocument.defaultView;if(x&&$h(Q)&&(ZC(Q)||QE(Q))){var q=this.createElementClone(Q);q.style.transitionProperty="none";var ne=x.getComputedStyle(Q),ae=x.getComputedStyle(Q,":before"),Fe=x.getComputedStyle(Q,":after");this.referenceElement===Q&&ZC(q)&&(this.clonedReferenceElement=q),Xc(q)&&ow(q);var xe=this.counters.parse(new nd(this.context,ne)),Ze=this.resolvePseudoContent(Q,q,ae,cd.BEFORE);oS(Q)&&(N=!0),rS(Q)||this.cloneChildNodes(Q,q,N),Ze&&q.insertBefore(Ze,q.firstChild);var ot=this.resolvePseudoContent(Q,q,Fe,cd.AFTER);return ot&&q.appendChild(ot),this.counters.pop(xe),(ne&&(this.options.copyStyles||QE(Q))&&!AS(Q)||N)&&ef(ne,q),(0!==Q.scrollTop||0!==Q.scrollLeft)&&this.scrolledElements.push([q,Q.scrollLeft,Q.scrollTop]),(Kp(Q)||qp(Q))&&(Kp(q)||qp(q))&&(q.value=Q.value),q}return Q.cloneNode(!1)},_.prototype.resolvePseudoContent=function(Q,N,x,q){var ne=this;if(x){var ae=x.content,Fe=N.ownerDocument;if(Fe&&ae&&"none"!==ae&&"-moz-alt-content"!==ae&&"none"!==x.display){this.counters.parse(new nd(this.context,x));var xe=new YC(this.context,x),Ze=Fe.createElement("html2canvaspseudoelement");ef(x,Ze),xe.content.forEach(function(pt){if(0===pt.type)Ze.appendChild(Fe.createTextNode(pt.value));else if(22===pt.type){var Ut=Fe.createElement("img");Ut.src=pt.value,Ut.style.opacity="1",Ze.appendChild(Ut)}else if(18===pt.type){if("attr"===pt.name){var Yn=pt.values.filter(dA);Yn.length&&Ze.appendChild(Fe.createTextNode(Q.getAttribute(Yn[0].value)||""))}else if("counter"===pt.name){var vn=pt.values.filter(Zf),ur=vn[1];if((Un=vn[0])&&dA(Un)){var si=ne.counters.getCounterValue(Un.value),ti=ur&&dA(ur)?Tp.parse(ne.context,ur.value):3;Ze.appendChild(Fe.createTextNode(dc(si,ti,!1)))}}else if("counters"===pt.name){var Un,Xr=pt.values.filter(Zf),fr=Xr[1];if(ur=Xr[2],(Un=Xr[0])&&dA(Un)){var xi=ne.counters.getCounterValues(Un.value),bn=ur&&dA(ur)?Tp.parse(ne.context,ur.value):3,kr=fr&&0===fr.type?fr.value:"",Gr=xi.map(function(ko){return dc(ko,bn,!1)}).join(kr);Ze.appendChild(Fe.createTextNode(Gr))}}}else if(20===pt.type)switch(pt.value){case"open-quote":Ze.appendChild(Fe.createTextNode(bl(xe.quotes,ne.quoteDepth++,!0)));break;case"close-quote":Ze.appendChild(Fe.createTextNode(bl(xe.quotes,--ne.quoteDepth,!1)));break;default:Ze.appendChild(Fe.createTextNode(pt.value))}}),Ze.className=sw+" "+dS;var ot=q===cd.BEFORE?" "+sw:" "+dS;return QE(N)?N.className.baseValue+=ot:N.className+=ot,Ze}}},_.destroy=function(Q){return!!Q.parentNode&&(Q.parentNode.removeChild(Q),!0)},_}(),cd=function(_){return _[_.BEFORE=0]="BEFORE",_[_.AFTER=1]="AFTER",_}(cd||{}),bE=function(_,Q){var N=_.createElement("iframe");return N.className="html2canvas-container",N.style.visibility="hidden",N.style.position="fixed",N.style.left="-10000px",N.style.top="0px",N.style.border="0",N.width=Q.width.toString(),N.height=Q.height.toString(),N.scrolling="no",N.setAttribute(gS,"true"),_.body.appendChild(N),N},rw=function(_){return new Promise(function(Q){_.complete?Q():_.src?(_.onload=Q,_.onerror=Q):Q()})},hS=function(_){return Promise.all([].slice.call(_.images,0).map(rw))},fS=function(_){return new Promise(function(Q,N){var x=_.contentWindow;if(!x)return N("No window assigned for iframe");var q=x.document;x.onload=_.onload=function(){x.onload=_.onload=null;var ne=setInterval(function(){q.body.childNodes.length>0&&"complete"===q.readyState&&(clearInterval(ne),Q(_))},50)}})},Kk=["all","d","content"],ef=function(_,Q){for(var N=_.length-1;N>=0;N--){var x=_.item(N);-1===Kk.indexOf(x)&&Q.style.setProperty(x,_.getPropertyValue(x))}return Q},tI=function(_){var Q="";return _&&(Q+="<!DOCTYPE ",_.name&&(Q+=_.name),_.internalSubset&&(Q+=_.internalSubset),_.publicId&&(Q+='"'+_.publicId+'"'),_.systemId&&(Q+='"'+_.systemId+'"'),Q+=">"),Q},qk=function(_,Q,N){_&&_.defaultView&&(Q!==_.defaultView.pageXOffset||N!==_.defaultView.pageYOffset)&&_.defaultView.scrollTo(Q,N)},Aw=function(_){var Q=_[0],x=_[2];Q.scrollLeft=_[1],Q.scrollTop=x},sw="___html2canvas___pseudoelement_before",dS="___html2canvas___pseudoelement_after",zk='{\n    content: "" !important;\n    display: none !important;\n}',ow=function(_){nI(_,"."+sw+":before"+zk+"\n         ."+dS+":after"+zk)},nI=function(_,Q){var N=_.ownerDocument;if(N){var x=N.createElement("style");x.textContent=Q,_.appendChild(x)}},pS=function(){function _(){}return _.getOrigin=function(Q){var N=_._link;return N?(N.href=Q,N.href=N.href,N.protocol+N.hostname+N.port):"about:blank"},_.isSameOrigin=function(Q){return _.getOrigin(Q)===_._origin},_.setContext=function(Q){_._link=Q.document.createElement("a"),_._origin=_.getOrigin(Q.location.href)},_._origin="about:blank",_}(),iI=function(){function _(Q,N){this.context=Q,this._options=N,this._cache={}}return _.prototype.addImage=function(Q){var N=Promise.resolve();return this.has(Q)||(Ml(Q)||mS(Q))&&(this._cache[Q]=this.loadImage(Q)).catch(function(){}),N},_.prototype.match=function(Q){return this._cache[Q]},_.prototype.loadImage=function(Q){return St(this,void 0,void 0,function(){var N,x,q,ne,ae=this;return He(this,function(Fe){switch(Fe.label){case 0:return N=pS.isSameOrigin(Q),x=!ME(Q)&&!0===this._options.useCORS&&ta.SUPPORT_CORS_IMAGES&&!N,q=!ME(Q)&&!N&&!Ml(Q)&&"string"==typeof this._options.proxy&&ta.SUPPORT_CORS_XHR&&!x,N||!1!==this._options.allowTaint||ME(Q)||Ml(Q)||q||x?(ne=Q,q?[4,this.proxy(ne)]:[3,2]):[2];case 1:ne=Fe.sent(),Fe.label=2;case 2:return this.context.logger.debug("Added image "+Q.substring(0,256)),[4,new Promise(function(xe,Ze){var ot=new Image;ot.onload=function(){return xe(ot)},ot.onerror=Ze,(Wk(ne)||x)&&(ot.crossOrigin="anonymous"),ot.src=ne,!0===ot.complete&&setTimeout(function(){return xe(ot)},500),ae._options.imageTimeout>0&&setTimeout(function(){return Ze("Timed out ("+ae._options.imageTimeout+"ms) loading image")},ae._options.imageTimeout)})];case 3:return[2,Fe.sent()]}})})},_.prototype.has=function(Q){return typeof this._cache[Q]<"u"},_.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},_.prototype.proxy=function(Q){var N=this,x=this._options.proxy;if(!x)throw new Error("No proxy defined");var q=Q.substring(0,256);return new Promise(function(ne,ae){var Fe=ta.SUPPORT_RESPONSE_TYPE?"blob":"text",xe=new XMLHttpRequest;xe.onload=function(){if(200===xe.status)if("text"===Fe)ne(xe.response);else{var pt=new FileReader;pt.addEventListener("load",function(){return ne(pt.result)},!1),pt.addEventListener("error",function(Ut){return ae(Ut)},!1),pt.readAsDataURL(xe.response)}else ae("Failed to proxy resource "+q+" with status code "+xe.status)},xe.onerror=ae;var Ze=x.indexOf("?")>-1?"&":"?";if(xe.open("GET",""+x+Ze+"url="+encodeURIComponent(Q)+"&responseType="+Fe),"text"!==Fe&&xe instanceof XMLHttpRequest&&(xe.responseType=Fe),N._options.imageTimeout){var ot=N._options.imageTimeout;xe.timeout=ot,xe.ontimeout=function(){return ae("Timed out ("+ot+"ms) proxying "+q)}}xe.send()})},_}(),aw=/^data:image\/svg\+xml/i,SE=/^data:image\/.*;base64,/i,xK=/^data:image\/.*/i,mS=function(_){return ta.SUPPORT_SVG_DRAWING||!jk(_)},ME=function(_){return xK.test(_)},Wk=function(_){return SE.test(_)},Ml=function(_){return"blob"===_.substr(0,4)},jk=function(_){return"svg"===_.substr(-3).toLowerCase()||aw.test(_)},Gn=function(){function _(Q,N){this.type=0,this.x=Q,this.y=N}return _.prototype.add=function(Q,N){return new _(this.x+Q,this.y+N)},_}(),tf=function(_,Q,N){return new Gn(_.x+(Q.x-_.x)*N,_.y+(Q.y-_.y)*N)},rI=function(){function _(Q,N,x,q){this.type=1,this.start=Q,this.startControl=N,this.endControl=x,this.end=q}return _.prototype.subdivide=function(Q,N){var x=tf(this.start,this.startControl,Q),q=tf(this.startControl,this.endControl,Q),ne=tf(this.endControl,this.end,Q),ae=tf(x,q,Q),Fe=tf(q,ne,Q),xe=tf(ae,Fe,Q);return N?new _(this.start,x,ae,xe):new _(xe,Fe,ne,this.end)},_.prototype.add=function(Q,N){return new _(this.start.add(Q,N),this.startControl.add(Q,N),this.endControl.add(Q,N),this.end.add(Q,N))},_.prototype.reverse=function(){return new _(this.end,this.endControl,this.startControl,this.start)},_}(),Ka=function(_){return 1===_.type},cw=function(){return function _(Q){var N=Q.styles,x=Q.bounds,q=Xf(N.borderTopLeftRadius,x.width,x.height),ne=q[0],ae=q[1],Fe=Xf(N.borderTopRightRadius,x.width,x.height),xe=Fe[0],Ze=Fe[1],ot=Xf(N.borderBottomRightRadius,x.width,x.height),pt=ot[0],Ut=ot[1],Yn=Xf(N.borderBottomLeftRadius,x.width,x.height),vn=Yn[0],Un=Yn[1],ur=[];ur.push((ne+xe)/x.width),ur.push((vn+pt)/x.width),ur.push((ae+Un)/x.height),ur.push((Ze+Ut)/x.height);var si=Math.max.apply(Math,ur);si>1&&(ne/=si,ae/=si,xe/=si,Ze/=si,pt/=si,Ut/=si,vn/=si,Un/=si);var ti=x.width-xe,Xr=x.height-Ut,fr=x.width-pt,xi=x.height-Un,bn=N.borderTopWidth,kr=N.borderRightWidth,Gr=N.borderBottomWidth,Si=N.borderLeftWidth,Pr=wA(N.paddingTop,Q.bounds.width),ko=wA(N.paddingRight,Q.bounds.width),pc=wA(N.paddingBottom,Q.bounds.width),RA=wA(N.paddingLeft,Q.bounds.width);this.topLeftBorderDoubleOuterBox=ne>0||ae>0?ls(x.left+Si/3,x.top+bn/3,ne-Si/3,ae-bn/3,xA.TOP_LEFT):new Gn(x.left+Si/3,x.top+bn/3),this.topRightBorderDoubleOuterBox=ne>0||ae>0?ls(x.left+ti,x.top+bn/3,xe-kr/3,Ze-bn/3,xA.TOP_RIGHT):new Gn(x.left+x.width-kr/3,x.top+bn/3),this.bottomRightBorderDoubleOuterBox=pt>0||Ut>0?ls(x.left+fr,x.top+Xr,pt-kr/3,Ut-Gr/3,xA.BOTTOM_RIGHT):new Gn(x.left+x.width-kr/3,x.top+x.height-Gr/3),this.bottomLeftBorderDoubleOuterBox=vn>0||Un>0?ls(x.left+Si/3,x.top+xi,vn-Si/3,Un-Gr/3,xA.BOTTOM_LEFT):new Gn(x.left+Si/3,x.top+x.height-Gr/3),this.topLeftBorderDoubleInnerBox=ne>0||ae>0?ls(x.left+2*Si/3,x.top+2*bn/3,ne-2*Si/3,ae-2*bn/3,xA.TOP_LEFT):new Gn(x.left+2*Si/3,x.top+2*bn/3),this.topRightBorderDoubleInnerBox=ne>0||ae>0?ls(x.left+ti,x.top+2*bn/3,xe-2*kr/3,Ze-2*bn/3,xA.TOP_RIGHT):new Gn(x.left+x.width-2*kr/3,x.top+2*bn/3),this.bottomRightBorderDoubleInnerBox=pt>0||Ut>0?ls(x.left+fr,x.top+Xr,pt-2*kr/3,Ut-2*Gr/3,xA.BOTTOM_RIGHT):new Gn(x.left+x.width-2*kr/3,x.top+x.height-2*Gr/3),this.bottomLeftBorderDoubleInnerBox=vn>0||Un>0?ls(x.left+2*Si/3,x.top+xi,vn-2*Si/3,Un-2*Gr/3,xA.BOTTOM_LEFT):new Gn(x.left+2*Si/3,x.top+x.height-2*Gr/3),this.topLeftBorderStroke=ne>0||ae>0?ls(x.left+Si/2,x.top+bn/2,ne-Si/2,ae-bn/2,xA.TOP_LEFT):new Gn(x.left+Si/2,x.top+bn/2),this.topRightBorderStroke=ne>0||ae>0?ls(x.left+ti,x.top+bn/2,xe-kr/2,Ze-bn/2,xA.TOP_RIGHT):new Gn(x.left+x.width-kr/2,x.top+bn/2),this.bottomRightBorderStroke=pt>0||Ut>0?ls(x.left+fr,x.top+Xr,pt-kr/2,Ut-Gr/2,xA.BOTTOM_RIGHT):new Gn(x.left+x.width-kr/2,x.top+x.height-Gr/2),this.bottomLeftBorderStroke=vn>0||Un>0?ls(x.left+Si/2,x.top+xi,vn-Si/2,Un-Gr/2,xA.BOTTOM_LEFT):new Gn(x.left+Si/2,x.top+x.height-Gr/2),this.topLeftBorderBox=ne>0||ae>0?ls(x.left,x.top,ne,ae,xA.TOP_LEFT):new Gn(x.left,x.top),this.topRightBorderBox=xe>0||Ze>0?ls(x.left+ti,x.top,xe,Ze,xA.TOP_RIGHT):new Gn(x.left+x.width,x.top),this.bottomRightBorderBox=pt>0||Ut>0?ls(x.left+fr,x.top+Xr,pt,Ut,xA.BOTTOM_RIGHT):new Gn(x.left+x.width,x.top+x.height),this.bottomLeftBorderBox=vn>0||Un>0?ls(x.left,x.top+xi,vn,Un,xA.BOTTOM_LEFT):new Gn(x.left,x.top+x.height),this.topLeftPaddingBox=ne>0||ae>0?ls(x.left+Si,x.top+bn,Math.max(0,ne-Si),Math.max(0,ae-bn),xA.TOP_LEFT):new Gn(x.left+Si,x.top+bn),this.topRightPaddingBox=xe>0||Ze>0?ls(x.left+Math.min(ti,x.width-kr),x.top+bn,ti>x.width+kr?0:Math.max(0,xe-kr),Math.max(0,Ze-bn),xA.TOP_RIGHT):new Gn(x.left+x.width-kr,x.top+bn),this.bottomRightPaddingBox=pt>0||Ut>0?ls(x.left+Math.min(fr,x.width-Si),x.top+Math.min(Xr,x.height-Gr),Math.max(0,pt-kr),Math.max(0,Ut-Gr),xA.BOTTOM_RIGHT):new Gn(x.left+x.width-kr,x.top+x.height-Gr),this.bottomLeftPaddingBox=vn>0||Un>0?ls(x.left+Si,x.top+Math.min(xi,x.height-Gr),Math.max(0,vn-Si),Math.max(0,Un-Gr),xA.BOTTOM_LEFT):new Gn(x.left+Si,x.top+x.height-Gr),this.topLeftContentBox=ne>0||ae>0?ls(x.left+Si+RA,x.top+bn+Pr,Math.max(0,ne-(Si+RA)),Math.max(0,ae-(bn+Pr)),xA.TOP_LEFT):new Gn(x.left+Si+RA,x.top+bn+Pr),this.topRightContentBox=xe>0||Ze>0?ls(x.left+Math.min(ti,x.width+Si+RA),x.top+bn+Pr,ti>x.width+Si+RA?0:xe-Si+RA,Ze-(bn+Pr),xA.TOP_RIGHT):new Gn(x.left+x.width-(kr+ko),x.top+bn+Pr),this.bottomRightContentBox=pt>0||Ut>0?ls(x.left+Math.min(fr,x.width-(Si+RA)),x.top+Math.min(Xr,x.height+bn+Pr),Math.max(0,pt-(kr+ko)),Ut-(Gr+pc),xA.BOTTOM_RIGHT):new Gn(x.left+x.width-(kr+ko),x.top+x.height-(Gr+pc)),this.bottomLeftContentBox=vn>0||Un>0?ls(x.left+Si+RA,x.top+xi,Math.max(0,vn-(Si+RA)),Un-(Gr+pc),xA.BOTTOM_LEFT):new Gn(x.left+Si+RA,x.top+x.height-(Gr+pc))}}(),xA=function(_){return _[_.TOP_LEFT=0]="TOP_LEFT",_[_.TOP_RIGHT=1]="TOP_RIGHT",_[_.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",_[_.BOTTOM_LEFT=3]="BOTTOM_LEFT",_}(xA||{}),ls=function(_,Q,N,x,q){var ne=(Math.sqrt(2)-1)/3*4,ae=N*ne,Fe=x*ne,xe=_+N,Ze=Q+x;switch(q){case xA.TOP_LEFT:return new rI(new Gn(_,Ze),new Gn(_,Ze-Fe),new Gn(xe-ae,Q),new Gn(xe,Q));case xA.TOP_RIGHT:return new rI(new Gn(_,Q),new Gn(_+ae,Q),new Gn(xe,Ze-Fe),new Gn(xe,Ze));case xA.BOTTOM_RIGHT:return new rI(new Gn(xe,Q),new Gn(xe,Q+Fe),new Gn(_+ae,Ze),new Gn(_,Ze));default:return new rI(new Gn(xe,Ze),new Gn(xe-ae,Ze),new Gn(_,Q+Fe),new Gn(_,Q))}},AI=function(_){return[_.topLeftBorderBox,_.topRightBorderBox,_.bottomRightBorderBox,_.bottomLeftBorderBox]},sI=function(_){return[_.topLeftPaddingBox,_.topRightPaddingBox,_.bottomRightPaddingBox,_.bottomLeftPaddingBox]},Zk=function(){return function _(Q,N,x){this.offsetX=Q,this.offsetY=N,this.matrix=x,this.type=0,this.target=6}}(),ld=function(){return function _(Q,N){this.path=Q,this.target=N,this.type=1}}(),ud=function(){return function _(Q){this.opacity=Q,this.type=2,this.target=6}}(),lw=function(_){return 1===_.type},gd=function(_,Q){return _.length===Q.length&&_.some(function(N,x){return N===Q[x]})},so=function(){return function _(Q){this.element=Q,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),BS=function(){function _(Q,N){if(this.container=Q,this.parent=N,this.effects=[],this.curves=new cw(this.container),this.container.styles.opacity<1&&this.effects.push(new ud(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new Zk(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var ae=AI(this.curves),Fe=sI(this.curves);gd(ae,Fe)?this.effects.push(new ld(ae,6)):(this.effects.push(new ld(ae,2)),this.effects.push(new ld(Fe,4)))}}return _.prototype.getEffects=function(Q){for(var N=-1===[2,3].indexOf(this.container.styles.position),x=this.parent,q=this.effects.slice(0);x;){var ne=x.effects.filter(function(xe){return!lw(xe)});if(N||0!==x.container.styles.position||!x.parent){if(q.unshift.apply(q,ne),N=-1===[2,3].indexOf(x.container.styles.position),0!==x.container.styles.overflowX){var ae=AI(x.curves),Fe=sI(x.curves);gd(ae,Fe)||q.unshift(new ld(Fe,6))}}else q.unshift.apply(q,ne);x=x.parent}return q.filter(function(xe){return MA(xe.target,Q)})},_}(),FA=function(_,Q,N,x){_.container.elements.forEach(function(q){var ne=MA(q.flags,4),ae=MA(q.flags,2),Fe=new BS(q,_);MA(q.styles.display,2048)&&x.push(Fe);var xe=MA(q.flags,8)?[]:x;if(ne||ae){var Ze=ne||q.styles.isPositioned()?N:Q,ot=new so(Fe);if(q.styles.isPositioned()||q.styles.opacity<1||q.styles.isTransformed()){var pt=q.styles.zIndex.order;if(pt<0){var Ut=0;Ze.negativeZIndex.some(function(vn,Un){return pt>vn.element.container.styles.zIndex.order?(Ut=Un,!1):Ut>0}),Ze.negativeZIndex.splice(Ut,0,ot)}else if(pt>0){var Yn=0;Ze.positiveZIndex.some(function(vn,Un){return pt>=vn.element.container.styles.zIndex.order?(Yn=Un+1,!1):Yn>0}),Ze.positiveZIndex.splice(Yn,0,ot)}else Ze.zeroOrAutoZIndexOrTransformedOrOpacity.push(ot)}else q.styles.isFloating()?Ze.nonPositionedFloats.push(ot):Ze.nonPositionedInlineLevel.push(ot);FA(Fe,ot,ne?ot:N,xe)}else q.styles.isInlineLevel()?Q.inlineLevel.push(Fe):Q.nonInlineLevel.push(Fe),FA(Fe,Q,N,xe);MA(q.flags,8)&&NE(q,xe)})},NE=function(_,Q){for(var N=_ instanceof yE?_.start:1,x=_ instanceof yE&&_.reversed,q=0;q<Q.length;q++){var ne=Q[q];ne.container instanceof wi&&"number"==typeof ne.container.value&&0!==ne.container.value&&(N=ne.container.value),ne.listValue=dc(N,ne.container.styles.listStyleType,!0),N+=x?-1:1}},uw=function(_,Q){switch(Q){case 0:return qa(_.topLeftBorderBox,_.topLeftPaddingBox,_.topRightBorderBox,_.topRightPaddingBox);case 1:return qa(_.topRightBorderBox,_.topRightPaddingBox,_.bottomRightBorderBox,_.bottomRightPaddingBox);case 2:return qa(_.bottomRightBorderBox,_.bottomRightPaddingBox,_.bottomLeftBorderBox,_.bottomLeftPaddingBox);default:return qa(_.bottomLeftBorderBox,_.bottomLeftPaddingBox,_.topLeftBorderBox,_.topLeftPaddingBox)}},Vp=function(_,Q){var N=[];return Ka(_)?N.push(_.subdivide(.5,!1)):N.push(_),Ka(Q)?N.push(Q.subdivide(.5,!0)):N.push(Q),N},qa=function(_,Q,N,x){var q=[];return Ka(_)?q.push(_.subdivide(.5,!1)):q.push(_),Ka(N)?q.push(N.subdivide(.5,!0)):q.push(N),Ka(x)?q.push(x.subdivide(.5,!0).reverse()):q.push(x),Ka(Q)?q.push(Q.subdivide(.5,!1).reverse()):q.push(Q),q},gw=function(_){var N=_.styles;return _.bounds.add(N.borderLeftWidth,N.borderTopWidth,-(N.borderRightWidth+N.borderLeftWidth),-(N.borderTopWidth+N.borderBottomWidth))},xE=function(_){var Q=_.styles,N=_.bounds,x=wA(Q.paddingLeft,N.width),q=wA(Q.paddingRight,N.width),ne=wA(Q.paddingTop,N.width),ae=wA(Q.paddingBottom,N.width);return N.add(x+Q.borderLeftWidth,ne+Q.borderTopWidth,-(Q.borderRightWidth+Q.borderLeftWidth+x+q),-(Q.borderTopWidth+Q.borderBottomWidth+ne+ae))},FE=function(_,Q,N){var x=function(_,Q){return 0===_?Q.bounds:2===_?xE(Q):gw(Q)}(Wp(_.styles.backgroundOrigin,Q),_),q=function(_,Q){return 0===_?Q.bounds:2===_?xE(Q):gw(Q)}(Wp(_.styles.backgroundClip,Q),_),ne=iL(Wp(_.styles.backgroundSize,Q),N,x),ae=ne[0],Fe=ne[1],xe=Xf(Wp(_.styles.backgroundPosition,Q),x.width-ae,x.height-Fe);return[FK(Wp(_.styles.backgroundRepeat,Q),xe,ne,x,q),Math.round(x.left+xe[0]),Math.round(x.top+xe[1]),ae,Fe]},zp=function(_){return dA(_)&&_.value===Fp.AUTO},oI=function(_){return"number"==typeof _},iL=function(_,Q,N){var x=Q[0],q=Q[1],ne=Q[2],ae=_[0],Fe=_[1];if(!ae)return[0,0];if(no(ae)&&Fe&&no(Fe))return[wA(ae,N.width),wA(Fe,N.height)];var xe=oI(ne);if(dA(ae)&&(ae.value===Fp.CONTAIN||ae.value===Fp.COVER))return oI(ne)?N.width/N.height<ne!=(ae.value===Fp.COVER)?[N.width,N.width/ne]:[N.height*ne,N.height]:[N.width,N.height];var ot=oI(x),pt=oI(q),Ut=ot||pt;if(zp(ae)&&(!Fe||zp(Fe)))return ot&&pt?[x,q]:xe||Ut?Ut&&xe?[ot?x:q*ne,pt?q:x/ne]:[ot?x:N.width,pt?q:N.height]:[N.width,N.height];if(xe){var si=0,ti=0;return no(ae)?si=wA(ae,N.width):no(Fe)&&(ti=wA(Fe,N.height)),zp(ae)?si=ti*ne:(!Fe||zp(Fe))&&(ti=si/ne),[si,ti]}var Xr=null,fr=null;if(no(ae)?Xr=wA(ae,N.width):Fe&&no(Fe)&&(fr=wA(Fe,N.height)),null!==Xr&&(!Fe||zp(Fe))&&(fr=ot&&pt?Xr/x*q:N.height),null!==fr&&zp(ae)&&(Xr=ot&&pt?fr/q*x:N.width),null!==Xr&&null!==fr)return[Xr,fr];throw new Error("Unable to calculate background-size for element")},Wp=function(_,Q){var N=_[Q];return typeof N>"u"?_[0]:N},FK=function(_,Q,N,x,q){var ne=Q[0],ae=Q[1],Fe=N[0],xe=N[1];switch(_){case 2:return[new Gn(Math.round(x.left),Math.round(x.top+ae)),new Gn(Math.round(x.left+x.width),Math.round(x.top+ae)),new Gn(Math.round(x.left+x.width),Math.round(xe+x.top+ae)),new Gn(Math.round(x.left),Math.round(xe+x.top+ae))];case 3:return[new Gn(Math.round(x.left+ne),Math.round(x.top)),new Gn(Math.round(x.left+ne+Fe),Math.round(x.top)),new Gn(Math.round(x.left+ne+Fe),Math.round(x.height+x.top)),new Gn(Math.round(x.left+ne),Math.round(x.height+x.top))];case 1:return[new Gn(Math.round(x.left+ne),Math.round(x.top+ae)),new Gn(Math.round(x.left+ne+Fe),Math.round(x.top+ae)),new Gn(Math.round(x.left+ne+Fe),Math.round(x.top+ae+xe)),new Gn(Math.round(x.left+ne),Math.round(x.top+ae+xe))];default:return[new Gn(Math.round(q.left),Math.round(q.top)),new Gn(Math.round(q.left+q.width),Math.round(q.top)),new Gn(Math.round(q.left+q.width),Math.round(q.height+q.top)),new Gn(Math.round(q.left),Math.round(q.height+q.top))]}},hw="Hidden Text",ks=function(){function _(Q){this._data={},this._document=Q}return _.prototype.parseMetrics=function(Q,N){var x=this._document.createElement("div"),q=this._document.createElement("img"),ne=this._document.createElement("span"),ae=this._document.body;x.style.visibility="hidden",x.style.fontFamily=Q,x.style.fontSize=N,x.style.margin="0",x.style.padding="0",x.style.whiteSpace="nowrap",ae.appendChild(x),q.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",q.width=1,q.height=1,q.style.margin="0",q.style.padding="0",q.style.verticalAlign="baseline",ne.style.fontFamily=Q,ne.style.fontSize=N,ne.style.margin="0",ne.style.padding="0",ne.appendChild(this._document.createTextNode(hw)),x.appendChild(ne),x.appendChild(q);var Fe=q.offsetTop-ne.offsetTop+2;x.removeChild(ne),x.appendChild(this._document.createTextNode(hw)),x.style.lineHeight="normal",q.style.verticalAlign="super";var xe=q.offsetTop-x.offsetTop+2;return ae.removeChild(x),{baseline:Fe,middle:xe}},_.prototype.getMetrics=function(Q,N){var x=Q+" "+N;return typeof this._data[x]>"u"&&(this._data[x]=this.parseMetrics(Q,N)),this._data[x]},_}(),rL=function(){return function _(Q,N){this.context=Q,this.options=N}}(),RK=function(_){function Q(N,x){var q=_.call(this,N,x)||this;return q._activeEffects=[],q.canvas=x.canvas?x.canvas:document.createElement("canvas"),q.ctx=q.canvas.getContext("2d"),x.canvas||(q.canvas.width=Math.floor(x.width*x.scale),q.canvas.height=Math.floor(x.height*x.scale),q.canvas.style.width=x.width+"px",q.canvas.style.height=x.height+"px"),q.fontMetrics=new ks(document),q.ctx.scale(q.options.scale,q.options.scale),q.ctx.translate(-x.x,-x.y),q.ctx.textBaseline="bottom",q._activeEffects=[],q.context.logger.debug("Canvas renderer initialized ("+x.width+"x"+x.height+") with scale "+x.scale),q}return De(Q,_),Q.prototype.applyEffects=function(N){for(var x=this;this._activeEffects.length;)this.popEffect();N.forEach(function(q){return x.applyEffect(q)})},Q.prototype.applyEffect=function(N){this.ctx.save(),function(_){return 2===_.type}(N)&&(this.ctx.globalAlpha=N.opacity),function(_){return 0===_.type}(N)&&(this.ctx.translate(N.offsetX,N.offsetY),this.ctx.transform(N.matrix[0],N.matrix[1],N.matrix[2],N.matrix[3],N.matrix[4],N.matrix[5]),this.ctx.translate(-N.offsetX,-N.offsetY)),lw(N)&&(this.path(N.path),this.ctx.clip()),this._activeEffects.push(N)},Q.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},Q.prototype.renderStack=function(N){return St(this,void 0,void 0,function(){return He(this,function(q){switch(q.label){case 0:return N.element.container.styles.isVisible()?[4,this.renderStackContent(N)]:[3,2];case 1:q.sent(),q.label=2;case 2:return[2]}})})},Q.prototype.renderNode=function(N){return St(this,void 0,void 0,function(){return He(this,function(x){switch(x.label){case 0:return MA(N.container.flags,16),N.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(N)]:[3,3];case 1:return x.sent(),[4,this.renderNodeContent(N)];case 2:x.sent(),x.label=3;case 3:return[2]}})})},Q.prototype.renderTextWithLetterSpacing=function(N,x,q){var ne=this;0===x?this.ctx.fillText(N.text,N.bounds.left,N.bounds.top+q):JC(N.text).reduce(function(Fe,xe){return ne.ctx.fillText(xe,Fe,N.bounds.top+q),Fe+ne.ctx.measureText(xe).width},N.bounds.left)},Q.prototype.createFontStyle=function(N){var x=N.fontVariant.filter(function(ae){return"normal"===ae||"small-caps"===ae}).join(""),q=AL(N.fontFamily).join(", "),ne=Jg(N.fontSize)?""+N.fontSize.number+N.fontSize.unit:N.fontSize.number+"px";return[[N.fontStyle,x,N.fontWeight,ne,q].join(" "),q,ne]},Q.prototype.renderTextNode=function(N,x){return St(this,void 0,void 0,function(){var q,ae,Fe,xe,Ze,ot,pt,Ut=this;return He(this,function(Yn){return q=this.createFontStyle(x),ae=q[1],Fe=q[2],this.ctx.font=q[0],this.ctx.direction=1===x.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",xe=this.fontMetrics.getMetrics(ae,Fe),Ze=xe.baseline,ot=xe.middle,pt=x.paintOrder,N.textBounds.forEach(function(vn){pt.forEach(function(Un){switch(Un){case 0:Ut.ctx.fillStyle=pA(x.color),Ut.renderTextWithLetterSpacing(vn,x.letterSpacing,Ze);var ur=x.textShadow;ur.length&&vn.text.trim().length&&(ur.slice(0).reverse().forEach(function(si){Ut.ctx.shadowColor=pA(si.color),Ut.ctx.shadowOffsetX=si.offsetX.number*Ut.options.scale,Ut.ctx.shadowOffsetY=si.offsetY.number*Ut.options.scale,Ut.ctx.shadowBlur=si.blur.number,Ut.renderTextWithLetterSpacing(vn,x.letterSpacing,Ze)}),Ut.ctx.shadowColor="",Ut.ctx.shadowOffsetX=0,Ut.ctx.shadowOffsetY=0,Ut.ctx.shadowBlur=0),x.textDecorationLine.length&&(Ut.ctx.fillStyle=pA(x.textDecorationColor||x.color),x.textDecorationLine.forEach(function(si){switch(si){case 1:Ut.ctx.fillRect(vn.bounds.left,Math.round(vn.bounds.top+Ze),vn.bounds.width,1);break;case 2:Ut.ctx.fillRect(vn.bounds.left,Math.round(vn.bounds.top),vn.bounds.width,1);break;case 3:Ut.ctx.fillRect(vn.bounds.left,Math.ceil(vn.bounds.top+ot),vn.bounds.width,1)}}));break;case 1:x.webkitTextStrokeWidth&&vn.text.trim().length&&(Ut.ctx.strokeStyle=pA(x.webkitTextStrokeColor),Ut.ctx.lineWidth=x.webkitTextStrokeWidth,Ut.ctx.lineJoin=window.chrome?"miter":"round",Ut.ctx.strokeText(vn.text,vn.bounds.left,vn.bounds.top+Ze)),Ut.ctx.strokeStyle="",Ut.ctx.lineWidth=0,Ut.ctx.lineJoin="miter"}})}),[2]})})},Q.prototype.renderReplacedElement=function(N,x,q){if(q&&N.intrinsicWidth>0&&N.intrinsicHeight>0){var ne=xE(N),ae=sI(x);this.path(ae),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(q,0,0,N.intrinsicWidth,N.intrinsicHeight,ne.left,ne.top,ne.width,ne.height),this.ctx.restore()}},Q.prototype.renderNodeContent=function(N){return St(this,void 0,void 0,function(){var x,q,ne,ae,Fe,ot,pt,Ut,vn,Un,ur,si,ti,Xr,fr,xi;return He(this,function(bn){switch(bn.label){case 0:this.applyEffects(N.getEffects(4)),q=N.curves,ne=(x=N.container).styles,ae=0,Fe=x.textNodes,bn.label=1;case 1:return ae<Fe.length?[4,this.renderTextNode(Fe[ae],ne)]:[3,4];case 2:bn.sent(),bn.label=3;case 3:return ae++,[3,1];case 4:if(!(x instanceof zC))return[3,8];bn.label=5;case 5:return bn.trys.push([5,7,,8]),[4,this.context.cache.match(x.src)];case 6:return ti=bn.sent(),this.renderReplacedElement(x,q,ti),[3,8];case 7:return bn.sent(),this.context.logger.error("Error loading image "+x.src),[3,8];case 8:if(x instanceof vE&&this.renderReplacedElement(x,q,x.canvas),!(x instanceof Xh))return[3,12];bn.label=9;case 9:return bn.trys.push([9,11,,12]),[4,this.context.cache.match(x.svg)];case 10:return ti=bn.sent(),this.renderReplacedElement(x,q,ti),[3,12];case 11:return bn.sent(),this.context.logger.error("Error loading svg "+x.svg.substring(0,255)),[3,12];case 12:return x instanceof Lt&&x.tree?[4,new Q(this.context,{scale:this.options.scale,backgroundColor:x.backgroundColor,x:0,y:0,width:x.width,height:x.height}).render(x.tree)]:[3,14];case 13:ot=bn.sent(),x.width&&x.height&&this.ctx.drawImage(ot,0,0,x.width,x.height,x.bounds.left,x.bounds.top,x.bounds.width,x.bounds.height),bn.label=14;case 14:if(x instanceof XQ&&(pt=Math.min(x.bounds.width,x.bounds.height),x.type===WC?x.checked&&(this.ctx.save(),this.path([new Gn(x.bounds.left+.39363*pt,x.bounds.top+.79*pt),new Gn(x.bounds.left+.16*pt,x.bounds.top+.5549*pt),new Gn(x.bounds.left+.27347*pt,x.bounds.top+.44071*pt),new Gn(x.bounds.left+.39694*pt,x.bounds.top+.5649*pt),new Gn(x.bounds.left+.72983*pt,x.bounds.top+.23*pt),new Gn(x.bounds.left+.84*pt,x.bounds.top+.34085*pt),new Gn(x.bounds.left+.39363*pt,x.bounds.top+.79*pt)]),this.ctx.fillStyle=pA($b),this.ctx.fill(),this.ctx.restore()):x.type===jg&&x.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(x.bounds.left+pt/2,x.bounds.top+pt/2,pt/4,0,2*Math.PI,!0),this.ctx.fillStyle=pA($b),this.ctx.fill(),this.ctx.restore())),fw(x)&&x.value.length){switch(Ut=this.createFontStyle(ne),vn=this.fontMetrics.getMetrics(fr=Ut[0],Ut[1]).baseline,this.ctx.font=fr,this.ctx.fillStyle=pA(ne.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=QS(x.styles.textAlign),xi=xE(x),Un=0,x.styles.textAlign){case 1:Un+=xi.width/2;break;case 2:Un+=xi.width}ur=xi.add(Un,0,0,-xi.height/2+1),this.ctx.save(),this.path([new Gn(xi.left,xi.top),new Gn(xi.left+xi.width,xi.top),new Gn(xi.left+xi.width,xi.top+xi.height),new Gn(xi.left,xi.top+xi.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Wg(x.value,ur),ne.letterSpacing,vn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!MA(x.styles.display,2048))return[3,20];if(null===x.styles.listStyleImage)return[3,19];if(0!==(si=x.styles.listStyleImage).type)return[3,18];ti=void 0,Xr=si.url,bn.label=15;case 15:return bn.trys.push([15,17,,18]),[4,this.context.cache.match(Xr)];case 16:return ti=bn.sent(),this.ctx.drawImage(ti,x.bounds.left-(ti.width+10),x.bounds.top),[3,18];case 17:return bn.sent(),this.context.logger.error("Error loading list-style-image "+Xr),[3,18];case 18:return[3,20];case 19:N.listValue&&-1!==x.styles.listStyleType&&(fr=this.createFontStyle(ne)[0],this.ctx.font=fr,this.ctx.fillStyle=pA(ne.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",xi=new _t(x.bounds.left,x.bounds.top+wA(x.styles.paddingTop,x.bounds.width),x.bounds.width,jh(ne.lineHeight,ne.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Wg(N.listValue,xi),ne.letterSpacing,jh(ne.lineHeight,ne.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),bn.label=20;case 20:return[2]}})})},Q.prototype.renderStackContent=function(N){return St(this,void 0,void 0,function(){var x,q,ne,ae,Fe,xe,Ze,ot,pt,Ut,Yn,vn,Un,ur;return He(this,function(ti){switch(ti.label){case 0:return MA(N.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(N.element)];case 1:ti.sent(),x=0,q=N.negativeZIndex,ti.label=2;case 2:return x<q.length?[4,this.renderStack(q[x])]:[3,5];case 3:ti.sent(),ti.label=4;case 4:return x++,[3,2];case 5:return[4,this.renderNodeContent(N.element)];case 6:ti.sent(),ne=0,ae=N.nonInlineLevel,ti.label=7;case 7:return ne<ae.length?[4,this.renderNode(ae[ne])]:[3,10];case 8:ti.sent(),ti.label=9;case 9:return ne++,[3,7];case 10:Fe=0,xe=N.nonPositionedFloats,ti.label=11;case 11:return Fe<xe.length?[4,this.renderStack(xe[Fe])]:[3,14];case 12:ti.sent(),ti.label=13;case 13:return Fe++,[3,11];case 14:Ze=0,ot=N.nonPositionedInlineLevel,ti.label=15;case 15:return Ze<ot.length?[4,this.renderStack(ot[Ze])]:[3,18];case 16:ti.sent(),ti.label=17;case 17:return Ze++,[3,15];case 18:pt=0,Ut=N.inlineLevel,ti.label=19;case 19:return pt<Ut.length?[4,this.renderNode(Ut[pt])]:[3,22];case 20:ti.sent(),ti.label=21;case 21:return pt++,[3,19];case 22:Yn=0,vn=N.zeroOrAutoZIndexOrTransformedOrOpacity,ti.label=23;case 23:return Yn<vn.length?[4,this.renderStack(vn[Yn])]:[3,26];case 24:ti.sent(),ti.label=25;case 25:return Yn++,[3,23];case 26:Un=0,ur=N.positiveZIndex,ti.label=27;case 27:return Un<ur.length?[4,this.renderStack(ur[Un])]:[3,30];case 28:ti.sent(),ti.label=29;case 29:return Un++,[3,27];case 30:return[2]}})})},Q.prototype.mask=function(N){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(N.slice(0).reverse()),this.ctx.closePath()},Q.prototype.path=function(N){this.ctx.beginPath(),this.formatPath(N),this.ctx.closePath()},Q.prototype.formatPath=function(N){var x=this;N.forEach(function(q,ne){var ae=Ka(q)?q.start:q;0===ne?x.ctx.moveTo(ae.x,ae.y):x.ctx.lineTo(ae.x,ae.y),Ka(q)&&x.ctx.bezierCurveTo(q.startControl.x,q.startControl.y,q.endControl.x,q.endControl.y,q.end.x,q.end.y)})},Q.prototype.renderRepeat=function(N,x,q,ne){this.path(N),this.ctx.fillStyle=x,this.ctx.translate(q,ne),this.ctx.fill(),this.ctx.translate(-q,-ne)},Q.prototype.resizeImage=function(N,x,q){var ne;if(N.width===x&&N.height===q)return N;var Fe=(null!==(ne=this.canvas.ownerDocument)&&void 0!==ne?ne:document).createElement("canvas");return Fe.width=Math.max(1,x),Fe.height=Math.max(1,q),Fe.getContext("2d").drawImage(N,0,0,N.width,N.height,0,0,x,q),Fe},Q.prototype.renderBackgroundImage=function(N){return St(this,void 0,void 0,function(){var x,q,ne,ae,Fe;return He(this,function(Ze){switch(Ze.label){case 0:x=N.styles.backgroundImage.length-1,q=function(ot){var pt,Ut,Yn,vn,Un,ur,si,ti,Xr,fr,xi,bn,kr,Gr,Si,Pr,ko,pc,RA,na,eh,mc,Ja,hd,pu,rf,fd,dd,th,Af,ng;return He(this,function(pd){switch(pd.label){case 0:if(0!==ot.type)return[3,5];pt=void 0,Ut=ot.url,pd.label=1;case 1:return pd.trys.push([1,3,,4]),[4,ne.context.cache.match(Ut)];case 2:return pt=pd.sent(),[3,4];case 3:return pd.sent(),ne.context.logger.error("Error loading background-image "+Ut),[3,4];case 4:return pt&&(Yn=FE(N,x,[pt.width,pt.height,pt.width/pt.height]),Pr=Yn[0],mc=Yn[1],Ja=Yn[2],Gr=ne.ctx.createPattern(ne.resizeImage(pt,RA=Yn[3],na=Yn[4]),"repeat"),ne.renderRepeat(Pr,Gr,mc,Ja)),[3,6];case 5:!function(_){return 1===_.type}(ot)?function(_){return 2===_.type}(ot)&&(Si=FE(N,x,[null,null,null]),Pr=Si[0],ko=Si[1],pc=Si[2],na=Si[4],mc=wA((eh=0===ot.position.length?[ze]:ot.position)[0],RA=Si[3]),Ja=wA(eh[eh.length-1],na),hd=function(_,Q,N,x,q){var ne=0,ae=0;switch(_.size){case 0:0===_.shape?ne=ae=Math.min(Math.abs(Q),Math.abs(Q-x),Math.abs(N),Math.abs(N-q)):1===_.shape&&(ne=Math.min(Math.abs(Q),Math.abs(Q-x)),ae=Math.min(Math.abs(N),Math.abs(N-q)));break;case 2:if(0===_.shape)ne=ae=Math.min(Wi(Q,N),Wi(Q,N-q),Wi(Q-x,N),Wi(Q-x,N-q));else if(1===_.shape){var Fe=Math.min(Math.abs(N),Math.abs(N-q))/Math.min(Math.abs(Q),Math.abs(Q-x)),xe=zg(x,q,Q,N,!0);ae=Fe*(ne=Wi(xe[0]-Q,(xe[1]-N)/Fe))}break;case 1:0===_.shape?ne=ae=Math.max(Math.abs(Q),Math.abs(Q-x),Math.abs(N),Math.abs(N-q)):1===_.shape&&(ne=Math.max(Math.abs(Q),Math.abs(Q-x)),ae=Math.max(Math.abs(N),Math.abs(N-q)));break;case 3:if(0===_.shape)ne=ae=Math.max(Wi(Q,N),Wi(Q,N-q),Wi(Q-x,N),Wi(Q-x,N-q));else if(1===_.shape){Fe=Math.max(Math.abs(N),Math.abs(N-q))/Math.max(Math.abs(Q),Math.abs(Q-x));var pt=zg(x,q,Q,N,!1);ae=Fe*(ne=Wi(pt[0]-Q,(pt[1]-N)/Fe))}}return Array.isArray(_.size)&&(ne=wA(_.size[0],x),ae=2===_.size.length?wA(_.size[1],q):ne),[ne,ae]}(ot,mc,Ja,RA,na),rf=hd[1],(pu=hd[0])>0&&rf>0&&(fd=ne.ctx.createRadialGradient(ko+mc,pc+Ja,0,ko+mc,pc+Ja,pu),XT(ot.stops,2*pu).forEach(function(sf){return fd.addColorStop(sf.stop,pA(sf.color))}),ne.path(Pr),ne.ctx.fillStyle=fd,pu!==rf?(dd=N.bounds.left+.5*N.bounds.width,th=N.bounds.top+.5*N.bounds.height,ng=1/(Af=rf/pu),ne.ctx.save(),ne.ctx.translate(dd,th),ne.ctx.transform(1,0,0,Af,0,0),ne.ctx.translate(-dd,-th),ne.ctx.fillRect(ko,ng*(pc-th)+th,RA,na*ng),ne.ctx.restore()):ne.ctx.fill())):(vn=FE(N,x,[null,null,null]),Pr=vn[0],mc=vn[1],Ja=vn[2],Un=zu(ot.angle,RA=vn[3],na=vn[4]),ur=Un[0],si=Un[1],ti=Un[2],Xr=Un[3],fr=Un[4],(xi=document.createElement("canvas")).width=RA,xi.height=na,bn=xi.getContext("2d"),kr=bn.createLinearGradient(si,Xr,ti,fr),XT(ot.stops,ur).forEach(function(sf){return kr.addColorStop(sf.stop,pA(sf.color))}),bn.fillStyle=kr,bn.fillRect(0,0,RA,na),RA>0&&na>0&&(Gr=ne.ctx.createPattern(xi,"repeat"),ne.renderRepeat(Pr,Gr,mc,Ja))),pd.label=6;case 6:return x--,[2]}})},ne=this,ae=0,Fe=N.styles.backgroundImage.slice(0).reverse(),Ze.label=1;case 1:return ae<Fe.length?[5,q(Fe[ae])]:[3,4];case 2:Ze.sent(),Ze.label=3;case 3:return ae++,[3,1];case 4:return[2]}})})},Q.prototype.renderSolidBorder=function(N,x,q){return St(this,void 0,void 0,function(){return He(this,function(ne){return this.path(uw(q,x)),this.ctx.fillStyle=pA(N),this.ctx.fill(),[2]})})},Q.prototype.renderDoubleBorder=function(N,x,q,ne){return St(this,void 0,void 0,function(){var ae,Fe;return He(this,function(xe){switch(xe.label){case 0:return x<3?[4,this.renderSolidBorder(N,q,ne)]:[3,2];case 1:return xe.sent(),[2];case 2:return ae=function(_,Q){switch(Q){case 0:return qa(_.topLeftBorderBox,_.topLeftBorderDoubleOuterBox,_.topRightBorderBox,_.topRightBorderDoubleOuterBox);case 1:return qa(_.topRightBorderBox,_.topRightBorderDoubleOuterBox,_.bottomRightBorderBox,_.bottomRightBorderDoubleOuterBox);case 2:return qa(_.bottomRightBorderBox,_.bottomRightBorderDoubleOuterBox,_.bottomLeftBorderBox,_.bottomLeftBorderDoubleOuterBox);default:return qa(_.bottomLeftBorderBox,_.bottomLeftBorderDoubleOuterBox,_.topLeftBorderBox,_.topLeftBorderDoubleOuterBox)}}(ne,q),this.path(ae),this.ctx.fillStyle=pA(N),this.ctx.fill(),Fe=function(_,Q){switch(Q){case 0:return qa(_.topLeftBorderDoubleInnerBox,_.topLeftPaddingBox,_.topRightBorderDoubleInnerBox,_.topRightPaddingBox);case 1:return qa(_.topRightBorderDoubleInnerBox,_.topRightPaddingBox,_.bottomRightBorderDoubleInnerBox,_.bottomRightPaddingBox);case 2:return qa(_.bottomRightBorderDoubleInnerBox,_.bottomRightPaddingBox,_.bottomLeftBorderDoubleInnerBox,_.bottomLeftPaddingBox);default:return qa(_.bottomLeftBorderDoubleInnerBox,_.bottomLeftPaddingBox,_.topLeftBorderDoubleInnerBox,_.topLeftPaddingBox)}}(ne,q),this.path(Fe),this.ctx.fill(),[2]}})})},Q.prototype.renderNodeBackgroundAndBorders=function(N){return St(this,void 0,void 0,function(){var x,q,ne,ae,Fe,xe,Ze,ot,pt=this;return He(this,function(Ut){switch(Ut.label){case 0:return this.applyEffects(N.getEffects(2)),q=!Vh((x=N.container.styles).backgroundColor)||x.backgroundImage.length,ne=[{style:x.borderTopStyle,color:x.borderTopColor,width:x.borderTopWidth},{style:x.borderRightStyle,color:x.borderRightColor,width:x.borderRightWidth},{style:x.borderBottomStyle,color:x.borderBottomColor,width:x.borderBottomWidth},{style:x.borderLeftStyle,color:x.borderLeftColor,width:x.borderLeftWidth}],ae=du(Wp(x.backgroundClip,0),N.curves),q||x.boxShadow.length?(this.ctx.save(),this.path(ae),this.ctx.clip(),Vh(x.backgroundColor)||(this.ctx.fillStyle=pA(x.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(N.container)]):[3,2];case 1:Ut.sent(),this.ctx.restore(),x.boxShadow.slice(0).reverse().forEach(function(Yn){pt.ctx.save();var vn=AI(N.curves),Un=Yn.inset?0:1e4,ur=function(_,Q,N,x,q){return _.map(function(ne,ae){switch(ae){case 0:return ne.add(Q,N);case 1:return ne.add(Q+x,N);case 2:return ne.add(Q+x,N+q);case 3:return ne.add(Q,N+q)}return ne})}(vn,(Yn.inset?1:-1)*Yn.spread.number-Un,(Yn.inset?1:-1)*Yn.spread.number,Yn.spread.number*(Yn.inset?-2:2),Yn.spread.number*(Yn.inset?-2:2));Yn.inset?(pt.path(vn),pt.ctx.clip(),pt.mask(ur)):(pt.mask(vn),pt.ctx.clip(),pt.path(ur)),pt.ctx.shadowOffsetX=Yn.offsetX.number+Un,pt.ctx.shadowOffsetY=Yn.offsetY.number,pt.ctx.shadowColor=pA(Yn.color),pt.ctx.shadowBlur=Yn.blur.number,pt.ctx.fillStyle=Yn.inset?pA(Yn.color):"rgba(0,0,0,1)",pt.ctx.fill(),pt.ctx.restore()}),Ut.label=2;case 2:Fe=0,xe=0,Ze=ne,Ut.label=3;case 3:return xe<Ze.length?0!==(ot=Ze[xe]).style&&!Vh(ot.color)&&ot.width>0?2!==ot.style?[3,5]:[4,this.renderDashedDottedBorder(ot.color,ot.width,Fe,N.curves,2)]:[3,11]:[3,13];case 4:return Ut.sent(),[3,11];case 5:return 3!==ot.style?[3,7]:[4,this.renderDashedDottedBorder(ot.color,ot.width,Fe,N.curves,3)];case 6:return Ut.sent(),[3,11];case 7:return 4!==ot.style?[3,9]:[4,this.renderDoubleBorder(ot.color,ot.width,Fe,N.curves)];case 8:return Ut.sent(),[3,11];case 9:return[4,this.renderSolidBorder(ot.color,Fe,N.curves)];case 10:Ut.sent(),Ut.label=11;case 11:Fe++,Ut.label=12;case 12:return xe++,[3,3];case 13:return[2]}})})},Q.prototype.renderDashedDottedBorder=function(N,x,q,ne,ae){return St(this,void 0,void 0,function(){var Fe,xe,Ze,ot,pt,Ut,Yn,vn,Un,ur,si,ti,Xr,fr,xi,bn;return He(this,function(kr){return this.ctx.save(),Fe=function(_,Q){switch(Q){case 0:return Vp(_.topLeftBorderStroke,_.topRightBorderStroke);case 1:return Vp(_.topRightBorderStroke,_.bottomRightBorderStroke);case 2:return Vp(_.bottomRightBorderStroke,_.bottomLeftBorderStroke);default:return Vp(_.bottomLeftBorderStroke,_.topLeftBorderStroke)}}(ne,q),xe=uw(ne,q),2===ae&&(this.path(xe),this.ctx.clip()),Ka(xe[0])?(Ze=xe[0].start.x,ot=xe[0].start.y):(Ze=xe[0].x,ot=xe[0].y),Ka(xe[1])?(pt=xe[1].end.x,Ut=xe[1].end.y):(pt=xe[1].x,Ut=xe[1].y),Yn=0===q||2===q?Math.abs(Ze-pt):Math.abs(ot-Ut),this.ctx.beginPath(),this.formatPath(3===ae?Fe:xe.slice(0,2)),vn=x<3?3*x:2*x,Un=x<3?2*x:x,3===ae&&(vn=x,Un=x),ur=!0,Yn<=2*vn?ur=!1:Yn<=2*vn+Un?(vn*=si=Yn/(2*vn+Un),Un*=si):(ti=Math.floor((Yn+Un)/(vn+Un)),Xr=(Yn-ti*vn)/(ti-1),Un=(fr=(Yn-(ti+1)*vn)/ti)<=0||Math.abs(Un-Xr)<Math.abs(Un-fr)?Xr:fr),ur&&this.ctx.setLineDash(3===ae?[0,vn+Un]:[vn,Un]),3===ae?(this.ctx.lineCap="round",this.ctx.lineWidth=x):this.ctx.lineWidth=2*x+1.1,this.ctx.strokeStyle=pA(N),this.ctx.stroke(),this.ctx.setLineDash([]),2===ae&&(Ka(xe[0])&&(xi=xe[3],bn=xe[0],this.ctx.beginPath(),this.formatPath([new Gn(xi.end.x,xi.end.y),new Gn(bn.start.x,bn.start.y)]),this.ctx.stroke()),Ka(xe[1])&&(xi=xe[1],bn=xe[2],this.ctx.beginPath(),this.formatPath([new Gn(xi.end.x,xi.end.y),new Gn(bn.start.x,bn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},Q.prototype.render=function(N){return St(this,void 0,void 0,function(){var x;return He(this,function(q){switch(q.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pA(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),x=function(_){var Q=new BS(_,null),N=new so(Q),x=[];return FA(Q,N,N,x),NE(Q.container,x),N}(N),[4,this.renderStack(x)];case 1:return q.sent(),this.applyEffects([]),[2,this.canvas]}})})},Q}(rL),fw=function(_){return _ instanceof tS||_ instanceof eS||_ instanceof XQ&&_.type!==jg&&_.type!==WC},du=function(_,Q){switch(_){case 0:return AI(Q);case 2:return function(_){return[_.topLeftContentBox,_.topRightContentBox,_.bottomRightContentBox,_.bottomLeftContentBox]}(Q);default:return sI(Q)}},QS=function(_){switch(_){case 1:return"center";case 2:return"right";default:return"left"}},tg=["-apple-system","system-ui"],AL=function(_){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?_.filter(function(Q){return-1===tg.indexOf(Q)}):_},sL=function(_){function Q(N,x){var q=_.call(this,N,x)||this;return q.canvas=x.canvas?x.canvas:document.createElement("canvas"),q.ctx=q.canvas.getContext("2d"),q.options=x,q.canvas.width=Math.floor(x.width*x.scale),q.canvas.height=Math.floor(x.height*x.scale),q.canvas.style.width=x.width+"px",q.canvas.style.height=x.height+"px",q.ctx.scale(q.options.scale,q.options.scale),q.ctx.translate(-x.x,-x.y),q.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+x.width+"x"+x.height+" at "+x.x+","+x.y+") with scale "+x.scale),q}return De(Q,_),Q.prototype.render=function(N){return St(this,void 0,void 0,function(){var x,q;return He(this,function(ne){switch(ne.label){case 0:return x=sd(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,N),[4,wS(x)];case 1:return q=ne.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pA(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(q,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},Q}(rL),wS=function(_){return new Promise(function(Q,N){var x=new Image;x.onload=function(){Q(x)},x.onerror=N,x.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(_))})},TK=function(){function _(Q){var x=Q.enabled;this.id=Q.id,this.enabled=x,this.start=Date.now()}return _.prototype.debug=function(){for(var Q=[],N=0;N<arguments.length;N++)Q[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,dn([this.id,this.getTime()+"ms"],Q)):this.info.apply(this,Q))},_.prototype.getTime=function(){return Date.now()-this.start},_.prototype.info=function(){for(var Q=[],N=0;N<arguments.length;N++)Q[N]=arguments[N];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,dn([this.id,this.getTime()+"ms"],Q))},_.prototype.warn=function(){for(var Q=[],N=0;N<arguments.length;N++)Q[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,dn([this.id,this.getTime()+"ms"],Q)):this.info.apply(this,Q))},_.prototype.error=function(){for(var Q=[],N=0;N<arguments.length;N++)Q[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,dn([this.id,this.getTime()+"ms"],Q)):this.info.apply(this,Q))},_.instances={},_}(),kK=function(){function _(Q,N){var x;this.windowBounds=N,this.instanceName="#"+_.instanceCount++,this.logger=new TK({id:this.instanceName,enabled:Q.logging}),this.cache=null!==(x=Q.cache)&&void 0!==x?x:new iI(this,Q)}return _.instanceCount=1,_}();typeof window<"u"&&pS.setContext(window);var UK=function(_,Q){return St(void 0,void 0,void 0,function(){var N,x,q,ne,ae,Fe,xe,Ze,ot,pt,Ut,Yn,vn,Un,ur,si,ti,Xr,fr,xi,bn,Gr,Si,Pr,ko,pc,RA,na,eh,mc,Ja,hd,pu,rf,fd,dd,th,Af;return He(this,function(ng){switch(ng.label){case 0:if(!_||"object"!=typeof _)return[2,Promise.reject("Invalid element provided as first argument")];if(!(N=_.ownerDocument))throw new Error("Element is not attached to a Document");if(!(x=N.defaultView))throw new Error("Document is not attached to a Window");return q={allowTaint:null!==(Gr=Q.allowTaint)&&void 0!==Gr&&Gr,imageTimeout:null!==(Si=Q.imageTimeout)&&void 0!==Si?Si:15e3,proxy:Q.proxy,useCORS:null!==(Pr=Q.useCORS)&&void 0!==Pr&&Pr},ne=kt({logging:null===(ko=Q.logging)||void 0===ko||ko,cache:Q.cache},q),ae={windowWidth:null!==(pc=Q.windowWidth)&&void 0!==pc?pc:x.innerWidth,windowHeight:null!==(RA=Q.windowHeight)&&void 0!==RA?RA:x.innerHeight,scrollX:null!==(na=Q.scrollX)&&void 0!==na?na:x.pageXOffset,scrollY:null!==(eh=Q.scrollY)&&void 0!==eh?eh:x.pageYOffset},Fe=new _t(ae.scrollX,ae.scrollY,ae.windowWidth,ae.windowHeight),xe=new kK(ne,Fe),Ze=null!==(mc=Q.foreignObjectRendering)&&void 0!==mc&&mc,ot={allowTaint:null!==(Ja=Q.allowTaint)&&void 0!==Ja&&Ja,onclone:Q.onclone,ignoreElements:Q.ignoreElements,inlineImages:Ze,copyStyles:Ze},xe.logger.debug("Starting document clone with size "+Fe.width+"x"+Fe.height+" scrolled to "+-Fe.left+","+-Fe.top),pt=new eI(xe,_,ot),(Ut=pt.clonedReferenceElement)?[4,pt.toIFrame(N,Fe)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Yn=ng.sent(),vn=Xc(Ut)||function(_){return"HTML"===_.tagName}(Ut)?function(_){var Q=_.body,N=_.documentElement;if(!Q||!N)throw new Error("Unable to get document size");var x=Math.max(Math.max(Q.scrollWidth,N.scrollWidth),Math.max(Q.offsetWidth,N.offsetWidth),Math.max(Q.clientWidth,N.clientWidth)),q=Math.max(Math.max(Q.scrollHeight,N.scrollHeight),Math.max(Q.offsetHeight,N.offsetHeight),Math.max(Q.clientHeight,N.clientHeight));return new _t(0,0,x,q)}(Ut.ownerDocument):qn(xe,Ut),Un=vn.width,ur=vn.height,si=vn.left,ti=vn.top,Xr=OK(xe,Ut,Q.backgroundColor),fr={canvas:Q.canvas,backgroundColor:Xr,scale:null!==(pu=null!==(hd=Q.scale)&&void 0!==hd?hd:x.devicePixelRatio)&&void 0!==pu?pu:1,x:(null!==(rf=Q.x)&&void 0!==rf?rf:0)+si,y:(null!==(fd=Q.y)&&void 0!==fd?fd:0)+ti,width:null!==(dd=Q.width)&&void 0!==dd?dd:Math.ceil(Un),height:null!==(th=Q.height)&&void 0!==th?th:Math.ceil(ur)},Ze?(xe.logger.debug("Document cloned, using foreign object rendering"),[4,new sL(xe,fr).render(Ut)]):[3,3];case 2:return xi=ng.sent(),[3,5];case 3:return xe.logger.debug("Document cloned, element located at "+si+","+ti+" with size "+Un+"x"+ur+" using computed rendering"),xe.logger.debug("Starting DOM parsing"),bn=_A(xe,Ut),Xr===bn.styles.backgroundColor&&(bn.styles.backgroundColor=zh.TRANSPARENT),xe.logger.debug("Starting renderer for element at "+fr.x+","+fr.y+" with size "+fr.width+"x"+fr.height),[4,new RK(xe,fr).render(bn)];case 4:xi=ng.sent(),ng.label=5;case 5:return(!(null!==(Af=Q.removeContainer)&&void 0!==Af)||Af)&&(eI.destroy(Yn)||xe.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),xe.logger.debug("Finished rendering"),[2,xi]}})})},OK=function(_,Q,N){var x=Q.ownerDocument,q=x.documentElement?Np(_,getComputedStyle(x.documentElement).backgroundColor):zh.TRANSPARENT,ne=x.body?Np(_,getComputedStyle(x.body).backgroundColor):zh.TRANSPARENT,ae="string"==typeof N?Np(_,N):null===N?zh.TRANSPARENT:4294967295;return Q===x.documentElement?Vh(q)?Vh(ne)?ae:ne:q:ae};return function(_,Q){return void 0===Q&&(Q={}),UK(_,Q)}}()},3556:pi=>{pi.exports=function ni(De,kt){"use strict";var zt,gn,St=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,He=/(^[ ]*|[ ]*$)/g,dn=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,_t=/^0x[0-9a-f]+$/i,qn=/^0/,Vt=function(gA){return ni.insensitive&&(""+gA).toLowerCase()||""+gA},xt=Vt(De).replace(He,"")||"",We=Vt(kt).replace(He,"")||"",Pt=xt.replace(St,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),Ft=We.replace(St,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),gt=parseInt(xt.match(_t),16)||1!==Pt.length&&xt.match(dn)&&Date.parse(xt),Zt=parseInt(We.match(_t),16)||gt&&We.match(dn)&&Date.parse(We)||null;if(Zt){if(gt<Zt)return-1;if(gt>Zt)return 1}for(var $i=0,er=Math.max(Pt.length,Ft.length);$i<er;$i++){if(zt=!(Pt[$i]||"").match(qn)&&parseFloat(Pt[$i])||Pt[$i]||0,gn=!(Ft[$i]||"").match(qn)&&parseFloat(Ft[$i])||Ft[$i]||0,isNaN(zt)!==isNaN(gn))return isNaN(zt)?1:-1;if(typeof zt!=typeof gn&&(zt+="",gn+=""),zt<gn)return-1;if(zt>gn)return 1}return 0}},6499:(pi,ni,De)=>{var kt=De(720),St=De(9049),He=De(3147),dn=De(7495),_t=De(2773),qn=De(5993),Vt=De(6973);Vt.alea=kt,Vt.xor128=St,Vt.xorwow=He,Vt.xorshift7=dn,Vt.xor4096=_t,Vt.tychei=qn,pi.exports=Vt},720:function(pi,ni,De){var kt;!function(St,He,dn){function _t(We){var Pt=this,Ft=function xt(){var We=4022871197;return function(Ft){Ft=String(Ft);for(var gt=0;gt<Ft.length;gt++){var Zt=.02519603282416938*(We+=Ft.charCodeAt(gt));Zt-=We=Zt>>>0,We=(Zt*=We)>>>0,We+=4294967296*(Zt-=We)}return 2.3283064365386963e-10*(We>>>0)}}();Pt.next=function(){var gt=2091639*Pt.s0+2.3283064365386963e-10*Pt.c;return Pt.s0=Pt.s1,Pt.s1=Pt.s2,Pt.s2=gt-(Pt.c=0|gt)},Pt.c=1,Pt.s0=Ft(" "),Pt.s1=Ft(" "),Pt.s2=Ft(" "),Pt.s0-=Ft(We),Pt.s0<0&&(Pt.s0+=1),Pt.s1-=Ft(We),Pt.s1<0&&(Pt.s1+=1),Pt.s2-=Ft(We),Pt.s2<0&&(Pt.s2+=1),Ft=null}function qn(We,Pt){return Pt.c=We.c,Pt.s0=We.s0,Pt.s1=We.s1,Pt.s2=We.s2,Pt}function Vt(We,Pt){var Ft=new _t(We),gt=Pt&&Pt.state,Zt=Ft.next;return Zt.int32=function(){return 4294967296*Ft.next()|0},Zt.double=function(){return Zt()+11102230246251565e-32*(2097152*Zt()|0)},Zt.quick=Zt,gt&&("object"==typeof gt&&qn(gt,Ft),Zt.state=function(){return qn(Ft,{})}),Zt}He&&He.exports?He.exports=Vt:De.amdD&&De.amdO?void 0!==(kt=function(){return Vt}.call(ni,De,ni,He))&&(He.exports=kt):this.alea=Vt}(0,pi=De.nmd(pi))},5993:function(pi,ni,De){var kt;!function(St,He,dn){function _t(xt){var We=this,Pt="";We.next=function(){var gt=We.b,Zt=We.c,zt=We.d,gn=We.a;return gt=gt<<25^gt>>>7^Zt,Zt=Zt-zt|0,zt=zt<<24^zt>>>8^gn,gn=gn-gt|0,We.b=gt=gt<<20^gt>>>12^Zt,We.c=Zt=Zt-zt|0,We.d=zt<<16^Zt>>>16^gn,We.a=gn-gt|0},We.a=0,We.b=0,We.c=-1640531527,We.d=1367130551,xt===Math.floor(xt)?(We.a=xt/4294967296|0,We.b=0|xt):Pt+=xt;for(var Ft=0;Ft<Pt.length+20;Ft++)We.b^=0|Pt.charCodeAt(Ft),We.next()}function qn(xt,We){return We.a=xt.a,We.b=xt.b,We.c=xt.c,We.d=xt.d,We}function Vt(xt,We){var Pt=new _t(xt),Ft=We&&We.state,gt=function(){return(Pt.next()>>>0)/4294967296};return gt.double=function(){do{var gn=((Pt.next()>>>11)+(Pt.next()>>>0)/4294967296)/(1<<21)}while(0===gn);return gn},gt.int32=Pt.next,gt.quick=gt,Ft&&("object"==typeof Ft&&qn(Ft,Pt),gt.state=function(){return qn(Pt,{})}),gt}He&&He.exports?He.exports=Vt:De.amdD&&De.amdO?void 0!==(kt=function(){return Vt}.call(ni,De,ni,He))&&(He.exports=kt):this.tychei=Vt}(0,pi=De.nmd(pi))},9049:function(pi,ni,De){var kt;!function(St,He,dn){function _t(xt){var We=this,Pt="";We.x=0,We.y=0,We.z=0,We.w=0,We.next=function(){var gt=We.x^We.x<<11;return We.x=We.y,We.y=We.z,We.z=We.w,We.w^=We.w>>>19^gt^gt>>>8},xt===(0|xt)?We.x=xt:Pt+=xt;for(var Ft=0;Ft<Pt.length+64;Ft++)We.x^=0|Pt.charCodeAt(Ft),We.next()}function qn(xt,We){return We.x=xt.x,We.y=xt.y,We.z=xt.z,We.w=xt.w,We}function Vt(xt,We){var Pt=new _t(xt),Ft=We&&We.state,gt=function(){return(Pt.next()>>>0)/4294967296};return gt.double=function(){do{var gn=((Pt.next()>>>11)+(Pt.next()>>>0)/4294967296)/(1<<21)}while(0===gn);return gn},gt.int32=Pt.next,gt.quick=gt,Ft&&("object"==typeof Ft&&qn(Ft,Pt),gt.state=function(){return qn(Pt,{})}),gt}He&&He.exports?He.exports=Vt:De.amdD&&De.amdO?void 0!==(kt=function(){return Vt}.call(ni,De,ni,He))&&(He.exports=kt):this.xor128=Vt}(0,pi=De.nmd(pi))},2773:function(pi,ni,De){var kt;!function(St,He,dn){function _t(xt){var We=this;We.next=function(){var zt,gn,Ft=We.w,gt=We.X,Zt=We.i;return We.w=Ft=Ft+1640531527|0,gn=gt[Zt+34&127],zt=gt[Zt=Zt+1&127],gn^=gn<<13,zt^=zt<<17,gn=gt[Zt]=(gn^=gn>>>15)^(zt^=zt>>>12),We.i=Zt,gn+(Ft^Ft>>>16)|0},function Pt(Ft,gt){var Zt,zt,gn,$i,er,gA=[],rn=128;for(gt===(0|gt)?(zt=gt,gt=null):(gt+="\0",zt=0,rn=Math.max(rn,gt.length)),gn=0,$i=-32;$i<rn;++$i)gt&&(zt^=gt.charCodeAt(($i+32)%gt.length)),0===$i&&(er=zt),zt^=zt<<10,zt^=zt>>>15,zt^=zt<<4,zt^=zt>>>13,$i>=0&&(gn=0==(Zt=gA[127&$i]^=zt+(er=er+1640531527|0))?gn+1:0);for(gn>=128&&(gA[127&(gt&&gt.length||0)]=-1),gn=127,$i=512;$i>0;--$i)zt=gA[gn+34&127],Zt=gA[gn=gn+1&127],zt^=zt<<13,Zt^=Zt<<17,gA[gn]=(zt^=zt>>>15)^(Zt^=Zt>>>12);Ft.w=er,Ft.X=gA,Ft.i=gn}(We,xt)}function qn(xt,We){return We.i=xt.i,We.w=xt.w,We.X=xt.X.slice(),We}function Vt(xt,We){null==xt&&(xt=+new Date);var Pt=new _t(xt),Ft=We&&We.state,gt=function(){return(Pt.next()>>>0)/4294967296};return gt.double=function(){do{var gn=((Pt.next()>>>11)+(Pt.next()>>>0)/4294967296)/(1<<21)}while(0===gn);return gn},gt.int32=Pt.next,gt.quick=gt,Ft&&(Ft.X&&qn(Ft,Pt),gt.state=function(){return qn(Pt,{})}),gt}He&&He.exports?He.exports=Vt:De.amdD&&De.amdO?void 0!==(kt=function(){return Vt}.call(ni,De,ni,He))&&(He.exports=kt):this.xor4096=Vt}(0,pi=De.nmd(pi))},7495:function(pi,ni,De){var kt;!function(St,He,dn){function _t(xt){var We=this;We.next=function(){var Zt,zt,Ft=We.x,gt=We.i;return Zt=Ft[gt],zt=(Zt^=Zt>>>7)^Zt<<24,zt^=(Zt=Ft[gt+1&7])^Zt>>>10,zt^=(Zt=Ft[gt+3&7])^Zt>>>3,zt^=(Zt=Ft[gt+4&7])^Zt<<7,Zt=Ft[gt+7&7],Ft[gt]=zt^=(Zt^=Zt<<13)^Zt<<9,We.i=gt+1&7,zt},function Pt(Ft,gt){var Zt,gn=[];if(gt===(0|gt))gn[0]=gt;else for(gt=""+gt,Zt=0;Zt<gt.length;++Zt)gn[7&Zt]=gn[7&Zt]<<15^gt.charCodeAt(Zt)+gn[Zt+1&7]<<13;for(;gn.length<8;)gn.push(0);for(Zt=0;Zt<8&&0===gn[Zt];++Zt);for(8==Zt&&(gn[7]=-1),Ft.x=gn,Ft.i=0,Zt=256;Zt>0;--Zt)Ft.next()}(We,xt)}function qn(xt,We){return We.x=xt.x.slice(),We.i=xt.i,We}function Vt(xt,We){null==xt&&(xt=+new Date);var Pt=new _t(xt),Ft=We&&We.state,gt=function(){return(Pt.next()>>>0)/4294967296};return gt.double=function(){do{var gn=((Pt.next()>>>11)+(Pt.next()>>>0)/4294967296)/(1<<21)}while(0===gn);return gn},gt.int32=Pt.next,gt.quick=gt,Ft&&(Ft.x&&qn(Ft,Pt),gt.state=function(){return qn(Pt,{})}),gt}He&&He.exports?He.exports=Vt:De.amdD&&De.amdO?void 0!==(kt=function(){return Vt}.call(ni,De,ni,He))&&(He.exports=kt):this.xorshift7=Vt}(0,pi=De.nmd(pi))},3147:function(pi,ni,De){var kt;!function(St,He,dn){function _t(xt){var We=this,Pt="";We.next=function(){var gt=We.x^We.x>>>2;return We.x=We.y,We.y=We.z,We.z=We.w,We.w=We.v,(We.d=We.d+362437|0)+(We.v=We.v^We.v<<4^gt^gt<<1)|0},We.x=0,We.y=0,We.z=0,We.w=0,We.v=0,xt===(0|xt)?We.x=xt:Pt+=xt;for(var Ft=0;Ft<Pt.length+64;Ft++)We.x^=0|Pt.charCodeAt(Ft),Ft==Pt.length&&(We.d=We.x<<10^We.x>>>4),We.next()}function qn(xt,We){return We.x=xt.x,We.y=xt.y,We.z=xt.z,We.w=xt.w,We.v=xt.v,We.d=xt.d,We}function Vt(xt,We){var Pt=new _t(xt),Ft=We&&We.state,gt=function(){return(Pt.next()>>>0)/4294967296};return gt.double=function(){do{var gn=((Pt.next()>>>11)+(Pt.next()>>>0)/4294967296)/(1<<21)}while(0===gn);return gn},gt.int32=Pt.next,gt.quick=gt,Ft&&("object"==typeof Ft&&qn(Ft,Pt),gt.state=function(){return qn(Pt,{})}),gt}He&&He.exports?He.exports=Vt:De.amdD&&De.amdO?void 0!==(kt=function(){return Vt}.call(ni,De,ni,He))&&(He.exports=kt):this.xorwow=Vt}(0,pi=De.nmd(pi))},6973:function(pi,ni,De){var kt;!function(St,He,dn){var Zt,_t=256,We=dn.pow(_t,6),Pt=dn.pow(2,52),Ft=2*Pt,gt=_t-1;function zt(fi,Qi,PA){var hA=[],Mr=gA(er((Qi=1==Qi?{entropy:!0}:Qi||{}).entropy?[fi,Is(He)]:fi??function rn(){try{var fi;return Zt&&(fi=Zt.randomBytes)?fi=fi(_t):(fi=new Uint8Array(_t),(St.crypto||St.msCrypto).getRandomValues(fi)),Is(fi)}catch{var Qi=St.navigator,PA=Qi&&Qi.plugins;return[+new Date,St,PA,St.screen,Is(He)]}}(),3),hA),Yi=new gn(hA),cr=function(){for(var xs=Yi.g(6),mo=We,Ks=0;xs<Pt;)xs=(xs+Ks)*_t,mo*=_t,Ks=Yi.g(1);for(;xs>=Ft;)xs/=2,mo/=2,Ks>>>=1;return(xs+Ks)/mo};return cr.int32=function(){return 0|Yi.g(4)},cr.quick=function(){return Yi.g(4)/4294967296},cr.double=cr,gA(Is(Yi.S),He),(Qi.pass||PA||function(xs,mo,Ks,Xo){return Xo&&(Xo.S&&$i(Xo,Yi),xs.state=function(){return $i(Yi,{})}),Ks?(dn.random=xs,mo):xs})(cr,Mr,"global"in Qi?Qi.global:this==dn,Qi.state)}function gn(fi){var Qi,PA=fi.length,hA=this,Mr=0,Yi=hA.i=hA.j=0,cr=hA.S=[];for(PA||(fi=[PA++]);Mr<_t;)cr[Mr]=Mr++;for(Mr=0;Mr<_t;Mr++)cr[Mr]=cr[Yi=gt&Yi+fi[Mr%PA]+(Qi=cr[Mr])],cr[Yi]=Qi;(hA.g=function(xs){for(var mo,Ks=0,Xo=hA.i,Hc=hA.j,da=hA.S;xs--;)mo=da[Xo=gt&Xo+1],Ks=Ks*_t+da[gt&(da[Xo]=da[Hc=gt&Hc+mo])+(da[Hc]=mo)];return hA.i=Xo,hA.j=Hc,Ks})(_t)}function $i(fi,Qi){return Qi.i=fi.i,Qi.j=fi.j,Qi.S=fi.S.slice(),Qi}function er(fi,Qi){var Mr,PA=[],hA=typeof fi;if(Qi&&"object"==hA)for(Mr in fi)try{PA.push(er(fi[Mr],Qi-1))}catch{}return PA.length?PA:"string"==hA?fi:fi+"\0"}function gA(fi,Qi){for(var hA,PA=fi+"",Mr=0;Mr<PA.length;)Qi[gt&Mr]=gt&(hA^=19*Qi[gt&Mr])+PA.charCodeAt(Mr++);return Is(Qi)}function Is(fi){return String.fromCharCode.apply(0,fi)}if(gA(dn.random(),He),pi.exports){pi.exports=zt;try{Zt=De(1234)}catch{}}else void 0!==(kt=function(){return zt}.call(ni,De,ni,pi))&&(pi.exports=kt)}(typeof self<"u"?self:this,[],Math)},3443:pi=>{void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var ni=ni||function(){var De=[];return{REVISION:"8",getAll:function(){return De},removeAll:function(){De=[]},add:function(kt){De.push(kt)},remove:function(kt){var St=De.indexOf(kt);-1!==St&&De.splice(St,1)},update:function(kt){if(0===De.length)return!1;var St=0,He=De.length;for(kt=void 0!==kt?kt:Date.now();St<He;)De[St].update(kt)?St++:(De.splice(St,1),He--);return!0}}}();ni.Tween=function(De){var kt=De,St={},He={},dn=1e3,_t=0,qn=null,Vt=ni.Easing.Linear.None,xt=ni.Interpolation.Linear,We=[],Pt=null,Ft=!1,gt=null,Zt=null;this.to=function(zt,gn){return void 0!==gn&&(dn=gn),He=zt,this},this.start=function(zt){for(var gn in ni.add(this),Ft=!1,qn=void 0!==zt?zt:Date.now(),qn+=_t,He)if(null!==kt[gn]&&gn in kt){if(He[gn]instanceof Array){if(0===He[gn].length)continue;He[gn]=[kt[gn]].concat(He[gn])}St[gn]=kt[gn]}return this},this.stop=function(){return ni.remove(this),this},this.delay=function(zt){return _t=zt,this},this.easing=function(zt){return Vt=zt,this},this.interpolation=function(zt){return xt=zt,this},this.chain=function(){return We=arguments,this},this.onStart=function(zt){return Pt=zt,this},this.onUpdate=function(zt){return gt=zt,this},this.onComplete=function(zt){return Zt=zt,this},this.update=function(zt){if(zt<qn)return!0;!1===Ft&&(null!==Pt&&Pt.call(kt),Ft=!0);var gn=(zt-qn)/dn,$i=Vt(gn=gn>1?1:gn);for(var er in St){var gA=St[er],rn=He[er];kt[er]=rn instanceof Array?xt(rn,$i):gA+(rn-gA)*$i}if(null!==gt&&gt.call(kt,$i),1==gn){null!==Zt&&Zt.call(kt);for(var Is=0,fi=We.length;Is<fi;Is++)We[Is].start(zt);return!1}return!0}},ni.Easing={Linear:{None:function(De){return De}},Quadratic:{In:function(De){return De*De},Out:function(De){return De*(2-De)},InOut:function(De){return(De*=2)<1?.5*De*De:-.5*(--De*(De-2)-1)}},Cubic:{In:function(De){return De*De*De},Out:function(De){return--De*De*De+1},InOut:function(De){return(De*=2)<1?.5*De*De*De:.5*((De-=2)*De*De+2)}},Quartic:{In:function(De){return De*De*De*De},Out:function(De){return 1- --De*De*De*De},InOut:function(De){return(De*=2)<1?.5*De*De*De*De:-.5*((De-=2)*De*De*De-2)}},Quintic:{In:function(De){return De*De*De*De*De},Out:function(De){return--De*De*De*De*De+1},InOut:function(De){return(De*=2)<1?.5*De*De*De*De*De:.5*((De-=2)*De*De*De*De+2)}},Sinusoidal:{In:function(De){return 1-Math.cos(De*Math.PI/2)},Out:function(De){return Math.sin(De*Math.PI/2)},InOut:function(De){return.5*(1-Math.cos(Math.PI*De))}},Exponential:{In:function(De){return 0===De?0:Math.pow(1024,De-1)},Out:function(De){return 1===De?1:1-Math.pow(2,-10*De)},InOut:function(De){return 0===De?0:1===De?1:(De*=2)<1?.5*Math.pow(1024,De-1):.5*(2-Math.pow(2,-10*(De-1)))}},Circular:{In:function(De){return 1-Math.sqrt(1-De*De)},Out:function(De){return Math.sqrt(1- --De*De)},InOut:function(De){return(De*=2)<1?-.5*(Math.sqrt(1-De*De)-1):.5*(Math.sqrt(1-(De-=2)*De)+1)}},Elastic:{In:function(De){var kt,St=.1;return 0===De?0:1===De?1:(!St||St<1?(St=1,kt=.1):kt=.4*Math.asin(1/St)/(2*Math.PI),-St*Math.pow(2,10*(De-=1))*Math.sin((De-kt)*(2*Math.PI)/.4))},Out:function(De){var kt,St=.1;return 0===De?0:1===De?1:(!St||St<1?(St=1,kt=.1):kt=.4*Math.asin(1/St)/(2*Math.PI),St*Math.pow(2,-10*De)*Math.sin((De-kt)*(2*Math.PI)/.4)+1)},InOut:function(De){var kt,St=.1;return 0===De?0:1===De?1:(!St||St<1?(St=1,kt=.1):kt=.4*Math.asin(1/St)/(2*Math.PI),(De*=2)<1?St*Math.pow(2,10*(De-=1))*Math.sin((De-kt)*(2*Math.PI)/.4)*-.5:St*Math.pow(2,-10*(De-=1))*Math.sin((De-kt)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(De){return De*De*(2.70158*De-1.70158)},Out:function(De){return--De*De*(2.70158*De+1.70158)+1},InOut:function(De){var kt=2.5949095;return(De*=2)<1?De*De*((kt+1)*De-kt)*.5:.5*((De-=2)*De*((kt+1)*De+kt)+2)}},Bounce:{In:function(De){return 1-ni.Easing.Bounce.Out(1-De)},Out:function(De){return De<1/2.75?7.5625*De*De:De<2/2.75?7.5625*(De-=1.5/2.75)*De+.75:De<2.5/2.75?7.5625*(De-=2.25/2.75)*De+.9375:7.5625*(De-=2.625/2.75)*De+.984375},InOut:function(De){return De<.5?.5*ni.Easing.Bounce.In(2*De):.5*ni.Easing.Bounce.Out(2*De-1)+.5}}},ni.Interpolation={Linear:function(De,kt){var St=De.length-1,He=St*kt,dn=Math.floor(He),_t=ni.Interpolation.Utils.Linear;return kt<0?_t(De[0],De[1],He):kt>1?_t(De[St],De[St-1],St-He):_t(De[dn],De[dn+1>St?St:dn+1],He-dn)},Bezier:function(De,kt){var qn,St=0,He=De.length-1,dn=Math.pow,_t=ni.Interpolation.Utils.Bernstein;for(qn=0;qn<=He;qn++)St+=dn(1-kt,He-qn)*dn(kt,qn)*De[qn]*_t(He,qn);return St},CatmullRom:function(De,kt){var St=De.length-1,He=St*kt,dn=Math.floor(He),_t=ni.Interpolation.Utils.CatmullRom;return De[0]===De[St]?(kt<0&&(dn=Math.floor(He=St*(1+kt))),_t(De[(dn-1+St)%St],De[dn],De[(dn+1)%St],De[(dn+2)%St],He-dn)):kt<0?De[0]-(_t(De[0],De[0],De[1],De[1],-He)-De[0]):kt>1?De[St]-(_t(De[St],De[St],De[St-1],De[St-1],He-St)-De[St]):_t(De[dn?dn-1:0],De[dn],De[St<dn+1?St:dn+1],De[St<dn+2?St:dn+2],He-dn)},Utils:{Linear:function(De,kt,St){return(kt-De)*St+De},Bernstein:function(De,kt){var St=ni.Interpolation.Utils.Factorial;return St(De)/St(kt)/St(De-kt)},Factorial:function(){var De=[1];return function(kt){var He,St=1;if(De[kt])return De[kt];for(He=kt;He>1;He--)St*=He;return De[kt]=St}}(),CatmullRom:function(De,kt,St,He,dn){var _t=.5*(St-De),qn=.5*(He-kt),Vt=dn*dn;return(2*kt-2*St+_t+qn)*(dn*Vt)+(-3*kt+3*St-2*_t-qn)*Vt+_t*dn+kt}}},pi.exports=ni},8541:(pi,ni,De)=>{"use strict";var kt={};De.r(kt),De.d(kt,{Decoder:()=>T4,Encoder:()=>dOe,PacketType:()=>lA,protocol:()=>fOe});var St=De(3308);let dn=null,_t=!1,qn=1;const Vt=Symbol("SIGNAL");function xt(n){const e=dn;return dn=n,e}const gt={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Zt(n){if(_t)throw new Error("");if(null===dn)return;dn.consumerOnSignalRead(n);const e=dn.nextProducerIndex++;Yi(dn),e<dn.producerNode.length&&dn.producerNode[e]!==n&&Mr(dn)&&hA(dn.producerNode[e],dn.producerIndexOfThis[e]),dn.producerNode[e]!==n&&(dn.producerNode[e]=n,dn.producerIndexOfThis[e]=Mr(dn)?PA(n,dn,e):0),dn.producerLastReadVersion[e]=n.version}function gn(n){if((!Mr(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==qn)){if(!n.producerMustRecompute(n)&&!fi(n))return n.dirty=!1,void(n.lastCleanEpoch=qn);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=qn}}function $i(n){if(void 0===n.liveConsumerNode)return;const e=_t;_t=!0;try{for(const t of n.liveConsumerNode)t.dirty||gA(t)}finally{_t=e}}function er(){return!1!==dn?.consumerAllowSignalWrites}function gA(n){n.dirty=!0,$i(n),n.consumerMarkedDirty?.(n)}function fi(n){Yi(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(gn(t),i!==t.version))return!0}return!1}function PA(n,e,t){if(cr(n),Yi(n),0===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=PA(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function hA(n,e){if(cr(n),Yi(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)hA(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Yi(r),r.producerIndexOfThis[i]=e}}function Mr(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Yi(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function cr(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}let Hu=function da(){throw new Error};function Yu(){Hu()}let ft=null;function bt(n,e){er()||Yu(),n.equal(n.value,e)||(n.value=e,function $e(n){n.version++,function zt(){qn++}(),$i(n),ft?.()}(n))}const Nn={...gt,equal:function He(n,e){return Object.is(n,e)},value:void 0};function _n(n){return"function"==typeof n}function $A(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const vr=$A(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Kr(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Nr{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const A of t)A.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(_n(i))try{i()}catch(A){e=A instanceof vr?A.errors:[A]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const A of r)try{cc(A)}catch(s){e=e??[],s instanceof vr?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vr(e)}}add(e){var t;if(e&&e!==this)if(this.closed)cc(e);else{if(e instanceof Nr){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Kr(t,e)}remove(e){const{_finalizers:t}=this;t&&Kr(t,e),e instanceof Nr&&e._removeParent(this)}}Nr.EMPTY=(()=>{const n=new Nr;return n.closed=!0,n})();const Yc=Nr.EMPTY;function au(n){return n instanceof Nr||n&&"closed"in n&&_n(n.remove)&&_n(n.add)&&_n(n.unsubscribe)}function cc(n){_n(n)?n():n.unsubscribe()}const pa={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fs={setTimeout(n,e,...t){const{delegate:i}=Fs;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Fs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function lc(n){Fs.setTimeout(()=>{const{onUnhandledError:e}=pa;if(!e)throw n;e(n)})}function es(){}const Ku=Je("C",void 0,void 0);function Je(n,e,t){return{kind:n,value:e,error:t}}let st=null;function It(n){if(pa.useDeprecatedSynchronousErrorHandling){const e=!st;if(e&&(st={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=st;if(st=null,t)throw i}}else n()}class an extends Nr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,au(e)&&e.add(this)):this.destination=Bs}static create(e,t,i){return new kn(e,t,i)}next(e){this.isStopped?rA(function qu(n){return Je("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?rA(function zf(n){return Je("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?rA(Ku,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tn=Function.prototype.bind;function Tn(n,e){return tn.call(n,e)}class pn{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){hn(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){hn(i)}else hn(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){hn(t)}}}class kn extends an{constructor(e,t,i){let r;if(super(),_n(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let A;this&&pa.useDeprecatedNextContext?(A=Object.create(e),A.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Tn(e.next,A),error:e.error&&Tn(e.error,A),complete:e.complete&&Tn(e.complete,A)}):r=e}this.destination=new pn(r)}}function hn(n){pa.useDeprecatedSynchronousErrorHandling?function qt(n){pa.useDeprecatedSynchronousErrorHandling&&st&&(st.errorThrown=!0,st.error=n)}(n):lc(n)}function rA(n,e){const{onStoppedNotification:t}=pa;t&&Fs.setTimeout(()=>t(n,e))}const Bs={closed:!0,next:es,error:function jr(n){throw n},complete:es},to="function"==typeof Symbol&&Symbol.observable||"@@observable";function bA(n){return n}function $o(n){return 0===n.length?bA:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let _r=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const A=function uQ(n){return n&&n instanceof an||function XB(n){return n&&_n(n.next)&&_n(n.error)&&_n(n.complete)}(n)&&au(n)}(t)?t:new kn(t,i,r);return It(()=>{const{operator:s,source:o}=this;A.add(s?s.call(A,o):o?this._subscribe(A):this._trySubscribe(A))}),A}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Pg(i))((r,A)=>{const s=new kn({next:o=>{try{t(o)}catch(a){A(a),s.unsubscribe()}},error:A,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[to](){return this}pipe(...t){return $o(t)(this)}toPromise(t){return new(t=Pg(t))((i,r)=>{let A;this.subscribe(s=>A=s,s=>r(s),()=>i(A))})}}return n.create=e=>new n(e),n})();function Pg(n){var e;return null!==(e=n??pa.Promise)&&void 0!==e?e:Promise}const gQ=$A(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let zi=(()=>{class n extends _r{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new yr(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new gQ}next(t){It(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){It(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){It(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:A}=this;return i||r?Yc:(this.currentObservers=null,A.push(t),new Nr(()=>{this.currentObservers=null,Kr(A,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:A}=this;i?t.error(r):A&&t.complete()}asObservable(){const t=new _r;return t.source=this,t}}return n.create=(e,t)=>new yr(e,t),n})();class yr extends zi{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Yc}}class vA extends zi{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function vp(n){return _n(n?.lift)}function AA(n){return e=>{if(vp(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function sA(n,e,t,i,r){return new $B(n,e,t,i,r)}class $B extends an{constructor(e,t,i,r,A,s){super(e),this.onFinalize=A,this.shouldUnsubscribe=s,this._next=t?function(o){try{t(o)}catch(a){e.error(a)}}:super._next,this._error=r?function(o){try{r(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function tr(n,e){return AA((t,i)=>{let r=0;t.subscribe(sA(i,A=>{i.next(n.call(e,A,r++))}))})}const yp=$A(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function cs(n,e){return AA((t,i)=>{let r=0;t.subscribe(sA(i,A=>n.call(e,A,r++)&&i.next(A)))})}const Ga=new _r(n=>n.complete());function Rs(n){return n<=0?()=>Ga:AA((e,t)=>{let i=0;e.subscribe(sA(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Qp(n){return AA((e,t)=>{let i=!1;e.subscribe(sA(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function eE(n=hQ){return AA((e,t)=>{let i=!1;e.subscribe(sA(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function hQ(){return new yp}function Ju(n,e){const t=arguments.length>=2;return i=>i.pipe(n?cs((r,A)=>n(r,A,i)):bA,Rs(1),t?Qp(e):eE(()=>new yp))}const tE="https://g.co/ng/security#xss";class Qt extends Error{constructor(e,t){super(function cu(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function qA(n){return{toString:n}.toString()}const lu="__parameters__";function Yg(n,e,t){return qA(()=>{const i=function Dp(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...A){if(this instanceof r)return i.apply(this,A),this;const s=new r(...A);return o.annotation=s,o;function o(a,c,l){const u=a.hasOwnProperty(lu)?a[lu]:Object.defineProperty(a,lu,{value:[]})[lu];for(;u.length<=l;)u.push(null);return(u[l]=u[l]||[]).push(s),a}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const yA=globalThis;function SA(n){for(let e in n)if(n[e]===SA)return e;throw Error("Could not find renamed property on target object.")}function TT(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Co(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Co).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function fQ(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const LT=SA({__forward_ref__:SA});function QA(n){return n.__forward_ref__=QA,n.toString=function(){return Co(this())},n}function mi(n){return rE(n)?n():n}function rE(n){return"function"==typeof n&&n.hasOwnProperty(LT)&&n.__forward_ref__===QA}function Vu(n,e,t){n!=e&&function vi(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(t,n,e,"==")}function Wt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function lr(n){return{providers:n.providers||[],imports:n.imports||[]}}function xC(n){return dQ(n,Io)||dQ(n,Wf)}function dQ(n,e){return n.hasOwnProperty(e)?n[e]:null}function AE(n){return n&&(n.hasOwnProperty(pQ)||n.hasOwnProperty(qT))?n[pQ]:null}const Io=SA({\u0275prov:SA}),pQ=SA({\u0275inj:SA}),Wf=SA({ngInjectableDef:SA}),qT=SA({ngInjectorDef:SA});class xn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Wt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function EQ(n){return n&&!!n.\u0275providers}const RC=SA({\u0275cmp:SA}),vQ=SA({\u0275dir:SA}),yQ=SA({\u0275pipe:SA}),hb=SA({\u0275mod:SA}),qg=SA({\u0275fac:SA}),TC=SA({__NG_ELEMENT_ID__:SA}),fb=SA({__NG_ENV_ID__:SA});function Oi(n){return"string"==typeof n?n:null==n?"":String(n)}function QQ(n,e){throw new Qt(-201,!1)}var xr=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(xr||{});let wQ;function db(){return wQ}function gc(n){const e=wQ;return wQ=n,e}function oE(n,e,t){const i=xC(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&xr.Optional?null:void 0!==e?e:void QQ()}const Jg={},Jh="__NG_DI_FLAG__",dA="ngTempTokenPath",_Q=/\n/gm,Zf="__source";let Pa;function Ha(n){const e=Pa;return Pa=n,e}function no(n,e=xr.Default){if(void 0===Pa)throw new Qt(-203,!1);return null===Pa?oE(n,void 0,e):Pa.get(n,e&xr.Optional?null:void 0,e)}function cn(n,e=xr.Default){return(db()||no)(mi(n),e)}function ze(n,e=xr.Default){return cn(n,uu(e))}function uu(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Xf(n){const e=[];for(let t=0;t<n.length;t++){const i=mi(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Qt(900,!1);let r,A=xr.Default;for(let s=0;s<i.length;s++){const o=i[s],a=mb(o);"number"==typeof a?-1===a?r=o.token:A|=a:r=o}e.push(cn(r,A))}else e.push(cn(i))}return e}function wA(n,e){return n[Jh]=e,n.prototype[Jh]=e,n}function mb(n){return n[Jh]}const $f=wA(Yg("Optional"),8),kC=wA(Yg("SkipSelf"),4);function hc(n,e){return n.hasOwnProperty(qg)?n[qg]:null}function Jc(n,e){n.forEach(t=>Array.isArray(t)?Jc(t,e):e(t))}function DQ(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function LC(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Vc(n,e,t){let i=Vg(n,e);return i>=0?n[1|i]=t:(i=~i,function Np(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function bQ(n,e){const t=Vg(n,e);if(t>=0)return n[1|t]}function Vg(n,e){return function vb(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const A=i+(r-i>>1),s=n[A<<t];if(e===s)return A<<t;s>e?r=A:i=A+1}return~(r<<t)}(n,e,1)}const zu={},Wi=[],zg=new xn(""),yb=new xn("",-1),SQ=new xn("");class ed{get(e,t=Jg){if(t===Jg){const i=new Error(`NullInjectorError: No provider for ${Co(e)}!`);throw i.name="NullInjectorError",i}return t}}var cE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(cE||{}),Dl=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Dl||{}),Ki=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ki||{});function Qb(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const A=e.length;if(r+A===i||n.charCodeAt(r+A)<=32)return r}t=r+1}}function lE(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const A=t[i++],s=t[i++],o=t[i++];n.setAttribute(e,s,o,A)}else{const A=r,s=t[++i];NQ(A)?n.setProperty(e,A,s):n.setAttribute(e,A,s),i++}}return i}function MQ(n){return 3===n||4===n||6===n}function NQ(n){return 64===n.charCodeAt(0)}function xp(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||xQ(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function xQ(n,e,t,i,r){let A=0,s=n.length;if(-1===e)s=-1;else for(;A<n.length;){const o=n[A++];if("number"==typeof o){if(o===e){s=-1;break}if(o>e){s=A-1;break}}}for(;A<n.length;){const o=n[A];if("number"==typeof o)break;if(o===t){if(null===i)return void(null!==r&&(n[A+1]=r));if(i===n[A+1])return void(n[A+2]=r)}A++,null!==i&&A++,null!==r&&A++}-1!==s&&(n.splice(s,0,e),A=s+1),n.splice(A++,0,t),null!==i&&n.splice(A++,0,i),null!==r&&n.splice(A++,0,r)}const wb="ng-template";function uE(n,e,t,i){let r=0;if(i){for(;r<e.length&&"string"==typeof e[r];r+=2)if("class"===e[r]&&-1!==Qb(e[r+1].toLowerCase(),t,0))return!0}else if(FQ(n))return!1;if(r=e.indexOf(1,r),r>-1){let A;for(;++r<e.length&&"string"==typeof(A=e[r]);)if(A.toLowerCase()===t)return!0}return!1}function FQ(n){return 4===n.type&&n.value!==wb}function $T(n,e,t){return e===(4!==n.type||t?n.value:wb)}function RQ(n,e,t){let i=4;const r=n.attrs,A=null!==r?function tk(n){for(let e=0;e<n.length;e++)if(MQ(n[e]))return e;return n.length}(r):0;let s=!1;for(let o=0;o<e.length;o++){const a=e[o];if("number"!=typeof a){if(!s)if(4&i){if(i=2|1&i,""!==a&&!$T(n,a,t)||""===a&&1===e.length){if(gu(i))return!1;s=!0}}else if(8&i){if(null===r||!uE(n,r,a,t)){if(gu(i))return!1;s=!0}}else{const c=e[++o],l=_b(a,r,FQ(n),t);if(-1===l){if(gu(i))return!1;s=!0;continue}if(""!==c){let u;if(u=l>A?"":r[l+1].toLowerCase(),2&i&&c!==u){if(gu(i))return!1;s=!0}}}}else{if(!s&&!gu(i)&&!gu(a))return!1;if(s&&gu(a))continue;s=!1,i=a|1&i}}return gu(i)||s}function gu(n){return!(1&n)}function _b(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let A=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)A=!0;else{if(1===s||2===s){let o=e[++r];for(;"string"==typeof o;)o=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=A?1:2}return-1}return function nk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Db(n,e,t=!1){for(let i=0;i<e.length;i++)if(RQ(n,e[i],t))return!0;return!1}function ik(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Fp(n,e){return n?":not("+e.trim()+")":e}function rk(n){let e=n[0],t=1,i=2,r="",A=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const o=n[++t];r+="["+s+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!gu(s)&&(e+=Fp(A,r),r=""),i=s,A=A||!gu(i);t++}return""!==r&&(e+=Fp(A,r)),e}function Ci(n){return qA(()=>{const e=bb(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===cE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Dl.Emulated,styles:n.styles||Wi,_:null,schemas:n.schemas||null,tView:null,id:""};Sb(t);const i=n.dependencies;return t.directiveDefs=td(i,!1),t.pipeDefs=td(i,!0),t.id=function ck(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function sk(n){return Qr(n)||Bo(n)}function ok(n){return null!==n}function hr(n){return qA(()=>({type:n.type,bootstrap:n.bootstrap||Wi,declarations:n.declarations||Wi,imports:n.imports||Wi,exports:n.exports||Wi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function UC(n,e){if(null==n)return zu;const t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let A,s,o=Ki.None;Array.isArray(r)?(o=r[0],A=r[1],s=r[2]??A):(A=r,s=r),e?(t[A]=o!==Ki.None?[i,o]:i,e[A]=s):t[A]=i}return t}function Mn(n){return qA(()=>{const e=bb(n);return Sb(e),e})}function fc(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Qr(n){return n[RC]||null}function Bo(n){return n[vQ]||null}function io(n){return n[yQ]||null}function ma(n,e){const t=n[hb]||null;if(!t&&!0===e)throw new Error(`Type ${Co(n)} does not have '\u0275mod' property.`);return t}function bb(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||zu,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Wi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:UC(n.inputs,e),outputs:UC(n.outputs),debugInfo:null}}function Sb(n){n.features?.forEach(e=>e(n))}function td(n,e){if(!n)return null;const t=e?io:sk;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(ok)}function Rp(n){return{\u0275providers:n}}function lk(...n){return{\u0275providers:TQ(0,n),\u0275fromNgModule:!0}}function TQ(n,...e){const t=[],i=new Set;let r;const A=s=>{t.push(s)};return Jc(e,s=>{const o=s;hE(o,A,[],i)&&(r||=[],r.push(o))}),void 0!==r&&Mb(r,A),t}function Mb(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];kQ(r,A=>{e(A,i)})}}function hE(n,e,t,i){if(!(n=mi(n)))return!1;let r=null,A=AE(n);const s=!A&&Qr(n);if(A||s){if(s&&!s.standalone)return!1;r=n}else{const a=n.ngModule;if(A=AE(a),!A)return!1;r=a}const o=i.has(r);if(s){if(o)return!1;if(i.add(r),s.dependencies){const a="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of a)hE(c,e,t,i)}}else{if(!A)return!1;{if(null!=A.imports&&!o){let c;i.add(r);try{Jc(A.imports,l=>{hE(l,e,t,i)&&(c||=[],c.push(l))})}finally{}void 0!==c&&Mb(c,e)}if(!o){const c=hc(r)||(()=>new r);e({provide:r,useFactory:c,deps:Wi},r),e({provide:SQ,useValue:r,multi:!0},r),e({provide:zg,useValue:()=>cn(r),multi:!0},r)}const a=A.providers;if(null!=a&&!o){const c=n;kQ(a,l=>{e(l,c)})}}}return r!==n&&void 0!==n.providers}function kQ(n,e){for(let t of n)EQ(t)&&(t=t.\u0275providers),Array.isArray(t)?kQ(t,e):e(t)}const uk=SA({provide:String,useValue:SA});function OC(n){return null!==n&&"object"==typeof n&&uk in n}function jh(n){return"function"==typeof n}const LQ=new xn(""),Tp={},fE={};let UQ;function dE(){return void 0===UQ&&(UQ=new ed),UQ}class ea{}class kp extends ea{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,GQ(e,s=>this.processProvider(s)),this.records.set(yb,Lp(void 0,this)),r.has("environment")&&this.records.set(ea,Lp(void 0,this));const A=this.records.get(LQ);null!=A&&"string"==typeof A.value&&this.scopes.add(A.value),this.injectorDefTypes=new Set(this.get(SQ,Wi,xr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=xt(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Ha(this),i=gc(void 0);try{return e()}finally{Ha(t),gc(i)}}get(e,t=Jg,i=xr.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(fb))return e[fb](this);i=uu(i);const A=Ha(this),s=gc(void 0);try{if(!(i&xr.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function pk(n){return"function"==typeof n||"object"==typeof n&&n instanceof xn}(e)&&xC(e);a=c&&this.injectableDefInScope(c)?Lp(OQ(e),Tp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&xr.Self?dE():this.parent).get(e,t=i&xr.Optional&&t===Jg?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[dA]=o[dA]||[]).unshift(Co(e)),A)throw o;return function Cb(n,e,t,i){const r=n[dA];throw e[Zf]&&r.unshift(e[Zf]),n.message=function Ib(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Co(e);if(Array.isArray(e))r=e.map(Co).join(" -> ");else if("object"==typeof e){let A=[];for(let s in e)if(e.hasOwnProperty(s)){let o=e[s];A.push(s+":"+("string"==typeof o?JSON.stringify(o):Co(o)))}r=`{${A.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(_Q,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[dA]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{gc(s),Ha(A)}}resolveInjectorInitializers(){const e=xt(null),t=Ha(this),i=gc(void 0);try{const A=this.get(zg,Wi,xr.Self);for(const s of A)s()}finally{Ha(t),gc(i),xt(e)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Co(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qt(205,!1)}processProvider(e){let t=jh(e=mi(e))?e:mi(e&&e.provide);const i=function pE(n){return OC(n)?Lp(void 0,n.useValue):Lp(Fb(n),Tp)}(e);if(!jh(e)&&!0===e.multi){let r=this.records.get(t);r||(r=Lp(void 0,Tp,!0),r.factory=()=>Xf(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){const i=xt(null);try{return t.value===Tp&&(t.value=fE,t.value=t.factory()),"object"==typeof t.value&&t.value&&function dk(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{xt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=mi(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function OQ(n){const e=xC(n),t=null!==e?e.factory:hc(n);if(null!==t)return t;if(n instanceof xn)throw new Qt(204,!1);if(n instanceof Function)return function hk(n){if(n.length>0)throw new Qt(204,!1);const t=function KT(n){return n&&(n[Io]||n[Wf])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Qt(204,!1)}function Fb(n,e,t){let i;if(jh(n)){const r=mi(n);return hc(r)||OQ(r)}if(OC(n))i=()=>mi(n.useValue);else if(function xb(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Xf(n.deps||[]));else if(function Nb(n){return!(!n||!n.useExisting)}(n))i=()=>cn(mi(n.useExisting));else{const r=mi(n&&(n.useClass||n.provide));if(!function fk(n){return!!n.deps}(n))return hc(r)||OQ(r);i=()=>new r(...Xf(n.deps))}return i}function Lp(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function GQ(n,e){for(const t of n)Array.isArray(t)?GQ(t,e):t&&EQ(t)?GQ(t.\u0275providers,e):e(t)}function Wu(n,e){n instanceof kp&&n.assertNotDestroyed();const i=Ha(n),r=gc(void 0);try{return e()}finally{Ha(i),gc(r)}}function Rb(){return void 0!==db()||null!=function ZT(){return Pa}()}const Es=0,wn=1,ci=2,qs=3,MA=4,Ca=5,zc=6,Op=7,ts=8,Ao=9,bl=10,bi=11,HC=12,Lb=13,Gp=14,Ds=15,YC=16,nd=17,Ln=18,KC=19,Ub=20,ju=21,Wc=22,id=23,ki=25,rd=1,Zh=6,Zu=7,Pp=9,JA=10;var qC=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(qC||{});function To(n){return Array.isArray(n)&&"object"==typeof n[rd]}function Ia(n){return Array.isArray(n)&&!0===n[rd]}function BE(n){return!!(4&n.flags)}function Ad(n){return n.componentOffset>-1}function Hp(n){return!(1&~n.flags)}function hu(n){return!!n.template}function HQ(n){return!!(512&n[ci])}class qb{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function VQ(n,e,t,i){null!==e?e.applyValueToInputSignal(e,i):n[t]=i}function Js(){return Jb}function Jb(n){return n.type.prototype.ngOnChanges&&(n.setInput=Rk),Fk}function Fk(){const n=EE(this),e=n?.current;if(e){const t=n.previous;if(t===zu)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Rk(n,e,t,i,r){const A=this.declaredInputs[i],s=EE(n)||function Tk(n,e){return n[jc]=e}(n,{previous:zu,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[A];o[A]=new qb(c&&c.currentValue,t,a===zu),VQ(n,e,r,t)}Js.ngInherit=!0;const jc="__ngSimpleChanges__";function EE(n){return n[jc]||null}const Xu=function(n,e,t){};let Wb=!1;function NA(n){for(;Array.isArray(n);)n=n[Es];return n}function sd(n,e){return NA(e[n])}function Ba(n,e){return NA(e[n.index])}function Wg(n,e){return n.data[e]}function Yp(n,e){return n[e]}function Zc(n,e){const t=e[n];return To(t)?t:t[Es]}function JC(n){return!(128&~n[ci])}function $u(n,e){return null==e?null:n[e]}function Zb(n){n[nd]=0}function Ok(n){1024&n[ci]||(n[ci]|=1024,JC(n)&&VC(n))}function jQ(n){return!!(9216&n[ci]||n[id]?.dirty)}function ZQ(n){n[bl].changeDetectionScheduler?.notify(1),jQ(n)?VC(n):64&n[ci]&&(function Lk(){return Wb}()?(n[ci]|=1024,VC(n)):n[bl].changeDetectionScheduler?.notify())}function VC(n){n[bl].changeDetectionScheduler?.notify();let e=Xh(n);for(;null!==e&&!(8192&e[ci])&&(e[ci]|=8192,JC(e));)e=Xh(e)}function zC(n,e){if(!(256&~n[ci]))throw new Qt(911,!1);null===n[ju]&&(n[ju]=[]),n[ju].push(e)}function Xh(n){const e=n[qs];return Ia(e)?e[qs]:e}const wi={lFrame:cS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function WC(){return wi.bindingsEnabled}function jg(){return null!==wi.skipHydrationRootTNode}function Lt(){return wi.lFrame.lView}function Fr(){return wi.lFrame.tView}function zn(n){return wi.lFrame.contextLView=n,n[ts]}function $n(n){return wi.lFrame.contextLView=null,n}function _A(){let n=nS();for(;null!==n&&64===n.type;)n=n.parent;return n}function nS(){return wi.lFrame.currentTNode}function jC(){const n=wi.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function fu(n,e){const t=wi.lFrame;t.currentTNode=n,t.isParent=e}function $h(){return wi.lFrame.isParent}function ZC(){wi.lFrame.isParent=!1}function Ya(){const n=wi.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Xc(){return wi.lFrame.bindingIndex++}function eg(n){const e=wi.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function wE(n){wi.lFrame.inI18n=n}function AS(n,e){const t=wi.lFrame;t.bindingIndex=t.bindingRootIndex=n,ew(e)}function ew(n){wi.lFrame.currentDirectiveIndex=n}function qp(){return wi.lFrame.currentQueryIndex}function XC(n){wi.lFrame.currentQueryIndex=n}function oS(n){const e=n[wn];return 2===e.type?e.declTNode:1===e.type?n[Ca]:null}function aS(n,e,t){if(t&xr.SkipSelf){let r=e,A=n;for(;!(r=r.parent,null!==r||t&xr.Host||(r=oS(A),null===r||(A=A[Gp],10&r.type))););if(null===r)return!1;e=r,n=A}const i=wi.lFrame=tw();return i.currentTNode=e,i.lView=n,!0}function _E(n){const e=tw(),t=n[wn];wi.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function tw(){const n=wi.lFrame,e=null===n?null:n.child;return null===e?cS(n):e}function cS(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function lS(){const n=wi.lFrame;return wi.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const od=lS;function DE(){const n=lS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ts(){return wi.lFrame.selectedIndex}function Sl(n){wi.lFrame.selectedIndex=n}function Zr(){const n=wi.lFrame;return Wg(n.tView,n.selectedIndex)}function nw(){return wi.lFrame.currentNamespace}let iw=!0;function ad(){return iw}function dc(n){iw=n}function eI(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const A=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:o,ngAfterViewInit:a,ngAfterViewChecked:c,ngOnDestroy:l}=A;s&&(n.contentHooks??=[]).push(-t,s),o&&((n.contentHooks??=[]).push(t,o),(n.contentCheckHooks??=[]).push(t,o)),a&&(n.viewHooks??=[]).push(-t,a),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=l&&(n.destroyHooks??=[]).push(t,l)}}function cd(n,e,t){hS(n,e,3,t)}function bE(n,e,t,i){(3&n[ci])===t&&hS(n,e,t,i)}function rw(n,e){let t=n[ci];(3&t)===e&&(t&=16383,t+=1,n[ci]=t)}function hS(n,e,t,i){const A=i??-1,s=e.length-1;let o=0;for(let a=void 0!==i?65535&n[nd]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=i&&o>=i)break}else e[a]<0&&(n[nd]+=65536),(o<A||-1==A)&&(Kk(n,t,e,a),n[nd]=(4294901760&n[nd])+a+2),a++}function fS(n,e){Xu(4,n,e);const t=xt(null);try{e.call(n)}finally{xt(t),Xu(5,n,e)}}function Kk(n,e,t,i){const r=t[i]<0,A=t[i+1],o=n[r?-t[i]:t[i]];r?n[ci]>>14<n[nd]>>16&&(3&n[ci])===e&&(n[ci]+=16384,fS(o,A)):fS(o,A)}const ef=-1;class tI{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function ow(n){return n!==ef}function nI(n){return 32767&n}function iI(n,e){let t=function pS(n){return n>>16}(n),i=e;for(;t>0;)i=i[Gp],t--;return i}let aw=!0;function SE(n){const e=aw;return aw=n,e}const mS=255,ME=5;let Wk=0;const Ml={};function Gn(n,e){const t=rI(n,e);if(-1!==t)return t;const i=e[wn];i.firstCreatePass&&(n.injectorIndex=e.length,tf(i.data,n),tf(e,null),tf(i.blueprint,null));const r=Ka(n,e),A=n.injectorIndex;if(ow(r)){const s=nI(r),o=iI(r,e),a=o[wn].data;for(let c=0;c<8;c++)e[A+c]=o[s+c]|a[s+c]}return e[A+8]=r,A}function tf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function rI(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Ka(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=uw(r),null===i)return ef;if(t++,r=r[Gp],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return ef}function cw(n,e,t){!function jk(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(TC)&&(i=t[TC]),null==i&&(i=t[TC]=Wk++);const r=i&mS;e.data[n+(r>>ME)]|=1<<r}(n,e,t)}function ls(n,e,t){if(t&xr.Optional||void 0!==n)return n;QQ()}function AI(n,e,t,i){if(t&xr.Optional&&void 0===i&&(i=null),!(t&(xr.Self|xr.Host))){const r=n[Ao],A=gc(void 0);try{return r?r.get(e,i,t&xr.Optional):oE(e,i,t&xr.Optional)}finally{gc(A)}}return ls(i,0,t)}function CS(n,e,t,i=xr.Default,r){if(null!==n){if(2048&e[ci]&&!(i&xr.Self)){const s=function $k(n,e,t,i,r){let A=n,s=e;for(;null!==A&&null!==s&&2048&s[ci]&&!(512&s[ci]);){const o=sI(A,s,t,i|xr.Self,Ml);if(o!==Ml)return o;let a=A.parent;if(!a){const c=s[Ub];if(c){const l=c.get(t,Ml,i);if(l!==Ml)return l}a=uw(s),s=s[Gp]}A=a}return r}(n,e,t,i,Ml);if(s!==Ml)return s}const A=sI(n,e,t,i,Ml);if(A!==Ml)return A}return AI(e,t,i,r)}function sI(n,e,t,i,r){const A=function Xk(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(TC)?n[TC]:void 0;return"number"==typeof e?e>=0?e&mS:BS:e}(t);if("function"==typeof A){if(!aS(e,n,i))return i&xr.Host?ls(r,0,i):AI(e,t,i,r);try{let s;if(s=A(i),null!=s||i&xr.Optional)return s;QQ()}finally{od()}}else if("number"==typeof A){let s=null,o=rI(n,e),a=ef,c=i&xr.Host?e[Ds][Ca]:null;for((-1===o||i&xr.SkipSelf)&&(a=-1===o?Ka(n,e):e[o+8],a!==ef&&IS(i,!1)?(s=e[wn],o=nI(a),e=iI(a,e)):o=-1);-1!==o;){const l=e[wn];if(lw(A,o,l.data)){const u=Zk(o,e,t,s,i,c);if(u!==Ml)return u}a=e[o+8],a!==ef&&IS(i,e[wn].data[o+8]===c)&&lw(A,o,e)?(s=l,o=nI(a),e=iI(a,e)):o=-1}}return r}function Zk(n,e,t,i,r,A){const s=e[wn],o=s.data[n+8],l=ld(o,s,t,null==i?Ad(o)&&aw:i!=s&&!!(3&o.type),r&xr.Host&&A===o);return null!==l?ud(e,s,l,o):Ml}function ld(n,e,t,i,r){const A=n.providerIndexes,s=e.data,o=1048575&A,a=n.directiveStart,l=A>>20,h=r?o+l:n.directiveEnd;for(let g=i?o:o+l;g<h;g++){const f=s[g];if(g<a&&t===f||g>=a&&f.type===t)return g}if(r){const g=s[a];if(g&&hu(g)&&g.type===t)return a}return null}function ud(n,e,t,i){let r=n[t];const A=e.data;if(function qk(n){return n instanceof tI}(r)){const s=r;s.resolving&&function JT(n,e){throw e&&e.join(" > "),new Qt(-200,n)}(function fA(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Oi(n)}(A[t]));const o=SE(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?gc(s.injectImpl):null;aS(n,i,xr.Default);try{r=n[t]=s.factory(void 0,A,n,i),e.firstCreatePass&&t>=i.directiveStart&&function gS(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:A}=e.type.prototype;if(i){const s=Jb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),A&&((t.preOrderHooks??=[]).push(n,A),(t.preOrderCheckHooks??=[]).push(n,A))}(t,A[t],e)}finally{null!==c&&gc(c),SE(o),s.resolving=!1,od()}}return r}function lw(n,e,t){return!!(t[e+(n>>ME)]&1<<n)}function IS(n,e){return!(n&xr.Self||n&xr.Host&&e)}class so{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return CS(this._tNode,this._lView,e,uu(i),t)}}function BS(){return new so(_A(),Lt())}function FA(n){return qA(()=>{const e=n.prototype.constructor,t=e[qg]||NE(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const A=r[qg]||NE(r);if(A&&A!==t)return A;r=Object.getPrototypeOf(r)}return A=>new A})}function NE(n){return rE(n)?()=>{const e=NE(mi(n));return e&&e()}:hc(n)}function uw(n){const e=n[wn],t=e.type;return 2===t?e.declTNode:1===t?n[Ca]:null}function vS(n,e=null,t=null,i){const r=hw(n,e,t,i);return r.resolveInjectorInitializers(),r}function hw(n,e=null,t=null,i,r=new Set){const A=[t||Wi,lk(n)];return i=i||("object"==typeof n?void 0:Co(n)),new kp(A,e||dE(),i||null,r)}let ks=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Jg}static{this.NULL=new ed}static create(t,i){if(Array.isArray(t))return vS({name:""},i,t,"");{const r=t.name??"";return vS({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=Wt({token:n,providedIn:"any",factory:()=>cn(yb)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function fw(n){return n.ngOriginalError}class du{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&fw(e);for(;t&&fw(t);)t=fw(t);return t||null}}const QS=new xn("",{providedIn:"root",factory:()=>ze(du).handleError.bind(void 0)});let tg=(()=>{class n{static{this.__NG_ELEMENT_ID__=sL}static{this.__NG_ENV_ID__=t=>t}}return n})();class AL extends tg{constructor(e){super(),this._lView=e}onDestroy(e){return zC(this._lView,e),()=>function vE(n,e){if(null===n[ju])return;const t=n[ju].indexOf(e);-1!==t&&n[ju].splice(t,1)}(this._lView,e)}}function sL(){return new AL(Lt())}function _(){return Q(_A(),Lt())}function Q(n,e){return new N(Ba(n,e))}let N=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=_}}return n})();function x(n){return n instanceof N?n.nativeElement:n}function ne(n){return e=>{setTimeout(n,void 0,e)}}const ae=class q extends zi{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Rb()&&(this.destroyRef=ze(tg,{optional:!0})??void 0)}emit(e){const t=xt(null);try{super.next(e)}finally{xt(t)}}subscribe(e,t,i){let r=e,A=t||(()=>null),s=i;if(e&&"object"==typeof e){const a=e;r=a.next?.bind(a),A=a.error?.bind(a),s=a.complete?.bind(a)}this.__isAsync&&(A=ne(A),r&&(r=ne(r)),s&&(s=ne(s)));const o=super.subscribe({next:r,error:A,complete:s});return e instanceof Nr&&e.add(o),o}};function Fe(){return this._results[Symbol.iterator]()}class xe{get changes(){return this._changes??=new ae}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=xe.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Fe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function pA(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Vh(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],A=e[i];if(t&&(r=t(r),A=t(A)),A!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const Ze="ngSkipHydration",ot="ngskiphydration";function pt(n){const e=n.mergedAttrs;if(null===e)return!1;for(let t=0;t<e.length;t+=2){const i=e[t];if("number"==typeof i)return!1;if("string"==typeof i&&i.toLowerCase()===ot)return!0}return!1}function Ut(n){return n.hasAttribute(Ze)}function Yn(n){return!(128&~n.flags)}const Un=new Map;let ur=0;const Si="__ngContext__";function Pr(n,e){To(e)?(n[Si]=e[KC],function ti(n){Un.set(n[KC],n)}(e)):n[Si]=e}function Af(n){return pd(n[HC])}function ng(n){return pd(n[MA])}function pd(n){for(;null!==n&&!Ia(n);)n=n[MA];return n}let oL;function jp(){if(void 0!==oL)return oL;if(typeof document<"u")return document;throw new Qt(210,!1)}const _S=new xn("",{providedIn:"root",factory:()=>Afe}),Afe="ng",zK=new xn(""),ig=new xn("",{providedIn:"platform",factory:()=>"unknown"}),aL=new xn(""),WK=new xn("",{providedIn:"root",factory:()=>jp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function afe(){const n=new RE;return"browser"===ze(ig)&&(n.store=function cfe(n,e){const t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(i){console.warn("Exception while restoring TransferState for app "+e,i)}return{}}(jp(),ze(_S))),n}let RE=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=Wt({token:n,providedIn:"root",factory:afe})}get(t,i){return void 0!==this.store[t]?this.store[t]:i}set(t,i){this.store[t]=i}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,i){this.onSerializeCallbacks[t]=i}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const cL="h",lL="b";var TE=function(n){return n.FirstChild="f",n.NextSibling="n",n}(TE||{});const uL="e",gL="t",dw="c",DS="x",kE="r",hL="i",fL="n",bS="d",dL="__nghData__",pw="ngh",lfe="nghm";let jK=()=>null;function ufe(n,e,t=!1){let i=n.getAttribute(pw);if(null==i)return null;const[r,A]=i.split("|");if(i=t?A:r,!i)return null;const o=t?r:A?`|${A}`:"";let a={};if(""!==i){const l=e.get(RE,null,{optional:!0});null!==l&&(a=l.get(dL,[])[Number(i)])}const c={data:a,firstChild:n.firstChild??null};return t&&(c.firstChild=n,SS(c,0,n.nextSibling)),o?n.setAttribute(pw,o):n.removeAttribute(pw),c}function pL(n,e,t=!1){return jK(n,e,t)}function ZK(n){let e=n._lView;return 2===e[wn].type?null:(HQ(e)&&(e=e[ki]),e)}function SS(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function CL(n,e){return n.segmentHeads?.[e]??null}function $K(n,e){return n.data[dw]?.[e]??null}function IL(n,e){const t=$K(n,e)??[];let i=0;for(let r of t)i+=r[kE]*(r[DS]??1);return i}function MS(n,e){if(typeof n.disconnectedNodes>"u"){const t=n.data[bS];n.disconnectedNodes=t?new Set(t):null}return!!n.disconnectedNodes?.has(e)}const NS=new xn(""),tq=new xn("",{providedIn:"root",factory:()=>!1}),nq=new xn("");let xS,FS;function LE(n){return function BL(){if(void 0===xS&&(xS=null,yA.trustedTypes))try{xS=yA.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xS}()?.createHTML(n)||n}function Aq(n){return function EL(){if(void 0===FS&&(FS=null,yA.trustedTypes))try{FS=yA.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return FS}()?.createScriptURL(n)||n}class sq{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tE})`}}function Zp(n){return n instanceof sq?n.changingThisBreaksApplicationSecurity:n}function Iw(n,e){const t=function wfe(n){return n instanceof sq&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${tE})`)}return t===e}class _fe{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(LE(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Dfe{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=LE(e),t}}const Sfe=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vL(n){return(n=String(n)).match(Sfe)?n:"unsafe:"+n}function md(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Bw(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const aq=md("area,br,col,hr,img,wbr"),cq=md("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lq=md("rp,rt"),yL=Bw(aq,Bw(cq,md("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bw(lq,md("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bw(lq,cq)),QL=md("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uq=Bw(QL,md("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),md("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var UE=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(UE||{});function bs(n){const e=Ew();return e?e.sanitize(UE.URL,n)||"":Iw(n,"URL")?Zp(n):vL(Oi(n))}function dq(n){const e=Ew();if(e)return Aq(e.sanitize(UE.RESOURCE_URL,n)||"");if(Iw(n,"ResourceURL"))return Aq(Zp(n));throw new Qt(904,!1)}function Ew(){const n=Lt();return n&&n[bl].sanitizer}const qfe=/^>|^->|<!--|-->|--!>|<!-$/g,Jfe=/(<|>)/g,Vfe="\u200b$1\u200b";function Bq(n){return n.ownerDocument.defaultView}function mu(n){return n instanceof Function?n():n}function nh(n){return"browser"===(n??ze(ks)).get(ig)}var Xp=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Xp||{});let SL;function ML(n,e){return SL(n,e)}function GE(n,e,t,i,r){if(null!=i){let A,s=!1;Ia(i)?A=i:To(i)&&(s=!0,i=i[Es]);const o=NA(i);0===n&&null!==t?null==r?Sq(e,t,o):aI(e,t,o,r||null,!0):1===n&&null!==t?aI(e,t,o,r||null,!0):2===n?Qw(e,o,s):3===n&&e.destroyNode(o),null!=A&&function fde(n,e,t,i,r){const A=t[Zu];A!==NA(t)&&GE(e,n,i,A,r);for(let o=JA;o<t.length;o++){const a=t[o];PS(a[wn],a,n,e,i,A)}}(e,n,A,t,r)}}function NL(n,e){return n.createText(e)}function xL(n,e){return n.createComment(function mq(n){return n.replace(qfe,e=>e.replace(Jfe,Vfe))}(e))}function LS(n,e,t){return n.createElement(e,t)}function _q(n,e){e[bl].changeDetectionScheduler?.notify(1),PS(n,e,e[bi],2,null,null)}function Dq(n,e){const t=n[Pp],i=t.indexOf(e);t.splice(i,1)}function vw(n,e){if(n.length<=JA)return;const t=JA+e,i=n[t];if(i){const r=i[YC];null!==r&&r!==n&&Dq(r,i),e>0&&(n[t-1][MA]=i[MA]);const A=LC(n,JA+e);!function rde(n,e){_q(n,e),e[Es]=null,e[Ca]=null}(i[wn],i);const s=A[Ln];null!==s&&s.detachView(A[wn]),i[qs]=null,i[MA]=null,i[ci]&=-129}return i}function US(n,e){if(!(256&e[ci])){const t=e[bi];t.destroyNode&&PS(n,e,t,3,null,null),function sde(n){let e=n[HC];if(!e)return FL(n[wn],n);for(;e;){let t=null;if(To(e))t=e[HC];else{const i=e[JA];i&&(t=i)}if(!t){for(;e&&!e[MA]&&e!==n;)To(e)&&FL(e[wn],e),e=e[qs];null===e&&(e=n),To(e)&&FL(e[wn],e),t=e&&e[MA]}e=t}}(e)}}function FL(n,e){if(256&e[ci])return;const t=xt(null);try{e[ci]&=-129,e[ci]|=256,e[id]&&function Qi(n){if(Yi(n),Mr(n))for(let e=0;e<n.producerNode.length;e++)hA(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[id]),function lde(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof tI)){const A=t[i+1];if(Array.isArray(A))for(let s=0;s<A.length;s+=2){const o=r[A[s]],a=A[s+1];Xu(4,o,a);try{a.call(o)}finally{Xu(5,o,a)}}else{Xu(4,r,A);try{A.call(r)}finally{Xu(5,r,A)}}}}}(n,e),function cde(n,e){const t=n.cleanup,i=e[Op];if(null!==t)for(let A=0;A<t.length-1;A+=2)if("string"==typeof t[A]){const s=t[A+3];s>=0?i[s]():i[-s].unsubscribe(),A+=2}else t[A].call(i[t[A+1]]);null!==i&&(e[Op]=null);const r=e[ju];if(null!==r){e[ju]=null;for(let A=0;A<r.length;A++)(0,r[A])()}}(n,e),1===e[wn].type&&e[bi].destroy();const i=e[YC];if(null!==i&&Ia(e[qs])){i!==e[qs]&&Dq(i,e);const r=e[Ln];null!==r&&r.detachView(n)}!function fr(n){Un.delete(n[KC])}(e)}finally{xt(t)}}function RL(n,e,t){return bq(n,e.parent,t)}function bq(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Es];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:A}=n.data[i.directiveStart+r];if(A===Dl.None||A===Dl.Emulated)return null}return Ba(i,t)}}function aI(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Sq(n,e,t){n.appendChild(e,t)}function Mq(n,e,t,i,r){null!==i?aI(n,e,t,i,r):Sq(n,e,t)}function OS(n,e){return n.parentNode(e)}function Nq(n,e,t){return Fq(n,e,t)}function xq(n,e,t){return 40&n.type?Ba(n,t):null}let TL,Fq=xq;function Rq(n,e){Fq=n,TL=e}function GS(n,e,t,i){const r=RL(n,i,e),A=e[bi],o=Nq(i.parent||e[Ca],i,e);if(null!=r)if(Array.isArray(t))for(let a=0;a<t.length;a++)Mq(A,r,t[a],o,!1);else Mq(A,r,t,o,!1);void 0!==TL&&TL(A,i,e,t,r)}function yw(n,e){if(null!==e){const t=e.type;if(3&t)return Ba(e,n);if(4&t)return kL(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return yw(n,i);{const r=n[e.index];return Ia(r)?kL(-1,r):NA(r)}}if(32&t)return ML(e,n)()||NA(n[e.index]);{const i=Tq(n,e);return null!==i?Array.isArray(i)?i[0]:yw(Xh(n[Ds]),i):yw(n,e.next)}}return null}function Tq(n,e){return null!==e?n[Ds][Ca].projection[e.projection]:null}function kL(n,e){const t=JA+n+1;if(t<e.length){const i=e[t],r=i[wn].firstChild;if(null!==r)return yw(i,r)}return e[Zu]}function Qw(n,e,t){const i=OS(n,e);i&&function ude(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}function kq(n){n.textContent=""}function LL(n,e,t,i,r,A,s){for(;null!=t;){const o=i[t.index],a=t.type;if(s&&0===e&&(o&&Pr(NA(o),i),t.flags|=2),32&~t.flags)if(8&a)LL(n,e,t.child,i,r,A,!1),GE(e,n,r,o,A);else if(32&a){const c=ML(t,i);let l;for(;l=c();)GE(e,n,r,l,A);GE(e,n,r,o,A)}else 16&a?Lq(n,e,i,t,r,A):GE(e,n,r,o,A);t=s?t.projectionNext:t.next}}function PS(n,e,t,i,r,A){LL(t,i,n.firstChild,e,r,A,!1)}function Lq(n,e,t,i,r,A){const s=t[Ds],a=s[Ca].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)GE(e,n,r,a[c],A);else{let c=a;const l=s[qs];Yn(i)&&(c.flags|=128),LL(n,e,c,l,r,A,!0)}}function Uq(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Oq(n,e,t){const{mergedAttrs:i,classes:r,styles:A}=t;null!==i&&lE(n,e,i),null!==r&&Uq(n,e,r),null!==A&&function pde(n,e,t){n.setAttribute(e,"style",t)}(n,e,A)}const nr={};function ke(n=1){Gq(Fr(),Lt(),Ts()+n,!1)}function Gq(n,e,t,i){if(!i)if(3&~e[ci]){const A=n.preOrderHooks;null!==A&&bE(e,A,0,t)}else{const A=n.preOrderCheckHooks;null!==A&&cd(e,A,t)}Sl(t)}function yt(n,e=xr.Default){const t=Lt();return null===t?cn(n,e):CS(_A(),t,mi(n),e)}function Hq(n,e,t,i,r,A){const s=xt(null);try{let o=null;r&Ki.SignalBased&&(o=e[i][Vt]),null!==o&&void 0!==o.transformFn&&(A=o.transformFn(A)),r&Ki.HasDecoratorInputTransform&&(A=n.inputTransforms[i].call(e,A)),null!==n.setInput?n.setInput(e,o,A,t,i):VQ(e,o,i,A)}finally{xt(s)}}function HS(n,e,t,i,r,A,s,o,a,c,l){const u=e.blueprint.slice();return u[Es]=r,u[ci]=204|i,(null!==c||n&&2048&n[ci])&&(u[ci]|=2048),Zb(u),u[qs]=u[Gp]=n,u[ts]=t,u[bl]=s||n&&n[bl],u[bi]=o||n&&n[bi],u[Ao]=a||n&&n[Ao]||null,u[Ca]=A,u[KC]=function si(){return ur++}(),u[zc]=l,u[Ub]=c,u[Ds]=2==e.type?n[Ds]:u,u}function PE(n,e,t,i,r){let A=n.data[e];if(null===A)A=UL(n,e,t,i,r),function rS(){return wi.lFrame.inI18n}()&&(A.flags|=32);else if(64&A.type){A.type=t,A.value=i,A.attrs=r;const s=jC();A.injectorIndex=null===s?-1:s.injectorIndex}return fu(A,!0),A}function UL(n,e,t,i,r){const A=nS(),s=$h(),a=n.data[e]=function Qde(n,e,t,i,r,A){let s=e?e.injectorIndex:-1,o=0;return jg()&&(o|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:o,providerIndexes:0,value:r,attrs:A,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?A:A&&A.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=a),null!==A&&(s?null==A.child&&null!==a.parent&&(A.child=a):null===A.next&&(A.next=a,a.prev=A)),a}function ww(n,e,t,i){if(0===t)return-1;const r=e.length;for(let A=0;A<t;A++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Yq(n,e,t,i,r){const A=Ts(),s=2&i;try{Sl(-1),s&&e.length>ki&&Gq(n,e,ki,!1),Xu(s?2:0,r),t(i,r)}finally{Sl(A),Xu(s?3:1,r)}}function OL(n,e,t){if(BE(e)){const i=xt(null);try{const A=e.directiveEnd;for(let s=e.directiveStart;s<A;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}finally{xt(i)}}}function GL(n,e,t){WC()&&(function Nde(n,e,t,i){const r=t.directiveStart,A=t.directiveEnd;Ad(t)&&function Ude(n,e,t){const i=Ba(e,n),r=Kq(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const o=YS(n,HS(n,r,null,s,i,e,null,n[bl].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=o}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Gn(t,e),Pr(i,e);const s=t.initialInputs;for(let o=r;o<A;o++){const a=n.data[o],c=ud(e,n,o,t);Pr(c,e),null!==s&&Ode(0,o-r,c,a,0,s),hu(a)&&(Zc(t.index,e)[ts]=ud(e,n,o,t))}}(n,e,t,Ba(t,e)),!(64&~t.flags)&&Wq(n,e,t))}function PL(n,e,t=Ba){const i=e.localNames;if(null!==i){let r=e.index+1;for(let A=0;A<i.length;A+=2){const s=i[A+1],o=-1===s?t(e,n):n[s];n[r++]=o}}}function Kq(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=HL(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function HL(n,e,t,i,r,A,s,o,a,c,l){const u=ki+i,h=u+r,g=function Cde(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:nr);return t}(u,h),f="function"==typeof c?c():c;return g[wn]={type:n,blueprint:g,template:t,queries:null,viewQuery:o,declTNode:e,data:g.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof A?A():A,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:f,incompleteFirstPass:!1,ssrId:l}}let qq=()=>null;function Ede(n){Ut(n)?kq(n):function ffe(n){const e=jp(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(A){const s=function hfe(n){return n.textContent?.replace(/\s/gm,"")}(A);return"ngetn"===s||"ngtns"===s?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let i;const r=[];for(;i=t.nextNode();)r.push(i);for(const A of r)"ngetn"===A.textContent?A.replaceWith(e.createTextNode("")):A.remove()}(n)}function Jq(n,e,t,i,r){for(let A in e){if(!e.hasOwnProperty(A))continue;const s=e[A];if(void 0===s)continue;i??={};let o,a=Ki.None;Array.isArray(s)?(o=s[0],a=s[1]):o=s;let c=A;if(null!==r){if(!r.hasOwnProperty(A))continue;c=r[A]}0===n?Vq(i,t,c,o,a):Vq(i,t,c,o)}return i}function Vq(n,e,t,i,r){let A;n.hasOwnProperty(t)?(A=n[t]).push(e,i):A=n[t]=[e,i],void 0!==r&&A.push(r)}function Nl(n,e,t,i,r,A,s,o){const a=Ba(e,t);let l,c=e.inputs;!o&&null!=c&&(l=c[i])?(VL(n,t,l,i,r),Ad(e)&&function Dde(n,e){const t=Zc(e,n);16&t[ci]||(t[ci]|=64)}(t,e.index)):3&e.type&&(i=function _de(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,A.setProperty(a,i,r))}function YL(n,e,t,i){if(WC()){const r=null===i?null:{"":-1},A=function Fde(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let A=0;A<t.length;A++){const s=t[A];if(Db(e,s.selectors,!1))if(i||(i=[]),hu(s))if(null!==s.findHostDirectiveDefs){const o=[];r=r||new Map,s.findHostDirectiveDefs(s,o,r),i.unshift(...o,s),KL(n,e,o.length)}else i.unshift(s),KL(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,o;null===A?s=o=null:[s,o]=A,null!==s&&zq(n,e,t,s,r,o),r&&function Rde(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const A=t[e[r+1]];if(null==A)throw new Qt(-301,!1);i.push(e[r],A)}}}(t,i,r)}t.mergedAttrs=xp(t.mergedAttrs,t.attrs)}function zq(n,e,t,i,r,A){for(let c=0;c<i.length;c++)cw(Gn(t,e),n,i[c].type);!function kde(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const l=i[c];l.providersResolver&&l.providersResolver(l)}let s=!1,o=!1,a=ww(n,e,i.length,null);for(let c=0;c<i.length;c++){const l=i[c];t.mergedAttrs=xp(t.mergedAttrs,l.hostAttrs),Lde(n,t,e,a,l),Tde(a,l,r),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const u=l.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!o&&(u.ngOnChanges||u.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),o=!0),a++}!function wde(n,e,t){const r=e.directiveEnd,A=n.data,s=e.attrs,o=[];let a=null,c=null;for(let l=e.directiveStart;l<r;l++){const u=A[l],h=t?t.get(u):null,f=h?h.outputs:null;a=Jq(0,u.inputs,l,a,h?h.inputs:null),c=Jq(1,u.outputs,l,c,f);const d=null===a||null===s||FQ(e)?null:Gde(a,l,s);o.push(d)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=8),a.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=o,e.inputs=a,e.outputs=c}(n,t,A)}function Wq(n,e,t){const i=t.directiveStart,r=t.directiveEnd,A=t.index,s=function sS(){return wi.lFrame.currentDirectiveIndex}();try{Sl(A);for(let o=i;o<r;o++){const a=n.data[o],c=e[o];ew(o),(null!==a.hostBindings||0!==a.hostVars||null!==a.hostAttrs)&&xde(a,c)}}finally{Sl(-1),ew(s)}}function xde(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function KL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Tde(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;hu(e)&&(t[""]=n)}}function Lde(n,e,t,i,r){n.data[i]=r;const A=r.factory||(r.factory=hc(r.type)),s=new tI(A,hu(r),yt);n.blueprint[i]=s,t[i]=s,function Sde(n,e,t,i,r){const A=r.hostBindings;if(A){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const o=~e.index;(function Mde(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=o&&s.push(o),s.push(t,i,A)}}(n,e,i,ww(n,t,r.hostVars,nr),r)}function af(n,e,t,i,r,A){const s=Ba(n,e);!function qL(n,e,t,i,r,A,s){if(null==A)n.removeAttribute(e,r,t);else{const o=null==s?Oi(A):s(A,i||"",r);n.setAttribute(e,r,o,t)}}(e[bi],s,A,n.value,t,i,r)}function Ode(n,e,t,i,r,A){const s=A[e];if(null!==s)for(let o=0;o<s.length;)Hq(i,t,s[o++],s[o++],s[o++],s[o++])}function Gde(n,e,t){let i=null,r=0;for(;r<t.length;){const A=t[r];if(0!==A)if(5!==A){if("number"==typeof A)break;if(n.hasOwnProperty(A)){null===i&&(i=[]);const s=n[A];for(let o=0;o<s.length;o+=3)if(s[o]===e){i.push(A,s[o+1],s[o+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function jq(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function Zq(n,e){const t=n.contentQueries;if(null!==t){const i=xt(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];XC(t[r]),o.contentQueries(2,e[s],s)}}}finally{xt(i)}}}function YS(n,e){return n[HC]?n[Lb][MA]=e:n[HC]=e,n[Lb]=e,e}function JL(n,e,t){XC(0);const i=xt(null);try{e(n,t)}finally{xt(i)}}function Xq(n){return n[Op]||(n[Op]=[])}function $q(n){return n.cleanup||(n.cleanup=[])}function KS(n,e){const t=n[Ao],i=t?t.get(du,null):null;i&&i.handleError(e)}function VL(n,e,t,i,r){for(let A=0;A<t.length;){const s=t[A++],o=t[A++],a=t[A++];Hq(n.data[s],e[s],i,o,a,r)}}function Cd(n,e,t){const i=sd(e,n);!function wq(n,e,t){n.setValue(e,t)}(n[bi],i,t)}function Pde(n,e){const t=Zc(e,n),i=t[wn];!function Hde(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Es];null!==r&&null===t[zc]&&(t[zc]=pL(r,t[Ao])),zL(i,t,t[ts])}function zL(n,e,t){_E(e);try{const i=n.viewQuery;null!==i&&JL(1,i,t);const r=n.template;null!==r&&Yq(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ln]?.finishViewCreation(n),n.staticContentQueries&&Zq(n,e),n.staticViewQueries&&JL(2,n.viewQuery,t);const A=n.components;null!==A&&function Yde(n,e){for(let t=0;t<e.length;t++)Pde(n,e[t])}(e,A)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ci]&=-5,DE()}}function _w(n,e,t,i){const r=xt(null);try{const A=e.tView,a=HS(n,A,t,4096&n[ci]?4096:16,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);a[YC]=n[e.index];const l=n[Ln];return null!==l&&(a[Ln]=l.createEmbeddedView(A)),zL(A,a,t),a}finally{xt(r)}}function tJ(n,e){const t=JA+e;if(t<n.length)return n[t]}function HE(n,e){return!e||null===e.firstChild||Yn(n)}function Dw(n,e,t,i=!0){const r=e[wn];if(function ode(n,e,t,i){const r=JA+i,A=t.length;i>0&&(t[r-1][MA]=e),i<A-JA?(e[MA]=t[r],DQ(t,JA+i,e)):(t.push(e),e[MA]=null),e[qs]=t;const s=e[YC];null!==s&&t!==s&&function ade(n,e){const t=n[Pp];e[Ds]!==e[qs][qs][Ds]&&(n[ci]|=qC.HasTransplantedViews),null===t?n[Pp]=[e]:t.push(e)}(s,e);const o=e[Ln];null!==o&&o.insertView(n),ZQ(e),e[ci]|=128}(r,e,n,t),i){const s=kL(t,n),o=e[bi],a=OS(o,n[Zu]);null!==a&&function Ade(n,e,t,i,r,A){i[Es]=r,i[Ca]=e,PS(n,i,t,1,r,A)}(r,n[Ca],o,e,a,s)}const A=e[zc];null!==A&&null!==A.firstChild&&(A.firstChild=null)}function WL(n,e){const t=vw(n,e);return void 0!==t&&US(t[wn],t),t}function bw(n,e,t,i,r=!1){for(;null!==t;){const A=e[t.index];null!==A&&i.push(NA(A)),Ia(A)&&nJ(A,i);const s=t.type;if(8&s)bw(n,e,t.child,i);else if(32&s){const o=ML(t,e);let a;for(;a=o();)i.push(a)}else if(16&s){const o=Tq(e,t);if(Array.isArray(o))i.push(...o);else{const a=Xh(e[Ds]);bw(a[wn],a,o,i,!0)}}t=r?t.projectionNext:t.next}return i}function nJ(n,e){for(let t=JA;t<n.length;t++){const i=n[t],r=i[wn].firstChild;null!==r&&bw(i[wn],i,r,e)}n[Zu]!==n[Es]&&e.push(n[Zu])}let iJ=[];const Vde={...gt,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{VC(n.lView)},consumerOnSignalRead(){this.lView[id]=this}},rJ=100;function qS(n,e=!0,t=0){const i=n[bl],r=i.rendererFactory;r.begin?.();try{!function zde(n,e){jL(n,e);let t=0;for(;jQ(n);){if(t===rJ)throw new Qt(103,!1);t++,jL(n,1)}}(n,t)}catch(s){throw e&&KS(n,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function Wde(n,e,t,i){const r=e[ci];if(!(256&~r))return;e[bl].inlineEffectRunner?.flush(),_E(e);let s=null,o=null;(function jde(n){return 2!==n.type})(n)&&(o=function Kde(n){return n[id]??function qde(n){const e=iJ.pop()??Object.create(Vde);return e.lView=n,e}(n)}(e),s=function rn(n){return n&&(n.nextProducerIndex=0),xt(n)}(o));try{Zb(e),function $Q(n){return wi.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Yq(n,e,t,2,i);const a=!(3&~r);if(a){const u=n.preOrderCheckHooks;null!==u&&cd(e,u,null)}else{const u=n.preOrderHooks;null!==u&&bE(e,u,0,null),rw(e,0)}if(function Zde(n){for(let e=Af(n);null!==e;e=ng(e)){if(!(e[ci]&qC.HasTransplantedViews))continue;const t=e[Pp];for(let i=0;i<t.length;i++){Ok(t[i])}}}(e),AJ(e,0),null!==n.contentQueries&&Zq(n,e),a){const u=n.contentCheckHooks;null!==u&&cd(e,u)}else{const u=n.contentHooks;null!==u&&bE(e,u,1),rw(e,1)}!function mde(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Sl(~r);else{const A=r,s=t[++i],o=t[++i];AS(s,A),o(2,e[A])}}}finally{Sl(-1)}}(n,e);const c=n.components;null!==c&&oJ(e,c,0);const l=n.viewQuery;if(null!==l&&JL(2,l,i),a){const u=n.viewCheckHooks;null!==u&&cd(e,u)}else{const u=n.viewHooks;null!==u&&bE(e,u,2),rw(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Wc]){for(const u of e[Wc])u();e[Wc]=null}e[ci]&=-73}catch(a){throw VC(e),a}finally{null!==o&&(function Is(n,e){if(xt(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Mr(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)hA(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(o,s),function Jde(n){n.lView[id]!==n&&(n.lView=null,iJ.push(n))}(o)),DE()}}function AJ(n,e){for(let t=Af(n);null!==t;t=ng(t))for(let i=JA;i<t.length;i++)sJ(t[i],e)}function Xde(n,e,t){sJ(Zc(e,n),t)}function sJ(n,e){JC(n)&&jL(n,e)}function jL(n,e){const i=n[wn],r=n[ci],A=n[id];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!A?.dirty||!fi(A)),A&&(A.dirty=!1),n[ci]&=-9217,s)Wde(i,n,i.template,n[ts]);else if(8192&r){AJ(n,1);const o=i.components;null!==o&&oJ(n,o,1)}}function oJ(n,e,t){for(let i=0;i<e.length;i++)Xde(n,e[i],t)}function Sw(n){for(n[bl].changeDetectionScheduler?.notify();n;){n[ci]|=64;const e=Xh(n);if(HQ(n)&&!e)return n;n=e}return null}class Mw{get rootNodes(){const e=this._lView,t=e[wn];return bw(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ts]}set context(e){this._lView[ts]=e}get destroyed(){return!(256&~this._lView[ci])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[qs];if(Ia(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(vw(e,i),LC(t,i))}this._attachedToViewContainer=!1}US(this._lView[wn],this._lView)}onDestroy(e){zC(this._lView,e)}markForCheck(){Sw(this._cdRefInjectingView||this._lView)}detach(){this._lView[ci]&=-129}reattach(){ZQ(this._lView),this._lView[ci]|=128}detectChanges(){this._lView[ci]|=1024,qS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,_q(this._lView[wn],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Qt(902,!1);this._appRef=e,ZQ(this._lView)}}let Eo=(()=>{class n{static{this.__NG_ELEMENT_ID__=tpe}}return n})();const $de=Eo,epe=class extends $de{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=_w(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Mw(r)}};function tpe(){return JS(_A(),Lt())}function JS(n,e){return 4&n.type?new epe(e,n,Q(n,e)):null}function lJ(n){const e=n[Zh]??[],i=n[qs][bi];for(const r of e)lpe(r,i);n[Zh]=Wi}function lpe(n,e){let t=0,i=n.firstChild;if(i){const r=n.data[kE];for(;t<r;){const A=i.nextSibling;Qw(e,i,!1),i=A,t++}}}function uJ(n){lJ(n);for(let e=JA;e<n.length;e++)zS(n[e])}function zS(n){!function upe(n){const e=n[zc]?.i18nNodes;if(e){const t=n[bi];for(const i of e.values())Qw(t,i,!1);n[zc].i18nNodes=void 0}}(n);const e=n[wn];for(let t=ki;t<e.bindingStartIndex;t++)Ia(n[t])?uJ(n[t]):To(n[t])&&zS(n[t])}const hpe=new RegExp(`^(\\d+)*(${lL}|${cL})*(.*)`);function eU(n){return n.index-ki}function WS(n,e,t,i){const r=eU(i);let A=function mpe(n,e){const t=n.i18nNodes;if(t){const i=t.get(e);return i&&t.delete(e),i}return null}(n,r);if(!A){const s=n.data[fL];if(s?.[r])A=function Ipe(n,e){const[t,...i]=function dpe(n){const e=n.match(hpe),[t,i,r,A]=e,s=i?parseInt(i,10):r,o=[];for(const[a,c,l]of A.matchAll(/(f|n)(\d*)/g)){const u=parseInt(l,10)||1;o.push(c,u)}return[s,...o]}(n);let r;return r=t===cL?e[Ds][Es]:t===lL?function Eq(n){return n.ownerDocument.body}(e[Ds][Es]):NA(e[Number(t)+ki]),function Cpe(n,e){let t=n;for(let i=0;i<e.length;i+=2){const r=e[i],A=e[i+1];for(let s=0;s<A;s++)switch(r){case TE.FirstChild:t=t.firstChild;break;case TE.NextSibling:t=t.nextSibling}}return t}(r,i)}(s[r],t);else if(e.firstChild===i)A=n.firstChild;else{const o=null===i.prev,a=i.prev??i.parent;if(function ppe(n){return!n.prev&&8===n.parent?.type}(i))A=CL(n,eU(i.parent));else{let c=Ba(a,t);if(o)A=c.firstChild;else{const l=eU(a),u=CL(n,l);A=2===a.type&&u?jS(IL(n,l)+1,u):c.nextSibling}}}}return A}function jS(n,e){let t=e;for(let i=0;i<n;i++)t=t.nextSibling;return t}let hJ=()=>null;function ype(n,e){const t=n[Zh];return e&&null!==t&&0!==t.length?t[0].data[hL]===e?t.shift():(lJ(n),null):null}function YE(n,e){return hJ(n,e)}class ZS{}class wpe{}class fJ{}class Dpe{resolveComponentFactory(e){throw function _pe(n){const e=Error(`No component factory found for ${Co(n)}.`);return e.ngComponent=n,e}(e)}}let Tw=(()=>{class n{static{this.NULL=new Dpe}}return n})();class nU{}let ih=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function bpe(){const n=Lt(),t=Zc(_A().index,n);return(To(t)?t:n)[bi]}()}}return n})(),Spe=(()=>{class n{static{this.\u0275prov=Wt({token:n,providedIn:"root",factory:()=>null})}}return n})();const iU={},pJ=new Set;function rh(n){pJ.has(n)||(pJ.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function mJ(...n){}class Fi{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ae(!1),this.onMicrotaskEmpty=new ae(!1),this.onStable=new ae(!1),this.onError=new ae(!1),typeof Zone>"u")throw new Qt(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Mpe(){const n="function"==typeof yA.requestAnimationFrame;let e=yA[n?"requestAnimationFrame":"setTimeout"],t=yA[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Fpe(n){const e=()=>{!function xpe(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(yA,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,AU(n),n.isCheckStableRunning=!0,rU(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),AU(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,A,s,o)=>{if(function Rpe(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(o))return t.invokeTask(r,A,s,o);try{return CJ(n),t.invokeTask(r,A,s,o)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===A.type||n.shouldCoalesceRunChangeDetection)&&e(),IJ(n)}},onInvoke:(t,i,r,A,s,o,a)=>{try{return CJ(n),t.invoke(r,A,s,o,a)}finally{n.shouldCoalesceRunChangeDetection&&e(),IJ(n)}},onHasTask:(t,i,r,A)=>{t.hasTask(r,A),i===r&&("microTask"==A.change?(n._hasPendingMicrotasks=A.microTask,AU(n),rU(n)):"macroTask"==A.change&&(n.hasPendingMacrotasks=A.macroTask))},onHandleError:(t,i,r,A)=>(t.handleError(r,A),n.runOutsideAngular(()=>n.onError.emit(A)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fi.isInAngularZone())throw new Qt(909,!1)}static assertNotInAngularZone(){if(Fi.isInAngularZone())throw new Qt(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const A=this._inner,s=A.scheduleEventTask("NgZoneEvent: "+r,e,Npe,mJ,mJ);try{return A.runTask(s,t,i)}finally{A.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const Npe={};function rU(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function AU(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function CJ(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function IJ(n){n._nesting--,rU(n)}class BJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ae,this.onMicrotaskEmpty=new ae,this.onStable=new ae,this.onError=new ae}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}var cI=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(cI||{});const EJ={destroy(){}};function oU(n,e){!e&&function GC(n){if(!Rb())throw new Qt(-203,!1)}();const t=e?.injector??ze(ks);if(!nh(t))return EJ;rh("NgAfterNextRender");const i=t.get(kw),r=i.handler??=new yJ,A=e?.phase??cI.MixedReadWrite,s=()=>{r.unregister(a),o()},o=t.get(tg).onDestroy(s),a=Wu(t,()=>new vJ(A,()=>{s(),n()}));return r.register(a),{destroy:s}}class vJ{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=ze(Fi),this.errorHandler=ze(du,{optional:!0}),ze(ZS,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class yJ{constructor(){this.executingCallbacks=!1,this.buckets={[cI.EarlyRead]:new Set,[cI.Write]:new Set,[cI.MixedReadWrite]:new Set,[cI.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let kw=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Wt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function $S(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,A=0;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?A=o:1==A?r=fQ(r,o):2==A&&(i=fQ(i,o+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class _J extends Tw{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Qr(e);return new Ow(t,this.ngModule)}}function DJ(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const i=n[t];void 0!==i&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}class eM{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=uu(i);const r=this.injector.get(e,iU,i);return r!==iU||t===iU?r:this.parentInjector.get(e,t,i)}}class Ow extends fJ{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=DJ(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return DJ(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Ak(n){return n.map(rk).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){const A=xt(null);try{let s=(r=r||this.ngModule)instanceof ea?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new eM(e,s):e,a=o.get(nU,null);if(null===a)throw new Qt(407,!1);const c=o.get(Spe,null),h={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:o.get(kw,null),changeDetectionScheduler:o.get(ZS,null)},g=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",d=i?function Ide(n,e,t,i){const A=i.get(tq,!1)||t===Dl.ShadowDom,s=n.selectRootElement(e,A);return function Bde(n){qq(n)}(s),s}(g,i,this.componentDef.encapsulation,o):LS(g,f,function Ope(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f));let m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let p=null;null!==d&&(p=pL(d,o,!0));const I=HL(0,null,null,1,0,null,null,null,null,null,null),C=HS(null,I,null,m,null,null,h,g,o,null,p);let B,y;_E(C);try{const E=this.componentDef;let b,S=null;E.findHostDirectiveDefs?(b=[],S=new Map,E.findHostDirectiveDefs(E,b,S),b.push(E)):b=[E];const w=function Ppe(n,e){const t=n[wn],i=ki;return n[i]=e,PE(t,i,2,"#host",null)}(C,d),M=function Hpe(n,e,t,i,r,A,s){const o=r[wn];!function Ype(n,e,t,i){for(const r of n)e.mergedAttrs=xp(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&($S(e,e.mergedAttrs,!0),null!==t&&Oq(i,t,e))}(i,n,e,s);let a=null;null!==e&&(a=pL(e,r[Ao]));const c=A.rendererFactory.createRenderer(e,t);let l=16;t.signals?l=4096:t.onPush&&(l=64);const u=HS(r,Kq(t),null,l,r[n.index],n,A,c,null,null,a);return o.firstCreatePass&&KL(o,n,i.length-1),YS(r,u),r[n.index]=u}(w,d,E,b,C,h,g);y=Wg(I,ki),d&&function qpe(n,e,t,i){if(i)lE(n,t,["ng-version","17.3.12"]);else{const{attrs:r,classes:A}=function gE(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let A=n[i];if("string"==typeof A)2===r?""!==A&&e.push(A,n[++i]):8===r&&t.push(A);else{if(!gu(r))break;r=A}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&lE(n,t,r),A&&A.length>0&&Uq(n,t,A.join(" "))}}(g,E,d,i),void 0!==t&&function Jpe(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const A=t[r];i.push(null!=A?Array.from(A):null)}}(y,this.ngContentSelectors,t),B=function Kpe(n,e,t,i,r,A){const s=_A(),o=r[wn],a=Ba(s,r);zq(o,r,s,t,null,i);for(let l=0;l<t.length;l++)Pr(ud(r,o,s.directiveStart+l,s),r);Wq(o,r,s),a&&Pr(a,r);const c=ud(r,o,s.directiveStart+s.componentOffset,s);if(n[ts]=r[ts]=c,null!==A)for(const l of A)l(c,e);return OL(o,s,r),c}(M,E,b,S,C,[Vpe]),zL(I,C,null)}finally{DE()}return new Gpe(this.componentType,B,Q(y,C),C,y)}finally{xt(A)}}}class Gpe extends wpe{constructor(e,t,i,r,A){super(),this.location=i,this._rootLView=r,this._tNode=A,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Mw(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const A=this._rootLView;VL(A[wn],A,r,e,t),this.previousInputValues.set(e,t),Sw(Zc(this._tNode.index,A))}}get injector(){return new so(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Vpe(){const n=_A();eI(Lt()[wn],n)}let xl=(()=>{class n{static{this.__NG_ELEMENT_ID__=zpe}}return n})();function zpe(){return MJ(_A(),Lt())}const Wpe=xl,bJ=class extends Wpe{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Q(this._hostTNode,this._hostLView)}get injector(){return new so(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ka(this._hostTNode,this._hostLView);if(ow(e)){const t=iI(e,this._hostLView),i=nI(e);return new so(t[wn].data[i+8],t)}return new so(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=SJ(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-JA}createEmbeddedView(e,t,i){let r,A;"number"==typeof i?r=i:null!=i&&(r=i.index,A=i.injector);const s=YE(this._lContainer,e.ssrId),o=e.createEmbeddedViewImpl(t||{},A,s);return this.insertImpl(o,r,HE(this._hostTNode,s)),o}createComponent(e,t,i,r,A){const s=e&&!function PC(n){return"function"==typeof n}(e);let o;if(s)o=t;else{const f=t||{};o=f.index,i=f.injector,r=f.projectableNodes,A=f.environmentInjector||f.ngModuleRef}const a=s?e:new Ow(Qr(e)),c=i||this.parentInjector;if(!A&&null==a.ngModule){const d=(s?c:this.parentInjector).get(ea,null);d&&(A=d)}const l=Qr(a.componentType??{}),u=YE(this._lContainer,l?.id??null),g=a.create(c,r,u?.firstChild??null,A);return this.insertImpl(g.hostView,o,HE(this._hostTNode,u)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function Uk(n){return Ia(n[qs])}(r)){const o=this.indexOf(e);if(-1!==o)this.detach(o);else{const a=r[qs],c=new bJ(a,a[Ca],a[qs]);c.detach(c.indexOf(e))}}const A=this._adjustIndex(t),s=this._lContainer;return Dw(s,r,A,i),e.attachToViewContainerRef(),DQ(lU(s),A,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=SJ(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=vw(this._lContainer,t);i&&(LC(lU(this._lContainer),t),US(i[wn],i))}detach(e){const t=this._adjustIndex(e,-1),i=vw(this._lContainer,t);return i&&null!=LC(lU(this._lContainer),t)?new Mw(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function SJ(n){return n[8]}function lU(n){return n[8]||(n[8]=[])}function MJ(n,e){let t;const i=e[n.index];return Ia(i)?t=i:(t=jq(i,e,null,n),e[n.index]=t,YS(e,t)),NJ(t,e,n,i),new bJ(t,n,e)}let NJ=FJ,uU=()=>!1;function FJ(n,e,t,i){if(n[Zu])return;let r;r=8&t.type?NA(i):function jpe(n,e){const t=n[bi],i=t.createComment(""),r=Ba(e,n);return aI(t,OS(t,r),i,function gde(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Zu]=r}function Zpe(n,e,t){if(n[Zu]&&n[Zh])return!0;const i=t[zc],r=e.index-ki;if(!i||function vn(n){if(Yn(n))return!0;let e=n.parent;for(;e;){if(Yn(n)||pt(e))return!0;e=e.parent}return!1}(e)||MS(i,r))return!1;const s=CL(i,r),o=i.data[dw]?.[r],[a,c]=function vpe(n,e){const t=[];for(const i of e)for(let r=0;r<(i[DS]??1);r++){const A={data:i,firstChild:null};i[kE]>0&&(A.firstChild=n,n=jS(i[kE],n)),t.push(A)}return[n,t]}(s,o);return n[Zu]=a,n[Zh]=c,!0}function Xpe(n,e,t,i){uU(n,t,e)||FJ(n,e,t,i)}class gU{constructor(e){this.queryList=e,this.matches=null}clone(){return new gU(this.queryList)}setDirty(){this.queryList.setDirty()}}class hU{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let A=0;A<i;A++){const s=t.getByIndex(A);r.push(this.queries[s.indexInDeclarationView].clone())}return new hU(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==CU(e,t).matches&&this.queries[t].setDirty()}}class RJ{constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function rme(n){return n.split(",").map(e=>e.trim())}(e):e}}class fU{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,A=this.getByIndex(i).embeddedTView(e,r);A&&(A.indexInDeclarationView=i,null!==t?t.push(A):t=[A])}return null!==t?new fU(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class dU{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new dU(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const A=i[r];this.matchTNodeWithReadOption(e,t,eme(t,A)),this.matchTNodeWithReadOption(e,t,ld(t,e,A,!1,!1))}else i===Eo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ld(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===N||r===xl||r===Eo&&4&t.type)this.addMatch(t.index,-2);else{const A=ld(t,e,r,!1,!1);null!==A&&this.addMatch(t.index,A)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function eme(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function nme(n,e,t,i){return-1===t?function tme(n,e){return 11&n.type?Q(n,e):4&n.type?JS(n,e):null}(e,n):-2===t?function ime(n,e,t){return t===N?Q(e,n):t===Eo?JS(e,n):t===xl?MJ(e,n):void 0}(n,e,i):ud(n,n[wn],t,e)}function TJ(n,e,t,i){const r=e[Ln].queries[i];if(null===r.matches){const A=n.data,s=t.matches,o=[];for(let a=0;null!==s&&a<s.length;a+=2){const c=s[a];o.push(c<0?null:nme(e,A[c],s[a+1],t.metadata.read))}r.matches=o}return r.matches}function pU(n,e,t,i){const r=n.queries.getByIndex(t),A=r.matches;if(null!==A){const s=TJ(n,e,r,t);for(let o=0;o<A.length;o+=2){const a=A[o];if(a>0)i.push(s[o/2]);else{const c=A[o+1],l=e[-a];for(let u=JA;u<l.length;u++){const h=l[u];h[YC]===h[qs]&&pU(h[wn],h,c,i)}if(null!==l[Pp]){const u=l[Pp];for(let h=0;h<u.length;h++){const g=u[h];pU(g[wn],g,c,i)}}}}}return i}function kJ(n,e,t){const i=new xe(!(4&~t));return function yde(n,e,t,i){const r=Xq(e);r.push(t),n.firstCreatePass&&$q(n).push(i,r.length-1)}(n,e,i,i.destroy),(e[Ln]??=new hU).queries.push(new gU(i))-1}function OJ(n,e,t){null===n.queries&&(n.queries=new fU),n.queries.track(new dU(e,t))}function CU(n,e){return n.queries.getByIndex(e)}function GJ(n,e){const t=n[wn],i=CU(t,e);return i.crossesNgTemplate?pU(t,n,e,[]):TJ(t,n,i,e)}function IU(n,e){rh("NgSignals");const t=function Pe(n){const e=Object.create(Nn);e.value=n;const t=()=>(Zt(e),e.value);return t[Vt]=e,t}(n),i=t[Vt];return e?.equal&&(i.equal=e.equal),t.set=r=>bt(i,r),t.update=r=>function mn(n,e){er()||Yu(),bt(n,e(n.value))}(i,r),t.asReadonly=HJ.bind(t),t}function HJ(){const n=this[Vt];if(void 0===n.readonlyFn){const e=()=>this();e[Vt]=n,n.readonlyFn=e}return n.readonlyFn}function YJ(n){return function PJ(n){return"function"==typeof n&&void 0!==n[Vt]}(n)&&"function"==typeof n.set}function mA(n){let e=function eV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(hu(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Qt(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=nM(n.inputs),s.inputTransforms=nM(n.inputTransforms),s.declaredInputs=nM(n.declaredInputs),s.outputs=nM(n.outputs);const o=r.hostBindings;o&&Ime(n,o);const a=r.viewQuery,c=r.contentQueries;if(a&&mme(n,a),c&&Cme(n,c),dme(n,r),TT(n.outputs,r.outputs),hu(r)&&r.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(r.data.animation)}}const A=r.features;if(A)for(let s=0;s<A.length;s++){const o=A[s];o&&o.ngInherit&&o(n),o===mA&&(t=!1)}}e=Object.getPrototypeOf(e)}!function pme(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=xp(r.hostAttrs,t=xp(t,r.hostAttrs))}}(i)}function dme(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const i=e.inputs[t];if(void 0!==i&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function nM(n){return n===zu?{}:n===Wi?[]:n}function mme(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Cme(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,A)=>{e(i,r,A),t(i,r,A)}:e}function Ime(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function Pw(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}class lI{}class rV{}class vU extends lI{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _J(this);const r=ma(e);this._bootstrapComponents=mu(r.bootstrap),this._r3Injector=hw(e,t,[{provide:lI,useValue:this},{provide:Tw,useValue:this.componentFactoryResolver},...i],Co(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class yU extends rV{constructor(e){super(),this.moduleType=e}create(e){return new vU(this.moduleType,e,[])}}class AV extends lI{constructor(e){super(),this.componentFactoryResolver=new _J(this),this.instance=null;const t=new kp([...e.providers,{provide:lI,useValue:this},{provide:Tw,useValue:this.componentFactoryResolver}],e.parent||dE(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function iM(n,e,t=null){return new AV({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let tm=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new vA(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function AM(n){return!!QU(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function QU(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function cf(n,e,t){return n[e]=t}function vo(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function uI(n,e,t,i){const r=vo(n,e,t);return vo(n,e+1,i)||r}function Yw(n){return!(32&~n.flags)}function yn(n,e,t,i,r,A,s,o){const a=Lt(),c=Fr(),l=n+ki,u=c.firstCreatePass?function Nme(n,e,t,i,r,A,s,o,a){const c=e.consts,l=PE(e,n,4,s||null,$u(c,o));YL(e,t,l,$u(c,a)),eI(e,l);const u=l.tView=HL(2,l,i,r,A,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),u.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,t,i,r,A,s):c.data[l];fu(u,!1);const h=sV(c,a,u,n);ad()&&GS(c,a,h,u),Pr(h,a);const g=jq(h,a,h,u);return a[l]=g,YS(a,g),function xJ(n,e,t){return uU(n,e,t)}(g,u,a),Hp(u)&&GL(c,a,u),null!=s&&PL(a,u,o),yn}let sV=oV;function oV(n,e,t,i){return dc(!0),e[bi].createComment("")}function xme(n,e,t,i){const r=e[zc],A=!r||jg()||Yw(t)||MS(r,i);if(dc(A),A)return oV(0,e);const s=r.data[gL]?.[i]??null;null!==s&&null!==t.tView&&null===t.tView.ssrId&&(t.tView.ssrId=s);const o=WS(r,n,e,t);return SS(r,i,o),jS(IL(r,i),o)}function qr(n,e,t,i){const r=Lt();return vo(r,Xc(),e)&&(Fr(),af(Zr(),r,n,e,t,i)),qr}function XE(n,e,t,i){return vo(n,Xc(),t)?e+Oi(t)+i:nr}function $E(n,e,t,i,r,A){const o=uI(n,function Zg(){return wi.lFrame.bindingIndex}(),t,r);return eg(2),o?e+Oi(t)+i+Oi(r)+A:nr}function gM(n,e){return n<<17|e<<2}function im(n){return n>>17&32767}function RU(n){return 2|n}function hI(n){return(131068&n)>>2}function TU(n,e){return-131069&n|e<<2}function kU(n){return 1|n}function UV(n,e,t,i){const r=n[t+1],A=null===e;let s=i?im(r):hI(r),o=!1;for(;0!==s&&(!1===o||A);){const c=n[s+1];mCe(n[s],e)&&(o=!0,n[s+1]=i?kU(c):RU(c)),s=i?im(c):hI(c)}o&&(n[t+1]=i?RU(r):kU(r))}function mCe(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Vg(n,e)>=0}const ia={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OV(n){return n.substring(ia.key,ia.keyEnd)}function CCe(n){return n.substring(ia.value,ia.valueEnd)}function GV(n,e){const t=ia.textEnd;return t===e?-1:(e=ia.keyEnd=function ECe(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ia.key=e,t),o0(n,e,t))}function PV(n,e){const t=ia.textEnd;let i=ia.key=o0(n,e,t);return t===i?-1:(i=ia.keyEnd=function vCe(n,e,t){let i;for(;e<t&&(45===(i=n.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(n,i,t),i=YV(n,i,t),i=ia.value=o0(n,i,t),i=ia.valueEnd=function yCe(n,e,t){let i=-1,r=-1,A=-1,s=e,o=s;for(;s<t;){const a=n.charCodeAt(s++);if(59===a)return o;34===a||39===a?o=s=KV(n,a,s,t):e===s-4&&85===A&&82===r&&76===i&&40===a?o=s=KV(n,41,s,t):a>32&&(o=s),A=r,r=i,i=-33&a}return o}(n,i,t),YV(n,i,t))}function HV(n){ia.key=0,ia.keyEnd=0,ia.value=0,ia.valueEnd=0,ia.textEnd=n.length}function o0(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function YV(n,e,t,i){return(e=o0(n,e,t))<t&&e++,e}function KV(n,e,t,i){let r=-1,A=t;for(;A<i;){const s=n.charCodeAt(A++);if(s==e&&92!==r)return A;r=92==s&&92===r?0:s}throw new Error}function Xe(n,e,t){const i=Lt();return vo(i,Xc(),e)&&Nl(Fr(),Zr(),i,n,e,i[bi],t,!1),Xe}function LU(n,e,t,i,r){const s=r?"class":"style";VL(n,t,e.inputs[s],s,i)}function Vw(n,e,t){return Ah(n,e,t,!1),Vw}function Lr(n,e){return Ah(n,e,null,!0),Lr}function Ag(n){sh(VV,QCe,n,!1)}function QCe(n,e){for(let t=function BCe(n){return HV(n),PV(n,o0(n,0,ia.textEnd))}(e);t>=0;t=PV(e,t))VV(n,OV(e),CCe(e))}function rm(n){sh(MCe,lf,n,!0)}function lf(n,e){for(let t=function ICe(n){return HV(n),GV(n,o0(n,0,ia.textEnd))}(e);t>=0;t=GV(e,t))Vc(n,OV(e),!0)}function Ah(n,e,t,i){const r=Lt(),A=Fr(),s=eg(2);A.firstUpdatePass&&JV(A,n,s,i),e!==nr&&vo(r,s,e)&&zV(A,A.data[Ts()],r,r[bi],n,r[s+1]=function xCe(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Co(Zp(n)))),n}(e,t),i,s)}function sh(n,e,t,i){const r=Fr(),A=eg(2);r.firstUpdatePass&&JV(r,null,A,i);const s=Lt();if(t!==nr&&vo(s,A,t)){const o=r.data[Ts()];if(jV(o,i)&&!qV(r,A)){let a=i?o.classesWithoutHost:o.stylesWithoutHost;null!==a&&(t=fQ(a,t||"")),LU(r,o,s,t,i)}else!function NCe(n,e,t,i,r,A,s,o){r===nr&&(r=Wi);let a=0,c=0,l=0<r.length?r[0]:null,u=0<A.length?A[0]:null;for(;null!==l||null!==u;){const h=a<r.length?r[a+1]:void 0,g=c<A.length?A[c+1]:void 0;let d,f=null;l===u?(a+=2,c+=2,h!==g&&(f=u,d=g)):null===u||null!==l&&l<u?(a+=2,f=l):(c+=2,f=u,d=g),null!==f&&zV(n,e,t,i,f,d,s,o),l=a<r.length?r[a]:null,u=c<A.length?A[c]:null}}(r,o,s,s[bi],s[A+1],s[A+1]=function SCe(n,e,t){if(null==t||""===t)return Wi;const i=[],r=Zp(t);if(Array.isArray(r))for(let A=0;A<r.length;A++)n(i,r[A],!0);else if("object"==typeof r)for(const A in r)r.hasOwnProperty(A)&&n(i,A,r[A]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,A)}}function qV(n,e){return e>=n.expandoStartIndex}function JV(n,e,t,i){const r=n.data;if(null===r[t+1]){const A=r[Ts()],s=qV(n,t);jV(A,i)&&null===e&&!s&&(e=!1),e=function wCe(n,e,t,i){const r=function Kp(n){const e=wi.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let A=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=zw(t=UU(null,n,e,t,i),e.attrs,i),A=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=UU(r,n,e,t,i),null===A){let a=function _Ce(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==hI(i))return n[im(i)]}(n,e,i);void 0!==a&&Array.isArray(a)&&(a=UU(null,n,e,a[1],i),a=zw(a,e.attrs,i),function DCe(n,e,t,i){n[im(t?e.classBindings:e.styleBindings)]=i}(n,e,i,a))}else A=function bCe(n,e,t){let i;const r=e.directiveEnd;for(let A=1+e.directiveStylingLast;A<r;A++)i=zw(i,n[A].hostAttrs,t);return zw(i,e.attrs,t)}(n,e,i)}return void 0!==A&&(i?e.residualClasses=A:e.residualStyles=A),t}(r,A,e,i),function dCe(n,e,t,i,r,A){let s=A?e.classBindings:e.styleBindings,o=im(s),a=hI(s);n[i]=t;let l,c=!1;if(Array.isArray(t)?(l=t[1],(null===l||Vg(t,l)>0)&&(c=!0)):l=t,r)if(0!==a){const h=im(n[o+1]);n[i+1]=gM(h,o),0!==h&&(n[h+1]=TU(n[h+1],i)),n[o+1]=function hCe(n,e){return 131071&n|e<<17}(n[o+1],i)}else n[i+1]=gM(o,0),0!==o&&(n[o+1]=TU(n[o+1],i)),o=i;else n[i+1]=gM(a,0),0===o?o=i:n[a+1]=TU(n[a+1],i),a=i;c&&(n[i+1]=RU(n[i+1])),UV(n,l,i,!0),UV(n,l,i,!1),function pCe(n,e,t,i,r){const A=r?n.residualClasses:n.residualStyles;null!=A&&"string"==typeof e&&Vg(A,e)>=0&&(t[i+1]=kU(t[i+1]))}(e,l,n,i,A),s=gM(o,a),A?e.classBindings=s:e.styleBindings=s}(r,A,e,t,s,i)}}function UU(n,e,t,i,r){let A=null;const s=t.directiveEnd;let o=t.directiveStylingLast;for(-1===o?o=t.directiveStart:o++;o<s&&(A=e[o],i=zw(i,A.hostAttrs,r),A!==n);)o++;return null!==n&&(t.directiveStylingLast=o),i}function zw(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let A=0;A<e.length;A++){const s=e[A];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Vc(n,s,!!t||e[++A]))}return void 0===n?null:n}function VV(n,e,t){Vc(n,e,Zp(t))}function MCe(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Vc(n,i,t)}function zV(n,e,t,i,r,A,s,o){if(!(3&e.type))return;const a=n.data,c=a[o+1],l=function fCe(n){return!(1&~n)}(c)?WV(a,e,t,r,hI(c),s):void 0;hM(l)||(hM(A)||function gCe(n){return!(2&~n)}(c)&&(A=WV(a,null,t,r,o,s)),function dde(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let A=-1===i.indexOf("-")?void 0:Xp.DashCase;null==r?n.removeStyle(t,i,A):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),A|=Xp.Important),n.setStyle(t,i,r,A))}}(i,s,sd(Ts(),t),r,A))}function WV(n,e,t,i,r,A){const s=null===e;let o;for(;r>0;){const a=n[r],c=Array.isArray(a),l=c?a[1]:a,u=null===l;let h=t[r+1];h===nr&&(h=u?Wi:void 0);let g=u?bQ(h,i):l===i?h:void 0;if(c&&!hM(g)&&(g=bQ(a,i)),hM(g)&&(o=g,s))return o;const f=n[r+1];r=s?im(f):hI(f)}if(null!==e){let a=A?e.residualClasses:e.residualStyles;null!=a&&(o=bQ(a,i))}return o}function hM(n){return void 0!==n}function jV(n,e){return!!(n.flags&(e?8:16))}class YCe{destroy(e){}updateValue(e,t){}swap(e,t){const i=Math.min(e,t),r=Math.max(e,t),A=this.detach(r);if(r-i>1){const s=this.detach(i);this.attach(i,A),this.attach(r,s)}else this.attach(i,A)}move(e,t){this.attach(t,this.detach(e))}}function OU(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function GU(n,e,t,i){return!(void 0===e||!e.has(i)||(n.attach(t,e.get(i)),e.delete(i),0))}function ZV(n,e,t,i,r){if(GU(n,e,i,t(i,r)))n.updateValue(i,r);else{const A=n.create(i,r);n.attach(i,A)}}function XV(n,e,t,i){const r=new Set;for(let A=e;A<=t;A++)r.add(i(A,n.at(A)));return r}class $V{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),void 0!==this._vMap){const r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}}function zs(n,e,t){rh("NgControlFlow");const i=Lt(),r=Xc(),A=PU(i,ki+n);if(vo(i,r,e)){const o=xt(null);try{if(WL(A,0),-1!==e){const a=HU(i[wn],ki+e),c=YE(A,a.tView.ssrId);Dw(A,_w(i,a,t,{dehydratedView:c}),0,HE(a,c))}}finally{xt(o)}}else{const o=tJ(A,0);void 0!==o&&(o[ts]=t)}}class qCe{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-JA}}function oh(n,e){return e}class VCe{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}}function Iu(n,e,t,i,r,A,s,o,a,c,l,u,h){rh("NgControlFlow");const g=void 0!==a,f=Lt(),d=o?s.bind(f[Ds][ts]):s,m=new VCe(g,d);f[ki+n]=m,yn(n+1,e,t,i,r,A),g&&yn(n+2,a,c,l,u,h)}class zCe extends YCe{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-JA}at(e){return this.getLView(e)[ts].$implicit}attach(e,t){const i=t[zc];this.needsIndexUpdate||=e!==this.length,Dw(this.lContainer,t,e,HE(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function WCe(n,e){return vw(n,e)}(this.lContainer,e)}create(e,t){const i=YE(this.lContainer,this.templateTNode.tView.ssrId);return _w(this.hostLView,this.templateTNode,new qCe(this.lContainer,t,e),{dehydratedView:i})}destroy(e){US(e[wn],e)}updateValue(e,t){this.getLView(e)[ts].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ts].$index=e}getLView(e){return function jCe(n,e){return tJ(n,e)}(this.lContainer,e)}}function Bu(n){const e=xt(null),t=Ts();try{const i=Lt(),r=i[wn],A=i[t];if(void 0===A.liveCollection){const o=t+1,a=PU(i,o),c=HU(r,o);A.liveCollection=new zCe(a,i,c)}else A.liveCollection.reset();const s=A.liveCollection;if(function KCe(n,e,t){let i,r,A=0,s=n.length-1;if(Array.isArray(e)){let o=e.length-1;for(;A<=s&&A<=o;){const a=n.at(A),c=e[A],l=OU(A,a,A,c,t);if(0!==l){l<0&&n.updateValue(A,c),A++;continue}const u=n.at(s),h=e[o],g=OU(s,u,o,h,t);if(0!==g){g<0&&n.updateValue(s,h),s--,o--;continue}const f=t(A,a),d=t(s,u),m=t(A,c);if(Object.is(m,d)){const p=t(o,h);Object.is(p,f)?(n.swap(A,s),n.updateValue(s,h),o--,s--):n.move(s,A),n.updateValue(A,c),A++}else if(i??=new $V,r??=XV(n,A,s,t),GU(n,i,A,m))n.updateValue(A,c),A++,s++;else if(r.has(m))i.set(f,n.detach(A)),s--;else{const p=n.create(A,e[A]);n.attach(A,p),A++,s++}}for(;A<=o;)ZV(n,i,t,A,e[A]),A++}else if(null!=e){const o=e[Symbol.iterator]();let a=o.next();for(;!a.done&&A<=s;){const c=n.at(A),l=a.value,u=OU(A,c,A,l,t);if(0!==u)u<0&&n.updateValue(A,l),A++,a=o.next();else{i??=new $V,r??=XV(n,A,s,t);const h=t(A,l);if(GU(n,i,A,h))n.updateValue(A,l),A++,s++,a=o.next();else if(r.has(h)){const g=t(A,c);i.set(g,n.detach(A)),s--}else n.attach(A,n.create(A,l)),A++,s++,a=o.next()}}for(;!a.done;)ZV(n,i,t,n.length,a.value),a=o.next()}for(;A<=s;)n.destroy(n.detach(s--));i?.forEach(o=>{n.destroy(o)})}(s,n,A.trackByFn),s.updateIndexes(),A.hasEmptyBlock){const o=Xc(),a=0===s.length;if(vo(i,o,a)){const c=t+2,l=PU(i,c);if(a){const u=HU(r,c),h=YE(l,u.tView.ssrId);Dw(l,_w(i,u,void 0,{dehydratedView:h}),0,HE(u,h))}else WL(l,0)}}}finally{xt(e)}}function PU(n,e){return n[e]}function HU(n,e){return Wg(n,e)}function pe(n,e,t,i){const r=Lt(),A=Fr(),s=ki+n,o=r[bi],a=A.firstCreatePass?function ZCe(n,e,t,i,r,A){const s=e.consts,a=PE(e,n,2,i,$u(s,r));return YL(e,t,a,$u(s,A)),null!==a.attrs&&$S(a,a.attrs,!1),null!==a.mergedAttrs&&$S(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,A,r,e,t,i):A.data[s],c=e6(A,r,a,o,e,n);r[s]=c;const l=Hp(a);return fu(a,!0),Oq(o,c,a),!Yw(a)&&ad()&&GS(A,r,c,a),0===function Gk(){return wi.lFrame.elementDepthCount}()&&Pr(c,r),function Pk(){wi.lFrame.elementDepthCount++}(),l&&(GL(A,r,a),OL(A,a,r)),null!==i&&PL(r,a),pe}function he(){let n=_A();$h()?ZC():(n=n.parent,fu(n,!1));const e=n;(function Yk(n){return wi.skipHydrationRootTNode===n})(e)&&function tS(){wi.skipHydrationRootTNode=null}(),function Hk(){wi.lFrame.elementDepthCount--}();const t=Fr();return t.firstCreatePass&&(eI(t,n),BE(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Vk(n){return!!(8&n.flags)}(e)&&LU(t,e,Lt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function sw(n){return!!(16&n.flags)}(e)&&LU(t,e,Lt(),e.stylesWithoutHost,!1),he}function mt(n,e,t,i){return pe(n,e,t,i),he(),mt}let e6=(n,e,t,i,r,A)=>(dc(!0),LS(i,r,nw()));function XCe(n,e,t,i,r,A){const s=e[zc],o=!s||jg()||Yw(t)||MS(s,A);if(dc(o),o)return LS(i,r,nw());const a=WS(s,n,e,t);return $K(s,A)&&SS(s,A,a.nextSibling),s&&(pt(t)||Ut(a))&&Ad(t)&&(function XQ(n){wi.skipHydrationRootTNode=n}(t),kq(a)),a}function fI(n,e,t){const i=Lt(),r=Fr(),A=n+ki,s=r.firstCreatePass?function eIe(n,e,t,i,r){const A=e.consts,s=$u(A,i),o=PE(e,n,8,"ng-container",s);return null!==s&&$S(o,s,!0),YL(e,t,o,$u(A,r)),null!==e.queries&&e.queries.elementStart(e,o),o}(A,r,i,e,t):r.data[A];fu(s,!0);const o=t6(r,i,s,n);return i[A]=o,ad()&&GS(r,i,o,s),Pr(o,i),Hp(s)&&(GL(r,i,s),OL(r,s,i)),null!=t&&PL(i,s),fI}function dI(){let n=_A();const e=Fr();return $h()?ZC():(n=n.parent,fu(n,!1)),e.firstCreatePass&&(eI(e,n),BE(n)&&e.queries.elementEnd(n)),dI}function YU(n,e,t){return fI(n,e,t),dI(),YU}let t6=(n,e,t,i)=>(dc(!0),xL(e[bi],""));function tIe(n,e,t,i){let r;const A=e[zc],s=!A||jg()||Yw(t);if(dc(s),s)return xL(e[bi],"");const o=WS(A,n,e,t),a=function mfe(n,e){const t=n.data;let i=t[uL]?.[e]??null;return null===i&&t[dw]?.[e]&&(i=IL(n,e)),i}(A,i);return SS(A,i,o),r=jS(a,o),r}function TA(){return Lt()}const pI=void 0;var rIe=["en",[["a","p"],["AM","PM"],pI],[["AM","PM"],pI,pI],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pI,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pI,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pI,"{1} 'at' {0}",pI],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iIe(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let a0={};function $c(n){const e=function AIe(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=r6(e);if(t)return t;const i=e.split("-")[0];if(t=r6(i),t)return t;if("en"===i)return rIe;throw new Qt(701,!1)}function r6(n){return n in a0||(a0[n]=yA.ng&&yA.ng.common&&yA.ng.common.locales&&yA.ng.common.locales[n]),a0[n]}var vs=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(vs||{});const c0="en-US",fM={marker:"element"},dM={marker:"ICU"};var Fl=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(Fl||{});let A6=c0;function o6(n,e,t){const i=e.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?xq(n,0,t):NA(t[r])}function a6(n,e,t,i,r){const A=e.insertBeforeIndex;if(Array.isArray(A)){let s=i,o=null;if(3&e.type||(o=s,s=r),null!==s&&-1===e.componentOffset)for(let a=1;a<A.length;a++)aI(n,s,t[A[a]],o,!1)}}function c6(n,e){if(n.push(e),n.length>1)for(let t=n.length-2;t>=0;t--){const i=n[t];l6(i)||lIe(i,e)&&null===uIe(i)&&gIe(i,e.index)}}function l6(n){return!(64&n.type)}function lIe(n,e){return l6(e)||n.index>e.index}function uIe(n){const e=n.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function gIe(n,e){const t=n.insertBeforeIndex;Array.isArray(t)?t[0]=e:(Rq(o6,a6),n.insertBeforeIndex=e)}function dIe(n,e,t){const i=UL(n,t,64,null,null);return c6(e,i),i}function f6(n,e,t){const i=n[bi];switch(t){case Node.COMMENT_NODE:return xL(i,e);case Node.TEXT_NODE:return NL(i,e);case Node.ELEMENT_NODE:return LS(i,e,null)}}let Xw=(n,e,t,i)=>(dc(!0),f6(n,t,i));function IIe(n,e,t,i){return dc(!0),f6(n,t,i)}function QIe(){const n=[];let t,i,e=-1;function A(o,a){e=0;const c=function pM(n,e){const t=e[n.currentCaseLViewIndex];return null===t?t:t<0?~t:t}(o,a);i=null!==c?o.remove[c]:Wi}function s(){if(e<i.length){const o=i[e++];return o>0?t[o]:(n.push(e,i),A(t[wn].data[~o],t),s())}return 0===n.length?null:(i=n.pop(),e=n.pop(),s())}return function r(o,a){for(t=a;n.length;)n.pop();return A(o.value,a),s}}const mM=/\ufffd(\d+):?\d*\ufffd/gi,_Ie=/\ufffd(\d+)\ufffd/,B6=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,$w="\ufffd",DIe=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,bIe=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,SIe=/\uE500/g;function E6(n,e,t,i,r,A,s){const o=ww(n,i,1,null);let a=o<<Fl.SHIFT,c=jC();e===c&&(c=null),null===c&&(a|=Fl.APPEND_EAGERLY),s&&(a|=Fl.COMMENT,function ide(n){void 0===SL&&(SL=n())}(QIe)),r.push(a,null===A?"":A);const l=UL(n,o,s?32:1,null===A?"":A,null);c6(t,l);const u=l.index;return fu(l,!1),null!==c&&e!==c&&function fIe(n,e){let t=n.insertBeforeIndex;null===t?(Rq(o6,a6),t=n.insertBeforeIndex=[null,e]):(Vu(Array.isArray(t),!0,"Expecting array here"),t.push(e))}(c,u),l}function xIe(n,e,t,i,r,A,s,o){const a=o.match(mM),l=E6(e,t,i,s,r,a?null:o,!1).index;a&&e_(A,o,l,null,0,null),n.push({kind:0,index:l})}function e_(n,e,t,i,r,A){const s=n.length,o=s+1;n.push(null,null);const a=s+2,c=e.split(mM);let l=0;for(let u=0;u<c.length;u++){const h=c[u];if(1&u){const g=r+parseInt(h,10);n.push(-1-g),l|=v6(g)}else""!==h&&n.push(h)}return n.push(t<<2|(i?1:0)),i&&n.push(i,A),n[s]=l,n[o]=n.length-a,l}function v6(n){return 1<<Math.min(n,31)}function y6(n){let e,A,t="",i=0,r=!1;for(;null!==(e=DIe.exec(n));)r?e[0]===`${$w}/*${A}${$w}`&&(i=e.index,r=!1):(t+=n.substring(i,e.index+e[0].length),A=e[1],r=!0);return t+=n.slice(i),t}function Q6(n,e,t,i,r,A,s){let o=0;const a={type:A.type,currentCaseLViewIndex:ww(e,t,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};(function GIe(n,e,t){n.push(v6(e.mainBinding),2,-1-e.mainBinding,t<<2|2)})(i,A,s),function hIe(n,e,t){const i=n.data[e];null===i?n.data[e]=t:i.value=t}(e,s,a);const c=A.values,l=[];for(let u=0;u<c.length;u++){const h=c[u],g=[];for(let d=0;d<h.length;d++){const m=h[d];if("string"!=typeof m){const p=g.push(m)-1;h[d]=`\x3c!--\ufffd${p}\ufffd--\x3e`}}const f=[];l.push(f),o=UIe(f,e,a,t,i,r,A.cases[u],h.join(""),g)|o}o&&function PIe(n,e,t){n.push(e,1,t<<2|3)}(i,o,s),n.push({kind:3,index:s,cases:l,currentCaseLViewIndex:a.currentCaseLViewIndex})}function LIe(n){const e=[],t=[];let i=1,r=0;const A=KU(n=n.replace(B6,function(s,o,a){return i="select"===a?0:1,r=parseInt(o.slice(1),10),""}));for(let s=0;s<A.length;){let o=A[s++].trim();1===i&&(o=o.replace(/\s*(?:=)?(\w+)\s*/,"$1")),o.length&&e.push(o);const a=KU(A[s++]);e.length>t.length&&t.push(a)}return{type:i,mainBinding:r,cases:e,values:t}}function KU(n){if(!n)return[];let e=0;const t=[],i=[],r=/[{}]/g;let A;for(r.lastIndex=0;A=r.exec(n);){const o=A.index;if("}"==A[0]){if(t.pop(),0==t.length){const a=n.substring(e,o);B6.test(a)?i.push(LIe(a)):i.push(a),e=o+1}}else{if(0==t.length){const a=n.substring(e,o);i.push(a),e=o+1}t.push("{")}}const s=n.substring(e);return i.push(s),i}function UIe(n,e,t,i,r,A,s,o,a){const c=[],l=[],u=[];t.cases.push(s),t.create.push(c),t.remove.push(l),t.update.push(u);const g=function oq(n){const e=new Dfe(n);return function bfe(){try{return!!(new window.DOMParser).parseFromString(LE(""),"text/html")}catch{return!1}}()?new _fe(e):e}(jp()).getInertBodyElement(o),f=function wL(n){return"content"in n&&function Ufe(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(g)||g;return f?w6(n,e,t,i,r,c,l,u,f,A,a,0):0}function w6(n,e,t,i,r,A,s,o,a,c,l,u){let h=0,g=a.firstChild;for(;g;){const f=ww(e,i,1,null);switch(g.nodeType){case Node.ELEMENT_NODE:const d=g,m=d.tagName.toLowerCase();if(yL.hasOwnProperty(m)){qU(A,fM,m,c,f),e.data[f]=m;const B=d.attributes;for(let E=0;E<B.length;E++){const b=B.item(E),S=b.name.toLowerCase();b.value.match(mM)?uq.hasOwnProperty(S)&&e_(o,b.value,f,b.name,0,QL[S]?vL:null):HIe(A,f,b)}const y={kind:1,index:f,children:[]};n.push(y),h=w6(y.children,e,t,i,r,A,s,o,g,f,l,u+1)|h,_6(s,f,u)}break;case Node.TEXT_NODE:const p=g.textContent||"",I=p.match(mM);qU(A,null,I?"":p,c,f),_6(s,f,u),I&&(h=e_(o,p,f,null,0,null)|h),n.push({kind:0,index:f});break;case Node.COMMENT_NODE:const C=_Ie.exec(g.textContent||"");if(C){const y=l[parseInt(C[1],10)];qU(A,dM,"",c,f),Q6(n,e,i,r,c,y,f),OIe(s,f,u)}}g=g.nextSibling}return h}function _6(n,e,t){0===t&&n.push(e)}function OIe(n,e,t){0===t&&(n.push(~e),n.push(e))}function qU(n,e,t,i,r){null!==e&&n.push(e),n.push(t,r,function pIe(n,e,t){return n|e<<17|t<<1}(0,i,r))}function HIe(n,e,t){n.push(e<<1|1,t.name,t.value)}function b6(n,e,t=-1){const i=Fr(),r=Lt(),A=ki+n,s=$u(i.consts,e),o=jC();i.firstCreatePass&&function NIe(n,e,t,i,r,A){const s=jC(),o=[],a=[],c=[[]],l=[[]];r=function kIe(n,e){if(function TIe(n){return-1===n}(e))return y6(n);{const t=n.indexOf(`:${e}${$w}`)+2+e.toString().length,i=n.search(new RegExp(`${$w}\\/\\*\\d+:${e}${$w}`));return y6(n.substring(t,i))}}(r,A);const u=function MIe(n){return n.replace(SIe," ")}(r).split(bIe);for(let h=0;h<u.length;h++){let g=u[h];if(1&h){const f=47===g.charCodeAt(0),d=g.charCodeAt(f?1:0),m=ki+Number.parseInt(g.substring(f?2:1));if(f)c.shift(),l.shift(),fu(jC(),!1);else{const p=dIe(n,c[0],m);c.unshift([]),fu(p,!0);const I={kind:2,index:m,children:[],type:35===d?0:1};l[0].push(I),l.unshift(I.children)}}else{const f=KU(g);for(let d=0;d<f.length;d++){let m=f[d];if(1&d){const p=m;if("object"!=typeof p)throw new Error(`Unable to parse ICU expression in "${r}" message.`);const C=E6(n,s,c[0],t,o,"",!0).index;Q6(l[0],n,t,a,e,p,C)}else""!==m&&xIe(l[0],n,s,c[0],o,a,t,m)}}}n.data[i]={create:o,update:a,ast:l[0]}}(i,null===o?0:o.index,r,A,s,t),2===i.type?r[Ds][ci]|=32:r[ci]|=32;const a=i.data[A],l=bq(i,o===r[Ca]?null:o,r);(function EIe(n,e,t,i){const r=n[bi];for(let A=0;A<e.length;A++){const s=e[A++],c=(s&Fl.APPEND_EAGERLY)===Fl.APPEND_EAGERLY,l=s>>>Fl.SHIFT;let u=n[l],h=!1;null===u&&(u=n[l]=Xw(n,l,e[A],(s&Fl.COMMENT)===Fl.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),h=ad()),c&&null!==t&&h&&aI(r,t,u,i,!1)}})(r,a.create,l,o&&8&o.type?r[o.index]:null),wE(!0)}function t_(n,e,t){b6(n,e,t),function S6(){wE(!1)}()}function on(n,e,t,i){const r=Lt(),A=Fr(),s=_A();return JU(A,r,r[bi],s,n,e,i),on}function JU(n,e,t,i,r,A,s){const o=Hp(i),c=n.firstCreatePass&&$q(n),l=e[ts],u=Xq(e);let h=!0;if(3&i.type||s){const d=Ba(i,e),m=s?s(d):d,p=u.length,I=s?B=>s(NA(B[i.index])):i.index;let C=null;if(!s&&o&&(C=function eBe(n,e,t,i){const r=n.cleanup;if(null!=r)for(let A=0;A<r.length-1;A+=2){const s=r[A];if(s===t&&r[A+1]===i){const o=e[Op],a=r[A+2];return o.length>a?o[a]:null}"string"==typeof s&&(A+=2)}return null}(n,e,r,i.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=A,C.__ngLastListenerFn__=A,h=!1;else{A=F6(i,e,l,A,!1);const B=t.listen(m,r,A);u.push(A,B),c&&c.push(r,I,p,p+1)}}else A=F6(i,e,l,A,!1);const g=i.outputs;let f;if(h&&null!==g&&(f=g[r])){const d=f.length;if(d)for(let m=0;m<d;m+=2){const y=e[f[m]][f[m+1]].subscribe(A),E=u.length;u.push(A,y),c&&c.push(r,i.index,E,-(E+1))}}}function x6(n,e,t,i){const r=xt(null);try{return Xu(6,e,t),!1!==t(i)}catch(A){return KS(n,A),!1}finally{Xu(7,e,t),xt(r)}}function F6(n,e,t,i,r){return function A(s){if(s===Function)return i;Sw(n.componentOffset>-1?Zc(n.index,e):e);let a=x6(e,t,i,s),c=A.__ngNextListenerFn__;for(;c;)a=x6(e,t,c,s)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&s.preventDefault(),a}}function Cn(n=1){return function Vs(n){return(wi.lFrame.contextLView=function Xb(n,e){for(;n>0;)e=e[Gp],n--;return e}(n,wi.lFrame.contextLView))[ts]}(n)}function tBe(n,e){let t=null;const i=function ek(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const A=e[r];if("*"!==A){if(null===i?Db(n,A,!0):ik(i,A))return r}else t=r}return t}function n_(n){const e=Lt()[Ds][Ca];if(!e.projection){const i=e.projection=function Mp(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(n?n.length:1,null),r=i.slice();let A=e.child;for(;null!==A;){const s=n?tBe(A,n):0;null!==s&&(r[s]?r[s].projectionNext=A:i[s]=A,r[s]=A),A=A.next}}}function i_(n,e=0,t){const i=Lt(),r=Fr(),A=PE(r,ki+n,16,null,t||null);null===A.projection&&(A.projection=e),ZC(),(!i[zc]||jg())&&32&~A.flags&&function hde(n,e,t){Lq(e[bi],0,e,t,RL(n,t,e),Nq(t.parent||e[Ca],t,e))}(r,i,A)}function Am(n,e,t){return r_(n,"",e,"",t),Am}function r_(n,e,t,i,r){const A=Lt(),s=XE(A,e,t,i);return s!==nr&&Nl(Fr(),Zr(),A,n,s,A[bi],r,!1),r_}function Lo(n,e,t,i){!function UJ(n,e,t,i){const r=Fr();if(r.firstCreatePass){const A=_A();OJ(r,new RJ(e,t,i),A.index),function Ame(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),!(2&~t)&&(r.staticContentQueries=!0)}return kJ(r,Lt(),t)}(n,e,t,i)}function aA(n,e,t){!function LJ(n,e,t){const i=Fr();return i.firstCreatePass&&(OJ(i,new RJ(n,e,t),-1),!(2&~e)&&(i.staticViewQueries=!0)),kJ(i,Lt(),e)}(n,e,t)}function Ii(n){const e=Lt(),t=Fr(),i=qp();XC(i+1);const r=CU(t,i);if(n.dirty&&function jb(n){return!(4&~n[ci])}(e)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const A=GJ(e,i);n.reset(A,x),n.notifyOnChanges()}return!0}return!1}function Bi(){return function mU(n,e){return n[Ln].queries[e].queryList}(Lt(),qp())}function ah(n){return Yp(function QE(){return wi.lFrame.contextLView}(),ki+n)}function Re(n,e=""){const t=Lt(),i=Fr(),r=n+ki,A=i.firstCreatePass?PE(i,r,1,e,null):i.data[r],s=Z6(i,t,A,e,n);t[r]=s,ad()&&GS(i,t,s,A),fu(A,!1)}let Z6=(n,e,t,i,r)=>(dc(!0),NL(e[bi],i));function dBe(n,e,t,i,r){const A=e[zc],s=!A||jg()||Yw(t)||MS(A,r);return dc(s),s?NL(e[bi],i):WS(A,n,e,t)}function Gi(n){return $r("",n,""),Gi}function $r(n,e,t){const i=Lt(),r=XE(i,n,e,t);return r!==nr&&Cd(i,Ts(),r),$r}function CM(n,e,t,i,r){const A=Lt(),s=$E(A,n,e,t,i,r);return s!==nr&&Cd(A,Ts(),s),CM}function ch(n,e,t){YJ(e)&&(e=e());const i=Lt();return vo(i,Xc(),e)&&Nl(Fr(),Zr(),i,n,e,i[bi],t,!1),ch}function uf(n,e){const t=YJ(n);return t&&n.set(e),t}function lh(n,e){const t=Lt(),i=Fr(),r=_A();return JU(i,t,t[bi],r,n,e),lh}function VU(n,e,t,i,r){if(n=mi(n),Array.isArray(n))for(let A=0;A<n.length;A++)VU(n[A],e,t,i,r);else{const A=Fr(),s=Lt(),o=_A();let a=jh(n)?n:mi(n.provide);const c=Fb(n),l=1048575&o.providerIndexes,u=o.directiveStart,h=o.providerIndexes>>20;if(jh(n)||!n.multi){const g=new tI(c,r,yt),f=WU(a,e,r?l:l+h,u);-1===f?(cw(Gn(o,s),A,a),zU(A,n,e.length),e.push(a),o.directiveStart++,o.directiveEnd++,r&&(o.providerIndexes+=1048576),t.push(g),s.push(g)):(t[f]=g,s[f]=g)}else{const g=WU(a,e,l+h,u),f=WU(a,e,l,l+h),m=f>=0&&t[f];if(r&&!m||!r&&!(g>=0&&t[g])){cw(Gn(o,s),A,a);const p=function BBe(n,e,t,i,r){const A=new tI(n,t,yt);return A.multi=[],A.index=e,A.componentProviders=0,Az(A,r,i&&!t),A}(r?IBe:CBe,t.length,r,i,c);!r&&m&&(t[f].providerFactory=p),zU(A,n,e.length,0),e.push(a),o.directiveStart++,o.directiveEnd++,r&&(o.providerIndexes+=1048576),t.push(p),s.push(p)}else zU(A,n,g>-1?g:f,Az(t[r?f:g],c,!r&&i));!r&&i&&m&&t[f].componentProviders++}}}function zU(n,e,t,i){const r=jh(e),A=function gk(n){return!!n.useClass}(e);if(r||A){const a=(A?mi(e.useClass):e).prototype.ngOnDestroy;if(a){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[i,a]):c[l+1].push(i,a)}else c.push(t,a)}}}function Az(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function WU(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function CBe(n,e,t,i){return jU(this.multi,[])}function IBe(n,e,t,i){const r=this.multi;let A;if(this.providerFactory){const s=this.providerFactory.componentProviders,o=ud(t,t[wn],this.providerFactory.index,i);A=o.slice(0,s),jU(r,A);for(let a=s;a<o.length;a++)A.push(o[a])}else A=[],jU(r,A);return A}function jU(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function us(n,e=[]){return t=>{t.providersResolver=(i,r)=>function mBe(n,e,t){const i=Fr();if(i.firstCreatePass){const r=hu(n);VU(t,i.data,i.blueprint,r,!0),VU(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}let EBe=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=TQ(0,t.type),r=i.length>0?iM([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Wt({token:n,providedIn:"environment",factory:()=>new n(cn(ea))})}}return n})();function Uo(n){rh("NgStandalone"),n.getStandaloneInjector=e=>e.get(EBe).getOrCreateStandaloneInjector(n)}function A_(n,e,t){const i=Ya()+n,r=Lt();return r[i]===nr?cf(r,i,t?e.call(t):e()):function Hw(n,e){return n[e]}(r,i)}function gf(n,e,t,i){return az(Lt(),Ya(),n,e,t,i)}function s_(n,e,t,i,r){return function cz(n,e,t,i,r,A,s){const o=e+t;return uI(n,o,r,A)?cf(n,o+2,s?i.call(s,r,A):i(r,A)):o_(n,o+2)}(Lt(),Ya(),n,e,t,i,r)}function ZU(n,e,t,i,r,A){return function lz(n,e,t,i,r,A,s,o){const a=e+t;return function sM(n,e,t,i,r){const A=uI(n,e,t,i);return vo(n,e+2,r)||A}(n,a,r,A,s)?cf(n,a+3,o?i.call(o,r,A,s):i(r,A,s)):o_(n,a+3)}(Lt(),Ya(),n,e,t,i,r,A)}function o_(n,e){const t=n[e];return t===nr?void 0:t}function az(n,e,t,i,r,A){const s=e+t;return vo(n,s,r)?cf(n,s+1,A?i.call(A,r):i(r)):o_(n,s+1)}function Rl(n,e){const t=Fr();let i;const r=n+ki;t.firstCreatePass?(i=function SBe(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const A=i.factory||(i.factory=hc(i.type)),o=gc(yt);try{const a=SE(!1),c=A();return SE(a),function ABe(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,Lt(),r,c),c}finally{gc(o)}}function Tl(n,e,t){const i=n+ki,r=Lt(),A=Yp(r,i);return function a_(n,e){return n[wn].data[e].pure}(r,i)?az(r,Ya(),e,A.transform,t,A):A.transform(t)}function uh(n,e){return JS(n,e)}class l_{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const bz=new l_("17.3.12");let nO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Fz=new xn(""),vM=new xn("");let sO,rO=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,sO||(function _Ee(n){sO=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let A=-1;i&&i>0&&(A=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==A),t()},i)),this._callbacks.push({doneCb:t,timeoutId:A,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(cn(Fi),cn(AO),cn(vM))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})(),AO=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return sO?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function g_(n){return!!n&&"function"==typeof n.then}function Rz(n){return!!n&&"function"==typeof n.subscribe}const yM=new xn("");let oO=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=ze(yM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const A=r();if(g_(A))t.push(A);else if(Rz(A)){const s=new Promise((o,a)=>{A.subscribe({complete:o,error:a})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const QM=new xn("");function Lz(n,e){return Array.isArray(e)?e.reduce(Lz,n):{...n,...e}}let _M,gh=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ze(QS),this.afterRenderEffectManager=ze(kw),this.externalTestViews=new Set,this.beforeRender=new zi,this.afterTick=new zi,this.componentTypes=[],this.components=[],this.isStable=ze(tm).hasPendingTasks.pipe(tr(t=>!t)),this._injector=ze(ea)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof fJ;if(!this._injector.get(oO).done)throw!r&&function Wh(n){const e=Qr(n)||Bo(n)||io(n);return null!==e&&e.standalone}(t),new Qt(405,!1);let s;s=r?t:this._injector.get(Tw).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const o=function DEe(n){return n.isBoundToModule}(s)?void 0:this._injector.get(lI),c=s.create(ks.NULL,[],i||s.selector,o),l=c.location.nativeElement,u=c.injector.get(Fz,null);return u?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),wM(this.components,c),u?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new Qt(101,!1);const i=xt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,xt(i)}}detectChangesInAttachedViews(t){let i=0;const r=this.afterRenderEffectManager;for(;;){if(i===rJ)throw new Qt(103,!1);if(t){const A=0===i;this.beforeRender.next(A);for(let{_lView:s,notifyErrorHandler:o}of this._views)bEe(s,A,o)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:A})=>aO(A))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:A})=>aO(A))))break}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;wM(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(QM,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>wM(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Qt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Uz(n){_M??=new WeakMap;const e=_M.get(n);if(e)return e;const t=n.isStable.pipe(Ju(i=>i)).toPromise().then(()=>{});return _M.set(n,t),n.onDestroy(()=>_M?.delete(n)),t}function bEe(n,e,t){!e&&!aO(n)||function SEe(n,e,t){let i;t?(i=0,n[ci]|=1024):i=64&n[ci]?0:1,qS(n,e,i)}(n,t,e)}function aO(n){return jQ(n)}class MEe{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Oz=(()=>{class n{compileModuleSync(t){return new yU(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),A=mu(ma(t).declarations).reduce((s,o)=>{const a=Qr(o);return a&&s.push(new Ow(a)),s},[]);return new MEe(i,A)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FEe=(()=>{class n{constructor(){this.zone=ze(Fi),this.applicationRef=ze(gh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function REe(){const n=ze(Fi),e=ze(du);return t=>n.runOutsideAngular(()=>e.handleError(t))}let kEe=(()=>{class n{constructor(){this.subscription=new Nr,this.initialized=!1,this.zone=ze(Fi),this.pendingTasks=ze(tm)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Fi.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Fi.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const hf=new xn("",{providedIn:"root",factory:()=>ze(hf,xr.Optional|xr.SkipSelf)||function LEe(){return typeof $localize<"u"&&$localize.locale||c0}()}),cO=new xn("");let Yz=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function Tpe(n="zone.js",e){return"noop"===n?new BJ:"zone.js"===n?new Fi(e):n}(i?.ngZone,function Hz(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const A=function wme(n,e,t){return new vU(n,e,t)}(t.moduleType,this.injector,function Pz(n){return[{provide:Fi,useFactory:n},{provide:zg,multi:!0,useFactory:()=>{const e=ze(FEe,{optional:!0});return()=>e.initialize()}},{provide:zg,multi:!0,useFactory:()=>{const e=ze(kEe);return()=>{e.initialize()}}},{provide:QS,useFactory:REe}]}(()=>r)),s=A.injector.get(du,null);return r.runOutsideAngular(()=>{const o=r.onError.subscribe({next:a=>{s.handleError(a)}});A.onDestroy(()=>{wM(this._modules,A),o.unsubscribe()})}),function kz(n,e,t){try{const i=t();return g_(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const o=A.injector.get(oO);return o.runInitializers(),o.donePromise.then(()=>(function s6(n){"string"==typeof n&&(A6=n.toLowerCase().replace(/_/g,"-"))}(A.injector.get(hf,c0)||c0),this._moduleDoBootstrap(A),A))})})}bootstrapModule(t,i=[]){const r=Lz({},i);return function xEe(n,e,t){const i=new yU(t);return Promise.resolve(i)}(0,0,t).then(A=>this.bootstrapModuleFactory(A,r))}_moduleDoBootstrap(t){const i=t.injector.get(gh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Qt(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qt(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(cO,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(cn(ks))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),sm=null;const Kz=new xn("");function qz(n,e,t=[]){const i=`Platform: ${e}`,r=new xn(i);return(A=[])=>{let s=lO();if(!s||s.injector.get(Kz,!1)){const o=[...t,...A,{provide:r,useValue:!0}];n?n(o):function GEe(n){if(sm&&!sm.get(Kz,!1))throw new Qt(400,!1);(function Tz(){!function Vf(n){Hu=n}(()=>{throw new Qt(600,!1)})})(),sm=n;const e=n.get(Yz);(function Vz(n){n.get(zK,null)?.forEach(t=>t())})(n)}(function Jz(n=[],e){return ks.create({name:e,providers:[{provide:LQ,useValue:"platform"},{provide:cO,useValue:new Set([()=>sm=null])},...n]})}(o,i))}return function PEe(n){const e=lO();if(!e)throw new Qt(401,!1);return e}()}}function lO(){return sm?.get(Yz)??null}let hh=(()=>{class n{static{this.__NG_ELEMENT_ID__=YEe}}return n})();function YEe(n){return function KEe(n,e,t){if(Ad(n)&&!t){const i=Zc(n.index,e);return new Mw(i,i)}return 47&n.type?new Mw(e[Ds],e):null}(_A(),Lt(),!(16&~n))}class Xz{constructor(){}supports(e){return AM(e)}create(e){return new WEe(e)}}const zEe=(n,e)=>e;class WEe{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zEe}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,A=null;for(;t||i;){const s=!i||t&&t.currentIndex<e9(i,r,A)?t:i,o=e9(s,r,A),a=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{A||(A=[]);const c=o-r,l=a-r;if(c!=l){for(let h=0;h<c;h++){const g=h<A.length?A[h]:A[h]=0,f=g+h;l<=f&&f<c&&(A[h]=g+1)}A[s.previousIndex]=l-c}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!AM(e))throw new Qt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,A,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let o=0;o<this.length;o++)A=e[o],s=this._trackByFn(o,A),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,A,s,o)),Object.is(t.item,A)||this._addIdentityChange(t,A)):(t=this._mismatch(t,A,s,o),i=!0),t=t._next}else r=0,function Sme(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,o=>{s=this._trackByFn(r,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,r)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let A;return null===e?A=this._itTail:(A=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,A,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,A,r)):e=this._addAfter(new jEe(t,i),A,r),e}_verifyReinsertion(e,t,i,r){let A=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==A?e=this._reinsertAfter(A,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,A=e._nextRemoved;return null===r?this._removalsHead=A:r._nextRemoved=A,null===A?this._removalsTail=r:A._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new $z),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $z),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class jEe{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZEe{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class $z{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new ZEe,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function e9(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class t9{constructor(){}supports(e){return e instanceof Map||QU(e)}create(){return new XEe}}class XEe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||QU(e)))throw new Qt(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const A=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,A)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const A=r._prev,s=r._next;return A&&(A._next=s),s&&(s._prev=A),r._next=null,r._prev=null,r}const i=new $Ee(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class $Ee{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function n9(){return new dO([new Xz])}let dO=(()=>{class n{static{this.\u0275prov=Wt({token:n,providedIn:"root",factory:n9})}constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||n9()),deps:[[n,new kC,new $f]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Qt(901,!1)}}return n})();function i9(){return new SM([new t9])}let SM=(()=>{class n{static{this.\u0275prov=Wt({token:n,providedIn:"root",factory:i9})}constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||i9()),deps:[[n,new kC,new $f]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Qt(901,!1)}}return n})();const n0e=qz(null,"core",[]);let i0e=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)(cn(gh))}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),m9=!1,C9=!1;function E0e(){return Rp([{provide:NS,useFactory:()=>{let n=!0;return nh()&&(n=!!ze(RE,{optional:!0})?.get(dL,null)),n&&rh("NgHydration"),n}},{provide:zg,useValue:()=>{C9=!!ze(nq,{optional:!0}),nh()&&ze(NS)&&(function y0e(){const n=jp();let e;for(const t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===lfe){e=t;break}if(!e)throw new Qt(-507,!1)}(),function I0e(){m9||(m9=!0,function gfe(){jK=ufe}(),function $Ce(){e6=XCe}(),function pBe(){Z6=dBe}(),function nIe(){t6=tIe}(),function Fme(){sV=xme}(),function $pe(){NJ=Xpe,uU=Zpe}(),function Qpe(){hJ=ype}(),function vde(){qq=Ede}(),function BIe(){Xw=IIe}())}())},multi:!0},{provide:tq,useFactory:()=>nh()&&ze(NS)},{provide:QM,useFactory:()=>{if(nh()&&ze(NS)){const n=ze(gh);return ze(ks),()=>{(function B0e(n,e){return Uz(n)})(n).then(()=>{!function gpe(n){const e=n._views;for(const t of e){const i=ZK(t);null!==i&&null!==i[Es]&&(To(i)?zS(i):(zS(i[Es]),uJ(i)))}}(n)})}}return()=>{}},multi:!0}])}function Va(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function F0e(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}function w9(n){const e=xt(null);try{return n()}finally{xt(e)}}function CO(n,e){const t=Qr(n),i=e.elementInjector||dE();return new Ow(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}let _9=null;function om(){return _9}class H0e{}const CA=new xn("");let IO=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:()=>ze(K0e),providedIn:"platform"})}}return n})();const Y0e=new xn("");let K0e=(()=>{class n extends IO{constructor(){super(),this._doc=ze(CA),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return om().getBaseHref(this._doc)}onPopState(t){const i=om().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=om().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function BO(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function D9(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Id(n){return n&&"?"!==n[0]?"?"+n:n}let CI=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:()=>ze(S9),providedIn:"root"})}}return n})();const b9=new xn("");let S9=(()=>{class n extends CI{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ze(CA).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return BO(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Id(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,A){const s=this.prepareExternalUrl(r+Id(A));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,A){const s=this.prepareExternalUrl(r+Id(A));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(cn(IO),cn(b9,8))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),q0e=(()=>{class n extends CI{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=BO(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,A){let s=this.prepareExternalUrl(r+Id(A));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,A){let s=this.prepareExternalUrl(r+Id(A));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(cn(IO),cn(b9,8))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})(),h0=(()=>{class n{constructor(t){this._subject=new ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function z0e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(D9(M9(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Id(i))}normalize(t){return n.stripTrailingSlash(function V0e(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,M9(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Id(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Id(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=Id}static{this.joinWithSlash=BO}static{this.stripTrailingSlash=D9}static{this.\u0275fac=function(i){return new(i||n)(cn(CI))}}static{this.\u0275prov=Wt({token:n,factory:()=>function J0e(){return new h0(cn(CI))}(),providedIn:"root"})}}return n})();function M9(n){return n.replace(/\/index.html$/,"")}var TM=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(TM||{}),Ea=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ea||{}),IA=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(IA||{}),Eu=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Eu||{});const Oo={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function kM(n,e){return ag($c(n)[vs.DateFormat],e)}function LM(n,e){return ag($c(n)[vs.TimeFormat],e)}function UM(n,e){return ag($c(n)[vs.DateTimeFormat],e)}function og(n,e){const t=$c(n),i=t[vs.NumberSymbols][e];if(typeof i>"u"){if(e===Oo.CurrencyDecimal)return t[vs.NumberSymbols][Oo.Decimal];if(e===Oo.CurrencyGroup)return t[vs.NumberSymbols][Oo.Group]}return i}function F9(n){if(!n[vs.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[vs.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ag(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function yO(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const sve=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,OM={},ove=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Bd=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Bd||{}),kA=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(kA||{}),LA=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(LA||{});function R9(n,e,t,i){let r=function pve(n){if(L9(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,A=1,s=1]=n.split("-").map(o=>+o);return GM(r,A-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(sve))return function mve(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,A=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,o=Number(n[5]||0)-i,a=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return A.call(e,s,o,a,c),e}(i)}const e=new Date(n);if(!L9(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ed(t,e)||e;let o,s=[];for(;e;){if(o=ove.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const l=s.pop();if(!l)break;e=l}}let a=r.getTimezoneOffset();i&&(a=k9(i,a),r=function dve(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function fve(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(k9(e,r)-r))}(r,i,!0));let c="";return s.forEach(l=>{const u=function hve(n){if(wO[n])return wO[n];let e;switch(n){case"G":case"GG":case"GGG":e=ys(LA.Eras,IA.Abbreviated);break;case"GGGG":e=ys(LA.Eras,IA.Wide);break;case"GGGGG":e=ys(LA.Eras,IA.Narrow);break;case"y":e=Go(kA.FullYear,1,0,!1,!0);break;case"yy":e=Go(kA.FullYear,2,0,!0,!0);break;case"yyy":e=Go(kA.FullYear,3,0,!1,!0);break;case"yyyy":e=Go(kA.FullYear,4,0,!1,!0);break;case"Y":e=KM(1);break;case"YY":e=KM(2,!0);break;case"YYY":e=KM(3);break;case"YYYY":e=KM(4);break;case"M":case"L":e=Go(kA.Month,1,1);break;case"MM":case"LL":e=Go(kA.Month,2,1);break;case"MMM":e=ys(LA.Months,IA.Abbreviated);break;case"MMMM":e=ys(LA.Months,IA.Wide);break;case"MMMMM":e=ys(LA.Months,IA.Narrow);break;case"LLL":e=ys(LA.Months,IA.Abbreviated,Ea.Standalone);break;case"LLLL":e=ys(LA.Months,IA.Wide,Ea.Standalone);break;case"LLLLL":e=ys(LA.Months,IA.Narrow,Ea.Standalone);break;case"w":e=QO(1);break;case"ww":e=QO(2);break;case"W":e=QO(1,!0);break;case"d":e=Go(kA.Date,1);break;case"dd":e=Go(kA.Date,2);break;case"c":case"cc":e=Go(kA.Day,1);break;case"ccc":e=ys(LA.Days,IA.Abbreviated,Ea.Standalone);break;case"cccc":e=ys(LA.Days,IA.Wide,Ea.Standalone);break;case"ccccc":e=ys(LA.Days,IA.Narrow,Ea.Standalone);break;case"cccccc":e=ys(LA.Days,IA.Short,Ea.Standalone);break;case"E":case"EE":case"EEE":e=ys(LA.Days,IA.Abbreviated);break;case"EEEE":e=ys(LA.Days,IA.Wide);break;case"EEEEE":e=ys(LA.Days,IA.Narrow);break;case"EEEEEE":e=ys(LA.Days,IA.Short);break;case"a":case"aa":case"aaa":e=ys(LA.DayPeriods,IA.Abbreviated);break;case"aaaa":e=ys(LA.DayPeriods,IA.Wide);break;case"aaaaa":e=ys(LA.DayPeriods,IA.Narrow);break;case"b":case"bb":case"bbb":e=ys(LA.DayPeriods,IA.Abbreviated,Ea.Standalone,!0);break;case"bbbb":e=ys(LA.DayPeriods,IA.Wide,Ea.Standalone,!0);break;case"bbbbb":e=ys(LA.DayPeriods,IA.Narrow,Ea.Standalone,!0);break;case"B":case"BB":case"BBB":e=ys(LA.DayPeriods,IA.Abbreviated,Ea.Format,!0);break;case"BBBB":e=ys(LA.DayPeriods,IA.Wide,Ea.Format,!0);break;case"BBBBB":e=ys(LA.DayPeriods,IA.Narrow,Ea.Format,!0);break;case"h":e=Go(kA.Hours,1,-12);break;case"hh":e=Go(kA.Hours,2,-12);break;case"H":e=Go(kA.Hours,1);break;case"HH":e=Go(kA.Hours,2);break;case"m":e=Go(kA.Minutes,1);break;case"mm":e=Go(kA.Minutes,2);break;case"s":e=Go(kA.Seconds,1);break;case"ss":e=Go(kA.Seconds,2);break;case"S":e=Go(kA.FractionalSeconds,1);break;case"SS":e=Go(kA.FractionalSeconds,2);break;case"SSS":e=Go(kA.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=HM(Bd.Short);break;case"ZZZZZ":e=HM(Bd.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=HM(Bd.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=HM(Bd.Long);break;default:return null}return wO[n]=e,e}(l);c+=u?u(r,t,a):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function GM(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Ed(n,e){const t=function j0e(n){return $c(n)[vs.LocaleId]}(n);if(OM[t]??={},OM[t][e])return OM[t][e];let i="";switch(e){case"shortDate":i=kM(n,Eu.Short);break;case"mediumDate":i=kM(n,Eu.Medium);break;case"longDate":i=kM(n,Eu.Long);break;case"fullDate":i=kM(n,Eu.Full);break;case"shortTime":i=LM(n,Eu.Short);break;case"mediumTime":i=LM(n,Eu.Medium);break;case"longTime":i=LM(n,Eu.Long);break;case"fullTime":i=LM(n,Eu.Full);break;case"short":const r=Ed(n,"shortTime"),A=Ed(n,"shortDate");i=PM(UM(n,Eu.Short),[r,A]);break;case"medium":const s=Ed(n,"mediumTime"),o=Ed(n,"mediumDate");i=PM(UM(n,Eu.Medium),[s,o]);break;case"long":const a=Ed(n,"longTime"),c=Ed(n,"longDate");i=PM(UM(n,Eu.Long),[a,c]);break;case"full":const l=Ed(n,"fullTime"),u=Ed(n,"fullDate");i=PM(UM(n,Eu.Full),[l,u])}return i&&(OM[t][e]=i),i}function PM(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function fh(n,e,t="-",i,r){let A="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,A=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),A+s}function Go(n,e,t=0,i=!1,r=!1){return function(A,s){let o=function cve(n,e){switch(n){case kA.FullYear:return e.getFullYear();case kA.Month:return e.getMonth();case kA.Date:return e.getDate();case kA.Hours:return e.getHours();case kA.Minutes:return e.getMinutes();case kA.Seconds:return e.getSeconds();case kA.FractionalSeconds:return e.getMilliseconds();case kA.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,A);if((t>0||o>-t)&&(o+=t),n===kA.Hours)0===o&&-12===t&&(o=12);else if(n===kA.FractionalSeconds)return function ave(n,e){return fh(n,3).substring(0,e)}(o,e);const a=og(s,Oo.MinusSign);return fh(o,e,a,i,r)}}function ys(n,e,t=Ea.Format,i=!1){return function(r,A){return function lve(n,e,t,i,r,A){switch(t){case LA.Months:return function EO(n,e,t){const i=$c(n),A=ag([i[vs.MonthsFormat],i[vs.MonthsStandalone]],e);return ag(A,t)}(e,r,i)[n.getMonth()];case LA.Days:return function x9(n,e,t){const i=$c(n),A=ag([i[vs.DaysFormat],i[vs.DaysStandalone]],e);return ag(A,t)}(e,r,i)[n.getDay()];case LA.DayPeriods:const s=n.getHours(),o=n.getMinutes();if(A){const c=function tve(n){const e=$c(n);return F9(e),(e[vs.ExtraData][2]||[]).map(i=>"string"==typeof i?yO(i):[yO(i[0]),yO(i[1])])}(e),l=function nve(n,e,t){const i=$c(n);F9(i);const A=ag([i[vs.ExtraData][0],i[vs.ExtraData][1]],e)||[];return ag(A,t)||[]}(e,r,i),u=c.findIndex(h=>{if(Array.isArray(h)){const[g,f]=h,d=s>=g.hours&&o>=g.minutes,m=s<f.hours||s===f.hours&&o<f.minutes;if(g.hours<f.hours){if(d&&m)return!0}else if(d||m)return!0}else if(h.hours===s&&h.minutes===o)return!0;return!1});if(-1!==u)return l[u]}return function Z0e(n,e,t){const i=$c(n),A=ag([i[vs.DayPeriodsFormat],i[vs.DayPeriodsStandalone]],e);return ag(A,t)}(e,r,i)[s<12?0:1];case LA.Eras:return function X0e(n,e){return ag($c(n)[vs.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,A,n,e,t,i)}}function HM(n){return function(e,t,i){const r=-1*i,A=og(t,Oo.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Bd.Short:return(r>=0?"+":"")+fh(s,2,A)+fh(Math.abs(r%60),2,A);case Bd.ShortGMT:return"GMT"+(r>=0?"+":"")+fh(s,1,A);case Bd.Long:return"GMT"+(r>=0?"+":"")+fh(s,2,A)+":"+fh(Math.abs(r%60),2,A);case Bd.Extended:return 0===i?"Z":(r>=0?"+":"")+fh(s,2,A)+":"+fh(Math.abs(r%60),2,A);default:throw new Error(`Unknown zone width "${n}"`)}}}const uve=0,YM=4;function T9(n){const e=n.getDay(),t=0===e?-3:YM-e;return GM(n.getFullYear(),n.getMonth(),n.getDate()+t)}function QO(n,e=!1){return function(t,i){let r;if(e){const A=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+A)/7)}else{const A=T9(t),s=function gve(n){const e=GM(n,uve,1).getDay();return GM(n,0,1+(e<=YM?YM:YM+7)-e)}(A.getFullYear()),o=A.getTime()-s.getTime();r=1+Math.round(o/6048e5)}return fh(r,n,og(i,Oo.MinusSign))}}function KM(n,e=!1){return function(t,i){return fh(T9(t).getFullYear(),n,og(i,Oo.MinusSign),e)}}const wO={};function k9(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function L9(n){return n instanceof Date&&!isNaN(n.valueOf())}const Cve=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function SO(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function P9(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,A]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(A)}return null}const NO=/\s+/,H9=[];let xO=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=H9,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(NO):H9}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(NO):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(NO).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(yt(N),yt(ih))}}static{this.\u0275dir=Mn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[Ki.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class Mve{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let za=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,A,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Mve(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===A?void 0:A);else if(null!==A){const o=i.get(A);i.move(o,s),K9(o,r)}});for(let r=0,A=i.length;r<A;r++){const o=i.get(r).context;o.index=r,o.count=A,o.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{K9(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(yt(xl),yt(Eo),yt(dO))}}static{this.\u0275dir=Mn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function K9(n,e){n.context.$implicit=e.item}let Cc=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Nve,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){q9("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){q9("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(yt(xl),yt(Eo))}}static{this.\u0275dir=Mn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Nve{constructor(){this.$implicit=null,this.ngIf=null}}function q9(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Co(e)}'.`)}let JM=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,A]=t.split("."),s=-1===r.indexOf("-")?void 0:Xp.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,A?`${i}${A}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||n)(yt(N),yt(SM),yt(ih))}}static{this.\u0275dir=Mn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),d0=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||n)(yt(xl))}}static{this.\u0275dir=Mn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Js]})}}return n})();function dh(n,e){return new Qt(2100,!1)}class kve{createSubscription(e,t){return w9(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){w9(()=>e.unsubscribe())}}class Lve{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Uve=new Lve,Ove=new kve;let p0=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(g_(t))return Uve;if(Rz(t))return Ove;throw dh()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(yt(hh,16))}}static{this.\u0275pipe=fc({name:"async",type:n,pure:!1,standalone:!0})}}return n})();const qve=new xn(""),Jve=new xn("");let TO=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,A){if(null==t||""===t||t!=t)return null;try{return R9(t,i??this.defaultOptions?.dateFormat??"mediumDate",A||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw dh()}}static{this.\u0275fac=function(i){return new(i||n)(yt(hf,16),yt(qve,24),yt(Jve,24))}}static{this.\u0275pipe=fc({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),VM=(()=>{class n{constructor(t){this._locale=t}transform(t,i,r){if(!function kO(n){return!(null==n||""===n||n!=n)}(t))return null;r||=this._locale;try{return function Qve(n,e,t){return function DO(n,e,t,i,r,A,s=!1){let o="",a=!1;if(isFinite(n)){let c=function _ve(n){let i,r,A,s,o,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(A=e.search(/e/i))>0?(r<0&&(r=A),r+=+e.slice(A+1),e=e.substring(0,A)):r<0&&(r=e.length),A=0;"0"===e.charAt(A);A++);if(A===(o=e.length))i=[0],r=1;else{for(o--;"0"===e.charAt(o);)o--;for(r-=A,i=[],s=0;A<=o;A++,s++)i[s]=Number(e.charAt(A))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);s&&(c=function wve(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let l=e.minInt,u=e.minFrac,h=e.maxFrac;if(A){const I=A.match(Cve);if(null===I)throw new Error(`${A} is not a valid digit info`);const C=I[1],B=I[3],y=I[5];null!=C&&(l=SO(C)),null!=B&&(u=SO(B)),null!=y?h=SO(y):null!=B&&u>h&&(h=u)}!function Dve(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const A=Math.min(Math.max(e,r),t);let s=A+n.integerLen,o=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let u=s;u<i.length;u++)i[u]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=A+1),i[0]=0;for(let u=1;u<s;u++)i[u]=0}if(o>=5)if(s-1<0){for(let u=0;u>s;u--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,A);r++)i.push(0);let a=0!==A;const c=e+n.integerLen,l=i.reduceRight(function(u,h,g,f){return f[g]=(h+=u)<10?h:h-10,a&&(0===f[g]&&g>=c?f.pop():a=!1),h>=10?1:0},0);l&&(i.unshift(l),n.integerLen++)}(c,u,h);let g=c.digits,f=c.integerLen;const d=c.exponent;let m=[];for(a=g.every(I=>!I);f<l;f++)g.unshift(0);for(;f<0;f++)g.unshift(0);f>0?m=g.splice(f,g.length):(m=g,g=[0]);const p=[];for(g.length>=e.lgSize&&p.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)p.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&p.unshift(g.join("")),o=p.join(og(t,i)),m.length&&(o+=og(t,r)+m.join("")),d&&(o+=og(t,Oo.Exponential)+"+"+d)}else o=og(t,Oo.Infinity);return o=n<0&&!a?e.negPre+o+e.negSuf:e.posPre+o+e.posSuf,o}(n,function bO(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],A=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],o=s[0],a=s[1]||"";t.posPre=o.substring(0,o.indexOf("#"));for(let l=0;l<a.length;l++){const u=a.charAt(l);"0"===u?t.minFrac=t.maxFrac=l+1:"#"===u?t.maxFrac=l+1:t.posSuf+=u}const c=o.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,A){const l=r.length-t.posPre.length-t.posSuf.length,u=A.indexOf("#");t.negPre=A.substring(0,u).replace(/'/g,""),t.negSuf=A.slice(u+l).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function vO(n,e){return $c(n)[vs.NumberFormats][e]}(e,TM.Decimal),og(e,Oo.MinusSign)),e,Oo.Group,Oo.Decimal,t)}(function LO(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),r,i)}catch(A){throw dh()}}static{this.\u0275fac=function(i){return new(i||n)(yt(hf,16))}}static{this.\u0275pipe=fc({name:"number",type:n,pure:!0,standalone:!0})}}return n})();let am=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})();const z9="browser",tye="server";function zM(n){return n===z9}function UO(n){return n===tye}let rye=(()=>{class n{static{this.\u0275prov=Wt({token:n,providedIn:"root",factory:()=>zM(ze(ig))?new Aye(ze(CA),window):new oye})}}return n})();class Aye{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function sye(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const A=r.shadowRoot;if(A){const s=A.getElementById(e)||A.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,A=this.offset();this.window.scrollTo(i-A[0],r-A[1])}}class oye{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class W9{}function rW(n){return n&&_n(n.schedule)}function GO(n){return n[n.length-1]}function XM(n){return _n(GO(n))?n.pop():void 0}function C_(n){return rW(GO(n))?n.pop():void 0}function cm(n){return this instanceof cm?(this.v=n,this):new cm(n)}function aW(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function KO(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(A){t[A]=n[A]&&function(s){return new Promise(function(o,a){!function r(A,s,o,a){Promise.resolve(a).then(function(c){A({value:c,done:o})},s)}(o,a,(s=n[A](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const JO=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function cW(n){return _n(n?.then)}function lW(n){return _n(n[to])}function uW(n){return Symbol.asyncIterator&&_n(n?.[Symbol.asyncIterator])}function gW(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hW=function aQe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fW(n){return _n(n?.[hW])}function dW(n){return function oW(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),A=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function s(g){return function(f){return Promise.resolve(f).then(g,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function o(g,f){i[g]&&(r[g]=function(d){return new Promise(function(m,p){A.push([g,d,m,p])>1||a(g,d)})},f&&(r[g]=f(r[g])))}function a(g,f){try{!function c(g){g.value instanceof cm?Promise.resolve(g.value.v).then(l,u):h(A[0][2],g)}(i[g](f))}catch(d){h(A[0][3],d)}}function l(g){a("next",g)}function u(g){a("throw",g)}function h(g,f){g(f),A.shift(),A.length&&a(A[0][0],A[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield cm(t.read());if(r)return yield cm(void 0);yield yield cm(i)}}finally{t.releaseLock()}})}function pW(n){return _n(n?.getReader)}function va(n){if(n instanceof _r)return n;if(null!=n){if(lW(n))return function cQe(n){return new _r(e=>{const t=n[to]();if(_n(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(JO(n))return function lQe(n){return new _r(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(cW(n))return function uQe(n){return new _r(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,lc)})}(n);if(uW(n))return mW(n);if(fW(n))return function gQe(n){return new _r(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(pW(n))return function hQe(n){return mW(dW(n))}(n)}throw gW(n)}function mW(n){return new _r(e=>{(function fQe(n,e){var t,i,r,A;return function AW(n,e,t,i){return new(t||(t=Promise))(function(A,s){function o(l){try{c(i.next(l))}catch(u){s(u)}}function a(l){try{c(i.throw(l))}catch(u){s(u)}}function c(l){l.done?A(l.value):function r(A){return A instanceof t?A:new t(function(s){s(A)})}(l.value).then(o,a)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=aW(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(A=t.return)&&(yield A.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function vd(n,e,t,i=0,r=!1){const A=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(A),!r)return A}function CW(n,e=0){return AA((t,i)=>{t.subscribe(sA(i,r=>vd(i,n,()=>i.next(r),e),()=>vd(i,n,()=>i.complete(),e),r=>vd(i,n,()=>i.error(r),e)))})}function IW(n,e=0){return AA((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function BW(n,e){if(!n)throw new Error("Iterable cannot be null");return new _r(t=>{vd(t,e,()=>{const i=n[Symbol.asyncIterator]();vd(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function oo(n,e){return e?function BQe(n,e){if(null!=n){if(lW(n))return function dQe(n,e){return va(n).pipe(IW(e),CW(e))}(n,e);if(JO(n))return function mQe(n,e){return new _r(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(cW(n))return function pQe(n,e){return va(n).pipe(IW(e),CW(e))}(n,e);if(uW(n))return BW(n,e);if(fW(n))return function CQe(n,e){return new _r(t=>{let i;return vd(t,e,()=>{i=n[hW](),vd(t,e,()=>{let r,A;try{({value:r,done:A}=i.next())}catch(s){return void t.error(s)}A?t.complete():t.next(r)},0,!0)}),()=>_n(i?.return)&&i.return()})}(n,e);if(pW(n))return function IQe(n,e){return BW(dW(n),e)}(n,e)}throw gW(n)}(n,e):va(n)}function ai(...n){return oo(n,C_(n))}function ya(n,e,t=1/0){return _n(e)?ya((i,r)=>tr((A,s)=>e(i,A,r,s))(va(n(i,r))),t):("number"==typeof e&&(t=e),AA((i,r)=>function EQe(n,e,t,i,r,A,s,o){const a=[];let c=0,l=0,u=!1;const h=()=>{u&&!a.length&&!c&&e.complete()},g=d=>c<i?f(d):a.push(d),f=d=>{A&&e.next(d),c++;let m=!1;va(t(d,l++)).subscribe(sA(e,p=>{r?.(p),A?g(p):e.next(p)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;a.length&&c<i;){const p=a.shift();s?vd(e,s,()=>f(p)):f(p)}h()}catch(p){e.error(p)}}))};return n.subscribe(sA(e,g,()=>{u=!0,h()})),()=>{o?.()}}(i,r,n,t)))}function lm(n,e){return _n(e)?ya(n,e,1):ya(n,1)}function m0(n){return AA((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function kl(n,e){return AA((t,i)=>{let r=null,A=0,s=!1;const o=()=>s&&!r&&i.complete();t.subscribe(sA(i,a=>{r?.unsubscribe();let c=0;const l=A++;va(n(a,l)).subscribe(r=sA(i,u=>i.next(e?e(a,u,l,c++):u),()=>{r=null,o()}))},()=>{s=!0,o()}))})}function Ws(n,e,t){const i=_n(n)||e||t?{next:n,error:e,complete:t}:n;return i?AA((r,A)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let o=!0;r.subscribe(sA(A,a=>{var c;null===(c=i.next)||void 0===c||c.call(i,a),A.next(a)},()=>{var a;o=!1,null===(a=i.complete)||void 0===a||a.call(i),A.complete()},a=>{var c;o=!1,null===(c=i.error)||void 0===c||c.call(i,a),A.error(a)},()=>{var a,c;o&&(null===(a=i.unsubscribe)||void 0===a||a.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):bA}class $M{}class eN{}class Wa{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),A=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,A),this.headers.has(A)?this.headers.get(A).push(s):this.headers.set(A,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Wa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Wa;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Wa?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const A=e.value;if(A){let s=this.headers.get(t);if(!s)return;s=s.filter(o=>-1===A.indexOf(o)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(A=>A.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class vQe{encodeKey(e){return EW(e)}encodeValue(e){return EW(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const QQe=/%(\d[a-f0-9])/gi,wQe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function EW(n){return encodeURIComponent(n).replace(QQe,(e,t)=>wQe[t]??e)}function tN(n){return`${n}`}class um{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vQe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yQe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const A=r.indexOf("="),[s,o]=-1==A?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,A)),e.decodeValue(r.slice(A+1))],a=t.get(s)||[];a.push(o),t.set(s,a)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(tN):[tN(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(A=>{t.push({param:i,value:A,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new um({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(tN(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(tN(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class _Qe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function vW(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yW(n){return typeof Blob<"u"&&n instanceof Blob}function QW(n){return typeof FormData<"u"&&n instanceof FormData}class yd{constructor(e,t,i,r){let A;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function DQe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,A=r):A=i,A&&(this.reportProgress=!!A.reportProgress,this.withCredentials=!!A.withCredentials,A.responseType&&(this.responseType=A.responseType),A.headers&&(this.headers=A.headers),A.context&&(this.context=A.context),A.params&&(this.params=A.params),this.transferCache=A.transferCache),this.headers??=new Wa,this.context??=new _Qe,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const o=t.indexOf("?");this.urlWithParams=t+(-1===o?"?":o<t.length-1?"&":"")+s}}else this.params=new um,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||vW(this.body)||yW(this.body)||QW(this.body)||function bQe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof um?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||QW(this.body)?null:yW(this.body)?this.body.type||null:vW(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof um?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,A=e.transferCache??this.transferCache,s=void 0!==e.body?e.body:this.body,o=e.withCredentials??this.withCredentials,a=e.reportProgress??this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,g)=>h.set(g,e.setHeaders[g]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,g)=>h.set(g,e.setParams[g]),l)),new yd(t,i,s,{params:l,headers:c,context:u,reportProgress:a,responseType:r,withCredentials:o,transferCache:A})}}var Qd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Qd||{});class VO{constructor(e,t=I_.Ok,i="OK"){this.headers=e.headers||new Wa,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class nN extends VO{constructor(e={}){super(e),this.type=Qd.ResponseHeader}clone(e={}){return new nN({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wd extends VO{constructor(e={}){super(e),this.type=Qd.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new wd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class C0 extends VO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var I_=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(I_||{});function zO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let II=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let A;if(t instanceof yd)A=t;else{let a,c;a=r.headers instanceof Wa?r.headers:new Wa(r.headers),r.params&&(c=r.params instanceof um?r.params:new um({fromObject:r.params})),A=new yd(t,i,void 0!==r.body?r.body:null,{headers:a,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=ai(A).pipe(lm(a=>this.handler.handle(a)));if(t instanceof yd||"events"===r.observe)return s;const o=s.pipe(cs(a=>a instanceof wd));switch(r.observe||"body"){case"body":switch(A.responseType){case"arraybuffer":return o.pipe(tr(a=>{if(null!==a.body&&!(a.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return a.body}));case"blob":return o.pipe(tr(a=>{if(null!==a.body&&!(a.body instanceof Blob))throw new Error("Response is not a Blob.");return a.body}));case"text":return o.pipe(tr(a=>{if(null!==a.body&&"string"!=typeof a.body)throw new Error("Response is not a string.");return a.body}));default:return o.pipe(tr(a=>a.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new um).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,zO(r,i))}post(t,i,r={}){return this.request("POST",t,zO(r,i))}put(t,i,r={}){return this.request("PUT",t,zO(r,i))}static{this.\u0275fac=function(i){return new(i||n)(cn($M))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();function _W(n,e){return e(n)}function FQe(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const DW=new xn(""),B_=new xn(""),bW=new xn(""),SW=new xn("");function TQe(){let n=null;return(e,t)=>{null===n&&(n=(ze(DW,{optional:!0})??[]).reduceRight(FQe,_W));const i=ze(tm),r=i.add();return n(e,t).pipe(m0(()=>i.remove(r)))}}let MW=(()=>{class n extends $M{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=ze(tm);const r=ze(SW,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(B_),...this.injector.get(bW,[])]));this.chain=r.reduceRight((A,s)=>function RQe(n,e,t){return(i,r)=>Wu(t,()=>e(i,A=>n(A,r)))}(A,s,this.injector),_W)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(m0(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||n)(cn(eN),cn(ea))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();const GQe=/^\)\]\}',?\n/;let xW=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Qt(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?oo(i.\u0275loadImpl()):ai(null)).pipe(kl(()=>new _r(A=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((d,m)=>s.setRequestHeader(d,m.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const d=t.detectContentTypeHeader();null!==d&&s.setRequestHeader("Content-Type",d)}if(t.responseType){const d=t.responseType.toLowerCase();s.responseType="json"!==d?d:"text"}const o=t.serializeBody();let a=null;const c=()=>{if(null!==a)return a;const d=s.statusText||"OK",m=new Wa(s.getAllResponseHeaders()),p=function PQe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return a=new nN({headers:m,status:s.status,statusText:d,url:p}),a},l=()=>{let{headers:d,status:m,statusText:p,url:I}=c(),C=null;m!==I_.NoContent&&(C=typeof s.response>"u"?s.responseText:s.response),0===m&&(m=C?I_.Ok:0);let B=m>=200&&m<300;if("json"===t.responseType&&"string"==typeof C){const y=C;C=C.replace(GQe,"");try{C=""!==C?JSON.parse(C):null}catch(E){C=y,B&&(B=!1,C={error:E,text:C})}}B?(A.next(new wd({body:C,headers:d,status:m,statusText:p,url:I||void 0})),A.complete()):A.error(new C0({error:C,headers:d,status:m,statusText:p,url:I||void 0}))},u=d=>{const{url:m}=c(),p=new C0({error:d,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});A.error(p)};let h=!1;const g=d=>{h||(A.next(c()),h=!0);let m={type:Qd.DownloadProgress,loaded:d.loaded};d.lengthComputable&&(m.total=d.total),"text"===t.responseType&&s.responseText&&(m.partialText=s.responseText),A.next(m)},f=d=>{let m={type:Qd.UploadProgress,loaded:d.loaded};d.lengthComputable&&(m.total=d.total),A.next(m)};return s.addEventListener("load",l),s.addEventListener("error",u),s.addEventListener("timeout",u),s.addEventListener("abort",u),t.reportProgress&&(s.addEventListener("progress",g),null!==o&&s.upload&&s.upload.addEventListener("progress",f)),s.send(o),A.next({type:Qd.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",l),s.removeEventListener("timeout",u),t.reportProgress&&(s.removeEventListener("progress",g),null!==o&&s.upload&&s.upload.removeEventListener("progress",f)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(cn(W9))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();const ZO=new xn(""),FW=new xn("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),RW=new xn("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class TW{}let KQe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=P9(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(cn(CA),cn(ig),cn(FW))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();function qQe(n,e){const t=n.url.toLowerCase();if(!ze(ZO)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=ze(TW).getToken(),r=ze(RW);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var gm=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(gm||{});function BI(n,e){return{\u0275kind:n,\u0275providers:e}}function JQe(...n){const e=[II,xW,MW,{provide:$M,useExisting:MW},{provide:eN,useExisting:xW},{provide:B_,useValue:qQe,multi:!0},{provide:ZO,useValue:!0},{provide:TW,useClass:KQe}];for(const t of n)e.push(...t.\u0275providers);return Rp(e)}const kW=new xn("");let zQe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({providers:[JQe(BI(gm.LegacyInterceptors,[{provide:kW,useFactory:TQe},{provide:B_,useExisting:kW,multi:!0}]))]})}}return n})();const LW="b",UW="h",OW="s",GW="st",PW="u",HW="rt",iN=new xn(""),WQe=["GET","HEAD"];function jQe(n,e){const{isCacheActive:t,...i}=ze(iN),{transferCache:r,method:A}=n;if(!t||"POST"===A&&!i.includePostRequests&&!r||"POST"!==A&&!WQe.includes(A)||!1===r||!1===i.filter?.(n))return e(n);const s=ze(RE),o=function XQe(n){const{params:e,method:t,responseType:i,url:r}=n,A=YW(e);let s=n.serializeBody();s instanceof URLSearchParams?s=YW(s):"string"!=typeof s&&(s="");const a=function $Qe(n){let e=0;for(const t of n)e=Math.imul(31,e)+t.charCodeAt(0)|0;return e+=2147483648,e.toString()}([t,i,r,s,A].join("|"));return a}(n),a=s.get(o,null);let c=i.includeHeaders;if("object"==typeof r&&r.includeHeaders&&(c=r.includeHeaders),a){const{[LW]:u,[HW]:h,[UW]:g,[OW]:f,[GW]:d,[PW]:m}=a;let p=u;switch(h){case"arraybuffer":p=(new TextEncoder).encode(u).buffer;break;case"blob":p=new Blob([u])}let I=new Wa(g);return ai(new wd({body:p,headers:I,status:f,statusText:d,url:m}))}const l=UO(ze(ig));return e(n).pipe(Ws(u=>{u instanceof wd&&l&&s.set(o,{[LW]:u.body,[UW]:ZQe(u.headers,c),[OW]:u.status,[GW]:u.statusText,[PW]:u.url||"",[HW]:n.responseType})}))}function ZQe(n,e){if(!e)return{};const t={};for(const i of e){const r=n.getAll(i);null!==r&&(t[i]=r)}return t}function YW(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function ewe(n){return[{provide:iN,useFactory:()=>(rh("NgHttpTransferCache"),{isCacheActive:!0,...n})},{provide:bW,useValue:jQe,multi:!0,deps:[RE,iN]},{provide:QM,multi:!0,useFactory:()=>{const e=ze(gh),t=ze(iN);return()=>{Uz(e).then(()=>{t.isCacheActive=!1})}}}]}class twe extends H0e{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class XO extends twe{static makeCurrent(){!function P0e(n){_9??=n}(new XO)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function nwe(){return E_=E_||document.querySelector("base"),E_?E_.getAttribute("href"):null}();return null==t?null:function iwe(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){E_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return P9(document.cookie,e)}}let E_=null,Awe=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();const $O=new xn("");let KW=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(A=>A.supports(t)),!i)throw new Qt(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(cn($O),cn(Fi))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();class qW{constructor(e){this._doc=e}}const eG="ng-app-id";let JW=(()=>{class n{constructor(t,i,r,A={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=A,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=UO(A),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${eG}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const A=r.get(t);return A.usage+=i,A.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,A=r?.get(i);if(A?.parentNode===t)return r.delete(i),A.removeAttribute(eG),A;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(eG,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),A=this.styleRef,s=A.get(i)?.elements;s?s.push(r):A.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(cn(CA),cn(_S),cn(WK,8),cn(ig))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();const tG={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nG=/%COMP%/g,cwe=new xn("",{providedIn:"root",factory:()=>!0});function zW(n,e){return e.map(t=>t.replace(nG,n))}let iG=(()=>{class n{constructor(t,i,r,A,s,o,a,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=A,this.doc=s,this.platformId=o,this.ngZone=a,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=UO(o),this.defaultRenderer=new rG(t,s,a,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Dl.ShadowDom&&(i={...i,encapsulation:Dl.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof jW?r.applyToHost(t):r instanceof AG&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let A=r.get(i.id);if(!A){const s=this.doc,o=this.ngZone,a=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(i.encapsulation){case Dl.Emulated:A=new jW(a,c,i,this.appId,l,s,o,u);break;case Dl.ShadowDom:return new hwe(a,c,t,i,s,o,this.nonce,u);default:A=new AG(a,c,i,l,s,o,u)}r.set(i.id,A)}return A}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(cn(KW),cn(JW),cn(_S),cn(cwe),cn(CA),cn(ig),cn(Fi),cn(WK))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();class rG{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(tG[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(WW(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(WW(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new Qt(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const A=tG[r];A?e.setAttributeNS(A,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=tG[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Xp.DashCase|Xp.Important)?e.style.setProperty(t,i,r&Xp.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Xp.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=om().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function WW(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class hwe extends rG{constructor(e,t,i,r,A,s,o,a){super(e,A,s,a),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=zW(r.id,r.styles);for(const l of c){const u=document.createElement("style");o&&u.setAttribute("nonce",o),u.textContent=l,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class AG extends rG{constructor(e,t,i,r,A,s,o,a){super(e,A,s,o),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=a?zW(a,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class jW extends AG{constructor(e,t,i,r,A,s,o,a){const c=r+"-"+i.id;super(e,t,i,A,s,o,a,c),this.contentAttr=function lwe(n){return"_ngcontent-%COMP%".replace(nG,n)}(c),this.hostAttr=function uwe(n){return"_nghost-%COMP%".replace(nG,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let fwe=(()=>{class n extends qW{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(cn(CA))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();const ZW=["alt","control","meta","shift"],dwe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pwe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let mwe=(()=>{class n extends qW{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const A=n.parseEventName(i),s=n.eventCallback(A.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>om().onAndCancel(t,A.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const A=n._normalizeKey(i.pop());let s="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),s="code."),ZW.forEach(c=>{const l=i.indexOf(c);l>-1&&(i.splice(l,1),s+=c+".")}),s+=A,0!=i.length||0===A.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static matchEventFullKeyCode(t,i){let r=dwe[t.key]||t.key,A="";return i.indexOf("code.")>-1&&(r=t.code,A="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ZW.forEach(s=>{s!==r&&(0,pwe[s])(t)&&(A+=s+".")}),A+=r,A===i)}static eventCallback(t,i,r){return A=>{n.matchEventFullKeyCode(A,t)&&r.runGuarded(()=>i(A))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(cn(CA))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();const $W=[{provide:ig,useValue:z9},{provide:zK,useValue:function Cwe(){XO.makeCurrent()},multi:!0},{provide:CA,useFactory:function Bwe(){return function rfe(n){oL=n}(document),document},deps:[]}],Ewe=qz(n0e,"browser",$W),vwe=new xn(""),ej=[{provide:vM,useClass:class rwe{addToWindow(e){yA.getAngularTestability=(i,r=!0)=>{const A=e.findTestabilityInTree(i,r);if(null==A)throw new Qt(5103,!1);return A},yA.getAllAngularTestabilities=()=>e.getAllTestabilities(),yA.getAllAngularRootElements=()=>e.getAllRootElements(),yA.frameworkStabilizers||(yA.frameworkStabilizers=[]),yA.frameworkStabilizers.push(i=>{const r=yA.getAllAngularTestabilities();let A=r.length;const s=function(){A--,0==A&&i()};r.forEach(o=>{o.whenStable(s)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?om().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Fz,useClass:rO,deps:[Fi,AO,vM]},{provide:rO,useClass:rO,deps:[Fi,AO,vM]}],tj=[{provide:LQ,useValue:"root"},{provide:du,useFactory:function Iwe(){return new du},deps:[]},{provide:$O,useClass:fwe,multi:!0,deps:[CA,Fi,ig]},{provide:$O,useClass:mwe,multi:!0,deps:[CA]},iG,JW,KW,{provide:nU,useExisting:iG},{provide:W9,useClass:Awe,deps:[]},[]];let nj=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:_S,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(cn(vwe,12))}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({providers:[...tj,...ej],imports:[am,i0e]})}}return n})(),rN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(cn(CA))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var v_=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n}(v_||{});function _we(...n){const e=[],t=new Set,i=t.has(v_.HttpTransferCacheOptions);for(const{\u0275providers:r,\u0275kind:A}of n)t.add(A),r.length&&e.push(r);return Rp([[],E0e(),t.has(v_.NoHttpTransferCache)||i?[]:ewe({}),e])}const{isArray:Dwe}=Array,{getPrototypeOf:bwe,prototype:Swe,keys:Mwe}=Object;function sj(n){if(1===n.length){const e=n[0];if(Dwe(e))return{args:e,keys:null};if(function Nwe(n){return n&&"object"==typeof n&&bwe(n)===Swe}(e)){const t=Mwe(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:xwe}=Array;function sG(n){return tr(e=>function Fwe(n,e){return xwe(e)?n(...e):n(e)}(n,e))}function oj(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let aj=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(yt(ih),yt(N))}}static{this.\u0275dir=Mn({type:n})}}return n})(),EI=(()=>{class n extends aj{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=FA(n)))(r||n)}})()}static{this.\u0275dir=Mn({type:n,features:[mA]})}}return n})();const cg=new xn(""),kwe={provide:cg,useExisting:QA(()=>ff),multi:!0},Uwe=new xn("");let ff=(()=>{class n extends aj{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Lwe(){const n=om()?om().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(yt(ih),yt(N),yt(Uwe,8))}}static{this.\u0275dir=Mn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&on("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[us([kwe]),mA]})}}return n})();function hm(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function lj(n){return null!=n&&"number"==typeof n.length}const ja=new xn(""),fm=new xn(""),Owe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vI{static min(e){return function uj(n){return e=>{if(hm(e.value)||hm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function gj(n){return e=>{if(hm(e.value)||hm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return hj(e)}static requiredTrue(e){return function fj(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function dj(n){return hm(n.value)||Owe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function pj(n){return e=>hm(e.value)||!lj(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return mj(e)}static pattern(e){return function Cj(n){if(!n)return AN;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(hm(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Qj(e)}static composeAsync(e){return wj(e)}}function hj(n){return hm(n.value)?{required:!0}:null}function mj(n){return e=>lj(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function AN(n){return null}function Ij(n){return null!=n}function Bj(n){return g_(n)?oo(n):n}function Ej(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function vj(n,e){return e.map(t=>t(n))}function yj(n){return n.map(e=>function Gwe(n){return!n.validate}(e)?e:t=>e.validate(t))}function Qj(n){if(!n)return null;const e=n.filter(Ij);return 0==e.length?null:function(t){return Ej(vj(t,e))}}function oG(n){return null!=n?Qj(yj(n)):null}function wj(n){if(!n)return null;const e=n.filter(Ij);return 0==e.length?null:function(t){return function Rwe(...n){const e=XM(n),{args:t,keys:i}=sj(n),r=new _r(A=>{const{length:s}=t;if(!s)return void A.complete();const o=new Array(s);let a=s,c=s;for(let l=0;l<s;l++){let u=!1;va(t[l]).subscribe(sA(A,h=>{u||(u=!0,c--),o[l]=h},()=>a--,void 0,()=>{(!a||!u)&&(c||A.next(i?oj(i,o):o),A.complete())}))}});return e?r.pipe(sG(e)):r}(vj(t,e).map(Bj)).pipe(tr(Ej))}}function aG(n){return null!=n?wj(yj(n)):null}function _j(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Dj(n){return n._rawValidators}function bj(n){return n._rawAsyncValidators}function cG(n){return n?Array.isArray(n)?n:[n]:[]}function sN(n,e){return Array.isArray(n)?n.includes(e):n===e}function Sj(n,e){const t=cG(e);return cG(n).forEach(r=>{sN(t,r)||t.push(r)}),t}function Mj(n,e){return cG(e).filter(t=>!sN(n,t))}class Nj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oG(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aG(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class tl extends Nj{get formDirective(){return null}get path(){return null}}class dm extends Nj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let pm=(()=>{class n extends xj{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(yt(dm,2))}}static{this.\u0275dir=Mn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Lr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[mA]})}}return n})(),I0=(()=>{class n extends xj{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(yt(tl,10))}}static{this.\u0275dir=Mn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Lr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[mA]})}}return n})();const y_="VALID",aN="INVALID",B0="PENDING",Q_="DISABLED";function gG(n){return(cN(n)?n.validators:n)||null}function hG(n,e){return(cN(e)?e.asyncValidators:n)||null}function cN(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Rj(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new Qt(1e3,"");if(!i[t])throw new Qt(1001,"")}function Tj(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new Qt(1002,"")})}class lN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===y_}get invalid(){return this.status===aN}get pending(){return this.status==B0}get disabled(){return this.status===Q_}get enabled(){return this.status!==Q_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Sj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Sj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Mj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Mj(e,this._rawAsyncValidators))}hasValidator(e){return sN(this._rawValidators,e)}hasAsyncValidator(e){return sN(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=B0,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Q_,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=y_,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===y_||this.status===B0)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Q_:y_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=B0,this._hasOwnPendingAsyncValidator=!0;const t=Bj(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?Q_:this.errors?aN:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(B0)?B0:this._anyControlsHaveStatus(aN)?aN:y_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cN(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Kwe(n){return Array.isArray(n)?oG(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function qwe(n){return Array.isArray(n)?aG(n):n||null}(this._rawAsyncValidators)}}class w_ extends lN{constructor(e,t,i){super(gG(t),hG(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Tj(this,0,e),Object.keys(e).forEach(i=>{Rj(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,A)=>{i=t(i,r,A)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class kj extends w_{}const yI=new xn("CallSetDisabledState",{providedIn:"root",factory:()=>__}),__="always";function uN(n,e){return[...e.path,n]}function D_(n,e,t=__){fG(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Vwe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Lj(n,e)})}(n,e),function Wwe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function zwe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Lj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Jwe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function gN(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),fN(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function hN(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fG(n,e){const t=Dj(n);null!==e.validator?n.setValidators(_j(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=bj(n);null!==e.asyncValidator?n.setAsyncValidators(_j(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();hN(e._rawValidators,r),hN(e._rawAsyncValidators,r)}function fN(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Dj(n);if(Array.isArray(r)&&r.length>0){const A=r.filter(s=>s!==e.validator);A.length!==r.length&&(t=!0,n.setValidators(A))}}if(null!==e.asyncValidator){const r=bj(n);if(Array.isArray(r)&&r.length>0){const A=r.filter(s=>s!==e.asyncValidator);A.length!==r.length&&(t=!0,n.setAsyncValidators(A))}}}const i=()=>{};return hN(e._rawValidators,i),hN(e._rawAsyncValidators,i),t}function Lj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Uj(n,e){fG(n,e)}function pG(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Oj(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function mG(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(A=>{A.constructor===ff?t=A:function Xwe(n){return Object.getPrototypeOf(n.constructor)===EI}(A)?i=A:r=A}),r||i||t||null}const e_e={provide:tl,useExisting:QA(()=>E0)},b_=Promise.resolve();let E0=(()=>{class n extends tl{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ae,this.form=new w_({},oG(t),aG(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){b_.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),D_(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){b_.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){b_.then(()=>{const i=this._findContainer(t.path),r=new w_({});Uj(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){b_.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){b_.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Oj(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(yt(ja,10),yt(fm,10),yt(yI,8))}}static{this.\u0275dir=Mn({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&on("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[Ki.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[us([e_e]),mA]})}}return n})();function Gj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Pj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const S_=class extends lN{constructor(e=null,t,i){super(gG(t),hG(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cN(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Pj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Pj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},i_e={provide:dm,useExisting:QA(()=>QI)},Kj=Promise.resolve();let QI=(()=>{class n extends dm{constructor(t,i,r,A,s,o){super(),this._changeDetectorRef=s,this.callSetDisabledState=o,this.control=new S_,this._registered=!1,this.name="",this.update=new ae,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=mG(0,A)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),pG(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){D_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Kj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Va(i);Kj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?uN(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(yt(tl,9),yt(ja,10),yt(fm,10),yt(cg,10),yt(hh,8),yt(yI,8))}}static{this.\u0275dir=Mn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ki.None,"disabled","isDisabled"],model:[Ki.None,"ngModel","model"],options:[Ki.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[us([i_e]),mA,Js]})}}return n})(),v0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const CG=new xn(""),c_e={provide:tl,useExisting:QA(()=>M_)};let M_=(()=>{class n extends tl{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ae,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fN(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return D_(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){gN(t.control||null,t,!1),function $we(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Oj(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(gN(i||null,t),(n=>n instanceof S_)(r)&&(D_(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);Uj(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function jwe(n,e){return fN(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fG(this.form,this),this._oldForm&&fN(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||n)(yt(ja,10),yt(fm,10),yt(yI,8))}}static{this.\u0275dir=Mn({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&on("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[Ki.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[us([c_e]),mA,Js]})}}return n})();const g_e={provide:dm,useExisting:QA(()=>dN)};let dN=(()=>{class n extends dm{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,A,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ae,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=mG(0,A)}ngOnChanges(t){this._added||this._setUpControl(),pG(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return uN(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(yt(tl,13),yt(ja,10),yt(fm,10),yt(cg,10),yt(CG,8))}}static{this.\u0275dir=Mn({type:n,selectors:[["","formControlName",""]],inputs:{name:[Ki.None,"formControlName","name"],isDisabled:[Ki.None,"disabled","isDisabled"],model:[Ki.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[us([g_e]),mA,Js]})}}return n})();const h_e={provide:cg,useExisting:QA(()=>N_),multi:!0};function jj(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let N_=(()=>{class n extends EI{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=jj(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function f_e(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=FA(n)))(r||n)}})()}static{this.\u0275dir=Mn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&on("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[us([h_e]),mA]})}}return n})(),wI=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(jj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(yt(N),yt(ih),yt(N_,9))}}static{this.\u0275dir=Mn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const d_e={provide:cg,useExisting:QA(()=>EG),multi:!0};function Zj(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let EG=(()=>{class n extends EI{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(A=>this._getOptionId(A));i=(A,s)=>{A._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,A)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],A=i.selectedOptions;if(void 0!==A){const s=A;for(let o=0;o<s.length;o++){const c=this._getOptionValue(s[o].value);r.push(c)}}else{const s=i.options;for(let o=0;o<s.length;o++){const a=s[o];if(a.selected){const c=this._getOptionValue(a.value);r.push(c)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function p_e(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=FA(n)))(r||n)}})()}static{this.\u0275dir=Mn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&on("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[us([d_e]),mA]})}}return n})(),_I=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Zj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Zj(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(yt(N),yt(ih),yt(EG,9))}}static{this.\u0275dir=Mn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let DI=(()=>{class n{constructor(){this._validator=AN}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):AN,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mn({type:n,features:[Js]})}}return n})();const I_e={provide:ja,useExisting:QA(()=>pN),multi:!0};let pN=(()=>{class n extends DI{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Va,this.createValidator=t=>hj}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=FA(n)))(r||n)}})()}static{this.\u0275dir=Mn({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&qr("required",r._enabled?"":null)},inputs:{required:"required"},features:[us([I_e]),mA]})}}return n})();const y_e={provide:ja,useExisting:QA(()=>mN),multi:!0};let mN=(()=>{class n extends DI{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function Xj(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>mj(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=FA(n)))(r||n)}})()}static{this.\u0275dir=Mn({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&qr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[us([y_e]),mA]})}}return n})(),s7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})();class o7 extends lN{constructor(e,t,i){super(gG(t),hG(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Tj(this,0,e),e.forEach((i,r)=>{Rj(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function a7(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let c7=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let A={};return a7(i)?A=i:null!==i&&(A.validators=i.validator,A.asyncValidators=i.asyncValidator),new w_(r,A)}record(t,i=null){const r=this._reduceControls(t);return new kj(r,i)}control(t,i,r){let A={};return this.useNonNullable?(a7(i)?A=i:(A.validators=i,A.asyncValidators=r),new S_(t,{...A,nonNullable:!0})):new S_(t,i,r)}array(t,i,r){const A=t.map(s=>this._createControl(s));return new o7(A,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof S_||t instanceof lN?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),l7=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:yI,useValue:t.callSetDisabledState??__}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({imports:[s7]})}}return n})(),w_e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:CG,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:yI,useValue:t.callSetDisabledState??__}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({imports:[s7]})}}return n})();var Li=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Li||{});const _d="*";function u7(n){return{type:Li.Style,styles:n,offset:null}}class x_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class g7{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const A=this.players.length;0==A?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==A&&this._onFinish()}),s.onDestroy(()=>{++i==A&&this._onDestroy()}),s.onStart(()=>{++r==A&&this._onStart()})}),this.totalTime=this.players.reduce((s,o)=>Math.max(s,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function h7(n){return new Qt(3e3,!1)}function mm(n){switch(n.length){case 0:return new x_;case 1:return n[0];default:return new g7(n)}}function f7(n,e,t=new Map,i=new Map){const r=[],A=[];let s=-1,o=null;if(e.forEach(a=>{const c=a.get("offset"),l=c==s,u=l&&o||new Map;a.forEach((h,g)=>{let f=g,d=h;if("offset"!==g)switch(f=n.normalizePropertyName(f,r),d){case"!":d=t.get(g);break;case _d:d=i.get(g);break;default:d=n.normalizeStyleValue(g,f,d,r)}u.set(f,d)}),l||A.push(u),o=u,s=c}),r.length)throw function $_e(n){return new Qt(3502,!1)}();return A}function yG(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&QG(t,"start",n)));break;case"done":n.onDone(()=>i(t&&QG(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&QG(t,"destroy",n)))}}function QG(n,e,t){const A=wG(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(A._data=s),A}function wG(n,e,t,i,r="",A=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:A,disabled:!!s}}function vu(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function d7(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const u1e=typeof document>"u"?null:document.documentElement;function _G(n){const e=n.parentNode||n.host||null;return e===u1e?null:e}let bI=null,p7=!1;function m7(n,e){for(;e;){if(e===n)return!0;e=_G(e)}return!1}function C7(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let DG=(()=>{class n{validateStyleProperty(t){return function h1e(n){bI||(bI=function f1e(){return typeof document<"u"?document.body:null}()||{},p7=!!bI.style&&"WebkitAppearance"in bI.style);let e=!0;return bI.style&&!function g1e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in bI.style,!e&&p7&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bI.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return m7(t,i)}getParentElement(t){return _G(t)}query(t,i,r){return C7(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,A,s,o=[],a){return new x_(r,A)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();class bG{static{this.NOOP=new DG}}class SG{}const p1e=1e3,MG="ng-enter",CN="ng-leave",IN="ng-trigger",BN=".ng-trigger",B7="ng-animating",NG=".ng-animating";function Dd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:xG(parseFloat(e[1]),e[2])}function xG(n,e){return"s"===e?n*p1e:n}function EN(n,e,t){return n.hasOwnProperty("duration")?n:function C1e(n,e,t){let r,A=0,s="";if("string"==typeof n){const o=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return e.push(h7()),{duration:0,delay:0,easing:""};r=xG(parseFloat(o[1]),o[2]);const a=o[3];null!=a&&(A=xG(parseFloat(a),o[4]));const c=o[5];c&&(s=c)}else r=n;if(!t){let o=!1,a=e.length;r<0&&(e.push(function N_e(){return new Qt(3100,!1)}()),o=!0),A<0&&(e.push(function x_e(){return new Qt(3101,!1)}()),o=!0),o&&e.splice(a,0,h7())}return{duration:r,delay:A,easing:s}}(n,e,t)}function df(n,e,t){e.forEach((i,r)=>{const A=RG(r);t&&!t.has(r)&&t.set(r,n.style[A]),n.style[A]=i})}function SI(n,e){e.forEach((t,i)=>{const r=RG(i);n.style[r]=""})}function F_(n){return Array.isArray(n)?1==n.length?n[0]:function __e(n,e=null){return{type:Li.Sequence,steps:n,options:e}}(n):n}const FG=new RegExp("{{\\s*(.+?)\\s*}}","g");function v7(n){let e=[];if("string"==typeof n){let t;for(;t=FG.exec(n);)e.push(t[1]);FG.lastIndex=0}return e}function R_(n,e,t){const i=`${n}`,r=i.replace(FG,(A,s)=>{let o=e[s];return null==o&&(t.push(function R_e(n){return new Qt(3003,!1)}()),o=""),o.toString()});return r==i?n:r}const E1e=/-+([a-z0-9])/g;function RG(n){return n.replace(E1e,(...e)=>e[1].toUpperCase())}function yu(n,e,t){switch(e.type){case Li.Trigger:return n.visitTrigger(e,t);case Li.State:return n.visitState(e,t);case Li.Transition:return n.visitTransition(e,t);case Li.Sequence:return n.visitSequence(e,t);case Li.Group:return n.visitGroup(e,t);case Li.Animate:return n.visitAnimate(e,t);case Li.Keyframes:return n.visitKeyframes(e,t);case Li.Style:return n.visitStyle(e,t);case Li.Reference:return n.visitReference(e,t);case Li.AnimateChild:return n.visitAnimateChild(e,t);case Li.AnimateRef:return n.visitAnimateRef(e,t);case Li.Query:return n.visitQuery(e,t);case Li.Stagger:return n.visitStagger(e,t);default:throw function T_e(n){return new Qt(3004,!1)}()}}function TG(n,e){return window.getComputedStyle(n)[e]}const Q1e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class y7 extends SG{normalizePropertyName(e,t){return RG(e)}normalizeStyleValue(e,t,i,r){let A="";const s=i.toString().trim();if(Q1e.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)A="px";else{const o=i.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&r.push(function k_e(n,e){return new Qt(3005,!1)}())}return s+A}}const vN="*";const yN=new Set(["true","1"]),QN=new Set(["false","0"]);function Q7(n,e){const t=yN.has(n)||QN.has(n),i=yN.has(e)||QN.has(e);return(r,A)=>{let s=n==vN||n==r,o=e==vN||e==A;return!s&&t&&"boolean"==typeof r&&(s=r?yN.has(n):QN.has(n)),!o&&i&&"boolean"==typeof A&&(o=A?yN.has(e):QN.has(e)),s&&o}}const b1e=new RegExp("s*:selfs*,?","g");function kG(n,e,t,i){return new S1e(n).build(e,t,i)}class S1e{constructor(e){this._driver=e}build(e,t,i){const r=new x1e(t);return this._resetContextStyleTimingState(r),yu(this,F_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const A=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function L_e(){return new Qt(3006,!1)}()),e.definitions.forEach(o=>{if(this._resetContextStyleTimingState(t),o.type==Li.State){const a=o,c=a.name;c.toString().split(/\s*,\s*/).forEach(l=>{a.name=l,A.push(this.visitState(a,t))}),a.name=c}else if(o.type==Li.Transition){const a=this.visitTransition(o,t);i+=a.queryCount,r+=a.depCount,s.push(a)}else t.errors.push(function U_e(){return new Qt(3007,!1)}())}),{type:Li.Trigger,name:e.name,states:A,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const A=new Set,s=r||{};i.styles.forEach(o=>{o instanceof Map&&o.forEach(a=>{v7(a).forEach(c=>{s.hasOwnProperty(c)||A.add(c)})})}),A.size&&t.errors.push(function O_e(n,e){return new Qt(3008,!1)}(0,A.values()))}return{type:Li.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=yu(this,F_(e.animation),t),r=function w1e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function _1e(n,e,t){if(":"==n[0]){const a=function D1e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function W_e(n){return new Qt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof a)return void e.push(a);n=a}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function z_e(n){return new Qt(3015,!1)}()),e;const r=i[1],A=i[2],s=i[3];e.push(Q7(r,s)),"<"==A[0]&&(r!=vN||s!=vN)&&e.push(Q7(s,r))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Li.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:MI(e.options)}}visitSequence(e,t){return{type:Li.Sequence,steps:e.steps.map(i=>yu(this,i,t)),options:MI(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const A=e.steps.map(s=>{t.currentTime=i;const o=yu(this,s,t);return r=Math.max(r,t.currentTime),o});return t.currentTime=r,{type:Li.Group,steps:A,options:MI(e.options)}}visitAnimate(e,t){const i=function R1e(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return LG(EN(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(A=>"{"==A.charAt(0)&&"{"==A.charAt(1))){const A=LG(0,0,"");return A.dynamic=!0,A.strValue=t,A}const r=EN(t,e);return LG(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,A=e.styles?e.styles:u7({});if(A.type==Li.Keyframes)r=this.visitKeyframes(A,t);else{let s=e.styles,o=!1;if(!s){o=!0;const c={};i.easing&&(c.easing=i.easing),s=u7(c)}t.currentTime+=i.duration+i.delay;const a=this.visitStyle(s,t);a.isEmptyStep=o,r=a}return t.currentAnimateTimings=null,{type:Li.Animate,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let o of r)"string"==typeof o?o===_d?i.push(o):t.errors.push(new Qt(3002,!1)):i.push(new Map(Object.entries(o)));let A=!1,s=null;return i.forEach(o=>{if(o instanceof Map&&(o.has("easing")&&(s=o.get("easing"),o.delete("easing")),!A))for(let a of o.values())if(a.toString().indexOf("{{")>=0){A=!0;break}}),{type:Li.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:A,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,A=t.currentTime;i&&A>0&&(A-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{const c=t.collectedStyles.get(t.currentQuerySelector),l=c.get(a);let u=!0;l&&(A!=r&&A>=l.startTime&&r<=l.endTime&&(t.errors.push(function P_e(n,e,t,i,r){return new Qt(3010,!1)}()),u=!1),A=l.startTime),u&&c.set(a,{startTime:A,endTime:r}),t.options&&function B1e(n,e,t){const i=e.params||{},r=v7(n);r.length&&r.forEach(A=>{i.hasOwnProperty(A)||t.push(function F_e(n){return new Qt(3001,!1)}())})}(o,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:Li.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function H_e(){return new Qt(3011,!1)}()),i;let A=0;const s=[];let o=!1,a=!1,c=0;const l=e.steps.map(p=>{const I=this._makeStyleAst(p,t);let C=null!=I.offset?I.offset:function F1e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(I.styles),B=0;return null!=C&&(A++,B=I.offset=C),a=a||B<0||B>1,o=o||B<c,c=B,s.push(B),I});a&&t.errors.push(function Y_e(){return new Qt(3012,!1)}()),o&&t.errors.push(function K_e(){return new Qt(3200,!1)}());const u=e.steps.length;let h=0;A>0&&A<u?t.errors.push(function q_e(){return new Qt(3202,!1)}()):0==A&&(h=1/(u-1));const g=u-1,f=t.currentTime,d=t.currentAnimateTimings,m=d.duration;return l.forEach((p,I)=>{const C=h>0?I==g?1:h*I:s[I],B=C*m;t.currentTime=f+d.delay+B,d.duration=B,this._validateStyleAst(p,t),p.offset=C,i.styles.push(p)}),i}visitReference(e,t){return{type:Li.Reference,animation:yu(this,F_(e.animation),t),options:MI(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Li.AnimateChild,options:MI(e.options)}}visitAnimateRef(e,t){return{type:Li.AnimateRef,animation:this.visitReference(e.animation,t),options:MI(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[A,s]=function M1e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(b1e,"")),n=n.replace(/@\*/g,BN).replace(/@\w+/g,t=>BN+"-"+t.slice(1)).replace(/:animating/g,NG),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+A:A,vu(t.collectedStyles,t.currentQuerySelector,new Map);const o=yu(this,F_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Li.Query,selector:A,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:MI(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function J_e(){return new Qt(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:EN(e.timings,t.errors,!0);return{type:Li.Stagger,animation:yu(this,F_(e.animation),t),timings:i,options:null}}}class x1e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function MI(n){return n?(n={...n}).params&&(n.params=function N1e(n){return n?{...n}:null}(n.params)):n={},n}function LG(n,e,t){return{duration:n,delay:e,easing:t}}function UG(n,e,t,i,r,A,s=null,o=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:A,totalTime:r+A,easing:s,subTimeline:o}}class wN{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const L1e=new RegExp(":enter","g"),O1e=new RegExp(":leave","g");function OG(n,e,t,i,r,A=new Map,s=new Map,o,a,c=[]){return(new G1e).buildKeyframes(n,e,t,i,r,A,s,o,a,c)}class G1e{buildKeyframes(e,t,i,r,A,s,o,a,c,l=[]){c=c||new wN;const u=new GG(e,t,c,r,A,l,[]);u.options=a;const h=a.delay?Dd(a.delay):0;u.currentTimeline.delayNextStep(h),u.currentTimeline.setStyles([s],null,u.errors,a),yu(this,i,u);const g=u.timelines.filter(f=>f.containsAnimation());if(g.length&&o.size){let f;for(let d=g.length-1;d>=0;d--){const m=g[d];if(m.element===t){f=m;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([o],null,u.errors,a)}return g.length?g.map(f=>f.buildKeyframes()):[UG(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),A=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);A!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const A=r?.delay;if(A){const s="number"==typeof A?A:Dd(R_(A,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let A=t.currentTimeline.currentTime;const s=null!=i.duration?Dd(i.duration):null,o=null!=i.delay?Dd(i.delay):null;return 0!==s&&e.forEach(a=>{const c=t.appendInstructionToTimeline(a,s,o);A=Math.max(A,c.duration+c.delay)}),A}visitReference(e,t){t.updateOptions(e.options,!0),yu(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const A=e.options;if(A&&(A.params||A.delay)&&(r=t.createSubContext(A),r.transformIntoNewTimeline(),null!=A.delay)){r.previousNode.type==Li.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_N);const s=Dd(A.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>yu(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const A=e.options&&e.options.delay?Dd(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);A&&o.delayNextStep(A),yu(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return EN(t.params?R_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const A=e.style;A.type==Li.Keyframes?this.visitKeyframes(A,t):(t.incrementTime(i.duration),this.visitStyle(A,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const A=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(A):i.setStyles(e.styles,A,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,A=i.duration,o=t.createSubContext().currentTimeline;o.easing=i.easing,e.styles.forEach(a=>{o.forwardTime((a.offset||0)*A),o.setStyles(a.styles,a.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+A),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},A=r.delay?Dd(r.delay):0;A&&(t.previousNode.type===Li.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_N);let s=i;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((c,l)=>{t.currentQueryIndex=l;const u=t.createSubContext(e.options,c);A&&u.delayNextStep(A),c===t.element&&(a=u.currentTimeline),yu(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,u.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,A=e.timings,s=Math.abs(A.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(A.duration<0?"reverse":A.easing){case"reverse":a=o-a;break;case"full":a=i.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;yu(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-u+(r.startTime-i.currentTimeline.startTime)}}const _N={};class GG{constructor(e,t,i,r,A,s,o,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=A,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_N,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new DN(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Dd(i.duration)),null!=i.delay&&(r.delay=Dd(i.delay));const A=i.params;if(A){let s=r.params;s||(s=this.options.params={}),Object.keys(A).forEach(o=>{(!t||!s.hasOwnProperty(o))&&(s[o]=R_(A[o],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,A=new GG(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return A.previousNode=this.previousNode,A.currentAnimateTimings=this.currentAnimateTimings,A.options=this._copyOptions(),A.updateOptions(e),A.currentQueryIndex=this.currentQueryIndex,A.currentQueryTotal=this.currentQueryTotal,A.parentContext=this,this.subContextCount++,A}transformIntoNewTimeline(e){return this.previousNode=_N,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},A=new P1e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(A),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,A,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(L1e,"."+this._enterClassName)).replace(O1e,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),o.push(...c)}return!A&&0==o.length&&s.push(function V_e(n){return new Qt(3014,!1)}()),o}}class DN{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new DN(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||_d),this._currentKeyframe.set(t,_d);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const A=r&&r.params||{},s=function H1e(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i??=e.keys();for(let A of i)t.set(A,_d)}else for(let[A,s]of r)t.set(A,s)}),t}(e,this._globalTimelineStyles);for(let[o,a]of s){const c=R_(a,A,i);this._pendingStyles.set(o,c),this._localTimelineStyles.has(o)||this._backFill.set(o,this._globalTimelineStyles.get(o)??_d),this._updateStyle(o,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((o,a)=>{const c=new Map([...this._backFill,...o]);c.forEach((l,u)=>{"!"===l?e.add(u):l===_d&&t.add(u)}),i||c.set("offset",a/this.duration),r.push(c)});const A=[...e.values()],s=[...t.values()];if(i){const o=r[0],a=new Map(o);o.set("offset",0),a.set("offset",1),r=[o,a]}return UG(this.element,r,A,s,this.duration,this.startTime,this.easing,!1)}}class P1e extends DN{constructor(e,t,i,r,A,s,o=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=A,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const A=[],s=i+t,o=t/s,a=new Map(e[0]);a.set("offset",0),A.push(a);const c=new Map(e[0]);c.set("offset",D7(o)),A.push(c);const l=e.length-1;for(let u=1;u<=l;u++){let h=new Map(e[u]);const g=h.get("offset");h.set("offset",D7((t+g*i)/s)),A.push(h)}i=s,t=0,r="",e=A}return UG(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function D7(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function b7(n,e,t,i,r,A,s,o,a,c,l,u,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:A,toState:i,toStyles:s,timelines:o,queriedElements:a,preStyleProps:c,postStyleProps:l,totalTime:u,errors:h}}const PG={};class S7{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Y1e(n,e,t,i,r){return n.some(A=>A(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,A,s,o,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||PG,f=this.buildStyles(i,o&&o.params||PG,u),d=a&&a.params||PG,m=this.buildStyles(r,d,u),p=new Set,I=new Map,C=new Map,B="void"===r,y={params:M7(d,h),delay:this.ast.options?.delay},E=l?[]:OG(e,t,this.ast.animation,A,s,f,m,y,c,u);let b=0;return E.forEach(S=>{b=Math.max(S.duration+S.delay,b)}),u.length?b7(t,this._triggerName,i,r,B,f,m,[],[],I,C,b,u):(E.forEach(S=>{const w=S.element,M=vu(I,w,new Set);S.preStyleProps.forEach(T=>M.add(T));const D=vu(C,w,new Set);S.postStyleProps.forEach(T=>D.add(T)),w!==t&&p.add(w)}),b7(t,this._triggerName,i,r,B,f,m,E,[...p.values()],I,C,b))}}function M7(n,e){const t={...e};return Object.entries(n).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class K1e{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=M7(e,this.defaultParams);return this.styles.styles.forEach(A=>{"string"!=typeof A&&A.forEach((s,o)=>{s&&(s=R_(s,r,t));const a=this.normalizer.normalizePropertyName(o,t);s=this.normalizer.normalizeStyleValue(o,a,s,t),i.set(o,s)})}),i}}class J1e{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new K1e(r.style,r.options&&r.options.params||{},i))}),N7(this.states,"true","1"),N7(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new S7(e,r,this.states))}),this.fallbackTransition=function V1e(n,e,t){return new S7(n,{type:Li.Transition,animation:{type:Li.Sequence,steps:[],options:null},matchers:[(s,o)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function N7(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const z1e=new wN;class W1e{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],A=kG(this._driver,t,i,[]);if(i.length)throw function e1e(n){return new Qt(3503,!1)}();this._animations.set(e,A)}_buildPlayer(e,t,i){const r=e.element,A=f7(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,A,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],A=this._animations.get(e);let s;const o=new Map;if(A?(s=OG(this._driver,t,A,MG,CN,new Map,new Map,i,z1e,r),s.forEach(l=>{const u=vu(o,l.element,new Map);l.postStyleProps.forEach(h=>u.set(h,null))})):(r.push(function t1e(){return new Qt(3300,!1)}()),s=[]),r.length)throw function n1e(n){return new Qt(3504,!1)}();o.forEach((l,u)=>{l.forEach((h,g)=>{l.set(g,this._driver.computeStyle(u,g,_d))})});const c=mm(s.map(l=>{const u=o.get(l.element);return this._buildPlayer(l,new Map,u)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function i1e(n){return new Qt(3301,!1)}();return t}listen(e,t,i,r){const A=wG(t,"","","");return yG(this._getPlayer(e),i,A,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const A=this._getPlayer(e);switch(i){case"play":A.play();break;case"pause":A.pause();break;case"reset":A.reset();break;case"restart":A.restart();break;case"finish":A.finish();break;case"init":A.init();break;case"setPosition":A.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const x7="ng-animate-queued",HG="ng-animate-disabled",eDe=[],F7={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tDe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ph="__ng_removed";class YG{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function ADe(n){return n??null}(i?e.value:e),i){const{value:A,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const T_="void",KG=new YG(T_);class nDe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,lg(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function r1e(n,e){return new Qt(3302,!1)}();if(null==i||0==i.length)throw function A1e(n){return new Qt(3303,!1)}();if(!function sDe(n){return"start"==n||"done"==n}(i))throw function s1e(n,e){return new Qt(3400,!1)}();const A=vu(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};A.push(s);const o=vu(this._engine.statesByElement,e,new Map);return o.has(t)||(lg(e,IN),lg(e,IN+"-"+t),o.set(t,KG)),()=>{this._engine.afterFlush(()=>{const a=A.indexOf(s);a>=0&&A.splice(a,1),this._triggers.has(t)||o.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function o1e(n){return new Qt(3401,!1)}();return t}trigger(e,t,i,r=!0){const A=this._getTrigger(t),s=new qG(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(lg(e,IN),lg(e,IN+"-"+t),this._engine.statesByElement.set(e,o=new Map));let a=o.get(t);const c=new YG(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o.set(t,c),a||(a=KG),c.value!==T_&&a.value===c.value){if(!function cDe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const A=t[r];if(!e.hasOwnProperty(A)||n[A]!==e[A])return!1}return!0}(a.params,c.params)){const d=[],m=A.matchStyles(a.value,a.params,d),p=A.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(()=>{SI(e,m),df(e,p)})}return}const h=vu(this._engine.playersByElement,e,[]);h.forEach(d=>{d.namespaceId==this.id&&d.triggerName==t&&d.queued&&d.destroy()});let g=A.matchTransition(a.value,c.value,e,c.params),f=!1;if(!g){if(!r)return;g=A.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:a,toState:c,player:s,isFallbackTransition:f}),f||(lg(e,x7),s.onStart(()=>{y0(e,x7)})),s.onDone(()=>{let d=this.players.indexOf(s);d>=0&&this.players.splice(d,1);const m=this._engine.playersByElement.get(e);if(m){let p=m.indexOf(s);p>=0&&m.splice(p,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,BN,!0);i.forEach(r=>{if(r[ph])return;const A=this._engine.fetchNamespacesByElement(r);A.size?A.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const A=this._engine.statesByElement.get(e),s=new Map;if(A){const o=[];if(A.forEach((a,c)=>{if(s.set(c,a.value),this._triggers.has(c)){const l=this.trigger(e,c,T_,r);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&mm(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(A=>{const s=A.name;if(r.has(s))return;r.add(s);const a=this._triggers.get(s).fallbackTransition,c=i.get(s)||KG,l=new YG(T_),u=new qG(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:a,fromState:c,toState:l,player:u,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const A=i.players.length?i.playersByQueriedElement.get(e):[];if(A&&A.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const A=e[ph];(!A||A===F7)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){lg(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const A=i.element,s=this._elementListeners.get(A);s&&s.forEach(o=>{if(o.name==i.triggerName){const a=wG(A,i.triggerName,i.fromState.value,i.toState.value);a._data=e,yG(i.player,o.phase,a,o.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const A=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==A||0==s?A-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class iDe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(A,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new nDe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,o=this.driver.getParentElement(t);for(;o;){const a=r.get(o);if(a){const c=i.indexOf(a);i.splice(c+1,0,e),s=!0;break}o=this.driver.getParentElement(o)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const A=this._fetchNamespace(r.namespaceId);A&&t.add(A)}return t}trigger(e,t,i,r){if(bN(t)){const A=this._fetchNamespace(e);if(A)return A.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!bN(t))return;const A=t[ph];if(A&&A.setForRemoval){A.setForRemoval=!1,A.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),lg(e,HG)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),y0(e,HG))}removeNode(e,t,i){if(bN(t)){this.scheduler?.notify();const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const A=this.namespacesByHostElement.get(t);A&&A.id!==e&&A.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,A){this.collectedLeaveElements.push(t),t[ph]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:A}}listen(e,t,i,r,A){return bN(t)?this._fetchNamespace(e).listen(t,i,r,A):()=>{}}_buildInstruction(e,t,i,r,A){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,A)}destroyInnerAnimations(e){let t=this.driver.query(e,BN,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,NG,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return mm(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ph];if(t&&t.setForRemoval){if(e[ph]=F7,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(HG)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)lg(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?mm(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function a1e(n){return new Qt(3402,!1)}()}_flushAnimations(e,t){const i=new wN,r=[],A=new Map,s=[],o=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(k=>{l.add(k);const L=this.driver.query(k,".ng-animate-queued",!0);for(let J=0;J<L.length;J++)l.add(L[J])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),g=k7(h,this.collectedEnterElements),f=new Map;let d=0;g.forEach((k,L)=>{const J=MG+d++;f.set(L,J),k.forEach(H=>lg(H,J))});const m=[],p=new Set,I=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const L=this.collectedLeaveElements[k],J=L[ph];J&&J.setForRemoval&&(m.push(L),p.add(L),J.hasAnimation?this.driver.query(L,".ng-star-inserted",!0).forEach(H=>p.add(H)):I.add(L))}const C=new Map,B=k7(h,Array.from(p));B.forEach((k,L)=>{const J=CN+d++;C.set(L,J),k.forEach(H=>lg(H,J))}),e.push(()=>{g.forEach((k,L)=>{const J=f.get(L);k.forEach(H=>y0(H,J))}),B.forEach((k,L)=>{const J=C.get(L);k.forEach(H=>y0(H,J))}),m.forEach(k=>{this.processLeaveNode(k)})});const y=[],E=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(t).forEach(J=>{const H=J.player,ue=J.element;if(y.push(H),this.collectedEnterElements.length){const ge=ue[ph];if(ge&&ge.setForMove){if(ge.previousTriggersValues&&ge.previousTriggersValues.has(J.triggerName)){const re=ge.previousTriggersValues.get(J.triggerName),ie=this.statesByElement.get(J.element);if(ie&&ie.has(J.triggerName)){const me=ie.get(J.triggerName);me.value=re,ie.set(J.triggerName,me)}}return void H.destroy()}}const ye=!u||!this.driver.containsElement(u,ue),K=C.get(ue),z=f.get(ue),Z=this._buildInstruction(J,i,z,K,ye);if(Z.errors&&Z.errors.length)return void E.push(Z);if(ye)return H.onStart(()=>SI(ue,Z.fromStyles)),H.onDestroy(()=>df(ue,Z.toStyles)),void r.push(H);if(J.isFallbackTransition)return H.onStart(()=>SI(ue,Z.fromStyles)),H.onDestroy(()=>df(ue,Z.toStyles)),void r.push(H);const le=[];Z.timelines.forEach(ge=>{ge.stretchStartingKeyframe=!0,this.disabledNodes.has(ge.element)||le.push(ge)}),Z.timelines=le,i.append(ue,Z.timelines),s.push({instruction:Z,player:H,element:ue}),Z.queriedElements.forEach(ge=>vu(o,ge,[]).push(H)),Z.preStyleProps.forEach((ge,re)=>{if(ge.size){let ie=a.get(re);ie||a.set(re,ie=new Set),ge.forEach((me,be)=>ie.add(be))}}),Z.postStyleProps.forEach((ge,re)=>{let ie=c.get(re);ie||c.set(re,ie=new Set),ge.forEach((me,be)=>ie.add(be))})});if(E.length){const k=[];E.forEach(L=>{k.push(function c1e(n,e){return new Qt(3505,!1)}())}),y.forEach(L=>L.destroy()),this.reportError(k)}const b=new Map,S=new Map;s.forEach(k=>{const L=k.element;i.has(L)&&(S.set(L,L),this._beforeAnimationBuild(k.player.namespaceId,k.instruction,b))}),r.forEach(k=>{const L=k.element;this._getPreviousPlayers(L,!1,k.namespaceId,k.triggerName,null).forEach(H=>{vu(b,L,[]).push(H),H.destroy()})});const w=m.filter(k=>U7(k,a,c)),M=new Map;T7(M,this.driver,I,c,_d).forEach(k=>{U7(k,a,c)&&w.push(k)});const T=new Map;g.forEach((k,L)=>{T7(T,this.driver,new Set(k),a,"!")}),w.forEach(k=>{const L=M.get(k),J=T.get(k);M.set(k,new Map([...L?.entries()??[],...J?.entries()??[]]))});const O=[],G=[],W={};s.forEach(k=>{const{element:L,player:J,instruction:H}=k;if(i.has(L)){if(l.has(L))return J.onDestroy(()=>df(L,H.toStyles)),J.disabled=!0,J.overrideTotalTime(H.totalTime),void r.push(J);let ue=W;if(S.size>1){let K=L;const z=[];for(;K=K.parentNode;){const Z=S.get(K);if(Z){ue=Z;break}z.push(K)}z.forEach(Z=>S.set(Z,ue))}const ye=this._buildAnimation(J.namespaceId,H,b,A,T,M);if(J.setRealPlayer(ye),ue===W)O.push(J);else{const K=this.playersByElement.get(ue);K&&K.length&&(J.parentPlayer=mm(K)),r.push(J)}}else SI(L,H.fromStyles),J.onDestroy(()=>df(L,H.toStyles)),G.push(J),l.has(L)&&r.push(J)}),G.forEach(k=>{const L=A.get(k.element);if(L&&L.length){const J=mm(L);k.setRealPlayer(J)}}),r.forEach(k=>{k.parentPlayer?k.syncPlayerEvents(k.parentPlayer):k.destroy()});for(let k=0;k<m.length;k++){const L=m[k],J=L[ph];if(y0(L,CN),J&&J.hasAnimation)continue;let H=[];if(o.size){let ye=o.get(L);ye&&ye.length&&H.push(...ye);let K=this.driver.query(L,NG,!0);for(let z=0;z<K.length;z++){let Z=o.get(K[z]);Z&&Z.length&&H.push(...Z)}}const ue=H.filter(ye=>!ye.destroyed);ue.length?oDe(this,L,ue):this.processLeaveNode(L)}return m.length=0,O.forEach(k=>{this.players.push(k),k.onDone(()=>{k.destroy();const L=this.players.indexOf(k);this.players.splice(L,1)}),k.play()}),O}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,A){let s=[];if(t){const o=this.playersByQueriedElement.get(e);o&&(s=o)}else{const o=this.playersByElement.get(e);if(o){const a=!A||A==T_;o.forEach(c=>{c.queued||!a&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(o=>!(i&&i!=o.namespaceId||r&&r!=o.triggerName))),s}_beforeAnimationBuild(e,t,i){const A=t.element,s=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:t.triggerName;for(const a of t.timelines){const c=a.element,l=c!==A,u=vu(i,c,[]);this._getPreviousPlayers(c,l,s,o,t.toState).forEach(g=>{const f=g.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),g.destroy(),u.push(g)})}SI(A,t.fromStyles)}_buildAnimation(e,t,i,r,A,s){const o=t.triggerName,a=t.element,c=[],l=new Set,u=new Set,h=t.timelines.map(f=>{const d=f.element;l.add(d);const m=d[ph];if(m&&m.removedBeforeQueried)return new x_(f.duration,f.delay);const p=d!==a,I=function aDe(n){const e=[];return L7(n,e),e}((i.get(d)||eDe).map(b=>b.getRealPlayer())).filter(b=>!!b.element&&b.element===d),C=A.get(d),B=s.get(d),y=f7(this._normalizer,f.keyframes,C,B),E=this._buildPlayer(f,y,I);if(f.subTimeline&&r&&u.add(d),p){const b=new qG(e,o,d);b.setRealPlayer(E),c.push(b)}return E});c.forEach(f=>{vu(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>function rDe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,f.element,f))}),l.forEach(f=>lg(f,B7));const g=mm(h);return g.onDestroy(()=>{l.forEach(f=>y0(f,B7)),df(a,t.toStyles)}),u.forEach(f=>{vu(r,f,[]).push(g)}),g}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new x_(e.duration,e.delay)}}class qG{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new x_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>yG(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){vu(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function bN(n){return n&&1===n.nodeType}function R7(n,e){const t=n.style.display;return n.style.display=e??"none",t}function T7(n,e,t,i,r){const A=[];t.forEach(a=>A.push(R7(a)));const s=[];i.forEach((a,c)=>{const l=new Map;a.forEach(u=>{const h=e.computeStyle(c,u,r);l.set(u,h),(!h||0==h.length)&&(c[ph]=tDe,s.push(c))}),n.set(c,l)});let o=0;return t.forEach(a=>R7(a,A[o++])),s}function k7(n,e){const t=new Map;if(n.forEach(o=>t.set(o,[])),0==e.length)return t;const r=new Set(e),A=new Map;function s(o){if(!o)return 1;let a=A.get(o);if(a)return a;const c=o.parentNode;return a=t.has(c)?c:r.has(c)?1:s(c),A.set(o,a),a}return e.forEach(o=>{const a=s(o);1!==a&&t.get(a).push(o)}),t}function lg(n,e){n.classList?.add(e)}function y0(n,e){n.classList?.remove(e)}function oDe(n,e,t){mm(t).onDone(()=>n.processLeaveNode(e))}function L7(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof g7?L7(i.players,e):e.push(i)}}function U7(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(A=>r.add(A)):e.set(n,i),t.delete(n),!0}class k_{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(A,s)=>{},this._transitionEngine=new iDe(e.body,t,i,r),this._timelineEngine=new W1e(e.body,t,i),this._transitionEngine.onRemovalComplete=(A,s)=>this.onRemovalComplete(A,s)}registerTrigger(e,t,i,r,A){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const a=[],l=kG(this._driver,A,a,[]);if(a.length)throw function X_e(n,e){return new Qt(3404,!1)}();o=function q1e(n,e,t){return new J1e(n,e,t)}(r,l,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[A,s]=d7(i);this._timelineEngine.command(A,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,A){if("@"==i.charAt(0)){const[s,o]=d7(i);return this._timelineEngine.listen(s,t,o,A)}return this._transitionEngine.listen(e,t,i,r,A)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class L_{static{this.initialStylesByElement=new WeakMap}constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=L_.initialStylesByElement.get(e);r||L_.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&df(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(df(this._element,this._initialStyles),this._endStyles&&(df(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(L_.initialStylesByElement.delete(this._element),this._startStyles&&(SI(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(SI(this._element,this._endStyles),this._endStyles=null),df(this._element,this._initialStyles),this._state=3)}}function JG(n){let e=null;return n.forEach((t,i)=>{(function uDe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class O7{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:TG(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class G7{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return m7(e,t)}getParentElement(e){return _G(e)}query(e,t,i){return C7(e,t,i)}computeStyle(e,t,i){return TG(e,t)}animate(e,t,i,r,A,s=[]){const a={duration:i,delay:r,fill:0==r?"both":"forwards"};A&&(a.easing=A);const c=new Map,l=s.filter(g=>g instanceof O7);(function v1e(n,e){return 0===n||0===e})(i,r)&&l.forEach(g=>{g.currentSnapshot.forEach((f,d)=>c.set(d,f))});let u=function I1e(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(g=>new Map(g));u=function y1e(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((A,s)=>{i.has(s)||r.push(s),i.set(s,A)}),r.length)for(let A=1;A<e.length;A++){let s=e[A];r.forEach(o=>s.set(o,TG(n,o)))}}return e}(e,u,c);const h=function lDe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=JG(e[0]),e.length>1&&(i=JG(e[e.length-1]))):e instanceof Map&&(t=JG(e)),t||i?new L_(n,t,i):null}(e,u);return new O7(e,u,a,h)}}const P7="@.disabled";class H7{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==P7?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class gDe extends H7{constructor(e,t,i,r,A){super(t,i,r,A),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==P7?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function hDe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let A=t.slice(1),s="";return"@"!=A.charAt(0)&&([A,s]=function fDe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(A)),this.engine.listen(this.namespaceId,r,A,s,o=>{this.factory.scheduleListenerCallback(o._data||-1,i,o)})}return this.delegate.listen(e,t,i)}}class dDe{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,A)=>{const s=A?.parentNode(r);s&&A.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const c=this._rendererCache;let l=c.get(r);return l||(l=new H7("",r,this.engine,()=>c.delete(r)),c.set(r,l)),l}const A=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const o=c=>{Array.isArray(c)?c.forEach(o):this.engine.registerTrigger(A,s,e,c.name,c)};return t.data.animation.forEach(o),new gDe(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(A=>{const[s,o]=A;s(o)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let pDe=(()=>{class n extends k_{constructor(t,i,r){super(t,i,r,ze(ZS,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(cn(CA),cn(bG),cn(SG))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();const Y7=[{provide:SG,useFactory:function mDe(){return new y7}},{provide:k_,useClass:pDe},{provide:nU,useFactory:function CDe(n,e,t){return new dDe(n,e,t)},deps:[iG,k_,Fi]}],VG=[{provide:bG,useFactory:()=>new G7},{provide:aL,useValue:"BrowserAnimations"},...Y7],K7=[{provide:bG,useClass:DG},{provide:aL,useValue:"NoopAnimations"},...Y7];let IDe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?K7:VG}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({providers:VG,imports:[nj]})}}return n})();function q7(n){return!!n&&(n instanceof _r||_n(n.lift)&&_n(n.subscribe))}function zG(...n){const e=C_(n),t=XM(n),{args:i,keys:r}=sj(n);if(0===i.length)return oo([],e);const A=new _r(function BDe(n,e,t=bA){return i=>{J7(e,()=>{const{length:r}=n,A=new Array(r);let s=r,o=r;for(let a=0;a<r;a++)J7(e,()=>{const c=oo(n[a],e);let l=!1;c.subscribe(sA(i,u=>{A[a]=u,l||(l=!0,o--),o||i.next(t(A.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>oj(r,s):bA));return t?A.pipe(sG(t)):A}function J7(n,e,t){n?vd(t,n,e):e()}function Q0(n=1/0){return ya(bA,n)}function U_(...n){return function EDe(){return Q0(1)}()(oo(n,C_(n)))}function V7(n){return new _r(e=>{va(n()).subscribe(e)})}function MN(n,e){const t=_n(n)?n:()=>n,i=r=>r.error(t());return new _r(e?r=>e.schedule(i,0,r):i)}function WG(){return AA((n,e)=>{let t=null;n._refCount++;const i=sA(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,A=t;t=null,r&&(!A||r===A)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class z7 extends _r{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,vp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Nr;const t=this.getSubject();e.add(this.source.subscribe(sA(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Nr.EMPTY)}return e}refCount(){return WG()(this)}}function w0(n){return AA((e,t)=>{let A,i=null,r=!1;i=e.subscribe(sA(t,void 0,void 0,s=>{A=va(n(s,w0(n)(e))),i?(i.unsubscribe(),i=null,A.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,A.subscribe(t))})}function jG(n){return n<=0?()=>Ga:AA((e,t)=>{let i=[];e.subscribe(sA(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function j7(n){return tr(()=>n)}function Qa(n){return AA((e,t)=>{va(n).subscribe(sA(t,()=>t.complete(),es)),!t.closed&&e.subscribe(t)})}const wr="primary",O_=Symbol("RouteTitle");class wDe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _0(n){return new wDe(n)}function _De(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let A=0;A<i.length;A++){const s=i[A],o=n[A];if(s.startsWith(":"))r[s.substring(1)]=o;else if(s!==o.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function pf(n,e){const t=n?ZG(n):void 0,i=e?ZG(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let A=0;A<t.length;A++)if(r=t[A],!Z7(n[r],e[r]))return!1;return!0}function ZG(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Z7(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,A)=>i[A]===r)}return n===e}function X7(n){return n.length>0?n[n.length-1]:null}function Cm(n){return q7(n)?n:g_(n)?oo(Promise.resolve(n)):ai(n)}const bDe={exact:function tZ(n,e,t){if(!NI(n.segments,e.segments)||!NN(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!tZ(n.children[i],e.children[i],t))return!1;return!0},subset:nZ},$7={exact:function SDe(n,e){return pf(n,e)},subset:function MDe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Z7(n[t],e[t]))},ignored:()=>!0};function eZ(n,e,t){return bDe[t.paths](n.root,e.root,t.matrixParams)&&$7[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function nZ(n,e,t){return iZ(n,e,e.segments,t)}function iZ(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!NI(r,t)||e.hasChildren()||!NN(r,t,i))}if(n.segments.length===t.length){if(!NI(n.segments,t)||!NN(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!nZ(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),A=t.slice(n.segments.length);return!!(NI(n.segments,r)&&NN(n.segments,r,i)&&n.children[wr])&&iZ(n.children[wr],e,A,i)}}function NN(n,e,t){return e.every((i,r)=>$7[t](n[r].parameters,i.parameters))}class D0{constructor(e=new ns([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=_0(this.queryParams),this._queryParamMap}toString(){return FDe.serialize(this)}}class ns{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xN(this)}}class G_{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=_0(this.parameters),this._parameterMap}toString(){return sZ(this)}}function NI(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let b0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:()=>new XG,providedIn:"root"})}}return n})();class XG{parse(e){const t=new KDe(e);return new D0(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${P_(e.root,!0)}`,i=function kDe(n){const e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${FN(t)}=${FN(r)}`).join("&"):`${FN(t)}=${FN(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function RDe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const FDe=new XG;function xN(n){return n.segments.map(e=>sZ(e)).join("/")}function P_(n,e){if(!n.hasChildren())return xN(n);if(e){const t=n.children[wr]?P_(n.children[wr],!1):"",i=[];return Object.entries(n.children).forEach(([r,A])=>{r!==wr&&i.push(`${r}:${P_(A,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function xDe(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===wr&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==wr&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===wr?[P_(n.children[wr],!1)]:[`${r}:${P_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[wr]?`${xN(n)}/${t[0]}`:`${xN(n)}/(${t.join("//")})`}}function rZ(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function FN(n){return rZ(n).replace(/%3B/gi,";")}function $G(n){return rZ(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function RN(n){return decodeURIComponent(n)}function AZ(n){return RN(n.replace(/\+/g,"%20"))}function sZ(n){return`${$G(n.path)}${function TDe(n){return Object.entries(n).map(([e,t])=>`;${$G(e)}=${$G(t)}`).join("")}(n.parameters)}`}const LDe=/^[^\/()?;#]+/;function e3(n){const e=n.match(LDe);return e?e[0]:""}const UDe=/^[^\/()?;=#]+/,GDe=/^[^=?&#]+/,HDe=/^[^&#]+/;class KDe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ns([],{}):new ns([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[wr]=new ns(e,t)),i}parseSegment(){const e=e3(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Qt(4009,!1);return this.capture(e),new G_(RN(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function ODe(n){const e=n.match(UDe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=e3(this.remaining);r&&(i=r,this.capture(i))}e[RN(t)]=RN(i)}parseQueryParam(e){const t=function PDe(n){const e=n.match(GDe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function YDe(n){const e=n.match(HDe);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=AZ(t),A=AZ(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(A)}else e[r]=A}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=e3(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Qt(4010,!1);let A;i.indexOf(":")>-1?(A=i.slice(0,i.indexOf(":")),this.capture(A),this.capture(":")):e&&(A=wr);const s=this.parseChildren();t[A]=1===Object.keys(s).length?s[wr]:new ns([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Qt(4011,!1)}}function oZ(n){return n.segments.length>0?new ns([],{[wr]:n}):n}function aZ(n){const e={};for(const[i,r]of Object.entries(n.children)){const A=aZ(r);if(i===wr&&0===A.segments.length&&A.hasChildren())for(const[s,o]of Object.entries(A.children))e[s]=o;else(A.segments.length>0||A.hasChildren())&&(e[i]=A)}return function qDe(n){if(1===n.numberOfChildren&&n.children[wr]){const e=n.children[wr];return new ns(n.segments.concat(e.segments),e.children)}return n}(new ns(n.segments,e))}function S0(n){return n instanceof D0}function cZ(n){let e;const r=oZ(function t(A){const s={};for(const a of A.children){const c=t(a);s[a.outlet]=c}const o=new ns(A.url,s);return A===n&&(e=o),o}(n.root));return e??r}function lZ(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return t3(r,r,r,t,i);const A=function VDe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gZ(!0,0,n);let e=0,t=!1;const i=n.reduce((r,A,s)=>{if("object"==typeof A&&null!=A){if(A.outlets){const o={};return Object.entries(A.outlets).forEach(([a,c])=>{o[a]="string"==typeof c?c.split("/"):c}),[...r,{outlets:o}]}if(A.segmentPath)return[...r,A.segmentPath]}return"string"!=typeof A?[...r,A]:0===s?(A.split("/").forEach((o,a)=>{0==a&&"."===o||(0==a&&""===o?t=!0:".."===o?e++:""!=o&&r.push(o))}),r):[...r,A]},[]);return new gZ(t,e,i)}(e);if(A.toRoot())return t3(r,r,new ns([],{}),t,i);const s=function zDe(n,e,t){if(n.isAbsolute)return new kN(e,!0,0);if(!t)return new kN(e,!1,NaN);if(null===t.parent)return new kN(t,!0,0);const i=TN(n.commands[0])?0:1;return function WDe(n,e,t){let i=n,r=e,A=t;for(;A>r;){if(A-=r,i=i.parent,!i)throw new Qt(4005,!1);r=i.segments.length}return new kN(i,!1,r-A)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(A,r,n),o=s.processChildren?Y_(s.segmentGroup,s.index,A.commands):hZ(s.segmentGroup,s.index,A.commands);return t3(r,s.segmentGroup,o,t,i)}function TN(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function H_(n){return"object"==typeof n&&null!=n&&n.outlets}function t3(n,e,t,i,r){let s,A={};i&&Object.entries(i).forEach(([a,c])=>{A[a]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),s=n===e?t:uZ(n,e,t);const o=oZ(aZ(s));return new D0(o,A,r)}function uZ(n,e,t){const i={};return Object.entries(n.children).forEach(([r,A])=>{i[r]=A===e?t:uZ(A,e,t)}),new ns(n.segments,i)}class gZ{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&TN(i[0]))throw new Qt(4003,!1);const r=i.find(H_);if(r&&r!==X7(i))throw new Qt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kN{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function hZ(n,e,t){if(n??=new ns([],{}),0===n.segments.length&&n.hasChildren())return Y_(n,e,t);const i=function ZDe(n,e,t){let i=0,r=e;const A={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return A;const s=n.segments[r],o=t[i];if(H_(o))break;const a=`${o}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!dZ(a,c,s))return A;i+=2}else{if(!dZ(a,{},s))return A;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const A=new ns(n.segments.slice(0,i.pathIndex),{});return A.children[wr]=new ns(n.segments.slice(i.pathIndex),n.children),Y_(A,0,r)}return i.match&&0===r.length?new ns(n.segments,{}):i.match&&!n.hasChildren()?n3(n,e,t):i.match?Y_(n,0,r):n3(n,e,t)}function Y_(n,e,t){if(0===t.length)return new ns(n.segments,{});{const i=function jDe(n){return H_(n[0])?n[0].outlets:{[wr]:n}}(t),r={};if(Object.keys(i).some(A=>A!==wr)&&n.children[wr]&&1===n.numberOfChildren&&0===n.children[wr].segments.length){const A=Y_(n.children[wr],e,t);return new ns(n.segments,A.children)}return Object.entries(i).forEach(([A,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[A]=hZ(n.children[A],e,s))}),Object.entries(n.children).forEach(([A,s])=>{void 0===i[A]&&(r[A]=s)}),new ns(n.segments,r)}}function n3(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const A=t[r];if(H_(A)){const a=XDe(A.outlets);return new ns(i,a)}if(0===r&&TN(t[0])){i.push(new G_(n.segments[e].path,fZ(t[0]))),r++;continue}const s=H_(A)?A.outlets[wr]:`${A}`,o=r<t.length-1?t[r+1]:null;s&&o&&TN(o)?(i.push(new G_(s,fZ(o))),r+=2):(i.push(new G_(s,{})),r++)}return new ns(i,{})}function XDe(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=n3(new ns([],{}),0,i))}),e}function fZ(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function dZ(n,e,t){return n==t.path&&pf(e,t.parameters)}const K_="imperative";var eA=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(eA||{});class mf{constructor(e,t){this.id=e,this.url=t}}class LN extends mf{constructor(e,t,i="imperative",r=null){super(e,t),this.type=eA.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bd extends mf{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=eA.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Qu=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Qu||{}),UN=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(UN||{});class M0 extends mf{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=eA.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class N0 extends mf{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=eA.NavigationSkipped}}class ON extends mf{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=eA.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pZ extends mf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=eA.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $De extends mf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=eA.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ebe extends mf{constructor(e,t,i,r,A){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=A,this.type=eA.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tbe extends mf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=eA.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nbe extends mf{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=eA.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ibe{constructor(e){this.route=e,this.type=eA.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rbe{constructor(e){this.route=e,this.type=eA.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Abe{constructor(e){this.snapshot=e,this.type=eA.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sbe{constructor(e){this.snapshot=e,this.type=eA.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class obe{constructor(e){this.snapshot=e,this.type=eA.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class abe{constructor(e){this.snapshot=e,this.type=eA.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mZ{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=eA.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class i3{}class r3{constructor(e){this.url=e}}class cbe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new q_,this.attachRef=null}}let q_=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new cbe,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class CZ{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=A3(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=A3(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=s3(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return s3(e,this._root).map(t=>t.value)}}function A3(n,e){if(n===e.value)return e;for(const t of e.children){const i=A3(n,t);if(i)return i}return null}function s3(n,e){if(n===e.value)return[e];for(const t of e.children){const i=s3(n,t);if(i.length)return i.unshift(e),i}return[]}class mh{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function x0(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class IZ extends CZ{constructor(e,t){super(e),this.snapshot=t,c3(this,e)}toString(){return this.snapshot.toString()}}function BZ(n){const e=function lbe(n){const A=new a3([],{},{},"",{},wr,n,null,{});return new EZ("",new mh(A,[]))}(n),t=new vA([new G_("",{})]),i=new vA({}),r=new vA({}),A=new vA({}),s=new vA(""),o=new xI(t,i,A,s,r,wr,n,e.root);return o.snapshot=e.root,new IZ(new mh(o,[]),e)}class xI{constructor(e,t,i,r,A,s,o,a){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=A,this.outlet=s,this.component=o,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(tr(c=>c[O_]))??ai(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=A}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(tr(e=>_0(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(tr(e=>_0(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function o3(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&yZ(r)&&(i.resolve[O_]=r.title),i}class a3{get title(){return this.data?.[O_]}constructor(e,t,i,r,A,s,o,a,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=A,this.outlet=s,this.component=o,this.routeConfig=a,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_0(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_0(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class EZ extends CZ{constructor(e,t){super(t),this.url=e,c3(this,t)}toString(){return vZ(this._root)}}function c3(n,e){e.value._routerState=n,e.children.forEach(t=>c3(n,t))}function vZ(n){const e=n.children.length>0?` { ${n.children.map(vZ).join(", ")} } `:"";return`${n.value}${e}`}function l3(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,pf(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),pf(e.params,t.params)||n.paramsSubject.next(t.params),function DDe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!pf(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),pf(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function u3(n,e){const t=pf(n.params,e.params)&&function NDe(n,e){return NI(n,e)&&n.every((t,i)=>pf(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||u3(n.parent,e.parent))}function yZ(n){return"string"==typeof n.title||null===n.title}let g3=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=wr,this.activateEvents=new ae,this.deactivateEvents=new ae,this.attachEvents=new ae,this.detachEvents=new ae,this.parentContexts=ze(q_),this.location=ze(xl),this.changeDetector=ze(hh),this.environmentInjector=ze(ea),this.inputBinder=ze(GN,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Qt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Qt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Qt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Qt(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,o=this.parentContexts.getOrCreateContext(this.name).children,a=new h3(t,o,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:a,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Js]})}}return n})();class h3{__ngOutletInjector(e){return new h3(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===xI?this.route:e===q_?this.childContexts:this.parent.get(e,t)}}const GN=new xn("");let QZ=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=zG([i.queryParams,i.params,i.data]).pipe(kl(([A,s,o],a)=>(o={...A,...s,...o},0===a?ai(o):Promise.resolve(o)))).subscribe(A=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function G0e(n){const e=Qr(n);if(!e)return null;const t=new Ow(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:o}of s.inputs)t.activatedComponentRef.setInput(o,A[o]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();function J_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function gbe(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return J_(n,i,r);return J_(n,i)})}(n,e,t);return new mh(i,r)}{if(n.shouldAttach(e.value)){const A=n.retrieve(e.value);if(null!==A){const s=A.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(o=>J_(n,o)),s}}const i=function hbe(n){return new xI(new vA(n.url),new vA(n.params),new vA(n.queryParams),new vA(n.fragment),new vA(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(A=>J_(n,A));return new mh(i,r)}}const wZ="ngNavigationCancelingError";function _Z(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=S0(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=DZ(!1,Qu.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function DZ(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[wZ]=!0,t.cancellationCode=e,t}function bZ(n){return!!n&&n[wZ]}let SZ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["ng-component"]],standalone:!0,features:[Uo],decls:1,vars:0,template:function(i,r){1&i&&mt(0,"router-outlet")},dependencies:[g3],encapsulation:2})}}return n})();function f3(n){const e=n.children&&n.children.map(f3),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==wr&&(t.component=SZ),t}function Cf(n){return n.outlet||wr}function V_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Ebe{constructor(e,t,i,r,A){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=A}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),l3(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=x0(t);e.children.forEach(A=>{const s=A.value.outlet;this.deactivateRoutes(A,r[s],i),delete r[s]}),Object.values(r).forEach(A=>{this.deactivateRouteAndItsChildren(A,i)})}deactivateRoutes(e,t,i){const r=e.value,A=t?t.value:null;if(r===A)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else A&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,A=x0(e);for(const s of Object.values(A))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:o})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,A=x0(e);for(const s of Object.values(A))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=x0(t);e.children.forEach(A=>{this.activateRoutes(A,r[A.value.outlet],i),this.forwardEvent(new abe(A.value.snapshot))}),e.children.length&&this.forwardEvent(new sbe(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,A=t?t.value:null;if(l3(r),r===A)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const o=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(o.contexts),s.attachRef=o.componentRef,s.route=o.route.value,s.outlet&&s.outlet.attach(o.componentRef,o.route.value),l3(o.route.value),this.activateChildRoutes(e,null,s.children)}else{const o=V_(r.snapshot);s.attachRef=null,s.route=r,s.injector=o,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class MZ{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class PN{constructor(e,t){this.component=e,this.route=t}}function vbe(n,e,t){const i=n._root;return z_(i,e?e._root:null,t,[i.value])}function F0(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function lb(n){return null!==xC(n)}(n)?e.get(n):n:i}function z_(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const A=x0(e);return n.children.forEach(s=>{(function Qbe(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const A=n.value,s=e?e.value:null,o=t?t.getContext(n.value.outlet):null;if(s&&A.routeConfig===s.routeConfig){const a=function wbe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!NI(n.url,e.url);case"pathParamsOrQueryParamsChange":return!NI(n.url,e.url)||!pf(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!u3(n,e)||!pf(n.queryParams,e.queryParams);default:return!u3(n,e)}}(s,A,A.routeConfig.runGuardsAndResolvers);a?r.canActivateChecks.push(new MZ(i)):(A.data=s.data,A._resolvedData=s._resolvedData),z_(n,e,A.component?o?o.children:null:t,i,r),a&&o&&o.outlet&&o.outlet.isActivated&&r.canDeactivateChecks.push(new PN(o.outlet.component,s))}else s&&W_(e,o,r),r.canActivateChecks.push(new MZ(i)),z_(n,null,A.component?o?o.children:null:t,i,r)})(s,A[s.value.outlet],t,i.concat([s.value]),r),delete A[s.value.outlet]}),Object.entries(A).forEach(([s,o])=>W_(o,t.getContext(s),r)),r}function W_(n,e,t){const i=x0(n),r=n.value;Object.entries(i).forEach(([A,s])=>{W_(s,r.component?e?e.children.getContext(A):null:e,t)}),t.canDeactivateChecks.push(new PN(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function j_(n){return"function"==typeof n}function NZ(n){return n instanceof yp||"EmptyError"===n?.name}const HN=Symbol("INITIAL_VALUE");function R0(){return kl(n=>zG(n.map(e=>e.pipe(Rs(1),function W7(...n){const e=C_(n);return AA((t,i)=>{(e?U_(n,t,e):U_(n,t)).subscribe(i)})}(HN)))).pipe(tr(e=>{for(const t of e)if(!0!==t){if(t===HN)return HN;if(!1===t||t instanceof D0)return t}return!0}),cs(e=>e!==HN),Rs(1)))}function xZ(n){return function Oa(...n){return $o(n)}(Ws(e=>{if(S0(e))throw _Z(0,e)}),tr(e=>!0===e))}class d3{constructor(e){this.segmentGroup=e||null}}class p3 extends Error{constructor(e){super(),this.urlTree=e}}function T0(n){return MN(new d3(n))}class Kbe{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ai(i);if(r.numberOfChildren>1||!r.children[wr])return MN(new Qt(4e3,!1));r=r.children[wr]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new p3(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const A=this.createSegmentGroup(e,t.root,i,r);return new D0(A,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,A])=>{if("string"==typeof A&&A.startsWith(":")){const o=A.substring(1);i[r]=t[o]}else i[r]=A}),i}createSegmentGroup(e,t,i,r){const A=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([o,a])=>{s[o]=this.createSegmentGroup(e,a,i,r)}),new ns(A,s)}createSegments(e,t,i,r){return t.map(A=>A.path.startsWith(":")?this.findPosParam(e,A,r):this.findOrReturn(A,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Qt(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const m3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qbe(n,e,t,i,r){const A=C3(n,e,t);return A.matched?(i=function dbe(n,e){return n.providers&&!n._injector&&(n._injector=iM(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function Pbe(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?ai(r.map(s=>{const o=F0(s,n);return Cm(function Nbe(n){return n&&j_(n.canMatch)}(o)?o.canMatch(e,t):Wu(n,()=>o(e,t)))})).pipe(R0(),xZ()):ai(!0)}(i,e,t).pipe(tr(s=>!0===s?A:{...m3}))):ai(A)}function C3(n,e,t){if("**"===e.path)return function Jbe(n){return{matched:!0,parameters:n.length>0?X7(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...m3}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||_De)(t,n,e);if(!r)return{...m3};const A={};Object.entries(r.posParams??{}).forEach(([o,a])=>{A[o]=a.path});const s=r.consumed.length>0?{...A,...r.consumed[r.consumed.length-1].parameters}:A;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function FZ(n,e,t,i){return t.length>0&&function Wbe(n,e,t){return t.some(i=>YN(n,e,i)&&Cf(i)!==wr)}(n,t,i)?{segmentGroup:new ns(e,zbe(i,new ns(t,n.children))),slicedSegments:[]}:0===t.length&&function jbe(n,e,t){return t.some(i=>YN(n,e,i))}(n,t,i)?{segmentGroup:new ns(n.segments,Vbe(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new ns(n.segments,n.children),slicedSegments:t}}function Vbe(n,e,t,i){const r={};for(const A of t)if(YN(n,e,A)&&!i[Cf(A)]){const s=new ns([],{});r[Cf(A)]=s}return{...i,...r}}function zbe(n,e){const t={};t[wr]=e;for(const i of n)if(""===i.path&&Cf(i)!==wr){const r=new ns([],{});t[Cf(i)]=r}return t}function YN(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class $be{}class nSe{constructor(e,t,i,r,A,s,o){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=A,this.paramsInheritanceStrategy=s,this.urlSerializer=o,this.applyRedirects=new Kbe(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Qt(4002,`'${e.segmentGroup}'`)}recognize(){const e=FZ(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(tr(t=>{const i=new a3([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},wr,this.rootComponentType,null,{}),r=new mh(i,t),A=new EZ("",r),s=function JDe(n,e,t=null,i=null){return lZ(cZ(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,A.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(A._root,null),{state:A,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,wr).pipe(w0(i=>{if(i instanceof p3)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof d3?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=o3(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(A=>this.inheritParamsAndData(A,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(tr(A=>A instanceof mh?[A]:[]))}processChildren(e,t,i){const r=[];for(const A of Object.keys(i.children))"primary"===A?r.unshift(A):r.push(A);return oo(r).pipe(lm(A=>{const s=i.children[A],o=function Ibe(n,e){const t=n.filter(i=>Cf(i)===e);return t.push(...n.filter(i=>Cf(i)!==e)),t}(t,A);return this.processSegmentGroup(e,o,s,A)}),function yDe(n,e){return AA(function vDe(n,e,t,i,r){return(A,s)=>{let o=t,a=e,c=0;A.subscribe(sA(s,l=>{const u=c++;a=o?n(a,l,u):(o=!0,l),i&&s.next(a)},r&&(()=>{o&&s.next(a),s.complete()})))}}(n,e,arguments.length>=2,!0))}((A,s)=>(A.push(...s),A)),Qp(null),function QDe(n,e){const t=arguments.length>=2;return i=>i.pipe(n?cs((r,A)=>n(r,A,i)):bA,jG(1),t?Qp(e):eE(()=>new yp))}(),ya(A=>{if(null===A)return T0(i);const s=RZ(A);return function iSe(n){n.sort((e,t)=>e.value.outlet===wr?-1:t.value.outlet===wr?1:e.value.outlet.localeCompare(t.value.outlet))}(s),ai(s)}))}processSegment(e,t,i,r,A,s){return oo(t).pipe(lm(o=>this.processSegmentAgainstRoute(o._injector??e,t,o,i,r,A,s).pipe(w0(a=>{if(a instanceof d3)return ai(null);throw a}))),Ju(o=>!!o),w0(o=>{if(NZ(o))return function Xbe(n,e,t){return 0===e.length&&!n.children[t]}(i,r,A)?ai(new $be):T0(i);throw o}))}processSegmentAgainstRoute(e,t,i,r,A,s,o){return function Zbe(n,e,t,i){return!!(Cf(n)===i||i!==wr&&YN(e,t,n))&&C3(e,n,t).matched}(i,r,A,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,A,s):this.allowRedirects&&o?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,A,s):T0(r):T0(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,A,s){const{matched:o,consumedSegments:a,positionalParamSegments:c,remainingSegments:l}=C3(t,r,A);if(!o)return T0(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const u=this.applyRedirects.applyRedirectCommands(a,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,u).pipe(ya(h=>this.processSegment(e,i,t,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,A){const s=qbe(t,i,r,e);return"**"===i.path&&(t.children={}),s.pipe(kl(o=>o.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(kl(({routes:a})=>{const c=i._loadedInjector??e,{consumedSegments:l,remainingSegments:u,parameters:h}=o,g=new a3(l,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function ASe(n){return n.data||{}}(i),Cf(i),i.component??i._loadedComponent??null,i,function sSe(n){return n.resolve||{}}(i)),{segmentGroup:f,slicedSegments:d}=FZ(t,l,u,a);if(0===d.length&&f.hasChildren())return this.processChildren(c,a,f).pipe(tr(p=>null===p?null:new mh(g,p)));if(0===a.length&&0===d.length)return ai(new mh(g,[]));const m=Cf(i)===A;return this.processSegment(c,a,f,d,m?wr:A,!0).pipe(tr(p=>new mh(g,p instanceof mh?[p]:[])))})):T0(t)))}getChildConfig(e,t,i){return t.children?ai({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ai({routes:t._loadedRoutes,injector:t._loadedInjector}):function Gbe(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?ai(!0):ai(r.map(s=>{const o=F0(s,n);return Cm(function Dbe(n){return n&&j_(n.canLoad)}(o)?o.canLoad(e,t):Wu(n,()=>o(e,t)))})).pipe(R0(),xZ())}(e,t,i).pipe(ya(r=>r?this.configLoader.loadChildren(e,t).pipe(Ws(A=>{t._loadedRoutes=A.routes,t._loadedInjector=A.injector})):function Ybe(n){return MN(DZ(!1,Qu.GuardRejected))}())):ai({routes:[],injector:e})}}function rSe(n){const e=n.value.routeConfig;return e&&""===e.path}function RZ(n){const e=[],t=new Set;for(const i of n){if(!rSe(i)){e.push(i);continue}const r=e.find(A=>i.value.routeConfig===A.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=RZ(i.children);e.push(new mh(i.value,r))}return e.filter(i=>!t.has(i))}function TZ(n){const e=n.children.map(t=>TZ(t)).flat();return[n,...e]}function I3(n){return kl(e=>{const t=n(e);return t?oo(t).pipe(tr(()=>e)):ai(e)})}let kZ=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(A=>A.outlet===wr);return i}getResolvedTitleForRoute(t){return t.data[O_]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:()=>ze(gSe),providedIn:"root"})}}return n})(),gSe=(()=>{class n extends kZ{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(cn(rN))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const k0=new xn("",{providedIn:"root",factory:()=>({})}),L0=new xn("");let B3=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ze(Oz)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ai(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Cm(t.loadComponent()).pipe(tr(LZ),Ws(A=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=A}),m0(()=>{this.componentLoaders.delete(t)})),r=new z7(i,()=>new zi).pipe(WG());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ai({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const A=function hSe(n,e,t,i){return Cm(n.loadChildren()).pipe(tr(LZ),ya(r=>r instanceof rV||Array.isArray(r)?ai(r):oo(e.compileModuleAsync(r))),tr(r=>{i&&i(n);let A,s,o=!1;return Array.isArray(r)?(s=r,!0):(A=r.create(t).injector,s=A.get(L0,[],{optional:!0,self:!0}).flat()),{routes:s.map(f3),injector:A}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(m0(()=>{this.childrenLoaders.delete(i)})),s=new z7(A,()=>new zi).pipe(WG());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function LZ(n){return function fSe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let E3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:()=>ze(dSe),providedIn:"root"})}}return n})(),dSe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const UZ=new xn(""),OZ=new xn("");function pSe(n,e,t){const i=n.get(OZ),r=n.get(CA);return n.get(Fi).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let A;const s=new Promise(c=>{A=c}),o=r.startViewTransition(()=>(A(),function mSe(n){return new Promise(e=>{oU(e,{injector:n})})}(n))),{onViewTransitionCreated:a}=i;return a&&Wu(n,()=>a({transition:o,from:e,to:t})),s})}let KN=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new zi,this.transitionAbortSubject=new zi,this.configLoader=ze(B3),this.environmentInjector=ze(ea),this.urlSerializer=ze(b0),this.rootContexts=ze(q_),this.location=ze(h0),this.inputBindingEnabled=null!==ze(GN,{optional:!0}),this.titleStrategy=ze(kZ),this.options=ze(k0,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ze(E3),this.createViewTransition=ze(UZ,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ai(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new rbe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new ibe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new vA({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:K_,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cs(A=>0!==A.id),tr(A=>({...A,extractedUrl:this.urlHandlingStrategy.extract(A.rawUrl)})),kl(A=>{let s=!1,o=!1;return ai(A).pipe(kl(a=>{if(this.navigationId>A.id)return this.cancelNavigationTransition(A,"",Qu.SupersededByNewNavigation),Ga;this.currentTransition=A,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(a.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new N0(a.id,this.urlSerializer.serialize(a.rawUrl),u,UN.IgnoredSameUrlNavigation)),a.resolve(null),Ga}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return ai(a).pipe(kl(u=>{const h=this.transitions?.getValue();return this.events.next(new LN(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),h!==this.transitions?.getValue()?Ga:Promise.resolve(u)}),function oSe(n,e,t,i,r,A){return ya(s=>function eSe(n,e,t,i,r,A,s="emptyOnly"){return new nSe(n,e,t,i,r,s,A).recognize()}(n,e,t,i,s.extractedUrl,r,A).pipe(tr(({state:o,tree:a})=>({...s,targetSnapshot:o,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ws(u=>{A.targetSnapshot=u.targetSnapshot,A.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects};const h=new pZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){const{id:u,extractedUrl:h,source:g,restoredState:f,extras:d}=a,m=new LN(u,this.urlSerializer.serialize(h),g,f);this.events.next(m);const p=BZ(this.rootComponentType).snapshot;return this.currentTransition=A={...a,targetSnapshot:p,urlAfterRedirects:h,extras:{...d,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,ai(A)}{const u="";return this.events.next(new N0(a.id,this.urlSerializer.serialize(a.extractedUrl),u,UN.IgnoredByUrlHandlingStrategy)),a.resolve(null),Ga}}),Ws(a=>{const c=new $De(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),tr(a=>(this.currentTransition=A={...a,guards:vbe(a.targetSnapshot,a.currentSnapshot,this.rootContexts)},A)),function xbe(n,e){return ya(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:A,canDeactivateChecks:s}}=t;return 0===s.length&&0===A.length?ai({...t,guardsResult:!0}):function Fbe(n,e,t,i){return oo(n).pipe(ya(r=>function Obe(n,e,t,i,r){const A=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return A&&0!==A.length?ai(A.map(o=>{const a=V_(e)??r,c=F0(o,a);return Cm(function Mbe(n){return n&&j_(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):Wu(a,()=>c(n,e,t,i))).pipe(Ju())})).pipe(R0()):ai(!0)}(r.component,r.route,t,e,i)),Ju(r=>!0!==r,!0))}(s,i,r,n).pipe(ya(o=>o&&function _be(n){return"boolean"==typeof n}(o)?function Rbe(n,e,t,i){return oo(e).pipe(lm(r=>U_(function kbe(n,e){return null!==n&&e&&e(new Abe(n)),ai(!0)}(r.route.parent,i),function Tbe(n,e){return null!==n&&e&&e(new obe(n)),ai(!0)}(r.route,i),function Ube(n,e,t){const i=e[e.length-1],A=e.slice(0,e.length-1).reverse().map(s=>function ybe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>V7(()=>ai(s.guards.map(a=>{const c=V_(s.node)??t,l=F0(a,c);return Cm(function Sbe(n){return n&&j_(n.canActivateChild)}(l)?l.canActivateChild(i,n):Wu(c,()=>l(i,n))).pipe(Ju())})).pipe(R0())));return ai(A).pipe(R0())}(n,r.path,t),function Lbe(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ai(!0);const r=i.map(A=>V7(()=>{const s=V_(e)??t,o=F0(A,s);return Cm(function bbe(n){return n&&j_(n.canActivate)}(o)?o.canActivate(e,n):Wu(s,()=>o(e,n))).pipe(Ju())}));return ai(r).pipe(R0())}(n,r.route,t))),Ju(r=>!0!==r,!0))}(i,A,n,e):ai(o)),tr(o=>({...t,guardsResult:o})))})}(this.environmentInjector,a=>this.events.next(a)),Ws(a=>{if(A.guardsResult=a.guardsResult,S0(a.guardsResult))throw _Z(0,a.guardsResult);const c=new ebe(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(c)}),cs(a=>!!a.guardsResult||(this.cancelNavigationTransition(a,"",Qu.GuardRejected),!1)),I3(a=>{if(a.guards.canActivateChecks.length)return ai(a).pipe(Ws(c=>{const l=new tbe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),kl(c=>{let l=!1;return ai(c).pipe(function aSe(n,e){return ya(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ai(t);const A=new Set(r.map(a=>a.route)),s=new Set;for(const a of A)if(!s.has(a))for(const c of TZ(a))s.add(c);let o=0;return oo(s).pipe(lm(a=>A.has(a)?function cSe(n,e,t,i){const r=n.routeConfig,A=n._resolve;return void 0!==r?.title&&!yZ(r)&&(A[O_]=r.title),function lSe(n,e,t,i){const r=ZG(n);if(0===r.length)return ai({});const A={};return oo(r).pipe(ya(s=>function uSe(n,e,t,i){const r=V_(e)??i,A=F0(n,r);return Cm(A.resolve?A.resolve(e,t):Wu(r,()=>A(e,t)))}(n[s],e,t,i).pipe(Ju(),Ws(o=>{A[s]=o}))),jG(1),j7(A),w0(s=>NZ(s)?Ga:MN(s)))}(A,n,e,i).pipe(tr(s=>(n._resolvedData=s,n.data=o3(n,n.parent,t).resolve,null)))}(a,i,n,e):(a.data=o3(a,a.parent,n).resolve,ai(void 0))),Ws(()=>o++),jG(1),ya(a=>o===s.size?ai(t):Ga))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ws({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",Qu.NoDataFromResolver)}}))}),Ws(c=>{const l=new nbe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),I3(a=>{const c=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ws(h=>{l.component=h}),tr(()=>{})));for(const h of l.children)u.push(...c(h));return u};return zG(c(a.targetSnapshot.root)).pipe(Qp(null),Rs(1))}),I3(()=>this.afterPreactivation()),kl(()=>{const{currentSnapshot:a,targetSnapshot:c}=A,l=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return l?oo(l).pipe(tr(()=>A)):ai(A)}),tr(a=>{const c=function ube(n,e,t){const i=J_(n,e._root,t?t._root:void 0);return new IZ(i,e)}(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=A={...a,targetRouterState:c},this.currentNavigation.targetRouterState=c,A}),Ws(()=>{this.events.next(new i3)}),((n,e,t,i)=>tr(r=>(new Ebe(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Rs(1),Ws({next:a=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{s=!0}}),Qa(this.transitionAbortSubject.pipe(Ws(a=>{throw a}))),m0(()=>{!s&&!o&&this.cancelNavigationTransition(A,"",Qu.SupersededByNewNavigation),this.currentTransition?.id===A.id&&(this.currentNavigation=null,this.currentTransition=null)}),w0(a=>{if(o=!0,bZ(a))this.events.next(new M0(A.id,this.urlSerializer.serialize(A.extractedUrl),a.message,a.cancellationCode)),function fbe(n){return bZ(n)&&S0(n.url)}(a)?this.events.next(new r3(a.url)):A.resolve(!1);else{this.events.next(new ON(A.id,this.urlSerializer.serialize(A.extractedUrl),a,A.targetSnapshot??void 0));try{A.resolve(t.errorHandler(a))}catch(c){this.options.resolveNavigationPromiseOnError?A.resolve(!1):A.reject(c)}}return Ga}))}))}cancelNavigationTransition(t,i,r){const A=new M0(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(A),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function CSe(n){return n!==K_}let ISe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:()=>ze(ESe),providedIn:"root"})}}return n})();class BSe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ESe=(()=>{class n extends BSe{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=FA(n)))(r||n)}})()}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),GZ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:()=>ze(vSe),providedIn:"root"})}}return n})(),vSe=(()=>{class n extends GZ{constructor(){super(...arguments),this.location=ze(h0),this.urlSerializer=ze(b0),this.options=ze(k0,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ze(E3),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new D0,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=BZ(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof LN)this.stateMemento=this.createStateMemento();else if(t instanceof N0)this.rawUrlTree=i.initialUrl;else if(t instanceof pZ){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof i3?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof M0&&(t.code===Qu.GuardRejected||t.code===Qu.NoDataFromResolver)?this.restoreHistory(i):t instanceof ON?this.restoreHistory(i,!0):t instanceof bd&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const A={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",A)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const A=this.currentPageId-this.browserPageId;0!==A?this.location.historyGo(A):this.currentUrlTree===t.finalUrl&&0===A&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=FA(n)))(r||n)}})()}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Z_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Z_||{});function PZ(n,e){n.events.pipe(cs(t=>t instanceof bd||t instanceof M0||t instanceof ON||t instanceof N0),tr(t=>t instanceof bd||t instanceof N0?Z_.COMPLETE:t instanceof M0&&(t.code===Qu.Redirect||t.code===Qu.SupersededByNewNavigation)?Z_.REDIRECTING:Z_.FAILED),cs(t=>t!==Z_.REDIRECTING),Rs(1)).subscribe(()=>{e()})}function ySe(n){throw n}const QSe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wSe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nl=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ze(nO),this.stateManager=ze(GZ),this.options=ze(k0,{optional:!0})||{},this.pendingTasks=ze(tm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ze(KN),this.urlSerializer=ze(b0),this.location=ze(h0),this.urlHandlingStrategy=ze(E3),this._events=new zi,this.errorHandler=this.options.errorHandler||ySe,this.navigated=!1,this.routeReuseStrategy=ze(ISe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ze(L0,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ze(GN,{optional:!0}),this.eventsSubscription=new Nr,this.isNgZoneEnabled=ze(Fi)instanceof Fi&&Fi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,A=this.navigationTransitions.currentNavigation;if(null!==r&&null!==A)if(this.stateManager.handleRouterEvent(i,A),i instanceof M0&&i.code!==Qu.Redirect&&i.code!==Qu.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof bd)this.navigated=!0;else if(i instanceof r3){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||CSe(r.source)};this.scheduleNavigation(s,K_,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function DSe(n){return!(n instanceof i3||n instanceof r3)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),K_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){const A={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const a={...r};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(A.state=a)}const o=this.parseUrl(t);this.scheduleNavigation(o,i,s,A)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(f3),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:A,fragment:s,queryParamsHandling:o,preserveFragment:a}=i,c=a?this.currentUrlTree.fragment:s;let u,l=null;switch(o){case"merge":l={...this.currentUrlTree.queryParams,...A};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=A||null}null!==l&&(l=this.removeEmptyProps(l));try{u=cZ(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),u=this.currentUrlTree.root}return lZ(u,t,l,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=S0(t)?t:this.parseUrl(t),A=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(A,K_,null,i)}navigate(t,i={skipLocationChange:!1}){return function _Se(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new Qt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...QSe}:!1===i?{...wSe}:i,S0(t))return eZ(this.currentUrlTree,t,r);const A=this.parseUrl(t);return eZ(this.currentUrlTree,A,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,A])=>(null!=A&&(i[r]=A),i),{})}scheduleNavigation(t,i,r,A,s){if(this.disposed)return Promise.resolve(!1);let o,a,c;s?(o=s.resolve,a=s.reject,c=s.promise):c=new Promise((u,h)=>{o=u,a=h});const l=this.pendingTasks.add();return PZ(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:A,resolve:o,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),UA=(()=>{class n{constructor(t,i,r,A,s,o){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=A,this.el=s,this.locationStrategy=o,this.href=null,this.commands=null,this.onChanges=new zi,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const a=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===a||"area"===a,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof bd&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,A,s){const o=this.urlTree;return!!(null===o||this.isAnchorElement&&(0!==t||i||r||A||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(o,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const i=null===this.href?null:function pq(n,e,t){return function Kfe(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?dq:bs}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){const r=this.renderer,A=this.el.nativeElement;null!==i?r.setAttribute(A,t,i):r.removeAttribute(A,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(yt(nl),yt(xI),function nf(n){return function xA(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const A=t[r];if(MQ(A))break;if(0===A)r+=2;else if("number"==typeof A)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(A===e)return t[r+1];r+=2}}}return null}(_A(),n)}("tabindex"),yt(ih),yt(N),yt(CI))}}static{this.\u0275dir=Mn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&on("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&qr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ki.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Va],skipLocationChange:[Ki.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Va],replaceUrl:[Ki.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Va],routerLink:"routerLink"},standalone:!0,features:[Pw,Js]})}}return n})();class HZ{}let MSe=(()=>{class n{constructor(t,i,r,A,s){this.router=t,this.injector=r,this.preloadingStrategy=A,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(cs(t=>t instanceof bd),lm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const A of i){A.providers&&!A._injector&&(A._injector=iM(A.providers,t,`Route: ${A.path}`));const s=A._injector??t,o=A._loadedInjector??s;(A.loadChildren&&!A._loadedRoutes&&void 0===A.canLoad||A.loadComponent&&!A._loadedComponent)&&r.push(this.preloadConfig(s,A)),(A.children||A._loadedRoutes)&&r.push(this.processRoutes(o,A.children??A._loadedRoutes))}return oo(r).pipe(Q0())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ai(null);const A=r.pipe(ya(s=>null===s?ai(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?oo([A,this.loader.loadComponent(i)]).pipe(Q0()):A})}static{this.\u0275fac=function(i){return new(i||n)(cn(nl),cn(Oz),cn(ea),cn(HZ),cn(B3))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const v3=new xn("");let YZ=(()=>{class n{constructor(t,i,r,A,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=A,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=ze(ea),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof LN?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bd?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof N0&&t.code===UN.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof mZ&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){var r=this;this.zone.runOutsideAngular((0,St.A)(function*(){yield new Promise(A=>{setTimeout(()=>{A()}),oU(()=>{A()},{injector:r.environmentInjector})}),r.zone.run(()=>{r.transitions.events.next(new mZ(t,"popstate"===r.lastSource?r.store[r.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){!function Pq(){throw new Error("invalid")}()}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac})}}return n})();function If(n,e){return{\u0275kind:n,\u0275providers:e}}function qZ(){const n=ze(ks);return e=>{const t=n.get(gh);if(e!==t.components[0])return;const i=n.get(nl),r=n.get(JZ);1===n.get(y3)&&i.initialNavigation(),n.get(VZ,null,xr.Optional)?.setUpPreloading(),n.get(v3,null,xr.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const JZ=new xn("",{factory:()=>new zi}),y3=new xn("",{providedIn:"root",factory:()=>1}),VZ=new xn("");function RSe(n){return If(0,[{provide:VZ,useExisting:MSe},{provide:HZ,useExisting:n}])}function kSe(n){return If(9,[{provide:UZ,useValue:pSe},{provide:OZ,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const zZ=new xn("ROUTER_FORROOT_GUARD"),LSe=[h0,{provide:b0,useClass:XG},nl,q_,{provide:xI,useFactory:function KZ(n){return n.routerState.root},deps:[nl]},B3,[]];let WZ=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[LSe,[],{provide:L0,multi:!0,useValue:t},{provide:zZ,useFactory:PSe,deps:[[nl,new $f,new kC]]},{provide:k0,useValue:i||{}},i?.useHash?{provide:CI,useClass:q0e}:{provide:CI,useClass:S9},{provide:v3,useFactory:()=>{const n=ze(rye),e=ze(Fi),t=ze(k0),i=ze(KN),r=ze(b0);return t.scrollOffset&&n.setOffset(t.scrollOffset),new YZ(r,i,n,e,t)}},i?.preloadingStrategy?RSe(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?HSe(i):[],i?.bindToComponentInputs?If(8,[QZ,{provide:GN,useExisting:QZ}]).\u0275providers:[],i?.enableViewTransitions?kSe().\u0275providers:[],[{provide:jZ,useFactory:qZ},{provide:QM,multi:!0,useExisting:jZ}]]}}static forChild(t){return{ngModule:n,providers:[{provide:L0,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(cn(zZ,8))}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})();function PSe(n){return"guarded"}function HSe(n){return["disabled"===n.initialNavigation?If(3,[{provide:yM,multi:!0,useFactory:()=>{const e=ze(nl);return()=>{e.setUpLocationChangeListener()}}},{provide:y3,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?If(2,[{provide:y3,useValue:0},{provide:yM,multi:!0,deps:[ks],useFactory:e=>{const t=e.get(Y0e,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(nl),A=e.get(JZ);PZ(r,()=>{i(!0)}),e.get(KN).afterPreactivation=()=>(i(!0),A.closed?ai(void 0):A),r.initialNavigation()}))}}]).\u0275providers:[]]}const jZ=new xn(""),Im={externalConfig:{},pageSettingDictionary:{},scmList:[],aiPrompts:[]};let Bm=(()=>{class n{constructor(t){this.http=t}loadSCMList(){return this.http.get("./assets/json/scm.json").toPromise().then(t=>{Im.scmList=t}).catch(t=>{console.error("Error loading configuration:",t)})}loadAiPrompts(){return this.http.get("./assets/json/llm.json").toPromise().then(t=>{Im.aiPrompts=t}).catch(t=>{console.error("Error loading configuration:",t)})}loadConfig(){return this.http.get("./assets/config.json").toPromise().then(t=>{Im.externalConfig=t}).catch(t=>{console.error("Error loading configuration:",t)})}getConfigValue(t){return JSON.parse(JSON.stringify(Im.externalConfig))[t]}static{this.\u0275fac=function(i){return new(i||n)(cn(II))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ZZ=(()=>{class n{constructor(t,i,r,A,s,o){this.router=t,this.configService=i,this.titleService=r,this.customErrorHandler=A,this.loggingInterceptor=s,this.route=o,this.title="[TUTORIAS DE PROGRAMACION - FORMULARIO DE CONTACTO]",this._title="",this._appName="",this._appVersion="",this.runtimeVersion=bz.full,this.redirectPage=null;let a="",c="";a="appName",c=this.configService.getConfigValue(a),this._appName=c,a="appVersion",c=this.configService.getConfigValue(a),this._appVersion=c,console.log(`${a} :  ${this.configService.getConfigValue(a)} `)}ngOnInit(){this.titleService.setTitle(`${this._appName} - ${this._appVersion}`),this.route.queryParams.subscribe(t=>{this.redirectPage=t.redirectPage?t.redirectPage:"",void 0!==this.redirectPage&&"sudoku"===this.redirectPage&&(console.log("Redirecting To Page : "+this.redirectPage),this.router.navigateByUrl("/Sudoku"))})}getValueFromConfig(t){return this.configService.getConfigValue(t)}static{this.\u0275fac=function(i){return new(i||n)(yt(nl),yt(Bm),yt(rN),yt(XR),yt($R),yt(xI))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&mt(0,"app-nav")},styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center}']})}}return n})();var Q3=function(n){return n[n.Info=1]="Info",n[n.Debug=2]="Debug",n[n.Error=3]="Error",n}(Q3||{});class Ic{constructor(e,t,i){this._index=e,this._value=t,this._selected=i}}class U0{constructor(e,t){this.value=e,this.graph=t}}class KSe{constructor(e,t,i){this.n=e,this.from=t,this.to=i}}let XZ=(()=>{class n{constructor(){this.towerA=new Map,this.towerB=new Map,this.towerC=new Map,this.steps=[],this._steps=[],this._stepsIndex=0,this._startGame=!0,this._delayInMilliseconds=1500,this._stepsAmt=0,this._diskAmt=0,this.tituloDiskAmtList="Cantidad de Discos",this.gameState$=new vA([[{size:3},{size:2},{size:1}],[],[]]),this.towers$=this.gameState$.asObservable(),this.movesSubject$=new vA(0),this.moves$=this.movesSubject$.asObservable(),this.selectedTower=null,this._diskAmtList=new Array,this._diskAmtList.push(new Ic(0,"(seleccione opcion...)",!1)),this._diskAmtList.push(new Ic(3,"3",!0)),this._diskAmtList.push(new Ic(4,"4",!1))}manual_selectTower(t){null===this.selectedTower?this.selectedTower=t:(this.manual_moveDisk(this.selectedTower,t),this.selectedTower=null)}manual_moveDisk(t,i){const r=this.gameState$.getValue(),A=r[t].pop();if(A){const s=r[i];0===s.length||s[s.length-1].size>A.size?(s.push(A),this.gameState$.next(r),this.movesSubject$.next(this.movesSubject$.getValue()+1),this._checkWinCondition()):r[t].push(A)}}manual_resetGame(){this.gameState$.next([[{size:3},{size:2},{size:1}],[],[]]),this.movesSubject$.next(0),this.selectedTower=null,this.auto_newGame()}_checkWinCondition(){return 3===this.gameState$.getValue()[2].length&&(console.log("Congratulations! You solved the puzzle!"),!0)}auto_printSteps(){if(this._stepsIndex>this._stepsAmt)clearTimeout(this._timeoutId);else{if(0==this._stepsIndex&&this.steps.push("[BEGIN STEPS]"),this._steps[this._stepsIndex]){let t=document.querySelector(".steps-container");t&&(t.scrollTop=t.scrollHeight);let i=this._steps[this._stepsIndex],o=`Step ${this._stepsIndex+1} of ${this._stepsAmt}. Move disk ${i.n} from Tower ${i.from} to Tower ${i.to}`;console.log(o),this.steps.push(o),this.auto_makeMove(i);let a=i.from.charCodeAt(0)-65,c=i.to.charCodeAt(0)-65;console.log(` Manuel Step ${a} to ${c} `),this.manual_moveDisk(a,c)}this._stepsIndex++,this._stepsIndex==this._stepsAmt&&this.steps.push("[END STEPS]"),this._timeoutId=setTimeout(()=>{this.auto_printSteps()},this._delayInMilliseconds)}}auto_makeMove(t){let s,i=t.n,A=t.to;switch(t.from){case"A":s=this.towerA.get(i),this.towerA.set(i,new U0(i,"-"));break;case"B":s=this.towerB.get(i),this.towerB.set(i,new U0(i,"-"));break;case"C":s=this.towerC.get(i),this.towerC.set(i,new U0(i,"-"))}switch(A){case"A":this.towerA.set(i,s);break;case"B":this.towerB.set(i,s);break;case"C":this.towerC.set(i,s)}}auto_saveStep(t,i,r){let A=new KSe(t,i,r);this._steps.push(A),this._stepsAmt++}auto_towerOfHanoi(t,i,r,A){0!==t&&(this.auto_towerOfHanoi(t-1,i,A,r),this.auto_saveStep(t,i,r),this.auto_towerOfHanoi(t-1,A,r,i))}auto_newGame(){if(console.log("[HANOI TOWERS] - [NEW GAME]"),this._diskAmt=3,0===this._diskAmt)return;this.towerA=new Map;let t="";for(let i=1;i<=this._diskAmt;i++)t+="*",this.towerA.set(i,new U0(i,t));this.towerB=new Map;for(let i=1;i<=this._diskAmt;i++)this.towerB.set(i,new U0(i,"-"));this.towerC=new Map;for(let i=1;i<=this._diskAmt;i++)this.towerC.set(i,new U0(i,"-"));this.steps=[],this._steps=[],this._stepsIndex=0,this._stepsAmt=0,this._startGame=!1}auto_startGame(){this.auto_newGame(),console.log("[HANOI TOWERS] - [START GAME]"),0!==this._diskAmt&&(this._startGame=!0,this.auto_towerOfHanoi(this._diskAmt,"A","C","B"),this.auto_printSteps())}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qSe(n,e){if(1&n&&(pe(0,"div",8),Re(1),he()),2&n){const t=e.$implicit;Vw("width",20*t.size,"px"),ke(),$r(" ",t.size," ")}}function JSe(n,e){if(1&n&&(pe(0,"div",5)(1,"h2"),Re(2),he(),pe(3,"div",6),yn(4,qSe,2,3,"div",7),he()()),2&n){const t=e.$implicit,i=e.index;ke(2),$r("Tower ",i+1,""),ke(2),Xe("ngForOf",t)}}let VSe=(()=>{class n{constructor(t){this.hanoiEngine=t}ngOnInit(){this.hanoiEngine.manual_resetGame()}static{this.\u0275fac=function(i){return new(i||n)(yt(XZ))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-hanoi-auto"]],decls:20,vars:8,consts:[[1,"game-container"],["class","tower",4,"ngFor","ngForOf"],[3,"click","disabled"],["align","right"],["routerLink","/Dev"],[1,"tower"],[1,"disks-container"],["class","disk",3,"width",4,"ngFor","ngForOf"],[1,"disk"]],template:function(i,r){1&i&&(pe(0,"h4"),Re(1,"[HANOI- AUTO]"),he(),mt(2,"br"),pe(3,"div",0),yn(4,JSe,5,2,"div",1),Rl(5,"async"),he(),mt(6,"hr"),pe(7,"div")(8,"p"),Re(9),Rl(10,"async"),he(),pe(11,"button",2),on("click",function(){return r.hanoiEngine.manual_resetGame()}),Re(12,"Reset Game"),he(),Re(13," | "),pe(14,"button",2),on("click",function(){return r.hanoiEngine.auto_startGame()}),Re(15,"Start Game"),he()(),mt(16,"hr"),pe(17,"div",3)(18,"a",4),Re(19,"[Volver al Men\xfa]"),he()()),2&i&&(ke(4),Xe("ngForOf",Tl(5,4,r.hanoiEngine.towers$)),ke(5),$r("Moves: ",Tl(10,6,r.hanoiEngine.moves$),""),ke(2),Xe("disabled",!r.hanoiEngine._checkWinCondition()),ke(3),Xe("disabled",r.hanoiEngine._steps.length>0))},dependencies:[UA,za,p0],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.tower[_ngcontent-%COMP%]{text-align:center}.disks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100px}.disk[_ngcontent-%COMP%]{height:20px;background-color:#007bff;margin:2px;display:flex;justify-content:center;align-items:center;color:#fff}"]})}}return n})();function zSe(n,e){if(1&n&&(pe(0,"div",8),Re(1),he()),2&n){const t=e.$implicit;Vw("width",20*t.size,"px"),ke(),$r(" ",t.size," ")}}function WSe(n,e){if(1&n){const t=TA();pe(0,"div",5)(1,"h2"),Re(2),he(),pe(3,"div",6),yn(4,zSe,2,3,"div",7),he(),pe(5,"button",2),on("click",function(){const r=zn(t).index;return $n(Cn().selectTower(r))}),Re(6,"Select"),he()()}if(2&n){const t=e.$implicit,i=e.index;ke(2),$r("Tower ",i+1,""),ke(2),Xe("ngForOf",t)}}let jSe=(()=>{class n{constructor(){this.gameState$=new vA([[{size:3},{size:2},{size:1}],[],[]]),this.towers$=this.gameState$.asObservable(),this.movesSubject$=new vA(0),this.moves$=this.movesSubject$.asObservable(),this.selectedTower=null}ngOnInit(){this.resetGame()}selectTower(t){null===this.selectedTower?this.selectedTower=t:(this.moveDisk(this.selectedTower,t),this.selectedTower=null)}moveDisk(t,i){const r=this.gameState$.getValue(),A=r[t].pop();if(A){const s=r[i];0===s.length||s[s.length-1].size>A.size?(s.push(A),this.gameState$.next(r),this.movesSubject$.next(this.movesSubject$.getValue()+1),this.checkWinCondition()):r[t].push(A)}}resetGame(){this.gameState$.next([[{size:3},{size:2},{size:1}],[],[]]),this.movesSubject$.next(0),this.selectedTower=null}checkWinCondition(){3===this.gameState$.getValue()[2].length&&console.log("Congratulations! You solved the puzzle!")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-hanoi-tower"]],decls:16,vars:6,consts:[[1,"game-container"],["class","tower",4,"ngFor","ngForOf"],[3,"click"],["align","right"],["routerLink","/Dev"],[1,"tower"],[1,"disks-container"],["class","disk",3,"width",4,"ngFor","ngForOf"],[1,"disk"]],template:function(i,r){1&i&&(pe(0,"h4"),Re(1,"[HANOI- OBSERVABLE]"),he(),mt(2,"br"),pe(3,"div",0),yn(4,WSe,7,2,"div",1),Rl(5,"async"),he(),pe(6,"div")(7,"p"),Re(8),Rl(9,"async"),he(),pe(10,"button",2),on("click",function(){return r.resetGame()}),Re(11,"Reset Game"),he()(),mt(12,"hr"),pe(13,"div",3)(14,"a",4),Re(15,"[Volver al Men\xfa]"),he()()),2&i&&(ke(4),Xe("ngForOf",Tl(5,2,r.towers$)),ke(4),$r("Moves: ",Tl(9,4,r.moves$),""))},dependencies:[UA,za,p0],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.tower[_ngcontent-%COMP%]{text-align:center}.disks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:200px}.disk[_ngcontent-%COMP%]{height:20px;background-color:#007bff;margin:2px;display:flex;justify-content:center;align-items:center;color:#fff}"]})}}return n})();function ZSe(n,e){if(1&n&&(pe(0,"div",2)(1,"span"),Re(2),he()()),2&n){const t=e.$implicit;ke(2),Gi(t[1].graph)}}let $Z=(()=>{class n{toArray(t){return Array.from(t.entries())}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-tower"]],inputs:{tower:"tower"},standalone:!0,features:[Uo],decls:2,vars:1,consts:[[1,"tower"],["class","disk",4,"ngFor","ngForOf"],[1,"disk"]],template:function(i,r){1&i&&(pe(0,"div",0),yn(1,ZSe,3,1,"div",1),he()),2&i&&(ke(),Xe("ngForOf",r.toArray(r.tower)))},dependencies:[am,za]})}}return n})();function XSe(n,e){if(1&n&&(pe(0,"div",17)(1,"span"),Re(2),he()()),2&n){const t=e.$implicit;ke(2),Gi(t)}}function $Se(n,e){if(1&n&&(pe(0,"option",18),Re(1),he()),2&n){const t=e.$implicit;Xe("value",t._index)("selected",t._selected),ke(),$r("",t._value," ")}}let eMe=(()=>{class n{constructor(t){this.hanoiEngine=t}static{this.\u0275fac=function(i){return new(i||n)(yt(XZ))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-games-hanoi"]],decls:40,vars:8,consts:[["__diskAmtList",""],["align","left",1,"game-container"],["width","100%"],["align","center"],["width","33%","align","center"],[3,"tower"],["align","left",1,"steps-container"],["align","left","class","steps-content",4,"ngFor","ngForOf"],["id","diskAmtListDiv","align","left"],["for","diskAmtList"],["id","diskAmtList","name","diskAmtList"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left"],["type","button","id","btnNewGame","value","[NEW GAME]",3,"click","disabled"],["type","button","id","btnStartGame","value","[START GAME]",3,"click","disabled"],["align","right"],["routerLink","/Dev"],["align","left",1,"steps-content"],[3,"value","selected"]],template:function(i,r){if(1&i){const A=TA();pe(0,"h1"),Re(1,"[HANOI TOWER BOARD]"),he(),mt(2,"hr"),pe(3,"div",1)(4,"table",2)(5,"thead")(6,"td",3),Re(7,"A"),he(),pe(8,"td",3),Re(9,"B"),he(),pe(10,"td",3),Re(11,"C"),he()(),pe(12,"tr")(13,"td",4),mt(14,"app-tower",5),he(),pe(15,"td",4),mt(16,"app-tower",5),he(),pe(17,"td",4),mt(18,"app-tower",5),he()(),mt(19,"tfoot"),he()(),mt(20,"hr"),pe(21,"div",6),yn(22,XSe,3,1,"div",7),he(),mt(23,"hr"),pe(24,"div",8)(25,"label",9),Re(26),he(),Re(27," \xa0\xa0 "),pe(28,"select",10,0),yn(30,$Se,2,3,"option",11),he()(),mt(31,"hr"),pe(32,"div",12)(33,"input",13),on("click",function(){return zn(A),$n(r.hanoiEngine.auto_newGame())}),he(),Re(34," | "),pe(35,"input",14),on("click",function(){return zn(A),$n(r.hanoiEngine.auto_startGame())}),he()(),mt(36,"hr"),pe(37,"div",15)(38,"a",16),Re(39,"[Volver al Men\xfa]"),he()()}2&i&&(ke(14),Xe("tower",r.hanoiEngine.towerA),ke(2),Xe("tower",r.hanoiEngine.towerB),ke(2),Xe("tower",r.hanoiEngine.towerC),ke(4),Xe("ngForOf",r.hanoiEngine.steps),ke(4),Gi(r.hanoiEngine.tituloDiskAmtList),ke(4),Xe("ngForOf",r.hanoiEngine._diskAmtList),ke(3),Xe("disabled",0==r.hanoiEngine._startGame),ke(2),Xe("disabled",1==r.hanoiEngine._startGame))},dependencies:[$Z,UA,za,wI,_I],styles:['.game-container[_ngcontent-%COMP%]{width:"100%";padding:1em;background-color:#ccc}.steps-container[_ngcontent-%COMP%]{height:auto;width:100%;border:1px solid #000;padding:.1em;background-color:#ccc}.steps-content[_ngcontent-%COMP%]{padding:.1em}table[_ngcontent-%COMP%]{width:150px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc}']})}}return n})();const tX=1,iMe=2,Sd=3,qN=0,vMe=1,yMe=2,ym=0,QMe=1,wMe=2,_Me=3,DMe=4,bMe=5,SMe=6,MMe=7,Qm=301,RI=302,X_=306,Ch=1001,Bc=1003,wa=1006,Nd=1008,xd=1009,oX=1010,aX=1011,e1=1012,k3=1013,wm=1014,wu=1015,t1=1016,L3=1017,U3=1018,Y0=1020,cX=35902,lX=1021,uX=1022,Ul=1023,gX=1024,hX=1025,K0=1026,q0=1027,O3=1028,ZN=1029,fX=1030,G3=1031,P3=1033,XN=33776,$N=33777,ex=33778,tx=33779,H3=35840,Y3=35841,K3=35842,q3=35843,J3=36196,V3=37492,z3=37496,W3=37808,j3=37809,Z3=37810,X3=37811,$3=37812,eP=37813,tP=37814,nP=37815,iP=37816,rP=37817,AP=37818,sP=37819,oP=37820,aP=37821,nx=36492,cP=36494,lP=36495,dX=36283,uP=36284,gP=36285,hP=36286,_u="srgb",z0="srgb-linear",Ax="linear",is="srgb",W0=7680,IX="300 es",Fd=2e3;class Rd{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const A=r.indexOf(t);-1!==A&&r.splice(A,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let A=0,s=r.length;A<s;A++)r[A].call(this,e);e.target=null}}}const Ec=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],kI=Math.PI/180,j0=180/Math.PI;function Du(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Ec[255&n]+Ec[n>>8&255]+Ec[n>>16&255]+Ec[n>>24&255]+"-"+Ec[255&e]+Ec[e>>8&255]+"-"+Ec[e>>16&15|64]+Ec[e>>24&255]+"-"+Ec[63&t|128]+Ec[t>>8&255]+"-"+Ec[t>>16&255]+Ec[t>>24&255]+Ec[255&i]+Ec[i>>8&255]+Ec[i>>16&255]+Ec[i>>24&255]).toLowerCase()}function ir(n,e,t){return Math.max(e,Math.min(t,n))}function n1(n,e,t){return(1-t)*n+t*e}function il(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function dr(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const oNe_DEG2RAD=kI;class $t{constructor(e=0,t=0){$t.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=ir(this.x,e.x,t.x),this.y=ir(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=ir(this.x,e,t),this.y=ir(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ir(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ir(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),A=this.x-e.x,s=this.y-e.y;return this.x=A*i-s*r+e.x,this.y=A*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class pr{constructor(e,t,i,r,A,s,o,a,c){pr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,i,r,A,s,o,a,c)}set(e,t,i,r,A,s,o,a,c){const l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=A,l[5]=a,l[6]=i,l[7]=s,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,A=this.elements,s=i[0],o=i[3],a=i[6],c=i[1],l=i[4],u=i[7],h=i[2],g=i[5],f=i[8],d=r[0],m=r[3],p=r[6],I=r[1],C=r[4],B=r[7],y=r[2],E=r[5],b=r[8];return A[0]=s*d+o*I+a*y,A[3]=s*m+o*C+a*E,A[6]=s*p+o*B+a*b,A[1]=c*d+l*I+u*y,A[4]=c*m+l*C+u*E,A[7]=c*p+l*B+u*b,A[2]=h*d+g*I+f*y,A[5]=h*m+g*C+f*E,A[8]=h*p+g*B+f*b,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],A=e[3],s=e[4],o=e[5],a=e[6],c=e[7],l=e[8];return t*s*l-t*o*c-i*A*l+i*o*a+r*A*c-r*s*a}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],A=e[3],s=e[4],o=e[5],a=e[6],c=e[7],l=e[8],u=l*s-o*c,h=o*a-l*A,g=c*A-s*a,f=t*u+i*h+r*g;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const d=1/f;return e[0]=u*d,e[1]=(r*c-l*i)*d,e[2]=(o*i-r*s)*d,e[3]=h*d,e[4]=(l*t-r*a)*d,e[5]=(r*A-o*t)*d,e[6]=g*d,e[7]=(i*a-c*t)*d,e[8]=(s*t-i*A)*d,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,A,s,o){const a=Math.cos(A),c=Math.sin(A);return this.set(i*a,i*c,-i*(a*s+c*o)+s+e,-r*c,r*a,-r*(-c*s+a*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(CP.makeScale(e,t)),this}rotate(e){return this.premultiply(CP.makeRotation(-e)),this}translate(e,t){return this.premultiply(CP.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const CP=new pr;function EX(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function i1(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function cNe(){const n=i1("canvas");return n.style.display="block",n}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const vX={};function X0(n){n in vX||(vX[n]=!0,console.warn(n))}const yX=(new pr).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),QX=(new pr).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function hNe(){const n={enabled:!0,workingColorSpace:z0,spaces:{},convert:function(r,A,s){return!1===this.enabled||A===s||!A||!s||(this.spaces[A].transfer===is&&(r.r=Td(r.r),r.g=Td(r.g),r.b=Td(r.b)),this.spaces[A].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[A].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===is&&(r.r=$0(r.r),r.g=$0(r.g),r.b=$0(r.b))),r},fromWorkingColorSpace:function(r,A){return this.convert(r,this.workingColorSpace,A)},toWorkingColorSpace:function(r,A){return this.convert(r,A,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return""===r?Ax:this.spaces[r].transfer},getLuminanceCoefficients:function(r,A=this.workingColorSpace){return r.fromArray(this.spaces[A].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,A,s){return r.copy(this.spaces[A].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[z0]:{primaries:e,whitePoint:i,transfer:Ax,toXYZ:yX,fromXYZ:QX,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:_u},outputColorSpaceConfig:{drawingBufferColorSpace:_u}},[_u]:{primaries:e,whitePoint:i,transfer:is,toXYZ:yX,fromXYZ:QX,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:_u}}}),n}const BA=hNe();function Td(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function $0(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}let ev;class fNe{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===ev&&(ev=i1("canvas")),ev.width=e.width,ev.height=e.height;const i=ev.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=ev}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=i1("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),A=r.data;for(let s=0;s<A.length;s++)A[s]=255*Td(A[s]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*Td(t[i]/255)):Td(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let dNe=0;class tv{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:dNe++}),this.uuid=Du(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let A;if(Array.isArray(r)){A=[];for(let s=0,o=r.length;s<o;s++)A.push(IP(r[s].isDataTexture?r[s].image:r[s]))}else A=IP(r);i.url=A}return t||(e.images[this.uuid]=i),i}}function IP(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?fNe.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let pNe=0,Ol=(()=>{class n extends Rd{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=Ch,A=Ch,s=wa,o=Nd,a=Ul,c=xd,l=n.DEFAULT_ANISOTROPY,u=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:pNe++}),this.uuid=Du(),this.name="",this.source=new tv(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=A,this.magFilter=s,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=c,this.offset=new $t(0,0),this.repeat=new $t(1,1),this.center=new $t(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new pr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case Ch:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case Ch:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class DA{constructor(e=0,t=0,i=0,r=1){DA.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,A=this.w,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r+s[12]*A,this.y=s[1]*t+s[5]*i+s[9]*r+s[13]*A,this.z=s[2]*t+s[6]*i+s[10]*r+s[14]*A,this.w=s[3]*t+s[7]*i+s[11]*r+s[15]*A,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,A;const a=e.elements,c=a[0],l=a[4],u=a[8],h=a[1],g=a[5],f=a[9],d=a[2],m=a[6],p=a[10];if(Math.abs(l-h)<.01&&Math.abs(u-d)<.01&&Math.abs(f-m)<.01){if(Math.abs(l+h)<.1&&Math.abs(u+d)<.1&&Math.abs(f+m)<.1&&Math.abs(c+g+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(c+1)/2,B=(g+1)/2,y=(p+1)/2,E=(l+h)/4,b=(u+d)/4,S=(f+m)/4;return C>B&&C>y?C<.01?(i=0,r=.707106781,A=.707106781):(i=Math.sqrt(C),r=E/i,A=b/i):B>y?B<.01?(i=.707106781,r=0,A=.707106781):(r=Math.sqrt(B),i=E/r,A=S/r):y<.01?(i=.707106781,r=.707106781,A=0):(A=Math.sqrt(y),i=b/A,r=S/A),this.set(i,r,A,t),this}let I=Math.sqrt((m-f)*(m-f)+(u-d)*(u-d)+(h-l)*(h-l));return Math.abs(I)<.001&&(I=1),this.x=(m-f)/I,this.y=(u-d)/I,this.z=(h-l)/I,this.w=Math.acos((c+g+p-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=ir(this.x,e.x,t.x),this.y=ir(this.y,e.y,t.y),this.z=ir(this.z,e.z,t.z),this.w=ir(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=ir(this.x,e,t),this.y=ir(this.y,e,t),this.z=ir(this.z,e,t),this.w=ir(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ir(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class mNe extends Rd{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new DA(0,0,e,t),this.scissorTest=!1,this.viewport=new DA(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:wa,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const A=new Ol(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);A.flipY=!1,A.generateMipmaps=i.generateMipmaps,A.internalFormat=i.internalFormat,this.textures=[];const s=i.count;for(let o=0;o<s;o++)this.textures[o]=A.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,A=this.textures.length;r<A;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new tv(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Bf extends mNe{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class BP extends Ol{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Bc,this.minFilter=Bc,this.wrapR=Ch,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class wX extends Ol{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Bc,this.minFilter=Bc,this.wrapR=Ch,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rl{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,A,s,o){let a=i[r+0],c=i[r+1],l=i[r+2],u=i[r+3];const h=A[s+0],g=A[s+1],f=A[s+2],d=A[s+3];if(0===o)return e[t+0]=a,e[t+1]=c,e[t+2]=l,void(e[t+3]=u);if(1===o)return e[t+0]=h,e[t+1]=g,e[t+2]=f,void(e[t+3]=d);if(u!==d||a!==h||c!==g||l!==f){let m=1-o;const p=a*h+c*g+l*f+u*d,I=p>=0?1:-1,C=1-p*p;if(C>Number.EPSILON){const y=Math.sqrt(C),E=Math.atan2(y,p*I);m=Math.sin(m*E)/y,o=Math.sin(o*E)/y}const B=o*I;if(a=a*m+h*B,c=c*m+g*B,l=l*m+f*B,u=u*m+d*B,m===1-o){const y=1/Math.sqrt(a*a+c*c+l*l+u*u);a*=y,c*=y,l*=y,u*=y}}e[t]=a,e[t+1]=c,e[t+2]=l,e[t+3]=u}static multiplyQuaternionsFlat(e,t,i,r,A,s){const o=i[r],a=i[r+1],c=i[r+2],l=i[r+3],u=A[s],h=A[s+1],g=A[s+2],f=A[s+3];return e[t]=o*f+l*u+a*g-c*h,e[t+1]=a*f+l*h+c*u-o*g,e[t+2]=c*f+l*g+o*h-a*u,e[t+3]=l*f-o*u-a*h-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,A=e._z,s=e._order,o=Math.cos,a=Math.sin,c=o(i/2),l=o(r/2),u=o(A/2),h=a(i/2),g=a(r/2),f=a(A/2);switch(s){case"XYZ":this._x=h*l*u+c*g*f,this._y=c*g*u-h*l*f,this._z=c*l*f+h*g*u,this._w=c*l*u-h*g*f;break;case"YXZ":this._x=h*l*u+c*g*f,this._y=c*g*u-h*l*f,this._z=c*l*f-h*g*u,this._w=c*l*u+h*g*f;break;case"ZXY":this._x=h*l*u-c*g*f,this._y=c*g*u+h*l*f,this._z=c*l*f+h*g*u,this._w=c*l*u-h*g*f;break;case"ZYX":this._x=h*l*u-c*g*f,this._y=c*g*u+h*l*f,this._z=c*l*f-h*g*u,this._w=c*l*u+h*g*f;break;case"YZX":this._x=h*l*u+c*g*f,this._y=c*g*u+h*l*f,this._z=c*l*f-h*g*u,this._w=c*l*u-h*g*f;break;case"XZY":this._x=h*l*u-c*g*f,this._y=c*g*u-h*l*f,this._z=c*l*f+h*g*u,this._w=c*l*u+h*g*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],A=t[8],s=t[1],o=t[5],a=t[9],c=t[2],l=t[6],u=t[10],h=i+o+u;if(h>0){const g=.5/Math.sqrt(h+1);this._w=.25/g,this._x=(l-a)*g,this._y=(A-c)*g,this._z=(s-r)*g}else if(i>o&&i>u){const g=2*Math.sqrt(1+i-o-u);this._w=(l-a)/g,this._x=.25*g,this._y=(r+s)/g,this._z=(A+c)/g}else if(o>u){const g=2*Math.sqrt(1+o-i-u);this._w=(A-c)/g,this._x=(r+s)/g,this._y=.25*g,this._z=(a+l)/g}else{const g=2*Math.sqrt(1+u-i-o);this._w=(s-r)/g,this._x=(A+c)/g,this._y=(a+l)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ir(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,A=e._z,s=e._w,o=t._x,a=t._y,c=t._z,l=t._w;return this._x=i*l+s*o+r*c-A*a,this._y=r*l+s*a+A*o-i*c,this._z=A*l+s*c+i*a-r*o,this._w=s*l-i*o-r*a-A*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,A=this._z,s=this._w;let o=s*e._w+i*e._x+r*e._y+A*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=i,this._y=r,this._z=A,this;const a=1-o*o;if(a<=Number.EPSILON){const g=1-t;return this._w=g*s+t*this._w,this._x=g*i+t*this._x,this._y=g*r+t*this._y,this._z=g*A+t*this._z,this.normalize(),this}const c=Math.sqrt(a),l=Math.atan2(c,o),u=Math.sin((1-t)*l)/c,h=Math.sin(t*l)/c;return this._w=s*u+this._w*h,this._x=i*u+this._x*h,this._y=r*u+this._y*h,this._z=A*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),A=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),A*Math.sin(t),A*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ue{constructor(e=0,t=0,i=0){Ue.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(_X.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(_X.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,A=e.elements;return this.x=A[0]*t+A[3]*i+A[6]*r,this.y=A[1]*t+A[4]*i+A[7]*r,this.z=A[2]*t+A[5]*i+A[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,A=e.elements,s=1/(A[3]*t+A[7]*i+A[11]*r+A[15]);return this.x=(A[0]*t+A[4]*i+A[8]*r+A[12])*s,this.y=(A[1]*t+A[5]*i+A[9]*r+A[13])*s,this.z=(A[2]*t+A[6]*i+A[10]*r+A[14])*s,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,A=e.x,s=e.y,o=e.z,a=e.w,c=2*(s*r-o*i),l=2*(o*t-A*r),u=2*(A*i-s*t);return this.x=t+a*c+s*u-o*l,this.y=i+a*l+o*c-A*u,this.z=r+a*u+A*l-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,A=e.elements;return this.x=A[0]*t+A[4]*i+A[8]*r,this.y=A[1]*t+A[5]*i+A[9]*r,this.z=A[2]*t+A[6]*i+A[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=ir(this.x,e.x,t.x),this.y=ir(this.y,e.y,t.y),this.z=ir(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=ir(this.x,e,t),this.y=ir(this.y,e,t),this.z=ir(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ir(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,A=e.z,s=t.x,o=t.y,a=t.z;return this.x=r*a-A*o,this.y=A*s-i*a,this.z=i*o-r*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return EP.copy(this).projectOnVector(e),this.sub(EP)}reflect(e){return this.sub(EP.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ir(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const EP=new Ue,_X=new rl;class Gl{constructor(e=new Ue(1/0,1/0,1/0),t=new Ue(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Ih.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Ih.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Ih.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(void 0!==i){const A=i.getAttribute("position");if(!0===t&&void 0!==A&&!0!==e.isInstancedMesh)for(let s=0,o=A.count;s<o;s++)!0===e.isMesh?e.getVertexPosition(s,Ih):Ih.fromBufferAttribute(A,s),Ih.applyMatrix4(e.matrixWorld),this.expandByPoint(Ih);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),ax.copy(e.boundingBox)):(null===i.boundingBox&&i.computeBoundingBox(),ax.copy(i.boundingBox)),ax.applyMatrix4(e.matrixWorld),this.union(ax)}const r=e.children;for(let A=0,s=r.length;A<s;A++)this.expandByObject(r[A],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ih),Ih.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(r1),cx.subVectors(this.max,r1),nv.subVectors(e.a,r1),iv.subVectors(e.b,r1),rv.subVectors(e.c,r1),Dm.subVectors(iv,nv),bm.subVectors(rv,iv),LI.subVectors(nv,rv);let t=[0,-Dm.z,Dm.y,0,-bm.z,bm.y,0,-LI.z,LI.y,Dm.z,0,-Dm.x,bm.z,0,-bm.x,LI.z,0,-LI.x,-Dm.y,Dm.x,0,-bm.y,bm.x,0,-LI.y,LI.x,0];return!(!vP(t,nv,iv,rv,cx)||(t=[1,0,0,0,1,0,0,0,1],!vP(t,nv,iv,rv,cx)))&&(lx.crossVectors(Dm,bm),t=[lx.x,lx.y,lx.z],vP(t,nv,iv,rv,cx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ih).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Ih).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(kd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),kd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),kd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),kd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),kd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),kd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),kd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),kd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(kd)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const kd=[new Ue,new Ue,new Ue,new Ue,new Ue,new Ue,new Ue,new Ue],Ih=new Ue,ax=new Gl,nv=new Ue,iv=new Ue,rv=new Ue,Dm=new Ue,bm=new Ue,LI=new Ue,r1=new Ue,cx=new Ue,lx=new Ue,UI=new Ue;function vP(n,e,t,i,r){for(let A=0,s=n.length-3;A<=s;A+=3){UI.fromArray(n,A);const o=r.x*Math.abs(UI.x)+r.y*Math.abs(UI.y)+r.z*Math.abs(UI.z),a=e.dot(UI),c=t.dot(UI),l=i.dot(UI);if(Math.max(-Math.max(a,c,l),Math.min(a,c,l))>o)return!1}return!0}const CNe=new Gl,A1=new Ue,yP=new Ue;class Al{constructor(e=new Ue,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):CNe.setFromPoints(e).getCenter(i);let r=0;for(let A=0,s=e.length;A<s;A++)r=Math.max(r,i.distanceToSquared(e[A]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;A1.subVectors(e,this.center);const t=A1.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(A1,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(yP.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(A1.copy(e.center).add(yP)),this.expandByPoint(A1.copy(e.center).sub(yP))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Ld=new Ue,QP=new Ue,ux=new Ue,Sm=new Ue,wP=new Ue,gx=new Ue,_P=new Ue;class Av{constructor(e=new Ue,t=new Ue(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ld)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ld.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ld.copy(this.origin).addScaledVector(this.direction,t),Ld.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){QP.copy(e).add(t).multiplyScalar(.5),ux.copy(t).sub(e).normalize(),Sm.copy(this.origin).sub(QP);const A=.5*e.distanceTo(t),s=-this.direction.dot(ux),o=Sm.dot(this.direction),a=-Sm.dot(ux),c=Sm.lengthSq(),l=Math.abs(1-s*s);let u,h,g,f;if(l>0)if(u=s*a-o,h=s*o-a,f=A*l,u>=0)if(h>=-f)if(h<=f){const d=1/l;u*=d,h*=d,g=u*(u+s*h+2*o)+h*(s*u+h+2*a)+c}else h=A,u=Math.max(0,-(s*h+o)),g=-u*u+h*(h+2*a)+c;else h=-A,u=Math.max(0,-(s*h+o)),g=-u*u+h*(h+2*a)+c;else h<=-f?(u=Math.max(0,-(-s*A+o)),h=u>0?-A:Math.min(Math.max(-A,-a),A),g=-u*u+h*(h+2*a)+c):h<=f?(u=0,h=Math.min(Math.max(-A,-a),A),g=h*(h+2*a)+c):(u=Math.max(0,-(s*A+o)),h=u>0?A:Math.min(Math.max(-A,-a),A),g=-u*u+h*(h+2*a)+c);else h=s>0?-A:A,u=Math.max(0,-(s*h+o)),g=-u*u+h*(h+2*a)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(QP).addScaledVector(ux,h),g}intersectSphere(e,t){Ld.subVectors(e.center,this.origin);const i=Ld.dot(this.direction),r=Ld.dot(Ld)-i*i,A=e.radius*e.radius;if(r>A)return null;const s=Math.sqrt(A-r),o=i-s,a=i+s;return a<0?null:this.at(o<0?a:o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,A,s,o,a;const c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),l>=0?(A=(e.min.y-h.y)*l,s=(e.max.y-h.y)*l):(A=(e.max.y-h.y)*l,s=(e.min.y-h.y)*l),i>s||A>r||((A>i||isNaN(i))&&(i=A),(s<r||isNaN(r))&&(r=s),u>=0?(o=(e.min.z-h.z)*u,a=(e.max.z-h.z)*u):(o=(e.max.z-h.z)*u,a=(e.min.z-h.z)*u),i>a||o>r)||((o>i||i!=i)&&(i=o),(a<r||r!=r)&&(r=a),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,Ld)}intersectTriangle(e,t,i,r,A){wP.subVectors(t,e),gx.subVectors(i,e),_P.crossVectors(wP,gx);let o,s=this.direction.dot(_P);if(s>0){if(r)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}Sm.subVectors(this.origin,e);const a=o*this.direction.dot(gx.crossVectors(Sm,gx));if(a<0)return null;const c=o*this.direction.dot(wP.cross(Sm));if(c<0||a+c>s)return null;const l=-o*Sm.dot(_P);return l<0?null:this.at(l/s,A)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Pi{constructor(e,t,i,r,A,s,o,a,c,l,u,h,g,f,d,m){Pi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,i,r,A,s,o,a,c,l,u,h,g,f,d,m)}set(e,t,i,r,A,s,o,a,c,l,u,h,g,f,d,m){const p=this.elements;return p[0]=e,p[4]=t,p[8]=i,p[12]=r,p[1]=A,p[5]=s,p[9]=o,p[13]=a,p[2]=c,p[6]=l,p[10]=u,p[14]=h,p[3]=g,p[7]=f,p[11]=d,p[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Pi).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/sv.setFromMatrixColumn(e,0).length(),A=1/sv.setFromMatrixColumn(e,1).length(),s=1/sv.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*A,t[5]=i[5]*A,t[6]=i[6]*A,t[7]=0,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,A=e.z,s=Math.cos(i),o=Math.sin(i),a=Math.cos(r),c=Math.sin(r),l=Math.cos(A),u=Math.sin(A);if("XYZ"===e.order){const h=s*l,g=s*u,f=o*l,d=o*u;t[0]=a*l,t[4]=-a*u,t[8]=c,t[1]=g+f*c,t[5]=h-d*c,t[9]=-o*a,t[2]=d-h*c,t[6]=f+g*c,t[10]=s*a}else if("YXZ"===e.order){const h=a*l,g=a*u,f=c*l,d=c*u;t[0]=h+d*o,t[4]=f*o-g,t[8]=s*c,t[1]=s*u,t[5]=s*l,t[9]=-o,t[2]=g*o-f,t[6]=d+h*o,t[10]=s*a}else if("ZXY"===e.order){const h=a*l,g=a*u,f=c*l,d=c*u;t[0]=h-d*o,t[4]=-s*u,t[8]=f+g*o,t[1]=g+f*o,t[5]=s*l,t[9]=d-h*o,t[2]=-s*c,t[6]=o,t[10]=s*a}else if("ZYX"===e.order){const h=s*l,g=s*u,f=o*l,d=o*u;t[0]=a*l,t[4]=f*c-g,t[8]=h*c+d,t[1]=a*u,t[5]=d*c+h,t[9]=g*c-f,t[2]=-c,t[6]=o*a,t[10]=s*a}else if("YZX"===e.order){const h=s*a,g=s*c,f=o*a,d=o*c;t[0]=a*l,t[4]=d-h*u,t[8]=f*u+g,t[1]=u,t[5]=s*l,t[9]=-o*l,t[2]=-c*l,t[6]=g*u+f,t[10]=h-d*u}else if("XZY"===e.order){const h=s*a,g=s*c,f=o*a,d=o*c;t[0]=a*l,t[4]=-u,t[8]=c*l,t[1]=h*u+d,t[5]=s*l,t[9]=g*u-f,t[2]=f*u-g,t[6]=o*l,t[10]=d*u+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(INe,e,BNe)}lookAt(e,t,i){const r=this.elements;return bu.subVectors(e,t),0===bu.lengthSq()&&(bu.z=1),bu.normalize(),Mm.crossVectors(i,bu),0===Mm.lengthSq()&&(1===Math.abs(i.z)?bu.x+=1e-4:bu.z+=1e-4,bu.normalize(),Mm.crossVectors(i,bu)),Mm.normalize(),hx.crossVectors(bu,Mm),r[0]=Mm.x,r[4]=hx.x,r[8]=bu.x,r[1]=Mm.y,r[5]=hx.y,r[9]=bu.y,r[2]=Mm.z,r[6]=hx.z,r[10]=bu.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,A=this.elements,s=i[0],o=i[4],a=i[8],c=i[12],l=i[1],u=i[5],h=i[9],g=i[13],f=i[2],d=i[6],m=i[10],p=i[14],I=i[3],C=i[7],B=i[11],y=i[15],E=r[0],b=r[4],S=r[8],w=r[12],M=r[1],D=r[5],T=r[9],O=r[13],G=r[2],W=r[6],k=r[10],L=r[14],J=r[3],H=r[7],ue=r[11],ye=r[15];return A[0]=s*E+o*M+a*G+c*J,A[4]=s*b+o*D+a*W+c*H,A[8]=s*S+o*T+a*k+c*ue,A[12]=s*w+o*O+a*L+c*ye,A[1]=l*E+u*M+h*G+g*J,A[5]=l*b+u*D+h*W+g*H,A[9]=l*S+u*T+h*k+g*ue,A[13]=l*w+u*O+h*L+g*ye,A[2]=f*E+d*M+m*G+p*J,A[6]=f*b+d*D+m*W+p*H,A[10]=f*S+d*T+m*k+p*ue,A[14]=f*w+d*O+m*L+p*ye,A[3]=I*E+C*M+B*G+y*J,A[7]=I*b+C*D+B*W+y*H,A[11]=I*S+C*T+B*k+y*ue,A[15]=I*w+C*O+B*L+y*ye,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],A=e[12],s=e[1],o=e[5],a=e[9],c=e[13],l=e[2],u=e[6],h=e[10],g=e[14];return e[3]*(+A*a*u-r*c*u-A*o*h+i*c*h+r*o*g-i*a*g)+e[7]*(+t*a*g-t*c*h+A*s*h-r*s*g+r*c*l-A*a*l)+e[11]*(+t*c*u-t*o*g-A*s*u+i*s*g+A*o*l-i*c*l)+e[15]*(-r*o*l-t*a*u+t*o*h+r*s*u-i*s*h+i*a*l)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],A=e[3],s=e[4],o=e[5],a=e[6],c=e[7],l=e[8],u=e[9],h=e[10],g=e[11],f=e[12],d=e[13],m=e[14],p=e[15],I=u*m*c-d*h*c+d*a*g-o*m*g-u*a*p+o*h*p,C=f*h*c-l*m*c-f*a*g+s*m*g+l*a*p-s*h*p,B=l*d*c-f*u*c+f*o*g-s*d*g-l*o*p+s*u*p,y=f*u*a-l*d*a-f*o*h+s*d*h+l*o*m-s*u*m,E=t*I+i*C+r*B+A*y;if(0===E)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/E;return e[0]=I*b,e[1]=(d*h*A-u*m*A-d*r*g+i*m*g+u*r*p-i*h*p)*b,e[2]=(o*m*A-d*a*A+d*r*c-i*m*c-o*r*p+i*a*p)*b,e[3]=(u*a*A-o*h*A-u*r*c+i*h*c+o*r*g-i*a*g)*b,e[4]=C*b,e[5]=(l*m*A-f*h*A+f*r*g-t*m*g-l*r*p+t*h*p)*b,e[6]=(f*a*A-s*m*A-f*r*c+t*m*c+s*r*p-t*a*p)*b,e[7]=(s*h*A-l*a*A+l*r*c-t*h*c-s*r*g+t*a*g)*b,e[8]=B*b,e[9]=(f*u*A-l*d*A-f*i*g+t*d*g+l*i*p-t*u*p)*b,e[10]=(s*d*A-f*o*A+f*i*c-t*d*c-s*i*p+t*o*p)*b,e[11]=(l*o*A-s*u*A-l*i*c+t*u*c+s*i*g-t*o*g)*b,e[12]=y*b,e[13]=(l*d*r-f*u*r+f*i*h-t*d*h-l*i*m+t*u*m)*b,e[14]=(f*o*r-s*d*r-f*i*a+t*d*a+s*i*m-t*o*m)*b,e[15]=(s*u*r-l*o*r+l*i*a-t*u*a-s*i*h+t*o*h)*b,this}scale(e){const t=this.elements,i=e.x,r=e.y,A=e.z;return t[0]*=i,t[4]*=r,t[8]*=A,t[1]*=i,t[5]*=r,t[9]*=A,t[2]*=i,t[6]*=r,t[10]*=A,t[3]*=i,t[7]*=r,t[11]*=A,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),A=1-i,s=e.x,o=e.y,a=e.z,c=A*s,l=A*o;return this.set(c*s+i,c*o-r*a,c*a+r*o,0,c*o+r*a,l*o+i,l*a-r*s,0,c*a-r*o,l*a+r*s,A*a*a+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,A,s){return this.set(1,i,A,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,A=t._x,s=t._y,o=t._z,a=t._w,c=A+A,l=s+s,u=o+o,h=A*c,g=A*l,f=A*u,d=s*l,m=s*u,p=o*u,I=a*c,C=a*l,B=a*u,y=i.x,E=i.y,b=i.z;return r[0]=(1-(d+p))*y,r[1]=(g+B)*y,r[2]=(f-C)*y,r[3]=0,r[4]=(g-B)*E,r[5]=(1-(h+p))*E,r[6]=(m+I)*E,r[7]=0,r[8]=(f+C)*b,r[9]=(m-I)*b,r[10]=(1-(h+d))*b,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let A=sv.set(r[0],r[1],r[2]).length();const s=sv.set(r[4],r[5],r[6]).length(),o=sv.set(r[8],r[9],r[10]).length();this.determinant()<0&&(A=-A),e.x=r[12],e.y=r[13],e.z=r[14],Bh.copy(this);const c=1/A,l=1/s,u=1/o;return Bh.elements[0]*=c,Bh.elements[1]*=c,Bh.elements[2]*=c,Bh.elements[4]*=l,Bh.elements[5]*=l,Bh.elements[6]*=l,Bh.elements[8]*=u,Bh.elements[9]*=u,Bh.elements[10]*=u,t.setFromRotationMatrix(Bh),i.x=A,i.y=s,i.z=o,this}makePerspective(e,t,i,r,A,s,o=Fd){const a=this.elements,c=2*A/(t-e),l=2*A/(i-r),u=(t+e)/(t-e),h=(i+r)/(i-r);let g,f;if(o===Fd)g=-(s+A)/(s-A),f=-2*s*A/(s-A);else{if(2001!==o)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);g=-s/(s-A),f=-s*A/(s-A)}return a[0]=c,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=g,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,A,s,o=Fd){const a=this.elements,c=1/(t-e),l=1/(i-r),u=1/(s-A),h=(t+e)*c,g=(i+r)*l;let f,d;if(o===Fd)f=(s+A)*u,d=-2*u;else{if(2001!==o)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);f=A*u,d=-1*u}return a[0]=2*c,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-g,a[2]=0,a[6]=0,a[10]=d,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const sv=new Ue,Bh=new Pi,INe=new Ue(0,0,0),BNe=new Ue(1,1,1),Mm=new Ue,hx=new Ue,bu=new Ue,DX=new Pi,bX=new rl;let Ud=(()=>{class n{constructor(t=0,i=0,r=0,A=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=A}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,A=this._order){return this._x=t,this._y=i,this._z=r,this._order=A,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const A=t.elements,s=A[0],o=A[4],a=A[8],c=A[1],l=A[5],u=A[9],h=A[2],g=A[6],f=A[10];switch(i){case"XYZ":this._y=Math.asin(ir(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(g,l),this._z=0);break;case"YXZ":this._x=Math.asin(-ir(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(ir(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-ir(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(g,f),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(ir(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-ir(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(g,l),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return DX.makeRotationFromQuaternion(t),this.setFromRotationMatrix(DX,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return bX.setFromEuler(this),this.setFromQuaternion(bX,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class DP{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return!!(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let ENe=0;const SX=new Ue,ov=new rl,Od=new Pi,fx=new Ue,s1=new Ue,vNe=new Ue,yNe=new rl,MX=new Ue(1,0,0),NX=new Ue(0,1,0),xX=new Ue(0,0,1),FX={type:"added"},QNe={type:"removed"},av={type:"childadded",child:null},bP={type:"childremoved",child:null};let Ss=(()=>{class n extends Rd{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ENe++}),this.uuid=Du(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new Ue,i=new Ud,r=new rl,A=new Ue(1,1,1);i._onChange(function s(){r.setFromEuler(i,!1)}),r._onChange(function o(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:A},modelViewMatrix:{value:new Pi},normalMatrix:{value:new pr}}),this.matrix=new Pi,this.matrixWorld=new Pi,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new DP,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return ov.setFromAxisAngle(t,i),this.quaternion.multiply(ov),this}rotateOnWorldAxis(t,i){return ov.setFromAxisAngle(t,i),this.quaternion.premultiply(ov),this}rotateX(t){return this.rotateOnAxis(MX,t)}rotateY(t){return this.rotateOnAxis(NX,t)}rotateZ(t){return this.rotateOnAxis(xX,t)}translateOnAxis(t,i){return SX.copy(t).applyQuaternion(this.quaternion),this.position.add(SX.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(MX,t)}translateY(t){return this.translateOnAxis(NX,t)}translateZ(t){return this.translateOnAxis(xX,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Od.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?fx.copy(t):fx.set(t,i,r);const A=this.parent;this.updateWorldMatrix(!0,!1),s1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Od.lookAt(s1,fx,this.up):Od.lookAt(fx,s1,this.up),this.quaternion.setFromRotationMatrix(Od),A&&(Od.extractRotation(A.matrixWorld),ov.setFromRotationMatrix(Od),this.quaternion.premultiply(ov.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(FX),av.child=t,this.dispatchEvent(av),av.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(QNe),bP.child=t,this.dispatchEvent(bP),bP.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Od.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Od.multiply(t.parent.matrixWorld)),t.applyMatrix4(Od),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(FX),av.child=t,this.dispatchEvent(av),av.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,A=this.children.length;r<A;r++){const o=this.children[r].getObjectByProperty(t,i);if(void 0!==o)return o}}getObjectsByProperty(t,i,r=[]){this[t]===i&&r.push(this);const A=this.children;for(let s=0,o=A.length;s<o;s++)A[s].getObjectsByProperty(t,i,r);return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(s1,t,vNe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(s1,yNe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,A=i.length;r<A;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,A=i.length;r<A;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,A=i.length;r<A;r++)i[r].updateMatrixWorld(t)}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===i){const A=this.children;for(let s=0,o=A.length;s<o;s++)A[s].updateWorldMatrix(!1,!0)}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const A={};function s(a,c){return void 0===a[c.uuid]&&(a[c.uuid]=c.toJSON(t)),c.uuid}if(A.uuid=this.uuid,A.type=this.type,""!==this.name&&(A.name=this.name),!0===this.castShadow&&(A.castShadow=!0),!0===this.receiveShadow&&(A.receiveShadow=!0),!1===this.visible&&(A.visible=!1),!1===this.frustumCulled&&(A.frustumCulled=!1),0!==this.renderOrder&&(A.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(A.userData=this.userData),A.layers=this.layers.mask,A.matrix=this.matrix.toArray(),A.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(A.matrixAutoUpdate=!1),this.isInstancedMesh&&(A.type="InstancedMesh",A.count=this.count,A.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(A.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(A.type="BatchedMesh",A.perObjectFrustumCulled=this.perObjectFrustumCulled,A.sortObjects=this.sortObjects,A.drawRanges=this._drawRanges,A.reservedRanges=this._reservedRanges,A.visibility=this._visibility,A.active=this._active,A.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),A.maxInstanceCount=this._maxInstanceCount,A.maxVertexCount=this._maxVertexCount,A.maxIndexCount=this._maxIndexCount,A.geometryInitialized=this._geometryInitialized,A.geometryCount=this._geometryCount,A.matricesTexture=this._matricesTexture.toJSON(t),null!==this._colorsTexture&&(A.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(A.boundingSphere={center:A.boundingSphere.center.toArray(),radius:A.boundingSphere.radius}),null!==this.boundingBox&&(A.boundingBox={min:A.boundingBox.min.toArray(),max:A.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?A.background=this.background.toJSON():this.background.isTexture&&(A.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(A.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){A.geometry=s(t.geometries,this.geometry);const a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){const c=a.shapes;if(Array.isArray(c))for(let l=0,u=c.length;l<u;l++)s(t.shapes,c[l]);else s(t.shapes,c)}}if(this.isSkinnedMesh&&(A.bindMode=this.bindMode,A.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(s(t.skeletons,this.skeleton),A.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const a=[];for(let c=0,l=this.material.length;c<l;c++)a.push(s(t.materials,this.material[c]));A.material=a}else A.material=s(t.materials,this.material);if(this.children.length>0){A.children=[];for(let a=0;a<this.children.length;a++)A.children.push(this.children[a].toJSON(t).object)}if(this.animations.length>0){A.animations=[];for(let a=0;a<this.animations.length;a++)A.animations.push(s(t.animations,this.animations[a]))}if(i){const a=o(t.geometries),c=o(t.materials),l=o(t.textures),u=o(t.images),h=o(t.shapes),g=o(t.skeletons),f=o(t.animations),d=o(t.nodes);a.length>0&&(r.geometries=a),c.length>0&&(r.materials=c),l.length>0&&(r.textures=l),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),g.length>0&&(r.skeletons=g),f.length>0&&(r.animations=f),d.length>0&&(r.nodes=d)}return r.object=A,r;function o(a){const c=[];for(const l in a){const u=a[l];delete u.metadata,c.push(u)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DEFAULT_UP=new Ue(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Eh=new Ue,Gd=new Ue,SP=new Ue,Pd=new Ue,lv=new Ue,uv=new Ue,RX=new Ue,MP=new Ue,NP=new Ue,xP=new Ue,FP=new DA,RP=new DA,TP=new DA;class Su{constructor(e=new Ue,t=new Ue,i=new Ue){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Eh.subVectors(e,t),r.cross(Eh);const A=r.lengthSq();return A>0?r.multiplyScalar(1/Math.sqrt(A)):r.set(0,0,0)}static getBarycoord(e,t,i,r,A){Eh.subVectors(r,t),Gd.subVectors(i,t),SP.subVectors(e,t);const s=Eh.dot(Eh),o=Eh.dot(Gd),a=Eh.dot(SP),c=Gd.dot(Gd),l=Gd.dot(SP),u=s*c-o*o;if(0===u)return A.set(0,0,0),null;const h=1/u,g=(c*a-o*l)*h,f=(s*l-o*a)*h;return A.set(1-g-f,f,g)}static containsPoint(e,t,i,r){return null!==this.getBarycoord(e,t,i,r,Pd)&&Pd.x>=0&&Pd.y>=0&&Pd.x+Pd.y<=1}static getInterpolation(e,t,i,r,A,s,o,a){return null===this.getBarycoord(e,t,i,r,Pd)?(a.x=0,a.y=0,"z"in a&&(a.z=0),"w"in a&&(a.w=0),null):(a.setScalar(0),a.addScaledVector(A,Pd.x),a.addScaledVector(s,Pd.y),a.addScaledVector(o,Pd.z),a)}static getInterpolatedAttribute(e,t,i,r,A,s){return FP.setScalar(0),RP.setScalar(0),TP.setScalar(0),FP.fromBufferAttribute(e,t),RP.fromBufferAttribute(e,i),TP.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(FP,A.x),s.addScaledVector(RP,A.y),s.addScaledVector(TP,A.z),s}static isFrontFacing(e,t,i,r){return Eh.subVectors(i,t),Gd.subVectors(e,t),Eh.cross(Gd).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Eh.subVectors(this.c,this.b),Gd.subVectors(this.a,this.b),.5*Eh.cross(Gd).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Su.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Su.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,A){return Su.getInterpolation(e,this.a,this.b,this.c,t,i,r,A)}containsPoint(e){return Su.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Su.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,A=this.c;let s,o;lv.subVectors(r,i),uv.subVectors(A,i),MP.subVectors(e,i);const a=lv.dot(MP),c=uv.dot(MP);if(a<=0&&c<=0)return t.copy(i);NP.subVectors(e,r);const l=lv.dot(NP),u=uv.dot(NP);if(l>=0&&u<=l)return t.copy(r);const h=a*u-l*c;if(h<=0&&a>=0&&l<=0)return s=a/(a-l),t.copy(i).addScaledVector(lv,s);xP.subVectors(e,A);const g=lv.dot(xP),f=uv.dot(xP);if(f>=0&&g<=f)return t.copy(A);const d=g*c-a*f;if(d<=0&&c>=0&&f<=0)return o=c/(c-f),t.copy(i).addScaledVector(uv,o);const m=l*f-g*u;if(m<=0&&u-l>=0&&g-f>=0)return RX.subVectors(A,r),o=(u-l)/(u-l+(g-f)),t.copy(r).addScaledVector(RX,o);const p=1/(m+d+h);return s=d*p,o=h*p,t.copy(i).addScaledVector(lv,s).addScaledVector(uv,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const TX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Nm={h:0,s:0,l:0},dx={h:0,s:0,l:0};function kP(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Wn{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(void 0===t&&void 0===i){const r=e;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=_u){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,BA.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=BA.workingColorSpace){return this.r=e,this.g=t,this.b=i,BA.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=BA.workingColorSpace){if(e=function mP(n,e){return(n%e+e)%e}(e,1),t=ir(t,0,1),i=ir(i,0,1),0===t)this.r=this.g=this.b=i;else{const A=i<=.5?i*(1+t):i+t-i*t,s=2*i-A;this.r=kP(s,A,e+1/3),this.g=kP(s,A,e),this.b=kP(s,A,e-1/3)}return BA.toWorkingColorSpace(this,r),this}setStyle(e,t=_u){function i(A){void 0!==A&&parseFloat(A)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let A;const o=r[2];switch(r[1]){case"rgb":case"rgba":if(A=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(A[4]),this.setRGB(Math.min(255,parseInt(A[1],10))/255,Math.min(255,parseInt(A[2],10))/255,Math.min(255,parseInt(A[3],10))/255,t);if(A=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(A[4]),this.setRGB(Math.min(100,parseInt(A[1],10))/100,Math.min(100,parseInt(A[2],10))/100,Math.min(100,parseInt(A[3],10))/100,t);break;case"hsl":case"hsla":if(A=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(A[4]),this.setHSL(parseFloat(A[1])/360,parseFloat(A[2])/100,parseFloat(A[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const A=r[1],s=A.length;if(3===s)return this.setRGB(parseInt(A.charAt(0),16)/15,parseInt(A.charAt(1),16)/15,parseInt(A.charAt(2),16)/15,t);if(6===s)return this.setHex(parseInt(A,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=_u){const i=TX[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Td(e.r),this.g=Td(e.g),this.b=Td(e.b),this}copyLinearToSRGB(e){return this.r=$0(e.r),this.g=$0(e.g),this.b=$0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=_u){return BA.fromWorkingColorSpace(vc.copy(this),e),65536*Math.round(ir(255*vc.r,0,255))+256*Math.round(ir(255*vc.g,0,255))+Math.round(ir(255*vc.b,0,255))}getHexString(e=_u){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=BA.workingColorSpace){BA.fromWorkingColorSpace(vc.copy(this),t);const i=vc.r,r=vc.g,A=vc.b,s=Math.max(i,r,A),o=Math.min(i,r,A);let a,c;const l=(o+s)/2;if(o===s)a=0,c=0;else{const u=s-o;switch(c=l<=.5?u/(s+o):u/(2-s-o),s){case i:a=(r-A)/u+(r<A?6:0);break;case r:a=(A-i)/u+2;break;case A:a=(i-r)/u+4}a/=6}return e.h=a,e.s=c,e.l=l,e}getRGB(e,t=BA.workingColorSpace){return BA.fromWorkingColorSpace(vc.copy(this),t),e.r=vc.r,e.g=vc.g,e.b=vc.b,e}getStyle(e=_u){BA.fromWorkingColorSpace(vc.copy(this),e);const t=vc.r,i=vc.g,r=vc.b;return e!==_u?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(e,t,i){return this.getHSL(Nm),this.setHSL(Nm.h+e,Nm.s+t,Nm.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Nm),e.getHSL(dx);const i=n1(Nm.h,dx.h,t),r=n1(Nm.s,dx.s,t),A=n1(Nm.l,dx.l,t);return this.setHSL(i,r,A),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,A=e.elements;return this.r=A[0]*t+A[3]*i+A[6]*r,this.g=A[1]*t+A[4]*i+A[7]*r,this.b=A[2]*t+A[5]*i+A[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const vc=new Wn;Wn.NAMES=TX;let wNe=0;class sl extends Rd{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:wNe++}),this.uuid=Du(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Wn(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=W0,this.stencilZFail=W0,this.stencilZPass=W0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(A){const s=[];for(const o in A){const a=A[o];delete a.metadata,s.push(a)}return s}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(i.dispersion=this.dispersion),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapRotation&&(i.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),!0===this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=!0),204!==this.blendSrc&&(i.blendSrc=this.blendSrc),205!==this.blendDst&&(i.blendDst=this.blendDst),100!==this.blendEquation&&(i.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(i.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(i.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(i.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(i.depthFunc=this.depthFunc),!1===this.depthTest&&(i.depthTest=this.depthTest),!1===this.depthWrite&&(i.depthWrite=this.depthWrite),!1===this.colorWrite&&(i.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(i.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(i.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(i.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==W0&&(i.stencilFail=this.stencilFail),this.stencilZFail!==W0&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==W0&&(i.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(i.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=!0),!0===this.alphaToCoverage&&(i.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=!0),!0===this.forceSinglePass&&(i.forceSinglePass=!0),!0===this.wireframe&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const A=r(e.textures),s=r(e.images);A.length>0&&(i.textures=A),s.length>0&&(i.images=s)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let A=0;A!==r;++A)i[A]=t[A].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Hd extends sl{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Wn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ud,this.combine=qN,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Po=new Ue,px=new $t;class gs{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRanges=[],this.gpuType=wu,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,A=this.itemSize;r<A;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)px.fromBufferAttribute(this,t),px.applyMatrix3(e),this.setXY(t,px.x,px.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)Po.fromBufferAttribute(this,t),Po.applyMatrix3(e),this.setXYZ(t,Po.x,Po.y,Po.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Po.fromBufferAttribute(this,t),Po.applyMatrix4(e),this.setXYZ(t,Po.x,Po.y,Po.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Po.fromBufferAttribute(this,t),Po.applyNormalMatrix(e),this.setXYZ(t,Po.x,Po.y,Po.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Po.fromBufferAttribute(this,t),Po.transformDirection(e),this.setXYZ(t,Po.x,Po.y,Po.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=il(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=dr(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=il(t,this.array)),t}setX(e,t){return this.normalized&&(t=dr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=il(t,this.array)),t}setY(e,t){return this.normalized&&(t=dr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=il(t,this.array)),t}setZ(e,t){return this.normalized&&(t=dr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=il(t,this.array)),t}setW(e,t){return this.normalized&&(t=dr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=dr(t,this.array),i=dr(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=dr(t,this.array),i=dr(i,this.array),r=dr(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,A){return e*=this.itemSize,this.normalized&&(t=dr(t,this.array),i=dr(i,this.array),r=dr(r,this.array),A=dr(A,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=A,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class kX extends gs{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class LX extends gs{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class oi extends gs{constructor(e,t,i){super(new Float32Array(e),t,i)}}let DNe=0;const ug=new Pi,LP=new Ss,gv=new Ue,Mu=new Gl,a1=new Gl,_a=new Ue;class Dr extends Rd{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:DNe++}),this.uuid=Du(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(EX(e)?LX:kX)(e,1):e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const A=(new pr).getNormalMatrix(e);i.applyNormalMatrix(A),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ug.makeRotationFromQuaternion(e),this.applyMatrix4(ug),this}rotateX(e){return ug.makeRotationX(e),this.applyMatrix4(ug),this}rotateY(e){return ug.makeRotationY(e),this.applyMatrix4(ug),this}rotateZ(e){return ug.makeRotationZ(e),this.applyMatrix4(ug),this}translate(e,t,i){return ug.makeTranslation(e,t,i),this.applyMatrix4(ug),this}scale(e,t,i){return ug.makeScale(e,t,i),this.applyMatrix4(ug),this}lookAt(e){return LP.lookAt(e),LP.updateMatrix(),this.applyMatrix4(LP.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(gv).negate(),this.translate(gv.x,gv.y,gv.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const i=[];for(let r=0,A=e.length;r<A;r++){const s=e[r];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new oi(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const A=e[r];t.setXYZ(r,A.x,A.y,A.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Gl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Ue(-1/0,-1/0,-1/0),new Ue(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)Mu.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(_a.addVectors(this.boundingBox.min,Mu.min),this.boundingBox.expandByPoint(_a),_a.addVectors(this.boundingBox.max,Mu.max),this.boundingBox.expandByPoint(_a)):(this.boundingBox.expandByPoint(Mu.min),this.boundingBox.expandByPoint(Mu.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Al);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Ue,1/0);if(e){const i=this.boundingSphere.center;if(Mu.setFromBufferAttribute(e),t)for(let A=0,s=t.length;A<s;A++)a1.setFromBufferAttribute(t[A]),this.morphTargetsRelative?(_a.addVectors(Mu.min,a1.min),Mu.expandByPoint(_a),_a.addVectors(Mu.max,a1.max),Mu.expandByPoint(_a)):(Mu.expandByPoint(a1.min),Mu.expandByPoint(a1.max));Mu.getCenter(i);let r=0;for(let A=0,s=e.count;A<s;A++)_a.fromBufferAttribute(e,A),r=Math.max(r,i.distanceToSquared(_a));if(t)for(let A=0,s=t.length;A<s;A++){const o=t[A],a=this.morphTargetsRelative;for(let c=0,l=o.count;c<l;c++)_a.fromBufferAttribute(o,c),a&&(gv.fromBufferAttribute(e,c),_a.add(gv)),r=Math.max(r,i.distanceToSquared(_a))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=t.position,r=t.normal,A=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new gs(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),o=[],a=[];for(let S=0;S<i.count;S++)o[S]=new Ue,a[S]=new Ue;const c=new Ue,l=new Ue,u=new Ue,h=new $t,g=new $t,f=new $t,d=new Ue,m=new Ue;function p(S,w,M){c.fromBufferAttribute(i,S),l.fromBufferAttribute(i,w),u.fromBufferAttribute(i,M),h.fromBufferAttribute(A,S),g.fromBufferAttribute(A,w),f.fromBufferAttribute(A,M),l.sub(c),u.sub(c),g.sub(h),f.sub(h);const D=1/(g.x*f.y-f.x*g.y);isFinite(D)&&(d.copy(l).multiplyScalar(f.y).addScaledVector(u,-g.y).multiplyScalar(D),m.copy(u).multiplyScalar(g.x).addScaledVector(l,-f.x).multiplyScalar(D),o[S].add(d),o[w].add(d),o[M].add(d),a[S].add(m),a[w].add(m),a[M].add(m))}let I=this.groups;0===I.length&&(I=[{start:0,count:e.count}]);for(let S=0,w=I.length;S<w;++S){const M=I[S],D=M.start;for(let O=D,G=D+M.count;O<G;O+=3)p(e.getX(O+0),e.getX(O+1),e.getX(O+2))}const C=new Ue,B=new Ue,y=new Ue,E=new Ue;function b(S){y.fromBufferAttribute(r,S),E.copy(y);const w=o[S];C.copy(w),C.sub(y.multiplyScalar(y.dot(w))).normalize(),B.crossVectors(E,w);const D=B.dot(a[S])<0?-1:1;s.setXYZW(S,C.x,C.y,C.z,D)}for(let S=0,w=I.length;S<w;++S){const M=I[S],D=M.start;for(let O=D,G=D+M.count;O<G;O+=3)b(e.getX(O+0)),b(e.getX(O+1)),b(e.getX(O+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new gs(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let h=0,g=i.count;h<g;h++)i.setXYZ(h,0,0,0);const r=new Ue,A=new Ue,s=new Ue,o=new Ue,a=new Ue,c=new Ue,l=new Ue,u=new Ue;if(e)for(let h=0,g=e.count;h<g;h+=3){const f=e.getX(h+0),d=e.getX(h+1),m=e.getX(h+2);r.fromBufferAttribute(t,f),A.fromBufferAttribute(t,d),s.fromBufferAttribute(t,m),l.subVectors(s,A),u.subVectors(r,A),l.cross(u),o.fromBufferAttribute(i,f),a.fromBufferAttribute(i,d),c.fromBufferAttribute(i,m),o.add(l),a.add(l),c.add(l),i.setXYZ(f,o.x,o.y,o.z),i.setXYZ(d,a.x,a.y,a.z),i.setXYZ(m,c.x,c.y,c.z)}else for(let h=0,g=t.count;h<g;h+=3)r.fromBufferAttribute(t,h+0),A.fromBufferAttribute(t,h+1),s.fromBufferAttribute(t,h+2),l.subVectors(s,A),u.subVectors(r,A),l.cross(u),i.setXYZ(h+0,l.x,l.y,l.z),i.setXYZ(h+1,l.x,l.y,l.z),i.setXYZ(h+2,l.x,l.y,l.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)_a.fromBufferAttribute(e,t),_a.normalize(),e.setXYZ(t,_a.x,_a.y,_a.z)}toNonIndexed(){function e(o,a){const c=o.array,l=o.itemSize,u=o.normalized,h=new c.constructor(a.length*l);let g=0,f=0;for(let d=0,m=a.length;d<m;d++){g=o.isInterleavedBufferAttribute?a[d]*o.data.stride+o.offset:a[d]*l;for(let p=0;p<l;p++)h[f++]=c[g++]}return new gs(h,l,u)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Dr,i=this.index.array,r=this.attributes;for(const o in r){const c=e(r[o],i);t.setAttribute(o,c)}const A=this.morphAttributes;for(const o in A){const a=[],c=A[o];for(let l=0,u=c.length;l<u;l++){const g=e(c[l],i);a.push(g)}t.morphAttributes[o]=a}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,a=s.length;o<a;o++){const c=s[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const a=this.parameters;for(const c in a)void 0!==a[c]&&(e[c]=a[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const a in i)e.data.attributes[a]=i[a].toJSON(e.data);const r={};let A=!1;for(const a in this.morphAttributes){const c=this.morphAttributes[a],l=[];for(let u=0,h=c.length;u<h;u++)l.push(c[u].toJSON(e.data));l.length>0&&(r[a]=l,A=!0)}A&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r)this.setAttribute(c,r[c].clone(t));const A=e.morphAttributes;for(const c in A){const l=[],u=A[c];for(let h=0,g=u.length;h<g;h++)l.push(u[h].clone(t));this.morphAttributes[c]=l}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,l=s.length;c<l;c++){const u=s[c];this.addGroup(u.start,u.count,u.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const a=e.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const UX=new Pi,OI=new Av,mx=new Al,OX=new Ue,Cx=new Ue,Ix=new Ue,Bx=new Ue,UP=new Ue,Ex=new Ue,GX=new Ue,vx=new Ue;class wo extends Ss{constructor(e=new Dr,t=new Hd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let A=0,s=r.length;A<s;A++){const o=r[A].name||String(A);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=A}}}}getVertexPosition(e,t){const i=this.geometry,A=i.morphAttributes.position,s=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const o=this.morphTargetInfluences;if(A&&o){Ex.set(0,0,0);for(let a=0,c=A.length;a<c;a++){const l=o[a];0!==l&&(UP.fromBufferAttribute(A[a],e),Ex.addScaledVector(s?UP:UP.sub(t),l))}t.add(Ex)}return t}raycast(e,t){const i=this.geometry,A=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),mx.copy(i.boundingSphere),mx.applyMatrix4(A),OI.copy(e.ray).recast(e.near),(!1!==mx.containsPoint(OI.origin)||!(null===OI.intersectSphere(mx,OX)||OI.origin.distanceToSquared(OX)>(e.far-e.near)**2))&&(UX.copy(A).invert(),OI.copy(e.ray).applyMatrix4(UX),(null===i.boundingBox||!1!==OI.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t,OI)))}_computeIntersections(e,t,i){let r;const A=this.geometry,s=this.material,o=A.index,a=A.attributes.position,c=A.attributes.uv,l=A.attributes.uv1,u=A.attributes.normal,h=A.groups,g=A.drawRange;if(null!==o)if(Array.isArray(s))for(let f=0,d=h.length;f<d;f++){const m=h[f],p=s[m.materialIndex];for(let B=Math.max(m.start,g.start),y=Math.min(o.count,Math.min(m.start+m.count,g.start+g.count));B<y;B+=3)r=yx(this,p,e,i,c,l,u,o.getX(B),o.getX(B+1),o.getX(B+2)),r&&(r.faceIndex=Math.floor(B/3),r.face.materialIndex=m.materialIndex,t.push(r))}else for(let m=Math.max(0,g.start),p=Math.min(o.count,g.start+g.count);m<p;m+=3)r=yx(this,s,e,i,c,l,u,o.getX(m),o.getX(m+1),o.getX(m+2)),r&&(r.faceIndex=Math.floor(m/3),t.push(r));else if(void 0!==a)if(Array.isArray(s))for(let f=0,d=h.length;f<d;f++){const m=h[f],p=s[m.materialIndex];for(let B=Math.max(m.start,g.start),y=Math.min(a.count,Math.min(m.start+m.count,g.start+g.count));B<y;B+=3)r=yx(this,p,e,i,c,l,u,B,B+1,B+2),r&&(r.faceIndex=Math.floor(B/3),r.face.materialIndex=m.materialIndex,t.push(r))}else for(let m=Math.max(0,g.start),p=Math.min(a.count,g.start+g.count);m<p;m+=3)r=yx(this,s,e,i,c,l,u,m,m+1,m+2),r&&(r.faceIndex=Math.floor(m/3),t.push(r))}}function yx(n,e,t,i,r,A,s,o,a,c){n.getVertexPosition(o,Cx),n.getVertexPosition(a,Ix),n.getVertexPosition(c,Bx);const l=function bNe(n,e,t,i,r,A,s,o){let a;if(a=1===e.side?i.intersectTriangle(s,A,r,!0,o):i.intersectTriangle(r,A,s,0===e.side,o),null===a)return null;vx.copy(o),vx.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(vx);return c<t.near||c>t.far?null:{distance:c,point:vx.clone(),object:n}}(n,e,t,i,Cx,Ix,Bx,GX);if(l){const u=new Ue;Su.getBarycoord(GX,Cx,Ix,Bx,u),r&&(l.uv=Su.getInterpolatedAttribute(r,o,a,c,u,new $t)),A&&(l.uv1=Su.getInterpolatedAttribute(A,o,a,c,u,new $t)),s&&(l.normal=Su.getInterpolatedAttribute(s,o,a,c,u,new Ue),l.normal.dot(i.direction)>0&&l.normal.multiplyScalar(-1));const h={a:o,b:a,c,normal:new Ue,materialIndex:0};Su.getNormal(Cx,Ix,Bx,h.normal),l.face=h,l.barycoord=u}return l}class hv extends Dr{constructor(e=1,t=1,i=1,r=1,A=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:A,depthSegments:s};const o=this;r=Math.floor(r),A=Math.floor(A),s=Math.floor(s);const a=[],c=[],l=[],u=[];let h=0,g=0;function f(d,m,p,I,C,B,y,E,b,S,w){const M=B/b,D=y/S,T=B/2,O=y/2,G=E/2,W=b+1,k=S+1;let L=0,J=0;const H=new Ue;for(let ue=0;ue<k;ue++){const ye=ue*D-O;for(let K=0;K<W;K++)H[d]=(K*M-T)*I,H[m]=ye*C,H[p]=G,c.push(H.x,H.y,H.z),H[d]=0,H[m]=0,H[p]=E>0?1:-1,l.push(H.x,H.y,H.z),u.push(K/b),u.push(1-ue/S),L+=1}for(let ue=0;ue<S;ue++)for(let ye=0;ye<b;ye++){const z=h+ye+W*(ue+1),Z=h+(ye+1)+W*(ue+1),le=h+(ye+1)+W*ue;a.push(h+ye+W*ue,z,le),a.push(z,Z,le),J+=6}o.addGroup(g,J,w),g+=J,h+=L}f("z","y","x",-1,-1,i,t,e,s,A,0),f("z","y","x",1,-1,i,t,-e,s,A,1),f("x","z","y",1,1,e,i,t,r,s,2),f("x","z","y",1,-1,e,i,-t,r,s,3),f("x","y","z",1,-1,e,t,i,r,A,4),f("x","y","z",-1,-1,e,t,-i,r,A,5),this.setIndex(a),this.setAttribute("position",new oi(c,3)),this.setAttribute("normal",new oi(l,3)),this.setAttribute("uv",new oi(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hv(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function fv(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():e[t][i]=Array.isArray(r)?r.slice():r}}return e}function ol(n){const e={};for(let t=0;t<n.length;t++){const i=fv(n[t]);for(const r in i)e[r]=i[r]}return e}function PX(n){const e=n.getRenderTarget();return null===e?n.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:BA.workingColorSpace}const MNe={clone:fv,merge:ol};class Ef extends sl{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=fv(e.uniforms),this.uniformsGroups=function SNe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;t.uniforms[r]=s&&s.isTexture?{type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?{type:"c",value:s.getHex()}:s&&s.isVector2?{type:"v2",value:s.toArray()}:s&&s.isVector3?{type:"v3",value:s.toArray()}:s&&s.isVector4?{type:"v4",value:s.toArray()}:s&&s.isMatrix3?{type:"m3",value:s.toArray()}:s&&s.isMatrix4?{type:"m4",value:s.toArray()}:{value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class OP extends Ss{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pi,this.projectionMatrix=new Pi,this.projectionMatrixInverse=new Pi,this.coordinateSystem=Fd}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const xm=new Ue,HX=new $t,YX=new $t;class Za extends OP{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*j0*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*kI*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*j0*Math.atan(Math.tan(.5*kI*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){xm.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(xm.x,xm.y).multiplyScalar(-e/xm.z),xm.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(xm.x,xm.y).multiplyScalar(-e/xm.z)}getViewSize(e,t){return this.getViewBounds(e,HX,YX),t.subVectors(YX,HX)}setViewOffset(e,t,i,r,A,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=A,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*kI*this.fov)/this.zoom,i=2*t,r=this.aspect*i,A=-.5*r;const s=this.view;if(null!==this.view&&this.view.enabled){const a=s.fullWidth,c=s.fullHeight;A+=s.offsetX*r/a,t-=s.offsetY*i/c,r*=s.width/a,i*=s.height/c}const o=this.filmOffset;0!==o&&(A+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(A,A+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class FNe extends Ss{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Za(-90,1,e,t);r.layers=this.layers,this.add(r);const A=new Za(-90,1,e,t);A.layers=this.layers,this.add(A);const s=new Za(-90,1,e,t);s.layers=this.layers,this.add(s);const o=new Za(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new Za(-90,1,e,t);a.layers=this.layers,this.add(a);const c=new Za(-90,1,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,A,s,o,a]=t;for(const c of t)this.remove(c);if(e===Fd)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),A.up.set(0,0,-1),A.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),a.up.set(0,1,0),a.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),A.up.set(0,0,1),A.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),a.up.set(0,-1,0),a.lookAt(0,0,-1)}for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[A,s,o,a,c,l]=this.children,u=e.getRenderTarget(),h=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),f=e.xr.enabled;e.xr.enabled=!1;const d=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,A),e.setRenderTarget(i,1,r),e.render(t,s),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,a),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=d,e.setRenderTarget(i,5,r),e.render(t,l),e.setRenderTarget(u,h,g),e.xr.enabled=f,i.texture.needsPMREMUpdate=!0}}class Qx extends Ol{constructor(e,t,i,r,A,s,o,a,c,l){super(e=void 0!==e?e:[],t=void 0!==t?t:Qm,i,r,A,s,o,a,c,l),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class RNe extends Bf{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1};this.texture=new Qx([i,i,i,i,i,i],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:wa}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new hv(5,5,5),A=new Ef({name:"CubemapFromEquirect",uniforms:fv(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});A.uniforms.tEquirect.value=t;const s=new wo(r,A),o=t.minFilter;return t.minFilter===Nd&&(t.minFilter=wa),new FNe(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,i,r){const A=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,i,r);e.setRenderTarget(A)}}class KX extends Ss{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ud,this.environmentIntensity=1,this.environmentRotation=new Ud,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}const VP=new Ue,HNe=new Ue,YNe=new pr;class Fm{constructor(e=new Ue(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=VP.subVectors(i,t).cross(HNe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(VP),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const A=-(e.start.dot(this.normal)+this.constant)/r;return A<0||A>1?null:t.copy(e.start).addScaledVector(i,A)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||YNe.getNormalMatrix(e),r=this.coplanarPoint(VP).applyMatrix4(e),A=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(A),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const GI=new Al,Nx=new Ue;class xx{constructor(e=new Fm,t=new Fm,i=new Fm,r=new Fm,A=new Fm,s=new Fm){this.planes=[e,t,i,r,A,s]}set(e,t,i,r,A,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(A),o[5].copy(s),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Fd){const i=this.planes,r=e.elements,A=r[0],s=r[1],o=r[2],a=r[3],c=r[4],l=r[5],u=r[6],h=r[7],g=r[8],f=r[9],d=r[10],m=r[11],p=r[12],I=r[13],C=r[14],B=r[15];if(i[0].setComponents(a-A,h-c,m-g,B-p).normalize(),i[1].setComponents(a+A,h+c,m+g,B+p).normalize(),i[2].setComponents(a+s,h+l,m+f,B+I).normalize(),i[3].setComponents(a-s,h-l,m-f,B-I).normalize(),i[4].setComponents(a-o,h-u,m-d,B-C).normalize(),t===Fd)i[5].setComponents(a+o,h+u,m+d,B+C).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);i[5].setComponents(o,u,d,C).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),GI.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),GI.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(GI)}intersectsSprite(e){return GI.center.set(0,0,0),GI.radius=.7071067811865476,GI.applyMatrix4(e.matrixWorld),this.intersectsSphere(GI)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let A=0;A<6;A++)if(t[A].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Nx.x=r.normal.x>0?e.max.x:e.min.x,Nx.y=r.normal.y>0?e.max.y:e.min.y,Nx.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Nx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}class m1 extends Ss{constructor(){super(),this.isGroup=!0,this.type="Group"}}class h$ extends Ol{constructor(e,t,i,r,A,s,o,a,c,l=K0){if(l!==K0&&l!==q0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&l===K0&&(i=wm),void 0===i&&l===q0&&(i=Y0),super(null,r,A,s,o,a,l,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:Bc,this.minFilter=void 0!==a?a:Bc,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class KI extends Dr{constructor(e=1,t=1,i=1,r=32,A=1,s=!1,o=0,a=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:A,openEnded:s,thetaStart:o,thetaLength:a};const c=this;r=Math.floor(r),A=Math.floor(A);const l=[],u=[],h=[],g=[];let f=0;const d=[],m=i/2;let p=0;function C(B){const y=f,E=new $t,b=new Ue;let S=0;const w=!0===B?e:t,M=!0===B?1:-1;for(let T=1;T<=r;T++)u.push(0,m*M,0),h.push(0,M,0),g.push(.5,.5),f++;const D=f;for(let T=0;T<=r;T++){const G=T/r*a+o,W=Math.cos(G),k=Math.sin(G);b.x=w*k,b.y=m*M,b.z=w*W,u.push(b.x,b.y,b.z),h.push(0,M,0),E.x=.5*W+.5,E.y=.5*k*M+.5,g.push(E.x,E.y),f++}for(let T=0;T<r;T++){const O=y+T,G=D+T;!0===B?l.push(G,G+1,O):l.push(G+1,G,O),S+=3}c.addGroup(p,S,!0===B?1:2),p+=S}(function I(){const B=new Ue,y=new Ue;let E=0;const b=(t-e)/i;for(let S=0;S<=A;S++){const w=[],M=S/A,D=M*(t-e)+e;for(let T=0;T<=r;T++){const O=T/r,G=O*a+o,W=Math.sin(G),k=Math.cos(G);y.x=D*W,y.y=-M*i+m,y.z=D*k,u.push(y.x,y.y,y.z),B.set(W,b,k).normalize(),h.push(B.x,B.y,B.z),g.push(O,1-M),w.push(f++)}d.push(w)}for(let S=0;S<r;S++)for(let w=0;w<A;w++){const D=d[w+1][S],T=d[w+1][S+1],O=d[w][S+1];(e>0||0!==w)&&(l.push(d[w][S],D,O),E+=3),(t>0||w!==A-1)&&(l.push(D,T,O),E+=3)}c.addGroup(p,E,0),p+=E})(),!1===s&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(l),this.setAttribute("position",new oi(u,3)),this.setAttribute("normal",new oi(h,3)),this.setAttribute("uv",new oi(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new KI(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class y1 extends Dr{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const A=e/2,s=t/2,o=Math.floor(i),a=Math.floor(r),c=o+1,l=a+1,u=e/o,h=t/a,g=[],f=[],d=[],m=[];for(let p=0;p<l;p++){const I=p*h-s;for(let C=0;C<c;C++)f.push(C*u-A,-I,0),d.push(0,0,1),m.push(C/o),m.push(1-p/a)}for(let p=0;p<a;p++)for(let I=0;I<o;I++){const B=I+c*(p+1),y=I+1+c*(p+1),E=I+1+c*p;g.push(I+c*p,B,E),g.push(B,y,E)}this.setIndex(g),this.setAttribute("position",new oi(f,3)),this.setAttribute("normal",new oi(d,3)),this.setAttribute("uv",new oi(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new y1(e.width,e.height,e.widthSegments,e.heightSegments)}}class S$ extends sl{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class M$ extends sl{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function VI(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}class $x{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],A=t[i-1];e:{t:{let s;n:{r:if(!(e<r)){for(let o=i+2;;){if(void 0===r){if(e<A)break r;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(A=r,r=t[++i],e<r)break t}s=t.length;break n}if(e>=A)break e;{const o=t[1];e<o&&(i=2,A=o);for(let a=i-2;;){if(void 0===A)return this._cachedIndex=0,this.copySampleValue_(0);if(i===a)break;if(r=A,A=t[--i-1],e>=A)break t}s=i,i=0}}for(;i<s;){const o=i+s>>>1;e<t[o]?s=o:i=o+1}if(r=t[i],A=t[i-1],void 0===A)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,A,r)}return this.interpolate_(i,A,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,A=e*r;for(let s=0;s!==r;++s)t[s]=i[A+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Kxe extends $x{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const r=this.parameterPositions;let A=e-2,s=e+1,o=r[A],a=r[s];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:A=e,o=2*t-i;break;case 2402:A=r.length-2,o=t+r[A]-r[A+1];break;default:A=e,o=i}if(void 0===a)switch(this.getSettings_().endingEnd){case 2401:s=e,a=2*i-t;break;case 2402:s=1,a=i+r[1]-r[0];break;default:s=e-1,a=t}const c=.5*(i-t),l=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(a-i),this._offsetPrev=A*l,this._offsetNext=s*l}interpolate_(e,t,i,r){const A=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,c=a-o,l=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,g=this._weightNext,f=(i-t)/(r-t),d=f*f,m=d*f,p=-h*m+2*h*d-h*f,I=(1+h)*m+(-1.5-2*h)*d+(-.5+h)*f+1,C=(-1-g)*m+(1.5+g)*d+.5*f,B=g*m-g*d;for(let y=0;y!==o;++y)A[y]=p*s[l+y]+I*s[c+y]+C*s[a+y]+B*s[u+y];return A}}class F$ extends $x{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const A=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=e*o,c=a-o,l=(i-t)/(r-t),u=1-l;for(let h=0;h!==o;++h)A[h]=s[c+h]*u+s[a+h]*l;return A}}class qxe extends $x{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class yf{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=VI(t,this.TimeBufferType),this.values=VI(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:VI(e.times,Array),values:VI(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new qxe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new F$(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Kxe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let A=0,s=r-1;for(;A!==r&&i[A]<e;)++A;for(;-1!==s&&i[s]>t;)--s;if(++s,0!==A||s!==r){A>=s&&(s=Math.max(s,1),A=s-1);const o=this.getValueSize();this.times=i.slice(A,s),this.values=this.values.slice(A*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,A=i.length;0===A&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==A;o++){const a=i[o];if("number"==typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,a),e=!1;break}if(null!==s&&s>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,a,s),e=!1;break}s=a}if(void 0!==r&&function N$(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(r))for(let o=0,a=r.length;o!==a;++o){const c=r[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=2302===this.getInterpolation(),A=e.length-1;let s=1;for(let o=1;o<A;++o){let a=!1;const c=e[o];if(c!==e[o+1]&&(1!==o||c!==e[0]))if(r)a=!0;else{const u=o*i,h=u-i,g=u+i;for(let f=0;f!==i;++f){const d=t[u+f];if(d!==t[h+f]||d!==t[g+f]){a=!0;break}}}if(a){if(o!==s){e[s]=e[o];const u=o*i,h=s*i;for(let g=0;g!==i;++g)t[h+g]=t[u+g]}++s}}if(A>0){e[s]=e[A];for(let o=A*i,a=s*i,c=0;c!==i;++c)t[a+c]=t[o+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}yf.prototype.TimeBufferType=Float32Array,yf.prototype.ValueBufferType=Float32Array,yf.prototype.DefaultInterpolation=2301;class wv extends yf{constructor(e,t,i){super(e,t,i)}}wv.prototype.ValueTypeName="bool",wv.prototype.ValueBufferType=Array,wv.prototype.DefaultInterpolation=2300,wv.prototype.InterpolantFactoryMethodLinear=void 0,wv.prototype.InterpolantFactoryMethodSmooth=void 0;(class R$ extends yf{}).prototype.ValueTypeName="color";(class e2 extends yf{}).prototype.ValueTypeName="number";class Jxe extends $x{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const A=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=(i-t)/(r-t);let c=e*o;for(let l=c+o;c!==l;c+=4)rl.slerpFlat(A,0,s,c-o,s,c,a);return A}}class t2 extends yf{InterpolantFactoryMethodLinear(e){return new Jxe(this.times,this.values,this.getValueSize(),e)}}t2.prototype.ValueTypeName="quaternion",t2.prototype.InterpolantFactoryMethodSmooth=void 0;class _v extends yf{constructor(e,t,i){super(e,t,i)}}_v.prototype.ValueTypeName="string",_v.prototype.ValueBufferType=Array,_v.prototype.DefaultInterpolation=2300,_v.prototype.InterpolantFactoryMethodLinear=void 0,_v.prototype.InterpolantFactoryMethodSmooth=void 0;(class n2 extends yf{}).prototype.ValueTypeName="vector",Error;class zI extends Ss{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Wn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}const y5=new Pi,k$=new Ue,L$=new Ue;class Q5{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $t(512,512),this.map=null,this.mapPass=null,this.matrix=new Pi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new xx,this._frameExtents=new $t(1,1),this._viewportCount=1,this._viewports=[new DA(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;k$.setFromMatrixPosition(e.matrixWorld),t.position.copy(k$),L$.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(L$),t.updateMatrixWorld(),y5.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(y5),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(y5)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class _5 extends OP{constructor(e=-1,t=1,i=1,r=-1,A=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=A,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,A,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=A,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let A=i-e,s=i+e,o=r+t,a=r-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;A+=c*this.view.offsetX,s=A+c*this.view.width,o-=l*this.view.offsetY,a=o-l*this.view.height}this.projectionMatrix.makeOrthographic(A,s,o,a,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class n2e extends Q5{constructor(){super(new _5(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class O$ extends zI{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ss.DEFAULT_UP),this.updateMatrix(),this.target=new Ss,this.shadow=new n2e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class G$ extends zI{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class c2e extends Za{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}const b5="\\[\\]\\.:\\/",d2e=new RegExp("["+b5+"]","g"),S5="[^"+b5+"]",p2e="[^"+b5.replace("\\.","")+"]",E2e=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",S5)+/(WCOD+)?/.source.replace("WCOD",p2e)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",S5)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",S5)+"$"),v2e=["material","materials","bones","map"];class y2e{constructor(e,t,i){const r=i||Ms.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,A=i.length;r!==A;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let Ms=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(d2e,"")}static parseTrackName(t){const i=E2e.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},A=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==A&&-1!==A){const s=r.nodeName.substring(A+1);-1!==v2e.indexOf(s)&&(r.nodeName=r.nodeName.substring(0,A),r.objectName=s)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===i||a.uuid===i)return a;const c=r(a.children);if(c)return c}return null},A=r(t.children);if(A)return A}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let A=0,s=r.length;A!==s;++A)t[i++]=r[A]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let A=0,s=r.length;A!==s;++A)r[A]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let A=0,s=r.length;A!==s;++A)r[A]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let A=0,s=r.length;A!==s;++A)r[A]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,A=i.propertyName;let s=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(r){let l=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let u=0;u<t.length;u++)if(t[u].name===l){l=u;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==l){if(void 0===t[l])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[l]}}const o=t[A];if(void 0===o)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+A+" but it wasn't found.",t);let a=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==s){if("morphTargetInfluences"===A){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[s]&&(s=t.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else void 0!==o.fromArray&&void 0!==o.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=A;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=y2e,n})();Ms.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ms.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ms.prototype.GetterByBindingType=[Ms.prototype._getValue_direct,Ms.prototype._getValue_array,Ms.prototype._getValue_arrayElement,Ms.prototype._getValue_toArray],Ms.prototype.SetterByBindingTypeAndVersioning=[[Ms.prototype._setValue_direct,Ms.prototype._setValue_direct_setNeedsUpdate,Ms.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ms.prototype._setValue_array,Ms.prototype._setValue_array_setNeedsUpdate,Ms.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ms.prototype._setValue_arrayElement,Ms.prototype._setValue_arrayElement_setNeedsUpdate,Ms.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ms.prototype._setValue_fromArray,Ms.prototype._setValue_fromArray_setNeedsUpdate,Ms.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class $${constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=ir(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(ir(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class b2e extends Rd{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function F5(n,e,t,i){const r=function x2e(n){switch(n){case xd:case oX:return{byteLength:1,components:1};case e1:case aX:case t1:return{byteLength:2,components:1};case L3:case U3:return{byteLength:2,components:4};case wm:case k3:case wu:return{byteLength:4,components:1};case cX:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}(i);switch(t){case lX:case gX:return n*e;case hX:return n*e*2;case O3:case ZN:return n*e/r.components*r.byteLength;case fX:case G3:return n*e*2/r.components*r.byteLength;case uX:return n*e*3/r.components*r.byteLength;case Ul:case P3:return n*e*4/r.components*r.byteLength;case XN:case $N:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case ex:case tx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Y3:case q3:return Math.max(n,16)*Math.max(e,8)/4;case H3:case K3:return Math.max(n,8)*Math.max(e,8)/2;case J3:case V3:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case z3:case W3:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case j3:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case Z3:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case X3:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case $3:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case eP:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case tP:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case nP:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case iP:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case rP:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case AP:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case sP:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case oP:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case aP:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case nx:case cP:case lP:return Math.ceil(n/4)*Math.ceil(e/4)*16;case dX:case uP:return Math.ceil(n/4)*Math.ceil(e/4)*8;case gP:case hP:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"171"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="171");const lee={type:"change"},R5={type:"start"},uee={type:"end"},h2=new Av,gee=new Fm,F2e=Math.cos(70*oNe_DEG2RAD),Aa=new Ue,Kl=2*Math.PI,T5=1e-6;class R2e extends b2e{constructor(e,t=null){super(e,t),this.state=-1,this.enabled=!0,this.target=new Ue,this.cursor=new Ue,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Ue,this._lastQuaternion=new rl,this._lastTargetPosition=new Ue,this._quat=(new rl).setFromUnitVectors(e.up,new Ue(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new $$,this._sphericalDelta=new $$,this._scale=1,this._panOffset=new Ue,this._rotateStart=new $t,this._rotateEnd=new $t,this._rotateDelta=new $t,this._panStart=new $t,this._panEnd=new $t,this._panDelta=new $t,this._dollyStart=new $t,this._dollyEnd=new $t,this._dollyDelta=new $t,this._dollyDirection=new Ue,this._mouse=new $t,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=k2e.bind(this),this._onPointerDown=T2e.bind(this),this._onPointerUp=L2e.bind(this),this._onContextMenu=K2e.bind(this),this._onMouseWheel=G2e.bind(this),this._onKeyDown=P2e.bind(this),this._onTouchStart=H2e.bind(this),this._onTouchMove=Y2e.bind(this),this._onMouseDown=U2e.bind(this),this._onMouseMove=O2e.bind(this),this._interceptControlDown=q2e.bind(this),this._interceptControlUp=J2e.bind(this),null!==this.domElement&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(lee),this.update(),this.state=-1}update(e=null){const t=this.object.position;Aa.copy(t).sub(this.target),Aa.applyQuaternion(this._quat),this._spherical.setFromVector3(Aa),this.autoRotate&&-1===this.state&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let i=this.minAzimuthAngle,r=this.maxAzimuthAngle;isFinite(i)&&isFinite(r)&&(i<-Math.PI?i+=Kl:i>Math.PI&&(i-=Kl),r<-Math.PI?r+=Kl:r>Math.PI&&(r-=Kl),this._spherical.theta=i<=r?Math.max(i,Math.min(r,this._spherical.theta)):this._spherical.theta>(i+r)/2?Math.max(i,this._spherical.theta):Math.min(r,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let A=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const s=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),A=s!=this._spherical.radius}if(Aa.setFromSpherical(this._spherical),Aa.applyQuaternion(this._quatInverse),t.copy(this.target).add(Aa),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let s=null;if(this.object.isPerspectiveCamera){const o=Aa.length();s=this._clampDistance(o*this._scale);const a=o-s;this.object.position.addScaledVector(this._dollyDirection,a),this.object.updateMatrixWorld(),A=!!a}else if(this.object.isOrthographicCamera){const o=new Ue(this._mouse.x,this._mouse.y,0);o.unproject(this.object);const a=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),A=a!==this.object.zoom;const c=new Ue(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(o),this.object.updateMatrixWorld(),s=Aa.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;null!==s&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(s).add(this.object.position):(h2.origin.copy(this.object.position),h2.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(h2.direction))<F2e?this.object.lookAt(this.target):(gee.setFromNormalAndCoplanarPoint(this.object.up,this.target),h2.intersectPlane(gee,this.target))))}else if(this.object.isOrthographicCamera){const s=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),s!==this.object.zoom&&(this.object.updateProjectionMatrix(),A=!0)}return this._scale=1,this._performCursorZoom=!1,!!(A||this._lastPosition.distanceToSquared(this.object.position)>T5||8*(1-this._lastQuaternion.dot(this.object.quaternion))>T5||this._lastTargetPosition.distanceToSquared(this.target)>T5)&&(this.dispatchEvent(lee),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}_getAutoRotationAngle(e){return null!==e?Kl/60*this.autoRotateSpeed*e:Kl/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(.01*e);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){Aa.setFromMatrixColumn(t,0),Aa.multiplyScalar(-e),this._panOffset.add(Aa)}_panUp(e,t){!0===this.screenSpacePanning?Aa.setFromMatrixColumn(t,1):(Aa.setFromMatrixColumn(t,0),Aa.crossVectors(this.object.up,Aa)),Aa.multiplyScalar(e),this._panOffset.add(Aa)}_pan(e,t){const i=this.domElement;if(this.object.isPerspectiveCamera){Aa.copy(this.object.position).sub(this.target);let A=Aa.length();A*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*A/i.clientHeight,this.object.matrix),this._panUp(2*t*A/i.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/i.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/i.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const i=this.domElement.getBoundingClientRect(),A=t-i.top,o=i.height;this._mouse.x=(e-i.left)/i.width*2-1,this._mouse.y=-A/o*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Kl*this._rotateDelta.x/t.clientHeight),this._rotateUp(Kl*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Kl*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Kl*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Kl*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Kl*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(1===this._pointers.length)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._rotateStart.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}}_handleTouchStartPan(e){if(1===this._pointers.length)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._panStart.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),i=e.pageX-t.x,r=e.pageY-t.y,A=Math.sqrt(i*i+r*r);this._dollyStart.set(0,A)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(1==this._pointers.length)this._rotateEnd.set(e.pageX,e.pageY);else{const i=this._getSecondPointerPosition(e);this._rotateEnd.set(.5*(e.pageX+i.x),.5*(e.pageY+i.y))}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(Kl*this._rotateDelta.x/t.clientHeight),this._rotateUp(Kl*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(1===this._pointers.length)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._panEnd.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),i=e.pageX-t.x,r=e.pageY-t.y,A=Math.sqrt(i*i+r*r);this._dollyEnd.set(0,A),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd),this._updateZoomParameters(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return void this._pointers.splice(t,1)}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];void 0===t&&(t=new $t,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){return this._pointerPositions[e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0]]}_customWheelEvent(e){const i={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(e.deltaMode){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100}return e.ctrlKey&&!this._controlActive&&(i.deltaY*=10),i}}function T2e(n){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),"touch"===n.pointerType?this._onTouchStart(n):this._onMouseDown(n)))}function k2e(n){!1!==this.enabled&&("touch"===n.pointerType?this._onTouchMove(n):this._onMouseMove(n))}function L2e(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(uee),this.state=-1;break;case 1:const e=this._pointers[0],t=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:t.x,pageY:t.y})}}function U2e(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case 1:if(!1===this.enableZoom)return;this._handleMouseDownDolly(n),this.state=1;break;case 0:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}break;case 2:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}else{if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(R5)}function O2e(n){switch(this.state){case 0:if(!1===this.enableRotate)return;this._handleMouseMoveRotate(n);break;case 1:if(!1===this.enableZoom)return;this._handleMouseMoveDolly(n);break;case 2:if(!1===this.enablePan)return;this._handleMouseMovePan(n)}}function G2e(n){!1===this.enabled||!1===this.enableZoom||-1!==this.state||(n.preventDefault(),this.dispatchEvent(R5),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(uee))}function P2e(n){!1!==this.enabled&&this._handleKeyDown(n)}function H2e(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case 0:if(!1===this.enableRotate)return;this._handleTouchStartRotate(n),this.state=3;break;case 1:if(!1===this.enablePan)return;this._handleTouchStartPan(n),this.state=4;break;default:this.state=-1}break;case 2:switch(this.touches.TWO){case 2:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(n),this.state=5;break;case 3:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(n),this.state=6;break;default:this.state=-1}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(R5)}function Y2e(n){switch(this._trackPointer(n),this.state){case 3:if(!1===this.enableRotate)return;this._handleTouchMoveRotate(n),this.update();break;case 4:if(!1===this.enablePan)return;this._handleTouchMovePan(n),this.update();break;case 5:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchMoveDollyPan(n),this.update();break;case 6:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=-1}}function K2e(n){!1!==this.enabled&&n.preventDefault()}function q2e(n){"Control"===n.key&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function J2e(n){"Control"===n.key&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function hee(){let n=null,e=!1,t=null,i=null;function r(A,s){t(A,s),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(A){t=A},setContext:function(A){n=A}}}function V2e(n){const e=new WeakMap;return{get:function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)},remove:function A(o){o.isInterleavedBufferAttribute&&(o=o.data);const a=e.get(o);a&&(n.deleteBuffer(a.buffer),e.delete(o))},update:function s(o,a){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const l=e.get(o);return void((!l||l.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version}))}const c=e.get(o);if(void 0===c)e.set(o,function t(o,a){const c=o.array,l=o.usage,u=c.byteLength,h=n.createBuffer();let g;if(n.bindBuffer(a,h),n.bufferData(a,c,l),o.onUploadCallback(),c instanceof Float32Array)g=n.FLOAT;else if(c instanceof Uint16Array)g=o.isFloat16BufferAttribute?n.HALF_FLOAT:n.UNSIGNED_SHORT;else if(c instanceof Int16Array)g=n.SHORT;else if(c instanceof Uint32Array)g=n.UNSIGNED_INT;else if(c instanceof Int32Array)g=n.INT;else if(c instanceof Int8Array)g=n.BYTE;else if(c instanceof Uint8Array)g=n.UNSIGNED_BYTE;else{if(!(c instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);g=n.UNSIGNED_BYTE}return{buffer:h,type:g,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:u}}(o,a));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function i(o,a,c){const l=a.array,u=a.updateRanges;if(n.bindBuffer(c,o),0===u.length)n.bufferSubData(c,0,l);else{u.sort((g,f)=>g.start-f.start);let h=0;for(let g=1;g<u.length;g++){const f=u[h],d=u[g];d.start<=f.start+f.count+1?f.count=Math.max(f.count,d.start+d.count-f.start):(++h,u[h]=d)}u.length=h+1;for(let g=0,f=u.length;g<f;g++){const d=u[g];n.bufferSubData(c,d.start*l.BYTES_PER_ELEMENT,l,d.start,d.count)}a.clearUpdateRanges()}a.onUploadCallback()})(c.buffer,o,a),c.version=o.version}}}}const br={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Kn={common:{diffuse:{value:new Wn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new pr},alphaMap:{value:null},alphaMapTransform:{value:new pr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new pr}},envmap:{envMap:{value:null},envMapRotation:{value:new pr},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new pr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new pr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new pr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new pr},normalScale:{value:new $t(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new pr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new pr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new pr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new pr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Wn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Wn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new pr},alphaTest:{value:0},uvTransform:{value:new pr}},sprite:{diffuse:{value:new Wn(16777215)},opacity:{value:1},center:{value:new $t(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new pr},alphaMap:{value:null},alphaMapTransform:{value:new pr},alphaTest:{value:0}}},Qf={basic:{uniforms:ol([Kn.common,Kn.specularmap,Kn.envmap,Kn.aomap,Kn.lightmap,Kn.fog]),vertexShader:br.meshbasic_vert,fragmentShader:br.meshbasic_frag},lambert:{uniforms:ol([Kn.common,Kn.specularmap,Kn.envmap,Kn.aomap,Kn.lightmap,Kn.emissivemap,Kn.bumpmap,Kn.normalmap,Kn.displacementmap,Kn.fog,Kn.lights,{emissive:{value:new Wn(0)}}]),vertexShader:br.meshlambert_vert,fragmentShader:br.meshlambert_frag},phong:{uniforms:ol([Kn.common,Kn.specularmap,Kn.envmap,Kn.aomap,Kn.lightmap,Kn.emissivemap,Kn.bumpmap,Kn.normalmap,Kn.displacementmap,Kn.fog,Kn.lights,{emissive:{value:new Wn(0)},specular:{value:new Wn(1118481)},shininess:{value:30}}]),vertexShader:br.meshphong_vert,fragmentShader:br.meshphong_frag},standard:{uniforms:ol([Kn.common,Kn.envmap,Kn.aomap,Kn.lightmap,Kn.emissivemap,Kn.bumpmap,Kn.normalmap,Kn.displacementmap,Kn.roughnessmap,Kn.metalnessmap,Kn.fog,Kn.lights,{emissive:{value:new Wn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:br.meshphysical_vert,fragmentShader:br.meshphysical_frag},toon:{uniforms:ol([Kn.common,Kn.aomap,Kn.lightmap,Kn.emissivemap,Kn.bumpmap,Kn.normalmap,Kn.displacementmap,Kn.gradientmap,Kn.fog,Kn.lights,{emissive:{value:new Wn(0)}}]),vertexShader:br.meshtoon_vert,fragmentShader:br.meshtoon_frag},matcap:{uniforms:ol([Kn.common,Kn.bumpmap,Kn.normalmap,Kn.displacementmap,Kn.fog,{matcap:{value:null}}]),vertexShader:br.meshmatcap_vert,fragmentShader:br.meshmatcap_frag},points:{uniforms:ol([Kn.points,Kn.fog]),vertexShader:br.points_vert,fragmentShader:br.points_frag},dashed:{uniforms:ol([Kn.common,Kn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:br.linedashed_vert,fragmentShader:br.linedashed_frag},depth:{uniforms:ol([Kn.common,Kn.displacementmap]),vertexShader:br.depth_vert,fragmentShader:br.depth_frag},normal:{uniforms:ol([Kn.common,Kn.bumpmap,Kn.normalmap,Kn.displacementmap,{opacity:{value:1}}]),vertexShader:br.meshnormal_vert,fragmentShader:br.meshnormal_frag},sprite:{uniforms:ol([Kn.sprite,Kn.fog]),vertexShader:br.sprite_vert,fragmentShader:br.sprite_frag},background:{uniforms:{uvTransform:{value:new pr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:br.background_vert,fragmentShader:br.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new pr}},vertexShader:br.backgroundCube_vert,fragmentShader:br.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:br.cube_vert,fragmentShader:br.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:br.equirect_vert,fragmentShader:br.equirect_frag},distanceRGBA:{uniforms:ol([Kn.common,Kn.displacementmap,{referencePosition:{value:new Ue},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:br.distanceRGBA_vert,fragmentShader:br.distanceRGBA_frag},shadow:{uniforms:ol([Kn.lights,Kn.fog,{color:{value:new Wn(0)},opacity:{value:1}}]),vertexShader:br.shadow_vert,fragmentShader:br.shadow_frag}};Qf.physical={uniforms:ol([Qf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new pr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new pr},clearcoatNormalScale:{value:new $t(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new pr},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new pr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new pr},sheen:{value:0},sheenColor:{value:new Wn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new pr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new pr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new pr},transmissionSamplerSize:{value:new $t},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new pr},attenuationDistance:{value:0},attenuationColor:{value:new Wn(0)},specularColor:{value:new Wn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new pr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new pr},anisotropyVector:{value:new $t},anisotropyMap:{value:null},anisotropyMapTransform:{value:new pr}}]),vertexShader:br.meshphysical_vert,fragmentShader:br.meshphysical_frag};const f2={r:0,b:0,g:0},eB=new Ud,VRe=new Pi;function zRe(n,e,t,i,r,A,s){const o=new Wn(0);let c,l,a=!0===A?0:1,u=null,h=0,g=null;function f(C){let B=!0===C.isScene?C.background:null;return B&&B.isTexture&&(B=(C.backgroundBlurriness>0?t:e).get(B)),B}function p(C,B){C.getRGB(f2,PX(n)),i.buffers.color.setClear(f2.r,f2.g,f2.b,B,s)}return{getClearColor:function(){return o},setClearColor:function(C,B=1){o.set(C),a=B,p(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(C){a=C,p(o,a)},render:function d(C){let B=!1;const y=f(C);null===y?p(o,a):y&&y.isColor&&(p(y,1),B=!0);const E=n.xr.getEnvironmentBlendMode();"additive"===E?i.buffers.color.setClear(0,0,0,1,s):"alpha-blend"===E&&i.buffers.color.setClear(0,0,0,0,s),(n.autoClear||B)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))},addToRenderList:function m(C,B){const y=f(B);y&&(y.isCubeTexture||y.mapping===X_)?(void 0===l&&(l=new wo(new hv(1,1,1),new Ef({name:"BackgroundCubeMaterial",uniforms:fv(Qf.backgroundCube.uniforms),vertexShader:Qf.backgroundCube.vertexShader,fragmentShader:Qf.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(E,b,S){this.matrixWorld.copyPosition(S.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),eB.copy(B.backgroundRotation),eB.x*=-1,eB.y*=-1,eB.z*=-1,y.isCubeTexture&&!1===y.isRenderTargetTexture&&(eB.y*=-1,eB.z*=-1),l.material.uniforms.envMap.value=y,l.material.uniforms.flipEnvMap.value=y.isCubeTexture&&!1===y.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=B.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=B.backgroundIntensity,l.material.uniforms.backgroundRotation.value.setFromMatrix4(VRe.makeRotationFromEuler(eB)),l.material.toneMapped=BA.getTransfer(y.colorSpace)!==is,(u!==y||h!==y.version||g!==n.toneMapping)&&(l.material.needsUpdate=!0,u=y,h=y.version,g=n.toneMapping),l.layers.enableAll(),C.unshift(l,l.geometry,l.material,0,0,null)):y&&y.isTexture&&(void 0===c&&(c=new wo(new y1(2,2),new Ef({name:"BackgroundMaterial",uniforms:fv(Qf.background.uniforms),vertexShader:Qf.background.vertexShader,fragmentShader:Qf.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=y,c.material.uniforms.backgroundIntensity.value=B.backgroundIntensity,c.material.toneMapped=BA.getTransfer(y.colorSpace)!==is,!0===y.matrixAutoUpdate&&y.updateMatrix(),c.material.uniforms.uvTransform.value.copy(y.matrix),(u!==y||h!==y.version||g!==n.toneMapping)&&(c.material.needsUpdate=!0,u=y,h=y.version,g=n.toneMapping),c.layers.enableAll(),C.unshift(c,c.geometry,c.material,0,0,null))},dispose:function I(){void 0!==l&&(l.geometry.dispose(),l.material.dispose()),void 0!==c&&(c.geometry.dispose(),c.material.dispose())}}}function WRe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=h(null);let A=r,s=!1;function c(M){return n.bindVertexArray(M)}function l(M){return n.deleteVertexArray(M)}function h(M){const D=[],T=[],O=[];for(let G=0;G<t;G++)D[G]=0,T[G]=0,O[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:D,enabledAttributes:T,attributeDivisors:O,object:M,attributes:{},index:null}}function d(){const M=A.newAttributes;for(let D=0,T=M.length;D<T;D++)M[D]=0}function m(M){p(M,0)}function p(M,D){const O=A.enabledAttributes,G=A.attributeDivisors;A.newAttributes[M]=1,0===O[M]&&(n.enableVertexAttribArray(M),O[M]=1),G[M]!==D&&(n.vertexAttribDivisor(M,D),G[M]=D)}function I(){const M=A.newAttributes,D=A.enabledAttributes;for(let T=0,O=D.length;T<O;T++)D[T]!==M[T]&&(n.disableVertexAttribArray(T),D[T]=0)}function C(M,D,T,O,G,W,k){!0===k?n.vertexAttribIPointer(M,D,T,G,W):n.vertexAttribPointer(M,D,T,O,G,W)}function S(){w(),s=!0,A!==r&&(A=r,c(A.object))}function w(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:function o(M,D,T,O,G){let W=!1;const k=function u(M,D,T){const O=!0===T.wireframe;let G=i[M.id];void 0===G&&(G={},i[M.id]=G);let W=G[D.id];void 0===W&&(W={},G[D.id]=W);let k=W[O];return void 0===k&&(k=h(function a(){return n.createVertexArray()}()),W[O]=k),k}(O,T,D);A!==k&&(A=k,c(A.object)),W=function g(M,D,T,O){const G=A.attributes,W=D.attributes;let k=0;const L=T.getAttributes();for(const J in L)if(L[J].location>=0){const ue=G[J];let ye=W[J];if(void 0===ye&&("instanceMatrix"===J&&M.instanceMatrix&&(ye=M.instanceMatrix),"instanceColor"===J&&M.instanceColor&&(ye=M.instanceColor)),void 0===ue||ue.attribute!==ye||ye&&ue.data!==ye.data)return!0;k++}return A.attributesNum!==k||A.index!==O}(M,O,T,G),W&&function f(M,D,T,O){const G={},W=D.attributes;let k=0;const L=T.getAttributes();for(const J in L)if(L[J].location>=0){let ue=W[J];void 0===ue&&("instanceMatrix"===J&&M.instanceMatrix&&(ue=M.instanceMatrix),"instanceColor"===J&&M.instanceColor&&(ue=M.instanceColor));const ye={};ye.attribute=ue,ue&&ue.data&&(ye.data=ue.data),G[J]=ye,k++}A.attributes=G,A.attributesNum=k,A.index=O}(M,O,T,G),null!==G&&e.update(G,n.ELEMENT_ARRAY_BUFFER),(W||s)&&(s=!1,function B(M,D,T,O){d();const G=O.attributes,W=T.getAttributes(),k=D.defaultAttributeValues;for(const L in W){const J=W[L];if(J.location>=0){let H=G[L];if(void 0===H&&("instanceMatrix"===L&&M.instanceMatrix&&(H=M.instanceMatrix),"instanceColor"===L&&M.instanceColor&&(H=M.instanceColor)),void 0!==H){const ue=H.normalized,ye=H.itemSize,K=e.get(H);if(void 0===K)continue;const z=K.buffer,Z=K.type,le=K.bytesPerElement,ce=Z===n.INT||Z===n.UNSIGNED_INT||H.gpuType===k3;if(H.isInterleavedBufferAttribute){const ge=H.data,re=ge.stride,ie=H.offset;if(ge.isInstancedInterleavedBuffer){for(let me=0;me<J.locationSize;me++)p(J.location+me,ge.meshPerAttribute);!0!==M.isInstancedMesh&&void 0===O._maxInstanceCount&&(O._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let me=0;me<J.locationSize;me++)m(J.location+me);n.bindBuffer(n.ARRAY_BUFFER,z);for(let me=0;me<J.locationSize;me++)C(J.location+me,ye/J.locationSize,Z,ue,re*le,(ie+ye/J.locationSize*me)*le,ce)}else{if(H.isInstancedBufferAttribute){for(let ge=0;ge<J.locationSize;ge++)p(J.location+ge,H.meshPerAttribute);!0!==M.isInstancedMesh&&void 0===O._maxInstanceCount&&(O._maxInstanceCount=H.meshPerAttribute*H.count)}else for(let ge=0;ge<J.locationSize;ge++)m(J.location+ge);n.bindBuffer(n.ARRAY_BUFFER,z);for(let ge=0;ge<J.locationSize;ge++)C(J.location+ge,ye/J.locationSize,Z,ue,ye*le,ye/J.locationSize*ge*le,ce)}}else if(void 0!==k){const ue=k[L];if(void 0!==ue)switch(ue.length){case 2:n.vertexAttrib2fv(J.location,ue);break;case 3:n.vertexAttrib3fv(J.location,ue);break;case 4:n.vertexAttrib4fv(J.location,ue);break;default:n.vertexAttrib1fv(J.location,ue)}}}}I()}(M,D,T,O),null!==G&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(G).buffer))},reset:S,resetDefaultState:w,dispose:function y(){S();for(const M in i){const D=i[M];for(const T in D){const O=D[T];for(const G in O)l(O[G].object),delete O[G];delete D[T]}delete i[M]}},releaseStatesOfGeometry:function E(M){if(void 0===i[M.id])return;const D=i[M.id];for(const T in D){const O=D[T];for(const G in O)l(O[G].object),delete O[G];delete D[T]}delete i[M.id]},releaseStatesOfProgram:function b(M){for(const D in i){const T=i[D];if(void 0===T[M.id])continue;const O=T[M.id];for(const G in O)l(O[G].object),delete O[G];delete T[M.id]}},initAttributes:d,enableAttribute:m,disableUnusedAttributes:I}}function jRe(n,e,t){let i;function s(c,l,u){0!==u&&(n.drawArraysInstanced(i,c,l,u),t.update(l,i,u))}this.setMode=function r(c){i=c},this.render=function A(c,l){n.drawArrays(i,c,l),t.update(l,i,1)},this.renderInstances=s,this.renderMultiDraw=function o(c,l,u){if(0===u)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,l,0,u);let g=0;for(let f=0;f<u;f++)g+=l[f];t.update(g,i,1)},this.renderMultiDrawInstances=function a(c,l,u,h){if(0===u)return;const g=e.get("WEBGL_multi_draw");if(null===g)for(let f=0;f<c.length;f++)s(c[f],l[f],h[f]);else{g.multiDrawArraysInstancedWEBGL(i,c,0,l,0,h,0,u);let f=0;for(let d=0;d<u;d++)f+=l[d]*h[d];t.update(f,i,1)}}}function ZRe(n,e,t,i){let r;function a(b){if("highp"===b){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";b="mediump"}return"mediump"===b&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=void 0!==t.precision?t.precision:"highp";const l=a(c);l!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",l,"instead."),c=l);const u=!0===t.logarithmicDepthBuffer,h=!0===t.reverseDepthBuffer&&e.has("EXT_clip_control"),g=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function A(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){const b=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:a,textureFormatReadable:function s(b){return!(b!==Ul&&i.convert(b)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))},textureTypeReadable:function o(b){const S=b===t1&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(b!==xd&&i.convert(b)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&b!==wu&&!S)},precision:c,logarithmicDepthBuffer:u,reverseDepthBuffer:h,maxTextures:g,maxVertexTextures:f,maxTextureSize:n.getParameter(n.MAX_TEXTURE_SIZE),maxCubemapSize:n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:n.getParameter(n.MAX_VERTEX_ATTRIBS),maxVertexUniforms:n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:n.getParameter(n.MAX_VARYING_VECTORS),maxFragmentUniforms:n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:f>0,maxSamples:n.getParameter(n.MAX_SAMPLES)}}function XRe(n){const e=this;let t=null,i=0,r=!1,A=!1;const s=new Fm,o=new pr,a={value:null,needsUpdate:!1};function l(u,h,g,f){const d=null!==u?u.length:0;let m=null;if(0!==d){if(m=a.value,!0!==f||null===m){const p=g+4*d,I=h.matrixWorldInverse;o.getNormalMatrix(I),(null===m||m.length<p)&&(m=new Float32Array(p));for(let C=0,B=g;C!==d;++C,B+=4)s.copy(u[C]).applyMatrix4(I,o),s.normal.toArray(m,B),m[B+3]=s.constant}a.value=m,a.needsUpdate=!0}return e.numPlanes=d,e.numIntersection=0,m}this.uniform=a,this.numPlanes=0,this.numIntersection=0,this.init=function(u,h){const g=0!==u.length||h||0!==i||r;return r=h,i=u.length,g},this.beginShadows=function(){A=!0,l(null)},this.endShadows=function(){A=!1},this.setGlobalState=function(u,h){t=l(u,h,0)},this.setState=function(u,h,g){const f=u.clippingPlanes,d=u.clipIntersection,m=u.clipShadows,p=n.get(u);if(!r||null===f||0===f.length||A&&!m)A?l(null):function c(){a.value!==t&&(a.value=t,a.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const I=A?0:i,C=4*I;let B=p.clippingState||null;a.value=B,B=l(f,h,C,g);for(let y=0;y!==C;++y)B[y]=t[y];p.clippingState=B,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=I}}}function $Re(n){let e=new WeakMap;function t(s,o){return 303===o?s.mapping=Qm:304===o&&(s.mapping=RI),s}function r(s){const o=s.target;o.removeEventListener("dispose",r);const a=e.get(o);void 0!==a&&(e.delete(o),a.dispose())}return{get:function i(s){if(s&&s.isTexture){const o=s.mapping;if(303===o||304===o){if(e.has(s))return t(e.get(s).texture,s.mapping);{const a=s.image;if(a&&a.height>0){const c=new RNe(a.height);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",r),t(c.texture,s.mapping)}return null}}}return s},dispose:function A(){e=new WeakMap}}}const fee=[.125,.215,.35,.446,.526,.582],k5=new _5,dee=new Wn;let L5=null,U5=0,O5=0,G5=!1;const nB=(1+Math.sqrt(5))/2,bv=1/nB,pee=[new Ue(-nB,bv,0),new Ue(nB,bv,0),new Ue(-bv,0,nB),new Ue(bv,0,nB),new Ue(0,nB,-bv),new Ue(0,nB,bv),new Ue(-1,1,-1),new Ue(1,1,-1),new Ue(-1,1,1),new Ue(1,1,1)];class mee{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){L5=this._renderer.getRenderTarget(),U5=this._renderer.getActiveCubeFace(),O5=this._renderer.getActiveMipmapLevel(),G5=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const A=this._allocateTargets();return A.depthBuffer=!0,this._sceneToCubeUV(e,i,r,A),t>0&&this._blur(A,0,0,t),this._applyPMREM(A),this._cleanup(A),A}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Bee(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Iee(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(L5,U5,O5),this._renderer.xr.enabled=G5,e.scissorTest=!1,d2(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Qm||e.mapping===RI?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),L5=this._renderer.getRenderTarget(),U5=this._renderer.getActiveCubeFace(),O5=this._renderer.getActiveMipmapLevel(),G5=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:wa,minFilter:wa,generateMipmaps:!1,type:t1,format:Ul,colorSpace:z0,depthBuffer:!1},r=Cee(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Cee(e,t,i);const{_lodMax:A}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function eTe(n){const e=[],t=[],i=[];let r=n;const A=n-4+1+fee.length;for(let s=0;s<A;s++){const o=Math.pow(2,r);t.push(o);let a=1/o;s>n-4?a=fee[s-n+4-1]:0===s&&(a=0),i.push(a);const c=1/(o-2),l=-c,u=1+c,h=[l,l,u,l,u,u,l,l,u,u,l,u],g=6,f=6,d=3,m=2,p=1,I=new Float32Array(d*f*g),C=new Float32Array(m*f*g),B=new Float32Array(p*f*g);for(let E=0;E<g;E++){const b=E%3*2/3-1,S=E>2?0:-1;I.set([b,S,0,b+2/3,S,0,b+2/3,S+1,0,b,S,0,b+2/3,S+1,0,b,S+1,0],d*f*E),C.set(h,m*f*E),B.set([E,E,E,E,E,E],p*f*E)}const y=new Dr;y.setAttribute("position",new gs(I,d)),y.setAttribute("uv",new gs(C,m)),y.setAttribute("faceIndex",new gs(B,p)),e.push(y),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(A)),this._blurMaterial=function tTe(n,e,t){const i=new Float32Array(20),r=new Ue(0,1,0);return new Ef({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(A,e,t)}return r}_compileMaterial(e){const t=new wo(this._lodPlanes[0],e);this._renderer.compile(t,k5)}_sceneToCubeUV(e,t,i,r){const o=new Za(90,1,t,i),a=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],l=this._renderer,u=l.autoClear,h=l.toneMapping;l.getClearColor(dee),l.toneMapping=ym,l.autoClear=!1;const g=new Hd({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),f=new wo(new hv,g);let d=!1;const m=e.background;m?m.isColor&&(g.color.copy(m),e.background=null,d=!0):(g.color.copy(dee),d=!0);for(let p=0;p<6;p++){const I=p%3;0===I?(o.up.set(0,a[p],0),o.lookAt(c[p],0,0)):1===I?(o.up.set(0,0,a[p]),o.lookAt(0,c[p],0)):(o.up.set(0,a[p],0),o.lookAt(0,0,c[p]));const C=this._cubeSize;d2(r,I*C,p>2?C:0,C,C),l.setRenderTarget(r),d&&l.render(f,o),l.render(e,o)}f.geometry.dispose(),f.material.dispose(),l.toneMapping=h,l.autoClear=u,e.background=m}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Qm||e.mapping===RI;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Bee()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Iee());const A=r?this._cubemapMaterial:this._equirectMaterial,s=new wo(this._lodPlanes[0],A);A.uniforms.envMap.value=e;const a=this._cubeSize;d2(t,0,0,3*a,2*a),i.setRenderTarget(t),i.render(s,k5)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let A=1;A<r;A++){const s=Math.sqrt(this._sigmas[A]*this._sigmas[A]-this._sigmas[A-1]*this._sigmas[A-1]);this._blur(e,A-1,A,s,pee[(r-A-1)%pee.length])}t.autoClear=i}_blur(e,t,i,r,A){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,r,"latitudinal",A),this._halfBlur(s,e,i,i,r,"longitudinal",A)}_halfBlur(e,t,i,r,A,s,o){const a=this._renderer,c=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const u=new wo(this._lodPlanes[r],c),h=c.uniforms,g=this._sizeLods[i]-1,f=isFinite(A)?Math.PI/(2*g):2*Math.PI/39,d=A/f,m=isFinite(A)?1+Math.floor(3*d):20;m>20&&console.warn(`sigmaRadians, ${A}, is too large and will clip, as it requested ${m} samples when the maximum is set to 20`);const p=[];let I=0;for(let b=0;b<20;++b){const S=b/d,w=Math.exp(-S*S/2);p.push(w),0===b?I+=w:b<m&&(I+=2*w)}for(let b=0;b<p.length;b++)p[b]=p[b]/I;h.envMap.value=e.texture,h.samples.value=m,h.weights.value=p,h.latitudinal.value="latitudinal"===s,o&&(h.poleAxis.value=o);const{_lodMax:C}=this;h.dTheta.value=f,h.mipInt.value=C-i;const B=this._sizeLods[r];d2(t,3*B*(r>C-4?r-C+4:0),4*(this._cubeSize-B),3*B,2*B),a.setRenderTarget(t),a.render(u,k5)}}function Cee(n,e,t){const i=new Bf(n,e,t);return i.texture.mapping=X_,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function d2(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function Iee(){return new Ef({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Bee(){return new Ef({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function nTe(n){let e=new WeakMap,t=null;function A(o){const a=o.target;a.removeEventListener("dispose",A);const c=e.get(a);void 0!==c&&(e.delete(a),c.dispose())}return{get:function i(o){if(o&&o.isTexture){const a=o.mapping,c=303===a||304===a,l=a===Qm||a===RI;if(c||l){let u=e.get(o);if(o.isRenderTargetTexture&&o.pmremVersion!==(void 0!==u?u.texture.pmremVersion:0))return null===t&&(t=new mee(n)),u=c?t.fromEquirectangular(o,u):t.fromCubemap(o,u),u.texture.pmremVersion=o.pmremVersion,e.set(o,u),u.texture;if(void 0!==u)return u.texture;{const g=o.image;return c&&g&&g.height>0||l&&g&&function r(o){let a=0;for(let l=0;l<6;l++)void 0!==o[l]&&a++;return 6===a}(g)?(null===t&&(t=new mee(n)),u=c?t.fromEquirectangular(o):t.fromCubemap(o),u.texture.pmremVersion=o.pmremVersion,e.set(o,u),o.addEventListener("dispose",A),u.texture):null}}}return o},dispose:function s(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function iTe(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return null===r&&X0("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function rTe(n,e,t,i){const r={},A=new WeakMap;function s(u){const h=u.target;null!==h.index&&e.remove(h.index);for(const f in h.attributes)e.remove(h.attributes[f]);h.removeEventListener("dispose",s),delete r[h.id];const g=A.get(h);g&&(e.remove(g),A.delete(h)),i.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,t.memory.geometries--}function c(u){const h=[],g=u.index,f=u.attributes.position;let d=0;if(null!==g){const I=g.array;d=g.version;for(let C=0,B=I.length;C<B;C+=3){const y=I[C+0],E=I[C+1],b=I[C+2];h.push(y,E,E,b,b,y)}}else{if(void 0===f)return;d=f.version;for(let C=0,B=f.array.length/3-1;C<B;C+=3){const y=C+0,E=C+1,b=C+2;h.push(y,E,E,b,b,y)}}const m=new(EX(h)?LX:kX)(h,1);m.version=d;const p=A.get(u);p&&e.remove(p),A.set(u,m)}return{get:function o(u,h){return!0===r[h.id]||(h.addEventListener("dispose",s),r[h.id]=!0,t.memory.geometries++),h},update:function a(u){const h=u.attributes;for(const g in h)e.update(h[g],n.ARRAY_BUFFER)},getWireframeAttribute:function l(u){const h=A.get(u);if(h){const g=u.index;null!==g&&h.version<g.version&&c(u)}else c(u);return A.get(u)}}}function ATe(n,e,t){let i,A,s;function c(h,g,f){0!==f&&(n.drawElementsInstanced(i,g,A,h*s,f),t.update(g,i,f))}this.setMode=function r(h){i=h},this.setIndex=function o(h){A=h.type,s=h.bytesPerElement},this.render=function a(h,g){n.drawElements(i,g,A,h*s),t.update(g,i,1)},this.renderInstances=c,this.renderMultiDraw=function l(h,g,f){if(0===f)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,g,0,A,h,0,f);let m=0;for(let p=0;p<f;p++)m+=g[p];t.update(m,i,1)},this.renderMultiDrawInstances=function u(h,g,f,d){if(0===f)return;const m=e.get("WEBGL_multi_draw");if(null===m)for(let p=0;p<h.length;p++)c(h[p]/s,g[p],d[p]);else{m.multiDrawElementsInstancedWEBGL(i,g,0,A,h,0,d,0,f);let p=0;for(let I=0;I<f;I++)p+=g[I]*d[I];t.update(p,i,1)}}}function sTe(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(A,s,o){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=o*(A/3);break;case n.LINES:t.lines+=o*(A/2);break;case n.LINE_STRIP:t.lines+=o*(A-1);break;case n.LINE_LOOP:t.lines+=o*A;break;case n.POINTS:t.points+=o*A;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s)}}}}function oTe(n,e,t){const i=new WeakMap,r=new DA;return{update:function A(s,o,a){const c=s.morphTargetInfluences,l=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,u=void 0!==l?l.length:0;let h=i.get(o);if(void 0===h||h.count!==u){let w=function(){b.dispose(),i.delete(o),o.removeEventListener("dispose",w)};void 0!==h&&h.texture.dispose();const g=void 0!==o.morphAttributes.position,f=void 0!==o.morphAttributes.normal,d=void 0!==o.morphAttributes.color,m=o.morphAttributes.position||[],p=o.morphAttributes.normal||[],I=o.morphAttributes.color||[];let C=0;!0===g&&(C=1),!0===f&&(C=2),!0===d&&(C=3);let B=o.attributes.position.count*C,y=1;B>e.maxTextureSize&&(y=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const E=new Float32Array(B*y*4*u),b=new BP(E,B,y,u);b.type=wu,b.needsUpdate=!0;const S=4*C;for(let M=0;M<u;M++){const D=m[M],T=p[M],O=I[M],G=B*y*4*M;for(let W=0;W<D.count;W++){const k=W*S;!0===g&&(r.fromBufferAttribute(D,W),E[G+k+0]=r.x,E[G+k+1]=r.y,E[G+k+2]=r.z,E[G+k+3]=0),!0===f&&(r.fromBufferAttribute(T,W),E[G+k+4]=r.x,E[G+k+5]=r.y,E[G+k+6]=r.z,E[G+k+7]=0),!0===d&&(r.fromBufferAttribute(O,W),E[G+k+8]=r.x,E[G+k+9]=r.y,E[G+k+10]=r.z,E[G+k+11]=4===O.itemSize?r.w:1)}}h={count:u,texture:b,size:new $t(B,y)},i.set(o,h),o.addEventListener("dispose",w)}if(!0===s.isInstancedMesh&&null!==s.morphTexture)a.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let g=0;for(let d=0;d<c.length;d++)g+=c[d];const f=o.morphTargetsRelative?1:1-g;a.getUniforms().setValue(n,"morphTargetBaseInfluence",f),a.getUniforms().setValue(n,"morphTargetInfluences",c)}a.getUniforms().setValue(n,"morphTargetsTexture",h.texture,t),a.getUniforms().setValue(n,"morphTargetsTextureSize",h.size)}}}function aTe(n,e,t,i){let r=new WeakMap;function o(a){const c=a.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function A(a){const c=i.render.frame,u=e.get(a,a.geometry);if(r.get(u)!==c&&(e.update(u),r.set(u,c)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",o)&&a.addEventListener("dispose",o),r.get(a)!==c&&(t.update(a.instanceMatrix,n.ARRAY_BUFFER),null!==a.instanceColor&&t.update(a.instanceColor,n.ARRAY_BUFFER),r.set(a,c))),a.isSkinnedMesh){const h=a.skeleton;r.get(h)!==c&&(h.update(),r.set(h,c))}return u},dispose:function s(){r=new WeakMap}}}const Eee=new Ol,vee=new h$(1,1),yee=new BP,Qee=new wX,wee=new Qx,_ee=[],Dee=[],bee=new Float32Array(16),See=new Float32Array(9),Mee=new Float32Array(4);function Sv(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let A=_ee[r];if(void 0===A&&(A=new Float32Array(r),_ee[r]=A),0!==e){i.toArray(A,0);for(let s=1,o=0;s!==e;++s)o+=t,n[s].toArray(A,o)}return A}function sa(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function oa(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function p2(n,e){let t=Dee[e];void 0===t&&(t=new Int32Array(e),Dee[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function cTe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function lTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(sa(t,e))return;n.uniform2fv(this.addr,e),oa(t,e)}}function uTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(sa(t,e))return;n.uniform3fv(this.addr,e),oa(t,e)}}function gTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(sa(t,e))return;n.uniform4fv(this.addr,e),oa(t,e)}}function hTe(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(sa(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),oa(t,e)}else{if(sa(t,i))return;Mee.set(i),n.uniformMatrix2fv(this.addr,!1,Mee),oa(t,i)}}function fTe(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(sa(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),oa(t,e)}else{if(sa(t,i))return;See.set(i),n.uniformMatrix3fv(this.addr,!1,See),oa(t,i)}}function dTe(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(sa(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),oa(t,e)}else{if(sa(t,i))return;bee.set(i),n.uniformMatrix4fv(this.addr,!1,bee),oa(t,i)}}function pTe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function mTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(sa(t,e))return;n.uniform2iv(this.addr,e),oa(t,e)}}function CTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(sa(t,e))return;n.uniform3iv(this.addr,e),oa(t,e)}}function ITe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(sa(t,e))return;n.uniform4iv(this.addr,e),oa(t,e)}}function BTe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function ETe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(sa(t,e))return;n.uniform2uiv(this.addr,e),oa(t,e)}}function vTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(sa(t,e))return;n.uniform3uiv(this.addr,e),oa(t,e)}}function yTe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(sa(t,e))return;n.uniform4uiv(this.addr,e),oa(t,e)}}function QTe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();let A;i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),this.type===n.SAMPLER_2D_SHADOW?(vee.compareFunction=515,A=vee):A=Eee,t.setTexture2D(e||A,r)}function wTe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||Qee,r)}function _Te(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||wee,r)}function DTe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||yee,r)}function STe(n,e){n.uniform1fv(this.addr,e)}function MTe(n,e){const t=Sv(e,this.size,2);n.uniform2fv(this.addr,t)}function NTe(n,e){const t=Sv(e,this.size,3);n.uniform3fv(this.addr,t)}function xTe(n,e){const t=Sv(e,this.size,4);n.uniform4fv(this.addr,t)}function FTe(n,e){const t=Sv(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function RTe(n,e){const t=Sv(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function TTe(n,e){const t=Sv(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function kTe(n,e){n.uniform1iv(this.addr,e)}function LTe(n,e){n.uniform2iv(this.addr,e)}function UTe(n,e){n.uniform3iv(this.addr,e)}function OTe(n,e){n.uniform4iv(this.addr,e)}function GTe(n,e){n.uniform1uiv(this.addr,e)}function PTe(n,e){n.uniform2uiv(this.addr,e)}function HTe(n,e){n.uniform3uiv(this.addr,e)}function YTe(n,e){n.uniform4uiv(this.addr,e)}function KTe(n,e,t){const i=this.cache,r=e.length,A=p2(t,r);sa(i,A)||(n.uniform1iv(this.addr,A),oa(i,A));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||Eee,A[s])}function qTe(n,e,t){const i=this.cache,r=e.length,A=p2(t,r);sa(i,A)||(n.uniform1iv(this.addr,A),oa(i,A));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||Qee,A[s])}function JTe(n,e,t){const i=this.cache,r=e.length,A=p2(t,r);sa(i,A)||(n.uniform1iv(this.addr,A),oa(i,A));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||wee,A[s])}function VTe(n,e,t){const i=this.cache,r=e.length,A=p2(t,r);sa(i,A)||(n.uniform1iv(this.addr,A),oa(i,A));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||yee,A[s])}class WTe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=function bTe(n){switch(n){case 5126:return cTe;case 35664:return lTe;case 35665:return uTe;case 35666:return gTe;case 35674:return hTe;case 35675:return fTe;case 35676:return dTe;case 5124:case 35670:return pTe;case 35667:case 35671:return mTe;case 35668:case 35672:return CTe;case 35669:case 35673:return ITe;case 5125:return BTe;case 36294:return ETe;case 36295:return vTe;case 36296:return yTe;case 35678:case 36198:case 36298:case 36306:case 35682:return QTe;case 35679:case 36299:case 36307:return wTe;case 35680:case 36300:case 36308:case 36293:return _Te;case 36289:case 36303:case 36311:case 36292:return DTe}}(t.type)}}class jTe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function zTe(n){switch(n){case 5126:return STe;case 35664:return MTe;case 35665:return NTe;case 35666:return xTe;case 35674:return FTe;case 35675:return RTe;case 35676:return TTe;case 5124:case 35670:return kTe;case 35667:case 35671:return LTe;case 35668:case 35672:return UTe;case 35669:case 35673:return OTe;case 5125:return GTe;case 36294:return PTe;case 36295:return HTe;case 36296:return YTe;case 35678:case 36198:case 36298:case 36306:case 35682:return KTe;case 35679:case 36299:case 36307:return qTe;case 35680:case 36300:case 36308:case 36293:return JTe;case 36289:case 36303:case 36311:case 36292:return VTe}}(t.type)}}class ZTe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let A=0,s=r.length;A!==s;++A){const o=r[A];o.setValue(e,t[o.id],i)}}}const H5=/(\w+)(\])?(\[|\.)?/g;function Nee(n,e){n.seq.push(e),n.map[e.id]=e}function XTe(n,e,t){const i=n.name,r=i.length;for(H5.lastIndex=0;;){const A=H5.exec(i);let o=A[1];const c=A[3];if("]"===A[2]&&(o|=0),void 0===c||"["===c&&H5.lastIndex+2===r){Nee(t,void 0===c?new WTe(o,n,e):new jTe(o,n,e));break}{let u=t.map[o];void 0===u&&(u=new ZTe(o),Nee(t,u)),t=u}}}class m2{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const A=e.getActiveUniform(t,r);XTe(A,e.getUniformLocation(t,A.name),this)}}setValue(e,t,i,r){const A=this.map[t];void 0!==A&&A.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let A=0,s=t.length;A!==s;++A){const o=t[A],a=i[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,A=e.length;r!==A;++r){const s=e[r];s.id in t&&i.push(s)}return i}}function xee(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const $Te=37297;let eke=0;const Fee=new pr;function Ree(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const A=/ERROR: 0:(\d+)/.exec(r);if(A){const s=parseInt(A[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function tke(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),A=Math.min(e+6,t.length);for(let s=r;s<A;s++){const o=s+1;i.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return i.join("\n")}(n.getShaderSource(e),s)}return r}function ike(n,e){const t=function nke(n){BA._getMatrix(Fee,BA.workingColorSpace,n);const e=`mat3( ${Fee.elements.map(t=>t.toFixed(4))} )`;switch(BA.getTransfer(n)){case Ax:return[e,"LinearTransferOETF"];case is:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}(e);return[`vec4 ${n}( vec4 value ) {`,`\treturn ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join("\n")}function rke(n,e){let t;switch(e){case QMe:t="Linear";break;case wMe:t="Reinhard";break;case _Me:t="Cineon";break;case DMe:t="ACESFilmic";break;case SMe:t="AgX";break;case MMe:t="Neutral";break;case bMe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const C2=new Ue;function w1(n){return""!==n}function Tee(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function kee(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const cke=/^[ \t]*#include +<([\w\d./]+)>/gm;function Y5(n){return n.replace(cke,uke)}const lke=new Map;function uke(n,e){let t=br[e];if(void 0===t){const i=lke.get(e);if(void 0===i)throw new Error("Can not resolve #include <"+e+">");t=br[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i)}return Y5(t)}const gke=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Lee(n){return n.replace(gke,hke)}function hke(n,e,t,i){let r="";for(let A=parseInt(e);A<parseInt(t);A++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+A+" ]").replace(/UNROLLED_LOOP_INDEX/g,A);return r}function Uee(n){let e=`precision ${n.precision} float;\n\tprecision ${n.precision} int;\n\tprecision ${n.precision} sampler2D;\n\tprecision ${n.precision} samplerCube;\n\tprecision ${n.precision} sampler3D;\n\tprecision ${n.precision} sampler2DArray;\n\tprecision ${n.precision} sampler2DShadow;\n\tprecision ${n.precision} samplerCubeShadow;\n\tprecision ${n.precision} sampler2DArrayShadow;\n\tprecision ${n.precision} isampler2D;\n\tprecision ${n.precision} isampler3D;\n\tprecision ${n.precision} isamplerCube;\n\tprecision ${n.precision} isampler2DArray;\n\tprecision ${n.precision} usampler2D;\n\tprecision ${n.precision} usampler3D;\n\tprecision ${n.precision} usamplerCube;\n\tprecision ${n.precision} usampler2DArray;\n\t`;return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function Ike(n,e,t,i){const r=n.getContext(),A=t.defines;let s=t.vertexShader,o=t.fragmentShader;const a=function fke(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===tX?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===iMe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Sd&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function dke(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Qm:case RI:e="ENVMAP_TYPE_CUBE";break;case X_:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),l=function pke(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===RI&&(e="ENVMAP_MODE_REFRACTION"),e}(t),u=function mke(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case qN:e="ENVMAP_BLENDING_MULTIPLY";break;case vMe:e="ENVMAP_BLENDING_MIX";break;case yMe:e="ENVMAP_BLENDING_ADD"}return e}(t),h=function Cke(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),g=function ske(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(w1).join("\n")}(t),f=function oke(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(A),d=r.createProgram();let m,p,I=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(m=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,f].filter(w1).join("\n"),m.length>0&&(m+="\n"),p=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,f].filter(w1).join("\n"),p.length>0&&(p+="\n")):(m=[Uee(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,f,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+l:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+a:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(w1).join("\n"),p=[Uee(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,f,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+l:"",t.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+a:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ym?"#define TONE_MAPPING":"",t.toneMapping!==ym?br.tonemapping_pars_fragment:"",t.toneMapping!==ym?rke("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",br.colorspace_pars_fragment,ike("linearToOutputTexel",t.outputColorSpace),(BA.getLuminanceCoefficients(C2),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${C2.x.toFixed(4)}, ${C2.y.toFixed(4)}, ${C2.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(w1).join("\n")),s=Y5(s),s=Tee(s,t),s=kee(s,t),o=Y5(o),o=Tee(o,t),o=kee(o,t),s=Lee(s),o=Lee(o),!0!==t.isRawShaderMaterial&&(I="#version 300 es\n",m=[g,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,p=["#define varying in",t.glslVersion===IX?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===IX?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+p);const B=I+p+o,y=xee(r,r.VERTEX_SHADER,I+m+s),E=xee(r,r.FRAGMENT_SHADER,B);function b(D){if(n.debug.checkShaderErrors){const T=r.getProgramInfoLog(d).trim(),O=r.getShaderInfoLog(y).trim(),G=r.getShaderInfoLog(E).trim();let W=!0,k=!0;if(!1===r.getProgramParameter(d,r.LINK_STATUS))if(W=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,d,y,E);else{const L=Ree(r,y,"vertex"),J=Ree(r,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(d,r.VALIDATE_STATUS)+"\n\nMaterial Name: "+D.name+"\nMaterial Type: "+D.type+"\n\nProgram Info Log: "+T+"\n"+L+"\n"+J)}else""!==T?console.warn("THREE.WebGLProgram: Program Info Log:",T):(""===O||""===G)&&(k=!1);k&&(D.diagnostics={runnable:W,programLog:T,vertexShader:{log:O,prefix:m},fragmentShader:{log:G,prefix:p}})}r.deleteShader(y),r.deleteShader(E),S=new m2(r,d),w=function ake(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const A=n.getActiveAttrib(e,r),s=A.name;let o=1;A.type===n.FLOAT_MAT2&&(o=2),A.type===n.FLOAT_MAT3&&(o=3),A.type===n.FLOAT_MAT4&&(o=4),t[s]={type:A.type,location:n.getAttribLocation(e,s),locationSize:o}}return t}(r,d)}let S,w;r.attachShader(d,y),r.attachShader(d,E),void 0!==t.index0AttributeName?r.bindAttribLocation(d,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(d,0,"position"),r.linkProgram(d),this.getUniforms=function(){return void 0===S&&b(this),S},this.getAttributes=function(){return void 0===w&&b(this),w};let M=!1===t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===M&&(M=r.getProgramParameter(d,$Te)),M},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(d),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=eke++,this.cacheKey=e,this.usedTimes=1,this.program=d,this.vertexShader=y,this.fragmentShader=E,this}let Bke=0;class Eke{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),A=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return!1===s.has(r)&&(s.add(r),r.usedTimes++),!1===s.has(A)&&(s.add(A),A.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new vke(e),t.set(e,i)),i}}class vke{constructor(e){this.id=Bke++,this.code=e,this.usedTimes=0}}function yke(n,e,t,i,r,A,s){const o=new DP,a=new Eke,c=new Set,l=[],u=r.logarithmicDepthBuffer,h=r.vertexTextures;let g=r.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function d(w){return c.add(w),0===w?"uv":`uv${w}`}return{getParameters:function m(w,M,D,T,O){const G=T.fog,W=O.geometry,L=(w.isMeshStandardMaterial?t:e).get(w.envMap||(w.isMeshStandardMaterial?T.environment:null)),J=L&&L.mapping===X_?L.image.height:null,H=f[w.type];null!==w.precision&&(g=r.getMaxPrecision(w.precision),g!==w.precision&&console.warn("THREE.WebGLProgram.getParameters:",w.precision,"not supported, using",g,"instead."));const ue=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,ye=void 0!==ue?ue.length:0;let z,Z,le,ce,K=0;if(void 0!==W.morphAttributes.position&&(K=1),void 0!==W.morphAttributes.normal&&(K=2),void 0!==W.morphAttributes.color&&(K=3),H){const sr=Qf[H];z=sr.vertexShader,Z=sr.fragmentShader}else z=w.vertexShader,Z=w.fragmentShader,a.update(w),le=a.getVertexShaderID(w),ce=a.getFragmentShaderID(w);const ge=n.getRenderTarget(),re=n.state.buffers.depth.getReversed(),ie=!0===O.isInstancedMesh,me=!0===O.isBatchedMesh,be=!!w.map,Ne=!!L,Ae=!!w.aoMap,ee=!!w.lightMap,j=!!w.bumpMap,Te=!!w.normalMap,Me=!!w.displacementMap,Oe=!!w.emissiveMap,Ge=!!w.metalnessMap,oe=!!w.roughnessMap,te=w.anisotropy>0,Ye=w.clearcoat>0,ut=w.iridescence>0,it=w.sheen>0,Jt=w.transmission>0,Yt=te&&!!w.anisotropyMap,Ot=Ye&&!!w.clearcoatMap,Sn=Ye&&!!w.clearcoatNormalMap,ct=Ye&&!!w.clearcoatRoughnessMap,Dn=ut&&!!w.iridescenceMap,se=ut&&!!w.iridescenceThicknessMap,P=it&&!!w.sheenColorMap,V=it&&!!w.sheenRoughnessMap,F=!!w.specularMap,$=!!w.specularColorMap,we=!!w.specularIntensityMap,Ee=Jt&&!!w.transmissionMap,Ct=Jt&&!!w.thicknessMap,Nt=!!w.alphaMap,Rn=!!w.extensions;let iA=ym;w.toneMapped&&(null===ge||!0===ge.isXRRenderTarget)&&(iA=n.toneMapping);const Sr={shaderID:H,shaderType:w.type,shaderName:w.name,vertexShader:z,fragmentShader:Z,defines:w.defines,customVertexShaderID:le,customFragmentShaderID:ce,isRawShaderMaterial:!0===w.isRawShaderMaterial,glslVersion:w.glslVersion,precision:g,batching:me,batchingColor:me&&null!==O._colorsTexture,instancing:ie,instancingColor:ie&&null!==O.instanceColor,instancingMorph:ie&&null!==O.morphTexture,supportsVertexTextures:h,outputColorSpace:null===ge?n.outputColorSpace:!0===ge.isXRRenderTarget?ge.texture.colorSpace:z0,alphaToCoverage:!!w.alphaToCoverage,map:be,matcap:!!w.matcap,envMap:Ne,envMapMode:Ne&&L.mapping,envMapCubeUVHeight:J,aoMap:Ae,lightMap:ee,bumpMap:j,normalMap:Te,displacementMap:h&&Me,emissiveMap:Oe,normalMapObjectSpace:Te&&1===w.normalMapType,normalMapTangentSpace:Te&&0===w.normalMapType,metalnessMap:Ge,roughnessMap:oe,anisotropy:te,anisotropyMap:Yt,clearcoat:Ye,clearcoatMap:Ot,clearcoatNormalMap:Sn,clearcoatRoughnessMap:ct,dispersion:w.dispersion>0,iridescence:ut,iridescenceMap:Dn,iridescenceThicknessMap:se,sheen:it,sheenColorMap:P,sheenRoughnessMap:V,specularMap:F,specularColorMap:$,specularIntensityMap:we,transmission:Jt,transmissionMap:Ee,thicknessMap:Ct,gradientMap:!!w.gradientMap,opaque:!1===w.transparent&&1===w.blending&&!1===w.alphaToCoverage,alphaMap:Nt,alphaTest:w.alphaTest>0,alphaHash:!!w.alphaHash,combine:w.combine,mapUv:be&&d(w.map.channel),aoMapUv:Ae&&d(w.aoMap.channel),lightMapUv:ee&&d(w.lightMap.channel),bumpMapUv:j&&d(w.bumpMap.channel),normalMapUv:Te&&d(w.normalMap.channel),displacementMapUv:Me&&d(w.displacementMap.channel),emissiveMapUv:Oe&&d(w.emissiveMap.channel),metalnessMapUv:Ge&&d(w.metalnessMap.channel),roughnessMapUv:oe&&d(w.roughnessMap.channel),anisotropyMapUv:Yt&&d(w.anisotropyMap.channel),clearcoatMapUv:Ot&&d(w.clearcoatMap.channel),clearcoatNormalMapUv:Sn&&d(w.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ct&&d(w.clearcoatRoughnessMap.channel),iridescenceMapUv:Dn&&d(w.iridescenceMap.channel),iridescenceThicknessMapUv:se&&d(w.iridescenceThicknessMap.channel),sheenColorMapUv:P&&d(w.sheenColorMap.channel),sheenRoughnessMapUv:V&&d(w.sheenRoughnessMap.channel),specularMapUv:F&&d(w.specularMap.channel),specularColorMapUv:$&&d(w.specularColorMap.channel),specularIntensityMapUv:we&&d(w.specularIntensityMap.channel),transmissionMapUv:Ee&&d(w.transmissionMap.channel),thicknessMapUv:Ct&&d(w.thicknessMap.channel),alphaMapUv:Nt&&d(w.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(Te||te),vertexColors:w.vertexColors,vertexAlphas:!0===w.vertexColors&&!!W.attributes.color&&4===W.attributes.color.itemSize,pointsUvs:!0===O.isPoints&&!!W.attributes.uv&&(be||Nt),fog:!!G,useFog:!0===w.fog,fogExp2:!!G&&G.isFogExp2,flatShading:!0===w.flatShading,sizeAttenuation:!0===w.sizeAttenuation,logarithmicDepthBuffer:u,reverseDepthBuffer:re,skinning:!0===O.isSkinnedMesh,morphTargets:void 0!==W.morphAttributes.position,morphNormals:void 0!==W.morphAttributes.normal,morphColors:void 0!==W.morphAttributes.color,morphTargetsCount:ye,morphTextureStride:K,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numSpotLightMaps:M.spotLightMap.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numSpotLightShadowsWithMaps:M.numSpotLightShadowsWithMaps,numLightProbes:M.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:w.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:iA,decodeVideoTexture:be&&!0===w.map.isVideoTexture&&BA.getTransfer(w.map.colorSpace)===is,decodeVideoTextureEmissive:Oe&&!0===w.emissiveMap.isVideoTexture&&BA.getTransfer(w.emissiveMap.colorSpace)===is,premultipliedAlpha:w.premultipliedAlpha,doubleSided:2===w.side,flipSided:1===w.side,useDepthPacking:w.depthPacking>=0,depthPacking:w.depthPacking||0,index0AttributeName:w.index0AttributeName,extensionClipCullDistance:Rn&&!0===w.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Rn&&!0===w.extensions.multiDraw||me)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:w.customProgramCacheKey()};return Sr.vertexUv1s=c.has(1),Sr.vertexUv2s=c.has(2),Sr.vertexUv3s=c.has(3),c.clear(),Sr},getProgramCacheKey:function p(w){const M=[];if(w.shaderID?M.push(w.shaderID):(M.push(w.customVertexShaderID),M.push(w.customFragmentShaderID)),void 0!==w.defines)for(const D in w.defines)M.push(D),M.push(w.defines[D]);return!1===w.isRawShaderMaterial&&(function I(w,M){w.push(M.precision),w.push(M.outputColorSpace),w.push(M.envMapMode),w.push(M.envMapCubeUVHeight),w.push(M.mapUv),w.push(M.alphaMapUv),w.push(M.lightMapUv),w.push(M.aoMapUv),w.push(M.bumpMapUv),w.push(M.normalMapUv),w.push(M.displacementMapUv),w.push(M.emissiveMapUv),w.push(M.metalnessMapUv),w.push(M.roughnessMapUv),w.push(M.anisotropyMapUv),w.push(M.clearcoatMapUv),w.push(M.clearcoatNormalMapUv),w.push(M.clearcoatRoughnessMapUv),w.push(M.iridescenceMapUv),w.push(M.iridescenceThicknessMapUv),w.push(M.sheenColorMapUv),w.push(M.sheenRoughnessMapUv),w.push(M.specularMapUv),w.push(M.specularColorMapUv),w.push(M.specularIntensityMapUv),w.push(M.transmissionMapUv),w.push(M.thicknessMapUv),w.push(M.combine),w.push(M.fogExp2),w.push(M.sizeAttenuation),w.push(M.morphTargetsCount),w.push(M.morphAttributeCount),w.push(M.numDirLights),w.push(M.numPointLights),w.push(M.numSpotLights),w.push(M.numSpotLightMaps),w.push(M.numHemiLights),w.push(M.numRectAreaLights),w.push(M.numDirLightShadows),w.push(M.numPointLightShadows),w.push(M.numSpotLightShadows),w.push(M.numSpotLightShadowsWithMaps),w.push(M.numLightProbes),w.push(M.shadowMapType),w.push(M.toneMapping),w.push(M.numClippingPlanes),w.push(M.numClipIntersection),w.push(M.depthPacking)}(M,w),function C(w,M){o.disableAll(),M.supportsVertexTextures&&o.enable(0),M.instancing&&o.enable(1),M.instancingColor&&o.enable(2),M.instancingMorph&&o.enable(3),M.matcap&&o.enable(4),M.envMap&&o.enable(5),M.normalMapObjectSpace&&o.enable(6),M.normalMapTangentSpace&&o.enable(7),M.clearcoat&&o.enable(8),M.iridescence&&o.enable(9),M.alphaTest&&o.enable(10),M.vertexColors&&o.enable(11),M.vertexAlphas&&o.enable(12),M.vertexUv1s&&o.enable(13),M.vertexUv2s&&o.enable(14),M.vertexUv3s&&o.enable(15),M.vertexTangents&&o.enable(16),M.anisotropy&&o.enable(17),M.alphaHash&&o.enable(18),M.batching&&o.enable(19),M.dispersion&&o.enable(20),M.batchingColor&&o.enable(21),w.push(o.mask),o.disableAll(),M.fog&&o.enable(0),M.useFog&&o.enable(1),M.flatShading&&o.enable(2),M.logarithmicDepthBuffer&&o.enable(3),M.reverseDepthBuffer&&o.enable(4),M.skinning&&o.enable(5),M.morphTargets&&o.enable(6),M.morphNormals&&o.enable(7),M.morphColors&&o.enable(8),M.premultipliedAlpha&&o.enable(9),M.shadowMapEnabled&&o.enable(10),M.doubleSided&&o.enable(11),M.flipSided&&o.enable(12),M.useDepthPacking&&o.enable(13),M.dithering&&o.enable(14),M.transmission&&o.enable(15),M.sheen&&o.enable(16),M.opaque&&o.enable(17),M.pointsUvs&&o.enable(18),M.decodeVideoTexture&&o.enable(19),M.decodeVideoTextureEmissive&&o.enable(20),M.alphaToCoverage&&o.enable(21),w.push(o.mask)}(M,w),M.push(n.outputColorSpace)),M.push(w.customProgramCacheKey),M.join()},getUniforms:function B(w){const M=f[w.type];let D;return D=M?MNe.clone(Qf[M].uniforms):w.uniforms,D},acquireProgram:function y(w,M){let D;for(let T=0,O=l.length;T<O;T++){const G=l[T];if(G.cacheKey===M){D=G,++D.usedTimes;break}}return void 0===D&&(D=new Ike(n,M,w,A),l.push(D)),D},releaseProgram:function E(w){if(0==--w.usedTimes){const M=l.indexOf(w);l[M]=l[l.length-1],l.pop(),w.destroy()}},releaseShaderCache:function b(w){a.remove(w)},programs:l,dispose:function S(){a.dispose()}}}function Qke(){let n=new WeakMap;return{has:function e(s){return n.has(s)},get:function t(s){let o=n.get(s);return void 0===o&&(o={},n.set(s,o)),o},remove:function i(s){n.delete(s)},update:function r(s,o,a){n.get(s)[o]=a},dispose:function A(){n=new WeakMap}}}function wke(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Oee(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Gee(){const n=[];let e=0;const t=[],i=[],r=[];function s(u,h,g,f,d,m){let p=n[e];return void 0===p?(p={id:u.id,object:u,geometry:h,material:g,groupOrder:f,renderOrder:u.renderOrder,z:d,group:m},n[e]=p):(p.id=u.id,p.object=u,p.geometry=h,p.material=g,p.groupOrder=f,p.renderOrder=u.renderOrder,p.z=d,p.group=m),e++,p}return{opaque:t,transmissive:i,transparent:r,init:function A(){e=0,t.length=0,i.length=0,r.length=0},push:function o(u,h,g,f,d,m){const p=s(u,h,g,f,d,m);g.transmission>0?i.push(p):!0===g.transparent?r.push(p):t.push(p)},unshift:function a(u,h,g,f,d,m){const p=s(u,h,g,f,d,m);g.transmission>0?i.unshift(p):!0===g.transparent?r.unshift(p):t.unshift(p)},finish:function l(){for(let u=e,h=n.length;u<h;u++){const g=n[u];if(null===g.id)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}},sort:function c(u,h){t.length>1&&t.sort(u||wke),i.length>1&&i.sort(h||Oee),r.length>1&&r.sort(h||Oee)}}}function _ke(){let n=new WeakMap;return{get:function e(i,r){const A=n.get(i);let s;return void 0===A?(s=new Gee,n.set(i,[s])):r>=A.length?(s=new Gee,A.push(s)):s=A[r],s},dispose:function t(){n=new WeakMap}}}function Dke(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ue,color:new Wn};break;case"SpotLight":t={position:new Ue,direction:new Ue,color:new Wn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ue,color:new Wn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ue,skyColor:new Wn,groundColor:new Wn};break;case"RectAreaLight":t={color:new Wn,position:new Ue,halfWidth:new Ue,halfHeight:new Ue}}return n[e.id]=t,t}}}let Ske=0;function Mke(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Nke(n){const e=new Dke,t=function bke(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $t};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $t,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new Ue);const r=new Ue,A=new Pi,s=new Pi;return{setup:function o(c){let l=0,u=0,h=0;for(let w=0;w<9;w++)i.probe[w].set(0,0,0);let g=0,f=0,d=0,m=0,p=0,I=0,C=0,B=0,y=0,E=0,b=0;c.sort(Mke);for(let w=0,M=c.length;w<M;w++){const D=c[w],T=D.color,O=D.intensity,G=D.distance,W=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)l+=T.r*O,u+=T.g*O,h+=T.b*O;else if(D.isLightProbe){for(let k=0;k<9;k++)i.probe[k].addScaledVector(D.sh.coefficients[k],O);b++}else if(D.isDirectionalLight){const k=e.get(D);if(k.color.copy(D.color).multiplyScalar(D.intensity),D.castShadow){const L=D.shadow,J=t.get(D);J.shadowIntensity=L.intensity,J.shadowBias=L.bias,J.shadowNormalBias=L.normalBias,J.shadowRadius=L.radius,J.shadowMapSize=L.mapSize,i.directionalShadow[g]=J,i.directionalShadowMap[g]=W,i.directionalShadowMatrix[g]=D.shadow.matrix,I++}i.directional[g]=k,g++}else if(D.isSpotLight){const k=e.get(D);k.position.setFromMatrixPosition(D.matrixWorld),k.color.copy(T).multiplyScalar(O),k.distance=G,k.coneCos=Math.cos(D.angle),k.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),k.decay=D.decay,i.spot[d]=k;const L=D.shadow;if(D.map&&(i.spotLightMap[y]=D.map,y++,L.updateMatrices(D),D.castShadow&&E++),i.spotLightMatrix[d]=L.matrix,D.castShadow){const J=t.get(D);J.shadowIntensity=L.intensity,J.shadowBias=L.bias,J.shadowNormalBias=L.normalBias,J.shadowRadius=L.radius,J.shadowMapSize=L.mapSize,i.spotShadow[d]=J,i.spotShadowMap[d]=W,B++}d++}else if(D.isRectAreaLight){const k=e.get(D);k.color.copy(T).multiplyScalar(O),k.halfWidth.set(.5*D.width,0,0),k.halfHeight.set(0,.5*D.height,0),i.rectArea[m]=k,m++}else if(D.isPointLight){const k=e.get(D);if(k.color.copy(D.color).multiplyScalar(D.intensity),k.distance=D.distance,k.decay=D.decay,D.castShadow){const L=D.shadow,J=t.get(D);J.shadowIntensity=L.intensity,J.shadowBias=L.bias,J.shadowNormalBias=L.normalBias,J.shadowRadius=L.radius,J.shadowMapSize=L.mapSize,J.shadowCameraNear=L.camera.near,J.shadowCameraFar=L.camera.far,i.pointShadow[f]=J,i.pointShadowMap[f]=W,i.pointShadowMatrix[f]=D.shadow.matrix,C++}i.point[f]=k,f++}else if(D.isHemisphereLight){const k=e.get(D);k.skyColor.copy(D.color).multiplyScalar(O),k.groundColor.copy(D.groundColor).multiplyScalar(O),i.hemi[p]=k,p++}}m>0&&(!0===n.has("OES_texture_float_linear")?(i.rectAreaLTC1=Kn.LTC_FLOAT_1,i.rectAreaLTC2=Kn.LTC_FLOAT_2):(i.rectAreaLTC1=Kn.LTC_HALF_1,i.rectAreaLTC2=Kn.LTC_HALF_2)),i.ambient[0]=l,i.ambient[1]=u,i.ambient[2]=h;const S=i.hash;(S.directionalLength!==g||S.pointLength!==f||S.spotLength!==d||S.rectAreaLength!==m||S.hemiLength!==p||S.numDirectionalShadows!==I||S.numPointShadows!==C||S.numSpotShadows!==B||S.numSpotMaps!==y||S.numLightProbes!==b)&&(i.directional.length=g,i.spot.length=d,i.rectArea.length=m,i.point.length=f,i.hemi.length=p,i.directionalShadow.length=I,i.directionalShadowMap.length=I,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=B,i.spotShadowMap.length=B,i.directionalShadowMatrix.length=I,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=B+y-E,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=E,i.numLightProbes=b,S.directionalLength=g,S.pointLength=f,S.spotLength=d,S.rectAreaLength=m,S.hemiLength=p,S.numDirectionalShadows=I,S.numPointShadows=C,S.numSpotShadows=B,S.numSpotMaps=y,S.numLightProbes=b,i.version=Ske++)},setupView:function a(c,l){let u=0,h=0,g=0,f=0,d=0;const m=l.matrixWorldInverse;for(let p=0,I=c.length;p<I;p++){const C=c[p];if(C.isDirectionalLight){const B=i.directional[u];B.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),B.direction.sub(r),B.direction.transformDirection(m),u++}else if(C.isSpotLight){const B=i.spot[g];B.position.setFromMatrixPosition(C.matrixWorld),B.position.applyMatrix4(m),B.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),B.direction.sub(r),B.direction.transformDirection(m),g++}else if(C.isRectAreaLight){const B=i.rectArea[f];B.position.setFromMatrixPosition(C.matrixWorld),B.position.applyMatrix4(m),s.identity(),A.copy(C.matrixWorld),A.premultiply(m),s.extractRotation(A),B.halfWidth.set(.5*C.width,0,0),B.halfHeight.set(0,.5*C.height,0),B.halfWidth.applyMatrix4(s),B.halfHeight.applyMatrix4(s),f++}else if(C.isPointLight){const B=i.point[h];B.position.setFromMatrixPosition(C.matrixWorld),B.position.applyMatrix4(m),h++}else if(C.isHemisphereLight){const B=i.hemi[d];B.direction.setFromMatrixPosition(C.matrixWorld),B.direction.transformDirection(m),d++}}},state:i}}function Pee(n){const e=new Nke(n),t=[],i=[],c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function r(l){c.camera=l,t.length=0,i.length=0},state:c,setupLights:function o(){e.setup(t)},setupLightsView:function a(l){e.setupView(t,l)},pushLight:function A(l){t.push(l)},pushShadow:function s(l){i.push(l)}}}function xke(n){let e=new WeakMap;return{get:function t(r,A=0){const s=e.get(r);let o;return void 0===s?(o=new Pee(n),e.set(r,[o])):A>=s.length?(o=new Pee(n),s.push(o)):o=s[A],o},dispose:function i(){e=new WeakMap}}}function Tke(n,e,t){let i=new xx;const r=new $t,A=new $t,s=new DA,o=new S$({depthPacking:3201}),a=new M$,c={},l=t.maxTextureSize,u={0:1,1:0,2:2},h=new Ef({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $t},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),g=h.clone();g.defines.HORIZONTAL_PASS=1;const f=new Dr;f.setAttribute("position",new gs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const d=new wo(f,h),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=tX;let p=this.type;function I(E,b){const S=e.update(d);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,g.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,g.needsUpdate=!0),null===E.mapPass&&(E.mapPass=new Bf(r.x,r.y)),h.uniforms.shadow_pass.value=E.map.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(b,null,S,h,d,null),g.uniforms.shadow_pass.value=E.mapPass.texture,g.uniforms.resolution.value=E.mapSize,g.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(b,null,S,g,d,null)}function C(E,b,S,w){let M=null;const D=!0===S.isPointLight?E.customDistanceMaterial:E.customDepthMaterial;if(void 0!==D)M=D;else if(M=!0===S.isPointLight?a:o,n.localClippingEnabled&&!0===b.clipShadows&&Array.isArray(b.clippingPlanes)&&0!==b.clippingPlanes.length||b.displacementMap&&0!==b.displacementScale||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0){const T=M.uuid,O=b.uuid;let G=c[T];void 0===G&&(G={},c[T]=G);let W=G[O];void 0===W&&(W=M.clone(),G[O]=W,b.addEventListener("dispose",y)),M=W}return M.visible=b.visible,M.wireframe=b.wireframe,M.side=w===Sd?null!==b.shadowSide?b.shadowSide:b.side:null!==b.shadowSide?b.shadowSide:u[b.side],M.alphaMap=b.alphaMap,M.alphaTest=b.alphaTest,M.map=b.map,M.clipShadows=b.clipShadows,M.clippingPlanes=b.clippingPlanes,M.clipIntersection=b.clipIntersection,M.displacementMap=b.displacementMap,M.displacementScale=b.displacementScale,M.displacementBias=b.displacementBias,M.wireframeLinewidth=b.wireframeLinewidth,M.linewidth=b.linewidth,!0===S.isPointLight&&!0===M.isMeshDistanceMaterial&&(n.properties.get(M).light=S),M}function B(E,b,S,w,M){if(!1===E.visible)return;if(E.layers.test(b.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&M===Sd)&&(!E.frustumCulled||i.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,E.matrixWorld);const O=e.update(E),G=E.material;if(Array.isArray(G)){const W=O.groups;for(let k=0,L=W.length;k<L;k++){const J=W[k],H=G[J.materialIndex];if(H&&H.visible){const ue=C(E,H,w,M);E.onBeforeShadow(n,E,b,S,O,ue,J),n.renderBufferDirect(S,null,O,ue,E,J),E.onAfterShadow(n,E,b,S,O,ue,J)}}}else if(G.visible){const W=C(E,G,w,M);E.onBeforeShadow(n,E,b,S,O,W,null),n.renderBufferDirect(S,null,O,W,E,null),E.onAfterShadow(n,E,b,S,O,W,null)}}const T=E.children;for(let O=0,G=T.length;O<G;O++)B(T[O],b,S,w,M)}function y(E){E.target.removeEventListener("dispose",y);for(const S in c){const w=c[S],M=E.target.uuid;M in w&&(w[M].dispose(),delete w[M])}}this.render=function(E,b,S){if(!1===m.enabled||!1===m.autoUpdate&&!1===m.needsUpdate||0===E.length)return;const w=n.getRenderTarget(),M=n.getActiveCubeFace(),D=n.getActiveMipmapLevel(),T=n.state;T.setBlending(0),T.buffers.color.setClear(1,1,1,1),T.buffers.depth.setTest(!0),T.setScissorTest(!1);const O=p!==Sd&&this.type===Sd,G=p===Sd&&this.type!==Sd;for(let W=0,k=E.length;W<k;W++){const L=E[W],J=L.shadow;if(void 0===J){console.warn("THREE.WebGLShadowMap:",L,"has no shadow.");continue}if(!1===J.autoUpdate&&!1===J.needsUpdate)continue;r.copy(J.mapSize);const H=J.getFrameExtents();if(r.multiply(H),A.copy(J.mapSize),(r.x>l||r.y>l)&&(r.x>l&&(A.x=Math.floor(l/H.x),r.x=A.x*H.x,J.mapSize.x=A.x),r.y>l&&(A.y=Math.floor(l/H.y),r.y=A.y*H.y,J.mapSize.y=A.y)),null===J.map||!0===O||!0===G){const ye=this.type!==Sd?{minFilter:Bc,magFilter:Bc}:{};null!==J.map&&J.map.dispose(),J.map=new Bf(r.x,r.y,ye),J.map.texture.name=L.name+".shadowMap",J.camera.updateProjectionMatrix()}n.setRenderTarget(J.map),n.clear();const ue=J.getViewportCount();for(let ye=0;ye<ue;ye++){const K=J.getViewport(ye);s.set(A.x*K.x,A.y*K.y,A.x*K.z,A.y*K.w),T.viewport(s),J.updateMatrices(L,ye),i=J.getFrustum(),B(b,S,J.camera,L,this.type)}!0!==J.isPointLightShadow&&this.type===Sd&&I(J,S),J.needsUpdate=!1}p=this.type,m.needsUpdate=!1,n.setRenderTarget(w,M,D)}}const kke={0:1,2:6,4:7,3:5,1:0,6:2,7:4,5:3};function Lke(n,e){const A=new function t(){let Ee=!1;const Ct=new DA;let rt=null;const Nt=new DA(0,0,0,0);return{setMask:function(In){rt!==In&&!Ee&&(n.colorMask(In,In,In,In),rt=In)},setLocked:function(In){Ee=In},setClear:function(In,jt,Rn,iA,Sr){!0===Sr&&(In*=iA,jt*=iA,Rn*=iA),Ct.set(In,jt,Rn,iA),!1===Nt.equals(Ct)&&(n.clearColor(In,jt,Rn,iA),Nt.copy(Ct))},reset:function(){Ee=!1,rt=null,Nt.set(-1,0,0,0)}}},s=new function i(){let Ee=!1,Ct=!1,rt=null,Nt=null,In=null;return{setReversed:function(jt){if(Ct!==jt){const Rn=e.get("EXT_clip_control");Rn.clipControlEXT(Rn.LOWER_LEFT_EXT,Ct?Rn.ZERO_TO_ONE_EXT:Rn.NEGATIVE_ONE_TO_ONE_EXT);const iA=In;In=null,this.setClear(iA)}Ct=jt},getReversed:function(){return Ct},setTest:function(jt){jt?ge(n.DEPTH_TEST):re(n.DEPTH_TEST)},setMask:function(jt){rt!==jt&&!Ee&&(n.depthMask(jt),rt=jt)},setFunc:function(jt){if(Ct&&(jt=kke[jt]),Nt!==jt){switch(jt){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}Nt=jt}},setLocked:function(jt){Ee=jt},setClear:function(jt){In!==jt&&(Ct&&(jt=1-jt),n.clearDepth(jt),In=jt)},reset:function(){Ee=!1,rt=null,Nt=null,In=null,Ct=!1}}},o=new function r(){let Ee=!1,Ct=null,rt=null,Nt=null,In=null,jt=null,Rn=null,iA=null,Sr=null;return{setTest:function(sr){Ee||(sr?ge(n.STENCIL_TEST):re(n.STENCIL_TEST))},setMask:function(sr){Ct!==sr&&!Ee&&(n.stencilMask(sr),Ct=sr)},setFunc:function(sr,Hs,ii){(rt!==sr||Nt!==Hs||In!==ii)&&(n.stencilFunc(sr,Hs,ii),rt=sr,Nt=Hs,In=ii)},setOp:function(sr,Hs,ii){(jt!==sr||Rn!==Hs||iA!==ii)&&(n.stencilOp(sr,Hs,ii),jt=sr,Rn=Hs,iA=ii)},setLocked:function(sr){Ee=sr},setClear:function(sr){Sr!==sr&&(n.clearStencil(sr),Sr=sr)},reset:function(){Ee=!1,Ct=null,rt=null,Nt=null,In=null,jt=null,Rn=null,iA=null,Sr=null}}},a=new WeakMap,c=new WeakMap;let l={},u={},h=new WeakMap,g=[],f=null,d=!1,m=null,p=null,I=null,C=null,B=null,y=null,E=null,b=new Wn(0,0,0),S=0,w=!1,M=null,D=null,T=null,O=null,G=null;const W=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,L=0;const J=n.getParameter(n.VERSION);-1!==J.indexOf("WebGL")?(L=parseFloat(/^WebGL (\d)/.exec(J)[1]),k=L>=1):-1!==J.indexOf("OpenGL ES")&&(L=parseFloat(/^OpenGL ES (\d)/.exec(J)[1]),k=L>=2);let H=null,ue={};const ye=n.getParameter(n.SCISSOR_BOX),K=n.getParameter(n.VIEWPORT),z=(new DA).fromArray(ye),Z=(new DA).fromArray(K);function le(Ee,Ct,rt,Nt){const In=new Uint8Array(4),jt=n.createTexture();n.bindTexture(Ee,jt),n.texParameteri(Ee,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ee,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Rn=0;Rn<rt;Rn++)Ee===n.TEXTURE_3D||Ee===n.TEXTURE_2D_ARRAY?n.texImage3D(Ct,0,n.RGBA,1,1,Nt,0,n.RGBA,n.UNSIGNED_BYTE,In):n.texImage2D(Ct+Rn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,In);return jt}const ce={};function ge(Ee){!0!==l[Ee]&&(n.enable(Ee),l[Ee]=!0)}function re(Ee){!1!==l[Ee]&&(n.disable(Ee),l[Ee]=!1)}ce[n.TEXTURE_2D]=le(n.TEXTURE_2D,n.TEXTURE_2D,1),ce[n.TEXTURE_CUBE_MAP]=le(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ce[n.TEXTURE_2D_ARRAY]=le(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ce[n.TEXTURE_3D]=le(n.TEXTURE_3D,n.TEXTURE_3D,1,1),A.setClear(0,0,0,1),s.setClear(1),o.setClear(0),ge(n.DEPTH_TEST),s.setFunc(3),j(!1),Te(1),ge(n.CULL_FACE),Ae(0);const Ie={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};Ie[103]=n.MIN,Ie[104]=n.MAX;const Ne={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA,211:n.CONSTANT_COLOR,212:n.ONE_MINUS_CONSTANT_COLOR,213:n.CONSTANT_ALPHA,214:n.ONE_MINUS_CONSTANT_ALPHA};function Ae(Ee,Ct,rt,Nt,In,jt,Rn,iA,Sr,sr){if(0!==Ee){if(!1===d&&(ge(n.BLEND),d=!0),5===Ee)In=In||Ct,jt=jt||rt,Rn=Rn||Nt,(Ct!==p||In!==B)&&(n.blendEquationSeparate(Ie[Ct],Ie[In]),p=Ct,B=In),(rt!==I||Nt!==C||jt!==y||Rn!==E)&&(n.blendFuncSeparate(Ne[rt],Ne[Nt],Ne[jt],Ne[Rn]),I=rt,C=Nt,y=jt,E=Rn),(!1===iA.equals(b)||Sr!==S)&&(n.blendColor(iA.r,iA.g,iA.b,Sr),b.copy(iA),S=Sr),m=Ee,w=!1;else if(Ee!==m||sr!==w){if((100!==p||100!==B)&&(n.blendEquation(n.FUNC_ADD),p=100,B=100),sr)switch(Ee){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ee)}else switch(Ee){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ee)}I=null,C=null,y=null,E=null,b.set(0,0,0),S=0,m=Ee,w=sr}}else!0===d&&(re(n.BLEND),d=!1)}function j(Ee){M!==Ee&&(n.frontFace(Ee?n.CW:n.CCW),M=Ee)}function Te(Ee){0!==Ee?(ge(n.CULL_FACE),Ee!==D&&n.cullFace(1===Ee?n.BACK:2===Ee?n.FRONT:n.FRONT_AND_BACK)):re(n.CULL_FACE),D=Ee}function Oe(Ee,Ct,rt){Ee?(ge(n.POLYGON_OFFSET_FILL),(O!==Ct||G!==rt)&&(n.polygonOffset(Ct,rt),O=Ct,G=rt)):re(n.POLYGON_OFFSET_FILL)}return{buffers:{color:A,depth:s,stencil:o},enable:ge,disable:re,bindFramebuffer:function ie(Ee,Ct){return u[Ee]!==Ct&&(n.bindFramebuffer(Ee,Ct),u[Ee]=Ct,Ee===n.DRAW_FRAMEBUFFER&&(u[n.FRAMEBUFFER]=Ct),Ee===n.FRAMEBUFFER&&(u[n.DRAW_FRAMEBUFFER]=Ct),!0)},drawBuffers:function me(Ee,Ct){let rt=g,Nt=!1;if(Ee){rt=h.get(Ct),void 0===rt&&(rt=[],h.set(Ct,rt));const In=Ee.textures;if(rt.length!==In.length||rt[0]!==n.COLOR_ATTACHMENT0){for(let jt=0,Rn=In.length;jt<Rn;jt++)rt[jt]=n.COLOR_ATTACHMENT0+jt;rt.length=In.length,Nt=!0}}else rt[0]!==n.BACK&&(rt[0]=n.BACK,Nt=!0);Nt&&n.drawBuffers(rt)},useProgram:function be(Ee){return f!==Ee&&(n.useProgram(Ee),f=Ee,!0)},setBlending:Ae,setMaterial:function ee(Ee,Ct){2===Ee.side?re(n.CULL_FACE):ge(n.CULL_FACE);let rt=1===Ee.side;Ct&&(rt=!rt),j(rt),1===Ee.blending&&!1===Ee.transparent?Ae(0):Ae(Ee.blending,Ee.blendEquation,Ee.blendSrc,Ee.blendDst,Ee.blendEquationAlpha,Ee.blendSrcAlpha,Ee.blendDstAlpha,Ee.blendColor,Ee.blendAlpha,Ee.premultipliedAlpha),s.setFunc(Ee.depthFunc),s.setTest(Ee.depthTest),s.setMask(Ee.depthWrite),A.setMask(Ee.colorWrite);const Nt=Ee.stencilWrite;o.setTest(Nt),Nt&&(o.setMask(Ee.stencilWriteMask),o.setFunc(Ee.stencilFunc,Ee.stencilRef,Ee.stencilFuncMask),o.setOp(Ee.stencilFail,Ee.stencilZFail,Ee.stencilZPass)),Oe(Ee.polygonOffset,Ee.polygonOffsetFactor,Ee.polygonOffsetUnits),!0===Ee.alphaToCoverage?ge(n.SAMPLE_ALPHA_TO_COVERAGE):re(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:j,setCullFace:Te,setLineWidth:function Me(Ee){Ee!==T&&(k&&n.lineWidth(Ee),T=Ee)},setPolygonOffset:Oe,setScissorTest:function Ge(Ee){Ee?ge(n.SCISSOR_TEST):re(n.SCISSOR_TEST)},activeTexture:function oe(Ee){void 0===Ee&&(Ee=n.TEXTURE0+W-1),H!==Ee&&(n.activeTexture(Ee),H=Ee)},bindTexture:function te(Ee,Ct,rt){void 0===rt&&(rt=null===H?n.TEXTURE0+W-1:H);let Nt=ue[rt];void 0===Nt&&(Nt={type:void 0,texture:void 0},ue[rt]=Nt),(Nt.type!==Ee||Nt.texture!==Ct)&&(H!==rt&&(n.activeTexture(rt),H=rt),n.bindTexture(Ee,Ct||ce[Ee]),Nt.type=Ee,Nt.texture=Ct)},unbindTexture:function Ye(){const Ee=ue[H];void 0!==Ee&&void 0!==Ee.type&&(n.bindTexture(Ee.type,null),Ee.type=void 0,Ee.texture=void 0)},compressedTexImage2D:function Ve(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},compressedTexImage3D:function ut(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},texImage2D:function Dn(){try{n.texImage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},texImage3D:function se(){try{n.texImage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},updateUBOMapping:function F(Ee,Ct){let rt=c.get(Ct);void 0===rt&&(rt=new WeakMap,c.set(Ct,rt));let Nt=rt.get(Ee);void 0===Nt&&(Nt=n.getUniformBlockIndex(Ct,Ee.name),rt.set(Ee,Nt))},uniformBlockBinding:function $(Ee,Ct){const Nt=c.get(Ct).get(Ee);a.get(Ct)!==Nt&&(n.uniformBlockBinding(Ct,Nt,Ee.__bindingPointIndex),a.set(Ct,Nt))},texStorage2D:function Sn(){try{n.texStorage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},texStorage3D:function ct(){try{n.texStorage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},texSubImage2D:function it(){try{n.texSubImage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},texSubImage3D:function Jt(){try{n.texSubImage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},compressedTexSubImage2D:function Yt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},compressedTexSubImage3D:function Ot(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},scissor:function P(Ee){!1===z.equals(Ee)&&(n.scissor(Ee.x,Ee.y,Ee.z,Ee.w),z.copy(Ee))},viewport:function V(Ee){!1===Z.equals(Ee)&&(n.viewport(Ee.x,Ee.y,Ee.z,Ee.w),Z.copy(Ee))},reset:function we(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),l={},H=null,ue={},u={},h=new WeakMap,g=[],f=null,d=!1,m=null,p=null,I=null,C=null,B=null,y=null,E=null,b=new Wn(0,0,0),S=0,w=!1,M=null,D=null,T=null,O=null,G=null,z.set(0,0,n.canvas.width,n.canvas.height),Z.set(0,0,n.canvas.width,n.canvas.height),A.reset(),s.reset(),o.reset()}}}function Uke(n,e,t,i,r,A,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,a=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),c=new $t,l=new WeakMap;let u;const h=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function f(oe,te){return g?new OffscreenCanvas(oe,te):i1("canvas")}function d(oe,te,Ye){let Ve=1;const ut=Ge(oe);if((ut.width>Ye||ut.height>Ye)&&(Ve=Ye/Math.max(ut.width,ut.height)),Ve<1){if(typeof HTMLImageElement<"u"&&oe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&oe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&oe instanceof ImageBitmap||typeof VideoFrame<"u"&&oe instanceof VideoFrame){const it=Math.floor(Ve*ut.width),Jt=Math.floor(Ve*ut.height);void 0===u&&(u=f(it,Jt));const Yt=te?f(it,Jt):u;return Yt.width=it,Yt.height=Jt,Yt.getContext("2d").drawImage(oe,0,0,it,Jt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ut.width+"x"+ut.height+") to ("+it+"x"+Jt+")."),Yt}return"data"in oe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ut.width+"x"+ut.height+")."),oe}return oe}function m(oe){return oe.generateMipmaps}function p(oe){n.generateMipmap(oe)}function I(oe){return oe.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:oe.isWebGL3DRenderTarget?n.TEXTURE_3D:oe.isWebGLArrayRenderTarget||oe.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function C(oe,te,Ye,Ve,ut=!1){if(null!==oe){if(void 0!==n[oe])return n[oe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+oe+"'")}let it=te;if(te===n.RED&&(Ye===n.FLOAT&&(it=n.R32F),Ye===n.HALF_FLOAT&&(it=n.R16F),Ye===n.UNSIGNED_BYTE&&(it=n.R8)),te===n.RED_INTEGER&&(Ye===n.UNSIGNED_BYTE&&(it=n.R8UI),Ye===n.UNSIGNED_SHORT&&(it=n.R16UI),Ye===n.UNSIGNED_INT&&(it=n.R32UI),Ye===n.BYTE&&(it=n.R8I),Ye===n.SHORT&&(it=n.R16I),Ye===n.INT&&(it=n.R32I)),te===n.RG&&(Ye===n.FLOAT&&(it=n.RG32F),Ye===n.HALF_FLOAT&&(it=n.RG16F),Ye===n.UNSIGNED_BYTE&&(it=n.RG8)),te===n.RG_INTEGER&&(Ye===n.UNSIGNED_BYTE&&(it=n.RG8UI),Ye===n.UNSIGNED_SHORT&&(it=n.RG16UI),Ye===n.UNSIGNED_INT&&(it=n.RG32UI),Ye===n.BYTE&&(it=n.RG8I),Ye===n.SHORT&&(it=n.RG16I),Ye===n.INT&&(it=n.RG32I)),te===n.RGB_INTEGER&&(Ye===n.UNSIGNED_BYTE&&(it=n.RGB8UI),Ye===n.UNSIGNED_SHORT&&(it=n.RGB16UI),Ye===n.UNSIGNED_INT&&(it=n.RGB32UI),Ye===n.BYTE&&(it=n.RGB8I),Ye===n.SHORT&&(it=n.RGB16I),Ye===n.INT&&(it=n.RGB32I)),te===n.RGBA_INTEGER&&(Ye===n.UNSIGNED_BYTE&&(it=n.RGBA8UI),Ye===n.UNSIGNED_SHORT&&(it=n.RGBA16UI),Ye===n.UNSIGNED_INT&&(it=n.RGBA32UI),Ye===n.BYTE&&(it=n.RGBA8I),Ye===n.SHORT&&(it=n.RGBA16I),Ye===n.INT&&(it=n.RGBA32I)),te===n.RGB&&Ye===n.UNSIGNED_INT_5_9_9_9_REV&&(it=n.RGB9_E5),te===n.RGBA){const Jt=ut?Ax:BA.getTransfer(Ve);Ye===n.FLOAT&&(it=n.RGBA32F),Ye===n.HALF_FLOAT&&(it=n.RGBA16F),Ye===n.UNSIGNED_BYTE&&(it=Jt===is?n.SRGB8_ALPHA8:n.RGBA8),Ye===n.UNSIGNED_SHORT_4_4_4_4&&(it=n.RGBA4),Ye===n.UNSIGNED_SHORT_5_5_5_1&&(it=n.RGB5_A1)}return(it===n.R16F||it===n.R32F||it===n.RG16F||it===n.RG32F||it===n.RGBA16F||it===n.RGBA32F)&&e.get("EXT_color_buffer_float"),it}function B(oe,te){let Ye;return oe?null===te||te===wm||te===Y0?Ye=n.DEPTH24_STENCIL8:te===wu?Ye=n.DEPTH32F_STENCIL8:te===e1&&(Ye=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===te||te===wm||te===Y0?Ye=n.DEPTH_COMPONENT24:te===wu?Ye=n.DEPTH_COMPONENT32F:te===e1&&(Ye=n.DEPTH_COMPONENT16),Ye}function y(oe,te){return!0===m(oe)||oe.isFramebufferTexture&&oe.minFilter!==Bc&&oe.minFilter!==wa?Math.log2(Math.max(te.width,te.height))+1:void 0!==oe.mipmaps&&oe.mipmaps.length>0?oe.mipmaps.length:oe.isCompressedTexture&&Array.isArray(oe.image)?te.mipmaps.length:1}function E(oe){const te=oe.target;te.removeEventListener("dispose",E),function S(oe){const te=i.get(oe);if(void 0===te.__webglInit)return;const Ye=oe.source,Ve=h.get(Ye);if(Ve){const ut=Ve[te.__cacheKey];ut.usedTimes--,0===ut.usedTimes&&w(oe),0===Object.keys(Ve).length&&h.delete(Ye)}i.remove(oe)}(te),te.isVideoTexture&&l.delete(te)}function b(oe){const te=oe.target;te.removeEventListener("dispose",b),function M(oe){const te=i.get(oe);if(oe.depthTexture&&(oe.depthTexture.dispose(),i.remove(oe.depthTexture)),oe.isWebGLCubeRenderTarget)for(let Ve=0;Ve<6;Ve++){if(Array.isArray(te.__webglFramebuffer[Ve]))for(let ut=0;ut<te.__webglFramebuffer[Ve].length;ut++)n.deleteFramebuffer(te.__webglFramebuffer[Ve][ut]);else n.deleteFramebuffer(te.__webglFramebuffer[Ve]);te.__webglDepthbuffer&&n.deleteRenderbuffer(te.__webglDepthbuffer[Ve])}else{if(Array.isArray(te.__webglFramebuffer))for(let Ve=0;Ve<te.__webglFramebuffer.length;Ve++)n.deleteFramebuffer(te.__webglFramebuffer[Ve]);else n.deleteFramebuffer(te.__webglFramebuffer);if(te.__webglDepthbuffer&&n.deleteRenderbuffer(te.__webglDepthbuffer),te.__webglMultisampledFramebuffer&&n.deleteFramebuffer(te.__webglMultisampledFramebuffer),te.__webglColorRenderbuffer)for(let Ve=0;Ve<te.__webglColorRenderbuffer.length;Ve++)te.__webglColorRenderbuffer[Ve]&&n.deleteRenderbuffer(te.__webglColorRenderbuffer[Ve]);te.__webglDepthRenderbuffer&&n.deleteRenderbuffer(te.__webglDepthRenderbuffer)}const Ye=oe.textures;for(let Ve=0,ut=Ye.length;Ve<ut;Ve++){const it=i.get(Ye[Ve]);it.__webglTexture&&(n.deleteTexture(it.__webglTexture),s.memory.textures--),i.remove(Ye[Ve])}i.remove(oe)}(te)}function w(oe){const te=i.get(oe);n.deleteTexture(te.__webglTexture),delete h.get(oe.source)[te.__cacheKey],s.memory.textures--}let D=0;function W(oe,te){const Ye=i.get(oe);if(oe.isVideoTexture&&function Me(oe){const te=s.render.frame;l.get(oe)!==te&&(l.set(oe,te),oe.update())}(oe),!1===oe.isRenderTargetTexture&&oe.version>0&&Ye.__version!==oe.version){const Ve=oe.image;if(null===Ve)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Ve.complete)return void Z(Ye,oe,te);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,Ye.__webglTexture,n.TEXTURE0+te)}const H={1e3:n.REPEAT,[Ch]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},ue={[Bc]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[wa]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[Nd]:n.LINEAR_MIPMAP_LINEAR},ye={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function K(oe,te){if(te.type===wu&&!1===e.has("OES_texture_float_linear")&&(te.magFilter===wa||1007===te.magFilter||1005===te.magFilter||te.magFilter===Nd||te.minFilter===wa||1007===te.minFilter||1005===te.minFilter||te.minFilter===Nd)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(oe,n.TEXTURE_WRAP_S,H[te.wrapS]),n.texParameteri(oe,n.TEXTURE_WRAP_T,H[te.wrapT]),(oe===n.TEXTURE_3D||oe===n.TEXTURE_2D_ARRAY)&&n.texParameteri(oe,n.TEXTURE_WRAP_R,H[te.wrapR]),n.texParameteri(oe,n.TEXTURE_MAG_FILTER,ue[te.magFilter]),n.texParameteri(oe,n.TEXTURE_MIN_FILTER,ue[te.minFilter]),te.compareFunction&&(n.texParameteri(oe,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(oe,n.TEXTURE_COMPARE_FUNC,ye[te.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(te.magFilter===Bc||1005!==te.minFilter&&te.minFilter!==Nd||te.type===wu&&!1===e.has("OES_texture_float_linear"))return;if(te.anisotropy>1||i.get(te).__currentAnisotropy){const Ye=e.get("EXT_texture_filter_anisotropic");n.texParameterf(oe,Ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(te.anisotropy,r.getMaxAnisotropy())),i.get(te).__currentAnisotropy=te.anisotropy}}}function z(oe,te){let Ye=!1;void 0===oe.__webglInit&&(oe.__webglInit=!0,te.addEventListener("dispose",E));const Ve=te.source;let ut=h.get(Ve);void 0===ut&&(ut={},h.set(Ve,ut));const it=function G(oe){const te=[];return te.push(oe.wrapS),te.push(oe.wrapT),te.push(oe.wrapR||0),te.push(oe.magFilter),te.push(oe.minFilter),te.push(oe.anisotropy),te.push(oe.internalFormat),te.push(oe.format),te.push(oe.type),te.push(oe.generateMipmaps),te.push(oe.premultiplyAlpha),te.push(oe.flipY),te.push(oe.unpackAlignment),te.push(oe.colorSpace),te.join()}(te);if(it!==oe.__cacheKey){void 0===ut[it]&&(ut[it]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Ye=!0),ut[it].usedTimes++;const Jt=ut[oe.__cacheKey];void 0!==Jt&&(ut[oe.__cacheKey].usedTimes--,0===Jt.usedTimes&&w(te)),oe.__cacheKey=it,oe.__webglTexture=ut[it].texture}return Ye}function Z(oe,te,Ye){let Ve=n.TEXTURE_2D;(te.isDataArrayTexture||te.isCompressedArrayTexture)&&(Ve=n.TEXTURE_2D_ARRAY),te.isData3DTexture&&(Ve=n.TEXTURE_3D);const ut=z(oe,te),it=te.source;t.bindTexture(Ve,oe.__webglTexture,n.TEXTURE0+Ye);const Jt=i.get(it);if(it.version!==Jt.__version||!0===ut){t.activeTexture(n.TEXTURE0+Ye);const Yt=BA.getPrimaries(BA.workingColorSpace),Ot=""===te.colorSpace?null:BA.getPrimaries(te.colorSpace),Sn=""===te.colorSpace||Yt===Ot?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,te.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,te.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Sn);let ct=d(te.image,!1,r.maxTextureSize);ct=Oe(te,ct);const Dn=A.convert(te.format,te.colorSpace),se=A.convert(te.type);let V,P=C(te.internalFormat,Dn,se,te.colorSpace,te.isVideoTexture);K(Ve,te);const F=te.mipmaps,$=!0!==te.isVideoTexture,we=void 0===Jt.__version||!0===ut,Ee=it.dataReady,Ct=y(te,ct);if(te.isDepthTexture)P=B(te.format===q0,te.type),we&&($?t.texStorage2D(n.TEXTURE_2D,1,P,ct.width,ct.height):t.texImage2D(n.TEXTURE_2D,0,P,ct.width,ct.height,0,Dn,se,null));else if(te.isDataTexture)if(F.length>0){$&&we&&t.texStorage2D(n.TEXTURE_2D,Ct,P,F[0].width,F[0].height);for(let rt=0,Nt=F.length;rt<Nt;rt++)V=F[rt],$?Ee&&t.texSubImage2D(n.TEXTURE_2D,rt,0,0,V.width,V.height,Dn,se,V.data):t.texImage2D(n.TEXTURE_2D,rt,P,V.width,V.height,0,Dn,se,V.data);te.generateMipmaps=!1}else $?(we&&t.texStorage2D(n.TEXTURE_2D,Ct,P,ct.width,ct.height),Ee&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ct.width,ct.height,Dn,se,ct.data)):t.texImage2D(n.TEXTURE_2D,0,P,ct.width,ct.height,0,Dn,se,ct.data);else if(te.isCompressedTexture)if(te.isCompressedArrayTexture){$&&we&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ct,P,F[0].width,F[0].height,ct.depth);for(let rt=0,Nt=F.length;rt<Nt;rt++)if(V=F[rt],te.format!==Ul)if(null!==Dn)if($){if(Ee)if(te.layerUpdates.size>0){const In=F5(V.width,V.height,te.format,te.type);for(const jt of te.layerUpdates){const Rn=V.data.subarray(jt*In/V.data.BYTES_PER_ELEMENT,(jt+1)*In/V.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,rt,0,0,jt,V.width,V.height,1,Dn,Rn)}te.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,rt,0,0,0,V.width,V.height,ct.depth,Dn,V.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,rt,P,V.width,V.height,ct.depth,0,V.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else $?Ee&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,rt,0,0,0,V.width,V.height,ct.depth,Dn,se,V.data):t.texImage3D(n.TEXTURE_2D_ARRAY,rt,P,V.width,V.height,ct.depth,0,Dn,se,V.data)}else{$&&we&&t.texStorage2D(n.TEXTURE_2D,Ct,P,F[0].width,F[0].height);for(let rt=0,Nt=F.length;rt<Nt;rt++)V=F[rt],te.format!==Ul?null!==Dn?$?Ee&&t.compressedTexSubImage2D(n.TEXTURE_2D,rt,0,0,V.width,V.height,Dn,V.data):t.compressedTexImage2D(n.TEXTURE_2D,rt,P,V.width,V.height,0,V.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):$?Ee&&t.texSubImage2D(n.TEXTURE_2D,rt,0,0,V.width,V.height,Dn,se,V.data):t.texImage2D(n.TEXTURE_2D,rt,P,V.width,V.height,0,Dn,se,V.data)}else if(te.isDataArrayTexture)if($){if(we&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ct,P,ct.width,ct.height,ct.depth),Ee)if(te.layerUpdates.size>0){const rt=F5(ct.width,ct.height,te.format,te.type);for(const Nt of te.layerUpdates){const In=ct.data.subarray(Nt*rt/ct.data.BYTES_PER_ELEMENT,(Nt+1)*rt/ct.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Nt,ct.width,ct.height,1,Dn,se,In)}te.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ct.width,ct.height,ct.depth,Dn,se,ct.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,P,ct.width,ct.height,ct.depth,0,Dn,se,ct.data);else if(te.isData3DTexture)$?(we&&t.texStorage3D(n.TEXTURE_3D,Ct,P,ct.width,ct.height,ct.depth),Ee&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ct.width,ct.height,ct.depth,Dn,se,ct.data)):t.texImage3D(n.TEXTURE_3D,0,P,ct.width,ct.height,ct.depth,0,Dn,se,ct.data);else if(te.isFramebufferTexture){if(we)if($)t.texStorage2D(n.TEXTURE_2D,Ct,P,ct.width,ct.height);else{let rt=ct.width,Nt=ct.height;for(let In=0;In<Ct;In++)t.texImage2D(n.TEXTURE_2D,In,P,rt,Nt,0,Dn,se,null),rt>>=1,Nt>>=1}}else if(F.length>0){if($&&we){const rt=Ge(F[0]);t.texStorage2D(n.TEXTURE_2D,Ct,P,rt.width,rt.height)}for(let rt=0,Nt=F.length;rt<Nt;rt++)V=F[rt],$?Ee&&t.texSubImage2D(n.TEXTURE_2D,rt,0,0,Dn,se,V):t.texImage2D(n.TEXTURE_2D,rt,P,Dn,se,V);te.generateMipmaps=!1}else if($){if(we){const rt=Ge(ct);t.texStorage2D(n.TEXTURE_2D,Ct,P,rt.width,rt.height)}Ee&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Dn,se,ct)}else t.texImage2D(n.TEXTURE_2D,0,P,Dn,se,ct);m(te)&&p(Ve),Jt.__version=it.version,te.onUpdate&&te.onUpdate(te)}oe.__version=te.version}function ce(oe,te,Ye,Ve,ut,it){const Jt=A.convert(Ye.format,Ye.colorSpace),Yt=A.convert(Ye.type),Ot=C(Ye.internalFormat,Jt,Yt,Ye.colorSpace),Sn=i.get(te),ct=i.get(Ye);if(ct.__renderTarget=te,!Sn.__hasExternalTextures){const Dn=Math.max(1,te.width>>it),se=Math.max(1,te.height>>it);ut===n.TEXTURE_3D||ut===n.TEXTURE_2D_ARRAY?t.texImage3D(ut,it,Ot,Dn,se,te.depth,0,Jt,Yt,null):t.texImage2D(ut,it,Ot,Dn,se,0,Jt,Yt,null)}t.bindFramebuffer(n.FRAMEBUFFER,oe),Te(te)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ve,ut,ct.__webglTexture,0,j(te)):(ut===n.TEXTURE_2D||ut>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ut<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ve,ut,ct.__webglTexture,it),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ge(oe,te,Ye){if(n.bindRenderbuffer(n.RENDERBUFFER,oe),te.depthBuffer){const Ve=te.depthTexture,it=B(te.stencilBuffer,Ve&&Ve.isDepthTexture?Ve.type:null),Jt=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Yt=j(te);Te(te)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Yt,it,te.width,te.height):Ye?n.renderbufferStorageMultisample(n.RENDERBUFFER,Yt,it,te.width,te.height):n.renderbufferStorage(n.RENDERBUFFER,it,te.width,te.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Jt,n.RENDERBUFFER,oe)}else{const Ve=te.textures;for(let ut=0;ut<Ve.length;ut++){const it=Ve[ut],Jt=A.convert(it.format,it.colorSpace),Yt=A.convert(it.type),Ot=C(it.internalFormat,Jt,Yt,it.colorSpace),Sn=j(te);Ye&&!1===Te(te)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Sn,Ot,te.width,te.height):Te(te)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Sn,Ot,te.width,te.height):n.renderbufferStorage(n.RENDERBUFFER,Ot,te.width,te.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ie(oe){const te=i.get(oe),Ye=!0===oe.isWebGLCubeRenderTarget;if(te.__boundDepthTexture!==oe.depthTexture){const Ve=oe.depthTexture;if(te.__depthDisposeCallback&&te.__depthDisposeCallback(),Ve){const ut=()=>{delete te.__boundDepthTexture,delete te.__depthDisposeCallback,Ve.removeEventListener("dispose",ut)};Ve.addEventListener("dispose",ut),te.__depthDisposeCallback=ut}te.__boundDepthTexture=Ve}if(oe.depthTexture&&!te.__autoAllocateDepthBuffer){if(Ye)throw new Error("target.depthTexture not supported in Cube render targets");!function re(oe,te){if(te&&te.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,oe),!te.depthTexture||!te.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ve=i.get(te.depthTexture);Ve.__renderTarget=te,(!Ve.__webglTexture||te.depthTexture.image.width!==te.width||te.depthTexture.image.height!==te.height)&&(te.depthTexture.image.width=te.width,te.depthTexture.image.height=te.height,te.depthTexture.needsUpdate=!0),W(te.depthTexture,0);const ut=Ve.__webglTexture,it=j(te);if(te.depthTexture.format===K0)Te(te)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ut,0,it):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ut,0);else{if(te.depthTexture.format!==q0)throw new Error("Unknown depthTexture format");Te(te)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ut,0,it):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ut,0)}}(te.__webglFramebuffer,oe)}else if(Ye){te.__webglDepthbuffer=[];for(let Ve=0;Ve<6;Ve++)if(t.bindFramebuffer(n.FRAMEBUFFER,te.__webglFramebuffer[Ve]),void 0===te.__webglDepthbuffer[Ve])te.__webglDepthbuffer[Ve]=n.createRenderbuffer(),ge(te.__webglDepthbuffer[Ve],oe,!1);else{const ut=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,it=te.__webglDepthbuffer[Ve];n.bindRenderbuffer(n.RENDERBUFFER,it),n.framebufferRenderbuffer(n.FRAMEBUFFER,ut,n.RENDERBUFFER,it)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,te.__webglFramebuffer),void 0===te.__webglDepthbuffer)te.__webglDepthbuffer=n.createRenderbuffer(),ge(te.__webglDepthbuffer,oe,!1);else{const Ve=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ut=te.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,ut),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ve,n.RENDERBUFFER,ut)}t.bindFramebuffer(n.FRAMEBUFFER,null)}const Ne=[],Ae=[];function j(oe){return Math.min(r.maxSamples,oe.samples)}function Te(oe){const te=i.get(oe);return oe.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==te.__useRenderToTexture}function Oe(oe,te){const Ye=oe.colorSpace,Ve=oe.format,ut=oe.type;return!0===oe.isCompressedTexture||!0===oe.isVideoTexture||Ye!==z0&&""!==Ye&&(BA.getTransfer(Ye)===is?(Ve!==Ul||ut!==xd)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ye)),te}function Ge(oe){return typeof HTMLImageElement<"u"&&oe instanceof HTMLImageElement?(c.width=oe.naturalWidth||oe.width,c.height=oe.naturalHeight||oe.height):typeof VideoFrame<"u"&&oe instanceof VideoFrame?(c.width=oe.displayWidth,c.height=oe.displayHeight):(c.width=oe.width,c.height=oe.height),c}this.allocateTextureUnit=function O(){const oe=D;return oe>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+oe+" texture units while this GPU supports only "+r.maxTextures),D+=1,oe},this.resetTextureUnits=function T(){D=0},this.setTexture2D=W,this.setTexture2DArray=function k(oe,te){const Ye=i.get(oe);oe.version>0&&Ye.__version!==oe.version?Z(Ye,oe,te):t.bindTexture(n.TEXTURE_2D_ARRAY,Ye.__webglTexture,n.TEXTURE0+te)},this.setTexture3D=function L(oe,te){const Ye=i.get(oe);oe.version>0&&Ye.__version!==oe.version?Z(Ye,oe,te):t.bindTexture(n.TEXTURE_3D,Ye.__webglTexture,n.TEXTURE0+te)},this.setTextureCube=function J(oe,te){const Ye=i.get(oe);oe.version>0&&Ye.__version!==oe.version?function le(oe,te,Ye){if(6!==te.image.length)return;const Ve=z(oe,te),ut=te.source;t.bindTexture(n.TEXTURE_CUBE_MAP,oe.__webglTexture,n.TEXTURE0+Ye);const it=i.get(ut);if(ut.version!==it.__version||!0===Ve){t.activeTexture(n.TEXTURE0+Ye);const Jt=BA.getPrimaries(BA.workingColorSpace),Yt=""===te.colorSpace?null:BA.getPrimaries(te.colorSpace),Ot=""===te.colorSpace||Jt===Yt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,te.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,te.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ot);const Sn=te.isCompressedTexture||te.image[0].isCompressedTexture,ct=te.image[0]&&te.image[0].isDataTexture,Dn=[];for(let Nt=0;Nt<6;Nt++)Dn[Nt]=Sn||ct?ct?te.image[Nt].image:te.image[Nt]:d(te.image[Nt],!0,r.maxCubemapSize),Dn[Nt]=Oe(te,Dn[Nt]);const se=Dn[0],P=A.convert(te.format,te.colorSpace),V=A.convert(te.type),F=C(te.internalFormat,P,V,te.colorSpace),$=!0!==te.isVideoTexture,we=void 0===it.__version||!0===Ve,Ee=ut.dataReady;let rt,Ct=y(te,se);if(K(n.TEXTURE_CUBE_MAP,te),Sn){$&&we&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ct,F,se.width,se.height);for(let Nt=0;Nt<6;Nt++){rt=Dn[Nt].mipmaps;for(let In=0;In<rt.length;In++){const jt=rt[In];te.format!==Ul?null!==P?$?Ee&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,In,0,0,jt.width,jt.height,P,jt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,In,F,jt.width,jt.height,0,jt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):$?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,In,0,0,jt.width,jt.height,P,V,jt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,In,F,jt.width,jt.height,0,P,V,jt.data)}}}else{if(rt=te.mipmaps,$&&we){rt.length>0&&Ct++;const Nt=Ge(Dn[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Ct,F,Nt.width,Nt.height)}for(let Nt=0;Nt<6;Nt++)if(ct){$?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,0,0,0,Dn[Nt].width,Dn[Nt].height,P,V,Dn[Nt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,0,F,Dn[Nt].width,Dn[Nt].height,0,P,V,Dn[Nt].data);for(let In=0;In<rt.length;In++){const Rn=rt[In].image[Nt].image;$?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,In+1,0,0,Rn.width,Rn.height,P,V,Rn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,In+1,F,Rn.width,Rn.height,0,P,V,Rn.data)}}else{$?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,0,0,0,P,V,Dn[Nt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,0,F,P,V,Dn[Nt]);for(let In=0;In<rt.length;In++){const jt=rt[In];$?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,In+1,0,0,P,V,jt.image[Nt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Nt,In+1,F,P,V,jt.image[Nt])}}}m(te)&&p(n.TEXTURE_CUBE_MAP),it.__version=ut.version,te.onUpdate&&te.onUpdate(te)}oe.__version=te.version}(Ye,oe,te):t.bindTexture(n.TEXTURE_CUBE_MAP,Ye.__webglTexture,n.TEXTURE0+te)},this.rebindTextures=function me(oe,te,Ye){const Ve=i.get(oe);void 0!==te&&ce(Ve.__webglFramebuffer,oe,oe.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==Ye&&ie(oe)},this.setupRenderTarget=function be(oe){const te=oe.texture,Ye=i.get(oe),Ve=i.get(te);oe.addEventListener("dispose",b);const ut=oe.textures,it=!0===oe.isWebGLCubeRenderTarget,Jt=ut.length>1;if(Jt||(void 0===Ve.__webglTexture&&(Ve.__webglTexture=n.createTexture()),Ve.__version=te.version,s.memory.textures++),it){Ye.__webglFramebuffer=[];for(let Yt=0;Yt<6;Yt++)if(te.mipmaps&&te.mipmaps.length>0){Ye.__webglFramebuffer[Yt]=[];for(let Ot=0;Ot<te.mipmaps.length;Ot++)Ye.__webglFramebuffer[Yt][Ot]=n.createFramebuffer()}else Ye.__webglFramebuffer[Yt]=n.createFramebuffer()}else{if(te.mipmaps&&te.mipmaps.length>0){Ye.__webglFramebuffer=[];for(let Yt=0;Yt<te.mipmaps.length;Yt++)Ye.__webglFramebuffer[Yt]=n.createFramebuffer()}else Ye.__webglFramebuffer=n.createFramebuffer();if(Jt)for(let Yt=0,Ot=ut.length;Yt<Ot;Yt++){const Sn=i.get(ut[Yt]);void 0===Sn.__webglTexture&&(Sn.__webglTexture=n.createTexture(),s.memory.textures++)}if(oe.samples>0&&!1===Te(oe)){Ye.__webglMultisampledFramebuffer=n.createFramebuffer(),Ye.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ye.__webglMultisampledFramebuffer);for(let Yt=0;Yt<ut.length;Yt++){const Ot=ut[Yt];Ye.__webglColorRenderbuffer[Yt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ye.__webglColorRenderbuffer[Yt]);const Sn=A.convert(Ot.format,Ot.colorSpace),ct=A.convert(Ot.type),Dn=C(Ot.internalFormat,Sn,ct,Ot.colorSpace,!0===oe.isXRRenderTarget),se=j(oe);n.renderbufferStorageMultisample(n.RENDERBUFFER,se,Dn,oe.width,oe.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Yt,n.RENDERBUFFER,Ye.__webglColorRenderbuffer[Yt])}n.bindRenderbuffer(n.RENDERBUFFER,null),oe.depthBuffer&&(Ye.__webglDepthRenderbuffer=n.createRenderbuffer(),ge(Ye.__webglDepthRenderbuffer,oe,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(it){t.bindTexture(n.TEXTURE_CUBE_MAP,Ve.__webglTexture),K(n.TEXTURE_CUBE_MAP,te);for(let Yt=0;Yt<6;Yt++)if(te.mipmaps&&te.mipmaps.length>0)for(let Ot=0;Ot<te.mipmaps.length;Ot++)ce(Ye.__webglFramebuffer[Yt][Ot],oe,te,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Yt,Ot);else ce(Ye.__webglFramebuffer[Yt],oe,te,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Yt,0);m(te)&&p(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Jt){for(let Yt=0,Ot=ut.length;Yt<Ot;Yt++){const Sn=ut[Yt],ct=i.get(Sn);t.bindTexture(n.TEXTURE_2D,ct.__webglTexture),K(n.TEXTURE_2D,Sn),ce(Ye.__webglFramebuffer,oe,Sn,n.COLOR_ATTACHMENT0+Yt,n.TEXTURE_2D,0),m(Sn)&&p(n.TEXTURE_2D)}t.unbindTexture()}else{let Yt=n.TEXTURE_2D;if((oe.isWebGL3DRenderTarget||oe.isWebGLArrayRenderTarget)&&(Yt=oe.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Yt,Ve.__webglTexture),K(Yt,te),te.mipmaps&&te.mipmaps.length>0)for(let Ot=0;Ot<te.mipmaps.length;Ot++)ce(Ye.__webglFramebuffer[Ot],oe,te,n.COLOR_ATTACHMENT0,Yt,Ot);else ce(Ye.__webglFramebuffer,oe,te,n.COLOR_ATTACHMENT0,Yt,0);m(te)&&p(Yt),t.unbindTexture()}oe.depthBuffer&&ie(oe)},this.updateRenderTargetMipmap=function Ie(oe){const te=oe.textures;for(let Ye=0,Ve=te.length;Ye<Ve;Ye++){const ut=te[Ye];if(m(ut)){const it=I(oe),Jt=i.get(ut).__webglTexture;t.bindTexture(it,Jt),p(it),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function ee(oe){if(oe.samples>0)if(!1===Te(oe)){const te=oe.textures,Ye=oe.width,Ve=oe.height;let ut=n.COLOR_BUFFER_BIT;const it=oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Jt=i.get(oe),Yt=te.length>1;if(Yt)for(let Ot=0;Ot<te.length;Ot++)t.bindFramebuffer(n.FRAMEBUFFER,Jt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Jt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Jt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Jt.__webglFramebuffer);for(let Ot=0;Ot<te.length;Ot++){if(oe.resolveDepthBuffer&&(oe.depthBuffer&&(ut|=n.DEPTH_BUFFER_BIT),oe.stencilBuffer&&oe.resolveStencilBuffer&&(ut|=n.STENCIL_BUFFER_BIT)),Yt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Jt.__webglColorRenderbuffer[Ot]);const Sn=i.get(te[Ot]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Sn,0)}n.blitFramebuffer(0,0,Ye,Ve,0,0,Ye,Ve,ut,n.NEAREST),!0===a&&(Ne.length=0,Ae.length=0,Ne.push(n.COLOR_ATTACHMENT0+Ot),oe.depthBuffer&&!1===oe.resolveDepthBuffer&&(Ne.push(it),Ae.push(it),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Ae)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ne))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Yt)for(let Ot=0;Ot<te.length;Ot++){t.bindFramebuffer(n.FRAMEBUFFER,Jt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.RENDERBUFFER,Jt.__webglColorRenderbuffer[Ot]);const Sn=i.get(te[Ot]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Jt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.TEXTURE_2D,Sn,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Jt.__webglMultisampledFramebuffer)}else oe.depthBuffer&&!1===oe.resolveDepthBuffer&&a&&n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[oe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT])},this.setupDepthRenderbuffer=ie,this.setupFrameBufferTexture=ce,this.useMultisampledRTT=Te}function Oke(n,e){return{convert:function t(i,r=""){let A;const s=BA.getTransfer(r);if(i===xd)return n.UNSIGNED_BYTE;if(i===L3)return n.UNSIGNED_SHORT_4_4_4_4;if(i===U3)return n.UNSIGNED_SHORT_5_5_5_1;if(i===cX)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===oX)return n.BYTE;if(i===aX)return n.SHORT;if(i===e1)return n.UNSIGNED_SHORT;if(i===k3)return n.INT;if(i===wm)return n.UNSIGNED_INT;if(i===wu)return n.FLOAT;if(i===t1)return n.HALF_FLOAT;if(i===lX)return n.ALPHA;if(i===uX)return n.RGB;if(i===Ul)return n.RGBA;if(i===gX)return n.LUMINANCE;if(i===hX)return n.LUMINANCE_ALPHA;if(i===K0)return n.DEPTH_COMPONENT;if(i===q0)return n.DEPTH_STENCIL;if(i===O3)return n.RED;if(i===ZN)return n.RED_INTEGER;if(i===fX)return n.RG;if(i===G3)return n.RG_INTEGER;if(i===P3)return n.RGBA_INTEGER;if(i===XN||i===$N||i===ex||i===tx)if(s===is){if(A=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===A)return null;if(i===XN)return A.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===$N)return A.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===ex)return A.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===tx)return A.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(A=e.get("WEBGL_compressed_texture_s3tc"),null===A)return null;if(i===XN)return A.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===$N)return A.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===ex)return A.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===tx)return A.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(i===H3||i===Y3||i===K3||i===q3){if(A=e.get("WEBGL_compressed_texture_pvrtc"),null===A)return null;if(i===H3)return A.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Y3)return A.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===K3)return A.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===q3)return A.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(i===J3||i===V3||i===z3){if(A=e.get("WEBGL_compressed_texture_etc"),null===A)return null;if(i===J3||i===V3)return s===is?A.COMPRESSED_SRGB8_ETC2:A.COMPRESSED_RGB8_ETC2;if(i===z3)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:A.COMPRESSED_RGBA8_ETC2_EAC}if(i===W3||i===j3||i===Z3||i===X3||i===$3||i===eP||i===tP||i===nP||i===iP||i===rP||i===AP||i===sP||i===oP||i===aP){if(A=e.get("WEBGL_compressed_texture_astc"),null===A)return null;if(i===W3)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:A.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===j3)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:A.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Z3)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:A.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===X3)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:A.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===$3)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:A.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===eP)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:A.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===tP)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:A.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===nP)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:A.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===iP)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:A.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===rP)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:A.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===AP)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:A.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===sP)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:A.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===oP)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:A.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===aP)return s===is?A.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:A.COMPRESSED_RGBA_ASTC_12x12_KHR}if(i===nx||i===cP||i===lP){if(A=e.get("EXT_texture_compression_bptc"),null===A)return null;if(i===nx)return s===is?A.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:A.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===cP)return A.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===lP)return A.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(i===dX||i===uP||i===gP||i===hP){if(A=e.get("EXT_texture_compression_rgtc"),null===A)return null;if(i===nx)return A.COMPRESSED_RED_RGTC1_EXT;if(i===uP)return A.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===gP)return A.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===hP)return A.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return i===Y0?n.UNSIGNED_INT_24_8:void 0!==n[i]?n[i]:null}}}const Gke={type:"move"};class K5{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new m1,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new m1,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ue,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ue),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new m1,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ue,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ue),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,A=null,s=null;const o=this._targetRay,a=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){s=!0;for(const d of e.hand.values()){const m=t.getJointPose(d,i),p=this._getHandJoint(c,d);null!==m&&(p.matrix.fromArray(m.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=m.radius),p.visible=null!==m}const h=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),g=.02,f=.005;c.inputState.pinching&&h>g+f?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=g-f&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==a&&e.gripSpace&&(A=t.getPose(e.gripSpace,i),null!==A&&(a.matrix.fromArray(A.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,A.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(A.linearVelocity)):a.hasLinearVelocity=!1,A.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(A.angularVelocity)):a.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==A&&(r=A),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Gke)))}return null!==o&&(o.visible=null!==r),null!==a&&(a.visible=null!==A),null!==c&&(c.visible=null!==s),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new m1;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class Yke{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(null===this.texture){const r=new Ol;e.properties.get(r).__webglTexture=t.texture,(t.depthNear!=i.depthNear||t.depthFar!=i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,i=new Ef({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new wo(new y1(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Kke extends Rd{constructor(e,t){super();const i=this;let r=null,A=1,s=null,o="local-floor",a=1,c=null,l=null,u=null,h=null,g=null,f=null;const d=new Yke,m=t.getContextAttributes();let p=null,I=null;const C=[],B=[],y=new $t;let E=null;const b=new Za;b.viewport=new DA;const S=new Za;S.viewport=new DA;const w=[b,S],M=new c2e;let D=null,T=null;function O(Z){const le=B.indexOf(Z.inputSource);if(-1===le)return;const ce=C[le];void 0!==ce&&(ce.update(Z.inputSource,Z.frame,c||s),ce.dispatchEvent({type:Z.type,data:Z.inputSource}))}function G(){r.removeEventListener("select",O),r.removeEventListener("selectstart",O),r.removeEventListener("selectend",O),r.removeEventListener("squeeze",O),r.removeEventListener("squeezestart",O),r.removeEventListener("squeezeend",O),r.removeEventListener("end",G),r.removeEventListener("inputsourceschange",W);for(let Z=0;Z<C.length;Z++){const le=B[Z];null!==le&&(B[Z]=null,C[Z].disconnect(le))}D=null,T=null,d.reset(),e.setRenderTarget(p),g=null,h=null,u=null,r=null,I=null,z.stop(),i.isPresenting=!1,e.setPixelRatio(E),e.setSize(y.width,y.height,!1),i.dispatchEvent({type:"sessionend"})}function W(Z){for(let le=0;le<Z.removed.length;le++){const ce=Z.removed[le],ge=B.indexOf(ce);ge>=0&&(B[ge]=null,C[ge].disconnect(ce))}for(let le=0;le<Z.added.length;le++){const ce=Z.added[le];let ge=B.indexOf(ce);if(-1===ge){for(let ie=0;ie<C.length;ie++){if(ie>=B.length){B.push(ce),ge=ie;break}if(null===B[ie]){B[ie]=ce,ge=ie;break}}if(-1===ge)break}const re=C[ge];re&&re.connect(ce)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let le=C[Z];return void 0===le&&(le=new K5,C[Z]=le),le.getTargetRaySpace()},this.getControllerGrip=function(Z){let le=C[Z];return void 0===le&&(le=new K5,C[Z]=le),le.getGripSpace()},this.getHand=function(Z){let le=C[Z];return void 0===le&&(le=new K5,C[Z]=le),le.getHandSpace()},this.setFramebufferScaleFactor=function(Z){A=Z,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){o=Z,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(Z){c=Z},this.getBaseLayer=function(){return null!==h?h:g},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=function(){var Z=(0,St.A)(function*(le){if(r=le,null!==r){if(p=e.getRenderTarget(),r.addEventListener("select",O),r.addEventListener("selectstart",O),r.addEventListener("selectend",O),r.addEventListener("squeeze",O),r.addEventListener("squeezestart",O),r.addEventListener("squeezeend",O),r.addEventListener("end",G),r.addEventListener("inputsourceschange",W),!0!==m.xrCompatible&&(yield t.makeXRCompatible()),E=e.getPixelRatio(),e.getSize(y),void 0===r.renderState.layers)g=new XRWebGLLayer(r,t,{antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:A}),r.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),I=new Bf(g.framebufferWidth,g.framebufferHeight,{format:Ul,type:xd,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil});else{let ce=null,ge=null,re=null;m.depth&&(re=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ce=m.stencil?q0:K0,ge=m.stencil?Y0:wm);const ie={colorFormat:t.RGBA8,depthFormat:re,scaleFactor:A};u=new XRWebGLBinding(r,t),h=u.createProjectionLayer(ie),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),I=new Bf(h.textureWidth,h.textureHeight,{format:Ul,type:xd,depthTexture:new h$(h.textureWidth,h.textureHeight,ge,void 0,void 0,void 0,void 0,void 0,void 0,ce),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===h.ignoreDepthValues})}I.isXRRenderTarget=!0,this.setFoveation(a),c=null,s=yield r.requestReferenceSpace(o),z.setContext(r),z.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(le){return Z.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return d.getDepthTexture()};const k=new Ue,L=new Ue;function H(Z,le){null===le?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(le.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(null===r)return;let le=Z.near,ce=Z.far;null!==d.texture&&(d.depthNear>0&&(le=d.depthNear),d.depthFar>0&&(ce=d.depthFar)),M.near=S.near=b.near=le,M.far=S.far=b.far=ce,(D!==M.near||T!==M.far)&&(r.updateRenderState({depthNear:M.near,depthFar:M.far}),D=M.near,T=M.far),b.layers.mask=2|Z.layers.mask,S.layers.mask=4|Z.layers.mask,M.layers.mask=b.layers.mask|S.layers.mask;const ge=Z.parent,re=M.cameras;H(M,ge);for(let ie=0;ie<re.length;ie++)H(re[ie],ge);2===re.length?function J(Z,le,ce){k.setFromMatrixPosition(le.matrixWorld),L.setFromMatrixPosition(ce.matrixWorld);const ge=k.distanceTo(L),re=le.projectionMatrix.elements,ie=ce.projectionMatrix.elements,me=re[14]/(re[10]-1),be=re[14]/(re[10]+1),Ie=(re[9]+1)/re[5],Ne=(re[9]-1)/re[5],Ae=(re[8]-1)/re[0],ee=(ie[8]+1)/ie[0],j=me*Ae,Te=me*ee,Me=ge/(-Ae+ee),Oe=Me*-Ae;if(le.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(Oe),Z.translateZ(Me),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert(),-1===re[10])Z.projectionMatrix.copy(le.projectionMatrix),Z.projectionMatrixInverse.copy(le.projectionMatrixInverse);else{const Ge=me+Me,oe=be+Me;Z.projectionMatrix.makePerspective(j-Oe,Te+(ge-Oe),Ie*be/oe*Ge,Ne*be/oe*Ge,Ge,oe),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert()}}(M,b,S):M.projectionMatrix.copy(b.projectionMatrix),function ue(Z,le,ce){null===ce?Z.matrix.copy(le.matrixWorld):(Z.matrix.copy(ce.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(le.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0),Z.projectionMatrix.copy(le.projectionMatrix),Z.projectionMatrixInverse.copy(le.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=2*j0*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}(Z,M,ge)},this.getCamera=function(){return M},this.getFoveation=function(){if(null!==h||null!==g)return a},this.setFoveation=function(Z){a=Z,null!==h&&(h.fixedFoveation=Z),null!==g&&void 0!==g.fixedFoveation&&(g.fixedFoveation=Z)},this.hasDepthSensing=function(){return null!==d.texture},this.getDepthSensingMesh=function(){return d.getMesh(M)};let ye=null;const z=new hee;z.setAnimationLoop(function K(Z,le){if(l=le.getViewerPose(c||s),f=le,null!==l){const ce=l.views;null!==g&&(e.setRenderTargetFramebuffer(I,g.framebuffer),e.setRenderTarget(I));let ge=!1;ce.length!==M.cameras.length&&(M.cameras.length=0,ge=!0);for(let ie=0;ie<ce.length;ie++){const me=ce[ie];let be=null;if(null!==g)be=g.getViewport(me);else{const Ne=u.getViewSubImage(h,me);be=Ne.viewport,0===ie&&(e.setRenderTargetTextures(I,Ne.colorTexture,h.ignoreDepthValues?void 0:Ne.depthStencilTexture),e.setRenderTarget(I))}let Ie=w[ie];void 0===Ie&&(Ie=new Za,Ie.layers.enable(ie),Ie.viewport=new DA,w[ie]=Ie),Ie.matrix.fromArray(me.transform.matrix),Ie.matrix.decompose(Ie.position,Ie.quaternion,Ie.scale),Ie.projectionMatrix.fromArray(me.projectionMatrix),Ie.projectionMatrixInverse.copy(Ie.projectionMatrix).invert(),Ie.viewport.set(be.x,be.y,be.width,be.height),0===ie&&(M.matrix.copy(Ie.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),!0===ge&&M.cameras.push(Ie)}const re=r.enabledFeatures;if(re&&re.includes("depth-sensing")){const ie=u.getDepthInformation(ce[0]);ie&&ie.isValid&&ie.texture&&d.init(e,ie,r.renderState)}}for(let ce=0;ce<C.length;ce++){const ge=B[ce],re=C[ce];null!==ge&&void 0!==re&&re.update(ge,le,c||s)}ye&&ye(Z,le),le.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:le}),f=null}),this.setAnimationLoop=function(Z){ye=Z},this.dispose=function(){}}}const iB=new Ud,qke=new Pi;function Jke(n,e){function t(m,p){!0===m.matrixAutoUpdate&&m.updateMatrix(),p.value.copy(m.matrix)}function A(m,p){m.opacity.value=p.opacity,p.color&&m.diffuse.value.copy(p.color),p.emissive&&m.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(m.map.value=p.map,t(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,t(p.alphaMap,m.alphaMapTransform)),p.bumpMap&&(m.bumpMap.value=p.bumpMap,t(p.bumpMap,m.bumpMapTransform),m.bumpScale.value=p.bumpScale,1===p.side&&(m.bumpScale.value*=-1)),p.normalMap&&(m.normalMap.value=p.normalMap,t(p.normalMap,m.normalMapTransform),m.normalScale.value.copy(p.normalScale),1===p.side&&m.normalScale.value.negate()),p.displacementMap&&(m.displacementMap.value=p.displacementMap,t(p.displacementMap,m.displacementMapTransform),m.displacementScale.value=p.displacementScale,m.displacementBias.value=p.displacementBias),p.emissiveMap&&(m.emissiveMap.value=p.emissiveMap,t(p.emissiveMap,m.emissiveMapTransform)),p.specularMap&&(m.specularMap.value=p.specularMap,t(p.specularMap,m.specularMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest);const I=e.get(p),C=I.envMap,B=I.envMapRotation;C&&(m.envMap.value=C,iB.copy(B),iB.x*=-1,iB.y*=-1,iB.z*=-1,C.isCubeTexture&&!1===C.isRenderTargetTexture&&(iB.y*=-1,iB.z*=-1),m.envMapRotation.value.setFromMatrix4(qke.makeRotationFromEuler(iB)),m.flipEnvMap.value=C.isCubeTexture&&!1===C.isRenderTargetTexture?-1:1,m.reflectivity.value=p.reflectivity,m.ior.value=p.ior,m.refractionRatio.value=p.refractionRatio),p.lightMap&&(m.lightMap.value=p.lightMap,m.lightMapIntensity.value=p.lightMapIntensity,t(p.lightMap,m.lightMapTransform)),p.aoMap&&(m.aoMap.value=p.aoMap,m.aoMapIntensity.value=p.aoMapIntensity,t(p.aoMap,m.aoMapTransform))}return{refreshFogUniforms:function i(m,p){p.color.getRGB(m.fogColor.value,PX(n)),p.isFog?(m.fogNear.value=p.near,m.fogFar.value=p.far):p.isFogExp2&&(m.fogDensity.value=p.density)},refreshMaterialUniforms:function r(m,p,I,C,B){p.isMeshBasicMaterial||p.isMeshLambertMaterial?A(m,p):p.isMeshToonMaterial?(A(m,p),function u(m,p){p.gradientMap&&(m.gradientMap.value=p.gradientMap)}(m,p)):p.isMeshPhongMaterial?(A(m,p),function l(m,p){m.specular.value.copy(p.specular),m.shininess.value=Math.max(p.shininess,1e-4)}(m,p)):p.isMeshStandardMaterial?(A(m,p),function h(m,p){m.metalness.value=p.metalness,p.metalnessMap&&(m.metalnessMap.value=p.metalnessMap,t(p.metalnessMap,m.metalnessMapTransform)),m.roughness.value=p.roughness,p.roughnessMap&&(m.roughnessMap.value=p.roughnessMap,t(p.roughnessMap,m.roughnessMapTransform)),p.envMap&&(m.envMapIntensity.value=p.envMapIntensity)}(m,p),p.isMeshPhysicalMaterial&&function g(m,p,I){m.ior.value=p.ior,p.sheen>0&&(m.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),m.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(m.sheenColorMap.value=p.sheenColorMap,t(p.sheenColorMap,m.sheenColorMapTransform)),p.sheenRoughnessMap&&(m.sheenRoughnessMap.value=p.sheenRoughnessMap,t(p.sheenRoughnessMap,m.sheenRoughnessMapTransform))),p.clearcoat>0&&(m.clearcoat.value=p.clearcoat,m.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(m.clearcoatMap.value=p.clearcoatMap,t(p.clearcoatMap,m.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,t(p.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(m.clearcoatNormalMap.value=p.clearcoatNormalMap,t(p.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),1===p.side&&m.clearcoatNormalScale.value.negate())),p.dispersion>0&&(m.dispersion.value=p.dispersion),p.iridescence>0&&(m.iridescence.value=p.iridescence,m.iridescenceIOR.value=p.iridescenceIOR,m.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(m.iridescenceMap.value=p.iridescenceMap,t(p.iridescenceMap,m.iridescenceMapTransform)),p.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=p.iridescenceThicknessMap,t(p.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),p.transmission>0&&(m.transmission.value=p.transmission,m.transmissionSamplerMap.value=I.texture,m.transmissionSamplerSize.value.set(I.width,I.height),p.transmissionMap&&(m.transmissionMap.value=p.transmissionMap,t(p.transmissionMap,m.transmissionMapTransform)),m.thickness.value=p.thickness,p.thicknessMap&&(m.thicknessMap.value=p.thicknessMap,t(p.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=p.attenuationDistance,m.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(m.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(m.anisotropyMap.value=p.anisotropyMap,t(p.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=p.specularIntensity,m.specularColor.value.copy(p.specularColor),p.specularColorMap&&(m.specularColorMap.value=p.specularColorMap,t(p.specularColorMap,m.specularColorMapTransform)),p.specularIntensityMap&&(m.specularIntensityMap.value=p.specularIntensityMap,t(p.specularIntensityMap,m.specularIntensityMapTransform))}(m,p,B)):p.isMeshMatcapMaterial?(A(m,p),function f(m,p){p.matcap&&(m.matcap.value=p.matcap)}(m,p)):p.isMeshDepthMaterial?A(m,p):p.isMeshDistanceMaterial?(A(m,p),function d(m,p){const I=e.get(p).light;m.referencePosition.value.setFromMatrixPosition(I.matrixWorld),m.nearDistance.value=I.shadow.camera.near,m.farDistance.value=I.shadow.camera.far}(m,p)):p.isMeshNormalMaterial?A(m,p):p.isLineBasicMaterial?(function s(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,p.map&&(m.map.value=p.map,t(p.map,m.mapTransform))}(m,p),p.isLineDashedMaterial&&function o(m,p){m.dashSize.value=p.dashSize,m.totalSize.value=p.dashSize+p.gapSize,m.scale.value=p.scale}(m,p)):p.isPointsMaterial?function a(m,p,I,C){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.size.value=p.size*I,m.scale.value=.5*C,p.map&&(m.map.value=p.map,t(p.map,m.uvTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,t(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}(m,p,I,C):p.isSpriteMaterial?function c(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.rotation.value=p.rotation,p.map&&(m.map.value=p.map,t(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,t(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}(m,p):p.isShadowMaterial?(m.color.value.copy(p.color),m.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}}}function Vke(n,e,t,i){let r={},A={},s=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function g(I,C,B,y){const E=I.value,b=C+"_"+B;if(void 0===y[b])return y[b]="number"==typeof E||"boolean"==typeof E?E:E.clone(),!0;{const S=y[b];if("number"==typeof E||"boolean"==typeof E){if(S!==E)return y[b]=E,!0}else if(!1===S.equals(E))return S.copy(E),!0}return!1}function d(I){const C={boundary:0,storage:0};return"number"==typeof I||"boolean"==typeof I?(C.boundary=4,C.storage=4):I.isVector2?(C.boundary=8,C.storage=8):I.isVector3||I.isColor?(C.boundary=16,C.storage=12):I.isVector4?(C.boundary=16,C.storage=16):I.isMatrix3?(C.boundary=48,C.storage=48):I.isMatrix4?(C.boundary=64,C.storage=64):I.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",I),C}function m(I){const C=I.target;C.removeEventListener("dispose",m);const B=s.indexOf(C.__bindingPointIndex);s.splice(B,1),n.deleteBuffer(r[C.id]),delete r[C.id],delete A[C.id]}return{bind:function a(I,C){i.uniformBlockBinding(I,C.program)},update:function c(I,C){let B=r[I.id];void 0===B&&(function f(I){const C=I.uniforms;let B=0;for(let b=0,S=C.length;b<S;b++){const w=Array.isArray(C[b])?C[b]:[C[b]];for(let M=0,D=w.length;M<D;M++){const T=w[M],O=Array.isArray(T.value)?T.value:[T.value];for(let G=0,W=O.length;G<W;G++){const L=d(O[G]),J=B%16,H=J%L.boundary,ue=J+H;B+=H,0!==ue&&16-ue<L.storage&&(B+=16-ue),T.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=B,B+=L.storage}}}const E=B%16;E>0&&(B+=16-E),I.__size=B,I.__cache={}}(I),B=function l(I){const C=function u(){for(let I=0;I<o;I++)if(-1===s.indexOf(I))return s.push(I),I;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();I.__bindingPointIndex=C;const B=n.createBuffer(),y=I.__size,E=I.usage;return n.bindBuffer(n.UNIFORM_BUFFER,B),n.bufferData(n.UNIFORM_BUFFER,y,E),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,C,B),B}(I),r[I.id]=B,I.addEventListener("dispose",m)),i.updateUBOMapping(I,C.program);const E=e.render.frame;A[I.id]!==E&&(function h(I){const B=I.uniforms,y=I.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[I.id]);for(let E=0,b=B.length;E<b;E++){const S=Array.isArray(B[E])?B[E]:[B[E]];for(let w=0,M=S.length;w<M;w++){const D=S[w];if(!0===g(D,E,w,y)){const T=D.__offset,O=Array.isArray(D.value)?D.value:[D.value];let G=0;for(let W=0;W<O.length;W++){const k=O[W],L=d(k);"number"==typeof k||"boolean"==typeof k?(D.__data[0]=k,n.bufferSubData(n.UNIFORM_BUFFER,T+G,D.__data)):k.isMatrix3?(D.__data[0]=k.elements[0],D.__data[1]=k.elements[1],D.__data[2]=k.elements[2],D.__data[3]=0,D.__data[4]=k.elements[3],D.__data[5]=k.elements[4],D.__data[6]=k.elements[5],D.__data[7]=0,D.__data[8]=k.elements[6],D.__data[9]=k.elements[7],D.__data[10]=k.elements[8],D.__data[11]=0):(k.toArray(D.__data,G),G+=L.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,T,D.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(I),A[I.id]=E)},dispose:function p(){for(const I in r)n.deleteBuffer(r[I]);s=[],r={},A={}}}}class zke{constructor(e={}){const{canvas:t=cNe(),context:i=null,depth:r=!0,stencil:A=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:a=!0,preserveDrawingBuffer:c=!1,powerPreference:l="default",failIfMajorPerformanceCaveat:u=!1,reverseDepthBuffer:h=!1}=e;let g;if(this.isWebGLRenderer=!0,null!==i){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=i.getContextAttributes().alpha}else g=s;const f=new Uint32Array(4),d=new Int32Array(4);let m=null,p=null;const I=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=_u,this.toneMapping=ym,this.toneMappingExposure=1;const B=this;let y=!1,E=0,b=0,S=null,w=-1,M=null;const D=new DA,T=new DA;let O=null;const G=new Wn(0);let W=0,k=t.width,L=t.height,J=1,H=null,ue=null;const ye=new DA(0,0,k,L),K=new DA(0,0,k,L);let z=!1;const Z=new xx;let le=!1,ce=!1;const ge=new Pi,re=new Pi,ie=new Ue,me=new DA,be={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ie=!1;function Ne(){return null===S?J:1}let j,Te,Me,Oe,Ge,oe,te,Ye,Ve,ut,it,Jt,Yt,Ot,Sn,ct,Dn,se,P,V,F,$,we,Ee,Ae=i;function ee(Se,at){return t.getContext(Se,at)}try{const Se={alpha:!0,depth:r,stencil:A,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r171"),t.addEventListener("webglcontextlost",Nt,!1),t.addEventListener("webglcontextrestored",In,!1),t.addEventListener("webglcontextcreationerror",jt,!1),null===Ae){const at="webgl2";if(Ae=ee(at,Se),null===Ae)throw ee(at)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Se){throw console.error("THREE.WebGLRenderer: "+Se.message),Se}function Ct(){j=new iTe(Ae),j.init(),$=new Oke(Ae,j),Te=new ZRe(Ae,j,e,$),Me=new Lke(Ae,j),Te.reverseDepthBuffer&&h&&Me.buffers.depth.setReversed(!0),Oe=new sTe(Ae),Ge=new Qke,oe=new Uke(Ae,j,Me,Ge,Te,$,Oe),te=new $Re(B),Ye=new nTe(B),Ve=new V2e(Ae),we=new WRe(Ae,Ve),ut=new rTe(Ae,Ve,Oe,we),it=new aTe(Ae,ut,Ve,Oe),P=new oTe(Ae,Te,oe),ct=new XRe(Ge),Jt=new yke(B,te,Ye,j,Te,we,ct),Yt=new Jke(B,Ge),Ot=new _ke,Sn=new xke(j),se=new zRe(B,te,Ye,Me,it,g,a),Dn=new Tke(B,it,Te),Ee=new Vke(Ae,Oe,Te,Me),V=new jRe(Ae,j,Oe),F=new ATe(Ae,j,Oe),Oe.programs=Jt.programs,B.capabilities=Te,B.extensions=j,B.properties=Ge,B.renderLists=Ot,B.shadowMap=Dn,B.state=Me,B.info=Oe}Ct();const rt=new Kke(B,Ae);function Nt(Se){Se.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function In(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const Se=Oe.autoReset,at=Dn.enabled,wt=Dn.autoUpdate,Dt=Dn.needsUpdate,ht=Dn.type;Ct(),Oe.autoReset=Se,Dn.enabled=at,Dn.autoUpdate=wt,Dn.needsUpdate=Dt,Dn.type=ht}function jt(Se){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Se.statusMessage)}function Rn(Se){const at=Se.target;at.removeEventListener("dispose",Rn),function iA(Se){(function Sr(Se){const at=Ge.get(Se).programs;void 0!==at&&(at.forEach(function(wt){Jt.releaseProgram(wt)}),Se.isShaderMaterial&&Jt.releaseShaderCache(Se))})(Se),Ge.remove(Se)}(at)}function sr(Se,at,wt){!0===Se.transparent&&2===Se.side&&!1===Se.forceSinglePass?(Se.side=1,Se.needsUpdate=!0,Uc(Se,at,wt),Se.side=0,Se.needsUpdate=!0,Uc(Se,at,wt),Se.side=2):Uc(Se,at,wt)}this.xr=rt,this.getContext=function(){return Ae},this.getContextAttributes=function(){return Ae.getContextAttributes()},this.forceContextLoss=function(){const Se=j.get("WEBGL_lose_context");Se&&Se.loseContext()},this.forceContextRestore=function(){const Se=j.get("WEBGL_lose_context");Se&&Se.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(Se){void 0!==Se&&(J=Se,this.setSize(k,L,!1))},this.getSize=function(Se){return Se.set(k,L)},this.setSize=function(Se,at,wt=!0){rt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(k=Se,L=at,t.width=Math.floor(Se*J),t.height=Math.floor(at*J),!0===wt&&(t.style.width=Se+"px",t.style.height=at+"px"),this.setViewport(0,0,Se,at))},this.getDrawingBufferSize=function(Se){return Se.set(k*J,L*J).floor()},this.setDrawingBufferSize=function(Se,at,wt){k=Se,L=at,J=wt,t.width=Math.floor(Se*wt),t.height=Math.floor(at*wt),this.setViewport(0,0,Se,at)},this.getCurrentViewport=function(Se){return Se.copy(D)},this.getViewport=function(Se){return Se.copy(ye)},this.setViewport=function(Se,at,wt,Dt){Se.isVector4?ye.set(Se.x,Se.y,Se.z,Se.w):ye.set(Se,at,wt,Dt),Me.viewport(D.copy(ye).multiplyScalar(J).round())},this.getScissor=function(Se){return Se.copy(K)},this.setScissor=function(Se,at,wt,Dt){Se.isVector4?K.set(Se.x,Se.y,Se.z,Se.w):K.set(Se,at,wt,Dt),Me.scissor(T.copy(K).multiplyScalar(J).round())},this.getScissorTest=function(){return z},this.setScissorTest=function(Se){Me.setScissorTest(z=Se)},this.setOpaqueSort=function(Se){H=Se},this.setTransparentSort=function(Se){ue=Se},this.getClearColor=function(Se){return Se.copy(se.getClearColor())},this.setClearColor=function(){se.setClearColor.apply(se,arguments)},this.getClearAlpha=function(){return se.getClearAlpha()},this.setClearAlpha=function(){se.setClearAlpha.apply(se,arguments)},this.clear=function(Se=!0,at=!0,wt=!0){let Dt=0;if(Se){let ht=!1;if(null!==S){const En=S.texture.format;ht=En===P3||En===G3||En===ZN}if(ht){const En=S.texture.type,Fn=En===xd||En===wm||En===e1||En===Y0||En===L3||En===U3,jn=se.getClearColor(),ei=se.getClearAlpha(),Di=jn.r,Ui=jn.g,gi=jn.b;Fn?(f[0]=Di,f[1]=Ui,f[2]=gi,f[3]=ei,Ae.clearBufferuiv(Ae.COLOR,0,f)):(d[0]=Di,d[1]=Ui,d[2]=gi,d[3]=ei,Ae.clearBufferiv(Ae.COLOR,0,d))}else Dt|=Ae.COLOR_BUFFER_BIT}at&&(Dt|=Ae.DEPTH_BUFFER_BIT),wt&&(Dt|=Ae.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Ae.clear(Dt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Nt,!1),t.removeEventListener("webglcontextrestored",In,!1),t.removeEventListener("webglcontextcreationerror",jt,!1),se.dispose(),Ot.dispose(),Sn.dispose(),Ge.dispose(),te.dispose(),Ye.dispose(),it.dispose(),we.dispose(),Ee.dispose(),Jt.dispose(),rt.dispose(),rt.removeEventListener("sessionstart",Fa),rt.removeEventListener("sessionend",kc),Ys.stop()},this.renderBufferDirect=function(Se,at,wt,Dt,ht,En){null===at&&(at=be);const Fn=ht.isMesh&&ht.matrixWorld.determinant()<0,jn=function xg(Se,at,wt,Dt,ht){!0!==at.isScene&&(at=be),oe.resetTextureUnits();const En=at.fog,jn=null===S?B.outputColorSpace:!0===S.isXRRenderTarget?S.texture.colorSpace:z0,ei=(Dt.isMeshStandardMaterial?Ye:te).get(Dt.envMap||(Dt.isMeshStandardMaterial?at.environment:null)),Di=!0===Dt.vertexColors&&!!wt.attributes.color&&4===wt.attributes.color.itemSize,Ui=!!wt.attributes.tangent&&(!!Dt.normalMap||Dt.anisotropy>0),gi=!!wt.morphAttributes.position,Tr=!!wt.morphAttributes.normal,Vr=!!wt.morphAttributes.color;let ms=ym;Dt.toneMapped&&(null===S||!0===S.isXRRenderTarget)&&(ms=B.toneMapping);const or=wt.morphAttributes.position||wt.morphAttributes.normal||wt.morphAttributes.color,Yr=void 0!==or?or.length:0,hi=Ge.get(Dt),ho=p.state.lights;!0!==le||!0!==ce&&Se===M||ct.setState(Dt,Se,Se===M&&Dt.id===w);let zr=!1;Dt.version===hi.__version?(hi.needsLights&&hi.lightsStateVersion!==ho.state.version||hi.outputColorSpace!==jn||ht.isBatchedMesh&&!1===hi.batching||!ht.isBatchedMesh&&!0===hi.batching||ht.isBatchedMesh&&!0===hi.batchingColor&&null===ht.colorTexture||ht.isBatchedMesh&&!1===hi.batchingColor&&null!==ht.colorTexture||ht.isInstancedMesh&&!1===hi.instancing||!ht.isInstancedMesh&&!0===hi.instancing||ht.isSkinnedMesh&&!1===hi.skinning||!ht.isSkinnedMesh&&!0===hi.skinning||ht.isInstancedMesh&&!0===hi.instancingColor&&null===ht.instanceColor||ht.isInstancedMesh&&!1===hi.instancingColor&&null!==ht.instanceColor||ht.isInstancedMesh&&!0===hi.instancingMorph&&null===ht.morphTexture||ht.isInstancedMesh&&!1===hi.instancingMorph&&null!==ht.morphTexture||hi.envMap!==ei||!0===Dt.fog&&hi.fog!==En||void 0!==hi.numClippingPlanes&&(hi.numClippingPlanes!==ct.numPlanes||hi.numIntersection!==ct.numIntersection)||hi.vertexAlphas!==Di||hi.vertexTangents!==Ui||hi.morphTargets!==gi||hi.morphNormals!==Tr||hi.morphColors!==Vr||hi.toneMapping!==ms||hi.morphTargetsCount!==Yr)&&(zr=!0):(zr=!0,hi.__version=Dt.version);let Bl=hi.currentProgram;!0===zr&&(Bl=Uc(Dt,at,ht));let Ra=!1,Jo=!1,Vo=!1;const KA=Bl.getUniforms(),sc=hi.uniforms;if(Me.useProgram(Bl.program)&&(Ra=!0,Jo=!0,Vo=!0),Dt.id!==w&&(w=Dt.id,Jo=!0),Ra||M!==Se){Me.buffers.depth.getReversed()?(ge.copy(Se.projectionMatrix),function uNe(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}(ge),function gNe(n){const e=n.elements;-1===e[11]?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=1-e[14])}(ge),KA.setValue(Ae,"projectionMatrix",ge)):KA.setValue(Ae,"projectionMatrix",Se.projectionMatrix),KA.setValue(Ae,"viewMatrix",Se.matrixWorldInverse);const Ta=KA.map.cameraPosition;void 0!==Ta&&Ta.setValue(Ae,ie.setFromMatrixPosition(Se.matrixWorld)),Te.logarithmicDepthBuffer&&KA.setValue(Ae,"logDepthBufFC",2/(Math.log(Se.far+1)/Math.LN2)),(Dt.isMeshPhongMaterial||Dt.isMeshToonMaterial||Dt.isMeshLambertMaterial||Dt.isMeshBasicMaterial||Dt.isMeshStandardMaterial||Dt.isShaderMaterial)&&KA.setValue(Ae,"isOrthographic",!0===Se.isOrthographicCamera),M!==Se&&(M=Se,Jo=!0,Vo=!0)}if(ht.isSkinnedMesh){KA.setOptional(Ae,ht,"bindMatrix"),KA.setOptional(Ae,ht,"bindMatrixInverse");const zo=ht.skeleton;zo&&(null===zo.boneTexture&&zo.computeBoneTexture(),KA.setValue(Ae,"boneTexture",zo.boneTexture,oe))}ht.isBatchedMesh&&(KA.setOptional(Ae,ht,"batchingTexture"),KA.setValue(Ae,"batchingTexture",ht._matricesTexture,oe),KA.setOptional(Ae,ht,"batchingIdTexture"),KA.setValue(Ae,"batchingIdTexture",ht._indirectTexture,oe),KA.setOptional(Ae,ht,"batchingColorTexture"),null!==ht._colorsTexture&&KA.setValue(Ae,"batchingColorTexture",ht._colorsTexture,oe));const Oc=wt.morphAttributes;if((void 0!==Oc.position||void 0!==Oc.normal||void 0!==Oc.color)&&P.update(ht,wt,Bl),(Jo||hi.receiveShadow!==ht.receiveShadow)&&(hi.receiveShadow=ht.receiveShadow,KA.setValue(Ae,"receiveShadow",ht.receiveShadow)),Dt.isMeshGouraudMaterial&&null!==Dt.envMap&&(sc.envMap.value=ei,sc.flipEnvMap.value=ei.isCubeTexture&&!1===ei.isRenderTargetTexture?-1:1),Dt.isMeshStandardMaterial&&null===Dt.envMap&&null!==at.environment&&(sc.envMapIntensity.value=at.environmentIntensity),Jo&&(KA.setValue(Ae,"toneMappingExposure",B.toneMappingExposure),hi.needsLights&&function iu(Se,at){Se.ambientLightColor.needsUpdate=at,Se.lightProbe.needsUpdate=at,Se.directionalLights.needsUpdate=at,Se.directionalLightShadows.needsUpdate=at,Se.pointLights.needsUpdate=at,Se.pointLightShadows.needsUpdate=at,Se.spotLights.needsUpdate=at,Se.spotLightShadows.needsUpdate=at,Se.rectAreaLights.needsUpdate=at,Se.hemisphereLights.needsUpdate=at}(sc,Vo),En&&!0===Dt.fog&&Yt.refreshFogUniforms(sc,En),Yt.refreshMaterialUniforms(sc,Dt,J,L,p.state.transmissionRenderTarget[Se.id]),m2.upload(Ae,tu(hi),sc,oe)),Dt.isShaderMaterial&&!0===Dt.uniformsNeedUpdate&&(m2.upload(Ae,tu(hi),sc,oe),Dt.uniformsNeedUpdate=!1),Dt.isSpriteMaterial&&KA.setValue(Ae,"center",ht.center),KA.setValue(Ae,"modelViewMatrix",ht.modelViewMatrix),KA.setValue(Ae,"normalMatrix",ht.normalMatrix),KA.setValue(Ae,"modelMatrix",ht.matrixWorld),Dt.isShaderMaterial||Dt.isRawShaderMaterial){const zo=Dt.uniformsGroups;for(let Ta=0,fC=zo.length;Ta<fC;Ta++){const Ph=zo[Ta];Ee.update(Ph,Bl),Ee.bind(Ph,Bl)}}return Bl}(Se,at,wt,Dt,ht);Me.setMaterial(Dt,Fn);let ei=wt.index,Di=1;if(!0===Dt.wireframe){if(ei=ut.getWireframeAttribute(wt),void 0===ei)return;Di=2}const Ui=wt.drawRange,gi=wt.attributes.position;let Tr=Ui.start*Di,Vr=(Ui.start+Ui.count)*Di;null!==En&&(Tr=Math.max(Tr,En.start*Di),Vr=Math.min(Vr,(En.start+En.count)*Di)),null!==ei?(Tr=Math.max(Tr,0),Vr=Math.min(Vr,ei.count)):null!=gi&&(Tr=Math.max(Tr,0),Vr=Math.min(Vr,gi.count));const ms=Vr-Tr;if(ms<0||ms===1/0)return;we.setup(ht,Dt,jn,wt,ei);let or,Yr=V;if(null!==ei&&(or=Ve.get(ei),Yr=F,Yr.setIndex(or)),ht.isMesh)!0===Dt.wireframe?(Me.setLineWidth(Dt.wireframeLinewidth*Ne()),Yr.setMode(Ae.LINES)):Yr.setMode(Ae.TRIANGLES);else if(ht.isLine){let hi=Dt.linewidth;void 0===hi&&(hi=1),Me.setLineWidth(hi*Ne()),Yr.setMode(ht.isLineSegments?Ae.LINES:ht.isLineLoop?Ae.LINE_LOOP:Ae.LINE_STRIP)}else ht.isPoints?Yr.setMode(Ae.POINTS):ht.isSprite&&Yr.setMode(Ae.TRIANGLES);if(ht.isBatchedMesh)if(null!==ht._multiDrawInstances)Yr.renderMultiDrawInstances(ht._multiDrawStarts,ht._multiDrawCounts,ht._multiDrawCount,ht._multiDrawInstances);else if(j.get("WEBGL_multi_draw"))Yr.renderMultiDraw(ht._multiDrawStarts,ht._multiDrawCounts,ht._multiDrawCount);else{const hi=ht._multiDrawStarts,ho=ht._multiDrawCounts,zr=ht._multiDrawCount,Bl=ei?Ve.get(ei).bytesPerElement:1,Ra=Ge.get(Dt).currentProgram.getUniforms();for(let Jo=0;Jo<zr;Jo++)Ra.setValue(Ae,"_gl_DrawID",Jo),Yr.render(hi[Jo]/Bl,ho[Jo])}else if(ht.isInstancedMesh)Yr.renderInstances(Tr,ms,ht.count);else if(wt.isInstancedBufferGeometry){const ho=Math.min(wt.instanceCount,void 0!==wt._maxInstanceCount?wt._maxInstanceCount:1/0);Yr.renderInstances(Tr,ms,ho)}else Yr.render(Tr,ms)},this.compile=function(Se,at,wt=null){null===wt&&(wt=Se),p=Sn.get(wt),p.init(at),C.push(p),wt.traverseVisible(function(ht){ht.isLight&&ht.layers.test(at.layers)&&(p.pushLight(ht),ht.castShadow&&p.pushShadow(ht))}),Se!==wt&&Se.traverseVisible(function(ht){ht.isLight&&ht.layers.test(at.layers)&&(p.pushLight(ht),ht.castShadow&&p.pushShadow(ht))}),p.setupLights();const Dt=new Set;return Se.traverse(function(ht){if(!(ht.isMesh||ht.isPoints||ht.isLine||ht.isSprite))return;const En=ht.material;if(En)if(Array.isArray(En))for(let Fn=0;Fn<En.length;Fn++){const jn=En[Fn];sr(jn,wt,ht),Dt.add(jn)}else sr(En,wt,ht),Dt.add(En)}),C.pop(),p=null,Dt},this.compileAsync=function(Se,at,wt=null){const Dt=this.compile(Se,at,wt);return new Promise(ht=>{function En(){Dt.forEach(function(Fn){Ge.get(Fn).currentProgram.isReady()&&Dt.delete(Fn)}),0!==Dt.size?setTimeout(En,10):ht(Se)}null!==j.get("KHR_parallel_shader_compile")?En():setTimeout(En,10)})};let Hs=null;function Fa(){Ys.stop()}function kc(){Ys.start()}const Ys=new hee;function Xs(Se,at,wt,Dt){if(!1===Se.visible)return;if(Se.layers.test(at.layers))if(Se.isGroup)wt=Se.renderOrder;else if(Se.isLOD)!0===Se.autoUpdate&&Se.update(at);else if(Se.isLight)p.pushLight(Se),Se.castShadow&&p.pushShadow(Se);else if(Se.isSprite){if(!Se.frustumCulled||Z.intersectsSprite(Se)){Dt&&me.setFromMatrixPosition(Se.matrixWorld).applyMatrix4(re);const Fn=it.update(Se),jn=Se.material;jn.visible&&m.push(Se,Fn,jn,wt,me.z,null)}}else if((Se.isMesh||Se.isLine||Se.isPoints)&&(!Se.frustumCulled||Z.intersectsObject(Se))){const Fn=it.update(Se),jn=Se.material;if(Dt&&(void 0!==Se.boundingSphere?(null===Se.boundingSphere&&Se.computeBoundingSphere(),me.copy(Se.boundingSphere.center)):(null===Fn.boundingSphere&&Fn.computeBoundingSphere(),me.copy(Fn.boundingSphere.center)),me.applyMatrix4(Se.matrixWorld).applyMatrix4(re)),Array.isArray(jn)){const ei=Fn.groups;for(let Di=0,Ui=ei.length;Di<Ui;Di++){const gi=ei[Di],Tr=jn[gi.materialIndex];Tr&&Tr.visible&&m.push(Se,Fn,Tr,wt,me.z,gi)}}else jn.visible&&m.push(Se,Fn,jn,wt,me.z,null)}const En=Se.children;for(let Fn=0,jn=En.length;Fn<jn;Fn++)Xs(En[Fn],at,wt,Dt)}function $s(Se,at,wt,Dt){const ht=Se.opaque,En=Se.transmissive,Fn=Se.transparent;p.setupLightsView(wt),!0===le&&ct.setGlobalState(B.clippingPlanes,wt),Dt&&Me.viewport(D.copy(Dt)),ht.length>0&&Gh(ht,at,wt),En.length>0&&Gh(En,at,wt),Fn.length>0&&Gh(Fn,at,wt),Me.buffers.depth.setTest(!0),Me.buffers.depth.setMask(!0),Me.buffers.color.setMask(!0),Me.setPolygonOffset(!1)}function Lc(Se,at,wt,Dt){if(null!==(!0===wt.isScene?wt.overrideMaterial:null))return;void 0===p.state.transmissionRenderTarget[Dt.id]&&(p.state.transmissionRenderTarget[Dt.id]=new Bf(1,1,{generateMipmaps:!0,type:j.has("EXT_color_buffer_half_float")||j.has("EXT_color_buffer_float")?t1:xd,minFilter:Nd,samples:4,stencilBuffer:A,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:BA.workingColorSpace}));const En=p.state.transmissionRenderTarget[Dt.id],Fn=Dt.viewport||D;En.setSize(Fn.z,Fn.w);const jn=B.getRenderTarget();B.setRenderTarget(En),B.getClearColor(G),W=B.getClearAlpha(),W<1&&B.setClearColor(16777215,.5),B.clear(),Ie&&se.render(wt);const ei=B.toneMapping;B.toneMapping=ym;const Di=Dt.viewport;if(void 0!==Dt.viewport&&(Dt.viewport=void 0),p.setupLightsView(Dt),!0===le&&ct.setGlobalState(B.clippingPlanes,Dt),Gh(Se,wt,Dt),oe.updateMultisampleRenderTarget(En),oe.updateRenderTargetMipmap(En),!1===j.has("WEBGL_multisampled_render_to_texture")){let Ui=!1;for(let gi=0,Tr=at.length;gi<Tr;gi++){const Vr=at[gi],ms=Vr.object,or=Vr.geometry,Yr=Vr.material,hi=Vr.group;if(2===Yr.side&&ms.layers.test(Dt.layers)){const ho=Yr.side;Yr.side=1,Yr.needsUpdate=!0,Ng(ms,wt,Dt,or,Yr,hi),Yr.side=ho,Yr.needsUpdate=!0,Ui=!0}}!0===Ui&&(oe.updateMultisampleRenderTarget(En),oe.updateRenderTargetMipmap(En))}B.setRenderTarget(jn),B.setClearColor(G,W),void 0!==Di&&(Dt.viewport=Di),B.toneMapping=ei}function Gh(Se,at,wt){const Dt=!0===at.isScene?at.overrideMaterial:null;for(let ht=0,En=Se.length;ht<En;ht++){const Fn=Se[ht],jn=Fn.object,ei=Fn.geometry,Di=null===Dt?Fn.material:Dt,Ui=Fn.group;jn.layers.test(wt.layers)&&Ng(jn,at,wt,ei,Di,Ui)}}function Ng(Se,at,wt,Dt,ht,En){Se.onBeforeRender(B,at,wt,Dt,ht,En),Se.modelViewMatrix.multiplyMatrices(wt.matrixWorldInverse,Se.matrixWorld),Se.normalMatrix.getNormalMatrix(Se.modelViewMatrix),ht.onBeforeRender(B,at,wt,Dt,Se,En),!0===ht.transparent&&2===ht.side&&!1===ht.forceSinglePass?(ht.side=1,ht.needsUpdate=!0,B.renderBufferDirect(wt,at,Dt,ht,Se,En),ht.side=0,ht.needsUpdate=!0,B.renderBufferDirect(wt,at,Dt,ht,Se,En),ht.side=2):B.renderBufferDirect(wt,at,Dt,ht,Se,En),Se.onAfterRender(B,at,wt,Dt,ht,En)}function Uc(Se,at,wt){!0!==at.isScene&&(at=be);const Dt=Ge.get(Se),ht=p.state.lights,Fn=ht.state.version,jn=Jt.getParameters(Se,ht.state,p.state.shadowsArray,at,wt),ei=Jt.getProgramCacheKey(jn);let Di=Dt.programs;Dt.environment=Se.isMeshStandardMaterial?at.environment:null,Dt.fog=at.fog,Dt.envMap=(Se.isMeshStandardMaterial?Ye:te).get(Se.envMap||Dt.environment),Dt.envMapRotation=null!==Dt.environment&&null===Se.envMap?at.environmentRotation:Se.envMapRotation,void 0===Di&&(Se.addEventListener("dispose",Rn),Di=new Map,Dt.programs=Di);let Ui=Di.get(ei);if(void 0!==Ui){if(Dt.currentProgram===Ui&&Dt.lightsStateVersion===Fn)return nu(Se,jn),Ui}else jn.uniforms=Jt.getUniforms(Se),Se.onBeforeCompile(jn,B),Ui=Jt.acquireProgram(jn,ei),Di.set(ei,Ui),Dt.uniforms=jn.uniforms;const gi=Dt.uniforms;return(!Se.isShaderMaterial&&!Se.isRawShaderMaterial||!0===Se.clipping)&&(gi.clippingPlanes=ct.uniform),nu(Se,jn),Dt.needsLights=function Fg(Se){return Se.isMeshLambertMaterial||Se.isMeshToonMaterial||Se.isMeshPhongMaterial||Se.isMeshStandardMaterial||Se.isShadowMaterial||Se.isShaderMaterial&&!0===Se.lights}(Se),Dt.lightsStateVersion=Fn,Dt.needsLights&&(gi.ambientLightColor.value=ht.state.ambient,gi.lightProbe.value=ht.state.probe,gi.directionalLights.value=ht.state.directional,gi.directionalLightShadows.value=ht.state.directionalShadow,gi.spotLights.value=ht.state.spot,gi.spotLightShadows.value=ht.state.spotShadow,gi.rectAreaLights.value=ht.state.rectArea,gi.ltc_1.value=ht.state.rectAreaLTC1,gi.ltc_2.value=ht.state.rectAreaLTC2,gi.pointLights.value=ht.state.point,gi.pointLightShadows.value=ht.state.pointShadow,gi.hemisphereLights.value=ht.state.hemi,gi.directionalShadowMap.value=ht.state.directionalShadowMap,gi.directionalShadowMatrix.value=ht.state.directionalShadowMatrix,gi.spotShadowMap.value=ht.state.spotShadowMap,gi.spotLightMatrix.value=ht.state.spotLightMatrix,gi.spotLightMap.value=ht.state.spotLightMap,gi.pointShadowMap.value=ht.state.pointShadowMap,gi.pointShadowMatrix.value=ht.state.pointShadowMatrix),Dt.currentProgram=Ui,Dt.uniformsList=null,Ui}function tu(Se){if(null===Se.uniformsList){const at=Se.currentProgram.getUniforms();Se.uniformsList=m2.seqWithValue(at.seq,Se.uniforms)}return Se.uniformsList}function nu(Se,at){const wt=Ge.get(Se);wt.outputColorSpace=at.outputColorSpace,wt.batching=at.batching,wt.batchingColor=at.batchingColor,wt.instancing=at.instancing,wt.instancingColor=at.instancingColor,wt.instancingMorph=at.instancingMorph,wt.skinning=at.skinning,wt.morphTargets=at.morphTargets,wt.morphNormals=at.morphNormals,wt.morphColors=at.morphColors,wt.morphTargetsCount=at.morphTargetsCount,wt.numClippingPlanes=at.numClippingPlanes,wt.numIntersection=at.numClipIntersection,wt.vertexAlphas=at.vertexAlphas,wt.vertexTangents=at.vertexTangents,wt.toneMapping=at.toneMapping}Ys.setAnimationLoop(function ii(Se){Hs&&Hs(Se)}),typeof self<"u"&&Ys.setContext(self),this.setAnimationLoop=function(Se){Hs=Se,rt.setAnimationLoop(Se),null===Se?Ys.stop():Ys.start()},rt.addEventListener("sessionstart",Fa),rt.addEventListener("sessionend",kc),this.render=function(Se,at){if(void 0!==at&&!0!==at.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===y)return;if(!0===Se.matrixWorldAutoUpdate&&Se.updateMatrixWorld(),null===at.parent&&!0===at.matrixWorldAutoUpdate&&at.updateMatrixWorld(),!0===rt.enabled&&!0===rt.isPresenting&&(!0===rt.cameraAutoUpdate&&rt.updateCamera(at),at=rt.getCamera()),!0===Se.isScene&&Se.onBeforeRender(B,Se,at,S),p=Sn.get(Se,C.length),p.init(at),C.push(p),re.multiplyMatrices(at.projectionMatrix,at.matrixWorldInverse),Z.setFromProjectionMatrix(re),ce=this.localClippingEnabled,le=ct.init(this.clippingPlanes,ce),m=Ot.get(Se,I.length),m.init(),I.push(m),!0===rt.enabled&&!0===rt.isPresenting){const En=B.xr.getDepthSensingMesh();null!==En&&Xs(En,at,-1/0,B.sortObjects)}Xs(Se,at,0,B.sortObjects),m.finish(),!0===B.sortObjects&&m.sort(H,ue),Ie=!1===rt.enabled||!1===rt.isPresenting||!1===rt.hasDepthSensing(),Ie&&se.addToRenderList(m,Se),this.info.render.frame++,!0===le&&ct.beginShadows(),Dn.render(p.state.shadowsArray,Se,at),!0===le&&ct.endShadows(),!0===this.info.autoReset&&this.info.reset();const Dt=m.opaque,ht=m.transmissive;if(p.setupLights(),at.isArrayCamera){const En=at.cameras;if(ht.length>0)for(let Fn=0,jn=En.length;Fn<jn;Fn++)Lc(Dt,ht,Se,En[Fn]);Ie&&se.render(Se);for(let Fn=0,jn=En.length;Fn<jn;Fn++){const ei=En[Fn];$s(m,Se,ei,ei.viewport)}}else ht.length>0&&Lc(Dt,ht,Se,at),Ie&&se.render(Se),$s(m,Se,at);null!==S&&(oe.updateMultisampleRenderTarget(S),oe.updateRenderTargetMipmap(S)),!0===Se.isScene&&Se.onAfterRender(B,Se,at),we.resetDefaultState(),w=-1,M=null,C.pop(),C.length>0?(p=C[C.length-1],!0===le&&ct.setGlobalState(B.clippingPlanes,p.state.camera)):p=null,I.pop(),m=I.length>0?I[I.length-1]:null},this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(Se,at,wt){Ge.get(Se.texture).__webglTexture=at,Ge.get(Se.depthTexture).__webglTexture=wt;const Dt=Ge.get(Se);Dt.__hasExternalTextures=!0,Dt.__autoAllocateDepthBuffer=void 0===wt,Dt.__autoAllocateDepthBuffer||!0===j.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Dt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Se,at){const wt=Ge.get(Se);wt.__webglFramebuffer=at,wt.__useDefaultFramebuffer=void 0===at},this.setRenderTarget=function(Se,at=0,wt=0){S=Se,E=at,b=wt;let Dt=!0,ht=null,En=!1,Fn=!1;if(Se){const ei=Ge.get(Se);if(void 0!==ei.__useDefaultFramebuffer)Me.bindFramebuffer(Ae.FRAMEBUFFER,null),Dt=!1;else if(void 0===ei.__webglFramebuffer)oe.setupRenderTarget(Se);else if(ei.__hasExternalTextures)oe.rebindTextures(Se,Ge.get(Se.texture).__webglTexture,Ge.get(Se.depthTexture).__webglTexture);else if(Se.depthBuffer){const gi=Se.depthTexture;if(ei.__boundDepthTexture!==gi){if(null!==gi&&Ge.has(gi)&&(Se.width!==gi.image.width||Se.height!==gi.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");oe.setupDepthRenderbuffer(Se)}}const Di=Se.texture;(Di.isData3DTexture||Di.isDataArrayTexture||Di.isCompressedArrayTexture)&&(Fn=!0);const Ui=Ge.get(Se).__webglFramebuffer;Se.isWebGLCubeRenderTarget?(ht=Array.isArray(Ui[at])?Ui[at][wt]:Ui[at],En=!0):ht=Se.samples>0&&!1===oe.useMultisampledRTT(Se)?Ge.get(Se).__webglMultisampledFramebuffer:Array.isArray(Ui)?Ui[wt]:Ui,D.copy(Se.viewport),T.copy(Se.scissor),O=Se.scissorTest}else D.copy(ye).multiplyScalar(J).floor(),T.copy(K).multiplyScalar(J).floor(),O=z;if(Me.bindFramebuffer(Ae.FRAMEBUFFER,ht)&&Dt&&Me.drawBuffers(Se,ht),Me.viewport(D),Me.scissor(T),Me.setScissorTest(O),En){const ei=Ge.get(Se.texture);Ae.framebufferTexture2D(Ae.FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Ae.TEXTURE_CUBE_MAP_POSITIVE_X+at,ei.__webglTexture,wt)}else if(Fn){const ei=Ge.get(Se.texture);Ae.framebufferTextureLayer(Ae.FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,ei.__webglTexture,wt||0,at||0)}w=-1},this.readRenderTargetPixels=function(Se,at,wt,Dt,ht,En,Fn){if(!Se||!Se.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let jn=Ge.get(Se).__webglFramebuffer;if(Se.isWebGLCubeRenderTarget&&void 0!==Fn&&(jn=jn[Fn]),jn){Me.bindFramebuffer(Ae.FRAMEBUFFER,jn);try{const ei=Se.texture,Di=ei.format,Ui=ei.type;if(!Te.textureFormatReadable(Di))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!Te.textureTypeReadable(Ui))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");at>=0&&at<=Se.width-Dt&&wt>=0&&wt<=Se.height-ht&&Ae.readPixels(at,wt,Dt,ht,$.convert(Di),$.convert(Ui),En)}finally{const ei=null!==S?Ge.get(S).__webglFramebuffer:null;Me.bindFramebuffer(Ae.FRAMEBUFFER,ei)}}},this.readRenderTargetPixelsAsync=function(){var Se=(0,St.A)(function*(at,wt,Dt,ht,En,Fn,jn){if(!at||!at.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ei=Ge.get(at).__webglFramebuffer;if(at.isWebGLCubeRenderTarget&&void 0!==jn&&(ei=ei[jn]),ei){const Di=at.texture,Ui=Di.format,gi=Di.type;if(!Te.textureFormatReadable(Ui))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Te.textureTypeReadable(gi))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(wt>=0&&wt<=at.width-ht&&Dt>=0&&Dt<=at.height-En){Me.bindFramebuffer(Ae.FRAMEBUFFER,ei);const Tr=Ae.createBuffer();Ae.bindBuffer(Ae.PIXEL_PACK_BUFFER,Tr),Ae.bufferData(Ae.PIXEL_PACK_BUFFER,Fn.byteLength,Ae.STREAM_READ),Ae.readPixels(wt,Dt,ht,En,$.convert(Ui),$.convert(gi),0);const Vr=null!==S?Ge.get(S).__webglFramebuffer:null;Me.bindFramebuffer(Ae.FRAMEBUFFER,Vr);const ms=Ae.fenceSync(Ae.SYNC_GPU_COMMANDS_COMPLETE,0);return Ae.flush(),yield function lNe(n,e,t){return new Promise(function(i,r){setTimeout(function A(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(A,t);break;default:i()}},t)})}(Ae,ms,4),Ae.bindBuffer(Ae.PIXEL_PACK_BUFFER,Tr),Ae.getBufferSubData(Ae.PIXEL_PACK_BUFFER,0,Fn),Ae.deleteBuffer(Tr),Ae.deleteSync(ms),Fn}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}});return function(at,wt,Dt,ht,En,Fn,jn){return Se.apply(this,arguments)}}(),this.copyFramebufferToTexture=function(Se,at=null,wt=0){!0!==Se.isTexture&&(X0("WebGLRenderer: copyFramebufferToTexture function signature has changed."),at=arguments[0]||null,Se=arguments[1]);const Dt=Math.pow(2,-wt),ht=Math.floor(Se.image.width*Dt),En=Math.floor(Se.image.height*Dt),Fn=null!==at?at.x:0,jn=null!==at?at.y:0;oe.setTexture2D(Se,0),Ae.copyTexSubImage2D(Ae.TEXTURE_2D,wt,0,0,Fn,jn,ht,En),Me.unbindTexture()};const gp=Ae.createFramebuffer(),hC=Ae.createFramebuffer();this.copyTextureToTexture=function(Se,at,wt=null,Dt=null,ht=0,En=null){let Fn,jn,ei,Di,Ui,gi,Tr,Vr,ms;!0!==Se.isTexture&&(X0("WebGLRenderer: copyTextureToTexture function signature has changed."),Dt=arguments[0]||null,Se=arguments[1],at=arguments[2],En=arguments[3]||0,wt=null),null===En&&(0!==ht?(X0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),En=ht,ht=0):En=0);const or=Se.isCompressedTexture?Se.mipmaps[En]:Se.image;if(null!==wt)Fn=wt.max.x-wt.min.x,jn=wt.max.y-wt.min.y,ei=wt.isBox3?wt.max.z-wt.min.z:1,Di=wt.min.x,Ui=wt.min.y,gi=wt.isBox3?wt.min.z:0;else{const Oc=Math.pow(2,-ht);Fn=Math.floor(or.width*Oc),jn=Math.floor(or.height*Oc),ei=Se.isDataArrayTexture?or.depth:Se.isData3DTexture?Math.floor(or.depth*Oc):1,Di=0,Ui=0,gi=0}null!==Dt?(Tr=Dt.x,Vr=Dt.y,ms=Dt.z):(Tr=0,Vr=0,ms=0);const Yr=$.convert(at.format),hi=$.convert(at.type);let ho;at.isData3DTexture?(oe.setTexture3D(at,0),ho=Ae.TEXTURE_3D):at.isDataArrayTexture||at.isCompressedArrayTexture?(oe.setTexture2DArray(at,0),ho=Ae.TEXTURE_2D_ARRAY):(oe.setTexture2D(at,0),ho=Ae.TEXTURE_2D),Ae.pixelStorei(Ae.UNPACK_FLIP_Y_WEBGL,at.flipY),Ae.pixelStorei(Ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,at.premultiplyAlpha),Ae.pixelStorei(Ae.UNPACK_ALIGNMENT,at.unpackAlignment);const zr=Ae.getParameter(Ae.UNPACK_ROW_LENGTH),Bl=Ae.getParameter(Ae.UNPACK_IMAGE_HEIGHT),Ra=Ae.getParameter(Ae.UNPACK_SKIP_PIXELS),Jo=Ae.getParameter(Ae.UNPACK_SKIP_ROWS),Vo=Ae.getParameter(Ae.UNPACK_SKIP_IMAGES);Ae.pixelStorei(Ae.UNPACK_ROW_LENGTH,or.width),Ae.pixelStorei(Ae.UNPACK_IMAGE_HEIGHT,or.height),Ae.pixelStorei(Ae.UNPACK_SKIP_PIXELS,Di),Ae.pixelStorei(Ae.UNPACK_SKIP_ROWS,Ui),Ae.pixelStorei(Ae.UNPACK_SKIP_IMAGES,gi);const KA=Se.isDataArrayTexture||Se.isData3DTexture,sc=at.isDataArrayTexture||at.isData3DTexture;if(Se.isDepthTexture){const Oc=Ge.get(Se),zo=Ge.get(at),Ta=Ge.get(Oc.__renderTarget),fC=Ge.get(zo.__renderTarget);Me.bindFramebuffer(Ae.READ_FRAMEBUFFER,Ta.__webglFramebuffer),Me.bindFramebuffer(Ae.DRAW_FRAMEBUFFER,fC.__webglFramebuffer);for(let Ph=0;Ph<ei;Ph++)KA&&(Ae.framebufferTextureLayer(Ae.READ_FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Ge.get(Se).__webglTexture,ht,gi+Ph),Ae.framebufferTextureLayer(Ae.DRAW_FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Ge.get(at).__webglTexture,En,ms+Ph)),Ae.blitFramebuffer(Di,Ui,Fn,jn,Tr,Vr,Fn,jn,Ae.DEPTH_BUFFER_BIT,Ae.NEAREST);Me.bindFramebuffer(Ae.READ_FRAMEBUFFER,null),Me.bindFramebuffer(Ae.DRAW_FRAMEBUFFER,null)}else if(0!==ht||Se.isRenderTargetTexture||Ge.has(Se)){const Oc=Ge.get(Se),zo=Ge.get(at);Me.bindFramebuffer(Ae.READ_FRAMEBUFFER,gp),Me.bindFramebuffer(Ae.DRAW_FRAMEBUFFER,hC);for(let Ta=0;Ta<ei;Ta++)KA?Ae.framebufferTextureLayer(Ae.READ_FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Oc.__webglTexture,ht,gi+Ta):Ae.framebufferTexture2D(Ae.READ_FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Ae.TEXTURE_2D,Oc.__webglTexture,ht),sc?Ae.framebufferTextureLayer(Ae.DRAW_FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,zo.__webglTexture,En,ms+Ta):Ae.framebufferTexture2D(Ae.DRAW_FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Ae.TEXTURE_2D,zo.__webglTexture,En),0!==ht?Ae.blitFramebuffer(Di,Ui,Fn,jn,Tr,Vr,Fn,jn,Ae.COLOR_BUFFER_BIT,Ae.NEAREST):sc?Ae.copyTexSubImage3D(ho,En,Tr,Vr,ms+Ta,Di,Ui,Fn,jn):Ae.copyTexSubImage2D(ho,En,Tr,Vr,Di,Ui,Fn,jn);Me.bindFramebuffer(Ae.READ_FRAMEBUFFER,null),Me.bindFramebuffer(Ae.DRAW_FRAMEBUFFER,null)}else sc?Se.isDataTexture||Se.isData3DTexture?Ae.texSubImage3D(ho,En,Tr,Vr,ms,Fn,jn,ei,Yr,hi,or.data):at.isCompressedArrayTexture?Ae.compressedTexSubImage3D(ho,En,Tr,Vr,ms,Fn,jn,ei,Yr,or.data):Ae.texSubImage3D(ho,En,Tr,Vr,ms,Fn,jn,ei,Yr,hi,or):Se.isDataTexture?Ae.texSubImage2D(Ae.TEXTURE_2D,En,Tr,Vr,Fn,jn,Yr,hi,or.data):Se.isCompressedTexture?Ae.compressedTexSubImage2D(Ae.TEXTURE_2D,En,Tr,Vr,or.width,or.height,Yr,or.data):Ae.texSubImage2D(Ae.TEXTURE_2D,En,Tr,Vr,Fn,jn,Yr,hi,or);Ae.pixelStorei(Ae.UNPACK_ROW_LENGTH,zr),Ae.pixelStorei(Ae.UNPACK_IMAGE_HEIGHT,Bl),Ae.pixelStorei(Ae.UNPACK_SKIP_PIXELS,Ra),Ae.pixelStorei(Ae.UNPACK_SKIP_ROWS,Jo),Ae.pixelStorei(Ae.UNPACK_SKIP_IMAGES,Vo),0===En&&at.generateMipmaps&&Ae.generateMipmap(ho),Me.unbindTexture()},this.copyTextureToTexture3D=function(Se,at,wt=null,Dt=null,ht=0){return!0!==Se.isTexture&&(X0("WebGLRenderer: copyTextureToTexture3D function signature has changed."),wt=arguments[0]||null,Dt=arguments[1]||null,Se=arguments[2],at=arguments[3],ht=arguments[4]||0),X0('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Se,at,wt,Dt,ht)},this.initRenderTarget=function(Se){void 0===Ge.get(Se).__webglFramebuffer&&oe.setupRenderTarget(Se)},this.initTexture=function(Se){Se.isCubeTexture?oe.setTextureCube(Se,0):Se.isData3DTexture?oe.setTexture3D(Se,0):Se.isDataArrayTexture||Se.isCompressedArrayTexture?oe.setTexture2DArray(Se,0):oe.setTexture2D(Se,0),Me.unbindTexture()},this.resetState=function(){E=0,b=0,S=null,Me.reset(),we.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Fd}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=BA._getDrawingBufferColorSpace(e),t.unpackColorSpace=BA._getUnpackColorSpace()}}var I2=De(3443);let q5=(()=>{class n{constructor(t){this.router=t}reloadPage(){window.location.reload()}reloadCurrentRoute(){var t=this;return(0,St.A)(function*(){const i=t.router.url;return yield t.router.navigateByUrl("/",{skipLocationChange:!0}),t.router.navigateByUrl(i)})()}reloadWithQueryParamsRefresh(){const t=window.location.href;window.location.href=t}static{this.\u0275fac=function(i){return new(i||n)(cn(nl))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Wke=["rendererContainer"];let jke=(()=>{class n{constructor(t){this.pageRestartService=t,this.disks=[],this.towers=[],this.numDisks=3,this.moves=[],this.currentMove=0,this.isAnimating=!1}restart(){this.pageRestartService.reloadPage()}ngOnInit(){}ngAfterViewInit(){this.initScene(),this.createTowers(),this.createDisks(),this.solveHanoi(this.numDisks,0,2,1),this.animate()}initScene(){this.scene=new KX,this.camera=new Za(75,this.rendererContainer.nativeElement.offsetWidth/this.rendererContainer.nativeElement.offsetHeight,.1,1e3),this.renderer=new zke({antialias:!0}),this.renderer.setSize(this.rendererContainer.nativeElement.offsetWidth,this.rendererContainer.nativeElement.offsetHeight),this.rendererContainer.nativeElement.appendChild(this.renderer.domElement),this.controls=new R2e(this.camera,this.renderer.domElement),this.camera.position.set(10,10,10),this.controls.update();const t=new G$(4210752);this.scene.add(t);const i=new O$(16777215,.5);i.position.set(1,1,1).normalize(),this.scene.add(i)}createTowers(){const t=new KI(.5,.5,5,32),i=new Hd({color:8421504});for(let r=0;r<3;r++){const A=new wo(t,i);A.position.set(4*r-4,2.5,0),this.towers.push(A),this.scene.add(A)}}createDisks(){for(let t=0;t<this.numDisks;t++){const i=new KI(1-.1*t,1-.1*t,.5,32),r=new Hd({color:(new Wn).setHSL(t/this.numDisks,1,.5)}),A=new wo(i,r);A.position.set(-4,.5*t+.25,0),this.disks.push(A),this.scene.add(A)}}solveHanoi(t,i,r,A){t>0&&(this.solveHanoi(t-1,i,A,r),this.moves.push({from:i,to:r}),this.solveHanoi(t-1,A,r,i))}animateMove(){if(this.currentMove<this.moves.length&&!this.isAnimating){this.isAnimating=!0;const t=this.moves[this.currentMove],i=this.disks.filter(r=>Math.abs(r.position.x-this.towers[t.from].position.x)<.1).sort((r,A)=>A.position.y-r.position.y);if(i.length>0){const r=i[0],A=this.towers[t.to].position.y+.25+.5*this.disks.filter(s=>Math.abs(s.position.x-this.towers[t.to].position.x)<.1).length;new I2.Tween(r.position).to({y:r.position.y+3},500).onComplete(()=>{new I2.Tween(r.position).to({x:this.towers[t.to].position.x},500).onComplete(()=>{new I2.Tween(r.position).to({y:A},500).onComplete(()=>{this.currentMove++,this.isAnimating=!1}).start()}).start()}).start()}else this.currentMove++,this.isAnimating=!1}}animate(){requestAnimationFrame(this.animate.bind(this)),I2.update(),this.controls.update(),this.currentMove<this.moves.length&&this.animateMove(),this.renderer.render(this.scene,this.camera)}static{this.\u0275fac=function(i){return new(i||n)(yt(q5))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-hanoi3d"]],viewQuery:function(i,r){if(1&i&&aA(Wke,5),2&i){let A;Ii(A=Bi())&&(r.rendererContainer=A.first)}},decls:13,vars:0,consts:[["rendererContainer",""],["align","center"],[2,"width","300px","height","300px"],[3,"click"],["align","right"],["routerLink","/StableReleases"]],template:function(i,r){if(1&i){const A=TA();pe(0,"div",1)(1,"h1"),Re(2,"[HANOI - 3D]"),he(),mt(3,"hr")(4,"div",2,0)(6,"hr"),pe(7,"button",3),on("click",function(){return zn(A),$n(r.restart())}),Re(8,"[RESTART]"),he(),mt(9,"hr"),pe(10,"div",4)(11,"a",5),Re(12,"[Volver al Menu]"),he()()()}},dependencies:[UA],styles:["#canvas-container[_ngcontent-%COMP%]{width:300px;height:300px}"]})}}return n})(),Zke=(()=>{class n{get _baseUrlNetCore(){return this.__baseUrlNetCore}get _baseUrlNodeJs(){return this.__baseUrlNodeJs}constructor(t,i){this.http=t,this.configService=i,this.HTTPOptions_Text={headers:new Wa({Accept:"application/text"}),responseType:"text"},this.HTTPOptions_JSON={headers:new Wa({"Content-Type":"application/json"}),responseType:"text"},this.__baseUrlNetCore="",this.__baseUrlNodeJs="",this.__baseUrlSpringBoot="",this.__baseUrlNetCore=this.configService.getConfigValue("baseUrlNetCore"),this.__baseUrlNodeJs=this.configService.getConfigValue("baseUrlNodeJs"),this.__baseUrlSpringBoot=this.configService.getConfigValue("baseUrlSpringBoot"),console.log("baseUrlNetCore     : "+this.__baseUrlNetCore),console.log("baseUrlNodeJs      : "+this.__baseUrlNodeJs),console.log("baseUrlSpringBoot  : "+this.__baseUrlSpringBoot)}_GetSudoku(){return this.http.get(`${this.__baseUrlNetCore}Demos/Sudoku_Generate_CPP`,this.HTTPOptions_Text)}_GetSudoku_NodeJS(){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Generate_NodeJS`,this.HTTPOptions_JSON)}_SolveSudoku(t){return this.http.get(`${this.__baseUrlNetCore}Demos/Sudoku_Solve_CPP?p_matrix=${t}`,this.HTTPOptions_Text)}_SolveSudoku_NodeJS(t){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Solve_NodeJS?p_matrix=${t}`,this.HTTPOptions_Text)}uploadSudoku(t){const i=new FormData;i.append("file",t);let r=`${this.__baseUrlNetCore}demos/Sudoku_Upload_File`;console.log("[SUDOKU] - (UPLOADING FILE) url: "+r);const A=new yd("POST",r,i,{reportProgress:!0,responseType:"text"});return this.http.request(A)}static{this.\u0275fac=function(i){return new(i||n)(cn(II),cn(Bm))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Xke=De(6990),$ke=De.n(Xke),hs=De(9391),VA=Uint8Array,cl=Uint16Array,_1=Int32Array,Mv=new VA([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Nv=new VA([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),D1=new VA([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Yee=function(n,e){for(var t=new cl(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];var r=new _1(t[30]);for(i=1;i<30;++i)for(var A=t[i];A<t[i+1];++A)r[A]=A-t[i]<<5|i;return{b:t,r}},Kee=Yee(Mv,2),J5=Kee.b,B2=Kee.r;J5[28]=258,B2[258]=28;for(var qee=Yee(Nv,0),Jee=qee.b,V5=qee.r,b1=new cl(32768),Ns=0;Ns<32768;++Ns){var Lm=(43690&Ns)>>1|(21845&Ns)<<1;b1[Ns]=((65280&(Lm=(61680&(Lm=(52428&Lm)>>2|(13107&Lm)<<2))>>4|(3855&Lm)<<4))>>8|(255&Lm)<<8)>>1}var hg=function(n,e,t){for(var i=n.length,r=0,A=new cl(e);r<i;++r)n[r]&&++A[n[r]-1];var o,s=new cl(e);for(r=1;r<e;++r)s[r]=s[r-1]+A[r-1]<<1;if(t){o=new cl(1<<e);var a=15-e;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],l=e-n[r],u=s[n[r]-1]++<<l,h=u|(1<<l)-1;u<=h;++u)o[b1[u]>>a]=c}else for(o=new cl(i),r=0;r<i;++r)n[r]&&(o[r]=b1[s[n[r]-1]++]>>15-n[r]);return o},zd=new VA(288);for(Ns=0;Ns<144;++Ns)zd[Ns]=8;for(Ns=144;Ns<256;++Ns)zd[Ns]=9;for(Ns=256;Ns<280;++Ns)zd[Ns]=7;for(Ns=280;Ns<288;++Ns)zd[Ns]=8;var xv=new VA(32);for(Ns=0;Ns<32;++Ns)xv[Ns]=5;var Vee=hg(zd,9,0),zee=hg(zd,9,1),Wee=hg(xv,5,0),jee=hg(xv,5,1),E2=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},fg=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(7&e)&t},v2=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(7&e)},S1=function(n){return(n+7)/8|0},Um=function(n,e,t){return(null==e||e<0)&&(e=0),(null==t||t>n.length)&&(t=n.length),new VA(n.subarray(e,t))},Zee=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],cA=function(n,e,t){var i=new Error(e||Zee[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,cA),!t)throw i;return i},wf=function(n,e,t){var i=e/8|0;n[i]|=t<<=7&e,n[i+1]|=t>>8},Fv=function(n,e,t){var i=e/8|0;n[i]|=t<<=7&e,n[i+1]|=t>>8,n[i+2]|=t>>16},Q2=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var r=t.length,A=t.slice();if(!r)return{t:Z5,l:0};if(1==r){var s=new VA(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(y,E){return y.f-E.f}),t.push({s:-1,f:25001});var o=t[0],a=t[1],c=0,l=1,u=2;for(t[0]={s:-1,f:o.f+a.f,l:o,r:a};l!=r-1;)o=t[t[c].f<t[u].f?c++:u++],a=t[c!=l&&t[c].f<t[u].f?c++:u++],t[l++]={s:-1,f:o.f+a.f,l:o,r:a};var h=A[0].s;for(i=1;i<r;++i)A[i].s>h&&(h=A[i].s);var g=new cl(h+1),f=w2(t[l-1],g,0);if(f>e){i=0;var d=0,m=f-e,p=1<<m;for(A.sort(function(E,b){return g[b.s]-g[E.s]||E.f-b.f});i<r;++i){var I=A[i].s;if(!(g[I]>e))break;d+=p-(1<<f-g[I]),g[I]=e}for(d>>=m;d>0;){var C=A[i].s;g[C]<e?d-=1<<e-g[C]++-1:++i}for(;i>=0&&d;--i){var B=A[i].s;g[B]==e&&(--g[B],++d)}f=e}return{t:new VA(g),l:f}},w2=function(n,e,t){return-1==n.s?Math.max(w2(n.l,e,t+1),w2(n.r,e,t+1)):e[n.s]=t},z5=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new cl(++e),i=0,r=n[0],A=1,s=function(a){t[i++]=a},o=1;o<=e;++o)if(n[o]==r&&o!=e)++A;else{if(!r&&A>2){for(;A>138;A-=138)s(32754);A>2&&(s(A>10?A-11<<5|28690:A-3<<5|12305),A=0)}else if(A>3){for(s(r),--A;A>6;A-=6)s(8304);A>2&&(s(A-3<<5|8208),A=0)}for(;A--;)s(r);A=1,r=n[o]}return{c:t.subarray(0,i),n:e}},Rv=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},W5=function(n,e,t){var i=t.length,r=S1(e+2);n[r]=255&i,n[r+1]=i>>8,n[r+2]=255^n[r],n[r+3]=255^n[r+1];for(var A=0;A<i;++A)n[r+A+4]=t[A];return 8*(r+4+i)},j5=function(n,e,t,i,r,A,s,o,a,c,l){wf(e,l++,t),++r[256];for(var u=Q2(r,15),h=u.t,g=u.l,f=Q2(A,15),d=f.t,m=f.l,p=z5(h),I=p.c,C=p.n,B=z5(d),y=B.c,E=B.n,b=new cl(19),S=0;S<I.length;++S)++b[31&I[S]];for(S=0;S<y.length;++S)++b[31&y[S]];for(var w=Q2(b,7),M=w.t,D=w.l,T=19;T>4&&!M[D1[T-1]];--T);var k,L,J,H,O=c+5<<3,G=Rv(r,zd)+Rv(A,xv)+s,W=Rv(r,h)+Rv(A,d)+s+14+3*T+Rv(b,M)+2*b[16]+3*b[17]+7*b[18];if(a>=0&&O<=G&&O<=W)return W5(e,l,n.subarray(a,a+c));if(wf(e,l,1+(W<G)),l+=2,W<G){k=hg(h,g,0),L=h,J=hg(d,m,0),H=d;var ue=hg(M,D,0);for(wf(e,l,C-257),wf(e,l+5,E-1),wf(e,l+10,T-4),l+=14,S=0;S<T;++S)wf(e,l+3*S,M[D1[S]]);l+=3*T;for(var ye=[I,y],K=0;K<2;++K){var z=ye[K];for(S=0;S<z.length;++S)wf(e,l,ue[Z=31&z[S]]),l+=M[Z],Z>15&&(wf(e,l,z[S]>>5&127),l+=z[S]>>12)}}else k=Vee,L=zd,J=Wee,H=xv;for(S=0;S<o;++S){var le=i[S];if(le>255){var Z;Fv(e,l,k[257+(Z=le>>18&31)]),l+=L[Z+257],Z>7&&(wf(e,l,le>>23&31),l+=Mv[Z]);var ce=31&le;Fv(e,l,J[ce]),l+=H[ce],ce>3&&(Fv(e,l,le>>5&8191),l+=Nv[ce])}else Fv(e,l,k[le]),l+=L[le]}return Fv(e,l,k[256]),l+L[256]},Xee=new _1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Z5=new VA(0),X5=function(){var n=1,e=0;return{p:function(t){for(var i=n,r=e,A=0|t.length,s=0;s!=A;){for(var o=Math.min(s+2655,A);s<o;++s)r+=i+=t[s];i=(65535&i)+15*(i>>16),r=(65535&r)+15*(r>>16)}n=i,e=r},d:function(){return(255&(n%=65521))<<24|(65280&n)<<8|(255&(e%=65521))<<8|e>>8}}},D2=function(n,e,t,i,r){if(!r&&(r={l:1},e.dictionary)){var A=e.dictionary.subarray(-32768),s=new VA(A.length+n.length);s.set(A),s.set(n,A.length),n=s,r.w=A.length}return function(n,e,t,i,r,A){var s=A.z||n.length,o=new VA(i+s+5*(1+Math.ceil(s/7e3))+r),a=o.subarray(i,o.length-r),c=A.l,l=7&(A.r||0);if(e){l&&(a[0]=A.r>>3);for(var u=Xee[e-1],h=u>>13,g=8191&u,f=(1<<t)-1,d=A.p||new cl(32768),m=A.h||new cl(f+1),p=Math.ceil(t/3),I=2*p,C=function(Ae){return(n[Ae]^n[Ae+1]<<p^n[Ae+2]<<I)&f},B=new _1(25e3),y=new cl(288),E=new cl(32),b=0,S=0,w=A.i||0,M=0,D=A.w||0,T=0;w+2<s;++w){var O=C(w),G=32767&w,W=m[O];if(d[G]=W,m[O]=G,D<=w){var k=s-w;if((b>7e3||M>24576)&&(k>423||!c)){l=j5(n,a,0,B,y,E,S,M,T,w-T,l),M=b=S=0,T=w;for(var L=0;L<286;++L)y[L]=0;for(L=0;L<30;++L)E[L]=0}var J=2,H=0,ue=g,ye=G-W&32767;if(k>2&&O==C(w-ye))for(var K=Math.min(h,k)-1,z=Math.min(32767,w),Z=Math.min(258,k);ye<=z&&--ue&&G!=W;){if(n[w+J]==n[w+J-ye]){for(var le=0;le<Z&&n[w+le]==n[w+le-ye];++le);if(le>J){if(J=le,H=ye,le>K)break;var ce=Math.min(ye,le-2),ge=0;for(L=0;L<ce;++L){var re=w-ye+L&32767,me=re-d[re]&32767;me>ge&&(ge=me,W=re)}}}ye+=(G=W)-(W=d[G])&32767}if(H){B[M++]=268435456|B2[J]<<18|V5[H];var be=31&B2[J],Ie=31&V5[H];S+=Mv[be]+Nv[Ie],++y[257+be],++E[Ie],D=w+J,++b}else B[M++]=n[w],++y[n[w]]}}for(w=Math.max(w,D);w<s;++w)B[M++]=n[w],++y[n[w]];l=j5(n,a,c,B,y,E,S,M,T,w-T,l),c||(A.r=7&l|a[l/8|0]<<3,l-=7,A.h=m,A.p=d,A.i=w,A.w=D)}else{for(w=A.w||0;w<s+c;w+=65535){var Ne=w+65535;Ne>=s&&(a[l/8|0]=c,Ne=s),l=W5(a,l+1,n.subarray(w,Ne))}A.i=s}return Um(o,0,i+S1(l)+r)}(n,null==e.level?6:e.level,null==e.mem?r.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):20:12+e.mem,t,i,r)},Ls=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};function N1(n,e){e||(e={});var t=X5();t.p(n);var i=D2(n,e,e.dictionary?6:2,4);return function(n,e){var t=e.level,i=0==t?0:t<6?1:9==t?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var r=X5();r.p(e.dictionary),Ls(n,2,r.d())}}(i,e),Ls(i,i.length-4,t.d()),i}function N2(n,e){return function(n,e,t,i){var r=n.length,A=i?i.length:0;if(!r||e.f&&!e.l)return t||new VA(0);var s=!t,o=s||2!=e.i,a=e.i;s&&(t=new VA(3*r));var c=function(be){var Ie=t.length;if(be>Ie){var Ne=new VA(Math.max(2*Ie,be));Ne.set(t),t=Ne}},l=e.f||0,u=e.p||0,h=e.b||0,g=e.l,f=e.d,d=e.m,m=e.n,p=8*r;do{if(!g){l=fg(n,u,1);var I=fg(n,u+1,3);if(u+=3,!I){var B=n[(C=S1(u)+4)-4]|n[C-3]<<8,y=C+B;if(y>r){a&&cA(0);break}o&&c(h+B),t.set(n.subarray(C,y),h),e.b=h+=B,e.p=u=8*y,e.f=l;continue}if(1==I)g=zee,f=jee,d=9,m=5;else if(2==I){var E=fg(n,u,31)+257,b=fg(n,u+10,15)+4,S=E+fg(n,u+5,31)+1;u+=14;for(var w=new VA(S),M=new VA(19),D=0;D<b;++D)M[D1[D]]=fg(n,u+3*D,7);u+=3*b;var T=E2(M),O=(1<<T)-1,G=hg(M,T,1);for(D=0;D<S;){var C,W=G[fg(n,u,O)];if(u+=15&W,(C=W>>4)<16)w[D++]=C;else{var k=0,L=0;for(16==C?(L=3+fg(n,u,3),u+=2,k=w[D-1]):17==C?(L=3+fg(n,u,7),u+=3):18==C&&(L=11+fg(n,u,127),u+=7);L--;)w[D++]=k}}var J=w.subarray(0,E),H=w.subarray(E);d=E2(J),m=E2(H),g=hg(J,d,1),f=hg(H,m,1)}else cA(1);if(u>p){a&&cA(0);break}}o&&c(h+131072);for(var ue=(1<<d)-1,ye=(1<<m)-1,K=u;;K=u){var z=(k=g[v2(n,u)&ue])>>4;if((u+=15&k)>p){a&&cA(0);break}if(k||cA(2),z<256)t[h++]=z;else{if(256==z){K=u,g=null;break}var Z=z-254;z>264&&(Z=fg(n,u,(1<<(le=Mv[D=z-257]))-1)+J5[D],u+=le);var ce=f[v2(n,u)&ye],ge=ce>>4;if(ce||cA(3),u+=15&ce,H=Jee[ge],ge>3){var le=Nv[ge];H+=v2(n,u)&(1<<le)-1,u+=le}if(u>p){a&&cA(0);break}o&&c(h+131072);var re=h+Z;if(h<H){var ie=A-H,me=Math.min(H,re);for(ie+h<0&&cA(3);h<me;++h)t[h]=i[ie+h]}for(;h<re;++h)t[h]=t[h-H]}}e.l=g,e.p=K,e.b=h,e.f=l,g&&(l=1,e.m=d,e.d=f,e.n=m)}while(!l);return h!=t.length&&s?Um(t,0,h):t.subarray(0,h)}(n.subarray(function(n,e){return(8!=(15&n[0])||n[0]>>4>7||(n[0]<<8|n[1])%31)&&cA(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&cA(6,"invalid zlib data: "+(32&n[1]?"need":"unexpected")+" dictionary"),2+(n[1]>>3&4)}(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var A4=typeof TextDecoder<"u"&&new TextDecoder;try{A4.decode(Z5,{stream:!0})}catch{}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var Ri=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function s4(){Ri.console&&"function"==typeof Ri.console.log&&Ri.console.log.apply(Ri.console,arguments)}var fs={log:s4,warn:function(n){Ri.console&&("function"==typeof Ri.console.warn?Ri.console.warn.apply(Ri.console,arguments):s4.call(null,arguments))},error:function(n){Ri.console&&("function"==typeof Ri.console.error?Ri.console.error.apply(Ri.console,arguments):s4(n))}};function o4(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){rB(i.response,e,t)},i.onerror=function(){fs.error("could not download file")},i.send()}function dte(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function T2(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var F1,a4,rB=Ri.saveAs||("object"!==(typeof window>"u"?"undefined":(0,hs.A)(window))||window!==Ri?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=Ri.URL||Ri.webkitURL,r=document.createElement("a");r.download=e=e||n.name||"download",r.rel="noopener","string"==typeof n?(r.href=n,r.origin!==location.origin?dte(r.href)?o4(n,e,t):T2(r,r.target="_blank"):T2(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){T2(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download","string"==typeof n)if(dte(n))o4(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){T2(i)})}else navigator.msSaveOrOpenBlob((r=n,void 0===(A=t)?A={autoBom:!1}:"object"!==(0,hs.A)(A)&&(fs.warn("Deprecated: Expected third argument to be a object"),A={autoBom:!A}),A.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\ufeff",r],{type:r.type}):r),e);var r,A}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof n)return o4(n,e,t);var r="application/octet-stream"===n.type,A=/constructor/i.test(Ri.HTMLElement)||Ri.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&A)&&"object"===(typeof FileReader>"u"?"undefined":(0,hs.A)(FileReader))){var o=new FileReader;o.onloadend=function(){var l=o.result;l=s?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=l:location=l,i=null},o.readAsDataURL(n)}else{var a=Ri.URL||Ri.webkitURL,c=a.createObjectURL(n);i?i.location=c:location.href=c,i=null,setTimeout(function(){a.revokeObjectURL(c)},4e4)}});function pte(n){var e;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],i=0;i<t.length;i++){var A=t[i].process,s=t[i].re.exec(n);s&&(e=A(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),a=this.g.toString(16),c=this.b.toString(16);return 1==o.length&&(o="0"+o),1==a.length&&(a="0"+a),1==c.length&&(c="0"+c),"#"+o+a+c}}function c4(n,e){var t=n[0],i=n[1],r=n[2],A=n[3];t=Qc(t,i,r,A,e[0],7,-680876936),A=Qc(A,t,i,r,e[1],12,-389564586),r=Qc(r,A,t,i,e[2],17,606105819),i=Qc(i,r,A,t,e[3],22,-1044525330),t=Qc(t,i,r,A,e[4],7,-176418897),A=Qc(A,t,i,r,e[5],12,1200080426),r=Qc(r,A,t,i,e[6],17,-1473231341),i=Qc(i,r,A,t,e[7],22,-45705983),t=Qc(t,i,r,A,e[8],7,1770035416),A=Qc(A,t,i,r,e[9],12,-1958414417),r=Qc(r,A,t,i,e[10],17,-42063),i=Qc(i,r,A,t,e[11],22,-1990404162),t=Qc(t,i,r,A,e[12],7,1804603682),A=Qc(A,t,i,r,e[13],12,-40341101),r=Qc(r,A,t,i,e[14],17,-1502002290),t=wc(t,i=Qc(i,r,A,t,e[15],22,1236535329),r,A,e[1],5,-165796510),A=wc(A,t,i,r,e[6],9,-1069501632),r=wc(r,A,t,i,e[11],14,643717713),i=wc(i,r,A,t,e[0],20,-373897302),t=wc(t,i,r,A,e[5],5,-701558691),A=wc(A,t,i,r,e[10],9,38016083),r=wc(r,A,t,i,e[15],14,-660478335),i=wc(i,r,A,t,e[4],20,-405537848),t=wc(t,i,r,A,e[9],5,568446438),A=wc(A,t,i,r,e[14],9,-1019803690),r=wc(r,A,t,i,e[3],14,-187363961),i=wc(i,r,A,t,e[8],20,1163531501),t=wc(t,i,r,A,e[13],5,-1444681467),A=wc(A,t,i,r,e[2],9,-51403784),r=wc(r,A,t,i,e[7],14,1735328473),t=_c(t,i=wc(i,r,A,t,e[12],20,-1926607734),r,A,e[5],4,-378558),A=_c(A,t,i,r,e[8],11,-2022574463),r=_c(r,A,t,i,e[11],16,1839030562),i=_c(i,r,A,t,e[14],23,-35309556),t=_c(t,i,r,A,e[1],4,-1530992060),A=_c(A,t,i,r,e[4],11,1272893353),r=_c(r,A,t,i,e[7],16,-155497632),i=_c(i,r,A,t,e[10],23,-1094730640),t=_c(t,i,r,A,e[13],4,681279174),A=_c(A,t,i,r,e[0],11,-358537222),r=_c(r,A,t,i,e[3],16,-722521979),i=_c(i,r,A,t,e[6],23,76029189),t=_c(t,i,r,A,e[9],4,-640364487),A=_c(A,t,i,r,e[12],11,-421815835),r=_c(r,A,t,i,e[15],16,530742520),t=Dc(t,i=_c(i,r,A,t,e[2],23,-995338651),r,A,e[0],6,-198630844),A=Dc(A,t,i,r,e[7],10,1126891415),r=Dc(r,A,t,i,e[14],15,-1416354905),i=Dc(i,r,A,t,e[5],21,-57434055),t=Dc(t,i,r,A,e[12],6,1700485571),A=Dc(A,t,i,r,e[3],10,-1894986606),r=Dc(r,A,t,i,e[10],15,-1051523),i=Dc(i,r,A,t,e[1],21,-2054922799),t=Dc(t,i,r,A,e[8],6,1873313359),A=Dc(A,t,i,r,e[15],10,-30611744),r=Dc(r,A,t,i,e[6],15,-1560198380),i=Dc(i,r,A,t,e[13],21,1309151649),t=Dc(t,i,r,A,e[4],6,-145523070),A=Dc(A,t,i,r,e[11],10,-1120210379),r=Dc(r,A,t,i,e[2],15,718787259),i=Dc(i,r,A,t,e[9],21,-343485551),n[0]=Gm(t,n[0]),n[1]=Gm(i,n[1]),n[2]=Gm(r,n[2]),n[3]=Gm(A,n[3])}function k2(n,e,t,i,r,A){return e=Gm(Gm(e,n),Gm(i,A)),Gm(e<<r|e>>>32-r,t)}function Qc(n,e,t,i,r,A,s){return k2(e&t|~e&i,n,e,r,A,s)}function wc(n,e,t,i,r,A,s){return k2(e&i|t&~i,n,e,r,A,s)}function _c(n,e,t,i,r,A,s){return k2(e^t^i,n,e,r,A,s)}function Dc(n,e,t,i,r,A,s){return k2(t^(e|~i),n,e,r,A,s)}function mte(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)c4(i,hLe(n.substring(e-64,e)));n=n.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)r[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(c4(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,c4(i,r),i}function hLe(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}F1=Ri.atob.bind(Ri),a4=Ri.btoa.bind(Ri);var Cte="0123456789abcdef".split("");function fLe(n){for(var e="",t=0;t<4;t++)e+=Cte[n>>8*t+4&15]+Cte[n>>8*t&15];return e}function dLe(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function l4(n){return mte(n).map(dLe).join("")}var pLe="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var e=0;e<n.length;e++)n[e]=fLe(n[e]);return n.join("")}(mte("hello"));function Gm(n,e){if(pLe){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function u4(n,e){var t,i,r;if(n!==t){for(var s=(r=n,new Array(1+(256/n.length|0)+1).join(r)),o=[],a=0;a<256;a++)o[a]=a;var c=0;for(a=0;a<256;a++){var l=o[a];c=(c+l+s.charCodeAt(a))%256,o[a]=o[c],o[c]=l}t=n,i=o}else o=i;var u=e.length,h=0,g=0,f="";for(a=0;a<u;a++)g=(g+(l=o[h=(h+1)%256]))%256,o[h]=o[g],o[g]=l,s=o[(o[h]+o[g])%256],f+=String.fromCharCode(e.charCodeAt(a)^s);return f}var Ite={print:4,modify:8,copy:16,"annot-forms":32};function kv(n,e,t,i){this.v=1,this.r=2;var r=192;n.forEach(function(o){if(void 0!==Ite.perm)throw new Error("Invalid permission: "+o);r+=Ite[o]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var A=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(A,s),this.P=-(1+(255^r)),this.encryptionKey=l4(A+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=u4(this.encryptionKey,this.padding)}function Lv(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var r=n.charCodeAt(i);e+=r<33||35===r||37===r||40===r||41===r||47===r||60===r||62===r||91===r||93===r||123===r||125===r||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return e}function Bte(n){if("object"!==(0,hs.A)(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,r){if(r=r||!1,"string"!=typeof t||"function"!=typeof i||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var A=Math.random().toString(35);return e[t][A]=[i,!!r],A},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],0===Object.keys(e[i]).length&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var A in e[t]){var s=e[t][A];try{s[0].apply(n,i)}catch(o){Ri.console&&fs.error("jsPDF PubSub Error",o.message,o)}s[1]&&r.push(A)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function L2(n){if(!(this instanceof L2))return new L2(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function Ete(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function AB(n,e,t,i,r){if(!(this instanceof AB))return new AB(n,e,t,i,r);this.type="axial"===n?2:3,this.coords=e,this.colors=t,Ete.call(this,i,r)}function Uv(n,e,t,i,r){if(!(this instanceof Uv))return new Uv(n,e,t,i,r);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Ete.call(this,i,r)}function Mi(n){var e,t="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],r=arguments[2],A=arguments[3],s=[],o=1,a=16,c="S",l=null;"object"===(0,hs.A)(n=n||{})&&(t=n.orientation,i=n.unit||i,r=n.format||r,A=n.compress||n.compressPdf||A,null!==(l=n.encryption||null)&&(l.userPassword=l.userPassword||"",l.ownerPassword=l.ownerPassword||"",l.userPermissions=l.userPermissions||[]),o="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(e=n.precision),void 0!==n.floatPrecision&&(a=n.floatPrecision),c=n.defaultPathOperation||"S"),s=n.filters||(!0===A?["FlateEncode"]:s),i=i||"mm",t=(""+(t||"P")).toLowerCase();var u=n.putOnlyUsedFonts||!1,h={},g={internal:{},__private__:{}};g.__private__.PubSub=Bte;var f="1.3",d=g.__private__.getPdfVersion=function(){return f};g.__private__.setPdfVersion=function(U){f=U};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return m};var p=g.__private__.getPageFormat=function(U){return m[U]};r=r||"a4";var C="compat";function B(){this.saveGraphicsState(),j(new ii(ct,0,0,-ct,0,mC()*ct).toString()+" cm"),this.setFontSize(this.getFontSize()/ct),c="n",C="advanced"}function y(){this.restoreGraphicsState(),c="S",C="compat"}var E=g.__private__.combineFontStyleAndFontWeight=function(U,de){if("bold"==U&&"normal"==de||"bold"==U&&400==de||"normal"==U&&"italic"==de||"bold"==U&&"italic"==de)throw new Error("Invalid Combination of fontweight and fontstyle");return de&&(U=400==de||"normal"===de?"italic"===U?"italic":"normal":700!=de&&"bold"!==de||"normal"!==U?(700==de?"bold":de)+""+U:"bold"),U};g.advancedAPI=function(U){var de="compat"===C;return de&&B.call(this),"function"!=typeof U||(U(this),de&&y.call(this)),this},g.compatAPI=function(U){var de="advanced"===C;return de&&y.call(this),"function"!=typeof U||(U(this),de&&B.call(this)),this},g.isAdvancedAPI=function(){return"advanced"===C};var b,S=function(U){if("advanced"!==C)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},w=g.roundToPrecision=g.__private__.roundToPrecision=function(U,de){var Ke=e||de;if(isNaN(U)||isNaN(Ke))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return U.toFixed(Ke).replace(/0+$/,"")};b=g.hpf=g.__private__.hpf="number"==typeof a?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return w(U,a)}:"smart"===a?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return w(U,U>-1&&U<1?16:5)}:function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return w(U,16)};var M=g.f2=g.__private__.f2=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f2");return w(U,2)},D=g.__private__.f3=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f3");return w(U,3)},T=g.scale=g.__private__.scale=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===C?U*ct:"advanced"===C?U:void 0},G=function(U){return T(function(U){return"compat"===C?mC()-U:"advanced"===C?U:void 0}(U))};g.__private__.setPrecision=g.setPrecision=function(U){"number"==typeof parseInt(U,10)&&(e=parseInt(U,10))};var W,k="00000000000000000000000000000000",L=g.__private__.getFileId=function(){return k},J=g.__private__.setFileId=function(U){return k=void 0!==U&&/^[a-fA-F0-9]{32}$/.test(U)?U.toUpperCase():k.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==l&&(Gc=new kv(l.userPermissions,l.userPassword,l.ownerPassword,k)),k};g.setFileId=function(U){return J(U),this},g.getFileId=function(){return L()};var H=g.__private__.convertDateToPDFDate=function(U){var de=U.getTimezoneOffset(),Ke=de<0?"+":"-",je=Math.floor(Math.abs(de/60)),dt=Math.abs(de%60),Gt=[Ke,Z(je),"'",Z(dt),"'"].join("");return["D:",U.getFullYear(),Z(U.getMonth()+1),Z(U.getDate()),Z(U.getHours()),Z(U.getMinutes()),Z(U.getSeconds()),Gt].join("")},ue=g.__private__.convertPDFDateToDate=function(U){var de=parseInt(U.substr(2,4),10),Ke=parseInt(U.substr(6,2),10)-1,je=parseInt(U.substr(8,2),10),dt=parseInt(U.substr(10,2),10),Gt=parseInt(U.substr(12,2),10),fn=parseInt(U.substr(14,2),10);return new Date(de,Ke,je,dt,Gt,fn,0)},ye=g.__private__.setCreationDate=function(U){var de;if(void 0===U&&(U=new Date),U instanceof Date)de=H(U);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(U))throw new Error("Invalid argument passed to jsPDF.setCreationDate");de=U}return W=de},K=g.__private__.getCreationDate=function(U){var de=W;return"jsDate"===U&&(de=ue(W)),de};g.setCreationDate=function(U){return ye(U),this},g.getCreationDate=function(U){return K(U)};var z,Z=g.__private__.padd2=function(U){return("0"+parseInt(U)).slice(-2)},le=g.__private__.padd2Hex=function(U){return("00"+(U=U.toString())).substr(U.length)},ce=0,ge=[],re=[],ie=0,me=[],be=[],Ie=!1,Ne=re;g.__private__.setCustomOutputDestination=function(U){Ie=!0,Ne=U};var ee=function(U){Ie||(Ne=U)};g.__private__.resetCustomOutputDestination=function(){Ie=!1,Ne=re};var j=g.__private__.out=function(U){return U=U.toString(),ie+=U.length+1,Ne.push(U),Ne},Te=g.__private__.write=function(U){return j(1===arguments.length?U.toString():Array.prototype.join.call(arguments," "))},Me=g.__private__.getArrayBuffer=function(U){for(var de=U.length,Ke=new ArrayBuffer(de),je=new Uint8Array(Ke);de--;)je[de]=U.charCodeAt(de);return Ke},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Oe};var Ge=n.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(U){return Ge="advanced"===C?U/ct:U,this};var oe,te=g.__private__.getFontSize=g.getFontSize=function(){return"compat"===C?Ge:Ge*ct},Ye=n.R2L||!1;g.__private__.setR2L=g.setR2L=function(U){return Ye=U,this},g.__private__.getR2L=g.getR2L=function(){return Ye};var Ve,ut=g.__private__.setZoomMode=function(U){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(U))oe=U;else if(isNaN(U)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(U))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+U+'" is not recognized.');oe=U}else oe=parseInt(U,10)};g.__private__.getZoomMode=function(){return oe};var it,Jt=g.__private__.setPageMode=function(U){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(U))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+U+'" is not recognized.');Ve=U};g.__private__.getPageMode=function(){return Ve};var Yt=g.__private__.setLayoutMode=function(U){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(U))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+U+'" is not recognized.');it=U};g.__private__.getLayoutMode=function(){return it},g.__private__.setDisplayMode=g.setDisplayMode=function(U,de,Ke){return ut(U),Yt(de),Jt(Ke),this};var Ot={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(U){if(-1===Object.keys(Ot).indexOf(U))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ot[U]},g.__private__.getDocumentProperties=function(){return Ot},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(U){for(var de in Ot)Ot.hasOwnProperty(de)&&U[de]&&(Ot[de]=U[de]);return this},g.__private__.setDocumentProperty=function(U,de){if(-1===Object.keys(Ot).indexOf(U))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ot[U]=de};var Sn,ct,Dn,se,P,V={},F={},$=[],we={},Ee={},Ct={},rt={},Nt=null,In=0,jt=[],Rn=new Bte(g),iA=n.hotfixes||[],Sr={},sr={},Hs=[],ii=function U(de,Ke,je,dt,Gt,fn){if(!(this instanceof U))return new U(de,Ke,je,dt,Gt,fn);isNaN(de)&&(de=1),isNaN(Ke)&&(Ke=0),isNaN(je)&&(je=0),isNaN(dt)&&(dt=1),isNaN(Gt)&&(Gt=0),isNaN(fn)&&(fn=0),this._matrix=[de,Ke,je,dt,Gt,fn]};Object.defineProperty(ii.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(ii.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(ii.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(ii.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(ii.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(ii.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(ii.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(ii.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(ii.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(ii.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(ii.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(ii.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(ii.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ii.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ii.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ii.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),ii.prototype.join=function(U){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(b).join(U)},ii.prototype.multiply=function(U){return new ii(U.sx*this.sx+U.shy*this.shx,U.sx*this.shy+U.shy*this.sy,U.shx*this.sx+U.sy*this.shx,U.shx*this.shy+U.sy*this.sy,U.tx*this.sx+U.ty*this.shx+this.tx,U.tx*this.shy+U.ty*this.sy+this.ty)},ii.prototype.decompose=function(){var U=this.sx,de=this.shy,Ke=this.shx,je=this.sy,dt=this.tx,Gt=this.ty,fn=Math.sqrt(U*U+de*de),Jn=(U/=fn)*Ke+(de/=fn)*je;Ke-=U*Jn,je-=de*Jn;var di=Math.sqrt(Ke*Ke+je*je);return Jn/=di,U*(je/=di)<de*(Ke/=di)&&(U=-U,de=-de,Jn=-Jn,fn=-fn),{scale:new ii(fn,0,0,di,0,0),translate:new ii(1,0,0,1,dt,Gt),rotate:new ii(U,de,-de,U,0,0),skew:new ii(1,0,Jn,1,0,0)}},ii.prototype.toString=function(U){return this.join(" ")},ii.prototype.inversed=function(){var U=this.sx,de=this.shy,Ke=this.shx,je=this.sy,dt=this.tx,Gt=this.ty,fn=1/(U*je-de*Ke),Jn=je*fn,di=-de*fn,gr=-Ke*fn,ar=U*fn;return new ii(Jn,di,gr,ar,-Jn*dt-gr*Gt,-di*dt-ar*Gt)},ii.prototype.applyToPoint=function(U){return new Wy(U.x*this.sx+U.y*this.shx+this.tx,U.x*this.shy+U.y*this.sy+this.ty)},ii.prototype.applyToRectangle=function(U){var de=this.applyToPoint(U),Ke=this.applyToPoint(new Wy(U.x+U.w,U.y+U.h));return new HD(de.x,de.y,Ke.x-de.x,Ke.y-de.y)},ii.prototype.clone=function(){return new ii(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},g.Matrix=ii;var Fa=g.matrixMult=function(U,de){return de.multiply(U)},kc=new ii(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=kc;var Ys=function(U,de){if(!Ee[U]){var Ke=(de instanceof AB?"Sh":"P")+(Object.keys(we).length+1).toString(10);de.id=Ke,Ee[U]=Ke,we[Ke]=de,Rn.publish("addPattern",de)}};g.ShadingPattern=AB,g.TilingPattern=Uv,g.addShadingPattern=function(U,de){return S("addShadingPattern()"),Ys(U,de),this},g.beginTilingPattern=function(U){S("beginTilingPattern()"),cT(U.boundingBox[0],U.boundingBox[1],U.boundingBox[2]-U.boundingBox[0],U.boundingBox[3]-U.boundingBox[1],U.matrix)},g.endTilingPattern=function(U,de){S("endTilingPattern()"),de.stream=be[z].join("\n"),Ys(U,de),Rn.publish("endTilingPattern",de),Hs.pop().restore()};var U,Xs=g.__private__.newObject=function(){var U=$s();return Lc(U,!0),U},$s=g.__private__.newObjectDeferred=function(){return ce++,ge[ce]=function(){return ie},ce},Lc=function(U,de){return de="boolean"==typeof de&&de,ge[U]=ie,de&&j(U+" 0 obj"),U},Gh=g.__private__.newAdditionalObject=function(){var U={objId:$s(),content:""};return me.push(U),U},Ng=$s(),Uc=$s(),tu=g.__private__.decodeColorString=function(U){var de=U.split(" ");if(2!==de.length||"g"!==de[1]&&"G"!==de[1])5===de.length&&("k"===de[4]||"K"===de[4])&&(de=[(1-de[0])*(1-de[3]),(1-de[1])*(1-de[3]),(1-de[2])*(1-de[3]),"r"]);else{var Ke=parseFloat(de[0]);de=[Ke,Ke,Ke,"r"]}for(var je="#",dt=0;dt<3;dt++)je+=("0"+Math.floor(255*parseFloat(de[dt])).toString(16)).slice(-2);return je},nu=g.__private__.encodeColorString=function(U){var de;"string"==typeof U&&(U={ch1:U});var Ke=U.ch1,je=U.ch2,dt=U.ch3,Gt=U.ch4,fn="draw"===U.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Ke&&"#"!==Ke.charAt(0)){var Jn=new pte(Ke);if(Jn.ok)Ke=Jn.toHex();else if(!/^\d*\.?\d*$/.test(Ke))throw new Error('Invalid color "'+Ke+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Ke&&/^#[0-9A-Fa-f]{3}$/.test(Ke)&&(Ke="#"+Ke[1]+Ke[1]+Ke[2]+Ke[2]+Ke[3]+Ke[3]),"string"==typeof Ke&&/^#[0-9A-Fa-f]{6}$/.test(Ke)){var di=parseInt(Ke.substr(1),16);Ke=di>>16&255,je=di>>8&255,dt=255&di}if(void 0===je||void 0===Gt&&Ke===je&&je===dt)de="string"==typeof Ke?Ke+" "+fn[0]:2===U.precision?M(Ke/255)+" "+fn[0]:D(Ke/255)+" "+fn[0];else if(void 0===Gt||"object"===(0,hs.A)(Gt)){if(Gt&&!isNaN(Gt.a)&&0===Gt.a)return["1.","1.","1.",fn[1]].join(" ");de="string"==typeof Ke?[Ke,je,dt,fn[1]].join(" "):2===U.precision?[M(Ke/255),M(je/255),M(dt/255),fn[1]].join(" "):[D(Ke/255),D(je/255),D(dt/255),fn[1]].join(" ")}else de="string"==typeof Ke?[Ke,je,dt,Gt,fn[2]].join(" "):2===U.precision?[M(Ke),M(je),M(dt),M(Gt),fn[2]].join(" "):[D(Ke),D(je),D(dt),D(Gt),fn[2]].join(" ");return de},xg=g.__private__.getFilters=function(){return s},iu=g.__private__.putStream=function(U){var de=(U=U||{}).data||"",Ke=U.filters||xg(),je=U.alreadyAppliedFilters||[],dt=U.addLength1||!1,Gt=de.length,fn=U.objectId,Jn=function(Pc){return Pc};if(null!==l&&void 0===fn)throw new Error("ObjectId must be passed to putStream for file encryption");null!==l&&(Jn=Gc.encryptor(fn,0));var di={};!0===Ke&&(Ke=["FlateEncode"]);var gr=U.additionalKeyValues||[],ar=(di=void 0!==Mi.API.processDataByFilters?Mi.API.processDataByFilters(de,Ke):{data:de,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(0!==di.data.length&&(gr.push({key:"Length",value:di.data.length}),!0===dt&&gr.push({key:"Length1",value:Gt})),0!=ar.length)if(ar.split("/").length-1==1)gr.push({key:"Filter",value:ar});else{gr.push({key:"Filter",value:"["+ar+"]"});for(var uA=0;uA<gr.length;uA+=1)if("DecodeParms"===gr[uA].key){for(var eo=[],fo=0;fo<di.reverseChain.split("/").length-1;fo+=1)eo.push("null");eo.push(gr[uA].value),gr[uA].value="["+eo.join(" ")+"]"}}j("<<");for(var Wo=0;Wo<gr.length;Wo++)j("/"+gr[Wo].key+" "+gr[Wo].value);j(">>"),0!==di.data.length&&(j("stream"),j(Jn(di.data)),j("endstream"))},Fg=g.__private__.putPage=function(U){var de=U.number,Ke=U.data,je=U.objId,dt=U.contentsObjId;Lc(je,!0),j("<</Type /Page"),j("/Parent "+U.rootDictionaryObjId+" 0 R"),j("/Resources "+U.resourceDictionaryObjId+" 0 R"),j("/MediaBox ["+parseFloat(b(U.mediaBox.bottomLeftX))+" "+parseFloat(b(U.mediaBox.bottomLeftY))+" "+b(U.mediaBox.topRightX)+" "+b(U.mediaBox.topRightY)+"]"),null!==U.cropBox&&j("/CropBox ["+b(U.cropBox.bottomLeftX)+" "+b(U.cropBox.bottomLeftY)+" "+b(U.cropBox.topRightX)+" "+b(U.cropBox.topRightY)+"]"),null!==U.bleedBox&&j("/BleedBox ["+b(U.bleedBox.bottomLeftX)+" "+b(U.bleedBox.bottomLeftY)+" "+b(U.bleedBox.topRightX)+" "+b(U.bleedBox.topRightY)+"]"),null!==U.trimBox&&j("/TrimBox ["+b(U.trimBox.bottomLeftX)+" "+b(U.trimBox.bottomLeftY)+" "+b(U.trimBox.topRightX)+" "+b(U.trimBox.topRightY)+"]"),null!==U.artBox&&j("/ArtBox ["+b(U.artBox.bottomLeftX)+" "+b(U.artBox.bottomLeftY)+" "+b(U.artBox.topRightX)+" "+b(U.artBox.topRightY)+"]"),"number"==typeof U.userUnit&&1!==U.userUnit&&j("/UserUnit "+U.userUnit),Rn.publish("putPage",{objId:je,pageContext:jt[de],pageNumber:de,page:Ke}),j("/Contents "+dt+" 0 R"),j(">>"),j("endobj");var Gt=Ke.join("\n");return"advanced"===C&&(Gt+="\nQ"),Lc(dt,!0),iu({data:Gt,filters:xg(),objectId:dt}),j("endobj"),je},gp=g.__private__.putPages=function(){var U,de,Ke=[];for(U=1;U<=In;U++)jt[U].objId=$s(),jt[U].contentsObjId=$s();for(U=1;U<=In;U++)Ke.push(Fg({number:U,data:be[U],objId:jt[U].objId,contentsObjId:jt[U].contentsObjId,mediaBox:jt[U].mediaBox,cropBox:jt[U].cropBox,bleedBox:jt[U].bleedBox,trimBox:jt[U].trimBox,artBox:jt[U].artBox,userUnit:jt[U].userUnit,rootDictionaryObjId:Ng,resourceDictionaryObjId:Uc}));Lc(Ng,!0),j("<</Type /Pages");var je="/Kids [";for(de=0;de<In;de++)je+=Ke[de]+" 0 R ";j(je+"]"),j("/Count "+In),j(">>"),j("endobj"),Rn.publish("postPutPages")},hC=function(U){Rn.publish("putFont",{font:U,out:j,newObject:Xs,putStream:iu}),!0!==U.isAlreadyPutted&&(U.objectNumber=Xs(),j("<<"),j("/Type /Font"),j("/BaseFont /"+Lv(U.postScriptName)),j("/Subtype /Type1"),"string"==typeof U.encoding&&j("/Encoding /"+U.encoding),j("/FirstChar 32"),j("/LastChar 255"),j(">>"),j("endobj"))},at=function(U){U.objectNumber=Xs();var de=[];de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Form"}),de.push({key:"BBox",value:"["+[b(U.x),b(U.y),b(U.x+U.width),b(U.y+U.height)].join(" ")+"]"}),de.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var Ke=U.pages[1].join("\n");iu({data:Ke,additionalKeyValues:de,objectId:U.objectNumber}),j("endobj")},ht=function(U,de){de||(de=21);var Ke=Xs(),je=function(U,de){var Ke,je=[],dt=1/(de-1);for(Ke=0;Ke<1;Ke+=dt)je.push(Ke);je.push(1),0!=U[0].offset&&U.unshift({offset:0,color:U[0].color}),1!=U[U.length-1].offset&&U.push({offset:1,color:U[U.length-1].color});for(var Jn="",di=0,gr=0;gr<je.length;gr++){for(Ke=je[gr];Ke>U[di+1].offset;)di++;var ar=U[di].offset,uA=(Ke-ar)/(U[di+1].offset-ar),eo=U[di].color,fo=U[di+1].color;Jn+=le(Math.round((1-uA)*eo[0]+uA*fo[0]).toString(16))+le(Math.round((1-uA)*eo[1]+uA*fo[1]).toString(16))+le(Math.round((1-uA)*eo[2]+uA*fo[2]).toString(16))}return Jn.trim()}(U.colors,de),dt=[];dt.push({key:"FunctionType",value:"0"}),dt.push({key:"Domain",value:"[0.0 1.0]"}),dt.push({key:"Size",value:"["+de+"]"}),dt.push({key:"BitsPerSample",value:"8"}),dt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),dt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),iu({data:je,additionalKeyValues:dt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ke}),j("endobj"),U.objectNumber=Xs(),j("<< /ShadingType "+U.type),j("/ColorSpace /DeviceRGB");var Gt="/Coords ["+b(parseFloat(U.coords[0]))+" "+b(parseFloat(U.coords[1]))+" ";Gt+=2===U.type?b(parseFloat(U.coords[2]))+" "+b(parseFloat(U.coords[3])):b(parseFloat(U.coords[2]))+" "+b(parseFloat(U.coords[3]))+" "+b(parseFloat(U.coords[4]))+" "+b(parseFloat(U.coords[5])),j(Gt+="]"),U.matrix&&j("/Matrix ["+U.matrix.toString()+"]"),j("/Function "+Ke+" 0 R"),j("/Extend [true true]"),j(">>"),j("endobj")},En=function(U,de){var Ke=$s(),je=Xs();de.push({resourcesOid:Ke,objectOid:je}),U.objectNumber=je;var dt=[];dt.push({key:"Type",value:"/Pattern"}),dt.push({key:"PatternType",value:"1"}),dt.push({key:"PaintType",value:"1"}),dt.push({key:"TilingType",value:"1"}),dt.push({key:"BBox",value:"["+U.boundingBox.map(b).join(" ")+"]"}),dt.push({key:"XStep",value:b(U.xStep)}),dt.push({key:"YStep",value:b(U.yStep)}),dt.push({key:"Resources",value:Ke+" 0 R"}),U.matrix&&dt.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),iu({data:U.stream,additionalKeyValues:dt,objectId:U.objectNumber}),j("endobj")},jn=function(U){for(var de in U.objectNumber=Xs(),j("<<"),U)switch(de){case"opacity":j("/ca "+M(U[de]));break;case"stroke-opacity":j("/CA "+M(U[de]))}j(">>"),j("endobj")},or=function(U){Lc(U.resourcesOid,!0),j("<<"),j("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var U in j("/Font <<"),V)V.hasOwnProperty(U)&&(!1===u||!0===u&&h.hasOwnProperty(U))&&j("/"+U+" "+V[U].objectNumber+" 0 R");j(">>")}(),function(){if(Object.keys(we).length>0){for(var U in j("/Shading <<"),we)we.hasOwnProperty(U)&&we[U]instanceof AB&&we[U].objectNumber>=0&&j("/"+U+" "+we[U].objectNumber+" 0 R");Rn.publish("putShadingPatternDict"),j(">>")}}(),function(U){if(Object.keys(we).length>0){for(var de in j("/Pattern <<"),we)we.hasOwnProperty(de)&&we[de]instanceof g.TilingPattern&&we[de].objectNumber>=0&&we[de].objectNumber<U&&j("/"+de+" "+we[de].objectNumber+" 0 R");Rn.publish("putTilingPatternDict"),j(">>")}}(U.objectOid),function(){if(Object.keys(Ct).length>0){var U;for(U in j("/ExtGState <<"),Ct)Ct.hasOwnProperty(U)&&Ct[U].objectNumber>=0&&j("/"+U+" "+Ct[U].objectNumber+" 0 R");Rn.publish("putGStateDict"),j(">>")}}(),function(){for(var U in j("/XObject <<"),Sr)Sr.hasOwnProperty(U)&&Sr[U].objectNumber>=0&&j("/"+U+" "+Sr[U].objectNumber+" 0 R");Rn.publish("putXobjectDict"),j(">>")}(),j(">>"),j("endobj")},ho=function(U){F[U.fontName]=F[U.fontName]||{},F[U.fontName][U.fontStyle]=U.id},zr=function(U,de,Ke,je,dt){var Gt={id:"F"+(Object.keys(V).length+1).toString(10),postScriptName:U,fontName:de,fontStyle:Ke,encoding:je,isStandardFont:dt||!1,metadata:{}};return Rn.publish("addFont",{font:Gt,instance:this}),V[Gt.id]=Gt,ho(Gt),Gt.id},Vo=g.__private__.pdfEscape=g.pdfEscape=function(U,de){return function(U,de){var Ke,je,dt,Gt,fn,Jn,di,gr,ar;if(dt=(de=de||{}).sourceEncoding||"Unicode",fn=de.outputEncoding,(de.autoencode||fn)&&V[Sn].metadata&&V[Sn].metadata[dt]&&V[Sn].metadata[dt].encoding&&(Gt=V[Sn].metadata[dt].encoding,!fn&&V[Sn].encoding&&(fn=V[Sn].encoding),!fn&&Gt.codePages&&(fn=Gt.codePages[0]),"string"==typeof fn&&(fn=Gt[fn]),fn)){for(di=!1,Jn=[],Ke=0,je=U.length;Ke<je;Ke++)(gr=fn[U.charCodeAt(Ke)])?Jn.push(String.fromCharCode(gr)):Jn.push(U[Ke]),Jn[Ke].charCodeAt(0)>>8&&(di=!0);U=Jn.join("")}for(Ke=U.length;void 0===di&&0!==Ke;)U.charCodeAt(Ke-1)>>8&&(di=!0),Ke--;if(!di)return U;for(Jn=de.noBOM?[]:[254,255],Ke=0,je=U.length;Ke<je;Ke++){if((ar=(gr=U.charCodeAt(Ke))>>8)>>8)throw new Error("Character at position "+Ke+" of string '"+U+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Jn.push(ar),Jn.push(gr-(ar<<8))}return String.fromCharCode.apply(void 0,Jn)}(U,de).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},KA=g.__private__.beginPage=function(U){be[++In]=[],jt[In]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(U[0]),topRightY:Number(U[1])}},zo(In),ee(be[z])},sc=function(U,de){var Ke,je,dt;switch(t=de||t,"string"==typeof U&&(Ke=p(U.toLowerCase()),Array.isArray(Ke)&&(je=Ke[0],dt=Ke[1])),Array.isArray(U)&&(je=U[0]*ct,dt=U[1]*ct),isNaN(je)&&(je=r[0],dt=r[1]),(je>14400||dt>14400)&&(fs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),dt=Math.min(14400,dt)),r=[je,dt],t.substr(0,1)){case"l":dt>je&&(r=[dt,je]);break;case"p":je>dt&&(r=[dt,je])}KA(r),rT(UD),j(Hh),0!==GD&&j(GD+" J"),0!==PD&&j(PD+" j"),Rn.publish("addPage",{pageNumber:In})},Oc=function(U){U>0&&U<=In&&(be.splice(U,1),jt.splice(U,1),In--,z>In&&(z=In),this.setPage(z))},zo=function(U){U>0&&U<=In&&(z=U)},Ta=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return be.length-1},fC=function(U,de,Ke){var je,dt=void 0;return Ke=Ke||{},de=void 0!==de?de:V[Sn].fontStyle,je=(U=void 0!==U?U:V[Sn].fontName).toLowerCase(),void 0!==F[je]&&void 0!==F[je][de]?dt=F[je][de]:void 0!==F[U]&&void 0!==F[U][de]?dt=F[U][de]:!1===Ke.disableWarning&&fs.warn("Unable to look up font label for font '"+U+"', '"+de+"'. Refer to getFontList() for available fonts."),dt||Ke.noFallback||null==(dt=F.times[de])&&(dt=F.times.normal),dt},Ph=g.__private__.putInfo=function(){var U=Xs(),de=function(je){return je};for(var Ke in null!==l&&(de=Gc.encryptor(U,0)),j("<<"),j("/Producer ("+Vo(de("jsPDF "+Mi.version))+")"),Ot)Ot.hasOwnProperty(Ke)&&Ot[Ke]&&j("/"+Ke.substr(0,1).toUpperCase()+Ke.substr(1)+" ("+Vo(de(Ot[Ke]))+")");j("/CreationDate ("+Vo(de(W))+")"),j(">>"),j("endobj")},TD=g.__private__.putCatalog=function(U){var de=(U=U||{}).rootDictionaryObjId||Ng;switch(Xs(),j("<<"),j("/Type /Catalog"),j("/Pages "+de+" 0 R"),oe||(oe="fullwidth"),oe){case"fullwidth":j("/OpenAction [3 0 R /FitH null]");break;case"fullheight":j("/OpenAction [3 0 R /FitV null]");break;case"fullpage":j("/OpenAction [3 0 R /Fit]");break;case"original":j("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ke=""+oe;"%"===Ke.substr(Ke.length-1)&&(oe=parseInt(oe)/100),"number"==typeof oe&&j("/OpenAction [3 0 R /XYZ null null "+M(oe)+"]")}switch(it||(it="continuous"),it){case"continuous":j("/PageLayout /OneColumn");break;case"single":j("/PageLayout /SinglePage");break;case"two":case"twoleft":j("/PageLayout /TwoColumnLeft");break;case"tworight":j("/PageLayout /TwoColumnRight")}Ve&&j("/PageMode /"+Ve),Rn.publish("putCatalog"),j(">>"),j("endobj")},xY=g.__private__.putTrailer=function(){j("trailer"),j("<<"),j("/Size "+(ce+1)),j("/Root "+ce+" 0 R"),j("/Info "+(ce-1)+" 0 R"),null!==l&&j("/Encrypt "+Gc.oid+" 0 R"),j("/ID [ <"+k+"> <"+k+"> ]"),j(">>")},FY=g.__private__.putHeader=function(){j("%PDF-"+f),j("%\xba\xdf\xac\xe0")},RY=g.__private__.putXRef=function(){var U="0000000000";j("xref"),j("0 "+(ce+1)),j("0000000000 65535 f ");for(var de=1;de<=ce;de++)j("function"==typeof ge[de]?(U+ge[de]()).slice(-10)+" 00000 n ":void 0!==ge[de]?(U+ge[de]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},hp=g.__private__.buildDocument=function(){ce=0,ie=0,re=[],ge=[],me=[],Ng=$s(),Uc=$s(),ee(re),Rn.publish("buildDocument"),FY(),gp(),function(){Rn.publish("putAdditionalObjects");for(var U=0;U<me.length;U++){var de=me[U];Lc(de.objId,!0),j(de.content),j("endobj")}Rn.publish("postPutAdditionalObjects")}(),function(){var U=[];(function(){for(var U in V)V.hasOwnProperty(U)&&(!1===u||!0===u&&h.hasOwnProperty(U))&&hC(V[U])})(),function(){var U;for(U in Ct)Ct.hasOwnProperty(U)&&jn(Ct[U])}(),function(){for(var U in Sr)Sr.hasOwnProperty(U)&&at(Sr[U])}(),function(U){var de;for(de in we)we.hasOwnProperty(de)&&(we[de]instanceof AB?ht(we[de]):we[de]instanceof Uv&&En(we[de],U))}(U),Rn.publish("putResources"),U.forEach(or),or({resourcesOid:Uc,objectOid:Number.MAX_SAFE_INTEGER}),Rn.publish("postPutResources")}(),null!==l&&(Gc.oid=Xs(),j("<<"),j("/Filter /Standard"),j("/V "+Gc.v),j("/R "+Gc.r),j("/U <"+Gc.toHexString(Gc.U)+">"),j("/O <"+Gc.toHexString(Gc.O)+">"),j("/P "+Gc.P),j(">>"),j("endobj")),Ph(),TD();var U=ie;return RY(),xY(),j("startxref"),j(""+U),j("%%EOF"),ee(be[z]),re.join("\n")},Ky=g.__private__.getBlob=function(U){return new Blob([Me(U)],{type:"application/pdf"})},qy=g.output=g.__private__.output=((U=function(U,de){switch("string"==typeof(de=de||{})?de={filename:de}:de.filename=de.filename||"generated.pdf",U){case void 0:return hp();case"save":g.save(de.filename);break;case"arraybuffer":return Me(hp());case"blob":return Ky(hp());case"bloburi":case"bloburl":if(void 0!==Ri.URL&&"function"==typeof Ri.URL.createObjectURL)return Ri.URL&&Ri.URL.createObjectURL(Ky(hp()))||void 0;fs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ke="",je=hp();try{Ke=a4(je)}catch{Ke=a4(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+de.filename+";base64,"+Ke;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Ri)){var dt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Gt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';de.pdfObjectUrl&&(dt=de.pdfObjectUrl,Gt="");var fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+dt+'"'+Gt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(de)+");<\/script></body></html>",Jn=Ri.open();return null!==Jn&&Jn.document.write(fn),Jn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Ri)){var di='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(de.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+de.filename+'" width="500px" height="400px" /></body></html>',gr=Ri.open();if(null!==gr){gr.document.write(di);var ar=this;gr.document.documentElement.querySelector("#pdfViewer").onload=function(){gr.document.title=de.filename,gr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ar.output("bloburl"))}}return gr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Ri))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var uA='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",de)+'"></iframe></body></html>',eo=Ri.open();if(null!==eo&&(eo.document.write(uA),eo.document.title=de.filename),eo||typeof safari>"u")return eo;break;case"datauri":case"dataurl":return Ri.document.location.href=this.output("datauristring",de);default:return null}}).foo=function(){try{return U.apply(this,arguments)}catch(je){var de=je.stack||"";~de.indexOf(" at ")&&(de=de.split(" at ")[1]);var Ke="Error in function "+de.split("\n")[0].split("<")[0]+": "+je.message;if(!Ri.console)throw new Error(Ke);Ri.console.error(Ke,je),Ri.alert&&alert(Ke)}},U.foo.bar=U,U.foo),eT=function(U){return!0===Array.isArray(iA)&&iA.indexOf(U)>-1};switch(i){case"pt":ct=1;break;case"mm":ct=72/25.4;break;case"cm":ct=72/2.54;break;case"in":ct=72;break;case"px":ct=1==eT("px_scaling")?.75:96/72;break;case"pc":case"em":ct=12;break;case"ex":ct=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);ct=i}var Gc=null;ye(),J();var tT=g.__private__.getPageInfo=g.getPageInfo=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[U].objId,pageNumber:U,pageContext:jt[U]}},Xi=g.__private__.getPageInfoByObjId=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var de in jt)if(jt[de].objId===U)break;return tT(de)},kY=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:jt[z].objId,pageNumber:z,pageContext:jt[z]}};g.addPage=function(){return sc.apply(this,arguments),this},g.setPage=function(){return zo.apply(this,arguments),ee.call(this,be[z]),this},g.insertPage=function(U){return this.addPage(),this.movePage(z,U),this},g.movePage=function(U,de){var Ke,je;if(U>de){Ke=be[U],je=jt[U];for(var dt=U;dt>de;dt--)be[dt]=be[dt-1],jt[dt]=jt[dt-1];be[de]=Ke,jt[de]=je,this.setPage(de)}else if(U<de){Ke=be[U],je=jt[U];for(var Gt=U;Gt<de;Gt++)be[Gt]=be[Gt+1],jt[Gt]=jt[Gt+1];be[de]=Ke,jt[de]=je,this.setPage(de)}return this},g.deletePage=function(){return Oc.apply(this,arguments),this},g.__private__.text=g.text=function(U,de,Ke,je,dt){var Gt,fn,Jn,di,gr,ar,uA,eo,fo,Wo=(je=je||{}).scope||this;if("number"==typeof U&&"number"==typeof de&&("string"==typeof Ke||Array.isArray(Ke))){var Pc=Ke;Ke=de,de=U,U=Pc}if(arguments[3]instanceof ii?(S("The transform parameter of text() with a Matrix value"),fo=dt):(Jn=arguments[4],di=arguments[5],"object"===(0,hs.A)(uA=arguments[3])&&null!==uA||("string"==typeof Jn&&(di=Jn,Jn=null),"string"==typeof uA&&(di=uA,uA=null),"number"==typeof uA&&(Jn=uA,uA=null),je={flags:uA,angle:Jn,align:di})),isNaN(de)||isNaN(Ke)||null==U)throw new Error("Invalid arguments passed to jsPDF.text");if(0===U.length)return Wo;var Yh,ka="",Uu="number"==typeof je.lineHeightFactor?je.lineHeightFactor:YB,qf=Wo.internal.scaleFactor;function lT(ws){return ws=ws.split("\t").join(Array(je.TabLen||9).join(" ")),Vo(ws,uA)}function JD(ws){for(var _s,Fo=ws.concat(),fa=[],Cp=Fo.length;Cp--;)"string"==typeof(_s=Fo.shift())?fa.push(_s):Array.isArray(ws)&&(1===_s.length||void 0===_s[1]&&void 0===_s[2])?fa.push(_s[0]):fa.push([_s[0],_s[1],_s[2]]);return fa}function VD(ws,_s){var Fo;if("string"==typeof ws)Fo=_s(ws)[0];else if(Array.isArray(ws)){for(var fa,Cp,tb=ws.concat(),sQ=[],dT=tb.length;dT--;)"string"==typeof(fa=tb.shift())?sQ.push(_s(fa)[0]):Array.isArray(fa)&&"string"==typeof fa[0]&&(Cp=_s(fa[0],fa[1],fa[2]),sQ.push([Cp[0],Cp[1],Cp[2]]));Fo=sQ}return Fo}var Zy=!1,zD=!0;if("string"==typeof U)Zy=!0;else if(Array.isArray(U)){var WD=U.concat();fn=[];for(var Xy,oc=WD.length;oc--;)("string"!=typeof(Xy=WD.shift())||Array.isArray(Xy)&&"string"!=typeof Xy[0])&&(zD=!1);Zy=zD}if(!1===Zy)throw new Error('Type of text must be string or Array. "'+U+'" is not recognized.');"string"==typeof U&&(U=U.match(/[\r?\n]/)?U.split(/\r\n|\r|\n/g):[U]);var $y=Ge/Wo.internal.scaleFactor,eQ=$y*(Uu-1);switch(je.baseline){case"bottom":Ke-=eQ;break;case"top":Ke+=$y-eQ;break;case"hanging":Ke+=$y-2*eQ;break;case"middle":Ke+=$y/2-eQ}if((ar=je.maxWidth||0)>0&&("string"==typeof U?U=Wo.splitTextToSize(U,ar):"[object Array]"===Object.prototype.toString.call(U)&&(U=U.reduce(function(ws,_s){return ws.concat(Wo.splitTextToSize(_s,ar))},[]))),Rn.publish("preProcessText",Gt={text:U,x:de,y:Ke,options:je,mutex:{pdfEscape:Vo,activeFontKey:Sn,fonts:V,activeFontSize:Ge}}),U=Gt.text,Jn=(je=Gt.options).angle,fo instanceof ii||!Jn||"number"!=typeof Jn)Jn&&Jn instanceof ii&&(fo=Jn);else{Jn*=Math.PI/180,0===je.rotationDirection&&(Jn=-Jn),"advanced"===C&&(Jn=-Jn);var tQ=Math.cos(Jn),jD=Math.sin(Jn);fo=new ii(tQ,jD,-jD,tQ,0,0)}"advanced"!==C||fo||(fo=kc),void 0!==(gr=je.charSpace||zy)&&(ka+=b(T(gr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(eo=je.horizontalScale)&&(ka+=b(100*eo)+" Tz\n");var ru=-1,JY=void 0!==je.renderingMode?je.renderingMode:je.stroke,ZD=Wo.internal.getCurrentPageInfo().pageContext;switch(JY){case 0:case!1:case"fill":ru=0;break;case 1:case!0:case"stroke":ru=1;break;case 2:case"fillThenStroke":ru=2;break;case 3:case"invisible":ru=3;break;case 4:case"fillAndAddForClipping":ru=4;break;case 5:case"strokeAndAddPathForClipping":ru=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ru=6;break;case 7:case"addToPathForClipping":ru=7}-1!==ru?ka+=ru+" Tr\n":-1!==(void 0!==ZD.usedRenderingMode?ZD.usedRenderingMode:-1)&&(ka+="0 Tr\n"),-1!==ru&&(ZD.usedRenderingMode=ru),di=je.align||"left";var Rg,nQ=Ge*Uu,gT=Wo.internal.pageSize.getWidth(),hT=V[Sn];gr=je.charSpace||zy,ar=je.maxWidth||0,uA=Object.assign({autoencode:!0,noBOM:!0},je.flags);var CC=[],JB=function(ws){return Wo.getStringUnitWidth(ws,{font:hT,charSpace:gr,fontSize:Ge,doKerning:!1})*Ge/qf};if("[object Array]"===Object.prototype.toString.call(U)){var Au;fn=JD(U),"left"!==di&&(Rg=fn.map(JB));var El,IC=0;if("right"===di){de-=Rg[0],U=[],oc=fn.length;for(var dp=0;dp<oc;dp++)0===dp?(El=Kf(de),Au=fp(Ke)):(El=T(IC-Rg[dp]),Au=-nQ),U.push([fn[dp],El,Au]),IC=Rg[dp]}else if("center"===di){de-=Rg[0]/2,U=[],oc=fn.length;for(var pp=0;pp<oc;pp++)0===pp?(El=Kf(de),Au=fp(Ke)):(El=T((IC-Rg[pp])/2),Au=-nQ),U.push([fn[pp],El,Au]),IC=Rg[pp]}else if("left"===di){U=[],oc=fn.length;for(var iQ=0;iQ<oc;iQ++)U.push(fn[iQ])}else if("justify"===di&&"Identity-H"===hT.encoding){U=[],oc=fn.length,ar=0!==ar?ar:gT;for(var mp=0,xo=0;xo<oc;xo++)if(Au=0===xo?fp(Ke):-nQ,El=0===xo?Kf(de):mp,xo<oc-1){var XD=T((ar-Rg[xo])/(fn[xo].split(" ").length-1)),vl=fn[xo].split(" ");U.push([vl[0]+" ",El,Au]),mp=0;for(var Tg=1;Tg<vl.length;Tg++){var rQ=(JB(vl[Tg-1]+" "+vl[Tg])-JB(vl[Tg]))*qf+XD;U.push(Tg==vl.length-1?[vl[Tg],rQ,0]:[vl[Tg]+" ",rQ,0]),mp-=rQ}}else U.push([fn[xo],El,Au]);U.push(["",mp,0])}else{if("justify"!==di)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(U=[],oc=fn.length,ar=0!==ar?ar:gT,xo=0;xo<oc;xo++)Au=0===xo?fp(Ke):-nQ,El=0===xo?Kf(de):0,CC.push(xo<oc-1?b(T((ar-Rg[xo])/(fn[xo].split(" ").length-1))):0),U.push([fn[xo],El,Au])}}!0===("boolean"==typeof je.R2L?je.R2L:Ye)&&(U=VD(U,function(ws,_s,Fo){return[ws.split("").reverse().join(""),_s,Fo]})),Rn.publish("postProcessText",Gt={text:U,x:de,y:Ke,options:je,mutex:{pdfEscape:Vo,activeFontKey:Sn,fonts:V,activeFontSize:Ge}}),U=Gt.text,Yh=Gt.mutex.isHex||!1;var $D=V[Sn].encoding;"WinAnsiEncoding"!==$D&&"StandardEncoding"!==$D||(U=VD(U,function(ws,_s,Fo){return[lT(ws),_s,Fo]})),fn=JD(U),U=[];for(var VB,zB,BC,jB=Array.isArray(fn[0])?1:0,EC="",eb=function(ws,_s,Fo){var fa="";return Fo instanceof ii?(Fo="number"==typeof je.angle?Fa(Fo,new ii(1,0,0,1,ws,_s)):Fa(new ii(1,0,0,1,ws,_s),Fo),"advanced"===C&&(Fo=Fa(new ii(1,0,0,-1,0,0),Fo)),fa=Fo.join(" ")+" Tm\n"):fa=b(ws)+" "+b(_s)+" Td\n",fa},kg=0;kg<fn.length;kg++){switch(EC="",jB){case 1:BC=(Yh?"<":"(")+fn[kg][0]+(Yh?">":")"),VB=parseFloat(fn[kg][1]),zB=parseFloat(fn[kg][2]);break;case 0:BC=(Yh?"<":"(")+fn[kg]+(Yh?">":")"),VB=Kf(de),zB=fp(Ke)}void 0!==CC&&void 0!==CC[kg]&&(EC=CC[kg]+" Tw\n"),0===kg?U.push(EC+eb(VB,zB,fo)+BC):0===jB?U.push(EC+BC):1===jB&&U.push(EC+eb(VB,zB,fo)+BC)}U=U.join(0===jB?" Tj\nT* ":" Tj\n"),U+=" Tj\n";var Lg="BT\n/";return Lg+=Sn+" "+Ge+" Tf\n",Lg+=b(Ge*Uu)+" TL\n",Lg+=KB+"\n",Lg+=ka,Lg+=U,j(Lg+="ET"),h[Sn]=!0,Wo};var LY=g.__private__.clip=g.clip=function(U){return j("evenodd"===U?"W*":"W"),this};g.clipEvenOdd=function(){return LY("evenodd")},g.__private__.discardPath=g.discardPath=function(){return j("n"),this};var Yf=g.__private__.isValidStyle=function(U){var de=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(U)&&(de=!0),de};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(U){return Yf(U)&&(c=U),this};var nT=g.__private__.getStyle=g.getStyle=function(U){var de=c;switch(U){case"D":case"S":de="S";break;case"F":de="f";break;case"FD":case"DF":de="B";break;case"f":case"f*":case"B":case"B*":de=U}return de},iT=g.close=function(){return j("h"),this};g.stroke=function(){return j("S"),this},g.fill=function(U){return Jy("f",U),this},g.fillEvenOdd=function(U){return Jy("f*",U),this},g.fillStroke=function(U){return Jy("B",U),this},g.fillStrokeEvenOdd=function(U){return Jy("B*",U),this};var Jy=function(U,de){"object"===(0,hs.A)(de)?OY(de,U):j(U)},kD=function(U){null===U||"advanced"===C&&void 0===U||(U=nT(U),j(U))};function UY(U,de,Ke,je,dt){var Gt=new Uv(de||this.boundingBox,Ke||this.xStep,je||this.yStep,this.gState,dt||this.matrix);Gt.stream=this.stream;var fn=U+"$$"+this.cloneIndex+++"$$";return Ys(fn,Gt),Gt}var OY=function(U,de){var Ke=Ee[U.key],je=we[Ke];if(je instanceof AB)j("q"),j(GY(de)),je.gState&&g.setGState(je.gState),j(U.matrix.toString()+" cm"),j("/"+Ke+" sh"),j("Q");else if(je instanceof Uv){var dt=new ii(1,0,0,-1,0,mC());U.matrix&&(dt=dt.multiply(U.matrix||kc),Ke=UY.call(je,U.key,U.boundingBox,U.xStep,U.yStep,dt).id),j("q"),j("/Pattern cs"),j("/"+Ke+" scn"),je.gState&&g.setGState(je.gState),j(de),j("Q")}},GY=function(U){switch(U){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},LD=g.moveTo=function(U,de){return j(b(T(U))+" "+b(G(de))+" m"),this},HB=g.lineTo=function(U,de){return j(b(T(U))+" "+b(G(de))+" l"),this},dC=g.curveTo=function(U,de,Ke,je,dt,Gt){return j([b(T(U)),b(G(de)),b(T(Ke)),b(G(je)),b(T(dt)),b(G(Gt)),"c"].join(" ")),this};g.__private__.line=g.line=function(U,de,Ke,je,dt){if(isNaN(U)||isNaN(de)||isNaN(Ke)||isNaN(je)||!Yf(dt))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===C?this.lines([[Ke-U,je-de]],U,de,[1,1],dt||"S"):this.lines([[Ke-U,je-de]],U,de,[1,1]).stroke()},g.__private__.lines=g.lines=function(U,de,Ke,je,dt,Gt){var fn,Jn,di,gr,ar,Pc,ka,Yh;if("number"==typeof U&&(Yh=Ke,Ke=de,de=U,U=Yh),je=je||[1,1],Gt=Gt||!1,isNaN(de)||isNaN(Ke)||!Array.isArray(U)||!Array.isArray(je)||!Yf(dt)||"boolean"!=typeof Gt)throw new Error("Invalid arguments passed to jsPDF.lines");for(LD(de,Ke),fn=je[0],Jn=je[1],gr=U.length,Pc=de,ka=Ke,di=0;di<gr;di++)2===(ar=U[di]).length?HB(Pc=ar[0]*fn+Pc,ka=ar[1]*Jn+ka):dC(ar[0]*fn+Pc,ar[1]*Jn+ka,ar[2]*fn+Pc,ar[3]*Jn+ka,Pc=ar[4]*fn+Pc,ka=ar[5]*Jn+ka);return Gt&&iT(),kD(dt),this},g.path=function(U){for(var de=0;de<U.length;de++){var Ke=U[de],je=Ke.c;switch(Ke.op){case"m":LD(je[0],je[1]);break;case"l":HB(je[0],je[1]);break;case"c":dC.apply(this,je);break;case"h":iT()}}return this},g.__private__.rect=g.rect=function(U,de,Ke,je,dt){if(isNaN(U)||isNaN(de)||isNaN(Ke)||isNaN(je)||!Yf(dt))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===C&&(je=-je),j([b(T(U)),b(G(de)),b(T(Ke)),b(T(je)),"re"].join(" ")),kD(dt),this},g.__private__.triangle=g.triangle=function(U,de,Ke,je,dt,Gt,fn){if(isNaN(U)||isNaN(de)||isNaN(Ke)||isNaN(je)||isNaN(dt)||isNaN(Gt)||!Yf(fn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ke-U,je-de],[dt-Ke,Gt-je],[U-dt,de-Gt]],U,de,[1,1],fn,!0),this},g.__private__.roundedRect=g.roundedRect=function(U,de,Ke,je,dt,Gt,fn){if(isNaN(U)||isNaN(de)||isNaN(Ke)||isNaN(je)||isNaN(dt)||isNaN(Gt)||!Yf(fn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Jn=4/3*(Math.SQRT2-1);return dt=Math.min(dt,.5*Ke),Gt=Math.min(Gt,.5*je),this.lines([[Ke-2*dt,0],[dt*Jn,0,dt,Gt-Gt*Jn,dt,Gt],[0,je-2*Gt],[0,Gt*Jn,-dt*Jn,Gt,-dt,Gt],[2*dt-Ke,0],[-dt*Jn,0,-dt,-Gt*Jn,-dt,-Gt],[0,2*Gt-je],[0,-Gt*Jn,dt*Jn,-Gt,dt,-Gt]],U+dt,de,[1,1],fn,!0),this},g.__private__.ellipse=g.ellipse=function(U,de,Ke,je,dt){if(isNaN(U)||isNaN(de)||isNaN(Ke)||isNaN(je)||!Yf(dt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Gt=4/3*(Math.SQRT2-1)*Ke,fn=4/3*(Math.SQRT2-1)*je;return LD(U+Ke,de),dC(U+Ke,de-fn,U+Gt,de-je,U,de-je),dC(U-Gt,de-je,U-Ke,de-fn,U-Ke,de),dC(U-Ke,de+fn,U-Gt,de+je,U,de+je),dC(U+Gt,de+je,U+Ke,de+fn,U+Ke,de),kD(dt),this},g.__private__.circle=g.circle=function(U,de,Ke,je){if(isNaN(U)||isNaN(de)||isNaN(Ke)||!Yf(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(U,de,Ke,Ke,je)},g.setFont=function(U,de,Ke){return Ke&&(de=E(de,Ke)),Sn=fC(U,de,{disableWarning:!1}),this};var PY=g.__private__.getFont=g.getFont=function(){return V[fC.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var U,de,Ke={};for(U in F)if(F.hasOwnProperty(U))for(de in Ke[U]=[],F[U])F[U].hasOwnProperty(de)&&Ke[U].push(de);return Ke},g.addFont=function(U,de,Ke,je,dt){var Gt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Gt.indexOf(arguments[3])?dt=arguments[3]:arguments[3]&&-1==Gt.indexOf(arguments[3])&&(Ke=E(Ke,je)),zr.call(this,U,de,Ke,dt=dt||"Identity-H")};var YB,UD=n.lineWidth||.200025,Vy=g.__private__.getLineWidth=g.getLineWidth=function(){return UD},rT=g.__private__.setLineWidth=g.setLineWidth=function(U){return UD=U,j(b(T(U))+" w"),this};g.__private__.setLineDash=Mi.API.setLineDash=Mi.API.setLineDashPattern=function(U,de){if(U=U||[],de=de||0,isNaN(de)||!Array.isArray(U))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return U=U.map(function(Ke){return b(T(Ke))}).join(" "),de=b(T(de)),j("["+U+"] "+de+" d"),this};var AT=g.__private__.getLineHeight=g.getLineHeight=function(){return Ge*YB};g.__private__.getLineHeight=g.getLineHeight=function(){return Ge*YB};var sT=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(U){return"number"==typeof(U=U||1.15)&&(YB=U),this},oT=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return YB};sT(n.lineHeight);var Kf=g.__private__.getHorizontalCoordinate=function(U){return T(U)},fp=g.__private__.getVerticalCoordinate=function(U){return"advanced"===C?U:jt[z].mediaBox.topRightY-jt[z].mediaBox.bottomLeftY-T(U)},HY=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(U){return b(Kf(U))},pC=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(U){return b(fp(U))},Hh=n.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return tu(Hh)},g.__private__.setStrokeColor=g.setDrawColor=function(U,de,Ke,je){return Hh=nu({ch1:U,ch2:de,ch3:Ke,ch4:je,pdfColorType:"draw",precision:2}),j(Hh),this};var OD=n.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return tu(OD)},g.__private__.setFillColor=g.setFillColor=function(U,de,Ke,je){return OD=nu({ch1:U,ch2:de,ch3:Ke,ch4:je,pdfColorType:"fill",precision:2}),j(OD),this};var KB=n.textColor||"0 g",YY=g.__private__.getTextColor=g.getTextColor=function(){return tu(KB)};g.__private__.setTextColor=g.setTextColor=function(U,de,Ke,je){return KB=nu({ch1:U,ch2:de,ch3:Ke,ch4:je,pdfColorType:"text",precision:3}),this};var zy=n.charSpace,KY=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(zy||0)};g.__private__.setCharSpace=g.setCharSpace=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zy=U,this};var GD=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(U){var de=g.CapJoinStyles[U];if(void 0===de)throw new Error("Line cap style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return GD=de,j(de+" J"),this};var PD=0;g.__private__.setLineJoin=g.setLineJoin=function(U){var de=g.CapJoinStyles[U];if(void 0===de)throw new Error("Line join style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return PD=de,j(de+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(U){if(U=U||0,isNaN(U))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return j(b(T(U))+" M"),this},g.GState=L2,g.setGState=function(U){(U="string"==typeof U?Ct[rt[U]]:aT(null,U)).equals(Nt)||(j("/"+U.id+" gs"),Nt=U)};var aT=function(U,de){if(!U||!rt[U]){var Ke=!1;for(var je in Ct)if(Ct.hasOwnProperty(je)&&Ct[je].equals(de)){Ke=!0;break}if(Ke)de=Ct[je];else{var dt="GS"+(Object.keys(Ct).length+1).toString(10);Ct[dt]=de,de.id=dt}return U&&(rt[U]=de.id),Rn.publish("addGState",de),de}};g.addGState=function(U,de){return aT(U,de),this},g.saveGraphicsState=function(){return j("q"),$.push({key:Sn,size:Ge,color:KB}),this},g.restoreGraphicsState=function(){j("Q");var U=$.pop();return Sn=U.key,Ge=U.size,KB=U.color,Nt=null,this},g.setCurrentTransformationMatrix=function(U){return j(U.toString()+" cm"),this},g.comment=function(U){return j("#"+U),this};var Wy=function(U,de){var Ke=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ke},set:function(Gt){isNaN(Gt)||(Ke=parseFloat(Gt))}});var je=de||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(Gt){isNaN(Gt)||(je=parseFloat(Gt))}});var dt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return dt},set:function(Gt){dt=Gt.toString()}}),this},HD=function(U,de,Ke,je){Wy.call(this,U,de),this.type="rect";var dt=Ke||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return dt},set:function(fn){isNaN(fn)||(dt=parseFloat(fn))}});var Gt=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Gt},set:function(fn){isNaN(fn)||(Gt=parseFloat(fn))}}),this},YD=function(){this.page=In,this.currentPage=z,this.pages=be.slice(0),this.pagesContext=jt.slice(0),this.x=Dn,this.y=se,this.matrix=P,this.width=qB(z),this.height=mC(z),this.outputDestination=Ne,this.id="",this.objectNumber=-1};YD.prototype.restore=function(){In=this.page,jt=this.pagesContext,be=this.pages,Dn=this.x,se=this.y,P=this.matrix,KD(z=this.currentPage,this.width),qD(z,this.height),Ne=this.outputDestination};var cT=function(U,de,Ke,je,dt){Hs.push(new YD),In=z=0,be=[],Dn=U,se=de,P=dt,KA([Ke,je])};for(var jy in g.beginFormObject=function(U,de,Ke,je,dt){return cT(U,de,Ke,je,dt),this},g.endFormObject=function(U){return function(U){if(sr[U])Hs.pop().restore();else{var de=new YD,Ke="Xo"+(Object.keys(Sr).length+1).toString(10);de.id=Ke,sr[U]=Ke,Sr[Ke]=de,Rn.publish("addFormObject",de),Hs.pop().restore()}}(U),this},g.doFormObject=function(U,de){var Ke=Sr[sr[U]];return j("q"),j(de.toString()+" cm"),j("/"+Ke.id+" Do"),j("Q"),this},g.getFormObject=function(U){var de=Sr[sr[U]];return{x:de.x,y:de.y,width:de.width,height:de.height,matrix:de.matrix}},g.save=function(U,de){return U=U||"generated.pdf",(de=de||{}).returnPromise=de.returnPromise||!1,!1===de.returnPromise?(rB(Ky(hp()),U),"function"==typeof rB.unload&&Ri.setTimeout&&setTimeout(rB.unload,911),this):new Promise(function(Ke,je){try{var dt=rB(Ky(hp()),U);"function"==typeof rB.unload&&Ri.setTimeout&&setTimeout(rB.unload,911),Ke(dt)}catch(Gt){je(Gt.message)}})},Mi.API)Mi.API.hasOwnProperty(jy)&&("events"===jy&&Mi.API.events.length?function(U,de){var je,dt;for(dt=de.length-1;-1!==dt;dt--)U.subscribe.apply(U,[de[dt][0]].concat("function"==typeof(je=de[dt][1])?[je]:je))}(Rn,Mi.API.events):g[jy]=Mi.API[jy]);var qB=g.getPageWidth=function(U){return(jt[U=U||z].mediaBox.topRightX-jt[U].mediaBox.bottomLeftX)/ct},KD=g.setPageWidth=function(U,de){jt[U].mediaBox.topRightX=de*ct+jt[U].mediaBox.bottomLeftX},mC=g.getPageHeight=function(U){return(jt[U=U||z].mediaBox.topRightY-jt[U].mediaBox.bottomLeftY)/ct},qD=g.setPageHeight=function(U,de){jt[U].mediaBox.topRightY=de*ct+jt[U].mediaBox.bottomLeftY};return g.internal={pdfEscape:Vo,getStyle:nT,getFont:PY,getFontSize:te,getCharSpace:KY,getTextColor:YY,getLineHeight:AT,getLineHeightFactor:oT,getLineWidth:Vy,write:Te,getHorizontalCoordinate:Kf,getVerticalCoordinate:fp,getCoordinateString:HY,getVerticalCoordinateString:pC,collections:{},newObject:Xs,newAdditionalObject:Gh,newObjectDeferred:$s,newObjectDeferredBegin:Lc,getFilters:xg,putStream:iu,events:Rn,scaleFactor:ct,pageSize:{getWidth:function(){return qB(z)},setWidth:function(U){KD(z,U)},getHeight:function(){return mC(z)},setHeight:function(U){qD(z,U)}},encryptionOptions:l,encryption:Gc,getEncryptor:function(U){return null!==l?Gc.encryptor(U,0):function(de){return de}},output:qy,getNumberOfPages:Ta,pages:be,out:j,f2:M,f3:D,getPageInfo:tT,getPageInfoByObjId:Xi,getCurrentPageInfo:kY,getPDFVersion:d,Point:Wy,Rectangle:HD,Matrix:ii,hasHotfix:eT},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return qB(z)},set:function(U){KD(z,U)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return mC(z)},set:function(U){qD(z,U)},enumerable:!0,configurable:!0}),function(U){for(var de=0,Ke=Oe.length;de<Ke;de++){var je=zr.call(this,U[de][0],U[de][1],U[de][2],Oe[de][3],!0);!1===u&&(h[je]=!0);var dt=U[de][0].split("-");ho({id:je,fontName:dt[0],fontStyle:dt[1]||""})}Rn.publish("addFonts",{fonts:V,dictionary:F})}.call(g,Oe),Sn="F1",sc(r,t),Rn.publish("initialized"),g}kv.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},kv.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},kv.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},kv.prototype.processOwnerPassword=function(n,e){return u4(l4(e).substr(0,5),n)},kv.prototype.encryptor=function(n,e){var t=l4(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return u4(t,i)}},L2.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||(0,hs.A)(n)!==(0,hs.A)(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return 0===i},Mi.API={events:[]},Mi.version="2.5.2";var co=Mi.API,g4=1,sB=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ov=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},rr=function(n){return n.toFixed(2)},Pm=function(n){return n.toFixed(5)};co.__acroform__={};var ql=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},vte=function(n){return n*g4},_f=function(n){var e=new Qte,t=ri.internal.getHeight(n)||0,i=ri.internal.getWidth(n)||0;return e.BBox=[0,0,Number(rr(i)),Number(rr(t))],e},mLe=co.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},CLe=co.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},ILe=co.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Do=co.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ILe(n,e-1)},bo=co.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return mLe(n,e-1)},So=co.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return CLe(n,e-1)},BLe=co.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=n[0],A=n[1],s=n[2],o=n[3],a={};return a.lowerLeft_X=t(r)||0,a.lowerLeft_Y=i(A+o)||0,a.upperRight_X=t(r+s)||0,a.upperRight_Y=i(A)||0,[Number(rr(a.lowerLeft_X)),Number(rr(a.lowerLeft_Y)),Number(rr(a.upperRight_X)),Number(rr(a.upperRight_Y))]},ELe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],i=h4(n,n._V||n.DV),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+r+" "+rr(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var A=_f(n);return A.scope=n.scope,A.stream=e.join("\n"),A}},h4=function(n,e){var t=0===n.fontSize?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");r=r.map(n.multiline?function(D){return D.split("\n")}:function(D){return[D]});var A=t,s=ri.internal.getHeight(n)||0;s=s<0?-s:s;var D,o=ri.internal.getWidth(n)||0;o=o<0?-o:o,A++;e:for(;A>0;){e="",A--;var c,l,u=U2("3",n,A).height,h=n.multiline?s-A:(s-u)/2,g=h+=2,f=0,d=0,m=0;if(A<=0){e="(...) Tj\n",e+="% Width of Text: "+U2(e,n,A=12).width+", FieldWidth:"+o+"\n";break}for(var p="",I=0,C=0;C<r.length;C++)if(r.hasOwnProperty(C)){var B=!1;if(1!==r[C].length&&m!==r[C].length-1){if((u+2)*(I+2)+2>s)continue e;p+=r[C][m],B=!0,d=C,C--}else{p=" "==(p+=r[C][m]+" ").substr(p.length-1)?p.substr(0,p.length-1):p;var y=parseInt(C),E=(D=y)+1<r.length&&U2(p+" "+r[D+1][0],n,A).width<=o-4,b=C>=r.length-1;if(E&&!b){p+=" ",m=0;continue}if(E||b){if(b)d=y;else if(n.multiline&&(u+2)*(I+2)+2>s)continue e}else{if(!n.multiline||(u+2)*(I+2)+2>s)continue e;d=y}}for(var S="",w=f;w<=d;w++){var M=r[w];if(n.multiline){if(w===d){S+=M[m]+" ",m=(m+1)%M.length;continue}if(w===f){S+=M[M.length-1]+" ";continue}}S+=M[0]+" "}switch(S=" "==S.substr(S.length-1)?S.substr(0,S.length-1):S,l=U2(S,n,A).width,n.textAlign){case"right":c=o-l-2;break;case"center":c=(o-l)/2;break;default:c=2}e+=rr(c)+" "+rr(g)+" Td\n",e+="("+sB(S)+") Tj\n",e+=-rr(c)+" 0 Td\n",g=-(A+2),l=0,f=B?d:d+1,I++,p=""}break}return i.text=e,i.fontSize=A,i},U2=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},vLe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},yLe=function(n,e){var t={type:"reference",object:n};void 0===e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},yte=co.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(s){return s};if(Array.isArray(n)){for(var r="[",A=0;A<n.length;A++)switch(0!==A&&(r+=" "),(0,hs.A)(n[A])){case"boolean":case"number":case"object":r+=n[A].toString();break;case"string":"/"!==n[A].substr(0,1)?(void 0!==e&&t&&(i=t.internal.getEncryptor(e)),r+="("+sB(i(n[A].toString()))+")"):r+=n[A].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},f4=function(n,e,t){var i=function(r){return r};return void 0!==e&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+sB(i(n))+")"},Df=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Df.prototype.toString=function(){return this.objId+" 0 R"},Df.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Df.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(A){return"content"!=A&&"appearanceStreamContent"!=A&&"scope"!=A&&"objId"!=A&&"_"!=A.substring(0,1)});for(var t in e)if(!1===Object.getOwnPropertyDescriptor(this,e[t]).configurable){var i=e[t],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:yte(r,this.objId,this.scope)}):r instanceof Df?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):"function"!=typeof r&&n.push({key:i,value:r}))}return n};var Qte=function(){Df.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ql(Qte,Df);var wte=function(){Df.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+sB(t(n))+")"}},set:function(t){n=t}})};ql(wte,Df);var yh=function n(){Df.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');e=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Do(e,3)},set:function(p){this.F=p?bo(e,3):So(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');t=p}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(p){i=void 0!==p?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(p){i[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(p){i[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(p){i[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(p){i[3]=p}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var A=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!A||A.length<1){if(this instanceof P2)return;A="FieldObject"+n.FieldNum++}var p=function(I){return I};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+sB(p(A))+")"},set:function(p){A=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return A},set:function(p){A=p}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(p){s=p}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(p){o=p}});var a=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return a},set:function(p){a=p}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/g4:c},set:function(p){c=p}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(p){l=p}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof P2||this instanceof oB))return f4(u,this.objId,this.scope)},set:function(p){p=p.toString(),u=p}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Da?h:f4(h,this.objId,this.scope)},set:function(p){p=p.toString(),h=this instanceof Da?p:"("===p.substr(0,1)?Ov(p.substr(1,p.length-2)):Ov(p)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Da?Ov(h.substr(1,h.length-1)):h},set:function(p){p=p.toString(),h=this instanceof Da?"/"+p:p}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Da?g:f4(g,this.objId,this.scope)},set:function(p){p=p.toString(),g=this instanceof Da?p:"("===p.substr(0,1)?Ov(p.substr(1,p.length-2)):Ov(p)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Da?Ov(g.substr(1,g.length-1)):g},set:function(p){p=p.toString(),g=this instanceof Da?"/"+p:p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,d=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return d},set:function(p){d=p=!!p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(p){f=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,1)},set:function(p){this.Ff=p?bo(this.Ff,1):So(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,2)},set:function(p){this.Ff=p?bo(this.Ff,2):So(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,3)},set:function(p){this.Ff=p?bo(this.Ff,3):So(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(p){if(-1===[0,1,2].indexOf(p))throw new Error('Invalid value "'+p+'" for attribute Q supplied.');m=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(m){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};ql(yh,Df);var Gv=function(){yh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yte(e,this.objId,this.scope)},set:function(t){var i,r;r=[],"string"==typeof(i=t)&&(r=function(A,s,o){o||(o=1);for(var a,c=[];a=s.exec(A);)c.push(a[o]);return c}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,18)},set:function(t){this.Ff=t?bo(this.Ff,18):So(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,19)},set:function(t){!0===this.combo&&(this.Ff=t?bo(this.Ff,19):So(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,20)},set:function(t){t?(this.Ff=bo(this.Ff,20),e.sort()):this.Ff=So(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,22)},set:function(t){this.Ff=t?bo(this.Ff,22):So(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,23)},set:function(t){this.Ff=t?bo(this.Ff,23):So(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,27)},set:function(t){this.Ff=t?bo(this.Ff,27):So(this.Ff,27)}}),this.hasAppearanceStream=!1};ql(Gv,yh);var Pv=function(){Gv.call(this),this.fontName="helvetica",this.combo=!1};ql(Pv,Gv);var Hv=function(){Pv.call(this),this.combo=!0};ql(Hv,Pv);var O2=function(){Hv.call(this),this.edit=!0};ql(O2,Hv);var Da=function(){yh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,15)},set:function(t){this.Ff=t?bo(this.Ff,15):So(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,16)},set:function(t){this.Ff=t?bo(this.Ff,16):So(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,17)},set:function(t){this.Ff=t?bo(this.Ff,17):So(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,26)},set:function(t){this.Ff=t?bo(this.Ff,26):So(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(A){return A};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+sB(t(e[i]))+")");return r.push(">>"),r.join("\n")}},set:function(t){"object"===(0,hs.A)(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};ql(Da,yh);var G2=function(){Da.call(this),this.pushButton=!0};ql(G2,Da);var Yv=function(){Da.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=void 0!==e?e:[]}})};ql(Yv,Da);var P2=function(){var n,e;yh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var A,s=[];for(A in s.push("<<"),i)s.push("/"+A+" ("+sB(r(i[A]))+")");return s.push(">>"),s.join("\n")},set:function(r){"object"===(0,hs.A)(r)&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){"string"==typeof r&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ri.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ql(P2,yh),Yv.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Yv.prototype.createOption=function(n){var e=new P2;return e.Parent=this,e.optionName=n,this.Kids.push(e),_Le.call(this.scope,e),e};var H2=function(){Da.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ri.CheckBox.createAppearanceStream()};ql(H2,Da);var oB=function(){yh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,13)},set:function(e){this.Ff=e?bo(this.Ff,13):So(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,21)},set:function(e){this.Ff=e?bo(this.Ff,21):So(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,23)},set:function(e){this.Ff=e?bo(this.Ff,23):So(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,24)},set:function(e){this.Ff=e?bo(this.Ff,24):So(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,25)},set:function(e){this.Ff=e?bo(this.Ff,25):So(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,26)},set:function(e){this.Ff=e?bo(this.Ff,26):So(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ql(oB,yh);var Y2=function(){oB.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Do(this.Ff,14)},set:function(n){this.Ff=n?bo(this.Ff,14):So(this.Ff,14)}}),this.password=!0};ql(Y2,oB);var ri={CheckBox:{createAppearanceStream:function(){return{N:{On:ri.CheckBox.YesNormal},D:{On:ri.CheckBox.YesPushDown,Off:ri.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=_f(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),A=h4(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+rr(ri.internal.getWidth(n))+" "+rr(ri.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+rr(A.fontSize)+" Tf "+r),t.push("BT"),t.push(A.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(n){var e=_f(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],A=ri.internal.getHeight(n),s=ri.internal.getWidth(n),o=h4(n,n.caption);return r.push("1 g"),r.push("0 0 "+rr(s)+" "+rr(A)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+rr(s-1)+" "+rr(A-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+rr(o.fontSize)+" Tf "+i),r.push(o.text),r.push("ET"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(n){var e=_f(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+rr(ri.internal.getWidth(n))+" "+rr(ri.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:ri.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=ri.RadioButton.Circle.YesNormal,e.D[n]=ri.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=_f(n);e.scope=n.scope;var t=[],i=ri.internal.getWidth(n)<=ri.internal.getHeight(n)?ri.internal.getWidth(n)/4:ri.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var A=Number((i*ri.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Pm(ri.internal.getWidth(n)/2)+" "+Pm(ri.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+A+" "+A+" "+i+" 0 "+i+" c"),t.push("-"+A+" "+i+" -"+i+" "+A+" -"+i+" 0 c"),t.push("-"+i+" -"+A+" -"+A+" -"+i+" 0 -"+i+" c"),t.push(A+" -"+i+" "+i+" -"+A+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=_f(n);e.scope=n.scope;var t=[],i=ri.internal.getWidth(n)<=ri.internal.getHeight(n)?ri.internal.getWidth(n)/4:ri.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),A=Number((r*ri.internal.Bezier_C).toFixed(5)),s=Number((i*ri.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Pm(ri.internal.getWidth(n)/2)+" "+Pm(ri.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+A+" "+A+" "+r+" 0 "+r+" c"),t.push("-"+A+" "+r+" -"+r+" "+A+" -"+r+" 0 c"),t.push("-"+r+" -"+A+" -"+A+" -"+r+" 0 -"+r+" c"),t.push(A+" -"+r+" "+r+" -"+A+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Pm(ri.internal.getWidth(n)/2)+" "+Pm(ri.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(n){var e=_f(n);e.scope=n.scope;var t=[],i=ri.internal.getWidth(n)<=ri.internal.getHeight(n)?ri.internal.getWidth(n)/4:ri.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),A=Number((r*ri.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Pm(ri.internal.getWidth(n)/2)+" "+Pm(ri.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+A+" "+A+" "+r+" 0 "+r+" c"),t.push("-"+A+" "+r+" -"+r+" "+A+" -"+r+" 0 c"),t.push("-"+r+" -"+A+" -"+A+" -"+r+" 0 -"+r+" c"),t.push(A+" -"+r+" "+r+" -"+A+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:ri.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=ri.RadioButton.Cross.YesNormal,e.D[n]=ri.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=_f(n);e.scope=n.scope;var t=[],i=ri.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+rr(ri.internal.getWidth(n)-2)+" "+rr(ri.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(rr(i.x1.x)+" "+rr(i.x1.y)+" m"),t.push(rr(i.x2.x)+" "+rr(i.x2.y)+" l"),t.push(rr(i.x4.x)+" "+rr(i.x4.y)+" m"),t.push(rr(i.x3.x)+" "+rr(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=_f(n);e.scope=n.scope;var t=ri.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+rr(ri.internal.getWidth(n))+" "+rr(ri.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+rr(ri.internal.getWidth(n)-2)+" "+rr(ri.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(rr(t.x1.x)+" "+rr(t.x1.y)+" m"),i.push(rr(t.x2.x)+" "+rr(t.x2.y)+" l"),i.push(rr(t.x4.x)+" "+rr(t.x4.y)+" m"),i.push(rr(t.x3.x)+" "+rr(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(n){var e=_f(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+rr(ri.internal.getWidth(n))+" "+rr(ri.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};ri.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=ri.internal.getWidth(n),t=ri.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},ri.internal.getWidth=function(n){var e=0;return"object"===(0,hs.A)(n)&&(e=vte(n.Rect[2])),e},ri.internal.getHeight=function(n){var e=0;return"object"===(0,hs.A)(n)&&(e=vte(n.Rect[3])),e};var n,e,_Le=co.addField=function(n){if(function(n,e){if(e.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(yh.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(vLe)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");g4=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new wte,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var t;(t=n).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var A=i[r];A.objId=void 0,A.hasAnnotation&&yLe(A,t)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(t){!function(i,r){var A=!i;for(var s in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var o=i[s],a=[],c=o.Rect;if(o.Rect&&(o.Rect=BLe(o.Rect,r)),r.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ri.createDefaultAppearanceStream(o),"object"===(0,hs.A)(o)&&"function"==typeof o.getKeyValueListForStream&&(a=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var l=ELe(o);a.push({key:"AP",value:"<</N "+l+">>"}),r.internal.acroformPlugin.xForms.push(l)}if(o.appearanceStreamContent){var u="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var g=o.appearanceStreamContent[h];if(u+="/"+h+" ",u+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var f=g[s];"function"==typeof f&&(f=f.call(r,o)),u+="/"+s+" "+f+" ",r.internal.acroformPlugin.xForms.indexOf(f)>=0||r.internal.acroformPlugin.xForms.push(f)}}else"function"==typeof(f=g)&&(f=f.call(r,o)),u+="/"+s+" "+f,r.internal.acroformPlugin.xForms.indexOf(f)>=0||r.internal.acroformPlugin.xForms.push(f);u+=">>"}a.push({key:"AP",value:"<<\n"+u+">>"})}r.internal.putStream({additionalKeyValues:a,objectId:o.objId}),r.internal.out("endobj")}A&&function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var i=t,r=n[t];e.internal.newObjectDeferredBegin(r.objId,!0),"object"===(0,hs.A)(r)&&"function"==typeof r.putStream&&r.putStream(),delete n[i]}}(r.internal.acroformPlugin.xForms,r)}(t,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof yh))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function _te(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}co.AcroFormChoiceField=Gv,co.AcroFormListBox=Pv,co.AcroFormComboBox=Hv,co.AcroFormEditBox=O2,co.AcroFormButton=Da,co.AcroFormPushButton=G2,co.AcroFormRadioButton=Yv,co.AcroFormCheckBox=H2,co.AcroFormTextField=oB,co.AcroFormPasswordField=Y2,co.AcroFormAppearance=ri,co.AcroForm={ChoiceField:Gv,ListBox:Pv,ComboBox:Hv,EditBox:O2,Button:Da,PushButton:G2,RadioButton:Yv,CheckBox:H2,TextField:oB,PasswordField:Y2,Appearance:ri},Mi.AcroForm={ChoiceField:Gv,ListBox:Pv,ComboBox:Hv,EditBox:O2,Button:Da,PushButton:G2,RadioButton:Yv,CheckBox:H2,TextField:oB,PasswordField:Y2,Appearance:ri},function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(D,T){var O,G,W,k,L,J=e;if("RGBA"===(T=T||e)||void 0!==D.data&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(E(D))for(L in t)for(W=t[L],O=0;O<W.length;O+=1){for(k=!0,G=0;G<W[O].length;G+=1)if(void 0!==W[O][G]&&W[O][G]!==D[G]){k=!1;break}if(!0===k){J=L;break}}else for(L in t)for(W=t[L],O=0;O<W.length;O+=1){for(k=!0,G=0;G<W[O].length;G+=1)if(void 0!==W[O][G]&&W[O][G]!==D.charCodeAt(G)){k=!1;break}if(!0===k){J=L;break}}return J===e&&T!==e&&(J=T),J},r=function D(T){for(var O=this.internal.write,G=this.internal.putStream,W=(0,this.internal.getFilters)();-1!==W.indexOf("FlateEncode");)W.splice(W.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var k=[];if(k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Image"}),k.push({key:"Width",value:T.width}),k.push({key:"Height",value:T.height}),T.colorSpace===m.INDEXED?k.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&void 0!==T.sMask?T.objectId+2:T.objectId+1)+" 0 R]"}):(k.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===m.DEVICE_CMYK&&k.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),k.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&void 0!==T.decodeParameters&&k.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var L="",J=0,H=T.transparency.length;J<H;J++)L+=T.transparency[J]+" "+T.transparency[J]+" ";k.push({key:"Mask",value:"["+L+"]"})}if(void 0!==T.sMask&&k.push({key:"SMask",value:T.objectId+1+" 0 R"}),G({data:T.data,additionalKeyValues:k,alreadyAppliedFilters:void 0!==T.filter?["/"+T.filter]:void 0,objectId:T.objectId}),O("endobj"),"sMask"in T&&void 0!==T.sMask){var K={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:"/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,data:T.sMask};"filter"in T&&(K.filter=T.filter),D.call(this,K)}if(T.colorSpace===m.INDEXED){var z=this.internal.newObject();G({data:S(new Uint8Array(T.palette)),objectId:z}),O("endobj")}},A=function(){var D=this.internal.collections.addImage_images;for(var T in D)r.call(this,D[T])},s=function(){var D,T=this.internal.collections.addImage_images,O=this.internal.write;for(var G in T)O("/I"+(D=T[G]).index,D.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",A),this.internal.events.subscribe("putXobjectDict",s))},a=function(){var D=this.internal.collections.addImage_images;return o.call(this),D},c=function(){return Object.keys(this.internal.collections.addImage_images).length},l=function(D){return"function"==typeof n["process"+D.toUpperCase()]},u=function(D){return"object"===(0,hs.A)(D)&&1===D.nodeType},h=function(D,T){if("IMG"===D.nodeName&&D.hasAttribute("src")){var O=""+D.getAttribute("src");if(0===O.indexOf("data:image/"))return F1(unescape(O).split("base64,").pop());var G=n.loadFile(O,!0);if(void 0!==G)return G}if("CANVAS"===D.nodeName){if(0===D.width||0===D.height)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var W;switch(T){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;default:W="image/jpeg"}return F1(D.toDataURL(W,1).split("base64,").pop())}},g=function(D){var T=this.internal.collections.addImage_images;if(T)for(var O in T)if(D===T[O].alias)return T[O]},f=function(D,T,O){return D||T||(D=-96,T=-96),D<0&&(D=-1*O.width*72/D/this.internal.scaleFactor),T<0&&(T=-1*O.height*72/T/this.internal.scaleFactor),0===D&&(D=T*O.width/O.height),0===T&&(T=D*O.height/O.width),[D,T]},d=function(D,T,O,G,W,k){var L=f.call(this,O,G,W),J=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,ue=a.call(this);if(O=L[0],G=L[1],ue[W.index]=W,k){k*=Math.PI/180;var ye=Math.cos(k),K=Math.sin(k),z=function(le){return le.toFixed(4)},Z=[z(ye),z(K),z(-1*K),z(ye),0,0,"cm"]}this.internal.write("q"),k?(this.internal.write([1,"0","0",1,J(D),H(T+G),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([J(O),"0","0",J(G),"0","0","cm"].join(" "))):this.internal.write([J(O),"0","0",J(G),J(D),H(T+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},m=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var p=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=n.__addimage__.sHashCode=function(D){var T,O,G=0;if("string"==typeof D)for(O=D.length,T=0;T<O;T++)G=(G<<5)-G+D.charCodeAt(T),G|=0;else if(E(D))for(O=D.byteLength/2,T=0;T<O;T++)G=(G<<5)-G+D[T],G|=0;return G},C=n.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var T=!0;return 0===D.length&&(T=!1),D.length%4!=0&&(T=!1),!1===/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))&&(T=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))&&(T=!1),T},B=n.__addimage__.extractImageFromDataUrl=function(D){var T=(D=D||"").split("base64,"),O=null;if(2===T.length){var G=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(G)&&(O={mimeType:G[1],charset:G[2],data:T[1]})}return O},y=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(D){return y()&&D instanceof ArrayBuffer};var E=n.__addimage__.isArrayBufferView=function(D){return y()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},b=n.__addimage__.binaryStringToUint8Array=function(D){for(var T=D.length,O=new Uint8Array(T),G=0;G<T;G++)O[G]=D.charCodeAt(G);return O},S=n.__addimage__.arrayBufferToBinaryString=function(D){for(var T="",O=E(D)?D:new Uint8Array(D),G=0;G<O.length;G+=8192)T+=String.fromCharCode.apply(null,O.subarray(G,G+8192));return T};n.addImage=function(){var D,T,O,G,W,k,L,J,H;if("number"==typeof arguments[1]?(T=e,O=arguments[1],G=arguments[2],W=arguments[3],k=arguments[4],L=arguments[5],J=arguments[6],H=arguments[7]):(T=arguments[1],O=arguments[2],G=arguments[3],W=arguments[4],k=arguments[5],L=arguments[6],J=arguments[7],H=arguments[8]),"object"===(0,hs.A)(D=arguments[0])&&!u(D)&&"imageData"in D){var ue=D;D=ue.imageData,T=ue.format||T||e,O=ue.x||O||0,G=ue.y||G||0,W=ue.w||ue.width||W,k=ue.h||ue.height||k,L=ue.alias||L,J=ue.compression||J,H=ue.rotation||ue.angle||H}var ye=this.internal.getFilters();if(void 0===J&&-1!==ye.indexOf("FlateEncode")&&(J="SLOW"),isNaN(O)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var K=w.call(this,D,T,L,J);return d.call(this,O,G,W,k,K,H),this};var w=function(D,T,O,G){var W,k,L,H;if("string"==typeof D&&i(D)===e){D=unescape(D);var J=M(D,!1);(""!==J||void 0!==(J=n.loadFile(D,!0)))&&(D=J)}if(u(D)&&(D=h(D,T)),T=i(D,T),!l(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if((null==(L=O)||0===L.length)&&(O="string"==typeof(H=D)||E(H)?I(H):E(H.data)?I(H.data):null),(W=g.call(this,O))||(y()&&(D instanceof Uint8Array||"RGBA"===T||(k=D,D=b(D))),W=this["process"+T.toUpperCase()](D,c.call(this),O,function(H){return H&&"string"==typeof H&&(H=H.toUpperCase()),H in n.image_compression?H:p.NONE}(G),k)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},M=n.__addimage__.convertBase64ToBinaryString=function(D,T){var O;T="boolean"!=typeof T||T;var G,W="";if("string"==typeof D){G=null!==(O=B(D))?O.data:D;try{W=F1(G)}catch(k){if(T)throw C(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+k.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};n.getImageProperties=function(D){var T,O,G="";if(u(D)&&(D=h(D)),"string"==typeof D&&i(D)===e&&(""===(G=M(D,!1))&&(G=n.loadFile(D)||""),D=G),O=i(D),!l(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!y()||D instanceof Uint8Array||(D=b(D)),!(T=this["process"+O.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=O,T}}(Mi.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
n=Mi.API,e=function(t){if(void 0!==t&&""!=t)return!0},Mi.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,r,A,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,l=!1,u=0;u<c.length&&!l;u++)switch((i=c[u]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(0!=l){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){i=c[h];var g=this.internal.pdfEscape,f=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var d=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(d.objId),I=i.title||"Note";A="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(i.bounds.x)+" "+o(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y)+"] ")+"/Contents ("+g(p(i.contents))+")",A+=" /Popup "+m.objId+" 0 R",A+=" /P "+a.objId+" 0 R",A+=" /T ("+g(p(I))+") >>",d.content=A;var C=d.objId+" 0 R";A="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(i.bounds.x+30)+" "+o(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+o(i.bounds.y)+"] ")+" /Parent "+C,i.open&&(A+=" /Open true"),m.content=A+=" >>",this.internal.write(d.objId,"0 R",m.objId,"0 R");break;case"freetext":r="/Rect ["+s(i.bounds.x)+" "+o(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y+i.bounds.h)+"] ";var B=i.color||"#000000";A="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+g(f(i.contents))+")",A+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",A+=" /Border [0 0 0]",this.internal.write(A+=" >>");break;case"link":if(i.options.name){var y=this.annotations._nameMap[i.options.name];i.options.pageNumber=y.page,i.options.top=y.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",A="",i.options.url)A="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+g(f(i.options.url))+") >>";else if(i.options.pageNumber)switch(A="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":A+=" /Fit]";break;case"FitH":A+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,A+=" /FitV "+i.options.left+"]";break;default:var E=o(i.options.top);i.options.left=i.options.left||0,void 0===i.options.zoom&&(i.options.zoom=0),A+=" /XYZ "+i.options.left+" "+E+" "+i.options.zoom+"]"}""!=A&&this.internal.write(A+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,r,A,s){var o=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:a(t),y:c(i),w:a(t+r),h:c(i+A)},options:s,type:"link"})},n.textWithLink=function(t,i,r,A){var s,o,a=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==A.maxWidth){var l=this.splitTextToSize(t,o=A.maxWidth).length;s=Math.ceil(c*l)}else o=a,s=c;return this.text(t,i,r,A),"center"===A.align&&(i-=a/2),"right"===A.align&&(i-=a),this.link(i,(r+=.2*c)-c,o,s,A),a},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var A=n.__arabicParser__.isInArabicSubstitutionA=function(d){return void 0!==e[d.charCodeAt(0)]},s=n.__arabicParser__.isArabicLetter=function(d){return"string"==typeof d&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(d)},o=n.__arabicParser__.isArabicEndLetter=function(d){return s(d)&&A(d)&&e[d.charCodeAt(0)].length<=2},a=n.__arabicParser__.isArabicAlfLetter=function(d){return s(d)&&r.indexOf(d.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(d){return s(d)&&A(d)&&e[d.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(d){return s(d)&&A(d)&&e[d.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(d){return s(d)&&A(d)&&e[d.charCodeAt(0)].length>=3};var l=n.__arabicParser__.arabicLetterHasMedialForm=function(d){return s(d)&&A(d)&&4==e[d.charCodeAt(0)].length},u=n.__arabicParser__.resolveLigatures=function(d){var m=0,p=t,I="",C=0;for(m=0;m<d.length;m+=1)void 0!==p[d.charCodeAt(m)]?(C++,"number"==typeof(p=p[d.charCodeAt(m)])&&(I+=String.fromCharCode(p),p=t,C=0),m===d.length-1&&(p=t,I+=d.charAt(m-(C-1)),m-=C-1,C=0)):(p=t,I+=d.charAt(m-C),m-=C,C=0);return I};n.__arabicParser__.isArabicDiacritic=function(d){return void 0!==d&&void 0!==i[d.charCodeAt(0)]};var h=n.__arabicParser__.getCorrectForm=function(d,m,p){return s(d)?!1===A(d)?-1:!c(d)||!s(m)&&!s(p)||!s(p)&&o(m)||o(d)&&!s(m)||o(d)&&a(m)||o(d)&&o(m)?0:l(d)&&s(m)&&!o(m)&&s(p)&&c(p)?3:o(d)||!s(p)?1:2:-1},g=function(d){var m=0,p=0,I=0,C="",B="",y="",E=(d=d||"").split("\\s+"),b=[];for(m=0;m<E.length;m+=1){for(b.push(""),p=0;p<E[m].length;p+=1)B=E[m][p-1],y=E[m][p+1],s(C=E[m][p])?(I=h(C,B,y),b[m]+=-1!==I?String.fromCharCode(e[C.charCodeAt(0)][I]):C):b[m]+=C;b[m]=u(b[m])}return b.join(" ")},f=n.__arabicParser__.processArabic=n.processArabic=function(){var d,m="string"==typeof arguments[0]?arguments[0]:arguments[0].text,p=[];if(Array.isArray(m)){var I=0;for(p=[],I=0;I<m.length;I+=1)Array.isArray(m[I])?p.push([g(m[I][0]),m[I][1],m[I][2]]):p.push([g(m[I])]);d=p}else d=g(m);return"string"==typeof arguments[0]?d:(arguments[0].text=d,arguments[0])};n.events.push(["preProcessText",f])}(Mi.API),Mi.API.autoPrint=function(n){var e;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(o){i=isNaN(o)||!1===Number.isInteger(o)||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(o){r=isNaN(o)||!1===Number.isInteger(o)||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var A=[];Object.defineProperty(this,"childNodes",{get:function(){return A},set:function(o){A=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var r;if("2d"!==(t=t||"2d"))return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Mi.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new A,this.internal.__cell__.pages=1},A=function(){var a=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return a},set:function(d){a=d}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(d){c=d}});var l=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return l},set:function(d){l=d}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(d){u=d}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(d){h=d}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(d){g=d}});var f=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return f},set:function(d){f=d}}),this};A.prototype.clone=function(){return new A(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},A.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(a){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof a?a:void 0,this},n.getTextDimensions=function(a,c){i.call(this);var l=(c=c||{}).fontSize||this.getFontSize(),u=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,g=0,f=0,d=0,m=this;if(!Array.isArray(a)&&"string"!=typeof a){if("number"!=typeof a)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");a=String(a)}var p=c.maxWidth;p>0?"string"==typeof a?a=this.splitTextToSize(a,p):"[object Array]"===Object.prototype.toString.call(a)&&(a=a.reduce(function(C,B){return C.concat(m.splitTextToSize(B,p))},[])):a=Array.isArray(a)?a:[a];for(var I=0;I<a.length;I++)g<(d=this.getStringUnitWidth(a[I],{font:u})*l)&&(g=d);return 0!==g&&(f=a.length),{w:g/=h,h:Math.max((f*l*this.getLineHeightFactor()-l*(this.getLineHeightFactor()-1))/h,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var a=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new A(a.left,a.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var a;a=arguments[0]instanceof A?arguments[0]:new A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,l=this.internal.__cell__.padding,u=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return void 0!==c.lineNumber&&(c.lineNumber===a.lineNumber?(a.x=(c.x||0)+(c.width||0),a.y=c.y||0):c.y+c.height+a.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),a.y=u.top,g&&h&&(this.printHeaderRow(a.lineNumber,!0),a.y+=h[0].height)):a.y=c.y+c.height||a.y),void 0!==a.text[0]&&(this.rect(a.x,a.y,a.width,a.height,!0===t?"FD":void 0),"right"===a.align?this.text(a.text,a.x+a.width-l,a.y+l,{align:"right",baseline:"top"}):"center"===a.align?this.text(a.text,a.x+a.width/2,a.y+l,{align:"center",baseline:"top",maxWidth:a.width-l-l}):this.text(a.text,a.x+l,a.y+l,{align:"left",baseline:"top",maxWidth:a.width-l-l})),this.internal.__cell__.lastCell=a,this};n.table=function(a,c,l,u,h){if(i.call(this),!l)throw new Error("No data for PDF table.");var g,f,d,m,p=[],I=[],C=[],B={},y={},E=[],b=[],S=(h=h||{}).autoSize||!1,w=!1!==h.printHeaders,M=h.css&&void 0!==h.css["font-size"]?16*h.css["font-size"]:h.fontSize||12,D=h.margins||Object.assign({width:this.getPageWidth()},e),T="number"==typeof h.padding?h.padding:3,O=h.headerBackgroundColor||"#c8c8c8",G=h.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=w,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=G,this.setFontSize(M),null==u)I=p=Object.keys(l[0]),C=p.map(function(){return"left"});else if(Array.isArray(u)&&"object"===(0,hs.A)(u[0]))for(p=u.map(function(ue){return ue.name}),I=u.map(function(ue){return ue.prompt||ue.name||""}),C=u.map(function(ue){return ue.align||"left"}),g=0;g<u.length;g+=1)y[u[g].name]=u[g].width*(19.049976/25.4);else Array.isArray(u)&&"string"==typeof u[0]&&(I=p=u,C=p.map(function(){return"left"}));if(S||Array.isArray(u)&&"string"==typeof u[0])for(g=0;g<p.length;g+=1){for(B[m=p[g]]=l.map(function(ue){return ue[m]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(I[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),f=B[m],this.setFont(void 0,"normal"),d=0;d<f.length;d+=1)E.push(this.getTextDimensions(f[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[m]=Math.max.apply(null,E)+T+T,E=[]}if(w){var W={};for(g=0;g<p.length;g+=1)W[p[g]]={},W[p[g]].text=I[g],W[p[g]].align=C[g];var k=o.call(this,W,y);b=p.map(function(ue){return new A(a,c,y[ue],k,W[ue].text,void 0,W[ue].align)}),this.setTableHeaderRow(b),this.printHeaderRow(1,!1)}var L=u.reduce(function(ue,ye){return ue[ye.name]=ye.align,ue},{});for(g=0;g<l.length;g+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:g,data:l[g]},this);var J=o.call(this,l[g],y);for(d=0;d<p.length;d+=1){var H=l[g][p[d]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:g,col:d,data:H},this),s.call(this,new A(a,c,y[p[d]],J,H,g+2,L[p[d]]))}}return this.internal.__cell__.table_x=a,this.internal.__cell__.table_y=c,this};var o=function(a,c){var l=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(a).map(function(g){var f=a[g];return this.splitTextToSize(f.hasOwnProperty("text")?f.text:f,c[g]-l-l)},this).map(function(g){return this.getLineHeightFactor()*g.length*u/h+l+l},this).reduce(function(g,f){return Math.max(g,f)},0)};n.setTableHeaderRow=function(a){i.call(this),this.internal.__cell__.tableHeaderRow=a},n.printHeaderRow=function(a,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var l;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new A(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){l=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(l.y=this.internal.__cell__.margins.top||0,h.push(l)),l.lineNumber=a;var f=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,l),this.setTextColor(f)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),t=!1}}(Mi.API);var Dte={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bte=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],d4=_te(bte),Ste=[100,200,300,400,500,600,700,800,900],DLe=_te(Ste);function p4(n){var A,e=n.family.replace(/"|'/g,"").toLowerCase(),t=Dte[A=(A=n.style)||"normal"]?A:"normal",i=function(A){return A?"number"==typeof A?A>=100&&A<=900&&A%100==0?A:400:/^\d00$/.test(A)?parseInt(A):"bold"===A?700:400:400}(n.weight),r=function(A){return"number"==typeof d4[A=A||"normal"]?A:"normal"}(n.stretch);return{family:e,style:t,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:e,style:[r,t,i].join(" ")}}}function Mte(n,e,t,i){var r;for(r=t;r>=0&&r<e.length;r+=i)if(n[e[r]])return n[e[r]];for(r=t;r>=0&&r<e.length;r-=i)if(n[e[r]])return n[e[r]]}var bLe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Nte={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function xte(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Fte(n){return n.trimLeft()}function MLe(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function NLe(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],n.substring(e[0].length)]}var K2,Rte,Tte,m4=["times"];(function(n){var e,t,i,r,A,s,o,a,c,l=function(K){return this.isStrokeTransparent=(K=K||{}).isStrokeTransparent||!1,this.strokeOpacity=K.strokeOpacity||1,this.strokeStyle=K.strokeStyle||"#000000",this.fillStyle=K.fillStyle||"#000000",this.isFillTransparent=K.isFillTransparent||!1,this.fillOpacity=K.fillOpacity||1,this.font=K.font||"10px sans-serif",this.textBaseline=K.textBaseline||"alphabetic",this.textAlign=K.textAlign||"left",this.lineWidth=K.lineWidth||1,this.lineJoin=K.lineJoin||"miter",this.lineCap=K.lineCap||"butt",this.path=K.path||[],this.transform=void 0!==K.transform?K.transform.clone():new a,this.globalCompositeOperation=K.globalCompositeOperation||"normal",this.globalAlpha=K.globalAlpha||1,this.clip_path=K.clip_path||[],this.currentPoint=K.currentPoint||new s,this.miterLimit=K.miterLimit||10,this.lastPoint=K.lastPoint||new s,this.lineDashOffset=K.lineDashOffset||0,this.lineDash=K.lineDash||[],this.margin=K.margin||[0,0,0,0],this.prevPageLastElemOffset=K.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof K.ignoreClearRect||K.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new u(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,A=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,a=this.internal.Matrix,c=new l}]);var u=function(K){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=K;Object.defineProperty(this,"pdf",{get:function(){return z}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(ee){Z=!!ee}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(ee){le=!!ee}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(ee){isNaN(ee)||(ce=ee)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(ee){isNaN(ee)||(ge=ee)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ee){var j;"number"==typeof ee?j=[ee,ee,ee,ee]:((j=new Array(4))[0]=ee[0],j[1]=ee.length>=2?ee[1]:j[0],j[2]=ee.length>=3?ee[2]:j[0],j[3]=ee.length>=4?ee[3]:j[1]),c.margin=j}});var re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return re},set:function(ee){re=ee}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(ee){ie=ee}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(ee){me=ee}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ee){ee instanceof l&&(c=ee)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ee){c.path=ee}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(ee){be=ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ee){var j;j=h(ee),this.ctx.fillStyle=j.style,this.ctx.isFillTransparent=0===j.a,this.ctx.fillOpacity=j.a,this.pdf.setFillColor(j.r,j.g,j.b,{a:j.a}),this.pdf.setTextColor(j.r,j.g,j.b,{a:j.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ee){var j=h(ee);this.ctx.strokeStyle=j.style,this.ctx.isStrokeTransparent=0===j.a,this.ctx.strokeOpacity=j.a,0===j.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(j.r,j.g,j.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ee){-1!==["butt","round","square"].indexOf(ee)&&(this.ctx.lineCap=ee,this.pdf.setLineCap(ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ee){isNaN(ee)||(this.ctx.lineWidth=ee,this.pdf.setLineWidth(ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ee){-1!==["bevel","round","miter"].indexOf(ee)&&(this.ctx.lineJoin=ee,this.pdf.setLineJoin(ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ee){isNaN(ee)||(this.ctx.miterLimit=ee,this.pdf.setMiterLimit(ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ee){this.ctx.textBaseline=ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ee){-1!==["right","end","center","left","start"].indexOf(ee)&&(this.ctx.textAlign=ee)}});var Ie=null,Ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ae},set:function(ee){Ie=null,Ae=ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ee){var j;if(this.ctx.font=ee,null!==(j=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ee))){var Te=j[1],Me=j[3],Oe=j[4],Ge=j[6],oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor("px"===oe?parseFloat(Oe)*this.pdf.internal.scaleFactor:"em"===oe?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var te=function(Ot){var Sn,ct,Dn=[],se=Ot.trim();if(""===se)return m4;if(se in Nte)return[Nte[se]];for(;""!==se;){switch(ct=null,Sn=(se=Fte(se)).charAt(0)){case'"':case"'":ct=MLe(se.substring(1),Sn);break;default:ct=NLe(se)}if(null===ct||(Dn.push(ct[0]),""!==(se=Fte(ct[1]))&&","!==se.charAt(0)))return m4;se=se.replace(/^,/,"")}return Dn}(Ge);if(this.fontFaces){var Ye=function SLe(n,e,t){for(var i=(t=t||{}).defaultFontFamily||"times",r=Object.assign({},bLe,t.genericFontFamilies||{}),A=null,s=null,o=0;o<e.length;++o)if(r[(A=p4(e[o])).family]&&(A.family=r[A.family]),n.hasOwnProperty(A.family)){s=n[A.family];break}if(!(s=s||n[i]))throw new Error("Could not find a font-family for the rule '"+xte(A)+"' and default family '"+i+"'.");if(s=function(a,c){if(c[a])return c[a];var l=d4[a],h=Mte(c,bte,l,l<=d4.normal?-1:1);if(!h)throw new Error("Could not find a matching font-stretch value for "+a);return h}(A.stretch,s),s=function(a,c){if(c[a])return c[a];for(var l=Dte[a],u=0;u<l.length;++u)if(c[l[u]])return c[l[u]];throw new Error("Could not find a matching font-style for "+a)}(A.style,s),!(s=function(a,c){if(c[a])return c[a];if(400===a&&c[500])return c[500];if(500===a&&c[400])return c[400];var u=Mte(c,Ste,DLe[a],a<400?-1:1);if(!u)throw new Error("Could not find a matching font-weight for value "+a);return u}(A.weight,s)))throw new Error("Failed to resolve a font for the rule '"+xte(A)+"'.");return s}(function Ne(ee,j){if(null===Ie){var Te=(Me=ee.getFontList(),Oe=[],Object.keys(Me).forEach(function(Ge){Me[Ge].forEach(function(oe){var te=null;switch(oe){case"bold":te={family:Ge,weight:"bold"};break;case"italic":te={family:Ge,style:"italic"};break;case"bolditalic":te={family:Ge,weight:"bold",style:"italic"};break;case"":case"normal":te={family:Ge}}null!==te&&(te.ref={name:Ge,style:oe},Oe.push(te))})}),Oe);Ie=function(Me){for(var Oe={},Ge=0;Ge<Me.length;++Ge){var oe=p4(Me[Ge]),te=oe.family,Ye=oe.stretch,Ve=oe.style,ut=oe.weight;Oe[te]=Oe[te]||{},Oe[te][Ye]=Oe[te][Ye]||{},Oe[te][Ye][Ve]=Oe[te][Ye][Ve]||{},Oe[te][Ye][Ve][ut]=oe}return Oe}(Te.concat(j))}var Me,Oe;return Ie}(this.pdf,this.fontFaces),te.map(function(Ot){return{family:Ot,stretch:"normal",weight:Me,style:Te}}));this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var Ve="";("bold"===Me||parseInt(Me,10)>=700||"bold"===Te)&&(Ve="bold"),"italic"===Te&&(Ve+="italic"),0===Ve.length&&(Ve="normal");for(var ut="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Jt=0;Jt<te.length;Jt++){if(void 0!==this.pdf.internal.getFont(te[Jt],Ve,{noFallback:!0,disableWarning:!0})){ut=te[Jt];break}if("bolditalic"===Ve&&void 0!==this.pdf.internal.getFont(te[Jt],"bold",{noFallback:!0,disableWarning:!0}))ut=te[Jt],Ve="bold";else if(void 0!==this.pdf.internal.getFont(te[Jt],"normal",{noFallback:!0,disableWarning:!0})){ut=te[Jt],Ve="normal";break}}if(""===ut)for(var Yt=0;Yt<te.length;Yt++)if(it[te[Yt]]){ut=it[te[Yt]];break}this.pdf.setFont(ut=""===ut?"Times":ut,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ee){this.ctx.globalCompositeOperation=ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ee){this.ctx.globalAlpha=ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ee){this.ctx.lineDashOffset=ee,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ee){this.ctx.lineDash=ee,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ee){this.ctx.ignoreClearRect=!!ee}})};u.prototype.setLineDash=function(K){this.lineDash=K},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){B.call(this,"fill",!1)},u.prototype.stroke=function(){B.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(K,z){if(isNaN(K)||isNaN(z))throw fs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new s(K,z));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(K,z)},u.prototype.closePath=function(){var K=new s(0,0),z=0;for(z=this.path.length-1;-1!==z;z--)if("begin"===this.path[z].type&&"object"===(0,hs.A)(this.path[z+1])&&"number"==typeof this.path[z+1].x){K=new s(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(K.x,K.y)},u.prototype.lineTo=function(K,z){if(isNaN(K)||isNaN(z))throw fs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new s(K,z));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},u.prototype.quadraticCurveTo=function(K,z,Z,le){if(isNaN(Z)||isNaN(le)||isNaN(K)||isNaN(z))throw fs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new s(Z,le)),ge=this.ctx.transform.applyToPoint(new s(K,z));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},u.prototype.bezierCurveTo=function(K,z,Z,le,ce,ge){if(isNaN(ce)||isNaN(ge)||isNaN(K)||isNaN(z)||isNaN(Z)||isNaN(le))throw fs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var re=this.ctx.transform.applyToPoint(new s(ce,ge)),ie=this.ctx.transform.applyToPoint(new s(K,z)),me=this.ctx.transform.applyToPoint(new s(Z,le));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:me.x,y2:me.y,x:re.x,y:re.y}),this.ctx.lastPoint=new s(re.x,re.y)},u.prototype.arc=function(K,z,Z,le,ce,ge){if(isNaN(K)||isNaN(z)||isNaN(Z)||isNaN(le)||isNaN(ce))throw fs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var re=this.ctx.transform.applyToPoint(new s(K,z));K=re.x,z=re.y;var ie=this.ctx.transform.applyToPoint(new s(0,Z)),me=this.ctx.transform.applyToPoint(new s(0,0));Z=Math.sqrt(Math.pow(ie.x-me.x,2)+Math.pow(ie.y-me.y,2))}Math.abs(ce-le)>=2*Math.PI&&(le=0,ce=2*Math.PI),this.path.push({type:"arc",x:K,y:z,radius:Z,startAngle:le,endAngle:ce,counterclockwise:ge})},u.prototype.arcTo=function(K,z,Z,le,ce){throw new Error("arcTo not implemented.")},u.prototype.rect=function(K,z,Z,le){if(isNaN(K)||isNaN(z)||isNaN(Z)||isNaN(le))throw fs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(K,z),this.lineTo(K+Z,z),this.lineTo(K+Z,z+le),this.lineTo(K,z+le),this.lineTo(K,z),this.lineTo(K+Z,z),this.lineTo(K,z)},u.prototype.fillRect=function(K,z,Z,le){if(isNaN(K)||isNaN(z)||isNaN(Z)||isNaN(le))throw fs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ce={};"butt"!==this.lineCap&&(ce.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(K,z,Z,le),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},u.prototype.strokeRect=function(K,z,Z,le){if(isNaN(K)||isNaN(z)||isNaN(Z)||isNaN(le))throw fs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(K,z,Z,le),this.stroke())},u.prototype.clearRect=function(K,z,Z,le){if(isNaN(K)||isNaN(z)||isNaN(Z)||isNaN(le))throw fs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(K,z,Z,le))},u.prototype.save=function(K){K="boolean"!=typeof K||K;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),K){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},u.prototype.restore=function(K){K="boolean"!=typeof K||K;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(z),K&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(K){var z,Z,le,ce;if(!0===K.isCanvasGradient&&(K=K.getColor()),!K)return{r:0,g:0,b:0,a:0,style:K};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(K))z=0,Z=0,le=0,ce=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(K);if(null!==ge)z=parseInt(ge[1]),Z=parseInt(ge[2]),le=parseInt(ge[3]),ce=1;else if(null!==(ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(K)))z=parseInt(ge[1]),Z=parseInt(ge[2]),le=parseInt(ge[3]),ce=parseFloat(ge[4]);else{if(ce=1,"string"==typeof K&&"#"!==K.charAt(0)){var re=new pte(K);K=re.ok?re.toHex():"#000000"}4===K.length?(z=K.substring(1,2),z+=z,Z=K.substring(2,3),Z+=Z,le=K.substring(3,4),le+=le):(z=K.substring(1,3),Z=K.substring(3,5),le=K.substring(5,7)),z=parseInt(z,16),Z=parseInt(Z,16),le=parseInt(le,16)}}return{r:z,g:Z,b:le,a:ce,style:K}},g=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};u.prototype.fillText=function(K,z,Z,le){if(isNaN(z)||isNaN(Z)||"string"!=typeof K)throw fs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!g.call(this)){var ce=J(this.ctx.transform.rotation);T.call(this,{text:K,x:z,y:Z,scale:this.ctx.transform.scaleX,angle:ce,align:this.textAlign,maxWidth:le})}},u.prototype.strokeText=function(K,z,Z,le){if(isNaN(z)||isNaN(Z)||"string"!=typeof K)throw fs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){le=isNaN(le)?void 0:le;var ce=J(this.ctx.transform.rotation);T.call(this,{text:K,x:z,y:Z,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:le})}},u.prototype.measureText=function(K){if("string"!=typeof K)throw fs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Z=this.pdf.internal.scaleFactor,le=z.internal.getFontSize(),ce=z.getStringUnitWidth(K)*le/z.internal.scaleFactor;return new function(re){var ie=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this}({width:ce*=Math.round(96*Z/72*1e4)/1e4})},u.prototype.scale=function(K,z){if(isNaN(K)||isNaN(z))throw fs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new a(K,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},u.prototype.rotate=function(K){if(isNaN(K))throw fs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new a(Math.cos(K),Math.sin(K),-Math.sin(K),Math.cos(K),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},u.prototype.translate=function(K,z){if(isNaN(K)||isNaN(z))throw fs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new a(1,0,0,1,K,z);this.ctx.transform=this.ctx.transform.multiply(Z)},u.prototype.transform=function(K,z,Z,le,ce,ge){if(isNaN(K)||isNaN(z)||isNaN(Z)||isNaN(le)||isNaN(ce)||isNaN(ge))throw fs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var re=new a(K,z,Z,le,ce,ge);this.ctx.transform=this.ctx.transform.multiply(re)},u.prototype.setTransform=function(K,z,Z,le,ce,ge){K=isNaN(K)?1:K,z=isNaN(z)?0:z,Z=isNaN(Z)?0:Z,le=isNaN(le)?1:le,ce=isNaN(ce)?0:ce,ge=isNaN(ge)?0:ge,this.ctx.transform=new a(K,z,Z,le,ce,ge)};var d=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(K,z,Z,le,ce,ge,re,ie,me){var be=this.pdf.getImageProperties(K),Ie=1,Ne=1,Ae=1,ee=1;void 0!==le&&void 0!==ie&&(Ae=ie/le,ee=me/ce,Ie=be.width/le*ie/le,Ne=be.height/ce*me/ce),void 0===ge&&(ge=z,re=Z,z=0,Z=0),void 0!==le&&void 0===ie&&(ie=le,me=ce),void 0===le&&void 0===ie&&(ie=be.width,me=be.height);for(var j,Te=this.ctx.transform.decompose(),Me=J(Te.rotate.shx),Oe=new a,Ge=(Oe=(Oe=(Oe=Oe.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new o(ge-z*Ae,re-Z*ee,le*Ie,ce*Ne)),oe=m.call(this,Ge),te=[],Ye=0;Ye<oe.length;Ye+=1)-1===te.indexOf(oe[Ye])&&te.push(oe[Ye]);if(C(te),this.autoPaging)for(var Ve=te[0],ut=te[te.length-1],it=Ve;it<ut+1;it++){this.pdf.setPage(it);var Jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Yt=1===it?this.posY+this.margin[0]:this.margin[0],Sn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=1===it?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(it-2)*Sn;if(0!==this.ctx.clip_path.length){var Dn=this.path;j=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(j,this.posX+this.margin[3],-ct+Yt+this.ctx.prevPageLastElemOffset),y.call(this,"fill",!0),this.path=Dn}var se=JSON.parse(JSON.stringify(Ge));se=I([se],this.posX+this.margin[3],-ct+Yt+this.ctx.prevPageLastElemOffset)[0];var P=(it>Ve||it<ut)&&d.call(this);P&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,Sn,null).clip().discardPath()),this.pdf.addImage(K,"JPEG",se.x,se.y,se.w,se.h,null,null,Me),P&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(K,"JPEG",Ge.x,Ge.y,Ge.w,Ge.h,null,null,Me)};var m=function(K,z,Z){var le=[];z=z||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(K.type){default:case"mt":case"lt":le.push(Math.floor((K.y+ce)/Z)+1);break;case"arc":le.push(Math.floor((K.y+ce-K.radius)/Z)+1),le.push(Math.floor((K.y+ce+K.radius)/Z)+1);break;case"qct":var ge=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,K.x1,K.y1,K.x,K.y);le.push(Math.floor((ge.y+ce)/Z)+1),le.push(Math.floor((ge.y+ge.h+ce)/Z)+1);break;case"bct":var re=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,K.x1,K.y1,K.x2,K.y2,K.x,K.y);le.push(Math.floor((re.y+ce)/Z)+1),le.push(Math.floor((re.y+re.h+ce)/Z)+1);break;case"rect":le.push(Math.floor((K.y+ce)/Z)+1),le.push(Math.floor((K.y+K.h+ce)/Z)+1)}for(var ie=0;ie<le.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<le[ie];)p.call(this);return le},p=function(){var K=this.fillStyle,z=this.strokeStyle,Z=this.font,le=this.lineCap,ce=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=K,this.strokeStyle=z,this.font=Z,this.lineCap=le,this.lineWidth=ce,this.lineJoin=ge},I=function(K,z,Z){for(var le=0;le<K.length;le++)switch(K[le].type){case"bct":K[le].x2+=z,K[le].y2+=Z;case"qct":K[le].x1+=z,K[le].y1+=Z;default:K[le].x+=z,K[le].y+=Z}return K},C=function(K){return K.sort(function(z,Z){return z-Z})},B=function(K,z){for(var Z,le,ce=this.fillStyle,ge=this.strokeStyle,re=this.lineCap,ie=this.lineWidth,me=Math.abs(ie*this.ctx.transform.scaleX),be=this.lineJoin,Ie=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),Ae=[],ee=0;ee<Ne.length;ee++)if(void 0!==Ne[ee].x)for(var j=m.call(this,Ne[ee]),Te=0;Te<j.length;Te+=1)-1===Ae.indexOf(j[Te])&&Ae.push(j[Te]);for(var Me=0;Me<Ae.length;Me++)for(;this.pdf.internal.getNumberOfPages()<Ae[Me];)p.call(this);if(C(Ae),this.autoPaging)for(var Oe=Ae[0],Ge=Ae[Ae.length-1],oe=Oe;oe<Ge+1;oe++){this.pdf.setPage(oe),this.fillStyle=ce,this.strokeStyle=ge,this.lineCap=re,this.lineWidth=me,this.lineJoin=be;var te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=1===oe?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=1===oe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(oe-2)*ut;if(0!==this.ctx.clip_path.length){var Jt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Z,this.posX+this.margin[3],-it+Ye+this.ctx.prevPageLastElemOffset),y.call(this,K,!0),this.path=Jt}if(le=JSON.parse(JSON.stringify(Ie)),this.path=I(le,this.posX+this.margin[3],-it+Ye+this.ctx.prevPageLastElemOffset),!1===z||0===oe){var Yt=(oe>Oe||oe<Ge)&&d.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],te,ut,null).clip().discardPath()),y.call(this,K,z),Yt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=me,y.call(this,K,z),this.lineWidth=ie;this.path=Ie},y=function(K,z){if(("stroke"!==K||z||!f.call(this))&&("stroke"===K||z||!g.call(this))){for(var Z,le,ce=[],ge=this.path,re=0;re<ge.length;re++){var ie=ge[re];switch(ie.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:ie,deltas:[],abs:[]});break;case"lt":var me=ce.length;if(ge[re-1]&&!isNaN(ge[re-1].x)&&(Z=[ie.x-ge[re-1].x,ie.y-ge[re-1].y],me>0))for(;me>=0;me--)if(!0!==ce[me-1].close&&!0!==ce[me-1].begin){ce[me-1].deltas.push(Z),ce[me-1].abs.push(ie);break}break;case"bct":ce[ce.length-1].deltas.push(Z=[ie.x1-ge[re-1].x,ie.y1-ge[re-1].y,ie.x2-ge[re-1].x,ie.y2-ge[re-1].y,ie.x-ge[re-1].x,ie.y-ge[re-1].y]);break;case"qct":ce[ce.length-1].deltas.push(Z=[ge[re-1].x+2/3*(ie.x1-ge[re-1].x)-ge[re-1].x,ge[re-1].y+2/3*(ie.y1-ge[re-1].y)-ge[re-1].y,ie.x+2/3*(ie.x1-ie.x)-ge[re-1].x,ie.y+2/3*(ie.y1-ie.y)-ge[re-1].y,ie.x-ge[re-1].x,ie.y-ge[re-1].y]);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(ie)}}le=z?null:"stroke"===K?"stroke":"fill";for(var Te=!1,Me=0;Me<ce.length;Me++)if(ce[Me].arc)for(var Oe=ce[Me].abs,Ge=0;Ge<Oe.length;Ge++){var oe=Oe[Ge];"arc"===oe.type?S.call(this,oe.x,oe.y,oe.radius,oe.startAngle,oe.endAngle,oe.counterclockwise,void 0,z,!Te):O.call(this,oe.x,oe.y),Te=!0}else!0===ce[Me].close?(this.pdf.internal.out("h"),Te=!1):!0!==ce[Me].begin&&(G.call(this,ce[Me].deltas,ce[Me].start.x,ce[Me].start.y),Te=!0);le&&w.call(this,le),z&&M.call(this)}},E=function(K){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return K-Z;case"top":return K+z-Z;case"hanging":return K+z-2*Z;case"middle":return K+z/2-Z;default:return K}},b=function(K){return K+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var K=function(){};return K.colorStops=[],K.addColorStop=function(z,Z){this.colorStops.push([z,Z])},K.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},K.isCanvasGradient=!0,K},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(K,z,Z,le,ce,ge,re,ie,me){for(var be=k.call(this,Z,le,ce,ge),Ie=0;Ie<be.length;Ie++){var Ne=be[Ie];0===Ie&&(me?D.call(this,Ne.x1+K,Ne.y1+z):O.call(this,Ne.x1+K,Ne.y1+z)),W.call(this,K,z,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}ie?M.call(this):w.call(this,re)},w=function(K){switch(K){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(K,z){this.pdf.internal.out(t(K)+" "+i(z)+" m")},T=function(K){var z;switch(K.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var Z=this.pdf.getTextDimensions(K.text),le=E.call(this,K.y),ce=b.call(this,le)-Z.h,ge=this.ctx.transform.applyToPoint(new s(K.x,le)),re=this.ctx.transform.decompose(),ie=new a;ie=(ie=(ie=ie.multiply(re.translate)).multiply(re.skew)).multiply(re.scale);for(var me,be,Ie,Ne=this.ctx.transform.applyToRectangle(new o(K.x,le,Z.w,Z.h)),Ae=ie.applyToRectangle(new o(K.x,ce,Z.w,Z.h)),ee=m.call(this,Ae),j=[],Te=0;Te<ee.length;Te+=1)-1===j.indexOf(ee[Te])&&j.push(ee[Te]);if(C(j),this.autoPaging)for(var Me=j[0],Oe=j[j.length-1],Ge=Me;Ge<Oe+1;Ge++){this.pdf.setPage(Ge);var oe=1===Ge?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.margin[2],Ve=Ye-this.margin[0],ut=this.pdf.internal.pageSize.width-this.margin[1],it=ut-this.margin[3],Jt=1===Ge?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ge-2)*Ve;if(0!==this.ctx.clip_path.length){var Yt=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(me,this.posX+this.margin[3],-1*Jt+oe),y.call(this,"fill",!0),this.path=Yt}var Ot=I([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-Jt+oe+this.ctx.prevPageLastElemOffset)[0];K.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*K.scale),this.lineWidth=(Ie=this.lineWidth)*K.scale);var Sn="text"!==this.autoPaging;if(Sn||Ot.y+Ot.h<=Ye){if(Sn||Ot.y>=oe&&Ot.x<=ut){var ct=Sn?K.text:this.pdf.splitTextToSize(K.text,K.maxWidth||ut-Ot.x)[0],Dn=I([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-Jt+oe+this.ctx.prevPageLastElemOffset)[0],se=Sn&&(Ge>Me||Ge<Oe)&&d.call(this);se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ve,null).clip().discardPath()),this.pdf.text(ct,Dn.x,Dn.y,{angle:K.angle,align:z,renderingMode:K.renderingMode}),se&&this.pdf.restoreGraphicsState()}}else Ot.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-Ot.y);K.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=Ie)}else K.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*K.scale),this.lineWidth=(Ie=this.lineWidth)*K.scale),this.pdf.text(K.text,ge.x+this.posX,ge.y+this.posY,{angle:K.angle,align:z,renderingMode:K.renderingMode,maxWidth:K.maxWidth}),K.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=Ie)},O=function(K,z,Z,le){le=le||0,this.pdf.internal.out(t(K+(Z=Z||0))+" "+i(z+le)+" l")},G=function(K,z,Z){return this.pdf.lines(K,z,Z,null,null)},W=function(K,z,Z,le,ce,ge,re,ie){this.pdf.internal.out([e(r(Z+K)),e(A(le+z)),e(r(ce+K)),e(A(ge+z)),e(r(re+K)),e(A(ie+z)),"c"].join(" "))},k=function(K,z,Z,le){for(var ce=2*Math.PI,ge=Math.PI/2;z>Z;)z-=ce;var re=Math.abs(Z-z);re<ce&&le&&(re=ce-re);for(var ie=[],me=le?-1:1,be=z;re>1e-5;){var Ie=be+me*Math.min(re,ge);ie.push(L.call(this,K,be,Ie)),re-=Math.abs(Ie-be),be=Ie}return ie},L=function(K,z,Z){var le=(Z-z)/2,ce=K*Math.cos(le),ge=K*Math.sin(le),re=ce,ie=-ge,me=re*re+ie*ie,be=me+re*ce+ie*ge,Ie=4/3*(Math.sqrt(2*me*be)-be)/(re*ge-ie*ce),Ne=re-Ie*ie,Ae=ie+Ie*re,ee=Ne,j=-Ae,Te=le+z,Me=Math.cos(Te),Oe=Math.sin(Te);return{x1:K*Math.cos(z),y1:K*Math.sin(z),x2:Ne*Me-Ae*Oe,y2:Ne*Oe+Ae*Me,x3:ee*Me-j*Oe,y3:ee*Oe+j*Me,x4:K*Math.cos(Z),y4:K*Math.sin(Z)}},J=function(K){return 180*K/Math.PI},H=function(K,z,Z,le,ce,ge){var re=K+.5*(Z-K),ie=z+.5*(le-z),me=ce+.5*(Z-ce),be=ge+.5*(le-ge),Ie=Math.min(K,ce,re,me),Ne=Math.max(K,ce,re,me),Ae=Math.min(z,ge,ie,be),ee=Math.max(z,ge,ie,be);return new o(Ie,Ae,Ne-Ie,ee-Ae)},ue=function(K,z,Z,le,ce,ge,re,ie){var me,be,Ie,Ne,Ae,ee,j,Te,Me,Oe,Ge,oe,te,Ye,Ve=Z-K,ut=le-z,it=ce-Z,Jt=ge-le,Yt=re-ce,Ot=ie-ge;for(be=0;be<41;be++)Me=(j=(Ie=K+(me=be/40)*Ve)+me*((Ae=Z+me*it)-Ie))+me*(Ae+me*(ce+me*Yt-Ae)-j),Oe=(Te=(Ne=z+me*ut)+me*((ee=le+me*Jt)-Ne))+me*(ee+me*(ge+me*Ot-ee)-Te),0==be?(Ge=Me,oe=Oe,te=Me,Ye=Oe):(Ge=Math.min(Ge,Me),oe=Math.min(oe,Oe),te=Math.max(te,Me),Ye=Math.max(Ye,Oe));return new o(Math.round(Ge),Math.round(oe),Math.round(te-Ge),Math.round(Ye-oe))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Z=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Mi.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(A){var s,o,a,c,l,u,h,g,f,d;for(/[^\x00-\xFF]/.test(A),o=[],a=0,c=(A+=s="\0\0\0\0".slice(A.length%4||4)).length;c>a;a+=4)0!==(l=(A.charCodeAt(a)<<24)+(A.charCodeAt(a+1)<<16)+(A.charCodeAt(a+2)<<8)+A.charCodeAt(a+3))?(u=(l=((l=((l=((l=(l-(d=l%85))/85)-(f=l%85))/85)-(g=l%85))/85)-(h=l%85))/85)%85,o.push(u+33,h+33,g+33,f+33,d+33)):o.push(122);return function(m,p){for(var I=p;I>0;I--)m.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},t=function(A){var s,o,a,c,l,u=String,h="length",g=255,f="charCodeAt",d="slice",m="replace";for(A[d](-2),A=A[d](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),a=[],c=0,l=(A+=s="uuuuu"[d](A[h]%5||5))[h];l>c;c+=5)o=52200625*(A[f](c)-33)+614125*(A[f](c+1)-33)+7225*(A[f](c+2)-33)+85*(A[f](c+3)-33)+(A[f](c+4)-33),a.push(g&o>>24,g&o>>16,g&o>>8,g&o);return function(p,I){for(var C=I;C>0;C--)p.pop()}(a,s[h]),u.fromCharCode.apply(u,a)},i=function(A){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(A=A.replace(/\s/g,"")).indexOf(">")&&(A=A.substr(0,A.indexOf(">"))),A.length%2&&(A+="0"),!1===s.test(A))return"";for(var o="",a=0;a<A.length;a+=2)o+=String.fromCharCode("0x"+(A[a]+A[a+1]));return o},r=function(A){for(var s=new Uint8Array(A.length),o=A.length;o--;)s[o]=A.charCodeAt(o);return(s=N1(s)).reduce(function(a,c){return a+String.fromCharCode(c)},"")};n.processDataByFilters=function(A,s){var o=0,a=A||"",c=[];for("string"==typeof(s=s||[])&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":a=t(a),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=e(a),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=i(a),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=r(a),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:a,reverseChain:c.reverse().join(" ")}}}(Mi.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.loadFile=function(e,t,i){return function(r,A,s){A=!1!==A,s="function"==typeof s?s:function(){};var o=void 0;try{o=function(a,c,l){var u=new XMLHttpRequest,h=0,g=function(f){var d=f.length,m=[],p=String.fromCharCode;for(h=0;h<d;h+=1)m.push(p(255&f.charCodeAt(h)));return m.join("")};if(u.open("GET",a,!c),u.overrideMimeType("text/plain; charset=x-user-defined"),!1===c&&(u.onload=function(){l(200===u.status?g(this.responseText):void 0)}),u.send(null),c&&200===u.status)return g(u.responseText)}(r,A,s)}catch{}return o}(e,t,i)},n.loadImageFile=n.loadFile}(Mi.API),function(n){function e(){return(Ri.html2canvas?Promise.resolve(Ri.html2canvas):Promise.resolve().then(De.t.bind(De,6990,23))).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(Ri.DOMPurify?Promise.resolve(Ri.DOMPurify):De.e(890).then(De.t.bind(De,9890,23))).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var i=function(s){var o=(0,hs.A)(s);return"undefined"===o?"undefined":"string"===o||s instanceof String?"string":"number"===o||s instanceof Number?"number":"function"===o||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&1===s.nodeType?"element":"object"===o?"object":"unknown"},r=function(s,o){var a=document.createElement(s);for(var c in o.className&&(a.className=o.className),o.innerHTML&&o.dompurify&&(a.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)a.style[c]=o.style[c];return a},A=function s(o){var a=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),a);return(c=c.setProgress(1,s,1,[s])).set(o)};(A.prototype=Object.create(Promise.prototype)).constructor=A,A.convert=function(s,o){return s.__proto__=o||A.prototype,s},A.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},A.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(a){switch(i(a)){case"string":return"string";case"element":return"canvas"===a.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(a){return this.set({src:r("div",{innerHTML:s,dompurify:a})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},A.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},A.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function a(c,l){for(var u=3===c.nodeType?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)!0!==l&&1===h.nodeType&&"SCRIPT"===h.nodeName||u.appendChild(a(h,l));return 1===c.nodeType&&("CANVAS"===c.nodeName?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):"TEXTAREA"!==c.nodeName&&"SELECT"!==c.nodeName||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===o.tagName&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},A.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(o){var a=Object.assign({},this.opt.html2canvas);return delete a.onrendered,o(this.prop.container,a)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},A.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(o){var a=this.opt.jsPDF,c=this.opt.fontFaces,l="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:l,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,a.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,a.context2d.posX=this.opt.x,a.context2d.posY=this.opt.y,a.context2d.margin=this.opt.margin,a.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var g=c[h],f=g.src.find(function(d){return"truetype"===d.format});f&&a.addFont(f.url,g.ref.name,g.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=0==u.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,a.context2d.save(!0),o(this.prop.container,u)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},A.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},A.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},A.prototype.output=function(s,o,a){return"img"===(a=a||"pdf").toLowerCase()||"image"===a.toLowerCase()?this.outputImg(s,o):this.outputPdf(s,o)},A.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},A.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},A.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},A.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},A.prototype.set=function(s){if("object"!==i(s))return this;var o=Object.keys(s||{}).map(function(a){if(a in A.template.prop)return function(){this.prop[a]=s[a]};switch(a){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[a]=s[a]}}},this);return this.then(function(){return this.thenList(o)})},A.prototype.get=function(s,o){return this.then(function(){var a=s in A.template.prop?this.prop[s]:this.opt[s];return o?o(a):a})},A.prototype.setMargin=function(s){return this.then(function(){switch(i(s)){case"number":s=[s,s,s,s];case"array":if(2===s.length&&(s=[s[0],s[1],s[0],s[1]]),4===s.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},A.prototype.setPageSize=function(s){function o(a,c){return Math.floor(a*c/72*96)}return this.then(function(){(s=s||Mi.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},A.prototype.setProgress=function(s,o,a,c){return null!=s&&(this.progress.val=s),null!=o&&(this.progress.state=o),null!=a&&(this.progress.n=a),null!=c&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},A.prototype.updateProgress=function(s,o,a,c){return this.setProgress(s?this.progress.val+s:null,o||null,a?this.progress.n+a:null,c?this.progress.stack.concat(c):null)},A.prototype.then=function(s,o){var a=this;return this.thenCore(s,o,function(c,l){return a.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(u){return a.updateProgress(null,c),u}).then(c,l).then(function(u){return a.updateProgress(1),u})})},A.prototype.thenCore=function(s,o,a){a=a||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:A.convert(Object.assign({},this),Promise.prototype),l=a.call(c,s,o);return A.convert(l,this.__proto__)},A.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},A.prototype.thenList=function(s){var o=this;return s.forEach(function(a){o=o.thenCore(a)}),o},A.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return A.convert(o,this)},A.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},A.prototype.error=function(s){return this.then(function(){throw new Error(s)})},A.prototype.using=A.prototype.set,A.prototype.saveAs=A.prototype.save,A.prototype.export=A.prototype.output,A.prototype.run=A.prototype.then,Mi.getPageSize=function(s,o,a){if("object"===(0,hs.A)(s)){var c=s;s=c.orientation,o=c.unit||o,a=c.format||a}o=o||"mm",a=a||"a4",s=(""+(s||"P")).toLowerCase();var l,u=(""+a).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":l=1;break;case"mm":l=72/25.4;break;case"cm":l=72/2.54;break;case"in":l=72;break;case"px":l=.75;break;case"pc":case"em":l=12;break;case"ex":l=6;break;default:throw"Invalid unit: "+o}var g,f=0,d=0;if(h.hasOwnProperty(u))f=h[u][1]/l,d=h[u][0]/l;else try{f=a[1],d=a[0]}catch{throw new Error("Invalid format: "+a)}if("p"===s||"portrait"===s)s="p",d>f&&(g=d,d=f,f=g);else{if("l"!==s&&"landscape"!==s)throw"Invalid orientation: "+s;s="l",f>d&&(g=d,d=f,f=g)}return{width:d,height:f,unit:o,k:l,orientation:s}},n.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(p4):null;var a=new A(o);return o.worker?a:a.from(s).doCallback()}}(Mi.API),Mi.API.addJS=function(n){return Tte=n,this.internal.events.subscribe("postPutResources",function(){K2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(K2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Rte=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Tte+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==K2&&void 0!==Rte&&this.internal.out("/Names <</JavaScript "+K2+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),A=0;A<r.length;A++){var s=r[A],o=i.exec(s);null!=o&&t.internal.newObjectDeferredBegin(o[1],!1),t.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,l=[];for(A=0;A<c;A++){var u=t.internal.newObject();l.push(u);var h=t.internal.getPageInfo(A+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),A=0;A<l.length;A++)t.internal.write("(page_"+(A+1)+")"+l[A]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,A){var s={title:r,options:A,children:[]};return null==i&&(i=this.root),i.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,A=0;A<i.children.length;A++){var s=i.children[A];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),A>0&&this.line("/Prev "+this.makeRef(i.children[A-1])),A<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[A+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var a=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},t.outline.line=function(i){this.ctx.val+=i+"\r\n"},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+="\r\n"+i.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(i,r){for(var A=0;A<r.children.length;A++)i.count++,this.count_r(i,r.children[A]);return i.count}}])}(Mi.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,r,A,s,o){var a,c=this.decode.DCT_DECODE,l=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=s||t)?new Uint8Array(t):t,(a=function(u){for(var h,g=256*u.charCodeAt(4)+u.charCodeAt(5),f=u.length,d={width:0,height:0,numcomponents:1},m=4;m<f;m+=2){if(-1!==e.indexOf(u.charCodeAt((m+=g)+1))){h=256*u.charCodeAt(m+5)+u.charCodeAt(m+6),d={width:256*u.charCodeAt(m+7)+u.charCodeAt(m+8),height:h,numcomponents:u.charCodeAt(m+9)};break}g=256*u.charCodeAt(m+2)+u.charCodeAt(m+3)}return d}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}l={data:t,width:a.width,height:a.height,colorSpace:o,bitsPerComponent:8,filter:c,index:i,alias:r}}return l}}(Mi.API);var Kv,q2,kte,Lte,Ute,xLe=function(){var n,e,t;function i(A){var s,a,c,l,u,h,g,f,d,m,p,I,C;for(this.data=A,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},u=null;;){switch(s=this.readUInt32(),f=function(){var B,y;for(y=[],B=0;B<4;++B)y.push(String.fromCharCode(this.data[this.pos++]));return y}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":u&&this.animation.frames.push(u),this.pos+=4,u={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},l=this.readUInt16(),c=this.readUInt16()||100,u.delay=1e3*l/c,u.disposeOp=this.data[this.pos++],u.blendOp=this.data[this.pos++],u.data=[];break;case"IDAT":case"fdAT":for("fdAT"===f&&(this.pos+=4,s-=4),A=u?.data||this.imgData,p=0;0<=s?p<s:p>s;0<=s?++p:--p)A.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(a=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>a)throw new Error("More transparent colors than palette size");if((d=a-this.transparency.indexed.length)>0)for(I=0;0<=d?I<d:I>d;0<=d?++I:--I)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(m=this.read(s)).indexOf(0),g=String.fromCharCode.apply(String,m.slice(0,h)),this.text[g]=String.fromCharCode.apply(String,m.slice(h+1));break;case"IEND":return u&&this.animation.frames.push(u),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(C=this.colorType)||6===C,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(A){var s,o;for(o=[],s=0;0<=A?s<A:s>A;0<=A?++s:--s)o.push(this.data[this.pos++]);return o},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(A){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),a=0,c=this;if(null==A&&(A=this.imgData),0===A.length)return new Uint8Array(0);function l(u,h,g,f){var d,m,p,I,C,B,y,E,S,w,M,D,T,O,G,W,k,L,J,H,ue=Math.ceil((c.width-u)/g),ye=Math.ceil((c.height-h)/f),K=c.width==ue&&c.height==ye;for(T=s*ue,M=K?o:new Uint8Array(T*ye),B=A.length,D=0,m=0;D<ye&&a<B;){switch(A[a++]){case 0:for(I=W=0;W<T;I=W+=1)M[m++]=A[a++];break;case 1:for(I=k=0;k<T;I=k+=1)d=A[a++],C=I<s?0:M[m-s],M[m++]=(d+C)%256;break;case 2:for(I=L=0;L<T;I=L+=1)d=A[a++],p=(I-I%s)/s,M[m++]=((O=D&&M[(D-1)*T+p*s+I%s])+d)%256;break;case 3:for(I=J=0;J<T;I=J+=1)d=A[a++],p=(I-I%s)/s,C=I<s?0:M[m-s],O=D&&M[(D-1)*T+p*s+I%s],M[m++]=(d+Math.floor((C+O)/2))%256;break;case 4:for(I=H=0;H<T;I=H+=1)d=A[a++],p=(I-I%s)/s,0===D?O=G=0:(O=M[(D-1)*T+p*s+I%s],G=p&&M[(D-1)*T+(p-1)*s+I%s]),y=(C=I<s?0:M[m-s])+O-G,E=Math.abs(y-C),S=Math.abs(y-O),w=Math.abs(y-G),M[m++]=(d+(E<=S&&E<=w?C:S<=w?O:G))%256;break;default:throw new Error("Invalid filter algorithm: "+A[a-1])}if(!K){var z=((h+D*f)*c.width+u)*s,Z=D*T;for(I=0;I<ue;I+=1){for(var le=0;le<s;le+=1)o[z++]=M[Z++];z+=(g-1)*s}}D++}}return A=N2(A),1==c.interlaceMethod?(l(0,0,8,8),l(4,0,8,8),l(0,4,4,8),l(2,0,4,4),l(0,2,2,4),l(1,0,2,2),l(0,1,1,2)):l(0,0,1,1),o},i.prototype.decodePalette=function(){var A,s,o,a,c,l,u,h,g;for(o=this.palette,l=this.transparency.indexed||[],c=new Uint8Array((l.length||0)+o.length),a=0,A=0,s=u=0,h=o.length;u<h;s=u+=3)c[a++]=o[s],c[a++]=o[s+1],c[a++]=o[s+2],c[a++]=null!=(g=l[A++])?g:255;return c},i.prototype.copyToImageData=function(A,s){var o,a,c,l,u,h,g,f,d,m,p;if(a=this.colors,d=null,o=this.hasAlphaChannel,this.palette.length&&(d=null!=(p=this._decodedPalette)?p:this._decodedPalette=this.decodePalette(),a=4,o=!0),f=(c=A.data||A).length,u=d||s,l=h=0,1===a)for(;l<f;)g=d?4*s[l/4]:h,m=u[g++],c[l++]=m,c[l++]=m,c[l++]=m,c[l++]=o?u[g++]:255,h=g;else for(;l<f;)g=d?4*s[l/4]:h,c[l++]=u[g++],c[l++]=u[g++],c[l++]=u[g++],c[l++]=o?u[g++]:255,h=g},i.prototype.decode=function(){var A;return A=new Uint8Array(this.width*this.height*4),this.copyToImageData(A,this.decodePixels()),A};var r=function(){if("[object Window]"===Object.prototype.toString.call(Ri)){try{e=Ri.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(A){var s;if(!0===r())return t.width=A.width,t.height=A.height,t.clearRect(0,0,A.width,A.height),t.putImageData(A,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(A){var s,o,a,c,l,u,h,g;if(this.animation){for(g=[],o=l=0,u=(h=this.animation.frames).length;l<u;o=++l)a=A.createImageData((s=h[o]).width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(a,c),s.imageData=a,g.push(s.image=n(a));return g}},i.prototype.renderFrame=function(A,s){var o,a,c;return o=(a=this.animation.frames)[s],c=a[s-1],0===s&&A.clearRect(0,0,this.width,this.height),1===c?.disposeOp?A.clearRect(c.xOffset,c.yOffset,c.width,c.height):2===c?.disposeOp&&A.putImageData(c.imageData,c.xOffset,c.yOffset),0===o.blendOp&&A.clearRect(o.xOffset,o.yOffset,o.width,o.height),A.drawImage(o.image,o.xOffset,o.yOffset)},i.prototype.animate=function(A){var s,o,a,c,l,u,h=this;return o=0,c=(u=this.animation).numFrames,a=u.frames,l=u.numPlays,(s=function(){var g,f;if(g=o++%c,f=a[g],h.renderFrame(A,g),c>1&&o/c<l)return h.animation._timeout=setTimeout(s,f.delay)})()},i.prototype.stopAnimation=function(){var A;return clearTimeout(null!=(A=this.animation)?A._timeout:void 0)},i.prototype.render=function(A){var s,o;return A._png&&A._png.stopAnimation(),A._png=this,A.width=this.width,A.height=this.height,s=A.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},i}();function FLe(n){var e=0;if(71!==n[e++]||73!==n[e++]||70!==n[e++]||56!==n[e++]||56!=(n[e++]+1&253)||97!==n[e++])throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,r=n[e++],s=1<<1+(7&r);e++,e++;var o=null,a=null;r>>7&&(o=e,a=s,e+=3*s);var c=!0,l=[],u=0,h=null,g=0,f=null;for(this.width=t,this.height=i;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(11!==n[e]||78==n[e+1]&&69==n[e+2]&&84==n[e+3]&&83==n[e+4]&&67==n[e+5]&&65==n[e+6]&&80==n[e+7]&&69==n[e+8]&&50==n[e+9]&&46==n[e+10]&&48==n[e+11]&&3==n[e+12]&&1==n[e+13]&&0==n[e+16])e+=14,f=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((D=n[e++])>=0))throw Error("Invalid block size");if(0===D)break;e+=D}break;case 249:if(4!==n[e++]||0!==n[e+4])throw new Error("Invalid graphics extension block.");var d=n[e++];u=n[e++]|n[e++]<<8,h=n[e++],!(1&d)&&(h=null),g=d>>2&7,e++;break;case 254:for(;;){if(!((D=n[e++])>=0))throw Error("Invalid block size");if(0===D)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var m=n[e++]|n[e++]<<8,p=n[e++]|n[e++]<<8,I=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,B=n[e++],y=B>>6&1,E=1<<1+(7&B),b=o,S=a,w=!1;B>>7&&(w=!0,b=e,S=E,e+=3*E);var M=e;for(e++;;){var D;if(!((D=n[e++])>=0))throw Error("Invalid block size");if(0===D)break;e+=D}l.push({x:m,y:p,width:I,height:C,has_local_palette:w,palette_offset:b,palette_size:S,data_offset:M,data_length:e-M,transparent_index:h,interlaced:!!y,delay:u,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return f},this.frameInfo=function(T){if(T<0||T>=l.length)throw new Error("Frame index out of range.");return l[T]},this.decodeAndBlitFrameBGRA=function(T,O){var G=this.frameInfo(T),W=G.width*G.height,k=new Uint8Array(W);Ote(n,G.data_offset,k,W);var L=G.palette_offset,J=G.transparent_index;null===J&&(J=256);var H=G.width,ue=t-H,ye=H,K=4*(G.y*t+G.x),z=4*((G.y+G.height)*t+G.x),Z=K,le=4*ue;!0===G.interlaced&&(le+=4*t*7);for(var ce=8,ge=0,re=k.length;ge<re;++ge){var ie=k[ge];if(0===ye&&(ye=H,(Z+=le)>=z&&(le=4*ue+4*t*(ce-1),Z=K+(H+ue)*(ce<<1),ce>>=1)),ie===J)Z+=4;else{var me=n[L+3*ie],be=n[L+3*ie+1];O[Z++]=n[L+3*ie+2],O[Z++]=be,O[Z++]=me,O[Z++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(T,O){var G=this.frameInfo(T),W=G.width*G.height,k=new Uint8Array(W);Ote(n,G.data_offset,k,W);var L=G.palette_offset,J=G.transparent_index;null===J&&(J=256);var H=G.width,ue=t-H,ye=H,K=4*(G.y*t+G.x),z=4*((G.y+G.height)*t+G.x),Z=K,le=4*ue;!0===G.interlaced&&(le+=4*t*7);for(var ce=8,ge=0,re=k.length;ge<re;++ge){var ie=k[ge];if(0===ye&&(ye=H,(Z+=le)>=z&&(le=4*ue+4*t*(ce-1),Z=K+(H+ue)*(ce<<1),ce>>=1)),ie===J)Z+=4;else{var be=n[L+3*ie+1],Ie=n[L+3*ie+2];O[Z++]=n[L+3*ie],O[Z++]=be,O[Z++]=Ie,O[Z++]=255}--ye}}}function Ote(n,e,t,i){for(var r=n[e++],A=1<<r,s=A+1,o=s+1,a=r+1,c=(1<<a)-1,l=0,u=0,h=0,g=n[e++],f=new Int32Array(4096),d=null;;){for(;l<16&&0!==g;)u|=n[e++]<<l,l+=8,1===g?g=n[e++]:--g;if(l<a)break;var m=u&c;if(u>>=a,l-=a,m!==A){if(m===s)break;for(var p=m<o?m:d,I=0,C=p;C>A;)C=f[C]>>8,++I;var B=C;if(h+I+(p!==m?1:0)>i)return void fs.log("Warning, gif stream longer than expected.");t[h++]=B;var y=h+=I;for(p!==m&&(t[h++]=B),C=p;I--;)t[--y]=255&(C=f[C]),C>>=8;null!==d&&o<4096&&(f[o++]=d<<8|B,o>=c+1&&a<12&&(++a,c=c<<1|1)),d=m}else o=s+1,c=(1<<(a=r+1))-1,d=null}return h!==i&&fs.log("Warning, gif stream shorter than expected."),t}function C4(n){var e,t,i,r,A,s=Math.floor,o=new Array(64),a=new Array(64),c=new Array(64),l=new Array(64),u=new Array(65535),h=new Array(65535),g=new Array(64),f=new Array(64),d=[],m=0,p=7,I=new Array(64),C=new Array(64),B=new Array(64),y=new Array(256),E=new Array(2048),b=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],w=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function k(K,z){for(var Z=0,le=0,ce=new Array,ge=1;ge<=16;ge++){for(var re=1;re<=K[ge];re++)ce[z[le]]=[],ce[z[le]][0]=Z,ce[z[le]][1]=ge,le++,Z++;Z*=2}return ce}function L(K){for(var z=K[0],Z=K[1]-1;Z>=0;)z&1<<Z&&(m|=1<<p),Z--,--p<0&&(255==m?(J(255),J(0)):J(m),p=7,m=0)}function J(K){d.push(K)}function H(K){J(K>>8&255),J(255&K)}function ue(K,z,Z,le,ce){for(var ge,re=ce[0],ie=ce[240],me=function(Oe,Ge){var oe,te,Ye,Ve,ut,it,Jt,Yt,Ot,Sn,ct=0;for(Ot=0;Ot<8;++Ot){var Dn=(oe=Oe[ct])+(Yt=Oe[ct+7]),se=oe-Yt,P=(te=Oe[ct+1])+(Jt=Oe[ct+6]),V=te-Jt,F=(Ye=Oe[ct+2])+(it=Oe[ct+5]),$=Ye-it,we=(Ve=Oe[ct+3])+(ut=Oe[ct+4]),Ee=Ve-ut,Ct=Dn+we,rt=Dn-we,Nt=P+F,In=P-F;Oe[ct]=Ct+Nt,Oe[ct+4]=Ct-Nt;var jt=.707106781*(In+rt);Oe[ct+2]=rt+jt,Oe[ct+6]=rt-jt;var Rn=.382683433*((Ct=Ee+$)-(In=V+se)),iA=.5411961*Ct+Rn,Sr=1.306562965*In+Rn,sr=.707106781*(Nt=$+V),Hs=se+sr,ii=se-sr;Oe[ct+5]=ii+iA,Oe[ct+3]=ii-iA,Oe[ct+1]=Hs+Sr,Oe[ct+7]=Hs-Sr,ct+=8}for(ct=0,Ot=0;Ot<8;++Ot){var Fa=(oe=Oe[ct])+(Yt=Oe[ct+56]),kc=oe-Yt,Ys=(te=Oe[ct+8])+(Jt=Oe[ct+48]),Xs=te-Jt,$s=(Ye=Oe[ct+16])+(it=Oe[ct+40]),Lc=Ye-it,Gh=(Ve=Oe[ct+24])+(ut=Oe[ct+32]),Ng=Ve-ut,Uc=Fa+Gh,tu=Fa-Gh,nu=Ys+$s,xg=Ys-$s;Oe[ct]=Uc+nu,Oe[ct+32]=Uc-nu;var iu=.707106781*(xg+tu);Oe[ct+16]=tu+iu,Oe[ct+48]=tu-iu;var Fg=.382683433*((Uc=Ng+Lc)-(xg=Xs+kc)),gp=.5411961*Uc+Fg,hC=1.306562965*xg+Fg,Se=.707106781*(nu=Lc+Xs),at=kc+Se,wt=kc-Se;Oe[ct+40]=wt+gp,Oe[ct+24]=wt-gp,Oe[ct+8]=at+hC,Oe[ct+56]=at-hC,ct++}for(Ot=0;Ot<64;++Ot)g[Ot]=(Sn=Oe[Ot]*Ge[Ot])>0?Sn+.5|0:Sn-.5|0;return g}(K,z),be=0;be<64;++be)f[b[be]]=me[be];var Ie=f[0]-Z;Z=f[0],0==Ie?L(le[0]):(L(le[h[ge=32767+Ie]]),L(u[ge]));for(var Ne=63;Ne>0&&0==f[Ne];)Ne--;if(0==Ne)return L(re),Z;for(var Ae,ee=1;ee<=Ne;){for(var j=ee;0==f[ee]&&ee<=Ne;)++ee;var Te=ee-j;if(Te>=16){Ae=Te>>4;for(var Me=1;Me<=Ae;++Me)L(ie);Te&=15}L(ce[(Te<<4)+h[ge=32767+f[ee]]]),L(u[ge]),ee++}return 63!=Ne&&L(re),Z}function ye(K){K=Math.min(Math.max(K,1),100),A!=K&&(function(z){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ce=s((Z[le]*z+50)/100);ce=Math.min(Math.max(ce,1),255),o[b[le]]=ce}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],re=0;re<64;re++){var ie=s((ge[re]*z+50)/100);ie=Math.min(Math.max(ie,1),255),a[b[re]]=ie}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,Ie=0;Ie<8;Ie++)for(var Ne=0;Ne<8;Ne++)c[be]=1/(o[b[be]]*me[Ie]*me[Ne]*8),l[be]=1/(a[b[be]]*me[Ie]*me[Ne]*8),be++}(K<50?Math.floor(5e3/K):Math.floor(200-2*K)),A=K)}this.encode=function(K,z){var te,Ye;z&&ye(z),d=new Array,m=0,p=7,H(65496),H(65504),H(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),H(1),H(1),J(0),J(0),function(){H(65499),H(132),J(0);for(var te=0;te<64;te++)J(o[te]);J(1);for(var Ye=0;Ye<64;Ye++)J(a[Ye])}(),te=K.width,Ye=K.height,H(65472),H(17),J(8),H(Ye),H(te),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1),function(){H(65476),H(418),J(0);for(var te=0;te<16;te++)J(S[te+1]);for(var Ye=0;Ye<=11;Ye++)J(w[Ye]);J(16);for(var Ve=0;Ve<16;Ve++)J(M[Ve+1]);for(var ut=0;ut<=161;ut++)J(D[ut]);J(1);for(var it=0;it<16;it++)J(T[it+1]);for(var Jt=0;Jt<=11;Jt++)J(O[Jt]);J(17);for(var Yt=0;Yt<16;Yt++)J(G[Yt+1]);for(var Ot=0;Ot<=161;Ot++)J(W[Ot])}(),H(65498),H(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var Z=0,le=0,ce=0;m=0,p=7,this.encode.displayName="_encode_";for(var ge,re,ie,me,be,Ie,Ne,Ae,ee,j=K.data,Me=K.height,Oe=4*K.width,Ge=0;Ge<Me;){for(ge=0;ge<Oe;){for(be=Oe*Ge+ge,Ne=-1,Ae=0,ee=0;ee<64;ee++)Ie=be+(Ae=ee>>3)*Oe+(Ne=4*(7&ee)),Ge+Ae>=Me&&(Ie-=Oe*(Ge+1+Ae-Me)),ge+Ne>=Oe&&(Ie-=ge+Ne-Oe+4),re=j[Ie++],ie=j[Ie++],me=j[Ie++],I[ee]=(E[re]+E[ie+256|0]+E[me+512|0]>>16)-128,C[ee]=(E[re+768|0]+E[ie+1024|0]+E[me+1280|0]>>16)-128,B[ee]=(E[re+1280|0]+E[ie+1536|0]+E[me+1792|0]>>16)-128;Z=ue(I,c,Z,e,i),le=ue(C,l,le,t,r),ce=ue(B,l,ce,t,r),ge+=32}Ge+=8}if(p>=0){var oe=[];oe[1]=p+1,oe[0]=(1<<p+1)-1,L(oe)}return H(65497),new Uint8Array(d)},n=n||50,function(){for(var K=String.fromCharCode,z=0;z<256;z++)y[z]=K(z)}(),e=k(S,w),t=k(T,O),i=k(M,D),r=k(G,W),function(){for(var K=1,z=2,Z=1;Z<=15;Z++){for(var le=K;le<z;le++)h[32767+le]=Z,u[32767+le]=[],u[32767+le][1]=Z,u[32767+le][0]=le;for(var ce=-(z-1);ce<=-K;ce++)h[32767+ce]=Z,u[32767+ce]=[],u[32767+ce][1]=Z,u[32767+ce][0]=z-1+ce;K<<=1,z<<=1}}(),function(){for(var K=0;K<256;K++)E[K]=19595*K,E[K+256|0]=38470*K,E[K+512|0]=7471*K+32768,E[K+768|0]=-11059*K,E[K+1024|0]=-21709*K,E[K+1280|0]=32768*K+8421375,E[K+1536|0]=-27439*K,E[K+1792|0]=-5329*K}(),ye(n)}function Qh(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Gte(n){function e(S){if(!S)throw Error("assert :P")}function t(S,w,M){for(var D=0;4>D;D++)if(S[w+D]!=M.charCodeAt(D))return!0;return!1}function i(S,w,M,D,T){for(var O=0;O<T;O++)S[w+O]=M[D+O]}function r(S,w,M,D){for(var T=0;T<D;T++)S[w+T]=M}function A(S){return new Int32Array(S)}function s(S,w){for(var M=[],D=0;D<S;D++)M.push(new w);return M}function o(S,w){var M=[];return function D(T,O,G){for(var W=G[O],k=0;k<W&&(T.push(G.length>O+1?[]:new w),!(G.length<O+1));k++)D(T[k],O+1,G)}(M,0,S),M}var a=function(){var S=this;function w(v,R){for(var Y=1<<R-1>>>0;v&Y;)Y>>>=1;return Y?(v&Y-1)+Y:v}function M(v,R,Y,X,fe){e(!(X%Y));do{v[R+(X-=Y)]=fe}while(0<X)}function D(v,R,Y,X,fe){if(e(2328>=fe),512>=fe)var Ce=A(512);else if(null==(Ce=A(fe)))return 0;return function(Be,ve,_e,Le,tt,Et){var vt,lt,sn=ve,Rt=1<<_e,nt=A(16),At=A(16);for(e(0!=tt),e(null!=Le),e(null!=Be),e(0<_e),lt=0;lt<tt;++lt){if(15<Le[lt])return 0;++nt[Le[lt]]}if(nt[0]==tt)return 0;for(At[1]=0,vt=1;15>vt;++vt){if(nt[vt]>1<<vt)return 0;At[vt+1]=At[vt]+nt[vt]}for(lt=0;lt<tt;++lt)vt=Le[lt],0<Le[lt]&&(Et[At[vt]++]=lt);if(1==At[15])return(Le=new T).g=0,Le.value=Et[0],M(Be,sn,1,Rt,Le),Rt;var en,un=-1,An=Rt-1,Vn=0,On=1,yi=1,Hn=1<<_e;for(lt=0,vt=1,tt=2;vt<=_e;++vt,tt<<=1){if(On+=yi<<=1,0>(yi-=nt[vt]))return 0;for(;0<nt[vt];--nt[vt])(Le=new T).g=vt,Le.value=Et[lt++],M(Be,sn+Vn,tt,Hn,Le),Vn=w(Vn,vt)}for(vt=_e+1,tt=2;15>=vt;++vt,tt<<=1){if(On+=yi<<=1,0>(yi-=nt[vt]))return 0;for(;0<nt[vt];--nt[vt]){if(Le=new T,(Vn&An)!=un){for(sn+=Hn,en=1<<(un=vt)-_e;15>un&&!(0>=(en-=nt[un]));)++un,en<<=1;Rt+=Hn=1<<(en=un-_e),Be[ve+(un=Vn&An)].g=en+_e,Be[ve+un].value=sn-ve-un}Le.g=vt-_e,Le.value=Et[lt++],M(Be,sn+(Vn>>_e),tt,Hn,Le),Vn=w(Vn,vt)}}return On!=2*At[15]-1?0:Rt}(v,R,Y,X,fe,Ce)}function T(){this.value=this.g=0}function O(){this.value=this.g=0}function G(){this.G=s(5,T),this.H=A(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(oc,O)}function W(v,R,Y,X){e(null!=v),e(null!=R),e(2147483648>X),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=R,v.pa=Y,v.Jd=R,v.Yc=Y+X,v.Zc=4<=X?Y+X-4+1:Y,ge(v)}function k(v,R){for(var Y=0;0<R--;)Y|=ie(v,128)<<R;return Y}function L(v,R){var Y=k(v,R);return re(v)?-Y:Y}function J(v,R,Y,X){var fe,Ce=0;for(e(null!=v),e(null!=R),e(4294967288>X),v.Sb=X,v.Ra=0,v.u=0,v.h=0,4<X&&(X=4),fe=0;fe<X;++fe)Ce+=R[Y+fe]<<8*fe;v.Ra=Ce,v.bb=X,v.oa=R,v.pa=Y}function H(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<tQ-8>>>0,++v.bb,v.u-=8;Z(v)&&(v.h=1,v.u=0)}function ue(v,R){if(e(0<=R),!v.h&&R<=eQ){var Y=z(v)&$y[R];return v.u+=R,H(v),Y}return v.h=1,v.u=0}function ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(v){return v.Ra>>>(v.u&tQ-1)>>>0}function Z(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>tQ}function le(v,R){v.u=R,v.h=Z(v)}function ce(v){v.u>=jD&&(e(v.u>=jD),H(v))}function ge(v){e(null!=v&&null!=v.oa),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(null!=v&&null!=v.oa),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function re(v){return k(v,1)}function ie(v,R){var Y=v.Ca;0>v.b&&ge(v);var X=v.b,fe=Y*R>>>8,Ce=(v.I>>>X>fe)+0;for(Ce?(Y-=fe,v.I-=fe+1<<X>>>0):Y=fe+1,X=Y,fe=0;256<=X;)fe+=8,X>>=8;return v.b-=X=7^fe+ru[X],v.Ca=(Y<<X)-1,Ce}function me(v,R,Y){v[R+0]=Y>>24&255,v[R+1]=Y>>16&255,v[R+2]=Y>>8&255,v[R+3]=255&Y}function be(v,R){return v[R+0]|v[R+1]<<8}function Ie(v,R){return be(v,R)|v[R+2]<<16}function Ne(v,R){return be(v,R)|be(v,R+2)<<16}function Ae(v,R){var Y=1<<R;return e(null!=v),e(0<R),v.X=A(Y),null==v.X?0:(v.Mb=32-R,v.Xa=R,1)}function ee(v,R){e(null!=v),e(null!=R),e(v.Xa==R.Xa),i(R.X,0,v.X,0,1<<R.Xa)}function j(){this.X=[],this.Xa=this.Mb=0}function Te(v,R,Y,X){e(null!=Y),e(null!=X);var fe=Y[0],Ce=X[0];return 0==fe&&(fe=(v*Ce+R/2)/R),0==Ce&&(Ce=(R*fe+v/2)/v),0>=fe||0>=Ce?0:(Y[0]=fe,X[0]=Ce,1)}function Me(v,R){return v+(1<<R)-1>>>R}function Oe(v,R){return((4278255360&v)+(4278255360&R)>>>0&4278255360)+((16711935&v)+(16711935&R)>>>0&16711935)>>>0}function Ge(v,R){S[R]=function(Y,X,fe,Ce,Be,ve,_e){var Le;for(Le=0;Le<Be;++Le){var tt=S[v](ve[_e+Le-1],fe,Ce+Le);ve[_e+Le]=Oe(Y[X+Le],tt)}}}function oe(){this.ud=this.hd=this.jd=0}function te(v,R){return((4278124286&(v^R))>>>1)+(v&R)>>>0}function Ye(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Ve(v,R){return Ye(v+(v-R+.5>>1))}function ut(v,R,Y){return Math.abs(R-Y)-Math.abs(v-Y)}function it(v,R,Y,X,fe,Ce,Be){for(X=Ce[Be-1],Y=0;Y<fe;++Y)Ce[Be+Y]=X=Oe(v[R+Y],X)}function Jt(v,R,Y,X,fe){var Ce;for(Ce=0;Ce<Y;++Ce){var Be=v[R+Ce],ve=Be>>8&255,_e=16711935&(_e=(_e=16711935&Be)+((ve<<16)+ve));X[fe+Ce]=(4278255360&Be)+_e>>>0}}function Yt(v,R){R.jd=255&v,R.hd=v>>8&255,R.ud=v>>16&255}function Ot(v,R,Y,X,fe,Ce){var Be;for(Be=0;Be<X;++Be){var ve=R[Y+Be],_e=ve>>>8,Le=ve,tt=255&(tt=(tt=ve>>>16)+((v.jd<<24>>24)*(_e<<24>>24)>>>5));Le=255&(Le=(Le+=(v.hd<<24>>24)*(_e<<24>>24)>>>5)+((v.ud<<24>>24)*(tt<<24>>24)>>>5)),fe[Ce+Be]=(4278255360&ve)+(tt<<16)+Le}}function Sn(v,R,Y,X,fe){S[R]=function(Ce,Be,ve,_e,Le,tt,Et,vt,lt){for(_e=Et;_e<vt;++_e)for(Et=0;Et<lt;++Et)Le[tt++]=fe(ve[X(Ce[Be++])])},S[v]=function(Ce,Be,ve,_e,Le,tt,Et){var vt=8>>Ce.b,lt=Ce.Ea,sn=Ce.K[0],Rt=Ce.w;if(8>vt)for(Ce=(1<<Ce.b)-1,Rt=(1<<vt)-1;Be<ve;++Be){var nt,At=0;for(nt=0;nt<lt;++nt)nt&Ce||(At=X(_e[Le++])),tt[Et++]=fe(sn[At&Rt]),At>>=vt}else S["VP8LMapColor"+Y](_e,Le,sn,Rt,tt,Et,Be,ve,lt)}}function ct(v,R,Y,X,fe){for(Y=R+Y;R<Y;){var Ce=v[R++];X[fe++]=Ce>>16&255,X[fe++]=Ce>>8&255,X[fe++]=255&Ce}}function Dn(v,R,Y,X,fe){for(Y=R+Y;R<Y;){var Ce=v[R++];X[fe++]=Ce>>16&255,X[fe++]=Ce>>8&255,X[fe++]=255&Ce,X[fe++]=Ce>>24&255}}function se(v,R,Y,X,fe){for(Y=R+Y;R<Y;){var Ce=(Be=v[R++])>>16&240|Be>>12&15,Be=240&Be|Be>>28&15;X[fe++]=Ce,X[fe++]=Be}}function P(v,R,Y,X,fe){for(Y=R+Y;R<Y;){var Ce=(Be=v[R++])>>16&248|Be>>13&7,Be=Be>>5&224|Be>>3&31;X[fe++]=Ce,X[fe++]=Be}}function V(v,R,Y,X,fe){for(Y=R+Y;R<Y;){var Ce=v[R++];X[fe++]=255&Ce,X[fe++]=Ce>>8&255,X[fe++]=Ce>>16&255}}function F(v,R,Y,X,fe,Ce){if(0==Ce)for(Y=R+Y;R<Y;)me(X,((Ce=v[R++])[0]>>24|Ce[1]>>8&65280|Ce[2]<<8&16711680|Ce[3]<<24)>>>0),fe+=32;else i(X,fe,v,R,Y)}function $(v,R){S[R][0]=S[v+"0"],S[R][1]=S[v+"1"],S[R][2]=S[v+"2"],S[R][3]=S[v+"3"],S[R][4]=S[v+"4"],S[R][5]=S[v+"5"],S[R][6]=S[v+"6"],S[R][7]=S[v+"7"],S[R][8]=S[v+"8"],S[R][9]=S[v+"9"],S[R][10]=S[v+"10"],S[R][11]=S[v+"11"],S[R][12]=S[v+"12"],S[R][13]=S[v+"13"],S[R][14]=S[v+"0"],S[R][15]=S[v+"0"]}function we(v){return v==WY||v==jY||v==ET||v==ZY}function Ee(){this.eb=[],this.size=this.A=this.fb=0}function Ct(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ee,this.f.kb=new Ct,this.sd=null}function Nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function In(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function jt(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function Rn(v,R){var Y=v.T,X=R.ba.f.RGBA,fe=X.eb,Ce=X.fb+v.ka*X.A,Be=Og[R.ba.S],ve=v.y,_e=v.O,Le=v.f,tt=v.N,Et=v.ea,vt=v.W,lt=R.cc,sn=R.dc,Rt=R.Mc,nt=R.Nc,At=v.ka,en=v.ka+v.T,un=v.U,An=un+1>>1;for(0==At?Be(ve,_e,null,null,Le,tt,Et,vt,Le,tt,Et,vt,fe,Ce,null,null,un):(Be(R.ec,R.fc,ve,_e,lt,sn,Rt,nt,Le,tt,Et,vt,fe,Ce-X.A,fe,Ce,un),++Y);At+2<en;At+=2)Be(ve,(_e+=2*v.fa)-v.fa,ve,_e,lt=Le,sn=tt,Rt=Et,nt=vt,Le,tt+=v.Rc,Et,vt+=v.Rc,fe,(Ce+=2*X.A)-X.A,fe,Ce,un);return _e+=v.fa,v.j+en<v.o?(i(R.ec,R.fc,ve,_e,un),i(R.cc,R.dc,Le,tt,An),i(R.Mc,R.Nc,Et,vt,An),Y--):1&en||Be(ve,_e,null,null,Le,tt,Et,vt,Le,tt,Et,vt,fe,Ce+X.A,null,null,un),Y}function iA(v,R,Y){var X=v.F,fe=[v.J];if(null!=X){var Ce=v.U,Be=R.ba.S,ve=Be==BT||Be==ET;R=R.ba.f.RGBA;var _e=[0],Le=v.ka;_e[0]=v.T,v.Kb&&(0==Le?--_e[0]:(--Le,fe[0]-=v.width),v.j+v.ka+v.T==v.o&&(_e[0]=v.o-v.j-Le));var tt=R.eb;v=_s(X,fe[0],v.width,Ce,_e,tt,(Le=R.fb+Le*R.A)+(ve?0:3),R.A),e(Y==_e),v&&we(Be)&&Lg(tt,Le,ve,Ce,_e,R.A)}return 0}function Sr(v){var R=v.ma,Y=R.ba.S,X=11>Y,fe=Y==CT||Y==IT||Y==BT||Y==zY||12==Y||we(Y);if(R.memory=null,R.Ib=null,R.Jb=null,R.Nd=null,!zD(R.Oa,v,fe?11:12))return 0;if(fe&&we(Y)&&fn(),v.da)alert("todo:use_scaling");else{if(X){if(R.Ib=jt,v.Kb){if(R.memory=A(v.U+2*(Y=v.U+1>>1)),null==R.memory)return 0;R.ec=R.memory,R.fc=0,R.cc=R.ec,R.dc=R.fc+v.U,R.Mc=R.cc,R.Nc=R.dc+Y,R.Ib=Rn,fn()}}else alert("todo:EmitYUV");fe&&(R.Jb=iA,X&&dt())}if(X&&!Fhe){for(v=0;256>v;++v)Vgt[v]=89858*(v-128)+yT>>vT,jgt[v]=-22014*(v-128)+yT,Wgt[v]=-45773*(v-128),zgt[v]=113618*(v-128)+yT>>vT;for(v=ib;v<eK;++v)Zgt[v-ib]=Uu(R=76283*(v-16)+yT>>vT,255),Xgt[v-ib]=Uu(R+8>>4,15);Fhe=1}return 1}function sr(v){var R=v.ma,Y=v.U,X=v.T;return e(!(1&v.ka)),0>=Y||0>=X?0:(Y=R.Ib(v,R),null!=R.Jb&&R.Jb(v,R,Y),R.Dc+=Y,1)}function Hs(v){v.ma.memory=null}function ii(v,R,Y,X){return 47!=ue(v,8)?0:(R[0]=ue(v,14)+1,Y[0]=ue(v,14)+1,X[0]=ue(v,1),0!=ue(v,3)?0:!v.h)}function Fa(v,R){if(4>v)return v+1;var Y=v-2>>1;return(2+(1&v)<<Y)+ue(R,Y)+1}function kc(v,R){return 120<R?R-120:1<=(Y=((Y=Fgt[R-1])>>4)*v+(8-(15&Y)))?Y:1;var Y}function Ys(v,R,Y){var X=z(Y),fe=v[R+=255&X].g-8;return 0<fe&&(le(Y,Y.u+8),X=z(Y),R+=v[R].value,R+=X&(1<<fe)-1),le(Y,Y.u+v[R].g),v[R].value}function Xs(v,R,Y){return Y.g+=v.g,Y.value+=v.value<<R>>>0,e(8>=Y.g),v.g}function $s(v,R,Y){var X=v.xc;return e((R=0==X?0:v.vc[v.md*(Y>>X)+(R>>X)])<v.Wb),v.Ya[R]}function Lc(v,R,Y,X){var fe=v.ab,Ce=v.c*R,Be=v.C;R=Be+R;var ve=Y,_e=X;for(X=v.Ta,Y=v.Ua;0<fe--;){var Le=v.gc[fe],tt=Be,Et=R,vt=ve,lt=_e,sn=(_e=X,ve=Y,Le.Ea);switch(e(tt<Et),e(Et<=Le.nc),Le.hc){case 2:uT(vt,lt,(Et-tt)*sn,_e,ve);break;case 0:var Rt=tt,nt=Et,At=_e,en=ve,un=(Hn=Le).Ea;0==Rt&&(JY(vt,lt,null,null,1,At,en),it(vt,lt+1,0,0,un-1,At,en+1),lt+=un,en+=un,++Rt);for(var An=1<<Hn.b,Vn=An-1,On=Me(un,Hn.b),yi=Hn.K,Hn=Hn.w+(Rt>>Hn.b)*On;Rt<nt;){var GA=yi,ZA=Hn,EA=1;for(ZD(vt,lt,At,en-un,1,At,en);EA<un;){var Wr=(EA&~Vn)+An;Wr>un&&(Wr=un),(0,CC[GA[ZA++]>>8&15])(vt,lt+ +EA,At,en+EA-un,Wr-EA,At,en+EA),EA=Wr}lt+=un,en+=un,++Rt&Vn||(Hn+=On)}Et!=Le.nc&&i(_e,ve-sn,_e,ve+(Et-tt-1)*sn,sn);break;case 1:for(sn=vt,nt=lt,un=(vt=Le.Ea)-(en=vt&~(At=(lt=1<<Le.b)-1)),Rt=Me(vt,Le.b),An=Le.K,Le=Le.w+(tt>>Le.b)*Rt;tt<Et;){for(Vn=An,On=Le,yi=new oe,Hn=nt+en,GA=nt+vt;nt<Hn;)Yt(Vn[On++],yi),JB(yi,sn,nt,lt,_e,ve),nt+=lt,ve+=lt;nt<GA&&(Yt(Vn[On++],yi),JB(yi,sn,nt,un,_e,ve),nt+=un,ve+=un),++tt&At||(Le+=Rt)}break;case 3:if(vt==_e&&lt==ve&&0<Le.b){for(nt=_e,vt=sn=ve+(Et-tt)*sn-(en=(Et-tt)*Me(Le.Ea,Le.b)),lt=_e,At=ve,Rt=[],en=(un=en)-1;0<=en;--en)Rt[en]=lt[At+en];for(en=un-1;0<=en;--en)nt[vt+en]=Rt[en];Rg(Le,tt,Et,_e,sn,_e,ve)}else Rg(Le,tt,Et,vt,lt,_e,ve)}ve=X,_e=Y}_e!=Y&&i(X,Y,ve,_e,Ce)}function Gh(v,R){var Y=v.V,X=v.Ba+v.c*v.C,fe=R-v.C;if(e(R<=v.l.o),e(16>=fe),0<fe){var Ce=v.l,Be=v.Ta,ve=v.Ua,_e=Ce.width;if(Lc(v,fe,Y,X),fe=ve=[ve],e((Y=v.C)<(X=R)),e(Ce.v<Ce.va),X>Ce.o&&(X=Ce.o),Y<Ce.j){var Le=Ce.j-Y;Y=Ce.j,fe[0]+=Le*_e}if(Y>=X?Y=0:(fe[0]+=4*Ce.v,Ce.ka=Y-Ce.j,Ce.U=Ce.va-Ce.v,Ce.T=X-Y,Y=1),Y){if(ve=ve[0],11>(Y=v.ca).S){var tt=Y.f.RGBA,Et=(X=Y.S,fe=Ce.U,Ce=Ce.T,Le=tt.eb,tt.A),vt=Ce;for(tt=tt.fb+v.Ma*tt.A;0<vt--;){var lt=Be,sn=ve,Rt=fe,nt=Le,At=tt;switch(X){case mT:Au(lt,sn,Rt,nt,At);break;case CT:El(lt,sn,Rt,nt,At);break;case WY:El(lt,sn,Rt,nt,At),Lg(nt,At,0,Rt,1,0);break;case yhe:pp(lt,sn,Rt,nt,At);break;case IT:F(lt,sn,Rt,nt,At,1);break;case jY:F(lt,sn,Rt,nt,At,1),Lg(nt,At,0,Rt,1,0);break;case BT:F(lt,sn,Rt,nt,At,0);break;case ET:F(lt,sn,Rt,nt,At,0),Lg(nt,At,1,Rt,1,0);break;case zY:IC(lt,sn,Rt,nt,At);break;case ZY:IC(lt,sn,Rt,nt,At),ws(nt,At,Rt,1,0);break;case Qhe:dp(lt,sn,Rt,nt,At);break;default:e(0)}ve+=_e,tt+=Et}v.Ma+=Ce}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=Y.height)}}v.C=R,e(v.C<=v.i)}function Ng(v){var R;if(0<v.ua)return 0;for(R=0;R<v.Wb;++R){var Y=v.Ya[R].G,X=v.Ya[R].H;if(0<Y[1][X[1]+0].g||0<Y[2][X[2]+0].g||0<Y[3][X[3]+0].g)return 0}return 1}function Uc(v,R,Y,X,fe,Ce){if(0!=v.Z){var Be=v.qd,ve=v.rd;for(e(null!=yC[v.Z]);R<Y;++R)yC[v.Z](Be,ve,X,fe,X,fe,Ce),Be=X,ve=fe,fe+=Ce;v.qd=Be,v.rd=ve}}function tu(v,R){var Y=v.l.ma,X=0==Y.Z||1==Y.Z?v.l.j:v.C;if(X=v.C<X?X:v.C,e(R<=v.l.o),R>X){var fe=v.l.width,Ce=Y.ca,Be=Y.tb+fe*X,ve=v.V,_e=v.Ba+v.c*X,Le=v.gc;e(1==v.ab),e(3==Le[0].hc),gT(Le[0],X,R,ve,_e,Ce,Be),Uc(Y,X,R,Ce,Be,fe)}v.C=v.Ma=R}function nu(v,R,Y,X,fe,Ce,Be){var ve=v.$/X,_e=v.$%X,Le=v.m,tt=v.s,Et=Y+v.$,vt=Et;fe=Y+X*fe;var lt=Y+X*Ce,sn=280+tt.ua,Rt=v.Pb?ve:16777216,nt=0<tt.ua?tt.Wa:null,At=tt.wc,en=Et<lt?$s(tt,_e,ve):null;e(v.C<Ce),e(lt<=fe);var un=!1;e:for(;;){for(;un||Et<lt;){var An=0;if(ve>=Rt){var Vn=Et-Y;e((Rt=v).Pb),Rt.wd=Rt.m,Rt.xd=Vn,0<Rt.s.ua&&ee(Rt.s.Wa,Rt.s.vb),Rt=ve+Tgt}if(_e&At||(en=$s(tt,_e,ve)),e(null!=en),en.Qb&&(R[Et]=en.qb,un=!0),!un)if(ce(Le),en.jc){Vn=R;var On=Et,yi=en.pd[z(An=Le)&oc-1];e(en.jc),256>yi.g?(le(An,An.u+yi.g),Vn[On]=yi.value,An=0):(le(An,An.u+yi.g-256),e(256<=yi.value),An=yi.value),0==An&&(un=!0)}else An=Ys(en.G[0],en.H[0],Le);if(Le.h)break;if(un||256>An){if(!un)if(en.nd)R[Et]=(en.qb|An<<8)>>>0;else{if(ce(Le),un=Ys(en.G[1],en.H[1],Le),ce(Le),Vn=Ys(en.G[2],en.H[2],Le),On=Ys(en.G[3],en.H[3],Le),Le.h)break;R[Et]=(On<<24|un<<16|An<<8|Vn)>>>0}if(un=!1,++Et,++_e>=X&&(_e=0,++ve,null!=Be&&ve<=Ce&&!(ve%16)&&Be(v,ve),null!=nt))for(;vt<Et;)An=R[vt++],nt.X[(506832829*An&4294967295)>>>nt.Mb]=An}else if(280>An){if(An=Fa(An-256,Le),Vn=Ys(en.G[4],en.H[4],Le),ce(Le),Vn=kc(X,Vn=Fa(Vn,Le)),Le.h)break;if(Et-Y<Vn||fe-Et<An)break e;for(On=0;On<An;++On)R[Et+On]=R[Et+On-Vn];for(Et+=An,_e+=An;_e>=X;)_e-=X,++ve,null!=Be&&ve<=Ce&&!(ve%16)&&Be(v,ve);if(e(Et<=fe),_e&At&&(en=$s(tt,_e,ve)),null!=nt)for(;vt<Et;)An=R[vt++],nt.X[(506832829*An&4294967295)>>>nt.Mb]=An}else{if(!(An<sn))break e;for(un=An-280,e(null!=nt);vt<Et;)An=R[vt++],nt.X[(506832829*An&4294967295)>>>nt.Mb]=An;An=Et,e(!(un>>>(Vn=nt).Xa)),R[An]=Vn.X[un],un=!0}un||e(Le.h==Z(Le))}if(v.Pb&&Le.h&&Et<fe)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&ee(v.s.vb,v.s.Wa);else{if(Le.h)break e;Be?.(v,ve>Ce?Ce:ve),v.a=0,v.$=Et-Y}return 1}return v.a=3,0}function xg(v){e(null!=v),v.vc=null,v.yc=null,v.Ya=null;var R=v.Wa;null!=R&&(R.X=null),v.vb=null,e(null!=v)}function iu(){var v=new qY;return null==v?null:(v.a=0,v.xb=Dhe,$("Predictor","VP8LPredictors"),$("Predictor","VP8LPredictors_C"),$("PredictorAdd","VP8LPredictorsAdd"),$("PredictorAdd","VP8LPredictorsAdd_C"),uT=Jt,JB=Ot,Au=ct,El=Dn,IC=se,dp=P,pp=V,S.VP8LMapColor32b=nQ,S.VP8LMapColor8b=hT,v)}function Fg(v,R,Y,X,fe){var Ce=1,Be=[v],ve=[R],_e=X.m,Le=X.s,tt=null,Et=0;e:for(;;){if(Y)for(;Ce&&ue(_e,1);){var vt=Be,lt=ve,sn=X,Rt=1,nt=sn.m,At=sn.gc[sn.ab],en=ue(nt,2);if(sn.Oc&1<<en)Ce=0;else{switch(sn.Oc|=1<<en,At.hc=en,At.Ea=vt[0],At.nc=lt[0],At.K=[null],++sn.ab,e(4>=sn.ab),en){case 0:case 1:At.b=ue(nt,3)+2,Rt=Fg(Me(At.Ea,At.b),Me(At.nc,At.b),0,sn,At.K),At.K=At.K[0];break;case 3:var un,An=ue(nt,8)+1,Vn=16<An?0:4<An?1:2<An?2:3;if(vt[0]=Me(At.Ea,Vn),At.b=Vn,un=Rt=Fg(An,1,0,sn,At.K)){var On,yi=An,Hn=At,GA=1<<(8>>Hn.b),ZA=A(GA);if(null==ZA)un=0;else{var EA=Hn.K[0],Wr=Hn.w;for(ZA[0]=Hn.K[0][0],On=1;On<1*yi;++On)ZA[On]=Oe(EA[Wr+On],ZA[On-1]);for(;On<4*GA;++On)ZA[On]=0;Hn.K[0]=null,Hn.K[0]=ZA,un=1}}Rt=un;break;case 2:break;default:e(0)}Ce=Rt}}if(Be=Be[0],ve=ve[0],Ce&&ue(_e,1)&&!(Ce=1<=(Et=ue(_e,4))&&11>=Et)){X.a=3;break e}var Cs;if(Cs=Ce)t:{var as,Er,jo,su=X,Zo=Be,ou=ve,XA=Et,Gu=Y,Pu=su.m,La=su.s,ac=[null],yl=1,Gg=0,Jf=Rgt[XA];n:for(;;){if(Gu&&ue(Pu,1)){var Ua=ue(Pu,3)+2,Bp=Me(Zo,Ua),ZB=Me(ou,Ua),oQ=Bp*ZB;if(!Fg(Bp,ZB,0,su,ac))break n;for(ac=ac[0],La.xc=Ua,as=0;as<oQ;++as){var QC=ac[as]>>8&65535;ac[as]=QC,QC>=yl&&(yl=QC+1)}}if(Pu.h)break n;for(Er=0;5>Er;++Er){var po=whe[Er];!Er&&0<XA&&(po+=1<<XA),Gg<po&&(Gg=po)}var tK=s(yl*Jf,T),khe=yl,Lhe=s(khe,G);if(null==Lhe)var wT=null;else e(65536>=khe),wT=Lhe;var rb=A(Gg);if(null==wT||null==rb||null==tK){su.a=1;break n}var _T=tK;for(as=jo=0;as<yl;++as){var qh=wT[as],aQ=qh.G,cQ=qh.H,Uhe=0,DT=1,Ohe=0;for(Er=0;5>Er;++Er){po=whe[Er],aQ[Er]=_T,cQ[Er]=jo,!Er&&0<XA&&(po+=1<<XA);r:{var bT,nK=po,ST=su,Ab=rb,tht=_T,nht=jo,iK=0,wC=ST.m,iht=ue(wC,1);if(r(Ab,0,0,nK),iht){var rht=ue(wC,1)+1,Aht=ue(wC,1),Ghe=ue(wC,0==Aht?1:8);Ab[Ghe]=1,2==rht&&(Ab[Ghe=ue(wC,8)]=1);var MT=1}else{var Phe=A(19),Hhe=ue(wC,4)+4;if(19<Hhe){ST.a=3;var NT=0;break r}for(bT=0;bT<Hhe;++bT)Phe[xgt[bT]]=ue(wC,3);var rK=void 0,sb=void 0,Yhe=ST,sht=Phe,xT=nK,Khe=Ab,AK=0,_C=Yhe.m,qhe=8,Jhe=s(128,T);i:for(;D(Jhe,0,7,sht,19);){if(ue(_C,1)){var oht=2+2*ue(_C,3);if((rK=2+ue(_C,oht))>xT)break i}else rK=xT;for(sb=0;sb<xT&&rK--;){ce(_C);var Vhe=Jhe[0+(127&z(_C))];le(_C,_C.u+Vhe.g);var lQ=Vhe.value;if(16>lQ)Khe[sb++]=lQ,0!=lQ&&(qhe=lQ);else{var aht=16==lQ,zhe=lQ-16,cht=Mgt[zhe],Whe=ue(_C,Sgt[zhe])+cht;if(sb+Whe>xT)break i;for(var lht=aht?qhe:0;0<Whe--;)Khe[sb++]=lht}}AK=1;break i}AK||(Yhe.a=3),MT=AK}(MT=MT&&!wC.h)&&(iK=D(tht,nht,8,Ab,nK)),MT&&0!=iK?NT=iK:(ST.a=3,NT=0)}if(0==NT)break n;if(DT&&1==Ngt[Er]&&(DT=0==_T[jo].g),Uhe+=_T[jo].g,jo+=NT,3>=Er){var ob,sK=rb[0];for(ob=1;ob<po;++ob)rb[ob]>sK&&(sK=rb[ob]);Ohe+=sK}}if(qh.nd=DT,qh.Qb=0,DT&&(qh.qb=(aQ[3][cQ[3]+0].value<<24|aQ[1][cQ[1]+0].value<<16|aQ[2][cQ[2]+0].value)>>>0,0==Uhe&&256>aQ[0][cQ[0]+0].value&&(qh.Qb=1,qh.qb+=aQ[0][cQ[0]+0].value<<8)),qh.jc=!qh.Qb&&6>Ohe,qh.jc){var FT,Ep=qh;for(FT=0;FT<oc;++FT){var DC=FT,bC=Ep.pd[DC],RT=Ep.G[0][Ep.H[0]+DC];256<=RT.value?(bC.g=RT.g+256,bC.value=RT.value):(bC.g=0,bC.value=0,DC>>=Xs(RT,8,bC),DC>>=Xs(Ep.G[1][Ep.H[1]+DC],16,bC),DC>>=Xs(Ep.G[2][Ep.H[2]+DC],0,bC),Xs(Ep.G[3][Ep.H[3]+DC],24,bC))}}}La.vc=ac,La.Wb=yl,La.Ya=wT,La.yc=tK,Cs=1;break t}Cs=0}if(!(Ce=Cs)){X.a=3;break e}if(0<Et){if(Le.ua=1<<Et,!Ae(Le.Wa,Et)){X.a=1,Ce=0;break e}}else Le.ua=0;var oK=X,jhe=Be,uht=ve,aK=oK.s,cK=aK.xc;if(oK.c=jhe,oK.i=uht,aK.md=Me(jhe,cK),aK.wc=0==cK?-1:(1<<cK)-1,Y){X.xb=Hgt;break e}if(null==(tt=A(Be*ve))){X.a=1,Ce=0;break e}Ce=(Ce=nu(X,tt,0,Be,ve,ve,null))&&!_e.h;break e}return Ce?(null!=fe?fe[0]=tt:(e(null==tt),e(Y)),X.$=0,Y||xg(Le)):xg(Le),Ce}function gp(v,R){var Y=v.c*v.i,X=Y+R+16*R;return e(v.c<=R),v.V=A(X),null==v.V?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+Y+R,1)}function hC(v,R){var Y=v.C,X=R-Y,fe=v.V,Ce=v.Ba+v.c*Y;for(e(R<=v.l.o);0<X;){var Be=16<X?16:X,ve=v.l.ma,_e=v.l.width,Le=_e*Be,tt=ve.ca,Et=ve.tb+_e*Y,vt=v.Ta,lt=v.Ua;Lc(v,Be,fe,Ce),Fo(vt,lt,tt,Et,Le),Uc(ve,Y,Y+Be,tt,Et,_e),X-=Be,fe+=Be*v.c,Y+=Be}e(Y==R),v.C=v.Ma=R}function Se(){this.ub=this.yd=this.td=this.Rb=0}function at(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wt(){this.Fb=this.Bb=this.Cb=0,this.Zb=A(4),this.Lb=A(4)}function Dt(){var v;this.Yb=(function R(Y,X,fe){for(var Ce=fe[X],Be=0;Be<Ce&&(Y.push(fe.length>X+1?[]:0),!(fe.length<X+1));Be++)R(Y[Be],X+1,fe)}(v=[],0,[3,11]),v)}function ht(){this.jb=A(3),this.Wc=o([4,8],Dt),this.Xc=o([4,17],Dt)}function En(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new A(4),this.od=new A(4)}function Fn(){this.ld=this.La=this.dd=this.tc=0}function jn(){this.Na=this.la=0}function ei(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Di(){this.ad=A(384),this.Za=0,this.Ob=A(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ui(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fn),this.Y=0,this.ya=Array(new Di),this.aa=0,this.l=new Vr}function gi(){this.y=A(16),this.f=A(8),this.ea=A(8)}function Tr(){this.cb=this.a=0,this.sc="",this.m=new ye,this.Od=new Se,this.Kc=new at,this.ed=new En,this.Qa=new wt,this.Ic=this.$c=this.Aa=0,this.D=new Ui,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ye),this.ia=0,this.pb=s(4,ei),this.Pa=new ht,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new gi),this.Hd=0,this.rb=Array(new jn),this.sb=0,this.wa=Array(new Fn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Di),this.L=this.aa=0,this.gd=o([4,2],Fn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ms(){var v=new Tr;return null!=v&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,nb||(nb=ho)),v}function or(v,R,Y){return 0==v.a&&(v.a=R,v.sc=Y,v.cb=0),0}function Yr(v,R,Y){return 3<=Y&&157==v[R+0]&&1==v[R+1]&&42==v[R+2]}function hi(v,R){if(null==v)return 0;if(v.a=0,v.sc="OK",null==R)return or(v,2,"null VP8Io passed to VP8GetHeaders()");var Y=R.data,X=R.w,fe=R.ha;if(4>fe)return or(v,7,"Truncated header.");var Ce=Y[X+0]|Y[X+1]<<8|Y[X+2]<<16,Be=v.Od;if(Be.Rb=!(1&Ce),Be.td=Ce>>1&7,Be.yd=Ce>>4&1,Be.ub=Ce>>5,3<Be.td)return or(v,3,"Incorrect keyframe parameters.");if(!Be.yd)return or(v,4,"Frame not displayable.");X+=3,fe-=3;var ve=v.Kc;if(Be.Rb){if(7>fe)return or(v,7,"cannot parse picture header");if(!Yr(Y,X,fe))return or(v,3,"Bad code word");ve.c=16383&(Y[X+4]<<8|Y[X+3]),ve.Td=Y[X+4]>>6,ve.i=16383&(Y[X+6]<<8|Y[X+5]),ve.Ud=Y[X+6]>>6,X+=7,fe-=7,v.za=ve.c+15>>4,v.Ub=ve.i+15>>4,R.width=ve.c,R.height=ve.i,R.Da=0,R.j=0,R.v=0,R.va=R.width,R.o=R.height,R.da=0,R.ib=R.width,R.hb=R.height,R.U=R.width,R.T=R.height,r((Ce=v.Pa).jb,0,255,Ce.jb.length),e(null!=(Ce=v.Qa)),Ce.Cb=0,Ce.Bb=0,Ce.Fb=1,r(Ce.Zb,0,0,Ce.Zb.length),r(Ce.Lb,0,0,Ce.Lb)}if(Be.ub>fe)return or(v,7,"bad partition length");W(Ce=v.m,Y,X,Be.ub),X+=Be.ub,fe-=Be.ub,Be.Rb&&(ve.Ld=re(Ce),ve.Kd=re(Ce)),ve=v.Qa;var _e,Le=v.Pa;if(e(null!=Ce),e(null!=ve),ve.Cb=re(Ce),ve.Cb){if(ve.Bb=re(Ce),re(Ce)){for(ve.Fb=re(Ce),_e=0;4>_e;++_e)ve.Zb[_e]=re(Ce)?L(Ce,7):0;for(_e=0;4>_e;++_e)ve.Lb[_e]=re(Ce)?L(Ce,6):0}if(ve.Bb)for(_e=0;3>_e;++_e)Le.jb[_e]=re(Ce)?k(Ce,8):255}else ve.Bb=0;if(Ce.Ka)return or(v,3,"cannot parse segment header");if((ve=v.ed).zd=re(Ce),ve.Tb=k(Ce,6),ve.wb=k(Ce,3),ve.Pc=re(Ce),ve.Pc&&re(Ce)){for(Le=0;4>Le;++Le)re(Ce)&&(ve.vd[Le]=L(Ce,6));for(Le=0;4>Le;++Le)re(Ce)&&(ve.od[Le]=L(Ce,6))}if(v.L=0==ve.Tb?0:ve.zd?1:2,Ce.Ka)return or(v,3,"cannot parse filter header");var tt=fe;if(fe=_e=X,X=_e+tt,ve=tt,v.Xb=(1<<k(v.m,2))-1,tt<3*(Le=v.Xb))Y=7;else{for(_e+=3*Le,ve-=3*Le,tt=0;tt<Le;++tt){var Et=Y[fe+0]|Y[fe+1]<<8|Y[fe+2]<<16;Et>ve&&(Et=ve),W(v.Jc[+tt],Y,_e,Et),_e+=Et,ve-=Et,fe+=3}W(v.Jc[+Le],Y,_e,ve),Y=_e<X?0:5}if(0!=Y)return or(v,Y,"cannot parse partitions");for(Y=k(_e=v.m,7),fe=re(_e)?L(_e,4):0,X=re(_e)?L(_e,4):0,ve=re(_e)?L(_e,4):0,Le=re(_e)?L(_e,4):0,_e=re(_e)?L(_e,4):0,tt=v.Qa,Et=0;4>Et;++Et){if(tt.Cb){var vt=tt.Zb[Et];tt.Fb||(vt+=Y)}else{if(0<Et){v.pb[Et]=v.pb[0];continue}vt=Y}var lt=v.pb[Et];lt.Sc[0]=XY[Uu(vt+fe,127)],lt.Sc[1]=$Y[Uu(vt+0,127)],lt.Eb[0]=2*XY[Uu(vt+X,127)],lt.Eb[1]=101581*$Y[Uu(vt+ve,127)]>>16,8>lt.Eb[1]&&(lt.Eb[1]=8),lt.Qc[0]=XY[Uu(vt+Le,117)],lt.Qc[1]=$Y[Uu(vt+_e,127)],lt.lc=vt+_e}if(!Be.Rb)return or(v,4,"Not a key frame.");for(re(Ce),Be=v.Pa,Y=0;4>Y;++Y){for(fe=0;8>fe;++fe)for(X=0;3>X;++X)for(ve=0;11>ve;++ve)Le=ie(Ce,Ggt[Y][fe][X][ve])?k(Ce,8):Ugt[Y][fe][X][ve],Be.Wc[Y][fe].Yb[X][ve]=Le;for(fe=0;17>fe;++fe)Be.Xc[Y][fe]=Be.Wc[Y][Pgt[fe]]}return v.kc=re(Ce),v.kc&&(v.Bd=k(Ce,8)),v.cb=1}function ho(v,R,Y,X,fe,Ce,Be){var ve=R[fe].Yb[Y];for(Y=0;16>fe;++fe){if(!ie(v,ve[Y+0]))return fe;for(;!ie(v,ve[Y+1]);)if(ve=R[++fe].Yb[0],Y=0,16==fe)return 16;var _e=R[fe+1].Yb;if(ie(v,ve[Y+2])){var Le=v,tt=0;if(ie(Le,(vt=ve)[(Et=Y)+3]))if(ie(Le,vt[Et+6])){for(ve=0,Et=2*(tt=ie(Le,vt[Et+8]))+(vt=ie(Le,vt[Et+9+tt])),tt=0,vt=kgt[Et];vt[ve];++ve)tt+=tt+ie(Le,vt[ve]);tt+=3+(8<<Et)}else ie(Le,vt[Et+7])?(tt=7+2*ie(Le,165),tt+=ie(Le,145)):tt=5+ie(Le,159);else tt=ie(Le,vt[Et+4])?3+ie(Le,vt[Et+5]):2;ve=_e[2]}else tt=1,ve=_e[1];_e=Be+Lgt[fe],0>(Le=v).b&&ge(Le);var Et,vt=Le.b,lt=(Et=Le.Ca>>1)-(Le.I>>vt)>>31;--Le.b,Le.Ca+=lt,Le.Ca|=1,Le.I-=(Et+1&lt)<<vt,Ce[_e]=((tt^lt)-lt)*X[(0<fe)+0]}return 16}function zr(v){var R=v.rb[v.sb-1];R.la=0,R.Na=0,r(v.zc,0,0,v.zc.length),v.ja=0}function Ra(v,R,Y,X,fe){v[R+Y+32*X]=-256&(fe=v[R+Y+32*X]+(fe>>3))?0>fe?0:255:fe}function Jo(v,R,Y,X,fe,Ce){Ra(v,R,0,Y,X+fe),Ra(v,R,1,Y,X+Ce),Ra(v,R,2,Y,X-Ce),Ra(v,R,3,Y,X-fe)}function Vo(v){return(20091*v>>16)+v}function KA(v,R,Y,X){var fe,Ce=0,Be=A(16);for(fe=0;4>fe;++fe){var ve=v[R+0]+v[R+8],_e=v[R+0]-v[R+8],Le=(35468*v[R+4]>>16)-Vo(v[R+12]),tt=Vo(v[R+4])+(35468*v[R+12]>>16);Be[Ce+0]=ve+tt,Be[Ce+1]=_e+Le,Be[Ce+2]=_e-Le,Be[Ce+3]=ve-tt,Ce+=4,R++}for(fe=Ce=0;4>fe;++fe)ve=(v=Be[Ce+0]+4)+Be[Ce+8],_e=v-Be[Ce+8],Le=(35468*Be[Ce+4]>>16)-Vo(Be[Ce+12]),Ra(Y,X,0,0,ve+(tt=Vo(Be[Ce+4])+(35468*Be[Ce+12]>>16))),Ra(Y,X,1,0,_e+Le),Ra(Y,X,2,0,_e-Le),Ra(Y,X,3,0,ve-tt),Ce++,X+=32}function sc(v,R,Y,X){var fe=v[R+0]+4,Ce=35468*v[R+4]>>16,Be=Vo(v[R+4]),ve=35468*v[R+1]>>16;Jo(Y,X,0,fe+Be,v=Vo(v[R+1]),ve),Jo(Y,X,1,fe+Ce,v,ve),Jo(Y,X,2,fe-Ce,v,ve),Jo(Y,X,3,fe-Be,v,ve)}function Oc(v,R,Y,X,fe){KA(v,R,Y,X),fe&&KA(v,R+16,Y,X+4)}function zo(v,R,Y,X){mp(v,R+0,Y,X,1),mp(v,R+32,Y,X+128,1)}function Ta(v,R,Y,X){var fe;for(v=v[R+0]+4,fe=0;4>fe;++fe)for(R=0;4>R;++R)Ra(Y,X,R,fe,v)}function fC(v,R,Y,X){v[R+0]&&vl(v,R+0,Y,X),v[R+16]&&vl(v,R+16,Y,X+4),v[R+32]&&vl(v,R+32,Y,X+128),v[R+48]&&vl(v,R+48,Y,X+128+4)}function Ph(v,R,Y,X){var fe,Ce=A(16);for(fe=0;4>fe;++fe){var Be=v[R+0+fe]+v[R+12+fe],ve=v[R+4+fe]+v[R+8+fe],_e=v[R+4+fe]-v[R+8+fe],Le=v[R+0+fe]-v[R+12+fe];Ce[0+fe]=Be+ve,Ce[8+fe]=Be-ve,Ce[4+fe]=Le+_e,Ce[12+fe]=Le-_e}for(fe=0;4>fe;++fe)Be=(v=Ce[0+4*fe]+3)+Ce[3+4*fe],_e=Ce[1+4*fe]-Ce[2+4*fe],Le=v-Ce[3+4*fe],Y[X+0]=Be+(ve=Ce[1+4*fe]+Ce[2+4*fe])>>3,Y[X+16]=Le+_e>>3,Y[X+32]=Be-ve>>3,Y[X+48]=Le-_e>>3,X+=64}function TD(v,R,Y){var X,fe=R-32,Ce=Ou,Be=255-v[fe-1];for(X=0;X<Y;++X){var ve,_e=Ce,Le=Be+v[R-1];for(ve=0;ve<Y;++ve)v[R+ve]=_e[Le+v[fe+ve]];R+=32}}function xY(v,R){TD(v,R,4)}function FY(v,R){TD(v,R,8)}function RY(v,R){TD(v,R,16)}function hp(v,R){var Y;for(Y=0;16>Y;++Y)i(v,R+32*Y,v,R-32,16)}function Ky(v,R){var Y;for(Y=16;0<Y;--Y)r(v,R,v[R-1],16),R+=32}function qy(v,R,Y){var X;for(X=0;16>X;++X)r(R,Y+32*X,v,16)}function eT(v,R){var Y,X=16;for(Y=0;16>Y;++Y)X+=v[R-1+32*Y]+v[R+Y-32];qy(X>>5,v,R)}function Gc(v,R){var Y,X=8;for(Y=0;16>Y;++Y)X+=v[R-1+32*Y];qy(X>>4,v,R)}function TY(v,R){var Y,X=8;for(Y=0;16>Y;++Y)X+=v[R+Y-32];qy(X>>4,v,R)}function tT(v,R){qy(128,v,R)}function Xi(v,R,Y){return v+2*R+Y+2>>2}function kY(v,R){var Y,X=R-32;for(X=new Uint8Array([Xi(v[X-1],v[X+0],v[X+1]),Xi(v[X+0],v[X+1],v[X+2]),Xi(v[X+1],v[X+2],v[X+3]),Xi(v[X+2],v[X+3],v[X+4])]),Y=0;4>Y;++Y)i(v,R+32*Y,X,0,X.length)}function LY(v,R){var Y=v[R-1],X=v[R-1+32],fe=v[R-1+64],Ce=v[R-1+96];me(v,R+0,16843009*Xi(v[R-1-32],Y,X)),me(v,R+32,16843009*Xi(Y,X,fe)),me(v,R+64,16843009*Xi(X,fe,Ce)),me(v,R+96,16843009*Xi(fe,Ce,Ce))}function Yf(v,R){var Y,X=4;for(Y=0;4>Y;++Y)X+=v[R+Y-32]+v[R-1+32*Y];for(X>>=3,Y=0;4>Y;++Y)r(v,R+32*Y,X,4)}function nT(v,R){var Y=v[R-1+0],X=v[R-1+32],fe=v[R-1+64],Ce=v[R-1-32],Be=v[R+0-32],ve=v[R+1-32],_e=v[R+2-32],Le=v[R+3-32];v[R+0+96]=Xi(X,fe,v[R-1+96]),v[R+1+96]=v[R+0+64]=Xi(Y,X,fe),v[R+2+96]=v[R+1+64]=v[R+0+32]=Xi(Ce,Y,X),v[R+3+96]=v[R+2+64]=v[R+1+32]=v[R+0+0]=Xi(Be,Ce,Y),v[R+3+64]=v[R+2+32]=v[R+1+0]=Xi(ve,Be,Ce),v[R+3+32]=v[R+2+0]=Xi(_e,ve,Be),v[R+3+0]=Xi(Le,_e,ve)}function iT(v,R){var Y=v[R+1-32],X=v[R+2-32],fe=v[R+3-32],Ce=v[R+4-32],Be=v[R+5-32],ve=v[R+6-32],_e=v[R+7-32];v[R+0+0]=Xi(v[R+0-32],Y,X),v[R+1+0]=v[R+0+32]=Xi(Y,X,fe),v[R+2+0]=v[R+1+32]=v[R+0+64]=Xi(X,fe,Ce),v[R+3+0]=v[R+2+32]=v[R+1+64]=v[R+0+96]=Xi(fe,Ce,Be),v[R+3+32]=v[R+2+64]=v[R+1+96]=Xi(Ce,Be,ve),v[R+3+64]=v[R+2+96]=Xi(Be,ve,_e),v[R+3+96]=Xi(ve,_e,_e)}function Jy(v,R){var Y=v[R-1+0],X=v[R-1+32],fe=v[R-1+64],Ce=v[R-1-32],Be=v[R+0-32],ve=v[R+1-32],_e=v[R+2-32],Le=v[R+3-32];v[R+0+0]=v[R+1+64]=Ce+Be+1>>1,v[R+1+0]=v[R+2+64]=Be+ve+1>>1,v[R+2+0]=v[R+3+64]=ve+_e+1>>1,v[R+3+0]=_e+Le+1>>1,v[R+0+96]=Xi(fe,X,Y),v[R+0+64]=Xi(X,Y,Ce),v[R+0+32]=v[R+1+96]=Xi(Y,Ce,Be),v[R+1+32]=v[R+2+96]=Xi(Ce,Be,ve),v[R+2+32]=v[R+3+96]=Xi(Be,ve,_e),v[R+3+32]=Xi(ve,_e,Le)}function kD(v,R){var Y=v[R+0-32],X=v[R+1-32],fe=v[R+2-32],Ce=v[R+3-32],Be=v[R+4-32],ve=v[R+5-32],_e=v[R+6-32],Le=v[R+7-32];v[R+0+0]=Y+X+1>>1,v[R+1+0]=v[R+0+64]=X+fe+1>>1,v[R+2+0]=v[R+1+64]=fe+Ce+1>>1,v[R+3+0]=v[R+2+64]=Ce+Be+1>>1,v[R+0+32]=Xi(Y,X,fe),v[R+1+32]=v[R+0+96]=Xi(X,fe,Ce),v[R+2+32]=v[R+1+96]=Xi(fe,Ce,Be),v[R+3+32]=v[R+2+96]=Xi(Ce,Be,ve),v[R+3+64]=Xi(Be,ve,_e),v[R+3+96]=Xi(ve,_e,Le)}function UY(v,R){var Y=v[R-1+0],X=v[R-1+32],fe=v[R-1+64],Ce=v[R-1+96];v[R+0+0]=Y+X+1>>1,v[R+2+0]=v[R+0+32]=X+fe+1>>1,v[R+2+32]=v[R+0+64]=fe+Ce+1>>1,v[R+1+0]=Xi(Y,X,fe),v[R+3+0]=v[R+1+32]=Xi(X,fe,Ce),v[R+3+32]=v[R+1+64]=Xi(fe,Ce,Ce),v[R+3+64]=v[R+2+64]=v[R+0+96]=v[R+1+96]=v[R+2+96]=v[R+3+96]=Ce}function OY(v,R){var Y=v[R-1+0],X=v[R-1+32],fe=v[R-1+64],Ce=v[R-1+96],Be=v[R-1-32],ve=v[R+0-32],_e=v[R+1-32],Le=v[R+2-32];v[R+0+0]=v[R+2+32]=Y+Be+1>>1,v[R+0+32]=v[R+2+64]=X+Y+1>>1,v[R+0+64]=v[R+2+96]=fe+X+1>>1,v[R+0+96]=Ce+fe+1>>1,v[R+3+0]=Xi(ve,_e,Le),v[R+2+0]=Xi(Be,ve,_e),v[R+1+0]=v[R+3+32]=Xi(Y,Be,ve),v[R+1+32]=v[R+3+64]=Xi(X,Y,Be),v[R+1+64]=v[R+3+96]=Xi(fe,X,Y),v[R+1+96]=Xi(Ce,fe,X)}function GY(v,R){var Y;for(Y=0;8>Y;++Y)i(v,R+32*Y,v,R-32,8)}function LD(v,R){var Y;for(Y=0;8>Y;++Y)r(v,R,v[R-1],8),R+=32}function HB(v,R,Y){var X;for(X=0;8>X;++X)r(R,Y+32*X,v,8)}function dC(v,R){var Y,X=8;for(Y=0;8>Y;++Y)X+=v[R+Y-32]+v[R-1+32*Y];HB(X>>4,v,R)}function PY(v,R){var Y,X=4;for(Y=0;8>Y;++Y)X+=v[R+Y-32];HB(X>>3,v,R)}function YB(v,R){var Y,X=4;for(Y=0;8>Y;++Y)X+=v[R-1+32*Y];HB(X>>3,v,R)}function UD(v,R){HB(128,v,R)}function Vy(v,R,Y){var X=v[R-Y],fe=v[R+0],Ce=3*(fe-X)+VY[1020+v[R-2*Y]-v[R+Y]],Be=pT[112+(Ce+4>>3)];v[R-Y]=Ou[255+X+pT[112+(Ce+3>>3)]],v[R+0]=Ou[255+fe-Be]}function rT(v,R,Y,X){return Ug[255+v[R-2*Y]-v[R-Y]]>X||Ug[255+v[R+Y]-v[R+0]]>X}function AT(v,R,Y,X){return 4*Ug[255+v[R-Y]-v[R+0]]+Ug[255+v[R-2*Y]-v[R+Y]]<=X}function sT(v,R,Y,X,fe){var Ce=v[R-3*Y],Be=v[R-2*Y],ve=v[R-Y],_e=v[R+0],Le=v[R+Y],tt=v[R+2*Y];return 4*Ug[255+ve-_e]+Ug[255+Be-Le]>X?0:Ug[255+v[R-4*Y]-Ce]<=fe&&Ug[255+Ce-Be]<=fe&&Ug[255+Be-ve]<=fe&&Ug[255+v[R+3*Y]-tt]<=fe&&Ug[255+tt-Le]<=fe&&Ug[255+Le-_e]<=fe}function oT(v,R,Y,X){var fe=2*X+1;for(X=0;16>X;++X)AT(v,R+X,Y,fe)&&Vy(v,R+X,Y)}function Kf(v,R,Y,X){var fe=2*X+1;for(X=0;16>X;++X)AT(v,R+X*Y,1,fe)&&Vy(v,R+X*Y,1)}function fp(v,R,Y,X){var fe;for(fe=3;0<fe;--fe)oT(v,R+=4*Y,Y,X)}function HY(v,R,Y,X){var fe;for(fe=3;0<fe;--fe)Kf(v,R+=4,Y,X)}function pC(v,R,Y,X,fe,Ce,Be,ve){for(Ce=2*Ce+1;0<fe--;){if(sT(v,R,Y,Ce,Be))if(rT(v,R,Y,ve))Vy(v,R,Y);else{var _e=v,Le=R,tt=Y,Et=_e[Le-2*tt],vt=_e[Le-tt],lt=_e[Le+0],sn=_e[Le+tt],Rt=_e[Le+2*tt],nt=27*(en=VY[1020+3*(lt-vt)+VY[1020+Et-sn]])+63>>7,At=18*en+63>>7,en=9*en+63>>7;_e[Le-3*tt]=Ou[255+_e[Le-3*tt]+en],_e[Le-2*tt]=Ou[255+Et+At],_e[Le-tt]=Ou[255+vt+nt],_e[Le+0]=Ou[255+lt-nt],_e[Le+tt]=Ou[255+sn-At],_e[Le+2*tt]=Ou[255+Rt-en]}R+=X}}function Hh(v,R,Y,X,fe,Ce,Be,ve){for(Ce=2*Ce+1;0<fe--;){if(sT(v,R,Y,Ce,Be))if(rT(v,R,Y,ve))Vy(v,R,Y);else{var _e=v,Le=R,tt=Y,Et=_e[Le-tt],vt=_e[Le+0],lt=_e[Le+tt],sn=pT[112+(4+(Rt=3*(vt-Et))>>3)],Rt=pT[112+(Rt+3>>3)],nt=sn+1>>1;_e[Le-2*tt]=Ou[255+_e[Le-2*tt]+nt],_e[Le-tt]=Ou[255+Et+Rt],_e[Le+0]=Ou[255+vt-sn],_e[Le+tt]=Ou[255+lt-nt]}R+=X}}function OD(v,R,Y,X,fe,Ce){pC(v,R,Y,1,16,X,fe,Ce)}function KB(v,R,Y,X,fe,Ce){pC(v,R,1,Y,16,X,fe,Ce)}function YY(v,R,Y,X,fe,Ce){var Be;for(Be=3;0<Be;--Be)Hh(v,R+=4*Y,Y,1,16,X,fe,Ce)}function zy(v,R,Y,X,fe,Ce){var Be;for(Be=3;0<Be;--Be)Hh(v,R+=4,1,Y,16,X,fe,Ce)}function KY(v,R,Y,X,fe,Ce,Be,ve){pC(v,R,fe,1,8,Ce,Be,ve),pC(Y,X,fe,1,8,Ce,Be,ve)}function GD(v,R,Y,X,fe,Ce,Be,ve){pC(v,R,1,fe,8,Ce,Be,ve),pC(Y,X,1,fe,8,Ce,Be,ve)}function PD(v,R,Y,X,fe,Ce,Be,ve){Hh(v,R+4*fe,fe,1,8,Ce,Be,ve),Hh(Y,X+4*fe,fe,1,8,Ce,Be,ve)}function aT(v,R,Y,X,fe,Ce,Be,ve){Hh(v,R+4,1,fe,8,Ce,Be,ve),Hh(Y,X+4,1,fe,8,Ce,Be,ve)}function Wy(){this.ba=new rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new In,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function HD(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function YD(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cT(){this.ua=0,this.Wa=new j,this.vb=new j,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new T}function qY(){this.xb=this.a=0,this.l=new Vr,this.ca=new rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cT,this.ab=0,this.gc=s(4,YD),this.Oc=0}function jy(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function qB(v,R,Y,X,fe,Ce,Be){for(v=null==v?0:v[R+0],R=0;R<Be;++R)fe[Ce+R]=v+Y[X+R]&255,v=fe[Ce+R]}function KD(v,R,Y,X,fe,Ce,Be){var ve;if(null==v)qB(null,null,Y,X,fe,Ce,Be);else for(ve=0;ve<Be;++ve)fe[Ce+ve]=v[R+ve]+Y[X+ve]&255}function mC(v,R,Y,X,fe,Ce,Be){if(null==v)qB(null,null,Y,X,fe,Ce,Be);else{var ve,_e=v[R+0],Le=_e,tt=_e;for(ve=0;ve<Be;++ve)Le=tt+(_e=v[R+ve])-Le,tt=Y[X+ve]+(-256&Le?0>Le?0:255:Le)&255,Le=_e,fe[Ce+ve]=tt}}function qD(v,R,Y,X){var fe=R.width,Ce=R.o;if(e(null!=v&&null!=R),0>Y||0>=X||Y+X>Ce)return null;if(!v.Cc){if(null==v.ga){var Be;if(v.ga=new jy,(Be=null==v.ga)||(Be=R.width*R.o,e(0==v.Gb.length),v.Gb=A(Be),v.Uc=0,null==v.Gb?Be=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,Be=1),Be=!Be),!Be){var ve=v.Fa,_e=v.P,Le=v.qc,tt=v.mb,Et=v.nb,vt=_e+1,lt=Le-1,sn=(Be=v.ga).l;if(e(null!=ve&&null!=tt&&null!=R),yC[0]=null,yC[1]=qB,yC[2]=KD,yC[3]=mC,Be.ca=tt,Be.tb=Et,Be.c=R.width,Be.i=R.height,e(0<Be.c&&0<Be.i),1>=Le)R=0;else if(Be.$a=3&ve[_e+0],Be.Z=ve[_e+0]>>2&3,Be.Lc=ve[_e+0]>>4&3,_e=ve[_e+0]>>6&3,0>Be.$a||1<Be.$a||4<=Be.Z||1<Be.Lc||_e)R=0;else if(sn.put=sr,sn.ac=Sr,sn.bc=Hs,sn.ma=Be,sn.width=R.width,sn.height=R.height,sn.Da=R.Da,sn.v=R.v,sn.va=R.va,sn.j=R.j,sn.o=R.o,Be.$a)e:{e(1==Be.$a),R=iu();t:for(;;){if(null==R){R=0;break e}if(e(null!=Be),Be.mc=R,R.c=Be.c,R.i=Be.i,R.l=Be.l,R.l.ma=Be,R.l.width=Be.c,R.l.height=Be.i,R.a=0,J(R.m,ve,vt,lt),!Fg(Be.c,Be.i,1,R,null)||(1==R.ab&&3==R.gc[0].hc&&Ng(R.s)?(Be.ic=1,ve=R.c*R.i,R.Ta=null,R.Ua=0,R.V=A(ve),R.Ba=0,null==R.V?(R.a=1,R=0):R=1):(Be.ic=0,R=gp(R,Be.c)),!R))break t;R=1;break e}Be.mc=null,R=0}else R=lt>=Be.c*Be.i;Be=!R}if(Be)return null;1!=v.ga.Lc?v.Ga=0:X=Ce-Y}e(null!=v.ga),e(Y+X<=Ce);e:{if(R=(ve=v.ga).c,Ce=ve.l.o,0==ve.$a){if(vt=v.rc,lt=v.Vc,sn=v.Fa,Le=v.mb,tt=v.nb+Y*R,e((_e=v.P+1+Y*R)<=v.P+v.qc),0!=ve.Z)for(e(null!=yC[ve.Z]),Be=0;Be<X;++Be)yC[ve.Z](vt,lt,sn,_e,Le,tt,R),vt=Le,lt=tt,tt+=R,_e+=R;else for(Be=0;Be<X;++Be)i(Le,tt,sn,_e,R),vt=Le,lt=tt,tt+=R,_e+=R;v.rc=vt,v.Vc=lt}else{if(e(null!=ve.mc),R=Y+X,e(null!=(Be=ve.mc)),e(R<=Be.i),Be.C>=R)R=1;else if(ve.ic||dt(),ve.ic){ve=Be.V,vt=Be.Ba;var Rt=Be.i,nt=(sn=1,_e=Be.$/(lt=Be.c),Le=Be.$%lt,tt=Be.m,Et=Be.s,Be.$),At=lt*Rt,en=lt*R,un=Et.wc,An=nt<en?$s(Et,Le,_e):null;e(nt<=At),e(R<=Rt),e(Ng(Et));t:for(;;){for(;!tt.h&&nt<en;){if(Le&un||(An=$s(Et,Le,_e)),e(null!=An),ce(tt),256>(Rt=Ys(An.G[0],An.H[0],tt)))ve[vt+nt]=Rt,++nt,++Le>=lt&&(Le=0,++_e<=R&&!(_e%16)&&tu(Be,_e));else{if(!(280>Rt)){sn=0;break t}Rt=Fa(Rt-256,tt);var Vn,On=Ys(An.G[4],An.H[4],tt);if(ce(tt),!(nt>=(On=kc(lt,On=Fa(On,tt)))&&At-nt>=Rt)){sn=0;break t}for(Vn=0;Vn<Rt;++Vn)ve[vt+nt+Vn]=ve[vt+nt+Vn-On];for(nt+=Rt,Le+=Rt;Le>=lt;)Le-=lt,++_e<=R&&!(_e%16)&&tu(Be,_e);nt<en&&Le&un&&(An=$s(Et,Le,_e))}e(tt.h==Z(tt))}tu(Be,_e>R?R:_e);break t}!sn||tt.h&&nt<At?(sn=0,Be.a=tt.h?5:3):Be.$=nt,R=sn}else R=nu(Be,Be.V,Be.Ba,Be.c,Be.i,R,hC);if(!R){X=0;break e}}Y+X>=Ce&&(v.Cc=1),X=1}if(!X)return null;if(v.Cc&&(null!=(X=v.ga)&&(X.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+Y*fe}function U(v,R,Y,X,fe,Ce){for(;0<fe--;){var Be,ve=v,_e=R+(Y?1:0),Le=v,tt=R+(Y?0:3);for(Be=0;Be<X;++Be){var Et=Le[tt+4*Be];255!=Et&&(ve[_e+4*Be+0]=ve[_e+4*Be+0]*(Et*=32897)>>23,ve[_e+4*Be+1]=ve[_e+4*Be+1]*Et>>23,ve[_e+4*Be+2]=ve[_e+4*Be+2]*Et>>23)}R+=Ce}}function de(v,R,Y,X,fe){for(;0<X--;){var Ce;for(Ce=0;Ce<Y;++Ce){var Be=v[R+2*Ce+0],ve=15&(Le=v[R+2*Ce+1]),_e=4369*ve,Le=(240&Le|Le>>4)*_e>>16;v[R+2*Ce+0]=(240&Be|Be>>4)*_e>>16&240|(15&Be|Be<<4)*_e>>16>>4&15,v[R+2*Ce+1]=240&Le|ve}R+=fe}}function Ke(v,R,Y,X,fe,Ce,Be,ve){var _e,Le,tt=255;for(Le=0;Le<fe;++Le){for(_e=0;_e<X;++_e){var Et=v[R+_e];Ce[Be+4*_e]=Et,tt&=Et}R+=Y,Be+=ve}return 255!=tt}function je(v,R,Y,X,fe){var Ce;for(Ce=0;Ce<fe;++Ce)Y[X+Ce]=v[R+Ce]>>8}function dt(){Lg=U,ws=de,_s=Ke,Fo=je}function Gt(v,R,Y){S[v]=function(X,fe,Ce,Be,ve,_e,Le,tt,Et,vt,lt,sn,Rt,nt,At,en,un){var An,Vn=un-1>>1,On=ve[_e+0]|Le[tt+0]<<16,yi=Et[vt+0]|lt[sn+0]<<16;e(null!=X);var Hn=3*On+yi+131074>>2;for(R(X[fe+0],255&Hn,Hn>>16,Rt,nt),null!=Ce&&R(Ce[Be+0],255&(Hn=3*yi+On+131074>>2),Hn>>16,At,en),An=1;An<=Vn;++An){var GA=ve[_e+An]|Le[tt+An]<<16,ZA=Et[vt+An]|lt[sn+An]<<16,EA=On+GA+yi+ZA+524296,Wr=EA+2*(GA+yi)>>3;Hn=Wr+On>>1,On=(EA=EA+2*(On+ZA)>>3)+GA>>1,R(X[fe+2*An-1],255&Hn,Hn>>16,Rt,nt+(2*An-1)*Y),R(X[fe+2*An-0],255&On,On>>16,Rt,nt+(2*An-0)*Y),null!=Ce&&(On=Wr+ZA>>1,R(Ce[Be+2*An-1],255&(Hn=EA+yi>>1),Hn>>16,At,en+(2*An-1)*Y),R(Ce[Be+2*An+0],255&On,On>>16,At,en+(2*An+0)*Y)),On=GA,yi=ZA}1&un||(R(X[fe+un-1],255&(Hn=3*On+yi+131074>>2),Hn>>16,Rt,nt+(un-1)*Y),null!=Ce&&R(Ce[Be+un-1],255&(Hn=3*yi+On+131074>>2),Hn>>16,At,en+(un-1)*Y))}}function fn(){Og[mT]=Ygt,Og[CT]=bhe,Og[yhe]=Kgt,Og[IT]=She,Og[BT]=Mhe,Og[zY]=Nhe,Og[Qhe]=qgt,Og[WY]=bhe,Og[jY]=She,Og[ET]=Mhe,Og[ZY]=Nhe}function Jn(v){return v&~Jgt?0>v?0:255:v>>xhe}function di(v,R){return Jn((19077*v>>8)+(26149*R>>8)-14234)}function gr(v,R,Y){return Jn((19077*v>>8)-(6419*R>>8)-(13320*Y>>8)+8708)}function ar(v,R){return Jn((19077*v>>8)+(33050*R>>8)-17685)}function uA(v,R,Y,X,fe){X[fe+0]=di(v,Y),X[fe+1]=gr(v,R,Y),X[fe+2]=ar(v,R)}function eo(v,R,Y,X,fe){X[fe+0]=ar(v,R),X[fe+1]=gr(v,R,Y),X[fe+2]=di(v,Y)}function fo(v,R,Y,X,fe){var Ce=gr(v,R,Y);R=Ce<<3&224|ar(v,R)>>3,X[fe+0]=248&di(v,Y)|Ce>>5,X[fe+1]=R}function Wo(v,R,Y,X,fe){var Ce=240&ar(v,R)|15;X[fe+0]=240&di(v,Y)|gr(v,R,Y)>>4,X[fe+1]=Ce}function Pc(v,R,Y,X,fe){X[fe+0]=255,uA(v,R,Y,X,fe+1)}function ka(v,R,Y,X,fe){eo(v,R,Y,X,fe),X[fe+3]=255}function Yh(v,R,Y,X,fe){uA(v,R,Y,X,fe),X[fe+3]=255}function Uu(v,R){return 0>v?0:v>R?R:v}function qf(v,R,Y){S[v]=function(X,fe,Ce,Be,ve,_e,Le,tt,Et){for(var vt=tt+(-2&Et)*Y;tt!=vt;)R(X[fe+0],Ce[Be+0],ve[_e+0],Le,tt),R(X[fe+1],Ce[Be+0],ve[_e+0],Le,tt+Y),fe+=2,++Be,++_e,tt+=2*Y;1&Et&&R(X[fe+0],Ce[Be+0],ve[_e+0],Le,tt)}}function lT(v,R,Y){return 0==Y?0==v?0==R?6:5:0==R?4:0:Y}function JD(v,R,Y,X,fe){switch(v>>>30){case 3:mp(R,Y,X,fe,0);break;case 2:xo(R,Y,X,fe);break;case 1:vl(R,Y,X,fe)}}function VD(v,R){var Y,X,fe=R.M,Ce=R.Nb,Be=v.oc,ve=v.pc+40,_e=v.oc,Le=v.pc+584,tt=v.oc,Et=v.pc+600;for(Y=0;16>Y;++Y)Be[ve+32*Y-1]=129;for(Y=0;8>Y;++Y)_e[Le+32*Y-1]=129,tt[Et+32*Y-1]=129;for(0<fe?Be[ve-1-32]=_e[Le-1-32]=tt[Et-1-32]=129:(r(Be,ve-32-1,127,21),r(_e,Le-32-1,127,9),r(tt,Et-32-1,127,9)),X=0;X<v.za;++X){var vt=R.ya[R.aa+X];if(0<X){for(Y=-1;16>Y;++Y)i(Be,ve+32*Y-4,Be,ve+32*Y+12,4);for(Y=-1;8>Y;++Y)i(_e,Le+32*Y-4,_e,Le+32*Y+4,4),i(tt,Et+32*Y-4,tt,Et+32*Y+4,4)}var lt=v.Gd,sn=v.Hd+X,Rt=vt.ad,nt=vt.Hc;if(0<fe&&(i(Be,ve-32,lt[sn].y,0,16),i(_e,Le-32,lt[sn].f,0,8),i(tt,Et-32,lt[sn].ea,0,8)),vt.Za){var At=Be,en=ve-32+16;for(0<fe&&(X>=v.za-1?r(At,en,lt[sn].y[15],4):i(At,en,lt[sn+1].y,0,4)),Y=0;4>Y;Y++)At[en+128+Y]=At[en+256+Y]=At[en+384+Y]=At[en+0+Y];for(Y=0;16>Y;++Y,nt<<=2)Kh[vt.Ob[Y]](At=Be,en=ve+Rhe[Y]),JD(nt,Rt,16*+Y,At,en)}else if(At=lT(X,fe,vt.Ob[0]),vC[At](Be,ve),0!=nt)for(Y=0;16>Y;++Y,nt<<=2)JD(nt,Rt,16*+Y,Be,ve+Rhe[Y]);for(Y=vt.Gc,At=lT(X,fe,vt.Dd),Ip[At](_e,Le),Ip[At](tt,Et),nt=Rt,At=_e,en=Le,255&(vt=0|Y)&&(170&vt?XD(nt,256,At,en):Tg(nt,256,At,en)),vt=tt,nt=Et,255&(Y>>=8)&&(170&Y?XD(Rt,320,vt,nt):Tg(Rt,320,vt,nt)),fe<v.Ub-1&&(i(lt[sn].y,0,Be,ve+480,16),i(lt[sn].f,0,_e,Le+224,8),i(lt[sn].ea,0,tt,Et+224,8)),lt=v.sa,sn=v.ta+16*X+16*Ce*v.R,Rt=v.qa,vt=v.ra+8*X+(Y=8*Ce*v.B),nt=v.Ha,At=v.Ia+8*X+Y,Y=0;16>Y;++Y)i(lt,sn+Y*v.R,Be,ve+32*Y,16);for(Y=0;8>Y;++Y)i(Rt,vt+Y*v.B,_e,Le+32*Y,8),i(nt,At+Y*v.B,tt,Et+32*Y,8)}}function Zy(v,R,Y,X,fe,Ce,Be,ve,_e){var Le=[0],tt=[0],Et=0,vt=null!=_e?_e.kd:0,lt=_e??new HD;if(null==v||12>Y)return 7;lt.data=v,lt.w=R,lt.ha=Y,R=[R],Y=[Y],lt.gb=[lt.gb];e:{var sn=R,Rt=Y,nt=lt.gb;if(e(null!=v),e(null!=Rt),e(null!=nt),nt[0]=0,12<=Rt[0]&&!t(v,sn[0],"RIFF")){if(t(v,sn[0]+8,"WEBP")){nt=3;break e}var At=Ne(v,sn[0]+4);if(12>At||4294967286<At){nt=3;break e}if(vt&&At>Rt[0]-8){nt=7;break e}nt[0]=At,sn[0]+=12,Rt[0]-=12}nt=0}if(0!=nt)return nt;for(At=0<lt.gb[0],Y=Y[0];;){e:{var en=v;Rt=R,nt=Y;var un=Le,An=tt,Vn=sn=[0];if((Hn=Et=[Et])[0]=0,8>nt[0])nt=7;else{if(!t(en,Rt[0],"VP8X")){if(10!=Ne(en,Rt[0]+4)){nt=3;break e}if(18>nt[0]){nt=7;break e}var On=Ne(en,Rt[0]+8),yi=1+Ie(en,Rt[0]+12);if(2147483648<=yi*(en=1+Ie(en,Rt[0]+15))){nt=3;break e}null!=Vn&&(Vn[0]=On),null!=un&&(un[0]=yi),null!=An&&(An[0]=en),Rt[0]+=18,nt[0]-=18,Hn[0]=1}nt=0}}if(Et=Et[0],0!=nt)return nt;if(Rt=!!(2&(sn=sn[0])),!At&&Et)return 3;if(null!=Ce&&(Ce[0]=!!(16&sn)),null!=Be&&(Be[0]=Rt),null!=ve&&(ve[0]=0),Be=Le[0],sn=tt[0],Et&&Rt&&null==_e){nt=0;break}if(4>Y){nt=7;break}if(At&&Et||!At&&!Et&&!t(v,R[0],"ALPH")){Y=[Y],lt.na=[lt.na],lt.P=[lt.P],lt.Sa=[lt.Sa];e:{nt=R,At=Y;var Hn=lt.gb;un=lt.na,An=lt.P,Vn=lt.Sa,yi=22,e(null!=(On=v)),e(null!=At),en=nt[0];var GA=At[0];for(e(null!=un),e(null!=Vn),un[0]=null,An[0]=null,Vn[0]=0;;){if(nt[0]=en,At[0]=GA,8>GA){nt=7;break e}var ZA=Ne(On,en+4);if(4294967286<ZA){nt=3;break e}var EA=8+ZA+1&-2;if(yi+=EA,0<Hn&&yi>Hn){nt=3;break e}if(!t(On,en,"VP8 ")||!t(On,en,"VP8L")){nt=0;break e}if(GA[0]<EA){nt=7;break e}t(On,en,"ALPH")||(un[0]=On,An[0]=en+8,Vn[0]=ZA),en+=EA,GA-=EA}}if(Y=Y[0],lt.na=lt.na[0],lt.P=lt.P[0],lt.Sa=lt.Sa[0],0!=nt)break}Y=[Y],lt.Ja=[lt.Ja],lt.xa=[lt.xa];e:if(Hn=v,nt=R,At=Y,un=lt.gb[0],An=lt.Ja,Vn=lt.xa,On=nt[0],en=!t(Hn,On,"VP8 "),yi=!t(Hn,On,"VP8L"),e(null!=Hn),e(null!=At),e(null!=An),e(null!=Vn),8>At[0])nt=7;else{if(en||yi){if(Hn=Ne(Hn,On+4),12<=un&&Hn>un-12){nt=3;break e}if(vt&&Hn>At[0]-8){nt=7;break e}An[0]=Hn,nt[0]+=8,At[0]-=8,Vn[0]=yi}else Vn[0]=5<=At[0]&&47==Hn[On+0]&&!(Hn[On+4]>>5),An[0]=At[0];nt=0}if(Y=Y[0],lt.Ja=lt.Ja[0],lt.xa=lt.xa[0],R=R[0],0!=nt)break;if(4294967286<lt.Ja)return 3;if(null==ve||Rt||(ve[0]=lt.xa?2:1),Be=[Be],sn=[sn],lt.xa){if(5>Y){nt=7;break}ve=Be,vt=sn,Rt=Ce,null==v||5>Y?v=0:5<=Y&&47==v[R+0]&&!(v[R+4]>>5)?(At=[0],Hn=[0],un=[0],J(An=new K,v,R,Y),ii(An,At,Hn,un)?(null!=ve&&(ve[0]=At[0]),null!=vt&&(vt[0]=Hn[0]),null!=Rt&&(Rt[0]=un[0]),v=1):v=0):v=0}else{if(10>Y){nt=7;break}ve=sn,null==v||10>Y||!Yr(v,R+3,Y-3)?v=0:(vt=v[R+0]|v[R+1]<<8|v[R+2]<<16,Rt=16383&(v[R+7]<<8|v[R+6]),v=16383&(v[R+9]<<8|v[R+8]),1&vt||3<(vt>>1&7)||!(vt>>4&1)||vt>>5>=lt.Ja||!Rt||!v?v=0:(Be&&(Be[0]=Rt),ve&&(ve[0]=v),v=1))}if(!v||(Be=Be[0],sn=sn[0],Et&&(Le[0]!=Be||tt[0]!=sn)))return 3;null!=_e&&(_e[0]=lt,_e.offset=R-_e.w,e(4294967286>R-_e.w),e(_e.offset==_e.ha-Y));break}return 0==nt||7==nt&&Et&&null==_e?(null!=Ce&&(Ce[0]|=null!=lt.na&&0<lt.na.length),null!=X&&(X[0]=Be),null!=fe&&(fe[0]=sn),0):nt}function zD(v,R,Y){var X=R.width,fe=R.height,Ce=0,Be=0,ve=X,_e=fe;if(R.Da=null!=v&&0<v.Da,R.Da&&(ve=v.cd,_e=v.bd,Ce=v.v,Be=v.j,11>Y||(Ce&=-2,Be&=-2),0>Ce||0>Be||0>=ve||0>=_e||Ce+ve>X||Be+_e>fe))return 0;if(R.v=Ce,R.j=Be,R.va=Ce+ve,R.o=Be+_e,R.U=ve,R.T=_e,R.da=null!=v&&0<v.da,R.da){if(!Te(ve,_e,Y=[v.ib],Ce=[v.hb]))return 0;R.ib=Y[0],R.hb=Ce[0]}return R.ob=null!=v&&v.ob,R.Kb=null==v||!v.Sd,R.da&&(R.ob=R.ib<3*X/4&&R.hb<3*fe/4,R.Kb=0),1}function WD(v){if(null==v)return 2;if(11>v.S){var R=v.f.RGBA;R.fb+=(v.height-1)*R.A,R.A=-R.A}else(R=v.f.kb).O+=((v=v.height)-1)*R.fa,R.fa=-R.fa,R.N+=(v-1>>1)*R.Ab,R.Ab=-R.Ab,R.W+=(v-1>>1)*R.Db,R.Db=-R.Db,null!=R.F&&(R.J+=(v-1)*R.lb,R.lb=-R.lb);return 0}function Xy(v,R,Y,X){if(null==X||0>=v||0>=R)return 2;if(null!=Y){if(Y.Da){var fe=Y.cd,Ce=Y.bd,Be=-2&Y.v,ve=-2&Y.j;if(0>Be||0>ve||0>=fe||0>=Ce||Be+fe>v||ve+Ce>R)return 2;v=fe,R=Ce}if(Y.da){if(!Te(v,R,fe=[Y.ib],Ce=[Y.hb]))return 2;v=fe[0],R=Ce[0]}}X.width=v,X.height=R;e:{var _e=X.width,Le=X.height;if(v=X.S,0>=_e||0>=Le||!(v>=mT&&13>v))v=2;else{if(0>=X.Rd&&null==X.sd){Be=Ce=fe=R=0;var tt=(ve=_e*The[v])*Le;if(11>v||(Ce=(Le+1)/2*(R=(_e+1)/2),12==v&&(Be=(fe=_e)*Le)),null==(Le=A(tt+2*Ce+Be))){v=1;break e}X.sd=Le,11>v?((_e=X.f.RGBA).eb=Le,_e.fb=0,_e.A=ve,_e.size=tt):((_e=X.f.kb).y=Le,_e.O=0,_e.fa=ve,_e.Fd=tt,_e.f=Le,_e.N=0+tt,_e.Ab=R,_e.Cd=Ce,_e.ea=Le,_e.W=0+tt+Ce,_e.Db=R,_e.Ed=Ce,12==v&&(_e.F=Le,_e.J=0+tt+2*Ce),_e.Tc=Be,_e.lb=fe)}if(R=1,Ce=X.width,Be=X.height,(fe=X.S)>=mT&&13>fe)if(11>fe)v=X.f.RGBA,R&=(ve=Math.abs(v.A))*(Be-1)+Ce<=v.size,R&=ve>=Ce*The[fe],R&=null!=v.eb;else{v=X.f.kb,ve=(Ce+1)/2,tt=(Be+1)/2,_e=Math.abs(v.fa),Le=Math.abs(v.Ab);var Et=Math.abs(v.Db),vt=Math.abs(v.lb);R&=_e*(Be-1)+Ce<=v.Fd,R&=Le*(tt-1)+ve<=v.Cd,R=(R&=Et*(tt-1)+ve<=v.Ed)&_e>=Ce&Le>=ve&Et>=ve,R&=null!=v.y,R&=null!=v.f,R&=null!=v.ea,12==fe&&(R&=vt>=Ce,R&=vt*(Be-1)+Ce<=v.Tc,R&=null!=v.F)}else R=0;v=R?0:2}}return 0!=v||null!=Y&&Y.fd&&(v=WD(X)),v}var oc=64,$y=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],eQ=24,tQ=32,jD=8,ru=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(v){return v},S.Predictor2=function(v,R,Y){return R[Y+0]},S.Predictor3=function(v,R,Y){return R[Y+1]},S.Predictor4=function(v,R,Y){return R[Y-1]},S.Predictor5=function(v,R,Y){return te(te(v,R[Y+1]),R[Y+0])},S.Predictor6=function(v,R,Y){return te(v,R[Y-1])},S.Predictor7=function(v,R,Y){return te(v,R[Y+0])},S.Predictor8=function(v,R,Y){return te(R[Y-1],R[Y+0])},S.Predictor9=function(v,R,Y){return te(R[Y+0],R[Y+1])},S.Predictor10=function(v,R,Y){return te(te(v,R[Y-1]),te(R[Y+0],R[Y+1]))},S.Predictor11=function(v,R,Y){var X=R[Y+0];return 0>=ut(X>>24&255,v>>24&255,(R=R[Y-1])>>24&255)+ut(X>>16&255,v>>16&255,R>>16&255)+ut(X>>8&255,v>>8&255,R>>8&255)+ut(255&X,255&v,255&R)?X:v},S.Predictor12=function(v,R,Y){var X=R[Y+0];return(Ye((v>>24&255)+(X>>24&255)-((R=R[Y-1])>>24&255))<<24|Ye((v>>16&255)+(X>>16&255)-(R>>16&255))<<16|Ye((v>>8&255)+(X>>8&255)-(R>>8&255))<<8|Ye((255&v)+(255&X)-(255&R)))>>>0},S.Predictor13=function(v,R,Y){var X=R[Y-1];return(Ve((v=te(v,R[Y+0]))>>24&255,X>>24&255)<<24|Ve(v>>16&255,X>>16&255)<<16|Ve(v>>8&255,X>>8&255)<<8|Ve(255&v,255&X))>>>0};var JY=S.PredictorAdd0;S.PredictorAdd1=it,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var ZD=S.PredictorAdd2;Sn("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Sn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var uT,Rg=S.ColorIndexInverseTransform,nQ=S.MapARGB,gT=S.VP8LColorIndexInverseTransformAlpha,hT=S.MapAlpha,CC=S.VP8LPredictorsAdd=[];CC.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var JB,Au,El,IC,dp,pp,iQ,mp,xo,XD,vl,Tg,rQ,fT,$D,VB,zB,BC,WB,AQ,jB,EC,eb,kg,Lg,ws,_s,Fo,fa=A(511),Cp=A(2041),tb=A(225),sQ=A(767),dT=0,VY=Cp,pT=tb,Ou=sQ,Ug=fa,mT=0,CT=1,yhe=2,IT=3,BT=4,zY=5,Qhe=6,WY=7,jY=8,ET=9,ZY=10,Sgt=[2,3,7],Mgt=[3,3,11],whe=[280,256,256,256,40],Ngt=[0,1,1,1,0],xgt=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Fgt=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rgt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tgt=8,XY=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$Y=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],nb=null,kgt=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Lgt=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_he=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ugt=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ogt=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ggt=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pgt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vC=[],Kh=[],Ip=[],Hgt=1,Dhe=2,yC=[],Og=[];Gt("UpsampleRgbLinePair",uA,3),Gt("UpsampleBgrLinePair",eo,3),Gt("UpsampleRgbaLinePair",Yh,4),Gt("UpsampleBgraLinePair",ka,4),Gt("UpsampleArgbLinePair",Pc,4),Gt("UpsampleRgba4444LinePair",Wo,2),Gt("UpsampleRgb565LinePair",fo,2);var Ygt=S.UpsampleRgbLinePair,Kgt=S.UpsampleBgrLinePair,bhe=S.UpsampleRgbaLinePair,She=S.UpsampleBgraLinePair,Mhe=S.UpsampleArgbLinePair,Nhe=S.UpsampleRgba4444LinePair,qgt=S.UpsampleRgb565LinePair,vT=16,yT=1<<vT-1,ib=-227,eK=482,xhe=6,Jgt=(256<<xhe)-1,Fhe=0,Vgt=A(256),zgt=A(256),Wgt=A(256),jgt=A(256),Zgt=A(eK-ib),Xgt=A(eK-ib);qf("YuvToRgbRow",uA,3),qf("YuvToBgrRow",eo,3),qf("YuvToRgbaRow",Yh,4),qf("YuvToBgraRow",ka,4),qf("YuvToArgbRow",Pc,4),qf("YuvToRgba4444Row",Wo,2),qf("YuvToRgb565Row",fo,2);var Rhe=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],QT=[0,2,8],$gt=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(v,R,Y,X,fe){var Ce=CT,Be=new Wy,ve=new rt;Be.ba=ve,ve.S=Ce,ve.width=[ve.width],ve.height=[ve.height];var _e=ve.width,Le=ve.height,tt=new Nt;if(null==tt||null==v)var Et=2;else e(null!=tt),Et=Zy(v,R,Y,tt.width,tt.height,tt.Pd,tt.Qd,tt.format,null);if(0!=Et?_e=0:(null!=_e&&(_e[0]=tt.width[0]),null!=Le&&(Le[0]=tt.height[0]),_e=1),_e){ve.width=ve.width[0],ve.height=ve.height[0],null!=X&&(X[0]=ve.width),null!=fe&&(fe[0]=ve.height);e:{if(X=new Vr,(fe=new HD).data=v,fe.w=R,fe.ha=Y,fe.kd=1,R=[0],e(null!=fe),(0==(v=Zy(fe.data,fe.w,fe.ha,null,null,null,R,null,fe))||7==v)&&R[0]&&(v=4),0==(R=v)){if(e(null!=Be),X.data=fe.data,X.w=fe.w+fe.offset,X.ha=fe.ha-fe.offset,X.put=sr,X.ac=Sr,X.bc=Hs,X.ma=Be,fe.xa){if(null==(v=iu())){Be=1;break e}if(function(vt,lt){var sn=[0],Rt=[0],nt=[0];t:for(;;){if(null==vt)return 0;if(null==lt)return vt.a=2,0;if(vt.l=lt,vt.a=0,J(vt.m,lt.data,lt.w,lt.ha),!ii(vt.m,sn,Rt,nt)){vt.a=3;break t}if(vt.xb=Dhe,lt.width=sn[0],lt.height=Rt[0],!Fg(sn[0],Rt[0],1,vt,null))break t;return 1}return e(0!=vt.a),0}(v,X)){if(X=0==(R=Xy(X.width,X.height,Be.Oa,Be.ba))){t:{X=v;n:for(;;){if(null==X){X=0;break t}if(e(null!=X.s.yc),e(null!=X.s.Ya),e(0<X.s.Wb),e(null!=(Y=X.l)),e(null!=(fe=Y.ma)),0!=X.xb){if(X.ca=fe.ba,X.tb=fe.tb,e(null!=X.ca),!zD(fe.Oa,Y,IT)){X.a=2;break n}if(!gp(X,Y.width)||Y.da)break n;if((Y.da||we(X.ca.S))&&dt(),11>X.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=X.ca.f.kb.F&&dt()),X.Pb&&0<X.s.ua&&null==X.s.vb.X&&!Ae(X.s.vb,X.s.Wa.Xa)){X.a=1;break n}X.xb=0}if(!nu(X,X.V,X.Ba,X.c,X.i,Y.o,Gh))break n;fe.Dc=X.Ma,X=1;break t}e(0!=X.a),X=0}X=!X}X&&(R=v.a)}else R=v.a}else{if(null==(v=new ms)){Be=1;break e}if(v.Fa=fe.na,v.P=fe.P,v.qc=fe.Sa,hi(v,X)){if(0==(R=Xy(X.width,X.height,Be.Oa,Be.ba))){if(v.Aa=0,Y=Be.Oa,e(null!=(fe=v)),null!=Y){if(0<(_e=0>(_e=Y.Md)?0:100<_e?255:255*_e/100)){for(Le=tt=0;4>Le;++Le)12>(Et=fe.pb[Le]).lc&&(Et.ia=_e*$gt[0>Et.lc?0:Et.lc]>>3),tt|=Et.ia;tt&&(alert("todo:VP8InitRandom"),fe.ia=1)}fe.Ga=Y.Id,100<fe.Ga?fe.Ga=100:0>fe.Ga&&(fe.Ga=0)}(function Bl(v,R){if(null==v)return 0;if(null==R)return or(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!hi(v,R))return 0;if(e(v.cb),null==R.ac||R.ac(R)){R.ob&&(v.L=0);var Y=QT[v.L];if(2==v.L?(v.yb=0,v.zb=0):(v.yb=R.v-Y>>4,v.zb=R.j-Y>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=R.o+15+Y>>4,v.Hb=R.va+15+Y>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var X=v.ed;for(Y=0;4>Y;++Y){var fe;if(v.Qa.Cb){var Ce=v.Qa.Lb[Y];v.Qa.Fb||(Ce+=X.Tb)}else Ce=X.Tb;for(fe=0;1>=fe;++fe){var Be=v.gd[Y][fe],ve=Ce;if(X.Pc&&(ve+=X.vd[0],fe&&(ve+=X.od[0])),0<(ve=0>ve?0:63<ve?63:ve)){var _e=ve;0<X.wb&&(_e=4<X.wb?_e>>2:_e>>1)>9-X.wb&&(_e=9-X.wb),1>_e&&(_e=1),Be.dd=_e,Be.tc=2*ve+_e,Be.ld=40<=ve?2:15<=ve?1:0}else Be.tc=0;Be.La=fe}}}Y=0}else or(v,6,"Frame setup failed"),Y=v.a;if(Y=0==Y){if(Y){v.$c=0,0<v.Aa||(v.Ic=1);e:{X=4*(_e=v.za);var Le=32*_e,tt=_e+1,Et=0<v.L?_e*(0<v.Aa?2:1):0,vt=(2==v.Aa?2:1)*_e;if((Be=X+832+(fe=3*(16*(Y=v.Ic)+QT[v.L])/2*Le)+(Ce=null!=v.Fa&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=Be)Y=0;else{if(Be>v.Vb){if(v.Vb=0,v.Ec=A(Be),v.Fc=0,null==v.Ec){Y=or(v,1,"no memory during frame initialization.");break e}v.Vb=Be}ve=v.Fc,v.Ac=Be=v.Ec,v.Bc=ve,ve+=X,v.Gd=s(Le,gi),v.Hd=0,v.rb=s(tt+1,jn),v.sb=1,v.wa=Et?s(Et,Fn):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=_e),e(!0),v.oc=Be,v.pc=ve,ve+=832,v.ya=s(vt,Di),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,2==v.Aa&&(v.D.aa+=_e),v.R=16*_e,v.B=8*_e,_e=(Le=QT[v.L])*v.R,Le=Le/2*v.B,v.sa=Be,v.ta=ve+_e,v.qa=v.sa,v.ra=v.ta+16*Y*v.R+Le,v.Ha=v.qa,v.Ia=v.ra+8*Y*v.B+Le,v.$c=0,ve+=fe,v.mb=Ce?Be:null,v.nb=Ce?ve:null,e(ve+Ce<=v.Fc+v.Vb),zr(v),r(v.Ac,v.Bc,0,X),Y=1}}if(Y){if(R.ka=0,R.y=v.sa,R.O=v.ta,R.f=v.qa,R.N=v.ra,R.ea=v.Ha,R.Vd=v.Ia,R.fa=v.R,R.Rc=v.B,R.F=null,R.J=0,!dT){for(Y=-255;255>=Y;++Y)fa[255+Y]=0>Y?-Y:Y;for(Y=-1020;1020>=Y;++Y)Cp[1020+Y]=-128>Y?-128:127<Y?127:Y;for(Y=-112;112>=Y;++Y)tb[112+Y]=-16>Y?-16:15<Y?15:Y;for(Y=-255;510>=Y;++Y)sQ[255+Y]=0>Y?0:255<Y?255:Y;dT=1}iQ=Ph,mp=Oc,XD=zo,vl=Ta,Tg=fC,xo=sc,rQ=OD,fT=KB,$D=KY,VB=GD,zB=YY,BC=zy,WB=PD,AQ=aT,jB=oT,EC=Kf,eb=fp,kg=HY,Kh[0]=Yf,Kh[1]=xY,Kh[2]=kY,Kh[3]=LY,Kh[4]=nT,Kh[5]=Jy,Kh[6]=iT,Kh[7]=kD,Kh[8]=OY,Kh[9]=UY,vC[0]=eT,vC[1]=RY,vC[2]=hp,vC[3]=Ky,vC[4]=Gc,vC[5]=TY,vC[6]=tT,Ip[0]=dC,Ip[1]=FY,Ip[2]=GY,Ip[3]=LD,Ip[4]=YB,Ip[5]=PY,Ip[6]=UD,Y=1}else Y=0}Y&&(Y=function(lt,sn){for(lt.M=0;lt.M<lt.Va;++lt.M){var Rt,nt=lt.Jc[lt.M&lt.Xb],At=lt.m,en=lt;for(Rt=0;Rt<en.za;++Rt){var un=At,An=en,Vn=An.Ac,On=An.Bc+4*Rt,yi=An.zc,Hn=An.ya[An.aa+Rt];if(Hn.$b=An.Qa.Bb?ie(un,An.Pa.jb[0])?2+ie(un,An.Pa.jb[2]):ie(un,An.Pa.jb[1]):0,An.kc&&(Hn.Ad=ie(un,An.Bd)),Hn.Za=!ie(un,145)+0,Hn.Za){var GA=Hn.Ob,ZA=0;for(An=0;4>An;++An){var EA,Wr=yi[0+An];for(EA=0;4>EA;++EA){for(var Cs=_he[ie(un,(Wr=Ogt[Vn[On+EA]][Wr])[0])];0<Cs;)Cs=_he[2*Cs+ie(un,Wr[Cs])];Vn[On+EA]=Wr=-Cs}i(GA,ZA,Vn,On,4),ZA+=4,yi[0+An]=Wr}}else Wr=ie(un,156)?ie(un,128)?1:3:ie(un,163)?2:0,Hn.Ob[0]=Wr,r(Vn,On,Wr,4),r(yi,0,Wr,4);Hn.Dd=ie(un,142)?ie(un,114)?ie(un,183)?1:3:2:0}if(en.m.Ka)return or(lt,7,"Premature end-of-partition0 encountered.");for(;lt.ja<lt.za;++lt.ja){if(en=nt,un=(At=lt).rb[At.sb-1],Vn=At.rb[At.sb+At.ja],Rt=At.ya[At.aa+At.ja],On=At.kc?Rt.Ad:0)un.la=Vn.la=0,Rt.Za||(un.Na=Vn.Na=0),Rt.Hc=0,Rt.Gc=0,Rt.ia=0;else{var as,Er;if(un=Vn,Vn=en,On=At.Pa.Xc,Hn=At.pb[(yi=At.ya[At.aa+At.ja]).$b],ZA=At.rb[At.sb-1],Wr=EA=0,r(An=yi.ad,GA=0,0,384),yi.Za)var jo=0,su=On[3];else{Cs=A(16);var Zo=un.Na+ZA.Na;if(Zo=nb(Vn,On[1],Zo,Hn.Eb,0,Cs,0),un.Na=ZA.Na=(0<Zo)+0,1<Zo)iQ(Cs,0,An,GA);else{var ou=Cs[0]+3>>3;for(Cs=0;256>Cs;Cs+=16)An[GA+Cs]=ou}jo=1,su=On[0]}var XA=15&un.la,Gu=15&ZA.la;for(Cs=0;4>Cs;++Cs){var Pu=1&Gu;for(ou=Er=0;4>ou;++ou)XA=XA>>1|(Pu=(Zo=nb(Vn,su,Zo=Pu+(1&XA),Hn.Sc,jo,An,GA))>jo)<<7,Er=Er<<2|(3<Zo?3:1<Zo?2:0!=An[GA+0]),GA+=16;XA>>=4,Gu=Gu>>1|Pu<<7,EA=(EA<<8|Er)>>>0}for(su=XA,jo=Gu>>4,as=0;4>as;as+=2){for(Er=0,XA=un.la>>4+as,Gu=ZA.la>>4+as,Cs=0;2>Cs;++Cs){for(Pu=1&Gu,ou=0;2>ou;++ou)XA=XA>>1|(Pu=0<(Zo=nb(Vn,On[2],Zo=Pu+(1&XA),Hn.Qc,0,An,GA)))<<3,Er=Er<<2|(3<Zo?3:1<Zo?2:0!=An[GA+0]),GA+=16;XA>>=2,Gu=Gu>>1|Pu<<5}Wr|=Er<<4*as,su|=XA<<4<<as,jo|=(240&Gu)<<as}un.la=su,ZA.la=jo,yi.Hc=EA,yi.Gc=Wr,yi.ia=43690&Wr?0:Hn.ia,On=!(EA|Wr)}if(0<At.L&&(At.wa[At.Y+At.ja]=At.gd[Rt.$b][Rt.Za],At.wa[At.Y+At.ja].La|=!On),en.Ka)return or(lt,7,"Premature end-of-file encountered.")}if(zr(lt),At=sn,en=1,Rt=(nt=lt).D,un=0<nt.L&&nt.M>=nt.zb&&nt.M<=nt.Va,0==nt.Aa)e:{if(Rt.M=nt.M,Rt.uc=un,VD(nt,Rt),en=1,Rt=(Er=nt.D).Nb,un=(Wr=QT[nt.L])*nt.R,On=nt.sa,yi=nt.ta-un+(Cs=16*Rt*nt.R),Hn=nt.qa,An=nt.ra-(Vn=Wr/2*nt.B)+(ou=8*Rt*nt.B),GA=nt.Ha,ZA=nt.Ia-Vn+ou,Gu=0==(XA=Er.M),EA=XA>=nt.Va-1,2==nt.Aa&&VD(nt,Er),Er.uc)for(Pu=(Zo=nt).D.M,e(Zo.D.uc),Er=Zo.yb;Er<Zo.Hb;++Er){su=Pu;var La=(ac=(po=Zo).D).Nb,ac=ac.wa[ac.Y+(jo=Er)],yl=po.sa,Gg=po.ta+16*La*(as=po.R)+16*jo,Jf=ac.dd,Ua=ac.tc;if(0!=Ua)if(e(3<=Ua),1==po.L)0<jo&&EC(yl,Gg,as,Ua+4),ac.La&&kg(yl,Gg,as,Ua),0<su&&jB(yl,Gg,as,Ua+4),ac.La&&eb(yl,Gg,as,Ua);else{var Bp=po.B,ZB=po.qa,oQ=po.ra+8*La*Bp+8*jo,QC=po.Ha,po=po.Ia+8*La*Bp+8*jo;La=ac.ld,0<jo&&(fT(yl,Gg,as,Ua+4,Jf,La),VB(ZB,oQ,QC,po,Bp,Ua+4,Jf,La)),ac.La&&(BC(yl,Gg,as,Ua,Jf,La),AQ(ZB,oQ,QC,po,Bp,Ua,Jf,La)),0<su&&(rQ(yl,Gg,as,Ua+4,Jf,La),$D(ZB,oQ,QC,po,Bp,Ua+4,Jf,La)),ac.La&&(zB(yl,Gg,as,Ua,Jf,La),WB(ZB,oQ,QC,po,Bp,Ua,Jf,La))}}if(nt.ia&&alert("todo:DitherRow"),null!=At.put){if(Er=16*XA,XA=16*(XA+1),Gu?(At.y=nt.sa,At.O=nt.ta+Cs,At.f=nt.qa,At.N=nt.ra+ou,At.ea=nt.Ha,At.W=nt.Ia+ou):(Er-=Wr,At.y=On,At.O=yi,At.f=Hn,At.N=An,At.ea=GA,At.W=ZA),EA||(XA-=Wr),XA>At.o&&(XA=At.o),At.F=null,At.J=null,null!=nt.Fa&&0<nt.Fa.length&&Er<XA&&(At.J=qD(nt,At,Er,XA-Er),At.F=nt.mb,null==At.F&&0==At.F.length)){en=or(nt,3,"Could not decode alpha data.");break e}Er<At.j&&(Wr=At.j-Er,Er=At.j,e(!(1&Wr)),At.O+=nt.R*Wr,At.N+=nt.B*(Wr>>1),At.W+=nt.B*(Wr>>1),null!=At.F&&(At.J+=At.width*Wr)),Er<XA&&(At.O+=At.v,At.N+=At.v>>1,At.W+=At.v>>1,null!=At.F&&(At.J+=At.v),At.ka=Er-At.j,At.U=At.va-At.v,At.T=XA-Er,en=At.put(At))}Rt+1!=nt.Ic||EA||(i(nt.sa,nt.ta-un,On,yi+16*nt.R,un),i(nt.qa,nt.ra-Vn,Hn,An+8*nt.B,Vn),i(nt.Ha,nt.Ia-Vn,GA,ZA+8*nt.B,Vn))}if(!en)return or(lt,6,"Output aborted.")}return 1}(v,R)),null!=R.bc&&R.bc(R),Y&=1}return Y?(v.cb=0,Y):0})(v,X)||(R=v.a)}}else R=v.a}0==R&&null!=Be.Oa&&Be.Oa.fd&&(R=WD(Be.ba))}Be=R}Ce=0!=Be?null:11>Ce?ve.f.RGBA.eb:ve.f.kb.y}else Ce=null;return Ce};var The=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,w){for(var M="",D=0;D<4;D++)M+=String.fromCharCode(S[w++]);return M}function l(S,w){return(S[w+0]|S[w+1]<<8|S[w+2]<<16)>>>0}function u(S,w){return(S[w+0]|S[w+1]<<8|S[w+2]<<16|S[w+3]<<24)>>>0}new a;var h=[0],g=[0],f=[],d=new a,m=n,p=function(S,w){var M={},D=0,T=!1,O=0,G=0;if(M.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(z,Z,le,ce){for(var ge=0;ge<4;ge++)if(z[Z+ge]!="RIFF".charCodeAt(ge))return!0;return!1}(S,w)){var W,k;for(u(S,w+=4),w+=8;w<S.length;){var L=c(S,w),J=u(S,w+=4);w+=4;var H=J+(1&J);switch(L){case"VP8 ":case"VP8L":void 0===M.frames[D]&&(M.frames[D]={}),(K=M.frames[D]).src_off=T?G:w-8,K.src_size=O+J+8,D++,T&&(T=!1,O=0,G=0);break;case"VP8X":(K=M.header={}).feature_flags=S[w];var ue=w+4;K.canvas_width=1+l(S,ue),K.canvas_height=1+l(S,ue+=3),ue+=3;break;case"ALPH":T=!0,O=H+8,G=w-8;break;case"ANIM":(K=M.header).bgcolor=u(S,w),K.loop_count=(W=S)[(k=ue=w+4)+0]|W[k+1]<<8,ue+=2;break;case"ANMF":var ye,K;(K=M.frames[D]={}).offset_x=2*l(S,w),K.offset_y=2*l(S,w+=3),K.width=1+l(S,w+=3),K.height=1+l(S,w+=3),K.duration=l(S,w+=3),w+=3,ye=S[w++],K.dispose=1&ye,K.blend=ye>>1&1}"ANMF"!=L&&(w+=H)}return M}}(m,0);p.response=m,p.rgbaoutput=!0,p.dataurl=!1;var I=p.header?p.header:null,C=p.frames?p.frames:null;if(I){I.loop_counter=I.loop_count,h=[I.canvas_height],g=[I.canvas_width];for(var B=0;B<C.length&&0!=C[B].blend;B++);}var y=C[0],E=d.WebPDecodeRGBA(m,y.src_off,y.src_size,g,h);y.rgba=E,y.imgwidth=g[0],y.imgheight=h[0];for(var b=0;b<g[0]*h[0]*4;b++)f[b]=E[b];return this.width=g,this.height=h,this.data=f,this}(function(n){var t=function(h,g,f,d){var m=4,p=s;switch(d){case n.image_compression.FAST:m=1,p=A;break;case n.image_compression.MEDIUM:m=6,p=o;break;case n.image_compression.SLOW:m=9,p=a}var I=N1(h=i(h,g,f,p),{level:m});return n.__addimage__.arrayBufferToBinaryString(I)},i=function(h,g,f,d){for(var m,p,I,C=h.length/g,B=new Uint8Array(h.length+C),y=l(),E=0;E<C;E+=1){if(m=h.subarray(I=E*g,I+g),d)B.set(d(m,f,p),I+E);else{for(var b,S=y.length,w=[];b<S;b+=1)w[b]=y[b](m,f,p);var M=u(w.concat());B.set(w[M],I+E)}p=m}return B},r=function(h){var g=Array.apply([],h);return g.unshift(0),g},A=function(h,g){var d=[],m=h.length;d[0]=1;for(var p=0;p<m;p+=1)d[p+1]=h[p]-(h[p-g]||0)+256&255;return d},s=function(h,g,f){var m=[],p=h.length;m[0]=2;for(var I=0;I<p;I+=1)m[I+1]=h[I]-(f&&f[I]||0)+256&255;return m},o=function(h,g,f){var p=[],I=h.length;p[0]=3;for(var C=0;C<I;C+=1)p[C+1]=h[C]+256-((h[C-g]||0)+(f&&f[C]||0)>>>1)&255;return p},a=function(h,g,f){var I,C=[],B=h.length;C[0]=4;for(var y=0;y<B;y+=1)I=c(h[y-g]||0,f&&f[y]||0,f&&f[y-g]||0),C[y+1]=h[y]-I+256&255;return C},c=function(h,g,f){if(h===g&&g===f)return h;var d=Math.abs(g-f),m=Math.abs(h-f),p=Math.abs(h+g-f-f);return d<=m&&d<=p?h:m<=p?g:f},l=function(){return[r,A,s,o,a]},u=function(h){var g=h.map(function(f){return f.reduce(function(d,m){return d+Math.abs(m)},0)});return g.indexOf(Math.min.apply(null,g))};n.processPNG=function(h,g,f,d){var m,p,I,C,B,y,E,b,S,w,M,D,T,O,G,W=this.decode.FLATE_DECODE,k="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(I=new xLe(h)).imgData,p=I.bits,m=I.colorSpace,B=I.colors,-1!==[4,6].indexOf(I.colorType)){if(8===I.bits){S=(b=32==I.pixelBitlength?new Uint32Array(I.decodePixels().buffer):16==I.pixelBitlength?new Uint16Array(I.decodePixels().buffer):new Uint8Array(I.decodePixels().buffer)).length,M=new Uint8Array(S*I.colors),w=new Uint8Array(S);var L,J=I.pixelBitlength-I.bits;for(O=0,G=0;O<S;O++){for(T=b[O],L=0;L<J;)M[G++]=T>>>L&255,L+=I.bits;w[O]=T>>>L&255}}if(16===I.bits){S=(b=new Uint32Array(I.decodePixels().buffer)).length,M=new Uint8Array(S*(32/I.pixelBitlength)*I.colors),w=new Uint8Array(S*(32/I.pixelBitlength)),D=I.colors>1,O=0,G=0;for(var H=0;O<S;)T=b[O++],M[G++]=T>>>0&255,D&&(M[G++]=T>>>16&255,T=b[O++],M[G++]=T>>>0&255),w[H++]=T>>>16&255;p=8}d!==n.image_compression.NONE?(h=t(M,I.width*I.colors,I.colors,d),E=t(w,I.width,1,d)):(h=M,E=w,W=void 0)}if(3===I.colorType&&(m=this.color_spaces.INDEXED,y=I.palette,I.transparency.indexed)){var ue=I.transparency.indexed,ye=0;for(O=0,S=ue.length;O<S;++O)ye+=ue[O];if((ye/=255)==S-1&&-1!==ue.indexOf(0))C=[ue.indexOf(0)];else if(ye!==S){for(b=I.decodePixels(),w=new Uint8Array(b.length),O=0,S=b.length;O<S;O++)w[O]=ue[b[O]];E=t(w,I.width,1)}}var K=function(z){var Z;switch(z){case n.image_compression.FAST:Z=11;break;case n.image_compression.MEDIUM:Z=13;break;case n.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(d);return W===this.decode.FLATE_DECODE&&(k="/Predictor "+K+" "),k+="/Colors "+B+" /BitsPerComponent "+p+" /Columns "+I.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(E&&this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),{alias:f,data:h,index:g,filter:W,decodeParameters:k,transparency:C,palette:y,sMask:E,predictor:K,width:I.width,height:I.height,bitsPerComponent:p,colorSpace:m}}}})(Mi.API),function(n){n.processGIF89A=function(e,t,i,r){var A=new FLe(e),s=A.width,o=A.height,a=[];A.decodeAndBlitFrameRGBA(0,a);var c={data:a,width:s,height:o},l=new C4(100).encode(c,100);return n.processJPEG.call(this,l,t,i,r)},n.processGIF87A=n.processGIF89A}(Mi.API),Qh.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:t,quad:A}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qh.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(t){fs.log("bit decode error:"+t)}},Qh.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var A=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*r*4,o=0;o<8&&8*r+o<this.width;o++){var a=this.palette[A>>7-o&1];this.data[s+4*o]=a.blue,this.data[s+4*o+1]=a.green,this.data[s+4*o+2]=a.red,this.data[s+4*o+3]=255}0!==t&&(this.pos+=4-t)}},Qh.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++){var A=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*r*4,a=15&A,c=this.palette[A>>4];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*r+1>=this.width)break;this.data[s+4]=(c=this.palette[a]).blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}0!==e&&(this.pos+=4-e)}},Qh.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),A=t*this.width*4+4*i;if(r<this.palette.length){var s=this.palette[r];this.data[A]=s.red,this.data[A+1]=s.green,this.data[A+2]=s.blue,this.data[A+3]=255}else this.data[A]=255,this.data[A+1]=255,this.data[A+2]=255,this.data[A+3]=255}0!==n&&(this.pos+=4-n)}},Qh.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(A&e)/e*255|0,o=(A>>5&e)/e*255|0,c=A>>15?255:0,l=i*this.width*4+4*r;this.data[l]=(A>>10&e)/e*255|0,this.data[l+1]=o,this.data[l+2]=s,this.data[l+3]=c}this.pos+=n}},Qh.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,A=0;A<this.width;A++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&t)/t*255|0,l=r*this.width*4+4*A;this.data[l]=(s>>11)/e*255|0,this.data[l+1]=a,this.data[l+2]=o,this.data[l+3]=255}this.pos+=n}},Qh.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=A,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},Qh.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=A,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=s}},Qh.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processBMP=function(e,t,i,r){var A=new Qh(e,!1),s=A.width,o=A.height,a={data:A.getData(),width:s,height:o},c=new C4(100).encode(a,100);return n.processJPEG.call(this,c,t,i,r)}}(Mi.API),Gte.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processWEBP=function(e,t,i,r){var A=new Gte(e,!1),s=A.width,o=A.height,a={data:A.getData(),width:s,height:o},c=new C4(100).encode(a,100);return n.processJPEG.call(this,c,t,i,r)}}(Mi.API),Mi.API.processRGBA=function(n,e,t){for(var i=n.data,r=i.length,A=new Uint8Array(r/4*3),s=new Uint8Array(r/4),o=0,a=0,c=0;c<r;c+=4){var u=i[c+1],h=i[c+2],g=i[c+3];A[o++]=i[c],A[o++]=u,A[o++]=h,s[a++]=g}var f=this.__addimage__.arrayBufferToBinaryString(A);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:f,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Mi.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},q2=(Kv=Mi.API).getCharWidthsArray=function(n,e){var t,i,r=(e=e||{}).font||this.internal.getFont(),A=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:r.metadata.Unicode.widths,a=o.fof?o.fof:1,c=e.kerning?e.kerning:r.metadata.Unicode.kerning,l=c.fof?c.fof:1,u=!1!==e.doKerning,h=0,g=n.length,f=0,d=o[0]||a,m=[];for(t=0;t<g;t++)i=n.charCodeAt(t),"function"==typeof r.metadata.widthOfString?m.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+s*(1e3/A)||0)/1e3):(h=u&&"object"===(0,hs.A)(c[i])&&!isNaN(parseInt(c[i][f],10))?c[i][f]/l:0,m.push((o[i]||d)/a+h)),f=i;return m},kte=Kv.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Kv.processArabic&&(n=Kv.processArabic(n)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(n,t,r)/t:q2.apply(this,arguments).reduce(function(A,s){return A+s},0)},Lte=function(n,e,t,i){for(var r=[],A=0,s=n.length,o=0;A!==s&&o+e[A]<t;)o+=e[A],A++;r.push(n.slice(0,A));var a=A;for(o=0;A!==s;)o+e[A]>i&&(r.push(n.slice(a,A)),o=0,a=A),o+=e[A],A++;return a!==A&&r.push(n.slice(a,A)),r},Ute=function(n,e,t){t||(t={});var i,r,A,s,o,a,l=[],u=[l],h=t.textIndent||0,g=0,f=0,d=n.split(" "),m=q2.apply(this,[" ",t])[0];if(a=-1===t.lineIndent?d[0].length+2:t.lineIndent||0){var p=Array(a).join(" "),I=[];d.map(function(B){(B=B.split(/\s*\n/)).length>1?I=I.concat(B.map(function(y,E){return(E&&y.length?"\n":"")+y})):I.push(B[0])}),d=I,a=kte.apply(this,[p,t])}for(A=0,s=d.length;A<s;A++){var C=0;if(i=d[A],a&&"\n"==i[0]&&(i=i.substr(1),C=1),h+g+(f=(r=q2.apply(this,[i,t])).reduce(function(B,y){return B+y},0))>e||C){if(f>e){for(o=Lte.apply(this,[i,r,e-(h+g),e]),l.push(o.shift()),l=[o.pop()];o.length;)u.push([o.shift()]);f=r.slice(i.length-(l[0]?l[0].length:0)).reduce(function(B,y){return B+y},0)}else l=[i];u.push(l),h=f+a,g=m}else l.push(i),h+=g+f,g=m}return u.map(a?function(B,y){return(y?p:"")+B.join(" ")}:function(B){return B.join(" ")})},Kv.splitTextToSize=function(n,e,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),A=function(l){if(l.widths&&l.kerning)return{widths:l.widths,kerning:l.kerning};var u=this.internal.getFont(l.fontName,l.fontStyle);return u.metadata.Unicode?{widths:u.metadata.Unicode.widths||{0:1},kerning:u.metadata.Unicode.kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/r;A.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,A.lineIndent=t.lineIndent;var o,a,c=[];for(o=0,a=i.length;o<a;o++)c=c.concat(Ute.apply(this,[i[o],s,A]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},i={},r=0;r<16;r++)t[e[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=e[r];var A=function(u){return"0x"+parseInt(u,10).toString(16)},s=n.__fontmetrics__.compress=function(u){var h,g,f,d,m=["{"];for(var p in u){if(h=u[p],isNaN(parseInt(p,10))?g="'"+p+"'":(p=parseInt(p,10),g=(g=A(p).slice(2)).slice(0,-1)+i[g.slice(-1)]),"number"==typeof h)h<0?(f=A(h).slice(3),d="-"):(f=A(h).slice(2),d=""),f=d+f.slice(0,-1)+i[f.slice(-1)];else{if("object"!==(0,hs.A)(h))throw new Error("Don't know what to do with value type "+(0,hs.A)(h)+".");f=s(h)}m.push(g+f)}return m.push("}"),m.join("")},o=n.__fontmetrics__.uncompress=function(u){if("string"!=typeof u)throw new Error("Invalid argument passed to uncompress.");for(var h,g,f,d,m={},p=1,I=m,C=[],B="",y="",E=u.length-1,b=1;b<E;b+=1)"'"==(d=u[b])?h?(f=h.join(""),h=void 0):h=[]:h?h.push(d):"{"==d?(C.push([I,f]),I={},f=void 0):"}"==d?((g=C.pop())[0][g[1]]=I,f=void 0,I=g[0]):"-"==d?p=-1:void 0===f?t.hasOwnProperty(d)?(B+=t[d],f=parseInt(B,16)*p,p=1,B=""):B+=d:t.hasOwnProperty(d)?(y+=t[d],I[f]=parseInt(y,16)*p,p=1,f=void 0,y=""):y+=d;return m},a={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:a,"Courier-Bold":a,"Courier-BoldOblique":a,"Courier-Oblique":a,Helvetica:a,"Helvetica-Bold":a,"Helvetica-BoldOblique":a,"Helvetica-Oblique":a,"Times-Roman":a,"Times-Bold":a,"Times-BoldItalic":a,"Times-Italic":a}},l={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(u){var h=u.font,g=l.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var f=c.Unicode[h.postScriptName];f&&(h.metadata.Unicode.encoding=f,h.encoding=f.codePages[0])}])}(Mi.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(t){for(var i=t.length,r=new Uint8Array(i),A=0;A<i;A++)r[A]=t.charCodeAt(A);return r};n.API.events.push(["addFont",function(t){var s,o,i=void 0,r=t.font,A=t.instance;if(!r.isStandardFont){if(void 0===A)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if("string"!=typeof(i=!1===A.existsFileInVFS(r.postScriptName)?A.loadFile(r.postScriptName):A.getFileFromVFS(r.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");s=r,o=/^\x00\x01\x00\x00/.test(o=i)?e(o):e(F1(o)),s.metadata=n.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]}}])}(Mi),Mi.API.addSvgAsImage=function(t,i,r,A,s,o,a,c){if(isNaN(i)||isNaN(r))throw fs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(A)||isNaN(s))throw fs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=A,l.height=s;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return function e(){return(Ri.canvg?Promise.resolve(Ri.canvg):De.e(734).then(De.bind(De,9734))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}().then(function(f){return f.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(h)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),i,r,A,s,a,c)})},Mi.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,t);return this},Mi.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,r,A,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),a=[],c=0,l=0,u=0;function h(f,d){var m,p=!1;for(m=0;m<f.length;m+=1)f[m]===d&&(p=!0);return p}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===n||!0===e){var g=o.length;for(u=0;u<g;u+=1)t[o[u]].value=t[o[u]].defaultValue,t[o[u]].explicitSet=!1}if("object"===(0,hs.A)(n))for(r in n)if(A=n[r],h(o,r)&&void 0!==A){if("boolean"===t[r].type&&"boolean"==typeof A)t[r].value=A;else if("name"===t[r].type&&h(t[r].valueSet,A))t[r].value=A;else if("integer"===t[r].type&&Number.isInteger(A))t[r].value=A;else if("array"===t[r].type){for(c=0;c<A.length;c+=1)if(i=!0,1===A[c].length&&"number"==typeof A[c][0])a.push(String(A[c]-1));else if(A[c].length>1){for(l=0;l<A[c].length;l+=1)"number"!=typeof A[c][l]&&(i=!1);!0===i&&a.push([A[c][0]-1,A[c][1]-1].join(" "))}t[r].value="["+a.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var f,d=[];for(f in t)!0===t[f].explicitSet&&d.push("name"===t[f].type?"/"+f+" /"+t[f].value:"/"+f+" "+t[f].value);0!==d.length&&this.internal.write("/ViewerPreferences\n<<\n"+d.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),A=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),c=A.length+s.length+o.length+r.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+A+s+o+a),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Mi.API),function(n){var e=n.API,t=e.pdfEscape16=function(A,s){for(var o,a=s.metadata.Unicode.widths,c=["","0","00","000","0000"],l=[""],u=0,h=A.length;u<h;++u){if(o=s.metadata.characterToGlyph(A.charCodeAt(u)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=A.charCodeAt(u),-1==a.indexOf(o)&&(a.push(o),a.push([parseInt(s.metadata.widthOfGlyph(o),10)])),"0"==o)return l.join("");o=o.toString(16),l.push(c[4-o.length],o)}return l.join("")},i=function(A){var s,o,a,c,l,u,h;for(l="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",a=[],u=0,h=(o=Object.keys(A).sort(function(g,f){return g-f})).length;u<h;u++)s=o[u],a.length>=100&&(l+="\n"+a.length+" beginbfchar\n"+a.join("\n")+"\nendbfchar",a=[]),null!=A[s]&&"function"==typeof A[s].toString&&(c=("0000"+A[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),a.push("<"+s+"><"+c+">"));return a.length&&(l+="\n"+a.length+" beginbfchar\n"+a.join("\n")+"\nendbfchar\n"),l+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(A){!function(s){var o=s.font,a=s.out,c=s.newObject,l=s.putStream;if(o.metadata instanceof n.API.TTFFont&&"Identity-H"===o.encoding){for(var u=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",f=0;f<h.length;f++)g+=String.fromCharCode(h[f]);var d=c();l({data:g,addLength1:!0,objectId:d}),a("endobj");var m=c();l({data:i(o.metadata.toUnicode),addLength1:!0,objectId:m}),a("endobj");var p=c();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+Lv(o.fontName)),a("/FontFile2 "+d+" 0 R"),a("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),a("/Flags "+o.metadata.flags),a("/StemV "+o.metadata.stemV),a("/ItalicAngle "+o.metadata.italicAngle),a("/Ascent "+o.metadata.ascender),a("/Descent "+o.metadata.decender),a("/CapHeight "+o.metadata.capHeight),a(">>"),a("endobj");var I=c();a("<<"),a("/Type /Font"),a("/BaseFont /"+Lv(o.fontName)),a("/FontDescriptor "+p+" 0 R"),a("/W "+n.API.PDFObject.convert(u)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+o.encoding+")"),a(">>"),a(">>"),a("endobj"),o.objectNumber=c(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+m+" 0 R"),a("/BaseFont /"+Lv(o.fontName)),a("/Encoding /"+o.encoding),a("/DescendantFonts ["+I+" 0 R]"),a(">>"),a("endobj"),o.isAlreadyPutted=!0}}(A)}]),e.events.push(["putFont",function(A){!function(s){var o=s.font,a=s.out,c=s.newObject,l=s.putStream;if(o.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===o.encoding){for(var u=o.metadata.rawData,h="",g=0;g<u.length;g++)h+=String.fromCharCode(u[g]);var f=c();l({data:h,addLength1:!0,objectId:f}),a("endobj");var d=c();l({data:i(o.metadata.toUnicode),addLength1:!0,objectId:d}),a("endobj");var m=c();a("<<"),a("/Descent "+o.metadata.decender),a("/CapHeight "+o.metadata.capHeight),a("/StemV "+o.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+f+" 0 R"),a("/Flags 96"),a("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),a("/FontName /"+Lv(o.fontName)),a("/ItalicAngle "+o.metadata.italicAngle),a("/Ascent "+o.metadata.ascender),a(">>"),a("endobj"),o.objectNumber=c();for(var p=0;p<o.metadata.hmtx.widths.length;p++)o.metadata.hmtx.widths[p]=parseInt(o.metadata.hmtx.widths[p]*(1e3/o.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+d+" 0 R/BaseFont/"+Lv(o.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),a("endobj"),o.isAlreadyPutted=!0}}(A)}]);var r=function(A){var s,o=A.text||"",a=A.x,c=A.y,l=A.options||{},u=A.mutex||{},h=u.pdfEscape,g=u.activeFontKey,f=u.fonts,d=g,m="",p=0,I="",C=f[d].encoding;if("Identity-H"!==f[d].encoding)return{text:o,x:a,y:c,options:l,mutex:u};for(I=o,d=g,Array.isArray(o)&&(I=o[0]),p=0;p<I.length;p+=1)f[d].metadata.hasOwnProperty("cmap")&&(s=f[d].metadata.cmap.unicode.codeMap[I[p].charCodeAt(0)]),s||I[p].charCodeAt(0)<256&&f[d].metadata.hasOwnProperty("Unicode")?m+=I[p]:m+="";var B="";return parseInt(d.slice(1))<14||"WinAnsiEncoding"===C?B=h(m,d).split("").map(function(y){return y.charCodeAt(0).toString(16)}).join(""):"Identity-H"===C&&(B=t(m,f[d])),u.isHex=!0,{text:B,x:a,y:c,options:l,mutex:u}};e.events.push(["postProcessText",function(A){var s=A.text||"",o=[],a={text:s,x:A.x,y:A.y,options:A.options,mutex:A.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&3===s[c].length?o.push([r(Object.assign({},a,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(r(Object.assign({},a,{text:s[c]})).text);A.text=o}else A.text=r(Object.assign({},a,{text:s})).text}])}(Mi),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(Mi.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,A,s,o,a,c,l,u=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},d={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,C=0;this.__bidiEngine__={};var B=function(D){var T=D.charCodeAt(),O=T>>8,G=d[O];return void 0!==G?u[256*G+(255&T)]:252===O||253===O?"AL":p.test(O)?"L":8===O?"R":"N"},y=function(D){for(var T,O=0;O<D.length;O++){if("L"===(T=B(D.charAt(O))))return!1;if("R"===T)return!0}return!1},E=function(D,T,O,G){var W,k,L,J,H=T[G];switch(H){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"N":case"AN":break;case"EN":I&&(H="AN");break;case"AL":I=!0,H="R";break;case"WS":case"BN":H="N";break;case"CS":G<1||G+1>=T.length||"EN"!==(W=O[G-1])&&"AN"!==W||"EN"!==(k=T[G+1])&&"AN"!==k?H="N":I&&(k="AN"),H=k===W?k:"N";break;case"ES":H="EN"===(W=G>0?O[G-1]:"B")&&G+1<T.length&&"EN"===T[G+1]?"EN":"N";break;case"ET":if(G>0&&"EN"===O[G-1]){H="EN";break}if(I){H="N";break}for(L=G+1,J=T.length;L<J&&"ET"===T[L];)L++;H=L<J&&"EN"===T[L]?"EN":"N";break;case"NSM":if(s&&!o){for(J=T.length,L=G+1;L<J&&"NSM"===T[L];)L++;if(L<J){var ue=D[G];if(W=T[L],(ue>=1425&&ue<=2303||64286===ue)&&("R"===W||"AL"===W)){H="R";break}}}H=G<1||"B"===(W=T[G-1])?"N":O[G-1];break;case"B":I=!1,r=!0,H=C;break;case"S":A=!0,H="N"}return H},b=function(D,T,O){var G=D.split("");return O&&S(G,O,{hiLevel:C}),G.reverse(),T&&T.reverse(),G.join("")},S=function(D,T,O){var G,W,k,L,J,H=-1,ue=D.length,ye=0,K=[],z=C?g:h,Z=[];for(I=!1,r=!1,A=!1,W=0;W<ue;W++)Z[W]=B(D[W]);for(k=0;k<ue;k++){if(J=ye,K[k]=E(D,Z,K,k),G=240&(ye=z[J][f[K[k]]]),T[k]=L=z[ye&=15][5],G>0)if(16===G){for(W=H;W<k;W++)T[W]=1;H=-1}else H=-1;if(z[ye][6])-1===H&&(H=k);else if(H>-1){for(W=H;W<k;W++)T[W]=L;H=-1}"B"===Z[k]&&(T[k]=0),O.hiLevel|=L}A&&function(le,ce,ge){for(var re=0;re<ge;re++)if("S"===le[re]){ce[re]=C;for(var ie=re-1;ie>=0&&"WS"===le[ie];ie--)ce[ie]=C}}(Z,T,ue)},w=function(D,T,O,G,W){if(!(W.hiLevel<D)){if(1===D&&1===C&&!r)return T.reverse(),void(O&&O.reverse());for(var k,L,J,H,ue=T.length,ye=0;ye<ue;){if(G[ye]>=D){for(J=ye+1;J<ue&&G[J]>=D;)J++;for(H=ye,L=J-1;H<L;H++,L--)k=T[H],T[H]=T[L],T[L]=k,O&&(k=O[H],O[H]=O[L],O[L]=k);ye=J}ye++}}},M=function(D,T,O){var G=D.split(""),W={hiLevel:C};return O||(O=[]),S(G,O,W),function(k,L,J){if(0!==J.hiLevel&&l)for(var H,ue=0;ue<k.length;ue++)1===L[ue]&&(H=m.indexOf(k[ue]))>=0&&(k[ue]=m[H+1])}(G,O,W),w(2,G,T,O,W),w(1,G,T,O,W),G.join("")};return this.__bidiEngine__.doBidiReorder=function(D,T,O){if(function(W,k){if(k)for(var L=0;L<W.length;L++)k[L]=L;void 0===o&&(o=y(W)),void 0===c&&(c=y(W))}(D,T),s||!a||c)if(s&&a&&o^c)C=o?1:0,D=b(D,T,O);else if(!s&&a&&c)C=o?1:0,D=M(D,T,O),D=b(D,T);else if(!s||o||a||c){if(s&&!a&&o^c)D=b(D,T),o?(C=0,D=M(D,T,O)):(C=1,D=M(D,T,O),D=b(D,T));else if(s&&o&&!a&&c)C=1,D=M(D,T,O),D=b(D,T);else if(!s&&!a&&o^c){var G=l;o?(C=1,D=M(D,T,O),C=0,l=!1,D=M(D,T,O),l=G):(C=0,D=M(D,T,O),D=b(D,T),C=1,l=!1,D=M(D,T,O),l=G,D=b(D,T))}}else C=0,D=M(D,T,O);else C=o?1:0,D=M(D,T,O);return D},this.__bidiEngine__.setOptions=function(D){D&&(s=D.isInputVisual,a=D.isOutputVisual,o=D.isInputRtl,c=D.isOutputRtl,l=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text,A=i.options||{},s=[];if(A.isInputVisual="boolean"!=typeof A.isInputVisual||A.isInputVisual,t.setOptions(A),"[object Array]"===Object.prototype.toString.call(r)){var o=0;for(s=[],o=0;o<r.length;o+=1)"[object Array]"===Object.prototype.toString.call(r[o])?s.push([t.doBidiReorder(r[o][0]),r[o][1],r[o][2]]):s.push([t.doBidiReorder(r[o])]);i.text=s}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])}(Mi),Mi.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Hm(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new zLe(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new RLe(this.contents),this.head=new kLe(this),this.name=new PLe(this),this.cmap=new Hte(this),this.toUnicode={},this.hhea=new LLe(this),this.maxp=new HLe(this),this.hmtx=new YLe(this),this.post=new OLe(this),this.os2=new ULe(this),this.loca=new VLe(this),this.glyf=new KLe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,i,r,A;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,o,a,c;for(c=[],s=0,o=(a=this.bbox).length;s<o;s++)c.push(Math.round(a[s]*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(A=this.familyClass)||2===A||3===A||4===A||5===A||7===A,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var r,A,s,o;for(s=0,A=0,o=(e=""+e).length;0<=o?A<o:A>o;A=0<=o?++A:--A)r=e.charCodeAt(A),s+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},n}();var wh,Hm=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,r;for(r=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,r,A,s,o,a;return e=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),A=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^A)+65536*(255^s)+256*(255^o)+(255^a)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*r+16777216*A+65536*s+256*o+a},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var i,r,A;for(A=[],i=0,r=e.length;i<r;i++)A.push(this.writeByte(e[i]));return A},n}(),RLe=function(){var n;function e(t){var i,r,A;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,A=this.tableCount;0<=A?r<A:r>A;r=0<=A?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,r,s,o,a,c,l,u,h,g,f,d;for(d in g=Object.keys(t).length,a=Math.log(2),u=16*Math.floor(Math.log(g)/a),s=Math.floor(u/a),l=16*g-u,(r=new Hm).writeInt(this.scalarType),r.writeShort(g),r.writeShort(u),r.writeShort(s),r.writeShort(l),c=r.pos+16*g,o=null,f=[],t)for(h=t[d],r.writeString(d),r.writeInt(n(h)),r.writeInt(c),r.writeInt(h.length),f=f.concat(h),"head"===d&&(o=c),c+=h.length;c%4;)f.push(0),c++;return r.write(f),i=2981146554-n(r.data),r.pos=o+8,r.writeUInt32(i),r.data},n=function(t){var i,r,A,s;for(t=Yte.call(t);t.length%4;)t.push(0);for(A=new Hm(t),r=0,i=0,s=t.length;i<s;i=i+=4)r+=A.readUInt32();return 4294967295&r},e}(),TLe={}.hasOwnProperty,bf=function(n,e){for(var t in e)TLe.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};wh=function(){function n(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var kLe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return bf(e,wh),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var i;return(i=new Hm).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(t),i.writeShort(this.glyphDataFormat),i.data},e}(),Pte=function(){function n(e,t){var i,r,A,s,o,a,c,l,u,h,g,f,d,m,p,I,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(g=e.readUInt16(),h=g/2,e.pos+=6,A=function(){var B,y;for(y=[],a=B=0;0<=h?B<h:B>h;a=0<=h?++B:--B)y.push(e.readUInt16());return y}(),e.pos+=2,d=function(){var B,y;for(y=[],a=B=0;0<=h?B<h:B>h;a=0<=h?++B:--B)y.push(e.readUInt16());return y}(),c=function(){var B,y;for(y=[],a=B=0;0<=h?B<h:B>h;a=0<=h?++B:--B)y.push(e.readUInt16());return y}(),l=function(){var B,y;for(y=[],a=B=0;0<=h?B<h:B>h;a=0<=h?++B:--B)y.push(e.readUInt16());return y}(),r=(this.length-e.pos+this.offset)/2,o=function(){var B,y;for(y=[],a=B=0;0<=r?B<r:B>r;a=0<=r?++B:--B)y.push(e.readUInt16());return y}(),a=p=0,C=A.length;p<C;a=++p)for(m=A[a],i=I=f=d[a];f<=m?I<=m:I>=m;i=f<=m?++I:--I)0===l[a]?s=i+c[a]:0!==(s=o[l[a]/2+(i-f)-(h-a)]||0)&&(s+=c[a]),this.codeMap[i]=65535&s}e.pos=u}return n.encode=function(e,t){var i,r,A,s,o,a,c,l,u,h,g,f,d,m,p,I,C,y,E,b,S,w,M,D,T,O,G,W,k,L,J,H,ue,ye,K,z,Z,le,ce,ge,re,ie,me,be,Ie;switch(G=new Hm,s=Object.keys(e).sort(function(Ne,Ae){return Ne-Ae}),t){case"macroman":for(d=0,m=function(){var Ne=[];for(f=0;f<256;++f)Ne.push(0);return Ne}(),I={0:0},A={},W=0,H=s.length;W<H;W++)null==I[ie=e[r=s[W]]]&&(I[ie]=++d),A[r]={old:e[r],new:I[e[r]]},m[r]=I[e[r]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(m),{charMap:A,subtable:G.data,maxGlyphID:d+1};case"unicode":for(T=[],u=[],C=0,I={},i={},p=c=null,k=0,ue=s.length;k<ue;k++)null==I[y=e[r=s[k]]]&&(I[y]=++C),i[r]={old:y,new:I[y]},o=I[y]-r,null!=p&&o===c||(p&&u.push(p),T.push(r),c=o),p=r;for(p&&u.push(p),u.push(65535),T.push(65535),M=2*(w=T.length),S=2*Math.pow(Math.log(w)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,b=2*w-S,a=[],E=[],g=[],f=L=0,ye=T.length;L<ye;f=++L){if(l=u[f],65535===(D=T[f])){a.push(0),E.push(0);break}if(D-(O=i[D].new)>=32768)for(a.push(0),E.push(2*(g.length+w-f)),r=J=D;D<=l?J<=l:J>=l;r=D<=l?++J:--J)g.push(i[r].new);else a.push(O-D),E.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*w+2*g.length),G.writeUInt16(0),G.writeUInt16(M),G.writeUInt16(S),G.writeUInt16(h),G.writeUInt16(b),ge=0,K=u.length;ge<K;ge++)G.writeUInt16(r=u[ge]);for(G.writeUInt16(0),re=0,z=T.length;re<z;re++)G.writeUInt16(r=T[re]);for(me=0,Z=a.length;me<Z;me++)G.writeUInt16(o=a[me]);for(be=0,le=E.length;be<le;be++)G.writeUInt16(E[be]);for(Ie=0,ce=g.length;Ie<ce;Ie++)G.writeUInt16(d=g[Ie]);return{charMap:i,subtable:G.data,maxGlyphID:C+1}}},n}(),Hte=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return bf(e,wh),e.prototype.tag="cmap",e.prototype.parse=function(t){var i,r,A;for(t.pos=this.offset,this.version=t.readUInt16(),A=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=A?r<A:r>A;r=0<=A?++r:--r)i=new Pte(t,this.offset),this.tables.push(i),i.isUnicode&&null==this.unicode&&(this.unicode=i);return!0},e.encode=function(t,i){var r,A;return null==i&&(i="macroman"),r=Pte.encode(t,i),(A=new Hm).writeUInt16(0),A.writeUInt16(1),r.table=A.data.concat(r.subtable),r},e}(),LLe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return bf(e,wh),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),ULe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return bf(e,wh),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(t.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),OLe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return bf(e,wh),e.prototype.tag="post",e.prototype.parse=function(t){var i,r,A;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],A=[];t.pos<this.offset+this.length;)i=t.readByte(),A.push(this.names.push(t.readString(i)));return A;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=function(){var o,a,c;for(c=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)c.push(t.readUInt32());return c}.call(this)}},e}(),GLe=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},PLe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return bf(e,wh),e.prototype.tag="name",e.prototype.parse=function(t){var i,r,A,s,o,a,c,l,u,h,g;for(t.pos=this.offset,t.readShort(),i=t.readShort(),a=t.readShort(),r=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(c={},s=u=0,h=r.length;u<h;s=++u)t.pos=(A=r[s]).offset,l=t.readString(A.length),o=new GLe(l,A),null==c[g=A.nameID]&&(c[g]=[]),c[A.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),HLe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return bf(e,wh),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),YLe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return bf(e,wh),e.prototype.tag="hmtx",e.prototype.parse=function(t){var i,r,A,o,a,c;for(t.pos=this.offset,this.metrics=[],i=0,a=this.file.hhea.numberOfMetrics;0<=a?i<a:i>a;i=0<=a?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(A=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var l,u;for(u=[],i=l=0;0<=A?l<A:l>A;i=0<=A?++l:--l)u.push(t.readInt16());return u}(),this.widths=function(){var l,u,h,g;for(g=[],l=0,u=(h=this.metrics).length;l<u;l++)g.push(h[l].advance);return g}.call(this),r=this.widths[this.widths.length-1],c=[],i=o=0;0<=A?o<A:o>A;i=0<=A?++o:--o)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),Yte=[].slice,KLe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return bf(e,wh),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var i,r,A,s,o,a,c,l,u,h;return t in this.cache?this.cache[t]:(i=this.file.contents,r=(s=this.file.loca).indexOf(t),0===(A=s.lengthOf(t))?this.cache[t]=null:(i.pos=this.offset+r,o=(a=new Hm(i.read(A))).readShort(),l=a.readShort(),h=a.readShort(),c=a.readShort(),u=a.readShort(),this.cache[t]=-1===o?new JLe(a,l,h,c,u):new qLe(a,o,l,h,c,u),this.cache[t]))},e.prototype.encode=function(t,i,r){var A,s,o,a,c;for(o=[],s=[],a=0,c=i.length;a<c;a++)A=t[i[a]],s.push(o.length),A&&(o=o.concat(A.encode(r)));return s.push(o.length),{table:o,offsets:s}},e}(),qLe=function(){function n(e,t,i,r,A,s){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=A,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),JLe=function(){function n(e,t,i,r,A){var s,o;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=A,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new Hm(Yte.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),VLe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return bf(e,wh),e.prototype.tag="loca",e.prototype.parse=function(t){var r;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var A,s;for(s=[],r=0,A=this.length;r<A;r+=2)s.push(2*t.readUInt16());return s}.call(this):function(){var A,s;for(s=[],r=0,A=this.length;r<A;r+=4)s.push(t.readUInt32());return s}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,i){for(var r=new Uint32Array(this.offsets.length),A=0,s=0,o=0;o<r.length;++o)if(r[o]=A,s<i.length&&i[s]==o){++s,r[o]=A;var c=this.offsets[o+1]-this.offsets[o];c>0&&(A+=c)}for(var l=new Array(4*r.length),u=0;u<r.length;++u)l[4*u+3]=255&r[u],l[4*u+2]=(65280&r[u])>>8,l[4*u+1]=(16711680&r[u])>>16,l[4*u]=(4278190080&r[u])>>24;return l},e}(),zLe=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,A;for(t in r=this.font.cmap.tables[0].codeMap,e={},A=this.subset)e[t]=r[A[t]];return e},n.prototype.glyphsFor=function(e){var t,i,r,A,s,o,a;for(r={},s=0,o=e.length;s<o;s++)r[A=e[s]]=this.font.glyf.glyphFor(A);for(A in t=[],r)null!=(i=r[A])&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(A in a=this.glyphsFor(t))r[A]=i=a[A];return r},n.prototype.encode=function(e,t){var i,r,A,s,a,c,l,u,h,g,f,d,m,p;for(r in i=Hte.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),g={0:0},p=i.charMap)g[(a=p[r]).old]=a.new;for(f in h=i.maxGlyphID,s)f in g||(g[f]=h++);return l=function(I){var C,B;for(C in B={},I)B[I[C]]=C;return B}(g),u=Object.keys(l).sort(function(I,C){return I-C}),d=function(){var I,C,B;for(B=[],I=0,C=u.length;I<C;I++)B.push(l[u[I]]);return B}(),A=this.font.glyf.encode(s,d,g),c=this.font.loca.encode(A.offsets,d),m={cmap:this.font.cmap.raw(),glyf:A.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},n}();Mi.API.PDFObject=function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var r,A;if(Array.isArray(t))return"["+function(){var o,a,c;for(c=[],o=0,a=t.length;o<a;o++)c.push(e.convert(t[o]));return c}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(r in A=["<<"],t)A.push("/"+r+" "+e.convert(t[r]));return A.push(">>"),A.join("\n")}return""+t},e}();const WLe=Mi;let jLe=(()=>{class n{getPdf(t,i,r,A,s){console.log(t+": [GENERANDO PDF]");const o=(new Date).toISOString();A=`${A}_${o}.pdf`;const a=i.nativeElement,c=r.nativeElement;$ke()(a).then(l=>{let u=c.offsetWidth,h=c.offsetHeight,g=l.toDataURL("image/jpeg"),f=new WLe("landscape","px",[u,h]);f.addImage(g,0,0,u,h),f.save(A)}),s.next(A),s.complete()}_GetPDF(t,i,r,A){return new _r(o=>this.getPdf(t,i,r,A,o))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ZLe=["_languajeList"],XLe=["_SourceList"],$Le=["_fileUpload"],eUe=["_sudoku_board"],tUe=n=>({width:n});function nUe(n,e){if(1&n&&(pe(0,"td")(1,"div",31),Re(2),he()()),2&n){const t=e.$implicit,i=e.index,r=Cn().index;ke(),Xe("className",i>=3&&i<=5&&r>=0&&r<3||!(i>=3&&i<=5)&&r>=3&&r<=5||i>=3&&i<=5&&r>5&&r<=8?"sudoku-cell_bright":"sudoku-cell_dark"),ke(),Gi(t)}}function iUe(n,e){if(1&n&&(pe(0,"tr"),yn(1,nUe,3,2,"td",5),he()),2&n){const t=e.$implicit;ke(),Xe("ngForOf",t)}}function rUe(n,e){if(1&n&&(pe(0,"option",32),Re(1),he()),2&n){const t=e.$implicit;Xe("value",t._index)("selected",t._selected),ke(),$r("",t._value," ")}}function AUe(n,e){if(1&n&&(pe(0,"option",32),Re(1),he()),2&n){const t=e.$implicit;Xe("value",t._index)("selected",t._selected),ke(),$r("",t._value," ")}}function sUe(n,e){if(1&n&&(pe(0,"div",33)(1,"div",34),Re(2),he()()),2&n){const t=Cn();ke(),Xe("ngStyle",gf(3,tUe,t.progress+"%")),qr("aria-valuenow",t.progress),ke(),$r(" ",t.progress,"% ")}}function oUe(n,e){if(1&n&&(pe(0,"div",35),Re(1),he()),2&n){const t=Cn();ke(),Gi(t.message)}}function aUe(n,e){if(1&n){const t=TA();pe(0,"div",24)(1,"input",36),on("click",function(){return zn(t),$n(Cn()._GetPdf())}),he()()}if(2&n){const t=Cn();ke(),Xe("disabled","[...Generando PDF...]"==t.message)}}let cUe=(()=>{class n{constructor(t,i,r){this.algorithmService=t,this.formBuilder=i,this.pdfEngine=r,this.board=[],this.tituloListadoLenguajes="Seleccione Backend",this.btnGenerateCaption="[GENERAR]",this.btnSolveCaption="[RESOLVER]",this.tituloGenerarDesde="Generar Desde",this._cppSourceDivHidden=!0,this._fileUploadDivHidden=!0,this.sudokuSolved=!0,this._sudokuGenerated="",this.progress=0,this.message="",this.downloadLink="",this.rf_searchForm=this.formBuilder.group({_fileUpload:["",vI.required]}),this.pageTitle="[SUDOKU]",console.log("[SUDOKU - INGRESO]")}ngAfterViewInit(){}ngOnInit(){this.__languajeList=new Array,this.__languajeList.push(new Ic(0,"(SELECCIONE OPCION..)",!1)),this.__languajeList.push(new Ic(1,"(.NET Core/C++)",!0)),this.__languajeList.push(new Ic(2,"(Node.js)",!1)),this._cppSourceDivHidden=!1,this.__generateSourceList=new Array,this.__generateSourceList.push(new Ic(0,"(SELECCIONE OPCION..)",!1)),this.__generateSourceList.push(new Ic(1,"[Desde Archivo]",!1)),this.__generateSourceList.push(new Ic(2,"[Desde Backend]",!0))}_cppSourceDivHiddenChanged(){console.log("SUDOKU - [DIV CPP SOURCE CHANGED]"),this._cppSourceDivHidden=1!=this._languajeList.nativeElement.options.selectedIndex,this.message=""}_fileUploadDivHiddenChanged(){console.log("SUDOKU - [DIV FILEUPLOAD CHANGED]"),this._fileUploadDivHidden=1!=this._sourceList.nativeElement.options.selectedIndex,this.message=""}GenerateFromBackend(){let t;switch(console.log("[SUDOKU - GENERATE FROM BACKEND]"),this._languajeList.nativeElement.options.selectedIndex){case 1:t=this.algorithmService._GetSudoku();break;case 2:t=this.algorithmService._GetSudoku_NodeJS();break;default:return}this.sudokuSolved=!1,this.btnGenerateCaption="[...generando...]",t.subscribe({next:A=>{console.log("[SUDOKU - GENERATE] - (return): "+A),this._sudokuGenerated=A;let s=(A=(A=(A=(A=(A=A.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let o=0;o<9;o++){const a=[];console.log(s[o]);const c=s[o].split(",");for(let l=0;l<9;l++)a.push(parseInt(c[l]));this.board.push(a)}},error:A=>{console.error("[SUDOKU - GENERATE] - (ERROR) : "+JSON.stringify(A.message)),this.btnGenerateCaption="[GENERAR]"},complete:()=>{console.log("[SUDOKU - GENERATE] -  (COMPLETE)"),this.btnGenerateCaption="[GENERAR]",this.message="[Se gener\xf3 correctamente]"}})}selectFile(t){this.selectedFiles=t.target.files}upload(){if(console.log("[SUDOKU - GENERATE  FROM FILE]"),this.selectedFiles){const t=this.selectedFiles.item(0);t&&(this.progress=0,this.message="...cargando...",this.sudokuSolved=!1,this.btnGenerateCaption="[...generando...]",this.currentFile=t,this.algorithmService.uploadSudoku(this.currentFile).subscribe({next:i=>{if(i.type===Qd.UploadProgress)this.progress=Math.round(100*i.loaded/i.total);else if(i instanceof wd){console.log("RESPONSE : "+i.body);let r=i.body;r=r.replaceAll('"',""),r=r.replace(/\\r/g,""),r=r.replace(/\\n/g,""),this._sudokuGenerated=r,r=r.replaceAll("[",""),r=r.replaceAll("]",""),r=r.replaceAll("},","|"),r=r.replaceAll("{",""),r=r.replaceAll("}","");let A=r.split("|");this.board=[];for(let s=0;s<9;s++){const o=[];console.log(A[s]);const a=A[s].split(",");for(let c=0;c<9;c++)o.push(parseInt(a[c]));this.board.push(o)}}},error:i=>{console.error("[SUDOKU - GENERATE  FROM FILE] -  (ERROR)"),console.error(i),this.progress=0,this.message=i.error&&i.error.message?i.error.message:"[Could not upload the file!]",this.currentFile=void 0,this.btnGenerateCaption="[GENERAR]"},complete:()=>{console.log("[SUDOKU - GENERATE  FROM FILE] -  (COMPLETE)"),this.btnGenerateCaption="[GENERAR]",this.message="[Se gener\xf3 correctamente]",this.selectedFiles=void 0,this.currentFile=void 0}}))}else this.message="[Favor seleccione archivo...]"}_GetSudoku(){switch(console.log("[SUDOKU - GENERATE - MAIN MENU]"),this._sourceList.nativeElement.options.selectedIndex){case 1:this.upload();break;case 2:this.GenerateFromBackend();break;default:return}}_SolveSudoku(){let t;switch(console.log("[SUDOKU - SOLVE] \n"+this._sudokuGenerated),this.sudokuSolved=!0,this.btnSolveCaption="[...resolviendo...]",this._languajeList.nativeElement.options.selectedIndex){case 1:t=this.algorithmService._SolveSudoku(this._sudokuGenerated);break;case 2:t=this.algorithmService._SolveSudoku_NodeJS(this._sudokuGenerated);break;default:return}t.subscribe({next:A=>{console.log("[SUDOKU - SOLVE] - (return): "+A),this._sudokuGenerated=A;let s=(A=(A=(A=(A=(A=A.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let o=0;o<9;o++){const a=[];console.log(s[o]);const c=s[o].split(",");for(let l=0;l<9;l++)a.push(parseInt(c[l]));this.board.push(a)}},error:A=>{console.error("[SUDOKU - SOLVE] - (ERROR) : "+JSON.stringify(A.message)),this.message="[Ha ocurrido un error]"},complete:()=>{console.log("[SUDOKU - SOLVE] -  (COMPLETE)"),this.btnSolveCaption="[RESOLVER]",this.message="[Se resolvi\xf3 correctamente]",this.selectedFiles=void 0,this.currentFile=void 0,this.rf_searchForm.reset()}})}_GetPdf(){let i="SUDOKU_BOARD_"+(this.sudokuSolved?"SOLVED":"STARTED"),r="";this.message="[...Generando PDF...]",this.pdfEngine._GetPDF(this.pageTitle,this._sudoku_board,this._sudoku_board,i).subscribe({next:A=>{r=A},error:A=>{this.message="ha ocurrido un error : "+A.message},complete:()=>{this.message=`Se ha generado el archivo PDF :[ ${r} ]`}})}static{this.\u0275fac=function(i){return new(i||n)(yt(Zke),yt(c7),yt(jLe))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-sudoku"]],viewQuery:function(i,r){if(1&i&&(aA(ZLe,5),aA(XLe,5),aA($Le,5),aA(eUe,5)),2&i){let A;Ii(A=Bi())&&(r._languajeList=A.first),Ii(A=Bi())&&(r._sourceList=A.first),Ii(A=Bi())&&(r._fileUpload=A.first),Ii(A=Bi())&&(r._sudoku_board=A.first)}},decls:58,vars:15,consts:[["_sudoku_board",""],["_languajeList",""],["_SourceList",""],["_fileUpload",""],[1,"sudoku-board"],[4,"ngFor","ngForOf"],["id","LangListDiv","align","left"],["id","tituloListadoLenguajes"],["for","LanguajeList"],["id","LanguageList","name","LanguajeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","cppSoureDiv",3,"hidden"],["href","javascript: void window.open('https://github.com/aperezNWO/CppBuilder01/blob/master/Project2/Sudoku.cpp')"],["id","SourceListDiv","align","left"],["for","SourceList"],["id","SourceList","name","SourceList",3,"change"],[3,"ngSubmit","formGroup"],["align","left",1,"fileUpload",3,"hidden"],["href","./assets/sudoku.txt","target","_blank","download","sudoku.txt"],[1,"col-12"],[1,"btn","btn-default","p-0"],["type","file","name","_fileUpload","formControlName","_fileUpload",3,"change"],["id","resetFile","type","reset"],["class","progress my-3",4,"ngIf"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["id","GetSudoku","type","button",3,"click","value","disabled"],["id","SolveSudoku","type","submit",3,"value","disabled"],["align","left",4,"ngIf"],["align","right"],["routerLink","/Dev"],[3,"className"],[3,"value","selected"],[1,"progress","my-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped",3,"ngStyle"],["role","alert",1,"alert","alert-secondary"],["type","button","name","btnGeneratePdf","value","[GENERAR PDF]",3,"click","disabled"]],template:function(i,r){if(1&i){const A=TA();pe(0,"h1"),Re(1,"SUDOKU BOARD"),he(),mt(2,"hr"),pe(3,"div",4,0)(5,"table")(6,"tbody"),yn(7,iUe,2,1,"tr",5),he()()(),mt(8,"hr"),pe(9,"div",6)(10,"span",7),Re(11),he(),mt(12,"label",8),Re(13," \xa0\xa0 "),pe(14,"select",9,1),on("change",function(){return zn(A),$n(r._cppSourceDivHiddenChanged())}),yn(16,rUe,2,3,"option",10),he(),Re(17," \xa0\xa0 "),pe(18,"span",11)(19,"a",12),Re(20,"[View Source]"),he()()(),mt(21,"hr"),pe(22,"div",13)(23,"span",7),Re(24),he(),mt(25,"label",14),Re(26," \xa0\xa0 "),pe(27,"select",15,2),on("change",function(){return zn(A),$n(r._fileUploadDivHiddenChanged())}),yn(29,AUe,2,3,"option",10),he()(),mt(30,"hr"),pe(31,"form",16),on("ngSubmit",function(){return zn(A),$n(r._SolveSudoku())}),pe(32,"div",17)(33,"a",18),Re(34,"[Download Template]"),he(),mt(35,"hr"),pe(36,"div",19)(37,"label",20)(38,"input",21,3),on("change",function(o){return zn(A),$n(r.selectFile(o))}),he()(),Re(40," | "),pe(41,"button",22),Re(42,"[RESET]"),he()(),mt(43,"hr"),yn(44,sUe,3,5,"div",23),he(),pe(45,"div",24),yn(46,oUe,2,1,"div",25),he(),mt(47,"hr"),pe(48,"div",24)(49,"input",26),on("click",function(){return zn(A),$n(r._GetSudoku())}),he(),Re(50," | "),mt(51,"input",27),he()(),mt(52,"hr"),yn(53,aUe,2,1,"div",28),mt(54,"hr"),pe(55,"div",29)(56,"a",30),Re(57,"[Volver al menu]"),he()()}2&i&&(ke(7),Xe("ngForOf",r.board),ke(4),Gi(r.tituloListadoLenguajes),ke(5),Xe("ngForOf",r.__languajeList),ke(2),Xe("hidden",r._cppSourceDivHidden),ke(6),Gi(r.tituloGenerarDesde),ke(5),Xe("ngForOf",r.__generateSourceList),ke(2),Xe("formGroup",r.rf_searchForm),ke(),Xe("hidden",r._fileUploadDivHidden),ke(12),Xe("ngIf",r.currentFile),ke(2),Xe("ngIf",r.message),ke(3),Xe("value",r.btnGenerateCaption)("disabled","[...generando...]"==r.btnGenerateCaption||"[...resolviendo...]"==r.btnSolveCaption),ke(2),Xe("value",r.btnSolveCaption)("disabled","[...resolviendo...]"==r.btnSolveCaption||"[...generando...]"==r.btnGenerateCaption||1==r.sudokuSolved),ke(2),Xe("ngIf",r.board.length>0))},dependencies:[UA,za,Cc,JM,v0,wI,_I,ff,pm,I0,M_,dN],styles:[".sudoku-board[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;height:auto;border:1px solid black}.sudoku-cell_bright[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid black;text-align:center;font-size:20px;background-color:#fff}.sudoku-cell_dark[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid black;text-align:center;font-size:20px;background-color:#ccc}.fileUpload[_ngcontent-%COMP%]{padding:1em;background-color:#ccc}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#007bff}"]})}}return n})();class lUe extends Nr{constructor(e,t){super()}schedule(e,t=0){return this}}const J2={setInterval(n,e,...t){const{delegate:i}=J2;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=J2;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class I4 extends lUe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,A=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(A,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(A,this.id,t),this}requestAsyncId(e,t,i=0){return J2.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&J2.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(A){i=!0,r=A||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Kr(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const B4={now:()=>(B4.delegate||Date).now(),delegate:void 0};class R1{constructor(e,t=R1.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}R1.now=B4.now;class E4 extends R1{constructor(e,t=R1.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const T1=new E4(I4),uUe=T1;function V2(n=0,e,t=uUe){let i=-1;return null!=e&&(rW(e)?t=e:i=e),new _r(r=>{let A=function gUe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;A<0&&(A=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},A)})}function Kte(n=0,e=T1){return n<0&&(n=0),V2(n,n,e)}function hUe(n,e){if(1&n&&mt(0,"div",13),2&n){const t=e.$implicit;Vw("background-color",t),Lr("filled",t)}}function fUe(n,e){if(1&n&&(pe(0,"div",11),yn(1,hUe,1,4,"div",12),he()),2&n){const t=e.$implicit;ke(),Xe("ngForOf",t)}}function dUe(n,e){if(1&n){const t=TA();pe(0,"button",8),on("click",function(){return zn(t),$n(Cn().startGame())}),Re(1),he()}if(2&n){const t=Cn();ke(),$r(" ",t.gameOver?"Play Again":"Start Game"," ")}}function pUe(n,e){if(1&n){const t=TA();pe(0,"div",14)(1,"button",15),on("click",function(){return zn(t),$n(Cn().moveLeft())}),Re(2,"\u2190"),he(),pe(3,"button",15),on("click",function(){return zn(t),$n(Cn().moveRight())}),Re(4,"\u2192"),he(),pe(5,"button",8),on("click",function(){return zn(t),$n(Cn().rotate())}),Re(6,"Rotate"),he(),pe(7,"button",8),on("click",function(){return zn(t),$n(Cn().drop())}),Re(8,"Drop"),he()()}}let mUe=(()=>{class n{constructor(t){this.pageRestartService=t,this.BOARD_WIDTH=10,this.BOARD_HEIGHT=20,this.TICK_INTERVAL=1e3,this.board=[],this.displayBoard=[],this.currentPiece=[],this.currentColor="",this.score=0,this.isPlaying=!1,this.gameOver=!1,this.isMobile=!1,this.TETROMINOS={I:{shape:[[1,1,1,1]],color:"#00f0f0"},O:{shape:[[1,1],[1,1]],color:"#f0f000"},T:{shape:[[0,1,0],[1,1,1]],color:"#a000f0"},S:{shape:[[0,1,1],[1,1,0]],color:"#00f000"},Z:{shape:[[1,1,0],[0,1,1]],color:"#f00000"},J:{shape:[[1,0,0],[1,1,1]],color:"#0000f0"},L:{shape:[[0,0,1],[1,1,1]],color:"#f0a000"}}}restart(){this.pageRestartService.reloadPage()}ngOnInit(){this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.initBoard()}handleKeyboardEvent(t){if(this.isPlaying&&!this.gameOver)switch(t.key){case"ArrowLeft":this.moveLeft();break;case"ArrowRight":this.moveRight();break;case"ArrowUp":this.rotate();break;case"ArrowDown":this.moveDown();break;case" ":this.drop()}}initBoard(){this.board=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill("")),this.displayBoard=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill(""))}startGame(){this.gameLoop$&&this.gameLoop$.unsubscribe(),this.initBoard(),this.score=0,this.gameOver=!1,this.isPlaying=!0,this.spawnPiece(),this.gameLoop$=Kte(this.TICK_INTERVAL).subscribe(()=>{this.gameOver||this.moveDown()})}spawnPiece(){const t=Object.keys(this.TETROMINOS),i=t[Math.floor(Math.random()*t.length)],r=this.TETROMINOS[i];this.currentPiece=r.shape.flatMap((A,s)=>A.map((o,a)=>o?{x:a+Math.floor(this.BOARD_WIDTH/2)-1,y:s}:null)).filter(A=>null!==A),this.currentColor=r.color,this.checkCollision()&&(this.gameOver=!0,this.isPlaying=!1,this.gameLoop$&&this.gameLoop$.unsubscribe()),this.updateDisplayBoard()}moveLeft(){const t=this.currentPiece.map(i=>({...i,x:i.x-1}));this.isValidMove(t)&&(this.currentPiece=t,this.updateDisplayBoard())}moveRight(){const t=this.currentPiece.map(i=>({...i,x:i.x+1}));this.isValidMove(t)&&(this.currentPiece=t,this.updateDisplayBoard())}moveDown(){const t=this.currentPiece.map(i=>({...i,y:i.y+1}));this.isValidMove(t)?(this.currentPiece=t,this.updateDisplayBoard()):(this.lockPiece(),this.clearLines(),this.spawnPiece())}drop(){for(;this.isValidMove(this.currentPiece.map(t=>({...t,y:t.y+1})));)this.currentPiece=this.currentPiece.map(t=>({...t,y:t.y+1}));this.updateDisplayBoard(),this.lockPiece(),this.clearLines(),this.spawnPiece()}rotate(){if(!this.currentPiece.length)return;const t=this.currentPiece[1],i=this.currentPiece.map(r=>({x:t.x-(r.y-t.y),y:t.y+(r.x-t.x)}));this.isValidMove(i)&&(this.currentPiece=i,this.updateDisplayBoard())}isValidMove(t){return t.every(i=>i.x>=0&&i.x<this.BOARD_WIDTH&&i.y>=0&&i.y<this.BOARD_HEIGHT&&!this.board[i.y]?.[i.x])}checkCollision(){return!this.isValidMove(this.currentPiece)}updateDisplayBoard(){this.displayBoard=this.board.map(t=>[...t]),this.currentPiece.forEach(t=>{t.y>=0&&t.y<this.BOARD_HEIGHT&&(this.displayBoard[t.y][t.x]=this.currentColor)})}lockPiece(){this.currentPiece.forEach(t=>{t.y>=0&&t.y<this.BOARD_HEIGHT&&(this.board[t.y][t.x]=this.currentColor)}),this.updateDisplayBoard()}clearLines(){let t=0;for(let i=this.BOARD_HEIGHT-1;i>=0;i--)this.board[i].every(r=>""!==r)&&(this.board.splice(i,1),this.board.unshift(Array(this.BOARD_WIDTH).fill("")),t++,i++);t>0&&(this.score+=100*Math.pow(2,t-1)),this.updateDisplayBoard()}ngOnDestroy(){this.gameLoop$&&this.gameLoop$.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(yt(q5))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-tetris"]],hostBindings:function(i,r){1&i&&on("keydown",function(s){return r.handleKeyboardEvent(s)},0,Bq)},decls:19,vars:6,consts:[["align","center"],[1,"game-container"],[1,"game-board"],["class","row",4,"ngFor","ngForOf"],[1,"controls"],[1,"score"],[3,"click",4,"ngIf"],["class","mobile-controls",4,"ngIf"],[3,"click"],["align","right"],["routerLink","/StableReleases"],[1,"row"],["class","cell",3,"filled","backgroundColor",4,"ngFor","ngForOf"],[1,"cell"],[1,"mobile-controls"],[2,"font-size","x-large",3,"click"]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"h1"),Re(2,"[TETRIS]"),he(),mt(3,"hr"),pe(4,"div",1)(5,"div",2),yn(6,fUe,2,1,"div",3),he(),pe(7,"div",4)(8,"div",5),Re(9),he(),yn(10,dUe,2,1,"button",6)(11,pUe,9,0,"div",7),he()(),mt(12,"hr"),pe(13,"button",8),on("click",function(){return r.restart()}),Re(14,"[RESTART]"),he(),mt(15,"hr"),he(),pe(16,"div",9)(17,"a",10),Re(18,"[Volver al Menu]"),he()()),2&i&&(ke(4),Lr("game-over",r.gameOver),ke(2),Xe("ngForOf",r.displayBoard),ke(3),$r("Score: ",r.score,""),ke(),Xe("ngIf",!r.isPlaying||r.gameOver),ke(),Xe("ngIf",r.isMobile))},dependencies:[UA,za,Cc],styles:[".game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.game-board[_ngcontent-%COMP%]{border:2px solid #333;background:#f0f0f0}.row[_ngcontent-%COMP%]{display:flex}.cell[_ngcontent-%COMP%]{width:25px;height:25px;border:1px solid #ccc}.cell.filled[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2)}.controls[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.score[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}button[_ngcontent-%COMP%]{padding:10px 20px;margin:5px;font-size:16px;cursor:pointer}.mobile-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:20px}.game-over[_ngcontent-%COMP%]   .game-board[_ngcontent-%COMP%]{opacity:.5}@media (max-width: 600px){.cell[_ngcontent-%COMP%]{width:20px;height:20px}}"]})}}return n})(),CUe=(()=>{class n{constructor(){this.value=null,this.clickEvent=new ae}onClick(){this.clickEvent.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-square"]],inputs:{value:"value"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[Uo],decls:2,vars:1,consts:[[1,"square",3,"click"]],template:function(i,r){1&i&&(pe(0,"button",0),on("click",function(){return r.onClick()}),Re(1),he()),2&i&&(ke(),Gi(null==r.value?"_":r.value))},dependencies:[am],styles:[".square[_ngcontent-%COMP%]{width:50px;height:50px}"]})}}return n})(),qte=(()=>{class n{constructor(){this.COMPUTER=1,this.HUMAN=2,this.COMPUTERMOVE="O",this.HUMANMOVE="X",this.SIDE=3,this.boardSurface=this.SIDE*this.SIDE,this.whoseTurn=this.HUMAN,this.moveIndex=0,this.board=[],this.winner=null,this.squares=Array(this.boardSurface).fill(null),this.message="",this.initialise()}initialise(){this.squares=[],this.squares=Array(9).fill(null),this.board=[];for(let t=0;t<this.SIDE;t++){const i=[];for(let r=0;r<this.SIDE;r++)i.push(null);this.board.push(i)}this.winner=null,this.moveIndex=0,this.message=""}declareWinner(t){t==this.COMPUTER?(this.message="[gan\xf3 COMPUTADOR]",this.winner=this.COMPUTERMOVE):(this.message="[gan\xf3 HUMANO]",this.winner=this.HUMANMOVE)}rowCrossed(t){for(let i=0;i<this.SIDE;i++)if(t[i][0]==t[i][1]&&t[i][1]==t[i][2]&&null!=t[i][0])return!0;return!1}columnCrossed(t){for(let i=0;i<this.SIDE;i++)if(t[0][i]==t[1][i]&&t[1][i]==t[2][i]&&null!=t[0][i])return!0;return!1}diagonalCrossed(t){return t[0][0]==t[1][1]&&t[1][1]==t[2][2]&&null!=t[0][0]||t[0][2]==t[1][1]&&t[1][1]==t[2][0]&&null!=t[0][2]}gameOver(t){return this.rowCrossed(t)||this.columnCrossed(t)||this.diagonalCrossed(t)}minimax(t,i,r){let A=0,s=0;if(1==this.gameOver(t)){if(1==r)return-1;if(0==r)return 1}if(i<9){if(1==r){s=-999;for(let o=0;o<this.SIDE;o++)for(let a=0;a<this.SIDE;a++)null==t[o][a]&&(t[o][a]=this.COMPUTERMOVE,A=this.minimax(t,i+1,!1),t[o][a]=null,A>s&&(s=A));return s}s=999;for(let o=0;o<this.SIDE;o++)for(let a=0;a<this.SIDE;a++)null==t[o][a]&&(t[o][a]=this.HUMANMOVE,A=this.minimax(t,i+1,!0),t[o][a]=null,A<s&&(s=A));return s}return 0}bestMove(t,i){let r=-1,A=-1,s=0,o=-999;for(let a=0;a<this.SIDE;a++)for(let c=0;c<this.SIDE;c++)null==t[a][c]&&(t[a][c]=this.COMPUTERMOVE,s=this.minimax(t,i+1,!1),t[a][c]=null,s>o&&(o=s,r=a,A=c));return 3*r+A}doPlay(t,i,r){this.whoseTurn=t;let A=0;switch(t){case this.COMPUTER:A=Math.abs(this.bestMove(this.board,this.moveIndex));break;case this.HUMAN:A=r}let s=Math.floor(A/this.SIDE),o=Math.floor(A%this.SIDE);this.board[s][o]=i,this.squares[A]=i,this.moveIndex++}_declareWinner(){let t=0==this.gameOver(this.board);return console.log("[TIC-TAC-TOE] - [Declare Winner] "),0==(t&&this.moveIndex!=this.boardSurface)&&(t&&this.moveIndex==this.boardSurface?(this.message="[EMPATE]",this.winner=null):this.declareWinner(this.whoseTurn),!0)}makeHumanMove(t){this.doPlay(this.HUMAN,this.HUMANMOVE,t)}makeComputerMove(){this.doPlay(this.COMPUTER,this.COMPUTERMOVE,0)}makeMove(t){this.squares[t]||this.winner||(this.makeHumanMove(t),0==this._declareWinner()&&(this.makeComputerMove(),this._declareWinner()))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const IUe=["_SourceList"],Jte=()=>[0,1,2];function BUe(n,e){if(1&n){const t=TA();pe(0,"app-square",15),on("clickEvent",function(){const r=zn(t).$implicit,A=Cn().$implicit;return $n(Cn(2).makeMove(3*A+r))}),he()}if(2&n){const t=e.$implicit,i=Cn().$implicit;Xe("value",Cn(2).ticTacToeEngine.squares[3*i+t])}}function EUe(n,e){1&n&&(pe(0,"div",13),yn(1,BUe,1,1,"app-square",14),he()),2&n&&(ke(),Xe("ngForOf",A_(1,Jte)))}function vUe(n,e){1&n&&(pe(0,"span",11),yn(1,EUe,2,2,"div",12),he()),2&n&&(ke(),Xe("ngForOf",A_(1,Jte)))}function yUe(n,e){if(1&n&&(pe(0,"option",16),Re(1),he()),2&n){const t=e.$implicit;Xe("value",t._index)("selected",t._selected),ke(),$r("",t._value," ")}}function QUe(n,e){if(1&n&&(pe(0,"div",17)(1,"b"),Re(2),he()()),2&n){const t=Cn();ke(2),Gi(t.ticTacToeEngine.message)}}let Vte=(()=>{class n{constructor(){this.tituloSource="\xbfQuien Inicia?",this.IsNewGame=!1,this.showBoard=!1,this.ticTacToeEngine=new qte}ngOnInit(){console.log("[TIC-TAC-TOE - INICIAR VALORES"),this.__SourceList=new Array,this.__SourceList.push(new Ic(0,"(SELECCIONE OPCION..)",!1)),this.__SourceList.push(new Ic(this.ticTacToeEngine.COMPUTER,"[INICIA MAQUINA]",!0)),this.__SourceList.push(new Ic(this.ticTacToeEngine.HUMAN,"[INICIA JUGADOR]",!1)),this.ticTacToeEngine.initialise()}ngAfterViewInit(){this._sourceList.nativeElement.options.selectedIndex=1}_tituloSourceChanged(){}makeMove(t){console.log(`[TIC-TAC-TOE] - [Click on cel : {${t}}] `),this.ticTacToeEngine.makeMove(t)}newGame(){console.log("[GAME - TIC-TAC-TOE] - [NEW GAME]"),this.ticTacToeEngine.initialise(),this.IsNewGame=!0,this.showBoard=!1}startGame(){console.log("[GAME - TIC-TAC-TOE] - [START GAME]"),this._sourceList.nativeElement.options[this._sourceList.nativeElement.options.selectedIndex].value==this.ticTacToeEngine.COMPUTER&&this.ticTacToeEngine.makeComputerMove(),this.IsNewGame=!1,this.showBoard=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-board"]],viewQuery:function(i,r){if(1&i&&aA(IUe,5),2&i){let A;Ii(A=Bi())&&(r._sourceList=A.first)}},standalone:!0,features:[Uo],decls:19,vars:7,consts:[["_SourceList",""],["class","board","align","center",4,"ngIf"],["id","SourceListDiv","align","left"],["id","tituloSource"],["for","_SourceList"],["id","_SourceList","name","_SourceList",3,"change","disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["type","button","value","[NUEVO]",3,"click","disabled"],["type","button","value","[INICIAR]",3,"click","disabled"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["align","center",1,"board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"value","clickEvent",4,"ngFor","ngForOf"],[3,"clickEvent","value"],[3,"value","selected"],["role","alert",1,"alert","alert-secondary"]],template:function(i,r){if(1&i){const A=TA();pe(0,"h1"),Re(1,"[TIC-TAC-TOE BOARD]"),he(),mt(2,"hr"),yn(3,vUe,2,2,"span",1),mt(4,"hr"),pe(5,"div",2)(6,"span",3),Re(7),he(),mt(8,"label",4),Re(9," \xa0\xa0 "),pe(10,"select",5,0),on("change",function(){return zn(A),$n(r._tituloSourceChanged())}),yn(12,yUe,2,3,"option",6),he()(),mt(13,"hr"),pe(14,"input",7),on("click",function(){return zn(A),$n(r.newGame())}),he(),pe(15,"input",8),on("click",function(){return zn(A),$n(r.startGame())}),he(),mt(16,"hr"),pe(17,"div",9),yn(18,QUe,3,1,"div",10),he()}2&i&&(ke(3),Xe("ngIf",r.showBoard),ke(4),Gi(r.tituloSource),ke(3),Xe("disabled",0==r.IsNewGame),ke(2),Xe("ngForOf",r.__SourceList),ke(2),Xe("disabled",1==r.IsNewGame),ke(),Xe("disabled",0==r.IsNewGame),ke(3),Xe("ngIf",r.ticTacToeEngine.message))},dependencies:[CUe,am,za,Cc]})}}return n})(),wUe=(()=>{class n{constructor(){console.log("[TIC-TAC-TOE - INICIO COMPONENTE")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-tic-tac-toe"]],decls:5,vars:0,consts:[["align","right"],["routerLink","/Dev"]],template:function(i,r){1&i&&(mt(0,"app-board")(1,"hr"),pe(2,"div",0)(3,"a",1),Re(4,"[Volver al Menu]"),he()())},dependencies:[Vte,UA]})}}return n})(),_Ue=(()=>{class n{constructor(){this.value=null,this.clickEvent=new ae}onClick(){this.clickEvent.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-square-online"]],inputs:{value:"value"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[Uo],decls:2,vars:1,consts:[[1,"square",3,"click"]],template:function(i,r){1&i&&(pe(0,"button",0),on("click",function(){return r.onClick()}),Re(1),he()),2&i&&(ke(),Gi(null==r.value?"_":r.value))},styles:[".square[_ngcontent-%COMP%]{width:50px;height:50px}"]})}}return n})();const Sf=Object.create(null);Sf.open="0",Sf.close="1",Sf.ping="2",Sf.pong="3",Sf.message="4",Sf.upgrade="5",Sf.noop="6";const z2=Object.create(null);Object.keys(Sf).forEach(n=>{z2[Sf[n]]=n});const v4={type:"error",data:"parser error"},zte="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Wte="function"==typeof ArrayBuffer,jte=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,y4=({type:n,data:e},t,i)=>zte&&e instanceof Blob?t?i(e):Zte(e,i):Wte&&(e instanceof ArrayBuffer||jte(e))?t?i(e):Zte(new Blob([e]),i):i(Sf[n]+(e||"")),Zte=(n,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(n)};function Xte(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let Q4;const k1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<64;n++)k1["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(n)]=n;const SUe="function"==typeof ArrayBuffer,w4=(n,e)=>{if("string"!=typeof n)return{type:"message",data:$te(n,e)};const t=n.charAt(0);return"b"===t?{type:"message",data:MUe(n.substring(1),e)}:z2[t]?n.length>1?{type:z2[t],data:n.substring(1)}:{type:z2[t]}:v4},MUe=(n,e)=>{if(SUe){const t=(n=>{let i,A,s,o,a,e=.75*n.length,t=n.length,r=0;"="===n[n.length-1]&&(e--,"="===n[n.length-2]&&e--);const c=new ArrayBuffer(e),l=new Uint8Array(c);for(i=0;i<t;i+=4)A=k1[n.charCodeAt(i)],s=k1[n.charCodeAt(i+1)],o=k1[n.charCodeAt(i+2)],a=k1[n.charCodeAt(i+3)],l[r++]=A<<2|s>>4,l[r++]=(15&s)<<4|o>>2,l[r++]=(3&o)<<6|63&a;return c})(n);return $te(t,e)}return{base64:!0,data:n}},$te=(n,e)=>"blob"===e?n instanceof Blob?n:new Blob([n]):n instanceof ArrayBuffer?n:n.buffer;let _4;function W2(n){return n.reduce((e,t)=>e+t.length,0)}function j2(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let i=0;for(let r=0;r<e;r++)t[r]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),t}function Ho(n){if(n)return function TUe(n){for(var e in Ho.prototype)n[e]=Ho.prototype[e];return n}(n)}Ho.prototype.on=Ho.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},Ho.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},Ho.prototype.off=Ho.prototype.removeListener=Ho.prototype.removeAllListeners=Ho.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var i,r=0;r<t.length;r++)if((i=t[r])===e||i.fn===e){t.splice(r,1);break}return 0===t.length&&delete this._callbacks["$"+n],this},Ho.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){i=0;for(var r=(t=t.slice(0)).length;i<r;++i)t[i].apply(this,e)}return this},Ho.prototype.emitReserved=Ho.prototype.emit,Ho.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Ho.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Z2="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),dg=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function nne(n,...e){return e.reduce((t,i)=>(n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}const LUe=dg.setTimeout,UUe=dg.clearTimeout;function X2(n,e){e.useNativeTimers?(n.setTimeoutFn=LUe.bind(dg),n.clearTimeoutFn=UUe.bind(dg)):(n.setTimeoutFn=dg.setTimeout.bind(dg),n.clearTimeoutFn=dg.clearTimeout.bind(dg))}function GUe(n){return"string"==typeof n?function PUe(n){let e=0,t=0;for(let i=0,r=n.length;i<r;i++)e=n.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}(n):Math.ceil(1.33*(n.byteLength||n.size))}function ine(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class KUe extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class D4 extends Ho{constructor(e){super(),this.writable=!1,X2(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,i){return super.emitReserved("error",new KUe(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=w4(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function HUe(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}(e);return t.length?"?"+t:""}}class qUe extends D4{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((n,e)=>{const t=n.split("\x1e"),i=[];for(let r=0;r<t.length;r++){const A=w4(t[r],e);if(i.push(A),"error"===A.type)break}return i})(e,this.socket.binaryType).forEach(i=>{if("opening"===this.readyState&&"open"===i.type&&this.onOpen(),"close"===i.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((n,e)=>{const t=n.length,i=new Array(t);let r=0;n.forEach((A,s)=>{y4(A,!1,o=>{i[s]=o,++r===t&&e(i.join("\x1e"))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=ine()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let rne=!1;try{rne=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const JUe=rne;function VUe(){}class zUe extends qUe{constructor(e){if(super(e),typeof location<"u"){const t="https:"===location.protocol;let i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(r,A)=>{this.onError("xhr post error",r,A)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}let $2=(()=>{class n extends Ho{constructor(t,i,r){super(),this.createRequest=t,X2(this,r),this._opts=r,this._method=r.method||"GET",this._uri=i,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var t;const i=nne(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(i);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let A in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(A)&&r.setRequestHeader(A,this._opts.extraHeaders[A])}}catch{}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var A;3===r.readyState&&(null===(A=this._opts.cookieJar)||void 0===A||A.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof r.status?r.status:0)},0))},r.send(this._data)}catch(A){return void this.setTimeoutFn(()=>{this._onError(A)},0)}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||null===this._xhr)){if(this._xhr.onreadystatechange=VUe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();function Ane(){for(let n in $2.requests)$2.requests.hasOwnProperty(n)&&$2.requests[n].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",Ane):"function"==typeof addEventListener&&addEventListener("onpagehide"in dg?"pagehide":"unload",Ane,!1));const WUe=function(){const n=sne({xdomain:!1});return n&&null!==n.responseType}();function sne(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||JUe))return new XMLHttpRequest}catch{}if(!e)try{return new(dg[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}const one=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class ZUe extends D4{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,i=one?{}:nne(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],r=t===e.length-1;y4(i,this.supportsBinary,A=>{try{this.doWrite(i,A)}catch{}r&&Z2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=ine()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const b4=dg.WebSocket||dg.MozWebSocket,eOe={websocket:class XUe extends ZUe{createSocket(e,t,i){return one?new b4(e,t,i):t?new b4(e,t):new b4(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class $Ue extends D4{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function RUe(n,e){_4||(_4=new TextDecoder);const t=[];let i=0,r=-1,A=!1;return new TransformStream({transform(s,o){for(t.push(s);;){if(0===i){if(W2(t)<1)break;const a=j2(t,1);A=!(128&~a[0]),r=127&a[0],i=r<126?3:126===r?1:2}else if(1===i){if(W2(t)<2)break;const a=j2(t,2);r=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),i=3}else if(2===i){if(W2(t)<8)break;const a=j2(t,8),c=new DataView(a.buffer,a.byteOffset,a.length),l=c.getUint32(0);if(l>Math.pow(2,21)-1){o.enqueue(v4);break}r=l*Math.pow(2,32)+c.getUint32(4),i=3}else{if(W2(t)<r)break;const a=j2(t,r);o.enqueue(w4(A?a:_4.decode(a),e)),i=0}if(0===r||r>n){o.enqueue(v4);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),r=function FUe(){return new TransformStream({transform(n,e){!function DUe(n,e){zte&&n.data instanceof Blob?n.data.arrayBuffer().then(Xte).then(e):Wte&&(n.data instanceof ArrayBuffer||jte(n.data))?e(Xte(n.data)):y4(n,!1,t=>{Q4||(Q4=new TextEncoder),e(Q4.encode(t))})}(n,t=>{const i=t.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const A=new DataView(r.buffer);A.setUint8(0,126),A.setUint16(1,i)}else{r=new Uint8Array(9);const A=new DataView(r.buffer);A.setUint8(0,127),A.setBigUint64(1,BigInt(i))}n.data&&"string"!=typeof n.data&&(r[0]|=128),e.enqueue(r),e.enqueue(t)})}})}();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const A=()=>{i.read().then(({done:o,value:a})=>{o||(this.onPacket(a),A())}).catch(o=>{})};A();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=t===e.length-1;this._writer.write(e[t]).then(()=>{r&&Z2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class jUe extends zUe{constructor(e){super(e),this.supportsBinary=WUe&&!(e&&e.forceBase64)}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new $2(sne,this.uri(),e)}}},tOe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nOe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function S4(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),i=n.indexOf("]");-1!=t&&-1!=i&&(n=n.substring(0,t)+n.substring(t,i).replace(/:/g,";")+n.substring(i,n.length));let r=tOe.exec(n||""),A={},s=14;for(;s--;)A[nOe[s]]=r[s]||"";return-1!=t&&-1!=i&&(A.source=e,A.host=A.host.substring(1,A.host.length-1).replace(/;/g,":"),A.authority=A.authority.replace("[","").replace("]","").replace(/;/g,":"),A.ipv6uri=!0),A.pathNames=function iOe(n,e){const i=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.slice(0,1)||0===e.length)&&i.splice(0,1),"/"==e.slice(-1)&&i.splice(i.length-1,1),i}(0,A.path),A.queryKey=function rOe(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,A){r&&(t[r]=A)}),t}(0,A.query),A}const M4="function"==typeof addEventListener&&"function"==typeof removeEventListener,eF=[];M4&&addEventListener("offline",()=>{eF.forEach(n=>n())},!1);let N4=(()=>{class n extends Ho{constructor(t,i){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(i=t,t=null),t){const r=S4(t);i.hostname=r.host,i.secure="https"===r.protocol||"wss"===r.protocol,i.port=r.port,r.query&&(i.query=r.query)}else i.host&&(i.hostname=S4(i.host).host);X2(this,i),this.secure=null!=i.secure?i.secure:typeof location<"u"&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(r=>{const A=r.prototype.name;this.transports.push(A),this._transportsByName[A]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function YUe(n){let e={},t=n.split("&");for(let i=0,r=t.length;i<r;i++){let A=t[i].split("=");e[decodeURIComponent(A[0])]=decodeURIComponent(A[1])}return e}(this.opts.query)),M4&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},eF.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const i=Object.assign({},this.opts.query);i.EIO=4,i.transport=t,this.id&&(i.sid=this.id);const r=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(t);i.open(),this.setTransport(i)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=t.data,this._onError(i);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let r=0;r<this.writeBuffer.length;r++){const A=this.writeBuffer[r].data;if(A&&(i+=GUe(A)),r>0&&i>this._maxPayload)return this.writeBuffer.slice(0,r);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Z2(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,i,r){return this._sendPacket("message",t,i,r),this}send(t,i,r){return this._sendPacket("message",t,i,r),this}_sendPacket(t,i,r,A){if("function"==typeof i&&(A=i,i=void 0),"function"==typeof r&&(A=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const s={type:t,data:i,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),A&&this.once("flush",A),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),t()},r=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,i){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),M4&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=eF.indexOf(this._offlineEventListener);-1!==r&&eF.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,i),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=4,n})();class AOe extends N4{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),i=!1;N4.priorWebsocketSuccess=!1;const r=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",u=>{if(!i)if("pong"===u.type&&"probe"===u.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;N4.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=t.name,this.emitReserved("upgradeError",h)}}))};function A(){i||(i=!0,l(),t.close(),t=null)}const s=u=>{const h=new Error("probe error: "+u);h.transport=t.name,A(),this.emitReserved("upgradeError",h)};function o(){s("transport closed")}function a(){s("socket closed")}function c(u){t&&u.name!==t.name&&A()}const l=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",o),this.off("close",a),this.off("upgrading",c)};t.once("open",r),t.once("error",s),t.once("close",o),this.once("close",a),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}}class ane extends AOe{constructor(e,t={}){const i="object"==typeof e?e:t;(!i.transports||i.transports&&"string"==typeof i.transports[0])&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(r=>eOe[r]).filter(r=>!!r)),super(e,i)}}const oOe="function"==typeof ArrayBuffer,aOe=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,cne=Object.prototype.toString,cOe="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===cne.call(Blob),lOe="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===cne.call(File);function x4(n){return oOe&&(n instanceof ArrayBuffer||aOe(n))||cOe&&n instanceof Blob||lOe&&n instanceof File}function tF(n,e){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++)if(tF(n[t]))return!0;return!1}if(x4(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return tF(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&tF(n[t]))return!0;return!1}function uOe(n){const e=[],i=n;return i.data=F4(n.data,e),i.attachments=e.length,{packet:i,buffers:e}}function F4(n,e){if(!n)return n;if(x4(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){const t=new Array(n.length);for(let i=0;i<n.length;i++)t[i]=F4(n[i],e);return t}if("object"==typeof n&&!(n instanceof Date)){const t={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=F4(n[i],e));return t}return n}function gOe(n,e){return n.data=R4(n.data,e),delete n.attachments,n}function R4(n,e){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=R4(n[t],e);else if("object"==typeof n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=R4(n[t],e));return n}const hOe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],fOe=5;var lA=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(lA||{});class dOe{constructor(e){this.replacer=e}encode(e){return e.type!==lA.EVENT&&e.type!==lA.ACK||!tF(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===lA.EVENT?lA.BINARY_EVENT:lA.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return(e.type===lA.BINARY_EVENT||e.type===lA.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=uOe(e),i=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(i),r}}function lne(n){return"[object Object]"===Object.prototype.toString.call(n)}class T4 extends Ho{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===lA.BINARY_EVENT;i||t.type===lA.BINARY_ACK?(t.type=i?lA.EVENT:lA.ACK,this.reconstructor=new pOe(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!x4(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(void 0===lA[i.type])throw new Error("unknown packet type "+i.type);if(i.type===lA.BINARY_EVENT||i.type===lA.BINARY_ACK){const A=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(A,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(s)}if("/"===e.charAt(t+1)){const A=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);i.nsp=e.substring(A,t)}else i.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const A=t+1;for(;++t;){const s=e.charAt(t);if(null==s||Number(s)!=s){--t;break}if(t===e.length)break}i.id=Number(e.substring(A,t+1))}if(e.charAt(++t)){const A=this.tryParse(e.substr(t));if(!T4.isPayloadValid(i.type,A))throw new Error("invalid payload");i.data=A}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case lA.CONNECT:return lne(t);case lA.DISCONNECT:return void 0===t;case lA.CONNECT_ERROR:return"string"==typeof t||lne(t);case lA.EVENT:case lA.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===hOe.indexOf(t[0]));case lA.ACK:case lA.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class pOe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=gOe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function _h(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const mOe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class une extends Ho{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[_h(e,"open",this.onopen.bind(this)),_h(e,"packet",this.onpacket.bind(this)),_h(e,"error",this.onerror.bind(this)),_h(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var i,r,A;if(mOe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const s={type:lA.EVENT,data:t,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const l=this.ids++,u=t.pop();this._registerAckCallback(l,u),s.id=l}const o=null===(r=null===(i=this.io.engine)||void 0===i?void 0:i.transport)||void 0===r?void 0:r.writable,a=this.connected&&!(null!==(A=this.io.engine)&&void 0!==A&&A._hasPingExpired());return this.flags.volatile&&!o||(a?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var i;const r=null!==(i=this.flags.timeout)&&void 0!==i?i:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const A=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},r),s=(...o)=>{this.io.clearTimeoutFn(A),t.apply(this,o)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((i,r)=>{const A=(s,o)=>s?r(s):i(o);A.withError=!0,t.push(A),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...A)=>i!==this._queue[0]?void 0:(null!==r?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(r)):(this._queue.shift(),t&&t(null,...A)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:lA.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case lA.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case lA.EVENT:case lA.BINARY_EVENT:this.onevent(e);break;case lA.ACK:case lA.BINARY_ACK:this.onack(e);break;case lA.DISCONNECT:this.ondisconnect();break;case lA.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...r){i||(i=!0,t.packet({type:lA.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:lA.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function Jv(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Jv.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=1&Math.floor(10*e)?n+t:n-t}return 0|Math.min(n,this.max)},Jv.prototype.reset=function(){this.attempts=0},Jv.prototype.setMin=function(n){this.ms=n},Jv.prototype.setMax=function(n){this.max=n},Jv.prototype.setJitter=function(n){this.jitter=n};class k4 extends Ho{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,X2(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=t.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new Jv({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||kt;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ane(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=_h(t,"open",function(){i.onopen(),e&&e()}),A=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},s=_h(t,"error",A);if(!1!==this._timeout){const a=this.setTimeoutFn(()=>{r(),A(new Error("timeout")),t.close()},this._timeout);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(_h(e,"ping",this.onping.bind(this)),_h(e,"data",this.ondata.bind(this)),_h(e,"error",this.onerror.bind(this)),_h(e,"close",this.onclose.bind(this)),_h(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Z2(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new une(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var i;this.cleanup(),null===(i=this.engine)||void 0===i||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const L1={};function nF(n,e){"object"==typeof n&&(e=n,n=void 0);const t=function sOe(n,e="",t){let i=n;t=t||typeof location<"u"&&location,null==n&&(n=t.protocol+"//"+t.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?t.protocol+n:t.host+n),/^(https?|wss?):\/\//.test(n)||(n=typeof t<"u"?t.protocol+"//"+n:"https://"+n),i=S4(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const A=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+A+":"+i.port+e,i.href=i.protocol+"://"+A+(t&&t.port===i.port?"":":"+i.port),i}(n,(e=e||{}).path||"/socket.io"),i=t.source,r=t.id;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||L1[r]&&t.path in L1[r].nsps?a=new k4(i,e):(L1[r]||(L1[r]=new k4(i,e)),a=L1[r]),t.query&&!e.query&&(e.query=t.queryKey),a.socket(t.path,e)}Object.assign(nF,{Manager:k4,Socket:une,io:nF,connect:nF});let gne=(()=>{class n{constructor(t){this.messages=[],this.onNewMessage=new zi;let i=t.getConfigValue("baseUrlNodeJsChat");console.log("Setting chat from url : "+i),this.socket=nF(i,{extraHeaders:{"Access-Control-Allow-Origin":"*"}}),this.socket.on("message",r=>{console.log("received message : ["+JSON.stringify(r)+"]"),this.messages.push(r),console.log("Message Array (service) : "+this.messages),this.onNewMessage.next(r)})}getMessages(){return console.log("Receiving messages to UIX..."),ai(this.messages)}sendMessage(t){this.socket.emit("message",t)}static{this.\u0275fac=function(i){return new(i||n)(cn(Bm))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const COe=["_SourceList"],hne=()=>[0,1,2];function IOe(n,e){if(1&n){const t=TA();pe(0,"app-square-online",18),on("clickEvent",function(){const r=zn(t).$implicit,A=Cn().$implicit;return $n(Cn(2).makeMove(3*A+r))}),he()}if(2&n){const t=e.$implicit,i=Cn().$implicit;Xe("value",Cn(2).ticTacToeEngine.squares[3*i+t])}}function BOe(n,e){1&n&&(pe(0,"div",16),yn(1,IOe,1,1,"app-square-online",17),he()),2&n&&(ke(),Xe("ngForOf",A_(1,hne)))}function EOe(n,e){1&n&&(pe(0,"span",14),yn(1,BOe,2,2,"div",15),he()),2&n&&(ke(),Xe("ngForOf",A_(1,hne)))}function vOe(n,e){if(1&n&&(pe(0,"option",19),Re(1),he()),2&n){const t=e.$implicit;Xe("value",t._index)("selected",t._selected),ke(),$r("",t._value," ")}}function yOe(n,e){if(1&n&&(pe(0,"div",20)(1,"b"),Re(2),he()()),2&n){const t=Cn();ke(2),Gi(t.ticTacToeEngine.message)}}function QOe(n,e){if(1&n&&(pe(0,"table",21)(1,"tr")(2,"td")(3,"span"),Re(4),he()()()()),2&n){const t=e.$implicit;ke(4),$r(" ",t," ")}}let fne=(()=>{class n{constructor(t,i){this.chatService=t,this.ticTacToeEngine=i,this.parentData=[],this.tituloSource="\xbfQuien Inicia?",this.IsNewGame=!1,this.showBoard=!1}ngOnInit(){this.chatService.getMessages().subscribe(t=>this.parentData=t),this.chatService.onNewMessage.subscribe(t=>this.NotifyingMessage(t)),console.log("[TIC-TAC-TOE - INICIAR VALORES"),this.__SourceList=new Array,this.__SourceList.push(new Ic(0,"(SELECCIONE OPCION..)",!1)),this.__SourceList.push(new Ic(this.ticTacToeEngine.COMPUTER,"[INICIA MAQUINA]",!0)),this.__SourceList.push(new Ic(this.ticTacToeEngine.HUMAN,"[INICIA JUGADOR]",!1)),this.__SourceList.push(new Ic(this.ticTacToeEngine.HUMAN,"[JUGAR EN LINEA]",!1)),this.ticTacToeEngine.initialise()}ngAfterViewInit(){this._sourceList.nativeElement.options.selectedIndex=1}NotifyingMessage(t){console.log("Pushing data to client : "+t),console.log("Message Array (client) : "+this.parentData)}sendMessage(t){console.log("sending message: ",t),this.chatService.sendMessage(t)}makeMove(t){let i=`[TIC-TAC-TOE] - [Click on cel : {${t+1}}] `;console.log(i),this.ticTacToeEngine.makeMove(t),this.chatService.sendMessage(i)}newGame(){console.log("[GAME - TIC-TAC-TOE] - [NEW GAME]"),this.ticTacToeEngine.initialise(),this.IsNewGame=!0,this.showBoard=!1}startGame(){console.log("[GAME - TIC-TAC-TOE] - [START GAME]"),this._sourceList.nativeElement.options[this._sourceList.nativeElement.options.selectedIndex].value==this.ticTacToeEngine.COMPUTER&&this.ticTacToeEngine.makeComputerMove(),this.IsNewGame=!1,this.showBoard=!0}static{this.\u0275fac=function(i){return new(i||n)(yt(gne),yt(qte))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-board-online"]],viewQuery:function(i,r){if(1&i&&aA(COe,5),2&i){let A;Ii(A=Bi())&&(r._sourceList=A.first)}},standalone:!0,features:[Uo],decls:26,vars:8,consts:[["_SourceList",""],["class","board","align","center",4,"ngIf"],["id","SourceListDiv","align","left"],["id","tituloSource"],["for","_SourceList"],["id","_SourceList","name","_SourceList",3,"disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["align","center"],["type","button","value","[NUEVO]",3,"click","disabled"],["type","button","value","[INICIAR]",3,"click","disabled"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["id","divMessages"],["class","message-data",4,"ngFor","ngForOf"],["align","center",1,"board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"value","clickEvent",4,"ngFor","ngForOf"],[3,"clickEvent","value"],[3,"value","selected"],["role","alert",1,"alert","alert-secondary"],[1,"message-data"]],template:function(i,r){if(1&i){const A=TA();pe(0,"h1"),Re(1,"[TIC-TAC-TOE BOARD]"),he(),mt(2,"hr"),yn(3,EOe,2,2,"span",1),mt(4,"hr"),pe(5,"div",2)(6,"span",3),Re(7),he(),mt(8,"label",4),Re(9," \xa0\xa0 "),pe(10,"select",5,0),yn(12,vOe,2,3,"option",6),he()(),mt(13,"hr"),pe(14,"div",7)(15,"input",8),on("click",function(){return zn(A),$n(r.newGame())}),he(),pe(16,"input",9),on("click",function(){return zn(A),$n(r.startGame())}),he()(),mt(17,"hr"),pe(18,"div",10),yn(19,yOe,3,1,"div",11),he(),mt(20,"hr"),pe(21,"h4"),Re(22,"[MESSAGES]"),he(),mt(23,"hr"),pe(24,"div",12),yn(25,QOe,5,1,"table",13),he()}2&i&&(ke(3),Xe("ngIf",r.showBoard),ke(4),Gi(r.tituloSource),ke(3),Xe("disabled",0==r.IsNewGame),ke(2),Xe("ngForOf",r.__SourceList),ke(3),Xe("disabled",1==r.IsNewGame),ke(),Xe("disabled",0==r.IsNewGame),ke(3),Xe("ngIf",r.ticTacToeEngine.message),ke(6),Xe("ngForOf",r.parentData))},dependencies:[am,za,Cc,_Ue]})}}return n})(),wOe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-tic-tac-toe-online"]],decls:5,vars:0,consts:[["align","right"],["routerLink","/Dev"]],template:function(i,r){1&i&&(mt(0,"app-board-online")(1,"hr"),pe(2,"div",0)(3,"a",1),Re(4,"[Volver al Menu]"),he()())},dependencies:[fne,UA]})}}return n})();const _Oe=["ballCanvas"];let DOe=(()=>{class n{constructor(t){this.pageRestartService=t,this.ball={x:100,y:100,vx:5,vy:0,radius:15,mass:1},this.gravity=.5,this.friction=.98,this.restitution=.8,this.animate=()=>{this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),this.ball.vy+=this.gravity,this.ball.x+=this.ball.vx,this.ball.y+=this.ball.vy,(this.ball.x+this.ball.radius>this.canvas.nativeElement.width||this.ball.x-this.ball.radius<0)&&(this.ball.vx=-this.ball.vx*this.restitution),this.ball.y+this.ball.radius>this.canvas.nativeElement.height&&(this.ball.y=this.canvas.nativeElement.height-this.ball.radius,this.ball.vy=-this.ball.vy*this.restitution,this.ball.vx*=this.friction),this.ctx.beginPath(),this.ctx.arc(this.ball.x,this.ball.y,this.ball.radius,0,2*Math.PI),this.ctx.fillStyle="red",this.ctx.fill(),this.ctx.closePath(),Math.abs(this.ball.vx)<.1&&Math.abs(this.ball.vy)<.1?(this.ball.vx=0,this.ball.vy=0):requestAnimationFrame(this.animate)}}restart(){this.pageRestartService.reloadPage()}ngAfterViewInit(){this.animate()}static{this.\u0275fac=function(i){return new(i||n)(yt(q5))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-bouncing-ball"]],viewQuery:function(i,r){if(1&i&&aA(_Oe,5),2&i){let A;Ii(A=Bi())&&(r.canvas=A.first)}},decls:13,vars:0,consts:[["ballCanvas",""],["align","center"],["width","300","height","300"],[3,"click"],["align","right"],["routerLink","/StableReleases"]],template:function(i,r){if(1&i){const A=TA();pe(0,"div",1)(1,"h1"),Re(2,"[BOUCING BALL DEMO]"),he(),mt(3,"hr")(4,"canvas",2,0)(6,"hr"),pe(7,"button",3),on("click",function(){return zn(A),$n(r.restart())}),Re(8,"[RESTART]"),he(),mt(9,"hr"),pe(10,"div",4)(11,"a",5),Re(12,"[Volver al Menu]"),he()()()}},dependencies:[UA],styles:["canvas[_ngcontent-%COMP%]{border:1px solid #d3d3d3}"]})}}return n})(),bc=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),SOe=(()=>{class n{ripple=!1;inputStyle=IU("outlined");overlayOptions={};csp=IU({nonce:void 0});filterMatchModeOptions={text:[bc.STARTS_WITH,bc.CONTAINS,bc.NOT_CONTAINS,bc.ENDS_WITH,bc.EQUALS,bc.NOT_EQUALS],numeric:[bc.EQUALS,bc.NOT_EQUALS,bc.LESS_THAN,bc.LESS_THAN_OR_EQUAL_TO,bc.GREATER_THAN,bc.GREATER_THAN_OR_EQUAL_TO],date:[bc.DATE_IS,bc.DATE_IS_NOT,bc.DATE_BEFORE,bc.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new zi;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MOe=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(yt(Eo))};static \u0275dir=Mn({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[Ki.None,"pTemplate","name"]},standalone:!0})}return n})(),NOe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=hr({type:n});static \u0275inj=lr({})}return n})(),ll=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let r=i.trim().split(" ");for(let A=0;A<r.length;A++)t.classList.add(r[A])}else{let r=i.split(" ");for(let A=0;A<r.length;A++)t.className+=" "+r[A]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(A=>this.removeClass(t,A)))}static hasClass(t,i){return!(!t||!i)&&(t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var A=0;A<i.length;A++){if(i[A]==t)return r;1==i[A].nodeType&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],A=0;for(var s=0;s<r.length;s++){if(r[s]==t)return A;r[s].attributes&&r[s].attributes[i]&&1==r[s].nodeType&&A++}return-1}static appendOverlay(t,i,r="self"){"self"!==r&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,r="self",A=!0){t&&i&&(A&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),"self"===r?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,r=!0){const A=I=>{if(I)return"relative"===getComputedStyle(I).getPropertyValue("position")?I:A(I.parentElement)},s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=i.offsetHeight??i.getBoundingClientRect().height,a=i.getBoundingClientRect(),c=this.getWindowScrollTop(),l=this.getWindowScrollLeft(),u=this.getViewport(),g=A(t)?.getBoundingClientRect()||{top:-1*c,left:-1*l};let f,d;a.top+o+s.height>u.height?(f=a.top-g.top-s.height,t.style.transformOrigin="bottom",a.top+f<0&&(f=-1*a.top)):(f=o+a.top-g.top,t.style.transformOrigin="top");const m=a.left+s.width-u.width;d=s.width>u.width?-1*(a.left-g.left):m>0?a.left-g.left-m:a.left-g.left,t.style.top=f+"px",t.style.left=d+"px",r&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,r=!0){const A=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=A.height,o=A.width,a=i.offsetHeight??i.getBoundingClientRect().height,c=i.offsetWidth??i.getBoundingClientRect().width,l=i.getBoundingClientRect(),u=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),g=this.getViewport();let f,d;l.top+a+s>g.height?(f=l.top+u-s,t.style.transformOrigin="bottom",f<0&&(f=u)):(f=a+l.top+u,t.style.transformOrigin="top"),d=l.left+o>g.width?Math.max(0,l.left+h+c-o):l.left+h,t.style.top=f+"px",t.style.left=d+"px",r&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return null===t.parentNode?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t);const A=/(auto|scroll)/,s=o=>{let a=window.getComputedStyle(o,null);return A.test(a.getPropertyValue("overflow"))||A.test(a.getPropertyValue("overflowX"))||A.test(a.getPropertyValue("overflowY"))};for(let o of r){let a=1===o.nodeType&&o.dataset.scrollselectors;if(a){let c=a.split(",");for(let l of c){let u=this.findSingle(o,l);u&&s(u)&&i.push(u)}}9!==o.nodeType&&s(o)&&i.push(o)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),A=r?parseFloat(r):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=t.getBoundingClientRect(),l=i.getBoundingClientRect().top+document.body.scrollTop-(a.top+document.body.scrollTop)-A-o,u=t.scrollTop,h=t.clientHeight,g=this.getOuterHeight(i);l<0?t.scrollTop=u+l:l+g>h&&(t.scrollTop=u+l-h+g)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,A=0,s=function(){A=+t.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,t.style.opacity=A,r=+new Date,+A<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(t,i){var r=1,o=50/i;let a=setInterval(()=>{(r-=o)<=0&&(r=0,clearInterval(a)),t.style.opacity=r},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let A=getComputedStyle(t);r+=parseFloat(A.marginLeft)+parseFloat(A.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let A=getComputedStyle(t);r+=parseFloat(A.marginTop)+parseFloat(A.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,A=i.getElementsByTagName("body")[0];return{width:t.innerWidth||r.clientWidth||A.clientWidth,height:t.innerHeight||r.clientHeight||A.clientHeight}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+t;i.el.nativeElement.appendChild(t)}}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+t+" from "+i;i.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let r=this.find(t,this.getFocusableSelectorString(i)),A=[];for(let s of r){const o=getComputedStyle(s);this.isVisible(s)&&"none"!=o.display&&"hidden"!=o.visibility&&A.push(s)}return A}static getFocusableElement(t,i=""){let r=this.findSingle(t,this.getFocusableSelectorString(i));if(r){const A=getComputedStyle(r);if(this.isVisible(r)&&"none"!=A.display&&"hidden"!=A.visibility)return r}return null}static getFirstFocusableElement(t,i=""){const r=this.getFocusableElements(t,i);return r.length>0?r[0]:null}static getLastFocusableElement(t,i){const r=this.getFocusableElements(t,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(t,i=!1){const r=n.getFocusableElements(t);let A=0;if(r&&r.length>0){const s=r.indexOf(r[0].ownerDocument.activeElement);i?A=-1==s||0===s?r.length-1:s-1:-1!=s&&s!==r.length-1&&(A=s+1)}return r[A]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof t;if("string"===r)return document.querySelector(t);if("object"===r&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const s=(o=t)&&o.constructor&&o.call&&o.apply?t():t;return s&&9===s.nodeType||this.isExist(s)?s:null}var o}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){const r=t.getAttribute(i);return isNaN(r)?"true"===r||"false"===r?"true"===r:r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...r){if(t){const A=document.createElement(t);return this.setAttributes(A,i),A.append(...r),A}}static setAttribute(t,i="",r){this.isElement(t)&&null!=r&&t.setAttribute(i,r)}static setAttributes(t,i={}){if(this.isElement(t)){const r=(A,s)=>{const o=t?.$attrs?.[A]?[t?.$attrs?.[A]]:[];return[s].flat().reduce((a,c)=>{if(null!=c){const l=typeof c;if("string"===l||"number"===l)a.push(c);else if("object"===l){const u=Array.isArray(c)?r(A,c):Object.entries(c).map(([h,g])=>"style"!==A||!g&&0!==g?g?h:void 0:`${h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${g}`);a=u.length?a.concat(u.filter(h=>!!h)):a}}return a},o)};Object.entries(i).forEach(([A,s])=>{if(null!=s){const o=A.match(/^on(.+)/);o?t.addEventListener(o[1].toLowerCase(),s):"pBind"===A?this.setAttributes(t,s):(s="class"===A?[...new Set(r("class",s))].join(" ").trim():"style"===A?r("style",s).join(";").trim():s,(t.$attrs=t.$attrs||{})&&(t.$attrs[A]=s),t.setAttribute(A,s))}})}}static isFocusableElement(t,i=""){return!!this.isElement(t)&&t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`)}}return n})(),xOe=(()=>{class n{autofocus=!1;focused=!1;platformId=ze(ig);document=ze(CA);host=ze(N);ngAfterContentChecked(){!1===this.autofocus?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){zM(this.platformId)&&this.autofocus&&setTimeout(()=>{const t=ll.getFocusableElements(this.host?.nativeElement);0===t.length&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Mn({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[Ki.HasDecoratorInputTransform,"autofocus","autofocus",Va]},standalone:!0,features:[Pw]})}return n})();class U1{static isArray(e,t=!0){return Array.isArray(e)&&(t||0!==e.length)}static isObject(e,t=!0){return"object"==typeof e&&!Array.isArray(e)&&null!=e&&(t||0!==Object.keys(e).length)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var A,s,o,i=Array.isArray(e),r=Array.isArray(t);if(i&&r){if((s=e.length)!=t.length)return!1;for(A=s;0!=A--;)if(!this.equalsByValue(e[A],t[A]))return!1;return!0}if(i!=r)return!1;var a=this.isDate(e),c=this.isDate(t);if(a!=c)return!1;if(a&&c)return e.getTime()==t.getTime();var l=e instanceof RegExp,u=t instanceof RegExp;if(l!=u)return!1;if(l&&u)return e.toString()==t.toString();var h=Object.keys(e);if((s=h.length)!==Object.keys(t).length)return!1;for(A=s;0!=A--;)if(!Object.prototype.hasOwnProperty.call(t,h[A]))return!1;for(A=s;0!=A--;)if(!this.equalsByValue(e[o=h[A]],t[o]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let i=t.split("."),r=e;for(let A=0,s=i.length;A<s;++A){if(null==r)return null;r=r[i[A]]}return r}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let A=!1;for(let s=0;s<i.length;s++)if(this.findIndexInList(i[s],r)>t){i.splice(s,0,e),A=!0;break}A||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t)for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}return i}static contains(e,t){if(null!=e&&t&&t.length)for(let i of t)if(this.equals(e,i))return!0;return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,r=1){let A=-1;const s=this.isEmpty(e),o=this.isEmpty(t);return A=s&&o?0:s?r:o?-r:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,i,{numeric:!0}):e<t?-1:e>t?1:0,A}static sort(e,t,i=1,r,A=1){const s=U1.compare(e,t,r,i);let o=i;return(U1.isEmpty(e)||U1.isEmpty(t))&&(o=1===A?i:A),o*s}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var A,s,o,i=Array.isArray(e),r=Array.isArray(t);if(i&&r){if((s=e.length)!=t.length)return!1;for(A=s;0!=A--;)if(!this.deepEquals(e[A],t[A]))return!1;return!0}if(i!=r)return!1;var a=e instanceof Date,c=t instanceof Date;if(a!=c)return!1;if(a&&c)return e.getTime()==t.getTime();var l=e instanceof RegExp,u=t instanceof RegExp;if(l!=u)return!1;if(l&&u)return e.toString()==t.toString();var h=Object.keys(e);if((s=h.length)!==Object.keys(t).length)return!1;for(A=s;0!=A--;)if(!Object.prototype.hasOwnProperty.call(t,h[A]))return!1;for(A=s;0!=A--;)if(!this.deepEquals(e[o=h[A]],t[o]))return!1;return!0}return e!=e&&t!=t}}var dne=0;!function ROe(){let n=[];const r=A=>A&&parseInt(A.style.zIndex,10)||0}();const TOe=["*"];let kOe=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const t=U1.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ci({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[Ki.HasDecoratorInputTransform,"spin","spin",Va],styleClass:"styleClass"},standalone:!0,features:[Pw,Uo],ngContentSelectors:TOe,decls:1,vars:0,template:function(i,r){1&i&&(n_(),i_(0))},encapsulation:2,changeDetection:0})}return n})(),LOe=(()=>{class n extends kOe{pathId;ngOnInit(){this.pathId="url(#"+function FOe(n="pn_id_"){return`${n}${++dne}`}()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=FA(n)))(r||n)}})();static \u0275cmp=Ci({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[mA,Uo],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(function Xg(){wi.lFrame.currentNamespace="svg"}(),pe(0,"svg",0)(1,"g"),mt(2,"path",1),he(),pe(3,"defs")(4,"clipPath",2),mt(5,"rect",3),he()()()),2&i&&(rm(r.getClassNames()),qr("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),ke(),qr("clip-path",r.pathId),ke(3),Xe("id",r.pathId))},encapsulation:2})}return n})(),UOe=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,r,A,s,o){this.document=t,this.platformId=i,this.renderer=r,this.el=A,this.zone=s,this.config=o}animationListener;mouseDownListener;timeout;ngAfterViewInit(){zM(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if(ll.removeClass(i,"p-ink-active"),!ll.getHeight(i)&&!ll.getWidth(i)){let o=Math.max(ll.getOuterWidth(this.el.nativeElement),ll.getOuterHeight(this.el.nativeElement));i.style.height=o+"px",i.style.width=o+"px"}let r=ll.getOffset(this.el.nativeElement),A=t.pageX-r.left+this.document.body.scrollTop-ll.getWidth(i)/2,s=t.pageY-r.top+this.document.body.scrollLeft-ll.getHeight(i)/2;this.renderer.setStyle(i,"top",s+"px"),this.renderer.setStyle(i,"left",A+"px"),ll.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let o=this.getInk();o&&ll.removeClass(o,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if("string"==typeof t[i].className&&-1!==t[i].className.indexOf("p-ink"))return t[i];return null}resetInk(){let t=this.getInk();t&&ll.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),ll.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,ll.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(yt(CA),yt(ig),yt(ih),yt(N),yt(Fi),yt(SOe,8))};static \u0275dir=Mn({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})();const OOe=["*"],pne=n=>({class:n});function GOe(n,e){1&n&&YU(0)}function POe(n,e){1&n&&mt(0,"span",8),2&n&&(Xe("ngClass",Cn(3).iconClass()),qr("aria-hidden",!0)("data-pc-section","loadingicon"))}function HOe(n,e){1&n&&mt(0,"SpinnerIcon",9),2&n&&(Xe("styleClass",Cn(3).spinnerIconClass())("spin",!0),qr("aria-hidden",!0)("data-pc-section","loadingicon"))}function YOe(n,e){if(1&n&&(fI(0),yn(1,POe,1,3,"span",6)(2,HOe,1,4,"SpinnerIcon",7),dI()),2&n){const t=Cn(2);ke(),Xe("ngIf",t.loadingIcon),ke(),Xe("ngIf",!t.loadingIcon)}}function KOe(n,e){}function qOe(n,e){1&n&&yn(0,KOe,0,0,"ng-template",10),2&n&&Xe("ngIf",Cn(2).loadingIconTemplate)}function JOe(n,e){if(1&n&&(fI(0),yn(1,YOe,3,2,"ng-container",2)(2,qOe,1,1,null,5),dI()),2&n){const t=Cn();ke(),Xe("ngIf",!t.loadingIconTemplate),ke(),Xe("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",gf(3,pne,t.iconClass()))}}function VOe(n,e){1&n&&mt(0,"span",8),2&n&&(Xe("ngClass",Cn(2).iconClass()),qr("data-pc-section","icon"))}function zOe(n,e){}function WOe(n,e){if(1&n&&yn(0,zOe,0,0,"ng-template",10),2&n){const t=Cn(2);Xe("ngIf",!t.icon&&t.iconTemplate)}}function jOe(n,e){if(1&n&&(fI(0),yn(1,VOe,1,2,"span",6)(2,WOe,1,1,null,5),dI()),2&n){const t=Cn();ke(),Xe("ngIf",t.icon&&!t.iconTemplate),ke(),Xe("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",gf(3,pne,t.iconClass()))}}function ZOe(n,e){if(1&n&&(pe(0,"span",11),Re(1),he()),2&n){const t=Cn();qr("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),ke(),Gi(t.label)}}function XOe(n,e){if(1&n&&(pe(0,"span",8),Re(1),he()),2&n){const t=Cn();rm(t.badgeClass),Xe("ngClass",t.badgeStyleClass()),qr("data-pc-section","badge"),ke(),Gi(t.badge)}}let mne=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new ae;onFocus=new ae;onBlur=new ae;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){const t={"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":"small"===this.size,"p-button-lg":"large"===this.size,"p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(yt(N))};static \u0275cmp=Ci({type:n,selectors:[["p-button"]],contentQueries:function(i,r,A){if(1&i&&Lo(A,MOe,4),2&i){let s;Ii(s=Bi())&&(r.templates=s)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,r){2&i&&Lr("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[Ki.HasDecoratorInputTransform,"disabled","disabled",Va],loading:[Ki.HasDecoratorInputTransform,"loading","loading",Va],loadingIcon:"loadingIcon",raised:[Ki.HasDecoratorInputTransform,"raised","raised",Va],rounded:[Ki.HasDecoratorInputTransform,"rounded","rounded",Va],text:[Ki.HasDecoratorInputTransform,"text","text",Va],plain:[Ki.HasDecoratorInputTransform,"plain","plain",Va],severity:"severity",outlined:[Ki.HasDecoratorInputTransform,"outlined","outlined",Va],link:[Ki.HasDecoratorInputTransform,"link","link",Va],tabindex:[Ki.HasDecoratorInputTransform,"tabindex","tabindex",F0e],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[Ki.HasDecoratorInputTransform,"autofocus","autofocus",Va]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[Pw,Uo],ngContentSelectors:OOe,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,r){1&i&&(n_(),pe(0,"button",0),on("click",function(s){return r.onClick.emit(s)})("focus",function(s){return r.onFocus.emit(s)})("blur",function(s){return r.onBlur.emit(s)}),i_(1),yn(2,GOe,1,0,"ng-container",1)(3,JOe,3,5,"ng-container",2)(4,jOe,3,5,"ng-container",2)(5,ZOe,2,3,"span",3)(6,XOe,2,5,"span",4),he()),2&i&&(Xe("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),qr("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),ke(2),Xe("ngTemplateOutlet",r.contentTemplate),ke(),Xe("ngIf",r.loading),ke(),Xe("ngIf",!r.loading),ke(),Xe("ngIf",!r.contentTemplate&&r.label),ke(),Xe("ngIf",!r.contentTemplate&&r.badge))},dependencies:[Cc,d0,JM,xO,UOe,xOe,LOe],encapsulation:2,changeDetection:0})}return n})(),$Oe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=hr({type:n});static \u0275inj=lr({imports:[mne,NOe]})}return n})();const eGe=["_txtName"],tGe=["_txtMessage"];function nGe(n,e){1&n&&(pe(0,"div",17),Re(1," Pleae enter all fields "),he())}function iGe(n,e){if(1&n&&(pe(0,"table",18)(1,"tr")(2,"td")(3,"span"),Re(4),he()()()()),2&n){const t=e.$implicit;ke(4),$r(" ",t," ")}}let rGe=(()=>{class n{constructor(t,i){this.chatService=t,this.datePipe=i,this.parentData=[]}ngOnInit(){this.chatService.getMessages().subscribe(t=>this.parentData=t),this.chatService.onNewMessage.subscribe(t=>this.NotifyingMessage(t))}NotifyingMessage(t){console.log("Pushing data to client : "+t),console.log("Message Array (client) : "+this.parentData)}submitForm(t){t.valid&&(console.log(t.value),this.sendMessage(t.value.txtName,t.value.txtMessage))}sendMessage(t,i){let s=`[${this.datePipe.transform(new Date,"yyyy-MM-dd HH:mm:ss")}] -[${t}] Says: "${i}"`;console.log("sending message: {"+i+"}"),this.chatService.sendMessage(s)}static{this.\u0275fac=function(i){return new(i||n)(yt(gne),yt(TO))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-chat"]],viewQuery:function(i,r){if(1&i&&(aA(eGe,5),aA(tGe,5)),2&i){let A;Ii(A=Bi())&&(r.txtName=A.first),Ii(A=Bi())&&(r.txtMessage=A.first)}},decls:29,vars:2,consts:[["messageinputform","ngForm"],["_txtName",""],["_txtMessage",""],["id","divMessageInput","align","left"],[3,"ngSubmit"],[1,"form-group"],["for","txtName"],["type","text","id","txtName","name","txtName","maxlength","10","ngModel","","required",""],["for","txtMessage"],["type","text","id","txtMessage","name","txtMessage","maxlength","25","ngModel","","required",""],["class","form-group","align","left",4,"ngIf"],[1,"card","flex","justify-content-center"],["label","[SEND MESSAGE]","icon","pi pi-check","type","submit"],["id","divMessageOutput"],["class","message-data",4,"ngFor","ngForOf"],["align","right"],["routerLink","/Dev"],["align","left",1,"form-group"],[1,"message-data"]],template:function(i,r){if(1&i){const A=TA();pe(0,"h1"),Re(1,"[CHAT]"),he(),mt(2,"hr"),pe(3,"h4"),Re(4,"[MESSAGES]"),he(),mt(5,"hr"),pe(6,"div",3)(7,"form",4,0),on("ngSubmit",function(){zn(A);const o=ah(8);return $n(r.submitForm(o))}),pe(9,"div",5)(10,"label",6),Re(11,"Your Name:"),he(),mt(12,"input",7,1),he(),pe(14,"div",5)(15,"label",8),Re(16,"Your Message :"),he(),mt(17,"input",9,2),he(),yn(19,nGe,2,0,"div",10),pe(20,"div",11),mt(21,"p-button",12),he()()(),mt(22,"hr"),pe(23,"div",13),yn(24,iGe,5,1,"table",14),he(),mt(25,"hr"),pe(26,"div",15)(27,"a",16),Re(28,"[Volver al Menu]"),he()()}if(2&i){const A=ah(8);ke(19),Xe("ngIf",0==A.valid&&A.submitted),ke(5),Xe("ngForOf",r.parentData.reverse())}},dependencies:[UA,za,Cc,v0,ff,pm,I0,pN,mN,QI,E0,mne],styles:["@layer reset,primeng;@layer reset;table[_ngcontent-%COMP%]{width:400px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc;text-align:left}.form-group[_ngcontent-%COMP%]{background-color:#ccc;width:300px;margin-bottom:1em;display:flex;align-items:center}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}.message-data[_ngcontent-%COMP%]{color:#0ff}"]})}}return n})();function aa(){return aa=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},aa.apply(null,arguments)}var Cne={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null},Kt=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(Cne)};function Hi(n){var e=typeof n;if("number"===e||"bigint"===e||"string"===e||"boolean"===e||null==n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map(function(t){return Hi(t)});if(n instanceof Date)return new Date(n.valueOf());if(Zi(n))return n;if(P1(n))return function AGe(n,e){var t={};for(var i in n)Xn(n,i)&&(t[i]=e(n[i]));return t}(n,Hi);if("function"===e)return n;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function Bne(n,e){for(var t in e)Xn(e,t)&&(n[t]=e[t]);return n}function Wd(n,e){var t,i,r;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(i=0,r=n.length;i<r;i++)if(!Wd(n[i],e[i]))return!1;return!0}if("function"==typeof n)return n===e;if(n instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in n)if(!(t in e)||!Wd(n[t],e[t]))return!1;for(t in e)if(!(t in n))return!1;return!0}return n===e}function Xn(n,e){return n&&Object.hasOwnProperty.call(n,e)}function ul(n,e){if(iF(n,e))return n[e];throw"function"==typeof n[e]&&O4(n,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Vv(n,e,t){if(iF(n,e))return n[e]=t,t;throw new Error('No access to property "'+e+'"')}function iF(n,e){return!(!function uGe(n){return"object"==typeof n&&n&&n.constructor===Object}(n)&&!Array.isArray(n)||!Xn(gGe,e)&&(e in Object.prototype||e in Function.prototype))}function O4(n,e){return!(null==n||"function"!=typeof n[e]||Xn(n,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(n)||!Xn(hGe,e)&&(e in Object.prototype||e in Function.prototype))}aa(Kt,Cne,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var gGe={length:!0,name:!0},hGe={toString:!0,valueOf:!0,toLocaleString:!0};class rF{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return ul(this.wrappedObject,e)}set(e,t){return Vv(this.wrappedObject,e,t),this}has(e){return iF(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return _ne(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){iF(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}class wne{constructor(e,t,i){this.a=e,this.b=t,this.bKeys=i,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,t){return this.bKeys.has(e)?this.b.set(e,t):this.a.set(e,t),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return _ne(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function _ne(n,e){return{next:()=>{var t=n.next();return t.done?t:{value:e(t.value),done:!1}}}}function O1(){return new Map}function zv(n){if(!n)return O1();if(Wv(n))return n;if(P1(n))return new rF(n);throw new Error("createMap can create maps from objects or Maps")}function ji(n){return"number"==typeof n}function Zi(n){return!(!n||"object"!=typeof n||"function"!=typeof n.constructor)&&(!0===n.isBigNumber&&"object"==typeof n.constructor.prototype&&!0===n.constructor.prototype.isBigNumber||"function"==typeof n.constructor.isDecimal&&!0===n.constructor.isDecimal(n))}function dGe(n){return"bigint"==typeof n}function jd(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isComplex||!1}function G1(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isFraction||!1}function pg(n){return n&&!0===n.constructor.prototype.isUnit||!1}function Sc(n){return"string"==typeof n}var HA=Array.isArray;function Ei(n){return n&&!0===n.constructor.prototype.isMatrix||!1}function mg(n){return Array.isArray(n)||Ei(n)}function AF(n){return n&&n.isDenseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function aB(n){return n&&n.isSparseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function G4(n){return n&&!0===n.constructor.prototype.isRange||!1}function sF(n){return n&&!0===n.constructor.prototype.isIndex||!1}function pGe(n){return"boolean"==typeof n}function mGe(n){return n&&!0===n.constructor.prototype.isResultSet||!1}function Dne(n){return n&&!0===n.constructor.prototype.isHelp||!1}function CGe(n){return"function"==typeof n}function IGe(n){return n instanceof Date}function BGe(n){return n instanceof RegExp}function P1(n){return!(!n||"object"!=typeof n||n.constructor!==Object||jd(n)||G1(n))}function Wv(n){return!!n&&(n instanceof Map||n instanceof rF||"function"==typeof n.set&&"function"==typeof n.get&&"function"==typeof n.keys&&"function"==typeof n.has)}function EGe(n){return null===n}function vGe(n){return void 0===n}function cB(n){return n&&!0===n.isAccessorNode&&!0===n.constructor.prototype.isNode||!1}function Cg(n){return n&&!0===n.isArrayNode&&!0===n.constructor.prototype.isNode||!1}function yGe(n){return n&&!0===n.isAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function QGe(n){return n&&!0===n.isBlockNode&&!0===n.constructor.prototype.isNode||!1}function wGe(n){return n&&!0===n.isConditionalNode&&!0===n.constructor.prototype.isNode||!1}function Hr(n){return n&&!0===n.isConstantNode&&!0===n.constructor.prototype.isNode||!1}function P4(n){return Hr(n)||Mo(n)&&1===n.args.length&&Hr(n.args[0])&&"-+~".includes(n.op)}function H1(n){return n&&!0===n.isFunctionAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function Ym(n){return n&&!0===n.isFunctionNode&&!0===n.constructor.prototype.isNode||!1}function jv(n){return n&&!0===n.isIndexNode&&!0===n.constructor.prototype.isNode||!1}function YA(n){return n&&!0===n.isNode&&!0===n.constructor.prototype.isNode||!1}function oF(n){return n&&!0===n.isObjectNode&&!0===n.constructor.prototype.isNode||!1}function Mo(n){return n&&!0===n.isOperatorNode&&!0===n.constructor.prototype.isNode||!1}function Zd(n){return n&&!0===n.isParenthesisNode&&!0===n.constructor.prototype.isNode||!1}function _Ge(n){return n&&!0===n.isRangeNode&&!0===n.constructor.prototype.isNode||!1}function DGe(n){return n&&!0===n.isRelationalNode&&!0===n.constructor.prototype.isNode||!1}function ba(n){return n&&!0===n.isSymbolNode&&!0===n.constructor.prototype.isNode||!1}function bne(n){return n&&!0===n.constructor.prototype.isChain||!1}function As(n){var e=typeof n;return"object"===e?null===n?"null":Zi(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":e}var Sne=new Set(["end"]);function Qe(n,e,t,i){function r(A){var s=function cGe(n,e){for(var t={},i=0;i<e.length;i++){var r=e[i],A=n[r];void 0!==A&&(t[r]=A)}return t}(A,e.map(NGe));return function SGe(n,e,t){var i=e.filter(A=>!function MGe(n){return n&&"?"===n[0]}(A)).every(A=>void 0!==t[A]);if(!i){var r=e.filter(A=>void 0===t[A]);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(r.map(A=>'"'.concat(A,'"')).join(", "),"."))}}(n,e,A),t(s)}return r.isFactory=!0,r.fn=n,r.dependencies=e.slice().sort(),i&&(r.meta=i),r}function NGe(n){return n&&"?"===n[0]?n.slice(1):n}var RGe=Qe("Node",["mathWithTransform"],n=>{var{mathWithTransform:e}=n;return class i{get type(){return"Node"}get isNode(){return!0}evaluate(A){return this.compile().evaluate(A)}compile(){var A=this._compile(e,{}),s={};return{evaluate:function a(c){var l=zv(c);return function t(r){for(var A of[...Sne])if(r.has(A))throw new Error('Scope contains an illegal symbol, "'+A+'" is a reserved keyword')}(l),A(l,s,null)}}}_compile(A,s){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(A){throw new Error("Cannot run forEach on a Node interface")}map(A){throw new Error("Cannot run map on a Node interface")}_ifNode(A){if(!YA(A))throw new TypeError("Callback function must return a Node");return A}traverse(A){A(this,null,null),function s(o,a){o.forEach(function(c,l,u){a(c,l,u),s(c,a)})}(this,A)}transform(A){return function s(o,a,c){var l=A(o,a,c);return l!==o?l:o.map(s)}(this,null,null)}filter(A){var s=[];return this.traverse(function(o,a,c){A(o,a,c)&&s.push(o)}),s}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(A){return A.cloneDeep()})}equals(A){return!!A&&this.type===A.type&&Wd(this,A)}toString(A){var s=this._getCustomString(A);return typeof s<"u"?s:this._toString(A)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(A){var s=this._getCustomString(A);return typeof s<"u"?s:this._toHTML(A)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(A){var s=this._getCustomString(A);return typeof s<"u"?s:this._toTex(A)}_toTex(A){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(A){if(A&&"object"==typeof A)switch(typeof A.handler){case"object":case"undefined":return;case"function":return A.handler(this,A);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}},{isClass:!0,isNode:!0});function Y1(n){return Y1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y1(n)}function ca(n,e,t){return(e=function kGe(n){var e=function TGe(n,e){if("object"!=Y1(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!=Y1(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==Y1(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ai(n){return"boolean"==typeof n||!!isFinite(n)&&n===Math.round(n)}function Km(n,e){return"bigint"!==e.number||function LGe(n){return/^-?\d+$/.test(n)}(n)?e.number:e.numberFallback}var qm=Math.sign||function(n){return n>0?1:n<0?-1:0},UGe=Math.log2||function(e){return Math.log(e)/Math.LN2},OGe=Math.log10||function(e){return Math.log(e)/Math.LN10},Mne=Math.log1p||function(n){return Math.log(n+1)},GGe=Math.cbrt||function(e){if(0===e)return e;var i,t=e<0;return t&&(e=-e),i=isFinite(e)?(e/((i=Math.exp(Math.log(e)/3))*i)+2*i)/3:e,t?-i:i},PGe=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Y4(n,e,t){var r={2:"0b",8:"0o",16:"0x"}[e],A="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Ai(t))throw new Error("size must be an integer");if(n>2**(t-1)-1||n<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Ai(n))throw new Error("Value must be an integer");n<0&&(n+=2**t),A="i".concat(t)}var s="";return n<0&&(n=-n,s="-"),"".concat(s).concat(r).concat(n.toString(e)).concat(A)}function lB(n,e){if("function"==typeof e)return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:t,precision:i,wordSize:r}=Nne(e);switch(t){case"fixed":return xne(n,i);case"exponential":return Fne(n,i);case"engineering":return function HGe(n,e){if(isNaN(n)||!isFinite(n))return String(n);var i=aF(K1(n),e),r=i.exponent,A=i.coefficients,s=r%3==0?r:r<0?r-3-r%3:r-r%3;if(ji(e))for(;e>A.length||r-s+1>A.length;)A.push(0);else for(var o=Math.abs(r-s)-(A.length-1),a=0;a<o;a++)A.push(0);for(var c=Math.abs(r-s),l=1;c>0;)l++,c--;var u=A.slice(l).join(""),h=ji(e)&&u.length||u.match(/[1-9]/)?"."+u:"",g=A.slice(0,l).join("")+h+"e"+(r>=0?"+":"")+s.toString();return i.sign+g}(n,i);case"bin":return Y4(n,2,r);case"oct":return Y4(n,8,r);case"hex":return Y4(n,16,r);case"auto":return function YGe(n,e,t){if(isNaN(n)||!isFinite(n))return String(n);var i=Lne(t?.lowerExp,-3),r=Lne(t?.upperExp,5),A=K1(n),s=e?aF(A,e):A;if(s.exponent<i||s.exponent>=r)return Fne(n,e);var o=s.coefficients,a=s.exponent;o.length<e&&(o=o.concat(Zv(e-o.length))),o=o.concat(Zv(a-o.length+1+(o.length<e?e-o.length:0)));var c=a>0?a:0;return c<(o=Zv(-a).concat(o)).length-1&&o.splice(c+1,0,"."),s.sign+o.join("")}(n,i,e).replace(/((\.\d*?)(0+))($|e)/,function(){var A=arguments[2],s=arguments[4];return"."!==A?A+s:s});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Nne(n){var t,i,e="auto";if(void 0!==n)if(ji(n))t=n;else if(Zi(n))t=n.toNumber();else{if(!P1(n))throw new Error("Unsupported type of options, number, BigNumber, or object expected");void 0!==n.precision&&(t=kne(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),void 0!==n.wordSize&&(i=kne(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(e=n.notation)}return{notation:e,precision:t,wordSize:i}}function K1(n){var e=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],i=e[2],r=parseFloat(e[4]||"0"),A=i.indexOf(".");r+=-1!==A?A-1:i.length-1;var s=i.replace(".","").replace(/^0*/,function(o){return r-=o.length,""}).replace(/0*$/,"").split("").map(function(o){return parseInt(o)});return 0===s.length&&(s.push(0),r++),{sign:t,coefficients:s,exponent:r}}function xne(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=K1(n),i="number"==typeof e?aF(t,t.exponent+1+e):t,r=i.coefficients,A=i.exponent+1,s=A+(e||0);return r.length<s&&(r=r.concat(Zv(s-r.length))),A<0&&(r=Zv(1-A).concat(r),A=1),A<r.length&&r.splice(A,0,0===A?"0.":"."),i.sign+r.join("")}function Fne(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=K1(n),i=e?aF(t,e):t,r=i.coefficients,A=i.exponent;r.length<e&&(r=r.concat(Zv(e-r.length)));var s=r.shift();return i.sign+s+(r.length>0?"."+r.join(""):"")+"e"+(A>=0?"+":"")+A}function aF(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},i=t.coefficients;e<=0;)i.unshift(0),t.exponent++,e++;if(i.length>e&&i.splice(e,i.length-e)[0]>=5){var A=e-1;for(i[A]++;10===i[A];)i.pop(),0===A&&(i.unshift(0),t.exponent++,A++),i[--A]++}return t}function Zv(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}function $a(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(n)&&!isNaN(e)&&(isFinite(n)&&isFinite(e)?n===e||Math.abs(n-e)<=Math.max(t*Math.max(Math.abs(n),Math.abs(e)),i):n===e)}var qGe=Math.acosh||function(n){return Math.log(Math.sqrt(n*n-1)+n)},JGe=Math.asinh||function(n){return Math.log(Math.sqrt(n*n+1)+n)},VGe=Math.atanh||function(n){return Math.log((1+n)/(1-n))/2},Rne=Math.cosh||function(n){return(Math.exp(n)+Math.exp(-n))/2},zGe=Math.sinh||function(n){return(Math.exp(n)-Math.exp(-n))/2},Tne=Math.tanh||function(n){var e=Math.exp(2*n);return(e-1)/(e+1)};function kne(n,e){return ji(n)?n:Zi(n)?n.toNumber():void e()}function Lne(n,e){return ji(n)?n:Zi(n)?n.toNumber():e}function K4(n,e,t){var r=new(0,n.constructor)(2),A="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Ai(t))throw new Error("size must be an integer");if(n.greaterThan(r.pow(t-1).sub(1))||n.lessThan(r.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(r.pow(t))),A="i".concat(t)}switch(e){case 2:return"".concat(n.toBinary()).concat(A);case 8:return"".concat(n.toOctal()).concat(A);case 16:return"".concat(n.toHexadecimal()).concat(A);default:throw new Error("Base ".concat(e," not supported "))}}function Une(n,e){return void 0!==e?n.toExponential(e-1):n.toExponential()}function One(n,e){return ji(n)?n:Zi(n)?n.toNumber():e}function $Ge(n,e){return n.substring(n.length-e.length,n.length)===e}function mr(n,e){var t=function e3e(n,e){return"number"==typeof n?lB(n,e):Zi(n)?function jGe(n,e){if("function"==typeof e)return e(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:i,wordSize:r}=Nne(e);switch(t){case"fixed":return function XGe(n,e){return n.toFixed(e)}(n,i);case"exponential":return Une(n,i);case"engineering":return function ZGe(n,e){var t=n.e,i=t%3==0?t:t<0?t-3-t%3:t-t%3,A=n.mul(Math.pow(10,-i)).toPrecision(e);return A.includes("e")&&(A=new(0,n.constructor)(A).toFixed()),A+"e"+(t>=0?"+":"")+i.toString()}(n,i);case"bin":return K4(n,2,r);case"oct":return K4(n,8,r);case"hex":return K4(n,16,r);case"auto":var A=One(e?.lowerExp,-3),s=One(e?.upperExp,5);if(n.isZero())return"0";var a=n.toSignificantDigits(i),c=a.e;return(c>=A&&c<s?a.toFixed():Une(n,i)).replace(/((\.\d*?)(0+))($|e)/,function(){var l=arguments[2],u=arguments[4];return"."!==l?l+u:u});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(n,e):function t3e(n){return n&&"object"==typeof n&&"bigint"==typeof n.s&&"bigint"==typeof n.n&&"bigint"==typeof n.d||!1}(n)?e&&"decimal"===e.fraction?n.toString():"".concat(n.s*n.n,"/").concat(n.d):Array.isArray(n)?Pne(n,e):Sc(n)?Xv(n):"function"==typeof n?n.syntax?String(n.syntax):"function":n&&"object"==typeof n?"function"==typeof n.format?n.format(e):n&&n.toString(e)!=={}.toString()?n.toString(e):"{"+Object.keys(n).map(i=>Xv(i)+": "+mr(n[i],e)).join(", ")+"}":String(n)}(n,e);return e&&"object"==typeof e&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function Xv(n){for(var e=String(n),t="",i=0;i<e.length;){var r=e.charAt(i);t+=r in Gne?Gne[r]:r,i++}return'"'+t+'"'}var Gne={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Ig(n){var e=String(n);return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Pne(n,e){if(Array.isArray(n)){for(var t="[",i=n.length,r=0;r<i;r++)0!==r&&(t+=", "),t+=Pne(n[r],e);return t+"]"}return mr(n,e)}function q4(n,e){if(!Sc(n))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+As(n)+", index: 0)");if(!Sc(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+As(e)+", index: 1)");return n===e?0:n>e?1:-1}var cF="ObjectNode",i3e=Qe(cF,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(r){if(super(),this.properties=r||{},r&&("object"!=typeof r||!Object.keys(r).every(function(A){return YA(r[A])})))throw new TypeError("Object containing Nodes expected")}get type(){return cF}get isObjectNode(){return!0}_compile(r,A){var s={};for(var o in this.properties)if(Xn(this.properties,o)){var a=Xv(o),c=JSON.parse(a),l=ul(this.properties,o);s[c]=l._compile(r,A)}return function(h,g,f){var d={};for(var m in s)Xn(s,m)&&(d[m]=s[m](h,g,f));return d}}forEach(r){for(var A in this.properties)Xn(this.properties,A)&&r(this.properties[A],"properties["+Xv(A)+"]",this)}map(r){var A={};for(var s in this.properties)Xn(this.properties,s)&&(A[s]=this._ifNode(r(this.properties[s],"properties["+Xv(s)+"]",this)));return new t(A)}clone(){var r={};for(var A in this.properties)Xn(this.properties,A)&&(r[A]=this.properties[A]);return new t(r)}_toString(r){var A=[];for(var s in this.properties)Xn(this.properties,s)&&A.push(Xv(s)+": "+this.properties[s].toString(r));return"{"+A.join(", ")+"}"}toJSON(){return{mathjs:cF,properties:this.properties}}static fromJSON(r){return new t(r.properties)}_toHTML(r){var A=[];for(var s in this.properties)Xn(this.properties,s)&&A.push('<span class="math-symbol math-property">'+Ig(s)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[s].toHTML(r));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+A.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(r){var A=[];for(var s in this.properties)Xn(this.properties,s)&&A.push("\\mathbf{"+s+":} & "+this.properties[s].toTex(r)+"\\\\");return"\\left\\{\\begin{array}{ll}"+A.join("\n")+"\\end{array}\\right\\}"}}return ca(t,"name",cF),t},{isClass:!0,isNode:!0});function Cr(n,e,t){if(!(this instanceof Cr))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function Dh(n,e,t){if(!(this instanceof Dh))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}function Ti(n){for(var e=[];Array.isArray(n);)e.push(n.length),n=n[0];return e}function Hne(n,e,t){var i,r=n.length;if(r!==e[t])throw new Cr(r,e[t]);if(t<e.length-1){var A=t+1;for(i=0;i<r;i++){if(!Array.isArray(n[i]))throw new Cr(e.length-1,e.length,"<");Hne(n[i],e,A)}}else for(i=0;i<r;i++)if(Array.isArray(n[i]))throw new Cr(e.length+1,e.length,">")}function Yne(n,e){if(0===e.length){if(Array.isArray(n))throw new Cr(n.length,0)}else Hne(n,e,0)}function lF(n,e){var t=n.isMatrix?n._size:Ti(n);e._sourceSize.forEach((r,A)=>{if(null!==r&&r!==t[A])throw new Cr(r,t[A])})}function ss(n,e){if(void 0!==n){if(!ji(n)||!Ai(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||"number"==typeof e&&n>=e)throw new Dh(n,e)}}function $v(n){for(var e=0;e<n._dimensions.length;++e){var t=n._dimensions[e];if(t._data&&HA(t._data)){if(0===t._size[0])return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(Sc(t)&&0===t.length)return!0}return!1}function ey(n,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach(function(r){if(!ji(r)||!Ai(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+mr(e)+")")}),(ji(n)||Zi(n))&&(n=[n]),J4(n,e,0,void 0!==t?t:0),n}function J4(n,e,t,i){var r,A,o=e[t],a=Math.min(n.length,o);if(n.length=o,t<e.length-1){var c=t+1;for(r=0;r<a;r++)A=n[r],Array.isArray(A)||(n[r]=A=[A]),J4(A,e,c,i);for(r=a;r<o;r++)n[r]=A=[],J4(A,e,c,i)}else{for(r=0;r<a;r++)for(;Array.isArray(n[r]);)n[r]=n[r][0];for(r=a;r<o;r++)n[r]=i}}function V4(n,e){var t=tA(n),i=t.length;if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Cr(0,i,"!=");var r=Kne(e=z4(e,i));if(i!==r)throw new Cr(r,i,"!=");try{return function r3e(n,e){for(var i,t=n,r=e.length-1;r>0;r--){var A=e[r];i=[];for(var s=t.length/A,o=0;o<s;o++)i.push(t.slice(o*A,(o+1)*A));t=i}return t}(t,e)}catch(A){throw A instanceof Cr?new Cr(r,i,"!="):A}}function z4(n,e){var t=Kne(n),i=n.slice(),A=n.indexOf(-1);if(n.indexOf(-1,A+1)>=0)throw new Error("More than one wildcard in sizes");if(A>=0){if(e%t!=0)throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);i[A]=-e/t}return i}function Kne(n){return n.reduce((e,t)=>e*t,1)}function uF(n,e){for(var t=e||Ti(n);Array.isArray(n)&&1===n.length;)n=n[0],t.shift();for(var i=t.length;1===t[i-1];)i--;return i<t.length&&(n=qne(n,i,0),t.length=i),n}function qne(n,e,t){var i,r;if(t<e){var A=t+1;for(i=0,r=n.length;i<r;i++)n[i]=qne(n[i],e,A)}else for(;Array.isArray(n);)n=n[0];return n}function Jne(n,e,t,i){var r=i||Ti(n);if(t)for(var A=0;A<t;A++)n=[n],r.unshift(1);for(n=Vne(n,e,0);r.length<e;)r.push(1);return n}function Vne(n,e,t){var i,r;if(Array.isArray(n)){var A=t+1;for(i=0,r=n.length;i<r;i++)n[i]=Vne(n[i],e,A)}else for(var s=t;s<e;s++)n=[n];return n}function tA(n){if(!Array.isArray(n))return n;var e=[];return n.forEach(function t(i){Array.isArray(i)?i.forEach(t):e.push(i)}),e}function Jm(n,e){return Array.prototype.map.call(n,e)}function zne(n,e){Array.prototype.forEach.call(n,e)}function Wne(n,e){if(1!==Ti(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,t=>e.test(t))}function jne(n,e){return Array.prototype.join.call(n,e)}function ty(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;var e=[],t=0;e[0]={value:n[0],identifier:0};for(var i=1;i<n.length;i++)n[i]===n[i-1]?t++:t=0,e.push({value:n[i],identifier:t});return e}function gF(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;for(var e=[],t=0;t<n.length;t++)e.push(n[t].value);return e}function hF(n,e){for(var t,i=0,r=0;r<n.length;r++){var A=n[r],s=Array.isArray(A);if(0===r&&s&&(i=A.length),s&&A.length!==i)return;var o=s?hF(A,e):e(A);if(void 0===t)t=o;else if(t!==o)return"mixed"}return t}function Zne(n,e,t,i){if(i<t){if(n.length!==e.length)throw new Cr(n.length,e.length);for(var r=[],A=0;A<n.length;A++)r[A]=Zne(n[A],e[A],t,i+1);return r}return n.concat(e)}function Xne(){var n=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(1===n.length)return n[0];if(n.length>1)return n.slice(1).reduce(function(t,i){return Zne(t,i,e,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function fF(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var i=e.map(h=>h.length),r=Math.max(...i),A=new Array(r).fill(null),s=0;s<e.length;s++)for(var o=e[s],a=i[s],c=0;c<a;c++){var l=r-a+c;o[c]>A[l]&&(A[l]=o[c])}for(var u=0;u<e.length;u++)$ne(e[u],A);return A}function $ne(n,e){for(var t=e.length,i=n.length,r=0;r<i;r++){var A=t-i+r;if(n[r]<e[A]&&n[r]>1||n[r]>e[A])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(i," with size ").concat(n[r]," to size ").concat(e[A]))}}function Vm(n,e){var t=Ti(n);if(Wd(t,e))return n;$ne(t,e);var i=fF(t,e),r=i.length,A=[...Array(r-t.length).fill(1),...t],s=function o3e(n){return aa([],n)}(n);t.length<r&&(t=Ti(s=V4(s,A)));for(var o=0;o<r;o++)t[o]<i[o]&&(t=Ti(s=s3e(s,i[o],o)));return s}function s3e(n,e,t){return Xne(...Array(e).fill(n),t)}function W4(n,e){if(!Array.isArray(n))throw new Error("Array expected");var t=Ti(n);if(e.length!==t.length)throw new Cr(e.length,t.length);for(var i=0;i<e.length;i++)ss(e[i],t[i]);return e.reduce((r,A)=>r[A],n)}function j4(n,e,t,i){return Array.isArray(n)?n.map(function(r,A){return j4(r,e.concat(A),t,i)}):i(n,e,t)}function q1(n,e){return new wne(n,new rF(e),new Set(Object.keys(e)))}(Cr.prototype=new RangeError).constructor=RangeError,Cr.prototype.name="DimensionError",Cr.prototype.isDimensionError=!0,(Dh.prototype=new RangeError).constructor=RangeError,Dh.prototype.name="IndexError",Dh.prototype.isIndexError=!0;var bh=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function dF(n,e){if(!e||"auto"!==e)return n;for(var t=n;Zd(t);)t=t.content;return t}function zA(n,e,t,i){var r=n;"keep"!==e&&(r=n.getContent());for(var A=r.getIdentifier(),s=null,o=0;o<bh.length;o++)if(A in bh[o]){s=o;break}if("OperatorNode:multiply"===A&&r.implicit&&"show"!==t){var a=dF(r.args[0],e);!(Hr(a)&&i&&"OperatorNode:divide"===i.getIdentifier()&&P4(dF(i.args[0],e)))&&("OperatorNode:divide"!==a.getIdentifier()||!P4(dF(a.args[0],e))||!Hr(dF(a.args[1])))&&(s+=1)}return s}function J1(n,e){var t=n;"keep"!==e&&(t=n.getContent());var i=t.getIdentifier(),r=zA(t,e);if(null===r)return null;var A=bh[r][i];if(Xn(A,"associativity")){if("left"===A.associativity)return"left";if("right"===A.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+A.associativity+"'.")}return null}function Z4(n,e,t){var i="keep"!==t?n.getContent():n,r="keep"!==t?n.getContent():e,A=i.getIdentifier(),s=r.getIdentifier(),o=zA(i,t);if(null===o)return null;var a=bh[o][A];if(Xn(a,"associativeWith")&&a.associativeWith instanceof Array){for(var c=0;c<a.associativeWith.length;c++)if(a.associativeWith[c]===s)return!0;return!1}return null}var c3e=De(7636),X4={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},nA={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},eie={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(nA.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(nA.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(nA.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(nA.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(nA.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(nA.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(nA.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(nA.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(nA.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(nA.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(nA.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(nA.bitAnd,"${args[1]}\\right)")},bitNot:{1:nA.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(nA.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(nA.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(nA.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(nA.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(nA.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(nA.and,"${args[1]}\\right)")},not:{1:nA.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(nA.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(nA.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(nA.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(nA.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(nA.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(nA.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(nA.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(nA.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(nA.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(nA.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(nA.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(nA.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(nA.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(X4.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},tie={deg:"^\\circ"};function $4(n){return c3e(n,{preserveFormatting:!0})}function nie(n,e){return(e=!(typeof e>"u")&&e)?Xn(tie,n)?tie[n]:"\\mathrm{"+$4(n)+"}":Xn(X4,n)?X4[n]:$4(n)}var pF="OperatorNode",g3e=Qe(pF,["Node"],n=>{var{Node:e}=n;function t(A,s){var o=A;if("auto"===s)for(;Zd(o);)o=o.content;return!!Hr(o)||!!Mo(o)&&t(o.args[0],s)}function i(A,s,o,a,c){var h,l=zA(A,s,o),u=J1(A,s);if("all"===s||a.length>2&&"OperatorNode:add"!==A.getIdentifier()&&"OperatorNode:multiply"!==A.getIdentifier())return a.map(function(M){switch(M.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(a.length){case 0:h=[];break;case 1:var g=zA(a[0],s,o,A);if(c&&null!==g){var f,d;if("keep"===s?(f=a[0].getIdentifier(),d=A.getIdentifier()):(f=a[0].getContent().getIdentifier(),d=A.getContent().getIdentifier()),!1===bh[l][d].latexLeftParens){h=[!1];break}if(!1===bh[g][f].latexParens){h=[!1];break}}if(null===g){h=[!1];break}if(g<=l){h=[!0];break}h=[!1];break;case 2:var m,p=zA(a[0],s,o,A),I=Z4(A,a[0],s);m=null!==p&&(p===l&&"right"===u&&!I||p<l);var C,E,b,S,B=zA(a[1],s,o,A),y=Z4(A,a[1],s);C=null!==B&&(B===l&&"left"===u&&!y||B<l),c&&("keep"===s?(E=A.getIdentifier(),b=A.args[0].getIdentifier(),S=A.args[1].getIdentifier()):(E=A.getContent().getIdentifier(),b=A.args[0].getContent().getIdentifier(),S=A.args[1].getContent().getIdentifier()),null!==p&&(!1===bh[l][E].latexLeftParens&&(m=!1),!1===bh[p][b].latexParens&&(m=!1)),null!==B&&(!1===bh[l][E].latexRightParens&&(C=!1),!1===bh[B][S].latexParens&&(C=!1))),h=[m,C];break;default:("OperatorNode:add"===A.getIdentifier()||"OperatorNode:multiply"===A.getIdentifier())&&(h=a.map(function(M){var D=zA(M,s,o,A),T=Z4(A,M,s),O=J1(M,s);return null!==D&&(l===D&&u===O&&!T||D<l)}))}if(a.length>=2&&"OperatorNode:multiply"===A.getIdentifier()&&A.implicit&&"all"!==s&&"hide"===o)for(var w=1;w<h.length;++w)t(a[w],s)&&!h[w-1]&&("keep"!==s||!Zd(a[w-1]))&&(h[w]=!0);return h}class r extends e{constructor(s,o,a,c,l){if(super(),"string"!=typeof s)throw new TypeError('string expected for parameter "op"');if("string"!=typeof o)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(a)||!a.every(YA))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===c,this.isPercentage=!0===l,this.op=s,this.fn=o,this.args=a||[]}get type(){return pF}get isOperatorNode(){return!0}_compile(s,o){if("string"!=typeof this.fn||!O4(s,this.fn))throw s[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var a=ul(s,this.fn),c=Jm(this.args,function(f){return f._compile(s,o)});if("function"==typeof a&&!0===a.rawArgs){var l=this.args;return function(d,m,p){return a(l,s,q1(d,m))}}if(1===c.length){var u=c[0];return function(d,m,p){return a(u(d,m,p))}}if(2===c.length){var h=c[0],g=c[1];return function(d,m,p){return a(h(d,m,p),g(d,m,p))}}return function(d,m,p){return a.apply(null,Jm(c,function(I){return I(d,m,p)}))}}forEach(s){for(var o=0;o<this.args.length;o++)s(this.args[o],"args["+o+"]",this)}map(s){for(var o=[],a=0;a<this.args.length;a++)o[a]=this._ifNode(s(this.args[a],"args["+a+"]",this));return new r(this.op,this.fn,o,this.implicit,this.isPercentage)}clone(){return new r(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=s&&s.implicit?s.implicit:"hide",c=this.args,l=i(this,o,a,c,!1);if(1===c.length){var u=J1(this,o),h=c[0].toString(s);l[0]&&(h="("+h+")");var g=/[a-zA-Z]+/.test(this.op);return"right"===u?this.op+(g?" ":"")+h:"left"===u?h+(g?" ":"")+this.op:h+this.op}if(2===c.length){var f=c[0].toString(s),d=c[1].toString(s);return l[0]&&(f="("+f+")"),l[1]&&(d="("+d+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===a?f+" "+d:f+" "+this.op+" "+d}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var m=c.map(function(p,I){return p=p.toString(s),l[I]&&(p="("+p+")"),p});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===a?m.join(" "):m.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:pF,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(s){return new r(s.op,s.fn,s.args,s.implicit,s.isPercentage)}_toHTML(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=s&&s.implicit?s.implicit:"hide",c=this.args,l=i(this,o,a,c,!1);if(1===c.length){var u=J1(this,o),h=c[0].toHTML(s);return l[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===u?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Ig(this.op)+"</span>"+h:h+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Ig(this.op)+"</span>"}if(2===c.length){var g=c[0].toHTML(s),f=c[1].toHTML(s);return l[0]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l[1]&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===a?g+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+f:g+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ig(this.op)+"</span>"+f}var d=c.map(function(m,p){return m=m.toHTML(s),l[p]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),m});return c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===a?d.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):d.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ig(this.op)+"</span>"):'<span class="math-function">'+Ig(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=s&&s.implicit?s.implicit:"hide",c=this.args,l=i(this,o,a,c,!0),u=nA[this.fn];if(u=typeof u>"u"?this.op:u,1===c.length){var h=J1(this,o),g=c[0].toTex(s);return l[0]&&(g="\\left(".concat(g,"\\right)")),"right"===h?u+g:g+u}if(2===c.length){var f=c[0],d=f.toTex(s);l[0]&&(d="\\left(".concat(d,"\\right)"));var I,p=c[1].toTex(s);switch(l[1]&&(p="\\left(".concat(p,"\\right)")),I="keep"===o?f.getIdentifier():f.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return u+"{"+d+"}{"+p+"}";case"OperatorNode:pow":switch(d="{"+d+"}",p="{"+p+"}",I){case"ConditionalNode":case"OperatorNode:divide":d="\\left(".concat(d,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===a)return d+"~"+p}return d+u+p}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var C=c.map(function(B,y){return B=B.toTex(s),l[y]&&(B="\\left(".concat(B,"\\right)")),B});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===a?C.join("~"):C.join(u)}return"\\mathrm{"+this.fn+"}\\left("+c.map(function(B){return B.toTex(s)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return ca(r,"name",pF),r},{isClass:!0,isNode:!0}),mF="ParenthesisNode",f3e=Qe(mF,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(r){if(super(),!YA(r))throw new TypeError('Node expected for parameter "content"');this.content=r}get type(){return mF}get isParenthesisNode(){return!0}_compile(r,A){return this.content._compile(r,A)}getContent(){return this.content.getContent()}forEach(r){r(this.content,"content",this)}map(r){var A=r(this.content,"content",this);return new t(A)}clone(){return new t(this.content)}_toString(r){return!r||r&&!r.parenthesis||r&&"keep"===r.parenthesis?"("+this.content.toString(r)+")":this.content.toString(r)}toJSON(){return{mathjs:mF,content:this.content}}static fromJSON(r){return new t(r.content)}_toHTML(r){return!r||r&&!r.parenthesis||r&&"keep"===r.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(r)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(r)}_toTex(r){return!r||r&&!r.parenthesis||r&&"keep"===r.parenthesis?"\\left(".concat(this.content.toTex(r),"\\right)"):this.content.toTex(r)}}return ca(t,"name",mF),t},{isClass:!0,isNode:!0}),CF="RelationalNode",p3e=Qe(CF,["Node"],n=>{var{Node:e}=n,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class i extends e{constructor(A,s){if(super(),!Array.isArray(A))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(s))throw new TypeError("Parameter params must be an array");if(A.length!==s.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=A,this.params=s}get type(){return CF}get isRelationalNode(){return!0}_compile(A,s){var o=this,a=this.params.map(c=>c._compile(A,s));return function(l,u,h){for(var g,f=a[0](l,u,h),d=0;d<o.conditionals.length;d++)if(g=f,f=a[d+1](l,u,h),!ul(A,o.conditionals[d])(g,f))return!1;return!0}}forEach(A){this.params.forEach((s,o)=>A(s,"params["+o+"]",this),this)}map(A){return new i(this.conditionals.slice(),this.params.map((s,o)=>this._ifNode(A(s,"params["+o+"]",this)),this))}clone(){return new i(this.conditionals,this.params)}_toString(A){for(var s=A&&A.parenthesis?A.parenthesis:"keep",o=zA(this,s,A&&A.implicit),a=this.params.map(function(u,h){var g=zA(u,s,A&&A.implicit);return"all"===s||null!==g&&g<=o?"("+u.toString(A)+")":u.toString(A)}),c=a[0],l=0;l<this.conditionals.length;l++)c+=" "+t[this.conditionals[l]],c+=" "+a[l+1];return c}toJSON(){return{mathjs:CF,conditionals:this.conditionals,params:this.params}}static fromJSON(A){return new i(A.conditionals,A.params)}_toHTML(A){for(var s=A&&A.parenthesis?A.parenthesis:"keep",o=zA(this,s,A&&A.implicit),a=this.params.map(function(u,h){var g=zA(u,s,A&&A.implicit);return"all"===s||null!==g&&g<=o?'<span class="math-parenthesis math-round-parenthesis">(</span>'+u.toHTML(A)+'<span class="math-parenthesis math-round-parenthesis">)</span>':u.toHTML(A)}),c=a[0],l=0;l<this.conditionals.length;l++)c+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ig(t[this.conditionals[l]])+"</span>"+a[l+1];return c}_toTex(A){for(var s=A&&A.parenthesis?A.parenthesis:"keep",o=zA(this,s,A&&A.implicit),a=this.params.map(function(u,h){var g=zA(u,s,A&&A.implicit);return"all"===s||null!==g&&g<=o?"\\left("+u.toTex(A)+"\right)":u.toTex(A)}),c=a[0],l=0;l<this.conditionals.length;l++)c+=nA[this.conditionals[l]]+a[l+1];return c}}return ca(i,"name",CF),i},{isClass:!0,isNode:!0}),IF="ArrayNode",C3e=Qe(IF,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(r){if(super(),this.items=r||[],!Array.isArray(this.items)||!this.items.every(YA))throw new TypeError("Array containing Nodes expected")}get type(){return IF}get isArrayNode(){return!0}_compile(r,A){var s=Jm(this.items,function(c){return c._compile(r,A)});if("Array"!==r.config.matrix){var a=r.matrix;return function(l,u,h){return a(Jm(s,function(g){return g(l,u,h)}))}}return function(l,u,h){return Jm(s,function(g){return g(l,u,h)})}}forEach(r){for(var A=0;A<this.items.length;A++)r(this.items[A],"items["+A+"]",this)}map(r){for(var A=[],s=0;s<this.items.length;s++)A[s]=this._ifNode(r(this.items[s],"items["+s+"]",this));return new t(A)}clone(){return new t(this.items.slice(0))}_toString(r){return"["+this.items.map(function(s){return s.toString(r)}).join(", ")+"]"}toJSON(){return{mathjs:IF,items:this.items}}static fromJSON(r){return new t(r.items)}_toHTML(r){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(s){return s.toHTML(r)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(r){return function A(s,o){var a=s.some(Cg)&&!s.every(Cg),c=o||a,l=c?"&":"\\\\",u=s.map(function(h){return h.items?A(h.items,!o):h.toTex(r)}).join(l);return a||!c||c&&!o?"\\begin{bmatrix}"+u+"\\end{bmatrix}":u}(this.items,!1)}}return ca(t,"name",IF),t},{isClass:!0,isNode:!0}),BF="BlockNode",B3e=Qe(BF,["ResultSet","Node"],n=>{var{ResultSet:e,Node:t}=n;class i extends t{constructor(A){if(super(),!Array.isArray(A))throw new Error("Array expected");this.blocks=A.map(function(s){var o=s&&s.node,a=!s||void 0===s.visible||s.visible;if(!YA(o))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof a)throw new TypeError('Property "visible" must be a boolean');return{node:o,visible:a}})}get type(){return BF}get isBlockNode(){return!0}_compile(A,s){var o=Jm(this.blocks,function(a){return{evaluate:a.node._compile(A,s),visible:a.visible}});return function(c,l,u){var h=[];return zne(o,function(f){var d=f.evaluate(c,l,u);f.visible&&h.push(d)}),new e(h)}}forEach(A){for(var s=0;s<this.blocks.length;s++)A(this.blocks[s].node,"blocks["+s+"].node",this)}map(A){for(var s=[],o=0;o<this.blocks.length;o++){var a=this.blocks[o],c=this._ifNode(A(a.node,"blocks["+o+"].node",this));s[o]={node:c,visible:a.visible}}return new i(s)}clone(){var A=this.blocks.map(function(s){return{node:s.node,visible:s.visible}});return new i(A)}_toString(A){return this.blocks.map(function(s){return s.node.toString(A)+(s.visible?"":";")}).join("\n")}toJSON(){return{mathjs:BF,blocks:this.blocks}}static fromJSON(A){return new i(A.blocks)}_toHTML(A){return this.blocks.map(function(s){return s.node.toHTML(A)+(s.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(A){return this.blocks.map(function(s){return s.node.toTex(A)+(s.visible?"":";")}).join("\\;\\;\n")}}return ca(i,"name",BF),i},{isClass:!0,isNode:!0}),EF="ConditionalNode",v3e=Qe(EF,["Node"],n=>{var{Node:e}=n;class i extends e{constructor(A,s,o){if(super(),!YA(A))throw new TypeError("Parameter condition must be a Node");if(!YA(s))throw new TypeError("Parameter trueExpr must be a Node");if(!YA(o))throw new TypeError("Parameter falseExpr must be a Node");this.condition=A,this.trueExpr=s,this.falseExpr=o}get type(){return EF}get isConditionalNode(){return!0}_compile(A,s){var o=this.condition._compile(A,s),a=this.trueExpr._compile(A,s),c=this.falseExpr._compile(A,s);return function(u,h,g){return function t(r){if("number"==typeof r||"boolean"==typeof r||"string"==typeof r)return!!r;if(r){if(Zi(r))return!r.isZero();if(jd(r))return!(!r.re&&!r.im);if(pg(r))return!!r.value}if(null==r)return!1;throw new TypeError('Unsupported type of condition "'+As(r)+'"')}(o(u,h,g))?a(u,h,g):c(u,h,g)}}forEach(A){A(this.condition,"condition",this),A(this.trueExpr,"trueExpr",this),A(this.falseExpr,"falseExpr",this)}map(A){return new i(this._ifNode(A(this.condition,"condition",this)),this._ifNode(A(this.trueExpr,"trueExpr",this)),this._ifNode(A(this.falseExpr,"falseExpr",this)))}clone(){return new i(this.condition,this.trueExpr,this.falseExpr)}_toString(A){var s=A&&A.parenthesis?A.parenthesis:"keep",o=zA(this,s,A&&A.implicit),a=this.condition.toString(A),c=zA(this.condition,s,A&&A.implicit);("all"===s||"OperatorNode"===this.condition.type||null!==c&&c<=o)&&(a="("+a+")");var l=this.trueExpr.toString(A),u=zA(this.trueExpr,s,A&&A.implicit);("all"===s||"OperatorNode"===this.trueExpr.type||null!==u&&u<=o)&&(l="("+l+")");var h=this.falseExpr.toString(A),g=zA(this.falseExpr,s,A&&A.implicit);return("all"===s||"OperatorNode"===this.falseExpr.type||null!==g&&g<=o)&&(h="("+h+")"),a+" ? "+l+" : "+h}toJSON(){return{mathjs:EF,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(A){return new i(A.condition,A.trueExpr,A.falseExpr)}_toHTML(A){var s=A&&A.parenthesis?A.parenthesis:"keep",o=zA(this,s,A&&A.implicit),a=this.condition.toHTML(A),c=zA(this.condition,s,A&&A.implicit);("all"===s||"OperatorNode"===this.condition.type||null!==c&&c<=o)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var l=this.trueExpr.toHTML(A),u=zA(this.trueExpr,s,A&&A.implicit);("all"===s||"OperatorNode"===this.trueExpr.type||null!==u&&u<=o)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var h=this.falseExpr.toHTML(A),g=zA(this.falseExpr,s,A&&A.implicit);return("all"===s||"OperatorNode"===this.falseExpr.type||null!==g&&g<=o)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a+'<span class="math-operator math-conditional-operator">?</span>'+l+'<span class="math-operator math-conditional-operator">:</span>'+h}_toTex(A){return"\\begin{cases} {"+this.trueExpr.toTex(A)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(A)+"}\\\\{"+this.falseExpr.toTex(A)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return ca(i,"name",EF),i},{isClass:!0,isNode:!0}),vF="ConstantNode",Q3e=Qe(vF,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(r){super(),this.value=r}get type(){return vF}get isConstantNode(){return!0}_compile(r,A){var s=this.value;return function(){return s}}forEach(r){}map(r){return this.clone()}clone(){return new t(this.value)}_toString(r){return mr(this.value,r)}_toHTML(r){var A=this._toString(r);switch(As(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+A+"</span>";case"string":return'<span class="math-string">'+A+"</span>";case"boolean":return'<span class="math-boolean">'+A+"</span>";case"null":return'<span class="math-null-symbol">'+A+"</span>";case"undefined":return'<span class="math-undefined">'+A+"</span>";default:return'<span class="math-symbol">'+A+"</span>"}}toJSON(){return{mathjs:vF,value:this.value}}static fromJSON(r){return new t(r.value)}_toTex(r){var A=this._toString(r),s=As(this.value);switch(s){case"string":return"\\mathtt{"+$4(A)+"}";case"number":case"BigNumber":if(!("BigNumber"===s?this.value.isFinite():isFinite(this.value)))return this.value.valueOf()<0?"-\\infty":"\\infty";var a=A.toLowerCase().indexOf("e");return-1!==a?A.substring(0,a)+"\\cdot10^{"+A.substring(a+1)+"}":A;case"bigint":return A.toString();case"Fraction":return this.value.toLatex();default:return A}}}return ca(t,"name",vF),t},{isClass:!0,isNode:!0}),yF="RangeNode",_3e=Qe(yF,["Node"],n=>{var{Node:e}=n;function t(r,A,s){var o=zA(r,A,s),a={},c=zA(r.start,A,s);if(a.start=null!==c&&c<=o||"all"===A,r.step){var l=zA(r.step,A,s);a.step=null!==l&&l<=o||"all"===A}var u=zA(r.end,A,s);return a.end=null!==u&&u<=o||"all"===A,a}class i extends e{constructor(A,s,o){if(super(),!YA(A))throw new TypeError("Node expected");if(!YA(s))throw new TypeError("Node expected");if(o&&!YA(o))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=A,this.end=s,this.step=o||null}get type(){return yF}get isRangeNode(){return!0}needsEnd(){return this.filter(function(s){return ba(s)&&"end"===s.name}).length>0}_compile(A,s){var o=A.range,a=this.start._compile(A,s),c=this.end._compile(A,s);if(this.step){var l=this.step._compile(A,s);return function(h,g,f){return o(a(h,g,f),c(h,g,f),l(h,g,f))}}return function(h,g,f){return o(a(h,g,f),c(h,g,f))}}forEach(A){A(this.start,"start",this),A(this.end,"end",this),this.step&&A(this.step,"step",this)}map(A){return new i(this._ifNode(A(this.start,"start",this)),this._ifNode(A(this.end,"end",this)),this.step&&this._ifNode(A(this.step,"step",this)))}clone(){return new i(this.start,this.end,this.step&&this.step)}_toString(A){var a,o=t(this,A&&A.parenthesis?A.parenthesis:"keep",A&&A.implicit),c=this.start.toString(A);if(o.start&&(c="("+c+")"),a=c,this.step){var l=this.step.toString(A);o.step&&(l="("+l+")"),a+=":"+l}var u=this.end.toString(A);return o.end&&(u="("+u+")"),a+":"+u}toJSON(){return{mathjs:yF,start:this.start,end:this.end,step:this.step}}static fromJSON(A){return new i(A.start,A.end,A.step)}_toHTML(A){var a,o=t(this,A&&A.parenthesis?A.parenthesis:"keep",A&&A.implicit),c=this.start.toHTML(A);if(o.start&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a=c,this.step){var l=this.step.toHTML(A);o.step&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a+='<span class="math-operator math-range-operator">:</span>'+l}var u=this.end.toHTML(A);return o.end&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a+'<span class="math-operator math-range-operator">:</span>'+u}_toTex(A){var o=t(this,A&&A.parenthesis?A.parenthesis:"keep",A&&A.implicit),a=this.start.toTex(A);if(o.start&&(a="\\left(".concat(a,"\\right)")),this.step){var c=this.step.toTex(A);o.step&&(c="\\left(".concat(c,"\\right)")),a+=":"+c}var l=this.end.toTex(A);return o.end&&(l="\\left(".concat(l,"\\right)")),a+":"+l}}return ca(i,"name",yF),i},{isClass:!0,isNode:!0}),S3e=Qe("reviver",["classes"],n=>{var{classes:e}=n;return function(i,r){var A=e[r&&r.mathjs];return A&&"function"==typeof A.fromJSON?A.fromJSON(r):r}}),x3e=Qe("Chain",["?on","math","typed"],n=>{var{on:e,math:t,typed:i}=n;function r(c){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=bne(c)?c.value:c}function s(c,l){!function oGe(n,e,t){var r,i=!0;Object.defineProperty(n,e,{get:function(){return i&&(r=t(),i=!1),r},set:function(s){r=s,i=!1},configurable:!0,enumerable:!0})}(r.prototype,c,function(){var h=l();if("function"==typeof h)return o(h)})}function o(c){return function(){if(0===arguments.length)return new r(c(this.value));for(var l=[this.value],u=0;u<arguments.length;u++)l[u+1]=arguments[u];if(i.isTypedFunction(c)){var h=i.resolve(c,l);if(1===h.params.length)throw new Error("chain function "+c.name+" cannot match rest parameter between chain value and additional arguments.");return new r(h.implementation.apply(c,l))}return new r(c.apply(c,l))}}r.prototype.type="Chain",r.prototype.isChain=!0,r.prototype.done=function(){return this.value},r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return mr(this.value)},r.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},r.fromJSON=function(c){return new r(c.value)},r.createProxy=function(c,l){if("string"==typeof c)!function A(c,l){"function"==typeof l&&(r.prototype[c]=o(l))}(c,l);else{var u=function(f){Xn(c,f)&&void 0===a[f]&&s(f,()=>c[f])};for(var h in c)u(h)}};var a={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return r.createProxy(t),e&&e("import",function(c,l,u){u||s(c,l)}),r},{isClass:!0}),QF="FunctionAssignmentNode",R3e=Qe(QF,["typed","Node"],n=>{var{typed:e,Node:t}=n;function i(A,s,o){var a=zA(A,s,o),c=zA(A.expr,s,o);return"all"===s||null!==c&&c<=a}class r extends t{constructor(s,o,a){if(super(),"string"!=typeof s)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(o))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!YA(a))throw new TypeError('Node expected for parameter "expr"');if(Sne.has(s))throw new Error('Illegal function name, "'+s+'" is a reserved keyword');var c=new Set;for(var l of o){var u="string"==typeof l?l:l.name;if(c.has(u))throw new Error('Duplicate parameter name "'.concat(u,'"'));c.add(u)}this.name=s,this.params=o.map(function(h){return h&&h.name||h}),this.types=o.map(function(h){return h&&h.type||"any"}),this.expr=a}get type(){return QF}get isFunctionAssignmentNode(){return!0}_compile(s,o){var a=Object.create(o);zne(this.params,function(f){a[f]=!0});var c=this.expr._compile(s,a),l=this.name,u=this.params,h=jne(this.types,","),g=l+"("+jne(this.params,", ")+")";return function(d,m,p){var I={};I[h]=function(){for(var B=Object.create(m),y=0;y<u.length;y++)B[u[y]]=arguments[y];return c(d,B,p)};var C=e(l,I);return C.syntax=g,d.set(l,C),C}}forEach(s){s(this.expr,"expr",this)}map(s){var o=this._ifNode(s(this.expr,"expr",this));return new r(this.name,this.params.slice(0),o)}clone(){return new r(this.name,this.params.slice(0),this.expr)}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=this.expr.toString(s);return i(this,o,s&&s.implicit)&&(a="("+a+")"),this.name+"("+this.params.join(", ")+") = "+a}toJSON(){var s=this.types;return{mathjs:QF,name:this.name,params:this.params.map(function(o,a){return{name:o,type:s[a]}}),expr:this.expr}}static fromJSON(s){return new r(s.name,s.params,s.expr)}_toHTML(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=[],c=0;c<this.params.length;c++)a.push('<span class="math-symbol math-parameter">'+Ig(this.params[c])+"</span>");var l=this.expr.toHTML(s);return i(this,o,s&&s.implicit)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Ig(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+l}_toTex(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=this.expr.toTex(s);return i(this,o,s&&s.implicit)&&(a="\\left(".concat(a,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(nie).join(",")+"\\right)="+a}}return ca(r,"name",QF),r},{isClass:!0,isNode:!0}),k3e=Qe("chain",["typed","Chain"],n=>{var{typed:e,Chain:t}=n;return e("chain",{"":function(){return new t},any:function(r){return new t(r)}})}),wF="IndexNode",U3e=Qe(wF,["Node","size"],n=>{var{Node:e,size:t}=n;class i extends e{constructor(A,s){if(super(),this.dimensions=A,this.dotNotation=s||!1,!Array.isArray(A)||!A.every(YA))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return wF}get isIndexNode(){return!0}_compile(A,s){var o=Jm(this.dimensions,function(c,l){if(c.filter(f=>f.isSymbolNode&&"end"===f.name).length>0){var h=Object.create(s);h.end=!0;var g=c._compile(A,h);return function(d,m,p){if(!Ei(p)&&!HA(p)&&!Sc(p))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+As(p));var I=t(p).valueOf(),C=Object.create(m);return C.end=I[l],g(d,C,p)}}return c._compile(A,s)}),a=ul(A,"index");return function(l,u,h){var g=Jm(o,function(f){return f(l,u,h)});return a(...g)}}forEach(A){for(var s=0;s<this.dimensions.length;s++)A(this.dimensions[s],"dimensions["+s+"]",this)}map(A){for(var s=[],o=0;o<this.dimensions.length;o++)s[o]=this._ifNode(A(this.dimensions[o],"dimensions["+o+"]",this));return new i(s,this.dotNotation)}clone(){return new i(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&Hr(this.dimensions[0])&&"string"==typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(A){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:wF,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(A){return new i(A.dimensions,A.dotNotation)}_toHTML(A){for(var s=[],o=0;o<this.dimensions.length;o++)s[o]=this.dimensions[o].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Ig(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(A){var s=this.dimensions.map(function(o){return o.toTex(A)});return this.dotNotation?"."+this.getObjectProperty():"_{"+s.join(",")+"}"}}return ca(i,"name",wF),i},{isClass:!0,isNode:!0});function gl(n){return n&&n.isIndexError?new Dh(n.index+1,n.min+1,void 0!==n.max?n.max+1:void 0):n}function rie(n){var{subset:e}=n;return function(i,r){try{if(Array.isArray(i))return e(i,r);if(i&&"function"==typeof i.subset)return i.subset(r);if("string"==typeof i)return e(i,r);if("object"==typeof i){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return ul(i,r.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(A){throw gl(A)}}}var _F="AccessorNode",G3e=Qe(_F,["subset","Node"],n=>{var{subset:e,Node:t}=n,i=rie({subset:e});function r(s){return!(cB(s)||Cg(s)||Hr(s)||Ym(s)||oF(s)||Zd(s)||ba(s))}class A extends t{constructor(o,a){if(super(),!YA(o))throw new TypeError('Node expected for parameter "object"');if(!jv(a))throw new TypeError('IndexNode expected for parameter "index"');this.object=o,this.index=a}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return _F}get isAccessorNode(){return!0}_compile(o,a){var c=this.object._compile(o,a),l=this.index._compile(o,a);if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(g,f,d){return ul(c(g,f,d),u)}}return function(g,f,d){var m=c(g,f,d),p=l(g,f,m);return i(m,p)}}forEach(o){o(this.object,"object",this),o(this.index,"index",this)}map(o){return new A(this._ifNode(o(this.object,"object",this)),this._ifNode(o(this.index,"index",this)))}clone(){return new A(this.object,this.index)}_toString(o){var a=this.object.toString(o);return r(this.object)&&(a="("+a+")"),a+this.index.toString(o)}_toHTML(o){var a=this.object.toHTML(o);return r(this.object)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a+this.index.toHTML(o)}_toTex(o){var a=this.object.toTex(o);return r(this.object)&&(a="\\left(' + object + '\\right)"),a+this.index.toTex(o)}toJSON(){return{mathjs:_F,object:this.object,index:this.index}}static fromJSON(o){return new A(o.object,o.index)}}return ca(A,"name",_F),A},{isClass:!0,isNode:!0}),DF="AssignmentNode",Y3e=Qe(DF,["subset","?matrix","Node"],n=>{var{subset:e,matrix:t,Node:i}=n,r=rie({subset:e}),A=function P3e(n){var{subset:e,matrix:t}=n;return function(r,A,s){try{if(Array.isArray(r))return t(r).subset(A,s).valueOf().forEach((a,c)=>{r[c]=a}),r;if(r&&"function"==typeof r.subset)return r.subset(A,s);if("string"==typeof r)return e(r,A,s);if("object"==typeof r){if(!A.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Vv(r,A.getObjectProperty(),s),r}throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw gl(a)}}}({subset:e,matrix:t});function s(a,c,l){c||(c="keep");var u=zA(a,c,l),h=zA(a.value,c,l);return"all"===c||null!==h&&h<=u}class o extends i{constructor(c,l,u){if(super(),this.object=c,this.index=u?l:null,this.value=u||l,!ba(c)&&!cB(c))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(ba(c)&&"end"===c.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!jv(this.index))throw new TypeError('IndexNode expected as "index"');if(!YA(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return DF}get isAssignmentNode(){return!0}_compile(c,l){var u=this.object._compile(c,l),h=this.index?this.index._compile(c,l):null,g=this.value._compile(c,l),f=this.object.name;if(this.index){if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(B,y,E){var b=u(B,y,E),S=g(B,y,E);return Vv(b,d,S),S}}if(ba(this.object))return function(B,y,E){var b=u(B,y,E),S=g(B,y,E),w=h(B,y,b);return B.set(f,A(b,w,S)),S};var m=this.object.object._compile(c,l);if(this.object.index.isObjectProperty()){var p=this.object.index.getObjectProperty();return function(B,y,E){var b=m(B,y,E),S=ul(b,p),w=h(B,y,S),M=g(B,y,E);return Vv(b,p,A(S,w,M)),M}}var I=this.object.index._compile(c,l);return function(B,y,E){var b=m(B,y,E),S=I(B,y,b),w=r(b,S),M=h(B,y,w),D=g(B,y,E);return A(b,S,A(w,M,D)),D}}if(!ba(this.object))throw new TypeError("SymbolNode expected as object");return function(B,y,E){var b=g(B,y,E);return B.set(f,b),b}}forEach(c){c(this.object,"object",this),this.index&&c(this.index,"index",this),c(this.value,"value",this)}map(c){var l=this._ifNode(c(this.object,"object",this)),u=this.index?this._ifNode(c(this.index,"index",this)):null,h=this._ifNode(c(this.value,"value",this));return new o(l,u,h)}clone(){return new o(this.object,this.index,this.value)}_toString(c){var l=this.object.toString(c),u=this.index?this.index.toString(c):"",h=this.value.toString(c);return s(this,c&&c.parenthesis,c&&c.implicit)&&(h="("+h+")"),l+u+" = "+h}toJSON(){return{mathjs:DF,object:this.object,index:this.index,value:this.value}}static fromJSON(c){return new o(c.object,c.index,c.value)}_toHTML(c){var l=this.object.toHTML(c),u=this.index?this.index.toHTML(c):"",h=this.value.toHTML(c);return s(this,c&&c.parenthesis,c&&c.implicit)&&(h='<span class="math-paranthesis math-round-parenthesis">(</span>'+h+'<span class="math-paranthesis math-round-parenthesis">)</span>'),l+u+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+h}_toTex(c){var l=this.object.toTex(c),u=this.index?this.index.toTex(c):"",h=this.value.toTex(c);return s(this,c&&c.parenthesis,c&&c.implicit)&&(h="\\left(".concat(h,"\\right)")),l+u+"="+h}}return ca(o,"name",DF),o},{isClass:!0,isNode:!0}),J3e=Qe("SymbolNode",["math","?Unit","Node"],n=>{var{math:e,Unit:t,Node:i}=n;function r(s){return!!t&&t.isValuelessUnit(s)}class A extends i{constructor(o){if(super(),"string"!=typeof o)throw new TypeError('String expected for parameter "name"');this.name=o}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(o,a){var c=this.name;if(!0===a[c])return function(u,h,g){return ul(h,c)};if(c in o)return function(u,h,g){return u.has(c)?u.get(c):ul(o,c)};var l=r(c);return function(u,h,g){return u.has(c)?u.get(c):l?new t(null,c):A.onUndefinedSymbol(c)}}forEach(o){}map(o){return this.clone()}static onUndefinedSymbol(o){throw new Error("Undefined symbol "+o)}clone(){return new A(this.name)}_toString(o){return this.name}_toHTML(o){var a=Ig(this.name);return"true"===a||"false"===a?'<span class="math-symbol math-boolean">'+a+"</span>":"i"===a?'<span class="math-symbol math-imaginary-symbol">'+a+"</span>":"Infinity"===a?'<span class="math-symbol math-infinity-symbol">'+a+"</span>":"NaN"===a?'<span class="math-symbol math-nan-symbol">'+a+"</span>":"null"===a?'<span class="math-symbol math-null-symbol">'+a+"</span>":"undefined"===a?'<span class="math-symbol math-undefined-symbol">'+a+"</span>":'<span class="math-symbol">'+a+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(o){return new A(o.name)}_toTex(o){var a=!1;typeof e[this.name]>"u"&&r(this.name)&&(a=!0);var c=nie(this.name,a);return"\\"===c[0]?c:" "+c}}return A},{isClass:!0,isNode:!0}),bF="FunctionNode",z3e=Qe(bF,["math","Node","SymbolNode"],n=>{var e,{math:t,Node:i,SymbolNode:r}=n,A=a=>mr(a,{truncate:78});function s(a,c,l){for(var f,u="",h=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,g=0;null!==(f=h.exec(a));)if(u+=a.substring(g,f.index),g=f.index,"$$"===f[0])u+="$",g++;else{g+=f[0].length;var d=c[f[1]];if(!d)throw new ReferenceError("Template: Property "+f[1]+" does not exist.");if(void 0===f[2])switch(typeof d){case"string":u+=d;break;case"object":if(YA(d))u+=d.toTex(l);else{if(!Array.isArray(d))throw new TypeError("Template: "+f[1]+" has to be a Node, String or array of Nodes");u+=d.map(function(m,p){if(YA(m))return m.toTex(l);throw new TypeError("Template: "+f[1]+"["+p+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+f[1]+" has to be a Node, String or array of Nodes")}else{if(!YA(d[f[2]]&&d[f[2]]))throw new TypeError("Template: "+f[1]+"["+f[2]+"] is not a Node.");u+=d[f[2]].toTex(l)}}return u+a.slice(g)}class o extends i{constructor(c,l){if(super(),"string"==typeof c&&(c=new r(c)),!YA(c))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(l)||!l.every(YA))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=c,this.args=l||[]}get name(){return this.fn.name||""}get type(){return bF}get isFunctionNode(){return!0}_compile(c,l){var u=this.args.map(S=>S._compile(c,l));if(!ba(this.fn)){if(cB(this.fn)&&jv(this.fn.index)&&this.fn.index.isObjectProperty()){var I=this.fn.object._compile(c,l),C=this.fn.index.getObjectProperty(),B=this.args;return function(w,M,D){var T=I(w,M,D),O=function lGe(n,e){if(!O4(n,e))throw new Error('No access to method "'+e+'"');return n[e]}(T,C);if(null!=O&&O.rawArgs)return O(B,c,q1(w,M));var G=u.map(W=>W(w,M,D));return O.apply(T,G)}}var y=this.fn.toString(),E=this.fn._compile(c,l),b=this.args;return function(w,M,D){var T=E(w,M,D);if("function"!=typeof T)throw new TypeError("Expression '".concat(y,"' did not evaluate to a function; value is:")+"\n  ".concat(A(T)));if(T.rawArgs)return T(b,c,q1(w,M));var O=u.map(G=>G(w,M,D));return T.apply(T,O)}}var h=this.fn.name;if(l[h]){var p=this.args;return function(w,M,D){var T=ul(M,h);if("function"!=typeof T)throw new TypeError("Argument '".concat(h,"' was not a function; received: ").concat(A(T)));if(T.rawArgs)return T(p,c,q1(w,M));var O=u.map(G=>G(w,M,D));return T.apply(T,O)}}var g=h in c?ul(c,h):void 0,d=S=>{var w;if(S.has(h))w=S.get(h);else{if(!(h in c))return o.onUndefinedFunction(h);w=ul(c,h)}if("function"==typeof w)return w;throw new TypeError("'".concat(h,"' is not a function; its value is:\n  ").concat(A(w)))};if("function"==typeof g&&!0===g.rawArgs){var m=this.args;return function(w,M,D){var T=d(w);return!0===T.rawArgs?T(m,c,q1(w,M)):T(...u.map(G=>G(w,M,D)))}}switch(u.length){case 0:return function(w,M,D){return d(w)()};case 1:return function(w,M,D){return d(w)((0,u[0])(w,M,D))};case 2:return function(w,M,D){var T=d(w),G=u[1];return T((0,u[0])(w,M,D),G(w,M,D))};default:return function(w,M,D){return d(w)(...u.map(G=>G(w,M,D)))}}}forEach(c){c(this.fn,"fn",this);for(var l=0;l<this.args.length;l++)c(this.args[l],"args["+l+"]",this)}map(c){for(var l=this._ifNode(c(this.fn,"fn",this)),u=[],h=0;h<this.args.length;h++)u[h]=this._ifNode(c(this.args[h],"args["+h+"]",this));return new o(l,u)}clone(){return new o(this.fn,this.args.slice(0))}toString(c){var l,u=this.fn.toString(c);return c&&"object"==typeof c.handler&&Xn(c.handler,u)&&(l=c.handler[u](this,c)),typeof l<"u"?l:super.toString(c)}_toString(c){var l=this.args.map(function(h){return h.toString(c)});return(H1(this.fn)?"("+this.fn.toString(c)+")":this.fn.toString(c))+"("+l.join(", ")+")"}toJSON(){return{mathjs:bF,fn:this.fn,args:this.args}}_toHTML(c){var l=this.args.map(function(u){return u.toHTML(c)});return'<span class="math-function">'+Ig(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(c){var l;return c&&"object"==typeof c.handler&&Xn(c.handler,this.name)&&(l=c.handler[this.name](this,c)),typeof l<"u"?l:super.toTex(c)}_toTex(c){var u,h,l=this.args.map(function(g){return g.toTex(c)});switch(eie[this.name]&&(u=eie[this.name]),t[this.name]&&("function"==typeof t[this.name].toTex||"object"==typeof t[this.name].toTex||"string"==typeof t[this.name].toTex)&&(u=t[this.name].toTex),typeof u){case"function":h=u(this,c);break;case"string":h=s(u,this,c);break;case"object":switch(typeof u[l.length]){case"function":h=u[l.length](this,c);break;case"string":h=s(u[l.length],this,c)}}return typeof h<"u"?h:s("\\mathrm{${name}}\\left(${args}\\right)",this,c)}getIdentifier(){return this.type+":"+this.name}}return e=o,ca(o,"name",bF),ca(o,"onUndefinedFunction",function(a){throw new Error("Undefined function "+a)}),ca(o,"fromJSON",function(a){return new e(a.fn,a.args)}),o},{isClass:!0,isNode:!0});function Aie(n){var i,r,e=n.length,t=n[0].length,A=[];for(r=0;r<t;r++){var s=[];for(i=0;i<e;i++)s.push(n[i][r]);A.push(s)}return A}function ny(n){for(var e=0;e<n.length;e++)if(mg(n[e]))return!0;return!1}function Xd(n,e){Ei(n)&&(n=n.valueOf());for(var t=0,i=n.length;t<i;t++){var r=n[t];Array.isArray(r)?Xd(r,e):e(r)}}function qi(n,e,t){return n&&"function"==typeof n.map?n.map(function(i){return qi(i,e,t)}):e(n)}function SF(n,e,t){var i=Array.isArray(n)?Ti(n):n.size();if(e<0||e>=i.length)throw new Dh(e,i.length);return Ei(n)?n.create(MF(n.valueOf(),e,t),n.datatype()):MF(n,e,t)}function MF(n,e,t){var i,r,A,s;if(e<=0){if(Array.isArray(n[0])){for(s=Aie(n),r=[],i=0;i<s.length;i++)r[i]=MF(s[i],e-1,t);return r}for(A=n[0],i=1;i<n.length;i++)A=t(A,n[i]);return A}for(r=[],i=0;i<n.length;i++)r[i]=MF(n[i],e-1,t);return r}function sie(n,e,t,i,r,A,s,o,a,c,l){var f,m,p,u=n._values,h=n._index,g=n._ptr;if(i)for(m=g[e+1],f=g[e];f<m;f++)t[p=h[f]]!==A?(t[p]=A,s.push(p),c?(i[p]=a?o(u[f],l):o(l,u[f]),r[p]=A):i[p]=u[f]):(i[p]=a?o(u[f],i[p]):o(i[p],u[f]),r[p]=A);else for(m=g[e+1],f=g[e];f<m;f++)t[p=h[f]]!==A?(t[p]=A,s.push(p)):r[p]=A}var j3e=Qe("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],n=>{var{typed:e,numeric:t,config:i,AccessorNode:r,ArrayNode:A,AssignmentNode:s,BlockNode:o,ConditionalNode:a,ConstantNode:c,FunctionAssignmentNode:l,FunctionNode:u,IndexNode:h,ObjectNode:g,OperatorNode:f,ParenthesisNode:d,RangeNode:m,RelationalNode:p,SymbolNode:I}=n,C=e("parse",{string:function($){return ye($,{})},"Array | Matrix":function($){return B($,{})},"string, Object":function($,we){return ye($,void 0!==we.nodes?we.nodes:{})},"Array | Matrix, Object":B});function B(F){var $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},we=void 0!==$.nodes?$.nodes:{};return qi(F,function(Ee){if("string"!=typeof Ee)throw new TypeError("String expected");return ye(Ee,we)})}var y={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},E={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},b={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},S={true:!0,false:!1,null:null,undefined:void 0},w=["NaN","Infinity"],M={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function T(F,$){return F.expression.substr(F.index,$)}function O(F){return T(F,1)}function G(F){F.index++}function W(F){return F.expression.charAt(F.index-1)}function k(F){return F.expression.charAt(F.index+1)}function L(F){for(F.tokenType=y.NULL,F.token="",F.comment="";;){if("#"===O(F))for(;"\n"!==O(F)&&""!==O(F);)F.comment+=O(F),G(F);if(!C.isWhitespace(O(F),F.nestingLevel))break;G(F)}if(""!==O(F)){if("\n"===O(F)&&!F.nestingLevel)return F.tokenType=y.DELIMITER,F.token=O(F),void G(F);var $=O(F),we=T(F,2),Ee=T(F,3);if(3===Ee.length&&E[Ee])return F.tokenType=y.DELIMITER,F.token=Ee,G(F),G(F),void G(F);if(2===we.length&&E[we])return F.tokenType=y.DELIMITER,F.token=we,G(F),void G(F);if(E[$])return F.tokenType=y.DELIMITER,F.token=$,void G(F);if(C.isDigitDot($)){F.tokenType=y.NUMBER;var Ct=T(F,2);if("0b"===Ct||"0o"===Ct||"0x"===Ct){for(F.token+=O(F),G(F),F.token+=O(F),G(F);C.isHexDigit(O(F));)F.token+=O(F),G(F);if("."===O(F))for(F.token+=".",G(F);C.isHexDigit(O(F));)F.token+=O(F),G(F);else if("i"===O(F))for(F.token+="i",G(F);C.isDigit(O(F));)F.token+=O(F),G(F);return}if("."===O(F)){if(F.token+=O(F),G(F),!C.isDigit(O(F)))return void(F.tokenType=y.DELIMITER)}else{for(;C.isDigit(O(F));)F.token+=O(F),G(F);C.isDecimalMark(O(F),k(F))&&(F.token+=O(F),G(F))}for(;C.isDigit(O(F));)F.token+=O(F),G(F);if("E"===O(F)||"e"===O(F))if(C.isDigit(k(F))||"-"===k(F)||"+"===k(F)){if(F.token+=O(F),G(F),("+"===O(F)||"-"===O(F))&&(F.token+=O(F),G(F)),!C.isDigit(O(F)))throw P(F,'Digit expected, got "'+O(F)+'"');for(;C.isDigit(O(F));)F.token+=O(F),G(F);if(C.isDecimalMark(O(F),k(F)))throw P(F,'Digit expected, got "'+O(F)+'"')}else if("."===k(F))throw G(F),P(F,'Digit expected, got "'+O(F)+'"')}else{if(!C.isAlpha(O(F),W(F),k(F))){for(F.tokenType=y.UNKNOWN;""!==O(F);)F.token+=O(F),G(F);throw P(F,'Syntax error in part "'+F.token+'"')}for(;C.isAlpha(O(F),W(F),k(F))||C.isDigit(O(F));)F.token+=O(F),G(F);F.tokenType=Xn(b,F.token)?y.DELIMITER:y.SYMBOL}}else F.tokenType=y.DELIMITER}function J(F){do{L(F)}while("\n"===F.token)}function H(F){F.nestingLevel++}function ue(F){F.nestingLevel--}function ye(F,$){var we=function D(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:y.NULL,nestingLevel:0,conditionalLevel:null}}();aa(we,{expression:F,extraNodes:$}),L(we);var Ee=function K(F){var $,we=[];for(""!==F.token&&"\n"!==F.token&&";"!==F.token&&($=z(F),F.comment&&($.comment=F.comment));"\n"===F.token||";"===F.token;)0===we.length&&$&&we.push({node:$,visible:";"!==F.token}),L(F),"\n"!==F.token&&";"!==F.token&&""!==F.token&&($=z(F),F.comment&&($.comment=F.comment),we.push({node:$,visible:";"!==F.token}));return we.length>0?new o(we):($||($=new c(void 0),F.comment&&($.comment=F.comment)),$)}(we);if(""!==we.token)throw we.tokenType===y.DELIMITER?V(we,"Unexpected operator "+we.token):P(we,'Unexpected part "'+we.token+'"');return Ee}function z(F){var $,we,Ee,Ct,rt=function Z(F){for(var $=function le(F){for(var $=ce(F);"or"===F.token;)J(F),$=new f("or","or",[$,ce(F)]);return $}(F);"?"===F.token;){var we=F.conditionalLevel;F.conditionalLevel=F.nestingLevel,J(F);var Ee=$,Ct=z(F);if(":"!==F.token)throw P(F,"False part of conditional expression expected");F.conditionalLevel=null,J(F);var rt=z(F);$=new a(Ee,Ct,rt),F.conditionalLevel=we}return $}(F);if("="===F.token){if(ba(rt))return $=rt.name,J(F),Ee=z(F),new s(new I($),Ee);if(cB(rt))return J(F),Ee=z(F),new s(rt.object,rt.index,Ee);if(Ym(rt)&&ba(rt.fn)&&(Ct=!0,we=[],$=rt.name,rt.args.forEach(function(Nt,In){ba(Nt)?we[In]=Nt.name:Ct=!1}),Ct))return J(F),Ee=z(F),new l($,we,Ee);throw P(F,"Invalid left hand side of assignment operator =")}return rt}function ce(F){for(var $=ge(F);"xor"===F.token;)J(F),$=new f("xor","xor",[$,ge(F)]);return $}function ge(F){for(var $=re(F);"and"===F.token;)J(F),$=new f("and","and",[$,re(F)]);return $}function re(F){for(var $=ie(F);"|"===F.token;)J(F),$=new f("|","bitOr",[$,ie(F)]);return $}function ie(F){for(var $=me(F);"^|"===F.token;)J(F),$=new f("^|","bitXor",[$,me(F)]);return $}function me(F){for(var $=be(F);"&"===F.token;)J(F),$=new f("&","bitAnd",[$,be(F)]);return $}function be(F){for(var $=[Ie(F)],we=[],Ee={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Xn(Ee,F.token);)we.push({name:F.token,fn:Ee[F.token]}),J(F),$.push(Ie(F));return 1===$.length?$[0]:2===$.length?new f(we[0].name,we[0].fn,$):new p(we.map(rt=>rt.fn),$)}function Ie(F){var $,we,Ee,Ct;$=Ne(F);for(var rt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Xn(rt,F.token);)Ee=rt[we=F.token],J(F),Ct=[$,Ne(F)],$=new f(we,Ee,Ct);return $}function Ne(F){var $,we,Ee,Ct;$=Ae(F);for(var rt={to:"to",in:"to"};Xn(rt,F.token);)Ee=rt[we=F.token],J(F),"in"===we&&""===F.token?$=new f("*","multiply",[$,new I("in")],!0):(Ct=[$,Ae(F)],$=new f(we,Ee,Ct));return $}function Ae(F){var $,we=[];if($=":"===F.token?new c(1):ee(F),":"===F.token&&F.conditionalLevel!==F.nestingLevel){for(we.push($);":"===F.token&&we.length<3;)J(F),we.push(")"===F.token||"]"===F.token||","===F.token||""===F.token?new I("end"):ee(F));$=3===we.length?new m(we[0],we[2],we[1]):new m(we[0],we[1])}return $}function ee(F){var $,we,Ee,Ct;$=j(F);for(var rt={"+":"add","-":"subtract"};Xn(rt,F.token);){Ee=rt[we=F.token],J(F);var Nt=j(F);Ct=Nt.isPercentage?[$,new f("*","multiply",[$,Nt])]:[$,Nt],$=new f(we,Ee,Ct)}return $}function j(F){var $,we,Ee,Ct;we=$=Te(F);for(var rt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Xn(rt,F.token);)if(Ct=rt[Ee=F.token],J(F),"%"===Ee&&F.tokenType===y.DELIMITER&&"("!==F.token)if(""!==F.token&&rt[F.token]){var Nt=new f("/","divide",[$,new c(100)],!1,!0);Ct=rt[Ee=F.token],J(F),we=Te(F),$=new f(Ee,Ct,[Nt,we])}else $=new f("/","divide",[$,new c(100)],!1,!0);else we=Te(F),$=new f(Ee,Ct,[$,we]);return $}function Te(F){var $,we;for(we=$=Me(F);F.tokenType===y.SYMBOL||"in"===F.token&&Hr($)||"in"===F.token&&Mo($)&&"unaryMinus"===$.fn&&Hr($.args[0])||F.tokenType===y.NUMBER&&!Hr(we)&&(!Mo(we)||"!"===we.op)||"("===F.token;)we=Me(F),$=new f("*","multiply",[$,we],!0);return $}function Me(F){for(var $=Oe(F),we=$,Ee=[];"/"===F.token&&P4(we);){if(Ee.push(aa({},F)),J(F),F.tokenType!==y.NUMBER){aa(F,Ee.pop());break}if(Ee.push(aa({},F)),J(F),F.tokenType!==y.SYMBOL&&"("!==F.token&&"in"!==F.token){Ee.pop(),aa(F,Ee.pop());break}aa(F,Ee.pop()),Ee.pop(),we=Oe(F),$=new f("/","divide",[$,we])}return $}function Oe(F){var $,we,Ee,Ct={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Xn(Ct,F.token)?(Ee=Ct[F.token],$=F.token,J(F),we=[Oe(F)],new f($,Ee,we)):function Ge(F){var $,we,Ee,Ct;return $=function oe(F){var $,we,Ee;$=function te(F){var $=[];if(F.tokenType===y.SYMBOL&&Xn(F.extraNodes,F.token)){var we=F.extraNodes[F.token];if(L(F),"("===F.token){if($=[],H(F),L(F),")"!==F.token)for($.push(z(F));","===F.token;)L(F),$.push(z(F));if(")"!==F.token)throw P(F,"Parenthesis ) expected");ue(F),L(F)}return new we($)}return function Ye(F){var we;return F.tokenType===y.SYMBOL||F.tokenType===y.DELIMITER&&F.token in b?(we=F.token,L(F),Ve(F,Xn(S,we)?new c(S[we]):w.includes(we)?new c(t(we,"number")):new I(we))):function ut(F){var we;return'"'===F.token||"'"===F.token?(we=it(F,F.token),Ve(F,new c(we))):function Jt(F){var $,we,Ee,Ct;if("["===F.token){if(H(F),L(F),"]"!==F.token){var rt=Yt(F);if(";"===F.token){for(Ee=1,we=[rt];";"===F.token;)L(F),"]"!==F.token&&(we[Ee]=Yt(F),Ee++);if("]"!==F.token)throw P(F,"End of matrix ] expected");ue(F),L(F),Ct=we[0].items.length;for(var Nt=1;Nt<Ee;Nt++)if(we[Nt].items.length!==Ct)throw V(F,"Column dimensions mismatch ("+we[Nt].items.length+" !== "+Ct+")");$=new A(we)}else{if("]"!==F.token)throw P(F,"End of matrix ] expected");ue(F),L(F),$=rt}}else ue(F),L(F),$=new A([]);return Ve(F,$)}return function Ot(F){if("{"===F.token){H(F);var $,we={};do{if(L(F),"}"!==F.token){if('"'===F.token||"'"===F.token)$=it(F,F.token);else{if(!(F.tokenType===y.SYMBOL||F.tokenType===y.DELIMITER&&F.token in b))throw P(F,"Symbol or string expected as object key");$=F.token,L(F)}if(":"!==F.token)throw P(F,"Colon : expected after object key");L(F),we[$]=z(F)}}while(","===F.token);if("}"!==F.token)throw P(F,"Comma , or bracket } expected after object value");ue(F),L(F);var Ee=new g(we);return Ve(F,Ee)}return function Sn(F){var $;if(F.tokenType===y.NUMBER){$=F.token,L(F);var we=Km($,i),Ee=t($,we);return new c(Ee)}return function ct(F){var $;if("("===F.token){if(H(F),L(F),$=z(F),")"!==F.token)throw P(F,"Parenthesis ) expected");return ue(F),L(F),Ve(F,$=new d($))}return function Dn(F){throw P(F,""===F.token?"Unexpected end of expression":"Value expected")}(F)}(F)}(F)}(F)}(F)}(F)}(F)}(F);for(var rt={"!":"factorial","'":"ctranspose"};Xn(rt,F.token);)Ee=rt[we=F.token],L(F),$=Ve(F,$=new f(we,Ee,[$]));return $}(F),("^"===F.token||".^"===F.token)&&(Ee="^"===(we=F.token)?"pow":"dotPow",J(F),Ct=[$,Oe(F)],$=new f(we,Ee,Ct)),$}(F)}function Ve(F,$,we){for(var Ee;("("===F.token||"["===F.token||"."===F.token)&&(!we||we.includes(F.token));)if(Ee=[],"("===F.token){if(!ba($)&&!cB($))return $;if(H(F),L(F),")"!==F.token)for(Ee.push(z(F));","===F.token;)L(F),Ee.push(z(F));if(")"!==F.token)throw P(F,"Parenthesis ) expected");ue(F),L(F),$=new u($,Ee)}else if("["===F.token){if(H(F),L(F),"]"!==F.token)for(Ee.push(z(F));","===F.token;)L(F),Ee.push(z(F));if("]"!==F.token)throw P(F,"Parenthesis ] expected");ue(F),L(F),$=new r($,new h(Ee))}else{if(L(F),!(F.tokenType===y.SYMBOL||F.tokenType===y.DELIMITER&&F.token in b))throw P(F,"Property name expected after dot");Ee.push(new c(F.token)),L(F),$=new r($,new h(Ee,!0))}return $}function it(F,$){for(var we="";""!==O(F)&&O(F)!==$;)if("\\"===O(F)){G(F);var Ee=O(F),Ct=M[Ee];if(void 0!==Ct)we+=Ct,F.index+=1;else{if("u"!==Ee)throw P(F,"Bad escape character \\".concat(Ee));var rt=F.expression.slice(F.index+1,F.index+5);if(!/^[0-9A-Fa-f]{4}$/.test(rt))throw P(F,"Invalid unicode character \\u".concat(rt));we+=String.fromCharCode(parseInt(rt,16)),F.index+=5}}else we+=O(F),G(F);if(L(F),F.token!==$)throw P(F,"End of string ".concat($," expected"));return L(F),we}function Yt(F){for(var $=[z(F)],we=1;","===F.token;)L(F),"]"!==F.token&&";"!==F.token&&($[we]=z(F),we++);return new A($)}function se(F){return F.index-F.token.length+1}function P(F,$){var we=se(F),Ee=new SyntaxError($+" (char "+we+")");return Ee.char=we,Ee}function V(F,$){var we=se(F),Ee=new SyntaxError($+" (char "+we+")");return Ee.char=we,Ee}return C.isAlpha=function($,we,Ee){return C.isValidLatinOrGreek($)||C.isValidMathSymbol($,Ee)||C.isValidMathSymbol(we,$)},C.isValidLatinOrGreek=function($){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test($)},C.isValidMathSymbol=function($,we){return/^[\uD835]$/.test($)&&/^[\uDC00-\uDFFF]$/.test(we)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(we)},C.isWhitespace=function($,we){return" "===$||"\t"===$||"\n"===$&&we>0},C.isDecimalMark=function($,we){return"."===$&&"/"!==we&&"*"!==we&&"^"!==we},C.isDigitDot=function($){return $>="0"&&$<="9"||"."===$},C.isDigit=function($){return $>="0"&&$<="9"},C.isHexDigit=function($){return $>="0"&&$<="9"||$>="a"&&$<="f"||$>="A"&&$<="F"},e.addConversion({from:"string",to:"Node",convert:C}),C}),$3e=Qe("resolve",["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],n=>{var{typed:e,parse:t,ConstantNode:i,FunctionNode:r,OperatorNode:A,ParenthesisNode:s}=n;function o(a,c){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!c)return a;if(ba(a)){if(l.has(a.name)){var u=Array.from(l).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(u,"}"))}var h=c.get(a.name);if(YA(h)){var g=new Set(l);return g.add(a.name),o(h,c,g)}return"number"==typeof h?t(String(h)):void 0!==h?new i(h):a}if(Mo(a)){var f=a.args.map(function(m){return o(m,c,l)});return new A(a.op,a.fn,f,a.implicit)}if(Zd(a))return new s(o(a.content,c,l));if(Ym(a)){var d=a.args.map(function(m){return o(m,c,l)});return new r(a.name,d)}return a.map(m=>o(m,c,l))}return e("resolve",{Node:o,"Node, Map | null | undefined":o,"Node, Object":(a,c)=>o(a,zv(c)),"Array | Matrix":e.referToSelf(a=>c=>c.map(l=>a(l))),"Array | Matrix, null | undefined":e.referToSelf(a=>c=>c.map(l=>a(l))),"Array, Object":e.referTo("Array,Map",a=>(c,l)=>a(c,zv(l))),"Matrix, Object":e.referTo("Matrix,Map",a=>(c,l)=>a(c,zv(l))),"Array | Matrix, Map":e.referToSelf(a=>(c,l)=>c.map(u=>a(u,l)))})});function aie(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function eH(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?aie(Object(t),!0).forEach(function(i){ca(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aie(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var tH=Qe("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],n=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:i}=n,r=!0,A=!1,s="defaultF",o={add:{trivial:r,total:r,commutative:r,associative:r},unaryPlus:{trivial:r,total:r,commutative:r,associative:r},subtract:{trivial:A,total:r,commutative:A,associative:A},multiply:{trivial:r,total:r,commutative:r,associative:r},divide:{trivial:A,total:r,commutative:A,associative:A},paren:{trivial:r,total:r,commutative:r,associative:A},defaultF:{trivial:A,total:r,commutative:A,associative:A}};function l(C,B){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,E=s;if("string"==typeof C?E=C:Mo(C)?E=C.fn.toString():Ym(C)?E=C.name:Zd(C)&&(E="paren"),Xn(y,E)){var b=y[E];if(Xn(b,B))return b[B];if(Xn(o,E))return o[E][B]}if(Xn(y,s)){var S=y[s];return Xn(S,B)?S[B]:o[s][B]}if(Xn(o,E)){var w=o[E];if(Xn(w,B))return w[B]}return o[s][B]}function h(C){return l(C,"associative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:o)}function d(C,B){var y,E=[],b=function(w){for(var M=0;M<w.args.length;M++){var D=w.args[M];Mo(D)&&y===D.op?b(D):E.push(D)}};return h(C,B)?(y=C.op,b(C),E):C.args}function I(C){return Mo(C)?function(B){try{return new t(C.op,C.fn,B,C.implicit)}catch(y){return console.error(y),[]}}:function(B){return new e(new i(C.name),B)}}return{createMakeNodeFunction:I,hasProperty:l,isCommutative:function u(C){return l(C,"commutative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:o)},isAssociative:h,mergeContext:function g(C,B){var y=eH({},C);for(var E in B)y[E]=Xn(C,E)?eH(eH({},B[E]),C[E]):B[E];return y},flatten:function f(C,B){if(!C.args||0===C.args.length)return C;C.args=d(C,B);for(var y=0;y<C.args.length;y++)f(C.args[y],B)},allChildren:d,unflattenr:function m(C,B){if(C.args&&0!==C.args.length){for(var y=I(C),E=C.args.length,b=0;b<E;b++)m(C.args[b],B);if(E>2&&h(C,B)){for(var S=C.args.pop();C.args.length>0;)S=y([C.args.pop(),S]);C.args=S.args}}},unflattenl:function p(C,B){if(C.args&&0!==C.args.length){for(var y=I(C),E=C.args.length,b=0;b<E;b++)p(C.args[b],B);if(E>2&&h(C,B)){for(var S=C.args.shift();C.args.length>0;)S=y([S,C.args.shift()]);C.args=S.args}}},defaultContext:o,realContext:{divide:{total:A},log:{total:A}},positiveContext:{subtract:{total:A},abs:{trivial:r},log:{total:r}}}});function nH(){throw new Error('No "bignumber" implementation available')}function cie(){throw new Error('No "fraction" implementation available')}function lie(){throw new Error('No "matrix" implementation available')}var rPe=Qe("simplifyConstant",["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],n=>{var{typed:e,config:t,mathWithTransform:i,matrix:r,fraction:A,bignumber:s,AccessorNode:o,ArrayNode:a,ConstantNode:c,FunctionNode:l,IndexNode:u,ObjectNode:h,OperatorNode:g,SymbolNode:f}=n,{isCommutative:d,isAssociative:m,allChildren:p,createMakeNodeFunction:I}=tH({FunctionNode:l,OperatorNode:g,SymbolNode:f}),C=e("simplifyConstant",{Node:W=>b(G(W,{})),"Node, Object":function(k,L){return b(G(k,L))}});function B(W){return G1(W)?W.valueOf():W instanceof Array?W.map(B):Ei(W)?r(B(W.valueOf())):W}function y(W,k,L){try{return i[W].apply(null,k)}catch{return k=k.map(B),w(i[W].apply(null,k),L)}}var E=e({Fraction:function D(W){var k=H=>"BigNumber"===t.number&&s?s(H):Number(H),L=W.s*W.n,J=L<0n?new g("-","unaryMinus",[new c(-k(L))]):new c(k(L));return 1n===W.d?J:new g("/","divide",[J,new c(k(W.d))])},number:function(k){return k<0?M(new c(-k)):new c(k)},BigNumber:function(k){return k<0?M(new c(-k)):new c(k)},bigint:function(k){return k<0n?M(new c(-k)):new c(k)},Complex:function(k){throw new Error("Cannot convert Complex number to Node")},string:function(k){return new c(k)},Matrix:function(k){return new a(k.valueOf().map(L=>E(L)))}});function b(W){return YA(W)?W:E(W)}function S(W,k){if(k&&!1!==k.exactFractions&&isFinite(W)&&A){var J=A(W),H=k&&"number"==typeof k.fractionsLimit?k.fractionsLimit:1/0;if(J.valueOf()===W&&J.n<H&&J.d<H)return J}return W}var w=e({"string, Object":function(k,L){var J=Km(k,t);return"BigNumber"===J?(void 0===s&&nH(),s(k)):"bigint"===J?BigInt(k):"Fraction"===J?(void 0===A&&cie(),A(k)):S(parseFloat(k),L)},"Fraction, Object":function(k,L){return k},"BigNumber, Object":function(k,L){return k},"number, Object":function(k,L){return S(k,L)},"bigint, Object":function(k,L){return k},"Complex, Object":function(k,L){return 0!==k.im?k:S(k.re,L)},"Matrix, Object":function(k,L){return r(S(k.valueOf()))},"Array, Object":function(k,L){return k.map(S)}});function M(W){return new g("-","unaryMinus",[W])}function O(W,k,L,J){var H=k.shift(),ue=k.reduce((ye,K)=>{if(!YA(K)){var z=ye.pop();if(YA(z))return[z,K];try{return ye.push(y(W,[z,K],J)),ye}catch{ye.push(z)}}ye.push(b(ye.pop()));var Z=1===ye.length?ye[0]:L(ye);return[L([Z,b(K)])]},[H]);return 1===ue.length?ue[0]:L([ue[0],E(ue[1])])}function G(W,k){switch(W.type){case"SymbolNode":return W;case"ConstantNode":switch(typeof W.value){case"number":case"bigint":return w(W.value,k);case"string":return W.value;default:if(!isNaN(W.value))return w(W.value,k)}return W;case"FunctionNode":if(i[W.name]&&i[W.name].rawArgs)return W;if(!["add","multiply"].includes(W.name)){var J=W.args.map(be=>G(be,k));if(!J.some(YA))try{return y(W.name,J,k)}catch{}if("size"===W.name&&1===J.length&&Cg(J[0])){for(var H=[],ue=J[0];Cg(ue);)H.push(ue.items.length),ue=ue.items[0];return r(H)}return new l(W.name,J.map(b))}case"OperatorNode":var K,z,ye=W.fn.toString(),Z=I(W);if(Mo(W)&&W.isUnary())z=YA((K=[G(W.args[0],k)])[0])?Z(K):y(ye,K,k);else if(m(W,k.context))if(K=(K=p(W,k.context)).map(be=>G(be,k)),d(ye,k.context)){for(var le=[],ce=[],ge=0;ge<K.length;ge++)YA(K[ge])?ce.push(K[ge]):le.push(K[ge]);le.length>1?(z=O(ye,le,Z,k),ce.unshift(z),z=O(ye,ce,Z,k)):z=O(ye,K,Z,k)}else z=O(ye,K,Z,k);else z=O(ye,K=W.args.map(be=>G(be,k)),Z,k);return z;case"ParenthesisNode":return G(W.content,k);case"AccessorNode":return function T(W,k,L){if(!jv(k))return new o(b(W),b(k));if(Cg(W)||Ei(W)){for(var J=Array.from(k.dimensions);J.length>0;)if(Hr(J[0])&&"string"!=typeof J[0].value){var H=w(J.shift().value,L);Cg(W)?W=W.items[H-1]:(W=W.valueOf()[H-1])instanceof Array&&(W=r(W))}else{if(!(J.length>1&&Hr(J[1])&&"string"!=typeof J[1].value))break;var ue=w(J[1].value,L),ye=[],K=Cg(W)?W.items:W.valueOf();for(var z of K)if(Cg(z))ye.push(z.items[ue-1]);else{if(!Ei(W))break;ye.push(z[ue-1])}if(ye.length!==K.length)break;W=Cg(W)?new a(ye):r(ye),J.splice(1,1)}return J.length===k.dimensions.length?new o(b(W),k):J.length>0?(k=new u(J),new o(b(W),k)):W}if(oF(W)&&1===k.dimensions.length&&Hr(k.dimensions[0])){var Z=k.dimensions[0].value;return Z in W.properties?W.properties[Z]:new c}return new o(b(W),k)}(G(W.object,k),G(W.index,k),k);case"ArrayNode":var re=W.items.map(be=>G(be,k));return re.some(YA)?new a(re.map(b)):r(re);case"IndexNode":return new u(W.dimensions.map(be=>C(be,k)));case"ObjectNode":var ie={};for(var me in W.properties)ie[me]=C(W.properties[me],k);return new h(ie);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(W.type))}}return C}),sPe=Qe("compile",["typed","parse"],n=>{var{typed:e,parse:t}=n;return e("compile",{string:function(r){return t(r).compile()},"Array | Matrix":function(r){return qi(r,function(A){return t(A).compile()})}})}),gie="simplifyCore",aPe=Qe(gie,["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:e,equal:i,isZero:r,AccessorNode:l,ArrayNode:u,ConstantNode:h,FunctionNode:g,IndexNode:f,ObjectNode:d,OperatorNode:m,SymbolNode:I}=n,C=new h(0),B=new h(1),y=new h(!0),E=new h(!1);function b(D){return Mo(D)&&["and","not","or"].includes(D.op)}var{hasProperty:S,isCommutative:w}=tH({FunctionNode:g,OperatorNode:m,SymbolNode:I});function M(D){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=T?T.context:void 0;if(S(D,"trivial",O)){if(Ym(D)&&1===D.args.length)return M(D.args[0],T);var G=!1,W=0;if(D.forEach(ce=>{1==++W&&(G=M(ce,T))}),1===W)return G}var k=D;if(Ym(k)){var L=function a3e(n){var e="OperatorNode:"+n;for(var t of bh)if(e in t)return t[e].op;return null}(k.name);if(!L)return new g(M(k.fn),k.args.map(ce=>M(ce,T)));if(k.args.length>2&&S(k,"associative",O))for(;k.args.length>2;){var J=k.args.pop(),H=k.args.pop();k.args.push(new m(L,k.name,[J,H]))}k=new m(L,k.name,k.args)}if(Mo(k)&&k.isUnary()){var ue=M(k.args[0],T);if("~"===k.op&&Mo(ue)&&ue.isUnary()&&"~"===ue.op||"not"===k.op&&Mo(ue)&&ue.isUnary()&&"not"===ue.op&&b(ue.args[0]))return ue.args[0];var ye=!0;if("-"===k.op&&Mo(ue)&&(ue.isBinary()&&"subtract"===ue.fn&&(k=new m("-","subtract",[ue.args[1],ue.args[0]]),ye=!1),ue.isUnary()&&"-"===ue.op))return ue.args[0];if(ye)return new m(k.op,k.fn,[ue])}if(Mo(k)&&k.isBinary()){var K=M(k.args[0],T),z=M(k.args[1],T);if("+"===k.op){if(Hr(K)&&r(K.value))return z;if(Hr(z)&&r(z.value))return K;Mo(z)&&z.isUnary()&&"-"===z.op&&(k=new m("-","subtract",[K,z=z.args[0]]))}if("-"===k.op)return Mo(z)&&z.isUnary()&&"-"===z.op?M(new m("+","add",[K,z.args[0]]),T):Hr(K)&&r(K.value)?M(new m("-","unaryMinus",[z])):Hr(z)&&r(z.value)?K:new m(k.op,k.fn,[K,z]);if("*"===k.op){if(Hr(K)){if(r(K.value))return C;if(i(K.value,1))return z}if(Hr(z)){if(r(z.value))return C;if(i(z.value,1))return K;if(w(k,O))return new m(k.op,k.fn,[z,K],k.implicit)}return new m(k.op,k.fn,[K,z],k.implicit)}if("/"===k.op)return Hr(K)&&r(K.value)?C:Hr(z)&&i(z.value,1)?K:new m(k.op,k.fn,[K,z]);if("^"===k.op&&Hr(z)){if(r(z.value))return B;if(i(z.value,1))return K}if("and"===k.op){if(Hr(K)){if(!K.value)return E;if(b(z))return z;if(Hr(z))return z.value?y:E}if(Hr(z)){if(!z.value)return E;if(b(K))return K}}if("or"===k.op){if(Hr(K)){if(K.value)return y;if(b(z))return z}if(Hr(z)){if(z.value)return y;if(b(K))return K}}return new m(k.op,k.fn,[K,z])}if(Mo(k))return new m(k.op,k.fn,k.args.map(ce=>M(ce,T)));if(Cg(k))return new u(k.items.map(ce=>M(ce,T)));if(cB(k))return new l(M(k.object,T),M(k.index,T));if(jv(k))return new f(k.dimensions.map(ce=>M(ce,T)));if(oF(k)){var Z={};for(var le in k.properties)Z[le]=M(k.properties[le],T);return new d(Z)}return k}return e(gie,{Node:M,"Node,Object":M})}),lPe=Qe("evaluate",["typed","parse"],n=>{var{typed:e,parse:t}=n;return e("evaluate",{string:function(r){var A=O1();return t(r).compile().evaluate(A)},"string, Map | Object":function(r,A){return t(r).compile().evaluate(A)},"Array | Matrix":function(r){var A=O1();return qi(r,function(s){return t(s).compile().evaluate(A)})},"Array | Matrix, Map | Object":function(r,A){return qi(r,function(s){return t(s).compile().evaluate(A)})}})}),hPe=Qe("Help",["evaluate"],n=>{var{evaluate:e}=n;function t(i){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!i)throw new Error('Argument "doc" missing');this.doc=i}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var i=this.doc||{},r="\n";if(i.name&&(r+="Name: "+i.name+"\n\n"),i.category&&(r+="Category: "+i.category+"\n\n"),i.description&&(r+="Description:\n    "+i.description+"\n\n"),i.syntax&&(r+="Syntax:\n    "+i.syntax.join("\n    ")+"\n\n"),i.examples){r+="Examples:\n";for(var A=!1,s=e("config()"),o={config:u=>(A=!0,e("config(newConfig)",{newConfig:u}))},a=0;a<i.examples.length;a++){var c=i.examples[a];r+="    "+c+"\n";var l=void 0;try{l=e(c,o)}catch(u){l=u}void 0!==l&&!Dne(l)&&(r+="        "+mr(l,{precision:14})+"\n")}r+="\n",A&&e("config(originalConfig)",{originalConfig:s})}return i.mayThrow&&i.mayThrow.length&&(r+="Throws: "+i.mayThrow.join(", ")+"\n\n"),i.seealso&&i.seealso.length&&(r+="See also: "+i.seealso.join(", ")+"\n"),r},t.prototype.toJSON=function(){var i=Hi(this.doc);return i.mathjs="Help",i},t.fromJSON=function(i){var r={};return Object.keys(i).filter(A=>"mathjs"!==A).forEach(A=>{r[A]=i[A]}),new t(r)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0}),pPe=Qe("Parser",["evaluate","parse"],n=>{var{evaluate:e,parse:t}=n;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:O1(),writable:!1})}return i.prototype.type="Parser",i.prototype.isParser=!0,i.prototype.evaluate=function(A){return e(A,this.scope)},i.prototype.get=function(A){if(this.scope.has(A))return this.scope.get(A)},i.prototype.getAll=function(){return function fGe(n){if(n instanceof rF)return n.wrappedObject;var e={};for(var t of n.keys())Vv(e,t,n.get(t));return e}(this.scope)},i.prototype.getAllAsMap=function(){return this.scope},i.prototype.set=function(A,s){if(!function r(A){if(0===A.length)return!1;for(var s=0;s<A.length;s++){var o=A.charAt(s-1),a=A.charAt(s),c=A.charAt(s+1);if(!(t.isAlpha(a,o,c)||s>0&&t.isDigit(a)))return!1}return!0}(A))throw new Error("Invalid variable name: '".concat(A,"'. Variable names must follow the specified rules."));return this.scope.set(A,s),s},i.prototype.remove=function(A){this.scope.delete(A)},i.prototype.clear=function(){this.scope.clear()},i},{isClass:!0});function fie(n){return Hr(n)||Mo(n)&&n.isUnary()&&Hr(n.args[0])}function NF(n){return!!(Hr(n)||(Ym(n)||Mo(n))&&n.args.every(NF)||Zd(n)&&NF(n.content))}var IPe=Qe("simplify",["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],n=>{var{typed:e,parse:t,equal:i,resolve:r,simplifyConstant:A,simplifyCore:s,AccessorNode:o,ArrayNode:a,ConstantNode:c,FunctionNode:l,IndexNode:u,ObjectNode:h,OperatorNode:g,ParenthesisNode:f,SymbolNode:d,replacer:m}=n,{hasProperty:p,isCommutative:I,isAssociative:C,mergeContext:B,flatten:y,unflattenr:E,unflattenl:b,createMakeNodeFunction:S,defaultContext:w,realContext:M,positiveContext:D}=tH({FunctionNode:l,OperatorNode:g,SymbolNode:d});e.addConversion({from:"Object",to:"Map",convert:zv});var T=e("simplify",{Node:H,"Node, Map":(re,ie)=>H(re,!1,ie),"Node, Map, Object":(re,ie,me)=>H(re,!1,ie,me),"Node, Array":H,"Node, Array, Map":H,"Node, Array, Map, Object":H});function O(re){return re.transform(function(ie){return Zd(ie)?O(ie.content):ie})}e.removeConversion({from:"Object",to:"Map",convert:zv}),T.defaultContext=w,T.realContext=M,T.positiveContext=D;var G={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function W(re,ie){var me={};if(re.s){var be=re.s.split("->");if(2!==be.length)throw SyntaxError("Could not parse rule: "+re.s);me.l=be[0],me.r=be[1]}else me.l=re.l,me.r=re.r;for(var Ie of(me.l=O(t(me.l)),me.r=O(t(me.r)),["imposeContext","repeat","assuming"]))Ie in re&&(me[Ie]=re[Ie]);if(re.evaluate&&(me.evaluate=t(re.evaluate)),C(me.l,ie)){var Ae,Ne=!I(me.l,ie);Ne&&(Ae=J());var ee=S(me.l),j=J();me.expanded={},me.expanded.l=ee([me.l,j]),y(me.expanded.l,ie),E(me.expanded.l,ie),me.expanded.r=ee([me.r,j]),Ne&&(me.expandedNC1={},me.expandedNC1.l=ee([Ae,me.l]),me.expandedNC1.r=ee([Ae,me.r]),me.expandedNC2={},me.expandedNC2.l=ee([Ae,me.expanded.l]),me.expandedNC2.r=ee([Ae,me.expanded.r]))}return me}T.rules=[s,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},A,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},A,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var L=0;function J(){return new d("_p"+L++)}function H(re,ie){var me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O1(),be=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},Ie=be.consoleDebug;ie=function k(re,ie){for(var me=[],be=0;be<re.length;be++){var Ie=re[be],Ne=void 0,Ae=typeof Ie;switch(Ae){case"string":Ie={s:Ie};case"object":Ne=W(Ie,ie);break;case"function":Ne=Ie;break;default:throw TypeError("Unsupported type of rule: "+Ae)}me.push(Ne)}return me}(ie||T.rules,be.context);for(var Ne=r(re,me),Ae={},ee=(Ne=O(Ne)).toString({parenthesis:"all"});!Ae[ee];){Ae[ee]=!0,L=0;var j=ee;Ie&&console.log("Working on: ",ee);for(var Te=0;Te<ie.length;Te++){var Me="";if("function"==typeof ie[Te]?(Ne=ie[Te](Ne,be),Ie&&(Me=ie[Te].name)):(y(Ne,be.context),Ne=ye(Ne,ie[Te],be.context),Ie&&(Me="".concat(ie[Te].l.toString()," -> ").concat(ie[Te].r.toString()))),Ie){var Oe=Ne.toString({parenthesis:"all"});Oe!==j&&(console.log("Applying",Me,"produced",Oe),j=Oe)}b(Ne,be.context)}ee=Ne.toString({parenthesis:"all"})}return Ne}function ue(re,ie,me){var be=re;if(re)for(var Ie=0;Ie<re.length;++Ie){var Ne=ye(re[Ie],ie,me);Ne!==re[Ie]&&(be===re&&(be=re.slice()),be[Ie]=Ne)}return be}function ye(re,ie,me){if(ie.assuming)for(var be in ie.assuming)for(var Ie in ie.assuming[be])if(p(be,Ie,me)!==ie.assuming[be][Ie])return re;var Ne=B(ie.imposeContext,me),Ae=re;if(Ae instanceof g||Ae instanceof l){var ee=ue(Ae.args,ie,me);ee!==Ae.args&&((Ae=Ae.clone()).args=ee)}else if(Ae instanceof f){if(Ae.content){var j=ye(Ae.content,ie,me);j!==Ae.content&&(Ae=new f(j))}}else if(Ae instanceof a){var Te=ue(Ae.items,ie,me);Te!==Ae.items&&(Ae=new a(Te))}else if(Ae instanceof o){var Me=Ae.object;Ae.object&&(Me=ye(Ae.object,ie,me));var Oe=Ae.index;Ae.index&&(Oe=ye(Ae.index,ie,me)),(Me!==Ae.object||Oe!==Ae.index)&&(Ae=new o(Me,Oe))}else if(Ae instanceof u){var Ge=ue(Ae.dimensions,ie,me);Ge!==Ae.dimensions&&(Ae=new u(Ge))}else if(Ae instanceof h){var oe=!1,te={};for(var Ye in Ae.properties)te[Ye]=ye(Ae.properties[Ye],ie,me),te[Ye]!==Ae.properties[Ye]&&(oe=!0);oe&&(Ae=new h(te))}var Ve=ie.r,ut=ce(ie.l,Ae,Ne)[0];if(!ut&&ie.expanded&&(Ve=ie.expanded.r,ut=ce(ie.expanded.l,Ae,Ne)[0]),!ut&&ie.expandedNC1&&(Ve=ie.expandedNC1.r,(ut=ce(ie.expandedNC1.l,Ae,Ne)[0])||(Ve=ie.expandedNC2.r,ut=ce(ie.expandedNC2.l,Ae,Ne)[0])),ut){var it=Ae.implicit;Ae=Ve.clone(),it&&"implicit"in Ve&&(Ae.implicit=!0),Ae=Ae.transform(function(Jt){return Jt.isSymbolNode&&Xn(ut.placeholders,Jt.name)?ut.placeholders[Jt.name].clone():Jt})}return ie.repeat&&Ae!==re&&(Ae=ye(Ae,ie,me)),Ae}function z(re,ie){var me={placeholders:{}};if(!re.placeholders&&!ie.placeholders)return me;if(!re.placeholders)return ie;if(!ie.placeholders)return re;for(var be in re.placeholders)if(Xn(re.placeholders,be)&&(me.placeholders[be]=re.placeholders[be],Xn(ie.placeholders,be)&&!ge(re.placeholders[be],ie.placeholders[be])))return null;for(var Ie in ie.placeholders)Xn(ie.placeholders,Ie)&&(me.placeholders[Ie]=ie.placeholders[Ie]);return me}function Z(re,ie){var me=[];if(0===re.length||0===ie.length)return me;for(var be,Ie=0;Ie<re.length;Ie++)for(var Ne=0;Ne<ie.length;Ne++)(be=z(re[Ie],ie[Ne]))&&me.push(be);return me}function ce(re,ie,me,be){var Ie=[{placeholders:{}}];if(re instanceof g&&ie instanceof g||re instanceof l&&ie instanceof l){if(re instanceof g){if(re.op!==ie.op||re.fn!==ie.fn)return[]}else if(re instanceof l&&re.name!==ie.name)return[];if(!(1===ie.args.length&&1===re.args.length||!C(ie,me)&&ie.args.length===re.args.length||be)){if(ie.args.length>=2&&2===re.args.length){for(var Me=function K(re,ie){var be,Ie,me=[],Ne=S(re);if(I(re,ie))for(var Ae=0;Ae<re.args.length;Ae++)(Ie=re.args.slice(0)).splice(Ae,1),be=1===Ie.length?Ie[0]:Ne(Ie),me.push(Ne([re.args[Ae],be]));else for(var ee=1;ee<re.args.length;ee++){var j=re.args[0];ee>1&&(j=Ne(re.args.slice(0,ee))),be=1===(Ie=re.args.slice(ee)).length?Ie[0]:Ne(Ie),me.push(Ne([j,be]))}return me}(ie,me),Oe=[],Ge=0;Ge<Me.length;Ge++){var oe=ce(re,Me[Ge],me,!0);Oe=Oe.concat(oe)}return Oe}if(re.args.length>2)throw Error("Unexpected non-binary associative function: "+re.toString());return[]}for(var Ne=[],Ae=0;Ae<re.args.length;Ae++){var ee=ce(re.args[Ae],ie.args[Ae],me);if(0===ee.length)break;Ne.push(ee)}if(Ne.length!==re.args.length){if(!I(ie,me)||1===re.args.length)return[];if(re.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var j=ce(re.args[0],ie.args[1],me);if(0===j.length)return[];var Te=ce(re.args[1],ie.args[0],me);if(0===Te.length)return[];Ne=[j,Te]}Ie=function le(re){if(0===re.length)return re;for(var ie=re.reduce(Z),me=[],be={},Ie=0;Ie<ie.length;Ie++){var Ne=JSON.stringify(ie[Ie],m);be[Ne]||(be[Ne]=!0,me.push(ie[Ie]))}return me}(Ne)}else if(re instanceof d){if(0===re.name.length)throw new Error("Symbol in rule has 0 length...!?");if(G[re.name]){if(re.name!==ie.name)return[]}else switch(re.name[1]>="a"&&re.name[1]<="z"?re.name.substring(0,2):re.name[0]){case"n":case"_p":Ie[0].placeholders[re.name]=ie;break;case"c":case"cl":if(!Hr(ie))return[];Ie[0].placeholders[re.name]=ie;break;case"v":if(Hr(ie))return[];Ie[0].placeholders[re.name]=ie;break;case"vl":if(!ba(ie))return[];Ie[0].placeholders[re.name]=ie;break;case"cd":if(!fie(ie))return[];Ie[0].placeholders[re.name]=ie;break;case"vd":if(fie(ie))return[];Ie[0].placeholders[re.name]=ie;break;case"ce":if(!NF(ie))return[];Ie[0].placeholders[re.name]=ie;break;case"ve":if(NF(ie))return[];Ie[0].placeholders[re.name]=ie;break;default:throw new Error("Invalid symbol in rule: "+re.name)}}else{if(!(re instanceof c))return[];if(!i(re.value,ie.value))return[]}return Ie}function ge(re,ie){if(re instanceof c&&ie instanceof c){if(!i(re.value,ie.value))return!1}else if(re instanceof d&&ie instanceof d){if(re.name!==ie.name)return!1}else{if(!(re instanceof g&&ie instanceof g||re instanceof l&&ie instanceof l))return!1;if(re instanceof g){if(re.op!==ie.op||re.fn!==ie.fn)return!1}else if(re instanceof l&&re.name!==ie.name)return!1;if(re.args.length!==ie.args.length)return!1;for(var me=0;me<re.args.length;me++)if(!ge(re.args[me],ie.args[me]))return!1}return!0}return T}),die="symbolicEqual",EPe=Qe(die,["parse","simplify","typed","OperatorNode"],n=>{var{simplify:t,typed:i,OperatorNode:r}=n;function A(s,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=new r("-","subtract",[s,o]),l=t(c,{},a);return Hr(l)&&!l.value}return i(die,{"Node, Node":A,"Node, Node, Object":A})}),yPe=Qe("leafCount",["parse","typed"],n=>{var{typed:t}=n;function i(r){var A=0;return r.forEach(s=>{A+=i(s)}),A||1}return t("leafCount",{Node:function(A){return i(A)}})}),wPe=Qe("parser",["typed","Parser"],n=>{var{typed:e,Parser:t}=n;return e("parser",{"":function(){return new t}})}),Cie="rationalize",DPe=Qe(Cie,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],n=>{var{typed:t,simplifyConstant:u,simplifyCore:h,simplify:g,ConstantNode:B,OperatorNode:S,SymbolNode:w}=n;function D(k){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},J=arguments.length>2&&void 0!==arguments[2]&&arguments[2],H=function O(){var k=[h,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},u,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],L=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],H=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],ue={};return ue.firstRules=k.concat(L,H),ue.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],ue.sucDivRules=H,ue.firstRulesAgain=k.concat(L),ue.finalRules=[h,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},u,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],ue}(),ue=function T(k,L,J,H){var ue=[],ye=g(k,H,L,{exactFractions:!1}),K="+-*"+((J=!!J)?"/":"");!function Z(le){var ce=le.type;if("FunctionNode"===ce)throw new Error("There is an unsolved function call");if("OperatorNode"===ce)if("^"===le.op){if("ConstantNode"!==le.args[1].type||!Ai(parseFloat(le.args[1].value)))throw new Error("There is a non-integer exponent");Z(le.args[0])}else{if(!K.includes(le.op))throw new Error("Operator "+le.op+" invalid in polynomial expression");for(var ge=0;ge<le.args.length;ge++)Z(le.args[ge])}else if("SymbolNode"===ce){var re=le.name;-1===ue.indexOf(re)&&ue.push(re)}else if("ParenthesisNode"===ce)Z(le.content);else if("ConstantNode"!==ce)throw new Error("type "+ce+" is not allowed in polynomial expression")}(ye);var z={};return z.expression=ye,z.variables=ue,z}(k,L,!0,H.firstRules),ye=ue.variables.length,K={exactFractions:!1},z={exactFractions:!0};if(k=ue.expression,ye>=1){k=G(k);var Z,le,re,ce=!0,ge=!1;for(k=g(k,H.firstRules,{},K);le=ce?H.distrDivRules:H.sucDivRules,ce=!ce,(re=(k=g(k,le,{},z)).toString())!==Z;)ge=!0,Z=re;ge&&(k=g(k,H.firstRulesAgain,{},K)),k=g(k,H.finalRules,{},K)}var ie=[],me={};return"OperatorNode"===k.type&&k.isBinary()&&"/"===k.op?(1===ye&&(k.args[0]=W(k.args[0],ie),k.args[1]=W(k.args[1])),J&&(me.numerator=k.args[0],me.denominator=k.args[1])):(1===ye&&(k=W(k,ie)),J&&(me.numerator=k,me.denominator=null)),J?(me.coefficients=ie,me.variables=ue.variables,me.expression=k,me):k}return t(Cie,{Node:D,"Node, boolean":(k,L)=>D(k,{},L),"Node, Object":D,"Node, Object, boolean":D});function G(k,L,J){var H=k.type,ue=arguments.length>1;if("OperatorNode"===H&&k.isBinary()){var K,ye=!1;if("^"===k.op&&("ParenthesisNode"===k.args[0].type||"OperatorNode"===k.args[0].type)&&"ConstantNode"===k.args[1].type&&(ye=(K=parseFloat(k.args[1].value))>=2&&Ai(K)),ye){if(K>2){var z=k.args[0],Z=new S("^","pow",[k.args[0].cloneDeep(),new B(K-1)]);k=new S("*","multiply",[z,Z])}else k=new S("*","multiply",[k.args[0],k.args[0].cloneDeep()]);ue&&("content"===J?L.content=k:L.args[J]=k)}}if("ParenthesisNode"===H)G(k.content,k,"content");else if("ConstantNode"!==H&&"SymbolNode"!==H)for(var le=0;le<k.args.length;le++)G(k.args[le],k,le);if(!ue)return k}function W(k,L){void 0===L&&(L=[]),L[0]=0;var H=0,ue="";!function re(ie,me,be){var Ie=ie.type;if("FunctionNode"===Ie)throw new Error("There is an unsolved function call");if("OperatorNode"===Ie){if(!"+-*^".includes(ie.op))throw new Error("Operator "+ie.op+" invalid");if(null!==me){if(("unaryMinus"===ie.fn||"pow"===ie.fn)&&"add"!==me.fn&&"subtract"!==me.fn&&"multiply"!==me.fn)throw new Error("Invalid "+ie.op+" placing");if(("subtract"===ie.fn||"add"===ie.fn||"multiply"===ie.fn)&&"add"!==me.fn&&"subtract"!==me.fn)throw new Error("Invalid "+ie.op+" placing");if(("subtract"===ie.fn||"add"===ie.fn||"unaryMinus"===ie.fn)&&0!==be.noFil)throw new Error("Invalid "+ie.op+" placing")}("^"===ie.op||"*"===ie.op)&&(be.fire=ie.op);for(var Ne=0;Ne<ie.args.length;Ne++)"unaryMinus"===ie.fn&&(be.oper="-"),("+"===ie.op||"subtract"===ie.fn)&&(be.fire="",be.cte=1,be.oper=0===Ne?"+":ie.op),be.noFil=Ne,re(ie.args[Ne],ie,be)}else if("SymbolNode"===Ie){if(ie.name!==ue&&""!==ue)throw new Error("There is more than one variable");if(ue=ie.name,null===me)return void(L[1]=1);if("^"===me.op&&0!==be.noFil)throw new Error("In power the variable should be the first parameter");if("*"===me.op&&1!==be.noFil)throw new Error("In multiply the variable should be the second parameter");(""===be.fire||"*"===be.fire)&&(H<1&&(L[1]=0),L[1]+=be.cte*("+"===be.oper?1:-1),H=Math.max(1,H))}else{if("ConstantNode"!==Ie)throw new Error("Type "+Ie+" is not allowed");var Ae=parseFloat(ie.value);if(null===me)return void(L[0]=Ae);if("^"===me.op){if(1!==be.noFil)throw new Error("Constant cannot be powered");if(!Ai(Ae)||Ae<=0)throw new Error("Non-integer exponent is not allowed");for(var ee=H+1;ee<Ae;ee++)L[ee]=0;return Ae>H&&(L[Ae]=0),L[Ae]+=be.cte*("+"===be.oper?1:-1),void(H=Math.max(Ae,H))}be.cte=Ae,""===be.fire&&(L[0]+=be.cte*("+"===be.oper?1:-1))}}(k,null,{cte:1,oper:"+",fire:""});for(var K,ye=!0,z=H=L.length-1;z>=0;z--)if(0!==L[z]){var Z=new B(ye?L[z]:Math.abs(L[z])),le=L[z]<0?"-":"+";if(z>0){var ce=new w(ue);if(z>1){var ge=new B(z);ce=new S("^","pow",[ce,ge])}Z=-1===L[z]&&ye?new S("-","unaryMinus",[ce]):1===Math.abs(L[z])?ce:new S("*","multiply",[Z,ce])}K=ye?Z:"+"===le?new S("+","add",[K,Z]):new S("-","subtract",[K,Z]),ye=!1}return ye?new B(0):K}}),Iie="derivative",SPe=Qe(Iie,["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:e,config:t,parse:i,simplify:r,equal:A,isZero:s,numeric:o,ConstantNode:a,FunctionNode:c,OperatorNode:l,ParenthesisNode:u,SymbolNode:h}=n;function g(B,y){var E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},b=new Map,S=y.name,M=I(B,function w(D){var T=b.get(D);if(void 0!==T)return T;var O=p(w,D,S);return b.set(D,O),O});return E.simplify?r(M):M}function f(B){var y=i(B);if(!y.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(B)," into a variable in function derivative"));return y}var d=e(Iie,{"Node, SymbolNode":g,"Node, SymbolNode, Object":g,"Node, string":(B,y)=>g(B,f(y)),"Node, string, Object":(B,y,E)=>g(B,f(y),E)});d._simplify=!0,d.toTex=function(B){return m.apply(null,B.args)};var m=e("_derivTex",{"Node, SymbolNode":function(y,E){return Hr(y)&&"string"===As(y.value)?m(i(y.value).toString(),E.toString(),1):m(y.toTex(),E.toString(),1)},"Node, ConstantNode":function(y,E){if("string"===As(E.value))return m(y,i(E.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(y,E,b){return m(y.toString(),E.name,b.value)},"string, string, number":function(y,E,b){return(1===b?"{d\\over d"+E+"}":"{d^{"+b+"}\\over d"+E+"^{"+b+"}}")+"\\left[".concat(y,"\\right]")}}),p=e("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(y,E,b){return E.name!==b},"function, ParenthesisNode, string":function(y,E,b){return y(E.content,b)},"function, FunctionAssignmentNode, string":function(y,E,b){return!E.params.includes(b)||y(E.expr,b)},"function, FunctionNode | OperatorNode, string":function(y,E,b){return E.args.every(S=>y(S,b))}}),I=e("_derivative",{"ConstantNode, function":function(){return C(0)},"SymbolNode, function":function(y,E){return E(y)?C(0):C(1)},"ParenthesisNode, function":function(y,E){return new u(I(y.content,E))},"FunctionAssignmentNode, function":function(y,E){return E(y)?C(0):I(y.expr,E)},"FunctionNode, function":function(y,E){if(E(y))return C(0);var S,D,T,O,b=y.args[0],w=!1,M=!1;switch(y.name){case"cbrt":w=!0,D=new l("*","multiply",[C(3),new l("^","pow",[b,new l("/","divide",[C(2),C(3)])])]);break;case"sqrt":case"nthRoot":if(1===y.args.length)w=!0,D=new l("*","multiply",[C(2),new c("sqrt",[b])]);else if(2===y.args.length)return S=new l("/","divide",[C(1),y.args[1]]),I(new l("^","pow",[b,S]),E);break;case"log10":S=C(10);case"log":if(S||1!==y.args.length){if(1===y.args.length&&S||2===y.args.length&&E(y.args[1]))D=new l("*","multiply",[b.clone(),new c("log",[S||y.args[1]])]),w=!0;else if(2===y.args.length)return I(new l("/","divide",[new c("log",[b]),new c("log",[y.args[1]])]),E)}else D=b.clone(),w=!0;break;case"pow":if(2===y.args.length)return I(new l("^","pow",[b,y.args[1]]),E);break;case"exp":D=new c("exp",[b.clone()]);break;case"sin":D=new c("cos",[b.clone()]);break;case"cos":D=new l("-","unaryMinus",[new c("sin",[b.clone()])]);break;case"tan":D=new l("^","pow",[new c("sec",[b.clone()]),C(2)]);break;case"sec":D=new l("*","multiply",[y,new c("tan",[b.clone()])]);break;case"csc":M=!0,D=new l("*","multiply",[y,new c("cot",[b.clone()])]);break;case"cot":M=!0,D=new l("^","pow",[new c("csc",[b.clone()]),C(2)]);break;case"asin":w=!0,D=new c("sqrt",[new l("-","subtract",[C(1),new l("^","pow",[b.clone(),C(2)])])]);break;case"acos":w=!0,M=!0,D=new c("sqrt",[new l("-","subtract",[C(1),new l("^","pow",[b.clone(),C(2)])])]);break;case"atan":w=!0,D=new l("+","add",[new l("^","pow",[b.clone(),C(2)]),C(1)]);break;case"asec":w=!0,D=new l("*","multiply",[new c("abs",[b.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[b.clone(),C(2)]),C(1)])])]);break;case"acsc":w=!0,M=!0,D=new l("*","multiply",[new c("abs",[b.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[b.clone(),C(2)]),C(1)])])]);break;case"acot":w=!0,M=!0,D=new l("+","add",[new l("^","pow",[b.clone(),C(2)]),C(1)]);break;case"sinh":D=new c("cosh",[b.clone()]);break;case"cosh":D=new c("sinh",[b.clone()]);break;case"tanh":D=new l("^","pow",[new c("sech",[b.clone()]),C(2)]);break;case"sech":M=!0,D=new l("*","multiply",[y,new c("tanh",[b.clone()])]);break;case"csch":M=!0,D=new l("*","multiply",[y,new c("coth",[b.clone()])]);break;case"coth":M=!0,D=new l("^","pow",[new c("csch",[b.clone()]),C(2)]);break;case"asinh":w=!0,D=new c("sqrt",[new l("+","add",[new l("^","pow",[b.clone(),C(2)]),C(1)])]);break;case"acosh":w=!0,D=new c("sqrt",[new l("-","subtract",[new l("^","pow",[b.clone(),C(2)]),C(1)])]);break;case"atanh":w=!0,D=new l("-","subtract",[C(1),new l("^","pow",[b.clone(),C(2)])]);break;case"asech":w=!0,M=!0,D=new l("*","multiply",[b.clone(),new c("sqrt",[new l("-","subtract",[C(1),new l("^","pow",[b.clone(),C(2)])])])]);break;case"acsch":w=!0,M=!0,D=new l("*","multiply",[new c("abs",[b.clone()]),new c("sqrt",[new l("+","add",[new l("^","pow",[b.clone(),C(2)]),C(1)])])]);break;case"acoth":w=!0,M=!0,D=new l("-","subtract",[C(1),new l("^","pow",[b.clone(),C(2)])]);break;case"abs":D=new l("/","divide",[new c(new h("abs"),[b.clone()]),b.clone()]);break;default:throw new Error('Cannot process function "'+y.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}w?(T="/",O="divide"):(T="*",O="multiply");var G=I(b,E);return M&&(G=new l("-","unaryMinus",[G])),new l(T,O,[G,D])},"OperatorNode, function":function(y,E){if(E(y))return C(0);if("+"===y.op)return new l(y.op,y.fn,y.args.map(function(k){return I(k,E)}));if("-"===y.op){if(y.isUnary())return new l(y.op,y.fn,[I(y.args[0],E)]);if(y.isBinary())return new l(y.op,y.fn,[I(y.args[0],E),I(y.args[1],E)])}if("*"===y.op){var b=y.args.filter(function(k){return E(k)});if(b.length>0){var S=y.args.filter(function(k){return!E(k)}),w=1===S.length?S[0]:new l("*","multiply",S),M=b.concat(I(w,E));return new l("*","multiply",M)}return new l("+","add",y.args.map(function(k){return new l("*","multiply",y.args.map(function(L){return L===k?I(L,E):L.clone()}))}))}if("/"===y.op&&y.isBinary()){var D=y.args[0],T=y.args[1];return E(T)?new l("/","divide",[I(D,E),T]):E(D)?new l("*","multiply",[new l("-","unaryMinus",[D]),new l("/","divide",[I(T,E),new l("^","pow",[T.clone(),C(2)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[I(D,E),T.clone()]),new l("*","multiply",[D.clone(),I(T,E)])]),new l("^","pow",[T.clone(),C(2)])])}if("^"===y.op&&y.isBinary()){var O=y.args[0],G=y.args[1];if(E(O))return Hr(O)&&(s(O.value)||A(O.value,1))?C(0):new l("*","multiply",[y,new l("*","multiply",[new c("log",[O.clone()]),I(G.clone(),E)])]);if(E(G)){if(Hr(G)){if(s(G.value))return C(0);if(A(G.value,1))return I(O,E)}var W=new l("^","pow",[O.clone(),new l("-","subtract",[G,C(1)])]);return new l("*","multiply",[G.clone(),new l("*","multiply",[I(O,E),W])])}return new l("*","multiply",[new l("^","pow",[O.clone(),G.clone()]),new l("+","add",[new l("*","multiply",[I(O,E),new l("/","divide",[G.clone(),O.clone()])]),new l("*","multiply",[I(G,E),new c("log",[O.clone()])])])])}throw new Error('Cannot process operator "'+y.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function C(B,y){return new a(o(B,y||Km(String(B),t)))}return d}),Bie={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},Eie={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},nYe={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},bigint:{name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:Bie,E:Bie,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:Eie,PI:Eie,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},polynomialRoot:{name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstant:{name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},sylvester:{name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schur:{name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyap:{name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},solveODE:{name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tf:{name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqz:{name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zeta:{name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corr:{name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]}},rYe=Qe("help",["typed","mathWithTransform","Help"],n=>{var{typed:e,mathWithTransform:t,Help:i}=n;return e("help",{any:function(A){var s,o=A;if("string"!=typeof A)for(s in t)if(Xn(t,s)&&A===t[s]){o=s;break}var a=ul(nYe,o);if(!a)throw new Error('No documentation found on "'+("function"==typeof o?o.name:o)+'"');return new i(a)}})}),xF=De(6645);function uB(n,e,t){if(xF.isTypedFunction(n)){var i=(e.isMatrix?e.size():Ti(e)).map(()=>0),r=e.isMatrix?e.get(i):W4(e,i),A=1===Object.keys(n.signatures).length,s=function AYe(n,e,t,i){for(var r=[e,t,i],A=3;A>0;A--){var s=r.slice(0,A);if(null!==xF.resolve(n,s))return A}}(n,r,i,e),o=A?Object.values(n.signatures)[0]:n;return s>=1&&s<=3?function(){for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return yie(o,c.slice(0,s),t,n.name)}:function(){for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return yie(o,c,t,n.name)}}return n}function yie(n,e,t,i){try{return n(...e)}catch(r){!function sYe(n,e,t,i){var r;if(n instanceof TypeError&&"wrongType"===(null===(r=n.data)||void 0===r?void 0:r.category)){var A=[];throw A.push("value: ".concat(As(e[0]))),e.length>=2&&A.push("index: ".concat(As(e[1]))),e.length>=3&&A.push("array: ".concat(As(e[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(i,"(").concat(A.join(", "),") at index ").concat(JSON.stringify(e[1])))}throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(i,": ").concat(n.message))}(r,e,t,i)}}var Qie=Qe("filter",["typed"],n=>{var{typed:e}=n;return e("filter",{"Array, function":wie,"Matrix, function":function(i,r){return i.create(wie(i.valueOf(),r),i.datatype())},"Array, RegExp":Wne,"Matrix, RegExp":function(i,r){return i.create(Wne(i.valueOf(),r),i.datatype())}})});function wie(n,e){var t=uB(e,n,"filter");return function A3e(n,e){if(1!==Ti(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,e)}(n,function(i,r,A){return t(i,[r],A)})}function iH(n,e,t){var i=n.filter(function(a){return ba(a)&&!(a.name in e)&&!t.has(a.name)})[0];if(!i)throw new Error('No undefined variable found in inline expression "'+n+'"');var r=i.name,A=new Map,s=new wne(t,A,new Set([r])),o=n.compile();return function(c){return A.set(r,c),o.evaluate(s)}}var rH=Qe("transformCallback",["typed"],n=>{var{typed:e}=n;return function(i,r){return e.isTypedFunction(i)?t(i,r):_ie(i,i.length,r)};function t(i,r){var A=Object.fromEntries(Object.entries(i.signatures).map(s=>{var[o,a]=s,c=o.split(",").length;return e.isTypedFunction(a)?[o,t(a,r)]:[o,_ie(a,c,r)]}));return"string"==typeof i.name?e(i.name,A):e(A)}});function _ie(n,e,t){return e===t?n:e===t+1?function(){for(var i=arguments.length,r=new Array(i),A=0;A<i;A++)r[A]=arguments[A];var s=r.slice(0,t),o=Die(r[t]);return n(...s,o)}:e>t+1?function(){for(var i=arguments.length,r=new Array(i),A=0;A<i;A++)r[A]=arguments[A];var s=r.slice(0,t),o=Die(r[t]),a=r.slice(t+1);return n(...s,o,...a)}:n}function Die(n){return n.map(e=>e+1)}var hYe=Qe("filter",["typed"],n=>{var{typed:e}=n;function t(r,A,s){var o=Qie({typed:e}),a=rH({typed:e});if(0===r.length)return o();var c=r[0];if(1===r.length)return o(c);var l=r.length-1,u=r[l];return c&&(c=i(c,s)),u&&(u=ba(u)||H1(u)?i(u,s):iH(u,A,s)),o(c,a(u,l))}function i(r,A){return r.compile().evaluate(A)}return t.rawArgs=!0,t},{isTransformFunction:!0}),AH="forEach",bie=Qe(AH,["typed"],n=>{var{typed:e}=n;return e(AH,{"Array, function":dYe,"Matrix, function":function(i,r){i.forEach(r)}})});function dYe(n,e){j4(n,[],n,uB(e,n,AH))}var CYe=Qe("forEach",["typed"],n=>{var{typed:e}=n,t=bie({typed:e}),i=rH({typed:e});function r(s,o,a){if(0===s.length)return t();var c=s[0];if(1===s.length)return t(c);var l=s.length-1,u=s[l];return c&&(c=A(c,a)),u&&(u=ba(u)||H1(u)?A(u,a):iH(u,o,a)),t(c,i(u,l))}function A(s,o){return s.compile().evaluate(o)}return r.rawArgs=!0,r},{isTransformFunction:!0}),Sie=Qe("map",["typed"],n=>{var{typed:e}=n;return e("map",{"Array, function":i,"Matrix, function":function(A,s){return A.map(s)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(r,A,s)=>function t(r,A){if("function"!=typeof A)throw new Error("Last argument must be a callback function");var l,s=r[0].isMatrix,o=fF(...r.map(B=>B.isMatrix?B.size():Ti(B))),a=s?(B,y)=>B.get(y):W4,c=r.map(s?B=>B.isMatrix?B.create(Vm(B.toArray(),o),B.datatype()):r[0].create(Vm(B.valueOf(),o)):B=>Vm(B.isMatrix?B.toArray():B,o));if(e.isTypedFunction(A)){var u=o.map(()=>0),h=c.map(B=>a(B,u)),g=function C(B,y,E,b){return null!==e.resolve(B,[...y,E,...b])?2:null!==e.resolve(B,[...y,E])?1:(e.resolve(B,y),0)}(A,h,u,c);l=p(g)}else{var d=function I(B,y){return B.length>y+1?2:B.length===y+1?1:0}(A,r.length);l=p(d)}var m=(B,y)=>l([B,...c.slice(1).map(E=>a(E,y))],y);return s?c[0].map(m):i(c[0],m);function p(B){switch(B){case 0:return y=>A(...y);case 1:return(y,E)=>A(...y,E);case 2:return(y,E)=>A(...y,E,...c)}}}([r,A,...s.slice(0,s.length-1)],s[s.length-1])});function i(r,A){return j4(r,[],r,uB(A,r,"map"))}}),vYe=Qe("map",["typed"],n=>{var{typed:e}=n,t=Sie({typed:e}),i=rH({typed:e});function r(A,s,o){if(0===A.length)return t();if(1===A.length)return t(A[0]);var a=A.length-1,c=A.slice(0,a),l=A[a];return c=c.map(h=>u(h,o)),l&&(l=ba(l)||H1(l)?u(l,o):iH(l,s,o)),t(...c,i(l,a));function u(h,g){return h.compile().evaluate(g)}}return r.rawArgs=!0,r},{isTransformFunction:!0}),oH=Qe("apply",["typed","isInteger"],n=>{var{typed:e,isInteger:t}=n;return e("apply",{"Array | Matrix, number | BigNumber, function":function(r,A,s){if(!t(A))throw new TypeError("Integer number expected for dimension");var o=Array.isArray(r)?Ti(r):r.size();if(A<0||A>=o.length)throw new Dh(A,o.length);return Ei(r)?r.create(FF(r.valueOf(),A,s),r.datatype()):FF(r,A,s)}})});function FF(n,e,t){var i,r,A;if(e<=0){if(Array.isArray(n[0])){for(A=function QYe(n){var i,r,e=n.length,t=n[0].length,A=[];for(r=0;r<t;r++){var s=[];for(i=0;i<e;i++)s.push(n[i][r]);A.push(s)}return A}(n),r=[],i=0;i<A.length;i++)r[i]=FF(A[i],e-1,t);return r}return t(n)}for(r=[],i=0;i<n.length;i++)r[i]=FF(n[i],e-1,t);return r}var DYe=Qe("apply",["typed","isInteger"],n=>{var{typed:e,isInteger:t}=n,i=oH({typed:e,isInteger:t});return e("apply",{"...any":function(A){var s=A[1];ji(s)?A[1]=s-1:Zi(s)&&(A[1]=s.minus(1));try{return i.apply(null,A)}catch(o){throw gl(o)}}})},{isTransformFunction:!0}),hl=Qe("matAlgo03xDSf",["typed"],n=>{var{typed:e}=n;return function(i,r,A,s){var o=i._data,a=i._size,c=i._datatype||i.getDataType(),l=r._values,u=r._index,h=r._ptr,g=r._size,f=r._datatype||void 0===r._data?r._datatype:r.getDataType();if(a.length!==g.length)throw new Cr(a.length,g.length);if(a[0]!==g[0]||a[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+g+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,d=a[0],m=a[1],I=0,C=A;"string"==typeof c&&c===f&&"mixed"!==c&&(I=e.convert(0,p=c),C=e.find(A,[p,p]));for(var B=[],y=0;y<d;y++)B[y]=[];for(var E=[],b=[],S=0;S<m;S++){for(var w=S+1,D=h[S+1],T=h[S];T<D;T++){var O=u[T];E[O]=s?C(l[T],o[O][S]):C(o[O][S],l[T]),b[O]=w}for(var G=0;G<d;G++)B[G][S]=b[G]===w?E[G]:s?C(I,o[G][S]):C(o[G][S],I)}return i.createDenseMatrix({data:B,size:[d,m],datatype:c===i._datatype&&f===r._datatype?p:void 0})}}),la=Qe("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(r,A,s,o){var a=r._values,c=r._index,l=r._ptr,u=r._size,h=r._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d,g=u[0],f=u[1],m=s;"string"==typeof h&&(A=e.convert(A,d=h),m=e.find(s,[d,d]));for(var p=[],I=[],C=[],B=0;B<f;B++){for(var y=B+1,b=l[B+1],S=l[B];S<b;S++){var w=c[S];I[w]=a[S],C[w]=y}for(var M=0;M<g;M++)0===B&&(p[M]=[]),p[M][B]=C[M]===y?o?m(A,I[M]):m(I[M],A):o?m(A,0):m(0,A)}return new t({data:p,size:[g,f],datatype:d})}}),RF=Qe("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,A,s){var o=r._values,a=r._index,c=r._ptr,l=r._size,u=r._datatype||void 0===r._data?r._datatype:r.getDataType(),h=A._values,g=A._index,f=A._ptr,d=A._size,m=A._datatype||void 0===A._data?A._datatype:A.getDataType();if(l.length!==d.length)throw new Cr(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var C,p=l[0],I=l[1],B=t,y=0,E=s;"string"==typeof u&&u===m&&"mixed"!==u&&(B=e.find(t,[C=u,C]),y=e.convert(0,C),E=e.find(s,[C,C]));var G,W,k,L,b=o&&h?[]:void 0,S=[],w=[],M=b?[]:void 0,D=b?[]:void 0,T=[],O=[];for(W=0;W<I;W++){w[W]=S.length;var J=W+1;for(k=c[W],L=c[W+1];k<L;k++)S.push(G=a[k]),T[G]=J,M&&(M[G]=o[k]);for(k=f[W],L=f[W+1];k<L;k++)T[G=g[k]]!==J&&S.push(G),O[G]=J,D&&(D[G]=h[k]);if(b)for(k=w[W];k<S.length;){var H=T[G=S[k]],ue=O[G];if(H===J||ue===J){var z=E(H===J?M[G]:y,ue===J?D[G]:y);B(z,y)?S.splice(k,1):(b.push(z),k++)}}}return w[I]=S.length,r.createSparseMatrix({values:b,index:S,ptr:w,size:[p,I],datatype:u===r._datatype&&m===A._datatype?C:void 0})}}),kYe=Qe("matAlgo13xDD",["typed"],n=>{var{typed:e}=n;return function(r,A,s){var o=r._data,a=r._size,c=r._datatype,l=A._data,u=A._size,h=A._datatype,g=[];if(a.length!==u.length)throw new Cr(a.length,u.length);for(var f=0;f<a.length;f++){if(a[f]!==u[f])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");g[f]=a[f]}var d,m=s;"string"==typeof c&&c===h&&(m=e.find(s,[d=c,d]));var p=g.length>0?t(m,0,g,g[0],o,l):[];return r.createDenseMatrix({data:p,size:g,datatype:d})};function t(i,r,A,s,o,a){var c=[];if(r===A.length-1)for(var l=0;l<s;l++)c[l]=i(o[l],a[l]);else for(var u=0;u<s;u++)c[u]=t(i,r+1,A,A[r+1],o[u],a[u]);return c}}),Sh=Qe("matAlgo14xDs",["typed"],n=>{var{typed:e}=n;return function(r,A,s,o){var u,a=r._data,c=r._size,l=r._datatype,h=s;"string"==typeof l&&(A=e.convert(A,u=l),h=e.find(s,[u,u]));var g=c.length>0?t(h,0,c,c[0],a,A,o):[];return r.createDenseMatrix({data:g,size:Hi(c),datatype:u})};function t(i,r,A,s,o,a,c){var l=[];if(r===A.length-1)for(var u=0;u<s;u++)l[u]=c?i(a,o[u]):i(o[u],a);else for(var h=0;h<s;h++)l[h]=t(i,r+1,A,A[r+1],o[h],a,c);return l}});function Sa(n,e){if(Wd(n.size(),e.size()))return[n,e];var t=fF(n.size(),e.size());return[n,e].map(i=>function OYe(n,e){return Wd(n.size(),e)?n:n.create(Vm(n.valueOf(),e),n.datatype())}(i,t))}var os=Qe("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:e,matrix:t}=n,i=kYe({typed:e}),r=Sh({typed:e});return function(s){var c,o=s.elop,a=s.SD||s.DS;o?(c={"DenseMatrix, DenseMatrix":(g,f)=>i(...Sa(g,f),o),"Array, Array":(g,f)=>i(...Sa(t(g),t(f)),o).valueOf(),"Array, DenseMatrix":(g,f)=>i(...Sa(t(g),f),o),"DenseMatrix, Array":(g,f)=>i(...Sa(g,t(f)),o)},s.SS&&(c["SparseMatrix, SparseMatrix"]=(g,f)=>s.SS(...Sa(g,f),o,!1)),s.DS&&(c["DenseMatrix, SparseMatrix"]=(g,f)=>s.DS(...Sa(g,f),o,!1),c["Array, SparseMatrix"]=(g,f)=>s.DS(...Sa(t(g),f),o,!1)),a&&(c["SparseMatrix, DenseMatrix"]=(g,f)=>a(...Sa(f,g),o,!0),c["SparseMatrix, Array"]=(g,f)=>a(...Sa(t(f),g),o,!0))):(c={"DenseMatrix, DenseMatrix":e.referToSelf(g=>(f,d)=>i(...Sa(f,d),g)),"Array, Array":e.referToSelf(g=>(f,d)=>i(...Sa(t(f),t(d)),g).valueOf()),"Array, DenseMatrix":e.referToSelf(g=>(f,d)=>i(...Sa(t(f),d),g)),"DenseMatrix, Array":e.referToSelf(g=>(f,d)=>i(...Sa(f,t(d)),g))},s.SS&&(c["SparseMatrix, SparseMatrix"]=e.referToSelf(g=>(f,d)=>s.SS(...Sa(f,d),g,!1))),s.DS&&(c["DenseMatrix, SparseMatrix"]=e.referToSelf(g=>(f,d)=>s.DS(...Sa(f,d),g,!1)),c["Array, SparseMatrix"]=e.referToSelf(g=>(f,d)=>s.DS(...Sa(t(f),d),g,!1))),a&&(c["SparseMatrix, DenseMatrix"]=e.referToSelf(g=>(f,d)=>a(...Sa(d,f),g,!0)),c["SparseMatrix, Array"]=e.referToSelf(g=>(f,d)=>a(...Sa(t(d),f),g,!0))));var l=s.scalar||"any";(s.Ds||s.Ss)&&(o?(c["DenseMatrix,"+l]=(g,f)=>r(g,f,o,!1),c[l+", DenseMatrix"]=(g,f)=>r(f,g,o,!0),c["Array,"+l]=(g,f)=>r(t(g),f,o,!1).valueOf(),c[l+", Array"]=(g,f)=>r(t(f),g,o,!0).valueOf()):(c["DenseMatrix,"+l]=e.referToSelf(g=>(f,d)=>r(f,d,g,!1)),c[l+", DenseMatrix"]=e.referToSelf(g=>(f,d)=>r(d,f,g,!0)),c["Array,"+l]=e.referToSelf(g=>(f,d)=>r(t(f),d,g,!1).valueOf()),c[l+", Array"]=e.referToSelf(g=>(f,d)=>r(t(d),f,g,!0).valueOf())));var h=void 0!==s.sS?s.sS:s.Ss;return o?(s.Ss&&(c["SparseMatrix,"+l]=(g,f)=>s.Ss(g,f,o,!1)),h&&(c[l+", SparseMatrix"]=(g,f)=>h(f,g,o,!0))):(s.Ss&&(c["SparseMatrix,"+l]=e.referToSelf(g=>(f,d)=>s.Ss(f,d,g,!1))),h&&(c[l+", SparseMatrix"]=e.referToSelf(g=>(f,d)=>h(d,f,g,!0)))),o&&o.signatures&&Bne(c,o.signatures),c}}),aH="number, number";function Nie(n){return!n}function cH(n,e){return!(!n&&!e)}function lH(n,e){return!!n!=!!e}function uH(n,e){return!(!n||!e)}Nie.signature="number",cH.signature=aH,lH.signature=aH,uH.signature=aH;var Fie=Qe("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:r,concat:A}=n,s=hl({typed:e}),o=RF({typed:e,equalScalar:i}),a=la({typed:e,DenseMatrix:r}),c=os({typed:e,matrix:t,concat:A});return e("or",{"number, number":cH,"Complex, Complex":function(u,h){return 0!==u.re||0!==u.im||0!==h.re||0!==h.im},"BigNumber, BigNumber":function(u,h){return!u.isZero()&&!u.isNaN()||!h.isZero()&&!h.isNaN()},"bigint, bigint":cH,"Unit, Unit":e.referToSelf(l=>(u,h)=>l(u.value||0,h.value||0))},c({SS:o,DS:s,Ss:a}))}),JYe=Qe("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:r,concat:A}=n,s=Fie({typed:e,matrix:t,equalScalar:i,DenseMatrix:r,concat:A});function o(a,c,l){var u=a[0].compile().evaluate(l);if(!mg(u)&&s(u,!1))return!0;var h=a[1].compile().evaluate(l);return s(u,h)}return o.rawArgs=!0,o},{isTransformFunction:!0}),Mh=Qe("matAlgo02xDS0",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,A,s,o){var a=r._data,c=r._size,l=r._datatype||r.getDataType(),u=A._values,h=A._index,g=A._ptr,f=A._size,d=A._datatype||void 0===A._data?A._datatype:A.getDataType();if(c.length!==f.length)throw new Cr(c.length,f.length);if(c[0]!==f[0]||c[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var I,m=c[0],p=c[1],C=t,B=0,y=s;"string"==typeof l&&l===d&&"mixed"!==l&&(C=e.find(t,[I=l,I]),B=e.convert(0,I),y=e.find(s,[I,I]));for(var E=[],b=[],S=[],w=0;w<p;w++){S[w]=b.length;for(var D=g[w+1],T=g[w];T<D;T++){var O=h[T],G=o?y(u[T],a[O][w]):y(a[O][w],u[T]);C(G,B)||(b.push(O),E.push(G))}}return S[p]=b.length,A.createSparseMatrix({values:E,index:b,ptr:S,size:[m,p],datatype:l===r._datatype&&d===A._datatype?I:void 0})}}),ec=Qe("matAlgo11xS0s",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,A,s,o){var a=r._values,c=r._index,l=r._ptr,u=r._size,h=r._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d,g=u[0],f=u[1],m=t,p=0,I=s;"string"==typeof h&&(m=e.find(t,[d=h,d]),p=e.convert(0,d),A=e.convert(A,d),I=e.find(s,[d,d]));for(var C=[],B=[],y=[],E=0;E<f;E++){y[E]=B.length;for(var S=l[E+1],w=l[E];w<S;w++){var M=c[w],D=o?I(A,a[w]):I(a[w],A);m(D,p)||(B.push(M),C.push(D))}}return y[f]=B.length,r.createSparseMatrix({values:C,index:B,ptr:y,size:[g,f],datatype:d})}}),TF=Qe("matAlgo06xS0S0",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,A,s){var o=r._values,a=r._size,c=r._datatype||void 0===r._data?r._datatype:r.getDataType(),l=A._values,u=A._size,h=A._datatype||void 0===A._data?A._datatype:A.getDataType();if(a.length!==u.length)throw new Cr(a.length,u.length);if(a[0]!==u[0]||a[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");var d,g=a[0],f=a[1],m=t,p=0,I=s;"string"==typeof c&&c===h&&"mixed"!==c&&(m=e.find(t,[d=c,d]),p=e.convert(0,d),I=e.find(s,[d,d]));for(var C=o&&l?[]:void 0,B=[],y=[],E=C?[]:void 0,b=[],S=[],w=0;w<f;w++){y[w]=B.length;var M=w+1;if(sie(r,w,b,E,S,M,B,I),sie(A,w,b,E,S,M,B,I),E)for(var D=y[w];D<B.length;){var T=B[D];if(S[T]===M){var O=E[T];m(O,p)?B.splice(D,1):(C.push(O),D++)}else B.splice(D,1)}else for(var G=y[w];G<B.length;)S[B[G]]!==M?B.splice(G,1):G++}return y[f]=B.length,r.createSparseMatrix({values:C,index:B,ptr:y,size:[g,f],datatype:c===r._datatype&&h===A._datatype?d:void 0})}}),Tie=Qe("and",["typed","matrix","equalScalar","zeros","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,zeros:r,not:A,concat:s}=n,o=Mh({typed:e,equalScalar:i}),a=TF({typed:e,equalScalar:i}),c=ec({typed:e,equalScalar:i}),l=Sh({typed:e}),u=os({typed:e,matrix:t,concat:s});return e("and",{"number, number":uH,"Complex, Complex":function(g,f){return!(0===g.re&&0===g.im||0===f.re&&0===f.im)},"BigNumber, BigNumber":function(g,f){return!(g.isZero()||f.isZero()||g.isNaN()||f.isNaN())},"bigint, bigint":uH,"Unit, Unit":e.referToSelf(h=>(g,f)=>h(g.value||0,f.value||0)),"SparseMatrix, any":e.referToSelf(h=>(g,f)=>A(f)?r(g.size(),g.storage()):c(g,f,h,!1)),"DenseMatrix, any":e.referToSelf(h=>(g,f)=>A(f)?r(g.size(),g.storage()):l(g,f,h,!1)),"any, SparseMatrix":e.referToSelf(h=>(g,f)=>A(g)?r(g.size(),g.storage()):c(f,g,h,!0)),"any, DenseMatrix":e.referToSelf(h=>(g,f)=>A(g)?r(g.size(),g.storage()):l(f,g,h,!0)),"Array, any":e.referToSelf(h=>(g,f)=>h(t(g),f).valueOf()),"any, Array":e.referToSelf(h=>(g,f)=>h(g,t(f)).valueOf())},u({SS:a,DS:o}))}),nKe=Qe("and",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,zeros:r,not:A,concat:s}=n,o=Tie({typed:e,matrix:t,equalScalar:i,zeros:r,not:A,concat:s});function a(c,l,u){var h=c[0].compile().evaluate(u);if(!mg(h)&&!o(h,!0))return!1;var g=c[1].compile().evaluate(u);return o(h,g)}return a.rawArgs=!0,a},{isTransformFunction:!0}),Lie=Qe("concat",["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:i}=n;return e("concat",{"...Array | Matrix | number | BigNumber":function(A){var s,c,o=A.length,a=-1,l=!1,u=[];for(s=0;s<o;s++){var h=A[s];if(Ei(h)&&(l=!0),ji(h)||Zi(h)){if(s!==o-1)throw new Error("Dimension must be specified as last argument");if(c=a,a=h.valueOf(),!i(a))throw new TypeError("Integer number expected for dimension");if(a<0||s>0&&a>c)throw new Dh(a,c+1)}else{var g=Hi(h).valueOf(),f=Ti(g);if(u[s]=g,c=a,a=f.length-1,s>0&&a!==c)throw new Cr(c+1,a+1)}}if(0===u.length)throw new SyntaxError("At least one matrix expected");for(var d=u.shift();u.length;)d=Xne(d,u.shift(),a);return l?t(d):d},"...string":function(A){return A.join("")}})}),sKe=Qe("concat",["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:i}=n,r=Lie({typed:e,matrix:t,isInteger:i});return e("concat",{"...any":function(s){var o=s.length-1,a=s[o];ji(a)?s[o]=a-1:Zi(a)&&(s[o]=a.minus(1));try{return r.apply(null,s)}catch(c){throw gl(c)}}})},{isTransformFunction:!0});function fl(n,e,t){var i;return String(n).includes("Unexpected type")?(i=arguments.length>2?" (type: "+As(t)+", value: "+JSON.stringify(t)+")":" (type: "+n.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+i)):String(n).includes("complex numbers")?(i=arguments.length>2?" (type: "+As(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+i)):n}var Oie=Qe("max",["typed","config","numeric","larger"],n=>{var{typed:e,config:t,numeric:i,larger:r}=n;return e("max",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(a,c){return SF(a,c.valueOf(),A)},"...":function(a){if(ny(a))throw new TypeError("Scalar values expected in function max");return s(a)}});function A(o,a){try{return r(o,a)?o:a}catch(c){throw fl(c,"max",a)}}function s(o){var a;if(Xd(o,function(c){try{isNaN(c)&&"number"==typeof c?a=NaN:(void 0===a||r(c,a))&&(a=c)}catch(l){throw fl(l,"max",c)}}),void 0===a)throw new Error("Cannot calculate max of an empty array");return"string"==typeof a&&(a=i(a,Km(a,t))),a}});function zm(n){if(2===n.length&&mg(n[0])){var e=(n=n.slice())[1];(function cKe(n){return ji(n)||Zi(n)})(e)&&(n[1]=function aKe(n){return ji(n)?n-1:Zi(n)?n.minus(1):n}(e))}return n}var gKe=Qe("max",["typed","config","numeric","larger"],n=>{var{typed:e,config:t,numeric:i,larger:r}=n,A=Oie({typed:e,config:t,numeric:i,larger:r});return e("max",{"...any":function(o){o=zm(o);try{return A.apply(null,o)}catch(a){throw gl(a)}}})},{isTransformFunction:!0}),Gie=/\$([\w.]+)/g,Hie=Qe("print",["typed"],n=>{var{typed:e}=n;return e("print",{"string, Object | Array":Yie,"string, Object | Array, number | Object":Yie})});function Yie(n,e,t){return n.replace(Gie,function(i,r){var A=r.split("."),s=e[A.shift()];for(void 0!==s&&s.isMatrix&&(s=s.toArray());A.length&&void 0!==s;){var o=A.shift();s=o?s[o]:s+"."}return void 0!==s?Sc(s)?s:mr(s,t):i})}var dKe=Qe("print",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:i,add:r}=n,A=Hie({typed:e,matrix:t,zeros:i,add:r});return e("print",{"string, Object | Array":function(a,c){return A(s(a),c)},"string, Object | Array, number | Object":function(a,c,l){return A(s(a),c,l)}});function s(o){return o.replace(Gie,a=>"$"+a.slice(1).split(".").map(function(u){return!isNaN(u)&&u.length>0?parseInt(u)-1:u}).join("."))}},{isTransformFunction:!0});function pKe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero()||e.eq(-1)||n.eq(e))return n;if(e.isZero()||n.eq(-1))return e;if(!n.isFinite()||!e.isFinite()){if(!n.isFinite()&&!e.isFinite())return n.isNegative()===e.isNegative()?n:new t(0);if(!n.isFinite())return e.isNegative()?n:n.isNegative()?new t(0):e;if(!e.isFinite())return n.isNegative()?e:e.isNegative()?new t(0):n}return gH(n,e,function(i,r){return i&r})}function V1(n){if(n.isFinite()&&!n.isInteger())throw new Error("Integer expected in function bitNot");var e=n.constructor,t=e.precision;e.config({precision:1e9});var i=n.plus(new e(1));return i.s=-i.s||null,e.config({precision:t}),i}function mKe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);var i=new t(-1);return n.isZero()||e.eq(i)||n.eq(e)?e:e.isZero()||n.eq(i)?n:n.isFinite()&&e.isFinite()?gH(n,e,function(r,A){return r|A}):!n.isFinite()&&!n.isNegative()&&e.isNegative()||n.isNegative()&&!e.isNegative()&&!e.isFinite()?i:n.isNegative()&&e.isNegative()?n.isFinite()?n:e:n.isFinite()?e:n}function gH(n,e,t){var r,A,l,u,h,i=n.constructor,s=+(n.s<0),o=+(e.s<0);if(s){r=kF(V1(n));for(var a=0;a<r.length;++a)r[a]^=1}else r=kF(n);if(o){A=kF(V1(e));for(var c=0;c<A.length;++c)A[c]^=1}else A=kF(e);r.length<=A.length?(l=r,u=A,h=s):(l=A,u=r,h=o);var g=l.length,f=u.length,d=1^t(s,o),m=new i(1^d),p=new i(1),I=new i(2),C=i.precision;for(i.config({precision:1e9});g>0;)t(l[--g],u[--f])===d&&(m=m.plus(p)),p=p.times(I);for(;f>0;)t(h,u[--f])===d&&(m=m.plus(p)),p=p.times(I);return i.config({precision:C}),0===d&&(m.s=-m.s),m}function kF(n){for(var e=n.d,t=e[0]+"",i=1;i<e.length;++i){for(var r=e[i]+"",A=7-r.length;A--;)r="0"+r;t+=r}for(var s=t.length;"0"===t.charAt(s);)s--;var o=n.e,a=t.slice(0,s+1||1),c=a.length;if(o>0)if(++o>c)for(o-=c;o--;)a+="0";else o<c&&(a=a.slice(0,o)+"."+a.slice(o));for(var l=[0],u=0;u<a.length;){for(var h=l.length;h--;)l[h]*=10;l[0]+=parseInt(a.charAt(u++));for(var g=0;g<l.length;++g)l[g]>1&&(null==l[g+1]&&(l[g+1]=0),l[g+1]+=l[g]>>1,l[g]&=1)}return l.reverse()}function CKe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero())return e;if(e.isZero())return n;if(n.eq(e))return new t(0);var i=new t(-1);return n.eq(i)?V1(e):e.eq(i)?V1(n):n.isFinite()&&e.isFinite()?gH(n,e,function(r,A){return r^A}):n.isFinite()||e.isFinite()?new t(n.isNegative()===e.isNegative()?1/0:-1/0):i}function IKe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:n.isFinite()||e.isFinite()?e.lt(55)?n.times(Math.pow(2,e.toNumber())+""):n.times(new t(2).pow(e)):new t(NaN)}function BKe(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:e.isFinite()?e.lt(55)?n.div(Math.pow(2,e.toNumber())+"").floor():n.div(new t(2).pow(e)).floor():n.isNegative()?new t(-1):n.isFinite()?new t(0):new t(NaN)}var iy="number, number";function qie(n,e){if(!Ai(n)||!Ai(e))throw new Error("Integers expected in function bitAnd");return n&e}function Jie(n){if(!Ai(n))throw new Error("Integer expected in function bitNot");return~n}function Vie(n,e){if(!Ai(n)||!Ai(e))throw new Error("Integers expected in function bitOr");return n|e}function zie(n,e){if(!Ai(n)||!Ai(e))throw new Error("Integers expected in function bitXor");return n^e}function Wie(n,e){if(!Ai(n)||!Ai(e))throw new Error("Integers expected in function leftShift");return n<<e}function jie(n,e){if(!Ai(n)||!Ai(e))throw new Error("Integers expected in function rightArithShift");return n>>e}function Zie(n,e){if(!Ai(n)||!Ai(e))throw new Error("Integers expected in function rightLogShift");return n>>>e}qie.signature=iy,Jie.signature="number",Vie.signature=iy,zie.signature=iy,Wie.signature=iy,jie.signature=iy,Zie.signature=iy;var $ie=Qe("bitAnd",["typed","matrix","equalScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,concat:r}=n,A=Mh({typed:e,equalScalar:i}),s=TF({typed:e,equalScalar:i}),o=ec({typed:e,equalScalar:i});return e("bitAnd",{"number, number":qie,"BigNumber, BigNumber":pKe,"bigint, bigint":(c,l)=>c&l},os({typed:e,matrix:t,concat:r})({SS:s,DS:A,Ss:o}))}),wKe=Qe("bitAnd",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,zeros:r,not:A,concat:s}=n,o=$ie({typed:e,matrix:t,equalScalar:i,zeros:r,not:A,concat:s});function a(c,l,u){var h=c[0].compile().evaluate(u);if(!mg(h)){if(isNaN(h))return NaN;if(0===h||!1===h)return 0}var g=c[1].compile().evaluate(u);return o(h,g)}return a.rawArgs=!0,a},{isTransformFunction:!0}),tre=Qe("diff",["typed","matrix","subtract","number"],n=>{var{typed:e,matrix:t,subtract:i,number:r}=n;return e("diff",{"Array | Matrix":function(l){return Ei(l)?t(s(l.toArray())):s(l)},"Array | Matrix, number":function(l,u){if(!Ai(u))throw new RangeError("Dimension must be a whole number");return Ei(l)?t(A(l.toArray(),u)):A(l,u)},"Array, BigNumber":e.referTo("Array,number",c=>(l,u)=>c(l,r(u))),"Matrix, BigNumber":e.referTo("Matrix,number",c=>(l,u)=>c(l,r(u)))});function A(c,l){if(Ei(c)&&(c=c.toArray()),!Array.isArray(c))throw RangeError("Array/Matrix does not have that many dimensions");if(l>0){var u=[];return c.forEach(h=>{u.push(A(h,l-1))}),u}if(0===l)return s(c);throw RangeError("Cannot have negative dimension")}function s(c){for(var l=[],u=c.length,h=1;h<u;h++)l.push(o(c[h-1],c[h]));return l}function o(c,l){Ei(c)&&(c=c.toArray()),Ei(l)&&(l=l.toArray());var u=Array.isArray(c),h=Array.isArray(l);if(u&&h)return function a(c,l){if(c.length!==l.length)throw RangeError("Not all sub-arrays have the same length");for(var u=[],h=c.length,g=0;g<h;g++)u.push(o(c[g],l[g]));return u}(c,l);if(!u&&!h)return i(l,c);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}),bKe=Qe("diff",["typed","matrix","subtract","number","bignumber"],n=>{var{typed:e,matrix:t,subtract:i,number:r,bignumber:A}=n,s=tre({typed:e,matrix:t,subtract:i,number:r,bignumber:A});return e("diff",{"...any":function(a){a=zm(a);try{return s.apply(null,a)}catch(c){throw gl(c)}}})},{isTransformFunction:!0}),rre=Qe("min",["typed","config","numeric","smaller"],n=>{var{typed:e,config:t,numeric:i,smaller:r}=n;return e("min",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(a,c){return SF(a,c.valueOf(),A)},"...":function(a){if(ny(a))throw new TypeError("Scalar values expected in function min");return s(a)}});function A(o,a){try{return r(o,a)?o:a}catch(c){throw fl(c,"min",a)}}function s(o){var a;if(Xd(o,function(c){try{isNaN(c)&&"number"==typeof c?a=NaN:(void 0===a||r(c,a))&&(a=c)}catch(l){throw fl(l,"min",c)}}),void 0===a)throw new Error("Cannot calculate min of an empty array");return"string"==typeof a&&(a=i(a,Km(a,t))),a}}),xKe=Qe("min",["typed","config","numeric","smaller"],n=>{var{typed:e,config:t,numeric:i,smaller:r}=n,A=rre({typed:e,config:t,numeric:i,smaller:r});return e("min",{"...any":function(o){o=zm(o);try{return A.apply(null,o)}catch(a){throw gl(a)}}})},{isTransformFunction:!0}),sre=Qe("subset",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:i,add:r}=n;return e("subset",{"Matrix, Index":function(o,a){return $v(a)?t():(lF(o,a),o.subset(a))},"Array, Index":e.referTo("Matrix, Index",function(s){return function(o,a){var c=s(t(o),a);return a.isScalar()?c:c.valueOf()}}),"Object, Index":TKe,"string, Index":RKe,"Matrix, Index, any, any":function(o,a,c,l){return $v(a)?o:(lF(o,a),o.clone().subset(a,function A(s,o){if("string"==typeof s)throw new Error("can't boradcast a string");if(o._isScalar)return s;var a=o.size();if(!a.every(c=>c>0))return s;try{return r(s,i(a))}catch{return s}}(c,a),l))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(s){return function(o,a,c,l){var u=s(t(o),a,c,l);return u.isMatrix?u.valueOf():u}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(o,a,c){return s(t(o),a,c,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(o,a,c){return s(o,a,c,void 0)}}),"string, Index, string":ore,"string, Index, string, string":ore,"Object, Index, any":kKe})});function RKe(n,e){if(!sF(e))throw new TypeError("Index expected");if($v(e))return"";if(lF(Array.from(n),e),1!==e.size().length)throw new Cr(e.size().length,1);var t=n.length;ss(e.min()[0],t),ss(e.max()[0],t);var i=e.dimension(0),r="";return i.forEach(function(A){r+=n.charAt(A)}),r}function ore(n,e,t,i){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if($v(e))return n;if(lF(Array.from(n),e),1!==e.size().length)throw new Cr(e.size().length,1);if(void 0!==i){if("string"!=typeof i||1!==i.length)throw new TypeError("Single character expected as defaultValue")}else i=" ";var r=e.dimension(0);if(r.size()[0]!==t.length)throw new Cr(r.size()[0],t.length);var s=n.length;ss(e.min()[0]),ss(e.max()[0]);for(var o=[],a=0;a<s;a++)o[a]=n.charAt(a);if(r.forEach(function(u,h){o[u]=t.charAt(h[0])}),o.length>s)for(var c=s-1,l=o.length;c<l;c++)o[c]||(o[c]=i);return o.join("")}function TKe(n,e){if(!$v(e)){if(1!==e.size().length)throw new Cr(e.size(),1);var t=e.dimension(0);if("string"!=typeof t)throw new TypeError("String expected as index to retrieve an object property");return ul(n,t)}}function kKe(n,e,t){if($v(e))return n;if(1!==e.size().length)throw new Cr(e.size(),1);var i=e.dimension(0);if("string"!=typeof i)throw new TypeError("String expected as index to retrieve an object property");var r=Hi(n);return Vv(r,i,t),r}var Mre,$d,OKe=Qe("subset",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:i,add:r}=n,A=sre({typed:e,matrix:t,zeros:i,add:r});return e("subset",{"...any":function(o){try{return A.apply(null,o)}catch(a){throw gl(a)}}})},{isTransformFunction:!0}),gB=Qe("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(r,A,s,o){var a=r._values,c=r._index,l=r._ptr,u=r._size,h=r._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d,g=u[0],f=u[1],m=s;"string"==typeof h&&(A=e.convert(A,d=h),m=e.find(s,[d,d]));for(var p=[],I=[],C=[],B=0;B<f;B++){for(var y=B+1,b=l[B+1],S=l[B];S<b;S++){var w=c[S];I[w]=a[S],C[w]=y}for(var M=0;M<g;M++)0===B&&(p[M]=[]),p[M][B]=C[M]===y?o?m(A,I[M]):m(I[M],A):A}return new t({data:p,size:[g,f],datatype:d})}}),hH=Qe("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,A,s){var o=r._values,a=r._index,c=r._ptr,l=r._size,u=r._datatype||void 0===r._data?r._datatype:r.getDataType(),h=A._values,g=A._index,f=A._ptr,d=A._size,m=A._datatype||void 0===A._data?A._datatype:A.getDataType();if(l.length!==d.length)throw new Cr(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var C,p=l[0],I=l[1],B=t,y=0,E=s;"string"==typeof u&&u===m&&"mixed"!==u&&(B=e.find(t,[C=u,C]),y=e.convert(0,C),E=e.find(s,[C,C]));var G,W,k,J,b=o&&h?[]:void 0,S=[],w=[],M=o&&h?[]:void 0,D=o&&h?[]:void 0,T=[],O=[];for(W=0;W<I;W++){w[W]=S.length;var H=W+1;for(J=c[W+1],k=c[W];k<J;k++)S.push(G=a[k]),T[G]=H,M&&(M[G]=o[k]);for(J=f[W+1],k=f[W];k<J;k++)if(T[G=g[k]]===H){if(M){var ue=E(M[G],h[k]);B(ue,y)?T[G]=null:M[G]=ue}}else S.push(G),O[G]=H,D&&(D[G]=h[k]);if(M&&D)for(k=w[W];k<S.length;)T[G=S[k]]===H?(b[k]=M[G],k++):O[G]===H?(b[k]=D[G],k++):S.splice(k,1)}return w[I]=S.length,r.createSparseMatrix({values:b,index:S,ptr:w,size:[p,I],datatype:u===r._datatype&&m===A._datatype?C:void 0})}}),Wm=Qe("matAlgo01xDSid",["typed"],n=>{var{typed:e}=n;return function(i,r,A,s){var o=i._data,a=i._size,c=i._datatype||i.getDataType(),l=r._values,u=r._index,h=r._ptr,g=r._size,f=r._datatype||void 0===r._data?r._datatype:r.getDataType();if(a.length!==g.length)throw new Cr(a.length,g.length);if(a[0]!==g[0]||a[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+g+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var C,B,d=a[0],m=a[1],p="string"==typeof c&&"mixed"!==c&&c===f?c:void 0,I=p?e.find(A,[p,p]):A,y=[];for(C=0;C<d;C++)y[C]=[];var E=[],b=[];for(B=0;B<m;B++){for(var S=B+1,M=h[B+1],D=h[B];D<M;D++)E[C=u[D]]=s?I(l[D],o[C][B]):I(o[C][B],l[D]),b[C]=S;for(C=0;C<d;C++)y[C][B]=b[C]===S?E[C]:o[C][B]}return i.createDenseMatrix({data:y,size:[d,m],datatype:c===i._datatype&&f===r._datatype?p:void 0})}}),cre=Qe("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:r,concat:A}=n,s=Wm({typed:e}),o=hH({typed:e,equalScalar:i}),a=gB({typed:e,DenseMatrix:r});return e("bitOr",{"number, number":Vie,"BigNumber, BigNumber":mKe,"bigint, bigint":(l,u)=>l|u},os({typed:e,matrix:t,concat:A})({SS:o,DS:s,Ss:a}))}),WKe=Qe("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:r,concat:A}=n,s=cre({typed:e,matrix:t,equalScalar:i,DenseMatrix:r,concat:A});function o(a,c,l){var u=a[0].compile().evaluate(l);if(!mg(u)){if(isNaN(u))return NaN;if(-1===u)return-1;if(!0===u)return 1}var h=a[1].compile().evaluate(l);return s(u,h)}return o.rawArgs=!0,o},{isTransformFunction:!0}),LF="cumsum",lre=Qe(LF,["typed","add","unaryPlus"],n=>{var{typed:e,add:t,unaryPlus:i}=n;return e(LF,{Array:r,Matrix:function(c){return c.create(r(c.valueOf(),c.datatype()))},"Array, number | BigNumber":s,"Matrix, number | BigNumber":function(c,l){return c.create(s(c.valueOf(),l),c.datatype())},"...":function(c){if(ny(c))throw new TypeError("All values expected to be scalar in function cumsum");return r(c)}});function r(a){try{return A(a)}catch(c){throw fl(c,LF)}}function A(a){if(0===a.length)return[];for(var c=[i(a[0])],l=1;l<a.length;++l)c.push(t(c[l-1],a[l]));return c}function s(a,c){var l=Ti(a);if(c<0||c>=l.length)throw new Dh(c,l.length);try{return o(a,c)}catch(u){throw fl(u,LF)}}function o(a,c){var l,u,h;if(c<=0){if(Array.isArray(a[0][0])){for(h=Aie(a),u=[],l=0;l<h.length;l++)u[l]=o(h[l],c-1);return u}return A(a)}for(u=[],l=0;l<a.length;l++)u[l]=o(a[l],c-1);return u}}),XKe=Qe("cumsum",["typed","add","unaryPlus"],n=>{var{typed:e,add:t,unaryPlus:i}=n,r=lre({typed:e,add:t,unaryPlus:i});return e("cumsum",{"...any":function(s){if(2===s.length&&mg(s[0])){var o=s[1];ji(o)?s[1]=o-1:Zi(o)&&(s[1]=o.minus(1))}try{return r.apply(null,s)}catch(a){throw gl(a)}}})},{isTransformFunction:!0}),tqe=Qe("index",["Index","getMatrixDataType"],n=>{var{Index:e,getMatrixDataType:t}=n;return function(){for(var r=[],A=0,s=arguments.length;A<s;A++){var o=arguments[A];if(G4(o))o.start--,o.end-=o.step>0?0:2;else if(o&&!0===o.isSet)o=o.map(function(c){return c-1});else if(HA(o)||Ei(o))"boolean"!==t(o)&&(o=o.map(function(c){return c-1}));else if(ji(o))o--;else if(Zi(o))o=o.toNumber()-1;else if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");r[A]=o}var a=new e;return e.apply(a,r),a}},{isTransformFunction:!0}),hre=Qe("sum",["typed","config","add","numeric"],n=>{var{typed:e,config:t,add:i,numeric:r}=n;return e("sum",{"Array | Matrix":A,"Array | Matrix, number | BigNumber":function s(o,a){try{return SF(o,a,i)}catch(l){throw fl(l,"sum")}},"...":function(a){if(ny(a))throw new TypeError("Scalar values expected in function sum");return A(a)}});function A(o){var a;return Xd(o,function(c){try{a=void 0===a?c:i(a,c)}catch(l){throw fl(l,"sum",c)}}),void 0===a&&(a=r(0,t.number)),"string"==typeof a&&(a=r(a,Km(a,t))),a}}),rqe=Qe("sum",["typed","config","add","numeric"],n=>{var{typed:e,config:t,add:i,numeric:r}=n,A=hre({typed:e,config:t,add:i,numeric:r});return e("sum",{"...any":function(o){o=zm(o);try{return A.apply(null,o)}catch(a){throw gl(a)}}})},{isTransformFunction:!0}),pre=Qe("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],n=>{var{typed:e,config:t,matrix:i,bignumber:r,smaller:A,smallerEq:s,larger:o,largerEq:a,add:c,isPositive:l}=n;return e("range",{string:h,"string, boolean":h,"number, number":function(m,p){return u(g(m,p,1,!1))},"number, number, number":function(m,p,I){return u(g(m,p,I,!1))},"number, number, boolean":function(m,p,I){return u(g(m,p,1,I))},"number, number, number, boolean":function(m,p,I,C){return u(g(m,p,I,C))},"BigNumber, BigNumber":function(m,p){return u(g(m,p,new(0,m.constructor)(1),!1))},"BigNumber, BigNumber, BigNumber":function(m,p,I){return u(g(m,p,I,!1))},"BigNumber, BigNumber, boolean":function(m,p,I){return u(g(m,p,new(0,m.constructor)(1),I))},"BigNumber, BigNumber, BigNumber, boolean":function(m,p,I,C){return u(g(m,p,I,C))},"Unit, Unit, Unit":function(m,p,I){return u(g(m,p,I,!1))},"Unit, Unit, Unit, boolean":function(m,p,I,C){return u(g(m,p,I,C))}});function u(d){return"Matrix"===t.matrix?i?i(d):lie():d}function h(d,m){var p=function f(d){var p=d.split(":").map(function(C){return Number(C)});if(p.some(function(C){return isNaN(C)}))return null;switch(p.length){case 2:return{start:p[0],end:p[1],step:1};case 3:return{start:p[0],end:p[2],step:p[1]};default:return null}}(d);if(!p)throw new SyntaxError('String "'+d+'" is no valid range');return"BigNumber"===t.number?(void 0===r&&nH(),u(g(r(p.start),r(p.end),r(p.step)))):u(g(p.start,p.end,p.step,m))}function g(d,m,p,I){for(var C=[],B=l(p)?I?s:A:I?a:o,y=d;B(y,m);)C.push(y),y=c(y,p);return C}}),aqe=Qe("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],n=>{var{typed:e,config:t,matrix:i,bignumber:r,smaller:A,smallerEq:s,larger:o,largerEq:a,add:c,isPositive:l}=n,u=pre({typed:e,config:t,matrix:i,bignumber:r,smaller:A,smallerEq:s,larger:o,largerEq:a,add:c,isPositive:l});return e("range",{"...any":function(g){return"boolean"!=typeof g[g.length-1]&&g.push(!0),u.apply(null,g)}})},{isTransformFunction:!0}),Cre=Qe("row",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:i,range:r}=n;return e("row",{"Matrix, number":A,"Array, number":function(o,a){return A(i(Hi(o)),a).valueOf()}});function A(s,o){if(2!==s.size().length)throw new Error("Only two dimensional matrix is supported");ss(o,s.size()[0]);var a=r(0,s.size()[1]),c=new t(o,a),l=s.subset(c);return Ei(l)?l:i([[l]])}}),gqe=Qe("row",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:i,range:r}=n,A=Cre({typed:e,Index:t,matrix:i,range:r});return e("row",{"...any":function(o){var a=o.length-1,c=o[a];ji(c)&&(o[a]=c-1);try{return A.apply(null,o)}catch(l){throw gl(l)}}})},{isTransformFunction:!0}),Bre=Qe("column",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:i,range:r}=n;return e("column",{"Matrix, number":A,"Array, number":function(o,a){return A(i(Hi(o)),a).valueOf()}});function A(s,o){if(2!==s.size().length)throw new Error("Only two dimensional matrix is supported");ss(o,s.size()[1]);var a=r(0,s.size()[0]),c=new t(a,o),l=s.subset(c);return Ei(l)?l:i([[l]])}}),pqe=Qe("column",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:i,range:r}=n,A=Bre({typed:e,Index:t,matrix:i,range:r});return e("column",{"...any":function(o){var a=o.length-1,c=o[a];ji(c)&&(o[a]=c-1);try{return A.apply(null,o)}catch(l){throw gl(l)}}})},{isTransformFunction:!0}),vre=Qe("mean",["typed","add","divide"],n=>{var{typed:e,add:t,divide:i}=n;return e("mean",{"Array | Matrix":A,"Array | Matrix, number | BigNumber":function r(s,o){try{var a=SF(s,o,t),c=Array.isArray(s)?Ti(s):s.size();return i(a,c[o])}catch(l){throw fl(l,"mean")}},"...":function(o){if(ny(o))throw new TypeError("Scalar values expected in function mean");return A(o)}});function A(s){var o,a=0;if(Xd(s,function(c){try{o=void 0===o?c:t(o,c),a++}catch(l){throw fl(l,"mean",c)}}),0===a)throw new Error("Cannot calculate the mean of an empty array");return i(o,a)}}),Bqe=Qe("mean",["typed","add","divide"],n=>{var{typed:e,add:t,divide:i}=n,r=vre({typed:e,add:t,divide:i});return e("mean",{"...any":function(s){s=zm(s);try{return r.apply(null,s)}catch(o){throw gl(o)}}})},{isTransformFunction:!0}),yre="quantileSeq",Qre=Qe(yre,["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],n=>{var{typed:e,bignumber:t,add:i,subtract:r,divide:A,multiply:s,partitionSelect:o,compare:a,isInteger:c,smaller:l,smallerEq:u,larger:h}=n,g=oH({typed:e,isInteger:c});return e(yre,{"Array | Matrix, number | BigNumber":(I,C)=>d(I,C,!1),"Array | Matrix, number | BigNumber, number":(I,C,B)=>f(I,C,!1,B,d),"Array | Matrix, number | BigNumber, boolean":d,"Array | Matrix, number | BigNumber, boolean, number":(I,C,B,y)=>f(I,C,B,y,d),"Array | Matrix, Array | Matrix":(I,C)=>m(I,C,!1),"Array | Matrix, Array | Matrix, number":(I,C,B)=>f(I,C,!1,B,m),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(I,C,B,y)=>f(I,C,B,y,m)});function f(I,C,B,y,E){return g(I,y,b=>E(b,C,B))}function d(I,C,B){var y,E=I.valueOf();if(l(C,0))throw new Error("N/prob must be non-negative");if(u(C,1))return ji(C)?p(E,C,B):t(p(E,C,B));if(h(C,1)){if(!c(C))throw new Error("N must be a positive integer");if(h(C,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var b=i(C,1);y=[];for(var S=0;l(S,C);S++){var w=A(S+1,b);y.push(p(E,w,B))}return ji(C)?y:t(y)}}function m(I,C,B){for(var y=I.valueOf(),E=C.valueOf(),b=[],S=0;S<E.length;++S)b.push(p(y,E[S],B));return b}function p(I,C,B){var y=tA(I),E=y.length;if(0===E)throw new Error("Cannot calculate quantile of an empty sequence");var M,D,b=ji(C)?C*(E-1):C.times(E-1),S=ji(C)?Math.floor(b):b.floor().toNumber(),w=ji(C)?b%1:b.minus(S);if(c(b))return B?y[b]:o(y,ji(C)?b:b.valueOf());if(B)M=y[S],D=y[S+1];else{D=o(y,S+1),M=y[S];for(var T=0;T<S;++T)a(y[T],M)>0&&(M=y[T])}return i(s(M,r(1,w)),s(D,w))}}),Qqe=Qe("quantileSeq",["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],n=>{var{typed:e,bignumber:t,add:i,subtract:r,divide:A,multiply:s,partitionSelect:o,compare:a,isInteger:c,smaller:l,smallerEq:u,larger:h}=n,g=Qre({typed:e,bignumber:t,add:i,subtract:r,divide:A,multiply:s,partitionSelect:o,compare:a,isInteger:c,smaller:l,smallerEq:u,larger:h});return e("quantileSeq",{"Array | Matrix, number | BigNumber":g,"Array | Matrix, number | BigNumber, number":(d,m,p)=>g(d,m,f(p)),"Array | Matrix, number | BigNumber, boolean":g,"Array | Matrix, number | BigNumber, boolean, number":(d,m,p,I)=>g(d,m,p,f(I)),"Array | Matrix, Array | Matrix":g,"Array | Matrix, Array | Matrix, number":(d,m,p)=>g(d,m,f(p)),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(d,m,p,I)=>g(d,m,p,f(I))});function f(d){return zm([[],d])[1]}},{isTransformFunction:!0}),fH="unbiased",_re=Qe("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],n=>{var{typed:e,add:t,subtract:i,multiply:r,divide:A,apply:s,isNaN:o}=n;return e("variance",{"Array | Matrix":function(u){return a(u,fH)},"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":function(u,h){return c(u,h,fH)},"Array | Matrix, number | BigNumber, string":c,"...":function(u){return a(u,fH)}});function a(l,u){var h,g=0;if(0===l.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Xd(l,function(m){try{h=void 0===h?m:t(h,m),g++}catch(p){throw fl(p,"variance",m)}}),0===g)throw new Error("Cannot calculate variance of an empty array");var f=A(h,g);if(h=void 0,Xd(l,function(m){var p=i(m,f);h=void 0===h?r(p,p):t(h,r(p,p))}),o(h))return h;switch(u){case"uncorrected":return A(h,g);case"biased":return A(h,g+1);case"unbiased":var d=Zi(h)?h.mul(0):0;return 1===g?d:A(h,g-1);default:throw new Error('Unknown normalization "'+u+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(l,u,h){try{if(0===l.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return s(l,u,g=>a(g,h))}catch(g){throw fl(g,"variance")}}}),Dqe=Qe("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],n=>{var{typed:e,add:t,subtract:i,multiply:r,divide:A,apply:s,isNaN:o}=n,a=_re({typed:e,add:t,subtract:i,multiply:r,divide:A,apply:s,isNaN:o});return e("variance",{"...any":function(l){l=zm(l);try{return a.apply(null,l)}catch(u){throw gl(u)}}})},{isTransformFunction:!0}),Sre=Qe("std",["typed","map","sqrt","variance"],n=>{var{typed:e,map:t,sqrt:i,variance:r}=n;return e("std",{"Array | Matrix":A,"Array | Matrix, string":A,"Array | Matrix, number | BigNumber":A,"Array | Matrix, number | BigNumber, string":A,"...":function(o){return A(o)}});function A(s,o){if(0===s.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var a=r.apply(null,arguments);return mg(a)?t(a,i):i(a)}catch(c){throw c instanceof TypeError&&c.message.includes(" variance")?new TypeError(c.message.replace(" variance"," std")):c}}}),Nqe=Qe("std",["typed","map","sqrt","variance"],n=>{var{typed:e,map:t,sqrt:i,variance:r}=n,A=Sre({typed:e,map:t,sqrt:i,variance:r});return e("std",{"...any":function(o){o=zm(o);try{return A.apply(null,o)}catch(a){throw gl(a)}}})},{isTransformFunction:!0}),ry=9e15,jm=1e9,dH="0123456789abcdef",UF="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",OF="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",pH={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ry,maxE:ry,crypto:!1},Ji=!0,GF="[DecimalError] ",Zm=GF+"Invalid argument: ",Nre=GF+"Precision limit exceeded",xre=GF+"crypto unavailable",Fre="[object Decimal]",Mc=Math.floor,ua=Math.pow,xqe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Fqe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Rqe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Rre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nh=1e7,_i=7,kqe=UF.length-1,mH=OF.length-1,ln={toStringTag:Fre};function tc(n){var e,t,i,r=n.length-1,A="",s=n[0];if(r>0){for(A+=s,e=1;e<r;e++)(t=_i-(i=n[e]+"").length)&&(A+=Xm(t)),A+=i;(t=_i-(i=(s=n[e])+"").length)&&(A+=Xm(t))}else if(0===s)return"0";for(;s%10==0;)s/=10;return A+s}function Jl(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Zm+n)}function z1(n,e,t,i){var r,A,s,o;for(A=n[0];A>=10;A/=10)--e;return--e<0?(e+=_i,r=0):(r=Math.ceil((e+1)/_i),e%=_i),A=ua(10,_i-e),o=n[r]%A|0,null==i?e<3?(0==e?o=o/100|0:1==e&&(o=o/10|0),s=t<4&&99999==o||t>3&&49999==o||5e4==o||0==o):s=(t<4&&o+1==A||t>3&&o+1==A/2)&&(n[r+1]/A/100|0)==ua(10,e-2)-1||(o==A/2||0==o)&&!(n[r+1]/A/100|0):e<4?(0==e?o=o/1e3|0:1==e?o=o/100|0:2==e&&(o=o/10|0),s=(i||t<4)&&9999==o||!i&&t>3&&4999==o):s=((i||t<4)&&o+1==A||!i&&t>3&&o+1==A/2)&&(n[r+1]/A/1e3|0)==ua(10,e-3)-1,s}function PF(n,e,t){for(var i,A,r=[0],s=0,o=n.length;s<o;){for(A=r.length;A--;)r[A]*=e;for(r[0]+=dH.indexOf(n.charAt(s++)),i=0;i<r.length;i++)r[i]>t-1&&(void 0===r[i+1]&&(r[i+1]=0),r[i+1]+=r[i]/t|0,r[i]%=t)}return r.reverse()}ln.absoluteValue=ln.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),li(n)},ln.ceil=function(){return li(new this.constructor(this),this.e+1,2)},ln.clampedTo=ln.clamp=function(n,e){var i=this,r=i.constructor;if(n=new r(n),e=new r(e),!n.s||!e.s)return new r(NaN);if(n.gt(e))throw Error(Zm+e);return i.cmp(n)<0?n:i.cmp(e)>0?e:new r(i)},ln.comparedTo=ln.cmp=function(n){var e,t,i,r,A=this,s=A.d,o=(n=new A.constructor(n)).d,a=A.s,c=n.s;if(!s||!o)return a&&c?a!==c?a:s===o?0:!s^a<0?1:-1:NaN;if(!s[0]||!o[0])return s[0]?a:o[0]?-c:0;if(a!==c)return a;if(A.e!==n.e)return A.e>n.e^a<0?1:-1;for(e=0,t=(i=s.length)<(r=o.length)?i:r;e<t;++e)if(s[e]!==o[e])return s[e]>o[e]^a<0?1:-1;return i===r?0:i>r^a<0?1:-1},ln.cosine=ln.cos=function(){var n,e,t=this,i=t.constructor;return t.d?t.d[0]?(e=i.rounding,i.precision=(n=i.precision)+Math.max(t.e,t.sd())+_i,i.rounding=1,t=function Lqe(n,e){var t,i,r;if(e.isZero())return e;(i=e.d.length)<32?r=(1/KF(4,t=Math.ceil(i/3))).toString():(t=16,r="2.3283064365386962890625e-10"),n.precision+=t,e=Ay(n,1,e.times(r),new n(1));for(var A=t;A--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return n.precision-=t,e}(i,Gre(i,t)),i.precision=n,i.rounding=e,li(2==$d||3==$d?t.neg():t,n,e,!0)):new i(1):new i(NaN)},ln.cubeRoot=ln.cbrt=function(){var n,e,t,i,r,A,s,o,a,c,l=this,u=l.constructor;if(!l.isFinite()||l.isZero())return new u(l);for(Ji=!1,(A=l.s*ua(l.s*l,1/3))&&Math.abs(A)!=1/0?i=new u(A.toString()):(t=tc(l.d),(A=((n=l.e)-t.length+1)%3)&&(t+=1==A||-2==A?"0":"00"),A=ua(t,1/3),n=Mc((n+1)/3)-(n%3==(n<0?-1:2)),(i=new u(t=A==1/0?"5e"+n:(t=A.toExponential()).slice(0,t.indexOf("e")+1)+n)).s=l.s),s=(n=u.precision)+3;;)if(c=(a=(o=i).times(o).times(o)).plus(l),i=ds(c.plus(l).times(o),c.plus(a),s+2,1),tc(o.d).slice(0,s)===(t=tc(i.d)).slice(0,s)){if("9999"!=(t=t.slice(s-3,s+1))&&(r||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(li(i,n+1,1),e=!i.times(i).times(i).eq(l));break}if(!r&&(li(o,n+1,0),o.times(o).times(o).eq(l))){i=o;break}s+=4,r=1}return Ji=!0,li(i,n,u.rounding,e)},ln.decimalPlaces=ln.dp=function(){var n,e=this.d,t=NaN;if(e){if(t=((n=e.length-1)-Mc(this.e/_i))*_i,n=e[n])for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t},ln.dividedBy=ln.div=function(n){return ds(this,new this.constructor(n))},ln.dividedToIntegerBy=ln.divToInt=function(n){var t=this.constructor;return li(ds(this,new t(n),0,1,1),t.precision,t.rounding)},ln.equals=ln.eq=function(n){return 0===this.cmp(n)},ln.floor=function(){return li(new this.constructor(this),this.e+1,3)},ln.greaterThan=ln.gt=function(n){return this.cmp(n)>0},ln.greaterThanOrEqualTo=ln.gte=function(n){var e=this.cmp(n);return 1==e||0===e},ln.hyperbolicCosine=ln.cosh=function(){var n,e,t,i,r,A=this,s=A.constructor,o=new s(1);if(!A.isFinite())return new s(A.s?1/0:NaN);if(A.isZero())return o;i=s.rounding,s.precision=(t=s.precision)+Math.max(A.e,A.sd())+4,s.rounding=1,(r=A.d.length)<32?e=(1/KF(4,n=Math.ceil(r/3))).toString():(n=16,e="2.3283064365386962890625e-10"),A=Ay(s,1,A.times(e),new s(1),!0);for(var a,c=n,l=new s(8);c--;)a=A.times(A),A=o.minus(a.times(l.minus(a.times(l))));return li(A,s.precision=t,s.rounding=i,!0)},ln.hyperbolicSine=ln.sinh=function(){var n,e,t,i,r=this,A=r.constructor;if(!r.isFinite()||r.isZero())return new A(r);if(t=A.rounding,A.precision=(e=A.precision)+Math.max(r.e,r.sd())+4,A.rounding=1,(i=r.d.length)<3)r=Ay(A,2,r,r,!0);else{n=1.4*Math.sqrt(i),r=Ay(A,2,r=r.times(1/KF(5,n=n>16?16:0|n)),r,!0);for(var s,o=new A(5),a=new A(16),c=new A(20);n--;)s=r.times(r),r=r.times(o.plus(s.times(a.times(s).plus(c))))}return A.precision=e,A.rounding=t,li(r,e,t,!0)},ln.hyperbolicTangent=ln.tanh=function(){var n,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.rounding,i.precision=(n=i.precision)+7,i.rounding=1,ds(t.sinh(),t.cosh(),i.precision=n,i.rounding=e)):new i(t.s)},ln.inverseCosine=ln.acos=function(){var n,e=this,t=e.constructor,i=e.abs().cmp(1),r=t.precision,A=t.rounding;return-1!==i?0===i?e.isNeg()?xh(t,r,A):new t(0):new t(NaN):e.isZero()?xh(t,r+4,A).times(.5):(t.precision=r+6,t.rounding=1,e=e.asin(),n=xh(t,r+4,A).times(.5),t.precision=r,t.rounding=A,n.minus(e))},ln.inverseHyperbolicCosine=ln.acosh=function(){var n,e,t=this,i=t.constructor;return t.lte(1)?new i(t.eq(1)?0:NaN):t.isFinite()?(e=i.rounding,i.precision=(n=i.precision)+Math.max(Math.abs(t.e),t.sd())+4,i.rounding=1,Ji=!1,t=t.times(t).minus(1).sqrt().plus(t),Ji=!0,i.precision=n,i.rounding=e,t.ln()):new i(t)},ln.inverseHyperbolicSine=ln.asinh=function(){var n,e,t=this,i=t.constructor;return!t.isFinite()||t.isZero()?new i(t):(e=i.rounding,i.precision=(n=i.precision)+2*Math.max(Math.abs(t.e),t.sd())+6,i.rounding=1,Ji=!1,t=t.times(t).plus(1).sqrt().plus(t),Ji=!0,i.precision=n,i.rounding=e,t.ln())},ln.inverseHyperbolicTangent=ln.atanh=function(){var n,e,t,i,r=this,A=r.constructor;return r.isFinite()?r.e>=0?new A(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(n=A.precision,e=A.rounding,i=r.sd(),Math.max(i,n)<2*-r.e-1?li(new A(r),n,e,!0):(A.precision=t=i-r.e,r=ds(r.plus(1),new A(1).minus(r),t+n,1),A.precision=n+4,A.rounding=1,r=r.ln(),A.precision=n,A.rounding=e,r.times(.5))):new A(NaN)},ln.inverseSine=ln.asin=function(){var n,e,t,i,r=this,A=r.constructor;return r.isZero()?new A(r):(e=r.abs().cmp(1),t=A.precision,i=A.rounding,-1!==e?0===e?((n=xh(A,t+4,i).times(.5)).s=r.s,n):new A(NaN):(A.precision=t+6,A.rounding=1,r=r.div(new A(1).minus(r.times(r)).sqrt().plus(1)).atan(),A.precision=t,A.rounding=i,r.times(2)))},ln.inverseTangent=ln.atan=function(){var n,e,t,i,r,A,s,o,a,c=this,l=c.constructor,u=l.precision,h=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&u+4<=mH)return(s=xh(l,u+4,h).times(.25)).s=c.s,s}else{if(!c.s)return new l(NaN);if(u+4<=mH)return(s=xh(l,u+4,h).times(.5)).s=c.s,s}for(l.precision=o=u+10,l.rounding=1,n=t=Math.min(28,o/_i+2|0);n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Ji=!1,e=Math.ceil(o/_i),i=1,a=c.times(c),s=new l(c),r=c;-1!==n;)if(r=r.times(a),A=s.minus(r.div(i+=2)),r=r.times(a),void 0!==(s=A.plus(r.div(i+=2))).d[e])for(n=e;s.d[n]===A.d[n]&&n--;);return t&&(s=s.times(2<<t-1)),Ji=!0,li(s,l.precision=u,l.rounding=h,!0)},ln.isFinite=function(){return!!this.d},ln.isInteger=ln.isInt=function(){return!!this.d&&Mc(this.e/_i)>this.d.length-2},ln.isNaN=function(){return!this.s},ln.isNegative=ln.isNeg=function(){return this.s<0},ln.isPositive=ln.isPos=function(){return this.s>0},ln.isZero=function(){return!!this.d&&0===this.d[0]},ln.lessThan=ln.lt=function(n){return this.cmp(n)<0},ln.lessThanOrEqualTo=ln.lte=function(n){return this.cmp(n)<1},ln.logarithm=ln.log=function(n){var e,t,i,r,A,s,o,a,c=this,l=c.constructor,u=l.precision,h=l.rounding;if(null==n)n=new l(10),e=!0;else{if(t=(n=new l(n)).d,n.s<0||!t||!t[0]||n.eq(1))return new l(NaN);e=n.eq(10)}if(t=c.d,c.s<0||!t||!t[0]||c.eq(1))return new l(t&&!t[0]?-1/0:1!=c.s?NaN:t?0:1/0);if(e)if(t.length>1)A=!0;else{for(r=t[0];r%10==0;)r/=10;A=1!==r}if(Ji=!1,s=$m(c,o=u+5),i=e?YF(l,o+10):$m(n,o),z1((a=ds(s,i,o,1)).d,r=u,h))do{if(s=$m(c,o+=10),i=e?YF(l,o+10):$m(n,o),a=ds(s,i,o,1),!A){+tc(a.d).slice(r+1,r+15)+1==1e14&&(a=li(a,u+1,0));break}}while(z1(a.d,r+=10,h));return Ji=!0,li(a,u,h)},ln.minus=ln.sub=function(n){var e,t,i,r,A,s,o,a,c,l,u,h,g=this,f=g.constructor;if(n=new f(n),!g.d||!n.d)return g.s&&n.s?g.d?n.s=-n.s:n=new f(n.d||g.s!==n.s?g:NaN):n=new f(NaN),n;if(g.s!=n.s)return n.s=-n.s,g.plus(n);if(h=n.d,o=f.precision,a=f.rounding,!(c=g.d)[0]||!h[0]){if(h[0])n.s=-n.s;else{if(!c[0])return new f(3===a?-0:0);n=new f(g)}return Ji?li(n,o,a):n}if(t=Mc(n.e/_i),l=Mc(g.e/_i),c=c.slice(),A=l-t){for((u=A<0)?(e=c,A=-A,s=h.length):(e=h,t=l,s=c.length),A>(i=Math.max(Math.ceil(o/_i),s)+2)&&(A=i,e.length=1),e.reverse(),i=A;i--;)e.push(0);e.reverse()}else{for((u=(i=c.length)<(s=h.length))&&(s=i),i=0;i<s;i++)if(c[i]!=h[i]){u=c[i]<h[i];break}A=0}for(u&&(e=c,c=h,h=e,n.s=-n.s),i=h.length-(s=c.length);i>0;--i)c[s++]=0;for(i=h.length;i>A;){if(c[--i]<h[i]){for(r=i;r&&0===c[--r];)c[r]=Nh-1;--c[r],c[i]+=Nh}c[i]-=h[i]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--t;return c[0]?(n.d=c,n.e=HF(c,t),Ji?li(n,o,a):n):new f(3===a?-0:0)},ln.modulo=ln.mod=function(n){var e,t=this,i=t.constructor;return n=new i(n),!t.d||!n.s||n.d&&!n.d[0]?new i(NaN):!n.d||t.d&&!t.d[0]?li(new i(t),i.precision,i.rounding):(Ji=!1,9==i.modulo?(e=ds(t,n.abs(),0,3,1)).s*=n.s:e=ds(t,n,0,i.modulo,1),e=e.times(n),Ji=!0,t.minus(e))},ln.naturalExponential=ln.exp=function(){return CH(this)},ln.naturalLogarithm=ln.ln=function(){return $m(this)},ln.negated=ln.neg=function(){var n=new this.constructor(this);return n.s=-n.s,li(n)},ln.plus=ln.add=function(n){var e,t,i,r,A,s,o,a,c,l,u=this,h=u.constructor;if(n=new h(n),!u.d||!n.d)return u.s&&n.s?u.d||(n=new h(n.d||u.s===n.s?u:NaN)):n=new h(NaN),n;if(u.s!=n.s)return n.s=-n.s,u.minus(n);if(l=n.d,o=h.precision,a=h.rounding,!(c=u.d)[0]||!l[0])return l[0]||(n=new h(u)),Ji?li(n,o,a):n;if(A=Mc(u.e/_i),i=Mc(n.e/_i),c=c.slice(),r=A-i){for(r<0?(t=c,r=-r,s=l.length):(t=l,i=A,s=c.length),r>(s=(A=Math.ceil(o/_i))>s?A+1:s+1)&&(r=s,t.length=1),t.reverse();r--;)t.push(0);t.reverse()}for((s=c.length)-(r=l.length)<0&&(r=s,t=l,l=c,c=t),e=0;r;)e=(c[--r]=c[r]+l[r]+e)/Nh|0,c[r]%=Nh;for(e&&(c.unshift(e),++i),s=c.length;0==c[--s];)c.pop();return n.d=c,n.e=HF(c,i),Ji?li(n,o,a):n},ln.precision=ln.sd=function(n){var e,t=this;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(Zm+n);return t.d?(e=Tre(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e},ln.round=function(){var n=this,e=n.constructor;return li(new e(n),n.e+1,e.rounding)},ln.sine=ln.sin=function(){var n,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.rounding,i.precision=(n=i.precision)+Math.max(t.e,t.sd())+_i,i.rounding=1,t=function Oqe(n,e){var t,i=e.d.length;if(i<3)return e.isZero()?e:Ay(n,2,e,e);t=1.4*Math.sqrt(i),e=Ay(n,2,e=e.times(1/KF(5,t=t>16?16:0|t)),e);for(var r,A=new n(5),s=new n(16),o=new n(20);t--;)r=e.times(e),e=e.times(A.plus(r.times(s.times(r).minus(o))));return e}(i,Gre(i,t)),i.precision=n,i.rounding=e,li($d>2?t.neg():t,n,e,!0)):new i(NaN)},ln.squareRoot=ln.sqrt=function(){var n,e,t,i,r,A,s=this,o=s.d,a=s.e,c=s.s,l=s.constructor;if(1!==c||!o||!o[0])return new l(!c||c<0&&(!o||o[0])?NaN:o?s:1/0);for(Ji=!1,0==(c=Math.sqrt(+s))||c==1/0?(((e=tc(o)).length+a)%2==0&&(e+="0"),c=Math.sqrt(e),a=Mc((a+1)/2)-(a<0||a%2),i=new l(e=c==1/0?"5e"+a:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+a)):i=new l(c.toString()),t=(a=l.precision)+3;;)if(i=(A=i).plus(ds(s,A,t+2,1)).times(.5),tc(A.d).slice(0,t)===(e=tc(i.d)).slice(0,t)){if("9999"!=(e=e.slice(t-3,t+1))&&(r||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(li(i,a+1,1),n=!i.times(i).eq(s));break}if(!r&&(li(A,a+1,0),A.times(A).eq(s))){i=A;break}t+=4,r=1}return Ji=!0,li(i,a,l.rounding,n)},ln.tangent=ln.tan=function(){var n,e,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.rounding,i.precision=(n=i.precision)+10,i.rounding=1,(t=t.sin()).s=1,t=ds(t,new i(1).minus(t.times(t)).sqrt(),n+10,0),i.precision=n,i.rounding=e,li(2==$d||4==$d?t.neg():t,n,e,!0)):new i(NaN)},ln.times=ln.mul=function(n){var e,t,i,r,A,s,o,a,c,l=this,u=l.constructor,h=l.d,g=(n=new u(n)).d;if(n.s*=l.s,!(h&&h[0]&&g&&g[0]))return new u(!n.s||h&&!h[0]&&!g||g&&!g[0]&&!h?NaN:h&&g?0*n.s:n.s/0);for(t=Mc(l.e/_i)+Mc(n.e/_i),(a=h.length)<(c=g.length)&&(A=h,h=g,g=A,s=a,a=c,c=s),A=[],i=s=a+c;i--;)A.push(0);for(i=c;--i>=0;){for(e=0,r=a+i;r>i;)o=A[r]+g[i]*h[r-i-1]+e,A[r--]=o%Nh|0,e=o/Nh|0;A[r]=(A[r]+e)%Nh|0}for(;!A[--s];)A.pop();return e?++t:A.shift(),n.d=A,n.e=HF(A,t),Ji?li(n,u.precision,u.rounding):n},ln.toBinary=function(n,e){return BH(this,2,n,e)},ln.toDecimalPlaces=ln.toDP=function(n,e){var t=this,i=t.constructor;return t=new i(t),void 0===n?t:(Jl(n,0,jm),void 0===e?e=i.rounding:Jl(e,0,8),li(t,n+t.e+1,e))},ln.toExponential=function(n,e){var t,i=this,r=i.constructor;return void 0===n?t=Mf(i,!0):(Jl(n,0,jm),void 0===e?e=r.rounding:Jl(e,0,8),t=Mf(i=li(new r(i),n+1,e),!0,n+1)),i.isNeg()&&!i.isZero()?"-"+t:t},ln.toFixed=function(n,e){var t,i,r=this,A=r.constructor;return void 0===n?t=Mf(r):(Jl(n,0,jm),void 0===e?e=A.rounding:Jl(e,0,8),t=Mf(i=li(new A(r),n+r.e+1,e),!1,n+i.e+1)),r.isNeg()&&!r.isZero()?"-"+t:t},ln.toFraction=function(n){var e,t,i,r,A,s,o,a,c,l,u,h,g=this,f=g.d,d=g.constructor;if(!f)return new d(g);if(c=t=new d(1),i=a=new d(0),A=(e=new d(i)).e=Tre(f)-g.e-1,e.d[0]=ua(10,(s=A%_i)<0?_i+s:s),null==n)n=A>0?e:c;else{if(!(o=new d(n)).isInt()||o.lt(c))throw Error(Zm+o);n=o.gt(e)?A>0?e:c:o}for(Ji=!1,o=new d(tc(f)),l=d.precision,d.precision=A=f.length*_i*2;u=ds(o,e,0,1,1),1!=(r=t.plus(u.times(i))).cmp(n);)t=i,i=r,c=a.plus(u.times(r=c)),a=r,e=o.minus(u.times(r=e)),o=r;return r=ds(n.minus(t),i,0,1,1),a=a.plus(r.times(c)),t=t.plus(r.times(i)),a.s=c.s=g.s,h=ds(c,i,A,1).minus(g).abs().cmp(ds(a,t,A,1).minus(g).abs())<1?[c,i]:[a,t],d.precision=l,Ji=!0,h},ln.toHexadecimal=ln.toHex=function(n,e){return BH(this,16,n,e)},ln.toNearest=function(n,e){var t=this,i=t.constructor;if(t=new i(t),null==n){if(!t.d)return t;n=new i(1),e=i.rounding}else{if(n=new i(n),void 0===e?e=i.rounding:Jl(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(Ji=!1,t=ds(t,n,0,e,1).times(n),Ji=!0,li(t)):(n.s=t.s,t=n),t},ln.toNumber=function(){return+this},ln.toOctal=function(n,e){return BH(this,8,n,e)},ln.toPower=ln.pow=function(n){var e,t,i,r,A,s,o=this,a=o.constructor,c=+(n=new a(n));if(!(o.d&&n.d&&o.d[0]&&n.d[0]))return new a(ua(+o,c));if((o=new a(o)).eq(1))return o;if(i=a.precision,A=a.rounding,n.eq(1))return li(o,i,A);if((e=Mc(n.e/_i))>=n.d.length-1&&(t=c<0?-c:c)<=9007199254740991)return r=kre(a,o,t,i),n.s<0?new a(1).div(r):li(r,i,A);if((s=o.s)<0){if(e<n.d.length-1)return new a(NaN);if(1&n.d[e]||(s=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=s,o}return(e=0!=(t=ua(+o,c))&&isFinite(t)?new a(t+"").e:Mc(c*(Math.log("0."+tc(o.d))/Math.LN10+o.e+1)))>a.maxE+1||e<a.minE-1?new a(e>0?s/0:0):(Ji=!1,a.rounding=o.s=1,t=Math.min(12,(e+"").length),(r=CH(n.times($m(o,i+t)),i)).d&&z1((r=li(r,i+5,1)).d,i,A)&&+tc((r=li(CH(n.times($m(o,(e=i+10)+t)),e),e+5,1)).d).slice(i+1,i+15)+1==1e14&&(r=li(r,i+1,0)),r.s=s,Ji=!0,a.rounding=A,li(r,i,A))},ln.toPrecision=function(n,e){var t,i=this,r=i.constructor;return void 0===n?t=Mf(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(Jl(n,1,jm),void 0===e?e=r.rounding:Jl(e,0,8),t=Mf(i=li(new r(i),n,e),n<=i.e||i.e<=r.toExpNeg,n)),i.isNeg()&&!i.isZero()?"-"+t:t},ln.toSignificantDigits=ln.toSD=function(n,e){var i=this.constructor;return void 0===n?(n=i.precision,e=i.rounding):(Jl(n,1,jm),void 0===e?e=i.rounding:Jl(e,0,8)),li(new i(this),n,e)},ln.toString=function(){var n=this,e=n.constructor,t=Mf(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t},ln.truncated=ln.trunc=function(){return li(new this.constructor(this),this.e+1,1)},ln.valueOf=ln.toJSON=function(){var n=this,e=n.constructor,t=Mf(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};var ds=function(){function n(i,r,A){var s,o=0,a=i.length;for(i=i.slice();a--;)i[a]=(s=i[a]*r+o)%A|0,o=s/A|0;return o&&i.unshift(o),i}function e(i,r,A,s){var o,a;if(A!=s)a=A>s?1:-1;else for(o=a=0;o<A;o++)if(i[o]!=r[o]){a=i[o]>r[o]?1:-1;break}return a}function t(i,r,A,s){for(var o=0;A--;)i[A]-=o,i[A]=(o=i[A]<r[A]?1:0)*s+i[A]-r[A];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,A,s,o,a){var c,l,u,h,g,f,d,m,p,I,C,B,y,E,b,S,w,M,D,T,O=i.constructor,G=i.s==r.s?1:-1,W=i.d,k=r.d;if(!(W&&W[0]&&k&&k[0]))return new O(i.s&&r.s&&(W?!k||W[0]!=k[0]:k)?W&&0==W[0]||!k?0*G:G/0:NaN);for(a?(g=1,l=i.e-r.e):(a=Nh,l=Mc(i.e/(g=_i))-Mc(r.e/g)),D=k.length,w=W.length,I=(p=new O(G)).d=[],u=0;k[u]==(W[u]||0);u++);if(k[u]>(W[u]||0)&&l--,null==A?(E=A=O.precision,s=O.rounding):E=o?A+(i.e-r.e)+1:A,E<0)I.push(1),f=!0;else{if(E=E/g+2|0,u=0,1==D){for(h=0,k=k[0],E++;(u<w||h)&&E--;u++)I[u]=(b=h*a+(W[u]||0))/k|0,h=b%k|0;f=h||u<w}else{for((h=a/(k[0]+1)|0)>1&&(k=n(k,h,a),W=n(W,h,a),D=k.length,w=W.length),S=D,B=(C=W.slice(0,D)).length;B<D;)C[B++]=0;(T=k.slice()).unshift(0),M=k[0],k[1]>=a/2&&++M;do{h=0,(c=e(k,C,D,B))<0?(y=C[0],D!=B&&(y=y*a+(C[1]||0)),(h=y/M|0)>1?(h>=a&&(h=a-1),1==(c=e(d=n(k,h,a),C,m=d.length,B=C.length))&&(h--,t(d,D<m?T:k,m,a))):(0==h&&(c=h=1),d=k.slice()),(m=d.length)<B&&d.unshift(0),t(C,d,B,a),-1==c&&(c=e(k,C,D,B=C.length))<1&&(h++,t(C,D<B?T:k,B,a)),B=C.length):0===c&&(h++,C=[0]),I[u++]=h,c&&C[0]?C[B++]=W[S]||0:(C=[W[S]],B=1)}while((S++<w||void 0!==C[0])&&E--);f=void 0!==C[0]}I[0]||I.shift()}if(1==g)p.e=l,Mre=f;else{for(u=1,h=I[0];h>=10;h/=10)u++;p.e=u+l*g-1,li(p,o?A+p.e+1:A,s,f)}return p}}();function li(n,e,t,i){var r,A,s,o,a,c,l,u,h,g=n.constructor;e:if(null!=e){if(!(u=n.d))return n;for(r=1,o=u[0];o>=10;o/=10)r++;if((A=e-r)<0)A+=_i,a=(l=u[h=0])/ua(10,r-(s=e)-1)%10|0;else if((h=Math.ceil((A+1)/_i))>=(o=u.length)){if(!i)break e;for(;o++<=h;)u.push(0);l=a=0,r=1,s=(A%=_i)-_i+1}else{for(l=o=u[h],r=1;o>=10;o/=10)r++;a=(s=(A%=_i)-_i+r)<0?0:l/ua(10,r-s-1)%10|0}if(i=i||e<0||void 0!==u[h+1]||(s<0?l:l%ua(10,r-s-1)),c=t<4?(a||i)&&(0==t||t==(n.s<0?3:2)):a>5||5==a&&(4==t||i||6==t&&(A>0?s>0?l/ua(10,r-s):0:u[h-1])%10&1||t==(n.s<0?8:7)),e<1||!u[0])return u.length=0,c?(u[0]=ua(10,(_i-(e-=n.e+1)%_i)%_i),n.e=-e||0):u[0]=n.e=0,n;if(0==A?(u.length=h,o=1,h--):(u.length=h+1,o=ua(10,_i-A),u[h]=s>0?(l/ua(10,r-s)%ua(10,s)|0)*o:0),c)for(;;){if(0==h){for(A=1,s=u[0];s>=10;s/=10)A++;for(s=u[0]+=o,o=1;s>=10;s/=10)o++;A!=o&&(n.e++,u[0]==Nh&&(u[0]=1));break}if(u[h]+=o,u[h]!=Nh)break;u[h--]=0,o=1}for(A=u.length;0===u[--A];)u.pop()}return Ji&&(n.e>g.maxE?(n.d=null,n.e=NaN):n.e<g.minE&&(n.e=0,n.d=[0])),n}function Mf(n,e,t){if(!n.isFinite())return Ore(n);var i,r=n.e,A=tc(n.d),s=A.length;return e?(t&&(i=t-s)>0?A=A.charAt(0)+"."+A.slice(1)+Xm(i):s>1&&(A=A.charAt(0)+"."+A.slice(1)),A=A+(n.e<0?"e":"e+")+n.e):r<0?(A="0."+Xm(-r-1)+A,t&&(i=t-s)>0&&(A+=Xm(i))):r>=s?(A+=Xm(r+1-s),t&&(i=t-r-1)>0&&(A=A+"."+Xm(i))):((i=r+1)<s&&(A=A.slice(0,i)+"."+A.slice(i)),t&&(i=t-s)>0&&(r+1===s&&(A+="."),A+=Xm(i))),A}function HF(n,e){var t=n[0];for(e*=_i;t>=10;t/=10)e++;return e}function YF(n,e,t){if(e>kqe)throw Ji=!0,t&&(n.precision=t),Error(Nre);return li(new n(UF),e,1,!0)}function xh(n,e,t){if(e>mH)throw Error(Nre);return li(new n(OF),e,t,!0)}function Tre(n){var e=n.length-1,t=e*_i+1;if(e=n[e]){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function Xm(n){for(var e="";n--;)e+="0";return e}function kre(n,e,t,i){var r,A=new n(1),s=Math.ceil(i/_i+4);for(Ji=!1;;){if(t%2&&Pre((A=A.times(e)).d,s)&&(r=!0),0===(t=Mc(t/2))){t=A.d.length-1,r&&0===A.d[t]&&++A.d[t];break}Pre((e=e.times(e)).d,s)}return Ji=!0,A}function Lre(n){return 1&n.d[n.d.length-1]}function Ure(n,e,t){for(var i,r=new n(e[0]),A=0;++A<e.length;){if(!(i=new n(e[A])).s){r=i;break}r[t](i)&&(r=i)}return r}function CH(n,e){var t,i,r,A,s,o,a,c=0,l=0,u=0,h=n.constructor,g=h.rounding,f=h.precision;if(!n.d||!n.d[0]||n.e>17)return new h(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==e?(Ji=!1,a=f):a=e,o=new h(.03125);n.e>-2;)n=n.times(o),u+=5;for(a+=i=Math.log(ua(2,u))/Math.LN10*2+5|0,t=A=s=new h(1),h.precision=a;;){if(A=li(A.times(n),a,1),t=t.times(++l),tc((o=s.plus(ds(A,t,a,1))).d).slice(0,a)===tc(s.d).slice(0,a)){for(r=u;r--;)s=li(s.times(s),a,1);if(null!=e)return h.precision=f,s;if(!(c<3&&z1(s.d,a-i,g,c)))return li(s,h.precision=f,g,Ji=!0);h.precision=a+=10,t=A=o=new h(1),l=0,c++}s=o}}function $m(n,e){var t,i,r,A,s,o,a,c,l,u,h,g=1,d=n,m=d.d,p=d.constructor,I=p.rounding,C=p.precision;if(d.s<0||!m||!m[0]||!d.e&&1==m[0]&&1==m.length)return new p(m&&!m[0]?-1/0:1!=d.s?NaN:m?0:d);if(null==e?(Ji=!1,l=C):l=e,p.precision=l+=10,i=(t=tc(m)).charAt(0),!(Math.abs(A=d.e)<15e14))return c=YF(p,l+2,C).times(A+""),d=$m(new p(i+"."+t.slice(1)),l-10).plus(c),p.precision=C,null==e?li(d,C,I,Ji=!0):d;for(;i<7&&1!=i||1==i&&t.charAt(1)>3;)i=(t=tc((d=d.times(n)).d)).charAt(0),g++;for(A=d.e,i>1?(d=new p("0."+t),A++):d=new p(i+"."+t.slice(1)),u=d,a=s=d=ds(d.minus(1),d.plus(1),l,1),h=li(d.times(d),l,1),r=3;;){if(s=li(s.times(h),l,1),tc((c=a.plus(ds(s,new p(r),l,1))).d).slice(0,l)===tc(a.d).slice(0,l)){if(a=a.times(2),0!==A&&(a=a.plus(YF(p,l+2,C).times(A+""))),a=ds(a,new p(g),l,1),null!=e)return p.precision=C,a;if(!z1(a.d,l-10,I,o))return li(a,p.precision=C,I,Ji=!0);p.precision=l+=10,c=s=d=ds(u.minus(1),u.plus(1),l,1),h=li(d.times(d),l,1),r=o=1}a=c,r+=2}}function Ore(n){return String(n.s*n.s/0)}function IH(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;48===e.charCodeAt(i);i++);for(r=e.length;48===e.charCodeAt(r-1);--r);if(e=e.slice(i,r)){if(r-=i,n.e=t=t-i-1,n.d=[],i=(t+1)%_i,t<0&&(i+=_i),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=_i;i<r;)n.d.push(+e.slice(i,i+=_i));e=e.slice(i),i=_i-e.length}else i-=r;for(;i--;)e+="0";n.d.push(+e),Ji&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function Ay(n,e,t,i,r){var A,s,o,a,l=n.precision,u=Math.ceil(l/_i);for(Ji=!1,a=t.times(t),o=new n(i);;){if(s=ds(o.times(a),new n(e++*e++),l,1),o=r?i.plus(s):i.minus(s),i=ds(s.times(a),new n(e++*e++),l,1),void 0!==(s=o.plus(i)).d[u]){for(A=u;s.d[A]===o.d[A]&&A--;);if(-1==A)break}A=o,o=i,i=s,s=A}return Ji=!0,s.d.length=u+1,s}function KF(n,e){for(var t=n;--e;)t*=n;return t}function Gre(n,e){var t,i=e.s<0,r=xh(n,n.precision,1),A=r.times(.5);if((e=e.abs()).lte(A))return $d=i?4:1,e;if((t=e.divToInt(r)).isZero())$d=i?3:2;else{if((e=e.minus(t.times(r))).lte(A))return $d=Lre(t)?i?2:3:i?4:1,e;$d=Lre(t)?i?1:4:i?3:2}return e.minus(r).abs()}function BH(n,e,t,i){var r,A,s,o,a,c,l,u,h,g=n.constructor,f=void 0!==t;if(f?(Jl(t,1,jm),void 0===i?i=g.rounding:Jl(i,0,8)):(t=g.precision,i=g.rounding),n.isFinite()){for(f?(r=2,16==e?t=4*t-3:8==e&&(t=3*t-2)):r=e,(s=(l=Mf(n)).indexOf("."))>=0&&(l=l.replace(".",""),(h=new g(1)).e=l.length-s,h.d=PF(Mf(h),10,r),h.e=h.d.length),A=a=(u=PF(l,10,r)).length;0==u[--a];)u.pop();if(u[0]){if(s<0?A--:((n=new g(n)).d=u,n.e=A,u=(n=ds(n,h,t,i,0,r)).d,A=n.e,c=Mre),s=u[t],o=r/2,c=c||void 0!==u[t+1],c=i<4?(void 0!==s||c)&&(0===i||i===(n.s<0?3:2)):s>o||s===o&&(4===i||c||6===i&&1&u[t-1]||i===(n.s<0?8:7)),u.length=t,c)for(;++u[--t]>r-1;)u[t]=0,t||(++A,u.unshift(1));for(a=u.length;!u[a-1];--a);for(s=0,l="";s<a;s++)l+=dH.charAt(u[s]);if(f){if(a>1)if(16==e||8==e){for(s=16==e?4:3,--a;a%s;a++)l+="0";for(a=(u=PF(l,r,e)).length;!u[a-1];--a);for(s=1,l="1.";s<a;s++)l+=dH.charAt(u[s])}else l=l.charAt(0)+"."+l.slice(1);l=l+(A<0?"p":"p+")+A}else if(A<0){for(;++A;)l="0"+l;l="0."+l}else if(++A>a)for(A-=a;A--;)l+="0";else A<a&&(l=l.slice(0,A)+"."+l.slice(A))}else l=f?"0p+0":"0";l=(16==e?"0x":2==e?"0b":8==e?"0o":"")+l}else l=Ore(n);return n.s<0?"-"+l:l}function Pre(n,e){if(n.length>e)return n.length=e,!0}function Gqe(n){return new this(n).abs()}function Pqe(n){return new this(n).acos()}function Hqe(n){return new this(n).acosh()}function Yqe(n,e){return new this(n).plus(e)}function Kqe(n){return new this(n).asin()}function qqe(n){return new this(n).asinh()}function Jqe(n){return new this(n).atan()}function Vqe(n){return new this(n).atanh()}function zqe(n,e){n=new this(n),e=new this(e);var t,i=this.precision,r=this.rounding,A=i+4;return n.s&&e.s?n.d||e.d?!e.d||n.isZero()?(t=e.s<0?xh(this,i,r):new this(0)).s=n.s:!n.d||e.isZero()?(t=xh(this,A,1).times(.5)).s=n.s:e.s<0?(this.precision=A,this.rounding=1,t=this.atan(ds(n,e,A,1)),e=xh(this,A,1),this.precision=i,this.rounding=r,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(ds(n,e,A,1)):(t=xh(this,A,1).times(e.s>0?.25:.75)).s=n.s:t=new this(NaN),t}function Wqe(n){return new this(n).cbrt()}function jqe(n){return li(n=new this(n),n.e+1,2)}function Zqe(n,e,t){return new this(n).clamp(e,t)}function Xqe(n){if(!n||"object"!=typeof n)throw Error(GF+"Object expected");var e,t,i,r=!0===n.defaults,A=["precision",1,jm,"rounding",0,8,"toExpNeg",-ry,0,"toExpPos",0,ry,"maxE",0,ry,"minE",-ry,0,"modulo",0,9];for(e=0;e<A.length;e+=3)if(t=A[e],r&&(this[t]=pH[t]),void 0!==(i=n[t])){if(!(Mc(i)===i&&i>=A[e+1]&&i<=A[e+2]))throw Error(Zm+t+": "+i);this[t]=i}if(t="crypto",r&&(this[t]=pH[t]),void 0!==(i=n[t])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(Zm+t+": "+i);if(i){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(xre);this[t]=!0}else this[t]=!1}return this}function $qe(n){return new this(n).cos()}function eJe(n){return new this(n).cosh()}function tJe(n,e){return new this(n).div(e)}function nJe(n){return new this(n).exp()}function iJe(n){return li(n=new this(n),n.e+1,3)}function rJe(){var n,e,t=new this(0);for(Ji=!1,n=0;n<arguments.length;)if((e=new this(arguments[n++])).d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Ji=!0,new this(1/0);t=e}return Ji=!0,t.sqrt()}function Yre(n){return n instanceof W1||n&&n.toStringTag===Fre||!1}function AJe(n){return new this(n).ln()}function sJe(n,e){return new this(n).log(e)}function oJe(n){return new this(n).log(2)}function aJe(n){return new this(n).log(10)}function cJe(){return Ure(this,arguments,"lt")}function lJe(){return Ure(this,arguments,"gt")}function uJe(n,e){return new this(n).mod(e)}function gJe(n,e){return new this(n).mul(e)}function hJe(n,e){return new this(n).pow(e)}function fJe(n){var e,t,i,r,A=0,s=new this(1),o=[];if(void 0===n?n=this.precision:Jl(n,1,jm),i=Math.ceil(n/_i),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));A<i;)(r=e[A])>=429e7?e[A]=crypto.getRandomValues(new Uint32Array(1))[0]:o[A++]=r%1e7;else{if(!crypto.randomBytes)throw Error(xre);for(e=crypto.randomBytes(i*=4);A<i;)(r=e[A]+(e[A+1]<<8)+(e[A+2]<<16)+((127&e[A+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,A):(o.push(r%1e7),A+=4);A=i/4}else for(;A<i;)o[A++]=1e7*Math.random()|0;for(i=o[--A],n%=_i,i&&n&&(r=ua(10,_i-n),o[A]=(i/r|0)*r);0===o[A];A--)o.pop();if(A<0)t=0,o=[0];else{for(t=-1;0===o[0];t-=_i)o.shift();for(i=1,r=o[0];r>=10;r/=10)i++;i<_i&&(t-=_i-i)}return s.e=t,s.d=o,s}function dJe(n){return li(n=new this(n),n.e+1,this.rounding)}function pJe(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function mJe(n){return new this(n).sin()}function CJe(n){return new this(n).sinh()}function IJe(n){return new this(n).sqrt()}function BJe(n,e){return new this(n).sub(e)}function EJe(){var n=0,e=arguments,t=new this(e[n]);for(Ji=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return Ji=!0,li(t,this.precision,this.rounding)}function vJe(n){return new this(n).tan()}function yJe(n){return new this(n).tanh()}function QJe(n){return li(n=new this(n),n.e+1,1)}ln[Symbol.for("nodejs.util.inspect.custom")]=ln.toString,ln[Symbol.toStringTag]="Decimal";var W1=ln.constructor=function Hre(n){var e,t,i;function r(A){var s,o,a,c=this;if(!(c instanceof r))return new r(A);if(c.constructor=r,Yre(A))return c.s=A.s,void(Ji?!A.d||A.e>r.maxE?(c.e=NaN,c.d=null):A.e<r.minE?(c.e=0,c.d=[0]):(c.e=A.e,c.d=A.d.slice()):(c.e=A.e,c.d=A.d?A.d.slice():A.d));if("number"==(a=typeof A)){if(0===A)return c.s=1/A<0?-1:1,c.e=0,void(c.d=[0]);if(A<0?(A=-A,c.s=-1):c.s=1,A===~~A&&A<1e7){for(s=0,o=A;o>=10;o/=10)s++;return void(Ji?s>r.maxE?(c.e=NaN,c.d=null):s<r.minE?(c.e=0,c.d=[0]):(c.e=s,c.d=[A]):(c.e=s,c.d=[A]))}return 0*A!=0?(A||(c.s=NaN),c.e=NaN,void(c.d=null)):IH(c,A.toString())}if("string"!==a)throw Error(Zm+A);return 45===(o=A.charCodeAt(0))?(A=A.slice(1),c.s=-1):(43===o&&(A=A.slice(1)),c.s=1),Rre.test(A)?IH(c,A):function Uqe(n,e){var t,i,r,A,s,o,a,c,l;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Rre.test(e))return IH(n,e)}else if("Infinity"===e||"NaN"===e)return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(Fqe.test(e))t=16,e=e.toLowerCase();else if(xqe.test(e))t=2;else{if(!Rqe.test(e))throw Error(Zm+e);t=8}for((A=e.search(/p/i))>0?(a=+e.slice(A+1),e=e.substring(2,A)):e=e.slice(2),A=e.indexOf("."),i=n.constructor,(s=A>=0)&&(A=(o=(e=e.replace(".","")).length)-A,r=kre(i,new i(t),A,2*A)),A=l=(c=PF(e,t,Nh)).length-1;0===c[A];--A)c.pop();return A<0?new i(0*n.s):(n.e=HF(c,l),n.d=c,Ji=!1,s&&(n=ds(n,r,4*o)),a&&(n=n.times(Math.abs(a)<54?ua(2,a):W1.pow(2,a))),Ji=!0,n)}(c,A)}if(r.prototype=ln,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=Xqe,r.clone=Hre,r.isDecimal=Yre,r.abs=Gqe,r.acos=Pqe,r.acosh=Hqe,r.add=Yqe,r.asin=Kqe,r.asinh=qqe,r.atan=Jqe,r.atanh=Vqe,r.atan2=zqe,r.cbrt=Wqe,r.ceil=jqe,r.clamp=Zqe,r.cos=$qe,r.cosh=eJe,r.div=tJe,r.exp=nJe,r.floor=iJe,r.hypot=rJe,r.ln=AJe,r.log=sJe,r.log10=aJe,r.log2=oJe,r.max=cJe,r.min=lJe,r.mod=uJe,r.mul=gJe,r.pow=hJe,r.random=fJe,r.round=dJe,r.sign=pJe,r.sin=mJe,r.sinh=CJe,r.sqrt=IJe,r.sub=BJe,r.sum=EJe,r.tan=vJe,r.tanh=yJe,r.trunc=QJe,void 0===n&&(n={}),n&&!0!==n.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}(pH);UF=new W1(UF),OF=new W1(OF);const qF=W1;var DJe=Qe("BigNumber",["?on","config"],n=>{var{on:e,config:t}=n,i=qF.clone({precision:t.precision,modulo:qF.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(r){return new i(r.value)},e&&e("config",function(r,A){r.precision!==A.precision&&i.config({precision:r.precision})}),i},{isClass:!0});const Nc=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:.5*(Math.exp(n)+Math.exp(-n))},Bg=Math.sinh||function(n){return Math.abs(n)<1e-9?n:.5*(Math.exp(n)-Math.exp(-n))},EH=function(n,e){return(n=Math.abs(n))<(e=Math.abs(e))&&([n,e]=[e,n]),n<1e8?Math.sqrt(n*n+e*e):(e/=n,n*Math.sqrt(1+e*e))},sy=function(){throw SyntaxError("Invalid Param")};function vH(n,e){const t=Math.abs(n),i=Math.abs(e);return 0===n?Math.log(i):0===e?Math.log(t):t<3e3&&i<3e3?.5*Math.log(n*n+e*e):(n*=.5,e*=.5,.5*Math.log(n*n+e*e)+Math.LN2)}const SJe={re:0,im:0},hB=function(n,e){const t=SJe;if(null==n)t.re=t.im=0;else if(void 0!==e)t.re=n,t.im=e;else switch(typeof n){case"object":if("im"in n&&"re"in n)t.re=n.re,t.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Ht.INFINITY;t.re=n.abs*Math.cos(n.arg),t.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Ht.INFINITY;t.re=n.r*Math.cos(n.phi),t.im=n.r*Math.sin(n.phi)}else 2===n.length?(t.re=n[0],t.im=n[1]):sy();break;case"string":t.im=t.re=0;const i=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let r=1,A=0;null===i&&sy();for(let s=0;s<i.length;s++){const o=i[s];" "===o||"\t"===o||"\n"===o||("+"===o?r++:"-"===o?A++:"i"===o||"I"===o?(r+A===0&&sy()," "===i[s+1]||isNaN(i[s+1])?t.im+=parseFloat((A%2?"-":"")+"1"):(t.im+=parseFloat((A%2?"-":"")+i[s+1]),s++),r=A=0):((r+A===0||isNaN(o))&&sy(),"i"===i[s+1]||"I"===i[s+1]?(t.im+=parseFloat((A%2?"-":"")+o),s++):t.re+=parseFloat((A%2?"-":"")+o),r=A=0))}r+A>0&&sy();break;case"number":t.im=0,t.re=n;break;default:sy()}return isNaN(t.re)||isNaN(t.im),t};function Ht(n,e){if(!(this instanceof Ht))return new Ht(n,e);const t=hB(n,e);this.re=t.re,this.im=t.im}Ht.prototype={re:0,im:0,sign:function(){const n=EH(this.re,this.im);return new Ht(this.re/n,this.im/n)},add:function(n,e){const t=hB(n,e),i=this.isInfinite(),r=!(isFinite(t.re)&&isFinite(t.im));return i||r?i&&r?Ht.NAN:Ht.INFINITY:new Ht(this.re+t.re,this.im+t.im)},sub:function(n,e){const t=hB(n,e),i=this.isInfinite(),r=!(isFinite(t.re)&&isFinite(t.im));return i||r?i&&r?Ht.NAN:Ht.INFINITY:new Ht(this.re-t.re,this.im-t.im)},mul:function(n,e){const t=hB(n,e),i=this.isInfinite(),r=!(isFinite(t.re)&&isFinite(t.im));return i&&0===t.re&&0===t.im||r&&0===this.re&&0===this.im?Ht.NAN:i||r?Ht.INFINITY:0===t.im&&0===this.im?new Ht(this.re*t.re,0):new Ht(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(n,e){const t=hB(n,e),i=this.isInfinite(),r=!(isFinite(t.re)&&isFinite(t.im)),A=0===this.re&&0===this.im,s=0===t.re&&0===t.im;if(A&&s||i&&r)return Ht.NAN;if(s||i)return Ht.INFINITY;if(A||r)return Ht.ZERO;if(0===t.im)return new Ht(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const o=t.re/t.im,a=t.re*o+t.im;return new Ht((this.re*o+this.im)/a,(this.im*o-this.re)/a)}{const o=t.im/t.re,a=t.im*o+t.re;return new Ht((this.re+this.im*o)/a,(this.im-this.re*o)/a)}},pow:function(n,e){const t=hB(n,e),i=0===this.re&&0===this.im;if(0===t.re&&0===t.im)return Ht.ONE;if(0===t.im){if(0===this.im&&this.re>0)return new Ht(Math.pow(this.re,t.re),0);if(0===this.re)switch((t.re%4+4)%4){case 0:return new Ht(Math.pow(this.im,t.re),0);case 1:return new Ht(0,Math.pow(this.im,t.re));case 2:return new Ht(-Math.pow(this.im,t.re),0);case 3:return new Ht(0,-Math.pow(this.im,t.re))}}if(i&&t.re>0)return Ht.ZERO;const A=Math.atan2(this.im,this.re),s=vH(this.re,this.im);let o=Math.exp(t.re*s-t.im*A),a=t.im*s+t.re*A;return new Ht(o*Math.cos(a),o*Math.sin(a))},sqrt:function(){const n=this.re,e=this.im;if(0===e)return n>=0?new Ht(Math.sqrt(n),0):new Ht(0,Math.sqrt(-n));const t=EH(n,e);let i=Math.sqrt(.5*(t+Math.abs(n))),r=Math.abs(e)/(2*i);return n>=0?new Ht(i,e<0?-r:r):new Ht(r,e<0?-i:i)},exp:function(){const n=Math.exp(this.re);return 0===this.im?new Ht(n,0):new Ht(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,e=this.im;return new Ht(Math.expm1(n)*Math.cos(e)+function(n){const e=Math.PI/4;if(-e>n||n>e)return Math.cos(n)-1;const t=n*n;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(n)*Math.sin(e))},log:function(){const n=this.re,e=this.im;return 0===e&&n>0?new Ht(Math.log(n),0):new Ht(vH(n,e),Math.atan2(e,n))},abs:function(){return EH(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,e=this.im;return new Ht(Math.sin(n)*Nc(e),Math.cos(n)*Bg(e))},cos:function(){const n=this.re,e=this.im;return new Ht(Math.cos(n)*Nc(e),-Math.sin(n)*Bg(e))},tan:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)+Nc(e);return new Ht(Math.sin(n)/t,Bg(e)/t)},cot:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)-Nc(e);return new Ht(-Math.sin(n)/t,Bg(e)/t)},sec:function(){const n=this.re,e=this.im,t=.5*Nc(2*e)+.5*Math.cos(2*n);return new Ht(Math.cos(n)*Nc(e)/t,Math.sin(n)*Bg(e)/t)},csc:function(){const n=this.re,e=this.im,t=.5*Nc(2*e)-.5*Math.cos(2*n);return new Ht(Math.sin(n)*Nc(e)/t,-Math.cos(n)*Bg(e)/t)},asin:function(){const n=this.re,e=this.im,t=new Ht(e*e-n*n+1,-2*n*e).sqrt(),i=new Ht(t.re-e,t.im+n).log();return new Ht(i.im,-i.re)},acos:function(){const n=this.re,e=this.im,t=new Ht(e*e-n*n+1,-2*n*e).sqrt(),i=new Ht(t.re-e,t.im+n).log();return new Ht(Math.PI/2-i.im,i.re)},atan:function(){const n=this.re,e=this.im;if(0===n){if(1===e)return new Ht(0,1/0);if(-1===e)return new Ht(0,-1/0)}const t=n*n+(1-e)*(1-e),i=new Ht((1-e*e-n*n)/t,-2*n/t).log();return new Ht(-.5*i.im,.5*i.re)},acot:function(){const n=this.re,e=this.im;if(0===e)return new Ht(Math.atan2(1,n),0);const t=n*n+e*e;return 0!==t?new Ht(n/t,-e/t).atan():new Ht(0!==n?n/0:0,0!==e?-e/0:0).atan()},asec:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Ht(0,1/0);const t=n*n+e*e;return 0!==t?new Ht(n/t,-e/t).acos():new Ht(0!==n?n/0:0,0!==e?-e/0:0).acos()},acsc:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Ht(Math.PI/2,1/0);const t=n*n+e*e;return 0!==t?new Ht(n/t,-e/t).asin():new Ht(0!==n?n/0:0,0!==e?-e/0:0).asin()},sinh:function(){const n=this.re,e=this.im;return new Ht(Bg(n)*Math.cos(e),Nc(n)*Math.sin(e))},cosh:function(){const n=this.re,e=this.im;return new Ht(Nc(n)*Math.cos(e),Bg(n)*Math.sin(e))},tanh:function(){const n=2*this.re,e=2*this.im,t=Nc(n)+Math.cos(e);return new Ht(Bg(n)/t,Math.sin(e)/t)},coth:function(){const n=2*this.re,e=2*this.im,t=Nc(n)-Math.cos(e);return new Ht(Bg(n)/t,-Math.sin(e)/t)},csch:function(){const n=this.re,e=this.im,t=Math.cos(2*e)-Nc(2*n);return new Ht(-2*Bg(n)*Math.cos(e)/t,2*Nc(n)*Math.sin(e)/t)},sech:function(){const n=this.re,e=this.im,t=Math.cos(2*e)+Nc(2*n);return new Ht(2*Nc(n)*Math.cos(e)/t,-2*Bg(n)*Math.sin(e)/t)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const e=this.asin();return this.re=-this.im,this.im=n,n=e.re,e.re=-e.im,e.im=n,e},acosh:function(){const n=this.acos();if(n.im<=0){const e=n.re;n.re=-n.im,n.im=e}else{const e=n.im;n.im=-n.re,n.re=e}return n},atanh:function(){const n=this.re,e=this.im,t=n>1&&0===e,i=1-n,r=1+n,A=i*i+e*e,s=0!==A?new Ht((r*i-e*e)/A,(e*i+r*e)/A):new Ht(-1!==n?n/0:0,0!==e?e/0:0),o=s.re;return s.re=vH(s.re,s.im)/2,s.im=Math.atan2(s.im,o)/2,t&&(s.im=-s.im),s},acoth:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Ht(0,Math.PI/2);const t=n*n+e*e;return 0!==t?new Ht(n/t,-e/t).atanh():new Ht(0!==n?n/0:0,0!==e?-e/0:0).atanh()},acsch:function(){const n=this.re,e=this.im;if(0===e)return new Ht(0!==n?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const t=n*n+e*e;return 0!==t?new Ht(n/t,-e/t).asinh():new Ht(0!==n?n/0:0,0!==e?-e/0:0).asinh()},asech:function(){const n=this.re,e=this.im;if(this.isZero())return Ht.INFINITY;const t=n*n+e*e;return 0!==t?new Ht(n/t,-e/t).acosh():new Ht(0!==n?n/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return Ht.INFINITY;if(this.isInfinite())return Ht.ZERO;const n=this.re,e=this.im,t=n*n+e*e;return new Ht(n/t,-e/t)},conjugate:function(){return new Ht(this.re,-this.im)},neg:function(){return new Ht(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Ht(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Ht(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Ht(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,e){const t=hB(n,e);return Math.abs(t.re-this.re)<=Ht.EPSILON&&Math.abs(t.im-this.im)<=Ht.EPSILON},clone:function(){return new Ht(this.re,this.im)},toString:function(){let n=this.re,e=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Ht.EPSILON&&(n=0),Math.abs(e)<Ht.EPSILON&&(e=0),0===e?t+n:(0!==n?(t+=n,t+=" ",e<0?(e=-e,t+="-"):t+="+",t+=" "):e<0&&(e=-e,t+="-"),1!==e&&(t+=e),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Ht.ZERO=new Ht(0,0),Ht.ONE=new Ht(1,0),Ht.I=new Ht(0,1),Ht.PI=new Ht(Math.PI,0),Ht.E=new Ht(Math.E,0),Ht.INFINITY=new Ht(1/0,1/0),Ht.NAN=new Ht(NaN,NaN),Ht.EPSILON=1e-15;var xJe=Qe("Complex",[],()=>(Object.defineProperty(Ht,"name",{value:"Complex"}),Ht.prototype.constructor=Ht,Ht.prototype.type="Complex",Ht.prototype.isComplex=!0,Ht.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ht.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ht.prototype.format=function(n){var t=this.im,i=this.re,r=lB(this.re,n),A=lB(this.im,n),s=ji(n)?n:n?n.precision:null;if(null!==s){var o=Math.pow(10,-s);Math.abs(i/t)<o&&(i=0),Math.abs(t/i)<o&&(t=0)}return 0===t?r:0===i?1===t?"i":-1===t?"-i":A+"i":t<0?-1===t?r+" - i":r+" - "+A.substring(1)+"i":1===t?r+" + i":r+" + "+A+"i"},Ht.fromPolar=function(n){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return Ht(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=arguments[0],i=arguments[1];if(ji(t)){if(pg(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),ji(i))return new Ht({r:t,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ht.prototype.valueOf=Ht.prototype.toString,Ht.fromJSON=function(n){return new Ht(n)},Ht.compare=function(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0},Ht),{isClass:!0});function RJe(n){var e=0,t=1,i=Object.create(null),r=Object.create(null),A=0,s=function(a){var c=r[a];if(c&&(delete i[c],delete r[a],--e,t===c)){if(!e)return A=0,void(t=1);for(;!Object.prototype.hasOwnProperty.call(i,++t););}};return n=Math.abs(n),{hit:function(a){var c=r[a],l=++A;if(i[l]=a,r[a]=l,!c)return++e<=n?void 0:(s(a=i[t]),a);if(delete i[c],t===c)for(;!Object.prototype.hasOwnProperty.call(i,++t););},delete:s,clear:function(){e=A=0,t=1,i=Object.create(null),r=Object.create(null)}}}function j1(n){var{hasher:e,limit:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=t??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function i(){"object"!=typeof i.cache&&(i.cache={values:new Map,lru:RJe(t||Number.POSITIVE_INFINITY)});for(var r=[],A=0;A<arguments.length;A++)r[A]=arguments[A];var s=e(r);if(i.cache.values.has(s))return i.cache.lru.hit(s),i.cache.values.get(s);var o=n.apply(n,r);return i.cache.values.set(s,o),i.cache.values.delete(i.cache.lru.hit(s)),o}}var TJe=j1(function(n){return new n(1).exp()},{hasher:JF}),kJe=j1(function(n){return new n(1).plus(new n(5).sqrt()).div(2)},{hasher:JF}),yH=j1(function(n){return n.acos(-1)},{hasher:JF}),LJe=j1(function(n){return yH(n).times(2)},{hasher:JF});function JF(n){return n[0].precision}var UJe=Math.PI,OJe=2*Math.PI,GJe=Math.E,HJe=Qe("true",[],()=>!0),YJe=Qe("false",[],()=>!1),KJe=Qe("null",[],()=>null),qJe=Nu("Infinity",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1/0):1/0}),JJe=Nu("NaN",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(NaN):NaN}),VJe=Nu("pi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?yH(t):UJe}),zJe=Nu("tau",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?LJe(t):OJe}),WJe=Nu("e",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?TJe(t):GJe}),jJe=Nu("phi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?kJe(t):1.618033988749895}),ZJe=Nu("LN2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(2).ln():Math.LN2}),XJe=Nu("LN10",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(10).ln():Math.LN10}),$Je=Nu("LOG2E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1).div(new t(2).ln()):Math.LOG2E}),eVe=Nu("LOG10E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1).div(new t(10).ln()):Math.LOG10E}),tVe=Nu("SQRT1_2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t("0.5").sqrt():Math.SQRT1_2}),nVe=Nu("SQRT2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(2).sqrt():Math.SQRT2}),iVe=Nu("i",["Complex"],n=>{var{Complex:e}=n;return e.I}),rVe=Qe("version",[],()=>"14.0.1");function Nu(n,e,t){return Qe(n,e,t,{recreateOnConfigChange:!0})}var AVe=Vi("speedOfLight","299792458","m s^-1"),sVe=Vi("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),oVe=Vi("planckConstant","6.62607015e-34","J s"),aVe=Vi("reducedPlanckConstant","1.0545718176461565e-34","J s"),cVe=Vi("magneticConstant","1.25663706212e-6","N A^-2"),lVe=Vi("electricConstant","8.8541878128e-12","F m^-1"),uVe=Vi("vacuumImpedance","376.730313667","ohm"),gVe=Vi("coulomb","8.987551792261171e9","N m^2 C^-2"),hVe=Vi("elementaryCharge","1.602176634e-19","C"),fVe=Vi("bohrMagneton","9.2740100783e-24","J T^-1"),dVe=Vi("conductanceQuantum","7.748091729863649e-5","S"),pVe=Vi("inverseConductanceQuantum","12906.403729652257","ohm"),mVe=Vi("magneticFluxQuantum","2.0678338484619295e-15","Wb"),CVe=Vi("nuclearMagneton","5.0507837461e-27","J T^-1"),IVe=Vi("klitzing","25812.807459304513","ohm"),BVe=Vi("bohrRadius","5.29177210903e-11","m"),EVe=Vi("classicalElectronRadius","2.8179403262e-15","m"),vVe=Vi("electronMass","9.1093837015e-31","kg"),yVe=Vi("fermiCoupling","1.1663787e-5","GeV^-2"),QVe=VF("fineStructure",.0072973525693),wVe=Vi("hartreeEnergy","4.3597447222071e-18","J"),_Ve=Vi("protonMass","1.67262192369e-27","kg"),DVe=Vi("deuteronMass","3.3435830926e-27","kg"),bVe=Vi("neutronMass","1.6749271613e-27","kg"),SVe=Vi("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),MVe=Vi("rydberg","10973731.568160","m^-1"),NVe=Vi("thomsonCrossSection","6.6524587321e-29","m^2"),xVe=VF("weakMixingAngle",.2229),FVe=VF("efimovFactor",22.7),RVe=Vi("atomicMass","1.66053906660e-27","kg"),TVe=Vi("avogadro","6.02214076e23","mol^-1"),kVe=Vi("boltzmann","1.380649e-23","J K^-1"),LVe=Vi("faraday","96485.33212331001","C mol^-1"),UVe=Vi("firstRadiation","3.7417718521927573e-16","W m^2"),OVe=Vi("loschmidt","2.686780111798444e25","m^-3"),GVe=Vi("gasConstant","8.31446261815324","J K^-1 mol^-1"),PVe=Vi("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),HVe=Vi("molarVolume","0.022413969545014137","m^3 mol^-1"),YVe=VF("sackurTetrode",-1.16487052358),KVe=Vi("secondRadiation","0.014387768775039337","m K"),qVe=Vi("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),JVe=Vi("wienDisplacement","2.897771955e-3","m K"),VVe=Vi("molarMass","0.99999999965e-3","kg mol^-1"),zVe=Vi("molarMassC12","11.9999999958e-3","kg mol^-1"),WVe=Vi("gravity","9.80665","m s^-2"),jVe=Vi("planckLength","1.616255e-35","m"),ZVe=Vi("planckMass","2.176435e-8","kg"),XVe=Vi("planckTime","5.391245e-44","s"),$Ve=Vi("planckCharge","1.87554603778e-18","C"),e6e=Vi("planckTemperature","1.416785e+32","K");function Vi(n,e,t){return Qe(n,["config","Unit","BigNumber"],r=>{var{config:A,Unit:s,BigNumber:o}=r,c=new s("BigNumber"===A.number?new o(e):parseFloat(e),t);return c.fixPrefix=!0,c})}function VF(n,e){return Qe(n,["config","BigNumber"],i=>{var{config:r,BigNumber:A}=i;return"BigNumber"===r.number?new A(e):e})}typeof BigInt>"u"&&(BigInt=function(n){if(isNaN(n))throw new Error("");return n});const ui=BigInt(0),Ir=BigInt(1),Z1=BigInt(2),QH=BigInt(5),Vl=BigInt(10),Pn={s:Ir,n:ui,d:Ir};function ep(n,e){try{n=BigInt(n)}catch{throw eC()}return n*e}function Fh(n){return"bigint"==typeof n?n:Math.floor(n)}function Us(n,e){if(e===ui)throw wH();const t=Object.create(Eg.prototype);t.s=n<ui?-Ir:Ir;const i=fB(n=n<ui?-n:n,e);return t.n=n/i,t.d=e/i,t}function oy(n){const e={};let t=n,i=Z1,r=QH-Ir;for(;r<=t;){for(;t%i===ui;)t/=i,e[i]=(e[i]||ui)+Ir;r+=Ir+Z1*i++}return t!==n?t>1&&(e[t]=(e[t]||ui)+Ir):e[n]=(e[n]||ui)+Ir,e}const Ma=function(n,e){let t=ui,i=Ir,r=Ir;if(null!=n)if(void 0!==e){if("bigint"==typeof n)t=n;else{if(isNaN(n))throw eC();if(n%1!=0)throw Kre();t=BigInt(n)}if("bigint"==typeof e)i=e;else{if(isNaN(e))throw eC();if(e%1!=0)throw Kre();i=BigInt(e)}r=t*i}else if("object"==typeof n){if("d"in n&&"n"in n)t=BigInt(n.n),i=BigInt(n.d),"s"in n&&(t*=BigInt(n.s));else if(0 in n)t=BigInt(n[0]),1 in n&&(i=BigInt(n[1]));else{if("bigint"!=typeof n)throw eC();t=n}r=t*i}else if("number"==typeof n){if(isNaN(n))throw eC();if(n<0&&(r=-Ir,n=-n),n%1==0)t=BigInt(n);else if(n>0){let A=1,s=0,o=1,a=1,c=1,l=1e7;for(n>=1&&(A=10**Math.floor(1+Math.log10(n)),n/=A);o<=l&&c<=l;){let u=(s+a)/(o+c);if(n===u){o+c<=l?(t=s+a,i=o+c):c>o?(t=a,i=c):(t=s,i=o);break}n>u?(s+=a,o+=c):(a+=s,c+=o),o>l?(t=a,i=c):(t=s,i=o)}t=BigInt(t)*BigInt(A),i=BigInt(i)}}else if("string"==typeof n){let A=0,s=ui,o=ui,a=ui,c=Ir,l=Ir,u=n.replace(/_/g,"").match(/\d+|./g);if(null===u)throw eC();if("-"===u[A]?(r=-Ir,A++):"+"===u[A]&&A++,u.length===A+1?o=ep(u[A++],r):"."===u[A+1]||"."===u[A]?("."!==u[A]&&(s=ep(u[A++],r)),A++,(A+1===u.length||"("===u[A+1]&&")"===u[A+3]||"'"===u[A+1]&&"'"===u[A+3])&&(o=ep(u[A],r),c=Vl**BigInt(u[A].length),A++),("("===u[A]&&")"===u[A+2]||"'"===u[A]&&"'"===u[A+2])&&(a=ep(u[A+1],r),l=Vl**BigInt(u[A+1].length)-Ir,A+=3)):"/"===u[A+1]||":"===u[A+1]?(o=ep(u[A],r),c=ep(u[A+2],Ir),A+=3):"/"===u[A+3]&&" "===u[A+1]&&(s=ep(u[A],r),o=ep(u[A+2],r),c=ep(u[A+4],Ir),A+=5),!(u.length<=A))throw eC();i=c*l,r=t=a+i*s+l*o}else{if("bigint"!=typeof n)throw eC();t=n,r=n,i=Ir}if(i===ui)throw wH();Pn.s=r<ui?-Ir:Ir,Pn.n=t<ui?-t:t,Pn.d=i<ui?-i:i};function fB(n,e){if(!n)return e;if(!e)return n;for(;;){if(!(n%=e))return e;if(!(e%=n))return n}}function Eg(n,e){if(Ma(n,e),!(this instanceof Eg))return Us(Pn.s*Pn.n,Pn.d);n=fB(Pn.d,Pn.n),this.s=Pn.s,this.n=Pn.n/n,this.d=Pn.d/n}var wH=function(){return new Error("Division by Zero")},eC=function(){return new Error("Invalid argument")},Kre=function(){return new Error("Parameters must be integer")};Eg.prototype={s:Ir,n:ui,d:Ir,abs:function(){return Us(this.n,this.d)},neg:function(){return Us(-this.s*this.n,this.d)},add:function(n,e){return Ma(n,e),Us(this.s*this.n*Pn.d+Pn.s*this.d*Pn.n,this.d*Pn.d)},sub:function(n,e){return Ma(n,e),Us(this.s*this.n*Pn.d-Pn.s*this.d*Pn.n,this.d*Pn.d)},mul:function(n,e){return Ma(n,e),Us(this.s*Pn.s*this.n*Pn.n,this.d*Pn.d)},div:function(n,e){return Ma(n,e),Us(this.s*Pn.s*this.n*Pn.d,this.d*Pn.n)},clone:function(){return Us(this.s*this.n,this.d)},mod:function(n,e){if(void 0===n)return Us(this.s*this.n%this.d,Ir);if(Ma(n,e),ui===Pn.n*this.d)throw wH();return Us(this.s*(Pn.d*this.n)%(Pn.n*this.d),Pn.d*this.d)},gcd:function(n,e){return Ma(n,e),Us(fB(Pn.n,this.n)*fB(Pn.d,this.d),Pn.d*this.d)},lcm:function(n,e){return Ma(n,e),Pn.n===ui&&this.n===ui?Us(ui,Ir):Us(Pn.n*this.n,fB(Pn.n,this.n)*fB(Pn.d,this.d))},inverse:function(){return Us(this.s*this.d,this.n)},pow:function(n,e){if(Ma(n,e),Pn.d===Ir)return Pn.s<ui?Us((this.s*this.d)**Pn.n,this.n**Pn.n):Us((this.s*this.n)**Pn.n,this.d**Pn.n);if(this.s<ui)return null;let t=oy(this.n),i=oy(this.d),r=Ir,A=Ir;for(let s in t)if("1"!==s){if("0"===s){r=ui;break}if(t[s]*=Pn.n,t[s]%Pn.d!==ui)return null;t[s]/=Pn.d,r*=BigInt(s)**t[s]}for(let s in i)if("1"!==s){if(i[s]*=Pn.n,i[s]%Pn.d!==ui)return null;i[s]/=Pn.d,A*=BigInt(s)**i[s]}return Pn.s<ui?Us(A,r):Us(r,A)},log:function(n,e){if(Ma(n,e),this.s<=ui||Pn.s<=ui)return null;const t={},i=oy(Pn.n),r=oy(Pn.d),A=oy(this.n),s=oy(this.d);for(const c in r)i[c]=(i[c]||ui)-r[c];for(const c in s)A[c]=(A[c]||ui)-s[c];for(const c in i)"1"!==c&&(t[c]=!0);for(const c in A)"1"!==c&&(t[c]=!0);let o=null,a=null;for(const c in t){const l=i[c]||ui,u=A[c]||ui;if(l===ui){if(u!==ui)return null;continue}let h=u,g=l;const f=fB(h,g);if(h/=f,g/=f,null===o&&null===a)o=h,a=g;else if(h*a!=o*g)return null}return null!==o&&null!==a?Us(o,a):null},equals:function(n,e){return Ma(n,e),this.s*this.n*Pn.d==Pn.s*Pn.n*this.d},lt:function(n,e){return Ma(n,e),this.s*this.n*Pn.d<Pn.s*Pn.n*this.d},lte:function(n,e){return Ma(n,e),this.s*this.n*Pn.d<=Pn.s*Pn.n*this.d},gt:function(n,e){return Ma(n,e),this.s*this.n*Pn.d>Pn.s*Pn.n*this.d},gte:function(n,e){return Ma(n,e),this.s*this.n*Pn.d>=Pn.s*Pn.n*this.d},compare:function(n,e){Ma(n,e);let t=this.s*this.n*Pn.d-Pn.s*Pn.n*this.d;return(ui<t)-(t<ui)},ceil:function(n){return n=Vl**BigInt(n||0),Us(Fh(this.s*n*this.n/this.d)+(n*this.n%this.d>ui&&this.s>=ui?Ir:ui),n)},floor:function(n){return n=Vl**BigInt(n||0),Us(Fh(this.s*n*this.n/this.d)-(n*this.n%this.d>ui&&this.s<ui?Ir:ui),n)},round:function(n){return n=Vl**BigInt(n||0),Us(Fh(this.s*n*this.n/this.d)+this.s*((this.s>=ui?Ir:ui)+Z1*(n*this.n%this.d)>this.d?Ir:ui),n)},roundTo:function(n,e){Ma(n,e);const t=this.n*Pn.d,i=this.d*Pn.n,r=t%i;let A=Fh(t/i);return r+r>=i&&A++,Us(this.s*A*Pn.n,Pn.d)},divisible:function(n,e){return Ma(n,e),!(!(Pn.n*this.d)||this.n*Pn.d%(Pn.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(n){let e=this.n,t=this.d;n=n||15;let i=function i6e(n,e){for(;e%Z1===ui;e/=Z1);for(;e%QH===ui;e/=QH);if(e===Ir)return ui;let t=Vl%e,i=1;for(;t!==Ir;i++)if(t=t*Vl%e,i>2e3)return ui;return BigInt(i)}(0,t),r=function r6e(n,e,t){let i=Ir,r=function n6e(n,e,t){let i=Ir;for(;e>ui;n=n*n%t,e>>=Ir)e&Ir&&(i=i*n%t);return i}(Vl,t,e);for(let A=0;A<300;A++){if(i===r)return BigInt(A);i=i*Vl%e,r=r*Vl%e}return 0}(0,t,i),A=this.s<ui?"-":"";if(A+=Fh(e/t),e%=t,e*=Vl,e&&(A+="."),i){for(let s=r;s--;)A+=Fh(e/t),e%=t,e*=Vl;A+="(";for(let s=i;s--;)A+=Fh(e/t),e%=t,e*=Vl;A+=")"}else for(let s=n;e&&s--;)A+=Fh(e/t),e%=t,e*=Vl;return A},toFraction:function(n){let e=this.n,t=this.d,i=this.s<ui?"-":"";if(t===Ir)i+=e;else{let r=Fh(e/t);n&&r>ui&&(i+=r,i+=" ",e%=t),i+=e,i+="/",i+=t}return i},toLatex:function(n){let e=this.n,t=this.d,i=this.s<ui?"-":"";if(t===Ir)i+=e;else{let r=Fh(e/t);n&&r>ui&&(i+=r,e%=t),i+="\\frac{",i+=e,i+="}{",i+=t,i+="}"}return i},toContinued:function(){let n=this.n,e=this.d,t=[];do{t.push(Fh(n/e));let i=n%e;n=e,e=i}while(n!==Ir);return t},simplify:function(n){const e=BigInt(1/(n||.001)|0),t=this.abs(),i=t.toContinued();for(let r=1;r<i.length;r++){let A=Us(i[r-1],Ir);for(let o=r-2;o>=0;o--)A=A.inverse().add(i[o]);let s=A.sub(t);if(s.n*e<s.d)return A.mul(this.s)}return this}};var o6e=Qe("Fraction",[],()=>(Object.defineProperty(Eg,"name",{value:"Fraction"}),Eg.prototype.constructor=Eg,Eg.prototype.type="Fraction",Eg.prototype.isFraction=!0,Eg.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Eg.fromJSON=function(n){return new Eg(n)},Eg),{isClass:!0}),l6e=Qe("Matrix",[],()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(e,t,i){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(e,t,i){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0}),h6e=Qe("Range",[],()=>{function n(e,t,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");var r=null!=e,A=null!=t,s=null!=i;if(r)if(Zi(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(A)if(Zi(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter end must be a number");if(s)if(Zi(i))i=i.toNumber();else if("number"!=typeof i)throw new TypeError("Parameter step must be a number");this.start=r?parseFloat(e):0,this.end=A?parseFloat(t):0,this.step=s?parseFloat(i):1}return n.prototype.type="Range",n.prototype.isRange=!0,n.parse=function(e){if("string"!=typeof e)return null;var i=e.split(":").map(function(A){return parseFloat(A)});if(i.some(function(A){return isNaN(A)}))return null;switch(i.length){case 2:return new n(i[0],i[1]);case 3:return new n(i[0],i[2],i[1]);default:return null}},n.prototype.clone=function(){return new n(this.start,this.end,this.step)},n.prototype.size=function(){var e=0,i=this.step,A=this.end-this.start;return qm(i)===qm(A)?e=Math.ceil(A/i):0===A&&(e=0),isNaN(e)&&(e=0),[e]},n.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},n.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},n.prototype.forEach=function(e){var t=this.start,i=this.step,r=this.end,A=0;if(i>0)for(;t<r;)e(t,[A],this),t+=i,A++;else if(i<0)for(;t>r;)e(t,[A],this),t+=i,A++},n.prototype.map=function(e){var t=[];return this.forEach(function(i,r,A){t[r[0]]=e(i,r,A)}),t},n.prototype.toArray=function(){var e=[];return this.forEach(function(t,i){e[i[0]]=t}),e},n.prototype.valueOf=function(){return this.toArray()},n.prototype.format=function(e){var t=lB(this.start,e);return 1!==this.step&&(t+=":"+lB(this.step,e)),t+":"+lB(this.end,e)},n.prototype.toString=function(){return this.format()},n.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n},{isClass:!0}),p6e=Qe("ResultSet",[],()=>{function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return n.prototype.type="ResultSet",n.prototype.isResultSet=!0,n.prototype.valueOf=function(){return this.entries},n.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},n.fromJSON=function(e){return new n(e.entries)},n},{isClass:!0}),I6e=Qe("DenseMatrix",["Matrix"],n=>{var{Matrix:e}=n;function t(l,u){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!Sc(u))throw new Error("Invalid datatype: "+u);if(Ei(l))"DenseMatrix"===l.type?(this._data=Hi(l._data),this._size=Hi(l._size),this._datatype=u||l._datatype):(this._data=l.toArray(),this._size=l.size(),this._datatype=u||l._datatype);else if(l&&HA(l.data)&&HA(l.size))this._data=l.data,this._size=l.size,Yne(this._data,this._size),this._datatype=u||l.datatype;else if(HA(l))this._data=c(l),this._size=Ti(this._data),Yne(this._data,this._size),this._datatype=u;else{if(l)throw new TypeError("Unsupported type of data ("+As(l)+")");this._data=[],this._size=[0],this._datatype=u}}function r(l,u,h,g){var f=g===h-1,d=u.dimension(g);return f?d.map(function(m){return ss(m,l.length),l[m]}).valueOf():d.map(function(m){return ss(m,l.length),r(l[m],u,h,g+1)}).valueOf()}function s(l,u,h,g,f){var d=f===g-1;u.dimension(f).forEach(d?function(p,I){ss(p),l[p]=h[I[0]]}:function(p,I){ss(p),s(l[p],u,h[I[0]],g,f+1)})}function o(l,u,h){if(0===u.length){for(var g=l._data;HA(g);)g=g[0];return g}return l._size=u.slice(0),l._data=ey(l._data,l._size,h),l}function a(l,u,h){for(var g=l._size.slice(0),f=!1;g.length<u.length;)g.push(0),f=!0;for(var d=0,m=u.length;d<m;d++)u[d]>g[d]&&(g[d]=u[d],f=!0);f&&o(l,g,h)}function c(l){return Ei(l)?c(l.valueOf()):HA(l)?l.map(c):l}return(t.prototype=new e).createDenseMatrix=function(l,u){return new t(l,u)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return hF(this._data,As)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(l,u){return new t(l,u)},t.prototype.subset=function(l,u,h){switch(arguments.length){case 1:return function i(l,u){if(!sF(u))throw new TypeError("Invalid index");if(u.isScalar())return l.get(u.min());var g=u.size();if(g.length!==l._size.length)throw new Cr(g.length,l._size.length);for(var f=u.min(),d=u.max(),m=0,p=l._size.length;m<p;m++)ss(f[m],l._size[m]),ss(d[m],l._size[m]);return new t(r(l._data,u,g.length,0),l._datatype)}(this,l);case 2:case 3:return function A(l,u,h,g){if(!u||!0!==u.isIndex)throw new TypeError("Invalid index");var m,f=u.size(),d=u.isScalar();if(Ei(h)?(m=h.size(),h=h.valueOf()):m=Ti(h),d){if(0!==m.length)throw new TypeError("Scalar expected");l.set(u.min(),h,g)}else{if(!Wd(m,f))try{m=Ti(h=Vm(0===m.length?[h]:h,f))}catch{}if(f.length<l._size.length)throw new Cr(f.length,l._size.length,"<");if(m.length<f.length){for(var p=0,I=0;1===f[p]&&1===m[p];)p++;for(;1===f[p];)I++,p++;h=Jne(h,f.length,I,m)}if(!Wd(f,m))throw new Cr(f,m,">");a(l,u.max().map(function(E){return E+1}),g),s(l._data,u,h,f.length,0)}return l}(this,l,u,h);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(l){return W4(this._data,l)},t.prototype.set=function(l,u,h){if(!HA(l))throw new TypeError("Array expected");if(l.length<this._size.length)throw new Cr(l.length,this._size.length,"<");var g,f,d;a(this,l.map(function(I){return I+1}),h);var p=this._data;for(g=0,f=l.length-1;g<f;g++)ss(d=l[g],p.length),p=p[d];return ss(d=l[l.length-1],p.length),p[d]=u,this},t.prototype.resize=function(l,u,h){if(!mg(l))throw new TypeError("Array or Matrix expected");var g=l.valueOf().map(d=>Array.isArray(d)&&1===d.length?d[0]:d);return o(h?this.clone():this,g,u)},t.prototype.reshape=function(l,u){var h=u?this.clone():this;h._data=V4(h._data,l);var g=h._size.reduce((f,d)=>f*d);return h._size=z4(l,g),h},t.prototype.clone=function(){return new t({data:Hi(this._data),size:Hi(this._size),datatype:this._datatype})},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(l){var u=this,h=u.size();if(1!==h.length){var f=Array(h.length).fill(0),d=Array(h.length-1),m=d.length-1;d[0]=u._data[0];for(var p=0;p<m;p++)d[p+1]=d[p][0];for(f[m]=-1;;){var I=void 0;for(I=m;I>=0;I--){if(f[I]++,f[I]!==h[I]){d[I]=0===I?u._data[f[I]]:d[I-1][f[I]];for(var C=I;C<m;C++)d[C+1]=d[C][0];for(var B=0;B<h[d.length];B++)f[d.length]=B,l(d[m],B,f.slice(0));break}f[I]=0}if(-1===I)break}}else for(var g=0;g<h[0];g++)l(u._data,g,[g])},t.prototype.map=function(l){var u=this,h=new t(u),g=uB(l,u._data,"map");return h._forEach(function(f,d,m){f[d]=g(f[d],m,u)}),h},t.prototype.forEach=function(l){var u=this,h=uB(l,u._data,"map");u._forEach(function(g,f,d){h(g[f],d,u)})},t.prototype[Symbol.iterator]=function*(){var l=function*(h,g){if(HA(h))for(var f=0;f<h.length;f++)yield*l(h[f],g.concat(f));else yield{value:h,index:g}};yield*l(this._data,[])},t.prototype.rows=function(){var l=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var g of h)l.push(new t([g],this._datatype));return l},t.prototype.columns=function(){var l=this,u=[],h=this.size();if(2!==h.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var g=this._data,f=function(p){var I=g.map(C=>[C[p]]);u.push(new t(I,l._datatype))},d=0;d<h[1];d++)f(d);return u},t.prototype.toArray=function(){return Hi(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(l){return mr(this._data,l)},t.prototype.toString=function(){return mr(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(l){if(l){if(Zi(l)&&(l=l.toNumber()),!ji(l)||!Ai(l))throw new TypeError("The parameter k must be an integer number")}else l=0;for(var u=l>0?l:0,h=l<0?-l:0,d=Math.min(this._size[0]-h,this._size[1]-u),m=[],p=0;p<d;p++)m[p]=this._data[p+h][p+u];return new t({data:m,size:[d],datatype:this._datatype})},t.diagonal=function(l,u,h,g){if(!HA(l))throw new TypeError("Array expected, size parameter");if(2!==l.length)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(b){if(Zi(b)&&(b=b.toNumber()),!ji(b)||!Ai(b)||b<1)throw new Error("Size values must be positive integers");return b}),h){if(Zi(h)&&(h=h.toNumber()),!ji(h)||!Ai(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var C,f=h>0?h:0,d=h<0?-h:0,m=l[0],p=l[1],I=Math.min(m-d,p-f);if(HA(u)){if(u.length!==I)throw new Error("Invalid value array length");C=function(S){return u[S]}}else if(Ei(u)){var B=u.size();if(1!==B.length||B[0]!==I)throw new Error("Invalid matrix length");C=function(S){return u.get([S])}}else C=function(){return u};g||(g=Zi(C(0))?C(0).mul(0):0);var y=[];if(l.length>0){y=ey(y,l,g);for(var E=0;E<I;E++)y[E+d][E+f]=C(E)}return new t({data:y,size:[m,p]})},t.fromJSON=function(l){return new t(l)},t.prototype.swapRows=function(l,u){if(!(ji(l)&&Ai(l)&&ji(u)&&Ai(u)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return ss(l,this._size[0]),ss(u,this._size[0]),t._swapRows(l,u,this._data),this},t._swapRows=function(l,u,h){var g=h[l];h[l]=h[u],h[u]=g},t},{isClass:!0}),v6e=Qe("replacer",[],()=>function(e,t){return"number"!=typeof t||isFinite(t)&&!isNaN(t)?"bigint"==typeof t?{mathjs:"bigint",value:String(t)}:t:{mathjs:"number",value:String(t)}}),qre=function(){return qre=xF.create,xF},Q6e=Qe("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:t,Complex:i,DenseMatrix:r,Fraction:A}=e,s=qre();return s.clear(),s.addTypes([{name:"number",test:ji},{name:"Complex",test:jd},{name:"BigNumber",test:Zi},{name:"bigint",test:dGe},{name:"Fraction",test:G1},{name:"Unit",test:pg},{name:"identifier",test:o=>Sc&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(o)},{name:"string",test:Sc},{name:"Chain",test:bne},{name:"Array",test:HA},{name:"Matrix",test:Ei},{name:"DenseMatrix",test:AF},{name:"SparseMatrix",test:aB},{name:"Range",test:G4},{name:"Index",test:sF},{name:"boolean",test:pGe},{name:"ResultSet",test:mGe},{name:"Help",test:Dne},{name:"function",test:CGe},{name:"Date",test:IGe},{name:"RegExp",test:BGe},{name:"null",test:EGe},{name:"undefined",test:vGe},{name:"AccessorNode",test:cB},{name:"ArrayNode",test:Cg},{name:"AssignmentNode",test:yGe},{name:"BlockNode",test:QGe},{name:"ConditionalNode",test:wGe},{name:"ConstantNode",test:Hr},{name:"FunctionNode",test:Ym},{name:"FunctionAssignmentNode",test:H1},{name:"IndexNode",test:jv},{name:"Node",test:YA},{name:"ObjectNode",test:oF},{name:"OperatorNode",test:Mo},{name:"ParenthesisNode",test:Zd},{name:"RangeNode",test:_Ge},{name:"RelationalNode",test:DGe},{name:"SymbolNode",test:ba},{name:"Map",test:Wv},{name:"Object",test:P1}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(a){if(t||zF(a),function KGe(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(a)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+a+"). Use function bignumber(x) to convert to BigNumber.");return new t(a)}},{from:"number",to:"Complex",convert:function(a){return i||WF(a),new i(a,0)}},{from:"BigNumber",to:"Complex",convert:function(a){return i||WF(a),new i(a.toNumber(),0)}},{from:"bigint",to:"number",convert:function(a){if(a>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+a+")");return Number(a)}},{from:"bigint",to:"BigNumber",convert:function(a){return t||zF(a),new t(a.toString())}},{from:"bigint",to:"Fraction",convert:function(a){return A||jF(a),new A(a)}},{from:"Fraction",to:"BigNumber",convert:function(a){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(a){return i||WF(a),new i(a.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(a){A||jF(a);var c=new A(a);if(c.valueOf()!==a)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+a+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(a){var c=Number(a);if(isNaN(c))throw new Error('Cannot convert "'+a+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(a){t||zF(a);try{return new t(a)}catch{throw new Error('Cannot convert "'+a+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(a){try{return BigInt(a)}catch{throw new Error('Cannot convert "'+a+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(a){A||jF(a);try{return new A(a)}catch{throw new Error('Cannot convert "'+a+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(a){i||WF(a);try{return new i(a)}catch{throw new Error('Cannot convert "'+a+'" to Complex')}}},{from:"boolean",to:"number",convert:function(a){return+a}},{from:"boolean",to:"BigNumber",convert:function(a){return t||zF(a),new t(+a)}},{from:"boolean",to:"bigint",convert:function(a){return BigInt(+a)}},{from:"boolean",to:"Fraction",convert:function(a){return A||jF(a),new A(+a)}},{from:"boolean",to:"string",convert:function(a){return String(a)}},{from:"Array",to:"Matrix",convert:function(a){return r||function w6e(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(a)}},{from:"Matrix",to:"Array",convert:function(a){return a.valueOf()}}]),s.onMismatch=(o,a,c)=>{var l=s.createError(o,a,c);if(["wrongType","mismatch"].includes(l.data.category)&&1===a.length&&mg(a[0])&&c.some(h=>!h.params.includes(","))){var u=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw u.data=l.data,u}throw l},s.onMismatch=(o,a,c)=>{var l=s.createError(o,a,c);if(["wrongType","mismatch"].includes(l.data.category)&&1===a.length&&mg(a[0])&&c.some(h=>!h.params.includes(","))){var u=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw u.data=l.data,u}throw l},s});function zF(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function WF(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function jF(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}var zl="number",tp="number, number";function Jre(n){return Math.abs(n)}function Vre(n,e){return n+e}function zre(n,e){return n-e}function Wre(n,e){return n*e}function jre(n){return-n}function Zre(n){return n}function X1(n){return GGe(n)}function Xre(n){return n*n*n}function $re(n){return Math.exp(n)}function eAe(n){return PGe(n)}function tAe(n,e){if(!Ai(n)||!Ai(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===n||0===e)return 0;for(var t,i=n*e;0!==e;)e=n%(t=e),n=t;return Math.abs(i/n)}function nAe(n){return OGe(n)}function iAe(n){return UGe(n)}function rAe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=e<0;if(t&&(e=-e),0===e)throw new Error("Root must be non-zero");if(n<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===n)return t?1/0:0;if(!isFinite(n))return t?0:n;var i=Math.pow(Math.abs(n),1/e);return i=n<0?-i:i,t?1/i:i}function _H(n){return qm(n)}function AAe(n){return n*n}function sAe(n,e){var t,i,r,A=0,s=1,o=1,a=0;if(!Ai(n)||!Ai(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)r=n-(i=Math.floor(n/e))*e,t=A,A=s-i*A,s=t,t=o,o=a-i*o,a=t,n=e,e=r;return n<0?[-n,-s,-a]:[n,n?s:0,a]}function oAe(n,e){return n*n<1&&e===1/0||n*n>1&&e===-1/0?0:Math.pow(n,e)}function $1(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Ai(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(xne(n,e))}Jre.signature=zl,Vre.signature=tp,zre.signature=tp,Wre.signature=tp,jre.signature=zl,Zre.signature=zl,X1.signature=zl,Xre.signature=zl,$re.signature=zl,eAe.signature=zl,tAe.signature=tp,nAe.signature=zl,iAe.signature=zl,_H.signature=zl,AAe.signature=zl,sAe.signature=tp,oAe.signature=tp;var R6e=Qe("abs",["typed"],n=>{var{typed:e}=n;return e("abs",{number:Jre,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":e.referToSelf(t=>i=>qi(i,t,!0))})}),k6e=Qe("acos",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:i}=n;return e("acos",{number:function(A){return A>=-1&&A<=1||t.predictable?Math.acos(A):new i(A,0).acos()},Complex:function(A){return A.acos()},BigNumber:function(A){return A.acos()}})}),Os="number";function lAe(n){return qGe(n)}function uAe(n){return Math.atan(1/n)}function gAe(n){return isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0}function hAe(n){return Math.asin(1/n)}function fAe(n){var e=1/n;return Math.log(e+Math.sqrt(e*e+1))}function dAe(n){return Math.acos(1/n)}function pAe(n){var e=1/n,t=Math.sqrt(e*e-1);return Math.log(t+e)}function mAe(n){return JGe(n)}function CAe(n){return VGe(n)}function IAe(n){return 1/Math.tan(n)}function BAe(n){var e=Math.exp(2*n);return(e+1)/(e-1)}function EAe(n){return 1/Math.sin(n)}function vAe(n){return 0===n?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(n)-Math.exp(-n)))*qm(n)}function yAe(n){return 1/Math.cos(n)}function QAe(n){return 2/(Math.exp(n)+Math.exp(-n))}function wAe(n){return zGe(n)}lAe.signature=Os,uAe.signature=Os,gAe.signature=Os,hAe.signature=Os,fAe.signature=Os,dAe.signature=Os,pAe.signature=Os,mAe.signature=Os,CAe.signature=Os,IAe.signature=Os,BAe.signature=Os,EAe.signature=Os,vAe.signature=Os,yAe.signature=Os,QAe.signature=Os,wAe.signature=Os;var z6e=Qe("acot",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("acot",{number:uAe,Complex:function(r){return r.acot()},BigNumber:function(r){return new t(1).div(r).atan()}})}),j6e=Qe("acsc",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:i,BigNumber:r}=n;return e("acsc",{number:function(s){return s<=-1||s>=1||t.predictable?hAe(s):new i(s,0).acsc()},Complex:function(s){return s.acsc()},BigNumber:function(s){return new r(1).div(s).asin()}})}),X6e=Qe("addScalar",["typed"],n=>{var{typed:e}=n;return e("addScalar",{"number, number":Vre,"Complex, Complex":function(i,r){return i.add(r)},"BigNumber, BigNumber":function(i,r){return i.plus(r)},"bigint, bigint":function(i,r){return i+r},"Fraction, Fraction":function(i,r){return i.add(r)},"Unit, Unit":e.referToSelf(t=>(i,r)=>{if(null==i.value)throw new Error("Parameter x contains a unit with undefined value");if(null==r.value)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(r))throw new Error("Units do not match");var A=i.clone();return A.value=e.find(t,[A.valueType(),r.valueType()])(A.value,r.value),A.fixPrefix=!1,A})})}),eze=Qe("arg",["typed"],n=>{var{typed:e}=n;return e("arg",{number:function(i){return Math.atan2(0,i)},BigNumber:function(i){return i.constructor.atan2(0,i)},Complex:function(i){return i.arg()},"Array | Matrix":e.referToSelf(t=>i=>qi(i,t))})}),nze=Qe("asech",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:i,BigNumber:r}=n;return e("asech",{number:function(s){if(s<=1&&s>=-1||t.predictable){var o=1/s;if(o>0||t.predictable)return pAe(s);var a=Math.sqrt(o*o-1);return new i(Math.log(a-o),Math.PI)}return new i(s,0).asech()},Complex:function(s){return s.asech()},BigNumber:function(s){return new r(1).div(s).acosh()}})}),Aze=Qe("asinh",["typed"],n=>{var{typed:e}=n;return e("asinh",{number:mAe,Complex:function(i){return i.asinh()},BigNumber:function(i){return i.asinh()}})}),aze=Qe("atan",["typed"],n=>{var{typed:e}=n;return e("atan",{number:function(i){return Math.atan(i)},Complex:function(i){return i.atan()},BigNumber:function(i){return i.atan()}})}),lze=Qe("atanh",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:i}=n;return e("atanh",{number:function(A){return A<=1&&A>=-1||t.predictable?CAe(A):new i(A,0).atanh()},Complex:function(A){return A.atanh()},BigNumber:function(A){return A.atanh()}})}),hze=Qe("bigint",["typed"],n=>{var{typed:e}=n,t=e("bigint",{"":function(){return 0n},bigint:function(r){return r},number:function(r){return BigInt(r.toFixed())},BigNumber:function(r){return BigInt(r.round().toString())},Fraction:function(r){return BigInt(r.valueOf().toFixed())},"string | boolean":function(r){return BigInt(r)},null:function(r){return 0n},"Array | Matrix":e.referToSelf(i=>r=>qi(r,i))});return t.fromJSON=function(i){return BigInt(i.value)},t}),dze=Qe("bitNot",["typed"],n=>{var{typed:e}=n;return e("bitNot",{number:Jie,BigNumber:V1,bigint:t=>~t,"Array | Matrix":e.referToSelf(t=>i=>qi(i,t))})}),mze=Qe("boolean",["typed"],n=>{var{typed:e}=n;return e("boolean",{"":function(){return!1},boolean:function(i){return i},number:function(i){return!!i},null:function(i){return!1},BigNumber:function(i){return!i.isZero()},string:function(i){var r=i.toLowerCase();if("true"===r)return!0;if("false"===r)return!1;var A=Number(i);if(""!==i&&!isNaN(A))return!!A;throw new Error('Cannot convert "'+i+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>i=>qi(i,t))})}),Ize=Qe("clone",["typed"],n=>{var{typed:e}=n;return e("clone",{any:Hi})});function np(n,e){if(e<n)return 1;if(e===n)return e;var t=e+n>>1;return np(n,t)*np(t+1,e)}function TAe(n,e){if(!Ai(n)||n<0)throw new TypeError("Positive integer value expected in function combinations");if(!Ai(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>n)throw new TypeError("k must be less than or equal to n");for(var t=n-e,i=1,A=2,s=e<t?e:t,o=e<t?t+1:e+1;o<=n;++o)for(i*=o;A<=s&&i%A==0;)i/=A,++A;return A<=s&&(i/=np(A,s)),i}TAe.signature="number, number";var kAe="combinations",Eze=Qe(kAe,["typed"],n=>{var{typed:e}=n;return e(kAe,{"number, number":TAe,"BigNumber, BigNumber":function(i,r){var s,o,A=i.constructor,a=i.minus(r),c=new A(1);if(!LAe(i)||!LAe(r))throw new TypeError("Positive integer value expected in function combinations");if(r.gt(i))throw new TypeError("k must be less than n in function combinations");if(s=c,r.lt(a))for(o=c;o.lte(a);o=o.plus(c))s=s.times(r.plus(o)).dividedBy(o);else for(o=c;o.lte(r);o=o.plus(c))s=s.times(a.plus(o)).dividedBy(o);return s}})});function LAe(n){return n.isInteger()&&n.gte(0)}var Qze=Qe("complex",["typed","Complex"],n=>{var{typed:e,Complex:t}=n;return e("complex",{"":function(){return t.ZERO},number:function(r){return new t(r,0)},"number, number":function(r,A){return new t(r,A)},"BigNumber, BigNumber":function(r,A){return new t(r.toNumber(),A.toNumber())},Fraction:function(r){return new t(r.valueOf(),0)},Complex:function(r){return r.clone()},string:function(r){return t(r)},null:function(r){return t(0)},Object:function(r){if("re"in r&&"im"in r)return new t(r.re,r.im);if("r"in r&&"phi"in r||"abs"in r&&"arg"in r)return new t(r);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(i=>r=>qi(r,i))})}),_ze=Qe("conj",["typed"],n=>{var{typed:e}=n;return e("conj",{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>i=>qi(i,t))})}),ay=Qe("trigUnit",["typed"],n=>{var{typed:e}=n;return{Unit:e.referToSelf(t=>i=>{if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,i.valueType())(i.value)})}}),bze=Qe("cos",["typed"],n=>{var{typed:e}=n,t=ay({typed:e});return e("cos",{number:Math.cos,"Complex | BigNumber":i=>i.cos()},t)}),Mze=Qe("cot",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("cot",{number:IAe,Complex:r=>r.cot(),BigNumber:r=>new t(1).div(r.tan())},ay({typed:e}))}),xze=Qe("csc",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("csc",{number:EAe,Complex:r=>r.csc(),BigNumber:r=>new t(1).div(r.sin())},ay({typed:e}))}),Rze=Qe("cube",["typed"],n=>{var{typed:e}=n;return e("cube",{number:Xre,Complex:function(i){return i.mul(i).mul(i)},BigNumber:function(i){return i.times(i).times(i)},bigint:function(i){return i*i*i},Fraction:function(i){return i.pow(3)},Unit:function(i){return i.pow(3)}})});function Wl(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-9,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return!n.isNaN()&&!e.isNaN()&&(n.isFinite()&&e.isFinite()?!!n.eq(e)||n.minus(e).abs().lte(n.constructor.max(n.constructor.max(n.abs(),e.abs()).mul(t),i)):n.eq(e))}var cy=Qe("compareUnits",["typed"],n=>{var{typed:e}=n;return{"Unit, Unit":e.referToSelf(t=>(i,r)=>{if(!i.equalBase(r))throw new Error("Cannot compare units with different base");return e.find(t,[i.valueType(),r.valueType()])(i.value,r.value)})}}),ZF="equalScalar",Lze=Qe(ZF,["typed","config"],n=>{var{typed:e,config:t}=n,i=cy({typed:e});return e(ZF,{"boolean, boolean":function(A,s){return A===s},"number, number":function(A,s){return $a(A,s,t.relTol,t.absTol)},"BigNumber, BigNumber":function(A,s){return A.eq(s)||Wl(A,s,t.relTol,t.absTol)},"bigint, bigint":function(A,s){return A===s},"Fraction, Fraction":function(A,s){return A.equals(s)},"Complex, Complex":function(A,s){return function Tze(n,e,t,i){return $a(n.re,e.re,t,i)&&$a(n.im,e.im,t,i)}(A,s,t.relTol,t.absTol)}},i)}),Gze=(Qe(ZF,["typed","config"],n=>{var{typed:e,config:t}=n;return e(ZF,{"number, number":function(r,A){return $a(r,A,t.relTol,t.absTol)}})}),Qe("erf",["typed"],n=>{var{typed:e}=n;return e("name",{number:function(s){var o=Math.abs(s);return o>=Yze?qm(s):o<=Pze?qm(s)*function t(A){var c,s=A*A,o=ip[0][4]*s,a=s;for(c=0;c<3;c+=1)o=(o+ip[0][c])*s,a=(a+ly[0][c])*s;return A*(o+ip[0][3])/(a+ly[0][3])}(o):o<=4?qm(s)*(1-function i(A){var a,s=ip[1][8]*A,o=A;for(a=0;a<7;a+=1)s=(s+ip[1][a])*A,o=(o+ly[1][a])*A;var c=(s+ip[1][7])/(o+ly[1][7]),l=parseInt(16*A)/16,u=(A-l)*(A+l);return Math.exp(-l*l)*Math.exp(-u)*c}(o)):qm(s)*(1-function r(A){var c,s=1/(A*A),o=ip[2][5]*s,a=s;for(c=0;c<4;c+=1)o=(o+ip[2][c])*s,a=(a+ly[2][c])*s;var l=s*(o+ip[2][4])/(a+ly[2][4]);l=(Hze-l)/A;var u=(A-(s=parseInt(16*A)/16))*(A+s);return Math.exp(-s*s)*Math.exp(-u)*l}(o))},"Array | Matrix":e.referToSelf(A=>s=>qi(s,A))})})),Pze=.46875,Hze=.5641895835477563,ip=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],ly=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],Yze=Math.pow(2,53),qze=Qe("exp",["typed"],n=>{var{typed:e}=n;return e("exp",{number:$re,Complex:function(i){return i.exp()},BigNumber:function(i){return i.exp()}})}),Vze=Qe("expm1",["typed","Complex"],n=>{var{typed:e,Complex:t}=n;return e("expm1",{number:eAe,Complex:function(r){var A=Math.exp(r.re);return new t(A*Math.cos(r.im)-1,A*Math.sin(r.im))},BigNumber:function(r){return r.exp().minus(1)}})}),Wze=Qe("flatten",["typed"],n=>{var{typed:e}=n;return e("flatten",{Array:function(i){return tA(i)},Matrix:function(i){return i.create(tA(i.toArray()),i.datatype())}})}),Zze=Qe("format",["typed"],n=>{var{typed:e}=n;return e("format",{any:mr,"any, Object | function | number | BigNumber":mr})}),VAe="getMatrixDataType",$ze=Qe(VAe,["typed"],n=>{var{typed:e}=n;return e(VAe,{Array:function(i){return hF(i,As)},Matrix:function(i){return i.getDataType()}})}),t9e=Qe("hex",["typed","format"],n=>{var{typed:e,format:t}=n;return e("hex",{"number | BigNumber":function(r){return t(r,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(r,A){return t(r,{notation:"hex",wordSize:A})}})}),i9e=Qe("im",["typed"],n=>{var{typed:e}=n;return e("im",{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>i=>qi(i,t))})}),A9e=Qe("isInteger",["typed"],n=>{var{typed:e}=n;return e("isInteger",{number:Ai,BigNumber:function(i){return i.isInt()},bigint:function(i){return!0},Fraction:function(i){return 1n===i.d},"Array | Matrix":e.referToSelf(t=>i=>qi(i,t))})}),eD="number";function ZAe(n){return n<0}function XAe(n){return n>0}function $Ae(n){return Number.isNaN(n)}ZAe.signature=eD,XAe.signature=eD,$Ae.signature=eD;var ese="isNegative",c9e=Qe(ese,["typed","config"],n=>{var{typed:e,config:t}=n;return e(ese,{number:i=>!$a(i,0,t.relTol,t.absTol)&&ZAe(i),BigNumber:i=>!Wl(i,new i.constructor(0),t.relTol,t.absTol)&&i.isNeg()&&!i.isZero()&&!i.isNaN(),bigint:i=>i<0n,Fraction:i=>i.s<0n,Unit:e.referToSelf(i=>r=>e.find(i,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(i=>r=>qi(r,i))})}),tse="isPositive",u9e=Qe(tse,["typed","config"],n=>{var{typed:e,config:t}=n;return e(tse,{number:i=>!$a(i,0,t.relTol,t.absTol)&&XAe(i),BigNumber:i=>!(Wl(i,new i.constructor(0),t.relTol,t.absTol)||i.isNeg()||i.isZero()||i.isNaN()),bigint:i=>i>0n,Fraction:i=>i.s>0n&&i.n>0n,Unit:e.referToSelf(i=>r=>e.find(i,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(i=>r=>qi(r,i))})}),h9e=Qe("isZero",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e("isZero",{"number | BigNumber | Complex | Fraction":i=>t(i,0),bigint:i=>0n===i,Unit:e.referToSelf(i=>r=>e.find(i,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(i=>r=>qi(r,i))})});function XF(n){var e;if(Ai(n))return n<=0?isFinite(n)?1/0:NaN:n>171?1/0:np(1,n-1);if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*XF(1-n));if(n>=171.35)return 1/0;if(n>85){var t=n*n,i=t*n,r=i*n,A=r*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*t)-139/(51840*i)-571/(2488320*r)+163879/(209018880*A)+5246819/(75246796800*A*n))}--n,e=uy[0];for(var s=1;s<uy.length;++s)e+=uy[s]/(n+s);var o=n+ise+.5;return Math.sqrt(2*Math.PI)*Math.pow(o,n+.5)*Math.exp(-o)*e}XF.signature="number";var ise=4.7421875,uy=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],rse=.9189385332046728,Ase=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function $F(n){if(n<0)return NaN;if(0===n)return 1/0;if(!isFinite(n))return n;if(n<.5)return Math.log(Math.PI/Math.sin(Math.PI*n))-$F(1-n);for(var e=5+(n-=1)+.5,t=Ase[0],i=6;i>=1;i--)t+=Ase[i]/(n+i);return rse+(n+.5)*Math.log(e)-e+Math.log(t)}$F.signature="number";var m9e=Qe("lgamma",["Complex","typed"],n=>{var{Complex:e,typed:t}=n,A=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t("lgamma",{number:$F,Complex:function s(c){if(c.isNaN())return new e(NaN,NaN);if(0===c.im)return new e($F(c.re),0);if(c.re>=7||Math.abs(c.im)>=7)return o(c);if(c.re<=.1){var g=function WGe(n,e){return(n>0||!(n<0)&&1/n==1/0)^(e>0||!(e<0)&&1/e==1/0)?-n:n}(6.283185307179586,c.im)*Math.floor(.5*c.re+.25),f=c.mul(Math.PI).sin().log(),d=s(new e(1-c.re,-c.im));return new e(1.1447298858494002,g).sub(f).sub(d)}return c.im>=0?a(c):a(c.conjugate()).conjugate()},BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(c){for(var l=c.sub(.5).mul(c.log()).sub(c).add(rse),u=new e(1,0).div(c),h=u.div(c),g=A[0],f=A[1],d=2*h.re,m=h.re*h.re+h.im*h.im,p=2;p<8;p++){var I=f;f=-m*g+A[p],g=d*g+I}var C=u.mul(h.mul(g).add(f));return l.add(C)}function a(c){var l=0,u=0,h=c;for(c=c.add(1);c.re<=7;){var g=(h=h.mul(c)).im<0?1:0;0!==g&&0===u&&l++,u=g,c=c.add(1)}return o(c).sub(h.log()).sub(new e(0,2*l*Math.PI*1))}}),I9e=Qe("log10",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:i}=n;return e("log10",{number:function(A){return A>=0||t.predictable?nAe(A):new i(A,0).log().div(Math.LN10)},Complex:function(A){return new i(A).log().div(Math.LN10)},BigNumber:function(A){return!A.isNegative()||t.predictable?A.log():new i(A.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(r=>A=>qi(A,r))})}),E9e=Qe("log2",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:i}=n;return e("log2",{number:function(s){return s>=0||t.predictable?iAe(s):r(new i(s,0))},Complex:r,BigNumber:function(s){return!s.isNegative()||t.predictable?s.log(2):r(new i(s.toNumber(),0))},"Array | Matrix":e.referToSelf(A=>s=>qi(s,A))});function r(A){var s=Math.sqrt(A.re*A.re+A.im*A.im);return new i(Math.log2?Math.log2(s):Math.log(s)/Math.LN2,Math.atan2(A.im,A.re)/Math.LN2)}}),Q9e=Qe("multiplyScalar",["typed"],n=>{var{typed:e}=n;return e("multiplyScalar",{"number, number":Wre,"Complex, Complex":function(i,r){return i.mul(r)},"BigNumber, BigNumber":function(i,r){return i.times(r)},"bigint, bigint":function(i,r){return i*r},"Fraction, Fraction":function(i,r){return i.mul(r)},"number | Fraction | BigNumber | Complex, Unit":(t,i)=>i.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,i)=>t.multiply(i)})}),_9e=Qe("not",["typed"],n=>{var{typed:e}=n;return e("not",{"null | undefined":()=>!0,number:Nie,Complex:function(i){return 0===i.re&&0===i.im},BigNumber:function(i){return i.isZero()||i.isNaN()},bigint:t=>!t,Unit:e.referToSelf(t=>i=>e.find(t,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(t=>i=>qi(i,t))})}),N9e=Qe("number",["typed"],n=>{var{typed:e}=n,t=e("number",{"":function(){return 0},number:function(r){return r},string:function(r){if("NaN"===r)return NaN;var A=function S9e(n){var e=n.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return e?{input:n,radix:{"0b":2,"0o":8,"0x":16}[e[1]],integerPart:e[2],fractionalPart:e[3]}:null}(r);if(A)return function M9e(n){for(var e=parseInt(n.integerPart,n.radix),t=0,i=0;i<n.fractionalPart.length;i++)t+=parseInt(n.fractionalPart[i],n.radix)/Math.pow(n.radix,i+1);var A=e+t;if(isNaN(A))throw new SyntaxError('String "'+n.input+'" is not a valid number');return A}(A);var s=0,o=r.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);o&&(s=Number(o[2]),r=o[1]);var a=Number(r);if(isNaN(a))throw new SyntaxError('String "'+r+'" is not a valid number');if(o){if(a>2**s-1)throw new SyntaxError('String "'.concat(r,'" is out of range'));a>=2**(s-1)&&(a-=2**s)}return a},BigNumber:function(r){return r.toNumber()},bigint:function(r){return Number(r)},Fraction:function(r){return r.valueOf()},Unit:e.referToSelf(i=>r=>{var A=r.clone();return A.value=i(r.value),A}),null:function(r){return 0},"Unit, string | Unit":function(r,A){return r.toNumber(A)},"Array | Matrix":e.referToSelf(i=>r=>qi(r,i))});return t.fromJSON=function(i){return parseFloat(i.value)},t}),F9e=Qe("oct",["typed","format"],n=>{var{typed:e,format:t}=n;return e("oct",{"number | BigNumber":function(r){return t(r,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(r,A){return t(r,{notation:"oct",wordSize:A})}})}),use=De(6499),R9e=use(Date.now());function gy(n){var e;return function t(r){e=null===r?R9e:use(String(r))}(n),function i(){return e()}}var gse="pickRandom",k9e=Qe(gse,["typed","config","?on"],n=>{var{typed:e,config:t,on:i}=n,r=gy(t.randomSeed);return i&&i("config",function(s,o){s.randomSeed!==o.randomSeed&&(r=gy(s.randomSeed))}),e(gse,{"Array | Matrix":function(o){return A(o,{})},"Array | Matrix, Object":function(o,a){return A(o,a)},"Array | Matrix, number":function(o,a){return A(o,{number:a})},"Array | Matrix, Array | Matrix":function(o,a){return A(o,{weights:a})},"Array | Matrix, Array | Matrix, number":function(o,a,c){return A(o,{number:c,weights:a})},"Array | Matrix, number, Array | Matrix":function(o,a,c){return A(o,{number:a,weights:c})}});function A(s,o){var{number:a,weights:c,elementWise:l=!0}=o,u=typeof a>"u";u&&(a=1);var h=Ei(s)?s.create:Ei(c)?c.create:null;s=s.valueOf(),c&&(c=c.valueOf()),!0===l&&(s=tA(s),c=tA(c));var g=0;if(typeof c<"u"){if(c.length!==s.length)throw new Error("Weights must have the same length as possibles");for(var f=0,d=c.length;f<d;f++){if(!ji(c[f])||c[f]<0)throw new Error("Weights must be an array of positive numbers");g+=c[f]}}for(var I,m=s.length,p=[];p.length<a;){if(typeof c>"u")I=s[Math.floor(r()*m)];else for(var C=r()*g,B=0,y=s.length;B<y;B++)if((C-=c[B])<0){I=s[B];break}p.push(I)}return u?p[0]:h?h(p):p}});function DH(n,e){var t=[];if((n=n.slice(0)).length>1)for(var i=0,r=n.shift();i<r;i++)t.push(DH(n,e));else for(var A=0,s=n.shift();A<s;A++)t.push(e());return t}var U9e=Qe("random",["typed","config","?on"],n=>{var{typed:e,config:t,on:i}=n,r=gy(t.randomSeed);return i&&i("config",function(o,a){o.randomSeed!==a.randomSeed&&(r=gy(o.randomSeed))}),e("random",{"":()=>s(0,1),number:o=>s(0,o),"number, number":(o,a)=>s(o,a),"Array | Matrix":o=>A(o,0,1),"Array | Matrix, number":(o,a)=>A(o,0,a),"Array | Matrix, number, number":(o,a,c)=>A(o,a,c)});function A(o,a,c){var l=DH(o.valueOf(),()=>s(a,c));return Ei(o)?o.create(l,"number"):l}function s(o,a){return o+r()*(a-o)}}),G9e=Qe("re",["typed"],n=>{var{typed:e}=n;return e("re",{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>i=>qi(i,t))})}),H9e=Qe("sec",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("sec",{number:yAe,Complex:r=>r.sec(),BigNumber:r=>new t(1).div(r.cos())},ay({typed:e}))}),K9e=Qe("sign",["typed","BigNumber","Fraction","complex"],n=>{var{typed:e,BigNumber:t,complex:i,Fraction:r}=n;return e("sign",{number:_H,Complex:function(s){return 0===s.im?i(_H(s.re)):s.sign()},BigNumber:function(s){return new t(s.cmp(0))},bigint:function(s){return s>0n?1n:s<0n?-1n:0n},Fraction:function(s){return new r(s.s)},"Array | Matrix":e.referToSelf(A=>s=>qi(s,A,!0)),Unit:e.referToSelf(A=>s=>{if(!s._isDerived()&&0!==s.units[0].unit.offset)throw new TypeError("sign is ambiguous for units with offset");return e.find(A,s.valueType())(s.value)})})}),J9e=Qe("sin",["typed"],n=>{var{typed:e}=n,t=ay({typed:e});return e("sin",{number:Math.sin,"Complex | BigNumber":i=>i.sin()},t)}),W9e=Qe("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:e,equalScalar:t,Matrix:i}=n;function r(d,m){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!Sc(m))throw new Error("Invalid datatype: "+m);if(Ei(d))!function A(d,m,p){"SparseMatrix"===m.type?(d._values=m._values?Hi(m._values):void 0,d._index=Hi(m._index),d._ptr=Hi(m._ptr),d._size=Hi(m._size),d._datatype=p||m._datatype):s(d,m.valueOf(),p||m._datatype)}(this,d,m);else if(d&&HA(d.index)&&HA(d.ptr)&&HA(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=m||d.datatype;else if(HA(d))s(this,d,m);else{if(d)throw new TypeError("Unsupported type of data ("+As(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function s(d,m,p){d._values=[],d._index=[],d._ptr=[],d._datatype=p;var I=m.length,C=0,B=t,y=0;if(Sc(p)&&(B=e.find(t,[p,p])||t,y=e.convert(0,p)),I>0){var E=0;do{d._ptr.push(d._index.length);for(var b=0;b<I;b++){var S=m[b];if(HA(S)){if(0===E&&C<S.length&&(C=S.length),E<S.length){var w=S[E];B(w,y)||(d._values.push(w),d._index.push(b))}}else 0===E&&C<1&&(C=1),B(S,y)||(d._values.push(S),d._index.push(b))}E++}while(E<C)}d._ptr.push(d._index.length),d._size=[I,C]}function c(d,m,p,I){if(p-m==0)return p;for(var C=m;C<p;C++)if(I[C]===d)return C;return m}function u(d,m,p,I,C,B,y){C.splice(d,0,I),B.splice(d,0,m);for(var E=p+1;E<y.length;E++)y[E]++}function h(d,m,p,I){var C=I||0,B=t,y=0;Sc(d._datatype)&&(B=e.find(t,[d._datatype,d._datatype])||t,y=e.convert(0,d._datatype),C=e.convert(C,d._datatype));var w,M,D,E=!B(C,y),b=d._size[0],S=d._size[1];if(p>S){for(M=S;M<p;M++)if(d._ptr[M]=d._values.length,E)for(w=0;w<b;w++)d._values.push(C),d._index.push(w);d._ptr[p]=d._values.length}else p<S&&(d._ptr.splice(p+1,S-p),d._values.splice(d._ptr[p],d._values.length),d._index.splice(d._ptr[p],d._index.length));if(S=p,m>b){if(E){var T=0;for(M=0;M<S;M++){d._ptr[M]=d._ptr[M]+T,D=d._ptr[M+1]+T;var O=0;for(w=b;w<m;w++,O++)d._values.splice(D+O,0,C),d._index.splice(D+O,0,w),T++}d._ptr[S]=d._values.length}}else if(m<b){var G=0;for(M=0;M<S;M++){d._ptr[M]=d._ptr[M]-G;var k=d._ptr[M+1]-G;for(D=d._ptr[M];D<k;D++)(w=d._index[D])>m-1&&(d._values.splice(D,1),d._index.splice(D,1),G++)}d._ptr[M]=d._values.length}return d._size[0]=m,d._size[1]=p,d}function f(d,m,p,I,C){var b,S,B=I[0],y=I[1],E=[];for(b=0;b<B;b++)for(E[b]=[],S=0;S<y;S++)E[b][S]=0;for(S=0;S<y;S++)for(var M=p[S+1],D=p[S];D<M;D++)E[b=m[D]][S]=d?C?Hi(d[D]):d[D]:1;return E}return(r.prototype=new i).createSparseMatrix=function(d,m){return new r(d,m)},Object.defineProperty(r,"name",{value:"SparseMatrix"}),r.prototype.constructor=r,r.prototype.type="SparseMatrix",r.prototype.isSparseMatrix=!0,r.prototype.getDataType=function(){return hF(this._values,As)},r.prototype.storage=function(){return"sparse"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(d,m){return new r(d,m)},r.prototype.density=function(){var d=this._size[0],m=this._size[1];return 0!==d&&0!==m?this._index.length/(d*m):0},r.prototype.subset=function(d,m,p){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function o(d,m){if(!sF(m))throw new TypeError("Invalid index");if(m.isScalar())return d.get(m.min());var I=m.size();if(I.length!==d._size.length)throw new Cr(I.length,d._size.length);var C,B,y,E,b=m.min(),S=m.max();for(C=0,B=d._size.length;C<B;C++)ss(b[C],d._size[C]),ss(S[C],d._size[C]);var w=d._values,M=d._index,D=d._ptr,T=m.dimension(0),O=m.dimension(1),G=[],W=[];T.forEach(function(H,ue){W[H]=ue[0],G[H]=!0});var k=w?[]:void 0,L=[],J=[];return O.forEach(function(H){for(J.push(L.length),y=D[H],E=D[H+1];y<E;y++)!0===G[C=M[y]]&&(L.push(W[C]),k&&k.push(w[y]))}),J.push(L.length),new r({values:k,index:L,ptr:J,size:I,datatype:d._datatype})}(this,d);case 2:case 3:return function a(d,m,p,I){if(!m||!0!==m.isIndex)throw new TypeError("Invalid index");var y,C=m.size(),B=m.isScalar();if(Ei(p)?(y=p.size(),p=p.toArray()):y=Ti(p),B){if(0!==y.length)throw new TypeError("Scalar expected");d.set(m.min(),p,I)}else{if(1!==C.length&&2!==C.length)throw new Cr(C.length,d._size.length,"<");if(y.length<C.length){for(var E=0,b=0;1===C[E]&&1===y[E];)E++;for(;1===C[E];)b++,E++;p=Jne(p,C.length,b,y)}if(!Wd(C,y))throw new Cr(C,y,">");if(1===C.length)m.dimension(0).forEach(function(D,T){ss(D),d.set([D,0],p[T[0]],I)});else{var w=m.dimension(0),M=m.dimension(1);w.forEach(function(D,T){ss(D),M.forEach(function(O,G){ss(O),d.set([D,O],p[T[0]][G[0]],I)})})}}return d}(this,d,m,p);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(d){if(!HA(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new Cr(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=d[0],p=d[1];ss(m,this._size[0]),ss(p,this._size[1]);var I=c(m,this._ptr[p],this._ptr[p+1],this._index);return I<this._ptr[p+1]&&this._index[I]===m?this._values[I]:0},r.prototype.set=function(d,m,p){if(!HA(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new Cr(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var I=d[0],C=d[1],B=this._size[0],y=this._size[1],E=t,b=0;Sc(this._datatype)&&(E=e.find(t,[this._datatype,this._datatype])||t,b=e.convert(0,this._datatype)),(I>B-1||C>y-1)&&(h(this,Math.max(I+1,B),Math.max(C+1,y),p),B=this._size[0],y=this._size[1]),ss(I,B),ss(C,y);var S=c(I,this._ptr[C],this._ptr[C+1],this._index);return S<this._ptr[C+1]&&this._index[S]===I?E(m,b)?function l(d,m,p,I,C){p.splice(d,1),I.splice(d,1);for(var B=m+1;B<C.length;B++)C[B]--}(S,C,this._values,this._index,this._ptr):this._values[S]=m:E(m,b)||u(S,I,C,m,this._values,this._index,this._ptr),this},r.prototype.resize=function(d,m,p){if(!mg(d))throw new TypeError("Array or Matrix expected");var I=d.valueOf().map(B=>Array.isArray(B)&&1===B.length?B[0]:B);if(2!==I.length)throw new Error("Only two dimensions matrix are supported");return I.forEach(function(B){if(!ji(B)||!Ai(B)||B<0)throw new TypeError("Invalid size, must contain positive integers (size: "+mr(I)+")")}),h(p?this.clone():this,I[0],I[1],m)},r.prototype.reshape=function(d,m){if(!HA(d))throw new TypeError("Array expected");if(2!==d.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(H){if(!ji(H)||!Ai(H)||H<=-2||0===H)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+mr(d)+")")});var p=this._size[0]*this._size[1];if(p!==(d=z4(d,p))[0]*d[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var C=m?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return C;for(var B=[],y=0;y<C._ptr.length;y++)for(var E=0;E<C._ptr[y+1]-C._ptr[y];E++)B.push(y);for(var b=C._values.slice(),S=C._index.slice(),w=0;w<C._index.length;w++){var T=S[w]*C._size[1]+B[w];B[w]=T%d[1],S[w]=Math.floor(T/d[1])}C._values.length=0,C._index.length=0,C._ptr.length=d[1]+1,C._size=d.slice();for(var O=0;O<C._ptr.length;O++)C._ptr[O]=0;for(var G=0;G<b.length;G++){var W=S[G],k=B[G],L=b[G];u(c(W,C._ptr[k],C._ptr[k+1],C._index),W,k,L,C._values,C._index,C._ptr)}return C},r.prototype.clone=function(){return new r({values:this._values?Hi(this._values):void 0,index:Hi(this._index),ptr:Hi(this._ptr),size:Hi(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(d,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var p=this,I=this._size[0],C=this._size[1],B=uB(d,p,"map");return function g(d,m,p,I,C,B,y){var E=[],b=[],S=[],w=t,M=0;Sc(d._datatype)&&(w=e.find(t,[d._datatype,d._datatype])||t,M=e.convert(0,d._datatype));for(var D=function(z,Z,le){var ce=B(z,Z,le);w(ce,M)||(E.push(ce),b.push(Z))},T=I;T<=C;T++){S.push(E.length);var O=d._ptr[T],G=d._ptr[T+1];if(y)for(var W=O;W<G;W++){var k=d._index[W];k>=m&&k<=p&&D(d._values[W],k-m,T-I)}else{for(var L={},J=O;J<G;J++)L[d._index[J]]=d._values[J];for(var ue=m;ue<=p;ue++)D(ue in L?L[ue]:0,ue-m,T-I)}}return S.push(E.length),new r({values:E,index:b,ptr:S,size:[p-m+1,C-I+1]})}(this,0,I-1,0,C-1,function(b,S,w){return B(b,[S,w],p)},m)},r.prototype.forEach=function(d,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var p=this,I=this._size[0],C=this._size[1],B=uB(d,p,"forEach"),y=0;y<C;y++){var E=this._ptr[y],b=this._ptr[y+1];if(m)for(var S=E;S<b;S++)B(this._values[S],[this._index[S],y],p);else{for(var M={},D=E;D<b;D++)M[this._index[D]]=this._values[D];for(var O=0;O<I;O++)B(O in M?M[O]:0,[O,y],p)}}},r.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],m=0;m<d;m++)for(var I=this._ptr[m+1],C=this._ptr[m];C<I;C++){var B=this._index[C];yield{value:this._values[C],index:[B,m]}}},r.prototype.toArray=function(){return f(this._values,this._index,this._ptr,this._size,!0)},r.prototype.valueOf=function(){return f(this._values,this._index,this._ptr,this._size,!1)},r.prototype.format=function(d){for(var m=this._size[0],p=this._size[1],I=this.density(),C="Sparse Matrix ["+mr(m,d)+" x "+mr(p,d)+"] density: "+mr(I,d)+"\n",B=0;B<p;B++)for(var E=this._ptr[B+1],b=this._ptr[B];b<E;b++)C+="\n    ("+mr(this._index[b],d)+", "+mr(B,d)+") ==> "+(this._values?mr(this._values[b],d):"X");return C},r.prototype.toString=function(){return mr(this.toArray())},r.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(d){if(d){if(Zi(d)&&(d=d.toNumber()),!ji(d)||!Ai(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var m=d>0?d:0,p=d<0?-d:0,C=this._size[1],B=Math.min(this._size[0]-p,C-m),y=[],E=[],b=[];b[0]=0;for(var S=m;S<C&&y.length<B;S++)for(var M=this._ptr[S+1],D=this._ptr[S];D<M;D++){var T=this._index[D];if(T===S-m+p){y.push(this._values[D]),E[y.length-1]=T-p;break}}return b.push(y.length),new r({values:y,index:E,ptr:b,size:[B,1]})},r.fromJSON=function(d){return new r(d)},r.diagonal=function(d,m,p,I,C){if(!HA(d))throw new TypeError("Array expected, size parameter");if(2!==d.length)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(H){if(Zi(H)&&(H=H.toNumber()),!ji(H)||!Ai(H)||H<1)throw new Error("Size values must be positive integers");return H}),p){if(Zi(p)&&(p=p.toNumber()),!ji(p)||!Ai(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var B=t,y=0;Sc(C)&&(B=e.find(t,[C,C])||t,y=e.convert(0,C));var D,E=p>0?p:0,b=p<0?-p:0,S=d[0],w=d[1],M=Math.min(S-b,w-E);if(HA(m)){if(m.length!==M)throw new Error("Invalid value array length");D=function(ue){return m[ue]}}else if(Ei(m)){var T=m.size();if(1!==T.length||T[0]!==M)throw new Error("Invalid matrix length");D=function(ue){return m.get([ue])}}else D=function(){return m};for(var O=[],G=[],W=[],k=0;k<w;k++){W.push(O.length);var L=k-E;if(L>=0&&L<M){var J=D(L);B(J,y)||(G.push(L+b),O.push(J))}}return W.push(O.length),new r({values:O,index:G,ptr:W,size:[S,w]})},r.prototype.swapRows=function(d,m){if(!(ji(d)&&Ai(d)&&ji(m)&&Ai(m)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return ss(d,this._size[0]),ss(m,this._size[0]),r._swapRows(d,m,this._size[1],this._values,this._index,this._ptr),this},r._forEachRow=function(d,m,p,I,C){for(var y=I[d+1],E=I[d];E<y;E++)C(p[E],m[E])},r._swapRows=function(d,m,p,I,C,B){for(var y=0;y<p;y++){var E=B[y],b=B[y+1],S=c(d,E,b,C),w=c(m,E,b,C);if(S<b&&w<b&&C[S]===d&&C[w]===m){if(I){var M=I[S];I[S]=I[w],I[w]=M}}else if(S<b&&C[S]===d&&(w>=b||C[w]!==m)){var D=I?I[S]:void 0;C.splice(w,0,m),I&&I.splice(w,0,D),C.splice(w<=S?S+1:S,1),I&&I.splice(w<=S?S+1:S,1)}else if(w<b&&C[w]===m&&(S>=b||C[S]!==d)){var T=I?I[w]:void 0;C.splice(S,0,d),I&&I.splice(S,0,T),C.splice(S<=w?w+1:w,1),I&&I.splice(S<=w?w+1:w,1)}}},r},{isClass:!0}),Z9e=Qe("splitUnit",["typed"],n=>{var{typed:e}=n;return e("splitUnit",{"Unit, Array":function(i,r){return i.splitUnit(r)}})}),$9e=Qe("square",["typed"],n=>{var{typed:e}=n;return e("square",{number:AAe,Complex:function(i){return i.mul(i)},BigNumber:function(i){return i.times(i)},bigint:function(i){return i*i},Fraction:function(i){return i.mul(i)},Unit:function(i){return i.pow(2)}})}),tWe=Qe("string",["typed"],n=>{var{typed:e}=n;return e("string",{"":function(){return""},number:lB,null:function(i){return"null"},boolean:function(i){return i+""},string:function(i){return i},"Array | Matrix":e.referToSelf(t=>i=>qi(i,t)),any:function(i){return String(i)}})}),Ese="subtractScalar",iWe=Qe(Ese,["typed"],n=>{var{typed:e}=n;return e(Ese,{"number, number":zre,"Complex, Complex":function(i,r){return i.sub(r)},"BigNumber, BigNumber":function(i,r){return i.minus(r)},"bigint, bigint":function(i,r){return i-r},"Fraction, Fraction":function(i,r){return i.sub(r)},"Unit, Unit":e.referToSelf(t=>(i,r)=>{if(null==i.value)throw new Error("Parameter x contains a unit with undefined value");if(null==r.value)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(r))throw new Error("Units do not match");var A=i.clone();return A.value=e.find(t,[A.valueType(),r.valueType()])(A.value,r.value),A.fixPrefix=!1,A})})}),AWe=Qe("tan",["typed"],n=>{var{typed:e}=n,t=ay({typed:e});return e("tan",{number:Math.tan,"Complex | BigNumber":i=>i.tan()},t)}),oWe=Qe("typeOf",["typed"],n=>{var{typed:e}=n;return e("typeOf",{any:As})}),cWe=Qe("acosh",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:i}=n;return e("acosh",{number:function(A){return A>=1||t.predictable?lAe(A):A<=-1?new i(Math.log(Math.sqrt(A*A-1)-A),Math.PI):new i(A,0).acosh()},Complex:function(A){return A.acosh()},BigNumber:function(A){return A.acosh()}})}),uWe=Qe("acsch",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("acsch",{number:fAe,Complex:function(r){return r.acsch()},BigNumber:function(r){return new t(1).div(r).asinh()}})}),hWe=Qe("asec",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:i,BigNumber:r}=n;return e("asec",{number:function(s){return s<=-1||s>=1||t.predictable?dAe(s):new i(s,0).asec()},Complex:function(s){return s.asec()},BigNumber:function(s){return new r(1).div(s).acos()}})}),pWe=Qe("bignumber",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("bignumber",{"":function(){return new t(0)},number:function(r){return new t(r+"")},string:function(r){var A=r.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(A){var s=A[2],o=t(A[1]),a=new t(2).pow(Number(s));if(o.gt(a.sub(1)))throw new SyntaxError('String "'.concat(r,'" is out of range'));var c=new t(2).pow(Number(s)-1);return o.gte(c)?o.sub(a):o}return new t(r)},BigNumber:function(r){return r},bigint:function(r){return new t(r.toString())},Unit:e.referToSelf(i=>r=>{var A=r.clone();return A.value=i(r.value),A}),Fraction:function(r){return new t(String(r.n)).div(String(r.d)).times(String(r.s))},null:function(r){return new t(0)},"Array | Matrix":e.referToSelf(i=>r=>qi(r,i))})}),Dse="combinationsWithRep",CWe=Qe(Dse,["typed"],n=>{var{typed:e}=n;return e(Dse,{"number, number":function(i,r){if(!Ai(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Ai(r)||r<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i<1)throw new TypeError("k must be less than or equal to n + k - 1");return r<i-1?np(i,i+r-1)/np(1,r):np(r+1,i+r-1)/np(1,i-1)},"BigNumber, BigNumber":function(i,r){var s,o,a=new(0,i.constructor)(1),c=i.minus(a);if(!bse(i)||!bse(r))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i.lt(a))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(s=a,r.lt(c))for(o=a;o.lte(c);o=o.plus(a))s=s.times(r.plus(o)).dividedBy(o);else for(o=a;o.lte(r);o=o.plus(a))s=s.times(c.plus(o)).dividedBy(o);return s}})});function bse(n){return n.isInteger()&&n.gte(0)}var BWe=Qe("cosh",["typed"],n=>{var{typed:e}=n;return e("cosh",{number:Rne,"Complex | BigNumber":t=>t.cosh()})}),vWe=Qe("csch",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("csch",{number:vAe,Complex:i=>i.csch(),BigNumber:i=>new t(1).div(i.sinh())})}),QWe=Qe("isNaN",["typed"],n=>{var{typed:e}=n;return e("isNaN",{number:$Ae,BigNumber:function(i){return i.isNaN()},bigint:function(i){return!1},Fraction:function(i){return!1},Complex:function(i){return i.isNaN()},Unit:function(i){return Number.isNaN(i.value)},"Array | Matrix":e.referToSelf(t=>i=>qi(i,t))})}),_We=Qe("isPrime",["typed"],n=>{var{typed:e}=n;return e("isPrime",{number:function(i){if(i<=3)return i>1;if(i%2==0||i%3==0)return!1;for(var r=5;r*r<=i;r+=6)if(i%r==0||i%(r+2)==0)return!1;return!0},bigint:function(i){if(i<=3n)return i>1n;if(i%2n===0n||i%3n===0n)return!1;for(var r=5n;r*r<=i;r+=6n)if(i%r===0n||i%(r+2n)===0n)return!1;return!0},BigNumber:function(i){if(i.lte(3))return i.gt(1);if(i.mod(2).eq(0)||i.mod(3).eq(0))return!1;if(i.lt(Math.pow(2,32))){for(var r=i.toNumber(),A=5;A*A<=r;A+=6)if(r%A==0||r%(A+2)==0)return!1;return!0}function s(I,C,B){for(var y=1;!C.eq(0);)C.mod(2).eq(0)?(C=C.div(2),I=I.mul(I).mod(B)):(C=C.sub(1),y=I.mul(y).mod(B));return y}for(var o=i.constructor.clone({precision:2*i.toFixed(0).length}),a=0,c=(i=new o(i)).sub(1);c.mod(2).eq(0);)c=c.div(2),a+=1;var l=null;if(i.lt("3317044064679887385961981"))l=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(I=>I<i);else{var u=Math.min(i.toNumber()-2,Math.floor(2*Math.pow(i.toFixed(0).length*Math.log(10),2)));l=[];for(var h=2;h<=u;h+=1)l.push(u)}for(var g=0;g<l.length;g+=1){var f=l[g],d=s(i.sub(i).add(f),c,i);if(!d.eq(1))for(var m=0,p=d;!p.eq(i.sub(1));m+=1,p=p.mul(p).mod(i))if(m===a-1)return!1}return!0},"Array | Matrix":e.referToSelf(t=>i=>qi(i,t))})}),bWe=Qe("randomInt",["typed","config","?on"],n=>{var{typed:e,config:t,on:i}=n,r=gy(t.randomSeed);return i&&i("config",function(o,a){o.randomSeed!==a.randomSeed&&(r=gy(o.randomSeed))}),e("randomInt",{"":()=>s(0,1),number:o=>s(0,o),"number, number":(o,a)=>s(o,a),"Array | Matrix":o=>A(o,0,1),"Array | Matrix, number":(o,a)=>A(o,0,a),"Array | Matrix, number, number":(o,a,c)=>A(o,a,c)});function A(o,a,c){var l=DH(o.valueOf(),()=>s(a,c));return Ei(o)?o.create(l,"number"):l}function s(o,a){return Math.floor(o+r()*(a-o))}}),MWe=Qe("sech",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("sech",{number:QAe,Complex:i=>i.sech(),BigNumber:i=>new t(1).div(i.cosh())})}),xWe=Qe("sinh",["typed"],n=>{var{typed:e}=n;return e("sinh",{number:wAe,"Complex | BigNumber":t=>t.sinh()})}),RWe=Qe("sparse",["typed","SparseMatrix"],n=>{var{typed:e,SparseMatrix:t}=n;return e("sparse",{"":function(){return new t([])},string:function(r){return new t([],r)},"Array | Matrix":function(r){return new t(r)},"Array | Matrix, string":function(r,A){return new t(r,A)}})}),LWe=Qe("sqrt",["config","typed","Complex"],n=>{var{config:e,typed:t,Complex:i}=n;return t("sqrt",{number:r,Complex:function(s){return s.sqrt()},BigNumber:function(s){return!s.isNegative()||e.predictable?s.sqrt():r(s.toNumber())},Unit:function(s){return s.pow(.5)}});function r(A){return isNaN(A)?NaN:A>=0||e.predictable?Math.sqrt(A):new i(A,0).sqrt()}}),OWe=Qe("squeeze",["typed"],n=>{var{typed:e}=n;return e("squeeze",{Array:function(i){return uF(Hi(i))},Matrix:function(i){var r=uF(i.toArray());return Array.isArray(r)?i.create(r,i.datatype()):r},any:function(i){return Hi(i)}})}),HWe=Qe("tanh",["typed"],n=>{var{typed:e}=n;return e("tanh",{number:Tne,"Complex | BigNumber":t=>t.tanh()})}),Use="unaryMinus",KWe=Qe(Use,["typed"],n=>{var{typed:e}=n;return e(Use,{number:jre,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>i=>{var r=i.clone();return r.value=e.find(t,r.valueType())(i.value),r}),"Array | Matrix":e.referToSelf(t=>i=>qi(i,t,!0))})}),JWe=Qe("acoth",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:i,BigNumber:r}=n;return e("acoth",{number:function(s){return s>=1||s<=-1||t.predictable?gAe(s):new i(s,0).acoth()},Complex:function(s){return s.acoth()},BigNumber:function(s){return new r(1).div(s).atanh()}})}),zWe=Qe("bin",["typed","format"],n=>{var{typed:e,format:t}=n;return e("bin",{"number | BigNumber":function(r){return t(r,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(r,A){return t(r,{notation:"bin",wordSize:A})}})}),jWe=Qe("coth",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("coth",{number:BAe,Complex:i=>i.coth(),BigNumber:i=>new t(1).div(i.tanh())})}),$We=Qe("fraction",["typed","Fraction"],n=>{var{typed:e,Fraction:t}=n;return e("fraction",{number:function(r){if(!isFinite(r)||isNaN(r))throw new Error(r+" cannot be represented as a fraction");return new t(r)},string:function(r){return new t(r)},"number, number":function(r,A){return new t(r,A)},"bigint, bigint":function(r,A){return new t(r,A)},null:function(r){return new t(0)},BigNumber:function(r){return new t(r.toString())},bigint:function(r){return new t(r.toString())},Fraction:function(r){return r},Unit:e.referToSelf(i=>r=>{var A=r.clone();return A.value=i(r.value),A}),Object:function(r){return new t(r)},"Array | Matrix":e.referToSelf(i=>r=>qi(r,i))})}),tje=Qe("isNumeric",["typed"],n=>{var{typed:e}=n;return e("isNumeric",{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>i=>qi(i,t))})}),ije=Qe("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,DenseMatrix:i,SparseMatrix:r}=n;return e("matrix",{"":function(){return A([])},string:function(o){return A([],o)},"string, string":function(o,a){return A([],o,a)},Array:function(o){return A(o)},Matrix:function(o){return A(o,o.storage())},"Array | Matrix, string":A,"Array | Matrix, string, string":A});function A(s,o,a){if("dense"===o||"default"===o||void 0===o)return new i(s,a);if("sparse"===o)return new r(s,a);throw new TypeError("Unknown matrix type "+JSON.stringify(o)+".")}}),Kse="matrixFromFunction",Aje=Qe(Kse,["typed","matrix","isZero"],n=>{var{typed:e,matrix:t,isZero:i}=n;return e(Kse,{"Array | Matrix, function, string, string":function(s,o,a,c){return r(s,o,a,c)},"Array | Matrix, function, string":function(s,o,a){return r(s,o,a)},"Matrix, function":function(s,o){return r(s,o,"dense")},"Array, function":function(s,o){return r(s,o,"dense").toArray()},"Array | Matrix, string, function":function(s,o,a){return r(s,a,o)},"Array | Matrix, string, string, function":function(s,o,a,c){return r(s,c,o,a)}});function r(A,s,o,a){var c;return(c=void 0!==a?t(o,a):t(o)).resize(A),c.forEach(function(l,u){var h=s(u);i(h)||c.set(u,h)}),c}}),oje=Qe("mode",["typed","isNaN","isNumeric"],n=>{var{typed:e,isNaN:t,isNumeric:i}=n;return e("mode",{"Array | Matrix":r,"...":function(s){return r(s)}});function r(A){if(0===(A=tA(A.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var o={},a=[],c=0,l=0;l<A.length;l++){var u=A[l];if(i(u)&&t(u))throw new Error("Cannot calculate mode of an array containing NaN values");u in o||(o[u]=0),o[u]++,o[u]===c?a.push(u):o[u]>c&&(c=o[u],a=[u])}return a}}),lje=Qe("numeric",["number","?bignumber","?fraction"],n=>{var{number:e,bignumber:t,fraction:i}=n,r={string:!0,number:!0,BigNumber:!0,Fraction:!0},A={number:s=>e(s),BigNumber:t?s=>t(s):nH,bigint:s=>BigInt(s),Fraction:i?s=>i(s):cie};return function(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";if(void 0!==(arguments.length>2?arguments[2]:void 0))throw new SyntaxError("numeric() takes one or two arguments");var l=As(o);if(!(l in r))throw new TypeError("Cannot convert "+o+' of type "'+l+'"; valid input types are '+Object.keys(r).join(", "));if(!(a in A))throw new TypeError("Cannot convert "+o+' to type "'+a+'"; valid output types are '+Object.keys(A).join(", "));return a===l?o:A[a](o)}}),gje=Qe("prod",["typed","config","multiplyScalar","numeric"],n=>{var{typed:e,config:t,multiplyScalar:i,numeric:r}=n;return e("prod",{"Array | Matrix":A,"Array | Matrix, number | BigNumber":function(o,a){throw new Error("prod(A, dim) is not yet supported")},"...":function(o){return A(o)}});function A(s){var o;if(Xd(s,function(a){try{o=void 0===o?a:i(o,a)}catch(c){throw fl(c,"prod",a)}}),"string"==typeof o&&(o=r(o,Km(o,t))),void 0===o)throw new Error("Cannot calculate prod of an empty array");return o}}),fje=Qe("reshape",["typed","isInteger","matrix"],n=>{var{typed:e,isInteger:t}=n;return e("reshape",{"Matrix, Array":function(r,A){return r.reshape(A,!0)},"Array, Array":function(r,A){return A.forEach(function(s){if(!t(s))throw new TypeError("Invalid size for dimension: "+s)}),V4(r,A)}})}),pje=Qe("size",["typed","config","?matrix"],n=>{var{typed:e,config:t,matrix:i}=n;return e("size",{Matrix:function(A){return A.create(A.size(),"number")},Array:Ti,string:function(A){return"Array"===t.matrix?[A.length]:i([A.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(A){return"Array"===t.matrix?[]:i?i([],"dense","number"):lie()}})}),Cje=Qe("transpose",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return e("transpose",{Array:s=>i(t(s)).valueOf(),Matrix:i,any:Hi});function i(s){var a,o=s.size();switch(o.length){case 1:a=s.clone();break;case 2:var c=o[0],l=o[1];if(0===l)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+mr(o)+")");switch(s.storage()){case"dense":a=function r(s,o,a){for(var u,c=s._data,l=[],h=0;h<a;h++){u=l[h]=[];for(var g=0;g<o;g++)u[g]=Hi(c[g][h])}return s.createDenseMatrix({data:l,size:[a,o],datatype:s._datatype})}(s,c,l);break;case"sparse":a=function A(s,o,a){for(var c=s._values,l=s._index,u=s._ptr,h=c?[]:void 0,g=[],f=[],d=[],m=0;m<o;m++)d[m]=0;var p,I,C;for(p=0,I=l.length;p<I;p++)d[l[p]]++;for(var B=0,y=0;y<o;y++)f.push(B),B+=d[y],d[y]=f[y];for(f.push(B),C=0;C<a;C++)for(var b=u[C+1],S=u[C];S<b;S++){var w=d[l[S]]++;g[w]=C,c&&(h[w]=Hi(c[S]))}return s.createSparseMatrix({values:h,index:g,ptr:f,size:[a,o],datatype:s._datatype})}(s,c,l)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+mr(o)+")")}return a}}),Bje=Qe("xgcd",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:i,BigNumber:r}=n;return e("xgcd",{"number, number":function(o,a){var c=sAe(o,a);return"Array"===t.matrix?c:i(c)},"BigNumber, BigNumber":function A(s,o){var a,c,l,p,u=new r(0),h=new r(1),g=u,f=h,d=h,m=u;if(!s.isInt()||!o.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!o.isZero();)c=s.div(o).floor(),l=s.mod(o),a=g,g=f.minus(c.times(g)),f=a,a=d,d=m.minus(c.times(d)),m=a,s=o,o=l;return p=s.lt(u)?[s.neg(),f.neg(),m.neg()]:[s,s.isZero()?0:f,m],"Array"===t.matrix?p:i(p)}})}),vje=Qe("zeros",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:i,BigNumber:r}=n;return e("zeros",{"":function(){return"Array"===t.matrix?A([]):A([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var u=c.pop();return A(c,u)}return"Array"===t.matrix?A(c):A(c,"default")},Array:A,Matrix:function(c){var l=c.storage();return A(c.valueOf(),l)},"Array | Matrix, string":function(c,l){return A(c.valueOf(),l)}});function A(a,c){var l=function s(a){var c=!1;return a.forEach(function(l,u,h){Zi(l)&&(c=!0,h[u]=l.toNumber())}),c}(a),u=l?new r(0):0;if(function o(a){a.forEach(function(c){if("number"!=typeof c||!Ai(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}(a),c){var h=i(c);return a.length>0?h.resize(a,u):h}var g=[];return a.length>0?ey(g,a,u):g}}),Qje=Qe("asin",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:i}=n;return e("asin",{number:function(A){return A>=-1&&A<=1||t.predictable?Math.asin(A):new i(A,0).asin()},Complex:function(A){return A.asin()},BigNumber:function(A){return A.asin()}})}),_je=Qe("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],n=>{var{config:e,typed:t,isNegative:i,unaryMinus:r,matrix:A,Complex:s,BigNumber:o,Fraction:a}=n;return t("cbrt",{number:X1,Complex:c,"Complex, boolean":c,BigNumber:function(h){return h.cbrt()},Unit:function l(u){if(u.value&&jd(u.value)){var h=u.clone();return h.value=1,(h=h.pow(1/3)).value=c(u.value),h}var f,g=i(u.value);g&&(u.value=r(u.value)),f=Zi(u.value)?new o(1).div(3):G1(u.value)?new a(1,3):1/3;var d=u.pow(f);return g&&(d.value=r(d.value)),d}});function c(u,h){var g=u.arg()/3,f=u.abs(),d=new s(X1(f),0).mul(new s(0,g).exp());if(h){var m=[d,new s(X1(f),0).mul(new s(0,g+2*Math.PI/3).exp()),new s(X1(f),0).mul(new s(0,g-2*Math.PI/3).exp())];return"Array"===e.matrix?m:A(m)}return d}}),bje=Qe("count",["typed","size","prod"],n=>{var{typed:e,size:t,prod:i}=n;return e("count",{string:function(A){return A.length},"Matrix | Array":function(A){return i(t(A))}})}),toe="ctranspose",Mje=Qe(toe,["typed","transpose","conj"],n=>{var{typed:e,transpose:t,conj:i}=n;return e(toe,{any:function(A){return i(t(A))}})}),xje=Qe("diag",["typed","matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:i,SparseMatrix:r}=n;return e("diag",{Array:function(c){return A(c,0,Ti(c),null)},"Array, number":function(c,l){return A(c,l,Ti(c),null)},"Array, BigNumber":function(c,l){return A(c,l.toNumber(),Ti(c),null)},"Array, string":function(c,l){return A(c,0,Ti(c),l)},"Array, number, string":function(c,l,u){return A(c,l,Ti(c),u)},"Array, BigNumber, string":function(c,l,u){return A(c,l.toNumber(),Ti(c),u)},Matrix:function(c){return A(c,0,c.size(),c.storage())},"Matrix, number":function(c,l){return A(c,l,c.size(),c.storage())},"Matrix, BigNumber":function(c,l){return A(c,l.toNumber(),c.size(),c.storage())},"Matrix, string":function(c,l){return A(c,0,c.size(),l)},"Matrix, number, string":function(c,l,u){return A(c,l,c.size(),u)},"Matrix, BigNumber, string":function(c,l,u){return A(c,l.toNumber(),c.size(),u)}});function A(a,c,l,u){if(!Ai(c))throw new TypeError("Second parameter in function diag must be an integer");var h=c>0?c:0,g=c<0?-c:0;switch(l.length){case 1:return function s(a,c,l,u,h,g){var f=[u+h,u+g];if(l&&"sparse"!==l&&"dense"!==l)throw new TypeError("Unknown matrix type ".concat(l,'"'));var d="sparse"===l?r.diagonal(f,a,c):i.diagonal(f,a,c);return null!==l?d:d.valueOf()}(a,c,u,l[0],g,h);case 2:return function o(a,c,l,u,h,g){if(Ei(a)){var f=a.diagonal(c);return null!==l?l!==f.storage()?t(f,l):f:f.valueOf()}for(var d=Math.min(u[0]-h,u[1]-g),m=[],p=0;p<d;p++)m[p]=a[p+h][p+g];return null!==l?t(m):m}(a,c,u,l,g,h)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}),ioe="divideScalar",Rje=Qe(ioe,["typed","numeric"],n=>{var{typed:e}=n;return e(ioe,{"number, number":function(r,A){return r/A},"Complex, Complex":function(r,A){return r.div(A)},"BigNumber, BigNumber":function(r,A){return r.div(A)},"bigint, bigint":function(r,A){return r/A},"Fraction, Fraction":function(r,A){return r.div(A)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,r)=>i.divide(r),"number | Fraction | Complex | BigNumber, Unit":(i,r)=>r.divideInto(i)})}),Nf=Qe("matAlgo07xSSf",["typed","SparseMatrix"],n=>{var{typed:e,SparseMatrix:t}=n;return function(A,s,o){var a=A._size,c=A._datatype||void 0===A._data?A._datatype:A.getDataType(),l=s._size,u=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(a.length!==l.length)throw new Cr(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var f,h=a[0],g=a[1],d=0,m=o;"string"==typeof c&&c===u&&"mixed"!==c&&(d=e.convert(0,f=c),m=e.find(o,[f,f]));for(var p=[],I=[],C=new Array(g+1).fill(0),B=[],y=[],E=[],b=[],S=0;S<g;S++){var w=S+1,M=0;i(A,S,E,B,w),i(s,S,b,y,w);for(var D=0;D<h;D++){var G=m(E[D]===w?B[D]:d,b[D]===w?y[D]:d);0!==G&&!1!==G&&(I.push(D),p.push(G),M++)}C[S+1]=C[S]+M}return new t({values:p,index:I,ptr:C,size:[h,g],datatype:c===A._datatype&&u===s._datatype?f:void 0})};function i(r,A,s,o,a){for(var c=r._values,l=r._index,u=r._ptr,h=u[A],g=u[A+1];h<g;h++){var f=l[h];s[f]=a,o[f]=c[h]}}}),Uje=Qe("dotDivide",["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,divideScalar:r,DenseMatrix:A,concat:s,SparseMatrix:o}=n,a=Mh({typed:e,equalScalar:i}),c=hl({typed:e}),l=Nf({typed:e,SparseMatrix:o}),u=ec({typed:e,equalScalar:i}),h=la({typed:e,DenseMatrix:A});return e("dotDivide",os({typed:e,matrix:t,concat:s})({elop:r,SS:l,DS:c,SD:a,Ss:u,sS:h}))}),eR="equal",Gje=Qe(eR,["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:i,DenseMatrix:r,concat:A,SparseMatrix:s}=n,o=hl({typed:e}),a=Nf({typed:e,SparseMatrix:s}),c=la({typed:e,DenseMatrix:r}),l=os({typed:e,matrix:t,concat:A});return e(eR,Pje({typed:e,equalScalar:i}),l({elop:i,SS:a,DS:o,Ss:c}))}),Pje=Qe(eR,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(eR,{"any, any":function(r,A){return null===r?null===A:null===A?null===r:void 0===r?void 0===A:void 0===A?void 0===r:t(r,A)}})}),Aoe="hasNumericValue",Yje=Qe(Aoe,["typed","isNumeric"],n=>{var{typed:e,isNumeric:t}=n;return e(Aoe,{boolean:()=>!0,string:function(r){return r.trim().length>0&&!isNaN(Number(r))},any:function(r){return t(r)}})}),qje=Qe("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],n=>{var{typed:e,config:t,matrix:i,BigNumber:r,DenseMatrix:A,SparseMatrix:s}=n;return e("identity",{"":function(){return"Matrix"===t.matrix?i([]):[]},string:function(l){return i(l)},"number | BigNumber":function(l){return a(l,l,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, string":function(l,u){return a(l,l,u)},"number | BigNumber, number | BigNumber":function(l,u){return a(l,u,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(l,u,h){return a(l,u,h)},Array:function(l){return o(l)},"Array, string":function(l,u){return o(l,u)},Matrix:function(l){return o(l.valueOf(),l.storage())},"Matrix, string":function(l,u){return o(l.valueOf(),u)}});function o(c,l){switch(c.length){case 0:return l?i(l):[];case 1:return a(c[0],c[0],l);case 2:return a(c[0],c[1],l);default:throw new Error("Vector containing two values expected")}}function a(c,l,u){var h=Zi(c)||Zi(l)?r:null;if(Zi(c)&&(c=c.toNumber()),Zi(l)&&(l=l.toNumber()),!Ai(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!Ai(l)||l<1)throw new Error("Parameters in function identity must be positive integers");var g=h?new r(1):1,f=h?new h(0):0,d=[c,l];if(u){if("sparse"===u)return s.diagonal(d,g,0,f);if("dense"===u)return A.diagonal(d,g,0,f);throw new TypeError('Unknown matrix type "'.concat(u,'"'))}for(var m=ey([],d,f),p=c<l?c:l,I=0;I<p;I++)m[I][I]=g;return m}}),Vje=Qe("kron",["typed","matrix","multiplyScalar"],n=>{var{typed:e,matrix:t,multiplyScalar:i}=n;return e("kron",{"Matrix, Matrix":function(s,o){return t(r(s.toArray(),o.toArray()))},"Matrix, Array":function(s,o){return t(r(s.toArray(),o))},"Array, Matrix":function(s,o){return t(r(s,o.toArray()))},"Array, Array":r});function r(A,s){if(1===Ti(A).length&&(A=[A]),1===Ti(s).length&&(s=[s]),Ti(A).length>2||Ti(s).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(A.length)+", y = "+JSON.stringify(s.length)+")");var o=[],a=[];return A.map(function(c){return s.map(function(l){return o.push(a=[]),c.map(function(u){return l.map(function(h){return a.push(i(u,h))})})})})&&o}}),tR="largerEq",Wje=Qe(tR,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:i,DenseMatrix:r,concat:A,SparseMatrix:s}=n,o=hl({typed:e}),a=Nf({typed:e,SparseMatrix:s}),c=la({typed:e,DenseMatrix:r}),l=os({typed:e,matrix:i,concat:A}),u=cy({typed:e});return e(tR,jje({typed:e,config:t}),{"boolean, boolean":(h,g)=>h>=g,"BigNumber, BigNumber":function(g,f){return g.gte(f)||Wl(g,f,t.relTol,t.absTol)},"bigint, bigint":function(g,f){return g>=f},"Fraction, Fraction":(h,g)=>-1!==h.compare(g),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,l({SS:a,DS:o,Ss:c}))}),jje=Qe(tR,["typed","config"],n=>{var{typed:e,config:t}=n;return e(tR,{"number, number":function(r,A){return r>=A||$a(r,A,t.relTol,t.absTol)}})}),bH=Qe("matAlgo08xS0Sid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,A,s){var o=r._values,a=r._index,c=r._ptr,l=r._size,u=r._datatype||void 0===r._data?r._datatype:r.getDataType(),h=A._values,g=A._index,f=A._ptr,d=A._size,m=A._datatype||void 0===A._data?A._datatype:A.getDataType();if(l.length!==d.length)throw new Cr(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!o||!h)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var C,p=l[0],I=l[1],B=t,y=0,E=s;"string"==typeof u&&u===m&&"mixed"!==u&&(B=e.find(t,[C=u,C]),y=e.convert(0,C),E=e.find(s,[C,C]));for(var T,G,W,b=[],S=[],w=[],M=[],D=[],k=0;k<I;k++){w[k]=S.length;var L=k+1;for(G=c[k+1],T=c[k];T<G;T++)D[W=a[T]]=L,M[W]=o[T],S.push(W);for(G=f[k+1],T=f[k];T<G;T++)D[W=g[T]]===L&&(M[W]=E(M[W],h[T]));for(T=w[k];T<S.length;){var J=M[W=S[T]];B(J,y)?S.splice(T,1):(b.push(J),T++)}}return w[I]=S.length,r.createSparseMatrix({values:b,index:S,ptr:w,size:[p,I],datatype:u===r._datatype&&m===A._datatype?C:void 0})}}),SH=Qe("useMatrixForArrayScalar",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return{"Array, number":e.referTo("DenseMatrix, number",i=>(r,A)=>i(t(r),A).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",i=>(r,A)=>i(t(r),A).valueOf()),"number, Array":e.referTo("number, DenseMatrix",i=>(r,A)=>i(r,t(A)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",i=>(r,A)=>i(r,t(A)).valueOf())}}),e7e=Qe("leftShift",["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,zeros:r,DenseMatrix:A,concat:s}=n,o=Wm({typed:e}),a=Mh({typed:e,equalScalar:i}),c=bH({typed:e,equalScalar:i}),l=gB({typed:e,DenseMatrix:A}),u=ec({typed:e,equalScalar:i}),h=Sh({typed:e}),g=os({typed:e,matrix:t,concat:s}),f=SH({typed:e,matrix:t});return e("leftShift",{"number, number":Wie,"BigNumber, BigNumber":IKe,"bigint, bigint":(d,m)=>d<<m,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(m,p)=>i(p,0)?m.clone():u(m,p,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(m,p)=>i(p,0)?m.clone():h(m,p,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(m,p)=>i(m,0)?r(p.size(),p.storage()):l(p,m,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(m,p)=>i(m,0)?r(p.size(),p.storage()):h(p,m,d,!0))},f,g({SS:c,DS:o,SD:a}))});function tD(n){var{DenseMatrix:e}=n;return function(i,r,A){var s=i.size();if(2!==s.length)throw new RangeError("Matrix must be two dimensional (size: "+mr(s)+")");var o=s[0];if(o!==s[1])throw new RangeError("Matrix must be square (size: "+mr(s)+")");var c=[];if(Ei(r)){var l=r.size(),u=r._data;if(1===l.length){if(l[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var h=0;h<o;h++)c[h]=[u[h]];return new e({data:c,size:[o,1],datatype:r._datatype})}if(2===l.length){if(l[0]!==o||1!==l[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(AF(r)){if(A){c=[];for(var g=0;g<o;g++)c[g]=[u[g][0]];return new e({data:c,size:[o,1],datatype:r._datatype})}return r}if(aB(r)){for(var f=0;f<o;f++)c[f]=[0];for(var d=r._values,m=r._index,p=r._ptr,I=p[1],C=p[0];C<I;C++)c[m[C]][0]=d[C];return new e({data:c,size:[o,1],datatype:r._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(HA(r)){var y=Ti(r);if(1===y.length){if(y[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var E=0;E<o;E++)c[E]=[r[E]];return new e({data:c,size:[o,1]})}if(2===y.length){if(y[0]!==o||1!==y[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<o;b++)c[b]=[r[b][0]];return new e({data:c,size:[o,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var n7e=Qe("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:r,subtractScalar:A,equalScalar:s,DenseMatrix:o}=n,a=tD({DenseMatrix:o});return e("lsolve",{"SparseMatrix, Array | Matrix":function(h,g){return function l(u,h){for(var g=(h=a(u,h,!0))._data,f=u._size[0],d=u._size[1],m=u._values,p=u._index,I=u._ptr,C=[],B=0;B<d;B++){var y=g[B][0]||0;if(s(y,0))C[B]=[0];else{for(var E=0,b=[],S=[],M=I[B+1],D=I[B];D<M;D++){var T=p[D];T===B?E=m[D]:T>B&&(b.push(m[D]),S.push(T))}if(s(E,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=i(y,E),G=0,W=S.length;G<W;G++){var k=S[G];g[k]=[A(g[k][0]||0,r(O,b[G]))]}C[B]=[O]}}return new o({data:C,size:[f,1]})}(h,g)},"DenseMatrix, Array | Matrix":function(h,g){return c(h,g)},"Array, Array | Matrix":function(h,g){return c(t(h),g).valueOf()}});function c(u,h){for(var g=(h=a(u,h,!0))._data,f=u._size[0],d=u._size[1],m=[],p=u._data,I=0;I<d;I++){var C=g[I][0]||0,B=void 0;if(s(C,0))B=0;else{var y=p[I][I];if(s(y,0))throw new Error("Linear system cannot be solved since matrix is singular");B=i(C,y);for(var E=I+1;E<f;E++)g[E]=[A(g[E][0]||0,r(B,p[E][I]))]}m[I]=[B]}return new o({data:m,size:[f,1]})}}),loe="matrixFromColumns",r7e=Qe(loe,["typed","matrix","flatten","size"],n=>{var{typed:e,matrix:t,flatten:i,size:r}=n;return e(loe,{"...Array":function(a){return A(a)},"...Matrix":function(a){return t(A(a.map(c=>c.toArray())))}});function A(o){if(0===o.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var a=s(o[0]),c=[],l=0;l<a;l++)c[l]=[];for(var u of o){var h=s(u);if(h!==a)throw new TypeError("The vectors had different length: "+(0|a)+" \u2260 "+(0|h));for(var g=i(u),f=0;f<a;f++)c[f].push(g[f])}return c}function s(o){var a=r(o);if(1===a.length)return a[0];if(2===a.length){if(1===a[0])return a[1];if(1===a[1])return a[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),s7e=Qe("nthRoot",["typed","matrix","equalScalar","BigNumber","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,BigNumber:r,concat:A}=n,s=Wm({typed:e}),o=Mh({typed:e,equalScalar:i}),a=TF({typed:e,equalScalar:i}),c=ec({typed:e,equalScalar:i}),l=os({typed:e,matrix:t,concat:A});function u(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e("nthRoot",{number:rAe,"number, number":rAe,BigNumber:g=>h(g,new r(2)),"BigNumber, BigNumber":h,Complex:u,"Complex, number":u,Array:e.referTo("DenseMatrix,number",g=>f=>g(t(f),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",g=>f=>g(f,2)),SparseMatrix:e.referTo("SparseMatrix,number",g=>f=>g(f,2)),"SparseMatrix, SparseMatrix":e.referToSelf(g=>(f,d)=>{if(1===d.density())return a(f,d,g);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(g=>(f,d)=>{if(1===d.density())return s(f,d,g,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",g=>(f,d)=>g(t(f),d)),"number | BigNumber, SparseMatrix":e.referToSelf(g=>(f,d)=>{if(1===d.density())return c(d,f,g,!0);throw new Error("Root must be non-zero")})},l({scalar:"number | BigNumber",SD:o,Ss:c,sS:!1}));function h(g,f){var d=r.precision,m=r.clone({precision:d+2}),p=new r(0),I=new m(1),C=f.isNegative();if(C&&(f=f.neg()),f.isZero())throw new Error("Root must be non-zero");if(g.isNegative()&&!f.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(g.isZero())return C?new m(1/0):0;if(!g.isFinite())return C?p:g;var B=g.abs().pow(I.div(f));return B=g.isNeg()?B.neg():B,new r((C?I.div(B):B).toPrecision(d))}}),c7e=Qe("ones",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:i,BigNumber:r}=n;return e("ones",{"":function(){return"Array"===t.matrix?A([]):A([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var u=c.pop();return A(c,u)}return"Array"===t.matrix?A(c):A(c,"default")},Array:A,Matrix:function(c){var l=c.storage();return A(c.valueOf(),l)},"Array | Matrix, string":function(c,l){return A(c.valueOf(),l)}});function A(a,c){var l=function s(a){var c=!1;return a.forEach(function(l,u,h){Zi(l)&&(c=!0,h[u]=l.toNumber())}),c}(a),u=l?new r(1):1;if(function o(a){a.forEach(function(c){if("number"!=typeof c||!Ai(c)||c<0)throw new Error("Parameters in function ones must be positive integers")})}(a),c){var h=i(c);return a.length>0?h.resize(a,u):h}var g=[];return a.length>0?ey(g,a,u):g}}),u7e=Qe("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],n=>{var{typed:e,matrix:t,zeros:i,identity:r,isZero:A,equal:s,sign:o,sqrt:a,conj:c,unaryMinus:l,addScalar:u,divideScalar:h,multiplyScalar:g,subtractScalar:f,complex:d}=n;return aa(e("qr",{DenseMatrix:function(B){return p(B)},SparseMatrix:function(B){return function I(C){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(B){var E=p(t(B));return{Q:E.Q.valueOf(),R:E.R.valueOf()}}}),{_denseQRimpl:m});function m(C){var M,D,T,B=C._size[0],y=C._size[1],E=r([B],"dense"),b=E._data,S=C.clone(),w=S._data,O=i([B],"");for(T=0;T<Math.min(y,B);++T){var G=w[T][T],W=l(s(G,0)?1:o(G)),k=c(W),L=0;for(M=T;M<B;M++)L=u(L,g(w[M][T],c(w[M][T])));var J=g(W,a(L));if(!A(J)){var H=f(G,J);for(O[T]=1,M=T+1;M<B;M++)O[M]=h(w[M][T],H);var ue=l(c(h(H,J))),ye=void 0;for(D=T;D<y;D++){for(ye=0,M=T;M<B;M++)ye=u(ye,g(c(O[M]),w[M][D]));for(ye=g(ye,ue),M=T;M<B;M++)w[M][D]=g(f(w[M][D],g(O[M],ye)),k)}for(M=0;M<B;M++){for(ye=0,D=T;D<B;D++)ye=u(ye,g(b[M][D],O[D]));for(ye=g(ye,ue),D=T;D<B;++D)b[M][D]=h(f(b[M][D],g(ye,c(O[D]))),k)}}}return{Q:E,R:S,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function p(C){var B=m(C),y=B.R._data;if(C._data.length>0)for(var E="Complex"===y[0][0].type?d(0):0,b=0;b<y.length;++b)for(var S=0;S<b&&S<(y[0]||[]).length;++S)y[b][S]=E;return B}});function dB(n,e,t,i){if(!(this instanceof dB))throw new SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=e,this.min=t,this.max=i,this.message="Wrong number of arguments in function "+n+" ("+e+" provided, "+t+(null!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}(dB.prototype=new Error).constructor=Error,dB.prototype.name="ArgumentsError",dB.prototype.isArgumentsError=!0;var f7e=Qe("resize",["config","matrix"],n=>{var{config:e,matrix:t}=n;return function(A,s,o){if(2!==arguments.length&&3!==arguments.length)throw new dB("resize",arguments.length,2,3);if(Ei(s)&&(s=s.valueOf()),Zi(s[0])&&(s=s.map(function(l){return Zi(l)?l.toNumber():l})),Ei(A))return A.resize(s,o,!0);if("string"==typeof A)return function i(r,A,s){if(void 0!==s){if("string"!=typeof s||1!==s.length)throw new TypeError("Single character expected as defaultValue")}else s=" ";if(1!==A.length)throw new Cr(A.length,1);var o=A[0];if("number"!=typeof o||!Ai(o))throw new TypeError("Invalid size, must contain positive integers (size: "+mr(A)+")");if(r.length>o)return r.substring(0,o);if(r.length<o){for(var a=r,c=0,l=o-r.length;c<l;c++)a+=s;return a}return r}(A,s,o);var a=!Array.isArray(A)&&"Array"!==e.matrix;if(0===s.length){for(;Array.isArray(A);)A=A[0];return Hi(A)}Array.isArray(A)||(A=[A]);var c=ey(A=Hi(A),s,o);return a?t(c):c}}),hoe="rightArithShift",p7e=Qe(hoe,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,zeros:r,DenseMatrix:A,concat:s}=n,o=Wm({typed:e}),a=Mh({typed:e,equalScalar:i}),c=bH({typed:e,equalScalar:i}),l=gB({typed:e,DenseMatrix:A}),u=ec({typed:e,equalScalar:i}),h=Sh({typed:e}),g=os({typed:e,matrix:t,concat:s}),f=SH({typed:e,matrix:t});return e(hoe,{"number, number":jie,"BigNumber, BigNumber":BKe,"bigint, bigint":(d,m)=>d>>m,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(m,p)=>i(p,0)?m.clone():u(m,p,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(m,p)=>i(p,0)?m.clone():h(m,p,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(m,p)=>i(m,0)?r(p.size(),p.storage()):l(p,m,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(m,p)=>i(m,0)?r(p.size(),p.storage()):h(p,m,d,!0))},f,g({SS:c,DS:o,SD:a}))}),hy="Number of decimals in function round must be an integer",C7e=Qe("round",["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],n=>{var{typed:e,config:t,matrix:i,equalScalar:r,zeros:A,BigNumber:s,DenseMatrix:o}=n,a=ec({typed:e,equalScalar:r}),c=la({typed:e,DenseMatrix:o}),l=Sh({typed:e});function u(h){return Math.abs(K1(h).exponent)}return e("round",{number:function(g){var f=$1(g,u(t.relTol));return $1($a(g,f,t.relTol,t.absTol)?f:g)},"number, number":function(g,f){var d=u(t.relTol);if(f>=d)return $1(g,f);var m=$1(g,d);return $1($a(g,m,t.relTol,t.absTol)?m:g,f)},"number, BigNumber":function(g,f){if(!f.isInteger())throw new TypeError(hy);return new s(g).toDecimalPlaces(f.toNumber())},Complex:function(g){return g.round()},"Complex, number":function(g,f){if(f%1)throw new TypeError(hy);return g.round(f)},"Complex, BigNumber":function(g,f){if(!f.isInteger())throw new TypeError(hy);var d=f.toNumber();return g.round(d)},BigNumber:function(g){var f=new s(g).toDecimalPlaces(u(t.relTol));return(Wl(g,f,t.relTol,t.absTol)?f:g).toDecimalPlaces(0)},"BigNumber, BigNumber":function(g,f){if(!f.isInteger())throw new TypeError(hy);var d=u(t.relTol);if(f>=d)return g.toDecimalPlaces(f.toNumber());var m=g.toDecimalPlaces(d);return(Wl(g,m,t.relTol,t.absTol)?m:g).toDecimalPlaces(f.toNumber())},Fraction:function(g){return g.round()},"Fraction, number":function(g,f){if(f%1)throw new TypeError(hy);return g.round(f)},"Fraction, BigNumber":function(g,f){if(!f.isInteger())throw new TypeError(hy);return g.round(f.toNumber())},"Unit, number, Unit":e.referToSelf(h=>function(g,f,d){var m=g.toNumeric(d);return d.multiply(h(m,f))}),"Unit, BigNumber, Unit":e.referToSelf(h=>(g,f,d)=>h(g,f.toNumber(),d)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(h=>(g,f,d)=>qi(g,m=>h(m,f,d),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(h=>(g,f)=>h(g,0,f)),"Array | Matrix":e.referToSelf(h=>g=>qi(g,h,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(h=>(g,f)=>a(g,f,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(g,f)=>l(g,f,h,!1)),"Array, number | BigNumber":e.referToSelf(h=>(g,f)=>l(i(g),f,h,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(h=>(g,f)=>r(g,0)?A(f.size(),f.storage()):c(f,g,h,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(h=>(g,f)=>r(g,0)?A(f.size(),f.storage()):l(f,g,h,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(h=>(g,f)=>l(i(f),g,h,!0).valueOf())})}),nR="smaller",B7e=Qe(nR,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:i,DenseMatrix:r,concat:A,SparseMatrix:s}=n,o=hl({typed:e}),a=Nf({typed:e,SparseMatrix:s}),c=la({typed:e,DenseMatrix:r}),l=os({typed:e,matrix:i,concat:A}),u=cy({typed:e});return e(nR,E7e({typed:e,config:t}),{"boolean, boolean":(h,g)=>h<g,"BigNumber, BigNumber":function(g,f){return g.lt(f)&&!Wl(g,f,t.relTol,t.absTol)},"bigint, bigint":(h,g)=>h<g,"Fraction, Fraction":(h,g)=>-1===h.compare(g),"Complex, Complex":function(g,f){throw new TypeError("No ordering relation is defined for complex numbers")}},u,l({SS:a,DS:o,Ss:c}))}),E7e=Qe(nR,["typed","config"],n=>{var{typed:e,config:t}=n;return e(nR,{"number, number":function(r,A){return r<A&&!$a(r,A,t.relTol,t.absTol)}})}),y7e=Qe("subtract",["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,subtractScalar:r,DenseMatrix:s,concat:o}=n,a=Wm({typed:e}),c=hl({typed:e}),l=RF({typed:e,equalScalar:i}),u=gB({typed:e,DenseMatrix:s}),h=la({typed:e,DenseMatrix:s});return e("subtract",{"any, any":r},os({typed:e,matrix:t,concat:o})({elop:r,SS:l,DS:a,SD:c,Ss:h,sS:u}))}),w7e=Qe("to",["typed","matrix","concat"],n=>{var{typed:e,matrix:t,concat:i}=n;return e("to",{"Unit, Unit | string":(A,s)=>A.to(s)},os({typed:e,matrix:t,concat:i})({Ds:!0}))}),D7e=Qe("unaryPlus",["typed","config","numeric"],n=>{var{typed:e,config:t,numeric:i}=n;return e("unaryPlus",{number:Zre,Complex:function(A){return A},BigNumber:function(A){return A},bigint:function(A){return A},Fraction:function(A){return A},Unit:function(A){return A.clone()},"Array | Matrix":e.referToSelf(r=>A=>qi(A,r,!0)),boolean:function(A){return i(A?1:0,t.number)},string:function(A){return i(A,Km(A,t))}})}),S7e=Qe("usolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:r,subtractScalar:A,equalScalar:s,DenseMatrix:o}=n,a=tD({DenseMatrix:o});return e("usolve",{"SparseMatrix, Array | Matrix":function(h,g){return function l(u,h){for(var g=(h=a(u,h,!0))._data,f=u._size[0],m=u._values,p=u._index,I=u._ptr,C=[],B=u._size[1]-1;B>=0;B--){var y=g[B][0]||0;if(s(y,0))C[B]=[0];else{for(var E=0,b=[],S=[],w=I[B],D=I[B+1]-1;D>=w;D--){var T=p[D];T===B?E=m[D]:T<B&&(b.push(m[D]),S.push(T))}if(s(E,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=i(y,E),G=0,W=S.length;G<W;G++){var k=S[G];g[k]=[A(g[k][0],r(O,b[G]))]}C[B]=[O]}}return new o({data:C,size:[f,1]})}(h,g)},"DenseMatrix, Array | Matrix":function(h,g){return c(h,g)},"Array, Array | Matrix":function(h,g){return c(t(h),g).valueOf()}});function c(u,h){for(var g=(h=a(u,h,!0))._data,f=u._size[0],m=[],p=u._data,I=u._size[1]-1;I>=0;I--){var C=g[I][0]||0,B=void 0;if(s(C,0))B=0;else{var y=p[I][I];if(s(y,0))throw new Error("Linear system cannot be solved since matrix is singular");B=i(C,y);for(var E=I-1;E>=0;E--)g[E]=[A(g[E][0]||0,r(B,p[E][I]))]}m[I]=[B]}return new o({data:m,size:[f,1]})}}),N7e=Qe("xor",["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:i,concat:r,SparseMatrix:A}=n,s=hl({typed:e}),o=Nf({typed:e,SparseMatrix:A}),a=la({typed:e,DenseMatrix:i}),c=os({typed:e,matrix:t,concat:r});return e("xor",{"number, number":lH,"Complex, Complex":function(u,h){return(0!==u.re||0!==u.im)!=(0!==h.re||0!==h.im)},"bigint, bigint":lH,"BigNumber, BigNumber":function(u,h){return(!u.isZero()&&!u.isNaN())!=(!h.isZero()&&!h.isNaN())},"Unit, Unit":e.referToSelf(l=>(u,h)=>l(u.value||0,h.value||0))},c({SS:o,DS:s,Ss:a}))}),F7e=Qe("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],n=>{var{typed:e,matrix:t,addScalar:i,equalScalar:r,DenseMatrix:A,concat:o}=n,a=Wm({typed:e}),c=hH({typed:e,equalScalar:r}),l=gB({typed:e,DenseMatrix:A}),u=os({typed:e,matrix:t,concat:o});return e("add",{"any, any":i,"any, any, ...any":e.referToSelf(h=>(g,f,d)=>{for(var m=h(g,f),p=0;p<d.length;p++)m=h(m,d[p]);return m})},u({elop:i,DS:a,SS:c,Ss:l}))}),Eoe=Qe("matAlgo09xS0Sf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,A,s){var o=r._values,a=r._index,c=r._ptr,l=r._size,u=r._datatype||void 0===r._data?r._datatype:r.getDataType(),h=A._values,g=A._index,f=A._ptr,d=A._size,m=A._datatype||void 0===A._data?A._datatype:A.getDataType();if(l.length!==d.length)throw new Cr(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var C,p=l[0],I=l[1],B=t,y=0,E=s;"string"==typeof u&&u===m&&"mixed"!==u&&(B=e.find(t,[C=u,C]),y=e.convert(0,C),E=e.find(s,[C,C]));var T,O,G,k,b=o&&h?[]:void 0,S=[],w=[],M=b?[]:void 0,D=[];for(O=0;O<I;O++){w[O]=S.length;var L=O+1;if(M)for(k=f[O+1],G=f[O];G<k;G++)D[T=g[G]]=L,M[T]=h[G];for(k=c[O+1],G=c[O];G<k;G++)if(T=a[G],M){var H=E(o[G],D[T]===L?M[T]:y);B(H,y)||(S.push(T),b.push(H))}else S.push(T)}return w[I]=S.length,r.createSparseMatrix({values:b,index:S,ptr:w,size:[p,I],datatype:u===r._datatype&&m===A._datatype?C:void 0})}}),L7e=Qe("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,BigNumber:r,DenseMatrix:A,concat:s}=n,o=Mh({typed:e,equalScalar:i}),a=hl({typed:e}),c=Eoe({typed:e,equalScalar:i}),l=ec({typed:e,equalScalar:i}),u=la({typed:e,DenseMatrix:A}),h=os({typed:e,matrix:t,concat:s});return e("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":(g,f)=>r.atan2(g,f)},h({scalar:"number | BigNumber",SS:c,DS:a,SD:o,Ss:l,sS:u}))}),O7e=Qe("bitXor",["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:i,concat:r,SparseMatrix:A}=n,s=hl({typed:e}),o=Nf({typed:e,SparseMatrix:A}),a=la({typed:e,DenseMatrix:i});return e("bitXor",{"number, number":zie,"BigNumber, BigNumber":CKe,"bigint, bigint":(l,u)=>l^u},os({typed:e,matrix:t,concat:r})({SS:o,DS:s,Ss:a}))}),P7e=Qe("catalan",["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],n=>{var{typed:e,addScalar:t,divideScalar:i,multiplyScalar:r,combinations:A,isNegative:s,isInteger:o}=n;return e("catalan",{"number | BigNumber":function(c){if(!o(c)||s(c))throw new TypeError("Non-negative integer value expected in function catalan");return i(A(r(c,2),c),t(c,1))}})}),iR="compare",Y7e=Qe(iR,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],n=>{var{typed:e,config:t,equalScalar:i,matrix:r,BigNumber:A,Fraction:s,DenseMatrix:o,concat:a}=n,c=hl({typed:e}),l=RF({typed:e,equalScalar:i}),u=la({typed:e,DenseMatrix:o}),h=os({typed:e,matrix:r,concat:a}),g=cy({typed:e});return e(iR,K7e({typed:e,config:t}),{"boolean, boolean":function(d,m){return d===m?0:d>m?1:-1},"BigNumber, BigNumber":function(d,m){return Wl(d,m,t.relTol,t.absTol)?new A(0):new A(d.cmp(m))},"bigint, bigint":function(d,m){return d===m?0n:d>m?1n:-1n},"Fraction, Fraction":function(d,m){return new s(d.compare(m))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},g,h({SS:l,DS:c,Ss:u}))}),K7e=Qe(iR,["typed","config"],n=>{var{typed:e,config:t}=n;return e(iR,{"number, number":function(r,A){return $a(r,A,t.relTol,t.absTol)?0:r>A?1:-1}})}),woe="compareText",q7e=["typed","matrix","concat"];q4.signature="any, any";var J7e=Qe(woe,q7e,n=>{var{typed:e,matrix:t,concat:i}=n,r=os({typed:e,matrix:t,concat:i});return e(woe,q4,r({elop:q4,Ds:!0}))}),z7e=Qe("deepEqual",["typed","equal"],n=>{var{typed:e,equal:t}=n;return e("deepEqual",{"any, any":function(A,s){return i(A.valueOf(),s.valueOf())}});function i(r,A){if(Array.isArray(r)){if(Array.isArray(A)){var s=r.length;if(s!==A.length)return!1;for(var o=0;o<s;o++)if(!i(r[o],A[o]))return!1;return!0}return!1}return!Array.isArray(A)&&t(r,A)}}),j7e=Qe("distance",["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],n=>{var{typed:e,addScalar:t,subtractScalar:i,multiplyScalar:r,divideScalar:A,deepEqual:s,sqrt:o,abs:a}=n;return e("distance",{"Array, Array, Array":function(y,E,b){if(2===y.length&&2===E.length&&2===b.length){if(!l(y))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!l(E))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!l(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(s(E,b))throw new TypeError("LinePoint1 should not be same with LinePoint2");var S=i(b[1],E[1]),w=i(E[0],b[0]),M=i(r(b[0],E[1]),r(E[0],b[1]));return m(y[0],y[1],S,w,M)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(y,E,b){if(2===Object.keys(y).length&&2===Object.keys(E).length&&2===Object.keys(b).length){if(!l(y))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!l(E))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!l(b))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(s(f(E),f(b)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in y&&"pointY"in y&&"lineOnePtX"in E&&"lineOnePtY"in E&&"lineTwoPtX"in b&&"lineTwoPtY"in b){var S=i(b.lineTwoPtY,E.lineOnePtY),w=i(E.lineOnePtX,b.lineTwoPtX),M=i(r(b.lineTwoPtX,E.lineOnePtY),r(E.lineOnePtX,b.lineTwoPtY));return m(y.pointX,y.pointY,S,w,M)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(y,E){if(2===y.length&&3===E.length){if(!l(y))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!u(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return m(y[0],y[1],E[0],E[1],E[2])}if(3===y.length&&6===E.length){if(!u(y))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!g(E))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return p(y[0],y[1],y[2],E[0],E[1],E[2],E[3],E[4],E[5])}if(y.length===E.length&&y.length>0){if(!h(y))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!h(E))throw new TypeError("All values of an array should be numbers or BigNumbers");return I(y,E)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(y,E){if(2===Object.keys(y).length&&3===Object.keys(E).length){if(!l(y))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!u(E))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in y&&"pointY"in y&&"xCoeffLine"in E&&"yCoeffLine"in E&&"constant"in E)return m(y.pointX,y.pointY,E.xCoeffLine,E.yCoeffLine,E.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(y).length&&6===Object.keys(E).length){if(!u(y))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!g(E))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in y&&"pointY"in y&&"x0"in E&&"y0"in E&&"z0"in E&&"a"in E&&"b"in E&&"c"in E)return p(y.pointX,y.pointY,y.pointZ,E.x0,E.y0,E.z0,E.a,E.b,E.c);throw new TypeError("Key names do not match")}if(2===Object.keys(y).length&&2===Object.keys(E).length){if(!l(y))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!l(E))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in y&&"pointOneY"in y&&"pointTwoX"in E&&"pointTwoY"in E)return I([y.pointOneX,y.pointOneY],[E.pointTwoX,E.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(y).length&&3===Object.keys(E).length){if(!u(y))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!u(E))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in y&&"pointOneY"in y&&"pointOneZ"in y&&"pointTwoX"in E&&"pointTwoY"in E&&"pointTwoZ"in E)return I([y.pointOneX,y.pointOneY,y.pointOneZ],[E.pointTwoX,E.pointTwoY,E.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(y){if(!function d(B){if(2===B[0].length&&c(B[0][0])&&c(B[0][1])){if(B.some(y=>2!==y.length||!c(y[0])||!c(y[1])))return!1}else{if(!(3===B[0].length&&c(B[0][0])&&c(B[0][1])&&c(B[0][2])))return!1;if(B.some(y=>3!==y.length||!c(y[0])||!c(y[1])||!c(y[2])))return!1}return!0}(y))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function C(B){for(var y=[],E=[],b=[],S=0;S<B.length-1;S++)for(var w=S+1;w<B.length;w++)2===B[0].length?(E=[B[S][0],B[S][1]],b=[B[w][0],B[w][1]]):3===B[0].length&&(E=[B[S][0],B[S][1],B[S][2]],b=[B[w][0],B[w][1],B[w][2]]),y.push(I(E,b));return y}(y)}});function c(B){return"number"==typeof B||Zi(B)}function l(B){return B.constructor!==Array&&(B=f(B)),c(B[0])&&c(B[1])}function u(B){return B.constructor!==Array&&(B=f(B)),c(B[0])&&c(B[1])&&c(B[2])}function h(B){return Array.isArray(B)||(B=f(B)),B.every(c)}function g(B){return B.constructor!==Array&&(B=f(B)),c(B[0])&&c(B[1])&&c(B[2])&&c(B[3])&&c(B[4])&&c(B[5])}function f(B){for(var y=Object.keys(B),E=[],b=0;b<y.length;b++)E.push(B[y[b]]);return E}function m(B,y,E,b,S){var w=a(t(t(r(E,B),r(b,y)),S)),M=o(t(r(E,E),r(b,b)));return A(w,M)}function p(B,y,E,b,S,w,M,D,T){var O=[i(r(i(S,y),T),r(i(w,E),D)),i(r(i(w,E),M),r(i(b,B),T)),i(r(i(b,B),D),r(i(S,y),M))];O=o(t(t(r(O[0],O[0]),r(O[1],O[1])),r(O[2],O[2])));var G=o(t(t(r(M,M),r(D,D)),r(T,T)));return A(O,G)}function I(B,y){for(var E=B.length,b=0,S=0,w=0;w<E;w++)S=i(B[w],y[w]),b=t(r(S,S),b);return o(b)}}),X7e=Qe("dot",["typed","addScalar","multiplyScalar","conj","size"],n=>{var{typed:e,addScalar:t,multiplyScalar:i,conj:r,size:A}=n;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function o(l,u){var h=s(l,u),g=Ei(l)?l._data:l,f=Ei(l)?l._datatype||l.getDataType():void 0,d=Ei(u)?u._data:u,m=Ei(u)?u._datatype||u.getDataType():void 0,p=2===c(l).length,I=2===c(u).length,C=t,B=i;if(f&&m&&f===m&&"string"==typeof f&&"mixed"!==f){var y=f;C=e.find(t,[y,y]),B=e.find(i,[y,y])}if(!p&&!I){for(var E=B(r(g[0]),d[0]),b=1;b<h;b++)E=C(E,B(r(g[b]),d[b]));return E}if(!p&&I){for(var S=B(r(g[0]),d[0][0]),w=1;w<h;w++)S=C(S,B(r(g[w]),d[w][0]));return S}if(p&&!I){for(var M=B(r(g[0][0]),d[0]),D=1;D<h;D++)M=C(M,B(r(g[D][0]),d[D]));return M}if(p&&I){for(var T=B(r(g[0][0]),d[0][0]),O=1;O<h;O++)T=C(T,B(r(g[O][0]),d[O][0]));return T}},"SparseMatrix, SparseMatrix":function a(l,u){s(l,u);for(var h=l._index,g=l._values,f=u._index,d=u._values,m=0,p=t,I=i,C=0,B=0;C<h.length&&B<f.length;){var y=h[C],E=f[B];y<E?C++:y>E?B++:y===E&&(m=p(m,I(g[C],d[B])),C++,B++)}return m}});function s(l,u){var f,d,h=c(l),g=c(u);if(1===h.length)f=h[0];else{if(2!==h.length||1!==h[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");f=h[0]}if(1===g.length)d=g[0];else{if(2!==g.length||1!==g[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+g.join(", ")+")");d=g[0]}if(f!==d)throw new RangeError("Vectors must have equal length ("+f+" != "+d+")");if(0===f)throw new RangeError("Cannot calculate the dot product of empty vectors");return f}function c(l){return Ei(l)?l.size():A(l)}}),eZe=Qe("equalText",["typed","compareText","isZero"],n=>{var{typed:e,compareText:t,isZero:i}=n;return e("equalText",{"any, any":function(A,s){return i(t(A,s))}})}),MH="floor",tZe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],nZe=Qe(MH,["typed","config","round"],n=>{var{typed:e,config:t,round:i}=n;return e(MH,{number:function(A){return $a(A,i(A),t.relTol,t.absTol)?i(A):Math.floor(A)},"number, number":function(A,s){if($a(A,i(A,s),t.relTol,t.absTol))return i(A,s);var[o,a]="".concat(A,"e").split("e"),c=Math.floor(Number("".concat(o,"e").concat(Number(a)+s)));return[o,a]="".concat(c,"e").split("e"),Number("".concat(o,"e").concat(Number(a)-s))}})}),Moe=Qe(MH,tZe,n=>{var{typed:e,config:t,round:i,matrix:r,equalScalar:A,zeros:s,DenseMatrix:o}=n,a=ec({typed:e,equalScalar:A}),c=la({typed:e,DenseMatrix:o}),l=Sh({typed:e}),u=nZe({typed:e,config:t,round:i});return e("floor",{number:u.signatures.number,"number,number":u.signatures["number,number"],Complex:function(g){return g.floor()},"Complex, number":function(g,f){return g.floor(f)},"Complex, BigNumber":function(g,f){return g.floor(f.toNumber())},BigNumber:function(g){return Wl(g,i(g),t.relTol,t.absTol)?i(g):g.floor()},"BigNumber, BigNumber":function(g,f){return Wl(g,i(g,f),t.relTol,t.absTol)?i(g,f):g.toDecimalPlaces(f.toNumber(),qF.ROUND_FLOOR)},Fraction:function(g){return g.floor()},"Fraction, number":function(g,f){return g.floor(f)},"Fraction, BigNumber":function(g,f){return g.floor(f.toNumber())},"Unit, number, Unit":e.referToSelf(h=>function(g,f,d){var m=g.toNumeric(d);return d.multiply(h(m,f))}),"Unit, BigNumber, Unit":e.referToSelf(h=>(g,f,d)=>h(g,f.toNumber(),d)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(h=>(g,f,d)=>qi(g,m=>h(m,f,d),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(h=>(g,f)=>h(g,0,f)),"Array | Matrix":e.referToSelf(h=>g=>qi(g,h,!0)),"Array, number | BigNumber":e.referToSelf(h=>(g,f)=>qi(g,d=>h(d,f),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(h=>(g,f)=>a(g,f,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(g,f)=>l(g,f,h,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(g,f)=>l(r(f),g,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(g,f)=>A(g,0)?s(f.size(),f.storage()):"dense"===f.storage()?l(f,g,h,!0):c(f,g,h,!0))})}),xoe=Qe("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,config:t,round:i,matrix:r,equalScalar:A,zeros:s,DenseMatrix:o,concat:a}=n,c=Moe({typed:e,config:t,round:i,matrix:r,equalScalar:A,zeros:s,DenseMatrix:o}),l=Mh({typed:e,equalScalar:A}),u=hl({typed:e}),h=RF({typed:e,equalScalar:A}),g=ec({typed:e,equalScalar:A}),f=la({typed:e,DenseMatrix:o});return e("mod",{"number, number":function m(p,I){return 0===I?p:p-I*c(p/I)},"BigNumber, BigNumber":function(I,C){return C.isZero()?I:I.sub(C.mul(c(I.div(C))))},"bigint, bigint":function(I,C){if(0n===C)return I;if(I<0){var B=I%C;return 0n===B?B:B+C}return I%C},"Fraction, Fraction":function(I,C){return C.equals(0)?I:I.sub(C.mul(c(I.div(C))))}},os({typed:e,matrix:r,concat:a})({SS:h,DS:u,SD:l,Ss:g,sS:f}))}),rZe=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],NH="number | BigNumber | Fraction | Matrix | Array",AZe="".concat(NH,", ").concat(NH,", ...").concat(NH);function Roe(n){return!n.some(e=>Array.isArray(e))}var sZe=Qe("gcd",rZe,n=>{var{typed:e,matrix:t,config:i,round:r,equalScalar:A,zeros:s,BigNumber:o,DenseMatrix:a,concat:c}=n,l=xoe({typed:e,config:i,round:r,matrix:t,equalScalar:A,zeros:s,DenseMatrix:a,concat:c}),u=Wm({typed:e}),h=hH({typed:e,equalScalar:A}),g=gB({typed:e,DenseMatrix:a});return e("gcd",{"number, number":function d(p,I){if(!Ai(p)||!Ai(I))throw new Error("Parameters in function gcd must be integer numbers");for(var C;0!==I;)C=l(p,I),p=I,I=C;return p<0?-p:p},"BigNumber, BigNumber":function m(p,I){if(!p.isInt()||!I.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var C=new o(0);!I.isZero();){var B=l(p,I);p=I,I=B}return p.lt(C)?p.neg():p},"Fraction, Fraction":(p,I)=>p.gcd(I)},os({typed:e,matrix:t,concat:c})({SS:h,DS:u,Ss:g}),{[AZe]:e.referToSelf(p=>(I,C,B)=>{for(var y=p(I,C),E=0;E<B.length;E++)y=p(y,B[E]);return y}),Array:e.referToSelf(p=>I=>{if(1===I.length&&Array.isArray(I[0])&&Roe(I[0]))return p(...I[0]);if(Roe(I))return p(...I);throw new dB("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(p=>I=>p(I.toArray()))})}),aZe=Qe("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],n=>{var{typed:e,abs:t,addScalar:i,divideScalar:r,multiplyScalar:A,sqrt:s,smaller:o,isPositive:a}=n;return e("hypot",{"... number | BigNumber":c,Array:c,Matrix:l=>c(tA(l.toArray()))});function c(l){for(var u=0,h=0,g=0;g<l.length;g++){if(jd(l[g]))throw new TypeError("Unexpected type of argument to hypot");var f=t(l[g]);o(h,f)?(u=A(u,A(r(h,f),r(h,f))),u=i(u,1),h=f):u=i(u,a(f)?A(r(f,h),r(f,h)):f)}return A(h,s(u))}}),uZe=Qe("ImmutableDenseMatrix",["smaller","DenseMatrix"],n=>{var{smaller:e,DenseMatrix:t}=n;function i(r,A){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(A&&!Sc(A))throw new Error("Invalid datatype: "+A);if(Ei(r)||HA(r)){var s=new t(r,A);this._data=s._data,this._size=s._size,this._datatype=s._datatype,this._min=null,this._max=null}else if(r&&HA(r.data)&&HA(r.size))this._data=r.data,this._size=r.size,this._datatype=r.datatype,this._min=typeof r.min<"u"?r.min:null,this._max=typeof r.max<"u"?r.max:null;else{if(r)throw new TypeError("Unsupported type of data ("+As(r)+")");this._data=[],this._size=[0],this._datatype=A,this._min=null,this._max=null}}return(i.prototype=new t).type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(r){switch(arguments.length){case 1:var A=t.prototype.subset.call(this,r);return Ei(A)?new i({data:A._data,size:A._size,datatype:A._datatype}):A;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){return new i({data:Hi(this._data),size:Hi(this._size),datatype:this._datatype})},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(r){return new i(r)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(null===this._min){var r=null;this.forEach(function(A){(null===r||e(A,r))&&(r=A)}),this._min=null!==r?r:void 0}return this._min},i.prototype.max=function(){if(null===this._max){var r=null;this.forEach(function(A){(null===r||e(r,A))&&(r=A)}),this._max=null!==r?r:void 0}return this._max},i},{isClass:!0}),fZe=Qe("Index",["ImmutableDenseMatrix","getMatrixDataType"],n=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=n;function i(A){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var s=0,o=arguments.length;s<o;s++){var a=arguments[s],c=HA(a),l=Ei(a),u=null;if(G4(a))this._dimensions.push(a),this._isScalar=!1;else if(c||l){var h=void 0;"boolean"===t(a)?(c&&(h=r(koe(a).valueOf())),l&&(h=r(koe(a._data).valueOf())),u=a.valueOf().length):h=r(a.valueOf()),this._dimensions.push(h);var g=h.size();(1!==g.length||1!==g[0]||null!==u)&&(this._isScalar=!1)}else if("number"==typeof a)this._dimensions.push(r([a]));else{if("string"!=typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(a)}this._sourceSize.push(u)}}function r(A){for(var s=0,o=A.length;s<o;s++)if("number"!=typeof A[s]||!Ai(A[s]))throw new TypeError("Index parameters must be positive integer numbers");return new e(A)}return i.prototype.type="Index",i.prototype.isIndex=!0,i.prototype.clone=function(){var A=new i;return A._dimensions=Hi(this._dimensions),A._isScalar=this._isScalar,A._sourceSize=this._sourceSize,A},i.create=function(A){var s=new i;return i.apply(s,A),s},i.prototype.size=function(){for(var A=[],s=0,o=this._dimensions.length;s<o;s++){var a=this._dimensions[s];A[s]="string"==typeof a?1:a.size()[0]}return A},i.prototype.max=function(){for(var A=[],s=0,o=this._dimensions.length;s<o;s++){var a=this._dimensions[s];A[s]="string"==typeof a?a:a.max()}return A},i.prototype.min=function(){for(var A=[],s=0,o=this._dimensions.length;s<o;s++){var a=this._dimensions[s];A[s]="string"==typeof a?a:a.min()}return A},i.prototype.forEach=function(A){for(var s=0,o=this._dimensions.length;s<o;s++)A(this._dimensions[s],s,this)},i.prototype.dimension=function(A){return"number"!=typeof A?null:this._dimensions[A]||null},i.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},i.prototype.isScalar=function(){return this._isScalar},i.prototype.valueOf=i.prototype.toArray=function(){for(var A=[],s=0,o=this._dimensions.length;s<o;s++){var a=this._dimensions[s];A.push("string"==typeof a?a:a.toArray())}return A},i.prototype.toString=function(){for(var A=[],s=0,o=this._dimensions.length;s<o;s++){var a=this._dimensions[s];A.push("string"==typeof a?JSON.stringify(a):a.toString())}return"["+A.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},i.fromJSON=function(A){return i.create(A.dimensions)},i},{isClass:!0});function koe(n){var e=[];return n.forEach((t,i)=>{t&&e.push(i)}),e}var rR="larger",pZe=Qe(rR,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:i,DenseMatrix:r,concat:A,SparseMatrix:s}=n,o=hl({typed:e}),a=Nf({typed:e,SparseMatrix:s}),c=la({typed:e,DenseMatrix:r}),l=os({typed:e,matrix:i,concat:A}),u=cy({typed:e});return e(rR,mZe({typed:e,config:t}),{"boolean, boolean":(h,g)=>h>g,"BigNumber, BigNumber":function(g,f){return g.gt(f)&&!Wl(g,f,t.relTol,t.absTol)},"bigint, bigint":(h,g)=>h>g,"Fraction, Fraction":(h,g)=>1===h.compare(g),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,l({SS:a,DS:o,Ss:c}))}),mZe=Qe(rR,["typed","config"],n=>{var{typed:e,config:t}=n;return e(rR,{"number, number":function(r,A){return r>A&&!$a(r,A,t.relTol,t.absTol)}})}),IZe=Qe("log",["config","typed","typeOf","divideScalar","Complex"],n=>{var{typed:e,typeOf:t,config:i,divideScalar:r,Complex:A}=n;return e("log",{number:function(o){return o>=0||i.predictable?function b6e(n,e){return e?Math.log(n)/Math.log(e):Math.log(n)}(o):new A(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||i.predictable?o.ln():new A(o.toNumber(),0).log()},"any, any":e.referToSelf(s=>(o,a)=>{if("Fraction"===t(o)&&"Fraction"===t(a)){var c=o.log(a);if(null!==c)return c}return r(s(o),s(a))})})}),EZe=Qe("lsolveAll",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:r,subtractScalar:A,equalScalar:s,DenseMatrix:o}=n,a=tD({DenseMatrix:o});return e("lsolveAll",{"SparseMatrix, Array | Matrix":function(h,g){return function l(u,h){for(var g=[a(u,h,!0)._data.map(ye=>ye[0])],f=u._size[0],d=u._size[1],m=u._values,p=u._index,I=u._ptr,C=0;C<d;C++)for(var B=g.length,y=0;y<B;y++){for(var E=g[y],b=[],S=[],M=I[C+1],D=0,T=I[C];T<M;T++){var O=p[T];O===C?D=m[T]:O>C&&(b.push(m[T]),S.push(O))}if(s(D,0))if(s(E[C],0)){if(0===y){var L=[...E];L[C]=1;for(var J=0,H=S.length;J<H;J++){var ue=S[J];L[ue]=A(L[ue],b[J])}g.push(L)}}else{if(0===y)return[];g.splice(y,1),y-=1,B-=1}else{E[C]=i(E[C],D);for(var G=0,W=S.length;G<W;G++){var k=S[G];E[k]=A(E[k],r(E[C],b[G]))}}}return g.map(ye=>new o({data:ye.map(K=>[K]),size:[f,1]}))}(h,g)},"DenseMatrix, Array | Matrix":function(h,g){return c(h,g)},"Array, Array | Matrix":function(h,g){return c(t(h),g).map(m=>m.valueOf())}});function c(u,h){for(var g=[a(u,h,!0)._data.map(S=>S[0])],f=u._data,d=u._size[0],m=u._size[1],p=0;p<m;p++)for(var I=g.length,C=0;C<I;C++){var B=g[C];if(s(f[p][p],0))if(s(B[p],0)){if(0===C){var E=[...B];E[p]=1;for(var b=p+1;b<m;b++)E[b]=A(E[b],f[b][p]);g.push(E)}}else{if(0===C)return[];g.splice(C,1),C-=1,I-=1}else{B[p]=i(B[p],f[p][p]);for(var y=p+1;y<m;y++)B[y]=A(B[y],r(B[p],f[y][p]))}}return g.map(S=>new o({data:S.map(w=>[w]),size:[d,1]}))}}),Ooe="matrixFromRows",yZe=Qe(Ooe,["typed","matrix","flatten","size"],n=>{var{typed:e,matrix:t,flatten:i,size:r}=n;return e(Ooe,{"...Array":function(a){return A(a)},"...Matrix":function(a){return t(A(a.map(c=>c.toArray())))}});function A(o){if(0===o.length)throw new TypeError("At least one row is needed to construct a matrix.");var a=s(o[0]),c=[];for(var l of o){var u=s(l);if(u!==a)throw new TypeError("The vectors had different length: "+(0|a)+" \u2260 "+(0|u));c.push(i(l))}return c}function s(o){var a=r(o);if(1===a.length)return a[0];if(2===a.length){if(1===a[0])return a[1];if(1===a[1])return a[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),wZe=Qe("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],n=>{var{typed:e,matrix:t,addScalar:i,multiplyScalar:r,equalScalar:A,dot:s}=n,o=ec({typed:e,equalScalar:A}),a=Sh({typed:e});function c(y,E){switch(y.length){case 1:switch(E.length){case 1:if(y[0]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(y[0]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+y[0]+") must match Matrix rows ("+E[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+E.length+" dimensions)")}break;case 2:switch(E.length){case 1:if(y[1]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+y[1]+") must match Vector length ("+E[0]+")");break;case 2:if(y[1]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+y[1]+") must match Matrix B rows ("+E[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+E.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+y.length+" dimensions)")}}var g=e("_multiplyMatrixVector",{"DenseMatrix, any":function d(y,E){var G,b=y._data,S=y._size,w=y._datatype||y.getDataType(),M=E._data,D=E._datatype||E.getDataType(),T=S[0],O=S[1],W=i,k=r;w&&D&&w===D&&"string"==typeof w&&"mixed"!==w&&(W=e.find(i,[G=w,G]),k=e.find(r,[G,G]));for(var L=[],J=0;J<T;J++){for(var H=b[J],ue=k(H[0],M[0]),ye=1;ye<O;ye++)ue=W(ue,k(H[ye],M[ye]));L[J]=ue}return y.createDenseMatrix({data:L,size:[T],datatype:w===y._datatype&&D===E._datatype?G:void 0})},"SparseMatrix, any":function I(y,E){var b=y._values,S=y._index,w=y._ptr,M=y._datatype||void 0===y._data?y._datatype:y.getDataType();if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var J,D=E._data,T=E._datatype||E.getDataType(),O=y._size[0],G=E._size[0],W=[],k=[],L=[],H=i,ue=r,ye=A,K=0;M&&T&&M===T&&"string"==typeof M&&"mixed"!==M&&(H=e.find(i,[J=M,J]),ue=e.find(r,[J,J]),ye=e.find(A,[J,J]),K=e.convert(0,J));var z=[],Z=[];L[0]=0;for(var le=0;le<G;le++){var ce=D[le];if(!ye(ce,K))for(var re=w[le+1],ie=w[le];ie<re;ie++){var me=S[ie];Z[me]?z[me]=H(z[me],ue(ce,b[ie])):(Z[me]=!0,k.push(me),z[me]=ue(ce,b[ie]))}}for(var be=k.length,Ie=0;Ie<be;Ie++)W[Ie]=z[k[Ie]];return L[1]=k.length,y.createSparseMatrix({values:W,index:k,ptr:L,size:[O,1],datatype:M===y._datatype&&T===E._datatype?J:void 0})}}),f=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function m(y,E){var k,b=y._data,S=y._size,w=y._datatype||y.getDataType(),M=E._data,D=E._size,T=E._datatype||E.getDataType(),O=S[0],G=S[1],W=D[1],L=i,J=r;w&&T&&w===T&&"string"==typeof w&&"mixed"!==w&&"mixed"!==w&&(L=e.find(i,[k=w,k]),J=e.find(r,[k,k]));for(var H=[],ue=0;ue<O;ue++){var ye=b[ue];H[ue]=[];for(var K=0;K<W;K++){for(var z=J(ye[0],M[0][K]),Z=1;Z<G;Z++)z=L(z,J(ye[Z],M[Z][K]));H[ue][K]=z}}return y.createDenseMatrix({data:H,size:[O,W],datatype:w===y._datatype&&T===E._datatype?k:void 0})},"DenseMatrix, SparseMatrix":function p(y,E){var b=y._data,S=y._size,w=y._datatype||y.getDataType(),M=E._values,D=E._index,T=E._ptr,O=E._size,G=E._datatype||void 0===E._data?E._datatype:E.getDataType();if(!M)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var L,W=S[0],k=O[1],J=i,H=r,ue=A,ye=0;w&&G&&w===G&&"string"==typeof w&&"mixed"!==w&&(J=e.find(i,[L=w,L]),H=e.find(r,[L,L]),ue=e.find(A,[L,L]),ye=e.convert(0,L));for(var K=[],z=[],Z=[],le=E.createSparseMatrix({values:K,index:z,ptr:Z,size:[W,k],datatype:w===y._datatype&&G===E._datatype?L:void 0}),ce=0;ce<k;ce++){Z[ce]=z.length;var ge=T[ce],re=T[ce+1];if(re>ge)for(var ie=0,me=0;me<W;me++){for(var be=me+1,Ie=void 0,Ne=ge;Ne<re;Ne++){var Ae=D[Ne];ie!==be?(Ie=H(b[me][Ae],M[Ne]),ie=be):Ie=J(Ie,H(b[me][Ae],M[Ne]))}ie===be&&!ue(Ie,ye)&&(z.push(me),K.push(Ie))}}return Z[k]=z.length,le},"SparseMatrix, DenseMatrix":function C(y,E){var b=y._values,S=y._index,w=y._ptr,M=y._datatype||void 0===y._data?y._datatype:y.getDataType();if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var k,D=E._data,T=E._datatype||E.getDataType(),O=y._size[0],G=E._size[0],W=E._size[1],L=i,J=r,H=A,ue=0;M&&T&&M===T&&"string"==typeof M&&"mixed"!==M&&(L=e.find(i,[k=M,k]),J=e.find(r,[k,k]),H=e.find(A,[k,k]),ue=e.convert(0,k));for(var ye=[],K=[],z=[],Z=y.createSparseMatrix({values:ye,index:K,ptr:z,size:[O,W],datatype:M===y._datatype&&T===E._datatype?k:void 0}),le=[],ce=[],ge=0;ge<W;ge++){z[ge]=K.length;for(var re=ge+1,ie=0;ie<G;ie++){var me=D[ie][ge];if(!H(me,ue))for(var Ie=w[ie+1],Ne=w[ie];Ne<Ie;Ne++){var Ae=S[Ne];ce[Ae]!==re?(ce[Ae]=re,K.push(Ae),le[Ae]=J(me,b[Ne])):le[Ae]=L(le[Ae],J(me,b[Ne]))}}for(var j=K.length,Te=z[ge];Te<j;Te++)ye[Te]=le[K[Te]]}return z[W]=K.length,Z},"SparseMatrix, SparseMatrix":function B(y,E){var J,b=y._values,S=y._index,w=y._ptr,M=y._datatype||void 0===y._data?y._datatype:y.getDataType(),D=E._values,T=E._index,O=E._ptr,G=E._datatype||void 0===E._data?E._datatype:E.getDataType(),W=y._size[0],k=E._size[1],L=b&&D,H=i,ue=r;M&&G&&M===G&&"string"==typeof M&&"mixed"!==M&&(H=e.find(i,[J=M,J]),ue=e.find(r,[J,J]));for(var ge,ie,me,Ie,Ne,Ae,ye=L?[]:void 0,K=[],z=[],Z=y.createSparseMatrix({values:ye,index:K,ptr:z,size:[W,k],datatype:M===y._datatype&&G===E._datatype?J:void 0}),le=L?[]:void 0,ce=[],ee=0;ee<k;ee++){z[ee]=K.length;var j=ee+1;for(Ie=O[ee+1],me=O[ee];me<Ie;me++)if(Ae=T[me],L)for(ie=w[Ae+1],ge=w[Ae];ge<ie;ge++)ce[Ne=S[ge]]!==j?(ce[Ne]=j,K.push(Ne),le[Ne]=ue(D[me],b[ge])):le[Ne]=H(le[Ne],ue(D[me],b[ge]));else for(ie=w[Ae+1],ge=w[Ae];ge<ie;ge++)ce[Ne=S[ge]]!==j&&(ce[Ne]=j,K.push(Ne));if(L)for(var Me=K.length,Oe=z[ee];Oe<Me;Oe++)ye[Oe]=le[K[Oe]]}return z[k]=K.length,Z}});return e("multiply",r,{"Array, Array":e.referTo("Matrix, Matrix",y=>(E,b)=>{c(Ti(E),Ti(b));var S=y(t(E),t(b));return Ei(S)?S.valueOf():S}),"Matrix, Matrix":function(E,b){var S=E.size(),w=b.size();return c(S,w),1===S.length?1===w.length?function l(y,E,b){if(0===b)throw new Error("Cannot multiply two empty vectors");return s(y,E)}(E,b,S[0]):function u(y,E){if("dense"!==E.storage())throw new Error("Support for SparseMatrix not implemented");return function h(y,E){var W,b=y._data,S=y._size,w=y._datatype||y.getDataType(),M=E._data,D=E._size,T=E._datatype||E.getDataType(),O=S[0],G=D[1],k=i,L=r;w&&T&&w===T&&"string"==typeof w&&"mixed"!==w&&(k=e.find(i,[W=w,W]),L=e.find(r,[W,W]));for(var J=[],H=0;H<G;H++){for(var ue=L(b[0],M[0][H]),ye=1;ye<O;ye++)ue=k(ue,L(b[ye],M[ye][H]));J[H]=ue}return y.createDenseMatrix({data:J,size:[G],datatype:w===y._datatype&&T===E._datatype?W:void 0})}(y,E)}(E,b):1===w.length?g(E,b):f(E,b)},"Matrix, Array":e.referTo("Matrix,Matrix",y=>(E,b)=>y(E,t(b))),"Array, Matrix":e.referToSelf(y=>(E,b)=>y(t(E,b.storage()),b)),"SparseMatrix, any":function(E,b){return o(E,b,r,!1)},"DenseMatrix, any":function(E,b){return a(E,b,r,!1)},"any, SparseMatrix":function(E,b){return o(b,E,r,!0)},"any, DenseMatrix":function(E,b){return a(b,E,r,!0)},"Array, any":function(E,b){return a(t(E),b,r,!1).valueOf()},"any, Array":function(E,b){return a(t(b),E,r,!0).valueOf()},"any, any":r,"any, any, ...any":e.referToSelf(y=>(E,b,S)=>{for(var w=y(E,b),M=0;M<S.length;M++)w=y(w,S[M]);return w})})}),DZe=Qe("nthRoots",["config","typed","divideScalar","Complex"],n=>{var{typed:e,Complex:r}=n,A=[function(a){return new r(a,0)},function(a){return new r(0,a)},function(a){return new r(-a,0)},function(a){return new r(0,-a)}];function s(o,a){if(a<0)throw new Error("Root must be greater than zero");if(0===a)throw new Error("Root must be non-zero");if(a%1!=0)throw new Error("Root must be an integer");if(0===o||0===o.abs())return[new r(0,0)];var l,c="number"==typeof o;(c||0===o.re||0===o.im)&&(l=c?2*+(o<0):0===o.im?2*+(o.re<0):2*+(o.im<0)+1);for(var u=o.arg(),h=o.abs(),g=[],f=Math.pow(h,1/a),d=0;d<a;d++){var m=(l+4*d)/a;m!==Math.round(m)?g.push(new r({r:f,phi:(u+2*Math.PI*d)/a})):g.push(A[m%4](f))}return g}return e("nthRoots",{Complex:function(a){return s(a,2)},"Complex, number":s})}),Hoe="partitionSelect",SZe=Qe(Hoe,["typed","isNumeric","isNaN","compare"],n=>{var{typed:e,isNumeric:t,isNaN:i,compare:r}=n,A=r,s=(c,l)=>-r(c,l);return e(Hoe,{"Array | Matrix, number":function(l,u){return o(l,u,A)},"Array | Matrix, number, string":function(l,u,h){if("asc"===h)return o(l,u,A);if("desc"===h)return o(l,u,s);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":o});function o(c,l,u){if(!Ai(l)||l<0)throw new Error("k must be a non-negative integer");if(Ei(c)){if(c.size().length>1)throw new Error("Only one dimensional matrices supported");return a(c.valueOf(),l,u)}if(Array.isArray(c))return a(c,l,u)}function a(c,l,u){if(l>=c.length)throw new Error("k out of bounds");for(var h=0;h<c.length;h++)if(t(c[h])&&i(c[h]))return c[h];for(var g=0,f=c.length-1;g<f;){for(var d=g,m=f,p=c[Math.floor(Math.random()*(f-g+1))+g];d<m;)if(u(c[d],p)>=0){var I=c[m];c[m]=c[d],c[d]=I,--m}else++d;u(c[d],p)>0&&--d,l<=d?f=d:g=d+1}return c[l]}}),Yoe="rightLogShift",NZe=Qe(Yoe,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,zeros:r,DenseMatrix:A,concat:s}=n,o=Wm({typed:e}),a=Mh({typed:e,equalScalar:i}),c=bH({typed:e,equalScalar:i}),l=gB({typed:e,DenseMatrix:A}),u=ec({typed:e,equalScalar:i}),h=Sh({typed:e}),g=os({typed:e,matrix:t,concat:s}),f=SH({typed:e,matrix:t});return e(Yoe,{"number, number":Zie,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(m,p)=>i(p,0)?m.clone():u(m,p,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(m,p)=>i(p,0)?m.clone():h(m,p,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(m,p)=>i(m,0)?r(p.size(),p.storage()):l(p,m,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(m,p)=>i(m,0)?r(p.size(),p.storage()):h(p,m,d,!0))},f,g({SS:c,DS:o,SD:a}))});function Koe(n,e,t,i,r,A,s){var o=0;for(t[s]=n;o>=0;){var a=t[s+o],c=t[i+a];-1===c?(o--,A[e++]=a):(t[i+a]=t[r+c],t[s+ ++o]=c)}return e}function tC(n){return-n-2}var UZe=Qe("csAmd",["add","multiply","transpose"],n=>{var{add:e,multiply:t,transpose:i}=n;return function(l,u){if(!u||l<=0||l>3)return null;var h=u._size,g=h[0],f=h[1],d=0,m=Math.max(16,10*Math.sqrt(f)),p=function r(c,l,u,h,g){var f=i(l);if(1===c&&h===u)return e(l,f);if(2===c){for(var d=f._index,m=f._ptr,p=0,I=0;I<u;I++){var C=m[I];if(m[I]=p,!(m[I+1]-C>g))for(var B=m[I+1];C<B;C++)d[p++]=d[C]}return m[u]=p,l=i(f),t(f,l)}return t(f,l)}(l,u,g,f,m=Math.min(f-2,m));!function TZe(n,e,t){for(var i=n._values,r=n._index,A=n._ptr,o=n._size[1],a=0,c=0;c<o;c++){var l=A[c];for(A[c]=a;l<A[c+1];l++)e(r[l],c,i?i[l]:1,t)&&(r[a]=r[l],i&&(i[a]=i[l]),a++)}A[o]=a,r.splice(a,r.length-a),i&&i.splice(a,i.length-a)}(p,a,null);for(var H,ue,ye,K,z,Z,le,ce,ge,re,ie,me,be,Ie,Ne,Ae,I=p._index,C=p._ptr,B=C[f],y=[],E=[],S=f+1,w=2*(f+1),M=3*(f+1),D=4*(f+1),T=5*(f+1),O=6*(f+1),G=7*(f+1),W=y,k=function A(c,l,u,h,g,f,d,m,p,I,C,B){for(var y=0;y<c;y++)u[h+y]=l[y+1]-l[y];u[h+c]=0;for(var E=0;E<=c;E++)u[g+E]=-1,f[E]=-1,u[d+E]=-1,u[m+E]=-1,u[p+E]=1,u[I+E]=1,u[C+E]=0,u[B+E]=u[h+E];var b=o(0,0,u,I,c);return u[C+c]=-2,l[c]=-1,u[I+c]=0,b}(f,C,E,0,M,W,w,G,S,O,D,T),L=function s(c,l,u,h,g,f,d,m,p,I,C){for(var B=0,y=0;y<c;y++){var E=u[h+y];if(0===E)u[g+y]=-2,B++,l[y]=-1,u[f+y]=0;else if(E>d)u[m+y]=0,u[g+y]=-1,B++,l[y]=tC(c),u[m+c]++;else{var b=u[p+E];-1!==b&&(I[b]=y),u[C+y]=u[p+E],u[p+E]=y}}return B}(f,C,E,T,D,O,m,S,M,W,w),J=0;L<f;){for(ye=-1;J<f&&-1===(ye=E[M+J]);J++);-1!==E[w+ye]&&(W[E[w+ye]]=-1),E[M+J]=E[w+ye];var ee=E[D+ye],j=E[S+ye];L+=j;var Te=0;E[S+ye]=-j;var Me=C[ye],Oe=0===ee?Me:B,Ge=Oe;for(K=1;K<=ee+1;K++){for(K>ee?(Z=ye,le=Me,ce=E[0+ye]-ee):(le=C[Z=I[Me++]],ce=E[0+Z]),z=1;z<=ce;z++)!((ge=E[S+(H=I[le++])])<=0)&&(Te+=ge,E[S+H]=-ge,I[Ge++]=H,-1!==E[w+H]&&(W[E[w+H]]=W[H]),-1!==W[H]?E[w+W[H]]=E[w+H]:E[M+E[T+H]]=E[w+H]);Z!==ye&&(C[Z]=tC(ye),E[O+Z]=0)}for(0!==ee&&(B=Ge),E[T+ye]=Te,C[ye]=Oe,E[0+ye]=Ge-Oe,E[D+ye]=-2,k=o(k,d,E,O,f),re=Oe;re<Ge;re++)if(!((ie=E[D+(H=I[re])])<=0)){var oe=k-(ge=-E[S+H]);for(Me=C[H],me=C[H]+ie-1;Me<=me;Me++)E[O+(Z=I[Me])]>=k?E[O+Z]-=ge:0!==E[O+Z]&&(E[O+Z]=E[T+Z]+oe)}for(re=Oe;re<Ge;re++){for(be=(me=C[H=I[re]])+E[D+H]-1,Ie=me,Ne=0,Ae=0,Me=me;Me<=be;Me++)if(0!==E[O+(Z=I[Me])]){var te=E[O+Z]-k;te>0?(Ae+=te,I[Ie++]=Z,Ne+=Z):(C[Z]=tC(ye),E[O+Z]=0)}E[D+H]=Ie-me+1;var Ye=Ie,Ve=me+E[0+H];for(Me=be+1;Me<Ve;Me++){var ut=E[S+(ue=I[Me])];ut<=0||(Ae+=ut,I[Ie++]=ue,Ne+=ue)}0===Ae?(C[H]=tC(ye),Te-=ge=-E[S+H],j+=ge,L+=ge,E[S+H]=0,E[D+H]=-1):(E[T+H]=Math.min(E[T+H],Ae),I[Ie]=I[Ye],I[Ye]=I[me],I[me]=ye,E[0+H]=Ie-me+1,E[w+H]=E[G+(Ne=(Ne<0?-Ne:Ne)%f)],E[G+Ne]=H,W[H]=Ne)}for(E[T+ye]=Te,k=o(k+(d=Math.max(d,Te)),d,E,O,f),re=Oe;re<Ge;re++)if(!(E[S+(H=I[re])]>=0))for(H=E[G+(Ne=W[H])],E[G+Ne]=-1;-1!==H&&-1!==E[w+H];H=E[w+H],k++){for(ce=E[0+H],ie=E[D+H],Me=C[H]+1;Me<=C[H]+ce-1;Me++)E[O+I[Me]]=k;var it=H;for(ue=E[w+H];-1!==ue;){var Jt=E[0+ue]===ce&&E[D+ue]===ie;for(Me=C[ue]+1;Jt&&Me<=C[ue]+ce-1;Me++)E[O+I[Me]]!==k&&(Jt=0);Jt?(C[ue]=tC(H),E[S+H]+=E[S+ue],E[S+ue]=0,E[D+ue]=-1,E[w+it]=ue=E[w+ue]):(it=ue,ue=E[w+ue])}}for(Me=Oe,re=Oe;re<Ge;re++)!((ge=-E[S+(H=I[re])])<=0)&&(E[S+H]=ge,Ae=E[T+H]+Te-ge,-1!==E[M+(Ae=Math.min(Ae,f-L-ge))]&&(W[E[M+Ae]]=H),E[w+H]=E[M+Ae],W[H]=-1,E[M+Ae]=H,J=Math.min(J,Ae),E[T+H]=Ae,I[Me++]=H);E[S+ye]=j,0==(E[0+ye]=Me-Oe)&&(C[ye]=-1,E[O+ye]=0),0!==ee&&(B=Me)}for(H=0;H<f;H++)C[H]=tC(C[H]);for(ue=0;ue<=f;ue++)E[M+ue]=-1;for(ue=f;ue>=0;ue--)E[S+ue]>0||(E[w+ue]=E[M+C[ue]],E[M+C[ue]]=ue);for(Z=f;Z>=0;Z--)E[S+Z]<=0||-1!==C[Z]&&(E[w+Z]=E[M+C[Z]],E[M+C[Z]]=Z);for(ye=0,H=0;H<=f;H++)-1===C[H]&&(ye=Koe(H,ye,E,M,w,y,O));return y.splice(y.length-1,1),y};function o(c,l,u,h,g){if(c<2||c+l<0){for(var f=0;f<g;f++)0!==u[h+f]&&(u[h+f]=1);c=2}return c}function a(c,l){return c!==l}});function OZe(n,e,t,i,r,A,s){var o,a,l,c=0;if(n<=e||t[i+e]<=t[r+n])return-1;t[r+n]=t[i+e];var u=t[A+n];if(t[A+n]=e,-1===u)c=1,l=n;else{for(c=2,l=u;l!==t[s+l];l=t[s+l]);for(o=u;o!==l;o=a)a=t[s+o],t[s+o]=l}return{jleaf:c,q:l}}var HZe=Qe("csCounts",["transpose"],n=>{var{transpose:e}=n;return function(t,i,r,A){if(!t||!i||!r)return null;var c,l,u,h,g,d,s=t._size,o=s[0],a=s[1],m=4*a+(A?a+o+1:0),p=[],C=a,B=2*a,y=3*a,E=4*a,b=5*a+1;for(u=0;u<m;u++)p[u]=-1;var S=[],w=e(t),M=w._index,D=w._ptr;for(u=0;u<a;u++)for(S[l=r[u]]=-1===p[y+l]?1:0;-1!==l&&-1===p[y+l];l=i[l])p[y+l]=u;if(A){for(u=0;u<a;u++)p[r[u]]=u;for(c=0;c<o;c++){for(u=a,d=D[c+1],g=D[c];g<d;g++)u=Math.min(u,p[M[g]]);p[b+c]=p[E+u],p[E+u]=c}}for(c=0;c<a;c++)p[0+c]=c;for(u=0;u<a;u++){for(-1!==i[l=r[u]]&&S[i[l]]--,h=A?p[E+u]:l;-1!==h;h=A?p[b+h]:-1)for(g=D[h];g<D[h+1];g++){var T=OZe(c=M[g],l,p,y,C,B,0);T.jleaf>=1&&S[l]++,2===T.jleaf&&S[T.q]--}-1!==i[l]&&(p[0+l]=i[l])}for(l=0;l<a;l++)-1!==i[l]&&(S[i[l]]+=S[l]);return S}}),qZe=Qe("csSqr",["add","multiply","transpose"],n=>{var{add:e,multiply:t,transpose:i}=n,r=UZe({add:e,multiply:t,transpose:i}),A=HZe({transpose:i});return function(a,c,l){var f,u=c._ptr,g=c._size[1],d={};if(d.q=r(a,c),a&&!d.q)return null;if(l){var m=a?function xZe(n,e,t,i){for(var r=n._values,A=n._index,s=n._ptr,o=n._size,a=n._datatype,c=o[0],l=o[1],u=i&&n._values?[]:null,h=[],g=[],f=0,d=0;d<l;d++){g[d]=f;for(var m=t?t[d]:d,I=s[m+1],C=s[m];C<I;C++)h[f]=e?e[A[C]]:A[C],u&&(u[f]=r[C]),f++}return g[l]=f,n.createSparseMatrix({values:u,index:h,ptr:g,size:[c,l],datatype:a})}(c,null,d.q,0):c;d.parent=function RZe(n,e){if(!n)return null;var u,h,t=n._index,i=n._ptr,r=n._size,A=r[0],s=r[1],o=[],a=[],l=s;if(e)for(u=0;u<A;u++)a[l+u]=-1;for(var g=0;g<s;g++){o[g]=-1,a[0+g]=-1;for(var d=i[g+1],m=i[g];m<d;m++){var p=t[m];for(u=e?a[l+p]:p;-1!==u&&u<g;u=h)h=a[0+u],a[0+u]=g,-1===h&&(o[u]=g);e&&(a[l+p]=g)}}return o}(m,1);var p=function FZe(n,e){if(!n)return null;var i,t=0,r=[],A=[],o=e,a=2*e;for(i=0;i<e;i++)A[0+i]=-1;for(i=e-1;i>=0;i--)-1!==n[i]&&(A[o+i]=A[0+n[i]],A[0+n[i]]=i);for(i=0;i<e;i++)-1===n[i]&&(t=Koe(i,t,A,0,o,r,a));return r}(d.parent,g);if(d.cp=A(m,d.parent,p,1),m&&d.parent&&d.cp&&function s(o,a){var c=o._ptr,l=o._index,u=o._size,h=u[0],g=u[1];a.pinv=[],a.leftmost=[];var E,b,S,M,f=a.parent,d=a.pinv,m=a.leftmost,p=[],C=h,B=h+g,y=h+2*g;for(b=0;b<g;b++)p[C+b]=-1,p[B+b]=-1,p[y+b]=0;for(E=0;E<h;E++)m[E]=-1;for(b=g-1;b>=0;b--)for(M=c[b+1],S=c[b];S<M;S++)m[l[S]]=b;for(E=h-1;E>=0;E--)d[E]=-1,-1!==(b=m[E])&&(0==p[y+b]++&&(p[B+b]=E),p[0+E]=p[C+b],p[C+b]=E);for(a.lnz=0,a.m2=h,b=0;b<g;b++)if(E=p[C+b],a.lnz++,E<0&&(E=a.m2++),d[E]=b,!(--y[b]<=0)){a.lnz+=p[y+b];var D=f[b];-1!==D&&(0===p[y+D]&&(p[B+D]=p[B+b]),p[0+p[B+b]]=p[C+D],p[C+D]=p[0+E],p[y+D]+=p[y+b])}for(E=0;E<h;E++)d[E]<0&&(d[E]=b++);return!0}(m,d))for(d.unz=0,f=0;f<g;f++)d.unz+=d.cp[f]}else d.unz=4*u[g]+g,d.lnz=d.unz;return d}});function xH(n,e){return n[e]<0}function qoe(n,e){n[e]=tC(n[e])}function Joe(n){return n<0?tC(n):n}function JZe(n,e,t,i,r){var c,l,u,A=e._index,s=e._ptr,a=e._size[1],h=0;for(i[0]=n;h>=0;){n=i[h];var g=r?r[n]:n;xH(s,n)||(qoe(s,n),i[a+h]=g<0?0:Joe(s[g]));var f=1;for(l=i[a+h],u=g<0?0:Joe(s[g+1]);l<u;l++)if(!xH(s,c=A[l])){i[a+h]=l,i[++h]=c,f=0;break}f&&(h--,i[--t]=n)}return t}var jZe=Qe("csSpsolve",["divideScalar","multiply","subtract"],n=>{var{divideScalar:e,multiply:t,subtract:i}=n;return function(A,s,o,a,c,l,u){var B,y,E,b,h=A._values,g=A._index,f=A._ptr,m=A._size[1],p=s._values,I=s._index,C=s._ptr,S=function VZe(n,e,t,i,r){var l,h,A=n._ptr,o=e._index,a=e._ptr,c=n._size[1],g=c;for(h=a[t+1],l=a[t];l<h;l++){var f=o[l];xH(A,f)||(g=JZe(f,n,g,i,r))}for(l=g;l<c;l++)qoe(A,i[l]);return g}(A,s,o,a,l);for(B=S;B<m;B++)c[a[B]]=0;for(E=C[o+1],B=y=C[o];B<E;B++)c[I[B]]=p[B];for(var w=S;w<m;w++){var M=a[w],D=l?l[M]:M;if(!(D<0))for(y=f[D],E=f[D+1],c[M]=e(c[M],h[u?y:E-1]),B=u?y+1:y,b=u?E:E-1;B<b;B++){var T=g[B];c[T]=i(c[T],t(h[B],c[M]))}}return S}}),$Ze=Qe("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],n=>{var{abs:e,divideScalar:t,multiply:i,subtract:r,larger:A,largerEq:s,SparseMatrix:o}=n,a=jZe({divideScalar:t,multiply:i,subtract:r});return function(l,u,h){if(!l)return null;var d,f=l._size[1],m=100,p=100;u&&(d=u.q,m=u.lnz||m,p=u.unz||p);var D,T,I=[],C=[],B=[],y=new o({values:I,index:C,ptr:B,size:[f,f]}),E=[],b=[],S=[],w=new o({values:E,index:b,ptr:S,size:[f,f]}),M=[],O=[],G=[];for(D=0;D<f;D++)O[D]=0,M[D]=-1,B[D+1]=0;m=0,p=0;for(var W=0;W<f;W++){B[W]=m,S[W]=p;var k=d?d[W]:W,L=a(y,l,k,G,O,M,1),J=-1,H=-1;for(T=L;T<f;T++)if(M[D=G[T]]<0){var ue=e(O[D]);A(ue,H)&&(H=ue,J=D)}else b[p]=M[D],E[p++]=O[D];if(-1===J||H<=0)return null;M[k]<0&&s(e(O[k]),i(H,h))&&(J=k);var ye=O[J];for(b[p]=W,E[p++]=ye,M[J]=W,C[m]=J,I[m++]=1,T=L;T<f;T++)M[D=G[T]]<0&&(C[m]=D,I[m++]=t(O[D],ye)),O[D]=0}for(B[f]=m,S[f]=p,T=0;T<m;T++)C[T]=M[C[T]];return I.splice(m,I.length-m),C.splice(m,C.length-m),E.splice(p,E.length-p),b.splice(p,b.length-p),{L:y,U:w,pinv:M}}}),tXe=Qe("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],n=>{var{typed:e,abs:t,add:i,multiply:r,transpose:A,divideScalar:s,subtract:o,larger:a,largerEq:c,SparseMatrix:l}=n,u=qZe({add:i,multiply:r,transpose:A}),h=$Ze({abs:t,divideScalar:s,multiply:r,subtract:o,larger:a,largerEq:c,SparseMatrix:l});return e("slu",{"SparseMatrix, number, number":function(f,d,m){if(!Ai(d)||d<0||d>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var p=u(d,f,!1),I=h(f,p,m);return{L:I.L,U:I.U,p:I.pinv,q:p.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),rXe=Qe("trace",["typed","matrix","add"],n=>{var{typed:e,matrix:t,add:i}=n;return e("trace",{Array:function(o){return r(t(o))},SparseMatrix:function A(s){var o=s._values,a=s._index,c=s._ptr,l=s._size,h=l[1];if(l[0]===h){var g=0;if(o.length>0)for(var f=0;f<h;f++)for(var m=c[f+1],p=c[f];p<m;p++){var I=a[p];if(I===f){g=i(g,o[p]);break}if(I>f)break}return g}throw new RangeError("Matrix must be square (size: "+mr(l)+")")},DenseMatrix:r,any:Hi});function r(s){var o=s._size,a=s._data;switch(o.length){case 1:if(1===o[0])return Hi(a[0]);throw new RangeError("Matrix must be square (size: "+mr(o)+")");case 2:var c=o[0];if(c===o[1]){for(var u=0,h=0;h<c;h++)u=i(u,a[h][h]);return u}throw new RangeError("Matrix must be square (size: "+mr(o)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+mr(o)+")")}}}),sXe=Qe("usolveAll",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:i,multiplyScalar:r,subtractScalar:A,equalScalar:s,DenseMatrix:o}=n,a=tD({DenseMatrix:o});return e("usolveAll",{"SparseMatrix, Array | Matrix":function(h,g){return function l(u,h){for(var g=[a(u,h,!0)._data.map(ye=>ye[0])],f=u._size[0],m=u._values,p=u._index,I=u._ptr,C=u._size[1]-1;C>=0;C--)for(var B=g.length,y=0;y<B;y++){for(var E=g[y],b=[],S=[],w=I[C],D=0,T=I[C+1]-1;T>=w;T--){var O=p[T];O===C?D=m[T]:O<C&&(b.push(m[T]),S.push(O))}if(s(D,0))if(s(E[C],0)){if(0===y){var L=[...E];L[C]=1;for(var J=0,H=S.length;J<H;J++){var ue=S[J];L[ue]=A(L[ue],b[J])}g.push(L)}}else{if(0===y)return[];g.splice(y,1),y-=1,B-=1}else{E[C]=i(E[C],D);for(var G=0,W=S.length;G<W;G++){var k=S[G];E[k]=A(E[k],r(E[C],b[G]))}}}return g.map(ye=>new o({data:ye.map(K=>[K]),size:[f,1]}))}(h,g)},"DenseMatrix, Array | Matrix":function(h,g){return c(h,g)},"Array, Array | Matrix":function(h,g){return c(t(h),g).map(m=>m.valueOf())}});function c(u,h){for(var g=[a(u,h,!0)._data.map(S=>S[0])],f=u._data,d=u._size[0],p=u._size[1]-1;p>=0;p--)for(var I=g.length,C=0;C<I;C++){var B=g[C];if(s(f[p][p],0))if(s(B[p],0)){if(0===C){var E=[...B];E[p]=1;for(var b=p-1;b>=0;b--)E[b]=A(E[b],f[b][p]);g.push(E)}}else{if(0===C)return[];g.splice(C,1),C-=1,I-=1}else{B[p]=i(B[p],f[p][p]);for(var y=p-1;y>=0;y--)B[y]=A(B[y],r(B[p],f[y][p]))}}return g.map(S=>new o({data:S.map(w=>[w]),size:[d,1]}))}}),aXe=Qe("zpk2tf",["typed","add","multiply","Complex","number"],n=>{var{typed:e,add:t,multiply:i,Complex:r,number:A}=n;return e("zpk2tf",{"Array,Array,number":function(c,l,u){return s(c,l,u)},"Array,Array":function(c,l){return s(c,l,1)},"Matrix,Matrix,number":function(c,l,u){return s(c.valueOf(),l.valueOf(),u)},"Matrix,Matrix":function(c,l){return s(c.valueOf(),l.valueOf(),1)}});function s(a,c,l){a.some(I=>"BigNumber"===I.type)&&(a=a.map(I=>A(I))),c.some(I=>"BigNumber"===I.type)&&(c=c.map(I=>A(I)));for(var u=[r(1,0)],h=[r(1,0)],g=0;g<a.length;g++){var f=a[g];"number"==typeof f&&(f=r(f,0)),u=o(u,[r(1,0),r(-f.re,-f.im)])}for(var d=0;d<c.length;d++){var m=c[d];"number"==typeof m&&(m=r(m,0)),h=o(h,[r(1,0),r(-m.re,-m.im)])}for(var p=0;p<u.length;p++)u[p]=i(u[p],l);return[u,h]}function o(a,c){for(var l=[],u=0;u<a.length+c.length-1;u++){l[u]=r(0,0);for(var h=0;h<a.length;h++)u-h>=0&&u-h<c.length&&(l[u]=t(l[u],i(a[h],c[u-h])))}return l}}),FH="ceil",cXe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],lXe=Qe(FH,["typed","config","round"],n=>{var{typed:e,config:t,round:i}=n;return e(FH,{number:function(A){return $a(A,i(A),t.relTol,t.absTol)?i(A):Math.ceil(A)},"number, number":function(A,s){if($a(A,i(A,s),t.relTol,t.absTol))return i(A,s);var[o,a]="".concat(A,"e").split("e"),c=Math.ceil(Number("".concat(o,"e").concat(Number(a)+s)));return[o,a]="".concat(c,"e").split("e"),Number("".concat(o,"e").concat(Number(a)-s))}})}),uXe=Qe(FH,cXe,n=>{var{typed:e,config:t,round:i,matrix:r,equalScalar:A,zeros:s,DenseMatrix:o}=n,a=ec({typed:e,equalScalar:A}),c=la({typed:e,DenseMatrix:o}),l=Sh({typed:e}),u=lXe({typed:e,config:t,round:i});return e("ceil",{number:u.signatures.number,"number,number":u.signatures["number,number"],Complex:function(g){return g.ceil()},"Complex, number":function(g,f){return g.ceil(f)},"Complex, BigNumber":function(g,f){return g.ceil(f.toNumber())},BigNumber:function(g){return Wl(g,i(g),t.relTol,t.absTol)?i(g):g.ceil()},"BigNumber, BigNumber":function(g,f){return Wl(g,i(g,f),t.relTol,t.absTol)?i(g,f):g.toDecimalPlaces(f.toNumber(),qF.ROUND_CEIL)},Fraction:function(g){return g.ceil()},"Fraction, number":function(g,f){return g.ceil(f)},"Fraction, BigNumber":function(g,f){return g.ceil(f.toNumber())},"Unit, number, Unit":e.referToSelf(h=>function(g,f,d){var m=g.toNumeric(d);return d.multiply(h(m,f))}),"Unit, BigNumber, Unit":e.referToSelf(h=>(g,f,d)=>h(g,f.toNumber(),d)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(h=>(g,f,d)=>qi(g,m=>h(m,f,d),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(h=>(g,f)=>h(g,0,f)),"Array | Matrix":e.referToSelf(h=>g=>qi(g,h,!0)),"Array, number | BigNumber":e.referToSelf(h=>(g,f)=>qi(g,d=>h(d,f),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(h=>(g,f)=>a(g,f,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(g,f)=>l(g,f,h,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(g,f)=>l(r(f),g,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(g,f)=>A(g,0)?s(f.size(),f.storage()):"dense"===f.storage()?l(f,g,h,!0):c(f,g,h,!0))})}),fy=De(3556),joe="compareNatural",hXe=Qe(joe,["typed","compare"],n=>{var{typed:e,compare:t}=n,i=t.signatures["boolean,boolean"];return e(joe,{"any, any":function r(a,c){var h,l=As(a),u=As(c);if(!("number"!==l&&"BigNumber"!==l&&"Fraction"!==l||"number"!==u&&"BigNumber"!==u&&"Fraction"!==u))return"0"!==(h=t(a,c)).toString()?h>0?1:-1:fy(l,u);var g=["Array","DenseMatrix","SparseMatrix"];if(g.includes(l)||g.includes(u))return 0!==(h=A(r,a,c))?h:fy(l,u);if(l!==u)return fy(l,u);if("Complex"===l)return function fXe(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0}(a,c);if("Unit"===l)return a.equalBase(c)?r(a.value,c.value):s(r,a.formatUnits(),c.formatUnits());if("boolean"===l)return i(a,c);if("string"===l)return fy(a,c);if("Object"===l)return function o(a,c,l){var u=Object.keys(c),h=Object.keys(l);u.sort(fy),h.sort(fy);var g=s(a,u,h);if(0!==g)return g;for(var f=0;f<u.length;f++){var d=a(c[u[f]],l[h[f]]);if(0!==d)return d}return 0}(r,a,c);if("null"===l||"undefined"===l)return 0;throw new TypeError('Unsupported type of value "'+l+'"')}});function A(a,c,l){return aB(c)&&aB(l)?s(a,c.toJSON().values,l.toJSON().values):aB(c)?A(a,c.toArray(),l):aB(l)?A(a,c,l.toArray()):AF(c)?A(a,c.toJSON().data,l):AF(l)?A(a,c,l.toJSON().data):Array.isArray(c)?Array.isArray(l)?s(a,c,l):A(a,c,[l]):A(a,[c],l)}function s(a,c,l){for(var u=0,h=Math.min(c.length,l.length);u<h;u++){var g=a(c[u],l[u]);if(0!==g)return g}return c.length>l.length?1:c.length<l.length?-1:0}}),Zoe="composition",pXe=Qe(Zoe,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],n=>{var{typed:e,addScalar:t,combinations:i,isPositive:r,isInteger:s,larger:o}=n;return e(Zoe,{"number | BigNumber, number | BigNumber":function(c,l){if(!(s(c)&&r(c)&&s(l)&&r(l)))throw new TypeError("Positive integer value expected in function composition");if(o(l,c))throw new TypeError("k must be less than or equal to n in function composition");return i(t(c,-1),t(l,-1))}})}),CXe=Qe("cross",["typed","matrix","subtract","multiply"],n=>{var{typed:e,matrix:t,subtract:i,multiply:r}=n;return e("cross",{"Matrix, Matrix":function(o,a){return t(A(o.toArray(),a.toArray()))},"Matrix, Array":function(o,a){return t(A(o.toArray(),a))},"Array, Matrix":function(o,a){return t(A(o,a.toArray()))},"Array, Array":A});function A(s,o){var a=Math.max(Ti(s).length,Ti(o).length);s=uF(s),o=uF(o);var c=Ti(s),l=Ti(o);if(1!==c.length||1!==l.length||3!==c[0]||3!==l[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+c.join(", ")+"], B = ["+l.join(", ")+"])");var u=[i(r(s[1],o[2]),r(s[2],o[1])),i(r(s[2],o[0]),r(s[0],o[2])),i(r(s[0],o[1]),r(s[1],o[0]))];return a>1?[u]:u}}),BXe=Qe("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],n=>{var{typed:e,matrix:t,subtractScalar:i,multiply:r,divideScalar:A,isZero:s,unaryMinus:o}=n;return e("det",{any:function(l){return Hi(l)},"Array | Matrix":function(l){var u;switch((u=Ei(l)?l.size():Array.isArray(l)?(l=t(l)).size():[]).length){case 0:return Hi(l);case 1:if(1===u[0])return Hi(l.valueOf()[0]);if(0===u[0])return 1;throw new RangeError("Matrix must be square (size: "+mr(u)+")");case 2:var h=u[0],g=u[1];if(h===g)return function a(c,l,u){if(1===l)return Hi(c[0][0]);if(2===l)return i(r(c[0][0],c[1][1]),r(c[1][0],c[0][1]));for(var h=!1,g=new Array(l).fill(0).map((b,S)=>S),f=0;f<l;f++){var d=g[f];if(s(c[d][f])){var m=void 0;for(m=f+1;m<l;m++)if(!s(c[g[m]][f])){d=g[m],g[m]=g[f],g[f]=d,h=!h;break}if(m===l)return c[d][f]}for(var p=c[d][f],I=0===f?1:c[g[f-1]][f-1],C=f+1;C<l;C++)for(var B=g[C],y=f+1;y<l;y++)c[B][y]=A(i(r(c[B][y],p),r(c[B][f],c[d][y])),I)}var E=c[g[l-1]][l-1];return h?o(E):E}(l.clone().valueOf(),h);if(0===g)return 1;throw new RangeError("Matrix must be square (size: "+mr(u)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+mr(u)+")")}}})}),eae="dotMultiply",vXe=Qe(eae,["typed","matrix","equalScalar","multiplyScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,multiplyScalar:r,concat:A}=n,s=Mh({typed:e,equalScalar:i}),o=Eoe({typed:e,equalScalar:i}),a=ec({typed:e,equalScalar:i}),c=os({typed:e,matrix:t,concat:A});return e(eae,c({elop:r,SS:o,DS:s,Ss:a}))}),wXe=Qe("FibonacciHeap",["smaller","larger"],n=>{var{smaller:e,larger:t}=n,i=1/Math.log((1+Math.sqrt(5))/2);function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function s(l,u,h){u.left.right=u.right,u.right.left=u.left,h.degree--,h.child===u&&(h.child=u.right),0===h.degree&&(h.child=null),u.left=l,u.right=l.right,l.right=u,u.right.left=u,u.parent=null,u.mark=!1}function o(l,u){var h=u.parent;h&&(u.mark?(s(l,u,h),o(h)):u.mark=!0)}r.prototype.type="FibonacciHeap",r.prototype.isFibonacciHeap=!0,r.prototype.insert=function(l,u){var h={key:l,value:u,degree:0};if(this._minimum){var g=this._minimum;h.left=g,h.right=g.right,g.right=h,h.right.left=h,e(l,g.key)&&(this._minimum=h)}else h.left=h,h.right=h,this._minimum=h;return this._size++,h},r.prototype.size=function(){return this._size},r.prototype.clear=function(){this._minimum=null,this._size=0},r.prototype.isEmpty=function(){return 0===this._size},r.prototype.extractMinimum=function(){var l=this._minimum;if(null===l)return l;for(var u=this._minimum,h=l.degree,g=l.child;h>0;){var f=g.right;g.left.right=g.right,g.right.left=g.left,g.left=u,g.right=u.right,u.right=g,g.right.left=g,g.parent=null,g=f,h--}return l.left.right=l.right,l.right.left=l.left,u=l===l.right?null:function c(l,u){var m,h=Math.floor(Math.log(u)*i)+1,g=new Array(h),f=0,d=l;if(d)for(f++,d=d.right;d!==l;)f++,d=d.right;for(;f>0;){for(var p=d.degree,I=d.right;m=g[p];){if(t(d.key,m.key)){var C=m;m=d,d=C}a(m,d),g[p]=null,p++}g[p]=d,d=I,f--}l=null;for(var B=0;B<h;B++)(m=g[B])&&(l?(m.left.right=m.right,m.right.left=m.left,m.left=l,m.right=l.right,l.right=m,m.right.left=m,e(m.key,l.key)&&(l=m)):l=m);return l}(u=l.right,this._size),this._size--,this._minimum=u,l},r.prototype.remove=function(l){this._minimum=function A(l,u,h){u.key=h;var g=u.parent;return g&&e(u.key,g.key)&&(s(l,u,g),o(l,g)),e(u.key,l.key)&&(l=u),l}(this._minimum,l,-1),this.extractMinimum()};var a=function(u,h){u.left.right=u.right,u.right.left=u.left,u.parent=h,h.child?(u.left=h.child,u.right=h.child.right,h.child.right=u,u.right.left=u):(h.child=u,u.right=u,u.left=u),h.degree++,u.mark=!1};return r},{isClass:!0}),_Xe=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],DXe=Qe("fix",["typed","ceil","floor"],n=>{var{typed:e,ceil:t,floor:i}=n;return e("fix",{number:function(A){return A>0?i(A):t(A)},"number, number":function(A,s){return A>0?i(A,s):t(A,s)}})}),bXe=Qe("fix",_Xe,n=>{var{typed:e,Complex:t,matrix:i,ceil:r,floor:A,equalScalar:s,zeros:o,DenseMatrix:a}=n,c=la({typed:e,DenseMatrix:a}),l=Sh({typed:e}),u=DXe({typed:e,ceil:r,floor:A});return e("fix",{number:u.signatures.number,"number, number | BigNumber":u.signatures["number,number"],Complex:function(g){return new t(g.re>0?Math.floor(g.re):Math.ceil(g.re),g.im>0?Math.floor(g.im):Math.ceil(g.im))},"Complex, number":function(g,f){return new t(g.re>0?A(g.re,f):r(g.re,f),g.im>0?A(g.im,f):r(g.im,f))},"Complex, BigNumber":function(g,f){var d=f.toNumber();return new t(g.re>0?A(g.re,d):r(g.re,d),g.im>0?A(g.im,d):r(g.im,d))},BigNumber:function(g){return g.isNegative()?r(g):A(g)},"BigNumber, number | BigNumber":function(g,f){return g.isNegative()?r(g,f):A(g,f)},Fraction:function(g){return g.s<0n?g.ceil():g.floor()},"Fraction, number | BigNumber":function(g,f){return g.s<0n?r(g,f):A(g,f)},"Unit, number, Unit":e.referToSelf(h=>function(g,f,d){var m=g.toNumeric(d);return d.multiply(h(m,f))}),"Unit, BigNumber, Unit":e.referToSelf(h=>(g,f,d)=>h(g,f.toNumber(),d)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(h=>(g,f,d)=>qi(g,m=>h(m,f,d),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(h=>(g,f)=>h(g,0,f)),"Array | Matrix":e.referToSelf(h=>g=>qi(g,h,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(h=>(g,f)=>qi(g,d=>h(d,f),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(g,f)=>l(i(f),g,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(g,f)=>s(g,0)?o(f.size(),f.storage()):"dense"===f.storage()?l(f,g,h,!0):c(f,g,h,!0))})}),MXe=Qe("index",["typed","Index"],n=>{var{typed:e,Index:t}=n;return e("index",{"...number | string | BigNumber | Range | Array | Matrix":function(r){var A=r.map(function(o){return Zi(o)?o.toNumber():HA(o)||Ei(o)?o.map(function(a){return Zi(a)?a.toNumber():a}):o}),s=new t;return t.apply(s,A),s}})}),FXe=Qe("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],n=>{var{typed:e,config:t,abs:i,add:r,addScalar:A,matrix:s,multiply:o,multiplyScalar:a,divideScalar:c,subtract:l,smaller:u,equalScalar:h,flatten:g,isZero:f,isNumeric:d}=n;return e("intersect",{"Array, Array, Array":m,"Array, Array, Array, Array":p,"Matrix, Matrix, Matrix":function(D,T,O){var G=m(D.valueOf(),T.valueOf(),O.valueOf());return null===G?null:s(G)},"Matrix, Matrix, Matrix, Matrix":function(D,T,O,G){var W=p(D.valueOf(),T.valueOf(),O.valueOf(),G.valueOf());return null===W?null:s(W)}});function m(M,D,T){if(M=I(M),D=I(D),T=I(T),!B(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!B(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function y(M){return 4===M.length&&d(M[0])&&d(M[1])&&d(M[2])&&d(M[3])}(T))throw new TypeError("Array with 4 numbers expected as third argument");return function w(M,D,T,O,G,W,k,L,J,H){var ue=a(M,k),ye=a(O,k),K=a(D,L),z=a(G,L),Z=a(T,J),le=a(W,J),ce=l(l(l(H,ue),K),Z),ge=l(l(l(A(A(ye,z),le),ue),K),Z),re=c(ce,ge);return[A(M,a(re,l(O,M))),A(D,a(re,l(G,D))),A(T,a(re,l(W,T)))]}(M[0],M[1],M[2],D[0],D[1],D[2],T[0],T[1],T[2],T[3])}function p(M,D,T,O){if(M=I(M),D=I(D),T=I(T),O=I(O),2===M.length){if(!C(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!C(D))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!C(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!C(O))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function E(M,D,T,O){var G=M,W=T,k=l(G,D),L=l(W,O),J=l(a(k[0],L[1]),a(L[0],k[1]));if(f(J)||u(i(J),t.relTol))return null;var H=a(L[0],G[1]),ue=a(L[1],G[0]),ye=a(L[0],W[1]),K=a(L[1],W[0]),z=c(A(l(l(H,ue),ye),K),J);return r(o(k,z),G)}(M,D,T,O)}if(3===M.length){if(!B(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!B(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!B(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!B(O))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function S(M,D,T,O,G,W,k,L,J,H,ue,ye){var K=b(M,k,H,k,D,L,ue,L,T,J,ye,J),z=b(H,k,O,M,ue,L,G,D,ye,J,W,T),Z=b(M,k,O,M,D,L,G,D,T,J,W,T),le=b(H,k,H,k,ue,L,ue,L,ye,J,ye,J),ce=b(O,M,O,M,G,D,G,D,W,T,W,T),ge=l(a(K,z),a(Z,le)),re=l(a(ce,le),a(z,z));if(f(re))return null;var ie=c(ge,re),me=c(A(K,a(ie,z)),le),be=A(M,a(ie,l(O,M))),Ie=A(D,a(ie,l(G,D))),Ne=A(T,a(ie,l(W,T))),Ae=A(k,a(me,l(H,k))),ee=A(L,a(me,l(ue,L))),j=A(J,a(me,l(ye,J)));return h(be,Ae)&&h(Ie,ee)&&h(Ne,j)?[be,Ie,Ne]:null}(M[0],M[1],M[2],D[0],D[1],D[2],T[0],T[1],T[2],O[0],O[1],O[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function I(M){return 1===M.length?M[0]:M.length>1&&Array.isArray(M[0])&&M.every(D=>Array.isArray(D)&&1===D.length)?g(M):M}function C(M){return 2===M.length&&d(M[0])&&d(M[1])}function B(M){return 3===M.length&&d(M[0])&&d(M[1])&&d(M[2])}function b(M,D,T,O,G,W,k,L,J,H,ue,ye){var K=a(l(M,D),l(T,O)),z=a(l(G,W),l(k,L)),Z=a(l(J,H),l(ue,ye));return A(A(K,z),Z)}}),TXe=Qe("invmod",["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],n=>{var{typed:e,BigNumber:i,xgcd:r,equal:A,smaller:s,mod:o,add:a,isInteger:c}=n;return e("invmod",{"number, number":l,"BigNumber, BigNumber":l});function l(u,h){if(!c(u)||!c(h))throw new Error("Parameters in function invmod must be integer numbers");if(u=o(u,h),A(h,0))throw new Error("Divisor must be non zero");var g=r(u,h);g=g.valueOf();var[f,d]=g;return A(f,i(1))?(d=o(d,h),s(d,i(0))&&(d=a(d,h)),d):NaN}}),LXe=Qe("lcm",["typed","matrix","equalScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:i,concat:r}=n,A=Mh({typed:e,equalScalar:i}),s=TF({typed:e,equalScalar:i}),o=ec({typed:e,equalScalar:i}),a=os({typed:e,matrix:t,concat:r}),c="number | BigNumber | Fraction | Matrix | Array",l={};return l["".concat(c,", ").concat(c,", ...").concat(c)]=e.referToSelf(h=>(g,f,d)=>{for(var m=h(g,f),p=0;p<d.length;p++)m=h(m,d[p]);return m}),e("lcm",{"number, number":tAe,"BigNumber, BigNumber":function u(h,g){if(!h.isInt()||!g.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(h.isZero())return h;if(g.isZero())return g;for(var f=h.times(g);!g.isZero();){var d=g;g=h.mod(d),h=d}return f.div(h).abs()},"Fraction, Fraction":(h,g)=>h.lcm(g)},a({SS:s,DS:A,Ss:o}),l)}),OXe=Qe("log1p",["typed","config","divideScalar","log","Complex"],n=>{var{typed:e,config:t,divideScalar:i,log:r,Complex:A}=n;return e("log1p",{number:function(a){return a>=-1||t.predictable?Mne(a):s(new A(a,0))},Complex:s,BigNumber:function(a){var c=a.plus(1);return!c.isNegative()||t.predictable?c.ln():s(new A(a.toNumber(),0))},"Array | Matrix":e.referToSelf(o=>a=>qi(a,o)),"any, any":e.referToSelf(o=>(a,c)=>i(o(a),r(c)))});function s(o){var a=o.re+1;return new A(Math.log(Math.sqrt(a*a+o.im*o.im)),Math.atan2(o.im,a))}}),Aae="setCartesian",PXe=Qe(Aae,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:A,DenseMatrix:s}=n;return e(Aae,{"Array | Matrix, Array | Matrix":function(a,c){var l=[];if(0!==i(t(a),new A(0))&&0!==i(t(c),new A(0))){var u=tA(Array.isArray(a)?a:a.toArray()).sort(r),h=tA(Array.isArray(c)?c:c.toArray()).sort(r);l=[];for(var g=0;g<u.length;g++)for(var f=0;f<h.length;f++)l.push([u[g],h[f]])}return Array.isArray(a)&&Array.isArray(c)?l:new s(l)}})}),sae="setDistinct",YXe=Qe(sae,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:A,DenseMatrix:s}=n;return e(sae,{"Array | Matrix":function(a){var c;if(0===i(t(a),new A(0)))c=[];else{var l=tA(Array.isArray(a)?a:a.toArray()).sort(r);(c=[]).push(l[0]);for(var u=1;u<l.length;u++)0!==r(l[u],l[u-1])&&c.push(l[u])}return Array.isArray(a)?c:new s(c)}})}),oae="setIsSubset",qXe=Qe(oae,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:A}=n;return e(oae,{"Array | Matrix, Array | Matrix":function(o,a){if(0===i(t(o),new A(0)))return!0;if(0===i(t(a),new A(0)))return!1;for(var u,c=ty(tA(Array.isArray(o)?o:o.toArray()).sort(r)),l=ty(tA(Array.isArray(a)?a:a.toArray()).sort(r)),h=0;h<c.length;h++){u=!1;for(var g=0;g<l.length;g++)if(0===r(c[h].value,l[g].value)&&c[h].identifier===l[g].identifier){u=!0;break}if(!1===u)return!1}return!0}})}),aae="setPowerset",VXe=Qe(aae,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:A}=n;return e(aae,{"Array | Matrix":function(c){if(0===i(t(c),new A(0)))return[];for(var l=tA(Array.isArray(c)?c:c.toArray()).sort(r),u=[],h=0;h.toString(2).length<=l.length;)u.push(s(l,h.toString(2).split("").reverse())),h++;return function o(a){for(var c=[],l=a.length-1;l>0;l--)for(var u=0;u<l;u++)a[u].length>a[u+1].length&&(c=a[u],a[u]=a[u+1],a[u+1]=c);return a}(u)}});function s(a,c){for(var l=[],u=0;u<c.length;u++)"1"===c[u]&&l.push(a[u]);return l}}),AR="smallerEq",WXe=Qe(AR,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:i,DenseMatrix:r,concat:A,SparseMatrix:s}=n,o=hl({typed:e}),a=Nf({typed:e,SparseMatrix:s}),c=la({typed:e,DenseMatrix:r}),l=os({typed:e,matrix:i,concat:A}),u=cy({typed:e});return e(AR,jXe({typed:e,config:t}),{"boolean, boolean":(h,g)=>h<=g,"BigNumber, BigNumber":function(g,f){return g.lte(f)||Wl(g,f,t.relTol,t.absTol)},"bigint, bigint":(h,g)=>h<=g,"Fraction, Fraction":(h,g)=>1!==h.compare(g),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,l({SS:a,DS:o,Ss:c}))}),jXe=Qe(AR,["typed","config"],n=>{var{typed:e,config:t}=n;return e(AR,{"number, number":function(r,A){return r<=A||$a(r,A,t.relTol,t.absTol)}})}),XXe=Qe("sort",["typed","matrix","compare","compareNatural"],n=>{var{typed:e,matrix:t,compare:i,compareNatural:r}=n,A=i,s=(l,u)=>-i(l,u);return e("sort",{Array:function(u){return a(u),u.sort(A)},Matrix:function(u){return c(u),t(u.toArray().sort(A),u.storage())},"Array, function":function(u,h){return a(u),u.sort(h)},"Matrix, function":function(u,h){return c(u),t(u.toArray().sort(h),u.storage())},"Array, string":function(u,h){return a(u),u.sort(o(h))},"Matrix, string":function(u,h){return c(u),t(u.toArray().sort(o(h)),u.storage())}});function o(l){if("asc"===l)return A;if("desc"===l)return s;if("natural"===l)return r;throw new Error('String "asc", "desc", or "natural" expected')}function a(l){if(1!==Ti(l).length)throw new Error("One dimensional array expected")}function c(l){if(1!==l.size().length)throw new Error("One dimensional matrix expected")}}),sR="unequal",e$e=Qe(sR,["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,equalScalar:i,matrix:r,DenseMatrix:A,concat:s,SparseMatrix:o}=n,a=hl({typed:e}),c=Nf({typed:e,SparseMatrix:o}),l=la({typed:e,DenseMatrix:A}),u=os({typed:e,matrix:r,concat:s});return e(sR,t$e({typed:e,equalScalar:i}),u({elop:function h(g,f){return!i(g,f)},SS:c,DS:a,Ss:l}))}),t$e=Qe(sR,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(sR,{"any, any":function(r,A){return null===r?null!==A:null===A?null!==r:void 0===r?void 0!==A:void 0===A?void 0!==r:!t(r,A)}})}),lae="setDifference",i$e=Qe(lae,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:A,DenseMatrix:s}=n;return e(lae,{"Array | Matrix, Array | Matrix":function(a,c){var l;if(0===i(t(a),new A(0)))l=[];else{if(0===i(t(c),new A(0)))return tA(a.toArray());var u=ty(tA(Array.isArray(a)?a:a.toArray()).sort(r)),h=ty(tA(Array.isArray(c)?c:c.toArray()).sort(r));l=[];for(var g,f=0;f<u.length;f++){g=!1;for(var d=0;d<h.length;d++)if(0===r(u[f].value,h[d].value)&&u[f].identifier===h[d].identifier){g=!0;break}g||l.push(u[f])}}return Array.isArray(a)&&Array.isArray(c)?gF(l):new s(gF(l))}})}),uae="setMultiplicity",A$e=Qe(uae,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:A}=n;return e(uae,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(o,a){if(0===i(t(a),new A(0)))return 0;for(var c=tA(Array.isArray(a)?a:a.toArray()),l=0,u=0;u<c.length;u++)0===r(c[u],o)&&l++;return l}})}),gae="setSymDifference",o$e=Qe(gae,["typed","size","concat","subset","setDifference","Index"],n=>{var{typed:e,size:t,concat:i,subset:r,setDifference:A,Index:s}=n;return e(gae,{"Array | Matrix, Array | Matrix":function(a,c){if(0===r(t(a),new s(0)))return tA(c);if(0===r(t(c),new s(0)))return tA(a);var l=tA(a),u=tA(c);return i(A(l,u),A(u,l))}})}),l$e=Qe("Spa",["addScalar","equalScalar","FibonacciHeap"],n=>{var{addScalar:e,equalScalar:t,FibonacciHeap:i}=n;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return r.prototype.type="Spa",r.prototype.isSpa=!0,r.prototype.set=function(A,s){if(this._values[A])this._values[A].value=s;else{var o=this._heap.insert(A,s);this._values[A]=o}},r.prototype.get=function(A){var s=this._values[A];return s?s.value:0},r.prototype.accumulate=function(A,s){var o=this._values[A];o?o.value=e(o.value,s):(o=this._heap.insert(A,s),this._values[A]=o)},r.prototype.forEach=function(A,s,o){var a=this._heap,c=this._values,l=[],u=a.extractMinimum();for(u&&l.push(u);u&&u.key<=s;)u.key>=A&&(t(u.value,0)||o(u.key,u.value,this)),(u=a.extractMinimum())&&l.push(u);for(var h=0;h<l.length;h++){var g=l[h];c[(u=a.insert(g.key,g.value)).key]=u}},r.prototype.swap=function(A,s){var o=this._values[A],a=this._values[s];if(!o&&a)o=this._heap.insert(A,a.value),this._heap.remove(a),this._values[A]=o,this._values[s]=void 0;else if(o&&!a)a=this._heap.insert(s,o.value),this._heap.remove(o),this._values[s]=a,this._values[A]=void 0;else if(o&&a){var c=o.value;o.value=a.value,a.value=c}},r},{isClass:!0}),g$e=Qe("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],n=>{var{typed:e,matrix:t,divideScalar:i,addScalar:r,multiply:A,unaryMinus:s,det:o,identity:a,abs:c}=n;return e("inv",{"Array | Matrix":function(h){var g=Ei(h)?h.size():Ti(h);switch(g.length){case 1:if(1===g[0])return Ei(h)?t([i(1,h.valueOf()[0])]):[i(1,h[0])];throw new RangeError("Matrix must be square (size: "+mr(g)+")");case 2:var f=g[0],d=g[1];if(f===d)return Ei(h)?t(l(h.valueOf(),f,d),h.storage()):l(h,f,d);throw new RangeError("Matrix must be square (size: "+mr(g)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+mr(g)+")")}},any:function(h){return i(1,h)}});function l(u,h,g){var f,d,m,p,I;if(1===h){if(0===(p=u[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,p)]]}if(2===h){var C=o(u);if(0===C)throw Error("Cannot calculate inverse, determinant is zero");return[[i(u[1][1],C),i(s(u[0][1]),C)],[i(s(u[1][0]),C),i(u[0][0],C)]]}var B=u.concat();for(f=0;f<h;f++)B[f]=B[f].concat();for(var y=a(h).valueOf(),E=0;E<g;E++){var b=c(B[E][E]),S=E;for(f=E+1;f<h;)c(B[f][E])>b&&(b=c(B[f][E]),S=f),f++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(f=S)!==E&&(I=B[E],B[E]=B[f],B[f]=I,I=y[E],y[E]=y[f],y[f]=I);var w=B[E],M=y[E];for(f=0;f<h;f++){var D=B[f],T=y[f];if(f!==E){if(0!==D[E]){for(m=i(s(D[E]),w[E]),d=E;d<g;d++)D[d]=r(D[d],A(m,w[d]));for(d=0;d<g;d++)T[d]=r(T[d],A(m,M[d]))}}else{for(m=w[E],d=E;d<g;d++)D[d]=i(D[d],m);for(d=0;d<g;d++)T[d]=i(T[d],m)}}}return y}}),f$e=Qe("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],n=>{var{typed:e,matrix:t,abs:i,addScalar:r,divideScalar:A,multiplyScalar:s,subtractScalar:o,larger:a,equalScalar:c,unaryMinus:l,DenseMatrix:u,SparseMatrix:h,Spa:g}=n;return e("lup",{DenseMatrix:function(p){return f(p)},SparseMatrix:function(p){return function d(m){var W,k,L,p=m._size[0],I=m._size[1],C=Math.min(p,I),B=m._values,y=m._index,E=m._ptr,b=[],S=[],w=[],M=[p,C],D=[],T=[],O=[],G=[C,I],J=[],H=[];for(W=0;W<p;W++)J[W]=W,H[W]=W;var ye=function(){var z=new g;k<p&&(w.push(b.length),b.push(1),S.push(k)),O.push(D.length);var le=E[k+1];for(L=E[k];L<le;L++)z.set(J[W=y[L]],B[L]);k>0&&z.forEach(0,k-1,function(ie,me){h._forEachRow(ie,b,S,w,function(be,Ie){be>ie&&z.accumulate(be,l(s(Ie,me)))})});var ce=k,ge=z.get(k),re=i(ge);z.forEach(k+1,p-1,function(ie,me){var be=i(me);a(be,re)&&(ce=ie,re=be,ge=me)}),k!==ce&&(h._swapRows(k,ce,M[1],b,S,w),h._swapRows(k,ce,G[1],D,T,O),z.swap(k,ce),function(z,Z){var le=H[z],ce=H[Z];J[le]=Z,J[ce]=z,H[z]=ce,H[Z]=le}(k,ce)),z.forEach(0,p-1,function(ie,me){ie<=k?(D.push(me),T.push(ie)):(me=A(me,ge),c(me,0)||(b.push(me),S.push(ie)))})};for(k=0;k<I;k++)ye();return O.push(D.length),w.push(b.length),{L:new h({values:b,index:S,ptr:w,size:M}),U:new h({values:D,index:T,ptr:O,size:G}),p:J,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(p)},Array:function(p){var C=f(t(p));return{L:C.L.valueOf(),U:C.U.valueOf(),p:C.p}}});function f(m){var w,M,D,p=m._size[0],I=m._size[1],C=Math.min(p,I),B=Hi(m._data),y=[],E=[p,C],b=[],S=[C,I],T=[];for(w=0;w<p;w++)T[w]=w;for(M=0;M<I;M++){if(M>0)for(w=0;w<p;w++){var O=Math.min(w,M),G=0;for(D=0;D<O;D++)G=r(G,s(B[w][D],B[D][M]));B[w][M]=o(B[w][M],G)}var W=M,k=0,L=0;for(w=M;w<p;w++){var J=B[w][M],H=i(J);a(H,k)&&(W=w,k=H,L=J)}if(M!==W&&(T[M]=[T[W],T[W]=T[M]][0],u._swapRows(M,W,B)),M<p)for(w=M+1;w<p;w++)c(B[w][M],0)||(B[w][M]=A(B[w][M],L))}for(M=0;M<I;M++)for(w=0;w<p;w++)0===M&&(w<I&&(b[w]=[]),y[w]=[]),w<M?(w<I&&(b[w][M]=B[w][M]),M<p&&(y[w][M]=0)):w!==M?(w<I&&(b[w][M]=0),M<p&&(y[w][M]=B[w][M])):(w<I&&(b[w][M]=B[w][M]),M<p&&(y[w][M]=1));var ye=new u({data:y,size:E}),K=new u({data:b,size:S}),z=[];for(w=0,C=T.length;w<C;w++)z[T[w]]=w;return{L:ye,U:K,p:z,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),p$e=Qe("pinv",["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],n=>{var{typed:e,matrix:t,inv:i,deepEqual:r,equal:A,dotDivide:s,dot:o,ctranspose:a,divideScalar:c,multiply:l,add:u,Complex:h}=n;return e("pinv",{"Array | Matrix":function(C){var B=Ei(C)?C.size():Ti(C);switch(B.length){case 1:return p(C)?a(C):1===B[0]?i(C):s(a(C),o(C,C));case 2:if(p(C))return a(C);var y=B[0],E=B[1];if(y===E)try{return i(C)}catch(b){if(!(b instanceof Error&&b.message.match(/Cannot calculate inverse, determinant is zero/)))throw b}return Ei(C)?t(g(C.valueOf(),y,E),C.storage()):g(C,y,E);default:throw new RangeError("Matrix must be two dimensional (size: "+mr(B)+")")}},any:function(C){return A(C,0)?Hi(C):c(1,C)}});function g(I,C,B){var{C:y,F:E}=function d(I,C,B){var y=function f(I,C,B){for(var y=Hi(I),E=0,b=0;b<C;b++){if(B<=E)return y;for(var S=b;m(y[S][E]);)if(C===++S&&(S=b,B===++E))return y;[y[S],y[b]]=[y[b],y[S]];for(var w=y[b][E],M=0;M<B;M++)y[b][M]=s(y[b][M],w);for(var D=0;D<C;D++)if(D!==b){w=y[D][E];for(var T=0;T<B;T++)y[D][T]=u(y[D][T],l(-1,l(w,y[b][T])))}E++}return y}(I,C,B),E=I.map((S,w)=>S.filter((M,D)=>D<C&&!m(o(y[D],y[D]))));return{C:E,F:y.filter((S,w)=>!m(o(y[w],y[w])))}}(I,C,B),b=l(i(l(a(y),y)),a(y)),S=l(a(E),i(l(E,a(E))));return l(S,b)}function m(I){return A(u(I,h(1,1)),u(0,h(1,1)))}function p(I){return r(u(I,h(1,1)),u(l(I,0),h(1,1)))}}),C$e=Qe("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],n=>{var{typed:e,config:t,identity:i,multiply:r,matrix:A,inv:s,number:o,fraction:a,Complex:c}=n;return e("pow",{"number, number":l,"Complex, Complex":function(f,d){return f.pow(d)},"BigNumber, BigNumber":function(f,d){return d.isInteger()||f>=0||t.predictable?f.pow(d):new c(f.toNumber(),0).pow(d.toNumber(),0)},"bigint, bigint":(g,f)=>g**f,"Fraction, Fraction":function(f,d){var m=f.pow(d);if(null!=m)return m;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return l(f.valueOf(),d.valueOf())},"Array, number":u,"Array, BigNumber":function(f,d){return u(f,d.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(f,d){return h(f,d.toNumber())},"Unit, number | BigNumber":function(f,d){return f.pow(d)}});function l(g,f){if(t.predictable&&!Ai(f)&&g<0)try{var d=a(f),m=o(d);if((f===m||Math.abs((f-m)/f)<1e-14)&&d.d%2n===1n)return(d.n%2n===0n?1:-1)*Math.pow(-g,f)}catch{}return t.predictable&&(g<-1&&f===1/0||g>-1&&g<0&&f===-1/0)?NaN:Ai(f)||g>=0||t.predictable?oAe(g,f):g*g<1&&f===1/0||g*g>1&&f===-1/0?0:new c(g,0).pow(f,0)}function u(g,f){if(!Ai(f))throw new TypeError("For A^b, b must be an integer (value is "+f+")");var d=Ti(g);if(2!==d.length)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!==d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");if(f<0)try{return u(s(g),-f)}catch(I){throw"Cannot calculate inverse, determinant is zero"===I.message?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+f+")"):I}for(var m=i(d[0]).valueOf(),p=g;f>=1;)!(1&~f)&&(m=r(p,m)),f>>=1,p=r(p,p);return m}function h(g,f){return A(u(g.valueOf(),f))}}),mae="setIntersect",B$e=Qe(mae,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:i,compareNatural:r,Index:A,DenseMatrix:s}=n;return e(mae,{"Array | Matrix, Array | Matrix":function(a,c){var l;if(0===i(t(a),new A(0))||0===i(t(c),new A(0)))l=[];else{var u=ty(tA(Array.isArray(a)?a:a.toArray()).sort(r)),h=ty(tA(Array.isArray(c)?c:c.toArray()).sort(r));l=[];for(var g=0;g<u.length;g++)for(var f=0;f<h.length;f++)if(0===r(u[g].value,h[f].value)&&u[g].identifier===h[f].identifier){l.push(u[g]);break}}return Array.isArray(a)&&Array.isArray(c)?gF(l):new s(gF(l))}})}),v$e=Qe("setUnion",["typed","size","concat","subset","setIntersect","setSymDifference","Index"],n=>{var{typed:e,size:t,concat:i,subset:r,setIntersect:A,setSymDifference:s,Index:o}=n;return e("setUnion",{"Array | Matrix, Array | Matrix":function(c,l){if(0===r(t(c),new o(0)))return tA(l);if(0===r(t(l),new o(0)))return tA(c);var u=tA(c),h=tA(l);return i(s(u,h),A(u,h))}})}),Q$e=Qe("sqrtm",["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],n=>{var{typed:e,abs:t,add:i,multiply:r,map:A,sqrt:s,subtract:o,inv:a,size:c,max:l,identity:u}=n,g=1e-6;return e("sqrtm",{"Array | Matrix":function(m){var p=Ei(m)?m.size():Ti(m);switch(p.length){case 1:if(1===p[0])return A(m,s);throw new RangeError("Matrix must be square (size: "+mr(p)+")");case 2:if(p[0]===p[1])return function f(d){var m,p=0,I=d,C=u(c(d));do{var B=I;if(I=r(.5,i(B,a(C))),C=r(.5,i(C,a(B))),(m=l(t(o(I,B))))>g&&++p>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(m>g);return I}(m);throw new RangeError("Matrix must be square (size: "+mr(p)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+mr(p)+")")}}})});function Bae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function TH(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Bae(Object(t),!0).forEach(function(i){ca(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Bae(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var D$e=Qe("Unit",["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],n=>{var B,y,E,{on:e,config:t,addScalar:i,subtractScalar:r,multiplyScalar:A,divideScalar:s,pow:o,abs:a,fix:c,round:l,equal:u,isNumeric:h,format:g,number:f,Complex:d,BigNumber:m,Fraction:p}=n,I=f;function C(ee,j){if(!(this instanceof C))throw new Error("Constructor must be called with the new operator");if(null!=ee&&!h(ee)&&!jd(ee))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===j)this.units=[],this.dimensions=J.map(Me=>0);else if("string"==typeof j){var Te=C.parse(j);this.units=Te.units,this.dimensions=Te.dimensions}else{if(!pg(j)||null!==j.value)throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.fixPrefix=j.fixPrefix,this.skipAutomaticSimplification=j.skipAutomaticSimplification,this.dimensions=j.dimensions.slice(0),this.units=j.units.map(Me=>aa({},Me))}this.value=this._normalize(ee)}function b(){for(;" "===E||"\t"===E;)M()}function w(ee){return ee>="0"&&ee<="9"}function M(){y++,E=B.charAt(y)}function D(ee){E=B.charAt(y=ee)}function T(){var ee="",j=y;if("+"===E?M():"-"===E&&(ee+=E,M()),!function S(ee){return ee>="0"&&ee<="9"||"."===ee}(E))return D(j),null;if("."===E){if(ee+=E,M(),!w(E))return D(j),null}else{for(;w(E);)ee+=E,M();"."===E&&(ee+=E,M())}for(;w(E);)ee+=E,M();if("E"===E||"e"===E){var Te="",Me=y;if(Te+=E,M(),("+"===E||"-"===E)&&(Te+=E,M()),!w(E))return D(Me),ee;for(ee+=Te;w(E);)ee+=E,M()}return ee}function O(){for(var ee="";w(E)||C.isValidAlpha(E);)ee+=E,M();var j=ee.charAt(0);return C.isValidAlpha(j)?ee:null}function G(ee){return E===ee?(M(),ee):null}Object.defineProperty(C,"name",{value:"Unit"}),C.prototype.constructor=C,C.prototype.type="Unit",C.prototype.isUnit=!0,C.parse=function(ee,j){if(j=j||{},y=-1,E="","string"!=typeof(B=ee))throw new TypeError("Invalid argument in Unit.parse, string expected");var Te=new C;Te.units=[];var Me=1,Oe=!1;M(),b();var Ge=T(),oe=null;if(Ge){if("BigNumber"===t.number)oe=new m(Ge);else if("Fraction"===t.number)try{oe=new p(Ge)}catch{oe=parseFloat(Ge)}else oe=parseFloat(Ge);b(),G("*")?(Me=1,Oe=!0):G("/")&&(Me=-1,Oe=!0)}for(var te=[],Ye=1;;){for(b();"("===E;)te.push(Me),Ye*=Me,Me=1,M(),b();var Ve;if(!E)break;var ut=E;if(null===(Ve=O()))throw new SyntaxError('Unexpected "'+ut+'" in "'+B+'" at index '+y.toString());var it=W(Ve);if(null===it)throw new SyntaxError('Unit "'+Ve+'" not found.');var Jt=Me*Ye;if(b(),G("^")){b();var Yt=T();if(null===Yt)throw new SyntaxError('In "'+ee+'", "^" must be followed by a floating-point number');Jt*=Yt}Te.units.push({unit:it.unit,prefix:it.prefix,power:Jt});for(var Ot=0;Ot<J.length;Ot++)Te.dimensions[Ot]+=(it.unit.dimensions[Ot]||0)*Jt;for(b();")"===E;){if(0===te.length)throw new SyntaxError('Unmatched ")" in "'+B+'" at index '+y.toString());Ye/=te.pop(),M(),b()}Oe=!1,G("*")?(Me=1,Oe=!0):G("/")?(Me=-1,Oe=!0):Me=1,it.unit.base&&(ce.auto[it.unit.base.key]={unit:it.unit,prefix:it.prefix})}if(b(),E)throw new SyntaxError('Could not parse: "'+ee+'"');if(Oe)throw new SyntaxError('Trailing characters: "'+ee+'"');if(0!==te.length)throw new SyntaxError('Unmatched "(" in "'+B+'"');if(0===Te.units.length&&!j.allowNoUnits)throw new SyntaxError('"'+ee+'" contains no units');return Te.value=void 0!==oe?Te._normalize(oe):null,Te},C.prototype.clone=function(){var ee=new C;ee.fixPrefix=this.fixPrefix,ee.skipAutomaticSimplification=this.skipAutomaticSimplification,ee.value=Hi(this.value),ee.dimensions=this.dimensions.slice(0),ee.units=[];for(var j=0;j<this.units.length;j++)for(var Te in ee.units[j]={},this.units[j])Xn(this.units[j],Te)&&(ee.units[j][Te]=this.units[j][Te]);return ee},C.prototype.valueType=function(){return As(this.value)},C.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},C.prototype._normalize=function(ee){if(null==ee||0===this.units.length)return ee;for(var j=ee,Te=C._getNumberConverter(As(ee)),Me=0;Me<this.units.length;Me++){var Oe=Te(this.units[Me].unit.value),Ge=Te(this.units[Me].prefix.value),oe=Te(this.units[Me].power);j=A(j,o(A(Oe,Ge),oe))}return j},C.prototype._denormalize=function(ee,j){if(null==ee||0===this.units.length)return ee;for(var Te=ee,Me=C._getNumberConverter(As(ee)),Oe=0;Oe<this.units.length;Oe++){var Ge=Me(this.units[Oe].unit.value),oe=Me(this.units[Oe].prefix.value),te=Me(this.units[Oe].power);Te=s(Te,o(A(Ge,oe),te))}return Te};var W=j1(ee=>{if(Xn(z,ee)){var j=z[ee];return{unit:j,prefix:j.prefixes[""]}}for(var Me in z)if(Xn(z,Me)&&$Ge(ee,Me)){var Oe=z[Me],oe=ee.substring(0,ee.length-Me.length),te=Xn(Oe.prefixes,oe)?Oe.prefixes[oe]:void 0;if(void 0!==te)return{unit:Oe,prefix:te}}return null},{hasher:ee=>ee[0],limit:100});function k(ee){return ee.equalBase(H.NONE)&&null!==ee.value&&!t.predictable?ee.value:ee}C.isValuelessUnit=function(ee){return null!==W(ee)},C.prototype.hasBase=function(ee){if("string"==typeof ee&&(ee=H[ee]),!ee)return!1;for(var j=0;j<J.length;j++)if(Math.abs((this.dimensions[j]||0)-(ee.dimensions[j]||0))>1e-12)return!1;return!0},C.prototype.equalBase=function(ee){for(var j=0;j<J.length;j++)if(Math.abs((this.dimensions[j]||0)-(ee.dimensions[j]||0))>1e-12)return!1;return!0},C.prototype.equals=function(ee){return this.equalBase(ee)&&u(this.value,ee.value)},C.prototype.multiply=function(ee){for(var j=this.clone(),Te=pg(ee)?ee:new C(ee),Me=0;Me<J.length;Me++)j.dimensions[Me]=(this.dimensions[Me]||0)+(Te.dimensions[Me]||0);for(var Oe=0;Oe<Te.units.length;Oe++){var Ge=TH({},Te.units[Oe]);j.units.push(Ge)}if(null!==this.value||null!==Te.value){var oe=null===this.value?this._normalize(1):this.value,te=null===Te.value?Te._normalize(1):Te.value;j.value=A(oe,te)}else j.value=null;return pg(ee)&&(j.skipAutomaticSimplification=!1),k(j)},C.prototype.divideInto=function(ee){return new C(ee).divide(this)},C.prototype.divide=function(ee){for(var j=this.clone(),Te=pg(ee)?ee:new C(ee),Me=0;Me<J.length;Me++)j.dimensions[Me]=(this.dimensions[Me]||0)-(Te.dimensions[Me]||0);for(var Oe=0;Oe<Te.units.length;Oe++){var Ge=TH(TH({},Te.units[Oe]),{},{power:-Te.units[Oe].power});j.units.push(Ge)}if(null!==this.value||null!==Te.value){var oe=null===this.value?this._normalize(1):this.value,te=null===Te.value?Te._normalize(1):Te.value;j.value=s(oe,te)}else j.value=null;return pg(ee)&&(j.skipAutomaticSimplification=!1),k(j)},C.prototype.pow=function(ee){for(var j=this.clone(),Te=0;Te<J.length;Te++)j.dimensions[Te]=(this.dimensions[Te]||0)*ee;for(var Me=0;Me<j.units.length;Me++)j.units[Me].power*=ee;return j.value=null!==j.value?o(j.value,ee):null,j.skipAutomaticSimplification=!1,k(j)},C.prototype.abs=function(){var ee=this.clone();if(null!==ee.value)if(ee._isDerived()||0===ee.units.length||0===ee.units[0].unit.offset)ee.value=a(ee.value);else{var j=ee._numberConverter(),Te=j(ee.units[0].unit.value),Me=j(ee.units[0].unit.offset),Oe=A(Te,Me);ee.value=r(a(i(ee.value,Oe)),Oe)}for(var Ge in ee.units)("VA"===ee.units[Ge].unit.name||"VAR"===ee.units[Ge].unit.name)&&(ee.units[Ge].unit=z.W);return ee},C.prototype.to=function(ee){var Te,j=null===this.value?this._normalize(1):this.value;if("string"==typeof ee)Te=C.parse(ee);else{if(!pg(ee))throw new Error("String or Unit expected as parameter");Te=ee.clone()}if(!this.equalBase(Te))throw new Error("Units do not match ('".concat(Te.toString(),"' != '").concat(this.toString(),"')"));if(null!==Te.value)throw new Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||0===this.units.length||0===Te.units.length||this.units[0].unit.offset===Te.units[0].unit.offset)Te.value=Hi(j);else{var Me=C._getNumberConverter(As(j)),oe=A(this.units[0].unit.value,this.units[0].unit.offset),Ve=A(Te.units[0].unit.value,Te.units[0].unit.offset);Te.value=i(j,Me(r(oe,Ve)))}return Te.fixPrefix=!0,Te.skipAutomaticSimplification=!0,Te},C.prototype.toNumber=function(ee){return I(this.toNumeric(ee))},C.prototype.toNumeric=function(ee){var j;return(j=ee?this.to(ee):this.clone())._isDerived()||0===j.units.length?j._denormalize(j.value):j._denormalize(j.value,j.units[0].prefix.value)},C.prototype.toString=function(){return this.format()},C.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},C.fromJSON=function(ee){var j,Te=new C(ee.value,null!==(j=ee.unit)&&void 0!==j?j:void 0);return Te.fixPrefix=ee.fixPrefix||!1,Te},C.prototype.valueOf=C.prototype.toString,C.prototype.simplify=function(){var Te,Oe,ee=this.clone(),j=[];for(var Me in ge)if(Xn(ge,Me)&&ee.hasBase(H[Me])){Te=Me;break}if("NONE"===Te)ee.units=[];else if(Te&&Xn(ge,Te)&&(Oe=ge[Te]),Oe)ee.units=[{unit:Oe.unit,prefix:Oe.prefix,power:1}];else{for(var Ge=!1,oe=0;oe<J.length;oe++){var te=J[oe];Math.abs(ee.dimensions[oe]||0)>1e-12&&(Xn(ge,te)?j.push({unit:ge[te].unit,prefix:ge[te].prefix,power:ee.dimensions[oe]||0}):Ge=!0)}j.length<ee.units.length&&!Ge&&(ee.units=j)}return ee},C.prototype.toSI=function(){for(var ee=this.clone(),j=[],Te=0;Te<J.length;Te++){var Me=J[Te];if(Math.abs(ee.dimensions[Te]||0)>1e-12){if(!Xn(ce.si,Me))throw new Error("Cannot express custom unit "+Me+" in SI units");j.push({unit:ce.si[Me].unit,prefix:ce.si[Me].prefix,power:ee.dimensions[Te]||0})}}return ee.units=j,ee.fixPrefix=!0,ee.skipAutomaticSimplification=!0,null!==this.value?(ee.value=null,this.to(ee)):ee},C.prototype.formatUnits=function(){for(var ee="",j="",Te=0,Me=0,Oe=0;Oe<this.units.length;Oe++)this.units[Oe].power>0?(Te++,ee+=" "+this.units[Oe].prefix.name+this.units[Oe].unit.name,Math.abs(this.units[Oe].power-1)>1e-15&&(ee+="^"+this.units[Oe].power)):this.units[Oe].power<0&&Me++;if(Me>0)for(var Ge=0;Ge<this.units.length;Ge++)this.units[Ge].power<0&&(Te>0?(j+=" "+this.units[Ge].prefix.name+this.units[Ge].unit.name,Math.abs(this.units[Ge].power+1)>1e-15&&(j+="^"+-this.units[Ge].power)):(j+=" "+this.units[Ge].prefix.name+this.units[Ge].unit.name,j+="^"+this.units[Ge].power));ee=ee.substr(1),j=j.substr(1),Te>1&&Me>0&&(ee="("+ee+")"),Me>1&&Te>0&&(j="("+j+")");var oe=ee;return Te>0&&Me>0&&(oe+=" / "),oe+j},C.prototype.format=function(ee){var j=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),Te=!1;for(var Me in typeof j.value<"u"&&null!==j.value&&jd(j.value)&&(Te=Math.abs(j.value.re)<1e-14),j.units)Xn(j.units,Me)&&j.units[Me].unit&&("VA"===j.units[Me].unit.name&&Te?j.units[Me].unit=z.VAR:"VAR"===j.units[Me].unit.name&&!Te&&(j.units[Me].unit=z.VA));1===j.units.length&&!j.fixPrefix&&Math.abs(j.units[0].power-Math.round(j.units[0].power))<1e-14&&(j.units[0].prefix=j._bestPrefix());var Oe=j._denormalize(j.value),Ge=null!==j.value?g(Oe,ee||{}):"",oe=j.formatUnits();return j.value&&jd(j.value)&&(Ge="("+Ge+")"),oe.length>0&&Ge.length>0&&(Ge+=" "),Ge+oe},C.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var ee=null!==this.value?a(this.value):0,j=a(this.units[0].unit.value),Te=this.units[0].prefix;if(0===ee)return Te;var Me=this.units[0].power,Oe=Math.log(ee/Math.pow(Te.value*j,Me))/Math.LN10-1.2;if(Oe>-2.200001&&Oe<1.800001)return Te;Oe=Math.abs(Oe);var Ge=this.units[0].unit.prefixes;for(var oe in Ge)if(Xn(Ge,oe)){var te=Ge[oe];if(te.scientific){var Ye=Math.abs(Math.log(ee/Math.pow(te.value*j,Me))/Math.LN10-1.2);(Ye<Oe||Ye===Oe&&te.name.length<Te.name.length)&&(Te=te,Oe=Ye)}}return Te},C.prototype.splitUnit=function(ee){for(var j=this.clone(),Te=[],Me=0;Me<ee.length&&(j=j.to(ee[Me]),Me!==ee.length-1);Me++){var Oe=j.toNumeric(),Ge=l(Oe),Ye=new C(u(Ge,Oe)?Ge:c(j.toNumeric()),ee[Me].toString());Te.push(Ye),j=r(j,Ye)}for(var Ve=0,ut=0;ut<Te.length;ut++)Ve=i(Ve,Te[ut].value);return u(Ve,this.value)&&(j.value=0),Te.push(j),Te};var L={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};L.SHORTLONG=aa({},L.SHORT,L.LONG),L.BINARY_SHORT=aa({},L.BINARY_SHORT_SI,L.BINARY_SHORT_IEC),L.BINARY_LONG=aa({},L.BINARY_LONG_SI,L.BINARY_LONG_IEC);var J=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],H={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ue in H)Xn(H,ue)&&(H[ue].key=ue);var K={name:"",base:{},value:1,offset:0,dimensions:J.map(ee=>0)},z={meter:{name:"meter",base:H.LENGTH,prefixes:L.LONG,value:1,offset:0},inch:{name:"inch",base:H.LENGTH,prefixes:L.NONE,value:.0254,offset:0},foot:{name:"foot",base:H.LENGTH,prefixes:L.NONE,value:.3048,offset:0},yard:{name:"yard",base:H.LENGTH,prefixes:L.NONE,value:.9144,offset:0},mile:{name:"mile",base:H.LENGTH,prefixes:L.NONE,value:1609.344,offset:0},link:{name:"link",base:H.LENGTH,prefixes:L.NONE,value:.201168,offset:0},rod:{name:"rod",base:H.LENGTH,prefixes:L.NONE,value:5.0292,offset:0},chain:{name:"chain",base:H.LENGTH,prefixes:L.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:H.LENGTH,prefixes:L.NONE,value:1e-10,offset:0},m:{name:"m",base:H.LENGTH,prefixes:L.SHORT,value:1,offset:0},in:{name:"in",base:H.LENGTH,prefixes:L.NONE,value:.0254,offset:0},ft:{name:"ft",base:H.LENGTH,prefixes:L.NONE,value:.3048,offset:0},yd:{name:"yd",base:H.LENGTH,prefixes:L.NONE,value:.9144,offset:0},mi:{name:"mi",base:H.LENGTH,prefixes:L.NONE,value:1609.344,offset:0},li:{name:"li",base:H.LENGTH,prefixes:L.NONE,value:.201168,offset:0},rd:{name:"rd",base:H.LENGTH,prefixes:L.NONE,value:5.02921,offset:0},ch:{name:"ch",base:H.LENGTH,prefixes:L.NONE,value:20.1168,offset:0},mil:{name:"mil",base:H.LENGTH,prefixes:L.NONE,value:254e-7,offset:0},m2:{name:"m2",base:H.SURFACE,prefixes:L.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:H.SURFACE,prefixes:L.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:H.SURFACE,prefixes:L.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:H.SURFACE,prefixes:L.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:H.SURFACE,prefixes:L.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:H.SURFACE,prefixes:L.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:H.SURFACE,prefixes:L.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:H.SURFACE,prefixes:L.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:H.SURFACE,prefixes:L.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:H.SURFACE,prefixes:L.NONE,value:1e4,offset:0},m3:{name:"m3",base:H.VOLUME,prefixes:L.CUBIC,value:1,offset:0},L:{name:"L",base:H.VOLUME,prefixes:L.SHORT,value:.001,offset:0},l:{name:"l",base:H.VOLUME,prefixes:L.SHORT,value:.001,offset:0},litre:{name:"litre",base:H.VOLUME,prefixes:L.LONG,value:.001,offset:0},cuin:{name:"cuin",base:H.VOLUME,prefixes:L.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:H.VOLUME,prefixes:L.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:H.VOLUME,prefixes:L.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:H.VOLUME,prefixes:L.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:H.VOLUME,prefixes:L.NONE,value:15e-6,offset:0},drop:{name:"drop",base:H.VOLUME,prefixes:L.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:H.VOLUME,prefixes:L.NONE,value:5e-8,offset:0},minim:{name:"minim",base:H.VOLUME,prefixes:L.NONE,value:6.1611519921875e-8,offset:0},fluiddram:{name:"fluiddram",base:H.VOLUME,prefixes:L.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:H.VOLUME,prefixes:L.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:H.VOLUME,prefixes:L.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:H.VOLUME,prefixes:L.NONE,value:1e-6,offset:0},cup:{name:"cup",base:H.VOLUME,prefixes:L.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:H.VOLUME,prefixes:L.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:H.VOLUME,prefixes:L.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:H.VOLUME,prefixes:L.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:H.VOLUME,prefixes:L.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:H.VOLUME,prefixes:L.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:H.VOLUME,prefixes:L.NONE,value:.238480942392,offset:0},g:{name:"g",base:H.MASS,prefixes:L.SHORT,value:.001,offset:0},gram:{name:"gram",base:H.MASS,prefixes:L.LONG,value:.001,offset:0},ton:{name:"ton",base:H.MASS,prefixes:L.SHORT,value:907.18474,offset:0},t:{name:"t",base:H.MASS,prefixes:L.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:H.MASS,prefixes:L.LONG,value:1e3,offset:0},grain:{name:"grain",base:H.MASS,prefixes:L.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:H.MASS,prefixes:L.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:H.MASS,prefixes:L.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:H.MASS,prefixes:L.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:H.MASS,prefixes:L.NONE,value:45.359237,offset:0},stick:{name:"stick",base:H.MASS,prefixes:L.NONE,value:.115,offset:0},stone:{name:"stone",base:H.MASS,prefixes:L.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:H.MASS,prefixes:L.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:H.MASS,prefixes:L.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:H.MASS,prefixes:L.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:H.MASS,prefixes:L.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:H.MASS,prefixes:L.NONE,value:45.359237,offset:0},s:{name:"s",base:H.TIME,prefixes:L.SHORT,value:1,offset:0},min:{name:"min",base:H.TIME,prefixes:L.NONE,value:60,offset:0},h:{name:"h",base:H.TIME,prefixes:L.NONE,value:3600,offset:0},second:{name:"second",base:H.TIME,prefixes:L.LONG,value:1,offset:0},sec:{name:"sec",base:H.TIME,prefixes:L.LONG,value:1,offset:0},minute:{name:"minute",base:H.TIME,prefixes:L.NONE,value:60,offset:0},hour:{name:"hour",base:H.TIME,prefixes:L.NONE,value:3600,offset:0},day:{name:"day",base:H.TIME,prefixes:L.NONE,value:86400,offset:0},week:{name:"week",base:H.TIME,prefixes:L.NONE,value:604800,offset:0},month:{name:"month",base:H.TIME,prefixes:L.NONE,value:2629800,offset:0},year:{name:"year",base:H.TIME,prefixes:L.NONE,value:31557600,offset:0},decade:{name:"decade",base:H.TIME,prefixes:L.NONE,value:315576e3,offset:0},century:{name:"century",base:H.TIME,prefixes:L.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:H.TIME,prefixes:L.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:H.FREQUENCY,prefixes:L.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:H.FREQUENCY,prefixes:L.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:H.ANGLE,prefixes:L.SHORT,value:1,offset:0},radian:{name:"radian",base:H.ANGLE,prefixes:L.LONG,value:1,offset:0},deg:{name:"deg",base:H.ANGLE,prefixes:L.SHORT,value:null,offset:0},degree:{name:"degree",base:H.ANGLE,prefixes:L.LONG,value:null,offset:0},grad:{name:"grad",base:H.ANGLE,prefixes:L.SHORT,value:null,offset:0},gradian:{name:"gradian",base:H.ANGLE,prefixes:L.LONG,value:null,offset:0},cycle:{name:"cycle",base:H.ANGLE,prefixes:L.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:H.ANGLE,prefixes:L.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:H.ANGLE,prefixes:L.NONE,value:null,offset:0},A:{name:"A",base:H.CURRENT,prefixes:L.SHORT,value:1,offset:0},ampere:{name:"ampere",base:H.CURRENT,prefixes:L.LONG,value:1,offset:0},K:{name:"K",base:H.TEMPERATURE,prefixes:L.SHORT,value:1,offset:0},degC:{name:"degC",base:H.TEMPERATURE,prefixes:L.SHORT,value:1,offset:273.15},degF:{name:"degF",base:H.TEMPERATURE,prefixes:L.SHORT,value:new p(5,9),offset:459.67},degR:{name:"degR",base:H.TEMPERATURE,prefixes:L.SHORT,value:new p(5,9),offset:0},kelvin:{name:"kelvin",base:H.TEMPERATURE,prefixes:L.LONG,value:1,offset:0},celsius:{name:"celsius",base:H.TEMPERATURE,prefixes:L.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:H.TEMPERATURE,prefixes:L.LONG,value:new p(5,9),offset:459.67},rankine:{name:"rankine",base:H.TEMPERATURE,prefixes:L.LONG,value:new p(5,9),offset:0},mol:{name:"mol",base:H.AMOUNT_OF_SUBSTANCE,prefixes:L.SHORT,value:1,offset:0},mole:{name:"mole",base:H.AMOUNT_OF_SUBSTANCE,prefixes:L.LONG,value:1,offset:0},cd:{name:"cd",base:H.LUMINOUS_INTENSITY,prefixes:L.SHORT,value:1,offset:0},candela:{name:"candela",base:H.LUMINOUS_INTENSITY,prefixes:L.LONG,value:1,offset:0},N:{name:"N",base:H.FORCE,prefixes:L.SHORT,value:1,offset:0},newton:{name:"newton",base:H.FORCE,prefixes:L.LONG,value:1,offset:0},dyn:{name:"dyn",base:H.FORCE,prefixes:L.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:H.FORCE,prefixes:L.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:H.FORCE,prefixes:L.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:H.FORCE,prefixes:L.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:H.FORCE,prefixes:L.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:H.FORCE,prefixes:L.NONE,value:9.80665,offset:0},J:{name:"J",base:H.ENERGY,prefixes:L.SHORT,value:1,offset:0},joule:{name:"joule",base:H.ENERGY,prefixes:L.LONG,value:1,offset:0},erg:{name:"erg",base:H.ENERGY,prefixes:L.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:H.ENERGY,prefixes:L.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:H.ENERGY,prefixes:L.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:H.ENERGY,prefixes:L.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:H.ENERGY,prefixes:L.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:H.POWER,prefixes:L.SHORT,value:1,offset:0},watt:{name:"watt",base:H.POWER,prefixes:L.LONG,value:1,offset:0},hp:{name:"hp",base:H.POWER,prefixes:L.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:H.POWER,prefixes:L.SHORT,value:d.I,offset:0},VA:{name:"VA",base:H.POWER,prefixes:L.SHORT,value:1,offset:0},Pa:{name:"Pa",base:H.PRESSURE,prefixes:L.SHORT,value:1,offset:0},psi:{name:"psi",base:H.PRESSURE,prefixes:L.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:H.PRESSURE,prefixes:L.NONE,value:101325,offset:0},bar:{name:"bar",base:H.PRESSURE,prefixes:L.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:H.PRESSURE,prefixes:L.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:H.PRESSURE,prefixes:L.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:H.PRESSURE,prefixes:L.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:H.PRESSURE,prefixes:L.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:H.ELECTRIC_CHARGE,prefixes:L.LONG,value:1,offset:0},C:{name:"C",base:H.ELECTRIC_CHARGE,prefixes:L.SHORT,value:1,offset:0},farad:{name:"farad",base:H.ELECTRIC_CAPACITANCE,prefixes:L.LONG,value:1,offset:0},F:{name:"F",base:H.ELECTRIC_CAPACITANCE,prefixes:L.SHORT,value:1,offset:0},volt:{name:"volt",base:H.ELECTRIC_POTENTIAL,prefixes:L.LONG,value:1,offset:0},V:{name:"V",base:H.ELECTRIC_POTENTIAL,prefixes:L.SHORT,value:1,offset:0},ohm:{name:"ohm",base:H.ELECTRIC_RESISTANCE,prefixes:L.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:H.ELECTRIC_INDUCTANCE,prefixes:L.LONG,value:1,offset:0},H:{name:"H",base:H.ELECTRIC_INDUCTANCE,prefixes:L.SHORT,value:1,offset:0},siemens:{name:"siemens",base:H.ELECTRIC_CONDUCTANCE,prefixes:L.LONG,value:1,offset:0},S:{name:"S",base:H.ELECTRIC_CONDUCTANCE,prefixes:L.SHORT,value:1,offset:0},weber:{name:"weber",base:H.MAGNETIC_FLUX,prefixes:L.LONG,value:1,offset:0},Wb:{name:"Wb",base:H.MAGNETIC_FLUX,prefixes:L.SHORT,value:1,offset:0},tesla:{name:"tesla",base:H.MAGNETIC_FLUX_DENSITY,prefixes:L.LONG,value:1,offset:0},T:{name:"T",base:H.MAGNETIC_FLUX_DENSITY,prefixes:L.SHORT,value:1,offset:0},b:{name:"b",base:H.BIT,prefixes:L.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:H.BIT,prefixes:L.BINARY_LONG,value:1,offset:0},B:{name:"B",base:H.BIT,prefixes:L.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:H.BIT,prefixes:L.BINARY_LONG,value:8,offset:0}},Z={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function le(ee){if("BigNumber"===ee.number){var j=yH(m);z.rad.value=new m(1),z.deg.value=j.div(180),z.grad.value=j.div(200),z.cycle.value=j.times(2),z.arcsec.value=j.div(648e3),z.arcmin.value=j.div(10800)}else z.rad.value=1,z.deg.value=Math.PI/180,z.grad.value=Math.PI/200,z.cycle.value=2*Math.PI,z.arcsec.value=Math.PI/648e3,z.arcmin.value=Math.PI/10800;z.radian.value=z.rad.value,z.degree.value=z.deg.value,z.gradian.value=z.grad.value}le(t),e&&e("config",function(ee,j){ee.number!==j.number&&le(ee)});var ce={si:{NONE:{unit:K,prefix:L.NONE[""]},LENGTH:{unit:z.m,prefix:L.SHORT[""]},MASS:{unit:z.g,prefix:L.SHORT.k},TIME:{unit:z.s,prefix:L.SHORT[""]},CURRENT:{unit:z.A,prefix:L.SHORT[""]},TEMPERATURE:{unit:z.K,prefix:L.SHORT[""]},LUMINOUS_INTENSITY:{unit:z.cd,prefix:L.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:z.mol,prefix:L.SHORT[""]},ANGLE:{unit:z.rad,prefix:L.SHORT[""]},BIT:{unit:z.bits,prefix:L.SHORT[""]},FORCE:{unit:z.N,prefix:L.SHORT[""]},ENERGY:{unit:z.J,prefix:L.SHORT[""]},POWER:{unit:z.W,prefix:L.SHORT[""]},PRESSURE:{unit:z.Pa,prefix:L.SHORT[""]},ELECTRIC_CHARGE:{unit:z.C,prefix:L.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:z.F,prefix:L.SHORT[""]},ELECTRIC_POTENTIAL:{unit:z.V,prefix:L.SHORT[""]},ELECTRIC_RESISTANCE:{unit:z.ohm,prefix:L.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:z.H,prefix:L.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:z.S,prefix:L.SHORT[""]},MAGNETIC_FLUX:{unit:z.Wb,prefix:L.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:z.T,prefix:L.SHORT[""]},FREQUENCY:{unit:z.Hz,prefix:L.SHORT[""]}}};ce.cgs=JSON.parse(JSON.stringify(ce.si)),ce.cgs.LENGTH={unit:z.m,prefix:L.SHORT.c},ce.cgs.MASS={unit:z.g,prefix:L.SHORT[""]},ce.cgs.FORCE={unit:z.dyn,prefix:L.SHORT[""]},ce.cgs.ENERGY={unit:z.erg,prefix:L.NONE[""]},ce.us=JSON.parse(JSON.stringify(ce.si)),ce.us.LENGTH={unit:z.ft,prefix:L.NONE[""]},ce.us.MASS={unit:z.lbm,prefix:L.NONE[""]},ce.us.TEMPERATURE={unit:z.degF,prefix:L.NONE[""]},ce.us.FORCE={unit:z.lbf,prefix:L.NONE[""]},ce.us.ENERGY={unit:z.BTU,prefix:L.BTU[""]},ce.us.POWER={unit:z.hp,prefix:L.NONE[""]},ce.us.PRESSURE={unit:z.psi,prefix:L.NONE[""]},ce.auto=JSON.parse(JSON.stringify(ce.si));var ge=ce.auto;for(var re in C.setUnitSystem=function(ee){if(!Xn(ce,ee))throw new Error("Unit system "+ee+" does not exist. Choices are: "+Object.keys(ce).join(", "));ge=ce[ee]},C.getUnitSystem=function(){for(var ee in ce)if(Xn(ce,ee)&&ce[ee]===ge)return ee},C.typeConverters={BigNumber:function(j){return null!=j&&j.isFraction?new m(String(j.n)).div(String(j.d)).times(String(j.s)):new m(j+"")},Fraction:function(j){return new p(j)},Complex:function(j){return j},number:function(j){return null!=j&&j.isFraction?f(j):j}},C.prototype._numberConverter=function(){var ee=C.typeConverters[this.valueType()];if(ee)return ee;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},C._getNumberConverter=function(ee){if(!C.typeConverters[ee])throw new TypeError('Unsupported type "'+ee+'"');return C.typeConverters[ee]},z)if(Xn(z,re)){var ie=z[re];ie.dimensions=ie.base.dimensions}for(var me in Z)if(Xn(Z,me)){var be=z[Z[me]],Ie={};for(var Ne in be)Xn(be,Ne)&&(Ie[Ne]=be[Ne]);Ie.name=me,z[me]=Ie}return C.isValidAlpha=function(j){return/^[a-zA-Z]$/.test(j)},C.createUnit=function(ee,j){if("object"!=typeof ee)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(j&&j.override)for(var Te in ee)if(Xn(ee,Te)&&C.deleteUnit(Te),ee[Te].aliases)for(var Me=0;Me<ee[Te].aliases.length;Me++)C.deleteUnit(ee[Te].aliases[Me]);var Oe;for(var Ge in ee)Xn(ee,Ge)&&(Oe=C.createUnitSingle(Ge,ee[Ge]));return Oe},C.createUnitSingle=function(ee,j){if((typeof j>"u"||null===j)&&(j={}),"string"!=typeof ee)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Xn(z,ee))throw new Error('Cannot create unit "'+ee+'": a unit with that name already exists');!function Ae(ee){for(var j=0;j<ee.length;j++){if(E=ee.charAt(j),0===j&&!C.isValidAlpha(E))throw new Error('Invalid unit name (must begin with alpha character): "'+ee+'"');if(j>0&&!C.isValidAlpha(E)&&!w(E))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+ee+'"')}}(ee);var Ge,oe,te,Te=null,Me=[],Oe=0;if(j&&"Unit"===j.type)Te=j.clone();else if("string"==typeof j)""!==j&&(Ge=j);else{if("object"!=typeof j)throw new TypeError('Cannot create unit "'+ee+'" from "'+j.toString()+'": expecting "string" or "Unit" or "Object"');Ge=j.definition,oe=j.prefixes,Oe=j.offset,te=j.baseName,j.aliases&&(Me=j.aliases.valueOf())}if(Me)for(var Ye=0;Ye<Me.length;Ye++)if(Xn(z,Me[Ye]))throw new Error('Cannot create alias "'+Me[Ye]+'": a unit with that name already exists');if(Ge&&"string"==typeof Ge&&!Te)try{Te=C.parse(Ge,{allowNoUnits:!0})}catch($){throw $.message='Could not create unit "'+ee+'" from "'+Ge+'": '+$.message,$}else Ge&&"Unit"===Ge.type&&(Te=Ge.clone());Me=Me||[],Oe=Oe||0,oe=oe&&oe.toUpperCase&&L[oe.toUpperCase()]||L.NONE;var Ve={};if(Te){Ve={name:ee,value:Te.value,dimensions:Te.dimensions.slice(0),prefixes:oe,offset:Oe};var Yt=!1;for(var Ot in H)if(Xn(H,Ot)){for(var Sn=!0,ct=0;ct<J.length;ct++)if(Math.abs((Ve.dimensions[ct]||0)-(H[Ot].dimensions[ct]||0))>1e-12){Sn=!1;break}if(Sn){Yt=!0,Ve.base=H[Ot];break}}if(!Yt){te=te||ee+"_STUFF";var Dn={dimensions:Te.dimensions.slice(0)};Dn.key=te,H[te]=Dn,ge[te]={unit:Ve,prefix:L.NONE[""]},Ve.base=H[te]}}else{if(J.indexOf(te=te||ee+"_STUFF")>=0)throw new Error('Cannot create new base unit "'+ee+'": a base unit with that name already exists (and cannot be overridden)');for(var ut in J.push(te),H)Xn(H,ut)&&(H[ut].dimensions[J.length-1]=0);for(var it={dimensions:[]},Jt=0;Jt<J.length;Jt++)it.dimensions[Jt]=0;it.dimensions[J.length-1]=1,it.key=te,H[te]=it,Ve={name:ee,value:1,dimensions:H[te].dimensions.slice(0),prefixes:oe,offset:Oe,base:H[te]},ge[te]={unit:Ve,prefix:L.NONE[""]}}C.UNITS[ee]=Ve;for(var se=0;se<Me.length;se++){var P=Me[se],V={};for(var F in Ve)Xn(Ve,F)&&(V[F]=Ve[F]);V.name=P,C.UNITS[P]=V}return delete W.cache,new C(null,ee)},C.deleteUnit=function(ee){delete C.UNITS[ee],delete W.cache},C.PREFIXES=L,C.BASE_DIMENSIONS=J,C.BASE_UNITS=H,C.UNIT_SYSTEMS=ce,C.UNITS=z,C},{isClass:!0}),S$e=Qe("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,equalScalar:t,matrix:i,pow:r,DenseMatrix:A,concat:s,SparseMatrix:o}=n,a=hl({typed:e}),c=Nf({typed:e,SparseMatrix:o}),l=ec({typed:e,equalScalar:t}),u=la({typed:e,DenseMatrix:A}),h=os({typed:e,matrix:i,concat:s}),g={};for(var f in r.signatures)Object.prototype.hasOwnProperty.call(r.signatures,f)&&!f.includes("Matrix")&&!f.includes("Array")&&(g[f]=r.signatures[f]);var d=e(g);return e("dotPow",h({elop:d,SS:c,DS:a,Ss:l,sS:u}))}),N$e=Qe("expm",["typed","abs","add","identity","inv","multiply"],n=>{var{typed:e,abs:t,add:i,identity:r,inv:A,multiply:s}=n;return e("expm",{Matrix:function(u){var h=u.size();if(2!==h.length||h[0]!==h[1])throw new RangeError("Matrix must be square (size: "+mr(h)+")");for(var g=h[0],d=function o(l){for(var u=l.size()[0],h=0,g=0;g<u;g++){for(var f=0,d=0;d<u;d++)f+=t(l.get([g,d]));h=Math.max(f,h)}return h}(u),m=function a(l,u){for(var g=0;g<30;g++)for(var f=0;f<=g;f++){var d=g-f;if(c(l,f,d)<u)return{q:f,j:d}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(d,1e-15),p=m.q,I=m.j,C=s(u,Math.pow(2,-I)),B=r(g),y=r(g),E=1,b=C,S=-1,w=1;w<=p;w++)w>1&&(b=s(b,C),S=-S),B=i(B,s(E=E*(p-w+1)/((2*p-w+1)*w),b)),y=i(y,s(E*S,b));for(var M=s(A(y),B),D=0;D<I;D++)M=s(M,M);return aB(u)?u.createSparseMatrix(M):M}});function c(l,u,h){for(var g=1,f=2;f<=u;f++)g*=f;for(var d=g,m=u+1;m<=2*u;m++)d*=m;var p=d*(2*u+1);return 8*Math.pow(l/Math.pow(2,h),2*u)*g*g/(d*p)}}),F$e=Qe("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],n=>{var{typed:e,addScalar:i,multiplyScalar:r,divideScalar:A,exp:s,tau:o,i:a,dotDivide:c,conj:l,pow:u,ceil:h,log2:g}=n;return e("fft",{Array:f,Matrix:function(C){return C.create(f(C.valueOf()),C.datatype())}});function f(I){var C=Ti(I);return 1===C.length?p(I):d(I.map(B=>f(B,C.slice(1))),0)}function d(I,C){var B=Ti(I);if(0!==C)return new Array(B[0]).fill(0).map((E,b)=>d(I[b],C-1));if(1===B.length)return p(I);function y(E){var b=Ti(E);return new Array(b[1]).fill(0).map((S,w)=>new Array(b[0]).fill(0).map((M,D)=>E[D][w]))}return y(d(y(I),1))}function p(I){var C=I.length;if(1===C)return[I[0]];if(C%2==0){for(var B=[...p(I.filter((S,w)=>w%2==0)),...p(I.filter((S,w)=>w%2==1))],y=0;y<C/2;y++){var E=B[y],b=r(B[y+C/2],s(r(r(o,a),A(-y,C))));B[y]=i(E,b),B[y+C/2]=i(E,r(-1,b))}return B}return function m(I){for(var C=I.length,B=s(A(r(-1,r(a,o)),C)),y=[],E=1-C;E<C;E++)y.push(u(B,A(u(E,2),2)));for(var b=u(2,h(g(C+C-1))),S=[...new Array(C).fill(0).map((k,L)=>r(I[L],y[C-1+L])),...new Array(b-C).fill(0)],w=[...new Array(C+C-1).fill(0).map((k,L)=>A(1,y[L])),...new Array(b-(C+C-1)).fill(0)],M=p(S),D=p(w),T=new Array(b).fill(0).map((k,L)=>r(M[L],D[L])),O=c(l(f(l(T))),b),G=[],W=C-1;W<C+C-1;W++)G.push(r(O[W],y[W]));return G}(I)}}),T$e=Qe("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],n=>{var{typed:e,config:t,BigNumber:A,Complex:s}=n;return e("gamma",{number:XF,Complex:function o(c){if(0===c.im)return XF(c.re);if(c.re<.5){var l=new s(1-c.re,-c.im),u=new s(Math.PI*c.re,Math.PI*c.im);return new s(Math.PI).div(u.sin()).div(o(l))}c=new s(c.re-1,c.im);for(var h=new s(uy[0],0),g=1;g<uy.length;++g){var f=new s(uy[g],0);h=h.add(f.div(c.add(g)))}var d=new s(c.re+ise+.5,c.im),m=Math.sqrt(2*Math.PI),p=d.pow(c.add(.5)),I=d.neg().exp();return h.mul(m).mul(p).mul(I)},BigNumber:function(l){if(l.isInteger())return l.isNegative()||l.isZero()?new A(1/0):a(l.minus(1));if(!l.isFinite())return new A(l.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function a(c){if(c<8)return new A([1,1,2,6,24,120,720,5040][c]);var l=t.precision+(0|Math.log(c.toNumber())),u=A.clone({precision:l});if(c%2==1)return c.times(a(new A(c-1)));for(var h=c,g=new u(c),f=c.toNumber();h>2;)g=g.times(f+=h-=2);return new A(g.toPrecision(A.precision))}}),L$e=Qe("ifft",["typed","fft","dotDivide","conj"],n=>{var{typed:e,fft:t,dotDivide:i,conj:r}=n;return e("ifft",{"Array | Matrix":function(s){var o=Ei(s)?s.size():Ti(s);return i(r(t(r(s))),o.reduce((a,c)=>a*c,1))}})}),_ae="createUnit",O$e=Qe(_ae,["typed","Unit"],n=>{var{typed:e,Unit:t}=n;return e(_ae,{"Object, Object":function(r,A){return t.createUnit(r,A)},Object:function(r){return t.createUnit(r,{})},"string, Unit | string | Object, Object":function(r,A,s){var o={};return o[r]=A,t.createUnit(o,s)},"string, Unit | string | Object":function(r,A){var s={};return s[r]=A,t.createUnit(s,{})},string:function(r){var A={};return A[r]={},t.createUnit(A,{})}})}),H$e=Qe("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],n=>{var{typed:e,matrix:t,multiply:i,equalScalar:r,divideScalar:A,inv:s}=n,o=ec({typed:e,equalScalar:r}),a=Sh({typed:e});return e("divide",Bne({"Array | Matrix, Array | Matrix":function(l,u){return i(l,s(u))},"DenseMatrix, any":function(l,u){return a(l,u,A,!1)},"SparseMatrix, any":function(l,u){return o(l,u,A,!1)},"Array, any":function(l,u){return a(t(l),u,A,!1).valueOf()},"any, Array | Matrix":function(l,u){return i(l,s(u))}},A.signatures))}),K$e=Qe("factorial",["typed","gamma"],n=>{var{typed:e,gamma:t}=n;return e("factorial",{number:function(r){if(r<0)throw new Error("Value must be non-negative");return t(r+1)},BigNumber:function(r){if(r.isNegative())throw new Error("Value must be non-negative");return t(r.plus(1))},"Array | Matrix":e.referToSelf(i=>r=>qi(r,i))})});function bae(n,e){var t,i=e.length,r=[];if(n)for(t=0;t<i;t++)r[n[t]]=e[t];else for(t=0;t<i;t++)r[t]=e[t];return r}var J$e=Qe("lusolve",["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],n=>{var{typed:e,matrix:t,lup:i,slu:r,usolve:A,lsolve:s,DenseMatrix:o}=n,a=tD({DenseMatrix:o});return e("lusolve",{"Array, Array | Matrix":function(h,g){h=t(h);var f=i(h);return l(f.L,f.U,f.p,null,g).valueOf()},"DenseMatrix, Array | Matrix":function(h,g){var f=i(h);return l(f.L,f.U,f.p,null,g)},"SparseMatrix, Array | Matrix":function(h,g){var f=i(h);return l(f.L,f.U,f.p,null,g)},"SparseMatrix, Array | Matrix, number, number":function(h,g,f,d){var m=r(h,f,d);return l(m.L,m.U,m.p,m.q,g)},"Object, Array | Matrix":function(h,g){return l(h.L,h.U,h.p,h.q,g)}});function c(u){if(Ei(u))return u;if(HA(u))return t(u);throw new TypeError("Invalid Matrix LU decomposition")}function l(u,h,g,f,d){u=c(u),h=c(h),g&&((d=a(u,d,!0))._data=bae(g,d._data));var m=s(u,d),p=A(h,m);return f&&(p._data=bae(f,p._data)),p}}),Mae="multinomial",z$e=Qe(Mae,["typed","add","divide","multiply","factorial","isInteger","isPositive"],n=>{var{typed:e,add:t,divide:i,multiply:r,factorial:A,isInteger:s,isPositive:o}=n;return e(Mae,{"Array | Matrix":function(c){var l=0,u=1;return Xd(c,function(h){if(!s(h)||!o(h))throw new TypeError("Positive integer value expected in function multinomial");l=t(l,h),u=r(u,A(h))}),i(A(l),u)}})}),Nae="permutations",j$e=Qe(Nae,["typed","factorial"],n=>{var{typed:e,factorial:t}=n;return e(Nae,{"number | BigNumber":t,"number, number":function(r,A){if(!Ai(r)||r<0)throw new TypeError("Positive integer value expected in function permutations");if(!Ai(A)||A<0)throw new TypeError("Positive integer value expected in function permutations");if(A>r)throw new TypeError("second argument k must be less than or equal to first argument n");return np(r-A+1,r)},"BigNumber, BigNumber":function(r,A){var s,o;if(!xae(r)||!xae(A))throw new TypeError("Positive integer value expected in function permutations");if(A.gt(r))throw new TypeError("second argument k must be less than or equal to first argument n");for(s=r.mul(0).add(1),o=r.minus(A).plus(1);o.lte(r);o=o.plus(1))s=s.times(o);return s}})});function xae(n){return n.isInteger()&&n.gte(0)}var Fae="polynomialRoot",X$e=Qe(Fae,["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],n=>{var{typed:e,isZero:t,equalScalar:i,add:r,subtract:A,multiply:s,divide:o,sqrt:a,unaryMinus:c,cbrt:l,typeOf:u,im:h,re:g}=n;return e(Fae,{"number|Complex, ...number|Complex":(f,d)=>{for(var m=[f,...d];m.length>0&&t(m[m.length-1]);)m.pop();if(m.length<2)throw new RangeError("Polynomial [".concat(f,", ").concat(d,"] must have a non-zero non-constant coefficient"));switch(m.length){case 2:return[c(o(m[0],m[1]))];case 3:var[p,I,C]=m,B=s(2,C),y=s(I,I),E=s(4,C,p);if(i(y,E))return[o(c(I),B)];var b=a(A(y,E));return[o(A(b,I),B),o(A(c(b),I),B)];case 4:var[S,w,M,D]=m,T=c(s(3,D)),O=s(M,M),G=s(3,D,w),W=r(s(2,M,M,M),s(27,D,D,S)),k=s(9,D,M,w);if(i(O,G)&&i(W,k))return[o(M,T)];var ye,L=A(O,G),J=A(W,k),H=r(s(18,D,M,w,S),s(M,M,w,w)),ue=r(s(4,M,M,M,S),s(4,D,w,w,w),s(27,D,D,S,S));return i(H,ue)?[o(A(s(4,D,M,w),r(s(9,D,D,S),s(M,M,M))),s(D,L)),o(A(s(9,D,S),s(M,w)),s(2,L))]:(ye=i(O,G)?J:o(r(J,a(A(s(J,J),s(4,L,L,L)))),2),l(ye,!0).toArray().map(Z=>o(r(M,Z,o(L,Z)),T)).map(Z=>"Complex"===u(Z)&&i(g(Z),g(Z)+h(Z))?g(Z):Z));default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(m))}}})}),eet=Qe("setSize",["typed","compareNatural"],n=>{var{typed:e,compareNatural:t}=n;return e("setSize",{"Array | Matrix":function(r){return Array.isArray(r)?tA(r).length:tA(r.toArray()).length},"Array | Matrix, boolean":function(r,A){if(!1===A||0===r.length)return Array.isArray(r)?tA(r).length:tA(r.toArray()).length;for(var s=tA(Array.isArray(r)?r:r.toArray()).sort(t),o=1,a=1;a<s.length;a++)0!==t(s[a],s[a-1])&&o++;return o}})});function Tae(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}var ret=Qe("solveODE",["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],n=>{var{typed:e,add:t,subtract:i,multiply:r,divide:A,max:s,map:o,abs:a,isPositive:c,isNegative:l,larger:u,smaller:h,matrix:g,bignumber:f,unaryMinus:d}=n;function m(S){return function(w,M,D,T){if(2!==M.length||!M.every(E)&&!M.every(pg))throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var G=M[0],W=M[1],k=u(W,G),L=T.firstStep;if(void 0!==L&&!c(L))throw new Error('"firstStep" must be positive');var J=T.maxStep;if(void 0!==J&&!c(J))throw new Error('"maxStep" must be positive');var H=T.minStep;if(H&&l(H))throw new Error('"minStep" must be positive or zero');var ue=[G,W,L,H,J].filter(Ye=>void 0!==Ye);if(!ue.every(E)&&!ue.every(pg))throw new Error('Inconsistent type of "t" dependant variables');for(var K=T.tol?T.tol:1e-4,z=T.minDelta?T.minDelta:.2,Z=T.maxDelta?T.maxDelta:5,le=T.maxIter?T.maxIter:1e4,ce=[G,W,...D,J,H].some(Zi),[ge,re,ie,me]=ce?[f(S.a),f(S.c),f(S.b),f(S.bp)]:[S.a,S.c,S.b,S.bp],be=L?k?L:d(L):A(i(W,G),1),Ie=[G],Ne=[D],Ae=i(ie,me),ee=0,j=0,Te=function B(S){return S?h:u}(k),Me=function y(S){var w=S?u:h;return function(M,D,T){var O=t(M,T);return w(O,D)?i(D,M):T}}(k);Te(Ie[ee],W);){var Oe=[];be=Me(Ie[ee],W,be),Oe.push(w(Ie[ee],Ne[ee]));for(var Ge=1;Ge<re.length;++Ge)Oe.push(w(t(Ie[ee],r(re[Ge],be)),t(Ne[ee],r(be,ge[Ge],Oe))));var oe=s(a(o(r(Ae,Oe),Ye=>pg(Ye)?Ye.value:Ye)));oe<K&&K/oe>1/4&&(Ie.push(t(Ie[ee],be)),Ne.push(t(Ne[ee],r(be,ie,Oe))),ee++);var te=.84*(K/oe)**.2;if(h(te,z)?te=z:u(te,Z)&&(te=Z),te=ce?f(te):te,be=r(be,te),J&&u(a(be),J)?be=k?J:d(J):H&&h(a(be),H)&&(be=k?H:d(H)),++j>le)throw new Error("Maximum number of iterations reached, try changing options")}return{t:Ie,y:Ne}}}function p(S,w,M,D){return m({a:[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],c:[null,.5,3/4,1],b:[2/9,1/3,4/9,0],bp:[7/24,1/4,1/3,1/8]})(S,w,M,D)}function I(S,w,M,D){return m({a:[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],c:[null,.2,.3,.8,8/9,1,1],b:[35/384,0,500/1113,125/192,-2187/6784,11/84,0],bp:[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40]})(S,w,M,D)}function C(S,w,M,D){var T=D.method?D.method:"RK45",O={RK23:p,RK45:I};if(T.toUpperCase()in O){var G=function tet(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Tae(Object(t),!0).forEach(function(i){ca(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tae(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}({},D);return delete G.method,O[T.toUpperCase()](S,w,M,G)}var W=Object.keys(O).map(L=>'"'.concat(L,'"')),k="".concat(W.slice(0,-1).join(", ")," and ").concat(W.slice(-1));throw new Error('Unavailable method "'.concat(T,'". Available methods are ').concat(k))}function E(S){return Zi(S)||ji(S)}function b(S,w,M,D){var T=C(S,w.toArray(),M.toArray(),D);return{t:g(T.t),y:g(T.y)}}return e("solveODE",{"function, Array, Array, Object":C,"function, Matrix, Matrix, Object":b,"function, Array, Array":(S,w,M)=>C(S,w,M,{}),"function, Matrix, Matrix":(S,w,M)=>b(S,w,M,{}),"function, Array, number | BigNumber | Unit":(S,w,M)=>{var D=C(S,w,[M],{});return{t:D.t,y:D.y.map(T=>T[0])}},"function, Matrix, number | BigNumber | Unit":(S,w,M)=>{var D=C(S,w.toArray(),[M],{});return{t:g(D.t),y:g(D.y.map(T=>T[0]))}},"function, Array, number | BigNumber | Unit, Object":(S,w,M,D)=>{var T=C(S,w,[M],D);return{t:T.t,y:T.y.map(O=>O[0])}},"function, Matrix, number | BigNumber | Unit, Object":(S,w,M,D)=>{var T=C(S,w.toArray(),[M],D);return{t:g(T.t),y:g(T.y.map(O=>O[0]))}}})}),kae="stirlingS2",set=Qe(kae,["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],n=>{var{typed:e,addScalar:t,multiplyScalar:r,isNegative:c,isInteger:l,number:u,bignumber:h,larger:g}=n,f=[],d=[];return e(kae,{"number | BigNumber, number | BigNumber":function(p,I){if(!l(p)||c(p)||!l(I)||c(I))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(g(I,p))throw new TypeError("k must be less than or equal to n in function stirlingS2");var C=!(ji(p)&&ji(I)),B=C?d:f,y=C?h:u,E=u(p),b=u(I);if(B[E]&&B[E].length>b)return B[E][b];for(var S=0;S<=E;++S)if(B[S]||(B[S]=[y(0===S?1:0)]),0!==S)for(var w=B[S],M=B[S-1],D=w.length;D<=S&&D<=b;++D)w[D]=D===S?1:t(r(y(D),M[D]),M[D-1]);return B[E][b]}})}),aet=Qe("unit",["typed","Unit"],n=>{var{typed:e,Unit:t}=n;return e("unit",{Unit:function(r){return r.clone()},string:function(r){return t.isValuelessUnit(r)?new t(null,r):t.parse(r,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(r,A){return new t(r,A)},"number | BigNumber | Fraction":function(r){return new t(r)},"Array | Matrix":e.referToSelf(i=>r=>qi(r,i))})}),Uae="bellNumbers",uet=Qe(Uae,["typed","addScalar","isNegative","isInteger","stirlingS2"],n=>{var{typed:e,addScalar:t,isNegative:i,isInteger:r,stirlingS2:A}=n;return e(Uae,{"number | BigNumber":function(o){if(!r(o)||i(o))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var a=0,c=0;c<=o;c++)a=t(a,A(o,c));return a}})});var det=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],pet=Qe("eigs",det,n=>{var{config:e,typed:t,matrix:i,addScalar:r,subtract:A,equal:s,abs:o,atan:a,cos:c,sin:l,multiplyScalar:u,divideScalar:h,inv:g,bignumber:f,multiply:d,add:m,larger:p,column:I,flatten:C,number:B,complex:y,sqrt:E,diag:b,size:S,reshape:w,qr:M,usolve:D,usolveAll:T,im:O,re:G,smaller:W,matrixFromColumns:k,dot:L}=n,J=function het(n){var{config:e,addScalar:t,subtract:i,abs:r,atan:A,cos:s,sin:o,multiplyScalar:a,inv:c,bignumber:l,multiply:u,add:h}=n;function m(w,M,D){return Math.abs(M-w)<=e.relTol?Math.PI/4:.5*Math.atan(2*D/(M-w))}function p(w,M,D){var T=i(M,w);return r(T)<=e.relTol?l(-1).acos().div(4):a(.5,A(u(2,D,c(T))))}function I(w,M,D,T){for(var O=w.length,G=Math.cos(M),W=Math.sin(M),k=Array(O).fill(0),L=Array(O).fill(0),J=0;J<O;J++)k[J]=G*w[J][D]-W*w[J][T],L[J]=W*w[J][D]+G*w[J][T];for(var H=0;H<O;H++)w[H][D]=k[H],w[H][T]=L[H];return w}function C(w,M,D,T){for(var O=w.length,G=s(M),W=o(M),k=Array(O).fill(l(0)),L=Array(O).fill(l(0)),J=0;J<O;J++)k[J]=i(a(G,w[J][D]),a(W,w[J][T])),L[J]=t(a(W,w[J][D]),a(G,w[J][T]));for(var H=0;H<O;H++)w[H][D]=k[H],w[H][T]=L[H];return w}function B(w,M,D,T){for(var O=w.length,G=l(s(M)),W=l(o(M)),k=a(G,G),L=a(W,W),J=Array(O).fill(l(0)),H=Array(O).fill(l(0)),ue=u(l(2),G,W,w[D][T]),ye=t(i(a(k,w[D][D]),ue),a(L,w[T][T])),K=h(a(L,w[D][D]),ue,a(k,w[T][T])),z=0;z<O;z++)J[z]=i(a(G,w[D][z]),a(W,w[T][z])),H[z]=t(a(W,w[D][z]),a(G,w[T][z]));w[D][D]=ye,w[T][T]=K,w[D][T]=l(0),w[T][D]=l(0);for(var Z=0;Z<O;Z++)Z!==D&&Z!==T&&(w[D][Z]=J[Z],w[Z][D]=J[Z],w[T][Z]=H[Z],w[Z][T]=H[Z]);return w}function y(w,M,D,T){for(var O=w.length,G=Math.cos(M),W=Math.sin(M),k=G*G,L=W*W,J=Array(O).fill(0),H=Array(O).fill(0),ue=k*w[D][D]-2*G*W*w[D][T]+L*w[T][T],ye=L*w[D][D]+2*G*W*w[D][T]+k*w[T][T],K=0;K<O;K++)J[K]=G*w[D][K]-W*w[T][K],H[K]=W*w[D][K]+G*w[T][K];w[D][D]=ue,w[T][T]=ye,w[D][T]=0,w[T][D]=0;for(var z=0;z<O;z++)z!==D&&z!==T&&(w[D][z]=J[z],w[z][D]=J[z],w[T][z]=H[z],w[z][T]=H[z]);return w}function E(w){for(var M=w.length,D=0,T=[0,1],O=0;O<M;O++)for(var G=O+1;G<M;G++)Math.abs(D)<Math.abs(w[O][G])&&(D=Math.abs(w[O][G]),T=[O,G]);return[T,D]}function b(w){for(var M=w.length,D=0,T=[0,1],O=0;O<M;O++)for(var G=O+1;G<M;G++)r(D)<r(w[O][G])&&(D=r(w[O][G]),T=[O,G]);return[T,D]}function S(w,M,D){var G,T=w.length,O=Array(T);if(D){G=Array(T);for(var W=0;W<T;W++)G[W]=Array(T)}for(var k=0;k<T;k++){for(var L=0,J=w[0],H=0;H<w.length;H++)r(w[H])<r(J)&&(J=w[L=H]);if(O[k]=w.splice(L,1)[0],D)for(var ue=0;ue<T;ue++)G[k][ue]=M[ue][L],M[ue].splice(L,1)}if(!D)return{values:O};var ye=G.map((K,z)=>({value:O[z],vector:K}));return{values:O,eigenvectors:ye}}return function g(w,M){var D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.relTol,T=arguments.length>3?arguments[3]:void 0,O=arguments.length>4?arguments[4]:void 0;if("number"===T)return function f(w,M,D){var G,W,T=w.length,O=Math.abs(M/T);if(D){W=new Array(T);for(var k=0;k<T;k++)W[k]=Array(T).fill(0),W[k][k]=1}for(var L=E(w);Math.abs(L[1])>=Math.abs(O);){var J=L[0][0],H=L[0][1];w=y(w,G=m(w[J][J],w[H][H],w[J][H]),J,H),D&&(W=I(W,G,J,H)),L=E(w)}for(var ue=Array(T).fill(0),ye=0;ye<T;ye++)ue[ye]=w[ye][ye];return S(Hi(ue),W,D)}(w,D,O);if("BigNumber"===T)return function d(w,M,D){var G,W,T=w.length,O=r(M/T);if(D){W=new Array(T);for(var k=0;k<T;k++)W[k]=Array(T).fill(0),W[k][k]=1}for(var L=b(w);r(L[1])>=r(O);){var J=L[0][0],H=L[0][1];w=B(w,G=p(w[J][J],w[H][H],w[J][H]),J,H),D&&(W=C(W,G,J,H)),L=b(w)}for(var ue=Array(T).fill(0),ye=0;ye<T;ye++)ue[ye]=w[ye][ye];return S(Hi(ue),W,D)}(w,D,O);throw TypeError("Unsupported data type: "+T)}}({config:e,addScalar:r,subtract:A,column:I,flatten:C,equal:s,abs:o,atan:a,cos:c,sin:l,multiplyScalar:u,inv:g,bignumber:f,complex:y,multiply:d,add:m}),H=function get(n){var{addScalar:e,subtract:t,flatten:i,multiply:r,multiplyScalar:A,divideScalar:s,sqrt:o,abs:a,bignumber:c,diag:l,size:u,reshape:h,inv:g,qr:f,usolve:d,usolveAll:m,equal:p,complex:I,larger:C,smaller:B,dot:E}=n;function T(K,z,Z,le){var ce=e(K,le),ge=t(A(K,le),A(z,Z)),re=A(ce,.5),ie=A(o(t(A(ce,ce),A(4,ge))),.5);return[e(re,ie),t(re,ie)]}function O(K,z,Z,le,ce,ge,re,ie){var me="BigNumber"===ie,be="Complex"===ie,Ie=me?c(0):be?I(0):0,Ne=me?c(1):be?I(1):1;if(B(a(Z),re))return[[Ne,Ie],[Ie,Ne]];if(C(a(t(ce,ge)),re))return[[t(ce,le),t(ge,le)],[Z,Z]];var Ae=t(K,ce),ee=t(le,ce);return B(a(z),re)&&B(a(ee),re)?[[Ae,Ne],[Z,Ie]]:[[z,Ie],[ee,Ne]]}function G(K,z){for(var Z=0;Z<K.length;Z++)K[Z].push(...Array(z-K[Z].length).fill(0));for(var le=K.length;le<z;le++)K.push(Array(z).fill(0)),K[le][le]=1;return K}function k(K,z,Z){for(var le=0;le<K.length;le++)if(Z(K[le],z))return le;return-1}function L(K,z,Z,le,ce){for(var re,ge="BigNumber"===ce?c(1e3):1e3,ie=0;ie<5;++ie){re=J(z,Z,ce);try{re=d(K,re)}catch{continue}if(C(ue(re),ge))break}if(ie>=5)return null;for(ie=0;;){var me=d(K,re);if(B(ue(H(re,[me])),le))break;if(++ie>=10)return null;re=ye(me)}return re}function J(K,z,Z){var le="BigNumber"===Z,ce="Complex"===Z,ge=Array(K).fill(0).map(re=>2*Math.random()-1);return le&&(ge=ge.map(re=>c(re))),ce&&(ge=ge.map(re=>I(re))),ye(ge=H(ge,z),Z)}function H(K,z){var Z=u(K);for(var le of z)le=h(le,Z),K=t(K,r(s(E(le,K),E(le,le)),le));return K}function ue(K){return a(o(E(K,K)))}function ye(K,z){var le="Complex"===z,ce="BigNumber"===z?c(1):le?I(1):1;return r(s(ce,ue(K)),K)}return function b(K,z,Z,le){var ce=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],ge=function S(K,z,Z,le,ce){var Ae,ge="BigNumber"===le,re="Complex"===le,ie=ge?c(0):0,me=ge?c(1):re?I(1):1,be=ge?c(1):1,Ie=ge?c(10):2,Ne=A(Ie,Ie);ce&&(Ae=Array(z).fill(me));for(var ee=!1;!ee;){ee=!0;for(var j=0;j<z;j++){for(var Te=ie,Me=ie,Oe=0;Oe<z;Oe++)j!==Oe&&(Te=e(Te,a(K[Oe][j])),Me=e(Me,a(K[j][Oe])));if(!p(Te,0)&&!p(Me,0)){for(var Ge=be,oe=Te,te=s(Me,Ie),Ye=A(Me,Ie);B(oe,te);)oe=A(oe,Ne),Ge=A(Ge,Ie);for(;C(oe,Ye);)oe=s(oe,Ne),Ge=s(Ge,Ie);if(B(s(e(oe,Me),Ge),A(e(Te,Me),.95))){ee=!1;for(var ut=s(1,Ge),it=0;it<z;it++)j!==it&&(K[j][it]=A(K[j][it],ut),K[it][j]=A(K[it][j],Ge));ce&&(Ae[j]=A(Ae[j],ut))}}}}return ce?l(Ae):null}(K,z,0,le,ce);!function w(K,z,Z,le,ce,ge){var re="BigNumber"===le,ie="Complex"===le,me=re?c(0):ie?I(0):0;re&&(Z=c(Z));for(var be=0;be<z-2;be++){for(var Ie=0,Ne=me,Ae=be+1;Ae<z;Ae++){var ee=K[Ae][be];B(a(Ne),a(ee))&&(Ne=ee,Ie=Ae)}if(!B(a(Ne),Z)){if(Ie!==be+1){var j=K[Ie];K[Ie]=K[be+1],K[be+1]=j;for(var Te=0;Te<z;Te++){var Me=K[Te][Ie];K[Te][Ie]=K[Te][be+1],K[Te][be+1]=Me}if(ce){var Oe=ge[Ie];ge[Ie]=ge[be+1],ge[be+1]=Oe}}for(var Ge=be+2;Ge<z;Ge++){var oe=s(K[Ge][be],Ne);if(0!==oe){for(var te=0;te<z;te++)K[Ge][te]=t(K[Ge][te],A(oe,K[be+1][te]));for(var Ye=0;Ye<z;Ye++)K[Ye][be+1]=e(K[Ye][be+1],A(oe,K[Ye][Ge]));if(ce)for(var Ve=0;Ve<z;Ve++)ge[Ge][Ve]=t(ge[Ge][Ve],A(oe,ge[be+1][Ve]))}}}}}(K,z,Z,le,ce,ge);var{values:re,C:ie}=function M(K,z,Z,le,ce){var ge="BigNumber"===le,re="Complex"===le,ie=ge?c(1):re?I(1):1;ge&&(Z=c(Z));for(var me=Hi(K),be=[],Ie=z,Ne=[],Ae=ce?l(Array(z).fill(ie)):void 0,ee=ce?l(Array(Ie).fill(ie)):void 0,j=0;j<=100;){j+=1;for(var Te=me[Ie-1][Ie-1],Me=0;Me<Ie;Me++)me[Me][Me]=t(me[Me][Me],Te);var{Q:Oe,R:Ge}=f(me);me=r(Ge,Oe);for(var oe=0;oe<Ie;oe++)me[oe][oe]=e(me[oe][oe],Te);if(ce&&(ee=r(ee,Oe)),1===Ie||B(a(me[Ie-1][Ie-2]),Z)){j=0,be.push(me[Ie-1][Ie-1]),ce&&(Ne.unshift([[1]]),G(ee,z),Ae=r(Ae,ee),Ie>1&&(ee=l(Array(Ie-1).fill(ie)))),Ie-=1,me.pop();for(var te=0;te<Ie;te++)me[te].pop()}else if(2===Ie||B(a(me[Ie-2][Ie-3]),Z)){j=0;var Ye=T(me[Ie-2][Ie-2],me[Ie-2][Ie-1],me[Ie-1][Ie-2],me[Ie-1][Ie-1]);be.push(...Ye),ce&&(Ne.unshift(O(me[Ie-2][Ie-2],me[Ie-2][Ie-1],me[Ie-1][Ie-2],me[Ie-1][Ie-1],Ye[0],Ye[1],Z,le)),G(ee,z),Ae=r(Ae,ee),Ie>2&&(ee=l(Array(Ie-2).fill(ie)))),Ie-=2,me.pop(),me.pop();for(var Ve=0;Ve<Ie;Ve++)me[Ve].pop(),me[Ve].pop()}if(0===Ie)break}if(be.sort((Jt,Yt)=>+t(a(Jt),a(Yt))),j>100){var ut=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+be.join(", "));throw ut.values=be,ut.vectors=[],ut}var it=ce?r(Ae,function W(K,z){for(var Z=[],le=0;le<z;le++)Z[le]=Array(z).fill(0);var ce=0;for(var ge of K){for(var re=ge.length,ie=0;ie<re;ie++)for(var me=0;me<re;me++)Z[ce+ie][ce+me]=ge[ie][me];ce+=re}return Z}(Ne,z)):void 0;return{values:be,C:it}}(K,z,Z,le,ce);if(ce){var me=function D(K,z,Z,le,ce,ge,re){var ie=g(Z),me=r(ie,K,Z),be="BigNumber"===re,Ie="Complex"===re,Ne=be?c(0):Ie?I(0):0,Ae=be?c(1):Ie?I(1):1,ee=[],j=[];for(var Te of ce){var Me=k(ee,Te,p);-1===Me?(ee.push(Te),j.push(1)):j[Me]+=1}for(var Oe=[],Ge=ee.length,oe=Array(z).fill(Ne),te=l(Array(z).fill(Ae)),Ye=function(){var it=ee[Ve],Jt=t(me,r(it,te)),Yt=m(Jt,oe);for(Yt.shift();Yt.length<j[Ve];){var Ot=L(Jt,z,Yt,ge,re);if(null===Ot)break;Yt.push(Ot)}var Sn=r(g(le),Z);Yt=Yt.map(ct=>r(Sn,ct)),Oe.push(...Yt.map(ct=>({value:it,vector:i(ct)})))},Ve=0;Ve<Ge;Ve++)Ye();return Oe}(K,z,ie,ge,re,Z,le);return{values:re,eigenvectors:me}}return{values:re}}}({config:e,addScalar:r,subtract:A,multiply:d,multiplyScalar:u,flatten:C,divideScalar:h,sqrt:E,abs:o,bignumber:f,diag:b,size:S,reshape:w,qr:M,inv:g,usolve:D,usolveAll:T,equal:s,complex:y,larger:p,smaller:W,matrixFromColumns:k,dot:L});return t("eigs",{Array:function(ge){return ue(i(ge))},"Array, number|BigNumber":function(ge,re){return ue(i(ge),{precision:re})},"Array, Object":(ce,ge)=>ue(i(ce),ge),Matrix:function(ge){return ue(ge,{matricize:!0})},"Matrix, number|BigNumber":function(ge,re){return ue(ge,{precision:re,matricize:!0})},"Matrix, Object":function(ge,re){var ie={matricize:!0};return aa(ie,re),ue(ge,ie)}});function ue(ce){var ge,re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ie=!("eigenvectors"in re)||re.eigenvectors,be=function ye(ce,ge,re){var ie=ce.toArray(),me=ce.size();if(2!==me.length||me[0]!==me[1])throw new RangeError("Matrix must be square (size: ".concat(mr(me),")"));var be=me[0];if(function z(ce,ge,re){for(var ie=0;ie<ge;ie++)for(var me=0;me<ge;me++)if(p(f(o(O(ce[ie][me]))),re))return!1;return!0}(ie,be,ge)&&(function Z(ce,ge){for(var re=0;re<ge;re++)for(var ie=0;ie<ge;ie++)ce[re][ie]=G(ce[re][ie])}(ie,be),function K(ce,ge,re){for(var ie=0;ie<ge;ie++)for(var me=ie;me<ge;me++)if(p(f(o(A(ce[ie][me],ce[me][ie]))),re))return!1;return!0}(ie,be,ge))){var Ie=le(ce,ie,be);return J(ie,be,ge,Ie,re)}var Ne=le(ce,ie,be);return H(ie,be,ge,Ne,re)}(ce,null!==(ge=re.precision)&&void 0!==ge?ge:e.relTol,ie);return re.matricize&&(be.values=i(be.values),ie&&(be.eigenvectors=be.eigenvectors.map(Ie=>{var{value:Ne,vector:Ae}=Ie;return{value:Ne,vector:i(Ae)}}))),ie&&Object.defineProperty(be,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),be}function le(ce,ge,re){var ie=ce.datatype();if("number"===ie||"BigNumber"===ie||"Complex"===ie)return ie;for(var me=!1,be=!1,Ie=!1,Ne=0;Ne<re;Ne++)for(var Ae=0;Ae<re;Ae++){var ee=ge[Ne][Ae];if(ji(ee)||G1(ee))me=!0;else if(Zi(ee))be=!0;else{if(!jd(ee))throw TypeError("Unsupported type in Matrix: "+As(ee));Ie=!0}}if(be&&Ie&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),Ie){for(var j=0;j<re;j++)for(var Te=0;Te<re;Te++)ge[j][Te]=y(ge[j][Te]);return"Complex"}if(be){for(var Me=0;Me<re;Me++)for(var Oe=0;Oe<re;Oe++)ge[Me][Oe]=f(ge[Me][Oe]);return"BigNumber"}if(me){for(var Ge=0;Ge<re;Ge++)for(var oe=0;oe<re;oe++)ge[Ge][oe]=B(ge[Ge][oe]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),Oae="kldivergence",met=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],Cet=Qe(Oae,met,n=>{var{typed:e,matrix:t,divide:i,sum:r,multiply:A,map:s,dotDivide:o,log:a,isNumeric:c}=n;return e(Oae,{"Array, Array":function(h,g){return l(t(h),t(g))},"Matrix, Array":function(h,g){return l(h,t(g))},"Array, Matrix":function(h,g){return l(t(h),g)},"Matrix, Matrix":function(h,g){return l(h,g)}});function l(u,h){var g=h.size().length,f=u.size().length;if(g>1)throw new Error("first object must be one dimensional");if(f>1)throw new Error("second object must be one dimensional");if(g!==f)throw new Error("Length of two vectors must be equal");if(0===r(u))throw new Error("Sum of elements in first object must be non zero");if(0===r(h))throw new Error("Sum of elements in second object must be non zero");var p=i(u,r(u)),I=i(h,r(h)),C=r(A(p,s(o(p,I),B=>a(B))));return c(C)?C:Number.NaN}}),Iet=["typed","add","divide","compare","partitionSelect"],Bet=Qe("median",Iet,n=>{var{typed:e,add:t,divide:i,compare:r,partitionSelect:A}=n;function s(c){try{var l=(c=tA(c.valueOf())).length;if(0===l)throw new Error("Cannot calculate median of an empty array");if(l%2==0){for(var u=l/2-1,h=A(c,u+1),g=c[u],f=0;f<u;++f)r(c[f],g)>0&&(g=c[f]);return a(g,h)}var d=A(c,(l-1)/2);return o(d)}catch(m){throw fl(m,"median")}}var o=e({"number | BigNumber | Complex | Unit":function(l){return l}}),a=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(l,u){return i(t(l,u),2)}});return e("median",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(l,u){throw new Error("median(A, dim) is not yet supported")},"...":function(l){if(ny(l))throw new TypeError("Scalar values expected in function median");return s(l)}})}),Eet=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],vet=Qe("corr",Eet,n=>{var{typed:e,matrix:t,sqrt:i,sum:r,add:A,subtract:s,multiply:o,pow:a,divide:c}=n;return e("corr",{"Array, Array":function(g,f){return l(g,f)},"Matrix, Matrix":function(g,f){var d=l(g.toArray(),f.toArray());return Array.isArray(d)?t(d):d}});function l(h,g){var f=[];if(Array.isArray(h[0])&&Array.isArray(g[0])){if(h.length!==g.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var d=0;d<h.length;d++){if(h[d].length!==g[d].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");f.push(u(h[d],g[d]))}return f}if(h.length!==g.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return u(h,g)}function u(h,g){var f=h.length,d=r(h),m=r(g),p=h.reduce((E,b,S)=>A(E,o(b,g[S])),0),I=r(h.map(E=>a(E,2))),C=r(g.map(E=>a(E,2))),B=s(o(f,p),o(d,m)),y=i(o(s(o(f,I),a(d,2)),s(o(f,C),a(m,2))));return c(B,y)}}),yet=["typed","add","multiply","Complex","divide","matrix"],Qet=Qe("freqz",yet,n=>{var{typed:e,add:t,multiply:i,Complex:r,divide:A,matrix:s}=n;return e("freqz",{"Array, Array":function(l,u){return o(l,u,a(512))},"Array, Array, Array":function(l,u,h){return o(l,u,h)},"Array, Array, number":function(l,u,h){if(h<0)throw new Error("w must be a positive number");return o(l,u,a(h))},"Matrix, Matrix":function(l,u){var h=a(512),{w:g,h:f}=o(l.valueOf(),u.valueOf(),h);return{w:s(g),h:s(f)}},"Matrix, Matrix, Matrix":function(l,u,h){var{h:g}=o(l.valueOf(),u.valueOf(),h.valueOf());return{h:s(g),w:s(h)}},"Matrix, Matrix, number":function(l,u,h){if(h<0)throw new Error("w must be a positive number");var g=a(h),{h:f}=o(l.valueOf(),u.valueOf(),g);return{h:s(f),w:s(g)}}});function o(c,l,u){for(var h=[],g=[],f=0;f<u.length;f++){for(var d=r(0,0),m=r(0,0),p=0;p<c.length;p++)d=t(d,i(c[p],r(Math.cos(-p*u[f]),Math.sin(-p*u[f]))));for(var I=0;I<l.length;I++)m=t(m,i(l[I],r(Math.cos(-I*u[f]),Math.sin(-I*u[f]))));h.push(d),g.push(m)}for(var C=[],B=0;B<h.length;B++)C.push(A(h[B],g[B]));return{h:C,w:u}}function a(c){for(var l=[],u=0;u<c;u++)l.push(u/c*Math.PI);return l}}),wet=["typed","abs","map","median","subtract"],_et=Qe("mad",wet,n=>{var{typed:e,abs:t,map:i,median:r,subtract:A}=n;return e("mad",{"Array | Matrix":s,"...":function(a){return s(a)}});function s(o){if(0===(o=tA(o.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var a=r(o);return r(i(o,function(c){return t(A(c,a))}))}catch(c){throw c instanceof TypeError&&c.message.includes("median")?new TypeError(c.message.replace("median","mad")):fl(c,"mad")}}}),Det=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],bet=Qe("zeta",Det,n=>{var{typed:e,config:t,multiply:i,pow:r,divide:A,factorial:s,equal:o,smallerEq:a,isNegative:c,gamma:l,sin:u,subtract:h,add:g,Complex:f,BigNumber:d,pi:m}=n;return e("zeta",{number:E=>p(E,b=>b,()=>20),BigNumber:E=>p(E,b=>new d(b),()=>Math.abs(Math.log10(t.relTol))),Complex:function I(E){return 0===E.re&&0===E.im?new f(-.5):1===E.re?new f(NaN,NaN):E.re===1/0&&0===E.im?new f(1):E.im===1/0||E.re===-1/0?new f(NaN,NaN):C(E,b=>b,b=>Math.round(19.5+.9*Math.abs(b.im)),b=>b.re)}});function p(E,b,S){return o(E,0)?b(-.5):o(E,1)?b(NaN):isFinite(E)?C(E,b,S,w=>w):c(E)?b(NaN):b(1)}function C(E,b,S,w){var M=S(E);if(w(E)>-(M-1)/2)return function y(E,b,S){for(var w=A(1,i(B(S(0),b),h(1,r(2,h(1,E))))),M=S(0),D=S(1);a(D,b);D=g(D,1))M=g(M,A(i((-1)**(D-1),B(D,b)),r(D,E)));return i(w,M)}(E,b(M),b);var D=i(r(2,E),r(b(m),h(E,1)));return D=i(D,u(i(A(b(m),2),E))),D=i(D,l(h(1,E))),i(D,C(h(1,E),b,S,w))}function B(E,b){for(var S=E,w=E;a(w,b);w=g(w,1)){var M=A(i(s(g(b,h(w,1))),r(4,w)),i(s(h(b,w)),s(i(2,w))));S=g(S,M)}return i(b,S)}}),Met=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],Net=Qe("norm",Met,n=>{var{typed:e,abs:t,add:i,pow:r,conj:A,sqrt:s,multiply:o,equalScalar:a,larger:c,smaller:l,matrix:u,ctranspose:h,eigs:g}=n;return e("norm",{number:Math.abs,Complex:function(S){return S.abs()},BigNumber:function(S){return S.abs()},boolean:function(S){return Math.abs(S)},Array:function(S){return E(u(S),2)},Matrix:function(S){return E(S,2)},"Array, number | BigNumber | string":function(S,w){return E(u(S),w)},"Matrix, number | BigNumber | string":function(S,w){return E(S,w)}});function E(b,S){var w=b.size();if(1===w.length)return function m(b,S){if(S===Number.POSITIVE_INFINITY||"inf"===S)return function f(b){var S=0;return b.forEach(function(w){var M=t(w);c(M,S)&&(S=M)},!0),S}(b);if(S===Number.NEGATIVE_INFINITY||"-inf"===S)return function d(b){var S;return b.forEach(function(w){var M=t(w);(!S||l(M,S))&&(S=M)},!0),S||0}(b);if("fro"===S)return E(b,2);if("number"==typeof S&&!isNaN(S)){if(!a(S,0)){var w=0;return b.forEach(function(M){w=i(r(t(M),S),w)},!0),r(w,1/S)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}(b,S);if(2===w.length){if(w[0]&&w[1])return function y(b,S){if(1===S)return function I(b){var S=[],w=0;return b.forEach(function(M,D){var T=D[1],O=i(S[T]||0,t(M));c(O,w)&&(w=O),S[T]=O},!0),w}(b);if(S===Number.POSITIVE_INFINITY||"inf"===S)return function B(b){var S=[],w=0;return b.forEach(function(M,D){var T=D[0],O=i(S[T]||0,t(M));c(O,w)&&(w=O),S[T]=O},!0),w}(b);if("fro"===S)return function p(b){var S=0;return b.forEach(function(w,M){S=i(S,o(w,A(w)))}),t(s(S))}(b);if(2===S)return function C(b){var S=b.size();if(S[0]!==S[1])throw new RangeError("Invalid matrix dimensions");var w=h(b),M=o(w,b),D=g(M).values.toArray();return t(s(D[D.length-1]))}(b);throw new Error("Unsupported parameter value "+S)}(b,S);throw new RangeError("Invalid matrix dimensions")}}}),Jae="rotationMatrix",xet=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],Fet=Qe(Jae,xet,n=>{var{typed:e,config:t,multiplyScalar:i,addScalar:r,unaryMinus:A,norm:s,BigNumber:o,matrix:a,DenseMatrix:c,SparseMatrix:l,cos:u,sin:h}=n;return e(Jae,{"":function(){return"Matrix"===t.matrix?a([]):[]},string:function(C){return a(C)},"number | BigNumber | Complex | Unit":function(C){return g(C,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(C,B){return g(C,B)},"number | BigNumber | Complex | Unit, Array":function(C,B){var y=a(B);return f(y),p(C,y,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(C,B){f(B);var y=B.storage()||("Matrix"===t.matrix?"dense":void 0);return p(C,B,y)},"number | BigNumber | Complex | Unit, Array, string":function(C,B,y){var E=a(B);return f(E),p(C,E,y)},"number | BigNumber | Complex | Unit, Matrix, string":function(C,B,y){return f(B),p(C,B,y)}});function g(I,C){var y=Zi(I)?new o(-1):-1,E=u(I),b=h(I);return m([[E,i(y,b)],[b,E]],C)}function f(I){var C=I.size();if(C.length<1||3!==C[0])throw new RangeError("Vector must be of dimensions 1x3")}function d(I){return I.reduce((C,B)=>i(C,B))}function m(I,C){if(C){if("sparse"===C)return new l(I);if("dense"===C)return new c(I);throw new TypeError('Unknown matrix type "'.concat(C,'"'))}return I}function p(I,C,B){var y=s(C);if(0===y)throw new RangeError("Rotation around zero vector");var E=Zi(I)?o:null,b=E?new E(1):1,S=E?new E(-1):-1,w=E?new E(C.get([0])/y):C.get([0])/y,M=E?new E(C.get([1])/y):C.get([1])/y,D=E?new E(C.get([2])/y):C.get([2])/y,T=u(I),O=r(b,A(T)),G=h(I);return m([[r(T,d([w,w,O])),r(d([w,M,O]),d([S,D,G])),r(d([w,D,O]),d([M,G]))],[r(d([w,M,O]),d([D,G])),r(T,d([M,M,O])),r(d([M,D,O]),d([S,w,G]))],[r(d([w,D,O]),d([S,M,G])),r(d([M,D,O]),d([w,G])),r(T,d([D,D,O]))]],B)}}),Ret=["typed","matrix","identity","multiply","qr","norm","subtract"],Tet=Qe("schur",Ret,n=>{var{typed:e,matrix:t,identity:i,multiply:r,qr:A,norm:s,subtract:o}=n;return e("schur",{Array:function(l){var u=a(t(l));return{U:u.U.valueOf(),T:u.T.valueOf()}},Matrix:function(l){return a(l)}});function a(c){var f,l=c.size()[0],u=c,h=i(l),g=0;do{f=u;var d=A(u),m=d.Q;if(u=r(d.R,m),h=r(h,m),g++>100)break}while(s(o(u,f))>1e-4);return{U:h,T:u}}}),ket=["typed","multiply","rotationMatrix"],Let=Qe("rotate",ket,n=>{var{typed:e,multiply:t,rotationMatrix:i}=n;return e("rotate",{"Array , number | BigNumber | Complex | Unit":function(s,o){return r(s,2),t(i(o),s).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(s,o){return r(s,2),t(i(o),s)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(s,o,a){return r(s,3),t(i(o,a),s)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(s,o,a){return r(s,3),t(i(o,a),s)}});function r(A,s){var o=Array.isArray(A)?Ti(A):A.size();if(o.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(2===o.length&&1!==o[1])throw new RangeError("Vector must be of dimensions 1x".concat(s));if(o[0]!==s)throw new RangeError("Vector must be of dimensions 1x".concat(s))}}),Uet=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],Oet=Qe("sylvester",Uet,n=>{var{typed:e,schur:t,matrixFromColumns:i,matrix:r,multiply:A,range:s,concat:o,transpose:a,index:c,subset:l,add:u,subtract:h,identity:g,lusolve:f,abs:d}=n;return e("sylvester",{"Matrix, Matrix, Matrix":m,"Array, Matrix, Matrix":function(I,C,B){return m(r(I),C,B)},"Array, Array, Matrix":function(I,C,B){return m(r(I),r(C),B)},"Array, Matrix, Array":function(I,C,B){return m(r(I),C,r(B))},"Matrix, Array, Matrix":function(I,C,B){return m(I,r(C),B)},"Matrix, Array, Array":function(I,C,B){return m(I,r(C),r(B))},"Matrix, Matrix, Array":function(I,C,B){return m(I,C,r(B))},"Array, Array, Array":function(I,C,B){return m(r(I),r(C),r(B)).toArray()}});function m(p,I,C){for(var B=I.size()[0],y=p.size()[0],E=t(p),b=E.T,S=E.U,w=t(A(-1,I)),M=w.T,D=w.U,T=A(A(a(S),C),D),O=s(0,y),G=[],W=(Ie,Ne)=>o(Ie,Ne,1),k=(Ie,Ne)=>o(Ie,Ne,0),L=0;L<B;L++)if(L<B-1&&d(l(M,c(L+1,L)))>1e-5){for(var J=k(l(T,c(O,L)),l(T,c(O,L+1))),H=0;H<L;H++)J=u(J,k(A(G[H],l(M,c(H,L))),A(G[H],l(M,c(H,L+1)))));var ue=A(g(y),A(-1,l(M,c(L,L)))),ye=A(g(y),A(-1,l(M,c(L+1,L)))),K=A(g(y),A(-1,l(M,c(L,L+1)))),z=A(g(y),A(-1,l(M,c(L+1,L+1)))),Z=k(W(u(b,ue),ye),W(K,u(b,z))),le=f(Z,J);G[L]=le.subset(c(s(0,y),0)),G[L+1]=le.subset(c(s(y,2*y),0)),L++}else{for(var ce=l(T,c(O,L)),ge=0;ge<L;ge++)ce=u(ce,A(G[ge],l(M,c(ge,L))));var re=l(M,c(L,L)),ie=h(b,A(re,g(y)));G[L]=f(ie,ce)}var me=r(i(...G));return A(S,A(me,a(D)))}}),Get=["typed","matrix","sylvester","multiply","transpose"],Pet=Qe("lyap",Get,n=>{var{typed:e,matrix:t,sylvester:i,multiply:r,transpose:A}=n;return e("lyap",{"Matrix, Matrix":function(o,a){return i(o,A(o),r(-1,a))},"Array, Matrix":function(o,a){return i(t(o),A(t(o)),r(-1,a))},"Matrix, Array":function(o,a){return i(o,A(t(o)),t(r(-1,a)))},"Array, Array":function(o,a){return i(t(o),A(t(o)),t(r(-1,a))).toArray()}})}),Qn=DJe({config:Kt}),WA=xJe({}),Zae=WJe({BigNumber:Qn,config:Kt}),Het=YJe({}),Yet=QVe({BigNumber:Qn,config:Kt}),pB=o6e({}),Xae=iVe({Complex:WA}),Ket=qJe({BigNumber:Qn,config:Kt}),qet=XJe({BigNumber:Qn,config:Kt}),Jet=eVe({BigNumber:Qn,config:Kt}),oR=l6e({}),Vet=JJe({BigNumber:Qn,config:Kt}),zet=KJe({}),Wet=jJe({BigNumber:Qn,config:Kt}),jet=h6e({}),$ae=p6e({}),Zet=tVe({BigNumber:Qn,config:Kt}),Xet=YVe({BigNumber:Qn,config:Kt}),ece=zJe({BigNumber:Qn,config:Kt}),$et=HJe({}),ett=rVe({}),Ar=I6e({Matrix:oR}),ttt=FVe({BigNumber:Qn,config:Kt}),ntt=ZJe({BigNumber:Qn,config:Kt}),kH=VJe({BigNumber:Qn,config:Kt}),tce=v6e({}),itt=nVe({BigNumber:Qn,config:Kt}),qe=Q6e({BigNumber:Qn,Complex:WA,DenseMatrix:Ar,Fraction:pB}),rtt=xVe({BigNumber:Qn,config:Kt}),dl=R6e({typed:qe}),Att=k6e({Complex:WA,config:Kt,typed:qe}),stt=z6e({BigNumber:Qn,typed:qe}),ott=j6e({BigNumber:Qn,Complex:WA,config:Kt,typed:qe}),ga=X6e({typed:qe}),att=eze({typed:qe}),ctt=nze({BigNumber:Qn,Complex:WA,config:Kt,typed:qe}),ltt=Aze({typed:qe}),nce=aze({typed:qe}),utt=lze({Complex:WA,config:Kt,typed:qe}),gtt=hze({typed:qe}),htt=dze({typed:qe}),ftt=mze({typed:qe}),dtt=Ize({typed:qe}),aR=Eze({typed:qe}),cR=Qze({Complex:WA,typed:qe}),mB=_ze({typed:qe}),LH=bze({typed:qe}),ptt=Mze({BigNumber:Qn,typed:qe}),mtt=xze({BigNumber:Qn,typed:qe}),Ctt=Rze({typed:qe}),Br=Lze({config:Kt,typed:qe}),Itt=Gze({typed:qe}),ice=qze({typed:qe}),Btt=Vze({Complex:WA,typed:qe}),Ett=Qie({typed:qe}),nD=Wze({typed:qe}),vtt=bie({typed:qe}),dy=Zze({typed:qe}),UH=$ze({typed:qe}),ytt=t9e({format:dy,typed:qe}),OH=i9e({typed:qe}),jl=A9e({typed:qe}),nC=c9e({config:Kt,typed:qe}),CB=u9e({config:Kt,typed:qe}),xf=h9e({equalScalar:Br,typed:qe}),Qtt=$Je({BigNumber:Qn,config:Kt}),wtt=m9e({Complex:WA,typed:qe}),_tt=I9e({Complex:WA,config:Kt,typed:qe}),rce=E9e({Complex:WA,config:Kt,typed:qe}),IB=Sie({typed:qe}),lo=Q9e({typed:qe}),lR=_9e({typed:qe}),rp=N9e({typed:qe}),Dtt=F9e({format:dy,typed:qe}),btt=k9e({config:Kt,typed:qe}),Stt=Hie({typed:qe}),Mtt=U9e({config:Kt,typed:qe}),GH=G9e({typed:qe}),Ntt=H9e({BigNumber:Qn,typed:qe}),Ace=K9e({BigNumber:Qn,Fraction:pB,complex:cR,typed:qe}),uR=J9e({typed:qe}),ha=W9e({Matrix:oR,equalScalar:Br,typed:qe}),xtt=Z9e({typed:qe}),Ftt=$9e({typed:qe}),Rtt=tWe({typed:qe}),vg=iWe({typed:qe}),Ttt=AWe({typed:qe}),PH=oWe({typed:qe}),ktt=cWe({Complex:WA,config:Kt,typed:qe}),Ltt=uWe({BigNumber:Qn,typed:qe}),HH=oH({isInteger:jl,typed:qe}),Utt=hWe({BigNumber:Qn,Complex:WA,config:Kt,typed:qe}),yg=pWe({BigNumber:Qn,typed:qe}),Ott=CWe({typed:qe}),Gtt=BWe({typed:qe}),Ptt=vWe({BigNumber:Qn,typed:qe}),iD=QWe({typed:qe}),Htt=_We({typed:qe}),Ytt=bWe({config:Kt,typed:qe}),Ktt=MWe({BigNumber:Qn,typed:qe}),qtt=xWe({typed:qe}),Jtt=RWe({SparseMatrix:ha,typed:qe}),Rh=LWe({Complex:WA,config:Kt,typed:qe}),Vtt=OWe({typed:qe}),ztt=HWe({typed:qe}),Ff=KWe({typed:qe}),Wtt=JWe({BigNumber:Qn,Complex:WA,config:Kt,typed:qe}),jtt=zWe({format:dy,typed:qe}),Ztt=jWe({BigNumber:Qn,typed:qe}),rD=$We({Fraction:pB,typed:qe}),BB=tje({typed:qe}),Bn=ije({DenseMatrix:Ar,Matrix:oR,SparseMatrix:ha,typed:qe}),Xtt=Aje({isZero:xf,matrix:Bn,typed:qe}),$tt=oje({isNaN:iD,isNumeric:BB,typed:qe}),Qg=lje({bignumber:yg,fraction:rD,number:rp}),sce=gje({config:Kt,multiplyScalar:lo,numeric:Qg,typed:qe}),oce=fje({isInteger:jl,matrix:Bn,typed:qe}),nc=pje({matrix:Bn,config:Kt,typed:qe}),AD=Cje({matrix:Bn,typed:qe}),ace=Bje({BigNumber:Qn,config:Kt,matrix:Bn,typed:qe}),ic=vje({BigNumber:Qn,config:Kt,matrix:Bn,typed:qe}),ent=Qje({Complex:WA,config:Kt,typed:qe}),cce=_je({BigNumber:Qn,Complex:WA,Fraction:pB,config:Kt,isNegative:nC,matrix:Bn,typed:qe,unaryMinus:Ff}),Jr=Lie({isInteger:jl,matrix:Bn,typed:qe}),tnt=bje({prod:sce,size:nc,typed:qe}),YH=Mje({conj:mB,transpose:AD,typed:qe}),lce=xje({DenseMatrix:Ar,SparseMatrix:ha,matrix:Bn,typed:qe}),Gs=Rje({numeric:Qg,typed:qe}),sD=Uje({DenseMatrix:Ar,SparseMatrix:ha,concat:Jr,divideScalar:Gs,equalScalar:Br,matrix:Bn,typed:qe}),wg=Gje({DenseMatrix:Ar,SparseMatrix:ha,concat:Jr,equalScalar:Br,matrix:Bn,typed:qe}),nnt=Yje({isNumeric:BB,typed:qe}),iC=qje({BigNumber:Qn,DenseMatrix:Ar,SparseMatrix:ha,config:Kt,matrix:Bn,typed:qe}),int=Vje({matrix:Bn,multiplyScalar:lo,typed:qe}),gR=Wje({DenseMatrix:Ar,SparseMatrix:ha,concat:Jr,config:Kt,matrix:Bn,typed:qe}),rnt=e7e({DenseMatrix:Ar,concat:Jr,equalScalar:Br,matrix:Bn,typed:qe,zeros:ic}),uce=n7e({DenseMatrix:Ar,divideScalar:Gs,equalScalar:Br,matrix:Bn,multiplyScalar:lo,subtractScalar:vg,typed:qe}),KH=r7e({flatten:nD,matrix:Bn,size:nc,typed:qe}),Ant=s7e({BigNumber:Qn,concat:Jr,equalScalar:Br,matrix:Bn,typed:qe}),snt=c7e({BigNumber:Qn,config:Kt,matrix:Bn,typed:qe}),qH=u7e({addScalar:ga,complex:cR,conj:mB,divideScalar:Gs,equal:wg,identity:iC,isZero:xf,matrix:Bn,multiplyScalar:lo,sign:Ace,sqrt:Rh,subtractScalar:vg,typed:qe,unaryMinus:Ff,zeros:ic}),ont=f7e({config:Kt,matrix:Bn}),ant=p7e({DenseMatrix:Ar,concat:Jr,equalScalar:Br,matrix:Bn,typed:qe,zeros:ic}),py=C7e({BigNumber:Qn,DenseMatrix:Ar,config:Kt,equalScalar:Br,matrix:Bn,typed:qe,zeros:ic}),pl=B7e({DenseMatrix:Ar,SparseMatrix:ha,concat:Jr,config:Kt,matrix:Bn,typed:qe}),No=y7e({DenseMatrix:Ar,concat:Jr,equalScalar:Br,matrix:Bn,subtractScalar:vg,typed:qe,unaryMinus:Ff}),cnt=w7e({concat:Jr,matrix:Bn,typed:qe}),JH=D7e({config:Kt,numeric:Qg,typed:qe}),VH=S7e({DenseMatrix:Ar,divideScalar:Gs,equalScalar:Br,matrix:Bn,multiplyScalar:lo,subtractScalar:vg,typed:qe}),lnt=N7e({DenseMatrix:Ar,SparseMatrix:ha,concat:Jr,matrix:Bn,typed:qe}),Ur=F7e({DenseMatrix:Ar,SparseMatrix:ha,addScalar:ga,concat:Jr,equalScalar:Br,matrix:Bn,typed:qe}),unt=L7e({BigNumber:Qn,DenseMatrix:Ar,concat:Jr,equalScalar:Br,matrix:Bn,typed:qe}),gnt=$ie({concat:Jr,equalScalar:Br,matrix:Bn,typed:qe}),hnt=cre({DenseMatrix:Ar,concat:Jr,equalScalar:Br,matrix:Bn,typed:qe}),fnt=O7e({DenseMatrix:Ar,SparseMatrix:ha,concat:Jr,matrix:Bn,typed:qe}),dnt=P7e({addScalar:ga,combinations:aR,divideScalar:Gs,isInteger:jl,isNegative:nC,multiplyScalar:lo,typed:qe}),EB=Y7e({BigNumber:Qn,DenseMatrix:Ar,Fraction:pB,concat:Jr,config:Kt,equalScalar:Br,matrix:Bn,typed:qe}),gce=J7e({concat:Jr,matrix:Bn,typed:qe}),pnt=lre({add:Ur,typed:qe,unaryPlus:JH}),zH=z7e({equal:wg,typed:qe}),mnt=tre({matrix:Bn,number:rp,subtract:No,typed:qe}),Cnt=j7e({abs:dl,addScalar:ga,deepEqual:zH,divideScalar:Gs,multiplyScalar:lo,sqrt:Rh,subtractScalar:vg,typed:qe}),hR=X7e({addScalar:ga,conj:mB,multiplyScalar:lo,size:nc,typed:qe}),Int=eZe({compareText:gce,isZero:xf,typed:qe}),hce=Moe({DenseMatrix:Ar,config:Kt,equalScalar:Br,matrix:Bn,round:py,typed:qe,zeros:ic}),Bnt=sZe({BigNumber:Qn,DenseMatrix:Ar,concat:Jr,config:Kt,equalScalar:Br,matrix:Bn,round:py,typed:qe,zeros:ic}),Ent=aZe({abs:dl,addScalar:ga,divideScalar:Gs,isPositive:CB,multiplyScalar:lo,smaller:pl,sqrt:Rh,typed:qe}),fce=uZe({DenseMatrix:Ar,smaller:pl}),xc=fZe({ImmutableDenseMatrix:fce,getMatrixDataType:UH}),ml=pZe({DenseMatrix:Ar,SparseMatrix:ha,concat:Jr,config:Kt,matrix:Bn,typed:qe}),WH=IZe({Complex:WA,config:Kt,divideScalar:Gs,typeOf:PH,typed:qe}),vnt=EZe({DenseMatrix:Ar,divideScalar:Gs,equalScalar:Br,matrix:Bn,multiplyScalar:lo,subtractScalar:vg,typed:qe}),ynt=yZe({flatten:nD,matrix:Bn,size:nc,typed:qe}),Qnt=rre({config:Kt,numeric:Qg,smaller:pl,typed:qe}),dce=xoe({DenseMatrix:Ar,concat:Jr,config:Kt,equalScalar:Br,matrix:Bn,round:py,typed:qe,zeros:ic}),OA=wZe({addScalar:ga,dot:hR,equalScalar:Br,matrix:Bn,multiplyScalar:lo,typed:qe}),wnt=DZe({Complex:WA,config:Kt,divideScalar:Gs,typed:qe}),_nt=Fie({DenseMatrix:Ar,concat:Jr,equalScalar:Br,matrix:Bn,typed:qe}),fR=SZe({compare:EB,isNaN:iD,isNumeric:BB,typed:qe}),Dnt=NZe({DenseMatrix:Ar,concat:Jr,equalScalar:Br,matrix:Bn,typed:qe,zeros:ic}),pce=tXe({SparseMatrix:ha,abs:dl,add:Ur,divideScalar:Gs,larger:ml,largerEq:gR,multiply:OA,subtract:No,transpose:AD,typed:qe}),xu=sre({add:Ur,matrix:Bn,typed:qe,zeros:ic}),jH=hre({add:Ur,config:Kt,numeric:Qg,typed:qe}),bnt=rXe({add:Ur,matrix:Bn,typed:qe}),mce=sXe({DenseMatrix:Ar,divideScalar:Gs,equalScalar:Br,matrix:Bn,multiplyScalar:lo,subtractScalar:vg,typed:qe}),Snt=aXe({Complex:WA,add:Ur,multiply:OA,number:rp,typed:qe}),ZH=uXe({DenseMatrix:Ar,config:Kt,equalScalar:Br,matrix:Bn,round:py,typed:qe,zeros:ic}),Rf=hXe({compare:EB,typed:qe}),Mnt=pXe({addScalar:ga,combinations:aR,isInteger:jl,isNegative:nC,isPositive:CB,larger:ml,typed:qe}),Nnt=CXe({matrix:Bn,multiply:OA,subtract:No,typed:qe}),Cce=BXe({divideScalar:Gs,isZero:xf,matrix:Bn,multiply:OA,subtractScalar:vg,typed:qe,unaryMinus:Ff}),xnt=vXe({concat:Jr,equalScalar:Br,matrix:Bn,multiplyScalar:lo,typed:qe}),Ice=wXe({larger:ml,smaller:pl}),Bce=bXe({Complex:WA,DenseMatrix:Ar,ceil:ZH,equalScalar:Br,floor:hce,matrix:Bn,typed:qe,zeros:ic}),Ece=MXe({Index:xc,typed:qe}),Fnt=FXe({abs:dl,add:Ur,addScalar:ga,config:Kt,divideScalar:Gs,equalScalar:Br,flatten:nD,isNumeric:BB,isZero:xf,matrix:Bn,multiply:OA,multiplyScalar:lo,smaller:pl,subtract:No,typed:qe}),Rnt=TXe({BigNumber:Qn,add:Ur,config:Kt,equal:wg,isInteger:jl,mod:dce,smaller:pl,typed:qe,xgcd:ace}),Tnt=LXe({concat:Jr,equalScalar:Br,matrix:Bn,typed:qe}),knt=OXe({Complex:WA,config:Kt,divideScalar:Gs,log:WH,typed:qe}),XH=Oie({config:Kt,larger:ml,numeric:Qg,typed:qe}),Lnt=PXe({DenseMatrix:Ar,Index:xc,compareNatural:Rf,size:nc,subset:xu,typed:qe}),Unt=YXe({DenseMatrix:Ar,Index:xc,compareNatural:Rf,size:nc,subset:xu,typed:qe}),Ont=qXe({Index:xc,compareNatural:Rf,size:nc,subset:xu,typed:qe}),Gnt=VXe({Index:xc,compareNatural:Rf,size:nc,subset:xu,typed:qe}),my=WXe({DenseMatrix:Ar,SparseMatrix:ha,concat:Jr,config:Kt,matrix:Bn,typed:qe}),Pnt=XXe({compare:EB,compareNatural:Rf,matrix:Bn,typed:qe}),Hnt=e$e({DenseMatrix:Ar,SparseMatrix:ha,concat:Jr,config:Kt,equalScalar:Br,matrix:Bn,typed:qe}),Ynt=Tie({concat:Jr,equalScalar:Br,matrix:Bn,not:lR,typed:qe,zeros:ic}),Cy=pre({bignumber:yg,matrix:Bn,add:Ur,config:Kt,isPositive:CB,larger:ml,largerEq:gR,smaller:pl,smallerEq:my,typed:qe}),Knt=Cre({Index:xc,matrix:Bn,range:Cy,typed:qe}),vce=i$e({DenseMatrix:Ar,Index:xc,compareNatural:Rf,size:nc,subset:xu,typed:qe}),qnt=A$e({Index:xc,compareNatural:Rf,size:nc,subset:xu,typed:qe}),yce=o$e({Index:xc,concat:Jr,setDifference:vce,size:nc,subset:xu,typed:qe}),Qce=l$e({FibonacciHeap:Ice,addScalar:ga,equalScalar:Br}),wce=Bre({Index:xc,matrix:Bn,range:Cy,typed:qe}),vB=g$e({abs:dl,addScalar:ga,det:Cce,divideScalar:Gs,identity:iC,matrix:Bn,multiply:OA,typed:qe,unaryMinus:Ff}),_ce=f$e({DenseMatrix:Ar,Spa:Qce,SparseMatrix:ha,abs:dl,addScalar:ga,divideScalar:Gs,equalScalar:Br,larger:ml,matrix:Bn,multiplyScalar:lo,subtractScalar:vg,typed:qe,unaryMinus:Ff}),Jnt=p$e({Complex:WA,add:Ur,ctranspose:YH,deepEqual:zH,divideScalar:Gs,dot:hR,dotDivide:sD,equal:wg,inv:vB,matrix:Bn,multiply:OA,typed:qe}),Th=C$e({Complex:WA,config:Kt,fraction:rD,identity:iC,inv:vB,matrix:Bn,multiply:OA,number:rp,typed:qe}),Dce=B$e({DenseMatrix:Ar,Index:xc,compareNatural:Rf,size:nc,subset:xu,typed:qe}),Vnt=v$e({Index:xc,concat:Jr,setIntersect:Dce,setSymDifference:yce,size:nc,subset:xu,typed:qe}),znt=Q$e({abs:dl,add:Ur,identity:iC,inv:vB,map:IB,max:XH,multiply:OA,size:nc,sqrt:Rh,subtract:No,typed:qe}),Ni=D$e({BigNumber:Qn,Complex:WA,Fraction:pB,abs:dl,addScalar:ga,config:Kt,divideScalar:Gs,equal:wg,fix:Bce,format:dy,isNumeric:BB,multiplyScalar:lo,number:rp,pow:Th,round:py,subtractScalar:vg}),Wnt=uVe({BigNumber:Qn,Unit:Ni,config:Kt}),jnt=JVe({BigNumber:Qn,Unit:Ni,config:Kt}),Znt=RVe({BigNumber:Qn,Unit:Ni,config:Kt}),Xnt=fVe({BigNumber:Qn,Unit:Ni,config:Kt}),$nt=kVe({BigNumber:Qn,Unit:Ni,config:Kt}),eit=dVe({BigNumber:Qn,Unit:Ni,config:Kt}),tit=gVe({BigNumber:Qn,Unit:Ni,config:Kt}),nit=DVe({BigNumber:Qn,Unit:Ni,config:Kt}),iit=S$e({DenseMatrix:Ar,SparseMatrix:ha,concat:Jr,equalScalar:Br,matrix:Bn,pow:Th,typed:qe}),rit=lVe({BigNumber:Qn,Unit:Ni,config:Kt}),Ait=hVe({BigNumber:Qn,Unit:Ni,config:Kt}),sit=N$e({abs:dl,add:Ur,identity:iC,inv:vB,multiply:OA,typed:qe}),oit=LVe({BigNumber:Qn,Unit:Ni,config:Kt}),bce=F$e({addScalar:ga,ceil:ZH,conj:mB,divideScalar:Gs,dotDivide:sD,exp:ice,i:Xae,log2:rce,matrix:Bn,multiplyScalar:lo,pow:Th,tau:ece,typed:qe}),$H=T$e({BigNumber:Qn,Complex:WA,config:Kt,multiplyScalar:lo,pow:Th,typed:qe}),ait=sVe({BigNumber:Qn,Unit:Ni,config:Kt}),cit=wVe({BigNumber:Qn,Unit:Ni,config:Kt}),lit=L$e({conj:mB,dotDivide:sD,fft:bce,typed:qe}),uit=IVe({BigNumber:Qn,Unit:Ni,config:Kt}),git=OVe({BigNumber:Qn,Unit:Ni,config:Kt}),hit=cVe({BigNumber:Qn,Unit:Ni,config:Kt}),fit=VVe({BigNumber:Qn,Unit:Ni,config:Kt}),dit=PVe({BigNumber:Qn,Unit:Ni,config:Kt}),pit=bVe({BigNumber:Qn,Unit:Ni,config:Kt}),mit=CVe({BigNumber:Qn,Unit:Ni,config:Kt}),Cit=$Ve({BigNumber:Qn,Unit:Ni,config:Kt}),Iit=jVe({BigNumber:Qn,Unit:Ni,config:Kt}),Bit=e6e({BigNumber:Qn,Unit:Ni,config:Kt}),Eit=_Ve({BigNumber:Qn,Unit:Ni,config:Kt}),vit=SVe({BigNumber:Qn,Unit:Ni,config:Kt}),yit=aVe({BigNumber:Qn,Unit:Ni,config:Kt}),Qit=MVe({BigNumber:Qn,Unit:Ni,config:Kt}),wit=KVe({BigNumber:Qn,Unit:Ni,config:Kt}),_it=AVe({BigNumber:Qn,Unit:Ni,config:Kt}),Dit=qVe({BigNumber:Qn,Unit:Ni,config:Kt}),bit=NVe({BigNumber:Qn,Unit:Ni,config:Kt}),Sit=TVe({BigNumber:Qn,Unit:Ni,config:Kt}),Mit=BVe({BigNumber:Qn,Unit:Ni,config:Kt}),Nit=O$e({Unit:Ni,typed:qe}),rc=H$e({divideScalar:Gs,equalScalar:Br,inv:vB,matrix:Bn,multiply:OA,typed:qe}),xit=vVe({BigNumber:Qn,Unit:Ni,config:Kt}),oD=K$e({gamma:$H,typed:qe}),Fit=UVe({BigNumber:Qn,Unit:Ni,config:Kt}),Rit=WVe({BigNumber:Qn,Unit:Ni,config:Kt}),Tit=pVe({BigNumber:Qn,Unit:Ni,config:Kt}),Sce=J$e({DenseMatrix:Ar,lsolve:uce,lup:_ce,matrix:Bn,slu:pce,typed:qe,usolve:VH}),kit=mVe({BigNumber:Qn,Unit:Ni,config:Kt}),Lit=zVe({BigNumber:Qn,Unit:Ni,config:Kt}),Uit=z$e({add:Ur,divide:rc,factorial:oD,isInteger:jl,isPositive:CB,multiply:OA,typed:qe}),Oit=j$e({factorial:oD,typed:qe}),Git=ZVe({BigNumber:Qn,Unit:Ni,config:Kt}),Pit=X$e({add:Ur,cbrt:cce,divide:rc,equalScalar:Br,im:OH,isZero:xf,multiply:OA,re:GH,sqrt:Rh,subtract:No,typeOf:PH,typed:qe,unaryMinus:Ff}),Hit=eet({compareNatural:Rf,typed:qe}),Yit=ret({abs:dl,add:Ur,bignumber:yg,divide:rc,isNegative:nC,isPositive:CB,larger:ml,map:IB,matrix:Bn,max:XH,multiply:OA,smaller:pl,subtract:No,typed:qe,unaryMinus:Ff}),Mce=set({bignumber:yg,addScalar:ga,combinations:aR,divideScalar:Gs,factorial:oD,isInteger:jl,isNegative:nC,larger:ml,multiplyScalar:lo,number:rp,pow:Th,subtractScalar:vg,typed:qe}),Kit=aet({Unit:Ni,typed:qe}),qit=uet({addScalar:ga,isInteger:jl,isNegative:nC,stirlingS2:Mce,typed:qe}),Nce=pet({abs:dl,add:Ur,addScalar:ga,atan:nce,bignumber:yg,column:wce,complex:cR,config:Kt,cos:LH,diag:lce,divideScalar:Gs,dot:hR,equal:wg,flatten:nD,im:OH,inv:vB,larger:ml,matrix:Bn,matrixFromColumns:KH,multiply:OA,multiplyScalar:lo,number:rp,qr:qH,re:GH,reshape:oce,sin:uR,size:nc,smaller:pl,sqrt:Rh,subtract:No,typed:qe,usolve:VH,usolveAll:mce}),Jit=yVe({BigNumber:Qn,Unit:Ni,config:Kt}),Vit=GVe({BigNumber:Qn,Unit:Ni,config:Kt}),zit=Cet({divide:rc,dotDivide:sD,isNumeric:BB,log:WH,map:IB,matrix:Bn,multiply:OA,sum:jH,typed:qe}),xce=vre({add:Ur,divide:rc,typed:qe}),Wit=HVe({BigNumber:Qn,Unit:Ni,config:Kt}),jit=oVe({BigNumber:Qn,Unit:Ni,config:Kt}),Zit=Qre({bignumber:yg,add:Ur,compare:EB,divide:rc,isInteger:jl,larger:ml,multiply:OA,partitionSelect:fR,smaller:pl,smallerEq:my,subtract:No,typed:qe}),e8=_re({add:Ur,apply:HH,divide:rc,isNaN:iD,multiply:OA,subtract:No,typed:qe}),Xit=EVe({BigNumber:Qn,Unit:Ni,config:Kt}),Fce=Bet({add:Ur,compare:EB,divide:rc,partitionSelect:fR,typed:qe}),$it=vet({add:Ur,divide:rc,matrix:Bn,mean:xce,multiply:OA,pow:Th,sqrt:Rh,subtract:No,sum:jH,typed:qe}),ert=Qet({Complex:WA,add:Ur,divide:rc,matrix:Bn,multiply:OA,typed:qe}),trt=_et({abs:dl,map:IB,median:Fce,subtract:No,typed:qe}),nrt=Sre({map:IB,sqrt:Rh,typed:qe,variance:e8}),irt=bet({BigNumber:Qn,Complex:WA,add:Ur,config:Kt,divide:rc,equal:wg,factorial:oD,gamma:$H,isNegative:nC,multiply:OA,pi:kH,pow:Th,sin:uR,smallerEq:my,subtract:No,typed:qe}),t8=Net({abs:dl,add:Ur,conj:mB,ctranspose:YH,eigs:Nce,equalScalar:Br,larger:ml,matrix:Bn,multiply:OA,pow:Th,smaller:pl,sqrt:Rh,typed:qe}),Rce=Fet({BigNumber:Qn,DenseMatrix:Ar,SparseMatrix:ha,addScalar:ga,config:Kt,cos:LH,matrix:Bn,multiplyScalar:lo,norm:t8,sin:uR,typed:qe,unaryMinus:Ff}),rrt=XVe({BigNumber:Qn,Unit:Ni,config:Kt}),Tce=Tet({identity:iC,matrix:Bn,multiply:OA,norm:t8,qr:qH,subtract:No,typed:qe}),Art=Let({multiply:OA,rotationMatrix:Rce,typed:qe}),kce=Oet({abs:dl,add:Ur,concat:Jr,identity:iC,index:Ece,lusolve:Sce,matrix:Bn,matrixFromColumns:KH,multiply:OA,range:Cy,schur:Tce,subset:xu,subtract:No,transpose:AD,typed:qe}),srt=Pet({matrix:Bn,multiply:OA,sylvester:kce,transpose:AD,typed:qe}),Iy={},aD={},Lce={},Fc=RGe({mathWithTransform:aD}),By=i3e({Node:Fc}),Ap=g3e({Node:Fc}),yB=f3e({Node:Fc}),Uce=p3e({Node:Fc}),Ey=C3e({Node:Fc}),Oce=B3e({Node:Fc,ResultSet:$ae}),Gce=v3e({Node:Fc}),rC=Q3e({Node:Fc}),Pce=_3e({Node:Fc}),ort=S3e({classes:Lce}),n8=x3e({math:Iy,typed:qe}),Hce=R3e({Node:Fc,typed:qe}),art=k3e({Chain:n8,typed:qe}),vy=U3e({Node:Fc,size:nc}),yy=G3e({Node:Fc,subset:xu}),Yce=Y3e({matrix:Bn,Node:Fc,subset:xu}),AC=J3e({Unit:Ni,Node:Fc,math:Iy}),sC=z3e({Node:Fc,SymbolNode:AC,math:Iy}),kh=j3e({AccessorNode:yy,ArrayNode:Ey,AssignmentNode:Yce,BlockNode:Oce,ConditionalNode:Gce,ConstantNode:rC,FunctionAssignmentNode:Hce,FunctionNode:sC,IndexNode:vy,ObjectNode:By,OperatorNode:Ap,ParenthesisNode:yB,RangeNode:Pce,RelationalNode:Uce,SymbolNode:AC,config:Kt,numeric:Qg,typed:qe}),Kce=$3e({ConstantNode:rC,FunctionNode:sC,OperatorNode:Ap,ParenthesisNode:yB,parse:kh,typed:qe}),i8=rPe({bignumber:yg,fraction:rD,AccessorNode:yy,ArrayNode:Ey,ConstantNode:rC,FunctionNode:sC,IndexNode:vy,ObjectNode:By,OperatorNode:Ap,SymbolNode:AC,config:Kt,mathWithTransform:aD,matrix:Bn,typed:qe}),crt=sPe({parse:kh,typed:qe}),r8=aPe({AccessorNode:yy,ArrayNode:Ey,ConstantNode:rC,FunctionNode:sC,IndexNode:vy,ObjectNode:By,OperatorNode:Ap,ParenthesisNode:yB,SymbolNode:AC,add:Ur,divide:rc,equal:wg,isZero:xf,multiply:OA,parse:kh,pow:Th,subtract:No,typed:qe}),dR=lPe({parse:kh,typed:qe}),qce=hPe({evaluate:dR}),Jce=pPe({evaluate:dR,parse:kh}),pR=IPe({AccessorNode:yy,ArrayNode:Ey,ConstantNode:rC,FunctionNode:sC,IndexNode:vy,ObjectNode:By,OperatorNode:Ap,ParenthesisNode:yB,SymbolNode:AC,equal:wg,parse:kh,replacer:tce,resolve:Kce,simplifyConstant:i8,simplifyCore:r8,typed:qe}),lrt=EPe({OperatorNode:Ap,parse:kh,simplify:pR,typed:qe}),urt=yPe({parse:kh,typed:qe}),grt=wPe({Parser:Jce,typed:qe}),hrt=DPe({bignumber:yg,fraction:rD,AccessorNode:yy,ArrayNode:Ey,ConstantNode:rC,FunctionNode:sC,IndexNode:vy,ObjectNode:By,OperatorNode:Ap,ParenthesisNode:yB,SymbolNode:AC,add:Ur,config:Kt,divide:rc,equal:wg,isZero:xf,mathWithTransform:aD,matrix:Bn,multiply:OA,parse:kh,pow:Th,simplify:pR,simplifyConstant:i8,simplifyCore:r8,subtract:No,typed:qe}),frt=SPe({ConstantNode:rC,FunctionNode:sC,OperatorNode:Ap,ParenthesisNode:yB,SymbolNode:AC,config:Kt,equal:wg,isZero:xf,numeric:Qg,parse:kh,simplify:pR,typed:qe}),drt=rYe({Help:qce,mathWithTransform:aD,typed:qe});aa(Iy,{e:Zae,false:Het,fineStructure:Yet,i:Xae,Infinity:Ket,LN10:qet,LOG10E:Jet,NaN:Vet,null:zet,phi:Wet,SQRT1_2:Zet,sackurTetrode:Xet,tau:ece,true:$et,E:Zae,version:ett,efimovFactor:ttt,LN2:ntt,pi:kH,replacer:tce,reviver:ort,SQRT2:itt,typed:qe,PI:kH,weakMixingAngle:rtt,abs:dl,acos:Att,acot:stt,acsc:ott,addScalar:ga,arg:att,asech:ctt,asinh:ltt,atan:nce,atanh:utt,bigint:gtt,bitNot:htt,boolean:ftt,clone:dtt,combinations:aR,complex:cR,conj:mB,cos:LH,cot:ptt,csc:mtt,cube:Ctt,equalScalar:Br,erf:Itt,exp:ice,expm1:Btt,filter:Ett,flatten:nD,forEach:vtt,format:dy,getMatrixDataType:UH,hex:ytt,im:OH,isInteger:jl,isNegative:nC,isPositive:CB,isZero:xf,LOG2E:Qtt,lgamma:wtt,log10:_tt,log2:rce,map:IB,multiplyScalar:lo,not:lR,number:rp,oct:Dtt,pickRandom:btt,print:Stt,random:Mtt,re:GH,sec:Ntt,sign:Ace,sin:uR,splitUnit:xtt,square:Ftt,string:Rtt,subtractScalar:vg,tan:Ttt,typeOf:PH,acosh:ktt,acsch:Ltt,apply:HH,asec:Utt,bignumber:yg,chain:art,combinationsWithRep:Ott,cosh:Gtt,csch:Ptt,isNaN:iD,isPrime:Htt,randomInt:Ytt,sech:Ktt,sinh:qtt,sparse:Jtt,sqrt:Rh,squeeze:Vtt,tanh:ztt,unaryMinus:Ff,acoth:Wtt,bin:jtt,coth:Ztt,fraction:rD,isNumeric:BB,matrix:Bn,matrixFromFunction:Xtt,mode:$tt,numeric:Qg,prod:sce,reshape:oce,size:nc,transpose:AD,xgcd:ace,zeros:ic,asin:ent,cbrt:cce,concat:Jr,count:tnt,ctranspose:YH,diag:lce,divideScalar:Gs,dotDivide:sD,equal:wg,hasNumericValue:nnt,identity:iC,kron:int,largerEq:gR,leftShift:rnt,lsolve:uce,matrixFromColumns:KH,nthRoot:Ant,ones:snt,qr:qH,resize:ont,rightArithShift:ant,round:py,smaller:pl,subtract:No,to:cnt,unaryPlus:JH,usolve:VH,xor:lnt,add:Ur,atan2:unt,bitAnd:gnt,bitOr:hnt,bitXor:fnt,catalan:dnt,compare:EB,compareText:gce,cumsum:pnt,deepEqual:zH,diff:mnt,distance:Cnt,dot:hR,equalText:Int,floor:hce,gcd:Bnt,hypot:Ent,larger:ml,log:WH,lsolveAll:vnt,matrixFromRows:ynt,min:Qnt,mod:dce,multiply:OA,nthRoots:wnt,or:_nt,partitionSelect:fR,rightLogShift:Dnt,slu:pce,subset:xu,sum:jH,trace:bnt,usolveAll:mce,zpk2tf:Snt,ceil:ZH,compareNatural:Rf,composition:Mnt,cross:Nnt,det:Cce,dotMultiply:xnt,fix:Bce,index:Ece,intersect:Fnt,invmod:Rnt,lcm:Tnt,log1p:knt,max:XH,setCartesian:Lnt,setDistinct:Unt,setIsSubset:Ont,setPowerset:Gnt,smallerEq:my,sort:Pnt,unequal:Hnt,and:Ynt,range:Cy,row:Knt,setDifference:vce,setMultiplicity:qnt,setSymDifference:yce,column:wce,inv:vB,lup:_ce,pinv:Jnt,pow:Th,setIntersect:Dce,setUnion:Vnt,sqrtm:znt,vacuumImpedance:Wnt,wienDisplacement:jnt,atomicMass:Znt,bohrMagneton:Xnt,boltzmann:$nt,conductanceQuantum:eit,coulomb:tit,deuteronMass:nit,dotPow:iit,electricConstant:rit,elementaryCharge:Ait,expm:sit,faraday:oit,fft:bce,gamma:$H,gravitationConstant:ait,hartreeEnergy:cit,ifft:lit,klitzing:uit,loschmidt:git,magneticConstant:hit,molarMass:fit,molarPlanckConstant:dit,neutronMass:pit,nuclearMagneton:mit,planckCharge:Cit,planckLength:Iit,planckTemperature:Bit,protonMass:Eit,quantumOfCirculation:vit,reducedPlanckConstant:yit,rydberg:Qit,secondRadiation:wit,speedOfLight:_it,stefanBoltzmann:Dit,thomsonCrossSection:bit,avogadro:Sit,bohrRadius:Mit,createUnit:Nit,divide:rc,electronMass:xit,factorial:oD,firstRadiation:Fit,gravity:Rit,inverseConductanceQuantum:Tit,lusolve:Sce,magneticFluxQuantum:kit,molarMassC12:Lit,multinomial:Uit,parse:kh,permutations:Oit,planckMass:Git,polynomialRoot:Pit,resolve:Kce,setSize:Hit,simplifyConstant:i8,solveODE:Yit,stirlingS2:Mce,unit:Kit,bellNumbers:qit,compile:crt,eigs:Nce,fermiCoupling:Jit,gasConstant:Vit,kldivergence:zit,mean:xce,molarVolume:Wit,planckConstant:jit,quantileSeq:Zit,simplifyCore:r8,variance:e8,classicalElectronRadius:Xit,evaluate:dR,median:Fce,simplify:pR,symbolicEqual:lrt,corr:$it,freqz:ert,leafCount:urt,mad:trt,parser:grt,rationalize:hrt,std:nrt,zeta:irt,derivative:frt,norm:t8,rotationMatrix:Rce,help:drt,planckTime:rrt,schur:Tce,rotate:Art,sylvester:kce,lyap:srt,config:Kt}),aa(aD,Iy,{filter:hYe({typed:qe}),forEach:CYe({typed:qe}),map:vYe({typed:qe}),apply:DYe({isInteger:jl,typed:qe}),or:JYe({DenseMatrix:Ar,concat:Jr,equalScalar:Br,matrix:Bn,typed:qe}),and:nKe({add:Ur,concat:Jr,equalScalar:Br,matrix:Bn,not:lR,typed:qe,zeros:ic}),concat:sKe({isInteger:jl,matrix:Bn,typed:qe}),max:gKe({config:Kt,larger:ml,numeric:Qg,typed:qe}),print:dKe({add:Ur,matrix:Bn,typed:qe,zeros:ic}),bitAnd:wKe({add:Ur,concat:Jr,equalScalar:Br,matrix:Bn,not:lR,typed:qe,zeros:ic}),diff:bKe({bignumber:yg,matrix:Bn,number:rp,subtract:No,typed:qe}),min:xKe({config:Kt,numeric:Qg,smaller:pl,typed:qe}),subset:OKe({add:Ur,matrix:Bn,typed:qe,zeros:ic}),bitOr:WKe({DenseMatrix:Ar,concat:Jr,equalScalar:Br,matrix:Bn,typed:qe}),cumsum:XKe({add:Ur,typed:qe,unaryPlus:JH}),index:tqe({Index:xc,getMatrixDataType:UH}),sum:rqe({add:Ur,config:Kt,numeric:Qg,typed:qe}),range:aqe({bignumber:yg,matrix:Bn,add:Ur,config:Kt,isPositive:CB,larger:ml,largerEq:gR,smaller:pl,smallerEq:my,typed:qe}),row:gqe({Index:xc,matrix:Bn,range:Cy,typed:qe}),column:pqe({Index:xc,matrix:Bn,range:Cy,typed:qe}),mean:Bqe({add:Ur,divide:rc,typed:qe}),quantileSeq:Qqe({add:Ur,bignumber:yg,compare:EB,divide:rc,isInteger:jl,larger:ml,multiply:OA,partitionSelect:fR,smaller:pl,smallerEq:my,subtract:No,typed:qe}),variance:Dqe({add:Ur,apply:HH,divide:rc,isNaN:iD,multiply:OA,subtract:No,typed:qe}),std:Nqe({map:IB,sqrt:Rh,typed:qe,variance:e8})}),aa(Lce,{BigNumber:Qn,Complex:WA,Fraction:pB,Matrix:oR,Node:Fc,ObjectNode:By,OperatorNode:Ap,ParenthesisNode:yB,Range:jet,RelationalNode:Uce,ResultSet:$ae,ArrayNode:Ey,BlockNode:Oce,ConditionalNode:Gce,ConstantNode:rC,DenseMatrix:Ar,RangeNode:Pce,Chain:n8,FunctionAssignmentNode:Hce,SparseMatrix:ha,IndexNode:vy,ImmutableDenseMatrix:fce,Index:xc,AccessorNode:yy,AssignmentNode:Yce,FibonacciHeap:Ice,Spa:Qce,Unit:Ni,SymbolNode:AC,FunctionNode:sC,Help:qce,Parser:Jce}),n8.createProxy(Iy);const prt=(n,e)=>({"bg-green-100":n,"bg-red-100":e});function mrt(n,e){if(1&n&&(pe(0,"div",18)(1,"strong"),Re(2,"Result:"),he(),Re(3),he()),2&n){const t=Cn();Xe("ngClass",s_(2,prt,!t.error,t.error)),ke(3),$r(" ",t.result," ")}}function Crt(n,e){if(1&n&&(pe(0,"span",21),Re(1),he()),2&n){const t=Cn().$implicit;ke(),$r(" (with ",t.variables,") ")}}function Irt(n,e){if(1&n){const t=TA();pe(0,"button",19),on("click",function(){const r=zn(t).$implicit;return $n(Cn().tryExample(r))}),Re(1),yn(2,Crt,2,1,"span",20),he()}if(2&n){const t=e.$implicit;ke(),$r(" ",t.expression," "),ke(),Xe("ngIf",t.variables)}}let Brt=(()=>{class n{constructor(){this.expression="(x + y)",this.variables='{"x": 3, "y": 4}',this.result=null,this.error=!1,this.examples=[{expression:"2 * sin(45 deg) + sqrt(16)",variables:""},{expression:"x^2 + y^2",variables:'{"x": 3, "y": 4}'},{expression:'derivative("x^2 + 2x", "x")',variables:""},{expression:"log(10) + ln(e)",variables:""},{expression:"round(2.7) + ceil(3.2)",variables:""}]}evaluate(){try{let t={};if(this.variables)try{t=JSON.parse(this.variables)}catch{throw new Error("Invalid variables format. Use valid JSON.")}const i=dR(this.expression,t);this.result="number"==typeof i?dy(i,{precision:14}):i.toString(),this.error=!1}catch(t){this.result=`Error: ${t.message}`,this.error=!0}}clear(){this.expression="",this.variables="",this.result=null,this.error=!1}tryExample(t){this.expression=t.expression,this.variables=t.variables,this.evaluate()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-math-parsing"]],decls:29,vars:4,consts:[["align","center"],[1,"container","mx-auto","p-6"],[1,"max-w-2xl","mx-auto","bg-white","p-6","rounded-lg","shadow"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","mb-2"],["placeholder","e.g., 2 * sin(45 deg)",1,"w-full","p-2","border","rounded",3,"ngModelChange","keyup.enter","ngModel"],["placeholder",'e.g., {"x": 10, "y": 5}',"value",'{"x": 10, "y": 5}',1,"w-full","p-2","border","rounded",3,"ngModelChange","keyup.enter","ngModel"],[1,"flex","gap-2","mb-4",2,"color","blueviolet"],[1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600",2,"background-color","#cccccc",3,"click"],[1,"px-4","py-2","bg-gray-500","text-white","rounded","hover:bg-gray-600",2,"background-color","#cccccc",3,"click"],["class","p-4 rounded",3,"ngClass",4,"ngIf"],[1,"mt-6"],[1,"font-bold","mb-2"],[1,"grid","gap-2"],["class","text-left p-2 hover:bg-gray-100 rounded",3,"click",4,"ngFor","ngForOf"],["align","right"],["routerLink","/StableReleases"],[1,"p-4","rounded",3,"ngClass"],[1,"text-left","p-2","hover:bg-gray-100","rounded",3,"click"],["class","text-sm text-gray-500",4,"ngIf"],[1,"text-sm","text-gray-500"]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),Re(4,"Math Expression Parser"),he(),mt(5,"hr"),pe(6,"div",4)(7,"label",5),Re(8,"Enter Expression:"),he(),pe(9,"input",6),lh("ngModelChange",function(s){return uf(r.expression,s)||(r.expression=s),s}),on("keyup.enter",function(){return r.evaluate()}),he()(),pe(10,"div",4)(11,"label",5),Re(12,"Variables (JSON format):"),he(),pe(13,"input",7),lh("ngModelChange",function(s){return uf(r.variables,s)||(r.variables=s),s}),on("keyup.enter",function(){return r.evaluate()}),he()(),pe(14,"div",8)(15,"button",9),on("click",function(){return r.evaluate()}),Re(16," Calculate "),he(),pe(17,"button",10),on("click",function(){return r.clear()}),Re(18," Clear "),he()(),yn(19,mrt,4,5,"div",11),pe(20,"div",12)(21,"h3",13),Re(22,"Example Expressions:"),he(),pe(23,"div",14),yn(24,Irt,3,2,"button",15),he()()()(),mt(25,"hr"),pe(26,"div",16)(27,"a",17),Re(28,"[Volver al Menu]"),he()()()),2&i&&(ke(9),ch("ngModel",r.expression),ke(4),ch("ngModel",r.variables),ke(6),Xe("ngIf",null!==r.result),ke(5),Xe("ngForOf",r.examples))},dependencies:[UA,xO,za,Cc,ff,pm,QI]})}}return n})();class Tf{constructor(e,t,i){this._index=e,this._value=t,this._selected=i}}let Qy=(()=>{class n{get _baseUrlNetCore(){return this.__baseUrlNetCore}set _baseUrlNetCore(t){this.__baseUrlNetCore=t}get _baseUrlNodeJs(){return this.__baseUrlNodeJs}set _baseUrlNodeJs(t){this.__baseUrlNodeJs=t}get _baseUrlSpringBoot(){return this.__baseUrlSpringBoot}set _baseUrlSpringBoot(t){this.__baseUrlSpringBoot=t}get _baseUrlDjango(){return this.__baseUrlDjango}set _baseUrlDjango(t){this.__baseUrlDjango=t}ngOnInit(){console.log("Calling MCSDService initialization..."),this._baseUrlNetCore=this._configService.getConfigValue("baseUrlNetCore"),this._baseUrlNodeJs=this._configService.getConfigValue("baseUrlNodeJs"),this._baseUrlSpringBoot=this._configService.getConfigValue("baseUrlSpringBoot"),this._baseUrlDjango=this._configService.getConfigValue("baseUrlDjango")}constructor(t,i){this.http=t,this._configService=i,this.HTTPOptions_Text={headers:new Wa({Accept:"application/text"}),responseType:"text"},this.HTTPOptions_JSON={headers:new Wa({"Content-Type":"application/json"}),responseType:"text"},this.__baseUrlNetCore="",this.__baseUrlNodeJs="",this.__baseUrlSpringBoot="",this.__baseUrlDjango="",console.log("Calling MCSDService constructor..."),this._baseUrlNetCore=this._configService.getConfigValue("baseUrlNetCore"),this._baseUrlNodeJs=this._configService.getConfigValue("baseUrlNodeJs"),this._baseUrlSpringBoot=this._configService.getConfigValue("baseUrlSpringBoot"),this._baseUrlDjango=this._configService.getConfigValue("baseUrlDjango")}_GetWebApiAppVersion(){return this.http.get(`${this._baseUrlNetCore}demos/_GetAppVersion`,this.HTTPOptions_Text)}getCSVLinkGET(){return this.http.get(this._baseUrlNetCore+"demos/_GetCSVLinkJsonGET")}getCSVLink(){return this.http.post(this._baseUrlNetCore+"demos/_GetCSVLinkJson",this.HTTPOptions_Text)}getInformeRemotoCSV(){return this.http.get(this._baseUrlNetCore+"demos/GenerarInformeCSVJson",this.HTTPOptions_Text)}getInformeRemotoCSV_STAT(){return this.http.get(this._baseUrlNetCore+"demos/GenerarInformeCSVJsonSTAT",this.HTTPOptions_Text)}_SetSTATPieCache(t){let i=`${t}demos/_SetSTATPieCache`;console.log("Setting STAT Pie data to cache :  "+i),this.http.get(i,this.HTTPOptions_Text).subscribe({next:s=>{console.log("_SetSTATPieCache - (return): "+s)},error:s=>{console.error("_SetSTATPieCache- (ERROR) : "+JSON.stringify(s.message))},complete:()=>{console.log("_SetSTATPieCache -  (COMPLETE)")}})}getInformeRemotoCSV_NodeJS(){let t=`${this._baseUrlNodeJs}GenerarInformeCSVJson`;console.warn(" REQUESTING URL : "+t);var i={headers:new Wa({Accept:"application/text"}),responseType:"text"};return this.http.get(t,i)}getLogRemoto(t){return this.http.get(`${this._baseUrlNetCore}demos/generarinformejson`)}getLogRemotoNodeJS(t){let i=`${this._baseUrlNetCore}demos/generarinformejson`,r=this.http.get(i,this.HTTPOptions_JSON);return console.log("getLogRemotoNodeJS : "+i),r}getInformeExcel(t){return this.http.get(this._baseUrlNetCore+"demos/generarinformexls",this.HTTPOptions_Text)}getLogStatPOST(){return this.http.post(`${this._baseUrlNetCore}demos/GetConsultaLogStatPost`,this.HTTPOptions_JSON)}getLogStatGET(){return this.http.get(`${this._baseUrlNetCore}demos/GetConsultaLogStatGet`)}_SetSTATBarCache(t){let i=`${t}demos/_SetSTATBarCache`;console.log("Setting STAT Bar data to cache :  "+i),this.http.get(i,this.HTTPOptions_Text).subscribe({next:s=>{console.log("_SetSTATBarCache - (return): "+s)},error:s=>{console.error("_SetSTATBarCache- (ERROR) : "+JSON.stringify(s.message))},complete:()=>{console.log("_SetSTATBarCache -  (COMPLETE)")}})}upload(t){const i=new FormData;i.append("file",t);let r=`${this._baseUrlNetCore}demos/_ZipDemoGetFileName`;console.log("[GENERATE ZIP FILE] - (UPLOADING FILE) url: "+r);const A=new yd("POST",r,i,{reportProgress:!0,responseType:"text"});return this.http.request(A)}SetZip(t){let i=`${this._baseUrlNetCore}demos/_SetZip?p_fileName=${t}`;return console.log("[GENERATE ZIP FILE] - [GETTING ZIP] - fileName: "+t),console.log("[GENERATE ZIP FILE] - [GETTING ZIP] - url     : "+i),this.http.get(i,this.HTTPOptions_JSON)}GetPDF(t){let i=`${this._baseUrlNetCore}demos/_GetPdf?subjectName=${t}`;console.log("[GENERATE PDF FILE] - [GETTING ZIP] - subjectName  : "+t),console.log("[GENERATE PDF FILE] - [GETTING ZIP] - url          : "+i);const r=new yd("GET",i,{reportProgress:!0,responseType:"text"});return this.http.request(r)}getRandomVertex(t,i){return this.http.get(`${this._baseUrlNetCore}demos/GenerateRandomVertex?p_vertexSize=${t}&p_sourcePoint=${i}`,this.HTTPOptions_Text)}getRandomVertexCpp(t,i){return this.http.get(`${this._baseUrlNetCore}demos/GenerateRandomVertex_CPP?p_vertexSize=${t}&p_sourcePoint=${i}`,this.HTTPOptions_Text)}getNewSort(){return this.http.get(`${this._baseUrlNetCore}demos/_NewSort`,this.HTTPOptions_Text)}getSort(t,i){return this.http.get(`${this._baseUrlNetCore}demos/_GetSort?p_sortAlgoritm=${t}&p_unsortedList=${i}`,this.HTTPOptions_Text)}getSort_CPP(t,i){return this.http.get(`${this._baseUrlNetCore}demos/_GetSort_CPP?p_sortAlgoritm=${t}&p_unsortedList=${i}`,this.HTTPOptions_Text)}_GetXmlData(){return this.http.get(`${this._baseUrlNetCore}demos/_GetXmlData`,this.HTTPOptions_Text)}_SetXmlDataToCache(t){let i=`${t}demos/_SetXmlDataToCache`;console.log("Setting XML data to cache :  "+i),this.http.get(i,this.HTTPOptions_Text).subscribe({next:s=>{console.log("_SetXmlDataToCache - (return): "+s)},error:s=>{console.error("_SetXmlDataToCache- (ERROR) : "+JSON.stringify(s.message))},complete:()=>{console.log("_SetXmlDataToCache -  (COMPLETE)")}})}_RegExEval(t,i){return this.http.get(`${this._baseUrlNetCore}demos/_RegExEval?p_tagSearch=${t}&p_textSearch=${i}`,this.HTTPOptions_Text)}_RegExEval_CPP(t,i){return this.http.get(`${this._baseUrlNetCore}demos/_RegExEval_CPP?p_tagSearch=${t}&p_textSearch=${i}`,this.HTTPOptions_Text)}SetLog(t,i,r=Q3.Info){let A,s=`${this._baseUrlNetCore}demos/_SetLog?p_logMsg=${i}&logType=${r.toString()}`;A=this.http.get(s,this.HTTPOptions_Text),A.subscribe({next:a=>{console.warn(t+" - [LOG] - [RESULT] : "+a)},error:a=>{console.error(t+" - [LOG] - [ERROR]  : "+a)},complete:()=>{console.info(t+" - [LOG] - [COMPLETE]")}})}_GetSudoku_NodeJS(){return this.http.get(`${this._baseUrlNodeJs}Sudoku_Generate_NodeJS`,this.HTTPOptions_JSON)}_GetSudoku(){return this.http.get(`${this._baseUrlNetCore}Demos/Sudoku_Generate_CPP`,this.HTTPOptions_Text)}_SolveSudoku(t){return this.http.get(`${this._baseUrlNetCore}Demos/Sudoku_Solve_CPP?p_matrix=${t}`,this.HTTPOptions_Text)}_SolveSudoku_NodeJS(t){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Solve_NodeJS?p_matrix=${t}`,this.HTTPOptions_Text)}uploadSudoku(t){const i=new FormData;i.append("file",t);let r=`${this._baseUrlNetCore}demos/Sudoku_Upload_File`;console.log("[SUDOKU] - (UPLOADING FILE) url: "+r);const A=new yd("POST",r,i,{reportProgress:!0,responseType:"text"});return this.http.request(A)}uploadBase64Image(t){let i=this._configService.getConfigValue("baseUrlNodeJsOcr");return this.http.post(i,{base64Image:t})}_TestNodeJs(){let t=this._configService.getConfigValue("baseUrlNodeJs")+"databaseconnect",i=this.http.get(t,this.HTTPOptions_JSON);return console.log("Testing Url : ["+t+"]"),i}_TestSprinbBoot(){let t=this._configService.getConfigValue("baseUrlSpringBoot")+"hello",i=this.http.get(t,this.HTTPOptions_Text);return console.log("Testing Url : ["+t+"]"),i}_TestDjango(){let t=this._configService.getConfigValue("baseUrlDjango"),i=this.http.get(t,this.HTTPOptions_Text);return console.log("Testing Url : ["+t+"]"),i}static{this.\u0275fac=function(i){return new(i||n)(cn(II),cn(Bm))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class mR{constructor(e,t,i){this.x=e,this.y=t,this.time=i||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class A8{constructor(e,t,i,r,A,s){this.startPoint=e,this.control2=t,this.control1=i,this.endPoint=r,this.startWidth=A,this.endWidth=s}static fromPoints(e,t){const i=this.calculateControlPoints(e[0],e[1],e[2]).c2,r=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new A8(e[1],i,r,e[2],t.start,t.end)}static calculateControlPoints(e,t,i){const r=e.x-t.x,A=e.y-t.y,s=t.x-i.x,o=t.y-i.y,a_x=(e.x+t.x)/2,a_y=(e.y+t.y)/2,c_x=(t.x+i.x)/2,c_y=(t.y+i.y)/2,l=Math.sqrt(r*r+A*A),u=Math.sqrt(s*s+o*o),f=u/(l+u),m=t.x-(c_x+(a_x-c_x)*f),p=t.y-(c_y+(a_y-c_y)*f);return{c1:new mR(a_x+m,a_y+p),c2:new mR(c_x+m,c_y+p)}}length(){let i,r,t=0;for(let A=0;A<=10;A+=1){const s=A/10,o=this.point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this.point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(A>0){const c=o-i,l=a-r;t+=Math.sqrt(c*c+l*l)}i=o,r=a}return t}point(e,t,i,r,A){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*r*(1-e)*e*e+A*e*e*e}}class CR{constructor(e,t={}){this.canvas=e,this.options=t,this._handleMouseDown=i=>{1===i.which&&(this._mouseButtonDown=!0,this._strokeBegin(i))},this._handleMouseMove=i=>{this._mouseButtonDown&&this._strokeMoveUpdate(i)},this._handleMouseUp=i=>{1===i.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(i))},this._handleTouchStart=i=>{i.preventDefault(),1===i.targetTouches.length&&this._strokeBegin(i.changedTouches[0])},this._handleTouchMove=i=>{i.preventDefault(),this._strokeMoveUpdate(i.targetTouches[0])},this._handleTouchEnd=i=>{i.target===this.canvas&&(i.preventDefault(),this._strokeEnd(i.changedTouches[0]))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this._strokeMoveUpdate=this.throttle?function vrt(n,e=250){let r,A,s,t=0,i=null;const o=()=>{t=Date.now(),i=null,r=n.apply(A,s),i||(A=null,s=[])};return function(...a){const c=Date.now(),l=e-(c-t);return A=this,s=a,l<=0||l>e?(i&&(clearTimeout(i),i=null),t=c,r=n.apply(A,s),i||(A=null,s=[])):i||(i=window.setTimeout(o,l)),r}}(CR.prototype._strokeUpdate,this.throttle):CR.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._ctx=e.getContext("2d"),this.clear(),this.on()}clear(){const e=this._ctx,t=this.canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(e,t={},i){const r=new Image,A=t.ratio||window.devicePixelRatio||1,s=t.width||this.canvas.width/A,o=t.height||this.canvas.height/A;this._reset(),r.onload=()=>{this._ctx.drawImage(r,0,0,s,o),i&&i()},r.onerror=a=>{i&&i(a)},r.src=e,this._isEmpty=!1}toDataURL(e="image/png",t){return"image/svg+xml"===e?this._toSVG():this.canvas.toDataURL(e,t)}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e){this.clear(),this._fromData(e,({color:t,curve:i})=>this._drawCurve({color:t,curve:i}),({color:t,point:i})=>this._drawDot({color:t,point:i})),this._data=e}toData(){return this._data}_strokeBegin(e){this._data.push({color:this.penColor,points:[]}),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)}_strokeUpdate(e){const r=this._createPoint(e.clientX,e.clientY),A=this._data[this._data.length-1],s=A.points,o=s.length>0&&s[s.length-1],a=!!o&&r.distanceTo(o)<=this.minDistance,c=A.color;if(!o||!o||!a){const l=this._addPoint(r);o?l&&this._drawCurve({color:c,curve:l}):this._drawDot({color:c,point:r}),s.push({time:r.time,x:r.x,y:r.y})}}_strokeEnd(e){this._strokeUpdate(e),"function"==typeof this.onEnd&&this.onEnd(e)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(e,t){const i=this.canvas.getBoundingClientRect();return new mR(e-i.left,t-i.top,(new Date).getTime())}_addPoint(e){const{_lastPoints:t}=this;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);const i=this._calculateCurveWidths(t[1],t[2]),r=A8.fromPoints(t,i);return t.shift(),r}return null}_calculateCurveWidths(e,t){const i=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,r=this._strokeWidth(i),A={end:r,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=r,A}_strokeWidth(e){return Math.max(this.maxWidth/(e+1),this.minWidth)}_drawCurveSegment(e,t,i){const r=this._ctx;r.moveTo(e,t),r.arc(e,t,i,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:e,curve:t}){const i=this._ctx,r=t.endWidth-t.startWidth,A=2*Math.floor(t.length());i.beginPath(),i.fillStyle=e;for(let s=0;s<A;s+=1){const o=s/A,a=o*o,c=a*o,l=1-o,u=l*l,h=u*l;let g=h*t.startPoint.x;g+=3*u*o*t.control1.x,g+=3*l*a*t.control2.x,g+=c*t.endPoint.x;let f=h*t.startPoint.y;f+=3*u*o*t.control1.y,f+=3*l*a*t.control2.y,f+=c*t.endPoint.y,this._drawCurveSegment(g,f,t.startWidth+c*r)}i.closePath(),i.fill()}_drawDot({color:e,point:t}){const i=this._ctx,r="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.beginPath(),this._drawCurveSegment(t.x,t.y,r),i.closePath(),i.fillStyle=e,i.fill()}_fromData(e,t,i){for(const r of e){const{color:A,points:s}=r;if(s.length>1)for(let o=0;o<s.length;o+=1){const a=s[o],c=new mR(a.x,a.y,a.time);this.penColor=A,0===o&&this._reset();const l=this._addPoint(c);l&&t({color:A,curve:l})}else this._reset(),i({color:A,point:s[0]})}}_toSVG(){const e=this._data,t=Math.max(window.devicePixelRatio||1,1),A=this.canvas.width/t,s=this.canvas.height/t,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width",this.canvas.width.toString()),o.setAttribute("height",this.canvas.height.toString()),this._fromData(e,({color:g,curve:f})=>{const d=document.createElement("path");if(!(isNaN(f.control1.x)||isNaN(f.control1.y)||isNaN(f.control2.x)||isNaN(f.control2.y))){const m=`M ${f.startPoint.x.toFixed(3)},${f.startPoint.y.toFixed(3)} C ${f.control1.x.toFixed(3)},${f.control1.y.toFixed(3)} ${f.control2.x.toFixed(3)},${f.control2.y.toFixed(3)} ${f.endPoint.x.toFixed(3)},${f.endPoint.y.toFixed(3)}`;d.setAttribute("d",m),d.setAttribute("stroke-width",(2.25*f.endWidth).toFixed(3)),d.setAttribute("stroke",g),d.setAttribute("fill","none"),d.setAttribute("stroke-linecap","round"),o.appendChild(d)}},({color:g,point:f})=>{const d=document.createElement("circle"),m="function"==typeof this.dotSize?this.dotSize():this.dotSize;d.setAttribute("r",m.toString()),d.setAttribute("cx",f.x.toString()),d.setAttribute("cy",f.y.toString()),d.setAttribute("fill",g),o.appendChild(d)});const c=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ${A} ${s}" width="${A}" height="${s}">`;let l=o.innerHTML;if(void 0===l){const g=document.createElement("dummy"),f=o.childNodes;g.innerHTML="";for(let d=0;d<f.length;d+=1)g.appendChild(f[d].cloneNode(!0));l=g.innerHTML}return"data:image/svg+xml;base64,"+btoa(c+l+"</svg>")}}const Vce=CR;class s8{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class yrt extends s8{constructor(e,t,i,r,A){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=A}}class zce extends s8{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Qrt extends s8{constructor(e){super(),this.element=e instanceof N?e.nativeElement:e}}class wrt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof yrt?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof zce?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Qrt?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class _rt extends wrt{constructor(e,t,i,r,A){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");o.parentNode.insertBefore(a,o),this.outletElement.appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=A}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||ks.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Drt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})();function Wce(n){return Array.isArray(n)?n:[n]}function Yo(n){return null==n?"":"string"==typeof n?n:`${n}px`}const Mrt=["addListener","removeListener"],Nrt=["addEventListener","removeEventListener"],xrt=["on","off"];function Na(n,e,t,i){if(_n(t)&&(i=t,t=void 0),i)return Na(n,e,t).pipe(sG(i));const[r,A]=function Trt(n){return _n(n.addEventListener)&&_n(n.removeEventListener)}(n)?Nrt.map(s=>o=>n[s](e,o,t)):function Frt(n){return _n(n.addListener)&&_n(n.removeListener)}(n)?Mrt.map(jce(n,e)):function Rrt(n){return _n(n.on)&&_n(n.off)}(n)?xrt.map(jce(n,e)):[];if(!r&&JO(n))return ya(s=>Na(s,e,t))(va(n));if(!r)throw new TypeError("Invalid event target");return new _r(s=>{const o=(...a)=>s.next(1<a.length?a:a[0]);return r(o),()=>A(o)})}function jce(n,e){return t=>i=>n[t](e,i)}const cD={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=cD;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(A=>{t=void 0,n(A)});return new Nr(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=cD;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=cD;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Lrt extends E4{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class krt extends I4{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=cD.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:A}=e;null!=t&&(null===(r=A[A.length-1])||void 0===r?void 0:r.id)!==t&&(cD.cancelAnimationFrame(t),e._scheduled=void 0)}});let o8,Ort=1;const IR={};function Zce(n){return n in IR&&(delete IR[n],!0)}const Grt={setImmediate(n){const e=Ort++;return IR[e]=!0,o8||(o8=Promise.resolve()),o8.then(()=>Zce(e)&&n()),e},clearImmediate(n){Zce(n)}},{setImmediate:Prt,clearImmediate:Hrt}=Grt,BR={setImmediate(...n){const{delegate:e}=BR;return(e?.setImmediate||Prt)(...n)},clearImmediate(n){const{delegate:e}=BR;return(e?.clearImmediate||Hrt)(n)},delegate:void 0};new class Krt extends E4{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Yrt extends I4{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=BR.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:A}=e;null!=t&&(null===(r=A[A.length-1])||void 0===r?void 0:r.id)!==t&&(BR.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function Xce(n,e=T1){return function Jrt(n){return AA((e,t)=>{let i=!1,r=null,A=null,s=!1;const o=()=>{if(A?.unsubscribe(),A=null,i){i=!1;const c=r;r=null,t.next(c)}s&&t.complete()},a=()=>{A=null,s&&t.complete()};e.subscribe(sA(t,c=>{i=!0,r=c,A||va(n(c)).subscribe(A=sA(t,o,a))},()=>{s=!0,(!i||!A||A.closed)&&t.complete()}))})}(()=>V2(n,e))}let a8;try{a8=typeof Intl<"u"&&Intl.v8BreakIterator}catch{a8=!1}let QB,lD=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?zM(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!a8)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(cn(ig))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zrt(){if(null==QB){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return QB=!1,QB;if("scrollBehavior"in document.documentElement.style)QB=!0;else{const n=Element.prototype.scrollTo;QB=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return QB}function ele(n){return n.composedPath?n.composedPath()[0]:n.target}function tle(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const jrt=new xn("cdk-dir-doc",{providedIn:"root",factory:function Zrt(){return ze(CA)}}),Xrt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let eAt=(()=>{class n{constructor(t){this.value="ltr",this.change=new ae,t&&(this.value=function $rt(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Xrt.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(cn(jrt,8))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),l8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),nAt=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new zi,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _r(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Xce(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ai()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(cs(A=>!A||r.indexOf(A)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,A)=>{this._scrollableContainsElement(A,t)&&i.push(A)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=function Srt(n){return n instanceof N?n.nativeElement:n}(i),A=t.getElementRef().nativeElement;do{if(r==A)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Na(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(cn(Fi),cn(lD),cn(CA,8))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nle=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new zi,this._changeListener=A=>{this._change.next(A)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const A=this._getWindow();A.addEventListener("resize",this._changeListener),A.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,A=r.getBoundingClientRect();return{top:-A.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-A.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Xce(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(cn(lD),cn(Fi),cn(CA,8))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ile=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),rle=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({imports:[l8,ile,l8,ile]})}}return n})();const sle=zrt();class rAt{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Yo(-this._previousScrollPosition.left),e.style.top=Yo(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,A=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),sle&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),sle&&(i.scrollBehavior=A,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class AAt{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(cs(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ole{enable(){}disable(){}attach(){}}function u8(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function ale(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class sAt{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();u8(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let oAt=(()=>{class n{constructor(t,i,r,A){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new ole,this.close=s=>new AAt(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new rAt(this._viewportRuler,this._document),this.reposition=s=>new sAt(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=A}static{this.\u0275fac=function(i){return new(i||n)(cn(nAt),cn(nle),cn(Fi),cn(CA))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class aAt{constructor(e){if(this.scrollStrategy=new ole,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class cAt{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let cle=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(cn(CA))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lAt=(()=>{class n extends cle{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const A=this._attachedOverlays;for(let s=A.length-1;s>-1;s--)if(A[s]._keydownEvents.observers.length>0){const o=A[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>o.next(r)):o.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(cn(CA),cn(Fi,8))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),uAt=(()=>{class n extends cle{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=A=>{this._pointerDownEventTarget=ele(A)},this._clickListener=A=>{const s=ele(A),o="click"===A.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let c=a.length-1;c>-1;c--){const l=a[c];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(l.overlayElement.contains(s)||l.overlayElement.contains(o))break;const u=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(A)):u.next(A)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(cn(CA),cn(lD),cn(Fi,8))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lle=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||tle()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let A=0;A<r.length;A++)r[A].remove()}const i=this._document.createElement("div");i.classList.add(t),tle()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(cn(CA),cn(lD))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class gAt{constructor(e,t,i,r,A,s,o,a,c,l=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=A,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._animationsDisabled=l,this._backdropElement=null,this._backdropClick=new zi,this._attachments=new zi,this._detachments=new zi,this._locationChanges=Nr.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new zi,this._outsidePointerEvents=new zi,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Rs(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Yo(this._config.width),e.height=Yo(this._config.height),e.minWidth=Yo(this._config.minWidth),e.minHeight=Yo(this._config.minHeight),e.maxWidth=Yo(this._config.maxWidth),e.maxHeight=Yo(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Wce(t||[]).filter(A=>!!A);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Qa(function Ale(...n){const e=C_(n),t=function Tye(n,e){return"number"==typeof GO(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?va(i[0]):Q0(t)(oo(i,e)):Ga}(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ule="cdk-overlay-connected-position-bounding-box",hAt=/([A-Za-z%]+)$/;class fAt{get positions(){return this._preferredPositions}constructor(e,t,i,r,A){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=A,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new zi,this._resizeSubscription=Nr.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(ule),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,A=[];let s;for(let o of this._preferredPositions){let a=this._getOriginPoint(e,r,o),c=this._getOverlayPoint(a,t,o),l=this._getOverlayFit(c,t,i,o);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(l,c,i)?A.push({position:o,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!s||s.overlayFit.visibleArea<l.visibleArea)&&(s={overlayFit:l,overlayPoint:c,originPoint:a,position:o,overlayRect:t})}if(A.length){let o=null,a=-1;for(const c of A){const l=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);l>a&&(a=l,o=c)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&wB(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ule),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,A;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;r="start"==i.originX?s:o}return t.left<0&&(r-=t.left),A="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(A-=t.top),{x:r,y:A}}_getOverlayPoint(e,t,i){let r,A;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,A="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+A}}_getOverlayFit(e,t,i,r){const A=hle(t);let{x:s,y:o}=e,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(s+=a),c&&(o+=c);let h=0-o,g=o+A.height-i.height,f=this._subtractOverflows(A.width,0-s,s+A.width-i.width),d=this._subtractOverflows(A.height,h,g),m=f*d;return{visibleArea:m,isCompletelyWithinViewport:A.width*A.height===m,fitsInViewportVertically:d===A.height,fitsInViewportHorizontally:f==A.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,A=i.right-t.x,s=gle(this._overlayRef.getConfig().minHeight),o=gle(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=o&&o<=A)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=hle(t),A=this._viewportRect,s=Math.max(e.x+r.width-A.width,0),o=Math.max(e.y+r.height-A.height,0),a=Math.max(A.top-i.top-e.y,0),c=Math.max(A.left-i.left-e.x,0);let l=0,u=0;return l=r.width<=A.width?c||-s:e.x<this._viewportMargin?A.left-i.left-e.x:0,u=r.height<=A.height?a||-o:e.y<this._viewportMargin?A.top-i.top-e.y:0,this._previousPushAmount={x:l,y:u},{x:e.x+l,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function dAt(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new cAt(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let A=0;A<t.length;A++)t[A].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let A,s,o,l,u,h;if("top"===t.overlayY)s=e.y,A=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)o=i.height-e.y+2*this._viewportMargin,A=i.height-o+this._viewportMargin;else{const g=Math.min(i.bottom-e.y+i.top,e.y),f=this._lastBoundingBoxSize.height;A=2*g,s=e.y-g,A>f&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-f/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+2*this._viewportMargin,l=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)u=e.x,l=i.right-e.x;else{const g=Math.min(i.right-e.x+i.left,e.x),f=this._lastBoundingBoxSize.width;l=2*g,u=e.x-g,l>f&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-f/2)}return{top:s,left:u,bottom:o,right:h,width:l,height:A}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const A=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Yo(i.height),r.top=Yo(i.top),r.bottom=Yo(i.bottom),r.width=Yo(i.width),r.left=Yo(i.left),r.right=Yo(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",A&&(r.maxHeight=Yo(A)),s&&(r.maxWidth=Yo(s))}this._lastBoundingBoxSize=i,wB(this._boundingBox.style,r)}_resetBoundingBoxStyles(){wB(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){wB(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),A=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const l=this._viewportRuler.getViewportScrollPosition();wB(i,this._getExactOverlayY(t,e,l)),wB(i,this._getExactOverlayX(t,e,l))}else i.position="static";let o="",a=this._getOffset(t,"x"),c=this._getOffset(t,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),i.transform=o.trim(),s.maxHeight&&(r?i.maxHeight=Yo(s.maxHeight):A&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Yo(s.maxWidth):A&&(i.maxWidth="")),wB(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},A=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(A=this._pushOverlayOnScreen(A,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(A.y+this._overlayRect.height)+"px":r.top=Yo(A.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},A=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(A=this._pushOverlayOnScreen(A,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(A.x+this._overlayRect.width)+"px":r.left=Yo(A.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ale(e,i),isOriginOutsideView:u8(e,i),isOverlayClipped:ale(t,i),isOverlayOutsideView:u8(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Wce(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof N)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function wB(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function gle(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(hAt);return t&&"px"!==t?null:parseFloat(e)}return n||null}function hle(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const fle="cdk-global-overlay-wrapper";class pAt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(fle),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:A,maxWidth:s,maxHeight:o}=i,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==A&&"100vh"!==A||o&&"100%"!==o&&"100vh"!==o),l=this._xPosition,u=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let g="",f="",d="";a?d="flex-start":"center"===l?(d="center",h?f=u:g=u):h?"left"===l||"end"===l?(d="flex-end",g=u):("right"===l||"start"===l)&&(d="flex-start",f=u):"left"===l||"start"===l?(d="flex-start",g=u):("right"===l||"end"===l)&&(d="flex-end",f=u),e.position=this._cssPosition,e.marginLeft=a?"0":g,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=a?"0":f,t.justifyContent=d,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(fle),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let mAt=(()=>{class n{constructor(t,i,r,A){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=A}global(){return new pAt}flexibleConnectedTo(t){return new fAt(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(cn(nle),cn(CA),cn(lD),cn(lle))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),CAt=0,vR=(()=>{class n{constructor(t,i,r,A,s,o,a,c,l,u,h,g){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=A,this._keyboardDispatcher=s,this._injector=o,this._ngZone=a,this._document=c,this._directionality=l,this._location=u,this._outsideClickDispatcher=h,this._animationsModuleType=g}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),A=this._createPortalOutlet(r),s=new aAt(t);return s.direction=s.direction||this._directionality.value,new gAt(A,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+CAt++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(gh)),new _rt(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(cn(oAt),cn(lle),cn(Tw),cn(mAt),cn(lAt),cn(ks),cn(Fi),cn(CA),cn(eAt),cn(h0),cn(uAt),cn(aL,8))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const IAt=new xn("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=ze(vR);return()=>n.scrollStrategies.reposition()}}),EAt={provide:IAt,deps:[vR],useFactory:function BAt(n){return()=>n.scrollStrategies.reposition()}};let vAt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({providers:[vR,EAt],imports:[l8,Drt,rle,rle]})}}return n})();const yAt=["fullScreenTpl"],QAt=["nspSmall"],wAt=["nspBig"],_At=["*"],dle=n=>({height:n});function DAt(n,e){if(1&n&&(pe(0,"div",3),mt(1,"div",4)(2,"canvas",null,2)(4,"div",5),i_(5),he()),2&n){const t=Cn();ke(),Xe("ngStyle",gf(2,dle,t.sectionHeight+"px")),ke(3),Xe("ngStyle",gf(4,dle,t.sectionHeight+"px"))}}let g8=(()=>{class n{renderer2;overlay;viewContainerRef;smallPad;bigPad;smallCanvas;bigCanvas;overlayRef;portal;signDataHistory=[];fullScreenWidth;fullScreenHeight;_isEmpty=!0;isFullScreen=!1;sectionHeight;get activePad(){return this.isFullScreen?this.bigPad:this.smallPad}options={};beginSign=new ae;endSign=new ae;fullScreenTpl;nspSmall;nspBig;fullScreen(){this.portal=new zce(this.fullScreenTpl,this.viewContainerRef),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block(),height:"100%",width:"100%"}),this.overlayRef.attach(this.portal),setTimeout(()=>{this.initBigPad();const{width:t,height:i}=this.options,r=this.bigCanvas.getContext("2d");r.save(),r.translate(this.fullScreenWidth,0),r.rotate(90*Math.PI/180),r.drawImage(this.smallCanvas,0,0,t,i,0,0,this.fullScreenHeight,this.fullScreenWidth),r.restore()},0),this.isFullScreen=!0}miniScreen(){this.smallPad.clear();const{width:t,height:i}=this.options,r=t/this.fullScreenHeight,A=i/this.fullScreenWidth,s=this.smallCanvas.getContext("2d");s.save(),s.translate(0,i),s.rotate(-90*Math.PI/180),s.drawImage(this.bigCanvas,0,0,this.fullScreenWidth,this.fullScreenHeight,0,0,this.fullScreenWidth*r,this.fullScreenHeight*A),s.restore(),this.overlayRef.dispose(),this.bigCanvas=null,this.bigPad=null,this.isFullScreen=!1}toData(){return this.activePad.toData()}fromData(t){this.activePad.fromData(t)}toDataURL(t){switch(t){case"image/jpeg":return this.activePad.toDataURL("image/jpeg");case"image/svg+xml":return this.activePad.toDataURL("image/svg+xml");default:return this.activePad.toDataURL()}}fromDataURL(t,i,r){this.activePad.fromDataURL(t,i,r)}revert(){this.signDataHistory.pop(),this.fromData(this.signDataHistory),0===this.signDataHistory.length&&this.setEmpty()}clear(){this.setEmpty(),this.signDataHistory=[],this.activePad.clear()}isEmpty(){return this._isEmpty}setDirty(){this._isEmpty=!1}setEmpty(){this._isEmpty=!0}getContext(){return this.isFullScreen?this.bigCanvas.getContext("2d"):this.smallCanvas.getContext("2d")}initBigPad(){this.bigCanvas=this.nspBig.nativeElement;const t=JSON.parse(JSON.stringify(this.options));this.fullScreenWidth=document.documentElement.clientWidth;const{width:i,height:r}=this.options;this.fullScreenHeight=this.fullScreenWidth*i/r;const s=document.documentElement.clientHeight-this.fullScreenHeight;this.sectionHeight=s/2,t.width=this.fullScreenWidth,t.height=this.fullScreenHeight;const{css:o}=t;this.bigCanvas.width=this.fullScreenWidth,this.bigCanvas.height=this.fullScreenHeight;for(const a in o)Object.prototype.hasOwnProperty.call(o,a)&&this.renderer2.setStyle(this.bigCanvas,a,o[a]);this.bigPad=new Vce(this.bigCanvas,t),this.bigPad.onBegin=this._onBegin.bind(this),this.bigPad.onEnd=this._onEnd.bind(this)}initSmallPad(){this.smallCanvas=this.nspSmall.nativeElement;const{width:t,height:i,css:r}=this.options;this.options.width=t||300,this.options.height=i||150,this.smallCanvas.width=this.options.width,this.smallCanvas.height=this.options.height;for(const A in r)Object.prototype.hasOwnProperty.call(r,A)&&this.renderer2.setStyle(this.smallCanvas,A,r[A]);this.smallPad=new Vce(this.smallCanvas,this.options),this.smallPad.onBegin=this._onBegin.bind(this),this.smallPad.onEnd=this._onEnd.bind(this)}_onBegin(){this.setDirty(),this.beginSign.emit()}_onEnd(){this.signDataHistory=this.toData(),this.endSign.emit()}setPadAttribute(t,i){this.bigPad&&(this.bigPad[t]=i),this.smallPad[t]=i}constructor(t,i,r){this.renderer2=t,this.overlay=i,this.viewContainerRef=r}ngAfterViewInit(){this.initSmallPad()}ngOnChanges(t){if(t.options.firstChange)return;const{dotSize:i,minWidth:r,maxWidth:A,throttle:s,minDistance:o,backgroundColor:a,penColor:c,velocityFilterWeight:l,width:u,height:h,css:g}=t.options.currentValue;if(i&&this.setPadAttribute("dotSize",i),r&&this.setPadAttribute("minWidth",r),A&&this.setPadAttribute("maxWidth",A),s&&this.setPadAttribute("throttle",s),o&&this.setPadAttribute("minDistance",o),a&&this.setPadAttribute("backgroundColor",a),c&&this.setPadAttribute("penColor",c),l&&this.setPadAttribute("velocityFilterWeight",l),u||h){const{width:f,height:d}=t.options.previousValue,m=this.smallPad.toDataURL(),p=new Image;p.src=m,p.onload=()=>{this.initSmallPad(),this.smallCanvas.getContext("2d").drawImage(p,0,0,f,d,0,0,u,h)}}if(g){if(this.bigCanvas)for(const f in g)Object.prototype.hasOwnProperty.call(g,f)&&this.renderer2.setStyle(this.bigCanvas,f,g[f]);if(this.smallCanvas)for(const f in g)Object.prototype.hasOwnProperty.call(g,f)&&this.renderer2.setStyle(this.smallCanvas,f,g[f])}}static \u0275fac=function(i){return new(i||n)(yt(ih),yt(vR),yt(xl))};static \u0275cmp=Ci({type:n,selectors:[["ngx-signature-pad"]],viewQuery:function(i,r){if(1&i&&(aA(yAt,5),aA(QAt,5),aA(wAt,5)),2&i){let A;Ii(A=Bi())&&(r.fullScreenTpl=A.first),Ii(A=Bi())&&(r.nspSmall=A.first),Ii(A=Bi())&&(r.nspBig=A.first)}},inputs:{options:"options"},outputs:{beginSign:"beginSign",endSign:"endSign"},features:[Js],ngContentSelectors:_At,decls:4,vars:0,consts:[["nspSmall",""],["fullScreenTpl",""],["nspBig",""],[1,"nsp-container"],[1,"section","left",2,"width","100%",3,"ngStyle"],[1,"section","right",2,"width","100%",3,"ngStyle"]],template:function(i,r){1&i&&(n_(),mt(0,"canvas",null,0),yn(2,DAt,6,6,"ng-template",null,1,uh))},dependencies:[JM],styles:[".nsp-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;left:0;top:0;width:100%;height:100vh;background:#fff}.nsp-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{flex:1}.nsp-container[_ngcontent-%COMP%]   .section.left[_ngcontent-%COMP%]{border-bottom:2px dashed #dedee5}.nsp-container[_ngcontent-%COMP%]   .section.right[_ngcontent-%COMP%]{border-top:2px dashed #dedee5}"]})}return n})(),bAt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=hr({type:n});static \u0275inj=lr({imports:[am,vAt]})}return n})();const SAt=["signature"],MAt=["video"],NAt=["canvas"],xAt=["_sourceList"],FAt=["_engineList"];function RAt(n,e){if(1&n&&mt(0,"img",28),2&n){const t=Cn();Xe("src",t.capturedImage,bs)("hidden",t.capturedImageHidden)}}function TAt(n,e){if(1&n&&(pe(0,"option",29),Re(1),he()),2&n){const t=e.$implicit;Xe("value",t._index)("selected",t._selected),ke(),Gi(t._value)}}function kAt(n,e){if(1&n&&(pe(0,"option",29),Re(1),he()),2&n){const t=e.$implicit;Xe("value",t._index)("selected",t._selected),ke(),Gi(t._value)}}let LAt=(()=>{class n{constructor(t){this.mcsdService=t,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[ORIGEN CAPTURA]",this.titleEngineList="[ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=0,this.selectedIndexEngines=0,this.detectedShapes=[],this.imageURL=null}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera()}ngAfterViewInit(){this.__sourceList=new Array,this.__sourceList.push(new Tf(0,"(SELECCIONE OPCION..)",!1)),this.__sourceList.push(new Tf(1,"(DESDE CANVAS)",!0)),this.__sourceList.push(new Tf(2,"(DESDE CAMARA)",!1)),this.__engineList=new Array,this.__engineList.push(new Tf(0,"(SELECCIONE OPCION..)",!1)),this.__engineList.push(new Tf(1,"(OCR / TESSERACT - javascript)",!0))}ngOnDestroy(){this.stopCamera()}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status="",console.log(`Selected Source : ${this.selectedIndex}`)}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex}onBeginSign(){}onEndSign(){}saveSignature(){if(1===(console.log("Saving signature..."),this.selectionChangeEngines(),this.selectedIndexEngines)){let t=this.signature?.toDataURL();this.uploadImage(t)}else this.status="Favor seleccione la opci\xf3n [ENGINE]"}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}uploadImage(t){this.statusButton="..parsing..",this.statusButtonSaveImage="..parsing..",this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!0,this.mcsdService.uploadBase64Image(t).subscribe(i=>{console.log("Image uploaded successfully:",i),this.status=JSON.parse(JSON.stringify(i)).message;const r=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(r),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1},i=>{console.error("Error uploading image:",i),this.status=i,this.statusButton="[save]"})}startCamera(){var t=this;return(0,St.A)(function*(){try{t.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:t.isFrontCamera?"user":"environment"}}),t.videoStream&&(t.videoElement.nativeElement.srcObject=t.videoStream)}catch(i){console.error("Error accessing the camera:",i)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(t=>t.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const t=this.videoElement.nativeElement,i=this.canvas.nativeElement,r=i.getContext("2d");r&&(i.width=t.videoWidth/4,i.height=t.videoHeight/4,console.log("width: "+i.width+" height: "+i.height),r.drawImage(t,0,0,i.width,i.height),this.capturedImage=i.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){1===(this.selectionChangeEngines(),this.selectedIndexEngines)?this.capturedImage&&this.uploadImage(this.capturedImage):this.status="Favor seleccione la opci\xf3n [ENGINE]"}dataURLToBlob(t){const i=atob(t.split(",")[1]),r=t.split(",")[0].split(":")[1].split(";")[0],A=new Uint8Array(i.length);for(let s=0;s<i.length;s++)A[s]=i.charCodeAt(s);return new Blob([A],{type:r})}flipCamera(){var t=this;return(0,St.A)(function*(){console.log("flippling camera"),t.isFrontCamera=!t.isFrontCamera,t.stopCamera(),yield t.startCamera()})()}static{this.\u0275fac=function(i){return new(i||n)(yt(Qy))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-ocr-photo-capture"]],viewQuery:function(i,r){if(1&i&&(aA(SAt,5),aA(MAt,7),aA(NAt,5),aA(xAt,5),aA(FAt,5)),2&i){let A;Ii(A=Bi())&&(r.signature=A.first),Ii(A=Bi())&&(r.videoElement=A.first),Ii(A=Bi())&&(r.canvas=A.first),Ii(A=Bi())&&(r._sourceList=A.first),Ii(A=Bi())&&(r._engineList=A.first)}},decls:53,vars:18,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[3,"click","disabled"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],["routerLink","/Dev"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(i,r){if(1&i){const A=TA();pe(0,"div",5)(1,"h1"),Re(2,"[MISCELANEOUS - OCR]"),he(),pe(3,"div",6),mt(4,"hr"),pe(5,"ngx-signature-pad",7,0),on("beginSign",function(){return zn(A),$n(r.onBeginSign())})("endSign",function(){return zn(A),$n(r.onEndSign())}),he(),mt(7,"hr"),pe(8,"input",8),on("click",function(){return zn(A),$n(r.saveSignature())}),he(),Re(9," | "),pe(10,"button",9),on("click",function(){return zn(A),$n(r.clearSignature())}),Re(11,"Clear Signature"),he(),mt(12,"br"),he(),pe(13,"div",10),mt(14,"hr"),pe(15,"div",11),mt(16,"video",12,1)(18,"canvas",13,2),he(),yn(20,RAt,1,2,"img",14),mt(21,"hr"),pe(22,"button",15),on("click",function(){return zn(A),$n(r.capturePhoto())}),Re(23),he(),Re(24," | "),pe(25,"button",15),on("click",function(){return zn(A),$n(r.saveImage())}),Re(26),he(),Re(27," | "),pe(28,"button",9),on("click",function(){return zn(A),$n(r.flipCamera())}),Re(29,"Flip Camera"),he()(),mt(30,"hr"),pe(31,"span",16),Re(32),he(),mt(33,"hr"),pe(34,"div",17)(35,"label",18)(36,"span",19),Re(37),he()(),Re(38," \xa0"),pe(39,"select",20,3),on("change",function(){return zn(A),$n(r.selectionChange())}),yn(41,TAt,2,3,"option",21),he()(),pe(42,"div",22)(43,"label",23)(44,"span",24),Re(45),he()(),Re(46," \xa0"),pe(47,"select",25,4),on("change",function(){return zn(A),$n(r.selectionChangeEngines())}),yn(49,kAt,2,3,"option",21),he()(),pe(50,"div",26)(51,"a",27),Re(52,"[Volver al Menu]"),he()()()}2&i&&(ke(3),Xe("hidden",r.hiddenCanvasContainer),ke(2),Xe("options",r.options),ke(3),Am("value",r.statusButton),Xe("disabled","..parsing.."==r.statusButton),ke(5),Xe("hidden",r.hiddenCameraContainer),ke(2),Xe("hidden",r.cameraContainerHidden),ke(),Ag(r.videoStyle),ke(4),Xe("ngIf",r.capturedImage),ke(2),Xe("disabled",r.captureButtonDisabled),ke(),Gi(r.captureButtonStatus),ke(2),Xe("disabled",r.saveImageButtonDisabled),ke(),Gi(r.statusButtonSaveImage),ke(6),Gi(r.status),ke(5),Gi(r.tituloListadOrigen),ke(4),Xe("ngForOf",r.__sourceList),ke(4),Gi(r.titleEngineList),ke(4),Xe("ngForOf",r.__engineList))},dependencies:[UA,za,Cc,wI,_I,g8],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})(),UAt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-stable-releases"]],decls:35,vars:0,consts:[["align","left"],["routerLink","/OcrPhotoCapture"],["routerLink","/Chat"],["routerLink","/Sudoku"],["routerLink","/Hanoi"],["routerLink","/Hanoi3d"],["routerLink","/TicTacToe"],["routerLink","/BouncingBall"],["routerLink","/Tetris"],["routerLink","/MathParsing"],["align","right"],["routerLink","/Home"]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"h2"),Re(2,"[Stable Releases]"),he(),pe(3,"ul")(4,"li")(5,"a",1),Re(6,"[OCR / COMPUTER VISION]"),he()(),pe(7,"li")(8,"a",2),Re(9,"[chat]"),he()(),pe(10,"li")(11,"a",3),Re(12,"[sudoku]"),he()(),pe(13,"li")(14,"a",4),Re(15,"[hanoi towers - [ALGORITMOS - RECURSION]]"),he()(),pe(16,"li")(17,"a",5),Re(18,"[Hanoi - 3d]"),he()(),pe(19,"li")(20,"a",6),Re(21,"[tic tac toe (offline) - [ALGORITMOS - MINMAX]]"),he()(),pe(22,"li")(23,"a",7),Re(24,"[Boucing Ball]"),he()(),pe(25,"li")(26,"a",8),Re(27,"[Tetris]"),he()(),pe(28,"li")(29,"a",9),Re(30,"[Math Parsing]"),he()()()(),mt(31,"hr"),pe(32,"div",10)(33,"a",11),Re(34,"[Volver al Inicio]"),he()())},dependencies:[UA]})}}return n})(),OAt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-dev"]],decls:38,vars:0,consts:[["align","left"],["routerLink","/HanoiAuto"],["routerLink","/HanoiRjxs"],["routerLink","/RxJsPlayground"],["routerLink","/TicTacToeOnline"],["routerLink","/Ocr"],["routerLink","/BackendTesting"],["routerLink","/SpeechRecognition"],["routerLink","/ShapeRecognition"],["routerLink","/ShapeReconCanvas"],["routerLink","/WebAssembly"],["align","right"],["routerLink","/Home"]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"h1"),Re(2,"[Testing Releases]"),he(),pe(3,"ul")(4,"li")(5,"a",1),Re(6,"[Hanoi RxJS - Auto]"),he()(),pe(7,"li")(8,"a",2),Re(9,"[Hanoi RxJS - Manual]"),he()(),pe(10,"li")(11,"a",3),Re(12,"[RxJS Playground]"),he()(),pe(13,"li")(14,"a",4),Re(15,"[tic tac toe (online) - [ALGORITMOS - MINMAX]]"),he()(),pe(16,"li")(17,"a",5),Re(18,"[OCR]"),he()(),pe(19,"li")(20,"a",6),Re(21,"[Backend Testing]"),he()(),pe(22,"li")(23,"a",7),Re(24,"[Speech Recognition]"),he()(),pe(25,"li")(26,"a",8),Re(27,"[Shape Recognition]"),he()(),pe(28,"li")(29,"a",9),Re(30,"[Shape Recognition - Canvas]"),he()(),pe(31,"li")(32,"a",10),Re(33,"[Web Assemby Test]"),he()()()(),mt(34,"hr"),pe(35,"div",11)(36,"a",12),Re(37,"[Volver al Inicio]"),he()())},dependencies:[UA]})}}return n})(),GAt=(()=>{class n{constructor(t,i){this.backendervice=t,this.router=i,this.lblStatusNodeJs="",this.BtnTestNodeJSCaption="[TEST NODE.JS]",this.lblStatusSpringBoot="",this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]",this.lblStatusDjango="",this.BtnTestDjangoCaption="[TEST DJANGO]"}RedirectHome(){this.router.navigateByUrl("/Home")}TestNodeJs(){console.log("[TEST NODE.JS] \n"),this.BtnTestNodeJSCaption="...(retrieving data)...",this.backendervice._TestNodeJs().subscribe({next:r=>{this.lblStatusNodeJs=JSON.parse(r).recordsets[0][0].nombreCompleto,console.log("[TEST - NODEJS] - (return): "+this.lblStatusNodeJs),this.BtnTestNodeJSCaption="[TEST NODE.JS]"},error:r=>{console.error("[TEST - NODEJS] - (ERROR) : "+JSON.stringify(r.message)),this.lblStatusNodeJs=r.message,this.BtnTestNodeJSCaption="[TEST NODE.JS]"},complete:()=>{console.log("[TEST - NODEJS]  -  (COMPLETE)")}})}TestSpringBoot(){console.log("[TEST SPRINGBOOT] \n"),this.BtnTestSpringBootCaption="...(retrieving data)...",this.backendervice._TestSprinbBoot().subscribe({next:r=>{this.lblStatusSpringBoot=r,console.log("[TEST - NODEJS] - (return): "+this.lblStatusSpringBoot),this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"},error:r=>{let A=JSON.stringify(r.message);console.error("[TEST - SPRINBBOOT] - (ERROR) : "+A),this.lblStatusSpringBoot=A,this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"},complete:()=>{console.log("[TEST - springboot]  -  (COMPLETE)")}})}TestDjango(){console.log("[TEST SPRINGBOOT] \n"),this.BtnTestDjangoCaption="...(retrieving data)...",this.backendervice._TestDjango().subscribe({next:r=>{this.lblStatusDjango=r,console.log("[TEST - NODEJS] - (return): "+this.lblStatusDjango),this.BtnTestDjangoCaption="[TEST DJANGO]"},error:r=>{let A=JSON.stringify(r.message);console.error("[TEST - DJANGO] - (ERROR) : "+A),this.lblStatusDjango=A,this.BtnTestDjangoCaption="[TEST DJANGO]"},complete:()=>{console.log("[TEST - DJANGO]  -  (COMPLETE)")}})}static{this.\u0275fac=function(i){return new(i||n)(yt(Qy),yt(nl))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-unt-testing"]],decls:28,vars:9,consts:[["align","left"],["type","button",3,"click","value","disabled"],["id","lblStatusNodeJs"],["id","lblStatusSprinbBoot"],["id","lblStatusDjango"],["align","right"],["routerLink","/Dev"]],template:function(i,r){1&i&&(pe(0,"div",0),mt(1,"hr"),pe(2,"h1"),Re(3,"[NODE.JS]"),he(),mt(4,"br"),pe(5,"input",1),on("click",function(){return r.TestNodeJs()}),he(),mt(6,"br"),pe(7,"label",2),Re(8),he(),mt(9,"hr"),pe(10,"h1"),Re(11,"[SPRING BOOT]"),he(),pe(12,"input",1),on("click",function(){return r.TestSpringBoot()}),he(),mt(13,"br"),pe(14,"label",3),Re(15),he(),mt(16,"hr"),pe(17,"h1"),Re(18,"[PYTHON / DJANGO]"),he(),pe(19,"input",1),on("click",function(){return r.TestDjango()}),he(),mt(20,"br"),pe(21,"label",4),Re(22),he(),mt(23,"hr"),he(),mt(24,"hr"),pe(25,"div",5)(26,"a",6),Re(27,"[Volver al Menu]"),he()()),2&i&&(ke(5),Am("value",r.BtnTestNodeJSCaption),Xe("disabled","[TEST NODE.JS]"!=r.BtnTestNodeJSCaption),ke(3),$r("Test Result :[",r.lblStatusNodeJs,"]"),ke(4),Am("value",r.BtnTestSpringBootCaption),Xe("disabled","[TEST SPRINGBOOT]"!=r.BtnTestSpringBootCaption),ke(3),$r("Test Result :[",r.lblStatusSpringBoot,"]"),ke(4),Am("value",r.BtnTestDjangoCaption),Xe("disabled","[TEST DJANGO]"!=r.BtnTestDjangoCaption),ke(3),$r("Test Result :[",r.lblStatusDjango,"]"))},dependencies:[UA]})}}return n})();const PAt=["signature"];let HAt=(()=>{class n{constructor(t){this.backendService=t,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]"}onBeginSign(){}onEndSign(){}saveSignature(){console.log("Saving signature...");let t=this.signature?.toDataURL();console.log("Data URL:",t),this.uploadImage(t)}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}uploadImage(t){this.statusButton="..parsing..",this.backendService.uploadBase64Image(t).subscribe(i=>{console.log("Image uploaded successfully:",i),this.status=JSON.parse(JSON.stringify(i)).message,this.statusButton="[save]";const r=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(r)},i=>{console.error("Error uploading image:",i),this.status=i,this.statusButton="[save]"})}static{this.\u0275fac=function(i){return new(i||n)(yt(Qy))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-ocr"]],viewQuery:function(i,r){if(1&i&&aA(PAt,5),2&i){let A;Ii(A=Bi())&&(r.signature=A.first)}},decls:19,vars:4,consts:[["signature",""],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","right"],["routerLink","/Dev"]],template:function(i,r){if(1&i){const A=TA();pe(0,"h1"),Re(1,"[OCR]"),he(),mt(2,"hr"),pe(3,"div")(4,"ngx-signature-pad",1,0),on("beginSign",function(){return zn(A),$n(r.onBeginSign())})("endSign",function(){return zn(A),$n(r.onEndSign())}),he()(),mt(6,"hr"),pe(7,"input",2),on("click",function(){return zn(A),$n(r.saveSignature())}),he(),Re(8,"\n|\n"),pe(9,"button",3),on("click",function(){return zn(A),$n(r.clearSignature())}),Re(10,"Clear Signature"),he(),mt(11,"br")(12,"br"),pe(13,"span",4),Re(14),he(),mt(15,"hr"),pe(16,"div",5)(17,"a",6),Re(18,"[Volver al Menu]"),he()()}2&i&&(ke(4),Xe("options",r.options),ke(3),Am("value",r.statusButton),Xe("disabled","..parsing.."==r.statusButton),ke(7),Gi(r.status))},dependencies:[UA,g8],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}"]})}}return n})(),ple=(()=>{class n{constructor(){console.log("cv global variable : "+cv)}detectShapes(t){const i=[];if(cv.getBuildInformation){const r=cv.imread(t),A=new cv.Mat,s=new cv.Mat;cv.cvtColor(r,A,cv.COLOR_RGBA2GRAY,0),cv.Canny(A,s,50,150,3,!1);const o=new cv.MatVector,a=new cv.Mat;cv.findContours(s,o,a,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE);for(let c=0;c<o.size();c++){const l=o.get(c),u=new cv.Mat,h=.04*cv.arcLength(l,!0);cv.approxPolyDP(l,u,h,!0);let g="";if(3===u.rows)g="Tri\xe1ngulo";else if(4===u.rows){const f=cv.boundingRect(u),d=f.width/f.height;g=d>=.95&&d<=1.05?"Cuadrado":"Rect\xe1ngulo"}else u.rows>4&&(g="C\xedrculo");g&&i.push(g)}return r.delete(),A.delete(),s.delete(),o.delete(),a.delete(),i}return i}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const YAt=["video"];function KAt(n,e){if(1&n&&(pe(0,"div"),mt(1,"img",5),he()),2&n){const t=Cn();ke(),Xe("src",t.imageURL,bs)}}function qAt(n,e){if(1&n&&(pe(0,"li"),Re(1),he()),2&n){const t=e.$implicit;ke(),Gi(t)}}function JAt(n,e){if(1&n&&(pe(0,"div",6)(1,"h3"),Re(2,"Detected Shapes:"),he(),pe(3,"ul"),yn(4,qAt,2,1,"li",7),he()()),2&n){const t=Cn();ke(4),Xe("ngForOf",t.detectedShapes)}}let VAt=(()=>{class n{constructor(t,i){this.mcsdService=t,this.shapeDetectionService=i,this.detectedShapes=[],this.imageURL=null,this.videoStyle="width: 150px;height:150px; transform : scaleX(1);"}onFileSelected(t){const i=t.target.files[0];if(i){const r=new FileReader;r.onload=A=>{this.imageURL=A.target.result,this.detectShapes()},r.readAsDataURL(i)}}detectShapes(){const t=new Image;t.onload=()=>{const i=this.shapeDetectionService.detectShapes(t);this.detectedShapes=i;const r=new SpeechSynthesisUtterance(this.detectedShapes.toString());speechSynthesis.speak(r)},t.src=this.imageURL}ngAfterViewInit(){}static{this.\u0275fac=function(i){return new(i||n)(yt(Qy),yt(ple))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-open-cv-shape-recon"]],viewQuery:function(i,r){if(1&i&&aA(YAt,7),2&i){let A;Ii(A=Bi())&&(r.videoElement=A.first)}},decls:11,vars:2,consts:[["type","file",3,"change"],[4,"ngIf"],["align","center",4,"ngIf"],["align","right"],["routerLink","/Dev"],["alt","Uploaded Image",2,"max-width","100%","height","auto",3,"src"],["align","center"],[4,"ngFor","ngForOf"]],template:function(i,r){1&i&&(pe(0,"h4"),Re(1,"[MISCELANEOUS / SHAPE RECOGNITION]"),he(),mt(2,"hr"),pe(3,"div")(4,"input",0),on("change",function(s){return r.onFileSelected(s)}),he()(),yn(5,KAt,2,1,"div",1)(6,JAt,5,1,"div",2),mt(7,"hr"),pe(8,"div",3)(9,"a",4),Re(10,"[Volver al Menu]"),he()()),2&i&&(ke(5),Xe("ngIf",r.imageURL),ke(),Xe("ngIf",r.detectedShapes.length>0))},dependencies:[UA,za,Cc],styles:["input[type=file][_ngcontent-%COMP%]{margin-bottom:10px}img[_ngcontent-%COMP%]{margin-top:20px}","video[_ngcontent-%COMP%] {\n    \n\n    \n\n    width: 50%;\n    \n\n    height: 50%;\n    transform: scaleX(1);\n  }"]})}}return n})();function mle(n,e){return e?t=>U_(e.pipe(Rs(1),function zAt(){return AA((n,e)=>{n.subscribe(sA(e,es))})}()),t.pipe(mle(n))):ya((t,i)=>va(n(t,i)).pipe(Rs(1),j7(t)))}function hD(n,e=T1){const t=V2(n,e);return mle(()=>t)}let h8,f8,Cle=ai(1,2,3,4,5),Ile=[],Ble=["a","b","c","d","e"],Ele=new vA(null),WAt=Ele.asObservable();let XAt=(()=>{class n{constructor(){this.TestBasicObservable()}TestBasicObservable(){h8=oo(Cle).pipe(lm(t=>ai(t).pipe(hD(1e3)))),h8.subscribe({next(t){console.log("Observable emitted the next value from service to array : "+t),Ile.push(t)},error(t){console.error("Behaviour subject erro: "+t)},complete(){console.log("Observable complete notification"),function jAt(){Kte(1e3).pipe(Rs(Ble.length),tr(n=>Ble[n])).subscribe({next(n){console.log("Behaviour subject item : "+n),Ele.next(n)},error(n){console.error("Behaviour subject erro: "+n)},complete(){console.log("Behaviour subject complete notification"),function ZAt(){f8=oo(["A","B","C","D","E"]).pipe(lm(t=>ai(t).pipe(hD(1e3)))),f8.subscribe({next(t){console.log(`Iteration emitted Result: ${t}`)},error(t){console.error("Iteration emitted an error: "+t)},complete(){console.log("Iteration complete notification")}})}()}})}()}})}get CurrentValue(){return Ile}get Numbers(){return Cle}get CurrentItem(){return WAt}get delayedObservable(){return h8}get delayedObservableIteration(){return f8}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$At=(()=>{class n{constructor(t){this.service=t}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)(yt(XAt))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-rx-jsplayground"]],decls:18,vars:9,consts:[["align","right"],["routerLink","/Dev"]],template:function(i,r){1&i&&(pe(0,"h1"),Re(1,"[RXJS PLAYGROUND]"),he(),mt(2,"hr"),pe(3,"div"),Re(4),Rl(5,"async"),he(),mt(6,"hr"),pe(7,"div"),Re(8),Rl(9,"async"),he(),mt(10,"hr"),pe(11,"div"),Re(12),Rl(13,"async"),he(),mt(14,"hr"),pe(15,"div",0)(16,"a",1),Re(17,"[Volver al Menu]"),he()()),2&i&&(ke(4),$r(" Current observable value : ",Tl(5,3,r.service.delayedObservable),"\n"),ke(4),$r(" Current BehaviourSubject value : ",Tl(9,5,r.service.CurrentItem),"\n"),ke(4),$r(" Current Iteration value : ",Tl(13,7,r.service.delayedObservableIteration),"\n"))},dependencies:[UA,p0]})}}return n})();const est=["signature"],tst=["video"],nst=["canvas"],ist=["_sourceList"],rst=["_engineList"];function Ast(n,e){if(1&n&&mt(0,"img",28),2&n){const t=Cn();Xe("src",t.capturedImage,bs)("hidden",t.capturedImageHidden)}}function sst(n,e){if(1&n&&(pe(0,"option",29),Re(1),he()),2&n){const t=e.$implicit;Xe("value",t._index)("selected",t._selected),ke(),Gi(t._value)}}function ost(n,e){if(1&n&&(pe(0,"option",29),Re(1),he()),2&n){const t=e.$implicit;Xe("value",t._index)("selected",t._selected),ke(),Gi(t._value)}}let ast=(()=>{class n{constructor(t,i){this.backendService=t,this.shapeDetectionService=i,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[ORIGEN CAPTURA]",this.titleEngineList="[ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=0,this.selectedIndexEngines=0,this.detectedShapes=[]}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera()}ngAfterViewInit(){this.__sourceList=new Array,this.__sourceList.push(new Tf(0,"(SELECCIONE OPCION..)",!1)),this.__sourceList.push(new Tf(1,"(DESDE CANVAS)",!0)),this.__sourceList.push(new Tf(2,"(DESDE CAMARA)",!1)),this.__engineList=new Array,this.__engineList.push(new Tf(0,"(SELECCIONE OPCION..)",!1)),this.__engineList.push(new Tf(1,"(CV / OPENCV - javascript)",!0))}ngOnDestroy(){this.stopCamera()}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status="",console.log(`Selected Source : ${this.selectedIndex}`)}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex}onBeginSign(){}onEndSign(){}saveSignature(){1===(console.log("Saving signature..."),this.selectionChangeEngines(),this.selectedIndexEngines)?this.detectShapes(this.signature?.toDataURL()):this.status="Favor seleccione la opci\xf3n [ENGINE]"}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}startCamera(){var t=this;return(0,St.A)(function*(){try{t.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:t.isFrontCamera?"user":"environment"}}),t.videoStream&&(t.videoElement.nativeElement.srcObject=t.videoStream)}catch(i){console.error("Error accessing the camera:",i)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(t=>t.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const t=this.videoElement.nativeElement,i=this.canvas.nativeElement,r=i.getContext("2d");r&&(i.width=t.videoWidth/4,i.height=t.videoHeight/4,console.log("width: "+i.width+" height: "+i.height),r.drawImage(t,0,0,i.width,i.height),this.capturedImage=i.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){1===(this.selectionChangeEngines(),this.selectedIndexEngines)?this.capturedImage&&(this.detectShapes(this.capturedImage),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1):this.status="Favor seleccione la opci\xf3n [ENGINE]"}dataURLToBlob(t){const i=atob(t.split(",")[1]),r=t.split(",")[0].split(":")[1].split(";")[0],A=new Uint8Array(i.length);for(let s=0;s<i.length;s++)A[s]=i.charCodeAt(s);return new Blob([A],{type:r})}flipCamera(){var t=this;return(0,St.A)(function*(){console.log("flippling camera"),t.isFrontCamera=!t.isFrontCamera,t.stopCamera(),yield t.startCamera()})()}detectShapes(t){const i=new Image;i.onload=()=>{const r=this.shapeDetectionService.detectShapes(i);console.log("Detected Shapes "+r),this.detectedShapes=r,this.status=this.detectedShapes.toString();const A=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(A)},i.src=t}static{this.\u0275fac=function(i){return new(i||n)(yt(Qy),yt(ple))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-shape-recon-canvas"]],viewQuery:function(i,r){if(1&i&&(aA(est,5),aA(tst,7),aA(nst,5),aA(ist,5),aA(rst,5)),2&i){let A;Ii(A=Bi())&&(r.signature=A.first),Ii(A=Bi())&&(r.videoElement=A.first),Ii(A=Bi())&&(r.canvas=A.first),Ii(A=Bi())&&(r._sourceList=A.first),Ii(A=Bi())&&(r._engineList=A.first)}},decls:53,vars:18,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[3,"click","disabled"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],["routerLink","/Dev"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(i,r){if(1&i){const A=TA();pe(0,"div",5)(1,"h1"),Re(2,"[MISCELANEOUS - CV]"),he(),pe(3,"div",6),mt(4,"hr"),pe(5,"ngx-signature-pad",7,0),on("beginSign",function(){return zn(A),$n(r.onBeginSign())})("endSign",function(){return zn(A),$n(r.onEndSign())}),he(),mt(7,"hr"),pe(8,"input",8),on("click",function(){return zn(A),$n(r.saveSignature())}),he(),Re(9," | "),pe(10,"button",9),on("click",function(){return zn(A),$n(r.clearSignature())}),Re(11,"Clear Signature"),he(),mt(12,"br"),he(),pe(13,"div",10),mt(14,"hr"),pe(15,"div",11),mt(16,"video",12,1)(18,"canvas",13,2),he(),yn(20,Ast,1,2,"img",14),mt(21,"hr"),pe(22,"button",15),on("click",function(){return zn(A),$n(r.capturePhoto())}),Re(23),he(),Re(24," | "),pe(25,"button",15),on("click",function(){return zn(A),$n(r.saveImage())}),Re(26),he(),Re(27," | "),pe(28,"button",9),on("click",function(){return zn(A),$n(r.flipCamera())}),Re(29,"Flip Camera"),he()(),mt(30,"hr"),pe(31,"span",16),Re(32),he(),mt(33,"hr"),pe(34,"div",17)(35,"label",18)(36,"span",19),Re(37),he()(),Re(38," \xa0"),pe(39,"select",20,3),on("change",function(){return zn(A),$n(r.selectionChange())}),yn(41,sst,2,3,"option",21),he()(),pe(42,"div",22)(43,"label",23)(44,"span",24),Re(45),he()(),Re(46," \xa0"),pe(47,"select",25,4),on("change",function(){return zn(A),$n(r.selectionChangeEngines())}),yn(49,ost,2,3,"option",21),he()(),pe(50,"div",26)(51,"a",27),Re(52,"[Volver al Menu]"),he()()()}2&i&&(ke(3),Xe("hidden",r.hiddenCanvasContainer),ke(2),Xe("options",r.options),ke(3),Am("value",r.statusButton),Xe("disabled","..parsing.."==r.statusButton),ke(5),Xe("hidden",r.hiddenCameraContainer),ke(2),Xe("hidden",r.cameraContainerHidden),ke(),Ag(r.videoStyle),ke(4),Xe("ngIf",r.capturedImage),ke(2),Xe("disabled",r.captureButtonDisabled),ke(),Gi(r.captureButtonStatus),ke(2),Xe("disabled",r.saveImageButtonDisabled),ke(),Gi(r.statusButtonSaveImage),ke(6),Gi(r.status),ke(5),Gi(r.tituloListadOrigen),ke(4),Xe("ngForOf",r.__sourceList),ke(4),Gi(r.titleEngineList),ke(4),Xe("ngForOf",r.__engineList))},dependencies:[UA,za,Cc,wI,_I,g8],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})();function cst(n,e){if(1&n&&(pe(0,"div",8)(1,"p"),Re(2),he()()),2&n){const t=Cn();ke(2),$r("Error: ",t.error,"")}}let lst=(()=>{class n{constructor(){this.isListening=!1,this.transcript="",this.error="";const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=i=>{this.transcript=i.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=i=>{this.error=i.error,console.error("Error:",this.error)},this.recognition.onend=()=>{this.isListening=!1,console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}ngOnInit(){}startListening(){this.recognition&&(this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t)}else alert("No text to speak!")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-speech-recognition"]],decls:20,vars:4,consts:[[1,"speech-recognition-container"],[1,"controls"],[3,"click","disabled"],[3,"click"],[1,"output"],["class","error",4,"ngIf"],["align","right"],["routerLink","/Dev"],[1,"error"]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"h2"),Re(2,"Speech Recognition with Angular"),he(),pe(3,"div",1)(4,"button",2),on("click",function(){return r.startListening()}),Re(5,"Start Listening"),he(),pe(6,"button",2),on("click",function(){return r.stopListening()}),Re(7,"Stop Listening"),he(),pe(8,"button",3),on("click",function(){return r.speakText()}),Re(9,"Speak Text"),he()(),pe(10,"div",4)(11,"h3"),Re(12,"Transcript:"),he(),pe(13,"p"),Re(14),he()(),yn(15,cst,3,1,"div",5),he(),mt(16,"hr"),pe(17,"div",6)(18,"a",7),Re(19,"[Volver al Menu]"),he()()),2&i&&(ke(4),Xe("disabled",r.isListening),ke(2),Xe("disabled",!r.isListening),ke(8),Gi(r.transcript||"No speech detected yet."),ke(),Xe("ngIf",r.error))},dependencies:[UA,Cc],styles:[".speech-recognition-container[_ngcontent-%COMP%]{text-align:center;margin:20px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;padding:10px 20px;font-size:16px;cursor:pointer}.output[_ngcontent-%COMP%]{margin-top:20px;font-size:18px}.error[_ngcontent-%COMP%]{color:red;margin-top:10px}"]})}}return n})();function ust(n,e){if(1&n&&(pe(0,"span",5)(1,"a",6)(2,"span",7),Re(3),he()()()),2&n){const t=Cn().$implicit;ke(),r_("routerLink","/",t.url,""),ke(2),Gi(t.text)}}function gst(n,e){if(1&n&&(pe(0,"span"),yn(1,ust,4,3,"span",4),he()),2&n){const t=e.$implicit;ke(),Xe("ngIf",t)}}let vle=(()=>{class n{constructor(t,i,r,A){this.titleService=t,this.configService=i,this.customErrorHandler=r,this.loggingInterceptor=A,this._appBrand="",this._appVersion="",this._appEnv="",this._title="",this.pages=[{url:"/Dev",text:"[TESTING]"},{url:"/StableReleases",text:"[PRODUCTION]"},{url:"/SCM",text:"[SCM]"},{url:"/LLMs",text:"[LLMs]"}],this._appBrand=this.configService.getConfigValue("appBrand"),this._appVersion=this.configService.getConfigValue("appVersion"),this._appEnv=this.configService.getConfigValue("appEnv"),this._title=this._appBrand+"-"+this._appEnv+" - v["+this._appVersion+"]",console.log(this._title),this.titleService.setTitle(this._title)}static{this.\u0275fac=function(i){return new(i||n)(yt(rN),yt(Bm),yt(XR),yt($R))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-home"]],decls:19,vars:15,consts:[["align","center",1,"animate"],["routerLink","/"],[1,"me-1",2,"width","50px",3,"src","alt"],[4,"ngFor","ngForOf"],["style","padding:5px;",4,"ngIf"],[2,"padding","5px"],[3,"routerLink"],["align","left"]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"h1"),Re(2),he(),mt(3,"hr"),pe(4,"a",1),mt(5,"img",2),he(),pe(6,"a",1),mt(7,"img",2),he(),pe(8,"a",1),mt(9,"img",2),he(),pe(10,"a",1),mt(11,"img",2),he(),pe(12,"a",1),mt(13,"img",2),he(),pe(14,"a",1),mt(15,"img",2),he(),mt(16,"hr"),yn(17,gst,2,1,"span",3),mt(18,"hr"),he()),2&i&&(ke(2),CM("Welcome to ",r._appBrand," - ",r._appEnv,""),ke(3),Xe("src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/800px-Angular_full_color_logo.svg.png",bs)("alt","Angular Logo"),ke(2),Xe("src","https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1024px-Node.js_logo.svg.png",bs)("alt","NodeJs Logo"),ke(2),Xe("src","https://upload.wikimedia.org/wikipedia/commons/d/d2/C_Sharp_Logo_2023.svg",bs)("alt","C# Logo"),ke(2),Xe("src","https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/ISO_C%2B%2B_Logo.svg/306px-ISO_C%2B%2B_Logo.svg.png",bs)("alt","C++ Logo"),ke(2),Xe("src","https://vmware.gallerycdn.vsassets.io/extensions/vmware/vscode-spring-boot/1.59.2024110900/1731113263936/Microsoft.VisualStudio.Services.Icons.Default",bs)("alt","SPRING BOOT Logo"),ke(2),Xe("src","https://upload.wikimedia.org/wikipedia/commons/c/c3/Python-logo-notext.svg",bs)("alt","python Logo"),ke(2),Xe("ngForOf",r.pages))},dependencies:[UA,za,Cc],styles:[".animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale 2s}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}"]})}}return n})(),hst=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-not-found-page"]],decls:9,vars:0,consts:[["align","right"],["routerLink","/Home"]],template:function(i,r){1&i&&(pe(0,"h1"),Re(1,"[Page not found]"),he(),mt(2,"hr"),pe(3,"h4"),Re(4,"[PAGE NOT FOUND]"),he(),mt(5,"hr"),pe(6,"div",0)(7,"a",1),Re(8,"[Volver al Inicio]"),he()())},dependencies:[UA]})}}return n})();var d8=function(n){return n[n.RoleAnonyumous=0]="RoleAnonyumous",n[n.RoleAdmin=1]="RoleAdmin",n[n.RoleMarketing=2]="RoleMarketing",n[n.RoleConfig=3]="RoleConfig",n[n.RoleEducation=4]="RoleEducation",n}(d8||{});function yle(n,e=T1){return AA((t,i)=>{let r=null,A=null,s=null;const o=()=>{if(r){r.unsubscribe(),r=null;const c=A;A=null,i.next(c)}};function a(){const c=s+n,l=e.now();if(l<c)return r=this.schedule(void 0,c-l),void i.add(r);o()}t.subscribe(sA(i,c=>{A=c,s=e.now(),r||(r=e.schedule(a,n),i.add(r))},()=>{o(),i.complete()},void 0,()=>{A=r=null}))})}let Qle=(()=>{class n{constructor(t){this.http=t,this._loggedUser=!1}canActivate(){return!0}get loggedUser(){return this._loggedUser}set loggedUser(t){this._loggedUser=t}matchRoles(t){return"0"==t||t==this.userRoles}static{this.\u0275fac=function(i){return new(i||n)(cn(II))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const{isArray:mst}=Array;function wle(n){return 1===n.length&&mst(n[0])?n[0]:n}function p8(...n){const e=XM(n),t=wle(n);return t.length?new _r(i=>{let r=t.map(()=>[]),A=t.map(()=>!1);i.add(()=>{r=A=null});for(let s=0;!i.closed&&s<t.length;s++)va(t[s]).subscribe(sA(i,o=>{if(r[s].push(o),r.every(a=>a.length)){const a=r.map(c=>c.shift());i.next(e?e(...a):a),r.some((c,l)=>!c.length&&A[l])&&i.complete()}},()=>{A[s]=!0,!r[s].length&&i.complete()}));return()=>{r=A=null}}):Ga}function m8(...n){const e=XM(n);return AA((t,i)=>{const r=n.length,A=new Array(r);let s=n.map(()=>!1),o=!1;for(let a=0;a<r;a++)va(n[a]).subscribe(sA(i,c=>{A[a]=c,!o&&!s[a]&&(s[a]=!0,(o=s.every(bA))&&(s=null))},es));t.subscribe(sA(i,a=>{if(o){const c=[a,...A];i.next(e?e(...c):c)}}))})}function C8(n){return cs((e,t)=>n<=t)}Math,Math,Math;const wot=["*"],tat=["dialog"],sat=(n,e,t)=>({$implicit:n,pages:e,disabled:t}),oat=n=>({disabled:!0,currentPage:n}),aat=(n,e,t)=>({disabled:n,$implicit:e,currentPage:t}),S8=(n,e)=>({disabled:n,currentPage:e}),cat=n=>({disabled:n});function lat(n,e){1&n&&(pe(0,"span",13),t_(1,7),he())}function uat(n,e){1&n&&(pe(0,"span",13),t_(1,8),he())}function gat(n,e){1&n&&(pe(0,"span",13),t_(1,9),he())}function hat(n,e){1&n&&(pe(0,"span",13),t_(1,10),he())}function fat(n,e){1&n&&Re(0,"...")}function dat(n,e){1&n&&Re(0),2&n&&Gi(e.$implicit)}function pat(n,e){}function mat(n,e){if(1&n&&(pe(0,"a",16),yn(1,pat,0,0,"ng-template",12),he()),2&n){const t=Cn(2).$implicit,i=Cn(),r=ah(9);ke(),Xe("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||r)("ngTemplateOutletContext",gf(2,oat,t))}}function Cat(n,e){}function Iat(n,e){if(1&n){const t=TA();pe(0,"a",17),on("click",function(r){zn(t);const A=Cn().$implicit;return Cn(2).selectPage(A),$n(r.preventDefault())}),yn(1,Cat,0,0,"ng-template",12),he()}if(2&n){const t=Cn().$implicit,i=Cn(),r=i.$implicit,A=i.disabled,s=Cn(),o=ah(11);qr("tabindex",A?"-1":null)("aria-disabled",A?"true":null),ke(),Xe("ngTemplateOutlet",(null==s.tplNumber?null:s.tplNumber.templateRef)||o)("ngTemplateOutletContext",ZU(4,aat,A,t,r))}}function Bat(n,e){if(1&n&&(pe(0,"li",15),yn(1,mat,2,4,"a",16)(2,Iat,2,8),he()),2&n){const t=e.$implicit,i=Cn(),r=i.$implicit,A=i.disabled,s=Cn();Lr("active",t===r)("disabled",s.isEllipsis(t)||A),qr("aria-current",t===r?"page":null),ke(),zs(1,s.isEllipsis(t)?1:2)}}function Eat(n,e){1&n&&Iu(0,Bat,3,6,"li",14,oh),2&n&&Bu(e.pages)}function vat(n,e){}function yat(n,e){if(1&n){const t=TA();pe(0,"li",15)(1,"a",18),on("click",function(r){return zn(t),Cn().selectPage(1),$n(r.preventDefault())}),yn(2,vat,0,0,"ng-template",12),he()()}if(2&n){const t=Cn(),i=ah(1);Lr("disabled",t.previousDisabled()),ke(),qr("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),ke(),Xe("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||i)("ngTemplateOutletContext",s_(6,S8,t.previousDisabled(),t.page))}}function Qat(n,e){}function wat(n,e){if(1&n){const t=TA();pe(0,"li",15)(1,"a",19),on("click",function(r){zn(t);const A=Cn();return A.selectPage(A.page-1),$n(r.preventDefault())}),yn(2,Qat,0,0,"ng-template",12),he()()}if(2&n){const t=Cn(),i=ah(3);Lr("disabled",t.previousDisabled()),ke(),qr("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),ke(),Xe("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||i)("ngTemplateOutletContext",gf(6,cat,t.previousDisabled()))}}function _at(n,e){}function Dat(n,e){}function bat(n,e){if(1&n){const t=TA();pe(0,"li",15)(1,"a",20),on("click",function(r){zn(t);const A=Cn();return A.selectPage(A.page+1),$n(r.preventDefault())}),yn(2,Dat,0,0,"ng-template",12),he()()}if(2&n){const t=Cn(),i=ah(5);Lr("disabled",t.nextDisabled()),ke(),qr("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),ke(),Xe("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||i)("ngTemplateOutletContext",s_(6,S8,t.nextDisabled(),t.page))}}function Sat(n,e){}function Mat(n,e){if(1&n){const t=TA();pe(0,"li",15)(1,"a",21),on("click",function(r){zn(t);const A=Cn();return A.selectPage(A.pageCount),$n(r.preventDefault())}),yn(2,Sat,0,0,"ng-template",12),he()()}if(2&n){const t=Cn(),i=ah(7);Lr("disabled",t.nextDisabled()),ke(),qr("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),ke(),Xe("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||i)("ngTemplateOutletContext",s_(6,S8,t.nextDisabled(),t.page))}}function Oat(n,e){if(1&n&&(pe(0,"span"),Re(1),he()),2&n){const t=Cn().$implicit;rm(Cn().highlightClass),ke(),Gi(t)}}function Gat(n,e){if(1&n&&(fI(0),Re(1),dI()),2&n){const t=Cn().$implicit;ke(),Gi(t)}}function Pat(n,e){1&n&&yn(0,Oat,2,4,"span",0)(1,Gat,2,1),2&n&&zs(0,e.$index%2!=0?0:1)}const Kle={animation:!0,transitionTimerDelayMs:5};let DR=(()=>{class n{constructor(){this.animation=Kle.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qle(n){return null!=n?`${n}`:""}function My(n){return"string"==typeof n}function Ac(n){return!isNaN(function Zl(n){return parseInt(`${n}`,10)}(n))}function bB(n){return null!=n}function Ny(n){return(n||document.body).getBoundingClientRect()}function zle(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const jat=()=>{},{transitionTimerDelayMs:Zat}=Kle,BD=new Map,Dg=(n,e,t,i)=>{let r=i.context||{};const A=BD.get(e);if(A)switch(i.runningTransition){case"continue":return Ga;case"stop":n.run(()=>A.transition$.complete()),r=Object.assign(A.context,r),BD.delete(e)}const s=t(e,i.animation,r)||jat;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>s()),ai(void 0).pipe(function Wat(n){return e=>new _r(t=>e.subscribe({next:s=>n.run(()=>t.next(s)),error:s=>n.run(()=>t.error(s)),complete:()=>n.run(()=>t.complete())}))}(n));const o=new zi,a=new zi,c=o.pipe(function Ist(...n){return e=>U_(e,ai(...n))}(!0));BD.set(e,{transition$:o,complete:()=>{a.next(),a.complete()},context:r});const l=function qat(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const u=Na(e,"transitionend").pipe(Qa(c),cs(({target:g})=>g===e));(function _le(...n){return 1===(n=wle(n)).length?va(n[0]):new _r(function Cst(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(va(n[i]).subscribe(sA(e,r=>{if(t){for(let A=0;A<t.length;A++)A!==i&&t[A].unsubscribe();t=null}e.next(r)})))}}(n))})(V2(l+Zat).pipe(Qa(c)),u,a).pipe(Qa(c)).subscribe(()=>{BD.delete(e),n.run(()=>{s(),o.next(),o.complete()})})}),o.asObservable()},$at=(n,e,t)=>{let{direction:i,maxSize:r,dimension:A}=t;const{classList:s}=n;function o(){s.add("collapse"),"show"===i?s.add("show"):s.remove("show")}if(e)return r||(r=function Xat(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,i=t.contains("show");i||t.add("show"),n.style[e]="";const r=n.getBoundingClientRect()[e]+"px";return i||t.remove("show"),r}(n,A),t.maxSize=r,n.style[A]="show"!==i?r:"0px",s.remove("collapse"),s.remove("collapsing"),s.remove("show"),Ny(n),s.add("collapsing")),n.style[A]="show"===i?r:"0px",()=>{o(),s.remove("collapsing"),n.style[A]=""};o()};let ect=(()=>{class n{constructor(){this._ngbConfig=ze(DR),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),M8=(()=>{class n{constructor(){this._config=ze(ect),this._element=ze(N),this._zone=ze(Fi),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ae,this.horizontal=this._config.horizontal,this.shown=new ae,this.hidden=new ae}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,i){return Dg(this._zone,this._element.nativeElement,$at,{animation:i,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,i){this._runTransition(t,i).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mn({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){2&i&&Lr("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:[Ki.None,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return n})(),Xle=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),x8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),tue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),nue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})();var ps=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(ps||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const cue=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function lue(n){const e=Array.from(n.querySelectorAll(cue)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let _ue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),bue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),elt=(()=>{class n{constructor(){this._ngbConfig=ze(DR),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class RB{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let tlt=(()=>{class n{constructor(){this._document=ze(CA)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:A,paddingRight:s}=r;if(t>0){const o=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${o+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=s),r.overflow=A}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nlt=(()=>{class n{constructor(){this._nativeElement=ze(N).nativeElement,this._zone=ze(Fi)}ngOnInit(){this._zone.onStable.asObservable().pipe(Rs(1)).subscribe(()=>{Dg(this._zone,this._nativeElement,(t,i)=>{i&&Ny(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Dg(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(rm("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Lr("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Uo],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})();class Sue{update(e){}close(e){}dismiss(e){}}const ilt=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],rlt=["animation","backdropClass"];class Alt{_applyWindowOptions(e,t){ilt.forEach(i=>{bB(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){rlt.forEach(i=>{bB(t[i])&&(e[i]=t[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Qa(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Qa(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new zi,this._dismissed=new zi,this._hidden=new zi,e.instance.dismissEvent.subscribe(A=>{this.dismiss(A)}),this.result=new Promise((A,s)=>{this._resolve=A,this._reject=s}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Jle(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ai(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),p8(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var K8=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(K8||{});let slt=(()=>{class n{constructor(){this._document=ze(CA),this._elRef=ze(N),this._zone=ze(Fi),this._closed$=new zi,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ae,this.shown=new zi,this.hidden=new zi}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":My(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Rs(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=p8(Dg(this._zone,t,()=>t.classList.remove("show"),i),Dg(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const t={animation:this.animation,runningTransition:"continue"};p8(Dg(this._zone,this._elRef.nativeElement,(A,s)=>{s&&Ny(A),A.classList.add("show")},t),Dg(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Na(t,"keydown").pipe(Qa(this._closed$),cs(r=>r.which===ps.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(K8.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Na(this._dialogEl.nativeElement,"mousedown").pipe(Qa(this._closed$),Ws(()=>i=!1),kl(()=>Na(t,"mouseup").pipe(Qa(this._closed$),Rs(1))),cs(({target:r})=>t===r)).subscribe(()=>{i=!0}),Na(t,"click").pipe(Qa(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(K8.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=lue(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Dg(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&aA(tat,7),2&i){let A;Ii(A=Bi())&&(r._dialogEl=A.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(qr("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),rm("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Lr("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Uo],ngContentSelectors:wot,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){1&i&&(n_(),pe(0,"div",1,0)(2,"div",2),i_(3),he()()),2&i&&rm("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return n})(),olt=(()=>{class n{constructor(){this._applicationRef=ze(gh),this._injector=ze(ks),this._environmentInjector=ze(ea),this._document=ze(CA),this._scrollBar=ze(tlt),this._activeWindowCmptHasChanged=new zi,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ae;const t=ze(Fi);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const i=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{n.runOutsideAngular(()=>{const r=Na(e,"focusin").pipe(Qa(t),tr(A=>A.target));Na(e,"keydown").pipe(Qa(t),cs(A=>A.which===ps.Tab),m8(r)).subscribe(([A,s])=>{const[o,a]=lue(e);(s===o||s===e)&&A.shiftKey&&(a.focus(),A.preventDefault()),s===a&&!A.shiftKey&&(o.focus(),A.preventDefault())}),i&&Na(e,"click").pipe(Qa(t),m8(r),tr(A=>A[1])).subscribe(A=>A.focus())})})(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const A=r.container instanceof HTMLElement?r.container:bB(r.container)?this._document.querySelector(r.container):this._document.body;if(!A)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const s=new Sue,o=(t=r.injector||t).get(ea,null)||this._environmentInjector,a=this._getContentRef(t,o,i,s,r);let c=!1!==r.backdrop?this._attachBackdrop(A):void 0,l=this._attachWindowComponent(A,a.nodes),u=new Alt(l,a,c,r.beforeDismiss);return this._registerModalRef(u),this._registerWindowCmpt(l),u.hidden.pipe(Rs(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=h=>{u.close(h)},s.dismiss=h=>{u.dismiss(h)},s.update=h=>{u.update(h)},u.update(r),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),l.changeDetectorRef.detectChanges(),u}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=CO(nlt,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=CO(slt,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,A,s){return r?r instanceof Eo?this._createFromTemplateRef(r,A):My(r)?this._createFromString(r):this._createFromComponent(t,i,r,A,s):new RB([])}_createFromTemplateRef(t,i){const A=t.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(A),new RB([A.rootNodes],A)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new RB([[i]])}_createFromComponent(t,i,r,A,s){const a=CO(r,{environmentInjector:i,elementInjector:ks.create({providers:[{provide:Sue,useValue:A}],parent:t})}),c=a.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new RB([[c]],a.hostView,a)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),alt=(()=>{class n{constructor(){this._injector=ze(ks),this._modalStack=ze(olt),this._config=ze(elt)}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Mue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({providers:[alt]})}}return n})(),Fue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),plt=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rue=(()=>{class n{constructor(){this.templateRef=ze(Eo)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mn({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0})}}return n})(),Tue=(()=>{class n{constructor(){this.templateRef=ze(Eo)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mn({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0})}}return n})(),kue=(()=>{class n{constructor(){this.templateRef=ze(Eo)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mn({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0})}}return n})(),Lue=(()=>{class n{constructor(){this.templateRef=ze(Eo)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mn({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0})}}return n})(),Uue=(()=>{class n{constructor(){this.templateRef=ze(Eo)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mn({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0})}}return n})(),Oue=(()=>{class n{constructor(){this.templateRef=ze(Eo)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mn({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0})}}return n})(),Gue=(()=>{class n{constructor(){this.templateRef=ze(Eo)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mn({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0})}}return n})(),V8=(()=>{class n{constructor(){this._config=ze(plt),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new ae(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,i){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,i=this.pageCount,r=Math.floor(this.maxSize/2);return this.page<=r?i=this.maxSize:this.pageCount-this.page<r?t=this.pageCount-this.maxSize:(t=this.page-r-1,i=this.page+(this.maxSize%2==0?r-1:r)),[t,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(t){const i=this.page;this.page=function Jat(n,e,t=0){return Math.max(Math.min(n,e),t)}(t,this.pageCount,1),this.page!==i&&Ac(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Ac(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,r=this.pageCount;[i,r]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,r),this._applyEllipses(i,r)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["ngb-pagination"]],contentQueries:function(i,r,A){if(1&i&&(Lo(A,Rue,5),Lo(A,Tue,5),Lo(A,kue,5),Lo(A,Lue,5),Lo(A,Uue,5),Lo(A,Oue,5),Lo(A,Gue,5)),2&i){let s;Ii(s=Bi())&&(r.tplEllipsis=s.first),Ii(s=Bi())&&(r.tplFirst=s.first),Ii(s=Bi())&&(r.tplLast=s.first),Ii(s=Bi())&&(r.tplNext=s.first),Ii(s=Bi())&&(r.tplNumber=s.first),Ii(s=Bi())&&(r.tplPrevious=s.first),Ii(s=Bi())&&(r.tplPages=s.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[Js,Uo],decls:20,vars:12,consts:()=>{let t,i,r,A,s,o,a,c;return t=$localize`:@@ngb.pagination.first:««`,i=$localize`:@@ngb.pagination.previous:«`,r=$localize`:@@ngb.pagination.next:»`,A=$localize`:@@ngb.pagination.last:»»`,s=$localize`:@@ngb.pagination.first-aria:First`,o=$localize`:@@ngb.pagination.previous-aria:Previous`,a=$localize`:@@ngb.pagination.next-aria:Next`,c=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],t,i,r,A,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",s,"href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"]]},template:function(i,r){if(1&i&&(yn(0,lat,2,0,"ng-template",null,0,uh)(2,uat,2,0,"ng-template",null,1,uh)(4,gat,2,0,"ng-template",null,2,uh)(6,hat,2,0,"ng-template",null,3,uh)(8,fat,1,0,"ng-template",null,4,uh)(10,dat,1,1,"ng-template",null,5,uh)(12,Eat,2,0,"ng-template",null,6,uh),pe(14,"ul"),yn(15,yat,3,9,"li",11)(16,wat,3,8,"li",11)(17,_at,0,0,"ng-template",12)(18,bat,3,9,"li",11)(19,Mat,3,9,"li",11),he()),2&i){const A=ah(13);ke(14),rm("pagination"+(r.size?" pagination-"+r.size:"")),ke(),zs(15,r.boundaryLinks?15:-1),ke(),zs(16,r.directionLinks?16:-1),ke(),Xe("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||A)("ngTemplateOutletContext",ZU(8,sat,r.page,r.pages,r.disabled)),ke(),zs(18,r.directionLinks?18:-1),ke(),zs(19,r.boundaryLinks?19:-1)}},dependencies:[d0],encapsulation:2,changeDetection:0})}}return n})(),GR=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),Pue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),Hue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),Yue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),Kue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),que=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),Jue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),Vue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),z8=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=qle(this.result),r=Array.isArray(this.term)?this.term:[this.term],A=c=>this.accentSensitive?c:zle(c),s=r.map(c=>function Vat(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(A(qle(c)))).filter(c=>c),o=this.accentSensitive?i:zle(i),a=s.length?o.split(new RegExp(`(${s.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=a;else{let c=0;this.parts=a.map(l=>i.substring(c,c+=l.length))}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[Js,Uo],decls:2,vars:0,consts:[[3,"class"]],template:function(i,r){1&i&&Iu(0,Pat,2,1,null,null,oh),2&i&&Bu(r.parts)},styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0})}}return n})();new xn("live announcer delay",{providedIn:"root",factory:()=>100});let zue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})(),Wue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({})}}return n})();const ylt=[Xle,x8,tue,nue,_ue,bue,Mue,Fue,Wue,GR,Pue,Hue,Yue,Kue,que,Jue,Vue,zue];let jue=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({imports:[ylt,Xle,x8,tue,nue,_ue,bue,Mue,Fue,Wue,GR,Pue,Hue,Yue,Kue,que,Jue,Vue,zue]})}}return n})();const Qlt=(n,e)=>e.path;function wlt(n,e){1&n&&(pe(0,"span",9),Re(1,"[Cargando...]"),he())}function _lt(n,e){1&n&&(pe(0,"span",9),Re(1,"[Escuchando...]"),he())}function Dlt(n,e){if(1&n&&(pe(0,"span",19)(1,"p"),Re(2),he()()),2&n){const t=Cn();ke(2),$r("Error: ",t.error,"")}}function blt(n,e){if(1&n&&(pe(0,"tr")(1,"td")(2,"a",21),mt(3,"ngb-highlight",22),he()()()),2&n){const t=Cn().$implicit,i=Cn();ke(2),Xe("routerLink","/"+t.path),ke(),Xe("result",t.caption)("term",i.searchTerm)}}function Slt(n,e){1&n&&yn(0,blt,4,3,"tr",20),2&n&&Xe("ngIf",""!=e.$implicit.path)}function Mlt(n,e){1&n&&(pe(0,"tr")(1,"td",23),Re(2,"[NO SE ENCONTRARON DATOS]"),he()())}const Nlt={asc:"desc",desc:"","":"asc"};let Flt=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new ae}_rotatePage(){this.direction=Nlt[this.direction],this.sortevent.emit({column:this.sortable,direction:this.direction})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mn({type:n,selectors:[["th","_sortevent",""]],hostVars:4,hostBindings:function(i,r){1&i&&on("click",function(){return r._rotatePage()}),2&i&&Lr("asc","asc"===r._direction)("desc","desc"===r._direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})(),Rlt=(()=>{class n{constructor(t,i){this.pipe=t,this._authService=i,this.ConfigRoleString=d8.RoleConfig.toString(),this._loading=new vA(!0),this._total=new vA(0),this._search$=new zi,this._Pagelist=new vA([]),this._state={page:1,pageSize:4,searchTerm:"",sortColumn:"",sortDirection:""},this.isListening=!1,this.transcript="",this.error="",this.ListeningButtonIconOn="./assets/images/mic_on.gif",this.ListeningButtonIconOff="./assets/images/mic_off.gif",this.SpeakerIcon="./assets/images/speaker_on.gif",this.clearFormIcon="./assets/images/clearForm.gif",this.InitializeSpeechRecognition(),this._search$.pipe(Ws(()=>this._loading.next(!0)),yle(200),kl(()=>this._search()),hD(200),Ws(()=>this._loading.next(!1))).subscribe(r=>{this._Pagelist.next(r.searchPages),this._total.next(r.total)}),this._search$.next()}InitializeSpeechRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=i=>{this.transcript=i.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=i=>{this.error=i.error,this.isListening=!1,console.error("Error:",this.error)},this.recognition.onend=()=>{console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}_search(){let t,i,r={searchPages:t,total:i};const{pageSize:o,page:a,searchTerm:c}=this._state;return t=vhe,t=t.filter(l=>function xlt(n,e,t){return n.caption?.toLowerCase().includes(e?.toLowerCase())}(l,c)),i=t.length,t=t.slice((a-1)*o,(a-1)*o+o),r={searchPages:t,total:i},ai(r)}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(t){this._Pagelist=t}get page(){return this._state.page}set page(t){this._set({page:t})}get pageSize(){return this._state.pageSize}set pageSize(t){this._set({pageSize:t})}get searchTerm(){return this._state.searchTerm}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}onSort({column:t,direction:i}){this.headers?.forEach(r=>{r.sortable!==t&&(r.direction="")}),this.sortColumn=t,this.sortDirection=i}startListening(){this.recognition&&(console.log("listening started"),this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(console.log("listening ended"),this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t),this.searchTerm=this.transcript}else alert("No text to speak!")}clearText(){this.searchTerm=""}static{this.\u0275fac=function(i){return new(i||n)(yt(VM),yt(Qle))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-index"]],viewQuery:function(i,r){if(1&i&&aA(Flt,5),2&i){let A;Ii(A=Bi())&&(r.headers=A)}},decls:49,vars:26,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"click","disabled"],[3,"src"],[3,"click"],[1,"col","col-form-label"],["class","error",4,"ngIf"],[1,"table","table-striped","table-dark"],["scope","col","sortable","path"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],["routerLink","/Home"],[1,"error"],[4,"ngIf"],[3,"routerLink"],[3,"result","term"],["colspan","4",2,"text-align","center"]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"h1"),Re(2,"[INDEX]"),he(),mt(3,"hr"),pe(4,"form")(5,"div",1)(6,"label",2),Re(7,"Busqueda de Texto Completo:"),he(),pe(8,"div",3)(9,"input",4),lh("ngModelChange",function(s){return uf(r.searchTerm,s)||(r.searchTerm=s),s}),he()(),pe(10,"span",5)(11,"button",6),on("click",function(){return r.startListening()}),mt(12,"img",7),he(),pe(13,"button",6),on("click",function(){return r.stopListening()}),mt(14,"img",7),he(),pe(15,"button",6),on("click",function(){return r.speakText()}),mt(16,"img",7),he(),pe(17,"button",8),on("click",function(){return r.clearText()}),mt(18,"img",7),he()(),yn(19,wlt,2,0,"span",9),Rl(20,"async"),yn(21,_lt,2,0,"span",9)(22,Dlt,3,1,"span",10),he(),pe(23,"table",11)(24,"thead")(25,"tr")(26,"th",12),Re(27,"[Pagina]"),he()()(),pe(28,"tbody"),Iu(29,Slt,1,1,"tr",null,Qlt,!1,Mlt,3,0,"tr"),Rl(32,"async"),he()(),pe(33,"div",13)(34,"ngb-pagination",14),Rl(35,"async"),lh("pageChange",function(s){return uf(r.page,s)||(r.page=s),s}),he(),pe(36,"select",15),lh("ngModelChange",function(s){return uf(r.pageSize,s)||(r.pageSize=s),s}),pe(37,"option",16),Re(38,"2 items por Pagina"),he(),pe(39,"option",16),Re(40,"4 items por Pagina"),he(),pe(41,"option",16),Re(42,"6 tems por Pagina"),he(),pe(43,"option",16),Re(44,"10 items por Pagina"),he()()()()(),mt(45,"hr"),pe(46,"div",17)(47,"a",18),Re(48,"[Volver al Inicio]"),he()()),2&i&&(ke(9),ch("ngModel",r.searchTerm),ke(2),Xe("disabled",r.isListening),ke(),Xe("src",r.ListeningButtonIconOn,bs),ke(),Xe("disabled",!r.isListening),ke(),Xe("src",r.ListeningButtonIconOff,bs),ke(),Xe("disabled",r.isListening),ke(),Xe("src",r.SpeakerIcon,bs),ke(2),Xe("src",r.clearFormIcon,bs),ke(),zs(19,Tl(20,20,r.loading)?19:-1),ke(2),zs(21,r.isListening&&!r.error?21:-1),ke(),Xe("ngIf",r.error),ke(7),Bu(Tl(32,22,r._Pagelist)),ke(5),Xe("collectionSize",Tl(35,24,r.total)),ch("page",r.page),Xe("pageSize",r.pageSize),ke(2),ch("ngModel",r.pageSize),ke(),Xe("ngValue",2),ke(2),Xe("ngValue",4),ke(2),Xe("ngValue",6),ke(2),Xe("ngValue",10))},dependencies:[UA,Cc,v0,wI,_I,ff,N_,pm,I0,QI,E0,V8,z8,p0],styles:["img[_ngcontent-%COMP%]{width:15px;height:30px}"]})}}return n})();function Tlt(n,e){if(1&n&&(pe(0,"ul")(1,"li")(2,"a",5),Re(3),he()()()),2&n){const t=e.$implicit;ke(2),Xe("href",t.url,bs),ke(),Gi(t.name)}}let klt=(()=>{class n{constructor(){this.aiPrompts=[],console.log("AI Prompts: "+JSON.stringify(Im.aiPrompts)),this.aiPrompts=Im.aiPrompts}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["llm-list"]],decls:11,vars:1,consts:[["align","center"],["align","left"],[4,"ngFor","ngForOf"],["align","right"],["routerLink","/Home"],["target","_blank",3,"href"]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"h4")(2,"b"),Re(3,"[LLMs]"),he()(),mt(4,"hr"),he(),pe(5,"div",1),yn(6,Tlt,4,2,"ul",2),he(),mt(7,"hr"),pe(8,"div",3)(9,"a",4),Re(10,"[Inicio]"),he()()),2&i&&(ke(6),Xe("ngForOf",r.aiPrompts))},dependencies:[UA,za]})}}return n})();class Llt extends zi{constructor(e=1/0,t=1/0,i=B4){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:A,_windowTime:s}=this;t||(i.push(e),!r&&i.push(A.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,A=r.slice();for(let s=0;s<A.length&&!e.closed;s+=i?1:2)e.next(A[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,A=(r?1:2)*e;if(e<1/0&&A<i.length&&i.splice(0,i.length-A),!r){const s=t.now();let o=0;for(let a=1;a<i.length&&i[a]<=s;a+=2)o=a;o&&i.splice(0,o+1)}}}class Ult extends zi{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:i,_value:r,thrownError:A,isStopped:s,_isComplete:o}=this;t?e.error(A):(s||o)&&(i&&e.next(r),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:i}=this;i||(this._isComplete=!0,e&&super.next(t),super.complete())}}class Zue{constructor(){}loadScript(e,t,i,r=null){if(typeof document<"u"&&!document.getElementById(e)){let A=document.createElement("script");A.async=!0,A.src=t,A.onload=i,r||(r=document.head),r.appendChild(A)}}}class W8{}const Olt={oneTapEnabled:!0};let j8=(()=>{class n extends Zue{static{this.PROVIDER_ID="GOOGLE"}constructor(t,i){super(),this.clientId=t,this.initOptions=i,this.changeUser=new ae,this._socialUser=new vA(null),this._accessToken=new vA(null),this._receivedAccessToken=new ae,this.initOptions={...Olt,...this.initOptions},this._socialUser.pipe(C8(1)).subscribe(this.changeUser),this._accessToken.pipe(C8(1)).subscribe(this._receivedAccessToken)}initialize(t,i){return new Promise((r,A)=>{try{this.loadScript(n.PROVIDER_ID,this.getGoogleLoginScriptSrc(i),()=>{if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:s})=>{const o=this.createSocialUser(s);this._socialUser.next(o)},prompt_parent_id:this.initOptions?.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled,use_fedcm_for_prompt:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe(cs(s=>null===s)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const s=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(o=>o).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:s,prompt:this.initOptions.prompt,callback:o=>{o.error?this._accessToken.error({code:o.error,description:o.error_description,uri:o.error_uri}):this._accessToken.next(o.access_token)}})}r()})}catch(s){A(s)}})}getLoginStatus(){return new Promise((t,i)=>{this._socialUser.value?t(this._socialUser.value):i(`No user is currently logged in with ${n.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,i)=>{google.accounts.id.revoke(this._socialUser.value.id,r=>{r.error?i(r.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,i)=>{this._tokenClient?(this._tokenClient.requestAccessToken({hint:this._socialUser.value?.email}),this._receivedAccessToken.pipe(Rs(1)).subscribe(t)):i(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,i)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):i("No access token to revoke"):i("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){var t=this;return(0,St.A)(function*(){google.accounts.id.disableAutoSelect(),t._socialUser.next(null)})()}createSocialUser(t){const i=new W8;i.idToken=t;const r=this.decodeJwt(t);return i.id=r.sub,i.name=r.name,i.email=r.email,i.photoUrl=r.picture,i.firstName=r.given_name,i.lastName=r.family_name,i}decodeJwt(t){const r=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),A=decodeURIComponent(window.atob(r).split("").map(function(s){return"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(A)}getGoogleLoginScriptSrc(t){return t?`https://accounts.google.com/gsi/client?hl=${t}`:"https://accounts.google.com/gsi/client"}}return n})(),Z8=(()=>{class n{static{this.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found"}static{this.ERR_NOT_LOGGED_IN="Not logged in"}static{this.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?"}static{this.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token"}static{this.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token"}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}constructor(t,i,r){this._ngZone=i,this._injector=r,this.providers=new Map,this.autoLogin=!1,this.lang="",this._user=null,this._authState=new Llt(1),this.initialized=!1,this._initState=new Ult,t instanceof Promise?t.then(A=>{this.initialize(A)}):this.initialize(t)}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin,this.lang=void 0!==t.lang?t.lang:"";const{onError:i=console.error}=t;t.providers.forEach(r=>{this.providers.set(r.id,"prototype"in r.provider?this._injector.get(r.provider):r.provider)}),Promise.all(Array.from(this.providers.values()).map(r=>r.initialize(this.autoLogin,this.lang))).then(()=>{if(this.autoLogin){const r=[];let A=!1;this.providers.forEach((s,o)=>{const a=s.getLoginStatus();r.push(a),a.then(c=>{this.setUser(c,o),A=!0}).catch(console.debug)}),Promise.all(r).catch(()=>{A||(this._user=null,this._authState.next(null))})}this.providers.forEach((r,A)=>{q7(r.changeUser)&&r.changeUser.subscribe(s=>{this._ngZone.run(()=>{this.setUser(s,A)})})})}).catch(r=>{i(r)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(t){var i=this;return(0,St.A)(function*(){const r=i.providers.get(t);if(!i.initialized)throw n.ERR_NOT_INITIALIZED;if(!r)throw n.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(r instanceof j8))throw n.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield r.getAccessToken()})()}refreshAuthToken(t){return new Promise((i,r)=>{if(this.initialized){const A=this.providers.get(t);A?"function"!=typeof A.refreshToken?r(n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):A.refreshToken().then(s=>{this.setUser(s,t),i()}).catch(s=>{r(s)}):r(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else r(n.ERR_NOT_INITIALIZED)})}refreshAccessToken(t){return new Promise((i,r)=>{if(this.initialized)if(t!==j8.PROVIDER_ID)r(n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const A=this.providers.get(t);A instanceof j8?A.revokeAccessToken().then(i).catch(r):r(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else r(n.ERR_NOT_INITIALIZED)})}signIn(t,i){return new Promise((r,A)=>{if(this.initialized){let s=this.providers.get(t);s?s.signIn(i).then(o=>{this.setUser(o,t),r(o)}).catch(o=>{A(o)}):A(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else A(n.ERR_NOT_INITIALIZED)})}signOut(t=!1){return new Promise((i,r)=>{if(this.initialized)if(this._user){let s=this.providers.get(this._user.provider);s?s.signOut(t).then(()=>{i(),this.setUser(null)}).catch(o=>{r(o)}):r(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else r(n.ERR_NOT_LOGGED_IN);else r(n.ERR_NOT_INITIALIZED)})}setUser(t,i){t&&i&&(t.provider=i),this._user=t,this._authState.next(t)}static{this.\u0275fac=function(i){return new(i||n)(cn("SocialAuthServiceConfig"),cn(Fi),cn(ks))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Glt=(()=>{class n{static initialize(t){return{ngModule:n,providers:[Z8,{provide:"SocialAuthServiceConfig",useValue:t}]}}constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static{this.\u0275fac=function(i){return new(i||n)(cn(n,12))}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({providers:[Z8],imports:[am]})}}return n})(),X8=(()=>{class n extends Zue{static{this.PROVIDER_ID="FACEBOOK"}constructor(t,i={}){super(),this.clientId=t,this.requestOptions={scope:"email,public_profile",locale:"en_US",fields:"name,email,picture,first_name,last_name",version:"v10.0"},this.requestOptions={...this.requestOptions,...i}}initialize(){return new Promise((t,i)=>{try{this.loadScript(n.PROVIDER_ID,`//connect.facebook.net/${this.requestOptions.locale}/sdk.js`,()=>{FB.init({appId:this.clientId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:this.requestOptions.version}),t()})}catch(r){i(r)}})}getLoginStatus(){return new Promise((t,i)=>{FB.getLoginStatus(r=>{if("connected"===r.status){let A=r.authResponse;FB.api(`/me?fields=${this.requestOptions.fields}`,s=>{let o=new W8;o.id=s.id,o.name=s.name,o.email=s.email,o.photoUrl="https://graph.facebook.com/"+s.id+"/picture?type=normal&access_token="+A.accessToken,o.firstName=s.first_name,o.lastName=s.last_name,o.authToken=A.accessToken,o.response=s,t(o)})}else i(`No user is currently logged in with ${n.PROVIDER_ID}`)})})}signIn(t){const i={...this.requestOptions,...t};return new Promise((r,A)=>{FB.login(s=>{if(s.authResponse){let o=s.authResponse;FB.api(`/me?fields=${i.fields}`,a=>{let c=new W8;c.id=a.id,c.name=a.name,c.email=a.email,c.photoUrl="https://graph.facebook.com/"+a.id+"/picture?type=normal",c.firstName=a.first_name,c.lastName=a.last_name,c.authToken=o.accessToken,c.response=a,r(c)})}else A("User cancelled login or did not fully authorize.")},i)})}signOut(){return new Promise((t,i)=>{FB.logout(r=>{t()})})}}return n})();function Hlt(n,e){1&n&&(pe(0,"div",12),Re(1," Nombre es requerido y debe ser por lo menos 3 caracteres de largo. "),he())}function Ylt(n,e){1&n&&(pe(0,"div",12),Re(1," Por favor ingrese un email v\xe1lido. "),he())}function Klt(n,e){1&n&&(pe(0,"div",12),Re(1," Mensaje es rquerido y debe ser al menos 10 caracteres de largo "),he())}function qlt(n,e){if(1&n){const t=TA();pe(0,"div")(1,"div",1)(2,"form",2),on("ngSubmit",function(){return zn(t),$n(Cn().onSubmit())}),pe(3,"div",3)(4,"label",4),Re(5,"Nombre"),he(),mt(6,"input",5),yn(7,Hlt,2,0,"div",6),he(),pe(8,"div",3)(9,"label",7),Re(10,"Email"),he(),mt(11,"input",8),yn(12,Ylt,2,0,"div",6),he(),pe(13,"div",3)(14,"label",9),Re(15,"Mensaje"),he(),mt(16,"textarea",10),yn(17,Klt,2,0,"div",6),he(),pe(18,"button",11),Re(19,"[Enviar]"),he()()(),mt(20,"hr"),he()}if(2&n){let t,i,r;const A=Cn();ke(2),Xe("formGroup",A.contactForm),ke(5),Xe("ngIf",(null==(t=A.contactForm.get("name"))?null:t.invalid)&&(null==(t=A.contactForm.get("name"))?null:t.touched)),ke(5),Xe("ngIf",(null==(i=A.contactForm.get("email"))?null:i.invalid)&&(null==(i=A.contactForm.get("email"))?null:i.touched)),ke(5),Xe("ngIf",(null==(r=A.contactForm.get("message"))?null:r.invalid)&&(null==(r=A.contactForm.get("message"))?null:r.touched)),ke(),Xe("disabled",A.contactForm.invalid)}}function Jlt(n,e){if(1&n){const t=TA();pe(0,"div")(1,"a",13),on("click",function(){return zn(t),$n(Cn().isLoggedIn=!0)}),Re(2,"Volver al Formulario"),he(),mt(3,"hr"),he()}}let Vlt=(()=>{class n{constructor(t,i,r){this.authService=t,this.fb=i,this.http=r,this.user=null,this.isLoggedIn=!0,this.contactForm=this.fb.group({name:["",[vI.required,vI.minLength(3)]],email:["",[vI.required,vI.email]],message:["",[vI.required,vI.minLength(10)]]})}ngOnInit(){this.authService.authState.subscribe(t=>{this.isLoggedIn=null!=t,console.log("Facebook User:",this.user)})}onSubmit(){this.contactForm.valid?(console.log("Form Submitted!",this.contactForm.value),this.contactForm.valid?this.http.post("https://9rfn3t-4000.csb.app/contact",this.contactForm.value).subscribe(i=>{console.log("Form submitted successfully!",i),alert("Gracias! Se le enviar\xe1 pronto un email con m\xe1s informaci\xf3n."),this.contactForm.reset()},i=>{console.error("Error submitting form:",i),alert("There was an error submitting the form. Please try again.")}):console.log("Form is invalid"),this.logout()):console.log("Form is invalid")}loginWithFacebook(){this.authService.signIn(X8.PROVIDER_ID).then(t=>{console.log("User Data:",t),this.contactForm.get("name")?.reset(t.name),this.contactForm.get("email")?.reset(t.email)},t=>{console.error("Facebook login error:",t)})}logout(){this.authService.signOut(),this.user=null,this.isLoggedIn=!1}static{this.\u0275fac=function(i){return new(i||n)(yt(Z8),yt(c7),yt(II))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-contact-form"]],decls:6,vars:2,consts:[[4,"ngIf"],[1,"contact-form-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","type","text","maxlength","100","formControlName","name","placeholder","Ingrese su nombre"],["class","error",4,"ngIf"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Ingrese su email"],["for","message"],["id","message","formControlName","message","maxlength","100","placeholder","Ingrese su mensaje (m\xe1ximo 100 caracteres)"],["type","submit",3,"disabled"],[1,"error"],[3,"click"]],template:function(i,r){1&i&&(mt(0,"hr"),pe(1,"h2"),Re(2,"Cont\xe1ctenos"),he(),mt(3,"hr"),yn(4,qlt,21,5,"div",0)(5,Jlt,4,0,"div",0)),2&i&&(ke(4),Xe("ngIf",r.isLoggedIn),ke(),Xe("ngIf",!r.isLoggedIn))},dependencies:[Cc,v0,ff,pm,I0,mN,M_,dN],styles:[".contact-form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc}.error[_ngcontent-%COMP%]{color:red;font-size:12px}"]})}}return n})();const zlt=(n,e)=>e.id;function Wlt(n,e){1&n&&(pe(0,"span",9),Re(1,"[Cargando...]"),he())}function jlt(n,e){1&n&&(pe(0,"span",9),Re(1,"[Escuchando...]"),he())}function Zlt(n,e){if(1&n&&(pe(0,"span",25)(1,"p"),Re(2),he()()),2&n){const t=Cn();ke(2),$r("Error: ",t.error,"")}}function Xlt(n,e){if(1&n&&(pe(0,"tr")(1,"th",26),Re(2),he(),pe(3,"td"),mt(4,"input",27),he(),pe(5,"td",0),mt(6,"ngb-highlight",28),he(),pe(7,"td",0)(8,"a",29),mt(9,"ngb-highlight",28),he()(),pe(10,"td",0)(11,"a",29),mt(12,"ngb-highlight",28),he()(),pe(13,"td",0)(14,"a",29),mt(15,"ngb-highlight",28),he()(),pe(16,"td",0)(17,"a",29),mt(18,"ngb-highlight",28),he()()()),2&n){const t=e.$implicit,i=Cn();ke(2),Gi(t.id),ke(2),Xe("checked",t.done),ke(2),Xe("result",t.description)("term",i.searchTerm),ke(2),Xe("href",t.field_1,bs),ke(),Xe("result",t.name)("term",i.searchTerm),ke(2),Xe("href",t.field_3,bs),ke(),Xe("result",t.field_2)("term",i.searchTerm),ke(2),Xe("href",t.field_5,bs),ke(),Xe("result",t.field_4)("term",i.searchTerm),ke(2),Xe("href",t.field_7,bs),ke(),Xe("result",t.field_6)("term",i.searchTerm)}}function $lt(n,e){1&n&&(pe(0,"tr")(1,"td",30),Re(2,"[NO SE ENCONTRARON DATOS]"),he()())}const eut={asc:"desc",desc:"","":"asc"};let nut=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new ae}_rotatePage(){this.direction=eut[this.direction],this.sortevent.emit({column:this.sortable,direction:this.direction})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mn({type:n,selectors:[["th","_sortevent",""]],hostVars:4,hostBindings:function(i,r){1&i&&on("click",function(){return r._rotatePage()}),2&i&&Lr("asc","asc"===r._direction)("desc","desc"===r._direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})(),iut=(()=>{class n{constructor(t,i){this.pipe=t,this._authService=i,this.ConfigRoleString=d8.RoleConfig.toString(),this._loading=new vA(!0),this._total=new vA(0),this._search$=new zi,this._Pagelist=new vA([]),this._state={page:1,pageSize:6,searchTerm:"",sortColumn:"",sortDirection:""},this.isListening=!1,this.transcript="",this.error="",this.ListeningButtonIconOn="./assets/images/mic_on.gif",this.ListeningButtonIconOff="./assets/images/mic_off.gif",this.SpeakerIcon="./assets/images/speaker_on.gif",this.clearFormIcon="./assets/images/clearForm.gif",this.InitializeSpeechRecognition(),this._search$.pipe(Ws(()=>this._loading.next(!0)),yle(200),kl(()=>this._search()),hD(200),Ws(()=>this._loading.next(!1))).subscribe(r=>{this._Pagelist.next(r.searchPages),this._total.next(r.total)}),this._search$.next()}_search(){let t,i,r={searchPages:t,total:i};const{pageSize:o,page:a,searchTerm:c}=this._state;return console.log("search : "+JSON.stringify(Im.scmList)),t=Im.scmList,t=t.filter(l=>function tut(n,e,t){return n.name?.toLowerCase().includes(e?.toLowerCase())||n.description?.toLowerCase().includes(e?.toLowerCase())||n.field_1?.toLowerCase().includes(e?.toLowerCase())||n.field_2?.toLowerCase().includes(e?.toLowerCase())||n.field_3?.toLowerCase().includes(e?.toLowerCase())||n.field_4?.toLowerCase().includes(e?.toLowerCase())||n.field_5?.toLowerCase().includes(e?.toLowerCase())||n.field_6?.toLowerCase().includes(e?.toLowerCase())||n.field_7?.toLowerCase().includes(e?.toLowerCase())}(l,c)),i=t.length,t=t.slice((a-1)*o,(a-1)*o+o),r={searchPages:t,total:i},ai(r)}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(t){this._Pagelist=t}get page(){return this._state.page}set page(t){this._set({page:t})}get pageSize(){return this._state.pageSize}set pageSize(t){this._set({pageSize:t})}get searchTerm(){return this._state.searchTerm}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}onSort({column:t,direction:i}){this.headers?.forEach(r=>{r.sortable!==t&&(r.direction="")}),this.sortColumn=t,this.sortDirection=i}InitializeSpeechRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=i=>{this.transcript=i.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=i=>{this.error=i.error,this.isListening=!1,console.error("Error:",this.error)},this.recognition.onend=()=>{console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}startListening(){this.recognition&&(console.log("listening started"),this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(console.log("listening ended"),this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t),this.searchTerm=this.transcript}else alert("No text to speak!")}clearText(){this.searchTerm=""}static{this.\u0275fac=function(i){return new(i||n)(yt(VM),yt(Qle))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-scm"]],viewQuery:function(i,r){if(1&i&&aA(nut,5),2&i){let A;Ii(A=Bi())&&(r.headers=A)}},decls:61,vars:26,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"click","disabled"],[3,"src"],[3,"click"],[1,"col","col-form-label"],["class","error",4,"ngIf"],[1,"table","table-striped","table-dark"],["align","left","scope","col","sortable","id"],["align","left","scope","col","sortable","done"],["align","left","scope","col","sortable","description"],["align","left","scope","col","sortable","name"],["align","left","scope","col","sortable","field_2"],["align","left","scope","col","sortable","field_4"],["align","left","scope","col","sortable","field_6"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],["routerLink","/Home"],[1,"error"],["scope","row"],["type","checkbox","name","done","id","done","value","done","readonly","",3,"checked"],[3,"result","term"],["target","_blank",3,"href"],["colspan","4",2,"text-align","center"]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"h1"),Re(2,"[SCM]"),he()(),mt(3,"hr"),pe(4,"form")(5,"div",1)(6,"label",2),Re(7,"Busqueda de Texto Completo:"),he(),pe(8,"div",3)(9,"input",4),lh("ngModelChange",function(s){return uf(r.searchTerm,s)||(r.searchTerm=s),s}),he()(),pe(10,"span",5)(11,"button",6),on("click",function(){return r.startListening()}),mt(12,"img",7),he(),pe(13,"button",6),on("click",function(){return r.stopListening()}),mt(14,"img",7),he(),pe(15,"button",6),on("click",function(){return r.speakText()}),mt(16,"img",7),he(),pe(17,"button",8),on("click",function(){return r.clearText()}),mt(18,"img",7),he()(),yn(19,Wlt,2,0,"span",9),Rl(20,"async"),yn(21,jlt,2,0,"span",9)(22,Zlt,3,1,"span",10),he(),pe(23,"table",11)(24,"thead")(25,"tr")(26,"th",12),Re(27,"#"),he(),pe(28,"th",13),Re(29,"(Hecho)"),he(),pe(30,"th",14),Re(31,"[Type]"),he(),pe(32,"th",15),Re(33,"[desc_1]"),he(),pe(34,"th",16),Re(35,"[desc_2]"),he(),pe(36,"th",17),Re(37,"[desc_3]"),he(),pe(38,"th",18),Re(39,"[desc_4]"),he()()(),pe(40,"tbody"),Iu(41,Xlt,19,16,"tr",null,zlt,!1,$lt,3,0,"tr"),Rl(44,"async"),he()(),pe(45,"div",19)(46,"ngb-pagination",20),Rl(47,"async"),lh("pageChange",function(s){return uf(r.page,s)||(r.page=s),s}),he(),pe(48,"select",21),lh("ngModelChange",function(s){return uf(r.pageSize,s)||(r.pageSize=s),s}),pe(49,"option",22),Re(50,"2 items por Pagina"),he(),pe(51,"option",22),Re(52,"4 items por Pagina"),he(),pe(53,"option",22),Re(54,"6 tems por Pagina"),he(),pe(55,"option",22),Re(56,"10 items por Pagina"),he()()()(),mt(57,"hr"),pe(58,"div",23)(59,"a",24),Re(60,"[Volver al Inicio]"),he()()),2&i&&(ke(9),ch("ngModel",r.searchTerm),ke(2),Xe("disabled",r.isListening),ke(),Xe("src",r.ListeningButtonIconOn,bs),ke(),Xe("disabled",!r.isListening),ke(),Xe("src",r.ListeningButtonIconOff,bs),ke(),Xe("disabled",r.isListening),ke(),Xe("src",r.SpeakerIcon,bs),ke(2),Xe("src",r.clearFormIcon,bs),ke(),zs(19,Tl(20,20,r.loading)?19:-1),ke(2),zs(21,r.isListening&&!r.error?21:-1),ke(),Xe("ngIf",r.error),ke(19),Bu(Tl(44,22,r._Pagelist)),ke(5),Xe("collectionSize",Tl(47,24,r.total)),ch("page",r.page),Xe("pageSize",r.pageSize),ke(2),ch("ngModel",r.pageSize),ke(),Xe("ngValue",2),ke(2),Xe("ngValue",4),ke(2),Xe("ngValue",6),ke(2),Xe("ngValue",10))},dependencies:[UA,Cc,v0,wI,_I,ff,N_,pm,I0,QI,E0,V8,z8,p0],styles:["img[_ngcontent-%COMP%]{width:15px;height:30px}"]})}}return n})(),rut=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-topics"]],decls:120,vars:0,consts:[["align","left"],["target","_blank","href","#"],["align","right"],["routerLink","/Home"]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"h1"),Re(2,"[TOPICS]"),he(),pe(3,"h2"),Re(4,"[Front End]"),he(),pe(5,"ul")(6,"li")(7,"a",1),Re(8,"[Angular/Typescript]"),he()(),pe(9,"li")(10,"a",1),Re(11,"[BootStrap]"),he()(),pe(12,"li")(13,"a",1),Re(14,"[Angular Material]"),he()(),pe(15,"li")(16,"a",1),Re(17,"[jquery/css/html]"),he()()(),pe(18,"h2"),Re(19,"[Backend]"),he(),pe(20,"ul")(21,"li")(22,"a",1),Re(23,"[c# / .NET CORE]"),he()(),pe(24,"li")(25,"a",1),Re(26,"[node.js]"),he()()(),pe(27,"h2"),Re(28,"[A.I.]"),he(),pe(29,"ul")(30,"li")(31,"a",1),Re(32,"Google Gemini"),he()(),pe(33,"li")(34,"a",1),Re(35,"Chat gtp"),he()(),pe(36,"li")(37,"a",1),Re(38,"C# Accord"),he()(),pe(39,"li")(40,"a",1),Re(41,"C++ OpenCV"),he()()(),pe(42,"h2"),Re(43,"[Algorithm]"),he(),pe(44,"ul")(45,"li")(46,"a",1),Re(47,"[TAOCP]"),he()(),pe(48,"li")(49,"a",1),Re(50,"[Coursera / Neural Networks / Machine Learning]"),he()()(),pe(51,"h2"),Re(52,"[Databases]"),he(),pe(53,"ul")(54,"li")(55,"a",1),Re(56,"[MS SQL SERVER]"),he()(),pe(57,"li")(58,"a",1),Re(59,"[ORACLE]"),he()(),pe(60,"li")(61,"a",1),Re(62,"[MY SQL]"),he()()(),pe(63,"h2"),Re(64,"[Software Engineering]"),he(),pe(65,"ul")(66,"li")(67,"a",1),Re(68,"[Swebok]"),he()(),pe(69,"li")(70,"a",1),Re(71,"[Solid]"),he()(),pe(72,"li")(73,"a",1),Re(74,"[Softeware Patterns]"),he()(),pe(75,"li")(76,"a",1),Re(77,"[Clean]"),he()()(),mt(78,"hr"),pe(79,"h4"),Re(80,"[Angular - Listado por Tema]"),he(),pe(81,"ul")(82,"li"),Re(83,"Formularios basados en plantillas."),he(),pe(84,"li"),Re(85,"Fomulaios reactivos."),he(),pe(86,"li"),Re(87,"Servicios (llamadas API Rest a backends .net o node.js)."),he(),pe(88,"li"),Re(89,"Pipes (formato de fecha)."),he(),pe(90,"li"),Re(91,"Injecci\xf3n de Dependencia."),he()(),mt(92,"hr"),pe(93,"h4"),Re(94,"[Angular - Listado Por Caracter\xedstica]"),he(),pe(95,"ul")(96,"li"),Re(97,"Lectura de archivos de configuraci\xf3n."),he(),pe(98,"li"),Re(99,"Interceptores (registro de llamadas http)"),he(),pe(100,"li"),Re(101,"Manejo de errores."),he(),pe(102,"li"),Re(103,"Manejo de Graficos (canvas)."),he(),pe(104,"li"),Re(105,"Graficos estadisticos tipo Pastel y barras."),he(),pe(106,"li"),Re(107,"Exportaciones pdf, xls, csv, pdf."),he(),pe(108,"li"),Re(109,"Algoritmos (minmax, camino m\xe1s corto)."),he(),pe(110,"li"),Re(111,"OCR (Reconocimientos de Caracteres)."),he(),pe(112,"li"),Re(113,"LLamado a Sockets via Node.js (Chat)."),he(),pe(114,"li"),Re(115,"Manipulaci\xf3n de bases de datos MS SQL Server desde .net Core (backend)."),he()()(),mt(116,"hr"),pe(117,"div",2)(118,"a",3),Re(119,"[Volver al Inicio]"),he()())},dependencies:[UA]})}}return n})(),Aut=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-about"]],decls:23,vars:0,consts:[["align","left"],["routerLink","/Topics"],["routerLink","/LLMs"],["routerLink","/SCM"],["routerLink","/ContactForm"],["routerLink","/Index"],["align","right"],["routerLink","/Home"]],template:function(i,r){1&i&&(pe(0,"div",0)(1,"h2"),Re(2,"[ABOUT]"),he(),pe(3,"ul")(4,"li")(5,"a",1),Re(6,"[Topics]"),he()(),pe(7,"li")(8,"a",2),Re(9,"[Large Language Models List]"),he()(),pe(10,"li")(11,"a",3),Re(12,"[Software Configuration Management]"),he()(),pe(13,"li")(14,"a",4),Re(15,"[Contact Form]"),he()(),pe(16,"li")(17,"a",5),Re(18,"[Index]"),he()()()(),mt(19,"hr"),pe(20,"div",6)(21,"a",7),Re(22,"[Volver al Inicio]"),he()())},dependencies:[UA]})}}return n})();var Xue=De(1162);function $8(n){var e="function"==typeof Symbol&&n[Symbol.iterator],t=0;return e?e.call(n):{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}}}function aut(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;n=t.call(n);var i,r=[];try{for(;(void 0===e||0<e--)&&!(i=n.next()).done;)r.push(i.value)}catch(s){var A={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(A)throw A.error}}return r}function cut(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(aut(arguments[e]));return n}var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Rc(n,e){return n(e={exports:{}},e.exports),e.exports}var Rr=Rc(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}});Cl(Rr);var lut=Rc(function(n,e){e.default="function"==typeof BigInt?BigInt:function(){throw Error("BigInt is not supported in this environment.")}}),Ry=Rc(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Rr.constants.S_IFMT,i=Rr.constants.S_IFDIR,r=Rr.constants.S_IFREG,A=Rr.constants.S_IFBLK,s=Rr.constants.S_IFCHR,o=Rr.constants.S_IFLNK,a=Rr.constants.S_IFIFO,c=Rr.constants.S_IFSOCK;n=function(){function l(){}return l.build=function(u,h){void 0===h&&(h=!1);var g=new l,f=u.gid,d=u.atime,m=u.mtime,p=u.ctime;return g.uid=(h=h?lut.default:function(I){return I})(u.uid),g.gid=h(f),g.rdev=h(0),g.blksize=h(4096),g.ino=h(u.ino),g.size=h(u.getSize()),g.blocks=h(1),g.atime=d,g.mtime=m,g.ctime=p,g.birthtime=p,g.atimeMs=h(d.getTime()),g.mtimeMs=h(m.getTime()),f=h(p.getTime()),g.ctimeMs=f,g.birthtimeMs=f,g.dev=h(0),g.mode=h(u.mode),g.nlink=h(u.nlink),g},l.prototype._checkModeProperty=function(u){return(Number(this.mode)&t)===u},l.prototype.isDirectory=function(){return this._checkModeProperty(i)},l.prototype.isFile=function(){return this._checkModeProperty(r)},l.prototype.isBlockDevice=function(){return this._checkModeProperty(A)},l.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},l.prototype.isSymbolicLink=function(){return this._checkModeProperty(o)},l.prototype.isFIFO=function(){return this._checkModeProperty(a)},l.prototype.isSocket=function(){return this._checkModeProperty(c)},l}(),e.Stats=n,e.default=n});Cl(Ry);var TB=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},Uf=[],bg=[],uut=typeof Uint8Array<"u"?Uint8Array:Array,eY=!1;function $ue(){eY=!0;for(var n=0;64>n;++n)Uf[n]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[n],bg["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(n)]=n;bg[45]=62,bg[95]=63}function gut(n,e,t){for(var i=[],r=e;r<t;r+=3)i.push(Uf[(e=(n[r]<<16)+(n[r+1]<<8)+n[r+2])>>18&63]+Uf[e>>12&63]+Uf[e>>6&63]+Uf[63&e]);return i.join("")}function ege(n){eY||$ue();for(var e=n.length,t=e%3,i="",r=[],A=0,s=e-t;A<s;A+=16383)r.push(gut(n,A,A+16383>s?s:A+16383));return 1===t?(i+=Uf[(n=n[e-1])>>2],i+=Uf[n<<4&63],i+="=="):2===t&&(i+=Uf[(n=(n[e-2]<<8)+n[e-1])>>10],i+=Uf[n>>4&63],i+=Uf[n<<2&63],i+="="),r.push(i),r.join("")}function PR(n,e,t,i,r){var A=8*r-i-1,s=(1<<A)-1,o=s>>1,a=-7,c=t?-1:1,l=n[e+(r=t?r-1:0)];for(r+=c,t=l&(1<<-a)-1,l>>=-a,a+=A;0<a;t=256*t+n[e+r],r+=c,a-=8);for(A=t&(1<<-a)-1,t>>=-a,a+=i;0<a;A=256*A+n[e+r],r+=c,a-=8);if(0===t)t=1-o;else{if(t===s)return A?NaN:1/0*(l?-1:1);A+=Math.pow(2,i),t-=o}return(l?-1:1)*A*Math.pow(2,t-i)}function HR(n,e,t,i,r,A){var s,o=8*A-r-1,a=(1<<o)-1,c=a>>1,l=23===r?Math.pow(2,-24)-Math.pow(2,-77):0;A=i?0:A-1;var u=i?1:-1,h=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(e=isNaN(e)?1:0,i=a):(i=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-i))&&(i--,s*=2),2<=(e=1<=i+c?e+l/s:e+l*Math.pow(2,1-c))*s&&(i++,s/=2),i+c>=a?(e=0,i=a):1<=i+c?(e=(e*s-1)*Math.pow(2,r),i+=c):(e=e*Math.pow(2,c-1)*Math.pow(2,r),i=0));8<=r;n[t+A]=255&e,A+=u,e/=256,r-=8);for(i=i<<r|e,o+=r;0<o;n[t+A]=255&i,A+=u,i/=256,o-=8);n[t+A-u]|=128*h}var hut={}.toString,tge=Array.isArray||function(n){return"[object Array]"==hut.call(n)},fut=(nn.TYPED_ARRAY_SUPPORT=void 0===TB.TYPED_ARRAY_SUPPORT||TB.TYPED_ARRAY_SUPPORT)?2147483647:1073741823;function ap(n,e){if((nn.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return nn.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e)).__proto__=nn.prototype:(null===n&&(n=new nn(e)),n.length=e),n}function nn(n,e,t){if(!(nn.TYPED_ARRAY_SUPPORT||this instanceof nn))return new nn(n,e,t);if("number"==typeof n){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return tY(this,n)}return nge(this,n,e,t)}function nge(n,e,t,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer){if(0>t||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),nn.TYPED_ARRAY_SUPPORT?(n=e).__proto__=nn.prototype:n=nY(n,e),n}if("string"==typeof e){if(i=n,("string"!=typeof(n=t)||""===n)&&(n="utf8"),!nn.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');return(e=(i=ap(i,t=0|rge(e,n))).write(e,n))!==t&&(i=i.slice(0,e)),i}return function dut(n,e){if(Of(e)){var t=0|iY(e.length);return 0===(n=ap(n,t)).length||e.copy(n,0,0,t),n}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return(t="number"!=typeof e.length)||(t=(t=e.length)!=t),t?ap(n,0):nY(n,e);if("Buffer"===e.type&&tge(e.data))return nY(n,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(n,e)}function ige(n){if("number"!=typeof n)throw new TypeError('"size" argument must be a number');if(0>n)throw new RangeError('"size" argument must not be negative')}function tY(n,e){if(ige(e),n=ap(n,0>e?0:0|iY(e)),!nn.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)n[t]=0;return n}function nY(n,e){var t=0>e.length?0:0|iY(e.length);n=ap(n,t);for(var i=0;i<t;i+=1)n[i]=255&e[i];return n}function iY(n){if(n>=(nn.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(nn.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|n}function Of(n){return!(null==n||!n._isBuffer)}function rge(n,e){if(Of(n))return n.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;"string"!=typeof n&&(n=""+n);var t=n.length;if(0===t)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return JR(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return lge(n).length;default:if(i)return JR(n).length;e=(""+e).toLowerCase(),i=!0}}function put(n,e,t){var i=!1;if((void 0===e||0>e)&&(e=0),e>this.length||((void 0===t||t>this.length)&&(t=this.length),0>=t)||(t>>>=0)<=(e>>>=0))return"";for(n||(n="utf8");;)switch(n){case"hex":for(n=e,e=t,t=this.length,(!n||0>n)&&(n=0),(!e||0>e||e>t)&&(e=t),i="",t=n;t<e;++t)i=(n=i)+(i=16>(i=this[t])?"0"+i.toString(16):i.toString(16));return i;case"utf8":case"utf-8":return oge(this,e,t);case"ascii":for(n="",t=Math.min(this.length,t);e<t;++e)n+=String.fromCharCode(127&this[e]);return n;case"latin1":case"binary":for(n="",t=Math.min(this.length,t);e<t;++e)n+=String.fromCharCode(this[e]);return n;case"base64":return ege(0===e&&t===this.length?this:this.slice(e,t));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,t),t="",n=0;n<e.length;n+=2)t+=String.fromCharCode(e[n]+256*e[n+1]);return t;default:if(i)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),i=!0}}function kB(n,e,t){var i=n[e];n[e]=n[t],n[t]=i}function Age(n,e,t,i,r){if(0===n.length)return-1;if("string"==typeof t?(i=t,t=0):2147483647<t?t=2147483647:-2147483648>t&&(t=-2147483648),t=+t,isNaN(t)&&(t=r?0:n.length-1),0>t&&(t=n.length+t),t>=n.length){if(r)return-1;t=n.length-1}else if(0>t){if(!r)return-1;t=0}if("string"==typeof e&&(e=nn.from(e,i)),Of(e))return 0===e.length?-1:sge(n,e,t,i,r);if("number"==typeof e)return e&=255,nn.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):sge(n,[e],t,i,r);throw new TypeError("val must be string, number or Buffer")}function sge(n,e,t,i,r){function A(c,l){return 1===s?c[l]:c.readUInt16BE(l*s)}var s=1,o=n.length,a=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(2>n.length||2>e.length)return-1;s=2,o/=2,a/=2,t/=2}if(r)for(i=-1;t<o;t++)if(A(n,t)===A(e,-1===i?0:t-i)){if(-1===i&&(i=t),t-i+1===a)return i*s}else-1!==i&&(t-=t-i),i=-1;else for(t+a>o&&(t=o-a);0<=t;t--){for(o=!0,i=0;i<a;i++)if(A(n,t+i)!==A(e,i)){o=!1;break}if(o)return t}return-1}function oge(n,e,t){t=Math.min(n.length,t);for(var i=[];e<t;){var r=n[e],A=null,s=239<r?4:223<r?3:191<r?2:1;if(e+s<=t)switch(s){case 1:128>r&&(A=r);break;case 2:var o=n[e+1];128==(192&o)&&127<(r=(31&r)<<6|63&o)&&(A=r);break;case 3:var a=n[e+2];128==(192&(o=n[e+1]))&&128==(192&a)&&2047<(r=(15&r)<<12|(63&o)<<6|63&a)&&(55296>r||57343<r)&&(A=r);break;case 4:a=n[e+2];var c=n[e+3];128==(192&(o=n[e+1]))&&128==(192&a)&&128==(192&c)&&65535<(r=(15&r)<<18|(63&o)<<12|(63&a)<<6|63&c)&&1114112>r&&(A=r)}null===A?(A=65533,s=1):65535<A&&(i.push((A-=65536)>>>10&1023|55296),A=56320|1023&A),i.push(A),e+=s}if((n=i.length)<=age)i=String.fromCharCode.apply(String,i);else{for(t="",e=0;e<n;)t+=String.fromCharCode.apply(String,i.slice(e,e+=age));i=t}return i}nn.poolSize=8192,nn._augment=function(n){return n.__proto__=nn.prototype,n},nn.from=function(n,e,t){return nge(null,n,e,t)},nn.TYPED_ARRAY_SUPPORT&&(nn.prototype.__proto__=Uint8Array.prototype,nn.__proto__=Uint8Array),nn.alloc=function(n,e,t){return ige(n),0>=n?ap(null,n):void 0!==e?"string"==typeof t?ap(null,n).fill(e,t):ap(null,n).fill(e):ap(null,n)},nn.allocUnsafe=function(n){return tY(null,n)},nn.allocUnsafeSlow=function(n){return tY(null,n)},nn.isBuffer=cp,nn.compare=function(n,e){if(!Of(n)||!Of(e))throw new TypeError("Arguments must be Buffers");if(n===e)return 0;for(var t=n.length,i=e.length,r=0,A=Math.min(t,i);r<A;++r)if(n[r]!==e[r]){t=n[r],i=e[r];break}return t<i?-1:i<t?1:0},nn.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},nn.concat=function(n,e){if(!tge(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return nn.alloc(0);var t;if(void 0===e)for(t=e=0;t<n.length;++t)e+=n[t].length;e=nn.allocUnsafe(e);var i=0;for(t=0;t<n.length;++t){var r=n[t];if(!Of(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(e,i),i+=r.length}return e},nn.byteLength=rge,nn.prototype._isBuffer=!0,nn.prototype.swap16=function(){var n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<n;e+=2)kB(this,e,e+1);return this},nn.prototype.swap32=function(){var n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<n;e+=4)kB(this,e,e+3),kB(this,e+1,e+2);return this},nn.prototype.swap64=function(){var n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<n;e+=8)kB(this,e,e+7),kB(this,e+1,e+6),kB(this,e+2,e+5),kB(this,e+3,e+4);return this},nn.prototype.toString=function(){var n=0|this.length;return 0===n?"":0===arguments.length?oge(this,0,n):put.apply(this,arguments)},nn.prototype.equals=function(n){if(!Of(n))throw new TypeError("Argument must be a Buffer");return this===n||0===nn.compare(this,n)},nn.prototype.inspect=function(){var n="";return 0<this.length&&(n=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(n+=" ... ")),"<Buffer "+n+">"},nn.prototype.compare=function(n,e,t,i,r){if(!Of(n))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===t&&(t=n?n.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),0>e||t>n.length||0>i||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=t)return 0;if(i>=r)return-1;if(e>=t)return 1;if(this===n)return 0;var A=(r>>>=0)-(i>>>=0),s=(t>>>=0)-(e>>>=0),o=Math.min(A,s);for(i=this.slice(i,r),n=n.slice(e,t),e=0;e<o;++e)if(i[e]!==n[e]){A=i[e],s=n[e];break}return A<s?-1:s<A?1:0},nn.prototype.includes=function(n,e,t){return-1!==this.indexOf(n,e,t)},nn.prototype.indexOf=function(n,e,t){return Age(this,n,e,t,!0)},nn.prototype.lastIndexOf=function(n,e,t){return Age(this,n,e,t,!1)},nn.prototype.write=function(n,e,t,i){if(void 0===e)i="utf8",t=this.length,e=0;else if(void 0===t&&"string"==typeof e)i=e,t=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(t)?(t|=0,void 0===i&&(i="utf8")):(i=t,t=void 0)}var r=this.length-e;if((void 0===t||t>r)&&(t=r),0<n.length&&(0>t||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(i||(i="utf8"),r=!1;;)switch(i){case"hex":e:{if(e=Number(e)||0,i=this.length-e,t?(t=Number(t))>i&&(t=i):t=i,(i=n.length)%2!=0)throw new TypeError("Invalid hex string");for(t>i/2&&(t=i/2),i=0;i<t;++i){if(r=parseInt(n.substr(2*i,2),16),isNaN(r)){n=i;break e}this[e+i]=r}n=i}return n;case"utf8":case"utf-8":return QD(JR(n,this.length-e),this,e,t);case"ascii":case"latin1":case"binary":return QD(cge(n),this,e,t);case"base64":return QD(lge(n),this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=n,r=this.length-e;for(var A=[],s=0;s<i.length&&!(0>(r-=2));++s){var o=i.charCodeAt(s);n=o>>8,A.push(o%=256),A.push(n)}return QD(A,this,e,t);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},nn.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var age=4096;function xa(n,e,t){if(n%1!=0||0>n)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}function $l(n,e,t,i,r,A){if(!Of(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<A)throw new RangeError('"value" argument is out of bounds');if(t+i>n.length)throw new RangeError("Index out of range")}function YR(n,e,t,i){0>e&&(e=65535+e+1);for(var r=0,A=Math.min(n.length-t,2);r<A;++r)n[t+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function KR(n,e,t,i){0>e&&(e=4294967295+e+1);for(var r=0,A=Math.min(n.length-t,4);r<A;++r)n[t+r]=e>>>8*(i?r:3-r)&255}function qR(n,e,t,i){if(t+i>n.length)throw new RangeError("Index out of range");if(0>t)throw new RangeError("Index out of range")}nn.prototype.slice=function(n,e){var t=this.length;if(0>(n=~~n)?0>(n+=t)&&(n=0):n>t&&(n=t),0>(e=void 0===e?t:~~e)?0>(e+=t)&&(e=0):e>t&&(e=t),e<n&&(e=n),nn.TYPED_ARRAY_SUPPORT)(e=this.subarray(n,e)).__proto__=nn.prototype;else{e=new nn(t=e-n,void 0);for(var i=0;i<t;++i)e[i]=this[i+n]}return e},nn.prototype.readUIntLE=function(n,e,t){n|=0,e|=0,t||xa(n,e,this.length),t=this[n];for(var i=1,r=0;++r<e&&(i*=256);)t+=this[n+r]*i;return t},nn.prototype.readUIntBE=function(n,e,t){n|=0,e|=0,t||xa(n,e,this.length),t=this[n+--e];for(var i=1;0<e&&(i*=256);)t+=this[n+--e]*i;return t},nn.prototype.readUInt8=function(n,e){return e||xa(n,1,this.length),this[n]},nn.prototype.readUInt16LE=function(n,e){return e||xa(n,2,this.length),this[n]|this[n+1]<<8},nn.prototype.readUInt16BE=function(n,e){return e||xa(n,2,this.length),this[n]<<8|this[n+1]},nn.prototype.readUInt32LE=function(n,e){return e||xa(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},nn.prototype.readUInt32BE=function(n,e){return e||xa(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},nn.prototype.readIntLE=function(n,e,t){n|=0,e|=0,t||xa(n,e,this.length),t=this[n];for(var i=1,r=0;++r<e&&(i*=256);)t+=this[n+r]*i;return t>=128*i&&(t-=Math.pow(2,8*e)),t},nn.prototype.readIntBE=function(n,e,t){n|=0,e|=0,t||xa(n,e,this.length),t=e;for(var i=1,r=this[n+--t];0<t&&(i*=256);)r+=this[n+--t]*i;return r>=128*i&&(r-=Math.pow(2,8*e)),r},nn.prototype.readInt8=function(n,e){return e||xa(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},nn.prototype.readInt16LE=function(n,e){return e||xa(n,2,this.length),32768&(n=this[n]|this[n+1]<<8)?4294901760|n:n},nn.prototype.readInt16BE=function(n,e){return e||xa(n,2,this.length),32768&(n=this[n+1]|this[n]<<8)?4294901760|n:n},nn.prototype.readInt32LE=function(n,e){return e||xa(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},nn.prototype.readInt32BE=function(n,e){return e||xa(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},nn.prototype.readFloatLE=function(n,e){return e||xa(n,4,this.length),PR(this,n,!0,23,4)},nn.prototype.readFloatBE=function(n,e){return e||xa(n,4,this.length),PR(this,n,!1,23,4)},nn.prototype.readDoubleLE=function(n,e){return e||xa(n,8,this.length),PR(this,n,!0,52,8)},nn.prototype.readDoubleBE=function(n,e){return e||xa(n,8,this.length),PR(this,n,!1,52,8)},nn.prototype.writeUIntLE=function(n,e,t,i){n=+n,e|=0,t|=0,i||$l(this,n,e,t,Math.pow(2,8*t)-1,0),i=1;var r=0;for(this[e]=255&n;++r<t&&(i*=256);)this[e+r]=n/i&255;return e+t},nn.prototype.writeUIntBE=function(n,e,t,i){n=+n,e|=0,t|=0,i||$l(this,n,e,t,Math.pow(2,8*t)-1,0);var r=1;for(this[e+(i=t-1)]=255&n;0<=--i&&(r*=256);)this[e+i]=n/r&255;return e+t},nn.prototype.writeUInt8=function(n,e,t){return n=+n,e|=0,t||$l(this,n,e,1,255,0),nn.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),this[e]=255&n,e+1},nn.prototype.writeUInt16LE=function(n,e,t){return n=+n,e|=0,t||$l(this,n,e,2,65535,0),nn.TYPED_ARRAY_SUPPORT?(this[e]=255&n,this[e+1]=n>>>8):YR(this,n,e,!0),e+2},nn.prototype.writeUInt16BE=function(n,e,t){return n=+n,e|=0,t||$l(this,n,e,2,65535,0),nn.TYPED_ARRAY_SUPPORT?(this[e]=n>>>8,this[e+1]=255&n):YR(this,n,e,!1),e+2},nn.prototype.writeUInt32LE=function(n,e,t){return n=+n,e|=0,t||$l(this,n,e,4,4294967295,0),nn.TYPED_ARRAY_SUPPORT?(this[e+3]=n>>>24,this[e+2]=n>>>16,this[e+1]=n>>>8,this[e]=255&n):KR(this,n,e,!0),e+4},nn.prototype.writeUInt32BE=function(n,e,t){return n=+n,e|=0,t||$l(this,n,e,4,4294967295,0),nn.TYPED_ARRAY_SUPPORT?(this[e]=n>>>24,this[e+1]=n>>>16,this[e+2]=n>>>8,this[e+3]=255&n):KR(this,n,e,!1),e+4},nn.prototype.writeIntLE=function(n,e,t,i){n=+n,e|=0,i||$l(this,n,e,t,(i=Math.pow(2,8*t-1))-1,-i),i=0;var r=1,A=0;for(this[e]=255&n;++i<t&&(r*=256);)0>n&&0===A&&0!==this[e+i-1]&&(A=1),this[e+i]=(n/r|0)-A&255;return e+t},nn.prototype.writeIntBE=function(n,e,t,i){n=+n,e|=0,i||$l(this,n,e,t,(i=Math.pow(2,8*t-1))-1,-i);var r=1,A=0;for(this[e+(i=t-1)]=255&n;0<=--i&&(r*=256);)0>n&&0===A&&0!==this[e+i+1]&&(A=1),this[e+i]=(n/r|0)-A&255;return e+t},nn.prototype.writeInt8=function(n,e,t){return n=+n,e|=0,t||$l(this,n,e,1,127,-128),nn.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),0>n&&(n=255+n+1),this[e]=255&n,e+1},nn.prototype.writeInt16LE=function(n,e,t){return n=+n,e|=0,t||$l(this,n,e,2,32767,-32768),nn.TYPED_ARRAY_SUPPORT?(this[e]=255&n,this[e+1]=n>>>8):YR(this,n,e,!0),e+2},nn.prototype.writeInt16BE=function(n,e,t){return n=+n,e|=0,t||$l(this,n,e,2,32767,-32768),nn.TYPED_ARRAY_SUPPORT?(this[e]=n>>>8,this[e+1]=255&n):YR(this,n,e,!1),e+2},nn.prototype.writeInt32LE=function(n,e,t){return n=+n,e|=0,t||$l(this,n,e,4,2147483647,-2147483648),nn.TYPED_ARRAY_SUPPORT?(this[e]=255&n,this[e+1]=n>>>8,this[e+2]=n>>>16,this[e+3]=n>>>24):KR(this,n,e,!0),e+4},nn.prototype.writeInt32BE=function(n,e,t){return n=+n,e|=0,t||$l(this,n,e,4,2147483647,-2147483648),0>n&&(n=4294967295+n+1),nn.TYPED_ARRAY_SUPPORT?(this[e]=n>>>24,this[e+1]=n>>>16,this[e+2]=n>>>8,this[e+3]=255&n):KR(this,n,e,!1),e+4},nn.prototype.writeFloatLE=function(n,e,t){return t||qR(this,0,e,4),HR(this,n,e,!0,23,4),e+4},nn.prototype.writeFloatBE=function(n,e,t){return t||qR(this,0,e,4),HR(this,n,e,!1,23,4),e+4},nn.prototype.writeDoubleLE=function(n,e,t){return t||qR(this,0,e,8),HR(this,n,e,!0,52,8),e+8},nn.prototype.writeDoubleBE=function(n,e,t){return t||qR(this,0,e,8),HR(this,n,e,!1,52,8),e+8},nn.prototype.copy=function(n,e,t,i){if(t||(t=0),i||0===i||(i=this.length),e>=n.length&&(e=n.length),e||(e=0),0<i&&i<t&&(i=t),i===t||0===n.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>t||t>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),n.length-e<i-t&&(i=n.length-e+t);var r=i-t;if(this===n&&t<e&&e<i)for(i=r-1;0<=i;--i)n[i+e]=this[i+t];else if(1e3>r||!nn.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)n[i+e]=this[i+t];else Uint8Array.prototype.set.call(n,this.subarray(t,t+r),e);return r},nn.prototype.fill=function(n,e,t,i){if("string"==typeof n){if("string"==typeof e?(i=e,e=0,t=this.length):"string"==typeof t&&(i=t,t=this.length),1===n.length){var r=n.charCodeAt(0);256>r&&(n=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!nn.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof n&&(n&=255);if(0>e||this.length<e||this.length<t)throw new RangeError("Out of range index");if(t<=e)return this;if(e>>>=0,t=void 0===t?this.length:t>>>0,n||(n=0),"number"==typeof n)for(i=e;i<t;++i)this[i]=n;else for(r=(n=Of(n)?n:JR(new nn(n,i).toString())).length,i=0;i<t-e;++i)this[i+e]=n[i%r];return this};var mut=/[^+\/0-9A-Za-z-_]/g;function JR(n,e){e=e||1/0;for(var t,i=n.length,r=null,A=[],s=0;s<i;++s){if(55295<(t=n.charCodeAt(s))&&57344>t){if(!r){if(56319<t){-1<(e-=3)&&A.push(239,191,189);continue}if(s+1===i){-1<(e-=3)&&A.push(239,191,189);continue}r=t;continue}if(56320>t){-1<(e-=3)&&A.push(239,191,189),r=t;continue}t=65536+(r-55296<<10|t-56320)}else r&&-1<(e-=3)&&A.push(239,191,189);if(r=null,128>t){if(0>--e)break;A.push(t)}else if(2048>t){if(0>(e-=2))break;A.push(t>>6|192,63&t|128)}else if(65536>t){if(0>(e-=3))break;A.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(1114112>t))throw Error("Invalid code point");if(0>(e-=4))break;A.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return A}function cge(n){for(var e=[],t=0;t<n.length;++t)e.push(255&n.charCodeAt(t));return e}function lge(n){if(2>(n=(n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")).replace(mut,"")).length)n="";else for(;n.length%4!=0;)n+="=";eY||$ue();var e=n.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var t="="===n[e-2]?2:"="===n[e-1]?1:0,i=new uut(3*e/4-t),r=0<t?e-4:e,A=0;for(e=0;e<r;e+=4){var s=bg[n.charCodeAt(e)]<<18|bg[n.charCodeAt(e+1)]<<12|bg[n.charCodeAt(e+2)]<<6|bg[n.charCodeAt(e+3)];i[A++]=s>>16&255,i[A++]=s>>8&255,i[A++]=255&s}return 2===t?(s=bg[n.charCodeAt(e)]<<2|bg[n.charCodeAt(e+1)]>>4,i[A++]=255&s):1===t&&(s=bg[n.charCodeAt(e)]<<10|bg[n.charCodeAt(e+1)]<<4|bg[n.charCodeAt(e+2)]>>2,i[A++]=s>>8&255,i[A++]=255&s),i}function QD(n,e,t,i){for(var r=0;r<i&&!(r+t>=e.length||r>=n.length);++r)e[r+t]=n[r];return r}function cp(n){return null!=n&&(!!n._isBuffer||uge(n)||"function"==typeof n.readFloatLE&&"function"==typeof n.slice&&uge(n.slice(0,0)))}function uge(n){return!!n.constructor&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)}var wD=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:fut,Buffer:nn,SlowBuffer:function(n){return+n!=n&&(n=0),nn.alloc(+n)},isBuffer:cp}),Zs=Rc(function(n,e){function t(r){for(var A=[],s=1;s<arguments.length;s++)A[s-1]=arguments[s];return new(wD.Buffer.bind.apply(wD.Buffer,i([void 0,r],A)))}var i=qo&&qo.__spreadArrays||function(){for(var r=0,A=0,s=arguments.length;A<s;A++)r+=arguments[A].length;r=Array(r);var o=0;for(A=0;A<s;A++)for(var a=arguments[A],c=0,l=a.length;c<l;c++,o++)r[o]=a[c];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=wD.Buffer,e.bufferAllocUnsafe=wD.Buffer.allocUnsafe||t,e.bufferFrom=wD.Buffer.from||t});function gge(){throw Error("setTimeout has not been defined")}function hge(){throw Error("clearTimeout has not been defined")}Cl(Zs);var aC=gge,cC=hge;function fge(n){if(aC===setTimeout)return setTimeout(n,0);if((aC===gge||!aC)&&setTimeout)return aC=setTimeout,setTimeout(n,0);try{return aC(n,0)}catch{try{return aC.call(null,n,0)}catch{return aC.call(this,n,0)}}}"function"==typeof TB.setTimeout&&(aC=setTimeout),"function"==typeof TB.clearTimeout&&(cC=clearTimeout);var LB,lp=[],Ty=!1,VR=-1;function Iut(){Ty&&LB&&(Ty=!1,LB.length?lp=LB.concat(lp):VR=-1,lp.length&&dge())}function dge(){if(!Ty){var n=fge(Iut);Ty=!0;for(var e=lp.length;e;){for(LB=lp,lp=[];++VR<e;)LB&&LB[VR].run();VR=-1,e=lp.length}LB=null,Ty=!1,function Cut(n){if(cC===clearTimeout)return clearTimeout(n);if((cC===hge||!cC)&&clearTimeout)return cC=clearTimeout,clearTimeout(n);try{return cC(n)}catch{try{return cC.call(null,n)}catch{return cC.call(this,n)}}}(n)}}function ku(n){var e=Array(arguments.length-1);if(1<arguments.length)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];lp.push(new pge(n,e)),1!==lp.length||Ty||fge(dge)}function pge(n,e){this.fun=n,this.array=e}function UB(){}pge.prototype.run=function(){this.fun.apply(null,this.array)};var ky=TB.performance||{},But=ky.now||ky.mozNow||ky.msNow||ky.oNow||ky.webkitNow||function(){return(new Date).getTime()},Eut=new Date,Ly={nextTick:ku,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:UB,addListener:UB,once:UB,off:UB,removeListener:UB,removeAllListeners:UB,emit:UB,binding:function(){throw Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(){throw Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(n){var e=.001*But.call(ky),t=Math.floor(e);return e=Math.floor(e%1*1e9),n&&(t-=n[0],0>(e-=n[1])&&(t--,e+=1e9)),[t,e]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Eut)/1e3}},lC="function"==typeof Object.create?function(n,e){n.super_=e,n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,e){function t(){}n.super_=e,t.prototype=e.prototype,n.prototype=new t,n.prototype.constructor=n},vut=/%[sdj%]/g;function rY(n){if(!OB(n)){for(var e=[],t=0;t<arguments.length;t++)e.push(Gf(arguments[t]));return e.join(" ")}t=1;var i=arguments,r=i.length;e=String(n).replace(vut,function(s){if("%%"===s)return"%";if(t>=r)return s;switch(s){case"%s":return String(i[t++]);case"%d":return Number(i[t++]);case"%j":try{return JSON.stringify(i[t++])}catch{return"[Circular]"}default:return s}});for(var A=i[t];t<r;A=i[++t])e=null!==A&&uC(A)?e+" "+Gf(A):e+" "+A;return e}function AY(n,e){if(up(TB.process))return function(){return AY(n,e).apply(this,arguments)};if(!0===Ly.noDeprecation)return n;var t=!1;return function(){if(!t){if(Ly.throwDeprecation)throw Error(e);Ly.traceDeprecation?console.trace(e):console.error(e),t=!0}return n.apply(this,arguments)}}var sY,zR={};function mge(n){return up(sY)&&(sY=Ly.env.NODE_DEBUG||""),n=n.toUpperCase(),zR[n]||(zR[n]=new RegExp("\\b"+n+"\\b","i").test(sY)?function(){var e=rY.apply(null,arguments);console.error("%s %d: %s",n,0,e)}:function(){}),zR[n]}function Gf(n,e){var t={seen:[],stylize:Qut};return 3<=arguments.length&&(t.depth=arguments[2]),4<=arguments.length&&(t.colors=arguments[3]),cY(e)?t.showHidden=e:e&&Bge(t,e),up(t.showHidden)&&(t.showHidden=!1),up(t.depth)&&(t.depth=2),up(t.colors)&&(t.colors=!1),up(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=yut),WR(t,n,t.depth)}function yut(n,e){return(e=Gf.styles[e])?"\x1b["+Gf.colors[e][0]+"m"+n+"\x1b["+Gf.colors[e][1]+"m":n}function Qut(n){return n}function WR(n,e,t){if(n.customInspect&&e&&Oy(e.inspect)&&e.inspect!==Gf&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(t,n);return OB(i)||(i=WR(n,i,t)),i}if(i=function _ut(n,e){return up(e)?n.stylize("undefined","undefined"):OB(e)?(e="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",n.stylize(e,"string")):Ige(e)?n.stylize(""+e,"number"):cY(e)?n.stylize(""+e,"boolean"):null===e?n.stylize("null","null"):void 0}(n,e))return i;var r=Object.keys(e),A=function wut(n){var e={};return n.forEach(function(t){e[t]=!0}),e}(r);if(n.showHidden&&(r=Object.getOwnPropertyNames(e)),DD(e)&&(0<=r.indexOf("message")||0<=r.indexOf("description")))return oY(e);if(0===r.length){if(Oy(e))return n.stylize("[Function"+(e.name?": "+e.name:"")+"]","special");if(Uy(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(_D(e))return n.stylize(Date.prototype.toString.call(e),"date");if(DD(e))return oY(e)}i="";var s=!1,o=["{","}"];return Cge(e)&&(s=!0,o=["[","]"]),Oy(e)&&(i=" [Function"+(e.name?": "+e.name:"")+"]"),Uy(e)&&(i=" "+RegExp.prototype.toString.call(e)),_D(e)&&(i=" "+Date.prototype.toUTCString.call(e)),DD(e)&&(i=" "+oY(e)),0!==r.length||s&&0!=e.length?0>t?Uy(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special"):(n.seen.push(e),r=s?function Dut(n,e,t,i,r){for(var A=[],s=0,o=e.length;s<o;++s)Object.prototype.hasOwnProperty.call(e,String(s))?A.push(aY(n,e,t,i,String(s),!0)):A.push("");return r.forEach(function(a){a.match(/^\d+$/)||A.push(aY(n,e,t,i,a,!0))}),A}(n,e,t,A,r):r.map(function(a){return aY(n,e,t,A,a,s)}),n.seen.pop(),function but(n,e,t){return 60<n.reduce(function(i,r){return r.indexOf("\n"),i+r.replace(/\u001b\[\d\d?m/g,"").length+1},0)?t[0]+(""===e?"":e+"\n ")+" "+n.join(",\n  ")+" "+t[1]:t[0]+e+" "+n.join(", ")+" "+t[1]}(r,i,o)):o[0]+i+o[1]}function oY(n){return"["+Error.prototype.toString.call(n)+"]"}function aY(n,e,t,i,r,A){var s,o;if((e=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?o=n.stylize(e.set?"[Getter/Setter]":"[Getter]","special"):e.set&&(o=n.stylize("[Setter]","special")),Object.prototype.hasOwnProperty.call(i,r)||(s="["+r+"]"),o||(0>n.seen.indexOf(e.value)?-1<(o=WR(n,e.value,null===t?null:t-1)).indexOf("\n")&&(o=A?o.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+o.split("\n").map(function(a){return"   "+a}).join("\n")):o=n.stylize("[Circular]","special")),up(s)){if(A&&r.match(/^\d+$/))return o;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=n.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=n.stylize(s,"string"))}return s+": "+o}function Cge(n){return Array.isArray(n)}function cY(n){return"boolean"==typeof n}function Ige(n){return"number"==typeof n}function OB(n){return"string"==typeof n}function up(n){return void 0===n}function Uy(n){return uC(n)&&"[object RegExp]"===Object.prototype.toString.call(n)}function uC(n){return"object"==typeof n&&null!==n}function _D(n){return uC(n)&&"[object Date]"===Object.prototype.toString.call(n)}function DD(n){return uC(n)&&("[object Error]"===Object.prototype.toString.call(n)||n instanceof Error)}function Oy(n){return"function"==typeof n}function lY(n){return null===n||"boolean"==typeof n||"number"==typeof n||"string"==typeof n||"symbol"==typeof n||typeof n>"u"}function uY(n){return 10>n?"0"+n.toString(10):n.toString(10)}Gf.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Gf.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Sut="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");function Bge(n,e){if(!e||!uC(e))return n;for(var t=Object.keys(e),i=t.length;i--;)n[t[i]]=e[t[i]];return n}var bD={inherits:lC,_extend:Bge,log:function(){console.log("%s - %s",function Mut(){var n=new Date,e=[uY(n.getHours()),uY(n.getMinutes()),uY(n.getSeconds())].join(":");return[n.getDate(),Sut[n.getMonth()],e].join(" ")}(),rY.apply(null,arguments))},isBuffer:function(n){return cp(n)},isPrimitive:lY,isFunction:Oy,isError:DD,isDate:_D,isObject:uC,isRegExp:Uy,isUndefined:up,isSymbol:function(n){return"symbol"==typeof n},isString:OB,isNumber:Ige,isNullOrUndefined:function(n){return null==n},isNull:function(n){return null===n},isBoolean:cY,isArray:Cge,inspect:Gf,deprecate:AY,format:rY,debuglog:mge};function Ege(n,e){if(n===e)return 0;for(var t=n.length,i=e.length,r=0,A=Math.min(t,i);r<A;++r)if(n[r]!==e[r]){t=n[r],i=e[r];break}return t<i?-1:i<t?1:0}var gY,Nut=Object.prototype.hasOwnProperty,vge=Object.keys||function(n){var t,e=[];for(t in n)Nut.call(n,t)&&e.push(t);return e},yge=Array.prototype.slice;function Qge(){return typeof gY<"u"?gY:gY="foo"===function(){}.name}function wge(n){return!cp(n)&&"function"==typeof TB.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):!!n&&!!(n instanceof DataView||n.buffer&&n.buffer instanceof ArrayBuffer))}function uo(n,e){n||eu(n,!0,e,"==",fY)}var xut=/\s*function\s+([^\(\s]*)\s*/;function _ge(n){if(Oy(n))return Qge()?n.name:(n=n.toString().match(xut))&&n[1]}function hY(n){this.name="AssertionError",this.actual=n.actual,this.expected=n.expected,this.operator=n.operator,n.message?(this.message=n.message,this.generatedMessage=!1):(this.message=Dge(bge(this.actual),128)+" "+this.operator+" "+Dge(bge(this.expected),128),this.generatedMessage=!0);var e=n.stackStartFunction||eu;Error.captureStackTrace?Error.captureStackTrace(this,e):(n=Error()).stack&&(n=n.stack,e=_ge(e),0<=(e=n.indexOf("\n"+e))&&(e=n.indexOf("\n",e+1),n=n.substring(e+1)),this.stack=n)}function Dge(n,e){return"string"==typeof n?n.length<e?n:n.slice(0,e):n}function bge(n){return Qge()||!Oy(n)?Gf(n):"[Function"+((n=_ge(n))?": "+n:"")+"]"}function eu(n,e,t,i,r){throw new hY({message:t,actual:n,expected:e,operator:i,stackStartFunction:r})}function fY(n,e){n||eu(n,!0,e,"==",fY)}function Gy(n,e,t,i){if(n===e)return!0;if(cp(n)&&cp(e))return 0===Ege(n,e);if(_D(n)&&_D(e))return n.getTime()===e.getTime();if(Uy(n)&&Uy(e))return n.source===e.source&&n.global===e.global&&n.multiline===e.multiline&&n.lastIndex===e.lastIndex&&n.ignoreCase===e.ignoreCase;if(null!==n&&"object"==typeof n||null!==e&&"object"==typeof e){if(!wge(n)||!wge(e)||Object.prototype.toString.call(n)!==Object.prototype.toString.call(e)||n instanceof Float32Array||n instanceof Float64Array){if(cp(n)!==cp(e))return!1;var r=(i=i||{actual:[],expected:[]}).actual.indexOf(n);return-1!==r&&r===i.expected.indexOf(e)||(i.actual.push(n),i.expected.push(e),function Fut(n,e,t,i){if(null==n||null==e)return!1;if(lY(n)||lY(e))return n===e;if(t&&Object.getPrototypeOf(n)!==Object.getPrototypeOf(e))return!1;var r=Fge(n),A=Fge(e);if(r&&!A||!r&&A)return!1;if(r)return Gy(n=yge.call(n),e=yge.call(e),t);r=vge(n);var s=vge(e);if(r.length!==s.length)return!1;for(r.sort(),s.sort(),A=r.length-1;0<=A;A--)if(r[A]!==s[A])return!1;for(A=r.length-1;0<=A;A--)if(!Gy(n[s=r[A]],e[s],t,i))return!1;return!0}(n,e,t,i))}return 0===Ege(new Uint8Array(n.buffer),new Uint8Array(e.buffer))}return t?n===e:n==e}function Fge(n){return"[object Arguments]"==Object.prototype.toString.call(n)}function Uge(n,e){if(!n||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(n);try{if(n instanceof e)return!0}catch{}return!Error.isPrototypeOf(e)&&!0===e.call({},n)}function Oge(n,e,t,i){if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof t&&(i=t,t=null);try{e()}catch(o){var r=o}e=r,i=(t&&t.name?" ("+t.name+").":".")+(i?" "+i:"."),n&&!e&&eu(e,t,"Missing expected exception"+i),r="string"==typeof i;var s=!n&&e&&!t;if((!n&&DD(e)&&r&&Uge(e,t)||s)&&eu(e,t,"Got unwanted exception"+i),n&&e&&t&&!Uge(e,t)||!n&&e)throw e}uo.AssertionError=hY,lC(hY,Error),uo.fail=eu,uo.ok=fY,uo.equal=function Sge(n,e,t){n!=e&&eu(n,e,t,"==",Sge)},uo.notEqual=function Mge(n,e,t){n==e&&eu(n,e,t,"!=",Mge)},uo.deepEqual=function Nge(n,e,t){Gy(n,e,!1)||eu(n,e,t,"deepEqual",Nge)},uo.deepStrictEqual=function xge(n,e,t){Gy(n,e,!0)||eu(n,e,t,"deepStrictEqual",xge)},uo.notDeepEqual=function Rge(n,e,t){Gy(n,e,!1)&&eu(n,e,t,"notDeepEqual",Rge)},uo.notDeepStrictEqual=function Tge(n,e,t){Gy(n,e,!0)&&eu(n,e,t,"notDeepStrictEqual",Tge)},uo.strictEqual=function kge(n,e,t){n!==e&&eu(n,e,t,"===",kge)},uo.notStrictEqual=function Lge(n,e,t){n===e&&eu(n,e,t,"!==",Lge)},uo.throws=function Rut(n,e,t){Oge(!0,n,e,t)},uo.doesNotThrow=function Tut(n,e,t){Oge(!1,n,e,t)},uo.ifError=function kut(n){if(n)throw n};var SD=Rc(function(n,e){function t(c){return function(l){function u(h){for(var g=[],f=1;f<arguments.length;f++)g[f-1]=arguments[f];return(g=l.call(this,i(h,g))||this).code=h,g[o]=h,g.name=l.prototype.name+" ["+g[o]+"]",g}return s(u,l),u}(c)}function i(c,l){uo.strictEqual(typeof c,"string");var u=a[c];if(uo(u,"An invalid error message key was used: "+c+"."),"function"==typeof u)c=u;else{if(c=bD.format,void 0===l||0===l.length)return u;l.unshift(u)}return String(c.apply(null,l))}function r(c,l){a[c]="function"==typeof l?l:String(l)}function A(c,l){if(uo(c,"expected is required"),uo("string"==typeof l,"thing is required"),Array.isArray(c)){var u=c.length;return uo(0<u,"At least one expected value needs to be specified"),c=c.map(function(h){return String(h)}),2<u?"one of "+l+" "+c.slice(0,u-1).join(", ")+", or "+c[u-1]:2===u?"one of "+l+" "+c[0]+" or "+c[1]:"of "+l+" "+c[0]}return"of "+l+" "+String(c)}var s=qo&&qo.__extends||function(){function c(l,u){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var f in g)g.hasOwnProperty(f)&&(h[f]=g[f])})(l,u)}return function(l,u){function h(){this.constructor=l}c(l,u),l.prototype=null===u?Object.create(u):(h.prototype=u.prototype,new h)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=typeof Symbol>"u"?"_kCode":Symbol("code"),a={};n=function(c){function l(u){if("object"!=typeof u||null===u)throw new e.TypeError("ERR_INVALID_ARG_TYPE","options","object");var h=u.message?c.call(this,u.message)||this:c.call(this,bD.inspect(u.actual).slice(0,128)+" "+u.operator+" "+bD.inspect(u.expected).slice(0,128))||this;return h.generatedMessage=!u.message,h.name="AssertionError [ERR_ASSERTION]",h.code="ERR_ASSERTION",h.actual=u.actual,h.expected=u.expected,h.operator=u.operator,e.Error.captureStackTrace(h,u.stackStartFunction),h}return s(l,c),l}(qo.Error),e.AssertionError=n,e.message=i,e.E=r,e.Error=t(qo.Error),e.TypeError=t(qo.TypeError),e.RangeError=t(qo.RangeError),r("ERR_ARG_NOT_ITERABLE","%s must be iterable"),r("ERR_ASSERTION","%s"),r("ERR_BUFFER_OUT_OF_BOUNDS",function(c,l){return l?"Attempt to write outside buffer bounds":'"'+c+'" is outside of buffer bounds'}),r("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),r("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),r("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),r("ERR_DNS_SET_SERVERS_FAILED",function(c,l){return'c-ares failed to set servers: "'+c+'" ['+l+"]"}),r("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),r("ERR_ENCODING_NOT_SUPPORTED",function(c){return'The "'+c+'" encoding is not supported'}),r("ERR_ENCODING_INVALID_ENCODED_DATA",function(c){return"The encoded data was not valid for encoding "+c}),r("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),r("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),r("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),r("ERR_INDEX_OUT_OF_RANGE","Index out of range"),r("ERR_INVALID_ARG_TYPE",function(c,l,u){if(uo(c,"name is required"),l.includes("not ")){var h="must not be";l=l.split("not ")[1]}else h="must be";if(Array.isArray(c))h="The "+c.map(function(f){return'"'+f+'"'}).join(", ")+" arguments "+h+" "+A(l,"type");else if(c.includes(" argument"))h="The "+c+" "+h+" "+A(l,"type");else{var g=c.includes(".")?"property":"argument";h='The "'+c+'" '+g+" "+h+" "+A(l,"type")}return 3<=arguments.length&&(h+=". Received type "+(null!==u?typeof u:"null")),h}),r("ERR_INVALID_ARRAY_LENGTH",function(c,l,u){return uo.strictEqual(typeof u,"number"),'The array "'+c+'" (length '+u+") must be of length "+l+"."}),r("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),r("ERR_INVALID_CALLBACK","Callback must be a function"),r("ERR_INVALID_CHAR","Invalid character in %s"),r("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),r("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),r("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),r("ERR_INVALID_FILE_URL_PATH","File URL path %s"),r("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),r("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),r("ERR_INVALID_OPT_VALUE",function(c,l){return'The value "'+String(l)+'" is invalid for option "'+c+'"'}),r("ERR_INVALID_OPT_VALUE_ENCODING",function(c){return'The value "'+String(c)+'" is invalid for option "encoding"'}),r("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),r("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),r("ERR_INVALID_THIS",'Value of "this" must be of type %s'),r("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),r("ERR_INVALID_URL","Invalid URL: %s"),r("ERR_INVALID_URL_SCHEME",function(c){return"The URL must be "+A(c,"scheme")}),r("ERR_IPC_CHANNEL_CLOSED","Channel closed"),r("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),r("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),r("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),r("ERR_MISSING_ARGS",function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];uo(0<c.length,"At least one arg needs to be specified"),l="The ";var u=c.length;switch(c=c.map(function(h){return'"'+h+'"'}),u){case 1:l+=c[0]+" argument";break;case 2:l+=c[0]+" and "+c[1]+" arguments";break;default:l+=c.slice(0,u-1).join(", "),l+=", and "+c[u-1]+" arguments"}return l+" must be specified"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),r("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),r("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),r("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),r("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),r("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),r("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),r("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),r("ERR_SOCKET_CANNOT_SEND","Unable to send data"),r("ERR_SOCKET_CLOSED","Socket is closed"),r("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),r("ERR_STDERR_CLOSE","process.stderr cannot be closed"),r("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),r("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),r("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),r("ERR_TLS_DH_PARAM_SIZE",function(c){return"DH parameter size "+c+" is less than 2048"}),r("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),r("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),r("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),r("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),r("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),r("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),r("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),r("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),r("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),r("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),r("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")});Cl(SD);var Sg=Rc(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ENCODING_UTF8="utf8",e.assertEncoding=function(t){if(t&&!Zs.Buffer.isEncoding(t))throw new SD.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",t)},e.strToEncoding=function(t,i){return i&&i!==e.ENCODING_UTF8?"buffer"===i?new Zs.Buffer(t):new Zs.Buffer(t).toString(i):t}});Cl(Sg);var dY=Rc(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Rr.constants.S_IFMT,i=Rr.constants.S_IFDIR,r=Rr.constants.S_IFREG,A=Rr.constants.S_IFBLK,s=Rr.constants.S_IFCHR,o=Rr.constants.S_IFLNK,a=Rr.constants.S_IFIFO,c=Rr.constants.S_IFSOCK;n=function(){function l(){this.name="",this.mode=0}return l.build=function(u,h){var g=new l,f=u.getNode().mode;return g.name=Sg.strToEncoding(u.getName(),h),g.mode=f,g},l.prototype._checkModeProperty=function(u){return(this.mode&t)===u},l.prototype.isDirectory=function(){return this._checkModeProperty(i)},l.prototype.isFile=function(){return this._checkModeProperty(r)},l.prototype.isBlockDevice=function(){return this._checkModeProperty(A)},l.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},l.prototype.isSymbolicLink=function(){return this._checkModeProperty(o)},l.prototype.isFIFO=function(){return this._checkModeProperty(a)},l.prototype.isSocket=function(){return this._checkModeProperty(c)},l}(),e.Dirent=n,e.default=n});function mY(){for(var n="",e=!1,t=arguments.length-1;-1<=t&&!e;t--){var i=0<=t?arguments[t]:"/";if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(n=i+"/"+n,e="/"===i.charAt(0))}return(e?"/":"")+(n=function Gge(n,e){for(var t=0,i=n.length-1;0<=i;i--){var r=n[i];"."===r?n.splice(i,1):".."===r?(n.splice(i,1),t++):t&&(n.splice(i,1),t--)}if(e)for(;t--;t)n.unshift("..");return n}(function BY(n,e){if(n.filter)return n.filter(e);for(var t=[],i=0;i<n.length;i++)e(n[i],i,n)&&t.push(n[i]);return t}(n.split("/"),function(r){return!!r}),!e).join("/"))||"."}function CY(n,e){function t(s){for(var o=0;o<s.length&&""===s[o];o++);for(var a=s.length-1;0<=a&&""===s[a];a--);return o>a?[]:s.slice(o,a-o+1)}n=mY(n).substr(1),e=mY(e).substr(1),n=t(n.split("/")),e=t(e.split("/"));for(var i=Math.min(n.length,e.length),r=i,A=0;A<i;A++)if(n[A]!==e[A]){r=A;break}for(i=[],A=r;A<n.length;A++)i.push("..");return(i=i.concat(e.slice(r))).join("/")}Cl(dY);var IY_relative=CY,IY_resolve=mY;var Py=Rc(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),n="function"==typeof setImmediate?setImmediate.bind(qo):setTimeout.bind(qo),e.default=n});Cl(Py);var Il=Rc(function(n,e){function t(){var i=Ly||{};return i.getuid||(i.getuid=function(){return 0}),i.getgid||(i.getgid=function(){return 0}),i.cwd||(i.cwd=function(){return"/"}),i.nextTick||(i.nextTick=Py.default),i.emitWarning||(i.emitWarning=function(r,A){console.warn(A+(A?": ":"")+r)}),i.env||(i.env={}),i}Object.defineProperty(e,"__esModule",{value:!0}),e.createProcess=t,e.default=t()});function gC(){}function Or(){Or.init.call(this)}function Yge(n,e,t,i){var r;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(r=n._events){r.newListener&&(n.emit("newListener",e,t.listener?t.listener:t),r=n._events);var A=r[e]}else r=n._events=new gC,n._eventsCount=0;return A?("function"==typeof A?A=r[e]=i?[t,A]:[A,t]:i?A.unshift(t):A.push(t),A.warned||(t=void 0===n._maxListeners?Or.defaultMaxListeners:n._maxListeners)&&0<t&&A.length>t&&(A.warned=!0,(t=Error("Possible EventEmitter memory leak detected. "+A.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",t.emitter=n,t.type=e,t.count=A.length,"function"==typeof console.warn?console.warn(t):console.log(t))):(r[e]=t,++n._eventsCount),n}function Kge(n,e,t){function i(){n.removeListener(e,i),r||(r=!0,t.apply(n,arguments))}var r=!1;return i.listener=t,i}function qge(n){var e=this._events;if(e){if("function"==typeof(n=e[n]))return 1;if(n)return n.length}return 0}function MD(n,e){for(var t=Array(e);e--;)t[e]=n[e];return t}Cl(Il),gC.prototype=Object.create(null),Or.EventEmitter=Or,Or.usingDomains=!1,Or.prototype.domain=void 0,Or.prototype._events=void 0,Or.prototype._maxListeners=void 0,Or.defaultMaxListeners=10,Or.init=function(){this.domain=null,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new gC,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Or.prototype.setMaxListeners=function(n){if("number"!=typeof n||0>n||isNaN(n))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=n,this},Or.prototype.getMaxListeners=function(){return void 0===this._maxListeners?Or.defaultMaxListeners:this._maxListeners},Or.prototype.emit=function(n){var e,t,i="error"===n;if(e=this._events)i=i&&null==e.error;else if(!i)return!1;var r=this.domain;if(i){if(e=arguments[1],!r)throw e instanceof Error?e:((r=Error('Uncaught, unspecified "error" event. ('+e+")")).context=e,r);return e||(e=Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=r,e.domainThrown=!1,r.emit("error",e),!1}if(!(r=e[n]))return!1;e="function"==typeof r;var A=arguments.length;switch(A){case 1:if(e)r.call(this);else for(r=MD(r,e=r.length),i=0;i<e;++i)r[i].call(this);break;case 2:if(i=arguments[1],e)r.call(this,i);else for(r=MD(r,e=r.length),A=0;A<e;++A)r[A].call(this,i);break;case 3:if(i=arguments[1],A=arguments[2],e)r.call(this,i,A);else for(r=MD(r,e=r.length),t=0;t<e;++t)r[t].call(this,i,A);break;case 4:if(i=arguments[1],A=arguments[2],t=arguments[3],e)r.call(this,i,A,t);else{r=MD(r,e=r.length);for(var s=0;s<e;++s)r[s].call(this,i,A,t)}break;default:for(i=Array(A-1),t=1;t<A;t++)i[t-1]=arguments[t];if(e)r.apply(this,i);else for(r=MD(r,e=r.length),A=0;A<e;++A)r[A].apply(this,i)}return!0},Or.prototype.addListener=function(n,e){return Yge(this,n,e,!1)},Or.prototype.on=Or.prototype.addListener,Or.prototype.prependListener=function(n,e){return Yge(this,n,e,!0)},Or.prototype.once=function(n,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(n,Kge(this,n,e)),this},Or.prototype.prependOnceListener=function(n,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(n,Kge(this,n,e)),this},Or.prototype.removeListener=function(n,e){var t;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');var i=this._events;if(!i)return this;var r=i[n];if(!r)return this;if(r===e||r.listener&&r.listener===e)0==--this._eventsCount?this._events=new gC:(delete i[n],i.removeListener&&this.emit("removeListener",n,r.listener||e));else if("function"!=typeof r){var A=-1;for(t=r.length;0<t--;)if(r[t]===e||r[t].listener&&r[t].listener===e){var s=r[t].listener;A=t;break}if(0>A)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new gC,this;delete i[n]}else{t=A+1;for(var o=r.length;t<o;A+=1,t+=1)r[A]=r[t];r.pop()}i.removeListener&&this.emit("removeListener",n,s||e)}return this},Or.prototype.removeAllListeners=function(n){var e=this._events;if(!e)return this;if(!e.removeListener)return 0===arguments.length?(this._events=new gC,this._eventsCount=0):e[n]&&(0==--this._eventsCount?this._events=new gC:delete e[n]),this;if(0===arguments.length){e=Object.keys(e);for(var i,t=0;t<e.length;++t)"removeListener"!==(i=e[t])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=new gC,this._eventsCount=0,this}if("function"==typeof(e=e[n]))this.removeListener(n,e);else if(e)do{this.removeListener(n,e[e.length-1])}while(e[0]);return this},Or.prototype.listeners=function(n){var e=this._events;if(e)if(n=e[n])if("function"==typeof n)n=[n.listener||n];else{e=Array(n.length);for(var t=0;t<e.length;++t)e[t]=n[t].listener||n[t];n=e}else n=[];else n=[];return n},Or.listenerCount=function(n,e){return"function"==typeof n.listenerCount?n.listenerCount(e):qge.call(n,e)},Or.prototype.listenerCount=qge,Or.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var ND=Rc(function(n,e){var t=qo&&qo.__extends||function(){function a(c,l){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var g in h)h.hasOwnProperty(g)&&(u[g]=h[g])})(c,l)}return function(c,l){function u(){this.constructor=c}a(c,l),c.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=Rr.constants.S_IFMT,r=Rr.constants.S_IFDIR,A=Rr.constants.S_IFREG,s=Rr.constants.S_IFLNK,o=Rr.constants.O_APPEND;e.SEP="/",n=function(a){function c(l,u){void 0===u&&(u=438);var h=a.call(this)||this;return h.uid=Il.default.getuid(),h.gid=Il.default.getgid(),h.atime=new Date,h.mtime=new Date,h.ctime=new Date,h.perm=438,h.mode=A,h.nlink=1,h.perm=u,h.mode|=u,h.ino=l,h}return t(c,a),c.prototype.getString=function(l){return void 0===l&&(l="utf8"),this.getBuffer().toString(l)},c.prototype.setString=function(l){this.buf=Zs.bufferFrom(l,"utf8"),this.touch()},c.prototype.getBuffer=function(){return this.buf||this.setBuffer(Zs.bufferAllocUnsafe(0)),Zs.bufferFrom(this.buf)},c.prototype.setBuffer=function(l){this.buf=Zs.bufferFrom(l),this.touch()},c.prototype.getSize=function(){return this.buf?this.buf.length:0},c.prototype.setModeProperty=function(l){this.mode=this.mode&~i|l},c.prototype.setIsFile=function(){this.setModeProperty(A)},c.prototype.setIsDirectory=function(){this.setModeProperty(r)},c.prototype.setIsSymlink=function(){this.setModeProperty(s)},c.prototype.isFile=function(){return(this.mode&i)===A},c.prototype.isDirectory=function(){return(this.mode&i)===r},c.prototype.isSymlink=function(){return(this.mode&i)===s},c.prototype.makeSymlink=function(l){this.symlink=l,this.setIsSymlink()},c.prototype.write=function(l,u,h,g){if(void 0===u&&(u=0),void 0===h&&(h=l.length),void 0===g&&(g=0),this.buf||(this.buf=Zs.bufferAllocUnsafe(0)),g+h>this.buf.length){var f=Zs.bufferAllocUnsafe(g+h);this.buf.copy(f,0,0,this.buf.length),this.buf=f}return l.copy(this.buf,g,u,u+h),this.touch(),h},c.prototype.read=function(l,u,h,g){return void 0===u&&(u=0),void 0===h&&(h=l.byteLength),void 0===g&&(g=0),this.buf||(this.buf=Zs.bufferAllocUnsafe(0)),h>l.byteLength&&(h=l.byteLength),h+g>this.buf.length&&(h=this.buf.length-g),this.buf.copy(l,u,g,g+h),h},c.prototype.truncate=function(l){if(void 0===l&&(l=0),l)if(this.buf||(this.buf=Zs.bufferAllocUnsafe(0)),l<=this.buf.length)this.buf=this.buf.slice(0,l);else{var u=Zs.bufferAllocUnsafe(0);this.buf.copy(u),u.fill(0,l)}else this.buf=Zs.bufferAllocUnsafe(0);this.touch()},c.prototype.chmod=function(l){this.perm=l,this.mode=-512&this.mode|l,this.touch()},c.prototype.chown=function(l,u){this.uid=l,this.gid=u,this.touch()},c.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},c.prototype.canRead=function(l,u){return void 0===l&&(l=Il.default.getuid()),void 0===u&&(u=Il.default.getgid()),!!(4&this.perm||u===this.gid&&32&this.perm||l===this.uid&&256&this.perm)},c.prototype.canWrite=function(l,u){return void 0===l&&(l=Il.default.getuid()),void 0===u&&(u=Il.default.getgid()),!!(2&this.perm||u===this.gid&&16&this.perm||l===this.uid&&128&this.perm)},c.prototype.del=function(){this.emit("delete",this)},c.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},c}(Or.EventEmitter),e.Node=n,n=function(a){function c(l,u,h){var g=a.call(this)||this;return g.children={},g.steps=[],g.ino=0,g.length=0,g.vol=l,g.parent=u,g.steps=u?u.steps.concat([h]):[h],g}return t(c,a),c.prototype.setNode=function(l){this.node=l,this.ino=l.ino},c.prototype.getNode=function(){return this.node},c.prototype.createChild=function(l,u){void 0===u&&(u=this.vol.createNode());var h=new c(this.vol,this,l);return h.setNode(u),u.isDirectory(),this.setChild(l,h),h},c.prototype.setChild=function(l,u){return void 0===u&&(u=new c(this.vol,this,l)),this.children[l]=u,u.parent=this,this.length++,this.emit("child:add",u,this),u},c.prototype.deleteChild=function(l){delete this.children[l.getName()],this.length--,this.emit("child:delete",l,this)},c.prototype.getChild=function(l){if(Object.hasOwnProperty.call(this.children,l))return this.children[l]},c.prototype.getPath=function(){return this.steps.join(e.SEP)},c.prototype.getName=function(){return this.steps[this.steps.length-1]},c.prototype.walk=function(l,u,h){if(void 0===u&&(u=l.length),void 0===h&&(h=0),h>=l.length||h>=u)return this;var g=this.getChild(l[h]);return g?g.walk(l,u,h+1):null},c.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},c}(Or.EventEmitter),e.Link=n,n=function(){function a(c,l,u,h){this.position=0,this.link=c,this.node=l,this.flags=u,this.fd=h}return a.prototype.getString=function(){return this.node.getString()},a.prototype.setString=function(c){this.node.setString(c)},a.prototype.getBuffer=function(){return this.node.getBuffer()},a.prototype.setBuffer=function(c){this.node.setBuffer(c)},a.prototype.getSize=function(){return this.node.getSize()},a.prototype.truncate=function(c){this.node.truncate(c)},a.prototype.seekTo=function(c){this.position=c},a.prototype.stats=function(){return Ry.default.build(this.node)},a.prototype.write=function(c,l,u,h){return void 0===l&&(l=0),void 0===u&&(u=c.length),"number"!=typeof h&&(h=this.position),this.flags&o&&(h=this.getSize()),c=this.node.write(c,l,u,h),this.position=h+c,c},a.prototype.read=function(c,l,u,h){return void 0===l&&(l=0),void 0===u&&(u=c.byteLength),"number"!=typeof h&&(h=this.position),c=this.node.read(c,l,u,h),this.position=h+c,c},a.prototype.chmod=function(c){this.node.chmod(c)},a.prototype.chown=function(c,l){this.node.chown(c,l)},a}(),e.File=n});Cl(ND);var Uut=ND.Node,Jge=Rc(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,i,r){var A=setTimeout.apply(null,arguments);return A&&"object"==typeof A&&"function"==typeof A.unref&&A.unref(),A}});function GB(){this.tail=this.head=null,this.length=0}Cl(Jge),GB.prototype.push=function(n){n={data:n,next:null},0<this.length?this.tail.next=n:this.head=n,this.tail=n,++this.length},GB.prototype.unshift=function(n){n={data:n,next:this.head},0===this.length&&(this.tail=n),this.head=n,++this.length},GB.prototype.shift=function(){if(0!==this.length){var n=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,n}},GB.prototype.clear=function(){this.head=this.tail=null,this.length=0},GB.prototype.join=function(n){if(0===this.length)return"";for(var e=this.head,t=""+e.data;e=e.next;)t+=n+e.data;return t},GB.prototype.concat=function(n){if(0===this.length)return nn.alloc(0);if(1===this.length)return this.head.data;n=nn.allocUnsafe(n>>>0);for(var e=this.head,t=0;e;)e.data.copy(n,t),t+=e.data.length,e=e.next;return n};var Out=nn.isEncoding||function(n){switch(n&&n.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function xD(n){if(this.encoding=(n||"utf8").toLowerCase().replace(/[-_]/,""),n&&!Out(n))throw Error("Unknown encoding: "+n);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Put;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Hut;break;default:return void(this.write=Gut)}this.charBuffer=new nn(6),this.charLength=this.charReceived=0}function Gut(n){return n.toString(this.encoding)}function Put(n){this.charLength=(this.charReceived=n.length%2)?2:0}function Hut(n){this.charLength=(this.charReceived=n.length%3)?3:0}xD.prototype.write=function(n){for(var e="";this.charLength;){if(n.copy(this.charBuffer,this.charReceived,0,e=n.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:n.length),this.charReceived+=e,this.charReceived<this.charLength)return"";n=n.slice(e,n.length);var t=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1);if(!(55296<=t&&56319>=t)){if(this.charReceived=this.charLength=0,0===n.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(n);var i=n.length;return this.charLength&&(n.copy(this.charBuffer,0,n.length-this.charReceived,i),i-=this.charReceived),55296<=(t=(e+=n.toString(this.encoding,0,i)).charCodeAt(i=e.length-1))&&56319>=t?(this.charLength+=t=this.surrogateSize,this.charReceived+=t,this.charBuffer.copy(this.charBuffer,t,0,t),n.copy(this.charBuffer,0,0,t),e.substring(0,i)):e},xD.prototype.detectIncompleteChar=function(n){for(var e=3<=n.length?3:n.length;0<e;e--){var t=n[n.length-e];if(1==e&&t>>5==6){this.charLength=2;break}if(2>=e&&t>>4==14){this.charLength=3;break}if(3>=e&&t>>3==30){this.charLength=4;break}}this.charReceived=e},xD.prototype.end=function(n){var e="";return n&&n.length&&(e=this.write(n)),this.charReceived&&(n=this.encoding,e+=this.charBuffer.slice(0,this.charReceived).toString(n)),e},go.ReadableState=Vge;var jA=mge("stream");function Vge(n,e){this.objectMode=!!(n=n||{}).objectMode,e instanceof Mg&&(this.objectMode=this.objectMode||!!n.readableObjectMode),this.highWaterMark=(e=n.highWaterMark)||0===e?e:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=new GB,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.reading=this.endEmitted=this.ended=!1,this.sync=!0,this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1,this.defaultEncoding=n.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.encoding=this.decoder=null,n.encoding&&(this.decoder=new xD(n.encoding),this.encoding=n.encoding)}function go(n){if(!(this instanceof go))return new go(n);this._readableState=new Vge(n,this),this.readable=!0,n&&"function"==typeof n.read&&(this._read=n.read),Or.call(this)}function zge(n,e,t,i,r){var A=t,s=null;if(cp(A)||"string"==typeof A||null==A||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),A=s)n.emit("error",A);else if(null===t)e.reading=!1,e.ended||(e.decoder&&(t=e.decoder.end())&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length),e.ended=!0,jR(n));else if(e.objectMode||t&&0<t.length)if(e.ended&&!r)n.emit("error",Error("stream.push() after EOF"));else if(e.endEmitted&&r)n.emit("error",Error("stream.unshift() after end event"));else{if(e.decoder&&!r&&!i){t=e.decoder.write(t);var o=!e.objectMode&&0===t.length}r||(e.reading=!1),o||(e.flowing&&0===e.length&&!e.sync?(n.emit("data",t),n.read(0)):(e.length+=e.objectMode?1:t.length,r?e.buffer.unshift(t):e.buffer.push(t),e.needReadable&&jR(n))),e.readingMore||(e.readingMore=!0,ku(Kut,n,e))}else r||(e.reading=!1);return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function Wge(n,e){if(0>=n||0===e.length&&e.ended)return 0;if(e.objectMode)return 1;if(n!=n)return e.flowing&&e.length?e.buffer.head.data.length:e.length;if(n>e.highWaterMark){var t=n;8388608<=t?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),e.highWaterMark=t}return n<=e.length?n:e.ended?e.length:(e.needReadable=!0,0)}function jR(n){var e=n._readableState;e.needReadable=!1,e.emittedReadable||(jA("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?ku(jge,n):jge(n))}function jge(n){jA("emit readable"),n.emit("readable"),EY(n)}function Kut(n,e){for(var t=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(jA("maybeReadMore read 0"),n.read(0),t!==e.length);)t=e.length;e.readingMore=!1}function Jut(n){jA("readable nexttick read 0"),n.read(0)}function Vut(n,e){e.reading||(jA("resume read 0"),n.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,n.emit("resume"),EY(n),e.flowing&&!e.reading&&n.read(0)}function EY(n){var e=n._readableState;for(jA("flow",e.flowing);e.flowing&&null!==n.read(););}function Zge(n,e){if(0===e.length)return null;if(e.objectMode)var t=e.buffer.shift();else if(!n||n>=e.length)t=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear();else{if(t=e.buffer,e=e.decoder,n<t.head.data.length)e=t.head.data.slice(0,n),t.head.data=t.head.data.slice(n);else{if(n===t.head.data.length)t=t.shift();else if(e){var i=1,r=(e=t.head).data;for(n-=r.length;e=e.next;){var A=e.data,s=n>A.length?A.length:n;if(r=s===A.length?r+A:r+A.slice(0,n),0==(n-=s)){s===A.length?(++i,t.head=e.next?e.next:t.tail=null):(t.head=e,e.data=A.slice(s));break}++i}t.length-=i,t=r}else{for(e=nn.allocUnsafe(n),r=1,(i=t.head).data.copy(e),n-=i.data.length;i=i.next;){if((A=i.data).copy(e,e.length-n,0,s=n>A.length?A.length:n),0==(n-=s)){s===A.length?(++r,t.head=i.next?i.next:t.tail=null):(t.head=i,i.data=A.slice(s));break}++r}t.length-=r,t=e}e=t}t=e}return t}function vY(n){var e=n._readableState;if(0<e.length)throw Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,ku(zut,e,n))}function zut(n,e){n.endEmitted||0!==n.length||(n.endEmitted=!0,e.readable=!1,e.emit("end"))}function Xge(n,e){for(var t=0,i=n.length;t<i;t++)if(n[t]===e)return t;return-1}function jut(){}function Zut(n,e,t){this.chunk=n,this.encoding=e,this.callback=t,this.next=null}function yY(n,e){Object.defineProperty(this,"buffer",{get:AY(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),this.objectMode=!!(n=n||{}).objectMode,e instanceof Mg&&(this.objectMode=this.objectMode||!!n.writableObjectMode);var t=n.highWaterMark;this.highWaterMark=t||0===t?t:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.finished=this.ended=this.ending=this.needDrain=!1,this.decodeStrings=!1!==n.decodeStrings,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(r){var A=e._writableState,s=A.sync,o=A.writecb;A.writing=!1,A.writecb=null,A.length-=A.writelen,A.writelen=0,r?(--A.pendingcb,s?ku(o,r):o(r),e._writableState.errorEmitted=!0,e.emit("error",r)):((r=the(A))||A.corked||A.bufferProcessing||!A.bufferedRequest||ehe(e,A),s?ku($ge,e,A,r,o):$ge(e,A,r,o))},this.writecb=null,this.writelen=0,this.lastBufferedRequest=this.bufferedRequest=null,this.pendingcb=0,this.errorEmitted=this.prefinished=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new ihe(this)}function Tc(n){if(!(this instanceof Tc||this instanceof Mg))return new Tc(n);this._writableState=new yY(n,this),this.writable=!0,n&&("function"==typeof n.write&&(this._write=n.write),"function"==typeof n.writev&&(this._writev=n.writev)),Or.call(this)}function QY(n,e,t,i,r,A,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,t?n._writev(r,e.onwrite):n._write(r,A,e.onwrite),e.sync=!1}function $ge(n,e,t,i){!t&&0===e.length&&e.needDrain&&(e.needDrain=!1,n.emit("drain")),e.pendingcb--,i(),nhe(n,e)}function ehe(n,e){e.bufferProcessing=!0;var t=e.bufferedRequest;if(n._writev&&t&&t.next){var i=Array(e.bufferedRequestCount),r=e.corkedRequestsFree;r.entry=t;for(var A=0;t;)i[A]=t,t=t.next,A+=1;QY(n,e,!0,e.length,i,"",r.finish),e.pendingcb++,e.lastBufferedRequest=null,r.next?(e.corkedRequestsFree=r.next,r.next=null):e.corkedRequestsFree=new ihe(e)}else{for(;t&&(i=t.chunk,QY(n,e,!1,e.objectMode?1:i.length,i,t.encoding,t.callback),t=t.next,!e.writing););null===t&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=t,e.bufferProcessing=!1}function the(n){return n.ending&&0===n.length&&null===n.bufferedRequest&&!n.finished&&!n.writing}function nhe(n,e){var t=the(e);return t&&(0===e.pendingcb?(e.prefinished||(e.prefinished=!0,n.emit("prefinish")),e.finished=!0,n.emit("finish")):e.prefinished||(e.prefinished=!0,n.emit("prefinish"))),t}function ihe(n){var e=this;this.entry=this.next=null,this.finish=function(t){var i=e.entry;for(e.entry=null;i;){var r=i.callback;n.pendingcb--,r(t),i=i.next}n.corkedRequestsFree?n.corkedRequestsFree.next=e:n.corkedRequestsFree=e}}lC(go,Or),go.prototype.push=function(n,e){var t=this._readableState;return t.objectMode||"string"!=typeof n||(e=e||t.defaultEncoding)!==t.encoding&&(n=nn.from(n,e),e=""),zge(this,t,n,e,!1)},go.prototype.unshift=function(n){return zge(this,this._readableState,n,"",!0)},go.prototype.isPaused=function(){return!1===this._readableState.flowing},go.prototype.setEncoding=function(n){return this._readableState.decoder=new xD(n),this._readableState.encoding=n,this},go.prototype.read=function(n){jA("read",n),n=parseInt(n,10);var e=this._readableState,t=n;if(0!==n&&(e.emittedReadable=!1),0===n&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return jA("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?vY(this):jR(this),null;if(0===(n=Wge(n,e))&&e.ended)return 0===e.length&&vY(this),null;var i=e.needReadable;return jA("need readable",i),(0===e.length||e.length-n<e.highWaterMark)&&jA("length less than watermark",i=!0),e.ended||e.reading?jA("reading or ended",!1):i&&(jA("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(n=Wge(t,e))),null===(i=0<n?Zge(n,e):null)?(e.needReadable=!0,n=0):e.length-=n,0===e.length&&(e.ended||(e.needReadable=!0),t!==n&&e.ended&&vY(this)),null!==i&&this.emit("data",i),i},go.prototype._read=function(){this.emit("error",Error("not implemented"))},go.prototype.pipe=function(n,e){function t(d){jA("onunpipe"),d===l&&r()}function i(){jA("onend"),n.end()}function r(){jA("cleanup"),n.removeListener("close",o),n.removeListener("finish",a),n.removeListener("drain",h),n.removeListener("error",s),n.removeListener("unpipe",t),l.removeListener("end",i),l.removeListener("end",r),l.removeListener("data",A),g=!0,!u.awaitDrain||n._writableState&&!n._writableState.needDrain||h()}function A(d){jA("ondata"),f=!1,!1!==n.write(d)||f||((1===u.pipesCount&&u.pipes===n||1<u.pipesCount&&-1!==Xge(u.pipes,n))&&!g&&(jA("false write response, pause",l._readableState.awaitDrain),l._readableState.awaitDrain++,f=!0),l.pause())}function s(d){jA("onerror",d),c(),n.removeListener("error",s),0===n.listeners("error").length&&n.emit("error",d)}function o(){n.removeListener("finish",a),c()}function a(){jA("onfinish"),n.removeListener("close",o),c()}function c(){jA("unpipe"),l.unpipe(n)}var l=this,u=this._readableState;switch(u.pipesCount){case 0:u.pipes=n;break;case 1:u.pipes=[u.pipes,n];break;default:u.pipes.push(n)}u.pipesCount+=1,jA("pipe count=%d opts=%j",u.pipesCount,e),e=e&&!1===e.end?r:i,u.endEmitted?ku(e):l.once("end",e),n.on("unpipe",t);var h=function qut(n){return function(){var e=n._readableState;jA("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&n.listeners("data").length&&(e.flowing=!0,EY(n))}}(l);n.on("drain",h);var g=!1,f=!1;return l.on("data",A),function Yut(n,e,t){if("function"==typeof n.prependListener)return n.prependListener(e,t);n._events&&n._events[e]?Array.isArray(n._events[e])?n._events[e].unshift(t):n._events[e]=[t,n._events[e]]:n.on(e,t)}(n,"error",s),n.once("close",o),n.once("finish",a),n.emit("pipe",l),u.flowing||(jA("pipe resume"),l.resume()),n},go.prototype.unpipe=function(n){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return n&&n!==e.pipes||(n||(n=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,n&&n.emit("unpipe",this)),this;if(!n){n=e.pipes;var t=e.pipesCount;for(e.pipes=null,e.pipesCount=0,e.flowing=!1,e=0;e<t;e++)n[e].emit("unpipe",this);return this}return-1===(t=Xge(e.pipes,n))||(e.pipes.splice(t,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),n.emit("unpipe",this)),this},go.prototype.on=function(n,e){return e=Or.prototype.on.call(this,n,e),"data"===n?!1!==this._readableState.flowing&&this.resume():"readable"===n&&((n=this._readableState).endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&jR(this):ku(Jut,this))),e},go.prototype.addListener=go.prototype.on,go.prototype.resume=function(){var n=this._readableState;return n.flowing||(jA("resume"),n.flowing=!0,n.resumeScheduled||(n.resumeScheduled=!0,ku(Vut,this,n))),this},go.prototype.pause=function(){return jA("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(jA("pause"),this._readableState.flowing=!1,this.emit("pause")),this},go.prototype.wrap=function(n){var e=this._readableState,t=!1,i=this;for(var r in n.on("end",function(){if(jA("wrapped end"),e.decoder&&!e.ended){var A=e.decoder.end();A&&A.length&&i.push(A)}i.push(null)}),n.on("data",function(A){jA("wrapped data"),e.decoder&&(A=e.decoder.write(A)),e.objectMode&&null==A||!(e.objectMode||A&&A.length)||i.push(A)||(t=!0,n.pause())}),n)void 0===this[r]&&"function"==typeof n[r]&&(this[r]=function(A){return function(){return n[A].apply(n,arguments)}}(r));return function Wut(n,e){for(var t=0,i=n.length;t<i;t++)e(n[t],t)}(["error","close","destroy","pause","resume"],function(A){n.on(A,i.emit.bind(i,A))}),i._read=function(A){jA("wrapped _read",A),t&&(t=!1,n.resume())},i},go._fromList=Zge,Tc.WritableState=yY,lC(Tc,Or),yY.prototype.getBuffer=function(){for(var n=this.bufferedRequest,e=[];n;)e.push(n),n=n.next;return e},Tc.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},Tc.prototype.write=function(n,e,t){var i=this._writableState,r=!1;if("function"==typeof e&&(t=e,e=null),nn.isBuffer(n)?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof t&&(t=jut),i.ended)i=t,n=Error("write after end"),this.emit("error",n),ku(i,n);else{var A=t,s=!0,o=!1;null===n?o=new TypeError("May not write null values to stream"):nn.isBuffer(n)||"string"==typeof n||void 0===n||i.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(this.emit("error",o),ku(A,o),s=!1),s&&(i.pendingcb++,r=e,i.objectMode||!1===i.decodeStrings||"string"!=typeof n||(n=nn.from(n,r)),nn.isBuffer(n)&&(r="buffer"),i.length+=A=i.objectMode?1:n.length,(e=i.length<i.highWaterMark)||(i.needDrain=!0),i.writing||i.corked?(A=i.lastBufferedRequest,i.lastBufferedRequest=new Zut(n,r,t),A?A.next=i.lastBufferedRequest:i.bufferedRequest=i.lastBufferedRequest,i.bufferedRequestCount+=1):QY(this,i,!1,A,n,r,t),r=e)}return r},Tc.prototype.cork=function(){this._writableState.corked++},Tc.prototype.uncork=function(){var n=this._writableState;n.corked&&(n.corked--,n.writing||n.corked||n.finished||n.bufferProcessing||!n.bufferedRequest||ehe(this,n))},Tc.prototype.setDefaultEncoding=function(n){if("string"==typeof n&&(n=n.toLowerCase()),!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((n+"").toLowerCase())))throw new TypeError("Unknown encoding: "+n);return this._writableState.defaultEncoding=n,this},Tc.prototype._write=function(n,e,t){t(Error("not implemented"))},Tc.prototype._writev=null,Tc.prototype.end=function(n,e,t){var i=this._writableState;"function"==typeof n?(t=n,e=n=null):"function"==typeof e&&(t=e,e=null),null!=n&&this.write(n,e),i.corked&&(i.corked=1,this.uncork()),!i.ending&&!i.finished&&(n=t,i.ending=!0,nhe(this,i),n&&(i.finished?ku(n):this.once("finish",n)),i.ended=!0,this.writable=!1)},lC(Mg,go);for(var rhe=Object.keys(Tc.prototype),wY=0;wY<rhe.length;wY++){var _Y=rhe[wY];Mg.prototype[_Y]||(Mg.prototype[_Y]=Tc.prototype[_Y])}function Mg(n){if(!(this instanceof Mg))return new Mg(n);go.call(this,n),Tc.call(this,n),n&&!1===n.readable&&(this.readable=!1),n&&!1===n.writable&&(this.writable=!1),this.allowHalfOpen=!0,n&&!1===n.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",Xut)}function Xut(){this.allowHalfOpen||this._writableState.ended||ku($ut,this)}function $ut(n){n.end()}function egt(n){this.afterTransform=function(e,t){var i=n._transformState;i.transforming=!1;var r=i.writecb;return r?(i.writechunk=null,i.writecb=null,null!=t&&n.push(t),r(e),(e=n._readableState).reading=!1,(e.needReadable||e.length<e.highWaterMark)&&n._read(e.highWaterMark),e=void 0):e=n.emit("error",Error("no writecb in Transform class")),e},this.transforming=this.needTransform=!1,this.writeencoding=this.writechunk=this.writecb=null}function Pf(n){if(!(this instanceof Pf))return new Pf(n);Mg.call(this,n),this._transformState=new egt(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,n&&("function"==typeof n.transform&&(this._transform=n.transform),"function"==typeof n.flush&&(this._flush=n.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){Ahe(e,t)}):Ahe(e)})}function Ahe(n,e){if(e)return n.emit("error",e);if(e=n._transformState,n._writableState.length)throw Error("Calling transform done when ws.length != 0");if(e.transforming)throw Error("Calling transform done when still transforming");return n.push(null)}function FD(n){if(!(this instanceof FD))return new FD(n);Pf.call(this,n)}function Lu(){Or.call(this)}lC(Pf,Mg),Pf.prototype.push=function(n,e){return this._transformState.needTransform=!1,Mg.prototype.push.call(this,n,e)},Pf.prototype._transform=function(){throw Error("Not implemented")},Pf.prototype._write=function(n,e,t){var i=this._transformState;i.writecb=t,i.writechunk=n,i.writeencoding=e,i.transforming||(n=this._readableState,(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark))},Pf.prototype._read=function(){var n=this._transformState;null!==n.writechunk&&n.writecb&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0},lC(FD,Pf),FD.prototype._transform=function(n,e,t){t(null,n)},lC(Lu,Or),Lu.Readable=go,Lu.Writable=Tc,Lu.Duplex=Mg,Lu.Transform=Pf,Lu.PassThrough=FD,Lu.Stream=Lu,Lu.prototype.pipe=function(n,e){function t(l){n.writable&&!1===n.write(l)&&a.pause&&a.pause()}function i(){a.readable&&a.resume&&a.resume()}function r(){c||(c=!0,n.end())}function A(){c||(c=!0,"function"==typeof n.destroy&&n.destroy())}function s(l){if(o(),0===Or.listenerCount(this,"error"))throw l}function o(){a.removeListener("data",t),n.removeListener("drain",i),a.removeListener("end",r),a.removeListener("close",A),a.removeListener("error",s),n.removeListener("error",s),a.removeListener("end",o),a.removeListener("close",o),n.removeListener("close",o)}var a=this;a.on("data",t),n.on("drain",i),n._isStdio||e&&!1===e.end||(a.on("end",r),a.on("close",A));var c=!1;return a.on("error",s),n.on("error",s),a.on("end",o),a.on("close",o),n.on("close",o),n.emit("pipe",a),n};var tgt=Array.prototype.slice,ngt_extend=function n(e,t){for(var i in t)e[i]=t[i];return 3>arguments.length?e:n.apply(null,[e].concat(tgt.call(arguments,2)))},she=Rc(function(n,e){function t(A,s,o){return void 0===o&&(o=function(a){return a}),function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new Promise(function(l,u){A[s].bind(A).apply(void 0,i(a,[function(h,g){return h?u(h):l(o(g))}]))})}}var i=qo&&qo.__spreadArrays||function(){for(var A=0,s=0,o=arguments.length;s<o;s++)A+=arguments[s].length;A=Array(A);var a=0;for(s=0;s<o;s++)for(var c=arguments[s],l=0,u=c.length;l<u;l++,a++)A[a]=c[l];return A};Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function A(s,o){this.vol=s,this.fd=o}return A.prototype.appendFile=function(s,o){return t(this.vol,"appendFile")(this.fd,s,o)},A.prototype.chmod=function(s){return t(this.vol,"fchmod")(this.fd,s)},A.prototype.chown=function(s,o){return t(this.vol,"fchown")(this.fd,s,o)},A.prototype.close=function(){return t(this.vol,"close")(this.fd)},A.prototype.datasync=function(){return t(this.vol,"fdatasync")(this.fd)},A.prototype.read=function(s,o,a,c){return t(this.vol,"read",function(l){return{bytesRead:l,buffer:s}})(this.fd,s,o,a,c)},A.prototype.readFile=function(s){return t(this.vol,"readFile")(this.fd,s)},A.prototype.stat=function(s){return t(this.vol,"fstat")(this.fd,s)},A.prototype.sync=function(){return t(this.vol,"fsync")(this.fd)},A.prototype.truncate=function(s){return t(this.vol,"ftruncate")(this.fd,s)},A.prototype.utimes=function(s,o){return t(this.vol,"futimes")(this.fd,s,o)},A.prototype.write=function(s,o,a,c){return t(this.vol,"write",function(l){return{bytesWritten:l,buffer:s}})(this.fd,s,o,a,c)},A.prototype.writeFile=function(s,o){return t(this.vol,"writeFile")(this.fd,s,o)},A}();e.FileHandle=r,e.default=function(A){return typeof Promise>"u"?null:{FileHandle:r,access:function(s,o){return t(A,"access")(s,o)},appendFile:function(s,o,a){return t(A,"appendFile")(s instanceof r?s.fd:s,o,a)},chmod:function(s,o){return t(A,"chmod")(s,o)},chown:function(s,o,a){return t(A,"chown")(s,o,a)},copyFile:function(s,o,a){return t(A,"copyFile")(s,o,a)},lchmod:function(s,o){return t(A,"lchmod")(s,o)},lchown:function(s,o,a){return t(A,"lchown")(s,o,a)},link:function(s,o){return t(A,"link")(s,o)},lstat:function(s,o){return t(A,"lstat")(s,o)},mkdir:function(s,o){return t(A,"mkdir")(s,o)},mkdtemp:function(s,o){return t(A,"mkdtemp")(s,o)},open:function(s,o,a){return t(A,"open",function(c){return new r(A,c)})(s,o,a)},readdir:function(s,o){return t(A,"readdir")(s,o)},readFile:function(s,o){return t(A,"readFile")(s instanceof r?s.fd:s,o)},readlink:function(s,o){return t(A,"readlink")(s,o)},realpath:function(s,o){return t(A,"realpath")(s,o)},rename:function(s,o){return t(A,"rename")(s,o)},rmdir:function(s){return t(A,"rmdir")(s)},stat:function(s,o){return t(A,"stat")(s,o)},symlink:function(s,o,a){return t(A,"symlink")(s,o,a)},truncate:function(s,o){return t(A,"truncate")(s,o)},unlink:function(s){return t(A,"unlink")(s)},utimes:function(s,o,a){return t(A,"utimes")(s,o,a)},writeFile:function(s,o,a){return t(A,"writeFile")(s instanceof r?s.fd:s,o,a)}}}});Cl(she);var igt=/[^\x20-\x7E]/,rgt=/[\x2E\u3002\uFF0E\uFF61]/g,ohe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Hy=Math.floor,DY=String.fromCharCode;function ahe(n,e){return n+22+75*(26>n)-((0!=e)<<5)}var che=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)};function RD(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}}function lhe(n,e){if(n.map)return n.map(e);for(var t=[],i=0;i<n.length;i++)t.push(e(n[i],i));return t}var agt=Object.keys||function(n){var t,e=[];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.push(t);return e};function uhe(n,e,t,i){t=t||"=";var r={};if("string"!=typeof n||0===n.length)return r;var A=/\+/g;for(n=n.split(e||"&"),e=1e3,i&&"number"==typeof i.maxKeys&&(e=i.maxKeys),i=n.length,0<e&&i>e&&(i=e),e=0;e<i;++e){var s=n[e].replace(A,"%20"),o=s.indexOf(t);if(0<=o){var a=s.substr(0,o);s=s.substr(o+1)}else a=s,s="";a=decodeURIComponent(a),s=decodeURIComponent(s),Object.prototype.hasOwnProperty.call(r,a)?che(r[a])?r[a].push(s):r[a]=[r[a],s]:r[a]=s}return r}var cgt={parse:ZR,resolve:function Cgt(n,e){return ZR(n,!1,!0).resolve(e)},resolveObject:function Igt(n,e){return n?ZR(n,!1,!0).resolveObject(e):e},format:function mgt(n){return OB(n)&&(n=dhe({},n)),MY(n)},Url:Hf};function Hf(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}var lgt=/^([a-z0-9.+-]+:)/i,ugt=/:[0-9]*$/,ggt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,hgt="{}|\\^`".split("").concat('<>"` \r\n\t'.split("")),bY=["'"].concat(hgt),ghe=["%","/","?",";","#"].concat(bY),hhe=["/","?","#"],fgt=255,fhe=/^[+a-z0-9A-Z_-]{0,63}$/,dgt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,pgt={javascript:!0,"javascript:":!0},SY={javascript:!0,"javascript:":!0},Yy={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ZR(n,e,t){if(n&&uC(n)&&n instanceof Hf)return n;var i=new Hf;return i.parse(n,e,t),i}function dhe(n,e,t,i){if(!OB(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?");if(r=-1!==r&&r<e.indexOf("#")?"?":"#",(e=e.split(r))[0]=e[0].replace(/\\/g,"/"),r=(e=e.join(r)).trim(),!i&&1===e.split("#").length&&(e=ggt.exec(r)))return n.path=r,n.href=r,n.pathname=e[1],e[2]?(n.search=e[2],n.query=t?uhe(n.search.substr(1)):n.search.substr(1)):t&&(n.search="",n.query={}),n;if(e=lgt.exec(r)){var A=(e=e[0]).toLowerCase();n.protocol=A,r=r.substr(e.length)}if(i||e||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===r.substr(0,2);!s||e&&SY[e]||(r=r.substr(2),n.slashes=!0)}if(!SY[e]&&(s||e&&!Yy[e])){for(e=-1,i=0;i<hhe.length;i++)-1!==(s=r.indexOf(hhe[i]))&&(-1===e||s<e)&&(e=s);for(-1!==(s=-1===e?r.lastIndexOf("@"):r.lastIndexOf("@",e))&&(i=r.slice(0,s),r=r.slice(s+1),n.auth=decodeURIComponent(i)),e=-1,i=0;i<ghe.length;i++)-1!==(s=r.indexOf(ghe[i]))&&(-1===e||s<e)&&(e=s);if(-1===e&&(e=r.length),n.host=r.slice(0,e),r=r.slice(e),phe(n),n.hostname=n.hostname||"",!(s="["===n.hostname[0]&&"]"===n.hostname[n.hostname.length-1])){var o=n.hostname.split(/\./);for(i=0,e=o.length;i<e;i++){var a=o[i];if(a&&!a.match(fhe)){for(var c="",l=0,u=a.length;l<u;l++)c=127<a.charCodeAt(l)?c+"x":c+a[l];if(!c.match(fhe)){e=o.slice(0,i),i=o.slice(i+1),(a=a.match(dgt))&&(e.push(a[1]),i.unshift(a[2])),i.length&&(r="/"+i.join(".")+r),n.hostname=e.join(".");break}}}}n.hostname=n.hostname.length>fgt?"":n.hostname.toLowerCase(),s||(n.hostname=function sgt(n){return function Agt(n,e){var t=n.split("@"),i="";1<t.length&&(i=t[0]+"@",n=t[1]),t=(n=(n=n.replace(rgt,".")).split(".")).length;for(var r=[];t--;)r[t]=e(n[t]);return i+r.join(".")}(n,function(e){if(igt.test(e)){var t,i=[],r=[],A=0;for(t=e.length;A<t;){var s=e.charCodeAt(A++);if(55296<=s&&56319>=s&&A<t){var o=e.charCodeAt(A++);56320==(64512&o)?r.push(((1023&s)<<10)+(1023&o)+65536):(r.push(s),A--)}else r.push(s)}o=(e=r).length,r=128;var a=0,c=72;for(s=0;s<o;++s){var l=e[s];128>l&&i.push(DY(l))}for((A=t=i.length)&&i.push("-");A<o;){var u=2147483647;for(s=0;s<o;++s)(l=e[s])>=r&&l<u&&(u=l);var h=A+1;if(u-r>Hy((2147483647-a)/h))throw new RangeError(ohe.overflow);for(a+=(u-r)*h,r=u,s=0;s<o;++s){if((l=e[s])<r&&2147483647<++a)throw new RangeError(ohe.overflow);if(l==r){var g=a;for(u=36;!(g<(l=u<=c?1:u>=c+26?26:u-c));u+=36){var f=g-l;i.push(DY(ahe(l+f%(g=36-l),0))),g=Hy(f/g)}for(i.push(DY(ahe(g,0))),c=h,u=0,a=A==t?Hy(a/700):a>>1,a+=Hy(a/c);455<a;u+=36)a=Hy(a/35);c=Hy(u+36*a/(a+38)),a=0,++A}}++a,++r}i="xn--"+i.join("")}else i=e;return i})}(n.hostname)),n.host=(n.hostname||"")+(i=n.port?":"+n.port:""),n.href+=n.host,s&&(n.hostname=n.hostname.substr(1,n.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!pgt[A])for(i=0,e=bY.length;i<e;i++)-1!==r.indexOf(s=bY[i])&&((a=encodeURIComponent(s))===s&&(a=escape(s)),r=r.split(s).join(a));return-1!==(i=r.indexOf("#"))&&(n.hash=r.substr(i),r=r.slice(0,i)),-1!==(i=r.indexOf("?"))?(n.search=r.substr(i),n.query=r.substr(i+1),t&&(n.query=uhe(n.query)),r=r.slice(0,i)):t&&(n.search="",n.query={}),r&&(n.pathname=r),Yy[A]&&n.hostname&&!n.pathname&&(n.pathname="/"),(n.pathname||n.search)&&(n.path=(i=n.pathname||"")+(n.search||"")),n.href=MY(n),n}function MY(n){var e=n.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=n.protocol||"",i=n.pathname||"",r=n.hash||"",A=!1,s="";return n.host?A=e+n.host:n.hostname&&(A=e+(-1===n.hostname.indexOf(":")?n.hostname:"["+this.hostname+"]"),n.port&&(A+=":"+n.port)),n.query&&uC(n.query)&&Object.keys(n.query).length&&(s=function ogt(n,e,t,i){return e=e||"&",t=t||"=",null===n&&(n=void 0),"object"==typeof n?lhe(agt(n),function(r){var A=encodeURIComponent(RD(r))+t;return che(n[r])?lhe(n[r],function(s){return A+encodeURIComponent(RD(s))}).join(e):A+encodeURIComponent(RD(n[r]))}).join(e):i?encodeURIComponent(RD(i))+t+encodeURIComponent(RD(n)):""}(n.query)),e=n.search||s&&"?"+s||"",t&&":"!==t.substr(-1)&&(t+=":"),n.slashes||(!t||Yy[t])&&!1!==A?(A="//"+(A||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):A||(A=""),r&&"#"!==r.charAt(0)&&(r="#"+r),e&&"?"!==e.charAt(0)&&(e="?"+e),t+A+(i=i.replace(/[?#]/g,function(o){return encodeURIComponent(o)}))+(e=e.replace("#","%23"))+r}function phe(n){var e=n.host,t=ugt.exec(e);t&&(":"!==(t=t[0])&&(n.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(n.hostname=e)}Hf.prototype.parse=function(n,e,t){return dhe(this,n,e,t)},Hf.prototype.format=function(){return MY(this)},Hf.prototype.resolve=function(n){return this.resolveObject(ZR(n,!1,!0)).format()},Hf.prototype.resolveObject=function(n){if(OB(n)){var e=new Hf;e.parse(n,!1,!0),n=e}e=new Hf;for(var t=Object.keys(this),i=0;i<t.length;i++){var r=t[i];e[r]=this[r]}if(e.hash=n.hash,""===n.href)return e.href=e.format(),e;if(n.slashes&&!n.protocol){for(t=Object.keys(n),i=0;i<t.length;i++)"protocol"!==(r=t[i])&&(e[r]=n[r]);return Yy[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}var A;if(n.protocol&&n.protocol!==e.protocol){if(!Yy[n.protocol]){for(t=Object.keys(n),i=0;i<t.length;i++)e[r=t[i]]=n[r];return e.href=e.format(),e}if(e.protocol=n.protocol,n.host||SY[n.protocol])e.pathname=n.pathname;else{for(A=(n.pathname||"").split("/");A.length&&!(n.host=A.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),""!==A[0]&&A.unshift(""),2>A.length&&A.unshift(""),e.pathname=A.join("/")}return e.search=n.search,e.query=n.query,e.host=n.host||"",e.auth=n.auth,e.hostname=n.hostname||n.host,e.port=n.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||n.slashes,e.href=e.format(),e}t=e.pathname&&"/"===e.pathname.charAt(0);var s=n.host||n.pathname&&"/"===n.pathname.charAt(0),o=t=s||t||e.host&&n.pathname;if(i=e.pathname&&e.pathname.split("/")||[],r=e.protocol&&!Yy[e.protocol],A=n.pathname&&n.pathname.split("/")||[],r&&(e.hostname="",e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(""===A[0]?A[0]=n.host:A.unshift(n.host)),n.host=null),t=t&&(""===A[0]||""===i[0])),s)e.host=n.host||""===n.host?n.host:e.host,e.hostname=n.hostname||""===n.hostname?n.hostname:e.hostname,e.search=n.search,e.query=n.query,i=A;else if(A.length)i||(i=[]),i.pop(),i=i.concat(A),e.search=n.search,e.query=n.query;else if(null!=n.search)return r&&(e.hostname=e.host=i.shift(),r=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=r.shift(),e.host=e.hostname=r.shift()),e.search=n.search,e.query=n.query,(null!==e.pathname||null!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!i.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;s=i.slice(-1)[0],A=(e.host||n.host||1<i.length)&&("."===s||".."===s)||""===s;for(var a=0,c=i.length;0<=c;c--)"."===(s=i[c])?i.splice(c,1):".."===s?(i.splice(c,1),a++):a&&(i.splice(c,1),a--);if(!t&&!o)for(;a--;a)i.unshift("..");return!t||""===i[0]||i[0]&&"/"===i[0].charAt(0)||i.unshift(""),A&&"/"!==i.join("/").substr(-1)&&i.push(""),o=""===i[0]||i[0]&&"/"===i[0].charAt(0),r&&(e.hostname=e.host=o?"":i.length?i.shift():"",r=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=r.shift(),e.host=e.hostname=r.shift()),(t=t||e.host&&i.length)&&!o&&i.unshift(""),i.length?e.pathname=i.join("/"):(e.pathname=null,e.path=null),(null!==e.pathname||null!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=n.auth||e.auth,e.slashes=e.slashes||n.slashes,e.href=e.format(),e},Hf.prototype.parseHost=function(){return phe(this)};var mhe=Rc(function(n,e){function t(A,s){return A=A[s],0<s&&("/"===A||r&&"\\"===A)}function i(A){var s=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(r){var o=A;if("string"!=typeof o)throw new TypeError("expected a string");if(o=o.replace(/[\\\/]+/g,"/"),!1!==s)if(2>(o=(s=o).length-1))o=s;else{for(;t(s,o);)o--;o=s.substr(0,o+1)}return o.replace(/^([a-zA-Z]+:|\.\/)/,"")}return A}Object.defineProperty(e,"__esModule",{value:!0}),e.unixify=i,e.correctPath=function(A){return i(A.replace(/^\\\\\?\\.:\\/,"\\"))};var r="win32"===Ly.platform});Cl(mhe);var PB=Rc(function(n,e){function t(se,P){return void 0===P&&(P=Il.default.cwd()),W(P,se)}function i(se,P){return"function"==typeof se?[r(),se]:[r(se),u(P)]}function r(se){return void 0===se&&(se={}),G({},Jt,se)}function A(se){return G({},Ye,"number"==typeof se?{mode:se}:se)}function o(se,P,V,F,$){return void 0===P&&(P=""),void 0===V&&(V=""),void 0===F&&(F=""),void 0===$&&($=Error),P=new $(function s(se,P,V,F){void 0===P&&(P=""),void 0===V&&(V=""),void 0===F&&(F="");var $="";switch(V&&($=" '"+V+"'"),F&&($+=" -> '"+F+"'"),se){case"ENOENT":return"ENOENT: no such file or directory, "+P+$;case"EBADF":return"EBADF: bad file descriptor, "+P+$;case"EINVAL":return"EINVAL: invalid argument, "+P+$;case"EPERM":return"EPERM: operation not permitted, "+P+$;case"EPROTO":return"EPROTO: protocol error, "+P+$;case"EEXIST":return"EEXIST: file already exists, "+P+$;case"ENOTDIR":return"ENOTDIR: not a directory, "+P+$;case"EISDIR":return"EISDIR: illegal operation on a directory, "+P+$;case"EACCES":return"EACCES: permission denied, "+P+$;case"ENOTEMPTY":return"ENOTEMPTY: directory not empty, "+P+$;case"EMFILE":return"EMFILE: too many open files, "+P+$;case"ENOSYS":return"ENOSYS: function not implemented, "+P+$;default:return se+": error occurred, "+P+$}}(se,P,V,F)),P.code=se,P}function a(se){if("number"==typeof se)return se;if("string"==typeof se){var P=Ie[se];if(typeof P<"u")return P}throw new SD.TypeError("ERR_INVALID_OPT_VALUE","flags",se)}function c(se,P){if(!P)return se;var V=typeof P;switch(V){case"string":se=G({},se,{encoding:P});break;case"object":se=G({},se,P);break;default:throw TypeError("Expected options to be either an object or a string, but got "+V+" instead")}return"buffer"!==se.encoding&&Sg.assertEncoding(se.encoding),se}function l(se){return function(P){return c(se,P)}}function u(se){if("function"!=typeof se)throw TypeError(be.CB);return se}function h(se){return function(P,V){return"function"==typeof P?[se(),P]:[se(P),u(V)]}}function g(se){if("string"!=typeof se&&!Zs.Buffer.isBuffer(se)){try{if(!(se instanceof cgt.URL))throw new TypeError(be.PATH_STR)}catch{throw new TypeError(be.PATH_STR)}if(""!==se.hostname)throw new SD.TypeError("ERR_INVALID_FILE_URL_HOST",Il.default.platform);se=se.pathname;for(var P=0;P<se.length;P++)if("%"===se[P]){var V=32|se.codePointAt(P+2);if("2"===se[P+1]&&102===V)throw new SD.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}se=decodeURIComponent(se)}return I(se=String(se)),se}function f(se,P){return(se=t(se,P).substr(1))?se.split(re):[]}function d(se){return f(g(se))}function m(se,P){return void 0===P&&(P=Sg.ENCODING_UTF8),Zs.Buffer.isBuffer(se)?se:se instanceof Uint8Array?Zs.bufferFrom(se):Zs.bufferFrom(String(se),P)}function p(se,P){return P&&"buffer"!==P?se.toString(P):se}function I(se,P){if(-1!==(""+se).indexOf("\0")){if((se=Error("Path must be a string without null bytes")).code="ENOENT","function"!=typeof P)throw se;return Il.default.nextTick(P,se),!1}return!0}function C(se,P){if("number"!=typeof(se="number"==typeof se?se:"string"==typeof se?parseInt(se,8):P?C(P):void 0)||isNaN(se))throw new TypeError(be.MODE_INT);return se}function B(se){if(se>>>0!==se)throw TypeError(be.FD)}function y(se){if("string"==typeof se&&+se==se)return+se;if(se instanceof Date)return se.getTime()/1e3;if(isFinite(se))return 0>se?Date.now()/1e3:se;throw Error("Cannot parse time: "+se)}function E(se){if("number"!=typeof se)throw TypeError(be.UID)}function b(se){if("number"!=typeof se)throw TypeError(be.GID)}function S(se){se.emit("stop")}function w(se,P,V){if(!(this instanceof w))return new w(se,P,V);if(this._vol=se,void 0===(V=G({},c(V,{}))).highWaterMark&&(V.highWaterMark=65536),Lu.Readable.call(this,V),this.path=g(P),this.fd=void 0===V.fd?null:V.fd,this.flags=void 0===V.flags?"r":V.flags,this.mode=void 0===V.mode?438:V.mode,this.start=V.start,this.end=V.end,this.autoClose=void 0===V.autoClose||V.autoClose,this.pos=void 0,this.bytesRead=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw Error('"start" option must be <= "end" option');this.pos=this.start}"number"!=typeof this.fd&&this.open(),this.on("end",function(){this.autoClose&&this.destroy&&this.destroy()})}function M(){this.close()}function D(se,P,V){if(!(this instanceof D))return new D(se,P,V);if(this._vol=se,V=G({},c(V,{})),Lu.Writable.call(this,V),this.path=g(P),this.fd=void 0===V.fd?null:V.fd,this.flags=void 0===V.flags?"w":V.flags,this.mode=void 0===V.mode?438:V.mode,this.start=V.start,this.autoClose=void 0===V.autoClose||!!V.autoClose,this.pos=void 0,this.bytesWritten=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(0>this.start)throw Error('"start" must be >= zero');this.pos=this.start}V.encoding&&this.setDefaultEncoding(V.encoding),"number"!=typeof this.fd&&this.open(),this.once("finish",function(){this.autoClose&&this.close()})}var T=qo&&qo.__extends||function(){function se(P,V){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,$){F.__proto__=$}||function(F,$){for(var we in $)$.hasOwnProperty(we)&&(F[we]=$[we])})(P,V)}return function(P,V){function F(){this.constructor=P}se(P,V),P.prototype=null===V?Object.create(V):(F.prototype=V.prototype,new F)}}(),O=qo&&qo.__spreadArrays||function(){for(var se=0,P=0,V=arguments.length;P<V;P++)se+=arguments[P].length;se=Array(se);var F=0;for(P=0;P<V;P++)for(var $=arguments[P],we=0,Ee=$.length;we<Ee;we++,F++)se[F]=$[we];return se};Object.defineProperty(e,"__esModule",{value:!0});var Ie,se,G=ngt_extend,W=IY_resolve,k=Rr.constants.O_RDONLY,L=Rr.constants.O_WRONLY,J=Rr.constants.O_RDWR,H=Rr.constants.O_CREAT,ue=Rr.constants.O_EXCL,ye=Rr.constants.O_TRUNC,K=Rr.constants.O_APPEND,z=Rr.constants.O_SYNC,Z=Rr.constants.O_DIRECTORY,le=Rr.constants.F_OK,ce=Rr.constants.COPYFILE_EXCL,ge=Rr.constants.COPYFILE_FICLONE_FORCE,re="/",ie=IY_relative,me="win32"===Il.default.platform,be={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"};(se=Ie=e.FLAGS||(e.FLAGS={}))[se.r=k]="r",se[se["r+"]=J]="r+",se[se.rs=k|z]="rs",se[se.sr=se.rs]="sr",se[se["rs+"]=J|z]="rs+",se[se["sr+"]=se["rs+"]]="sr+",se[se.w=L|H|ye]="w",se[se.wx=L|H|ye|ue]="wx",se[se.xw=se.wx]="xw",se[se["w+"]=J|H|ye]="w+",se[se["wx+"]=J|H|ye|ue]="wx+",se[se["xw+"]=se["wx+"]]="xw+",se[se.a=L|K|H]="a",se[se.ax=L|K|H|ue]="ax",se[se.xa=se.ax]="xa",se[se["a+"]=J|K|H]="a+",se[se["ax+"]=J|K|H|ue]="ax+",se[se["xa+"]=se["ax+"]]="xa+",e.flagsToNumber=a;var Ne=l(n={encoding:"utf8"}),Ae=h(Ne),ee=l({flag:"r"}),j={encoding:"utf8",mode:438,flag:Ie[Ie.w]},Te=l(j),Me={encoding:"utf8",mode:438,flag:Ie[Ie.a]},Oe=l(Me),Ge=h(Oe),oe=l(n),te=h(oe),Ye={mode:511,recursive:!1},Ve={recursive:!1},ut=l({encoding:"utf8",withFileTypes:!1}),it=h(ut),Jt={bigint:!1};if(e.pathToFilename=g,me){var Yt=t,Ot=mhe.unixify;t=function(se,P){return Ot(Yt(se,P))}}e.filenameToSteps=f,e.pathToSteps=d,e.dataToStr=function(se,P){return void 0===P&&(P=Sg.ENCODING_UTF8),Zs.Buffer.isBuffer(se)?se.toString(P):se instanceof Uint8Array?Zs.bufferFrom(se).toString(P):String(se)},e.dataToBuffer=m,e.bufferToEncoding=p,e.toUnixTimestamp=y,n=function(){function se(P){void 0===P&&(P={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=she.default(this),this.statWatchers={},this.props=G({Node:ND.Node,Link:ND.Link,File:ND.File},P),(P=this.createLink()).setNode(this.createNode(!0));var V=this;this.StatWatcher=function(F){function $(){return F.call(this,V)||this}return T($,F),$}(Sn),this.ReadStream=function(F){function $(){for(var we=[],Ee=0;Ee<arguments.length;Ee++)we[Ee]=arguments[Ee];return F.apply(this,O([V],we))||this}return T($,F),$}(w),this.WriteStream=function(F){function $(){for(var we=[],Ee=0;Ee<arguments.length;Ee++)we[Ee]=arguments[Ee];return F.apply(this,O([V],we))||this}return T($,F),$}(D),this.FSWatcher=function(F){function $(){return F.call(this,V)||this}return T($,F),$}(Dn),this.root=P}return se.fromJSON=function(P,V){var F=new se;return F.fromJSON(P,V),F},Object.defineProperty(se.prototype,"promises",{get:function(){if(null===this.promisesApi)throw Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!0,configurable:!0}),se.prototype.createLink=function(P,V,F,$){if(void 0===F&&(F=!1),!P)return new this.props.Link(this,null,"");if(!V)throw Error("createLink: name cannot be empty");return P.createChild(V,this.createNode(F,$))},se.prototype.deleteLink=function(P){var V=P.parent;return!!V&&(V.deleteChild(P),!0)},se.prototype.newInoNumber=function(){return this.releasedInos.pop()||(this.ino=(this.ino+1)%4294967295)},se.prototype.newFdNumber=function(){var P=this.releasedFds.pop();return"number"==typeof P?P:se.fd--},se.prototype.createNode=function(P,V){return void 0===P&&(P=!1),V=new this.props.Node(this.newInoNumber(),V),P&&V.setIsDirectory(),this.inodes[V.ino]=V},se.prototype.getNode=function(P){return this.inodes[P]},se.prototype.deleteNode=function(P){P.del(),delete this.inodes[P.ino],this.releasedInos.push(P.ino)},se.prototype.genRndStr=function(){var P=(Math.random()+1).toString(36).substr(2,6);return 6===P.length?P:this.genRndStr()},se.prototype.getLink=function(P){return this.root.walk(P)},se.prototype.getLinkOrThrow=function(P,V){var F=f(P);if(!(F=this.getLink(F)))throw o("ENOENT",V,P);return F},se.prototype.getResolvedLink=function(P){P="string"==typeof P?f(P):P;for(var V=this.root,F=0;F<P.length;){if(!(V=V.getChild(P[F])))return null;var $=V.getNode();$.isSymlink()?(P=$.symlink.concat(P.slice(F+1)),V=this.root,F=0):F++}return V},se.prototype.getResolvedLinkOrThrow=function(P,V){var F=this.getResolvedLink(P);if(!F)throw o("ENOENT",V,P);return F},se.prototype.resolveSymlinks=function(P){return this.getResolvedLink(P.steps.slice(1))},se.prototype.getLinkAsDirOrThrow=function(P,V){var F=this.getLinkOrThrow(P,V);if(!F.getNode().isDirectory())throw o("ENOTDIR",V,P);return F},se.prototype.getLinkParent=function(P){return this.root.walk(P,P.length-1)},se.prototype.getLinkParentAsDirOrThrow=function(P,V){P=P instanceof Array?P:f(P);var F=this.getLinkParent(P);if(!F)throw o("ENOENT",V,re+P.join(re));if(!F.getNode().isDirectory())throw o("ENOTDIR",V,re+P.join(re));return F},se.prototype.getFileByFd=function(P){return this.fds[String(P)]},se.prototype.getFileByFdOrThrow=function(P,V){if(P>>>0!==P)throw TypeError(be.FD);if(!(P=this.getFileByFd(P)))throw o("EBADF",V);return P},se.prototype.getNodeByIdOrCreate=function(P,V,F){if("number"==typeof P){if(!(P=this.getFileByFd(P)))throw Error("File nto found");return P.node}var $=d(P),we=this.getLink($);if(we)return we.getNode();if(V&H&&(V=this.getLinkParent($)))return(we=this.createLink(V,$[$.length-1],!1,F)).getNode();throw o("ENOENT","getNodeByIdOrCreate",g(P))},se.prototype.wrapAsync=function(P,V,F){var $=this;u(F),Py.default(function(){try{F(null,P.apply($,V))}catch(we){F(we)}})},se.prototype._toJSON=function(P,V,F){var $;void 0===P&&(P=this.root),void 0===V&&(V={});var we=!0,Ee=P.children;for(var Ct in P.getNode().isFile()&&(($={})[P.getName()]=P.parent.getChild(P.getName()),Ee=$,P=P.parent),Ee){if(we=!1,!(Ee=P.getChild(Ct)))throw Error("_toJSON: unexpected undefined");($=Ee.getNode()).isFile()?(Ee=Ee.getPath(),F&&(Ee=ie(F,Ee)),V[Ee]=$.getString()):$.isDirectory()&&this._toJSON(Ee,V,F)}return P=P.getPath(),F&&(P=ie(F,P)),P&&we&&(V[P]=null),V},se.prototype.toJSON=function(P,V,F){void 0===V&&(V={}),void 0===F&&(F=!1);var $=[];if(P){P instanceof Array||(P=[P]);for(var we=0;we<P.length;we++){var Ee=g(P[we]);(Ee=this.getResolvedLink(Ee))&&$.push(Ee)}}else $.push(this.root);if(!$.length)return V;for(we=0;we<$.length;we++)this._toJSON(Ee=$[we],V,F?Ee.getPath():"");return V},se.prototype.fromJSON=function(P,V){for(var F in void 0===V&&(V=Il.default.cwd()),P){var $=P[F];if("string"==typeof $){var we=f(F=t(F,V));1<we.length&&(we=re+we.slice(0,we.length-1).join(re),this.mkdirpBase(we,511)),this.writeFileSync(F,$)}else this.mkdirpBase(F,511)}},se.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},se.prototype.mountSync=function(P,V){this.fromJSON(V,P)},se.prototype.openLink=function(P,V,F){if(void 0===F&&(F=!0),this.openFiles>=this.maxFiles)throw o("EMFILE","open",P.getPath());var $=P;if(F&&($=this.resolveSymlinks(P)),!$)throw o("ENOENT","open",P.getPath());if((F=$.getNode()).isDirectory()){if((V&(k|J|L))!==k)throw o("EISDIR","open",P.getPath())}else if(V&Z)throw o("ENOTDIR","open",P.getPath());if(!(V&L||F.canRead()))throw o("EACCES","open",P.getPath());return P=new this.props.File(P,F,V,this.newFdNumber()),this.fds[P.fd]=P,this.openFiles++,V&ye&&P.truncate(),P},se.prototype.openFile=function(P,V,F,$){void 0===$&&($=!0);var we=f(P),Ee=$?this.getResolvedLink(we):this.getLink(we);if(!Ee&&V&H){var Ct=this.getResolvedLink(we.slice(0,we.length-1));if(!Ct)throw o("ENOENT","open",re+we.join(re));V&H&&"number"==typeof F&&(Ee=this.createLink(Ct,we[we.length-1],!1,F))}if(Ee)return this.openLink(Ee,V,$);throw o("ENOENT","open",P)},se.prototype.openBase=function(P,V,F,$){if(void 0===$&&($=!0),!(V=this.openFile(P,V,F,$)))throw o("ENOENT","open",P);return V.fd},se.prototype.openSync=function(P,V,F){return void 0===F&&(F=438),F=C(F),P=g(P),V=a(V),this.openBase(P,V,F)},se.prototype.open=function(P,V,F,$){var we=F;"function"==typeof F&&(we=438,$=F),F=C(we||438),P=g(P),V=a(V),this.wrapAsync(this.openBase,[P,V,F],$)},se.prototype.closeFile=function(P){this.fds[P.fd]&&(this.openFiles--,delete this.fds[P.fd],this.releasedFds.push(P.fd))},se.prototype.closeSync=function(P){B(P),P=this.getFileByFdOrThrow(P,"close"),this.closeFile(P)},se.prototype.close=function(P,V){B(P),this.wrapAsync(this.closeSync,[P],V)},se.prototype.openFileOrGetById=function(P,V,F){if("number"==typeof P){if(!(P=this.fds[P]))throw o("ENOENT");return P}return this.openFile(g(P),V,F)},se.prototype.readBase=function(P,V,F,$,we){return this.getFileByFdOrThrow(P).read(V,Number(F),Number($),we)},se.prototype.readSync=function(P,V,F,$,we){return B(P),this.readBase(P,V,F,$,we)},se.prototype.read=function(P,V,F,$,we,Ee){var Ct=this;if(u(Ee),0===$)return Il.default.nextTick(function(){Ee&&Ee(null,0,V)});Py.default(function(){try{var rt=Ct.readBase(P,V,F,$,we);Ee(null,rt,V)}catch(Nt){Ee(Nt)}})},se.prototype.readFileBase=function(P,V,F){var $="number"==typeof P&&P>>>0===P;if(!$){var we=g(P);if(we=f(we),(we=this.getResolvedLink(we))&&we.getNode().isDirectory())throw o("EISDIR","open",we.getPath());P=this.openSync(P,V)}try{var Ee=p(this.getFileByFdOrThrow(P).getBuffer(),F)}finally{$||this.closeSync(P)}return Ee},se.prototype.readFileSync=function(P,V){var F=a((V=ee(V)).flag);return this.readFileBase(P,F,V.encoding)},se.prototype.readFile=function(P,V,F){V=(F=h(ee)(V,F))[0],F=F[1];var $=a(V.flag);this.wrapAsync(this.readFileBase,[P,$,V.encoding],F)},se.prototype.writeBase=function(P,V,F,$,we){return this.getFileByFdOrThrow(P,"write").write(V,F,$,we)},se.prototype.writeSync=function(P,V,F,$,we){B(P);var Ee="string"!=typeof V;if(Ee){var Ct=0|(F||0),rt=$;F=we}else var Nt=$;return V=m(V,Nt),Ee?typeof rt>"u"&&(rt=V.length):(Ct=0,rt=V.length),this.writeBase(P,V,Ct,rt,F)},se.prototype.write=function(P,V,F,$,we,Ee){var Ct=this;B(P);var rt=typeof V,Nt=typeof F,In=typeof $,jt=typeof we;if("string"!==rt)if("function"===Nt)var Rn=F;else if("function"===In){var iA=0|F;Rn=$}else if("function"===jt){iA=0|F;var Sr=$;Rn=we}else{iA=0|F,Sr=$;var sr=we;Rn=Ee}else if("function"===Nt)Rn=F;else if("function"===In)sr=F,Rn=$;else if("function"===jt){sr=F;var Hs=$;Rn=we}var ii=m(V,Hs);"string"!==rt?typeof Sr>"u"&&(Sr=ii.length):(iA=0,Sr=ii.length);var Fa=u(Rn);Py.default(function(){try{var kc=Ct.writeBase(P,ii,iA,Sr,sr);Fa(null,kc,"string"!==rt?ii:V)}catch(Ys){Fa(Ys)}})},se.prototype.writeFileBase=function(P,V,F,$){var we="number"==typeof P;P=we?P:this.openBase(g(P),F,$),$=0;var Ee=V.length;F=F&K?void 0:0;try{for(;0<Ee;){var Ct=this.writeSync(P,V,$,Ee,F);$+=Ct,Ee-=Ct,void 0!==F&&(F+=Ct)}}finally{we||this.closeSync(P)}},se.prototype.writeFileSync=function(P,V,F){var $=Te(F);F=a($.flag);var we=C($.mode);V=m(V,$.encoding),this.writeFileBase(P,V,F,we)},se.prototype.writeFile=function(P,V,F,$){var we=F;"function"==typeof F&&(we=j,$=F),F=u($);var Ee=Te(we);we=a(Ee.flag),$=C(Ee.mode),V=m(V,Ee.encoding),this.wrapAsync(this.writeFileBase,[P,V,we,$],F)},se.prototype.linkBase=function(P,V){var F=f(P),$=this.getLink(F);if(!$)throw o("ENOENT","link",P,V);var we=f(V);if(!(F=this.getLinkParent(we)))throw o("ENOENT","link",P,V);if(F.getChild(we=we[we.length-1]))throw o("EEXIST","link",P,V);(P=$.getNode()).nlink++,F.createChild(we,P)},se.prototype.copyFileBase=function(P,V,F){var $=this.readFileSync(P);if(F&ce&&this.existsSync(V))throw o("EEXIST","copyFile",P,V);if(F&ge)throw o("ENOSYS","copyFile",P,V);this.writeFileBase(V,$,Ie.w,438)},se.prototype.copyFileSync=function(P,V,F){return P=g(P),V=g(V),this.copyFileBase(P,V,0|(F||0))},se.prototype.copyFile=function(P,V,F,$){if(P=g(P),V=g(V),"function"==typeof F)var we=0;else we=F,F=$;u(F),this.wrapAsync(this.copyFileBase,[P,V,we],F)},se.prototype.linkSync=function(P,V){P=g(P),V=g(V),this.linkBase(P,V)},se.prototype.link=function(P,V,F){P=g(P),V=g(V),this.wrapAsync(this.linkBase,[P,V],F)},se.prototype.unlinkBase=function(P){var V=f(P);if(!(V=this.getLink(V)))throw o("ENOENT","unlink",P);if(V.length)throw Error("Dir not empty...");this.deleteLink(V),(P=V.getNode()).nlink--,0>=P.nlink&&this.deleteNode(P)},se.prototype.unlinkSync=function(P){P=g(P),this.unlinkBase(P)},se.prototype.unlink=function(P,V){P=g(P),this.wrapAsync(this.unlinkBase,[P],V)},se.prototype.symlinkBase=function(P,V){var F=f(V),$=this.getLinkParent(F);if(!$)throw o("ENOENT","symlink",P,V);if($.getChild(F=F[F.length-1]))throw o("EEXIST","symlink",P,V);return(V=$.createChild(F)).getNode().makeSymlink(f(P)),V},se.prototype.symlinkSync=function(P,V){P=g(P),V=g(V),this.symlinkBase(P,V)},se.prototype.symlink=function(P,V,F,$){F=u("function"==typeof F?F:$),P=g(P),V=g(V),this.wrapAsync(this.symlinkBase,[P,V],F)},se.prototype.realpathBase=function(P,V){var F=f(P);if(!(F=this.getResolvedLink(F)))throw o("ENOENT","realpath",P);return Sg.strToEncoding(F.getPath(),V)},se.prototype.realpathSync=function(P,V){return this.realpathBase(g(P),oe(V).encoding)},se.prototype.realpath=function(P,V,F){V=(F=te(V,F))[0],F=F[1],P=g(P),this.wrapAsync(this.realpathBase,[P,V.encoding],F)},se.prototype.lstatBase=function(P,V){void 0===V&&(V=!1);var F=this.getLink(f(P));if(!F)throw o("ENOENT","lstat",P);return Ry.default.build(F.getNode(),V)},se.prototype.lstatSync=function(P,V){return this.lstatBase(g(P),r(V).bigint)},se.prototype.lstat=function(P,V,F){V=(F=i(V,F))[0],F=F[1],this.wrapAsync(this.lstatBase,[g(P),V.bigint],F)},se.prototype.statBase=function(P,V){void 0===V&&(V=!1);var F=this.getResolvedLink(f(P));if(!F)throw o("ENOENT","stat",P);return Ry.default.build(F.getNode(),V)},se.prototype.statSync=function(P,V){return this.statBase(g(P),r(V).bigint)},se.prototype.stat=function(P,V,F){V=(F=i(V,F))[0],F=F[1],this.wrapAsync(this.statBase,[g(P),V.bigint],F)},se.prototype.fstatBase=function(P,V){if(void 0===V&&(V=!1),!(P=this.getFileByFd(P)))throw o("EBADF","fstat");return Ry.default.build(P.node,V)},se.prototype.fstatSync=function(P,V){return this.fstatBase(P,r(V).bigint)},se.prototype.fstat=function(P,V,F){V=i(V,F),this.wrapAsync(this.fstatBase,[P,V[0].bigint],V[1])},se.prototype.renameBase=function(P,V){var F=this.getLink(f(P));if(!F)throw o("ENOENT","rename",P,V);var $=f(V),we=this.getLinkParent($);if(!we)throw o("ENOENT","rename",P,V);(P=F.parent)&&P.deleteChild(F),F.steps=O(we.steps,[$[$.length-1]]),we.setChild(F.getName(),F)},se.prototype.renameSync=function(P,V){P=g(P),V=g(V),this.renameBase(P,V)},se.prototype.rename=function(P,V,F){P=g(P),V=g(V),this.wrapAsync(this.renameBase,[P,V],F)},se.prototype.existsBase=function(P){return!!this.statBase(P)},se.prototype.existsSync=function(P){try{return this.existsBase(g(P))}catch{return!1}},se.prototype.exists=function(P,V){var F=this,$=g(P);if("function"!=typeof V)throw Error(be.CB);Py.default(function(){try{V(F.existsBase($))}catch{V(!1)}})},se.prototype.accessBase=function(P){this.getLinkOrThrow(P,"access")},se.prototype.accessSync=function(P,V){void 0===V&&(V=le),P=g(P),this.accessBase(P,0|V)},se.prototype.access=function(P,V,F){var $=le;"function"!=typeof V&&($=0|V,V=u(F)),P=g(P),this.wrapAsync(this.accessBase,[P,$],V)},se.prototype.appendFileSync=function(P,V,F){void 0===F&&(F=Me),(F=Oe(F)).flag&&P>>>0!==P||(F.flag="a"),this.writeFileSync(P,V,F)},se.prototype.appendFile=function(P,V,F,$){F=($=Ge(F,$))[0],$=$[1],F.flag&&P>>>0!==P||(F.flag="a"),this.writeFile(P,V,F,$)},se.prototype.readdirBase=function(P,V){var F=f(P);if(!(F=this.getResolvedLink(F)))throw o("ENOENT","readdir",P);if(!F.getNode().isDirectory())throw o("ENOTDIR","scandir",P);if(V.withFileTypes){var $=[];for(we in F.children)(P=F.getChild(we))&&$.push(dY.default.build(P,V.encoding));return me||"buffer"===V.encoding||$.sort(function(Ee,Ct){return Ee.name<Ct.name?-1:Ee.name>Ct.name?1:0}),$}var we=[];for($ in F.children)we.push(Sg.strToEncoding($,V.encoding));return me||"buffer"===V.encoding||we.sort(),we},se.prototype.readdirSync=function(P,V){return V=ut(V),P=g(P),this.readdirBase(P,V)},se.prototype.readdir=function(P,V,F){V=(F=it(V,F))[0],F=F[1],P=g(P),this.wrapAsync(this.readdirBase,[P,V],F)},se.prototype.readlinkBase=function(P,V){var F=this.getLinkOrThrow(P,"readlink").getNode();if(!F.isSymlink())throw o("EINVAL","readlink",P);return P=re+F.symlink.join(re),Sg.strToEncoding(P,V)},se.prototype.readlinkSync=function(P,V){return V=Ne(V),P=g(P),this.readlinkBase(P,V.encoding)},se.prototype.readlink=function(P,V,F){V=(F=Ae(V,F))[0],F=F[1],P=g(P),this.wrapAsync(this.readlinkBase,[P,V.encoding],F)},se.prototype.fsyncBase=function(P){this.getFileByFdOrThrow(P,"fsync")},se.prototype.fsyncSync=function(P){this.fsyncBase(P)},se.prototype.fsync=function(P,V){this.wrapAsync(this.fsyncBase,[P],V)},se.prototype.fdatasyncBase=function(P){this.getFileByFdOrThrow(P,"fdatasync")},se.prototype.fdatasyncSync=function(P){this.fdatasyncBase(P)},se.prototype.fdatasync=function(P,V){this.wrapAsync(this.fdatasyncBase,[P],V)},se.prototype.ftruncateBase=function(P,V){this.getFileByFdOrThrow(P,"ftruncate").truncate(V)},se.prototype.ftruncateSync=function(P,V){this.ftruncateBase(P,V)},se.prototype.ftruncate=function(P,V,F){var $="number"==typeof V?V:0;V=u("number"==typeof V?F:V),this.wrapAsync(this.ftruncateBase,[P,$],V)},se.prototype.truncateBase=function(P,V){P=this.openSync(P,"r+");try{this.ftruncateSync(P,V)}finally{this.closeSync(P)}},se.prototype.truncateSync=function(P,V){if(P>>>0===P)return this.ftruncateSync(P,V);this.truncateBase(P,V)},se.prototype.truncate=function(P,V,F){var $="number"==typeof V?V:0;if(V=u("number"==typeof V?F:V),P>>>0===P)return this.ftruncate(P,$,V);this.wrapAsync(this.truncateBase,[P,$],V)},se.prototype.futimesBase=function(P,V,F){(P=this.getFileByFdOrThrow(P,"futimes").node).atime=new Date(1e3*V),P.mtime=new Date(1e3*F)},se.prototype.futimesSync=function(P,V,F){this.futimesBase(P,y(V),y(F))},se.prototype.futimes=function(P,V,F,$){this.wrapAsync(this.futimesBase,[P,y(V),y(F)],$)},se.prototype.utimesBase=function(P,V,F){P=this.openSync(P,"r+");try{this.futimesBase(P,V,F)}finally{this.closeSync(P)}},se.prototype.utimesSync=function(P,V,F){this.utimesBase(g(P),y(V),y(F))},se.prototype.utimes=function(P,V,F,$){this.wrapAsync(this.utimesBase,[g(P),y(V),y(F)],$)},se.prototype.mkdirBase=function(P,V){var F=f(P);if(!F.length)throw o("EISDIR","mkdir",P);var $=this.getLinkParentAsDirOrThrow(P,"mkdir");if($.getChild(F=F[F.length-1]))throw o("EEXIST","mkdir",P);$.createChild(F,this.createNode(!0,V))},se.prototype.mkdirpBase=function(P,V){P=f(P);for(var F=this.root,$=0;$<P.length;$++){var we=P[$];if(!F.getNode().isDirectory())throw o("ENOTDIR","mkdir",F.getPath());var Ee=F.getChild(we);if(Ee){if(!Ee.getNode().isDirectory())throw o("ENOTDIR","mkdir",Ee.getPath());F=Ee}else F=F.createChild(we,this.createNode(!0,V))}},se.prototype.mkdirSync=function(P,V){var F=C((V=A(V)).mode,511);P=g(P),V.recursive?this.mkdirpBase(P,F):this.mkdirBase(P,F)},se.prototype.mkdir=function(P,V,F){var $=A(V);V=u("function"==typeof V?V:F),F=C($.mode,511),P=g(P),this.wrapAsync($.recursive?this.mkdirpBase:this.mkdirBase,[P,F],V)},se.prototype.mkdirpSync=function(P,V){this.mkdirSync(P,{mode:V,recursive:!0})},se.prototype.mkdirp=function(P,V,F){var $="function"==typeof V?void 0:V;V=u("function"==typeof V?V:F),this.mkdir(P,{mode:$,recursive:!0},V)},se.prototype.mkdtempBase=function(P,V,F){void 0===F&&(F=5);var $=P+this.genRndStr();try{return this.mkdirBase($,511),Sg.strToEncoding($,V)}catch(we){if("EEXIST"===we.code){if(1<F)return this.mkdtempBase(P,V,F-1);throw Error("Could not create temp dir.")}throw we}},se.prototype.mkdtempSync=function(P,V){if(V=Ne(V).encoding,!P||"string"!=typeof P)throw new TypeError("filename prefix is required");return I(P),this.mkdtempBase(P,V)},se.prototype.mkdtemp=function(P,V,F){if(V=(F=Ae(V,F))[0].encoding,F=F[1],!P||"string"!=typeof P)throw new TypeError("filename prefix is required");I(P)&&this.wrapAsync(this.mkdtempBase,[P,V],F)},se.prototype.rmdirBase=function(P,V){V=G({},Ve,V);var F=this.getLinkAsDirOrThrow(P,"rmdir");if(F.length&&!V.recursive)throw o("ENOTEMPTY","rmdir",P);this.deleteLink(F)},se.prototype.rmdirSync=function(P,V){this.rmdirBase(g(P),V)},se.prototype.rmdir=function(P,V,F){var $=G({},Ve,V);V=u("function"==typeof V?V:F),this.wrapAsync(this.rmdirBase,[g(P),$],V)},se.prototype.fchmodBase=function(P,V){this.getFileByFdOrThrow(P,"fchmod").chmod(V)},se.prototype.fchmodSync=function(P,V){this.fchmodBase(P,C(V))},se.prototype.fchmod=function(P,V,F){this.wrapAsync(this.fchmodBase,[P,C(V)],F)},se.prototype.chmodBase=function(P,V){P=this.openSync(P,"r+");try{this.fchmodBase(P,V)}finally{this.closeSync(P)}},se.prototype.chmodSync=function(P,V){V=C(V),P=g(P),this.chmodBase(P,V)},se.prototype.chmod=function(P,V,F){V=C(V),P=g(P),this.wrapAsync(this.chmodBase,[P,V],F)},se.prototype.lchmodBase=function(P,V){P=this.openBase(P,J,0,!1);try{this.fchmodBase(P,V)}finally{this.closeSync(P)}},se.prototype.lchmodSync=function(P,V){V=C(V),P=g(P),this.lchmodBase(P,V)},se.prototype.lchmod=function(P,V,F){V=C(V),P=g(P),this.wrapAsync(this.lchmodBase,[P,V],F)},se.prototype.fchownBase=function(P,V,F){this.getFileByFdOrThrow(P,"fchown").chown(V,F)},se.prototype.fchownSync=function(P,V,F){E(V),b(F),this.fchownBase(P,V,F)},se.prototype.fchown=function(P,V,F,$){E(V),b(F),this.wrapAsync(this.fchownBase,[P,V,F],$)},se.prototype.chownBase=function(P,V,F){this.getResolvedLinkOrThrow(P,"chown").getNode().chown(V,F)},se.prototype.chownSync=function(P,V,F){E(V),b(F),this.chownBase(g(P),V,F)},se.prototype.chown=function(P,V,F,$){E(V),b(F),this.wrapAsync(this.chownBase,[g(P),V,F],$)},se.prototype.lchownBase=function(P,V,F){this.getLinkOrThrow(P,"lchown").getNode().chown(V,F)},se.prototype.lchownSync=function(P,V,F){E(V),b(F),this.lchownBase(g(P),V,F)},se.prototype.lchown=function(P,V,F,$){E(V),b(F),this.wrapAsync(this.lchownBase,[g(P),V,F],$)},se.prototype.watchFile=function(P,V,F){P=g(P);var $=V;if("function"==typeof $&&(F=V,$=null),"function"!=typeof F)throw Error('"watchFile()" requires a listener function');V=5007;var we=!0;return $&&"object"==typeof $&&("number"==typeof $.interval&&(V=$.interval),"boolean"==typeof $.persistent&&(we=$.persistent)),($=this.statWatchers[P])||(($=new this.StatWatcher).start(P,we,V),this.statWatchers[P]=$),$.addListener("change",F),$},se.prototype.unwatchFile=function(P,V){P=g(P);var F=this.statWatchers[P];F&&("function"==typeof V?F.removeListener("change",V):F.removeAllListeners("change"),0===F.listenerCount("change")&&(F.stop(),delete this.statWatchers[P]))},se.prototype.createReadStream=function(P,V){return new this.ReadStream(P,V)},se.prototype.createWriteStream=function(P,V){return new this.WriteStream(P,V)},se.prototype.watch=function(P,V,F){P=g(P);var $=V;"function"==typeof V&&(F=V,$=null);var we=Ne($);V=we.persistent,$=we.recursive,we=we.encoding,void 0===V&&(V=!0),void 0===$&&($=!1);var Ee=new this.FSWatcher;return Ee.start(P,V,$,we),F&&Ee.addListener("change",F),Ee},se.fd=2147483647,se}(),e.Volume=n;var ct,Sn=function(se){function P(V){var F=se.call(this)||this;return F.onInterval=function(){try{var $=F.vol.statSync(F.filename);F.hasChanged($)&&(F.emit("change",$,F.prev),F.prev=$)}finally{F.loop()}},F.vol=V,F}return T(P,se),P.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},P.prototype.hasChanged=function(V){return V.mtimeMs>this.prev.mtimeMs||V.nlink!==this.prev.nlink},P.prototype.start=function(V,F,$){void 0===F&&(F=!0),void 0===$&&($=5007),this.filename=g(V),this.setTimeout=F?setTimeout:Jge.default,this.interval=$,this.prev=this.vol.statSync(this.filename),this.loop()},P.prototype.stop=function(){clearTimeout(this.timeoutRef),Il.default.nextTick(S,this)},P}(Or.EventEmitter);e.StatWatcher=Sn,bD.inherits(w,Lu.Readable),e.ReadStream=w,w.prototype.open=function(){var se=this;this._vol.open(this.path,this.flags,this.mode,function(P,V){P?(se.autoClose&&se.destroy&&se.destroy(),se.emit("error",P)):(se.fd=V,se.emit("open",V),se.read())})},w.prototype._read=function(se){if("number"!=typeof this.fd)return this.once("open",function(){this._read(se)});if(!this.destroyed){(!ct||128>ct.length-ct.used)&&((ct=Zs.bufferAllocUnsafe(this._readableState.highWaterMark)).used=0);var P=ct,V=Math.min(ct.length-ct.used,se),F=ct.used;if(void 0!==this.pos&&(V=Math.min(this.end-this.pos+1,V)),0>=V)return this.push(null);var $=this;this._vol.read(this.fd,ct,ct.used,V,this.pos,function(we,Ee){we?($.autoClose&&$.destroy&&$.destroy(),$.emit("error",we)):(we=null,0<Ee&&($.bytesRead+=Ee,we=P.slice(F,F+Ee)),$.push(we))}),void 0!==this.pos&&(this.pos+=V),ct.used+=V}},w.prototype._destroy=function(se,P){this.close(function(V){P(se||V)})},w.prototype.close=function(se){var P=this;if(se&&this.once("close",se),this.closed||"number"!=typeof this.fd)return"number"!=typeof this.fd?void this.once("open",M):Il.default.nextTick(function(){return P.emit("close")});this.closed=!0,this._vol.close(this.fd,function(V){V?P.emit("error",V):P.emit("close")}),this.fd=null},bD.inherits(D,Lu.Writable),e.WriteStream=D,D.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(se,P){se?(this.autoClose&&this.destroy&&this.destroy(),this.emit("error",se)):(this.fd=P,this.emit("open",P))}.bind(this))},D.prototype._write=function(se,P,V){if(!(se instanceof Zs.Buffer))return this.emit("error",Error("Invalid data"));if("number"!=typeof this.fd)return this.once("open",function(){this._write(se,P,V)});var F=this;this._vol.write(this.fd,se,0,se.length,this.pos,function($,we){if($)return F.autoClose&&F.destroy&&F.destroy(),V($);F.bytesWritten+=we,V()}),void 0!==this.pos&&(this.pos+=se.length)},D.prototype._writev=function(se,P){if("number"!=typeof this.fd)return this.once("open",function(){this._writev(se,P)});for(var V=this,F=se.length,$=Array(F),we=0,Ee=0;Ee<F;Ee++){var Ct=se[Ee].chunk;$[Ee]=Ct,we+=Ct.length}F=Zs.Buffer.concat($),this._vol.write(this.fd,F,0,F.length,this.pos,function(rt,Nt){if(rt)return V.destroy&&V.destroy(),P(rt);V.bytesWritten+=Nt,P()}),void 0!==this.pos&&(this.pos+=we)},D.prototype._destroy=w.prototype._destroy,D.prototype.close=w.prototype.close,D.prototype.destroySoon=D.prototype.end;var Dn=function(se){function P(V){var F=se.call(this)||this;return F._filename="",F._filenameEncoded="",F._recursive=!1,F._encoding=Sg.ENCODING_UTF8,F._onNodeChange=function(){F._emit("change")},F._onParentChild=function($){$.getName()===F._getName()&&F._emit("rename")},F._emit=function($){F.emit("change",$,F._filenameEncoded)},F._persist=function(){F._timer=setTimeout(F._persist,1e6)},F._vol=V,F}return T(P,se),P.prototype._getName=function(){return this._steps[this._steps.length-1]},P.prototype.start=function(V,F,$,we){void 0===F&&(F=!0),void 0===$&&($=!1),void 0===we&&(we=Sg.ENCODING_UTF8),this._filename=g(V),this._steps=f(this._filename),this._filenameEncoded=Sg.strToEncoding(this._filename),this._recursive=$,this._encoding=we;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(Ee){throw(F=Error("watch "+this._filename+" "+Ee.code)).code=Ee.code,F.errno=Ee.code,F}this._link.getNode().on("change",this._onNodeChange),this._link.on("child:add",this._onNodeChange),this._link.on("child:delete",this._onNodeChange),(V=this._link.parent)&&(V.setMaxListeners(V.getMaxListeners()+1),V.on("child:delete",this._onParentChild)),F&&this._persist()},P.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var V=this._link.parent;V&&V.removeListener("child:delete",this._onParentChild)},P}(Or.EventEmitter);e.FSWatcher=Dn});Cl(PB);var Bgt=PB.pathToFilename,Egt=PB.filenameToSteps,Che=PB.Volume,NY=Rc(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fsProps="constants F_OK R_OK W_OK X_OK Stats".split(" "),e.fsSyncMethods="renameSync ftruncateSync truncateSync chownSync fchownSync lchownSync chmodSync fchmodSync lchmodSync statSync lstatSync fstatSync linkSync symlinkSync readlinkSync realpathSync unlinkSync rmdirSync mkdirSync mkdirpSync readdirSync closeSync openSync utimesSync futimesSync fsyncSync writeSync readSync readFileSync writeFileSync appendFileSync existsSync accessSync fdatasyncSync mkdtempSync copyFileSync createReadStream createWriteStream".split(" "),e.fsAsyncMethods="rename ftruncate truncate chown fchown lchown chmod fchmod lchmod stat lstat fstat link symlink readlink realpath unlink rmdir mkdir mkdirp readdir close open utimes futimes fsync write read readFile writeFile appendFile exists access fdatasync mkdtemp copyFile watchFile unwatchFile watch".split(" ")});Cl(NY);var Ihe=Rc(function(n,e){function t(l){for(var u={F_OK:s,R_OK:o,W_OK:a,X_OK:c,constants:Rr.constants,Stats:Ry.default,Dirent:dY.default},h=0,g=r;h<g.length;h++){var f=g[h];"function"==typeof l[f]&&(u[f]=l[f].bind(l))}for(h=0,g=A;h<g.length;h++)"function"==typeof l[f=g[h]]&&(u[f]=l[f].bind(l));return u.StatWatcher=l.StatWatcher,u.FSWatcher=l.FSWatcher,u.WriteStream=l.WriteStream,u.ReadStream=l.ReadStream,u.promises=l.promises,u._toUnixTimestamp=PB.toUnixTimestamp,u}var i=qo&&qo.__assign||function(){return i=Object.assign||function(l){for(var u,h=1,g=arguments.length;h<g;h++)for(var f in u=arguments[h])Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f]);return l},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=NY.fsSyncMethods,A=NY.fsAsyncMethods,s=Rr.constants.F_OK,o=Rr.constants.R_OK,a=Rr.constants.W_OK,c=Rr.constants.X_OK;e.Volume=PB.Volume,e.vol=new PB.Volume,e.createFsFromVolume=t,e.fs=t(e.vol),n.exports=i(i({},n.exports),e.fs),n.exports.semantic=!0});Cl(Ihe);var Bhe=Ihe.createFsFromVolume;Uut.prototype.emit=function(n){for(var e,t,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];r=this.listeners(n);try{for(var A=$8(r),s=A.next();!s.done;s=A.next()){var o=s.value;try{o.apply(void 0,cut(i))}catch(a){console.error(a)}}}catch(a){e={error:a}}finally{try{s&&!s.done&&(t=A.return)&&t.call(A)}finally{if(e)throw e.error}}return 0<r.length};var Ehe=function(){function n(){this.volume=new Che,this.fs=Bhe(this.volume),this.fromJSON({"/dev/stdin":"","/dev/stdout":"","/dev/stderr":""})}return n.prototype._toJSON=function(e,t,i){void 0===t&&(t={});var A,r=!0;for(A in e.children){r=!1;var s=e.getChild(A);if(s){var o=s.getNode();o&&o.isFile()?(s=s.getPath(),i&&(s=CY(i,s)),t[s]=o.getBuffer()):o&&o.isDirectory()&&this._toJSON(s,t,i)}}return e=e.getPath(),i&&(e=CY(i,e)),e&&r&&(t[e]=null),t},n.prototype.toJSON=function(e,t,i){var r,A;void 0===t&&(t={}),void 0===i&&(i=!1);var s=[];if(e){e instanceof Array||(e=[e]);try{for(var o=$8(e),a=o.next();!a.done;a=o.next()){var c=Bgt(a.value),l=this.volume.getResolvedLink(c);l&&s.push(l)}}catch(d){var u={error:d}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(u)throw u.error}}}else s.push(this.volume.root);if(!s.length)return t;try{for(var h=$8(s),g=h.next();!g.done;g=h.next())this._toJSON(l=g.value,t,i?l.getPath():"")}catch(d){var f={error:d}}finally{try{g&&!g.done&&(A=h.return)&&A.call(h)}finally{if(f)throw f.error}}return t},n.prototype.fromJSONFixed=function(e,t){for(var i in t){var r=t[i];if(r?null!==Object.getPrototypeOf(r):null!==r){var A=Egt(i);1<A.length&&(A="/"+A.slice(0,A.length-1).join("/"),e.mkdirpBase(A,511)),e.writeFileSync(i,r||"")}else e.mkdirpBase(i,511)}},n.prototype.fromJSON=function(e){this.volume=new Che,this.fromJSONFixed(this.volume,e),this.fs=Bhe(this.volume),this.volume.releasedFds=[0,1,2],e=this.volume.openSync("/dev/stderr","w");var t=this.volume.openSync("/dev/stdout","w"),i=this.volume.openSync("/dev/stdin","r");if(2!==e)throw Error("invalid handle for stderr: "+e);if(1!==t)throw Error("invalid handle for stdout: "+t);if(0!==i)throw Error("invalid handle for stdin: "+i)},n.prototype.getStdOut=function(){return function sut(n,e,t,i){return new(t||(t=Promise))(function(r,A){function s(c){try{a(i.next(c))}catch(l){A(l)}}function o(c){try{a(i.throw(c))}catch(l){A(l)}}function a(c){c.done?r(c.value):new t(function(l){l(c.value)}).then(s,o)}a((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function(){var t=this;return function out(n,e){function t(c){return function(l){return function i(c){if(A)throw new TypeError("Generator is already executing.");for(;r;)try{if(A=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(o=0<(o=r.trys).length&&o[o.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3]))r.label=c[1];else if(6===c[0]&&r.label<o[1])r.label=o[1],o=c;else{if(!(o&&r.label<o[2])){o[2]&&r.ops.pop(),r.trys.pop();continue}r.label=o[2],r.ops.push(c)}}c=e.call(n,r)}catch(l){c=[6,l],s=0}finally{A=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}var A,s,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}(this,function(){return[2,new Promise(function(i){i(t.fs.readFileSync("/dev/stdout","utf8"))})]})})},n}();let vgt=(()=>{class n{constructor(){this.isLoaded=!1}initialize(){var t=this;return(0,St.A)(function*(){if(!t.isLoaded)try{fetch("assets/wasm/program.wasm").then(i=>i.arrayBuffer()).then(i=>WebAssembly.instantiate(i,{env:{memory:new WebAssembly.Memory({initial:256,maximum:512}),print:r=>console.log("WASM says:",r),abort:()=>console.error("WASM aborted!")}})).then(({instance:i})=>{console.log("WASM Loaded Successfully!",i),t.isLoaded=!0}).catch(i=>console.error("Failed to load WASM:",i))}catch(i){throw console.error("Failed to load WebAssembly module:",i),i}})()}loadWasmModule(t){return(0,St.A)(function*(){new Ehe;const r=new Xue.bJ({args:[],env:{}});try{const s=yield(yield fetch(t)).arrayBuffer(),{instance:o}=yield WebAssembly.instantiate(s,{...r.getImports(s)});r.start(o),console.log("WebAssembly module instantiated successfully!")}catch(A){console.error("Error loading or instantiating WebAssembly module:",A)}})()}processString(t){var i=this;return(0,St.A)(function*(){i.isLoaded||(yield i.initialize());try{let r=i.wasmModule._process_string(t);return console.log("output : "+r),r}catch(r){throw console.error("Error processing string:",r),r}})()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ygt=(()=>{class n{loadWasmModule(t){return(0,St.A)(function*(){new Ehe;const r=new Xue.bJ({args:[],env:{}});try{const s=yield(yield fetch(t)).arrayBuffer(),{instance:o}=yield WebAssembly.instantiate(s,{...r.getImports(s)});r.start(o),console.log("WebAssembly module instantiated successfully!")}catch(A){console.error("Error loading or instantiating WebAssembly module:",A)}})()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const vhe=[{path:"Home",component:vle,caption:"Home"},{path:"",component:vle,caption:""},{path:"Sudoku",component:cUe,caption:"Sudoku"},{path:"TicTacToe",component:wUe,caption:"TicTacToe"},{path:"TicTacToeOnline",component:wOe,caption:"TicTacToe-Online"},{path:"Hanoi",component:eMe,caption:"Hanoi - Timer"},{path:"HanoiRjxs",component:jSe,caption:"Hanoi - Rjxs"},{path:"HanoiAuto",component:VSe,caption:"Hanoi - Rjxs -Auto"},{path:"Hanoi3d",component:jke,caption:"Hanoi - 3d"},{path:"RxJsPlayground",component:$At,caption:"RxJs-Playground"},{path:"OcrPhotoCapture",component:LAt,caption:"Ocr-Photo-Capture"},{path:"Ocr",component:HAt,caption:"Ocr"},{path:"Chat",component:rGe,caption:"Chat"},{path:"SpeechRecognition",component:lst,caption:"Speech       - Recognition"},{path:"ShapeReconCanvas",component:ast,caption:"Shape        - Recon - Canvas"},{path:"ShapeRecognition",component:VAt,caption:"Shape        - Recognition"},{path:"BackendTesting",component:GAt,caption:"Backend      - Testing"},{path:"BouncingBall",component:DOe,caption:"Boucing      - Testing"},{path:"Tetris",component:mUe,caption:"Tetris       - Testing"},{path:"MathParsing",component:Brt,caption:"Math         - Testing"},{path:"WebAssembly",component:(()=>{class n{constructor(t,i){this.stringProcessor=t,this.wasmLoader=i,this.inputText="",this.processedText=""}ngOnInit(){var t=this;return(0,St.A)(function*(){yield t.stringProcessor.loadWasmModule("https://apereznwo.github.io/PWA_DEMO_ENV_TEST/assets/wasm/program.wasm")})()}processText(){var t=this;return(0,St.A)(function*(){try{t.processedText=yield t.stringProcessor.processString(t.inputText)}catch(i){console.error("Error:",i)}})()}static{this.\u0275fac=function(i){return new(i||n)(yt(vgt),yt(ygt))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-web-assembly"]],decls:4,vars:2,consts:[[3,"ngModelChange","input","ngModel"]],template:function(i,r){1&i&&(pe(0,"div")(1,"input",0),lh("ngModelChange",function(s){return uf(r.inputText,s)||(r.inputText=s),s}),on("input",function(){return r.processText()}),he(),pe(2,"p"),Re(3),he()()),2&i&&(ke(),ch("ngModel",r.inputText),ke(2),$r("Processed text: ",r.processedText,""))},dependencies:[ff,pm,QI]})}}return n})(),caption:"WebAsemmbly  - Testing"},{path:"Dev",component:OAt,caption:"Testing Releases"},{path:"StableReleases",component:UAt,caption:"Stable Releases"},{path:"SCM",component:iut,caption:"About - SCM"},{path:"Topics",component:rut,caption:"About - Topics"},{path:"LLMs",component:klt,caption:"About - LLM List"},{path:"Index",component:Rlt,caption:"About - Index"},{path:"ContactForm",component:Vlt,caption:"About - Contact Form"},{path:"About",component:Aut,caption:"About"},{path:"**",component:hst,caption:""}];let Qgt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n})}static{this.\u0275inj=lr({imports:[WZ.forRoot(vhe),WZ]})}}return n})();function wgt(n,e){if(1&n){const t=TA();pe(0,"ul",14)(1,"li",15)(2,"a",16),on("click",function(){return zn(t),$n(Cn().NavbarCollapsed=!0)}),pe(3,"div",17),Re(4),he()()()()}if(2&n){const t=e.$implicit;ke(2),r_("routerLink","/",t.url,""),ke(2),Gi(t.text)}}let _gt=(()=>{class n{get NavbarCollapsed(){return this.navbarCollapsed}set NavbarCollapsed(t){this.navbarCollapsed=t}constructor(t,i,r,A,s){this.router=t,this.configService=i,this.titleService=r,this.customErrorHandler=A,this.loggingInterceptor=s,this.title="PWA_DEMO_ENV_TEST",this._title="",this._appBrand="",this._appEnv="",this._appVersion="",this.runtimeVersion=bz.full,this.pages=[{url:"/Home",text:"[Home]"},{url:"/Dev",text:"[Testing Releases]"},{url:"/StableReleases",text:"[Stable Releases]"},{url:"/About",text:"[About]"}],this.navbarCollapsed=!0,this._appBrand=this.configService.getConfigValue("appBrand"),this._appEnv=this.configService.getConfigValue("appEnv"),this._appVersion=this.configService.getConfigValue("appVersion"),this._title=`${this._appBrand} - ${this._appEnv}  - v[${this._appVersion}]`,console.log(`${this._title}`)}ngOnInit(){this.titleService.setTitle(this._title)}static{this.\u0275fac=function(i){return new(i||n)(yt(nl),yt(Bm),yt(rN),yt(XR),yt($R))}}static{this.\u0275cmp=Ci({type:n,selectors:[["app-nav"]],decls:25,vars:7,consts:[["navbarItems",""],[1,""],[1,"navbar","navbar-expand-lg","subtitle"],["type","button","data-toggle","collapse","data-target","#navbarItems","aria-controls","navbarItems","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand"],[1,"subtitle",3,"click"],["routerLink","/"],[1,"me-1",2,"width","25px",3,"src","alt"],["id","navbarItems",1,"collapse","navbar-collapse","subtitle",3,"ngbCollapse"],["class","navbar-nav",4,"ngFor","ngForOf"],["role","main",1,"content"],[1,"footer"],["routerLink","/Index"],[1,"navbar-nav"],[1,"nav-item"],[1,"nav-link",3,"click","routerLink"],["align","left"]],template:function(i,r){if(1&i){const A=TA();pe(0,"header",1)(1,"div",1)(2,"nav",2)(3,"button",3),on("click",function(){return zn(A),$n(r.NavbarCollapsed=!r.NavbarCollapsed)}),mt(4,"span",4),he(),pe(5,"a",5)(6,"div",6),on("click",function(){return zn(A),$n(r.NavbarCollapsed=!0)}),pe(7,"a",7),mt(8,"img",8),he()()(),pe(9,"div",9,0),yn(11,wgt,5,3,"ul",10),he()()()(),mt(12,"hr"),pe(13,"div",11),mt(14,"router-outlet"),he(),mt(15,"hr"),pe(16,"footer")(17,"div",12)(18,"h5")(19,"a",13),Re(20,"[Index]"),he()(),pe(21,"h5"),Re(22),he(),pe(23,"h5"),Re(24),he()()()}2&i&&(ke(8),Xe("src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/800px-Angular_full_color_logo.svg.png",bs)("alt","Angular Logo"),ke(),Xe("ngbCollapse",r.NavbarCollapsed),ke(2),Xe("ngForOf",r.pages),ke(11),CM("Aplication Name : ",r._appBrand," - ",r._appEnv,""),ke(2),$r("Aplication Version : ",r._appVersion,""))},dependencies:[g3,UA,za,M8]})}}return n})(),XR=(()=>{class n{constructor(t){this.mcsdService=t}handleError(t){console.warn("[CUSTOM ERROR HANDLING]:\n"+t.name+"\n"+t.message),this.mcsdService.SetLog("[CUSTOM ERROR HANDLING]",t.message,Q3.Error)}static{this.\u0275fac=function(i){return new(i||n)(cn(Qy))}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$R=(()=>{class n{constructor(){}intercept(t,i){const r=Date.now();let A;return i.handle(t).pipe(Ws({next:s=>A=s instanceof wd?"succeeded":"",error:s=>A="failed"}),m0(()=>{const s=Date.now()-r;console.warn(` [REQUEST URL (INTERCEPT)] : ${t.method} "${t.urlWithParams}" ${A} in ${s} ms.`)}))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Wt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Dgt(n){return n.loadAiPrompts(),n.loadSCMList(),()=>n.loadConfig()}let bgt=(()=>{class n{constructor(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=hr({type:n,bootstrap:[ZZ]})}static{this.\u0275inj=lr({providers:[TO,VM,II,_we(),[{provide:DW,useClass:$R,multi:!0},{provide:du,useClass:XR},Bm,{provide:yM,useFactory:Dgt,deps:[Bm],multi:!0},{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:X8.PROVIDER_ID,provider:new X8("1763416537924183")}]}}]],imports:[Vte,$Z,fne,Qgt,am,l7,w_e,zQe,nj,IDe,bAt,jue,jue,GR,x8,z8,GR,l7,$Oe,Glt]})}}return n})();(function sz(n,e,t){const i=n.\u0275cmp;i.directiveDefs=td(e,!1),i.pipeDefs=td(t,!0)})(ZZ,[_gt],[]),Ewe().bootstrapModule(bgt).catch(n=>console.error(n))},1234:()=>{},6645:function(pi){pi.exports=function(){"use strict";function ni(){return!0}function De(){return!1}function kt(){}const St="Argument is not a typed-function.";return function He(){function _t(Je){return"object"==typeof Je&&null!==Je&&Je.constructor===Object}const qn=[{name:"number",test:function(Je){return"number"==typeof Je}},{name:"string",test:function(Je){return"string"==typeof Je}},{name:"boolean",test:function(Je){return"boolean"==typeof Je}},{name:"Function",test:function(Je){return"function"==typeof Je}},{name:"Array",test:Array.isArray},{name:"Date",test:function(Je){return Je instanceof Date}},{name:"RegExp",test:function(Je){return Je instanceof RegExp}},{name:"Object",test:_t},{name:"null",test:function(Je){return null===Je}},{name:"undefined",test:function(Je){return void 0===Je}}],Vt={name:"any",test:ni,isAny:!0};let xt,We,Pt=0,Ft={createCount:0};function gt(Je){const st=xt.get(Je);if(st)return st;let It='Unknown type "'+Je+'"';const qt=Je.toLowerCase();let an;for(an of We)if(an.toLowerCase()===qt){It+='. Did you mean "'+an+'" ?';break}throw new TypeError(It)}function Zt(Je){let st=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const It=st?gt(st).index:We.length,qt=[];for(let tn=0;tn<Je.length;++tn){if(!Je[tn]||"string"!=typeof Je[tn].name||"function"!=typeof Je[tn].test)throw new TypeError("Object with properties {name: string, test: function} expected");const Tn=Je[tn].name;if(xt.has(Tn))throw new TypeError('Duplicate type name "'+Tn+'"');qt.push(Tn),xt.set(Tn,{name:Tn,test:Je[tn].test,isAny:Je[tn].isAny,index:It+tn,conversionsTo:[]})}const an=We.slice(It);We=We.slice(0,It).concat(qt).concat(an);for(let tn=It+qt.length;tn<We.length;++tn)xt.get(We[tn]).index=tn}function zt(){xt=new Map,We=[],Pt=0,Zt([Vt],!1)}function $i(Je){const st=We.filter(It=>{const qt=xt.get(It);return!qt.isAny&&qt.test(Je)});return st.length?st:["any"]}function er(Je){return Je&&"function"==typeof Je&&"_typedFunctionData"in Je}function gA(Je,st,It){if(!er(Je))throw new TypeError(St);const qt=It&&It.exact,tn=Mr(Array.isArray(st)?st.join(","):st),Tn=fi(tn);if(!qt||Tn in Je.signatures){const jr=Je._typedFunctionData.signatureMap.get(Tn);if(jr)return jr}const pn=tn.length;let kn,hn;if(qt){let jr;for(jr in kn=[],Je.signatures)kn.push(Je._typedFunctionData.signatureMap.get(jr))}else kn=Je._typedFunctionData.signatures;for(let jr=0;jr<pn;++jr){const rA=tn[jr],Bs=[];let to;for(to of kn){const bA=mo(to.params,jr);if(bA&&(!rA.restParam||bA.restParam)){if(!bA.hasAny){const Oa=hA(bA);if(rA.types.some($o=>!Oa.has($o.name)))continue}Bs.push(to)}}if(kn=Bs,0===kn.length)break}for(hn of kn)if(hn.params.length<=pn)return hn;throw new TypeError("Signature not found (signature: "+(Je.name||"unnamed")+"("+fi(tn,", ")+"))")}function fi(Je){let st=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return Je.map(It=>It.name).join(st)}function Qi(Je){const st=0===Je.indexOf("..."),qt=(st?Je.length>3?Je.slice(3):"any":Je).split("|").map(pn=>gt(pn.trim()));let an=!1,tn=st?"...":"";return{types:qt.map(function(pn){return an=pn.isAny||an,tn+=pn.name+"|",{name:pn.name,typeIndex:pn.index,test:pn.test,isAny:pn.isAny,conversion:null,conversionIndex:-1}}),name:tn.slice(0,-1),hasAny:an,hasConversion:!1,restParam:st}}function PA(Je){const It=function Pe(Je){if(0===Je.length)return[];const st=Je.map(gt);Je.length>1&&st.sort((an,tn)=>an.index-tn.index);let It=st[0].conversionsTo;if(1===Je.length)return It;It=It.concat([]);const qt=new Set(Je);for(let an=1;an<st.length;++an){let tn;for(tn of st[an].conversionsTo)qt.has(tn.from)||(It.push(tn),qt.add(tn.from))}return It}(Je.types.map(Tn=>Tn.name));let qt=Je.hasAny,an=Je.name;const tn=It.map(function(Tn){const pn=gt(Tn.from);return qt=pn.isAny||qt,an+="|"+Tn.from,{name:Tn.from,typeIndex:pn.index,test:pn.test,isAny:pn.isAny,conversion:Tn,conversionIndex:Tn.index}});return{types:Je.types.concat(tn),name:an,hasAny:qt,hasConversion:tn.length>0,restParam:Je.restParam}}function hA(Je){return Je.typeSet||(Je.typeSet=new Set,Je.types.forEach(st=>Je.typeSet.add(st.name))),Je.typeSet}function Mr(Je){const st=[];if("string"!=typeof Je)throw new TypeError("Signatures must be strings");const It=Je.trim();if(""===It)return st;const qt=It.split(",");for(let an=0;an<qt.length;++an){const tn=Qi(qt[an].trim());if(tn.restParam&&an!==qt.length-1)throw new SyntaxError('Unexpected rest parameter "'+qt[an]+'": only allowed for the last parameter');if(0===tn.types.length)return null;st.push(tn)}return st}function Yi(Je){const st=$A(Je);return!!st&&st.restParam}function cr(Je){if(!Je||0===Je.types.length)return ni;if(1===Je.types.length)return gt(Je.types[0].name).test;if(2===Je.types.length){const st=gt(Je.types[0].name).test,It=gt(Je.types[1].name).test;return function(an){return st(an)||It(an)}}{const st=Je.types.map(function(It){return gt(It.name).test});return function(qt){for(let an=0;an<st.length;an++)if(st[an](qt))return!0;return!1}}}function xs(Je){let st,It,qt;if(Yi(Je)){st=_n(Je).map(cr);const an=st.length,tn=cr($A(Je)),Tn=function(pn){for(let kn=an;kn<pn.length;kn++)if(!tn(pn[kn]))return!1;return!0};return function(kn){for(let hn=0;hn<st.length;hn++)if(!st[hn](kn[hn]))return!1;return Tn(kn)&&kn.length>=an+1}}return 0===Je.length?function(tn){return 0===tn.length}:1===Je.length?(It=cr(Je[0]),function(tn){return It(tn[0])&&1===tn.length}):2===Je.length?(It=cr(Je[0]),qt=cr(Je[1]),function(tn){return It(tn[0])&&qt(tn[1])&&2===tn.length}):(st=Je.map(cr),function(tn){for(let Tn=0;Tn<st.length;Tn++)if(!st[Tn](tn[Tn]))return!1;return tn.length===st.length})}function mo(Je,st){return st<Je.length?Je[st]:Yi(Je)?$A(Je):null}function Ks(Je,st){const It=mo(Je,st);return It?hA(It):new Set}function Xo(Je){return null==Je.conversion}function Hc(Je,st){const It=new Set;return Je.forEach(qt=>{const an=Ks(qt.params,st);let tn;for(tn of an)It.add(tn)}),It.has("any")?["any"]:Array.from(It)}function da(Je,st,It){let qt,an;const tn=Je||"unnamed";let pn,Tn=It;for(pn=0;pn<st.length;pn++){const rA=[];if(Tn.forEach(Bs=>{const bA=cr(mo(Bs.params,pn));(pn<Bs.params.length||Yi(Bs.params))&&bA(st[pn])&&rA.push(Bs)}),0===rA.length){if(an=Hc(Tn,pn),an.length>0){const Bs=$i(st[pn]);return qt=new TypeError("Unexpected type of argument in function "+tn+" (expected: "+an.join(" or ")+", actual: "+Bs.join(" | ")+", index: "+pn+")"),qt.data={category:"wrongType",fn:tn,index:pn,actual:Bs,expected:an},qt}}else Tn=rA}const kn=Tn.map(function(rA){return Yi(rA.params)?1/0:rA.params.length});if(st.length<Math.min.apply(null,kn))return an=Hc(Tn,pn),qt=new TypeError("Too few arguments in function "+tn+" (expected: "+an.join(" or ")+", index: "+st.length+")"),qt.data={category:"tooFewArgs",fn:tn,index:st.length,expected:an},qt;const hn=Math.max.apply(null,kn);if(st.length>hn)return qt=new TypeError("Too many arguments in function "+tn+" (expected: "+hn+", actual: "+st.length+")"),qt.data={category:"tooManyArgs",fn:tn,index:st.length,expectedLength:hn},qt;const jr=[];for(let rA=0;rA<st.length;++rA)jr.push($i(st[rA]).join("|"));return qt=new TypeError('Arguments of type "'+jr.join(", ")+'" do not match any of the defined signatures of function '+tn+"."),qt.data={category:"mismatch",actual:jr},qt}function Hu(Je){let st=We.length+1;for(let It=0;It<Je.types.length;It++)Xo(Je.types[It])&&(st=Math.min(st,Je.types[It].typeIndex));return st}function Yu(Je){let st=Pt+1;for(let It=0;It<Je.types.length;It++)Xo(Je.types[It])||(st=Math.min(st,Je.types[It].conversionIndex));return st}function Vf(Je,st){if(Je.hasAny){if(!st.hasAny)return 1}else if(st.hasAny)return-1;if(Je.restParam){if(!st.restParam)return 1}else if(st.restParam)return-1;if(Je.hasConversion){if(!st.hasConversion)return 1}else if(st.hasConversion)return-1;const It=Hu(Je)-Hu(st);if(It<0)return-1;if(It>0)return 1;const qt=Yu(Je)-Yu(st);return qt<0?-1:qt>0?1:0}function ft(Je,st){const It=Je.params,qt=st.params,an=$A(It),tn=$A(qt),Tn=Yi(It),pn=Yi(qt);if(Tn&&an.hasAny){if(!pn||!tn.hasAny)return 1}else if(pn&&tn.hasAny)return-1;let jr,kn=0,hn=0;for(jr of It)jr.hasAny&&++kn,jr.hasConversion&&++hn;let rA=0,Bs=0;for(jr of qt)jr.hasAny&&++rA,jr.hasConversion&&++Bs;if(kn!==rA)return kn-rA;if(Tn&&an.hasConversion){if(!pn||!tn.hasConversion)return 1}else if(pn&&tn.hasConversion)return-1;if(hn!==Bs)return hn-Bs;if(Tn){if(!pn)return 1}else if(pn)return-1;const to=(It.length-qt.length)*(Tn?-1:1);if(0!==to)return to;const bA=[];let $o,Oa=0;for(let _r=0;_r<It.length;++_r){const Pg=Vf(It[_r],qt[_r]);bA.push(Pg),Oa+=Pg}if(0!==Oa)return Oa;for($o of bA)if(0!==$o)return $o;return 0}function et(Je,st){let It=st;if(Je.some(an=>an.hasConversion)){const an=Yi(Je),tn=Je.map(Mt);It=function(){const pn=[],kn=an?arguments.length-1:arguments.length;for(let hn=0;hn<kn;hn++)pn[hn]=tn[hn](arguments[hn]);return an&&(pn[kn]=arguments[kn].map(tn[kn])),st.apply(this,pn)}}let qt=It;if(Yi(Je)){const an=Je.length-1;qt=function(){return It.apply(this,vr(arguments,0,an).concat([vr(arguments,an)]))}}return qt}function Mt(Je){let st,It,qt,an;const tn=[],Tn=[];switch(Je.types.forEach(function(pn){pn.conversion&&(tn.push(gt(pn.conversion.from).test),Tn.push(pn.conversion.convert))}),Tn.length){case 0:return function(kn){return kn};case 1:return st=tn[0],qt=Tn[0],function(kn){return st(kn)?qt(kn):kn};case 2:return st=tn[0],It=tn[1],qt=Tn[0],an=Tn[1],function(kn){return st(kn)?qt(kn):It(kn)?an(kn):kn};default:return function(kn){for(let hn=0;hn<Tn.length;hn++)if(tn[hn](kn))return Tn[hn](kn);return kn}}}function bt(Je){return function st(It,qt,an){if(qt<It.length){const tn=It[qt];let Tn=[];if(tn.restParam){const pn=tn.types.filter(Xo);pn.length<tn.types.length&&Tn.push({types:pn,name:"..."+pn.map(kn=>kn.name).join("|"),hasAny:pn.some(kn=>kn.isAny),hasConversion:!1,restParam:!0}),Tn.push(tn)}else Tn=tn.types.map(function(pn){return{types:[pn],name:pn.name,hasAny:pn.isAny,hasConversion:pn.conversion,restParam:!1}});return function Nr(Je,st){return Array.prototype.concat.apply([],Je.map(st))}(Tn,function(pn){return st(It,qt+1,an.concat([pn]))})}return[an]}(Je,0,[])}function mn(Je,st){const It=Math.max(Je.length,st.length);for(let pn=0;pn<It;pn++){const kn=Ks(Je,pn),hn=Ks(st,pn);let rA,jr=!1;for(rA of hn)if(kn.has(rA)){jr=!0;break}if(!jr)return!1}const qt=Je.length,an=st.length,tn=Yi(Je),Tn=Yi(st);return tn?Tn?qt===an:an>=qt:Tn?qt>=an:qt===an}function $e(Je,st,It){const qt=[];let an;for(an of Je){let tn=It[an];if("number"!=typeof tn)throw new TypeError('No definition for referenced signature "'+an+'"');if(tn=st[tn],"function"!=typeof tn)return!1;qt.push(tn)}return qt}function Bt(Je,st,It){const qt=function Nn(Je){return Je.map(st=>Fs(st)?cc(st.referToSelf.callback):pa(st)?au(st.referTo.references,st.referTo.callback):st)}(Je),an=new Array(qt.length).fill(!1);let tn=!0;for(;tn;){tn=!1;let Tn=!0;for(let pn=0;pn<qt.length;++pn){if(an[pn])continue;const kn=qt[pn];if(Fs(kn))qt[pn]=kn.referToSelf.callback(It),qt[pn].referToSelf=kn.referToSelf,an[pn]=!0,Tn=!1;else if(pa(kn)){const hn=$e(kn.referTo.references,qt,st);hn?(qt[pn]=kn.referTo.callback.apply(this,hn),qt[pn].referTo=kn.referTo,an[pn]=!0,Tn=!1):tn=!0}}if(Tn&&tn)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return qt}function Tt(Je,st){if(Ft.createCount++,0===Object.keys(st).length)throw new SyntaxError("No signatures provided");Ft.warnAgainstDeprecatedThis&&function Xt(Je){const st=/\bthis(\(|\.signatures\b)/;Object.keys(Je).forEach(It=>{if(st.test(Je[It].toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(st);const It=[],qt=[],an={},tn=[];let Tn;for(Tn in st){if(!Object.prototype.hasOwnProperty.call(st,Tn))continue;const oA=Mr(Tn);if(!oA)continue;It.forEach(function(wl){if(mn(wl,oA))throw new TypeError('Conflicting signatures "'+fi(wl)+'" and "'+fi(oA)+'".')}),It.push(oA);const qA=qt.length;qt.push(st[Tn]);const Ql=oA.map(PA);let lu;for(lu of bt(Ql)){const wl=fi(lu);tn.push({params:lu,name:wl,fn:qA}),lu.every(nE=>!nE.hasConversion)&&(an[wl]=qA)}}tn.sort(ft);const pn=Bt(qt,an,_p);let kn;for(kn in an)Object.prototype.hasOwnProperty.call(an,kn)&&(an[kn]=pn[an[kn]]);const hn=[],jr=new Map;for(kn of tn)jr.has(kn.name)||(kn.fn=pn[kn.fn],hn.push(kn),jr.set(kn.name,kn));const rA=hn[0]&&hn[0].params.length<=2&&!Yi(hn[0].params),Bs=hn[1]&&hn[1].params.length<=2&&!Yi(hn[1].params),to=hn[2]&&hn[2].params.length<=2&&!Yi(hn[2].params),bA=hn[3]&&hn[3].params.length<=2&&!Yi(hn[3].params),Oa=hn[4]&&hn[4].params.length<=2&&!Yi(hn[4].params),$o=hn[5]&&hn[5].params.length<=2&&!Yi(hn[5].params),_r=rA&&Bs&&to&&bA&&Oa&&$o;for(let oA=0;oA<hn.length;++oA)hn[oA].test=xs(hn[oA].params);const Pg=rA?cr(hn[0].params[0]):De,XB=Bs?cr(hn[1].params[0]):De,uQ=to?cr(hn[2].params[0]):De,gQ=bA?cr(hn[3].params[0]):De,zi=Oa?cr(hn[4].params[0]):De,yr=$o?cr(hn[5].params[0]):De,vA=rA?cr(hn[0].params[1]):De,vp=Bs?cr(hn[1].params[1]):De,AA=to?cr(hn[2].params[1]):De,sA=bA?cr(hn[3].params[1]):De,$B=Oa?cr(hn[4].params[1]):De,tr=$o?cr(hn[5].params[1]):De;for(let oA=0;oA<hn.length;++oA)hn[oA].implementation=et(hn[oA].params,hn[oA].fn);const yp=rA?hn[0].implementation:kt,cs=Bs?hn[1].implementation:kt,Ga=to?hn[2].implementation:kt,ab=bA?hn[3].implementation:kt,SC=Oa?hn[4].implementation:kt,Rs=$o?hn[5].implementation:kt,Qp=rA?hn[0].params.length:-1,eE=Bs?hn[1].params.length:-1,hQ=to?hn[2].params.length:-1,Ju=bA?hn[3].params.length:-1,cb=Oa?hn[4].params.length:-1,tE=$o?hn[5].params.length:-1,Qt=_r?6:0,cu=hn.length,Hg=hn.map(oA=>oA.test),MC=hn.map(oA=>oA.implementation),wp=function(){for(let qA=Qt;qA<cu;qA++)if(Hg[qA](arguments))return MC[qA].apply(this,arguments);return Ft.onMismatch(Je,arguments,hn)};function _p(oA,qA){return arguments.length===Qp&&Pg(oA)&&vA(qA)?yp.apply(this,arguments):arguments.length===eE&&XB(oA)&&vp(qA)?cs.apply(this,arguments):arguments.length===hQ&&uQ(oA)&&AA(qA)?Ga.apply(this,arguments):arguments.length===Ju&&gQ(oA)&&sA(qA)?ab.apply(this,arguments):arguments.length===cb&&zi(oA)&&$B(qA)?SC.apply(this,arguments):arguments.length===tE&&yr(oA)&&tr(qA)?Rs.apply(this,arguments):wp.apply(this,arguments)}try{Object.defineProperty(_p,"name",{value:Je})}catch{}return _p.signatures=an,_p._typedFunctionData={signatures:hn,signatureMap:jr},_p}function Zn(Je,st,It){throw da(Je,st,It)}function _n(Je){return vr(Je,0,Je.length-1)}function $A(Je){return Je[Je.length-1]}function vr(Je,st,It){return Array.prototype.slice.call(Je,st,It)}function au(Je,st){return{referTo:{references:Je,callback:st}}}function cc(Je){if("function"!=typeof Je)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:Je}}}function pa(Je){return Je&&"object"==typeof Je.referTo&&Array.isArray(Je.referTo.references)&&"function"==typeof Je.referTo.callback}function Fs(Je){return Je&&"object"==typeof Je.referToSelf&&"function"==typeof Je.referToSelf.callback}function lc(Je,st){if(!Je)return st;if(st&&st!==Je){const It=new Error("Function names do not match (expected: "+Je+", actual: "+st+")");throw It.data={actual:st,expected:Je},It}return Je}function es(Je){let st;for(const It in Je)Object.prototype.hasOwnProperty.call(Je,It)&&(er(Je[It])||"string"==typeof Je[It].signature)&&(st=lc(st,Je[It].name));return st}function Ku(Je,st){let It;for(It in st)if(Object.prototype.hasOwnProperty.call(st,It)){if(It in Je&&st[It]!==Je[It]){const qt=new Error('Signature "'+It+'" is defined twice');throw qt.data={signature:It,sourceFunction:st[It],destFunction:Je[It]},qt}Je[It]=st[It]}}zt(),Zt(qn);const zf=Ft;function qu(Je){if(!Je||"string"!=typeof Je.from||"string"!=typeof Je.to||"function"!=typeof Je.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(Je.to===Je.from)throw new SyntaxError('Illegal to define conversion from "'+Je.from+'" to itself.')}return Ft=function(Je){const st="string"==typeof Je;let qt=st?Je:"";const an={};for(let tn=st?1:0;tn<arguments.length;++tn){const Tn=arguments[tn];let kn,pn={};if("function"==typeof Tn?(kn=Tn.name,"string"==typeof Tn.signature?pn[Tn.signature]=Tn:er(Tn)&&(pn=Tn.signatures)):_t(Tn)&&(pn=Tn,st||(kn=es(Tn))),0===Object.keys(pn).length){const hn=new TypeError("Argument to 'typed' at index "+tn+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw hn.data={index:tn,argument:Tn},hn}st||(qt=lc(qt,kn)),Ku(an,pn)}return Tt(qt||"",an)},Ft.create=He,Ft.createCount=zf.createCount,Ft.onMismatch=Zn,Ft.throwMismatchError=Zn,Ft.createError=da,Ft.clear=zt,Ft.clearConversions=function gn(){let Je;for(Je of We)xt.get(Je).conversionsTo=[];Pt=0},Ft.addTypes=Zt,Ft._findType=gt,Ft.referTo=function Yc(){const Je=_n(arguments).map(It=>fi(Mr(It))),st=$A(arguments);if("function"!=typeof st)throw new TypeError("Callback function expected as last argument");return au(Je,st)},Ft.referToSelf=cc,Ft.convert=function Is(Je,st){const It=gt(st);if(It.test(Je))return Je;const qt=It.conversionsTo;if(0===qt.length)throw new Error("There are no conversions to "+st+" defined.");for(let an=0;an<qt.length;an++)if(gt(qt[an].from).test(Je))return qt[an].convert(Je);throw new Error("Cannot convert "+Je+" to "+st)},Ft.findSignature=gA,Ft.find=function rn(Je,st,It){return gA(Je,st,It).implementation},Ft.isTypedFunction=er,Ft.warnAgainstDeprecatedThis=!0,Ft.addType=function(Je,st){let It="any";!1!==st&&xt.has("Object")&&(It="Object"),Ft.addTypes([Je],It)},Ft.addConversion=function(Je){let st=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};qu(Je);const It=gt(Je.to),qt=It.conversionsTo.find(an=>an.from===Je.from);if(qt){if(!st||!st.override)throw new Error('There is already a conversion from "'+Je.from+'" to "'+It.name+'"');Ft.removeConversion({from:qt.from,to:Je.to,convert:qt.convert})}It.conversionsTo.push({from:Je.from,convert:Je.convert,index:Pt++})},Ft.addConversions=function(Je,st){Je.forEach(It=>Ft.addConversion(It,st))},Ft.removeConversion=function(Je){qu(Je);const st=gt(Je.to),It=function Kr(Je,st){for(let It=0;It<Je.length;It++)if(st(Je[It]))return Je[It]}(st.conversionsTo,an=>an.from===Je.from);if(!It)throw new Error("Attempt to remove nonexistent conversion from "+Je.from+" to "+Je.to);if(It.convert!==Je.convert)throw new Error("Conversion to remove does not match existing conversion");const qt=st.conversionsTo.indexOf(It);st.conversionsTo.splice(qt,1)},Ft.resolve=function(Je,st){if(!er(Je))throw new TypeError(St);const It=Je._typedFunctionData.signatures;for(let qt=0;qt<It.length;++qt)if(It[qt].test(st))return It[qt];return null},Ft}()}()},7617:()=>{"use strict";const pi=":";Error;const bt=function($e,...Bt){if(bt.translate){const Tt=bt.translate($e,Bt);$e=Tt[0],Bt=Tt[1]}let Xt=Nn($e[0],$e.raw[0]);for(let Tt=1;Tt<$e.length;Tt++)Xt+=Bt[Tt-1]+Nn($e[Tt],$e.raw[Tt]);return Xt},mn=":";function Nn($e,Bt){return Bt.charAt(0)===mn?$e.substring(function Ks($e,Bt){for(let Xt=1,Tt=1;Xt<$e.length;Xt++,Tt++)if("\\"===Bt[Tt])Tt++;else if($e[Xt]===pi)return Xt;throw new Error(`Unterminated $localize metadata block in "${Bt}".`)}($e,Bt)+1):$e}globalThis.$localize=bt},3308:(pi,ni,De)=>{"use strict";function kt(He,dn,_t,qn,Vt,xt,We){try{var Pt=He[xt](We),Ft=Pt.value}catch(gt){return void _t(gt)}Pt.done?dn(Ft):Promise.resolve(Ft).then(qn,Vt)}function St(He){return function(){var dn=this,_t=arguments;return new Promise(function(qn,Vt){var xt=He.apply(dn,_t);function We(Ft){kt(xt,qn,Vt,We,Pt,"next",Ft)}function Pt(Ft){kt(xt,qn,Vt,We,Pt,"throw",Ft)}We(void 0)})}}De.d(ni,{A:()=>St})},9391:(pi,ni,De)=>{"use strict";function kt(St){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(He){return typeof He}:function(He){return He&&"function"==typeof Symbol&&He.constructor===Symbol&&He!==Symbol.prototype?"symbol":typeof He})(St)}De.d(ni,{A:()=>kt})}},pi=>{var ni=kt=>pi(pi.s=kt);ni(7617),ni(8541)}]);