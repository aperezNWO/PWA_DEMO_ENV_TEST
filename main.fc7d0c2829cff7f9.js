(self.webpackChunkAngularDijkstra=self.webpackChunkAngularDijkstra||[]).push([[792],{7636:gr=>{"use strict";var Kn=Object.assign||function(Ct){for(var An=1;An<arguments.length;An++){var Mn=arguments[An];for(var Gn in Mn)Object.prototype.hasOwnProperty.call(Mn,Gn)&&(Ct[Gn]=Mn[Gn])}return Ct},we={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},St={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},yt=function(An,Mn){return Kn({},An,Mn)};gr.exports=function(Ct){for(var An=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Mn=An.preserveFormatting,Gn=void 0!==Mn&&Mn,Vn=An.escapeMapFn,bt=void 0===Vn?yt:Vn,Ge=String(Ct),Ot="",Bt=bt(Kn({},we),Gn?Kn({},St):{}),mt=Object.keys(Bt),zt=function(){var nn=!1;mt.forEach(function(Jr,ds){nn||Ge.length>=Jr.length&&Ge.slice(0,Jr.length)===Jr&&(Ot+=Bt[mt[ds]],Ge=Ge.slice(Jr.length,Ge.length),nn=!0)}),nn||(Ot+=Ge.slice(0,1),Ge=Ge.slice(1,Ge.length))};Ge;)zt();return Ot}},6990:function(gr){gr.exports=function(){"use strict";var Kn=function(S,x){return(Kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,I){N.__proto__=I}||function(N,I){for(var z in I)Object.prototype.hasOwnProperty.call(I,z)&&(N[z]=I[z])})(S,x)};function we(S,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function N(){this.constructor=S}Kn(S,x),S.prototype=null===x?Object.create(x):(N.prototype=x.prototype,new N)}var St=function(){return St=Object.assign||function(x){for(var N,I=1,z=arguments.length;I<z;I++)for(var Z in N=arguments[I])Object.prototype.hasOwnProperty.call(N,Z)&&(x[Z]=N[Z]);return x},St.apply(this,arguments)};function yt(S,x,N,I){return new(N||(N=Promise))(function(Z,ie){function De(Ze){try{je(I.next(Ze))}catch(at){ie(at)}}function Se(Ze){try{je(I.throw(Ze))}catch(at){ie(at)}}function je(Ze){Ze.done?Z(Ze.value):function z(Z){return Z instanceof N?Z:new N(function(ie){ie(Z)})}(Ze.value).then(De,Se)}je((I=I.apply(S,x||[])).next())})}function Ct(S,x){var I,z,Z,ie,N={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return ie={next:De(0),throw:De(1),return:De(2)},"function"==typeof Symbol&&(ie[Symbol.iterator]=function(){return this}),ie;function De(je){return function(Ze){return function Se(je){if(I)throw new TypeError("Generator is already executing.");for(;N;)try{if(I=1,z&&(Z=2&je[0]?z.return:je[0]?z.throw||((Z=z.return)&&Z.call(z),0):z.next)&&!(Z=Z.call(z,je[1])).done)return Z;switch(z=0,Z&&(je=[2&je[0],Z.value]),je[0]){case 0:case 1:Z=je;break;case 4:return N.label++,{value:je[1],done:!1};case 5:N.label++,z=je[1],je=[0];continue;case 7:je=N.ops.pop(),N.trys.pop();continue;default:if(!(Z=(Z=N.trys).length>0&&Z[Z.length-1])&&(6===je[0]||2===je[0])){N=0;continue}if(3===je[0]&&(!Z||je[1]>Z[0]&&je[1]<Z[3])){N.label=je[1];break}if(6===je[0]&&N.label<Z[1]){N.label=Z[1],Z=je;break}if(Z&&N.label<Z[2]){N.label=Z[2],N.ops.push(je);break}Z[2]&&N.ops.pop(),N.trys.pop();continue}je=x.call(S,N)}catch(Ze){je=[6,Ze],z=0}finally{I=Z=0}if(5&je[0])throw je[1];return{value:je[0]?je[1]:void 0,done:!0}}([je,Ze])}}}function An(S,x,N){if(N||2===arguments.length)for(var Z,I=0,z=x.length;I<z;I++)(Z||!(I in x))&&(Z||(Z=Array.prototype.slice.call(x,0,I)),Z[I]=x[I]);return S.concat(Z||x)}for(var Mn=function(){function S(x,N,I,z){this.left=x,this.top=N,this.width=I,this.height=z}return S.prototype.add=function(x,N,I,z){return new S(this.left+x,this.top+N,this.width+I,this.height+z)},S.fromClientRect=function(x,N){return new S(N.left+x.windowBounds.left,N.top+x.windowBounds.top,N.width,N.height)},S.fromDOMRectList=function(x,N){var I=Array.from(N).find(function(z){return 0!==z.width});return I?new S(I.left+x.windowBounds.left,I.top+x.windowBounds.top,I.width,I.height):S.EMPTY},S.EMPTY=new S(0,0,0,0),S}(),Gn=function(S,x){return Mn.fromClientRect(S,x.getBoundingClientRect())},bt=function(S){for(var x=[],N=0,I=S.length;N<I;){var z=S.charCodeAt(N++);if(z>=55296&&z<=56319&&N<I){var Z=S.charCodeAt(N++);56320==(64512&Z)?x.push(((1023&z)<<10)+(1023&Z)+65536):(x.push(z),N--)}else x.push(z)}return x},Ge=function(){for(var S=[],x=0;x<arguments.length;x++)S[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,S);var N=S.length;if(!N)return"";for(var I=[],z=-1,Z="";++z<N;){var ie=S[z];ie<=65535?I.push(ie):I.push(55296+((ie-=65536)>>10),ie%1024+56320),(z+1===N||I.length>16384)&&(Z+=String.fromCharCode.apply(String,I),I.length=0)}return Z},Ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bt=typeof Uint8Array>"u"?[]:new Uint8Array(256),mt=0;mt<64;mt++)Bt[Ot.charCodeAt(mt)]=mt;for(var zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yt=typeof Uint8Array>"u"?[]:new Uint8Array(256),nn=0;nn<64;nn++)Yt[zt.charCodeAt(nn)]=nn;for(var yd=function(S,x,N){return S.slice?S.slice(x,N):new Uint16Array(Array.prototype.slice.call(S,x,N))},_d=function(){function S(x,N,I,z,Z,ie){this.initialValue=x,this.errorValue=N,this.highStart=I,this.highValueIndex=z,this.index=Z,this.data=ie}return S.prototype.get=function(x){var N;if(x>=0){if(x<55296||x>56319&&x<=65535)return this.data[N=((N=this.index[x>>5])<<2)+(31&x)];if(x<=65535)return this.data[N=((N=this.index[2048+(x-55296>>5)])<<2)+(31&x)];if(x<this.highStart)return N=this.index[N=2080+(x>>11)],this.data[N=((N=this.index[N+=x>>5&63])<<2)+(31&x)];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},S}(),Wm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fw=typeof Uint8Array>"u"?[]:new Uint8Array(256),gA=0;gA<64;gA++)fw[Wm.charCodeAt(gA)]=gA;var N,I,z,ie,De,li=10,bc=13,jl=15,bo=17,ql=18,Qs=19,vh=20,mA=21,yh=22,Je=24,ct=25,Rt=26,qt=27,Ht=28,en=30,Jt=32,Li=33,Gi=34,ao=35,As=37,bl=38,Pa=39,di=40,hy=42,Aw=[9001,65288],ci="\xd7",jp=(N=function(S){var I,Z,ie,De,Se,x=.75*S.length,N=S.length,z=0;"="===S[S.length-1]&&(x--,"="===S[S.length-2]&&x--);var je=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(x):new Array(x),Ze=Array.isArray(je)?je:new Uint8Array(je);for(I=0;I<N;I+=4)Z=Yt[S.charCodeAt(I)],ie=Yt[S.charCodeAt(I+1)],De=Yt[S.charCodeAt(I+2)],Se=Yt[S.charCodeAt(I+3)],Ze[z++]=Z<<2|ie>>4,Ze[z++]=(15&ie)<<4|De>>2,Ze[z++]=(3&De)<<6|63&Se;return je}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),I=Array.isArray(N)?function(S){for(var x=S.length,N=[],I=0;I<x;I+=4)N.push(S[I+3]<<24|S[I+2]<<16|S[I+1]<<8|S[I]);return N}(N):new Uint32Array(N),z=Array.isArray(N)?function(S){for(var x=S.length,N=[],I=0;I<x;I+=2)N.push(S[I+1]<<8|S[I]);return N}(N):new Uint16Array(N),ie=yd(z,12,I[4]/2),De=2===I[5]?yd(z,(24+I[4])/2):function(S,x,N){return S.slice?S.slice(x,N):new Uint32Array(Array.prototype.slice.call(S,x,N))}(I,Math.ceil((24+I[4])/4)),new _d(I[0],I[1],I[2],I[3],ie,De)),ji=[en,36],qi=[1,2,3,5],fy=[li,8],Qr=[qt,Rt],qp=qi.concat(fy),Ys=[bl,Pa,di,Gi,ao],wl=[jl,bc],$m=function(S,x,N,I){var z=I[N];if(Array.isArray(S)?-1!==S.indexOf(z):S===z)for(var Z=N;Z<=I.length;){if((ie=I[++Z])===x)return!0;if(ie!==li)break}if(z===li)for(Z=N;Z>0;){var De=I[--Z];if(Array.isArray(S)?-1!==S.indexOf(De):S===De)for(var Se=N;Se<=I.length;){var ie;if((ie=I[++Se])===x)return!0;if(ie!==li)break}if(De!==li)break}return!1},wo=function(S,x){for(var N=S;N>=0;){var I=x[N];if(I!==li)return I;N--}return 0},Wp=function(S,x,N,I,z){if(0===N[I])return ci;var Z=I-1;if(Array.isArray(z)&&!0===z[Z])return ci;var ie=Z-1,De=Z+1,Se=x[Z],je=ie>=0?x[ie]:0,Ze=x[De];if(2===Se&&3===Ze)return ci;if(-1!==qi.indexOf(Se))return"!";if(-1!==qi.indexOf(Ze)||-1!==fy.indexOf(Ze))return ci;if(8===wo(Z,x))return"\xf7";if(11===jp.get(S[Z])||(Se===Jt||Se===Li)&&11===jp.get(S[De])||7===Se||7===Ze||9===Se||-1===[li,bc,jl].indexOf(Se)&&9===Ze||-1!==[bo,ql,Qs,Je,Ht].indexOf(Ze)||wo(Z,x)===yh||$m(23,yh,Z,x)||$m([bo,ql],mA,Z,x)||$m(12,12,Z,x))return ci;if(Se===li)return"\xf7";if(23===Se||23===Ze)return ci;if(16===Ze||16===Se)return"\xf7";if(-1!==[bc,jl,mA].indexOf(Ze)||14===Se||36===je&&-1!==wl.indexOf(Se)||Se===Ht&&36===Ze||Ze===vh||-1!==ji.indexOf(Ze)&&Se===ct||-1!==ji.indexOf(Se)&&Ze===ct||Se===qt&&-1!==[As,Jt,Li].indexOf(Ze)||-1!==[As,Jt,Li].indexOf(Se)&&Ze===Rt||-1!==ji.indexOf(Se)&&-1!==Qr.indexOf(Ze)||-1!==Qr.indexOf(Se)&&-1!==ji.indexOf(Ze)||-1!==[qt,Rt].indexOf(Se)&&(Ze===ct||-1!==[yh,jl].indexOf(Ze)&&x[De+1]===ct)||-1!==[yh,jl].indexOf(Se)&&Ze===ct||Se===ct&&-1!==[ct,Ht,Je].indexOf(Ze))return ci;if(-1!==[ct,Ht,Je,bo,ql].indexOf(Ze))for(var at=Z;at>=0;){if((Et=x[at])===ct)return ci;if(-1===[Ht,Je].indexOf(Et))break;at--}if(-1!==[qt,Rt].indexOf(Ze))for(at=-1!==[bo,ql].indexOf(Se)?ie:Z;at>=0;){var Et;if((Et=x[at])===ct)return ci;if(-1===[Ht,Je].indexOf(Et))break;at--}if(bl===Se&&-1!==[bl,Pa,Gi,ao].indexOf(Ze)||-1!==[Pa,Gi].indexOf(Se)&&-1!==[Pa,di].indexOf(Ze)||-1!==[di,ao].indexOf(Se)&&Ze===di||-1!==Ys.indexOf(Se)&&-1!==[vh,Rt].indexOf(Ze)||-1!==Ys.indexOf(Ze)&&Se===qt||-1!==ji.indexOf(Se)&&-1!==ji.indexOf(Ze)||Se===Je&&-1!==ji.indexOf(Ze)||-1!==ji.concat(ct).indexOf(Se)&&Ze===yh&&-1===Aw.indexOf(S[De])||-1!==ji.concat(ct).indexOf(Ze)&&Se===ql)return ci;if(41===Se&&41===Ze){for(var In=N[Z],ln=1;In>0&&41===x[--In];)ln++;if(ln%2!=0)return ci}return Se===Jt&&Ze===Li?ci:"\xf7"},dy=function(S,x){x||(x={lineBreak:"normal",wordBreak:"normal"});var N=function(S,x){void 0===x&&(x="strict");var N=[],I=[],z=[];return S.forEach(function(Z,ie){var De=jp.get(Z);if(De>50?(z.push(!0),De-=50):z.push(!1),-1!==["normal","auto","loose"].indexOf(x)&&-1!==[8208,8211,12316,12448].indexOf(Z))return I.push(ie),N.push(16);if(4===De||11===De){if(0===ie)return I.push(ie),N.push(en);var Se=N[ie-1];return-1===qp.indexOf(Se)?(I.push(I[ie-1]),N.push(Se)):(I.push(ie),N.push(en))}return I.push(ie),31===De?N.push("strict"===x?mA:As):De===hy||29===De?N.push(en):43===De?N.push(Z>=131072&&Z<=196605||Z>=196608&&Z<=262141?As:en):void N.push(De)}),[I,N,z]}(S,x.lineBreak),I=N[0],z=N[1],Z=N[2];return("break-all"===x.wordBreak||"break-word"===x.wordBreak)&&(z=z.map(function(De){return-1!==[ct,en,hy].indexOf(De)?As:De})),[I,z,"keep-all"===x.wordBreak?Z.map(function(De,Se){return De&&S[Se]>=19968&&S[Se]<=40959}):void 0]},pw=function(){function S(x,N,I,z){this.codePoints=x,this.required="!"===N,this.start=I,this.end=z}return S.prototype.slice=function(){return Ge.apply(void 0,this.codePoints.slice(this.start,this.end))},S}(),ta=function(S){return S>=48&&S<=57},vA=function(S){return ta(S)||S>=65&&S<=70||S>=97&&S<=102},Jm=function(S){return 10===S||9===S||32===S},Jp=function(S){return function(S){return function(S){return S>=97&&S<=122}(S)||function(S){return S>=65&&S<=90}(S)}(S)||function(S){return S>=128}(S)||95===S},n2=function(S){return Jp(S)||ta(S)||45===S},bw=function(S){return S>=0&&S<=8||11===S||S>=14&&S<=31||127===S},yA=function(S,x){return 92===S&&10!==x},ww=function(S,x,N){return 45===S?Jp(x)||yA(x,N):!!Jp(S)||!(92!==S||!yA(S,x))},r2=function(S,x,N){return 43===S||45===S?!!ta(x)||46===x&&ta(N):ta(46===S?x:S)},bV=function(S){var x=0,N=1;(43===S[x]||45===S[x])&&(45===S[x]&&(N=-1),x++);for(var I=[];ta(S[x]);)I.push(S[x++]);var z=I.length?parseInt(Ge.apply(void 0,I),10):0;46===S[x]&&x++;for(var Z=[];ta(S[x]);)Z.push(S[x++]);var ie=Z.length,De=ie?parseInt(Ge.apply(void 0,Z),10):0;(69===S[x]||101===S[x])&&x++;var Se=1;(43===S[x]||45===S[x])&&(45===S[x]&&(Se=-1),x++);for(var je=[];ta(S[x]);)je.push(S[x++]);var Ze=je.length?parseInt(Ge.apply(void 0,je),10):0;return N*(z+De*Math.pow(10,-ie))*Math.pow(10,Se*Ze)},Cw={type:2},Zm={type:3},xw={type:4},Ew={type:13},s2={type:8},vf={type:21},ev={type:9},o2={type:10},Tr={type:11},Zi={type:12},wV={type:14},yy={type:23},DR={type:1},CV={type:25},MR={type:24},Sw={type:26},vi={type:27},Dw={type:28},a2={type:29},$l={type:31},_y={type:32},TR=function(){function S(){this._value=[]}return S.prototype.write=function(x){this._value=this._value.concat(bt(x))},S.prototype.read=function(){for(var x=[],N=this.consumeToken();N!==_y;)x.push(N),N=this.consumeToken();return x},S.prototype.consumeToken=function(){var x=this.consumeCodePoint();switch(x){case 34:return this.consumeStringToken(34);case 35:var N=this.peekCodePoint(0),I=this.peekCodePoint(1),z=this.peekCodePoint(2);if(n2(N)||yA(I,z)){var Z=ww(N,I,z)?2:1;return{type:5,value:this.consumeName(),flags:Z}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ew;break;case 39:return this.consumeStringToken(39);case 40:return Cw;case 41:return Zm;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),wV;break;case 43:if(r2(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case 44:return xw;case 45:var De=x,Se=this.peekCodePoint(0),je=this.peekCodePoint(1);if(r2(De,Se,je))return this.reconsumeCodePoint(x),this.consumeNumericToken();if(ww(De,Se,je))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();if(45===Se&&62===je)return this.consumeCodePoint(),this.consumeCodePoint(),MR;break;case 46:if(r2(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var Ze=this.consumeCodePoint();if(42===Ze&&47===(Ze=this.consumeCodePoint()))return this.consumeToken();if(-1===Ze)return this.consumeToken()}break;case 58:return Sw;case 59:return vi;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),CV;break;case 64:var at=this.peekCodePoint(0),Et=this.peekCodePoint(1),In=this.peekCodePoint(2);if(ww(at,Et,In))return{type:7,value:this.consumeName()};break;case 91:return Dw;case 92:if(yA(x,this.peekCodePoint(0)))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();break;case 93:return a2;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),s2;break;case 123:return Tr;case 125:return Zi;case 117:case 85:var ln=this.peekCodePoint(0),Sn=this.peekCodePoint(1);return 43===ln&&(vA(Sn)||63===Sn)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(x),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ev;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),vf;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),o2;break;case-1:return _y}return Jm(x)?(this.consumeWhiteSpace(),$l):ta(x)?(this.reconsumeCodePoint(x),this.consumeNumericToken()):Jp(x)?(this.reconsumeCodePoint(x),this.consumeIdentLikeToken()):{type:6,value:Ge(x)}},S.prototype.consumeCodePoint=function(){var x=this._value.shift();return typeof x>"u"?-1:x},S.prototype.reconsumeCodePoint=function(x){this._value.unshift(x)},S.prototype.peekCodePoint=function(x){return x>=this._value.length?-1:this._value[x]},S.prototype.consumeUnicodeRangeToken=function(){for(var x=[],N=this.consumeCodePoint();vA(N)&&x.length<6;)x.push(N),N=this.consumeCodePoint();for(var I=!1;63===N&&x.length<6;)x.push(N),N=this.consumeCodePoint(),I=!0;if(I)return{type:30,start:parseInt(Ge.apply(void 0,x.map(function(Se){return 63===Se?48:Se})),16),end:parseInt(Ge.apply(void 0,x.map(function(Se){return 63===Se?70:Se})),16)};var ie=parseInt(Ge.apply(void 0,x),16);if(45===this.peekCodePoint(0)&&vA(this.peekCodePoint(1))){this.consumeCodePoint(),N=this.consumeCodePoint();for(var De=[];vA(N)&&De.length<6;)De.push(N),N=this.consumeCodePoint();return{type:30,start:ie,end:parseInt(Ge.apply(void 0,De),16)}}return{type:30,start:ie,end:ie}},S.prototype.consumeIdentLikeToken=function(){var x=this.consumeName();return"url"===x.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:x}):{type:20,value:x}},S.prototype.consumeUrlToken=function(){var x=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var N=this.peekCodePoint(0);if(39===N||34===N){var I=this.consumeStringToken(this.consumeCodePoint());return 0===I.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:I.value}):(this.consumeBadUrlRemnants(),yy)}for(;;){var z=this.consumeCodePoint();if(-1===z||41===z)return{type:22,value:Ge.apply(void 0,x)};if(Jm(z))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:Ge.apply(void 0,x)}):(this.consumeBadUrlRemnants(),yy);if(34===z||39===z||40===z||bw(z))return this.consumeBadUrlRemnants(),yy;if(92===z){if(!yA(z,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yy;x.push(this.consumeEscapedCodePoint())}else x.push(z)}},S.prototype.consumeWhiteSpace=function(){for(;Jm(this.peekCodePoint(0));)this.consumeCodePoint()},S.prototype.consumeBadUrlRemnants=function(){for(;;){var x=this.consumeCodePoint();if(41===x||-1===x)return;yA(x,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},S.prototype.consumeStringSlice=function(x){for(var I="";x>0;){var z=Math.min(5e4,x);I+=Ge.apply(void 0,this._value.splice(0,z)),x-=z}return this._value.shift(),I},S.prototype.consumeStringToken=function(x){for(var N="",I=0;;){var z=this._value[I];if(-1===z||void 0===z||z===x)return{type:0,value:N+=this.consumeStringSlice(I)};if(10===z)return this._value.splice(0,I),DR;if(92===z){var Z=this._value[I+1];-1!==Z&&void 0!==Z&&(10===Z?(N+=this.consumeStringSlice(I),I=-1,this._value.shift()):yA(z,Z)&&(N+=this.consumeStringSlice(I),N+=Ge(this.consumeEscapedCodePoint()),I=-1))}I++}},S.prototype.consumeNumber=function(){var x=[],N=4,I=this.peekCodePoint(0);for((43===I||45===I)&&x.push(this.consumeCodePoint());ta(this.peekCodePoint(0));)x.push(this.consumeCodePoint());I=this.peekCodePoint(0);var z=this.peekCodePoint(1);if(46===I&&ta(z))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),N=8;ta(this.peekCodePoint(0));)x.push(this.consumeCodePoint());I=this.peekCodePoint(0),z=this.peekCodePoint(1);var Z=this.peekCodePoint(2);if((69===I||101===I)&&((43===z||45===z)&&ta(Z)||ta(z)))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),N=8;ta(this.peekCodePoint(0));)x.push(this.consumeCodePoint());return[bV(x),N]},S.prototype.consumeNumericToken=function(){var x=this.consumeNumber(),N=x[0],I=x[1],z=this.peekCodePoint(0),Z=this.peekCodePoint(1),ie=this.peekCodePoint(2);return ww(z,Z,ie)?{type:15,number:N,flags:I,unit:this.consumeName()}:37===z?(this.consumeCodePoint(),{type:16,number:N,flags:I}):{type:17,number:N,flags:I}},S.prototype.consumeEscapedCodePoint=function(){var x=this.consumeCodePoint();if(vA(x)){for(var N=Ge(x);vA(this.peekCodePoint(0))&&N.length<6;)N+=Ge(this.consumeCodePoint());Jm(this.peekCodePoint(0))&&this.consumeCodePoint();var I=parseInt(N,16);return 0===I||function(S){return S>=55296&&S<=57343}(I)||I>1114111?65533:I}return-1===x?65533:x},S.prototype.consumeName=function(){for(var x="";;){var N=this.consumeCodePoint();if(n2(N))x+=Ge(N);else{if(!yA(N,this.peekCodePoint(0)))return this.reconsumeCodePoint(N),x;x+=Ge(this.consumeEscapedCodePoint())}}},S}(),BR=function(){function S(x){this._tokens=x}return S.create=function(x){var N=new TR;return N.write(x),new S(N.read())},S.parseValue=function(x){return S.create(x).parseComponentValue()},S.parseValues=function(x){return S.create(x).parseComponentValues()},S.prototype.parseComponentValue=function(){for(var x=this.consumeToken();31===x.type;)x=this.consumeToken();if(32===x.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(x);var N=this.consumeComponentValue();do{x=this.consumeToken()}while(31===x.type);if(32===x.type)return N;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},S.prototype.parseComponentValues=function(){for(var x=[];;){var N=this.consumeComponentValue();if(32===N.type)return x;x.push(N),x.push()}},S.prototype.consumeComponentValue=function(){var x=this.consumeToken();switch(x.type){case 11:case 28:case 2:return this.consumeSimpleBlock(x.type);case 19:return this.consumeFunction(x)}return x},S.prototype.consumeSimpleBlock=function(x){for(var N={type:x,values:[]},I=this.consumeToken();;){if(32===I.type||IR(I,x))return N;this.reconsumeToken(I),N.values.push(this.consumeComponentValue()),I=this.consumeToken()}},S.prototype.consumeFunction=function(x){for(var N={name:x.value,values:[],type:18};;){var I=this.consumeToken();if(32===I.type||3===I.type)return N;this.reconsumeToken(I),N.values.push(this.consumeComponentValue())}},S.prototype.consumeToken=function(){var x=this._tokens.shift();return typeof x>"u"?_y:x},S.prototype.reconsumeToken=function(x){this._tokens.unshift(x)},S}(),yf=function(S){return 15===S.type},wd=function(S){return 17===S.type},es=function(S){return 20===S.type},NR=function(S){return 0===S.type},Mw=function(S,x){return es(S)&&S.value===x},l2=function(S){return 31!==S.type},_A=function(S){return 31!==S.type&&4!==S.type},Cl=function(S){var x=[],N=[];return S.forEach(function(I){if(4===I.type){if(0===N.length)throw new Error("Error parsing function args, zero tokens for arg");return x.push(N),void(N=[])}31!==I.type&&N.push(I)}),N.length&&x.push(N),x},IR=function(S,x){return 11===x&&12===S.type||28===x&&29===S.type||2===x&&3===S.type},xl=function(S){return 17===S.type||15===S.type},Ho=function(S){return 16===S.type||xl(S)},Wt=function(S){return S.length>1?[S[0],S[1]]:[S[0]]},ya={type:17,number:0,flags:4},Ve={type:16,number:50,flags:4},Vu={type:16,number:100,flags:4},bA=function(S,x,N){var I=S[0],z=S[1];return[us(I,x),us(typeof z<"u"?z:I,N)]},us=function(S,x){if(16===S.type)return S.number/100*x;if(yf(S))switch(S.unit){case"rem":case"em":return 16*S.number;default:return S.number}return S.number},wA_parse=function(S,x){if(15===x.type)switch(x.unit){case"deg":return Math.PI*x.number/180;case"grad":return Math.PI/200*x.number;case"rad":return x.number;case"turn":return 2*Math.PI*x.number}throw new Error("Unsupported angle type")},d2=function(S){return 15===S.type&&("deg"===S.unit||"grad"===S.unit||"rad"===S.unit||"turn"===S.unit)},tv=function(S){switch(S.filter(es).map(function(N){return N.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ya,ya];case"to top":case"bottom":return ru(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ya,Vu];case"to right":case"left":return ru(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vu,Vu];case"to bottom":case"top":return ru(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vu,ya];case"to left":case"right":return ru(270)}return 0},ru=function(S){return Math.PI*S/180},Kl_parse=function(S,x){if(18===x.type){var N=xV[x.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported color function "'+x.name+'"');return N(S,x.values)}if(5===x.type){if(3===x.value.length){var I=x.value.substring(0,1),z=x.value.substring(1,2),Z=x.value.substring(2,3);return xc(parseInt(I+I,16),parseInt(z+z,16),parseInt(Z+Z,16),1)}if(4===x.value.length){I=x.value.substring(0,1),z=x.value.substring(1,2),Z=x.value.substring(2,3);var ie=x.value.substring(3,4);return xc(parseInt(I+I,16),parseInt(z+z,16),parseInt(Z+Z,16),parseInt(ie+ie,16)/255)}if(6===x.value.length)return I=x.value.substring(0,2),z=x.value.substring(2,4),Z=x.value.substring(4,6),xc(parseInt(I,16),parseInt(z,16),parseInt(Z,16),1);if(8===x.value.length)return I=x.value.substring(0,2),z=x.value.substring(2,4),Z=x.value.substring(4,6),ie=x.value.substring(6,8),xc(parseInt(I,16),parseInt(z,16),parseInt(Z,16),parseInt(ie,16)/255)}if(20===x.type){var De=xd[x.value.toUpperCase()];if(typeof De<"u")return De}return xd.TRANSPARENT},Cd=function(S){return!(255&S)},ts=function(S){var x=255&S,N=255&S>>8,I=255&S>>16,z=255&S>>24;return x<255?"rgba("+z+","+I+","+N+","+x/255+")":"rgb("+z+","+I+","+N+")"},xc=function(S,x,N,I){return(S<<24|x<<16|N<<8|Math.round(255*I))>>>0},Tw=function(S,x){if(17===S.type)return S.number;if(16===S.type){var N=3===x?1:255;return 3===x?S.number/100*N:Math.round(S.number/100*N)}return 0},nv=function(S,x){var N=x.filter(_A);if(3===N.length){var I=N.map(Tw);return xc(I[0],I[1],I[2],1)}if(4===N.length){var De=N.map(Tw);return xc(De[0],De[1],De[2],De[3])}return 0};function Zp(S,x,N){return N<0&&(N+=1),N>=1&&(N-=1),N<1/6?(x-S)*N*6+S:N<.5?x:N<2/3?6*(x-S)*(2/3-N)+S:S}var by=function(S,x){var N=x.filter(_A),I=N[0],z=N[1],Z=N[2],ie=N[3],De=(17===I.type?ru(I.number):wA_parse(S,I))/(2*Math.PI),Se=Ho(z)?z.number/100:0,je=Ho(Z)?Z.number/100:0,Ze=typeof ie<"u"&&Ho(ie)?us(ie,1):1;if(0===Se)return xc(255*je,255*je,255*je,1);var at=je<=.5?je*(Se+1):je+Se-je*Se,Et=2*je-at,In=Zp(Et,at,De+1/3),ln=Zp(Et,at,De),Sn=Zp(Et,at,De-1/3);return xc(255*In,255*ln,255*Sn,Ze)},xV={hsl:by,hsla:by,rgb:nv,rgba:nv},eg=function(S,x){return Kl_parse(S,BR.create(x).parseComponentValue())},xd={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ec={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(S,x){return x.map(function(N){if(es(N))switch(N.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Bw={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_f=function(S,x){var N=Kl_parse(S,x[0]),I=x[1];return I&&Ho(I)?{color:N,stop:I}:{color:N,stop:null}},FR=function(S,x){var N=S[0],I=S[S.length-1];null===N.stop&&(N.stop=ya),null===I.stop&&(I.stop=Vu);for(var z=[],Z=0,ie=0;ie<S.length;ie++){var De=S[ie].stop;if(null!==De){var Se=us(De,x);z.push(Se>Z?Se:Z),Z=Se}else z.push(null)}var je=null;for(ie=0;ie<z.length;ie++){var Ze=z[ie];if(null===Ze)null===je&&(je=ie);else if(null!==je){for(var at=ie-je,In=(Ze-z[je-1])/(at+1),ln=1;ln<=at;ln++)z[je+ln-1]=In*ln;je=null}}return S.map(function(Sn,Xr){return{color:Sn.color,stop:Math.max(Math.min(1,z[Xr]/x),0)}})},wh=function(S,x,N){var I="number"==typeof S?S:function(S,x,N){var I=x/2,z=N/2,Z=us(S[0],x)-I,ie=z-us(S[1],N);return(Math.atan2(ie,Z)+2*Math.PI)%(2*Math.PI)}(S,x,N),z=Math.abs(x*Math.sin(I))+Math.abs(N*Math.cos(I)),Z=x/2,ie=N/2,De=z/2,Se=Math.sin(I-Math.PI/2)*De,je=Math.cos(I-Math.PI/2)*De;return[z,Z-je,Z+je,ie-Se,ie+Se]},Ur=function(S,x){return Math.sqrt(S*S+x*x)},bf=function(S,x,N,I,z){return[[0,0],[0,x],[S,0],[S,x]].reduce(function(ie,De){var Ze=Ur(N-De[0],I-De[1]);return(z?Ze<ie.optimumDistance:Ze>ie.optimumDistance)?{optimumCorner:De,optimumDistance:Ze}:ie},{optimumDistance:z?1/0:-1/0,optimumCorner:null}).optimumCorner},CA=function(S,x){var N=ru(180),I=[];return Cl(x).forEach(function(z,Z){if(0===Z){var ie=z[0];if(20===ie.type&&-1!==["top","left","right","bottom"].indexOf(ie.value))return void(N=tv(z));if(d2(ie))return void(N=(wA_parse(S,ie)+ru(270))%ru(360))}var De=_f(S,z);I.push(De)}),{angle:N,stops:I,type:1}},iu="closest-side",Fr="farthest-side",g2="closest-corner",Cy="farthest-corner",Fw="ellipse",Rw="contain",xy=function(S,x){var N=0,I=3,z=[],Z=[];return Cl(x).forEach(function(ie,De){var Se=!0;if(0===De?Se=ie.reduce(function(Ze,at){if(es(at))switch(at.value){case"center":return Z.push(Ve),!1;case"top":case"left":return Z.push(ya),!1;case"right":case"bottom":return Z.push(Vu),!1}else if(Ho(at)||xl(at))return Z.push(at),!1;return Ze},Se):1===De&&(Se=ie.reduce(function(Ze,at){if(es(at))switch(at.value){case"circle":return N=0,!1;case Fw:return N=1,!1;case Rw:case iu:return I=0,!1;case Fr:return I=1,!1;case g2:return I=2,!1;case"cover":case Cy:return I=3,!1}else if(xl(at)||Ho(at))return Array.isArray(I)||(I=[]),I.push(at),!1;return Ze},Se)),Se){var je=_f(S,ie);z.push(je)}}),{size:I,shape:N,stops:z,position:Z,type:2}},Pw_parse=function(S,x){if(22===x.type){var N={url:x.value,type:0};return S.cache.addImage(x.value),N}if(18===x.type){var I=v2[x.name];if(typeof I>"u")throw new Error('Attempting to parse an unsupported image function "'+x.name+'"');return I(S,x.values)}throw new Error("Unsupported image type "+x.type)};for(var v2={"linear-gradient":function(S,x){var N=ru(180),I=[];return Cl(x).forEach(function(z,Z){if(0===Z){var ie=z[0];if(20===ie.type&&"to"===ie.value)return void(N=tv(z));if(d2(ie))return void(N=wA_parse(S,ie))}var De=_f(S,z);I.push(De)}),{angle:N,stops:I,type:1}},"-moz-linear-gradient":CA,"-ms-linear-gradient":CA,"-o-linear-gradient":CA,"-webkit-linear-gradient":CA,"radial-gradient":function(S,x){var N=0,I=3,z=[],Z=[];return Cl(x).forEach(function(ie,De){var Se=!0;if(0===De){var je=!1;Se=ie.reduce(function(at,Et){if(je)if(es(Et))switch(Et.value){case"center":return Z.push(Ve),at;case"top":case"left":return Z.push(ya),at;case"right":case"bottom":return Z.push(Vu),at}else(Ho(Et)||xl(Et))&&Z.push(Et);else if(es(Et))switch(Et.value){case"circle":return N=0,!1;case Fw:return N=1,!1;case"at":return je=!0,!1;case iu:return I=0,!1;case"cover":case Fr:return I=1,!1;case Rw:case g2:return I=2,!1;case Cy:return I=3,!1}else if(xl(Et)||Ho(Et))return Array.isArray(I)||(I=[]),I.push(Et),!1;return at},Se)}if(Se){var Ze=_f(S,ie);z.push(Ze)}}),{size:I,shape:N,stops:z,position:Z,type:2}},"-moz-radial-gradient":xy,"-ms-radial-gradient":xy,"-o-radial-gradient":xy,"-webkit-radial-gradient":xy,"-webkit-gradient":function(S,x){var N=ru(180),I=[],z=1;return Cl(x).forEach(function(Se,je){var Ze=Se[0];if(0===je){if(es(Ze)&&"linear"===Ze.value)return void(z=1);if(es(Ze)&&"radial"===Ze.value)return void(z=2)}if(18===Ze.type)if("from"===Ze.name){var at=Kl_parse(S,Ze.values[0]);I.push({stop:ya,color:at})}else if("to"===Ze.name)at=Kl_parse(S,Ze.values[0]),I.push({stop:Vu,color:at});else if("color-stop"===Ze.name){var Et=Ze.values.filter(_A);if(2===Et.length){at=Kl_parse(S,Et[1]);var In=Et[0];wd(In)&&I.push({stop:{type:16,number:100*In.number,flags:In.flags},color:at})}}}),1===z?{angle:(N+ru(180))%ru(360),stops:I,type:z}:{size:3,shape:0,stops:I,position:[],type:z}}},y2={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(S,x){if(0===x.length)return[];var N=x[0];return 20===N.type&&"none"===N.value?[]:x.filter(function(I){return _A(I)&&function Qu(S){return!(20===S.type&&"none"===S.value||18===S.type&&!v2[S.name])}(I)}).map(function(I){return Pw_parse(S,I)})}},OR={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(S,x){return x.map(function(N){if(es(N))switch(N.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},PR={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(S,x){return Cl(x).map(function(N){return N.filter(Ho)}).map(Wt)}},LR={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(S,x){return Cl(x).map(function(N){return N.filter(es).map(function(I){return I.value}).join(" ")}).map(UR)}},UR=function(S){switch(S){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},ng=function(S){return S.AUTO="auto",S.CONTAIN="contain",S.COVER="cover",S}(ng||{}),kR={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(S,x){return Cl(x).map(function(N){return N.filter(HR)})}},HR=function(S){return es(S)||Ho(S)},Ey=function(S){return{name:"border-"+S+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ar=Ey("top"),VR=Ey("right"),QR=Ey("bottom"),Zr=Ey("left"),rv=function(S){return{name:"border-radius-"+S,initialValue:"0 0",prefix:!1,type:1,parse:function(x,N){return Wt(N.filter(Ho))}}},mn=rv("top-left"),Xl=rv("top-right"),ui=rv("bottom-right"),na=rv("bottom-left"),Vo=function(S){return{name:"border-"+S+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(x,N){switch(N){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ed=Vo("top"),tl=Vo("right"),_2=Vo("bottom"),b2=Vo("left"),xA=function(S){return{name:"border-"+S+"-width",initialValue:"0",type:0,prefix:!1,parse:function(x,N){return yf(N)?N.number:0}}},zR=xA("top"),GR=xA("right"),rg=xA("bottom"),jR=xA("left"),Lw={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},w2={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(S,x){return"rtl"===x?1:0}},Sy={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(S,x){return x.filter(es).reduce(function(N,I){return N|EV(I.value)},0)}},EV=function(S){switch(S){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Uw={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(S,x){switch(x){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},qR={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(S,x){return 20===x.type&&"normal"===x.value?0:17===x.type||15===x.type?x.number:0}},iv=function(S){return S.NORMAL="normal",S.STRICT="strict",S}(iv||{}),C2={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(S,x){return"strict"===x?iv.STRICT:iv.NORMAL}},x2={name:"line-height",initialValue:"normal",prefix:!1,type:4},Sd=function(S,x){return es(S)&&"normal"===S.value?1.2*x:17===S.type?x*S.number:Ho(S)?us(S,x):x},WR={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(S,x){return 20===x.type&&"none"===x.value?null:Pw_parse(S,x)}},kw={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(S,x){return"inside"===x?0:1}},ig={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(S,x){switch(x){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Dy=function(S){return{name:"margin-"+S,initialValue:"0",prefix:!1,type:4}},Hw=Dy("top"),My=Dy("right"),La=Dy("bottom"),sg=Dy("left"),Vw={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(S,x){return x.filter(es).map(function(N){switch(N.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},$R={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(S,x){return"break-word"===x?"break-word":"normal"}},Ty=function(S){return{name:"padding-"+S,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},E2=Ty("top"),og=Ty("right"),KR=Ty("bottom"),XR=Ty("left"),YR={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(S,x){switch(x){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Qw={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(S,x){switch(x){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ch={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(S,x){return 1===x.length&&Mw(x[0],"none")?[]:Cl(x).map(function(N){for(var I={color:xd.TRANSPARENT,offsetX:ya,offsetY:ya,blur:ya},z=0,Z=0;Z<N.length;Z++){var ie=N[Z];xl(ie)?(0===z?I.offsetX=ie:1===z?I.offsetY=ie:I.blur=ie,z++):I.color=Kl_parse(S,ie)}return I})}},S2={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(S,x){switch(x){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},sv={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(S,x){if(20===x.type&&"none"===x.value)return null;if(18===x.type){var N=ZR[x.name];if(typeof N>"u")throw new Error('Attempting to parse an unsupported transform function "'+x.name+'"');return N(x.values)}return null}},ZR={matrix:function(S){var x=S.filter(function(N){return 17===N.type}).map(function(N){return N.number});return 6===x.length?x:null},matrix3d:function(S){var x=S.filter(function(Se){return 17===Se.type}).map(function(Se){return Se.number});return 16===x.length?[x[0],x[1],x[4],x[5],x[12],x[13]]:null}},Qo={type:16,number:50,flags:4},D2=[Qo,Qo],eO={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(S,x){var N=x.filter(Ho);return 2!==N.length?D2:[N[0],N[1]]}},ov={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(S,x){switch(x){case"hidden":return 1;case"collapse":return 2;default:return 0}}},By=function(S){return S.NORMAL="normal",S.BREAK_ALL="break-all",S.KEEP_ALL="keep-all",S}(By||{}),tO={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(S,x){switch(x){case"break-all":return By.BREAK_ALL;case"keep-all":return By.KEEP_ALL;default:return By.NORMAL}}},nO={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(S,x){if(20===x.type)return{auto:!0,order:0};if(wd(x))return{auto:!1,order:x.number};throw new Error("Invalid z-index number parsed")}},M2={name:"time",parse:function(S,x){if(15===x.type)switch(x.unit.toLowerCase()){case"s":return 1e3*x.number;case"ms":return x.number}throw new Error("Unsupported time type")}},rO={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(S,x){return wd(x)?x.number:1}},iO={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zw={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(S,x){return x.filter(es).map(function(N){switch(N.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(N){return 0!==N})}},Ny={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(S,x){var N=[],I=[];return x.forEach(function(z){switch(z.type){case 20:case 0:N.push(z.value);break;case 17:N.push(z.number.toString());break;case 4:I.push(N.join(" ")),N.length=0}}),N.length&&I.push(N.join(" ")),I.map(function(z){return-1===z.indexOf(" ")?z:"'"+z+"'"})}},lo={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(S,x){return wd(x)?x.number:es(x)&&"bold"===x.value?700:400}},er={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(S,x){return x.filter(es).map(function(N){return N.value})}},Bo={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(S,x){switch(x){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},gs=function(S,x){return!!(S&x)},nl={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(S,x){if(0===x.length)return[];var N=x[0];return 20===N.type&&"none"===N.value?[]:x}},Sc={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(S,x){if(0===x.length)return null;var N=x[0];if(20===N.type&&"none"===N.value)return null;for(var I=[],z=x.filter(l2),Z=0;Z<z.length;Z++){var ie=z[Z],De=z[Z+1];if(20===ie.type){var Se=De&&wd(De)?De.number:1;I.push({counter:ie.value,increment:Se})}}return I}},lg={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(S,x){if(0===x.length)return[];for(var N=[],I=x.filter(l2),z=0;z<I.length;z++){var Z=I[z],ie=I[z+1];if(es(Z)&&"none"!==Z.value){var De=ie&&wd(ie)?ie.number:0;N.push({counter:Z.value,reset:De})}}return N}},zs={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(S,x){return x.filter(yf).map(function(N){return M2.parse(S,N)})}},zo={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(S,x){if(0===x.length)return null;var N=x[0];if(20===N.type&&"none"===N.value)return null;var I=[],z=x.filter(NR);if(z.length%2!=0)return null;for(var Z=0;Z<z.length;Z+=2)I.push({open:z[Z].value,close:z[Z+1].value});return I}},su=function(S,x,N){if(!S)return"";var I=S[Math.min(x,S.length-1)];return I?N?I.open:I.close:""},vr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(S,x){return 1===x.length&&Mw(x[0],"none")?[]:Cl(x).map(function(N){for(var I={color:255,offsetX:ya,offsetY:ya,blur:ya,spread:ya,inset:!1},z=0,Z=0;Z<N.length;Z++){var ie=N[Z];Mw(ie,"inset")?I.inset=!0:xl(ie)?(0===z?I.offsetX=ie:1===z?I.offsetY=ie:2===z?I.blur=ie:I.spread=ie,z++):I.color=Kl_parse(S,ie)}return I})}},av={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(S,x){var I=[];return x.filter(es).forEach(function(z){switch(z.value){case"stroke":I.push(1);break;case"fill":I.push(0);break;case"markers":I.push(2)}}),[0,1,2].forEach(function(z){-1===I.indexOf(z)&&I.push(z)}),I}},T2={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},cg={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(S,x){return yf(x)?x.number:0}},go=function(){function S(x,N){var I,z;this.animationDuration=En(x,zs,N.animationDuration),this.backgroundClip=En(x,Ec,N.backgroundClip),this.backgroundColor=En(x,Bw,N.backgroundColor),this.backgroundImage=En(x,y2,N.backgroundImage),this.backgroundOrigin=En(x,OR,N.backgroundOrigin),this.backgroundPosition=En(x,PR,N.backgroundPosition),this.backgroundRepeat=En(x,LR,N.backgroundRepeat),this.backgroundSize=En(x,kR,N.backgroundSize),this.borderTopColor=En(x,ar,N.borderTopColor),this.borderRightColor=En(x,VR,N.borderRightColor),this.borderBottomColor=En(x,QR,N.borderBottomColor),this.borderLeftColor=En(x,Zr,N.borderLeftColor),this.borderTopLeftRadius=En(x,mn,N.borderTopLeftRadius),this.borderTopRightRadius=En(x,Xl,N.borderTopRightRadius),this.borderBottomRightRadius=En(x,ui,N.borderBottomRightRadius),this.borderBottomLeftRadius=En(x,na,N.borderBottomLeftRadius),this.borderTopStyle=En(x,Ed,N.borderTopStyle),this.borderRightStyle=En(x,tl,N.borderRightStyle),this.borderBottomStyle=En(x,_2,N.borderBottomStyle),this.borderLeftStyle=En(x,b2,N.borderLeftStyle),this.borderTopWidth=En(x,zR,N.borderTopWidth),this.borderRightWidth=En(x,GR,N.borderRightWidth),this.borderBottomWidth=En(x,rg,N.borderBottomWidth),this.borderLeftWidth=En(x,jR,N.borderLeftWidth),this.boxShadow=En(x,vr,N.boxShadow),this.color=En(x,Lw,N.color),this.direction=En(x,w2,N.direction),this.display=En(x,Sy,N.display),this.float=En(x,Uw,N.cssFloat),this.fontFamily=En(x,Ny,N.fontFamily),this.fontSize=En(x,lo,N.fontSize),this.fontStyle=En(x,Bo,N.fontStyle),this.fontVariant=En(x,er,N.fontVariant),this.fontWeight=En(x,fn,N.fontWeight),this.letterSpacing=En(x,qR,N.letterSpacing),this.lineBreak=En(x,C2,N.lineBreak),this.lineHeight=En(x,x2,N.lineHeight),this.listStyleImage=En(x,WR,N.listStyleImage),this.listStylePosition=En(x,kw,N.listStylePosition),this.listStyleType=En(x,ig,N.listStyleType),this.marginTop=En(x,Hw,N.marginTop),this.marginRight=En(x,My,N.marginRight),this.marginBottom=En(x,La,N.marginBottom),this.marginLeft=En(x,sg,N.marginLeft),this.opacity=En(x,rO,N.opacity);var Z=En(x,Vw,N.overflow);this.overflowX=Z[0],this.overflowY=Z[Z.length>1?1:0],this.overflowWrap=En(x,$R,N.overflowWrap),this.paddingTop=En(x,E2,N.paddingTop),this.paddingRight=En(x,og,N.paddingRight),this.paddingBottom=En(x,KR,N.paddingBottom),this.paddingLeft=En(x,XR,N.paddingLeft),this.paintOrder=En(x,av,N.paintOrder),this.position=En(x,Qw,N.position),this.textAlign=En(x,YR,N.textAlign),this.textDecorationColor=En(x,iO,null!==(I=N.textDecorationColor)&&void 0!==I?I:N.color),this.textDecorationLine=En(x,zw,null!==(z=N.textDecorationLine)&&void 0!==z?z:N.textDecoration),this.textShadow=En(x,Ch,N.textShadow),this.textTransform=En(x,S2,N.textTransform),this.transform=En(x,sv,N.transform),this.transformOrigin=En(x,eO,N.transformOrigin),this.visibility=En(x,ov,N.visibility),this.webkitTextStrokeColor=En(x,T2,N.webkitTextStrokeColor),this.webkitTextStrokeWidth=En(x,cg,N.webkitTextStrokeWidth),this.wordBreak=En(x,tO,N.wordBreak),this.zIndex=En(x,nO,N.zIndex)}return S.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},S.prototype.isTransparent=function(){return Cd(this.backgroundColor)},S.prototype.isTransformed=function(){return null!==this.transform},S.prototype.isPositioned=function(){return 0!==this.position},S.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},S.prototype.isFloating=function(){return 0!==this.float},S.prototype.isInlineLevel=function(){return gs(this.display,4)||gs(this.display,33554432)||gs(this.display,268435456)||gs(this.display,536870912)||gs(this.display,67108864)||gs(this.display,134217728)},S}(),lv=function(){return function S(x,N){this.content=En(x,nl,N.content),this.quotes=En(x,zo,N.quotes)}}(),EA=function(){return function S(x,N){this.counterIncrement=En(x,Sc,N.counterIncrement),this.counterReset=En(x,lg,N.counterReset)}}(),En=function(S,x,N){var I=new TR,z=null!==N&&typeof N<"u"?N.toString():x.initialValue;I.write(z);var Z=new BR(I.read());switch(x.type){case 2:var ie=Z.parseComponentValue();return x.parse(S,es(ie)?ie.value:x.initialValue);case 0:return x.parse(S,Z.parseComponentValue());case 1:return x.parse(S,Z.parseComponentValues());case 4:return Z.parseComponentValue();case 3:switch(x.format){case"angle":return wA_parse(S,Z.parseComponentValue());case"color":return Kl_parse(S,Z.parseComponentValue());case"image":return Pw_parse(S,Z.parseComponentValue());case"length":var De=Z.parseComponentValue();return xl(De)?De:ya;case"length-percentage":var Se=Z.parseComponentValue();return Ho(Se)?Se:ya;case"time":return M2.parse(S,Z.parseComponentValue())}}},xh=function(S,x){var N=function(S){switch(S.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(S);return 1===N||x===N},Dc=function(){return function S(x,N){this.context=x,this.textNodes=[],this.elements=[],this.flags=0,xh(N,3),this.styles=new go(x,window.getComputedStyle(N,null)),mv(N)&&(this.styles.animationDuration.some(function(I){return I>0})&&(N.style.animationDuration="0s"),null!==this.styles.transform&&(N.style.transform="none")),this.bounds=Gn(this.context,N),xh(N,4)&&(this.flags|=16)}}(),Sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DA=typeof Uint8Array>"u"?[]:new Uint8Array(256),Dd=0;Dd<64;Dd++)DA[Sr.charCodeAt(Dd)]=Dd;for(var lO=function(S,x,N){return S.slice?S.slice(x,N):new Uint16Array(Array.prototype.slice.call(S,x,N))},MV=function(){function S(x,N,I,z,Z,ie){this.initialValue=x,this.errorValue=N,this.highStart=I,this.highValueIndex=z,this.index=Z,this.data=ie}return S.prototype.get=function(x){var N;if(x>=0){if(x<55296||x>56319&&x<=65535)return this.data[N=((N=this.index[x>>5])<<2)+(31&x)];if(x<=65535)return this.data[N=((N=this.index[2048+(x-55296>>5)])<<2)+(31&x)];if(x<this.highStart)return N=this.index[N=2080+(x>>11)],this.data[N=((N=this.index[N+=x>>5&63])<<2)+(31&x)];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},S}(),cO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",TV=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ww=0;Ww<64;Ww++)TV[cO.charCodeAt(Ww)]=Ww;var $w=8,O2=9,fO=11,dO=12,AO=function(){for(var S=[],x=0;x<arguments.length;x++)S[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,S);var N=S.length;if(!N)return"";for(var I=[],z=-1,Z="";++z<N;){var ie=S[z];ie<=65535?I.push(ie):I.push(55296+((ie-=65536)>>10),ie%1024+56320),(z+1===N||I.length>16384)&&(Z+=String.fromCharCode.apply(String,I),I.length=0)}return Z},pO=function(S,x){var N=function(S){var I,Z,ie,De,Se,x=.75*S.length,N=S.length,z=0;"="===S[S.length-1]&&(x--,"="===S[S.length-2]&&x--);var je=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(x):new Array(x),Ze=Array.isArray(je)?je:new Uint8Array(je);for(I=0;I<N;I+=4)Z=DA[S.charCodeAt(I)],ie=DA[S.charCodeAt(I+1)],De=DA[S.charCodeAt(I+2)],Se=DA[S.charCodeAt(I+3)],Ze[z++]=Z<<2|ie>>4,Ze[z++]=(15&ie)<<4|De>>2,Ze[z++]=(3&De)<<6|63&Se;return je}(S),I=Array.isArray(N)?function(S){for(var x=S.length,N=[],I=0;I<x;I+=4)N.push(S[I+3]<<24|S[I+2]<<16|S[I+1]<<8|S[I]);return N}(N):new Uint32Array(N),z=Array.isArray(N)?function(S){for(var x=S.length,N=[],I=0;I<x;I+=2)N.push(S[I+1]<<8|S[I]);return N}(N):new Uint16Array(N),ie=lO(z,12,I[4]/2),De=2===I[5]?lO(z,(24+I[4])/2):function(S,x,N){return S.slice?S.slice(x,N):new Uint32Array(Array.prototype.slice.call(S,x,N))}(I,Math.ceil((24+I[4])/4));return new MV(I[0],I[1],I[2],I[3],ie,De)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),gO=function(S){return pO.get(S)},Xw=function(S,x,N){var I=N-2,z=x[I],Z=x[N-1],ie=x[N];if(2===Z&&3===ie)return"\xd7";if(2===Z||3===Z||4===Z||2===ie||3===ie||4===ie)return"\xf7";if(Z===$w&&-1!==[$w,O2,fO,dO].indexOf(ie)||(Z===fO||Z===O2)&&(ie===O2||10===ie)||(Z===dO||10===Z)&&10===ie||13===ie||5===ie||7===ie||1===Z)return"\xd7";if(13===Z&&14===ie){for(;5===z;)z=x[--I];if(14===z)return"\xd7"}if(15===Z&&15===ie){for(var De=0;15===z;)De++,z=x[--I];if(De%2==0)return"\xd7"}return"\xf7"},mO=function(S){var x=function(S){for(var x=[],N=0,I=S.length;N<I;){var z=S.charCodeAt(N++);if(z>=55296&&z<=56319&&N<I){var Z=S.charCodeAt(N++);56320==(64512&Z)?x.push(((1023&z)<<10)+(1023&Z)+65536):(x.push(z),N--)}else x.push(z)}return x}(S),N=x.length,I=0,z=0,Z=x.map(gO);return{next:function(){if(I>=N)return{done:!0,value:null};for(var ie="\xd7";I<N&&"\xd7"===(ie=Xw(0,Z,++I)););if("\xd7"!==ie||I===N){var De=AO.apply(null,x.slice(z,I));return z=I,{value:De,done:!1}}return{done:!0,value:null}}}},ms=function(S){return 0===S[0]&&255===S[1]&&0===S[2]&&255===S[3]},TA=function(S,x,N,I,z){var Z="http://www.w3.org/2000/svg",ie=document.createElementNS(Z,"svg"),De=document.createElementNS(Z,"foreignObject");return ie.setAttributeNS(null,"width",S.toString()),ie.setAttributeNS(null,"height",x.toString()),De.setAttributeNS(null,"width","100%"),De.setAttributeNS(null,"height","100%"),De.setAttributeNS(null,"x",N.toString()),De.setAttributeNS(null,"y",I.toString()),De.setAttributeNS(null,"externalResourcesRequired","true"),ie.appendChild(De),De.appendChild(z),ie},il=function(S){return new Promise(function(x,N){var I=new Image;I.onload=function(){return x(I)},I.onerror=N,I.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(S))})},Ua={get SUPPORT_RANGE_BOUNDS(){var S=function(S){if(S.createRange){var N=S.createRange();if(N.getBoundingClientRect){var I=S.createElement("boundtest");I.style.height="123px",I.style.display="block",S.body.appendChild(I),N.selectNode(I);var z=N.getBoundingClientRect(),Z=Math.round(z.height);if(S.body.removeChild(I),123===Z)return!0}}return!1}(document);return Object.defineProperty(Ua,"SUPPORT_RANGE_BOUNDS",{value:S}),S},get SUPPORT_WORD_BREAKING(){var S=Ua.SUPPORT_RANGE_BOUNDS&&function(S){var x=S.createElement("boundtest");x.style.width="50px",x.style.display="block",x.style.fontSize="12px",x.style.letterSpacing="0px",x.style.wordSpacing="0px",S.body.appendChild(x);var N=S.createRange();x.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var I=x.firstChild,z=bt(I.data).map(function(Se){return Ge(Se)}),Z=0,ie={},De=z.every(function(Se,je){N.setStart(I,Z),N.setEnd(I,Z+Se.length);var Ze=N.getBoundingClientRect();Z+=Se.length;var at=Ze.x>ie.x||Ze.y>ie.y;return ie=Ze,0===je||at});return S.body.removeChild(x),De}(document);return Object.defineProperty(Ua,"SUPPORT_WORD_BREAKING",{value:S}),S},get SUPPORT_SVG_DRAWING(){var S=function(S){var x=new Image,N=S.createElement("canvas"),I=N.getContext("2d");if(!I)return!1;x.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{I.drawImage(x,0,0),N.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(Ua,"SUPPORT_SVG_DRAWING",{value:S}),S},get SUPPORT_FOREIGNOBJECT_DRAWING(){var S="function"==typeof Array.from&&"function"==typeof window.fetch?function(S){var x=S.createElement("canvas"),N=100;x.width=N,x.height=N;var I=x.getContext("2d");if(!I)return Promise.reject(!1);I.fillStyle="rgb(0, 255, 0)",I.fillRect(0,0,N,N);var z=new Image,Z=x.toDataURL();z.src=Z;var ie=TA(N,N,0,0,z);return I.fillStyle="red",I.fillRect(0,0,N,N),il(ie).then(function(De){I.drawImage(De,0,0);var Se=I.getImageData(0,0,N,N).data;I.fillStyle="red",I.fillRect(0,0,N,N);var je=S.createElement("div");return je.style.backgroundImage="url("+Z+")",je.style.height=N+"px",ms(Se)?il(TA(N,N,0,0,je)):Promise.reject(!1)}).then(function(De){return I.drawImage(De,0,0),ms(I.getImageData(0,0,N,N).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Ua,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:S}),S},get SUPPORT_CORS_IMAGES(){var S=typeof(new Image).crossOrigin<"u";return Object.defineProperty(Ua,"SUPPORT_CORS_IMAGES",{value:S}),S},get SUPPORT_RESPONSE_TYPE(){var S="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Ua,"SUPPORT_RESPONSE_TYPE",{value:S}),S},get SUPPORT_CORS_XHR(){var S="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ua,"SUPPORT_CORS_XHR",{value:S}),S},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var S=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ua,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:S}),S}},wf=function(){return function S(x,N){this.text=x,this.bounds=N}}(),Tc=function(S,x){var N=x.ownerDocument;if(N){var I=N.createElement("html2canvaswrapper");I.appendChild(x.cloneNode(!0));var z=x.parentNode;if(z){z.replaceChild(I,x);var Z=Gn(S,I);return I.firstChild&&z.replaceChild(I.firstChild,I),Z}}return Mn.EMPTY},Q2=function(S,x,N){var I=S.ownerDocument;if(!I)throw new Error("Node has no owner document");var z=I.createRange();return z.setStart(S,x),z.setEnd(S,x+N),z},fv=function(S){if(Ua.SUPPORT_NATIVE_TEXT_SEGMENTATION){var x=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(x.segment(S)).map(function(N){return N.segment})}return function(S){for(var I,x=mO(S),N=[];!(I=x.next()).done;)I.value&&N.push(I.value.slice());return N}(S)},Dh=function(S,x){return 0!==x.letterSpacing?fv(S):function(S,x){if(Ua.SUPPORT_NATIVE_TEXT_SEGMENTATION){var N=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(N.segment(S)).map(function(I){return I.segment})}return _O(S,x)}(S,x)},z2=[32,160,4961,65792,65793,4153,4241],_O=function(S,x){for(var z,N=function(S,x){var N=bt(S),I=dy(N,x),z=I[0],Z=I[1],ie=I[2],De=N.length,Se=0,je=0;return{next:function(){if(je>=De)return{done:!0,value:null};for(var Ze=ci;je<De&&(Ze=Wp(N,Z,z,++je,ie))===ci;);if(Ze!==ci||je===De){var at=new pw(N,Ze,Se,je);return Se=je,{value:at,done:!1}}return{done:!0,value:null}}}}(S,{lineBreak:x.lineBreak,wordBreak:"break-word"===x.overflowWrap?"break-word":x.wordBreak}),I=[],Z=function(){if(z.value){var ie=z.value.slice(),De=bt(ie),Se="";De.forEach(function(je){-1===z2.indexOf(je)?Se+=Ge(je):(Se.length&&I.push(Se),I.push(Ge(je)),Se="")}),Se.length&&I.push(Se)}};!(z=N.next()).done;)Z();return I},G2=function(){return function S(x,N,I){this.text=Jw(N.data,I.textTransform),this.textBounds=function(S,x,N,I){var z=Dh(x,N),Z=[],ie=0;return z.forEach(function(De){if(N.textDecorationLine.length||De.trim().length>0)if(Ua.SUPPORT_RANGE_BOUNDS){var Se=Q2(I,ie,De.length).getClientRects();if(Se.length>1){var je=fv(De),Ze=0;je.forEach(function(Et){Z.push(new wf(Et,Mn.fromDOMRectList(S,Q2(I,Ze+ie,Et.length).getClientRects()))),Ze+=Et.length})}else Z.push(new wf(De,Mn.fromDOMRectList(S,Se)))}else{var at=I.splitText(De.length);Z.push(new wf(De,Tc(S,I))),I=at}else Ua.SUPPORT_RANGE_BOUNDS||(I=I.splitText(De.length));ie+=De.length}),Z}(x,this.text,I,N)}}(),Jw=function(S,x){switch(x){case 1:return S.toLowerCase();case 3:return S.replace(Zw,dv);case 2:return S.toUpperCase();default:return S}},Zw=/(^|\s|:|-|\(|\))([a-z])/g,dv=function(S,x,N){return S.length>0?x+N.toUpperCase():S},Av=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z.src=I.currentSrc||I.src,z.intrinsicWidth=I.naturalWidth,z.intrinsicHeight=I.naturalHeight,z.context.cache.addImage(z.src),z}return we(x,S),x}(Dc),Oy=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z.canvas=I,z.intrinsicWidth=I.width,z.intrinsicHeight=I.height,z}return we(x,S),x}(Dc),Md=function(S){function x(N,I){var z=S.call(this,N,I)||this,Z=new XMLSerializer,ie=Gn(N,I);return I.setAttribute("width",ie.width+"px"),I.setAttribute("height",ie.height+"px"),z.svg="data:image/svg+xml,"+encodeURIComponent(Z.serializeToString(I)),z.intrinsicWidth=I.width.baseVal.value,z.intrinsicHeight=I.height.baseVal.value,z.context.cache.addImage(z.svg),z}return we(x,S),x}(Dc),dr=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z.value=I.value,z}return we(x,S),x}(Dc),Py=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z.start=I.start,z.reversed="boolean"==typeof I.reversed&&!0===I.reversed,z}return we(x,S),x}(Dc),IV=[{type:15,flags:0,unit:"px",number:3}],bO=[{type:16,flags:0,number:50}],pv="checkbox",Cf="radio",xO="password",j2=707406591,eC=function(S){function x(N,I){var z=S.call(this,N,I)||this;switch(z.type=I.type.toLowerCase(),z.checked=I.checked,z.value=function(S){var x=S.type===xO?new Array(S.value.length+1).join("\u2022"):S.value;return 0===x.length?S.placeholder||"":x}(I),(z.type===pv||z.type===Cf)&&(z.styles.backgroundColor=3739148031,z.styles.borderTopColor=z.styles.borderRightColor=z.styles.borderBottomColor=z.styles.borderLeftColor=2779096575,z.styles.borderTopWidth=z.styles.borderRightWidth=z.styles.borderBottomWidth=z.styles.borderLeftWidth=1,z.styles.borderTopStyle=z.styles.borderRightStyle=z.styles.borderBottomStyle=z.styles.borderLeftStyle=1,z.styles.backgroundClip=[0],z.styles.backgroundOrigin=[0],z.bounds=function(S){return S.width>S.height?new Mn(S.left+(S.width-S.height)/2,S.top,S.height,S.height):S.width<S.height?new Mn(S.left,S.top+(S.height-S.width)/2,S.width,S.width):S}(z.bounds)),z.type){case pv:z.styles.borderTopRightRadius=z.styles.borderTopLeftRadius=z.styles.borderBottomRightRadius=z.styles.borderBottomLeftRadius=IV;break;case Cf:z.styles.borderTopRightRadius=z.styles.borderTopLeftRadius=z.styles.borderBottomRightRadius=z.styles.borderBottomLeftRadius=bO}return z}return we(x,S),x}(Dc),q2=function(S){function x(N,I){var z=S.call(this,N,I)||this,Z=I.options[I.selectedIndex||0];return z.value=Z&&Z.text||"",z}return we(x,S),x}(Dc),W2=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z.value=I.value,z}return we(x,S),x}(Dc),xt=function(S){function x(N,I){var z=S.call(this,N,I)||this;z.src=I.src,z.width=parseInt(I.width,10)||0,z.height=parseInt(I.height,10)||0,z.backgroundColor=z.styles.backgroundColor;try{if(I.contentWindow&&I.contentWindow.document&&I.contentWindow.document.documentElement){z.tree=hs(N,I.contentWindow.document.documentElement);var Z=I.contentWindow.document.documentElement?eg(N,getComputedStyle(I.contentWindow.document.documentElement).backgroundColor):xd.TRANSPARENT,ie=I.contentWindow.document.body?eg(N,getComputedStyle(I.contentWindow.document.body).backgroundColor):xd.TRANSPARENT;z.backgroundColor=Cd(Z)?Cd(ie)?z.styles.backgroundColor:ie:Z}}catch{}return z}return we(x,S),x}(Dc),yi=["OL","UL","MENU"],Ln=function(S,x,N,I){for(var z=x.firstChild,Z=void 0;z;z=Z)if(Z=z.nextSibling,Gu(z)&&z.data.trim().length>0)N.textNodes.push(new G2(S,z,N.styles));else if(Td(z))if(vv(z)&&z.assignedNodes)z.assignedNodes().forEach(function(De){return Ln(S,De,N,I)});else{var ie=Qn(S,z);ie.styles.isVisible()&&($2(z,ie,I)?ie.flags|=4:gv(ie.styles)&&(ie.flags|=2),-1!==yi.indexOf(z.tagName)&&(ie.flags|=8),N.elements.push(ie),z.shadowRoot?Ln(S,z.shadowRoot,ie,I):!dg(z)&&!tC(z)&&!Ag(z)&&Ln(S,z,ie,I))}},Qn=function(S,x){return Uy(x)?new Av(S,x):Mh(x)?new Oy(S,x):tC(x)?new Md(S,x):FV(x)?new dr(S,x):K2(x)?new Py(S,x):El(x)?new eC(S,x):Ag(x)?new q2(S,x):dg(x)?new W2(S,x):Y2(x)?new xt(S,x):new Dc(S,x)},hs=function(S,x){var N=Qn(S,x);return N.flags|=4,Ln(S,x,N,N),N},$2=function(S,x,N){return x.styles.isPositionedWithZIndex()||x.styles.opacity<1||x.styles.isTransformed()||Bc(S)&&N.styles.isTransparent()},gv=function(S){return S.isPositioned()||S.isFloating()},Gu=function(S){return S.nodeType===Node.TEXT_NODE},Td=function(S){return S.nodeType===Node.ELEMENT_NODE},mv=function(S){return Td(S)&&typeof S.style<"u"&&!Ly(S)},Ly=function(S){return"object"==typeof S.className},FV=function(S){return"LI"===S.tagName},K2=function(S){return"OL"===S.tagName},El=function(S){return"INPUT"===S.tagName},tC=function(S){return"svg"===S.tagName},Bc=function(S){return"BODY"===S.tagName},Mh=function(S){return"CANVAS"===S.tagName},X2=function(S){return"VIDEO"===S.tagName},Uy=function(S){return"IMG"===S.tagName},Y2=function(S){return"IFRAME"===S.tagName},J2=function(S){return"STYLE"===S.tagName},dg=function(S){return"TEXTAREA"===S.tagName},Ag=function(S){return"SELECT"===S.tagName},vv=function(S){return"SLOT"===S.tagName},Z2=function(S){return S.tagName.indexOf("-")>0},eD=function(){function S(){this.counters={}}return S.prototype.getCounterValue=function(x){var N=this.counters[x];return N&&N.length?N[N.length-1]:1},S.prototype.getCounterValues=function(x){return this.counters[x]||[]},S.prototype.pop=function(x){var N=this;x.forEach(function(I){return N.counters[I].pop()})},S.prototype.parse=function(x){var N=this,I=x.counterIncrement,z=x.counterReset,Z=!0;null!==I&&I.forEach(function(De){var Se=N.counters[De.counter];Se&&0!==De.increment&&(Z=!1,Se.length||Se.push(1),Se[Math.max(0,Se.length-1)]+=De.increment)});var ie=[];return Z&&z.forEach(function(De){var Se=N.counters[De.counter];ie.push(De.counter),Se||(Se=N.counters[De.counter]=[]),Se.push(De.reset)}),ie},S}(),ky={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},rC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},tD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},nD={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},BA=function(S,x,N,I,z,Z){return S<x||S>N?Yl(S,z,Z.length>0):I.integers.reduce(function(ie,De,Se){for(;S>=De;)S-=De,ie+=I.values[Se];return ie},"")+Z},Hy=function(S,x,N,I){var z="";do{N||S--,z=I(S)+z,S/=x}while(S*x>=x);return z},Io=function(S,x,N,I,z){var Z=N-x+1;return(S<0?"-":"")+(Hy(Math.abs(S),Z,I,function(ie){return Ge(Math.floor(ie%Z)+x)})+z)},Co=function(S,x,N){void 0===N&&(N=". ");var I=x.length;return Hy(Math.abs(S),I,!1,function(z){return x[Math.floor(z%I)]})+N},Sf=function(S,x,N,I,z,Z){if(S<-9999||S>9999)return Yl(S,4,z.length>0);var ie=Math.abs(S),De=z;if(0===ie)return x[0]+De;for(var Se=0;ie>0&&Se<=4;Se++){var je=ie%10;0===je&&gs(Z,1)&&""!==De?De=x[je]+De:je>1||1===je&&0===Se||1===je&&1===Se&&gs(Z,2)||1===je&&1===Se&&gs(Z,4)&&S>100||1===je&&Se>1&&gs(Z,8)?De=x[je]+(Se>0?N[Se-1]:"")+De:1===je&&Se>0&&(De=N[Se-1]+De),ie=Math.floor(ie/10)}return(S<0?I:"")+De},NA="\ub9c8\uc774\ub108\uc2a4",Yl=function(S,x,N){var I=N?". ":"",z=N?"\u3001":"",Z=N?", ":"",ie=N?" ":"";switch(x){case 0:return"\u2022"+ie;case 1:return"\u25e6"+ie;case 2:return"\u25fe"+ie;case 5:var De=Io(S,48,57,!0,I);return De.length<4?"0"+De:De;case 4:return Co(S,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",z);case 6:return BA(S,1,3999,ky,3,I).toLowerCase();case 7:return BA(S,1,3999,ky,3,I);case 8:return Io(S,945,969,!1,I);case 9:return Io(S,97,122,!1,I);case 10:return Io(S,65,90,!1,I);case 11:return Io(S,1632,1641,!0,I);case 12:case 49:return BA(S,1,9999,rC,3,I);case 35:return BA(S,1,9999,rC,3,I).toLowerCase();case 13:return Io(S,2534,2543,!0,I);case 14:case 30:return Io(S,6112,6121,!0,I);case 15:return Co(S,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",z);case 16:return Co(S,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",z);case 17:case 48:return Sf(S,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",z,14);case 47:return Sf(S,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",z,15);case 42:return Sf(S,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",z,14);case 41:return Sf(S,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",z,15);case 26:return Sf(S,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",z,0);case 25:return Sf(S,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",z,7);case 31:return Sf(S,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",NA,Z,7);case 33:return Sf(S,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",NA,Z,0);case 32:return Sf(S,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",NA,Z,7);case 18:return Io(S,2406,2415,!0,I);case 20:return BA(S,1,19999,nD,3,I);case 21:return Io(S,2790,2799,!0,I);case 22:return Io(S,2662,2671,!0,I);case 22:return BA(S,1,10999,tD,3,I);case 23:return Co(S,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Co(S,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Io(S,3302,3311,!0,I);case 28:return Co(S,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",z);case 29:return Co(S,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",z);case 34:return Io(S,3792,3801,!0,I);case 37:return Io(S,6160,6169,!0,I);case 38:return Io(S,4160,4169,!0,I);case 39:return Io(S,2918,2927,!0,I);case 40:return Io(S,1776,1785,!0,I);case 43:return Io(S,3046,3055,!0,I);case 44:return Io(S,3174,3183,!0,I);case 45:return Io(S,3664,3673,!0,I);case 46:return Io(S,3872,3881,!0,I);default:return Io(S,48,57,!0,I)}},iD="data-html2canvas-ignore",_v=function(){function S(x,N,I){if(this.context=x,this.options=I,this.scrolledElements=[],this.referenceElement=N,this.counters=new eD,this.quoteDepth=0,!N.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(N.ownerDocument.documentElement,!1)}return S.prototype.toIFrame=function(x,N){var I=this,z=Vy(x,N);if(!z.contentWindow)return Promise.reject("Unable to find iframe window");var Z=x.defaultView.pageXOffset,ie=x.defaultView.pageYOffset,De=z.contentWindow,Se=De.document,je=oD(z).then(function(){return yt(I,void 0,void 0,function(){var Ze,at;return Ct(this,function(Et){switch(Et.label){case 0:return this.scrolledElements.forEach(aC),De&&(De.scrollTo(N.left,N.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(De.scrollY!==N.top||De.scrollX!==N.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(De.scrollX-N.left,De.scrollY-N.top,0,0))),Ze=this.options.onclone,typeof(at=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Se.fonts&&Se.fonts.ready?[4,Se.fonts.ready]:[3,2];case 1:Et.sent(),Et.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,sD(Se)]:[3,4];case 3:Et.sent(),Et.label=4;case 4:return"function"==typeof Ze?[2,Promise.resolve().then(function(){return Ze(Se,at)}).then(function(){return z})]:[2,z]}})})});return Se.open(),Se.write(bv(document.doctype)+"<html></html>"),SO(this.referenceElement.ownerDocument,Z,ie),Se.replaceChild(Se.adoptNode(this.documentElement),Se.documentElement),Se.close(),je},S.prototype.createElementClone=function(x){if(xh(x,2),Mh(x))return this.createCanvasClone(x);if(X2(x))return this.createVideoClone(x);if(J2(x))return this.createStyleClone(x);var N=x.cloneNode(!1);return Uy(N)&&(Uy(x)&&x.currentSrc&&x.currentSrc!==x.src&&(N.src=x.currentSrc,N.srcset=""),"lazy"===N.loading&&(N.loading="eager")),Z2(N)?this.createCustomElementClone(N):N},S.prototype.createCustomElementClone=function(x){var N=document.createElement("html2canvascustomelement");return Bd(x.style,N),N},S.prototype.createStyleClone=function(x){try{var N=x.sheet;if(N&&N.cssRules){var I=[].slice.call(N.cssRules,0).reduce(function(Z,ie){return ie&&"string"==typeof ie.cssText?Z+ie.cssText:Z},""),z=x.cloneNode(!1);return z.textContent=I,z}}catch(Z){if(this.context.logger.error("Unable to access cssRules property",Z),"SecurityError"!==Z.name)throw Z}return x.cloneNode(!1)},S.prototype.createCanvasClone=function(x){var N;if(this.options.inlineImages&&x.ownerDocument){var I=x.ownerDocument.createElement("img");try{return I.src=x.toDataURL(),I}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",x)}}var z=x.cloneNode(!1);try{z.width=x.width,z.height=x.height;var Z=x.getContext("2d"),ie=z.getContext("2d");if(ie)if(!this.options.allowTaint&&Z)ie.putImageData(Z.getImageData(0,0,x.width,x.height),0,0);else{var De=null!==(N=x.getContext("webgl2"))&&void 0!==N?N:x.getContext("webgl");if(De){var Se=De.getContextAttributes();!1===Se?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",x)}ie.drawImage(x,0,0)}return z}catch{this.context.logger.info("Unable to clone canvas as it is tainted",x)}return z},S.prototype.createVideoClone=function(x){var N=x.ownerDocument.createElement("canvas");N.width=x.offsetWidth,N.height=x.offsetHeight;var I=N.getContext("2d");try{return I&&(I.drawImage(x,0,0,N.width,N.height),this.options.allowTaint||I.getImageData(0,0,N.width,N.height)),N}catch{this.context.logger.info("Unable to clone video as it is tainted",x)}var z=x.ownerDocument.createElement("canvas");return z.width=x.offsetWidth,z.height=x.offsetHeight,z},S.prototype.appendChildNode=function(x,N,I){(!Td(N)||!function(S){return"SCRIPT"===S.tagName}(N)&&!N.hasAttribute(iD)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(N)))&&(!this.options.copyStyles||!Td(N)||!J2(N))&&x.appendChild(this.cloneNode(N,I))},S.prototype.cloneChildNodes=function(x,N,I){for(var z=this,Z=x.shadowRoot?x.shadowRoot.firstChild:x.firstChild;Z;Z=Z.nextSibling)if(Td(Z)&&vv(Z)&&"function"==typeof Z.assignedNodes){var ie=Z.assignedNodes();ie.length&&ie.forEach(function(De){return z.appendChildNode(N,De,I)})}else this.appendChildNode(N,Z,I)},S.prototype.cloneNode=function(x,N){if(Gu(x))return document.createTextNode(x.data);if(!x.ownerDocument)return x.cloneNode(!1);var I=x.ownerDocument.defaultView;if(I&&Td(x)&&(mv(x)||Ly(x))){var z=this.createElementClone(x);z.style.transitionProperty="none";var Z=I.getComputedStyle(x),ie=I.getComputedStyle(x,":before"),De=I.getComputedStyle(x,":after");this.referenceElement===x&&mv(z)&&(this.clonedReferenceElement=z),Bc(z)&&cC(z);var Se=this.counters.parse(new EA(this.context,Z)),je=this.resolvePseudoContent(x,z,ie,IA.BEFORE);Z2(x)&&(N=!0),X2(x)||this.cloneChildNodes(x,z,N),je&&z.insertBefore(je,z.firstChild);var Ze=this.resolvePseudoContent(x,z,De,IA.AFTER);return Ze&&z.appendChild(Ze),this.counters.pop(Se),(Z&&(this.options.copyStyles||Ly(x))&&!Y2(x)||N)&&Bd(Z,z),(0!==x.scrollTop||0!==x.scrollLeft)&&this.scrolledElements.push([z,x.scrollLeft,x.scrollTop]),(dg(x)||Ag(x))&&(dg(z)||Ag(z))&&(z.value=x.value),z}return x.cloneNode(!1)},S.prototype.resolvePseudoContent=function(x,N,I,z){var Z=this;if(I){var ie=I.content,De=N.ownerDocument;if(De&&ie&&"none"!==ie&&"-moz-alt-content"!==ie&&"none"!==I.display){this.counters.parse(new EA(this.context,I));var Se=new lv(this.context,I),je=De.createElement("html2canvaspseudoelement");Bd(I,je),Se.content.forEach(function(at){if(0===at.type)je.appendChild(De.createTextNode(at.value));else if(22===at.type){var Et=De.createElement("img");Et.src=at.value,Et.style.opacity="1",je.appendChild(Et)}else if(18===at.type){if("attr"===at.name){var In=at.values.filter(es);In.length&&je.appendChild(De.createTextNode(x.getAttribute(In[0].value)||""))}else if("counter"===at.name){var ln=at.values.filter(_A),Xr=ln[1];if((Sn=ln[0])&&es(Sn)){var Xn=Z.counters.getCounterValue(Sn.value),jn=Xr&&es(Xr)?ig.parse(Z.context,Xr.value):3;je.appendChild(De.createTextNode(Yl(Xn,jn,!1)))}}else if("counters"===at.name){var Sn,ki=at.values.filter(_A),ei=ki[1];if(Xr=ki[2],(Sn=ki[0])&&es(Sn)){var wr=Z.counters.getCounterValues(Sn.value),gn=Xr&&es(Xr)?ig.parse(Z.context,Xr.value):3,wi=ei&&0===ei.type?ei.value:"",Ei=wr.map(function(ba){return Yl(ba,gn,!1)}).join(wi);je.appendChild(De.createTextNode(Ei))}}}else if(20===at.type)switch(at.value){case"open-quote":je.appendChild(De.createTextNode(su(Se.quotes,Z.quoteDepth++,!0)));break;case"close-quote":je.appendChild(De.createTextNode(su(Se.quotes,--Z.quoteDepth,!1)));break;default:je.appendChild(De.createTextNode(at.value))}}),je.className=lC+" "+aD;var Ze=z===IA.BEFORE?" "+lC:" "+aD;return Ly(N)?N.className.baseValue+=Ze:N.className+=Ze,je}}},S.destroy=function(x){return!!x.parentNode&&(x.parentNode.removeChild(x),!0)},S}(),IA=function(S){return S[S.BEFORE=0]="BEFORE",S[S.AFTER=1]="AFTER",S}(IA||{}),Vy=function(S,x){var N=S.createElement("iframe");return N.className="html2canvas-container",N.style.visibility="hidden",N.style.position="fixed",N.style.left="-10000px",N.style.top="0px",N.style.border="0",N.width=x.width.toString(),N.height=x.height.toString(),N.scrolling="no",N.setAttribute(iD,"true"),S.body.appendChild(N),N},oC=function(S){return new Promise(function(x){S.complete?x():S.src?(S.onload=x,S.onerror=x):x()})},sD=function(S){return Promise.all([].slice.call(S.images,0).map(oC))},oD=function(S){return new Promise(function(x,N){var I=S.contentWindow;if(!I)return N("No window assigned for iframe");var z=I.document;I.onload=S.onload=function(){I.onload=S.onload=null;var Z=setInterval(function(){z.body.childNodes.length>0&&"complete"===z.readyState&&(clearInterval(Z),x(S))},50)}})},EO=["all","d","content"],Bd=function(S,x){for(var N=S.length-1;N>=0;N--){var I=S.item(N);-1===EO.indexOf(I)&&x.style.setProperty(I,S.getPropertyValue(I))}return x},bv=function(S){var x="";return S&&(x+="<!DOCTYPE ",S.name&&(x+=S.name),S.internalSubset&&(x+=S.internalSubset),S.publicId&&(x+='"'+S.publicId+'"'),S.systemId&&(x+='"'+S.systemId+'"'),x+=">"),x},SO=function(S,x,N){S&&S.defaultView&&(x!==S.defaultView.pageXOffset||N!==S.defaultView.pageYOffset)&&S.defaultView.scrollTo(x,N)},aC=function(S){var x=S[0],I=S[2];x.scrollLeft=S[1],x.scrollTop=I},lC="___html2canvas___pseudoelement_before",aD="___html2canvas___pseudoelement_after",TO='{\n    content: "" !important;\n    display: none !important;\n}',cC=function(S){wv(S,"."+lC+":before"+TO+"\n         ."+aD+":after"+TO)},wv=function(S,x){var N=S.ownerDocument;if(N){var I=N.createElement("style");I.textContent=x,S.appendChild(I)}},lD=function(){function S(){}return S.getOrigin=function(x){var N=S._link;return N?(N.href=x,N.href=N.href,N.protocol+N.hostname+N.port):"about:blank"},S.isSameOrigin=function(x){return S.getOrigin(x)===S._origin},S.setContext=function(x){S._link=x.document.createElement("a"),S._origin=S.getOrigin(x.location.href)},S._origin="about:blank",S}(),Cv=function(){function S(x,N){this.context=x,this._options=N,this._cache={}}return S.prototype.addImage=function(x){var N=Promise.resolve();return this.has(x)||(au(x)||cD(x))&&(this._cache[x]=this.loadImage(x)).catch(function(){}),N},S.prototype.match=function(x){return this._cache[x]},S.prototype.loadImage=function(x){return yt(this,void 0,void 0,function(){var N,I,z,Z,ie=this;return Ct(this,function(De){switch(De.label){case 0:return N=lD.isSameOrigin(x),I=!zy(x)&&!0===this._options.useCORS&&Ua.SUPPORT_CORS_IMAGES&&!N,z=!zy(x)&&!N&&!au(x)&&"string"==typeof this._options.proxy&&Ua.SUPPORT_CORS_XHR&&!I,N||!1!==this._options.allowTaint||zy(x)||au(x)||z||I?(Z=x,z?[4,this.proxy(Z)]:[3,2]):[2];case 1:Z=De.sent(),De.label=2;case 2:return this.context.logger.debug("Added image "+x.substring(0,256)),[4,new Promise(function(Se,je){var Ze=new Image;Ze.onload=function(){return Se(Ze)},Ze.onerror=je,(BO(Z)||I)&&(Ze.crossOrigin="anonymous"),Ze.src=Z,!0===Ze.complete&&setTimeout(function(){return Se(Ze)},500),ie._options.imageTimeout>0&&setTimeout(function(){return je("Timed out ("+ie._options.imageTimeout+"ms) loading image")},ie._options.imageTimeout)})];case 3:return[2,De.sent()]}})})},S.prototype.has=function(x){return typeof this._cache[x]<"u"},S.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},S.prototype.proxy=function(x){var N=this,I=this._options.proxy;if(!I)throw new Error("No proxy defined");var z=x.substring(0,256);return new Promise(function(Z,ie){var De=Ua.SUPPORT_RESPONSE_TYPE?"blob":"text",Se=new XMLHttpRequest;Se.onload=function(){if(200===Se.status)if("text"===De)Z(Se.response);else{var at=new FileReader;at.addEventListener("load",function(){return Z(at.result)},!1),at.addEventListener("error",function(Et){return ie(Et)},!1),at.readAsDataURL(Se.response)}else ie("Failed to proxy resource "+z+" with status code "+Se.status)},Se.onerror=ie;var je=I.indexOf("?")>-1?"&":"?";if(Se.open("GET",""+I+je+"url="+encodeURIComponent(x)+"&responseType="+De),"text"!==De&&Se instanceof XMLHttpRequest&&(Se.responseType=De),N._options.imageTimeout){var Ze=N._options.imageTimeout;Se.timeout=Ze,Se.ontimeout=function(){return ie("Timed out ("+Ze+"ms) proxying "+z)}}Se.send()})},S}(),uC=/^data:image\/svg\+xml/i,Qy=/^data:image\/.*;base64,/i,RV=/^data:image\/.*/i,cD=function(S){return Ua.SUPPORT_SVG_DRAWING||!NO(S)},zy=function(S){return RV.test(S)},BO=function(S){return Qy.test(S)},au=function(S){return"blob"===S.substr(0,4)},NO=function(S){return"svg"===S.substr(-3).toLowerCase()||uC.test(S)},Tn=function(){function S(x,N){this.type=0,this.x=x,this.y=N}return S.prototype.add=function(x,N){return new S(this.x+x,this.y+N)},S}(),Nd=function(S,x,N){return new Tn(S.x+(x.x-S.x)*N,S.y+(x.y-S.y)*N)},xv=function(){function S(x,N,I,z){this.type=1,this.start=x,this.startControl=N,this.endControl=I,this.end=z}return S.prototype.subdivide=function(x,N){var I=Nd(this.start,this.startControl,x),z=Nd(this.startControl,this.endControl,x),Z=Nd(this.endControl,this.end,x),ie=Nd(I,z,x),De=Nd(z,Z,x),Se=Nd(ie,De,x);return N?new S(this.start,I,ie,Se):new S(Se,De,Z,this.end)},S.prototype.add=function(x,N){return new S(this.start.add(x,N),this.startControl.add(x,N),this.endControl.add(x,N),this.end.add(x,N))},S.prototype.reverse=function(){return new S(this.end,this.endControl,this.startControl,this.start)},S}(),Sl=function(S){return 1===S.type},hC=function(){return function S(x){var N=x.styles,I=x.bounds,z=bA(N.borderTopLeftRadius,I.width,I.height),Z=z[0],ie=z[1],De=bA(N.borderTopRightRadius,I.width,I.height),Se=De[0],je=De[1],Ze=bA(N.borderBottomRightRadius,I.width,I.height),at=Ze[0],Et=Ze[1],In=bA(N.borderBottomLeftRadius,I.width,I.height),ln=In[0],Sn=In[1],Xr=[];Xr.push((Z+Se)/I.width),Xr.push((ln+at)/I.width),Xr.push((ie+Sn)/I.height),Xr.push((je+Et)/I.height);var Xn=Math.max.apply(Math,Xr);Xn>1&&(Z/=Xn,ie/=Xn,Se/=Xn,je/=Xn,at/=Xn,Et/=Xn,ln/=Xn,Sn/=Xn);var jn=I.width-Se,ki=I.height-Et,ei=I.width-at,wr=I.height-Sn,gn=N.borderTopWidth,wi=N.borderRightWidth,Ei=N.borderBottomWidth,yr=N.borderLeftWidth,Si=us(N.paddingTop,x.bounds.width),ba=us(N.paddingRight,x.bounds.width),Jl=us(N.paddingBottom,x.bounds.width),_s=us(N.paddingLeft,x.bounds.width);this.topLeftBorderDoubleOuterBox=Z>0||ie>0?Js(I.left+yr/3,I.top+gn/3,Z-yr/3,ie-gn/3,vs.TOP_LEFT):new Tn(I.left+yr/3,I.top+gn/3),this.topRightBorderDoubleOuterBox=Z>0||ie>0?Js(I.left+jn,I.top+gn/3,Se-wi/3,je-gn/3,vs.TOP_RIGHT):new Tn(I.left+I.width-wi/3,I.top+gn/3),this.bottomRightBorderDoubleOuterBox=at>0||Et>0?Js(I.left+ei,I.top+ki,at-wi/3,Et-Ei/3,vs.BOTTOM_RIGHT):new Tn(I.left+I.width-wi/3,I.top+I.height-Ei/3),this.bottomLeftBorderDoubleOuterBox=ln>0||Sn>0?Js(I.left+yr/3,I.top+wr,ln-yr/3,Sn-Ei/3,vs.BOTTOM_LEFT):new Tn(I.left+yr/3,I.top+I.height-Ei/3),this.topLeftBorderDoubleInnerBox=Z>0||ie>0?Js(I.left+2*yr/3,I.top+2*gn/3,Z-2*yr/3,ie-2*gn/3,vs.TOP_LEFT):new Tn(I.left+2*yr/3,I.top+2*gn/3),this.topRightBorderDoubleInnerBox=Z>0||ie>0?Js(I.left+jn,I.top+2*gn/3,Se-2*wi/3,je-2*gn/3,vs.TOP_RIGHT):new Tn(I.left+I.width-2*wi/3,I.top+2*gn/3),this.bottomRightBorderDoubleInnerBox=at>0||Et>0?Js(I.left+ei,I.top+ki,at-2*wi/3,Et-2*Ei/3,vs.BOTTOM_RIGHT):new Tn(I.left+I.width-2*wi/3,I.top+I.height-2*Ei/3),this.bottomLeftBorderDoubleInnerBox=ln>0||Sn>0?Js(I.left+2*yr/3,I.top+wr,ln-2*yr/3,Sn-2*Ei/3,vs.BOTTOM_LEFT):new Tn(I.left+2*yr/3,I.top+I.height-2*Ei/3),this.topLeftBorderStroke=Z>0||ie>0?Js(I.left+yr/2,I.top+gn/2,Z-yr/2,ie-gn/2,vs.TOP_LEFT):new Tn(I.left+yr/2,I.top+gn/2),this.topRightBorderStroke=Z>0||ie>0?Js(I.left+jn,I.top+gn/2,Se-wi/2,je-gn/2,vs.TOP_RIGHT):new Tn(I.left+I.width-wi/2,I.top+gn/2),this.bottomRightBorderStroke=at>0||Et>0?Js(I.left+ei,I.top+ki,at-wi/2,Et-Ei/2,vs.BOTTOM_RIGHT):new Tn(I.left+I.width-wi/2,I.top+I.height-Ei/2),this.bottomLeftBorderStroke=ln>0||Sn>0?Js(I.left+yr/2,I.top+wr,ln-yr/2,Sn-Ei/2,vs.BOTTOM_LEFT):new Tn(I.left+yr/2,I.top+I.height-Ei/2),this.topLeftBorderBox=Z>0||ie>0?Js(I.left,I.top,Z,ie,vs.TOP_LEFT):new Tn(I.left,I.top),this.topRightBorderBox=Se>0||je>0?Js(I.left+jn,I.top,Se,je,vs.TOP_RIGHT):new Tn(I.left+I.width,I.top),this.bottomRightBorderBox=at>0||Et>0?Js(I.left+ei,I.top+ki,at,Et,vs.BOTTOM_RIGHT):new Tn(I.left+I.width,I.top+I.height),this.bottomLeftBorderBox=ln>0||Sn>0?Js(I.left,I.top+wr,ln,Sn,vs.BOTTOM_LEFT):new Tn(I.left,I.top+I.height),this.topLeftPaddingBox=Z>0||ie>0?Js(I.left+yr,I.top+gn,Math.max(0,Z-yr),Math.max(0,ie-gn),vs.TOP_LEFT):new Tn(I.left+yr,I.top+gn),this.topRightPaddingBox=Se>0||je>0?Js(I.left+Math.min(jn,I.width-wi),I.top+gn,jn>I.width+wi?0:Math.max(0,Se-wi),Math.max(0,je-gn),vs.TOP_RIGHT):new Tn(I.left+I.width-wi,I.top+gn),this.bottomRightPaddingBox=at>0||Et>0?Js(I.left+Math.min(ei,I.width-yr),I.top+Math.min(ki,I.height-Ei),Math.max(0,at-wi),Math.max(0,Et-Ei),vs.BOTTOM_RIGHT):new Tn(I.left+I.width-wi,I.top+I.height-Ei),this.bottomLeftPaddingBox=ln>0||Sn>0?Js(I.left+yr,I.top+Math.min(wr,I.height-Ei),Math.max(0,ln-yr),Math.max(0,Sn-Ei),vs.BOTTOM_LEFT):new Tn(I.left+yr,I.top+I.height-Ei),this.topLeftContentBox=Z>0||ie>0?Js(I.left+yr+_s,I.top+gn+Si,Math.max(0,Z-(yr+_s)),Math.max(0,ie-(gn+Si)),vs.TOP_LEFT):new Tn(I.left+yr+_s,I.top+gn+Si),this.topRightContentBox=Se>0||je>0?Js(I.left+Math.min(jn,I.width+yr+_s),I.top+gn+Si,jn>I.width+yr+_s?0:Se-yr+_s,je-(gn+Si),vs.TOP_RIGHT):new Tn(I.left+I.width-(wi+ba),I.top+gn+Si),this.bottomRightContentBox=at>0||Et>0?Js(I.left+Math.min(ei,I.width-(yr+_s)),I.top+Math.min(ki,I.height+gn+Si),Math.max(0,at-(wi+ba)),Et-(Ei+Jl),vs.BOTTOM_RIGHT):new Tn(I.left+I.width-(wi+ba),I.top+I.height-(Ei+Jl)),this.bottomLeftContentBox=ln>0||Sn>0?Js(I.left+yr+_s,I.top+wr,Math.max(0,ln-(yr+_s)),Sn-(Ei+Jl),vs.BOTTOM_LEFT):new Tn(I.left+yr+_s,I.top+I.height-(Ei+Jl))}}(),vs=function(S){return S[S.TOP_LEFT=0]="TOP_LEFT",S[S.TOP_RIGHT=1]="TOP_RIGHT",S[S.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",S[S.BOTTOM_LEFT=3]="BOTTOM_LEFT",S}(vs||{}),Js=function(S,x,N,I,z){var Z=(Math.sqrt(2)-1)/3*4,ie=N*Z,De=I*Z,Se=S+N,je=x+I;switch(z){case vs.TOP_LEFT:return new xv(new Tn(S,je),new Tn(S,je-De),new Tn(Se-ie,x),new Tn(Se,x));case vs.TOP_RIGHT:return new xv(new Tn(S,x),new Tn(S+ie,x),new Tn(Se,je-De),new Tn(Se,je));case vs.BOTTOM_RIGHT:return new xv(new Tn(Se,x),new Tn(Se,x+De),new Tn(S+ie,je),new Tn(S,je));default:return new xv(new Tn(Se,je),new Tn(Se-ie,je),new Tn(S,x+De),new Tn(S,x))}},Ev=function(S){return[S.topLeftBorderBox,S.topRightBorderBox,S.bottomRightBorderBox,S.bottomLeftBorderBox]},Sv=function(S){return[S.topLeftPaddingBox,S.topRightPaddingBox,S.bottomRightPaddingBox,S.bottomLeftPaddingBox]},IO=function(){return function S(x,N,I){this.offsetX=x,this.offsetY=N,this.matrix=I,this.type=0,this.target=6}}(),FA=function(){return function S(x,N){this.path=x,this.target=N,this.type=1}}(),RA=function(){return function S(x){this.opacity=x,this.type=2,this.target=6}}(),fC=function(S){return 1===S.type},OA=function(S,x){return S.length===x.length&&S.some(function(N,I){return N===x[I]})},Go=function(){return function S(x){this.element=x,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),fD=function(){function S(x,N){if(this.container=x,this.parent=N,this.effects=[],this.curves=new hC(this.container),this.container.styles.opacity<1&&this.effects.push(new RA(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new IO(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var ie=Ev(this.curves),De=Sv(this.curves);OA(ie,De)?this.effects.push(new FA(ie,6)):(this.effects.push(new FA(ie,2)),this.effects.push(new FA(De,4)))}}return S.prototype.getEffects=function(x){for(var N=-1===[2,3].indexOf(this.container.styles.position),I=this.parent,z=this.effects.slice(0);I;){var Z=I.effects.filter(function(Se){return!fC(Se)});if(N||0!==I.container.styles.position||!I.parent){if(z.unshift.apply(z,Z),N=-1===[2,3].indexOf(I.container.styles.position),0!==I.container.styles.overflowX){var ie=Ev(I.curves),De=Sv(I.curves);OA(ie,De)||z.unshift(new FA(De,6))}}else z.unshift.apply(z,Z);I=I.parent}return z.filter(function(Se){return gs(Se.target,x)})},S}(),ys=function(S,x,N,I){S.container.elements.forEach(function(z){var Z=gs(z.flags,4),ie=gs(z.flags,2),De=new fD(z,S);gs(z.styles.display,2048)&&I.push(De);var Se=gs(z.flags,8)?[]:I;if(Z||ie){var je=Z||z.styles.isPositioned()?N:x,Ze=new Go(De);if(z.styles.isPositioned()||z.styles.opacity<1||z.styles.isTransformed()){var at=z.styles.zIndex.order;if(at<0){var Et=0;je.negativeZIndex.some(function(ln,Sn){return at>ln.element.container.styles.zIndex.order?(Et=Sn,!1):Et>0}),je.negativeZIndex.splice(Et,0,Ze)}else if(at>0){var In=0;je.positiveZIndex.some(function(ln,Sn){return at>=ln.element.container.styles.zIndex.order?(In=Sn+1,!1):In>0}),je.positiveZIndex.splice(In,0,Ze)}else je.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ze)}else z.styles.isFloating()?je.nonPositionedFloats.push(Ze):je.nonPositionedInlineLevel.push(Ze);ys(De,Ze,Z?Ze:N,Se)}else z.styles.isInlineLevel()?x.inlineLevel.push(De):x.nonInlineLevel.push(De),ys(De,x,N,Se);gs(z.flags,8)&&Gy(z,Se)})},Gy=function(S,x){for(var N=S instanceof Py?S.start:1,I=S instanceof Py&&S.reversed,z=0;z<x.length;z++){var Z=x[z];Z.container instanceof dr&&"number"==typeof Z.container.value&&0!==Z.container.value&&(N=Z.container.value),Z.listValue=Yl(N,Z.container.styles.listStyleType,!0),N+=I?-1:1}},dC=function(S,x){switch(x){case 0:return Dl(S.topLeftBorderBox,S.topLeftPaddingBox,S.topRightBorderBox,S.topRightPaddingBox);case 1:return Dl(S.topRightBorderBox,S.topRightPaddingBox,S.bottomRightBorderBox,S.bottomRightPaddingBox);case 2:return Dl(S.bottomRightBorderBox,S.bottomRightPaddingBox,S.bottomLeftBorderBox,S.bottomLeftPaddingBox);default:return Dl(S.bottomLeftBorderBox,S.bottomLeftPaddingBox,S.topLeftBorderBox,S.topLeftPaddingBox)}},gg=function(S,x){var N=[];return Sl(S)?N.push(S.subdivide(.5,!1)):N.push(S),Sl(x)?N.push(x.subdivide(.5,!0)):N.push(x),N},Dl=function(S,x,N,I){var z=[];return Sl(S)?z.push(S.subdivide(.5,!1)):z.push(S),Sl(N)?z.push(N.subdivide(.5,!0)):z.push(N),Sl(I)?z.push(I.subdivide(.5,!0).reverse()):z.push(I),Sl(x)?z.push(x.subdivide(.5,!1).reverse()):z.push(x),z},AC=function(S){var N=S.styles;return S.bounds.add(N.borderLeftWidth,N.borderTopWidth,-(N.borderRightWidth+N.borderLeftWidth),-(N.borderTopWidth+N.borderBottomWidth))},jy=function(S){var x=S.styles,N=S.bounds,I=us(x.paddingLeft,N.width),z=us(x.paddingRight,N.width),Z=us(x.paddingTop,N.width),ie=us(x.paddingBottom,N.width);return N.add(I+x.borderLeftWidth,Z+x.borderTopWidth,-(x.borderRightWidth+x.borderLeftWidth+I+z),-(x.borderTopWidth+x.borderBottomWidth+Z+ie))},qy=function(S,x,N){var I=function(S,x){return 0===S?x.bounds:2===S?jy(x):AC(x)}(vg(S.styles.backgroundOrigin,x),S),z=function(S,x){return 0===S?x.bounds:2===S?jy(x):AC(x)}(vg(S.styles.backgroundClip,x),S),Z=UO(vg(S.styles.backgroundSize,x),N,I),ie=Z[0],De=Z[1],Se=bA(vg(S.styles.backgroundPosition,x),I.width-ie,I.height-De);return[OV(vg(S.styles.backgroundRepeat,x),Se,Z,I,z),Math.round(I.left+Se[0]),Math.round(I.top+Se[1]),ie,De]},mg=function(S){return es(S)&&S.value===ng.AUTO},Dv=function(S){return"number"==typeof S},UO=function(S,x,N){var I=x[0],z=x[1],Z=x[2],ie=S[0],De=S[1];if(!ie)return[0,0];if(Ho(ie)&&De&&Ho(De))return[us(ie,N.width),us(De,N.height)];var Se=Dv(Z);if(es(ie)&&(ie.value===ng.CONTAIN||ie.value===ng.COVER))return Dv(Z)?N.width/N.height<Z!=(ie.value===ng.COVER)?[N.width,N.width/Z]:[N.height*Z,N.height]:[N.width,N.height];var Ze=Dv(I),at=Dv(z),Et=Ze||at;if(mg(ie)&&(!De||mg(De)))return Ze&&at?[I,z]:Se||Et?Et&&Se?[Ze?I:z*Z,at?z:I/Z]:[Ze?I:N.width,at?z:N.height]:[N.width,N.height];if(Se){var Xn=0,jn=0;return Ho(ie)?Xn=us(ie,N.width):Ho(De)&&(jn=us(De,N.height)),mg(ie)?Xn=jn*Z:(!De||mg(De))&&(jn=Xn/Z),[Xn,jn]}var ki=null,ei=null;if(Ho(ie)?ki=us(ie,N.width):De&&Ho(De)&&(ei=us(De,N.height)),null!==ki&&(!De||mg(De))&&(ei=Ze&&at?ki/I*z:N.height),null!==ei&&mg(ie)&&(ki=Ze&&at?ei/z*I:N.width),null!==ki&&null!==ei)return[ki,ei];throw new Error("Unable to calculate background-size for element")},vg=function(S,x){var N=S[x];return typeof N>"u"?S[0]:N},OV=function(S,x,N,I,z){var Z=x[0],ie=x[1],De=N[0],Se=N[1];switch(S){case 2:return[new Tn(Math.round(I.left),Math.round(I.top+ie)),new Tn(Math.round(I.left+I.width),Math.round(I.top+ie)),new Tn(Math.round(I.left+I.width),Math.round(Se+I.top+ie)),new Tn(Math.round(I.left),Math.round(Se+I.top+ie))];case 3:return[new Tn(Math.round(I.left+Z),Math.round(I.top)),new Tn(Math.round(I.left+Z+De),Math.round(I.top)),new Tn(Math.round(I.left+Z+De),Math.round(I.height+I.top)),new Tn(Math.round(I.left+Z),Math.round(I.height+I.top))];case 1:return[new Tn(Math.round(I.left+Z),Math.round(I.top+ie)),new Tn(Math.round(I.left+Z+De),Math.round(I.top+ie)),new Tn(Math.round(I.left+Z+De),Math.round(I.top+ie+Se)),new Tn(Math.round(I.left+Z),Math.round(I.top+ie+Se))];default:return[new Tn(Math.round(z.left),Math.round(z.top)),new Tn(Math.round(z.left+z.width),Math.round(z.top)),new Tn(Math.round(z.left+z.width),Math.round(z.height+z.top)),new Tn(Math.round(z.left),Math.round(z.height+z.top))]}},pC="Hidden Text",xo=function(){function S(x){this._data={},this._document=x}return S.prototype.parseMetrics=function(x,N){var I=this._document.createElement("div"),z=this._document.createElement("img"),Z=this._document.createElement("span"),ie=this._document.body;I.style.visibility="hidden",I.style.fontFamily=x,I.style.fontSize=N,I.style.margin="0",I.style.padding="0",I.style.whiteSpace="nowrap",ie.appendChild(I),z.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",z.width=1,z.height=1,z.style.margin="0",z.style.padding="0",z.style.verticalAlign="baseline",Z.style.fontFamily=x,Z.style.fontSize=N,Z.style.margin="0",Z.style.padding="0",Z.appendChild(this._document.createTextNode(pC)),I.appendChild(Z),I.appendChild(z);var De=z.offsetTop-Z.offsetTop+2;I.removeChild(Z),I.appendChild(this._document.createTextNode(pC)),I.style.lineHeight="normal",z.style.verticalAlign="super";var Se=z.offsetTop-I.offsetTop+2;return ie.removeChild(I),{baseline:De,middle:Se}},S.prototype.getMetrics=function(x,N){var I=x+" "+N;return typeof this._data[I]>"u"&&(this._data[I]=this.parseMetrics(x,N)),this._data[I]},S}(),kO=function(){return function S(x,N){this.context=x,this.options=N}}(),PV=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z._activeEffects=[],z.canvas=I.canvas?I.canvas:document.createElement("canvas"),z.ctx=z.canvas.getContext("2d"),I.canvas||(z.canvas.width=Math.floor(I.width*I.scale),z.canvas.height=Math.floor(I.height*I.scale),z.canvas.style.width=I.width+"px",z.canvas.style.height=I.height+"px"),z.fontMetrics=new xo(document),z.ctx.scale(z.options.scale,z.options.scale),z.ctx.translate(-I.x,-I.y),z.ctx.textBaseline="bottom",z._activeEffects=[],z.context.logger.debug("Canvas renderer initialized ("+I.width+"x"+I.height+") with scale "+I.scale),z}return we(x,S),x.prototype.applyEffects=function(N){for(var I=this;this._activeEffects.length;)this.popEffect();N.forEach(function(z){return I.applyEffect(z)})},x.prototype.applyEffect=function(N){this.ctx.save(),function(S){return 2===S.type}(N)&&(this.ctx.globalAlpha=N.opacity),function(S){return 0===S.type}(N)&&(this.ctx.translate(N.offsetX,N.offsetY),this.ctx.transform(N.matrix[0],N.matrix[1],N.matrix[2],N.matrix[3],N.matrix[4],N.matrix[5]),this.ctx.translate(-N.offsetX,-N.offsetY)),fC(N)&&(this.path(N.path),this.ctx.clip()),this._activeEffects.push(N)},x.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},x.prototype.renderStack=function(N){return yt(this,void 0,void 0,function(){return Ct(this,function(z){switch(z.label){case 0:return N.element.container.styles.isVisible()?[4,this.renderStackContent(N)]:[3,2];case 1:z.sent(),z.label=2;case 2:return[2]}})})},x.prototype.renderNode=function(N){return yt(this,void 0,void 0,function(){return Ct(this,function(I){switch(I.label){case 0:return gs(N.container.flags,16),N.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(N)]:[3,3];case 1:return I.sent(),[4,this.renderNodeContent(N)];case 2:I.sent(),I.label=3;case 3:return[2]}})})},x.prototype.renderTextWithLetterSpacing=function(N,I,z){var Z=this;0===I?this.ctx.fillText(N.text,N.bounds.left,N.bounds.top+z):fv(N.text).reduce(function(De,Se){return Z.ctx.fillText(Se,De,N.bounds.top+z),De+Z.ctx.measureText(Se).width},N.bounds.left)},x.prototype.createFontStyle=function(N){var I=N.fontVariant.filter(function(ie){return"normal"===ie||"small-caps"===ie}).join(""),z=HO(N.fontFamily).join(", "),Z=yf(N.fontSize)?""+N.fontSize.number+N.fontSize.unit:N.fontSize.number+"px";return[[N.fontStyle,I,N.fontWeight,Z,z].join(" "),z,Z]},x.prototype.renderTextNode=function(N,I){return yt(this,void 0,void 0,function(){var z,ie,De,Se,je,Ze,at,Et=this;return Ct(this,function(In){return z=this.createFontStyle(I),ie=z[1],De=z[2],this.ctx.font=z[0],this.ctx.direction=1===I.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Se=this.fontMetrics.getMetrics(ie,De),je=Se.baseline,Ze=Se.middle,at=I.paintOrder,N.textBounds.forEach(function(ln){at.forEach(function(Sn){switch(Sn){case 0:Et.ctx.fillStyle=ts(I.color),Et.renderTextWithLetterSpacing(ln,I.letterSpacing,je);var Xr=I.textShadow;Xr.length&&ln.text.trim().length&&(Xr.slice(0).reverse().forEach(function(Xn){Et.ctx.shadowColor=ts(Xn.color),Et.ctx.shadowOffsetX=Xn.offsetX.number*Et.options.scale,Et.ctx.shadowOffsetY=Xn.offsetY.number*Et.options.scale,Et.ctx.shadowBlur=Xn.blur.number,Et.renderTextWithLetterSpacing(ln,I.letterSpacing,je)}),Et.ctx.shadowColor="",Et.ctx.shadowOffsetX=0,Et.ctx.shadowOffsetY=0,Et.ctx.shadowBlur=0),I.textDecorationLine.length&&(Et.ctx.fillStyle=ts(I.textDecorationColor||I.color),I.textDecorationLine.forEach(function(Xn){switch(Xn){case 1:Et.ctx.fillRect(ln.bounds.left,Math.round(ln.bounds.top+je),ln.bounds.width,1);break;case 2:Et.ctx.fillRect(ln.bounds.left,Math.round(ln.bounds.top),ln.bounds.width,1);break;case 3:Et.ctx.fillRect(ln.bounds.left,Math.ceil(ln.bounds.top+Ze),ln.bounds.width,1)}}));break;case 1:I.webkitTextStrokeWidth&&ln.text.trim().length&&(Et.ctx.strokeStyle=ts(I.webkitTextStrokeColor),Et.ctx.lineWidth=I.webkitTextStrokeWidth,Et.ctx.lineJoin=window.chrome?"miter":"round",Et.ctx.strokeText(ln.text,ln.bounds.left,ln.bounds.top+je)),Et.ctx.strokeStyle="",Et.ctx.lineWidth=0,Et.ctx.lineJoin="miter"}})}),[2]})})},x.prototype.renderReplacedElement=function(N,I,z){if(z&&N.intrinsicWidth>0&&N.intrinsicHeight>0){var Z=jy(N),ie=Sv(I);this.path(ie),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(z,0,0,N.intrinsicWidth,N.intrinsicHeight,Z.left,Z.top,Z.width,Z.height),this.ctx.restore()}},x.prototype.renderNodeContent=function(N){return yt(this,void 0,void 0,function(){var I,z,Z,ie,De,Ze,at,Et,ln,Sn,Xr,Xn,jn,ki,ei,wr;return Ct(this,function(gn){switch(gn.label){case 0:this.applyEffects(N.getEffects(4)),z=N.curves,Z=(I=N.container).styles,ie=0,De=I.textNodes,gn.label=1;case 1:return ie<De.length?[4,this.renderTextNode(De[ie],Z)]:[3,4];case 2:gn.sent(),gn.label=3;case 3:return ie++,[3,1];case 4:if(!(I instanceof Av))return[3,8];gn.label=5;case 5:return gn.trys.push([5,7,,8]),[4,this.context.cache.match(I.src)];case 6:return jn=gn.sent(),this.renderReplacedElement(I,z,jn),[3,8];case 7:return gn.sent(),this.context.logger.error("Error loading image "+I.src),[3,8];case 8:if(I instanceof Oy&&this.renderReplacedElement(I,z,I.canvas),!(I instanceof Md))return[3,12];gn.label=9;case 9:return gn.trys.push([9,11,,12]),[4,this.context.cache.match(I.svg)];case 10:return jn=gn.sent(),this.renderReplacedElement(I,z,jn),[3,12];case 11:return gn.sent(),this.context.logger.error("Error loading svg "+I.svg.substring(0,255)),[3,12];case 12:return I instanceof xt&&I.tree?[4,new x(this.context,{scale:this.options.scale,backgroundColor:I.backgroundColor,x:0,y:0,width:I.width,height:I.height}).render(I.tree)]:[3,14];case 13:Ze=gn.sent(),I.width&&I.height&&this.ctx.drawImage(Ze,0,0,I.width,I.height,I.bounds.left,I.bounds.top,I.bounds.width,I.bounds.height),gn.label=14;case 14:if(I instanceof eC&&(at=Math.min(I.bounds.width,I.bounds.height),I.type===pv?I.checked&&(this.ctx.save(),this.path([new Tn(I.bounds.left+.39363*at,I.bounds.top+.79*at),new Tn(I.bounds.left+.16*at,I.bounds.top+.5549*at),new Tn(I.bounds.left+.27347*at,I.bounds.top+.44071*at),new Tn(I.bounds.left+.39694*at,I.bounds.top+.5649*at),new Tn(I.bounds.left+.72983*at,I.bounds.top+.23*at),new Tn(I.bounds.left+.84*at,I.bounds.top+.34085*at),new Tn(I.bounds.left+.39363*at,I.bounds.top+.79*at)]),this.ctx.fillStyle=ts(j2),this.ctx.fill(),this.ctx.restore()):I.type===Cf&&I.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(I.bounds.left+at/2,I.bounds.top+at/2,at/4,0,2*Math.PI,!0),this.ctx.fillStyle=ts(j2),this.ctx.fill(),this.ctx.restore())),gC(I)&&I.value.length){switch(Et=this.createFontStyle(Z),ln=this.fontMetrics.getMetrics(ei=Et[0],Et[1]).baseline,this.ctx.font=ei,this.ctx.fillStyle=ts(Z.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=gD(I.styles.textAlign),wr=jy(I),Sn=0,I.styles.textAlign){case 1:Sn+=wr.width/2;break;case 2:Sn+=wr.width}Xr=wr.add(Sn,0,0,-wr.height/2+1),this.ctx.save(),this.path([new Tn(wr.left,wr.top),new Tn(wr.left+wr.width,wr.top),new Tn(wr.left+wr.width,wr.top+wr.height),new Tn(wr.left,wr.top+wr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new wf(I.value,Xr),Z.letterSpacing,ln),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!gs(I.styles.display,2048))return[3,20];if(null===I.styles.listStyleImage)return[3,19];if(0!==(Xn=I.styles.listStyleImage).type)return[3,18];jn=void 0,ki=Xn.url,gn.label=15;case 15:return gn.trys.push([15,17,,18]),[4,this.context.cache.match(ki)];case 16:return jn=gn.sent(),this.ctx.drawImage(jn,I.bounds.left-(jn.width+10),I.bounds.top),[3,18];case 17:return gn.sent(),this.context.logger.error("Error loading list-style-image "+ki),[3,18];case 18:return[3,20];case 19:N.listValue&&-1!==I.styles.listStyleType&&(ei=this.createFontStyle(Z)[0],this.ctx.font=ei,this.ctx.fillStyle=ts(Z.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",wr=new Mn(I.bounds.left,I.bounds.top+us(I.styles.paddingTop,I.bounds.width),I.bounds.width,Sd(Z.lineHeight,Z.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new wf(N.listValue,wr),Z.letterSpacing,Sd(Z.lineHeight,Z.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),gn.label=20;case 20:return[2]}})})},x.prototype.renderStackContent=function(N){return yt(this,void 0,void 0,function(){var I,z,Z,ie,De,Se,je,Ze,at,Et,In,ln,Sn,Xr;return Ct(this,function(jn){switch(jn.label){case 0:return gs(N.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(N.element)];case 1:jn.sent(),I=0,z=N.negativeZIndex,jn.label=2;case 2:return I<z.length?[4,this.renderStack(z[I])]:[3,5];case 3:jn.sent(),jn.label=4;case 4:return I++,[3,2];case 5:return[4,this.renderNodeContent(N.element)];case 6:jn.sent(),Z=0,ie=N.nonInlineLevel,jn.label=7;case 7:return Z<ie.length?[4,this.renderNode(ie[Z])]:[3,10];case 8:jn.sent(),jn.label=9;case 9:return Z++,[3,7];case 10:De=0,Se=N.nonPositionedFloats,jn.label=11;case 11:return De<Se.length?[4,this.renderStack(Se[De])]:[3,14];case 12:jn.sent(),jn.label=13;case 13:return De++,[3,11];case 14:je=0,Ze=N.nonPositionedInlineLevel,jn.label=15;case 15:return je<Ze.length?[4,this.renderStack(Ze[je])]:[3,18];case 16:jn.sent(),jn.label=17;case 17:return je++,[3,15];case 18:at=0,Et=N.inlineLevel,jn.label=19;case 19:return at<Et.length?[4,this.renderNode(Et[at])]:[3,22];case 20:jn.sent(),jn.label=21;case 21:return at++,[3,19];case 22:In=0,ln=N.zeroOrAutoZIndexOrTransformedOrOpacity,jn.label=23;case 23:return In<ln.length?[4,this.renderStack(ln[In])]:[3,26];case 24:jn.sent(),jn.label=25;case 25:return In++,[3,23];case 26:Sn=0,Xr=N.positiveZIndex,jn.label=27;case 27:return Sn<Xr.length?[4,this.renderStack(Xr[Sn])]:[3,30];case 28:jn.sent(),jn.label=29;case 29:return Sn++,[3,27];case 30:return[2]}})})},x.prototype.mask=function(N){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(N.slice(0).reverse()),this.ctx.closePath()},x.prototype.path=function(N){this.ctx.beginPath(),this.formatPath(N),this.ctx.closePath()},x.prototype.formatPath=function(N){var I=this;N.forEach(function(z,Z){var ie=Sl(z)?z.start:z;0===Z?I.ctx.moveTo(ie.x,ie.y):I.ctx.lineTo(ie.x,ie.y),Sl(z)&&I.ctx.bezierCurveTo(z.startControl.x,z.startControl.y,z.endControl.x,z.endControl.y,z.end.x,z.end.y)})},x.prototype.renderRepeat=function(N,I,z,Z){this.path(N),this.ctx.fillStyle=I,this.ctx.translate(z,Z),this.ctx.fill(),this.ctx.translate(-z,-Z)},x.prototype.resizeImage=function(N,I,z){var Z;if(N.width===I&&N.height===z)return N;var De=(null!==(Z=this.canvas.ownerDocument)&&void 0!==Z?Z:document).createElement("canvas");return De.width=Math.max(1,I),De.height=Math.max(1,z),De.getContext("2d").drawImage(N,0,0,N.width,N.height,0,0,I,z),De},x.prototype.renderBackgroundImage=function(N){return yt(this,void 0,void 0,function(){var I,z,Z,ie,De;return Ct(this,function(je){switch(je.label){case 0:I=N.styles.backgroundImage.length-1,z=function(Ze){var at,Et,In,ln,Sn,Xr,Xn,jn,ki,ei,wr,gn,wi,Ei,yr,Si,ba,Jl,_s,ka,Df,Zl,Ml,PA,qu,Fd,LA,UA,Mf,Rd,Bh;return Ct(this,function(kA){switch(kA.label){case 0:if(0!==Ze.type)return[3,5];at=void 0,Et=Ze.url,kA.label=1;case 1:return kA.trys.push([1,3,,4]),[4,Z.context.cache.match(Et)];case 2:return at=kA.sent(),[3,4];case 3:return kA.sent(),Z.context.logger.error("Error loading background-image "+Et),[3,4];case 4:return at&&(In=qy(N,I,[at.width,at.height,at.width/at.height]),Si=In[0],Zl=In[1],Ml=In[2],Ei=Z.ctx.createPattern(Z.resizeImage(at,_s=In[3],ka=In[4]),"repeat"),Z.renderRepeat(Si,Ei,Zl,Ml)),[3,6];case 5:!function(S){return 1===S.type}(Ze)?function(S){return 2===S.type}(Ze)&&(yr=qy(N,I,[null,null,null]),Si=yr[0],ba=yr[1],Jl=yr[2],ka=yr[4],Zl=us((Df=0===Ze.position.length?[Ve]:Ze.position)[0],_s=yr[3]),Ml=us(Df[Df.length-1],ka),PA=function(S,x,N,I,z){var Z=0,ie=0;switch(S.size){case 0:0===S.shape?Z=ie=Math.min(Math.abs(x),Math.abs(x-I),Math.abs(N),Math.abs(N-z)):1===S.shape&&(Z=Math.min(Math.abs(x),Math.abs(x-I)),ie=Math.min(Math.abs(N),Math.abs(N-z)));break;case 2:if(0===S.shape)Z=ie=Math.min(Ur(x,N),Ur(x,N-z),Ur(x-I,N),Ur(x-I,N-z));else if(1===S.shape){var De=Math.min(Math.abs(N),Math.abs(N-z))/Math.min(Math.abs(x),Math.abs(x-I)),Se=bf(I,z,x,N,!0);ie=De*(Z=Ur(Se[0]-x,(Se[1]-N)/De))}break;case 1:0===S.shape?Z=ie=Math.max(Math.abs(x),Math.abs(x-I),Math.abs(N),Math.abs(N-z)):1===S.shape&&(Z=Math.max(Math.abs(x),Math.abs(x-I)),ie=Math.max(Math.abs(N),Math.abs(N-z)));break;case 3:if(0===S.shape)Z=ie=Math.max(Ur(x,N),Ur(x,N-z),Ur(x-I,N),Ur(x-I,N-z));else if(1===S.shape){De=Math.max(Math.abs(N),Math.abs(N-z))/Math.max(Math.abs(x),Math.abs(x-I));var at=bf(I,z,x,N,!1);ie=De*(Z=Ur(at[0]-x,(at[1]-N)/De))}}return Array.isArray(S.size)&&(Z=us(S.size[0],I),ie=2===S.size.length?us(S.size[1],z):Z),[Z,ie]}(Ze,Zl,Ml,_s,ka),Fd=PA[1],(qu=PA[0])>0&&Fd>0&&(LA=Z.ctx.createRadialGradient(ba+Zl,Jl+Ml,0,ba+Zl,Jl+Ml,qu),FR(Ze.stops,2*qu).forEach(function(Od){return LA.addColorStop(Od.stop,ts(Od.color))}),Z.path(Si),Z.ctx.fillStyle=LA,qu!==Fd?(UA=N.bounds.left+.5*N.bounds.width,Mf=N.bounds.top+.5*N.bounds.height,Bh=1/(Rd=Fd/qu),Z.ctx.save(),Z.ctx.translate(UA,Mf),Z.ctx.transform(1,0,0,Rd,0,0),Z.ctx.translate(-UA,-Mf),Z.ctx.fillRect(ba,Bh*(Jl-Mf)+Mf,_s,ka*Bh),Z.ctx.restore()):Z.ctx.fill())):(ln=qy(N,I,[null,null,null]),Si=ln[0],Zl=ln[1],Ml=ln[2],Sn=wh(Ze.angle,_s=ln[3],ka=ln[4]),Xr=Sn[0],Xn=Sn[1],jn=Sn[2],ki=Sn[3],ei=Sn[4],(wr=document.createElement("canvas")).width=_s,wr.height=ka,gn=wr.getContext("2d"),wi=gn.createLinearGradient(Xn,ki,jn,ei),FR(Ze.stops,Xr).forEach(function(Od){return wi.addColorStop(Od.stop,ts(Od.color))}),gn.fillStyle=wi,gn.fillRect(0,0,_s,ka),_s>0&&ka>0&&(Ei=Z.ctx.createPattern(wr,"repeat"),Z.renderRepeat(Si,Ei,Zl,Ml))),kA.label=6;case 6:return I--,[2]}})},Z=this,ie=0,De=N.styles.backgroundImage.slice(0).reverse(),je.label=1;case 1:return ie<De.length?[5,z(De[ie])]:[3,4];case 2:je.sent(),je.label=3;case 3:return ie++,[3,1];case 4:return[2]}})})},x.prototype.renderSolidBorder=function(N,I,z){return yt(this,void 0,void 0,function(){return Ct(this,function(Z){return this.path(dC(z,I)),this.ctx.fillStyle=ts(N),this.ctx.fill(),[2]})})},x.prototype.renderDoubleBorder=function(N,I,z,Z){return yt(this,void 0,void 0,function(){var ie,De;return Ct(this,function(Se){switch(Se.label){case 0:return I<3?[4,this.renderSolidBorder(N,z,Z)]:[3,2];case 1:return Se.sent(),[2];case 2:return ie=function(S,x){switch(x){case 0:return Dl(S.topLeftBorderBox,S.topLeftBorderDoubleOuterBox,S.topRightBorderBox,S.topRightBorderDoubleOuterBox);case 1:return Dl(S.topRightBorderBox,S.topRightBorderDoubleOuterBox,S.bottomRightBorderBox,S.bottomRightBorderDoubleOuterBox);case 2:return Dl(S.bottomRightBorderBox,S.bottomRightBorderDoubleOuterBox,S.bottomLeftBorderBox,S.bottomLeftBorderDoubleOuterBox);default:return Dl(S.bottomLeftBorderBox,S.bottomLeftBorderDoubleOuterBox,S.topLeftBorderBox,S.topLeftBorderDoubleOuterBox)}}(Z,z),this.path(ie),this.ctx.fillStyle=ts(N),this.ctx.fill(),De=function(S,x){switch(x){case 0:return Dl(S.topLeftBorderDoubleInnerBox,S.topLeftPaddingBox,S.topRightBorderDoubleInnerBox,S.topRightPaddingBox);case 1:return Dl(S.topRightBorderDoubleInnerBox,S.topRightPaddingBox,S.bottomRightBorderDoubleInnerBox,S.bottomRightPaddingBox);case 2:return Dl(S.bottomRightBorderDoubleInnerBox,S.bottomRightPaddingBox,S.bottomLeftBorderDoubleInnerBox,S.bottomLeftPaddingBox);default:return Dl(S.bottomLeftBorderDoubleInnerBox,S.bottomLeftPaddingBox,S.topLeftBorderDoubleInnerBox,S.topLeftPaddingBox)}}(Z,z),this.path(De),this.ctx.fill(),[2]}})})},x.prototype.renderNodeBackgroundAndBorders=function(N){return yt(this,void 0,void 0,function(){var I,z,Z,ie,De,Se,je,Ze,at=this;return Ct(this,function(Et){switch(Et.label){case 0:return this.applyEffects(N.getEffects(2)),z=!Cd((I=N.container.styles).backgroundColor)||I.backgroundImage.length,Z=[{style:I.borderTopStyle,color:I.borderTopColor,width:I.borderTopWidth},{style:I.borderRightStyle,color:I.borderRightColor,width:I.borderRightWidth},{style:I.borderBottomStyle,color:I.borderBottomColor,width:I.borderBottomWidth},{style:I.borderLeftStyle,color:I.borderLeftColor,width:I.borderLeftWidth}],ie=ju(vg(I.backgroundClip,0),N.curves),z||I.boxShadow.length?(this.ctx.save(),this.path(ie),this.ctx.clip(),Cd(I.backgroundColor)||(this.ctx.fillStyle=ts(I.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(N.container)]):[3,2];case 1:Et.sent(),this.ctx.restore(),I.boxShadow.slice(0).reverse().forEach(function(In){at.ctx.save();var ln=Ev(N.curves),Sn=In.inset?0:1e4,Xr=function(S,x,N,I,z){return S.map(function(Z,ie){switch(ie){case 0:return Z.add(x,N);case 1:return Z.add(x+I,N);case 2:return Z.add(x+I,N+z);case 3:return Z.add(x,N+z)}return Z})}(ln,(In.inset?1:-1)*In.spread.number-Sn,(In.inset?1:-1)*In.spread.number,In.spread.number*(In.inset?-2:2),In.spread.number*(In.inset?-2:2));In.inset?(at.path(ln),at.ctx.clip(),at.mask(Xr)):(at.mask(ln),at.ctx.clip(),at.path(Xr)),at.ctx.shadowOffsetX=In.offsetX.number+Sn,at.ctx.shadowOffsetY=In.offsetY.number,at.ctx.shadowColor=ts(In.color),at.ctx.shadowBlur=In.blur.number,at.ctx.fillStyle=In.inset?ts(In.color):"rgba(0,0,0,1)",at.ctx.fill(),at.ctx.restore()}),Et.label=2;case 2:De=0,Se=0,je=Z,Et.label=3;case 3:return Se<je.length?0!==(Ze=je[Se]).style&&!Cd(Ze.color)&&Ze.width>0?2!==Ze.style?[3,5]:[4,this.renderDashedDottedBorder(Ze.color,Ze.width,De,N.curves,2)]:[3,11]:[3,13];case 4:return Et.sent(),[3,11];case 5:return 3!==Ze.style?[3,7]:[4,this.renderDashedDottedBorder(Ze.color,Ze.width,De,N.curves,3)];case 6:return Et.sent(),[3,11];case 7:return 4!==Ze.style?[3,9]:[4,this.renderDoubleBorder(Ze.color,Ze.width,De,N.curves)];case 8:return Et.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ze.color,De,N.curves)];case 10:Et.sent(),Et.label=11;case 11:De++,Et.label=12;case 12:return Se++,[3,3];case 13:return[2]}})})},x.prototype.renderDashedDottedBorder=function(N,I,z,Z,ie){return yt(this,void 0,void 0,function(){var De,Se,je,Ze,at,Et,In,ln,Sn,Xr,Xn,jn,ki,ei,wr,gn;return Ct(this,function(wi){return this.ctx.save(),De=function(S,x){switch(x){case 0:return gg(S.topLeftBorderStroke,S.topRightBorderStroke);case 1:return gg(S.topRightBorderStroke,S.bottomRightBorderStroke);case 2:return gg(S.bottomRightBorderStroke,S.bottomLeftBorderStroke);default:return gg(S.bottomLeftBorderStroke,S.topLeftBorderStroke)}}(Z,z),Se=dC(Z,z),2===ie&&(this.path(Se),this.ctx.clip()),Sl(Se[0])?(je=Se[0].start.x,Ze=Se[0].start.y):(je=Se[0].x,Ze=Se[0].y),Sl(Se[1])?(at=Se[1].end.x,Et=Se[1].end.y):(at=Se[1].x,Et=Se[1].y),In=0===z||2===z?Math.abs(je-at):Math.abs(Ze-Et),this.ctx.beginPath(),this.formatPath(3===ie?De:Se.slice(0,2)),ln=I<3?3*I:2*I,Sn=I<3?2*I:I,3===ie&&(ln=I,Sn=I),Xr=!0,In<=2*ln?Xr=!1:In<=2*ln+Sn?(ln*=Xn=In/(2*ln+Sn),Sn*=Xn):(jn=Math.floor((In+Sn)/(ln+Sn)),ki=(In-jn*ln)/(jn-1),Sn=(ei=(In-(jn+1)*ln)/jn)<=0||Math.abs(Sn-ki)<Math.abs(Sn-ei)?ki:ei),Xr&&this.ctx.setLineDash(3===ie?[0,ln+Sn]:[ln,Sn]),3===ie?(this.ctx.lineCap="round",this.ctx.lineWidth=I):this.ctx.lineWidth=2*I+1.1,this.ctx.strokeStyle=ts(N),this.ctx.stroke(),this.ctx.setLineDash([]),2===ie&&(Sl(Se[0])&&(wr=Se[3],gn=Se[0],this.ctx.beginPath(),this.formatPath([new Tn(wr.end.x,wr.end.y),new Tn(gn.start.x,gn.start.y)]),this.ctx.stroke()),Sl(Se[1])&&(wr=Se[1],gn=Se[2],this.ctx.beginPath(),this.formatPath([new Tn(wr.end.x,wr.end.y),new Tn(gn.start.x,gn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},x.prototype.render=function(N){return yt(this,void 0,void 0,function(){var I;return Ct(this,function(z){switch(z.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ts(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),I=function(S){var x=new fD(S,null),N=new Go(x),I=[];return ys(x,N,N,I),Gy(x.container,I),N}(N),[4,this.renderStack(I)];case 1:return z.sent(),this.applyEffects([]),[2,this.canvas]}})})},x}(kO),gC=function(S){return S instanceof W2||S instanceof q2||S instanceof eC&&S.type!==Cf&&S.type!==pv},ju=function(S,x){switch(S){case 0:return Ev(x);case 2:return function(S){return[S.topLeftContentBox,S.topRightContentBox,S.bottomRightContentBox,S.bottomLeftContentBox]}(x);default:return Sv(x)}},gD=function(S){switch(S){case 1:return"center";case 2:return"right";default:return"left"}},Th=["-apple-system","system-ui"],HO=function(S){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?S.filter(function(x){return-1===Th.indexOf(x)}):S},VO=function(S){function x(N,I){var z=S.call(this,N,I)||this;return z.canvas=I.canvas?I.canvas:document.createElement("canvas"),z.ctx=z.canvas.getContext("2d"),z.options=I,z.canvas.width=Math.floor(I.width*I.scale),z.canvas.height=Math.floor(I.height*I.scale),z.canvas.style.width=I.width+"px",z.canvas.style.height=I.height+"px",z.ctx.scale(z.options.scale,z.options.scale),z.ctx.translate(-I.x,-I.y),z.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+I.width+"x"+I.height+" at "+I.x+","+I.y+") with scale "+I.scale),z}return we(x,S),x.prototype.render=function(N){return yt(this,void 0,void 0,function(){var I,z;return Ct(this,function(Z){switch(Z.label){case 0:return I=TA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,N),[4,mD(I)];case 1:return z=Z.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ts(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(z,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},x}(kO),mD=function(S){return new Promise(function(x,N){var I=new Image;I.onload=function(){x(I)},I.onerror=N,I.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(S))})},LV=function(){function S(x){var I=x.enabled;this.id=x.id,this.enabled=I,this.start=Date.now()}return S.prototype.debug=function(){for(var x=[],N=0;N<arguments.length;N++)x[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,An([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},S.prototype.getTime=function(){return Date.now()-this.start},S.prototype.info=function(){for(var x=[],N=0;N<arguments.length;N++)x[N]=arguments[N];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,An([this.id,this.getTime()+"ms"],x))},S.prototype.warn=function(){for(var x=[],N=0;N<arguments.length;N++)x[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,An([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},S.prototype.error=function(){for(var x=[],N=0;N<arguments.length;N++)x[N]=arguments[N];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,An([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},S.instances={},S}(),UV=function(){function S(x,N){var I;this.windowBounds=N,this.instanceName="#"+S.instanceCount++,this.logger=new LV({id:this.instanceName,enabled:x.logging}),this.cache=null!==(I=x.cache)&&void 0!==I?I:new Cv(this,x)}return S.instanceCount=1,S}();typeof window<"u"&&lD.setContext(window);var HV=function(S,x){return yt(void 0,void 0,void 0,function(){var N,I,z,Z,ie,De,Se,je,Ze,at,Et,In,ln,Sn,Xr,Xn,jn,ki,ei,wr,gn,Ei,yr,Si,ba,Jl,_s,ka,Df,Zl,Ml,PA,qu,Fd,LA,UA,Mf,Rd;return Ct(this,function(Bh){switch(Bh.label){case 0:if(!S||"object"!=typeof S)return[2,Promise.reject("Invalid element provided as first argument")];if(!(N=S.ownerDocument))throw new Error("Element is not attached to a Document");if(!(I=N.defaultView))throw new Error("Document is not attached to a Window");return z={allowTaint:null!==(Ei=x.allowTaint)&&void 0!==Ei&&Ei,imageTimeout:null!==(yr=x.imageTimeout)&&void 0!==yr?yr:15e3,proxy:x.proxy,useCORS:null!==(Si=x.useCORS)&&void 0!==Si&&Si},Z=St({logging:null===(ba=x.logging)||void 0===ba||ba,cache:x.cache},z),ie={windowWidth:null!==(Jl=x.windowWidth)&&void 0!==Jl?Jl:I.innerWidth,windowHeight:null!==(_s=x.windowHeight)&&void 0!==_s?_s:I.innerHeight,scrollX:null!==(ka=x.scrollX)&&void 0!==ka?ka:I.pageXOffset,scrollY:null!==(Df=x.scrollY)&&void 0!==Df?Df:I.pageYOffset},De=new Mn(ie.scrollX,ie.scrollY,ie.windowWidth,ie.windowHeight),Se=new UV(Z,De),je=null!==(Zl=x.foreignObjectRendering)&&void 0!==Zl&&Zl,Ze={allowTaint:null!==(Ml=x.allowTaint)&&void 0!==Ml&&Ml,onclone:x.onclone,ignoreElements:x.ignoreElements,inlineImages:je,copyStyles:je},Se.logger.debug("Starting document clone with size "+De.width+"x"+De.height+" scrolled to "+-De.left+","+-De.top),at=new _v(Se,S,Ze),(Et=at.clonedReferenceElement)?[4,at.toIFrame(N,De)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return In=Bh.sent(),ln=Bc(Et)||function(S){return"HTML"===S.tagName}(Et)?function(S){var x=S.body,N=S.documentElement;if(!x||!N)throw new Error("Unable to get document size");var I=Math.max(Math.max(x.scrollWidth,N.scrollWidth),Math.max(x.offsetWidth,N.offsetWidth),Math.max(x.clientWidth,N.clientWidth)),z=Math.max(Math.max(x.scrollHeight,N.scrollHeight),Math.max(x.offsetHeight,N.offsetHeight),Math.max(x.clientHeight,N.clientHeight));return new Mn(0,0,I,z)}(Et.ownerDocument):Gn(Se,Et),Sn=ln.width,Xr=ln.height,Xn=ln.left,jn=ln.top,ki=VV(Se,Et,x.backgroundColor),ei={canvas:x.canvas,backgroundColor:ki,scale:null!==(qu=null!==(PA=x.scale)&&void 0!==PA?PA:I.devicePixelRatio)&&void 0!==qu?qu:1,x:(null!==(Fd=x.x)&&void 0!==Fd?Fd:0)+Xn,y:(null!==(LA=x.y)&&void 0!==LA?LA:0)+jn,width:null!==(UA=x.width)&&void 0!==UA?UA:Math.ceil(Sn),height:null!==(Mf=x.height)&&void 0!==Mf?Mf:Math.ceil(Xr)},je?(Se.logger.debug("Document cloned, using foreign object rendering"),[4,new VO(Se,ei).render(Et)]):[3,3];case 2:return wr=Bh.sent(),[3,5];case 3:return Se.logger.debug("Document cloned, element located at "+Xn+","+jn+" with size "+Sn+"x"+Xr+" using computed rendering"),Se.logger.debug("Starting DOM parsing"),gn=hs(Se,Et),ki===gn.styles.backgroundColor&&(gn.styles.backgroundColor=xd.TRANSPARENT),Se.logger.debug("Starting renderer for element at "+ei.x+","+ei.y+" with size "+ei.width+"x"+ei.height),[4,new PV(Se,ei).render(gn)];case 4:wr=Bh.sent(),Bh.label=5;case 5:return(!(null!==(Rd=x.removeContainer)&&void 0!==Rd)||Rd)&&(_v.destroy(In)||Se.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Se.logger.debug("Finished rendering"),[2,wr]}})})},VV=function(S,x,N){var I=x.ownerDocument,z=I.documentElement?eg(S,getComputedStyle(I.documentElement).backgroundColor):xd.TRANSPARENT,Z=I.body?eg(S,getComputedStyle(I.body).backgroundColor):xd.TRANSPARENT,ie="string"==typeof N?eg(S,N):null===N?xd.TRANSPARENT:4294967295;return x===I.documentElement?Cd(z)?Cd(Z)?ie:Z:z:ie};return function(S,x){return void 0===x&&(x={}),HV(S,x)}}()},3556:gr=>{gr.exports=function Kn(we,St){"use strict";var Yt,nn,yt=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,Ct=/(^[ ]*|[ ]*$)/g,An=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,Mn=/^0x[0-9a-f]+$/i,Gn=/^0/,Vn=function(Hs){return Kn.insensitive&&(""+Hs).toLowerCase()||""+Hs},bt=Vn(we).replace(Ct,"")||"",Ge=Vn(St).replace(Ct,"")||"",Ot=bt.replace(yt,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),Bt=Ge.replace(yt,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),mt=parseInt(bt.match(Mn),16)||1!==Ot.length&&bt.match(An)&&Date.parse(bt),zt=parseInt(Ge.match(Mn),16)||mt&&Ge.match(An)&&Date.parse(Ge)||null;if(zt){if(mt<zt)return-1;if(mt>zt)return 1}for(var Jr=0,ds=Math.max(Ot.length,Bt.length);Jr<ds;Jr++){if(Yt=!(Ot[Jr]||"").match(Gn)&&parseFloat(Ot[Jr])||Ot[Jr]||0,nn=!(Bt[Jr]||"").match(Gn)&&parseFloat(Bt[Jr])||Bt[Jr]||0,isNaN(Yt)!==isNaN(nn))return isNaN(Yt)?1:-1;if(typeof Yt!=typeof nn&&(Yt+="",nn+=""),Yt<nn)return-1;if(Yt>nn)return 1}return 0}},6499:(gr,Kn,we)=>{var St=we(720),yt=we(9049),Ct=we(3147),An=we(7495),Mn=we(2773),Gn=we(5993),Vn=we(6973);Vn.alea=St,Vn.xor128=yt,Vn.xorwow=Ct,Vn.xorshift7=An,Vn.xor4096=Mn,Vn.tychei=Gn,gr.exports=Vn},720:function(gr,Kn,we){var St;!function(yt,Ct,An){function Mn(Ge){var Ot=this,Bt=function bt(){var Ge=4022871197;return function(Bt){Bt=String(Bt);for(var mt=0;mt<Bt.length;mt++){var zt=.02519603282416938*(Ge+=Bt.charCodeAt(mt));zt-=Ge=zt>>>0,Ge=(zt*=Ge)>>>0,Ge+=4294967296*(zt-=Ge)}return 2.3283064365386963e-10*(Ge>>>0)}}();Ot.next=function(){var mt=2091639*Ot.s0+2.3283064365386963e-10*Ot.c;return Ot.s0=Ot.s1,Ot.s1=Ot.s2,Ot.s2=mt-(Ot.c=0|mt)},Ot.c=1,Ot.s0=Bt(" "),Ot.s1=Bt(" "),Ot.s2=Bt(" "),Ot.s0-=Bt(Ge),Ot.s0<0&&(Ot.s0+=1),Ot.s1-=Bt(Ge),Ot.s1<0&&(Ot.s1+=1),Ot.s2-=Bt(Ge),Ot.s2<0&&(Ot.s2+=1),Bt=null}function Gn(Ge,Ot){return Ot.c=Ge.c,Ot.s0=Ge.s0,Ot.s1=Ge.s1,Ot.s2=Ge.s2,Ot}function Vn(Ge,Ot){var Bt=new Mn(Ge),mt=Ot&&Ot.state,zt=Bt.next;return zt.int32=function(){return 4294967296*Bt.next()|0},zt.double=function(){return zt()+11102230246251565e-32*(2097152*zt()|0)},zt.quick=zt,mt&&("object"==typeof mt&&Gn(mt,Bt),zt.state=function(){return Gn(Bt,{})}),zt}Ct&&Ct.exports?Ct.exports=Vn:we.amdD&&we.amdO?void 0!==(St=function(){return Vn}.call(Kn,we,Kn,Ct))&&(Ct.exports=St):this.alea=Vn}(0,gr=we.nmd(gr))},5993:function(gr,Kn,we){var St;!function(yt,Ct,An){function Mn(bt){var Ge=this,Ot="";Ge.next=function(){var mt=Ge.b,zt=Ge.c,Yt=Ge.d,nn=Ge.a;return mt=mt<<25^mt>>>7^zt,zt=zt-Yt|0,Yt=Yt<<24^Yt>>>8^nn,nn=nn-mt|0,Ge.b=mt=mt<<20^mt>>>12^zt,Ge.c=zt=zt-Yt|0,Ge.d=Yt<<16^zt>>>16^nn,Ge.a=nn-mt|0},Ge.a=0,Ge.b=0,Ge.c=-1640531527,Ge.d=1367130551,bt===Math.floor(bt)?(Ge.a=bt/4294967296|0,Ge.b=0|bt):Ot+=bt;for(var Bt=0;Bt<Ot.length+20;Bt++)Ge.b^=0|Ot.charCodeAt(Bt),Ge.next()}function Gn(bt,Ge){return Ge.a=bt.a,Ge.b=bt.b,Ge.c=bt.c,Ge.d=bt.d,Ge}function Vn(bt,Ge){var Ot=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Ot.next()>>>0)/4294967296};return mt.double=function(){do{var nn=((Ot.next()>>>11)+(Ot.next()>>>0)/4294967296)/(1<<21)}while(0===nn);return nn},mt.int32=Ot.next,mt.quick=mt,Bt&&("object"==typeof Bt&&Gn(Bt,Ot),mt.state=function(){return Gn(Ot,{})}),mt}Ct&&Ct.exports?Ct.exports=Vn:we.amdD&&we.amdO?void 0!==(St=function(){return Vn}.call(Kn,we,Kn,Ct))&&(Ct.exports=St):this.tychei=Vn}(0,gr=we.nmd(gr))},9049:function(gr,Kn,we){var St;!function(yt,Ct,An){function Mn(bt){var Ge=this,Ot="";Ge.x=0,Ge.y=0,Ge.z=0,Ge.w=0,Ge.next=function(){var mt=Ge.x^Ge.x<<11;return Ge.x=Ge.y,Ge.y=Ge.z,Ge.z=Ge.w,Ge.w^=Ge.w>>>19^mt^mt>>>8},bt===(0|bt)?Ge.x=bt:Ot+=bt;for(var Bt=0;Bt<Ot.length+64;Bt++)Ge.x^=0|Ot.charCodeAt(Bt),Ge.next()}function Gn(bt,Ge){return Ge.x=bt.x,Ge.y=bt.y,Ge.z=bt.z,Ge.w=bt.w,Ge}function Vn(bt,Ge){var Ot=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Ot.next()>>>0)/4294967296};return mt.double=function(){do{var nn=((Ot.next()>>>11)+(Ot.next()>>>0)/4294967296)/(1<<21)}while(0===nn);return nn},mt.int32=Ot.next,mt.quick=mt,Bt&&("object"==typeof Bt&&Gn(Bt,Ot),mt.state=function(){return Gn(Ot,{})}),mt}Ct&&Ct.exports?Ct.exports=Vn:we.amdD&&we.amdO?void 0!==(St=function(){return Vn}.call(Kn,we,Kn,Ct))&&(Ct.exports=St):this.xor128=Vn}(0,gr=we.nmd(gr))},2773:function(gr,Kn,we){var St;!function(yt,Ct,An){function Mn(bt){var Ge=this;Ge.next=function(){var Yt,nn,Bt=Ge.w,mt=Ge.X,zt=Ge.i;return Ge.w=Bt=Bt+1640531527|0,nn=mt[zt+34&127],Yt=mt[zt=zt+1&127],nn^=nn<<13,Yt^=Yt<<17,nn=mt[zt]=(nn^=nn>>>15)^(Yt^=Yt>>>12),Ge.i=zt,nn+(Bt^Bt>>>16)|0},function Ot(Bt,mt){var zt,Yt,nn,Jr,ds,Hs=[],Is=128;for(mt===(0|mt)?(Yt=mt,mt=null):(mt+="\0",Yt=0,Is=Math.max(Is,mt.length)),nn=0,Jr=-32;Jr<Is;++Jr)mt&&(Yt^=mt.charCodeAt((Jr+32)%mt.length)),0===Jr&&(ds=Yt),Yt^=Yt<<10,Yt^=Yt>>>15,Yt^=Yt<<4,Yt^=Yt>>>13,Jr>=0&&(nn=0==(zt=Hs[127&Jr]^=Yt+(ds=ds+1640531527|0))?nn+1:0);for(nn>=128&&(Hs[127&(mt&&mt.length||0)]=-1),nn=127,Jr=512;Jr>0;--Jr)Yt=Hs[nn+34&127],zt=Hs[nn=nn+1&127],Yt^=Yt<<13,zt^=zt<<17,Hs[nn]=(Yt^=Yt>>>15)^(zt^=zt>>>12);Bt.w=ds,Bt.X=Hs,Bt.i=nn}(Ge,bt)}function Gn(bt,Ge){return Ge.i=bt.i,Ge.w=bt.w,Ge.X=bt.X.slice(),Ge}function Vn(bt,Ge){null==bt&&(bt=+new Date);var Ot=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Ot.next()>>>0)/4294967296};return mt.double=function(){do{var nn=((Ot.next()>>>11)+(Ot.next()>>>0)/4294967296)/(1<<21)}while(0===nn);return nn},mt.int32=Ot.next,mt.quick=mt,Bt&&(Bt.X&&Gn(Bt,Ot),mt.state=function(){return Gn(Ot,{})}),mt}Ct&&Ct.exports?Ct.exports=Vn:we.amdD&&we.amdO?void 0!==(St=function(){return Vn}.call(Kn,we,Kn,Ct))&&(Ct.exports=St):this.xor4096=Vn}(0,gr=we.nmd(gr))},7495:function(gr,Kn,we){var St;!function(yt,Ct,An){function Mn(bt){var Ge=this;Ge.next=function(){var zt,Yt,Bt=Ge.x,mt=Ge.i;return zt=Bt[mt],Yt=(zt^=zt>>>7)^zt<<24,Yt^=(zt=Bt[mt+1&7])^zt>>>10,Yt^=(zt=Bt[mt+3&7])^zt>>>3,Yt^=(zt=Bt[mt+4&7])^zt<<7,zt=Bt[mt+7&7],Bt[mt]=Yt^=(zt^=zt<<13)^zt<<9,Ge.i=mt+1&7,Yt},function Ot(Bt,mt){var zt,nn=[];if(mt===(0|mt))nn[0]=mt;else for(mt=""+mt,zt=0;zt<mt.length;++zt)nn[7&zt]=nn[7&zt]<<15^mt.charCodeAt(zt)+nn[zt+1&7]<<13;for(;nn.length<8;)nn.push(0);for(zt=0;zt<8&&0===nn[zt];++zt);for(8==zt&&(nn[7]=-1),Bt.x=nn,Bt.i=0,zt=256;zt>0;--zt)Bt.next()}(Ge,bt)}function Gn(bt,Ge){return Ge.x=bt.x.slice(),Ge.i=bt.i,Ge}function Vn(bt,Ge){null==bt&&(bt=+new Date);var Ot=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Ot.next()>>>0)/4294967296};return mt.double=function(){do{var nn=((Ot.next()>>>11)+(Ot.next()>>>0)/4294967296)/(1<<21)}while(0===nn);return nn},mt.int32=Ot.next,mt.quick=mt,Bt&&(Bt.x&&Gn(Bt,Ot),mt.state=function(){return Gn(Ot,{})}),mt}Ct&&Ct.exports?Ct.exports=Vn:we.amdD&&we.amdO?void 0!==(St=function(){return Vn}.call(Kn,we,Kn,Ct))&&(Ct.exports=St):this.xorshift7=Vn}(0,gr=we.nmd(gr))},3147:function(gr,Kn,we){var St;!function(yt,Ct,An){function Mn(bt){var Ge=this,Ot="";Ge.next=function(){var mt=Ge.x^Ge.x>>>2;return Ge.x=Ge.y,Ge.y=Ge.z,Ge.z=Ge.w,Ge.w=Ge.v,(Ge.d=Ge.d+362437|0)+(Ge.v=Ge.v^Ge.v<<4^mt^mt<<1)|0},Ge.x=0,Ge.y=0,Ge.z=0,Ge.w=0,Ge.v=0,bt===(0|bt)?Ge.x=bt:Ot+=bt;for(var Bt=0;Bt<Ot.length+64;Bt++)Ge.x^=0|Ot.charCodeAt(Bt),Bt==Ot.length&&(Ge.d=Ge.x<<10^Ge.x>>>4),Ge.next()}function Gn(bt,Ge){return Ge.x=bt.x,Ge.y=bt.y,Ge.z=bt.z,Ge.w=bt.w,Ge.v=bt.v,Ge.d=bt.d,Ge}function Vn(bt,Ge){var Ot=new Mn(bt),Bt=Ge&&Ge.state,mt=function(){return(Ot.next()>>>0)/4294967296};return mt.double=function(){do{var nn=((Ot.next()>>>11)+(Ot.next()>>>0)/4294967296)/(1<<21)}while(0===nn);return nn},mt.int32=Ot.next,mt.quick=mt,Bt&&("object"==typeof Bt&&Gn(Bt,Ot),mt.state=function(){return Gn(Ot,{})}),mt}Ct&&Ct.exports?Ct.exports=Vn:we.amdD&&we.amdO?void 0!==(St=function(){return Vn}.call(Kn,we,Kn,Ct))&&(Ct.exports=St):this.xorwow=Vn}(0,gr=we.nmd(gr))},6973:function(gr,Kn,we){var St;!function(yt,Ct,An){var zt,Mn=256,Ge=An.pow(Mn,6),Ot=An.pow(2,52),Bt=2*Ot,mt=Mn-1;function Yt(mr,Oi,po){var Ds=[],Pi=Hs(ds((Oi=1==Oi?{entropy:!0}:Oi||{}).entropy?[mr,ga(Ct)]:mr??function Is(){try{var mr;return zt&&(mr=zt.randomBytes)?mr=mr(Mn):(mr=new Uint8Array(Mn),(yt.crypto||yt.msCrypto).getRandomValues(mr)),ga(mr)}catch{var Oi=yt.navigator,po=Oi&&Oi.plugins;return[+new Date,yt,po,yt.screen,ga(Ct)]}}(),3),Ds),fi=new nn(Ds),bi=function(){for(var ma=fi.g(6),Ja=Ge,va=0;ma<Ot;)ma=(ma+va)*Mn,Ja*=Mn,va=fi.g(1);for(;ma>=Bt;)ma/=2,Ja/=2,va>>>=1;return(ma+va)/Ja};return bi.int32=function(){return 0|fi.g(4)},bi.quick=function(){return fi.g(4)/4294967296},bi.double=bi,Hs(ga(fi.S),Ct),(Oi.pass||po||function(ma,Ja,va,Za){return Za&&(Za.S&&Jr(Za,fi),ma.state=function(){return Jr(fi,{})}),va?(An.random=ma,Ja):ma})(bi,Pi,"global"in Oi?Oi.global:this==An,Oi.state)}function nn(mr){var Oi,po=mr.length,Ds=this,Pi=0,fi=Ds.i=Ds.j=0,bi=Ds.S=[];for(po||(mr=[po++]);Pi<Mn;)bi[Pi]=Pi++;for(Pi=0;Pi<Mn;Pi++)bi[Pi]=bi[fi=mt&fi+mr[Pi%po]+(Oi=bi[Pi])],bi[fi]=Oi;(Ds.g=function(ma){for(var Ja,va=0,Za=Ds.i,mh=Ds.j,eu=Ds.S;ma--;)Ja=eu[Za=mt&Za+1],va=va*Mn+eu[mt&(eu[Za]=eu[mh=mt&mh+Ja])+(eu[mh]=Ja)];return Ds.i=Za,Ds.j=mh,va})(Mn)}function Jr(mr,Oi){return Oi.i=mr.i,Oi.j=mr.j,Oi.S=mr.S.slice(),Oi}function ds(mr,Oi){var Pi,po=[],Ds=typeof mr;if(Oi&&"object"==Ds)for(Pi in mr)try{po.push(ds(mr[Pi],Oi-1))}catch{}return po.length?po:"string"==Ds?mr:mr+"\0"}function Hs(mr,Oi){for(var Ds,po=mr+"",Pi=0;Pi<po.length;)Oi[mt&Pi]=mt&(Ds^=19*Oi[mt&Pi])+po.charCodeAt(Pi++);return ga(Oi)}function ga(mr){return String.fromCharCode.apply(0,mr)}if(Hs(An.random(),Ct),gr.exports){gr.exports=Yt;try{zt=we(1234)}catch{}}else void 0!==(St=function(){return Yt}.call(Kn,we,Kn,gr))&&(gr.exports=St)}(typeof self<"u"?self:this,[],Math)},3443:gr=>{void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var Kn=Kn||function(){var we=[];return{REVISION:"8",getAll:function(){return we},removeAll:function(){we=[]},add:function(St){we.push(St)},remove:function(St){var yt=we.indexOf(St);-1!==yt&&we.splice(yt,1)},update:function(St){if(0===we.length)return!1;var yt=0,Ct=we.length;for(St=void 0!==St?St:Date.now();yt<Ct;)we[yt].update(St)?yt++:(we.splice(yt,1),Ct--);return!0}}}();Kn.Tween=function(we){var St=we,yt={},Ct={},An=1e3,Mn=0,Gn=null,Vn=Kn.Easing.Linear.None,bt=Kn.Interpolation.Linear,Ge=[],Ot=null,Bt=!1,mt=null,zt=null;this.to=function(Yt,nn){return void 0!==nn&&(An=nn),Ct=Yt,this},this.start=function(Yt){for(var nn in Kn.add(this),Bt=!1,Gn=void 0!==Yt?Yt:Date.now(),Gn+=Mn,Ct)if(null!==St[nn]&&nn in St){if(Ct[nn]instanceof Array){if(0===Ct[nn].length)continue;Ct[nn]=[St[nn]].concat(Ct[nn])}yt[nn]=St[nn]}return this},this.stop=function(){return Kn.remove(this),this},this.delay=function(Yt){return Mn=Yt,this},this.easing=function(Yt){return Vn=Yt,this},this.interpolation=function(Yt){return bt=Yt,this},this.chain=function(){return Ge=arguments,this},this.onStart=function(Yt){return Ot=Yt,this},this.onUpdate=function(Yt){return mt=Yt,this},this.onComplete=function(Yt){return zt=Yt,this},this.update=function(Yt){if(Yt<Gn)return!0;!1===Bt&&(null!==Ot&&Ot.call(St),Bt=!0);var nn=(Yt-Gn)/An,Jr=Vn(nn=nn>1?1:nn);for(var ds in yt){var Hs=yt[ds],Is=Ct[ds];St[ds]=Is instanceof Array?bt(Is,Jr):Hs+(Is-Hs)*Jr}if(null!==mt&&mt.call(St,Jr),1==nn){null!==zt&&zt.call(St);for(var ga=0,mr=Ge.length;ga<mr;ga++)Ge[ga].start(Yt);return!1}return!0}},Kn.Easing={Linear:{None:function(we){return we}},Quadratic:{In:function(we){return we*we},Out:function(we){return we*(2-we)},InOut:function(we){return(we*=2)<1?.5*we*we:-.5*(--we*(we-2)-1)}},Cubic:{In:function(we){return we*we*we},Out:function(we){return--we*we*we+1},InOut:function(we){return(we*=2)<1?.5*we*we*we:.5*((we-=2)*we*we+2)}},Quartic:{In:function(we){return we*we*we*we},Out:function(we){return 1- --we*we*we*we},InOut:function(we){return(we*=2)<1?.5*we*we*we*we:-.5*((we-=2)*we*we*we-2)}},Quintic:{In:function(we){return we*we*we*we*we},Out:function(we){return--we*we*we*we*we+1},InOut:function(we){return(we*=2)<1?.5*we*we*we*we*we:.5*((we-=2)*we*we*we*we+2)}},Sinusoidal:{In:function(we){return 1-Math.cos(we*Math.PI/2)},Out:function(we){return Math.sin(we*Math.PI/2)},InOut:function(we){return.5*(1-Math.cos(Math.PI*we))}},Exponential:{In:function(we){return 0===we?0:Math.pow(1024,we-1)},Out:function(we){return 1===we?1:1-Math.pow(2,-10*we)},InOut:function(we){return 0===we?0:1===we?1:(we*=2)<1?.5*Math.pow(1024,we-1):.5*(2-Math.pow(2,-10*(we-1)))}},Circular:{In:function(we){return 1-Math.sqrt(1-we*we)},Out:function(we){return Math.sqrt(1- --we*we)},InOut:function(we){return(we*=2)<1?-.5*(Math.sqrt(1-we*we)-1):.5*(Math.sqrt(1-(we-=2)*we)+1)}},Elastic:{In:function(we){var St,yt=.1;return 0===we?0:1===we?1:(!yt||yt<1?(yt=1,St=.1):St=.4*Math.asin(1/yt)/(2*Math.PI),-yt*Math.pow(2,10*(we-=1))*Math.sin((we-St)*(2*Math.PI)/.4))},Out:function(we){var St,yt=.1;return 0===we?0:1===we?1:(!yt||yt<1?(yt=1,St=.1):St=.4*Math.asin(1/yt)/(2*Math.PI),yt*Math.pow(2,-10*we)*Math.sin((we-St)*(2*Math.PI)/.4)+1)},InOut:function(we){var St,yt=.1;return 0===we?0:1===we?1:(!yt||yt<1?(yt=1,St=.1):St=.4*Math.asin(1/yt)/(2*Math.PI),(we*=2)<1?yt*Math.pow(2,10*(we-=1))*Math.sin((we-St)*(2*Math.PI)/.4)*-.5:yt*Math.pow(2,-10*(we-=1))*Math.sin((we-St)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(we){return we*we*(2.70158*we-1.70158)},Out:function(we){return--we*we*(2.70158*we+1.70158)+1},InOut:function(we){var St=2.5949095;return(we*=2)<1?we*we*((St+1)*we-St)*.5:.5*((we-=2)*we*((St+1)*we+St)+2)}},Bounce:{In:function(we){return 1-Kn.Easing.Bounce.Out(1-we)},Out:function(we){return we<1/2.75?7.5625*we*we:we<2/2.75?7.5625*(we-=1.5/2.75)*we+.75:we<2.5/2.75?7.5625*(we-=2.25/2.75)*we+.9375:7.5625*(we-=2.625/2.75)*we+.984375},InOut:function(we){return we<.5?.5*Kn.Easing.Bounce.In(2*we):.5*Kn.Easing.Bounce.Out(2*we-1)+.5}}},Kn.Interpolation={Linear:function(we,St){var yt=we.length-1,Ct=yt*St,An=Math.floor(Ct),Mn=Kn.Interpolation.Utils.Linear;return St<0?Mn(we[0],we[1],Ct):St>1?Mn(we[yt],we[yt-1],yt-Ct):Mn(we[An],we[An+1>yt?yt:An+1],Ct-An)},Bezier:function(we,St){var Gn,yt=0,Ct=we.length-1,An=Math.pow,Mn=Kn.Interpolation.Utils.Bernstein;for(Gn=0;Gn<=Ct;Gn++)yt+=An(1-St,Ct-Gn)*An(St,Gn)*we[Gn]*Mn(Ct,Gn);return yt},CatmullRom:function(we,St){var yt=we.length-1,Ct=yt*St,An=Math.floor(Ct),Mn=Kn.Interpolation.Utils.CatmullRom;return we[0]===we[yt]?(St<0&&(An=Math.floor(Ct=yt*(1+St))),Mn(we[(An-1+yt)%yt],we[An],we[(An+1)%yt],we[(An+2)%yt],Ct-An)):St<0?we[0]-(Mn(we[0],we[0],we[1],we[1],-Ct)-we[0]):St>1?we[yt]-(Mn(we[yt],we[yt],we[yt-1],we[yt-1],Ct-yt)-we[yt]):Mn(we[An?An-1:0],we[An],we[yt<An+1?yt:An+1],we[yt<An+2?yt:An+2],Ct-An)},Utils:{Linear:function(we,St,yt){return(St-we)*yt+we},Bernstein:function(we,St){var yt=Kn.Interpolation.Utils.Factorial;return yt(we)/yt(St)/yt(we-St)},Factorial:function(){var we=[1];return function(St){var Ct,yt=1;if(we[St])return we[St];for(Ct=St;Ct>1;Ct--)yt*=Ct;return we[St]=yt}}(),CatmullRom:function(we,St,yt,Ct,An){var Mn=.5*(yt-we),Gn=.5*(Ct-St),Vn=An*An;return(2*St-2*yt+Mn+Gn)*(An*Vn)+(-3*St+3*yt-2*Mn-Gn)*Vn+Mn*An+St}}},gr.exports=Kn},5210:(gr,Kn,we)=>{"use strict";var St={};we.r(St),we.d(St,{Decoder:()=>gH,Encoder:()=>WOe,PacketType:()=>Xi,protocol:()=>qOe});var yt=we(3308);let An=null,Mn=!1,Gn=1;const Vn=Symbol("SIGNAL");function bt(n){const e=An;return An=n,e}const mt={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zt(n){if(Mn)throw new Error("");if(null===An)return;An.consumerOnSignalRead(n);const e=An.nextProducerIndex++;fi(An),e<An.producerNode.length&&An.producerNode[e]!==n&&Pi(An)&&Ds(An.producerNode[e],An.producerIndexOfThis[e]),An.producerNode[e]!==n&&(An.producerNode[e]=n,An.producerIndexOfThis[e]=Pi(An)?po(n,An,e):0),An.producerLastReadVersion[e]=n.version}function nn(n){if((!Pi(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==Gn)){if(!n.producerMustRecompute(n)&&!mr(n))return n.dirty=!1,void(n.lastCleanEpoch=Gn);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Gn}}function Jr(n){if(void 0===n.liveConsumerNode)return;const e=Mn;Mn=!0;try{for(const t of n.liveConsumerNode)t.dirty||Hs(t)}finally{Mn=e}}function ds(){return!1!==An?.consumerAllowSignalWrites}function Hs(n){n.dirty=!0,Jr(n),n.consumerMarkedDirty?.(n)}function mr(n){fi(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(nn(t),r!==t.version))return!0}return!1}function po(n,e,t){if(bi(n),fi(n),0===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=po(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ds(n,e){if(bi(n),fi(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Ds(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];fi(i),i.producerIndexOfThis[r]=e}}function Pi(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function fi(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function bi(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}let yd=function eu(){throw new Error};function Vp(){yd()}let _d=null;function bd(n,e){ds()||Vp(),n.equal(n.value,e)||(n.value=e,function ft(n){n.version++,function Yt(){Gn++}(),Jr(n),_d?.()}(n))}const Gp={...mt,equal:function Ct(n,e){return Object.is(n,e)},value:void 0};function dn(n){return"function"==typeof n}function Vs(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const li=Vs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ti(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class mi{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(dn(r))try{r()}catch(s){e=s instanceof li?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{jl(s)}catch(o){e=e??[],o instanceof li?e=[...e,...o.errors]:e.push(o)}}if(e)throw new li(e)}}add(e){var t;if(e&&e!==this)if(this.closed)jl(e);else{if(e instanceof mi){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ti(t,e)}remove(e){const{_finalizers:t}=this;t&&Ti(t,e),e instanceof mi&&e._removeParent(this)}}mi.EMPTY=(()=>{const n=new mi;return n.closed=!0,n})();const bc=mi.EMPTY;function Uu(n){return n instanceof mi||n&&"closed"in n&&dn(n.remove)&&dn(n.add)&&dn(n.unsubscribe)}function jl(n){dn(n)?n():n.unsubscribe()}const el={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bo={setTimeout(n,e,...t){const{delegate:r}=bo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=bo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ql(n){bo.setTimeout(()=>{const{onUnhandledError:e}=el;if(!e)throw n;e(n)})}function Qs(){}const vh=He("C",void 0,void 0);function He(n,e,t){return{kind:n,value:e,error:t}}let Je=null;function ct(n){if(el.useDeprecatedSynchronousErrorHandling){const e=!Je;if(e&&(Je={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Je;if(Je=null,t)throw r}}else n()}class qt extends mi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Uu(e)&&e.add(this)):this.destination=ao}static create(e,t,r){return new xn(e,t,r)}next(e){this.isStopped?Gi(function yh(n){return He("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Gi(function mA(n){return He("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gi(vh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ht=Function.prototype.bind;function Cn(n,e){return Ht.call(n,e)}class en{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Jt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Jt(r)}else Jt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Jt(t)}}}class xn extends qt{constructor(e,t,r){let i;if(super(),dn(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&el.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Cn(e.next,s),error:e.error&&Cn(e.error,s),complete:e.complete&&Cn(e.complete,s)}):i=e}this.destination=new en(i)}}function Jt(n){el.useDeprecatedSynchronousErrorHandling?function Rt(n){el.useDeprecatedSynchronousErrorHandling&&Je&&(Je.errorThrown=!0,Je.error=n)}(n):ql(n)}function Gi(n,e){const{onStoppedNotification:t}=el;t&&bo.setTimeout(()=>t(n,e))}const ao={closed:!0,next:Qs,error:function Li(n){throw n},complete:Qs},ko="function"==typeof Symbol&&Symbol.observable||"@@observable";function As(n){return n}function Pa(n){return 0===n.length?As:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let di=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function dw(n){return n&&n instanceof qt||function hy(n){return n&&dn(n.next)&&dn(n.error)&&dn(n.complete)}(n)&&Uu(n)}(t)?t:new xn(t,r,i);return ct(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Af(r))((i,s)=>{const o=new xn({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[ko](){return this}pipe(...t){return Pa(t)(this)}toPromise(t){return new(t=Af(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Af(n){var e;return null!==(e=n??el.Promise)&&void 0!==e?e:Promise}const Aw=Vs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Lr=(()=>{class n extends di{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new ci(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Aw}next(t){ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?bc:(this.currentObservers=null,s.push(t),new mi(()=>{this.currentObservers=null,Ti(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new di;return t.source=this,t}}return n.create=(e,t)=>new ci(e,t),n})();class ci extends Lr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:bc}}class as extends Lr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function jp(n){return dn(n?.lift)}function ji(n){return e=>{if(jp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function qi(n,e,t,r,i){return new fy(n,e,t,r,i)}class fy extends qt{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Qr(n,e){return ji((t,r)=>{let i=0;t.subscribe(qi(r,s=>{r.next(n.call(e,s,i++))}))})}const qp=Vs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ys(n,e){return ji((t,r)=>{let i=0;t.subscribe(qi(r,s=>n.call(e,s,i++)&&r.next(s)))})}const wl=new di(n=>n.complete());function wo(n){return n<=0?()=>wl:ji((e,t)=>{let r=0;e.subscribe(qi(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Wp(n){return ji((e,t)=>{let r=!1;e.subscribe(qi(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function dy(n=pw){return ji((e,t)=>{let r=!1;e.subscribe(qi(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function pw(){return new qp}function _h(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ys((i,s)=>n(i,s,r)):As,wo(1),t?Wp(e):dy(()=>new qp))}const Ay="https://g.co/ng/security#xss";class dt extends Error{constructor(e,t){super(function ku(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Fs(n){return{toString:n}.toString()}const Hu="__parameters__";function gf(n,e,t){return Fs(()=>{const r=function Xp(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const h=l.hasOwnProperty(Hu)?l[Hu]:Object.defineProperty(l,Hu,{value:[]})[Hu];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}const ls=globalThis;function ps(n){for(let e in n)if(n[e]===ps)return e;throw Error("Could not find renamed property on target object.")}function gR(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ea(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ea).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function gw(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const vR=ps({__forward_ref__:ps});function cs(n){return n.__forward_ref__=cs,n.toString=function(){return ea(this())},n}function or(n){return my(n)?n():n}function my(n){return"function"==typeof n&&n.hasOwnProperty(vR)&&n.__forward_ref__===cs}function bh(n,e,t){n!=e&&function hr(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(t,n,e,"==")}function Lt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ym(n){return mw(n,ta)||mw(n,vA)}function mw(n,e){return n.hasOwnProperty(e)?n[e]:null}function vy(n){return n&&(n.hasOwnProperty(vw)||n.hasOwnProperty(SR))?n[vw]:null}const ta=ps({\u0275prov:ps}),vw=ps({\u0275inj:ps}),vA=ps({ngInjectableDef:ps}),SR=ps({ngInjectorDef:ps});class bn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Lt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Cw(n){return n&&!!n.\u0275providers}const Zm=ps({\u0275cmp:ps}),xw=ps({\u0275dir:ps}),Ew=ps({\u0275pipe:ps}),s2=ps({\u0275mod:ps}),vf=ps({\u0275fac:ps}),ev=ps({__NG_ELEMENT_ID__:ps}),o2=ps({__NG_ENV_ID__:ps});function Tr(n){return"string"==typeof n?n:null==n?"":String(n)}function Sw(n,e){throw new dt(-201,!1)}var vi=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(vi||{});let Dw;function a2(){return Dw}function $l(n){const e=Dw;return Dw=n,e}function _y(n,e,t){const r=Ym(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&vi.Optional?null:void 0!==e?e:void Sw()}const yf={},wd="__NG_DI_FLAG__",es="ngTempTokenPath",Mw=/\n/gm,_A="__source";let Cl;function xl(n){const e=Cl;return Cl=n,e}function Ho(n,e=vi.Default){if(void 0===Cl)throw new dt(-203,!1);return null===Cl?_y(n,void 0,e):Cl.get(n,e&vi.Optional?null:void 0,e)}function Wt(n,e=vi.Default){return(a2()||Ho)(or(n),e)}function Ve(n,e=vi.Default){return Wt(n,Vu(e))}function Vu(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function bA(n){const e=[];for(let t=0;t<n.length;t++){const r=or(n[t]);if(Array.isArray(r)){if(0===r.length)throw new dt(900,!1);let i,s=vi.Default;for(let o=0;o<r.length;o++){const a=r[o],l=c2(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(Wt(i,s))}else e.push(Wt(r))}return e}function us(n,e){return n[wd]=e,n.prototype[wd]=e,n}function c2(n){return n[wd]}const wA=us(gf("Optional"),8),tv=us(gf("SkipSelf"),4);function Kl(n,e){return n.hasOwnProperty(vf)?n[vf]:null}function xc(n,e){n.forEach(t=>Array.isArray(t)?xc(t,e):e(t))}function Tw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function nv(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ec(n,e,t){let r=_f(n,e);return r>=0?n[1|r]=t:(r=~r,function eg(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Bw(n,e){const t=_f(n,e);if(t>=0)return n[1|t]}function _f(n,e){return function A2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const wh={},Ur=[],bf=new bn(""),p2=new bn("",-1),Nw=new bn("");class CA{get(e,t=yf){if(t===yf){const r=new Error(`NullInjectorError: No provider for ${ea(e)}!`);throw r.name="NullInjectorError",r}return t}}var wy=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(wy||{}),iu=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(iu||{}),Fr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Fr||{});function g2(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Cy(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Fw(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Iw(n){return 3===n||4===n||6===n}function Fw(n){return 64===n.charCodeAt(0)}function tg(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Rw(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Rw(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const m2="ng-template";function xy(n,e,t,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==g2(e[i+1].toLowerCase(),t,0))return!0}else if(Ow(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&"string"==typeof(s=e[i]);)if(s.toLowerCase()===t)return!0}return!1}function Ow(n){return 4===n.type&&n.value!==m2}function RR(n,e,t){return e===(4!==n.type||t?n.value:m2)}function Pw(n,e,t){let r=4;const i=n.attrs,s=null!==i?function PR(n){for(let e=0;e<n.length;e++)if(Iw(n[e]))return e;return n.length}(i):0;let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!RR(n,l,t)||""===l&&1===e.length){if(Qu(r))return!1;o=!0}}else if(8&r){if(null===i||!xy(n,i,l,t)){if(Qu(r))return!1;o=!0}}else{const c=e[++a],u=v2(l,i,Ow(n),t);if(-1===u){if(Qu(r))return!1;o=!0;continue}if(""!==c){let h;if(h=u>s?"":i[u+1].toLowerCase(),2&r&&c!==h){if(Qu(r))return!1;o=!0}}}}else{if(!o&&!Qu(r)&&!Qu(l))return!1;if(o&&Qu(l))continue;o=!1,r=l|1&r}}return Qu(r)||o}function Qu(n){return!(1&n)}function v2(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function LR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function y2(n,e,t=!1){for(let r=0;r<e.length;r++)if(Pw(n,e[r],t))return!0;return!1}function UR(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function ng(n,e){return n?":not("+e.trim()+")":e}function kR(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Qu(o)&&(e+=ng(s,i),i=""),r=o,s=s||!Qu(r);t++}return""!==i&&(e+=ng(s,i)),e}function ar(n){return Fs(()=>{const e=_2(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===wy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||iu.Emulated,styles:n.styles||Ur,_:null,schemas:n.schemas||null,tView:null,id:""};b2(t);const r=n.dependencies;return t.directiveDefs=xA(r,!1),t.pipeDefs=xA(r,!0),t.id=function GR(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function VR(n){return ui(n)||na(n)}function QR(n){return null!==n}function Zr(n){return Fs(()=>({type:n.type,bootstrap:n.bootstrap||Ur,declarations:n.declarations||Ur,imports:n.imports||Ur,exports:n.exports||Ur,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function rv(n,e){if(null==n)return wh;const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];let s,o,a=Fr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==Fr.None?[r,a]:r,e[s]=o):t[s]=r}return t}function mn(n){return Fs(()=>{const e=_2(n);return b2(e),e})}function Xl(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ui(n){return n[Zm]||null}function na(n){return n[xw]||null}function Vo(n){return n[Ew]||null}function tl(n,e){const t=n[s2]||null;if(!t&&!0===e)throw new Error(`Type ${ea(n)} does not have '\u0275mod' property.`);return t}function _2(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||wh,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ur,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rv(n.inputs,e),outputs:rv(n.outputs),debugInfo:null}}function b2(n){n.features?.forEach(e=>e(n))}function xA(n,e){if(!n)return null;const t=e?Vo:VR;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(QR)}function rg(n){return{\u0275providers:n}}function jR(...n){return{\u0275providers:Lw(0,n),\u0275fromNgModule:!0}}function Lw(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return xc(e,o=>{const a=o;Sy(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&w2(i,s),t}function w2(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Uw(i,s=>{e(s,r)})}}function Sy(n,e,t,r){if(!(n=or(n)))return!1;let i=null,s=vy(n);const o=!s&&ui(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=vy(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Sy(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{xc(s.imports,u=>{Sy(u,e,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&w2(c,e)}if(!a){const c=Kl(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ur},i),e({provide:Nw,useValue:i,multi:!0},i),e({provide:bf,useValue:()=>Wt(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=n;Uw(l,u=>{e(u,c)})}}}return i!==n&&void 0!==n.providers}function Uw(n,e){for(let t of n)Cw(t)&&(t=t.\u0275providers),Array.isArray(t)?Uw(t,e):e(t)}const qR=ps({provide:String,useValue:ps});function iv(n){return null!==n&&"object"==typeof n&&qR in n}function Sd(n){return"function"==typeof n}const kw=new bn(""),ig={},Dy={};let Hw;function My(){return void 0===Hw&&(Hw=new CA),Hw}class La{}class sg extends La{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qw(e,o=>this.processProvider(o)),this.records.set(p2,og(void 0,this)),i.has("environment")&&this.records.set(La,og(void 0,this));const s=this.records.get(kw);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Nw,Ur,vi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=bt(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),bt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=xl(this),r=$l(void 0);try{return e()}finally{xl(t),$l(r)}}get(e,t=yf,r=vi.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(o2))return e[o2](this);r=Vu(r);const s=xl(this),o=$l(void 0);try{if(!(r&vi.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function YR(n){return"function"==typeof n||"object"==typeof n&&n instanceof bn}(e)&&Ym(e);l=c&&this.injectableDefInScope(c)?og(Vw(e),ig):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&vi.Self?My():this.parent).get(e,t=r&vi.Optional&&t===yf?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[es]=a[es]||[]).unshift(ea(e)),s)throw a;return function u2(n,e,t,r){const i=n[es];throw e[_A]&&i.unshift(e[_A]),n.message=function h2(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ea(e);if(Array.isArray(e))i=e.map(ea).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ea(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Mw,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[es]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{$l(o),xl(s)}}resolveInjectorInitializers(){const e=bt(null),t=xl(this),r=$l(void 0);try{const s=this.get(bf,Ur,vi.Self);for(const o of s)o()}finally{xl(t),$l(r),bt(e)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ea(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new dt(205,!1)}processProvider(e){let t=Sd(e=or(e))?e:or(e&&e.provide);const r=function Ty(n){return iv(n)?og(void 0,n.useValue):og(E2(n),ig)}(e);if(!Sd(e)&&!0===e.multi){let i=this.records.get(t);i||(i=og(void 0,ig,!0),i.factory=()=>bA(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){const r=bt(null);try{return t.value===ig&&(t.value=Dy,t.value=t.factory()),"object"==typeof t.value&&t.value&&function XR(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{bt(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=or(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Vw(n){const e=Ym(n),t=null!==e?e.factory:Kl(n);if(null!==t)return t;if(n instanceof bn)throw new dt(204,!1);if(n instanceof Function)return function $R(n){if(n.length>0)throw new dt(204,!1);const t=function ER(n){return n&&(n[ta]||n[vA])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new dt(204,!1)}function E2(n,e,t){let r;if(Sd(n)){const i=or(n);return Kl(i)||Vw(i)}if(iv(n))r=()=>or(n.useValue);else if(function x2(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...bA(n.deps||[]));else if(function C2(n){return!(!n||!n.useExisting)}(n))r=()=>Wt(or(n.useExisting));else{const i=or(n&&(n.useClass||n.provide));if(!function KR(n){return!!n.deps}(n))return Kl(i)||Vw(i);r=()=>new i(...bA(n.deps))}return r}function og(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Qw(n,e){for(const t of n)Array.isArray(t)?Qw(t,e):t&&Cw(t)?Qw(t.\u0275providers,e):e(t)}function Ch(n,e){n instanceof sg&&n.assertNotDestroyed();const r=xl(n),i=$l(void 0);try{return e()}finally{xl(r),$l(i)}}function S2(){return void 0!==a2()||null!=function IR(){return Cl}()}const lo=0,fn=1,er=2,Bo=3,gs=4,nl=5,Sc=6,lg=7,zs=8,zo=9,su=10,vr=11,av=12,T2=13,cg=14,go=15,lv=16,EA=17,En=18,uv=19,B2=20,xh=21,Dc=22,SA=23,Sr=25,DA=1,Dd=6,Eh=7,ug=9,Rs=10;var hv=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(hv||{});function _a(n){return Array.isArray(n)&&"object"==typeof n[DA]}function rl(n){return Array.isArray(n)&&!0===n[DA]}function Fy(n){return!!(4&n.flags)}function MA(n){return n.componentOffset>-1}function hg(n){return!(1&~n.flags)}function zu(n){return!!n.template}function Gw(n){return!!(512&n[er])}class L2{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Kw(n,e,t,r){null!==e?e.applyValueToInputSignal(e,r):n[t]=r}function No(){return U2}function U2(n){return n.type.prototype.ngOnChanges&&(n.setInput=pO),AO}function AO(){const n=Ry(this),e=n?.current;if(e){const t=n.previous;if(t===wh)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function pO(n,e,t,r,i){const s=this.declaredInputs[r],o=Ry(n)||function gO(n,e){return n[Mc]=e}(n,{previous:wh,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new L2(c&&c.currentValue,t,l===wh),Kw(n,e,i,t)}No.ngInherit=!0;const Mc="__ngSimpleChanges__";function Ry(n){return n[Mc]||null}const Sh=function(n,e,t){};let V2=!1;function ms(n){for(;Array.isArray(n);)n=n[lo];return n}function TA(n,e){return ms(e[n])}function il(n,e){return ms(e[n.index])}function wf(n,e){return n.data[e]}function fg(n,e){return n[e]}function Tc(n,e){const t=e[n];return _a(t)?t:t[lo]}function fv(n){return!(128&~n[er])}function Dh(n,e){return null==e?null:n[e]}function z2(n){n[EA]=0}function _O(n){1024&n[er]||(n[er]|=1024,fv(n)&&dv(n))}function Jw(n){return!!(9216&n[er]||n[SA]?.dirty)}function Zw(n){n[su].changeDetectionScheduler?.notify(1),Jw(n)?dv(n):64&n[er]&&(function vO(){return V2}()?(n[er]|=1024,dv(n)):n[su].changeDetectionScheduler?.notify())}function dv(n){n[su].changeDetectionScheduler?.notify();let e=Md(n);for(;null!==e&&!(8192&e[er])&&(e[er]|=8192,fv(e));)e=Md(e)}function Av(n,e){if(!(256&~n[er]))throw new dt(911,!1);null===n[xh]&&(n[xh]=[]),n[xh].push(e)}function Md(n){const e=n[Bo];return rl(e)?e[Bo]:e}const dr={lFrame:tD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pv(){return dr.bindingsEnabled}function Cf(){return null!==dr.skipHydrationRootTNode}function xt(){return dr.lFrame.lView}function yi(){return dr.lFrame.tView}function Ln(n){return dr.lFrame.contextLView=n,n[zs]}function Qn(n){return dr.lFrame.contextLView=null,n}function hs(){let n=$2();for(;null!==n&&64===n.type;)n=n.parent;return n}function $2(){return dr.lFrame.currentTNode}function gv(){const n=dr.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Gu(n,e){const t=dr.lFrame;t.currentTNode=n,t.isParent=e}function Td(){return dr.lFrame.isParent}function mv(){dr.lFrame.isParent=!1}function El(){const n=dr.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Bc(){return dr.lFrame.bindingIndex++}function Mh(n){const e=dr.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Uy(n){dr.lFrame.inI18n=n}function Y2(n,e){const t=dr.lFrame;t.bindingIndex=t.bindingRootIndex=n,nC(e)}function nC(n){dr.lFrame.currentDirectiveIndex=n}function Ag(){return dr.lFrame.currentQueryIndex}function vv(n){dr.lFrame.currentQueryIndex=n}function Z2(n){const e=n[fn];return 2===e.type?e.declTNode:1===e.type?n[nl]:null}function eD(n,e,t){if(t&vi.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&vi.Host||(i=Z2(s),null===i||(s=s[cg],10&i.type))););if(null===i)return!1;e=i,n=s}const r=dr.lFrame=rC();return r.currentTNode=e,r.lView=n,!0}function ky(n){const e=rC(),t=n[fn];dr.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function rC(){const n=dr.lFrame,e=null===n?null:n.child;return null===e?tD(n):e}function tD(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function nD(){const n=dr.lFrame;return dr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const BA=nD;function Hy(){const n=nD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Co(){return dr.lFrame.selectedIndex}function ou(n){dr.lFrame.selectedIndex=n}function Ui(){const n=dr.lFrame;return wf(n.tView,n.selectedIndex)}function iC(){return dr.lFrame.currentNamespace}let sC=!0;function NA(){return sC}function Yl(n){sC=n}function _v(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function IA(n,e,t){sD(n,e,3,t)}function Vy(n,e,t,r){(3&n[er])===t&&sD(n,e,t,r)}function oC(n,e){let t=n[er];(3&t)===e&&(t&=16383,t+=1,n[er]=t)}function sD(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[EA]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[EA]+=65536),(a<s||-1==s)&&(EO(n,t,e,l),n[EA]=(4294901760&n[EA])+l+2),l++}function oD(n,e){Sh(4,n,e);const t=bt(null);try{e.call(n)}finally{bt(t),Sh(5,n,e)}}function EO(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[er]>>14<n[EA]>>16&&(3&n[er])===e&&(n[er]+=16384,oD(a,s)):oD(a,s)}const Bd=-1;class bv{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function cC(n){return n!==Bd}function wv(n){return 32767&n}function Cv(n,e){let t=function lD(n){return n>>16}(n),r=e;for(;t>0;)r=r[cg],t--;return r}let uC=!0;function Qy(n){const e=uC;return uC=n,e}const cD=255,zy=5;let BO=0;const au={};function Tn(n,e){const t=xv(n,e);if(-1!==t)return t;const r=e[fn];r.firstCreatePass&&(n.injectorIndex=e.length,Nd(r.data,n),Nd(e,null),Nd(r.blueprint,null));const i=Sl(n,e),s=n.injectorIndex;if(cC(i)){const o=wv(i),a=Cv(i,e),l=a[fn].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Nd(n,e){n.push(0,0,0,0,0,0,0,0,e)}function xv(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Sl(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=dC(i),null===r)return Bd;if(t++,i=i[cg],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Bd}function hC(n,e,t){!function NO(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(ev)&&(r=t[ev]),null==r&&(r=t[ev]=BO++);const i=r&cD;e.data[n+(i>>zy)]|=1<<i}(n,e,t)}function Js(n,e,t){if(t&vi.Optional||void 0!==n)return n;Sw()}function Ev(n,e,t,r){if(t&vi.Optional&&void 0===r&&(r=null),!(t&(vi.Self|vi.Host))){const i=n[zo],s=$l(void 0);try{return i?i.get(e,r,t&vi.Optional):_y(e,r,t&vi.Optional)}finally{$l(s)}}return Js(r,0,t)}function uD(n,e,t,r=vi.Default,i){if(null!==n){if(2048&e[er]&&!(r&vi.Self)){const o=function RO(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[er]&&!(512&o[er]);){const a=Sv(s,o,t,r|vi.Self,au);if(a!==au)return a;let l=s.parent;if(!l){const c=o[B2];if(c){const u=c.get(t,au,r);if(u!==au)return u}l=dC(o),o=o[cg]}s=l}return i}(n,e,t,r,au);if(o!==au)return o}const s=Sv(n,e,t,r,au);if(s!==au)return s}return Ev(e,t,r,i)}function Sv(n,e,t,r,i){const s=function FO(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ev)?n[ev]:void 0;return"number"==typeof e?e>=0?e&cD:fD:e}(t);if("function"==typeof s){if(!eD(e,n,r))return r&vi.Host?Js(i,0,r):Ev(e,t,r,i);try{let o;if(o=s(r),null!=o||r&vi.Optional)return o;Sw()}finally{BA()}}else if("number"==typeof s){let o=null,a=xv(n,e),l=Bd,c=r&vi.Host?e[go][nl]:null;for((-1===a||r&vi.SkipSelf)&&(l=-1===a?Sl(n,e):e[a+8],l!==Bd&&hD(r,!1)?(o=e[fn],a=wv(l),e=Cv(l,e)):a=-1);-1!==a;){const u=e[fn];if(fC(s,a,u.data)){const h=IO(a,e,t,o,r,c);if(h!==au)return h}l=e[a+8],l!==Bd&&hD(r,e[fn].data[a+8]===c)&&fC(s,a,e)?(o=u,a=wv(l),e=Cv(l,e)):a=-1}}return i}function IO(n,e,t,r,i,s){const o=e[fn],a=o.data[n+8],u=FA(a,o,t,null==r?MA(a)&&uC:r!=o&&!!(3&a.type),i&vi.Host&&s===a);return null!==u?RA(e,o,u,a):au}function FA(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,d=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<d;f++){const A=o[f];if(f<l&&t===A||f>=l&&A.type===t)return f}if(i){const f=o[l];if(f&&zu(f)&&f.type===t)return l}return null}function RA(n,e,t,r){let i=n[t];const s=e.data;if(function SO(n){return n instanceof bv}(i)){const o=i;o.resolving&&function DR(n,e){throw e&&e.join(" > "),new dt(-200,n)}(function Zi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Tr(n)}(s[t]));const a=Qy(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?$l(o.injectImpl):null;eD(n,r,vi.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function iD(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=U2(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&$l(c),Qy(a),o.resolving=!1,BA()}}return i}function fC(n,e,t){return!!(t[e+(n>>zy)]&1<<n)}function hD(n,e){return!(n&vi.Self||n&vi.Host&&e)}class Go{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return uD(this._tNode,this._lView,e,Vu(r),t)}}function fD(){return new Go(hs(),xt())}function ys(n){return Fs(()=>{const e=n.prototype.constructor,t=e[vf]||Gy(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[vf]||Gy(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Gy(n){return my(n)?()=>{const e=Gy(or(n));return e&&e()}:Kl(n)}function dC(n){const e=n[fn],t=e.type;return 2===t?e.declTNode:1===t?n[nl]:null}function AD(n,e=null,t=null,r){const i=pC(n,e,t,r);return i.resolveInjectorInitializers(),i}function pC(n,e=null,t=null,r,i=new Set){const s=[t||Ur,jR(n)];return r=r||("object"==typeof n?void 0:ea(n)),new sg(s,e||My(),r||null,i)}let xo=(()=>{class n{static{this.THROW_IF_NOT_FOUND=yf}static{this.NULL=new CA}static create(t,r){if(Array.isArray(t))return AD({name:""},r,t,"");{const i=t.name??"";return AD({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=Lt({token:n,providedIn:"any",factory:()=>Wt(p2)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function gC(n){return n.ngOriginalError}class ju{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&gC(e);for(;t&&gC(t);)t=gC(t);return t||null}}const gD=new bn("",{providedIn:"root",factory:()=>Ve(ju).handleError.bind(void 0)});let Th=(()=>{class n{static{this.__NG_ELEMENT_ID__=VO}static{this.__NG_ENV_ID__=t=>t}}return n})();class HO extends Th{constructor(e){super(),this._lView=e}onDestroy(e){return Av(this._lView,e),()=>function Oy(n,e){if(null===n[xh])return;const t=n[xh].indexOf(e);-1!==t&&n[xh].splice(t,1)}(this._lView,e)}}function VO(){return new HO(xt())}function S(){return x(hs(),xt())}function x(n,e){return new N(il(n,e))}let N=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=S}}return n})();function I(n){return n instanceof N?n.nativeElement:n}function Z(n){return e=>{setTimeout(n,void 0,e)}}const ie=class z extends Lr{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,S2()&&(this.destroyRef=Ve(Th,{optional:!0})??void 0)}emit(e){const t=bt(null);try{super.next(e)}finally{bt(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Z(s),i&&(i=Z(i)),o&&(o=Z(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof mi&&e.add(a),a}};function De(){return this._results[Symbol.iterator]()}class Se{get changes(){return this._changes??=new ie}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=Se.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=De)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const r=function ts(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Cd(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const je="ngSkipHydration",Ze="ngskiphydration";function at(n){const e=n.mergedAttrs;if(null===e)return!1;for(let t=0;t<e.length;t+=2){const r=e[t];if("number"==typeof r)return!1;if("string"==typeof r&&r.toLowerCase()===Ze)return!0}return!1}function Et(n){return n.hasAttribute(je)}function In(n){return!(128&~n.flags)}const Sn=new Map;let Xr=0;const yr="__ngContext__";function Si(n,e){_a(e)?(n[yr]=e[uv],function jn(n){Sn.set(n[uv],n)}(e)):n[yr]=e}function Rd(n){return kA(n[av])}function Bh(n){return kA(n[gs])}function kA(n){for(;null!==n&&!rl(n);)n=n[gs];return n}let QO;function yg(){if(void 0!==QO)return QO;if(typeof document<"u")return document;throw new dt(210,!1)}const vD=new bn("",{providedIn:"root",factory:()=>Lue}),Lue="ng",KV=new bn(""),Nh=new bn("",{providedIn:"platform",factory:()=>"unknown"}),zO=new bn(""),XV=new bn("",{providedIn:"root",factory:()=>yg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Hue(){const n=new Wy;return"browser"===Ve(Nh)&&(n.store=function Vue(n,e){const t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(yg(),Ve(vD))),n}let Wy=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=Lt({token:n,providedIn:"root",factory:Hue})}get(t,r){return void 0!==this.store[t]?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const GO="h",jO="b";var $y=function(n){return n.FirstChild="f",n.NextSibling="n",n}($y||{});const qO="e",WO="t",mC="c",yD="x",Ky="r",$O="i",KO="n",_D="d",XO="__nghData__",vC="ngh",Que="nghm";let YV=()=>null;function zue(n,e,t=!1){let r=n.getAttribute(vC);if(null==r)return null;const[i,s]=r.split("|");if(r=t?s:i,!r)return null;const a=t?i:s?`|${s}`:"";let l={};if(""!==r){const u=e.get(Wy,null,{optional:!0});null!==u&&(l=u.get(XO,[])[Number(r)])}const c={data:l,firstChild:n.firstChild??null};return t&&(c.firstChild=n,bD(c,0,n.nextSibling)),a?n.setAttribute(vC,a):n.removeAttribute(vC),c}function YO(n,e,t=!1){return YV(n,e,t)}function JV(n){let e=n._lView;return 2===e[fn].type?null:(Gw(e)&&(e=e[Sr]),e)}function bD(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function ZO(n,e){return n.segmentHeads?.[e]??null}function eQ(n,e){return n.data[mC]?.[e]??null}function eP(n,e){const t=eQ(n,e)??[];let r=0;for(let i of t)r+=i[Ky]*(i[yD]??1);return r}function wD(n,e){if(typeof n.disconnectedNodes>"u"){const t=n.data[_D];n.disconnectedNodes=t?new Set(t):null}return!!n.disconnectedNodes?.has(e)}const CD=new bn(""),nQ=new bn("",{providedIn:"root",factory:()=>!1}),rQ=new bn("");let xD,ED;function Xy(n){return function tP(){if(void 0===xD&&(xD=null,ls.trustedTypes))try{xD=ls.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xD}()?.createHTML(n)||n}function oQ(n){return function nP(){if(void 0===ED&&(ED=null,ls.trustedTypes))try{ED=ls.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ED}()?.createScriptURL(n)||n}class aQ{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ay})`}}function _g(n){return n instanceof aQ?n.changingThisBreaksApplicationSecurity:n}function bC(n,e){const t=function rhe(n){return n instanceof aQ&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ay})`)}return t===e}class ihe{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Xy(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class she{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Xy(e),t}}const ahe=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rP(n){return(n=String(n)).match(ahe)?n:"unsafe:"+n}function HA(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function wC(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const cQ=HA("area,br,col,hr,img,wbr"),uQ=HA("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hQ=HA("rp,rt"),iP=wC(cQ,wC(uQ,HA("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wC(hQ,HA("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wC(hQ,uQ)),sP=HA("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fQ=wC(sP,HA("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),HA("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Yy=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Yy||{});function mo(n){const e=CC();return e?e.sanitize(Yy.URL,n)||"":bC(n,"URL")?_g(n):rP(Tr(n))}function gQ(n){const e=CC();if(e)return oQ(e.sanitize(Yy.RESOURCE_URL,n)||"");if(bC(n,"ResourceURL"))return oQ(_g(n));throw new dt(904,!1)}function CC(){const n=xt();return n&&n[su].sanitizer}const Che=/^>|^->|<!--|-->|--!>|<!-$/g,xhe=/(<|>)/g,Ehe="\u200b$1\u200b";function bQ(n){return n.ownerDocument.defaultView}function Wu(n){return n instanceof Function?n():n}function Tf(n){return"browser"===(n??Ve(xo)).get(Nh)}var bg=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(bg||{});let uP;function hP(n,e){return uP(n,e)}function Zy(n,e,t,r,i){if(null!=r){let s,o=!1;rl(r)?s=r:_a(r)&&(o=!0,r=r[lo]);const a=ms(r);0===n&&null!==t?null==i?BQ(e,t,a):Mv(e,t,a,i||null,!0):1===n&&null!==t?Mv(e,t,a,i||null,!0):2===n?SC(e,a,o):3===n&&e.destroyNode(a),null!=s&&function qhe(n,e,t,r,i){const s=t[Eh];s!==ms(t)&&Zy(e,n,r,s,i);for(let a=Rs;a<t.length;a++){const l=t[a];FD(l[fn],l,n,e,r,s)}}(e,n,s,t,i)}}function fP(n,e){return n.createText(e)}function dP(n,e){return n.createComment(function vQ(n){return n.replace(Che,e=>e.replace(xhe,Ehe))}(e))}function TD(n,e,t){return n.createElement(e,t)}function DQ(n,e){e[su].changeDetectionScheduler?.notify(1),FD(n,e,e[vr],2,null,null)}function MQ(n,e){const t=n[ug],r=t.indexOf(e);t.splice(r,1)}function xC(n,e){if(n.length<=Rs)return;const t=Rs+e,r=n[t];if(r){const i=r[lv];null!==i&&i!==n&&MQ(i,r),e>0&&(n[t-1][gs]=r[gs]);const s=nv(n,Rs+e);!function Phe(n,e){DQ(n,e),e[lo]=null,e[nl]=null}(r[fn],r);const o=s[En];null!==o&&o.detachView(s[fn]),r[Bo]=null,r[gs]=null,r[er]&=-129}return r}function BD(n,e){if(!(256&e[er])){const t=e[vr];t.destroyNode&&FD(n,e,t,3,null,null),function Uhe(n){let e=n[av];if(!e)return AP(n[fn],n);for(;e;){let t=null;if(_a(e))t=e[av];else{const r=e[Rs];r&&(t=r)}if(!t){for(;e&&!e[gs]&&e!==n;)_a(e)&&AP(e[fn],e),e=e[Bo];null===e&&(e=n),_a(e)&&AP(e[fn],e),t=e&&e[gs]}e=t}}(e)}}function AP(n,e){if(256&e[er])return;const t=bt(null);try{e[er]&=-129,e[er]|=256,e[SA]&&function Oi(n){if(fi(n),Pi(n))for(let e=0;e<n.producerNode.length;e++)Ds(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[SA]),function Qhe(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof bv)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Sh(4,a,l);try{l.call(a)}finally{Sh(5,a,l)}}else{Sh(4,i,s);try{s.call(i)}finally{Sh(5,i,s)}}}}}(n,e),function Vhe(n,e){const t=n.cleanup,r=e[lg];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[lg]=null);const i=e[xh];if(null!==i){e[xh]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[fn].type&&e[vr].destroy();const r=e[lv];if(null!==r&&rl(e[Bo])){r!==e[Bo]&&MQ(r,e);const i=e[En];null!==i&&i.detachView(n)}!function ei(n){Sn.delete(n[uv])}(e)}finally{bt(t)}}function pP(n,e,t){return TQ(n,e.parent,t)}function TQ(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[lo];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===iu.None||s===iu.Emulated)return null}return il(r,t)}}function Mv(n,e,t,r,i){n.insertBefore(e,t,r,i)}function BQ(n,e,t){n.appendChild(e,t)}function NQ(n,e,t,r,i){null!==r?Mv(n,e,t,r,i):BQ(n,e,t)}function ND(n,e){return n.parentNode(e)}function IQ(n,e,t){return RQ(n,e,t)}function FQ(n,e,t){return 40&n.type?il(n,t):null}let gP,RQ=FQ;function OQ(n,e){RQ=n,gP=e}function ID(n,e,t,r){const i=pP(n,r,e),s=e[vr],a=IQ(r.parent||e[nl],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)NQ(s,i,t[l],a,!1);else NQ(s,i,t,a,!1);void 0!==gP&&gP(s,r,e,t,i)}function EC(n,e){if(null!==e){const t=e.type;if(3&t)return il(e,n);if(4&t)return mP(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return EC(n,r);{const i=n[e.index];return rl(i)?mP(-1,i):ms(i)}}if(32&t)return hP(e,n)()||ms(n[e.index]);{const r=PQ(n,e);return null!==r?Array.isArray(r)?r[0]:EC(Md(n[go]),r):EC(n,e.next)}}return null}function PQ(n,e){return null!==e?n[go][nl].projection[e.projection]:null}function mP(n,e){const t=Rs+n+1;if(t<e.length){const r=e[t],i=r[fn].firstChild;if(null!==i)return EC(r,i)}return e[Eh]}function SC(n,e,t){const r=ND(n,e);r&&function zhe(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}function LQ(n){n.textContent=""}function vP(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Si(ms(a),r),t.flags|=2),32&~t.flags)if(8&l)vP(n,e,t.child,r,i,s,!1),Zy(e,n,i,a,s);else if(32&l){const c=hP(t,r);let u;for(;u=c();)Zy(e,n,i,u,s);Zy(e,n,i,a,s)}else 16&l?UQ(n,e,r,t,i,s):Zy(e,n,i,a,s);t=o?t.projectionNext:t.next}}function FD(n,e,t,r,i,s){vP(t,r,n.firstChild,e,i,s,!1)}function UQ(n,e,t,r,i,s){const o=t[go],l=o[nl].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Zy(e,n,i,l[c],s);else{let c=l;const u=o[Bo];In(r)&&(c.flags|=128),vP(n,e,c,u,i,s,!0)}}function kQ(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function HQ(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Cy(n,e,r),null!==i&&kQ(n,e,i),null!==s&&function $he(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}const zr={};function Te(n=1){VQ(yi(),xt(),Co()+n,!1)}function VQ(n,e,t,r){if(!r)if(3&~e[er]){const s=n.preOrderHooks;null!==s&&Vy(e,s,0,t)}else{const s=n.preOrderCheckHooks;null!==s&&IA(e,s,t)}ou(t)}function At(n,e=vi.Default){const t=xt();return null===t?Wt(n,e):uD(hs(),t,or(n),e)}function zQ(n,e,t,r,i,s){const o=bt(null);try{let a=null;i&Fr.SignalBased&&(a=e[r][Vn]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&Fr.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),null!==n.setInput?n.setInput(e,a,s,t,r):Kw(e,a,r,s)}finally{bt(o)}}function RD(n,e,t,r,i,s,o,a,l,c,u){const h=e.blueprint.slice();return h[lo]=i,h[er]=204|r,(null!==c||n&&2048&n[er])&&(h[er]|=2048),z2(h),h[Bo]=h[cg]=n,h[zs]=t,h[su]=o||n&&n[su],h[vr]=a||n&&n[vr],h[zo]=l||n&&n[zo]||null,h[nl]=s,h[uv]=function Xn(){return Xr++}(),h[Sc]=u,h[B2]=c,h[go]=2==e.type?n[go]:h,h}function e_(n,e,t,r,i){let s=n.data[e];if(null===s)s=yP(n,e,t,r,i),function X2(){return dr.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=gv();s.injectorIndex=null===o?-1:o.injectorIndex}return Gu(s,!0),s}function yP(n,e,t,r,i){const s=$2(),o=Td(),l=n.data[e]=function nfe(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Cf()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}function DC(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function GQ(n,e,t,r,i){const s=Co(),o=2&r;try{ou(-1),o&&e.length>Sr&&VQ(n,e,Sr,!1),Sh(o?2:0,i),t(r,i)}finally{ou(s),Sh(o?3:1,i)}}function _P(n,e,t){if(Fy(e)){const r=bt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{bt(r)}}}function bP(n,e,t){pv()&&(function cfe(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;MA(t)&&function gfe(n,e,t){const r=il(e,n),i=jQ(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=OD(n,RD(n,i,null,o,r,e,null,n[su].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Tn(t,e),Si(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=RA(e,n,a,t);Si(c,e),null!==o&&mfe(0,a-i,c,l,0,o),zu(l)&&(Tc(t.index,e)[zs]=RA(e,n,a,t))}}(n,e,t,il(t,e)),!(64&~t.flags)&&XQ(n,e,t))}function wP(n,e,t=il){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function jQ(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=CP(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function CP(n,e,t,r,i,s,o,a,l,c,u){const h=Sr+r,d=h+i,f=function Xhe(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:zr);return t}(h,d),A="function"==typeof c?c():c;return f[fn]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:A,incompleteFirstPass:!1,ssrId:u}}let qQ=()=>null;function Zhe(n){Et(n)?LQ(n):function que(n){const e=yg(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(s){const o=function jue(n){return n.textContent?.replace(/\s/gm,"")}(s);return"ngetn"===o||"ngtns"===o?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=t.nextNode();)i.push(r);for(const s of i)"ngetn"===s.textContent?s.replaceWith(e.createTextNode("")):s.remove()}(n)}function WQ(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];if(void 0===o)continue;r??={};let a,l=Fr.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(null!==i){if(!i.hasOwnProperty(s))continue;c=i[s]}0===n?$Q(r,t,c,a,l):$Q(r,t,c,a)}return r}function $Q(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],void 0!==i&&s.push(i)}function lu(n,e,t,r,i,s,o,a){const l=il(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(MP(n,t,u,r,i),MA(e)&&function sfe(n,e){const t=Tc(e,n);16&t[er]||(t[er]|=64)}(t,e.index)):3&e.type&&(r=function ife(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function xP(n,e,t,r){if(pv()){const i=null===r?null:{"":-1},s=function hfe(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(y2(e,o.selectors,!1))if(r||(r=[]),zu(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),EP(n,e,a.length)}else r.unshift(o),EP(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&KQ(n,e,t,o,i,a),i&&function ffe(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new dt(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=tg(t.mergedAttrs,t.attrs)}function KQ(n,e,t,r,i,s){for(let c=0;c<r.length;c++)hC(Tn(t,e),n,r[c].type);!function Afe(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=DC(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=tg(t.mergedAttrs,u.hostAttrs),pfe(n,t,e,l,u),dfe(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function rfe(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const h=s[u],d=t?t.get(h):null,A=d?d.outputs:null;l=WQ(0,h.inputs,u,l,d?d.inputs:null),c=WQ(1,h.outputs,u,c,A);const p=null===l||null===o||Ow(e)?null:vfe(l,u,o);a.push(p)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function XQ(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function J2(){return dr.lFrame.currentDirectiveIndex}();try{ou(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];nC(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&ufe(l,c)}}finally{ou(-1),nC(o)}}function ufe(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function EP(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function dfe(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;zu(e)&&(t[""]=n)}}function pfe(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Kl(i.type)),o=new bv(s,zu(i),At);n.blueprint[r]=o,t[r]=o,function afe(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function lfe(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,DC(n,t,i.hostVars,zr),i)}function Pd(n,e,t,r,i,s){const o=il(n,e);!function SP(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Tr(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[vr],o,s,n.value,t,r,i)}function mfe(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)zQ(r,t,o[a++],o[a++],o[a++],o[a++])}function vfe(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function YQ(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function JQ(n,e){const t=n.contentQueries;if(null!==t){const r=bt(null);try{for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const a=n.data[o];vv(t[i]),a.contentQueries(2,e[o],o)}}}finally{bt(r)}}}function OD(n,e){return n[av]?n[T2][gs]=e:n[av]=e,n[T2]=e,e}function DP(n,e,t){vv(0);const r=bt(null);try{e(n,t)}finally{bt(r)}}function ZQ(n){return n[lg]||(n[lg]=[])}function ez(n){return n.cleanup||(n.cleanup=[])}function PD(n,e){const t=n[zo],r=t?t.get(ju,null):null;r&&r.handleError(e)}function MP(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=t[s++];zQ(n.data[o],e[o],r,a,l,i)}}function VA(n,e,t){const r=TA(e,n);!function SQ(n,e,t){n.setValue(e,t)}(n[vr],r,t)}function yfe(n,e){const t=Tc(e,n),r=t[fn];!function _fe(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[lo];null!==i&&null===t[Sc]&&(t[Sc]=YO(i,t[zo])),TP(r,t,t[zs])}function TP(n,e,t){ky(e);try{const r=n.viewQuery;null!==r&&DP(1,r,t);const i=n.template;null!==i&&GQ(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[En]?.finishViewCreation(n),n.staticContentQueries&&JQ(n,e),n.staticViewQueries&&DP(2,n.viewQuery,t);const s=n.components;null!==s&&function bfe(n,e){for(let t=0;t<e.length;t++)yfe(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[er]&=-5,Hy()}}function MC(n,e,t,r){const i=bt(null);try{const s=e.tView,l=RD(n,s,t,4096&n[er]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[lv]=n[e.index];const u=n[En];return null!==u&&(l[En]=u.createEmbeddedView(s)),TP(s,l,t),l}finally{bt(i)}}function nz(n,e){const t=Rs+e;if(t<n.length)return n[t]}function t_(n,e){return!e||null===e.firstChild||In(n)}function TC(n,e,t,r=!0){const i=e[fn];if(function khe(n,e,t,r){const i=Rs+r,s=t.length;r>0&&(t[i-1][gs]=e),r<s-Rs?(e[gs]=t[i],Tw(t,Rs+r,e)):(t.push(e),e[gs]=null),e[Bo]=t;const o=e[lv];null!==o&&t!==o&&function Hhe(n,e){const t=n[ug];e[go]!==e[Bo][Bo][go]&&(n[er]|=hv.HasTransplantedViews),null===t?n[ug]=[e]:t.push(e)}(o,e);const a=e[En];null!==a&&a.insertView(n),Zw(e),e[er]|=128}(i,e,n,t),r){const o=mP(t,n),a=e[vr],l=ND(a,n[Eh]);null!==l&&function Lhe(n,e,t,r,i,s){r[lo]=i,r[nl]=e,FD(n,r,t,1,i,s)}(i,n[nl],a,e,l,o)}const s=e[Sc];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function BP(n,e){const t=xC(n,e);return void 0!==t&&BD(t[fn],t),t}function BC(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(ms(s)),rl(s)&&rz(s,r);const o=t.type;if(8&o)BC(n,e,t.child,r);else if(32&o){const a=hP(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=PQ(e,t);if(Array.isArray(a))r.push(...a);else{const l=Md(e[go]);BC(l[fn],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function rz(n,e){for(let t=Rs;t<n.length;t++){const r=n[t],i=r[fn].firstChild;null!==i&&BC(r[fn],r,i,e)}n[Eh]!==n[lo]&&e.push(n[Eh])}let iz=[];const Efe={...mt,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{dv(n.lView)},consumerOnSignalRead(){this.lView[SA]=this}},sz=100;function LD(n,e=!0,t=0){const r=n[su],i=r.rendererFactory;i.begin?.();try{!function Sfe(n,e){NP(n,e);let t=0;for(;Jw(n);){if(t===sz)throw new dt(103,!1);t++,NP(n,1)}}(n,t)}catch(o){throw e&&PD(n,o),o}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function Dfe(n,e,t,r){const i=e[er];if(!(256&~i))return;e[su].inlineEffectRunner?.flush(),ky(e);let o=null,a=null;(function Mfe(n){return 2!==n.type})(n)&&(a=function wfe(n){return n[SA]??function Cfe(n){const e=iz.pop()??Object.create(Efe);return e.lView=n,e}(n)}(e),o=function Is(n){return n&&(n.nextProducerIndex=0),bt(n)}(a));try{z2(e),function tC(n){return dr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&GQ(n,e,t,2,r);const l=!(3&~i);if(l){const h=n.preOrderCheckHooks;null!==h&&IA(e,h,null)}else{const h=n.preOrderHooks;null!==h&&Vy(e,h,0,null),oC(e,0)}if(function Tfe(n){for(let e=Rd(n);null!==e;e=Bh(e)){if(!(e[er]&hv.HasTransplantedViews))continue;const t=e[ug];for(let r=0;r<t.length;r++){_O(t[r])}}}(e),oz(e,0),null!==n.contentQueries&&JQ(n,e),l){const h=n.contentCheckHooks;null!==h&&IA(e,h)}else{const h=n.contentHooks;null!==h&&Vy(e,h,1),oC(e,1)}!function Khe(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ou(~i);else{const s=i,o=t[++r],a=t[++r];Y2(o,s),a(2,e[s])}}}finally{ou(-1)}}(n,e);const c=n.components;null!==c&&lz(e,c,0);const u=n.viewQuery;if(null!==u&&DP(2,u,r),l){const h=n.viewCheckHooks;null!==h&&IA(e,h)}else{const h=n.viewHooks;null!==h&&Vy(e,h,2),oC(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Dc]){for(const h of e[Dc])h();e[Dc]=null}e[er]&=-73}catch(l){throw dv(e),l}finally{null!==a&&(function ga(n,e){if(bt(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Pi(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ds(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,o),function xfe(n){n.lView[SA]!==n&&(n.lView=null,iz.push(n))}(a)),Hy()}}function oz(n,e){for(let t=Rd(n);null!==t;t=Bh(t))for(let r=Rs;r<t.length;r++)az(t[r],e)}function Bfe(n,e,t){az(Tc(e,n),t)}function az(n,e){fv(n)&&NP(n,e)}function NP(n,e){const r=n[fn],i=n[er],s=n[SA];let o=!!(0===e&&16&i);if(o||=!!(64&i&&0===e),o||=!!(1024&i),o||=!(!s?.dirty||!mr(s)),s&&(s.dirty=!1),n[er]&=-9217,o)Dfe(r,n,r.template,n[zs]);else if(8192&i){oz(n,1);const a=r.components;null!==a&&lz(n,a,1)}}function lz(n,e,t){for(let r=0;r<e.length;r++)Bfe(n,e[r],t)}function NC(n){for(n[su].changeDetectionScheduler?.notify();n;){n[er]|=64;const e=Md(n);if(Gw(n)&&!e)return n;n=e}return null}class IC{get rootNodes(){const e=this._lView,t=e[fn];return BC(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zs]}set context(e){this._lView[zs]=e}get destroyed(){return!(256&~this._lView[er])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Bo];if(rl(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(xC(e,r),nv(t,r))}this._attachedToViewContainer=!1}BD(this._lView[fn],this._lView)}onDestroy(e){Av(this._lView,e)}markForCheck(){NC(this._cdRefInjectingView||this._lView)}detach(){this._lView[er]&=-129}reattach(){Zw(this._lView),this._lView[er]|=128}detectChanges(){this._lView[er]|=1024,LD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new dt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,DQ(this._lView[fn],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new dt(902,!1);this._appRef=e,Zw(this._lView)}}let ra=(()=>{class n{static{this.__NG_ELEMENT_ID__=Ffe}}return n})();const Nfe=ra,Ife=class extends Nfe{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=MC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new IC(i)}};function Ffe(){return UD(hs(),xt())}function UD(n,e){return 4&n.type?new Ife(e,n,x(n,e)):null}function hz(n){const e=n[Dd]??[],r=n[Bo][vr];for(const i of e)Qfe(i,r);n[Dd]=Ur}function Qfe(n,e){let t=0,r=n.firstChild;if(r){const i=n.data[Ky];for(;t<i;){const s=r.nextSibling;SC(e,r,!1),r=s,t++}}}function fz(n){hz(n);for(let e=Rs;e<n.length;e++)HD(n[e])}function HD(n){!function zfe(n){const e=n[Sc]?.i18nNodes;if(e){const t=n[vr];for(const r of e.values())SC(t,r,!1);n[Sc].i18nNodes=void 0}}(n);const e=n[fn];for(let t=Sr;t<e.bindingStartIndex;t++)rl(n[t])?fz(n[t]):_a(n[t])&&HD(n[t])}const jfe=new RegExp(`^(\\d+)*(${jO}|${GO})*(.*)`);function OP(n){return n.index-Sr}function VD(n,e,t,r){const i=OP(r);let s=function Kfe(n,e){const t=n.i18nNodes;if(t){const r=t.get(e);return r&&t.delete(e),r}return null}(n,i);if(!s){const o=n.data[KO];if(o?.[i])s=function Yfe(n,e){const[t,...r]=function Wfe(n){const e=n.match(jfe),[t,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(const[l,c,u]of s.matchAll(/(f|n)(\d*)/g)){const h=parseInt(u,10)||1;a.push(c,h)}return[o,...a]}(n);let i;return i=t===GO?e[go][lo]:t===jO?function wQ(n){return n.ownerDocument.body}(e[go][lo]):ms(e[Number(t)+Sr]),function Xfe(n,e){let t=n;for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case $y.FirstChild:t=t.firstChild;break;case $y.NextSibling:t=t.nextSibling}}return t}(i,r)}(o[i],t);else if(e.firstChild===r)s=n.firstChild;else{const a=null===r.prev,l=r.prev??r.parent;if(function $fe(n){return!n.prev&&8===n.parent?.type}(r))s=ZO(n,OP(r.parent));else{let c=il(l,t);if(a)s=c.firstChild;else{const u=OP(l),h=ZO(n,u);s=2===l.type&&h?QD(eP(n,u)+1,h):c.nextSibling}}}}return s}function QD(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}let Az=()=>null;function tde(n,e){const t=n[Dd];return e&&null!==t&&0!==t.length?t[0].data[$O]===e?t.shift():(hz(n),null):null}function n_(n,e){return Az(n,e)}class zD{}class rde{}class pz{}class sde{resolveComponentFactory(e){throw function ide(n){const e=Error(`No component factory found for ${ea(n)}.`);return e.ngComponent=n,e}(e)}}let LC=(()=>{class n{static{this.NULL=new sde}}return n})();class LP{}let Bf=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function ode(){const n=xt(),t=Tc(hs().index,n);return(_a(t)?t:n)[vr]}()}}return n})(),ade=(()=>{class n{static{this.\u0275prov=Lt({token:n,providedIn:"root",factory:()=>null})}}return n})();const UP={},mz=new Set;function Nf(n){mz.has(n)||(mz.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function vz(...n){}class Cr{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ie(!1),this.onMicrotaskEmpty=new ie(!1),this.onStable=new ie(!1),this.onError=new ie(!1),typeof Zone>"u")throw new dt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function lde(){const n="function"==typeof ls.requestAnimationFrame;let e=ls[n?"requestAnimationFrame":"setTimeout"],t=ls[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function hde(n){const e=()=>{!function ude(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ls,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,HP(n),n.isCheckStableRunning=!0,kP(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),HP(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function fde(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return yz(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),_z(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return yz(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),_z(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,HP(n),kP(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cr.isInAngularZone())throw new dt(909,!1)}static assertNotInAngularZone(){if(Cr.isInAngularZone())throw new dt(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,cde,vz,vz);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const cde={};function kP(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function HP(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function yz(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _z(n){n._nesting--,kP(n)}class bz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ie,this.onMicrotaskEmpty=new ie,this.onStable=new ie,this.onError=new ie}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}var Tv=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Tv||{});const wz={destroy(){}};function QP(n,e){!e&&function sv(n){if(!S2())throw new dt(-203,!1)}();const t=e?.injector??Ve(xo);if(!Tf(t))return wz;Nf("NgAfterNextRender");const r=t.get(UC),i=r.handler??=new xz,s=e?.phase??Tv.MixedReadWrite,o=()=>{i.unregister(l),a()},a=t.get(Th).onDestroy(o),l=Ch(t,()=>new Cz(s,()=>{o(),n()}));return i.register(l),{destroy:o}}class Cz{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=Ve(Cr),this.errorHandler=Ve(ju,{optional:!0}),Ve(zD,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class xz{constructor(){this.executingCallbacks=!1,this.buckets={[Tv.EarlyRead]:new Set,[Tv.Write]:new Set,[Tv.MixedReadWrite]:new Set,[Tv.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let UC=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Lt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function jD(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=gw(i,a):2==s&&(r=gw(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}class Dz extends LC{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ui(e);return new VC(t,this.ngModule)}}function Mz(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const r=n[t];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}class qD{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Vu(r);const i=this.injector.get(e,UP,r);return i!==UP||t===UP?i:this.parentInjector.get(e,t,r)}}class VC extends pz{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=Mz(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Mz(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function HR(n){return n.map(kR).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){const s=bt(null);try{let o=(i=i||this.ngModule)instanceof La?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new qD(e,o):e,l=a.get(LP,null);if(null===l)throw new dt(407,!1);const c=a.get(ade,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:a.get(UC,null),changeDetectionScheduler:a.get(zD,null)},f=l.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",p=r?function Yhe(n,e,t,r){const s=r.get(nQ,!1)||t===iu.ShadowDom,o=n.selectRootElement(e,s);return function Jhe(n){qQ(n)}(o),o}(f,r,this.componentDef.encapsulation,a):TD(f,A,function mde(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(A));let m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let g=null;null!==p&&(g=YO(p,a,!0));const y=CP(0,null,null,1,0,null,null,null,null,null,null),v=RD(null,y,null,m,null,null,d,f,a,null,g);let _,C;ky(v);try{const b=this.componentDef;let M,D=null;b.findHostDirectiveDefs?(M=[],D=new Map,b.findHostDirectiveDefs(b,M,D),M.push(b)):M=[b];const E=function yde(n,e){const t=n[fn],r=Sr;return n[r]=e,e_(t,r,2,"#host",null)}(v,p),T=function _de(n,e,t,r,i,s,o){const a=i[fn];!function bde(n,e,t,r){for(const i of n)e.mergedAttrs=tg(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(jD(e,e.mergedAttrs,!0),null!==t&&HQ(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=YO(e,i[zo]));const c=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const h=RD(i,jQ(t),null,u,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&EP(a,n,r.length-1),OD(i,h),i[n.index]=h}(E,p,b,M,v,d,f);C=wf(y,Sr),p&&function Cde(n,e,t,r){if(r)Cy(n,t,["ng-version","17.3.12"]);else{const{attrs:i,classes:s}=function Ey(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Qu(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Cy(n,t,i),s&&s.length>0&&kQ(n,t,s.join(" "))}}(f,b,p,r),void 0!==t&&function xde(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(C,this.ngContentSelectors,t),_=function wde(n,e,t,r,i,s){const o=hs(),a=i[fn],l=il(o,i);KQ(a,i,o,t,null,r);for(let u=0;u<t.length;u++)Si(RA(i,a,o.directiveStart+u,o),i);XQ(a,i,o),l&&Si(l,i);const c=RA(i,a,o.directiveStart+o.componentOffset,o);if(n[zs]=i[zs]=c,null!==s)for(const u of s)u(c,e);return _P(a,o,i),c}(T,b,M,D,v,[Ede]),TP(y,v,null)}finally{Hy()}return new vde(this.componentType,_,x(C,v),v,C)}finally{bt(s)}}}class vde extends rde{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new IC(i,void 0,!1),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;MP(s[fn],s,i,e,t),this.previousInputValues.set(e,t),NC(Tc(this._tNode.index,s))}}get injector(){return new Go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Ede(){const n=hs();_v(xt()[fn],n)}let cu=(()=>{class n{static{this.__NG_ELEMENT_ID__=Sde}}return n})();function Sde(){return Nz(hs(),xt())}const Dde=cu,Tz=class extends Dde{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return x(this._hostTNode,this._hostLView)}get injector(){return new Go(this._hostTNode,this._hostLView)}get parentInjector(){const e=Sl(this._hostTNode,this._hostLView);if(cC(e)){const t=Cv(e,this._hostLView),r=wv(e);return new Go(t[fn].data[r+8],t)}return new Go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Bz(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Rs}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=n_(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,t_(this._hostTNode,o)),a}createComponent(e,t,r,i,s){const o=e&&!function ov(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const A=t||{};a=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}const l=o?e:new VC(ui(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const p=(o?c:this.parentInjector).get(La,null);p&&(s=p)}const u=ui(l.componentType??{}),h=n_(this._lContainer,u?.id??null),f=l.create(c,i,h?.firstChild??null,s);return this.insertImpl(f.hostView,a,t_(this._hostTNode,h)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){const i=e._lView;if(function yO(n){return rl(n[Bo])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[Bo],c=new Tz(l,l[nl],l[Bo]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;return TC(o,i,s,r),e.attachToViewContainerRef(),Tw(jP(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Bz(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=xC(this._lContainer,t);r&&(nv(jP(this._lContainer),t),BD(r[fn],r))}detach(e){const t=this._adjustIndex(e,-1),r=xC(this._lContainer,t);return r&&null!=nv(jP(this._lContainer),t)?new IC(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Bz(n){return n[8]}function jP(n){return n[8]||(n[8]=[])}function Nz(n,e){let t;const r=e[n.index];return rl(r)?t=r:(t=YQ(r,e,null,n),e[n.index]=t,OD(e,t)),Iz(t,e,n,r),new Tz(t,n,e)}let Iz=Rz,qP=()=>!1;function Rz(n,e,t,r){if(n[Eh])return;let i;i=8&t.type?ms(r):function Mde(n,e){const t=n[vr],r=t.createComment(""),i=il(e,n);return Mv(t,ND(t,i),r,function Ghe(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Eh]=i}function Tde(n,e,t){if(n[Eh]&&n[Dd])return!0;const r=t[Sc],i=e.index-Sr;if(!r||function ln(n){if(In(n))return!0;let e=n.parent;for(;e;){if(In(n)||at(e))return!0;e=e.parent}return!1}(e)||wD(r,i))return!1;const o=ZO(r,i),a=r.data[mC]?.[i],[l,c]=function ede(n,e){const t=[];for(const r of e)for(let i=0;i<(r[yD]??1);i++){const s={data:r,firstChild:null};r[Ky]>0&&(s.firstChild=n,n=QD(r[Ky],n)),t.push(s)}return[n,t]}(o,a);return n[Eh]=l,n[Dd]=c,!0}function Bde(n,e,t,r){qP(n,t,e)||Rz(n,e,t,r)}class WP{constructor(e){this.queryList=e,this.matches=null}clone(){return new WP(this.queryList)}setDirty(){this.queryList.setDirty()}}class $P{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new $P(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==ZP(e,t).matches&&this.queries[t].setDirty()}}class Oz{constructor(e,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof e?function Pde(n){return n.split(",").map(e=>e.trim())}(e):e}}class KP{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new KP(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class XP{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new XP(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Ide(t,s)),this.matchTNodeWithReadOption(e,t,FA(t,e,s,!1,!1))}else r===ra?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,FA(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===N||i===cu||i===ra&&4&t.type)this.addMatch(t.index,-2);else{const s=FA(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Ide(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Rde(n,e,t,r){return-1===t?function Fde(n,e){return 11&n.type?x(n,e):4&n.type?UD(n,e):null}(e,n):-2===t?function Ode(n,e,t){return t===N?x(e,n):t===ra?UD(e,n):t===cu?Nz(e,n):void 0}(n,e,r):RA(n,n[fn],t,e)}function Pz(n,e,t,r){const i=e[En].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;null!==o&&l<o.length;l+=2){const c=o[l];a.push(c<0?null:Rde(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function YP(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=Pz(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let h=Rs;h<u.length;h++){const d=u[h];d[lv]===d[Bo]&&YP(d[fn],d,c,r)}if(null!==u[ug]){const h=u[ug];for(let d=0;d<h.length;d++){const f=h[d];YP(f[fn],f,c,r)}}}}}return r}function Lz(n,e,t){const r=new Se(!(4&~t));return function tfe(n,e,t,r){const i=ZQ(e);i.push(t),n.firstCreatePass&&ez(n).push(r,i.length-1)}(n,e,r,r.destroy),(e[En]??=new $P).queries.push(new WP(r))-1}function Hz(n,e,t){null===n.queries&&(n.queries=new KP),n.queries.track(new XP(e,t))}function ZP(n,e){return n.queries.getByIndex(e)}function Vz(n,e){const t=n[fn],r=ZP(t,e);return r.crossesNgTemplate?YP(t,n,e,[]):Pz(t,n,r,e)}function e5(n,e){Nf("NgSignals");const t=function Wm(n){const e=Object.create(Gp);e.value=n;const t=()=>(zt(e),e.value);return t[Vn]=e,t}(n),r=t[Vn];return e?.equal&&(r.equal=e.equal),t.set=i=>bd(r,i),t.update=i=>function zp(n,e){ds()||Vp(),bd(n,e(n.value))}(r,i),t.asReadonly=zz.bind(t),t}function zz(){const n=this[Vn];if(void 0===n.readonlyFn){const e=()=>this();e[Vn]=n,n.readonlyFn=e}return n.readonlyFn}function Gz(n){return function Qz(n){return"function"==typeof n&&void 0!==n[Vn]}(n)&&"function"==typeof n.set}function ns(n){let e=function t7(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(zu(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new dt(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=$D(n.inputs),o.inputTransforms=$D(n.inputTransforms),o.declaredInputs=$D(n.declaredInputs),o.outputs=$D(n.outputs);const a=i.hostBindings;a&&Yde(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&Kde(n,l),c&&Xde(n,c),Wde(n,i),gR(n.outputs,i.outputs),zu(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ns&&(t=!1)}}e=Object.getPrototypeOf(e)}!function $de(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=tg(i.hostAttrs,t=tg(t,i.hostAttrs))}}(r)}function Wde(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const r=e.inputs[t];if(void 0!==r&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function $D(n){return n===wh?{}:n===Ur?[]:n}function Kde(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Xde(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Yde(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function zC(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}class Bv{}class s7{}class r5 extends Bv{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dz(this);const i=tl(e);this._bootstrapComponents=Wu(i.bootstrap),this._r3Injector=pC(e,t,[{provide:Bv,useValue:this},{provide:LC,useValue:this.componentFactoryResolver},...r],ea(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class s5 extends s7{constructor(e){super(),this.moduleType=e}create(e){return new r5(this.moduleType,e,[])}}class o7 extends Bv{constructor(e){super(),this.componentFactoryResolver=new Dz(this),this.instance=null;const t=new sg([...e.providers,{provide:Bv,useValue:this},{provide:LC,useValue:this.componentFactoryResolver}],e.parent||My(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function KD(n,e,t=null){return new o7({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let xg=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new as(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function YD(n){return!!o5(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function o5(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ld(n,e,t){return n[e]=t}function ia(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Nv(n,e,t,r){const i=ia(n,e,t);return ia(n,e+1,r)||i}function jC(n){return!(32&~n.flags)}function cn(n,e,t,r,i,s,o,a){const l=xt(),c=yi(),u=n+Sr,h=c.firstCreatePass?function cAe(n,e,t,r,i,s,o,a,l){const c=e.consts,u=e_(e,n,4,o||null,Dh(c,a));xP(e,t,u,Dh(c,l)),_v(e,u);const h=u.tView=CP(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Gu(h,!1);const d=a7(c,l,h,n);NA()&&ID(c,l,d,h),Si(d,l);const f=YQ(d,l,d,h);return l[u]=f,OD(l,f),function Fz(n,e,t){return qP(n,e,t)}(f,h,l),hg(h)&&bP(c,l,h),null!=o&&wP(l,h,a),cn}let a7=l7;function l7(n,e,t,r){return Yl(!0),e[vr].createComment("")}function uAe(n,e,t,r){const i=e[Sc],s=!i||Cf()||jC(t)||wD(i,r);if(Yl(s),s)return l7(0,e);const o=i.data[WO]?.[r]??null;null!==o&&null!==t.tView&&null===t.tView.ssrId&&(t.tView.ssrId=o);const a=VD(i,n,e,t);return bD(i,r,a),QD(eP(i,r),a)}function Bi(n,e,t,r){const i=xt();return ia(i,Bc(),e)&&(yi(),Pd(Ui(),i,n,e,t,r)),Bi}function h_(n,e,t,r){return ia(n,Bc(),t)?e+Tr(t)+r:zr}function f_(n,e,t,r,i,s){const a=Nv(n,function xf(){return dr.lFrame.bindingIndex}(),t,i);return Mh(2),a?e+Tr(t)+r+Tr(i)+s:zr}function iM(n,e){return n<<17|e<<2}function Sg(n){return n>>17&32767}function g5(n){return 2|n}function Fv(n){return(131068&n)>>2}function m5(n,e){return-131069&n|e<<2}function v5(n){return 1|n}function k7(n,e,t,r){const i=n[t+1],s=null===e;let o=r?Sg(i):Fv(i),a=!1;for(;0!==o&&(!1===a||s);){const c=n[o+1];KAe(n[o],e)&&(a=!0,n[o+1]=r?v5(c):g5(c)),o=r?Sg(c):Fv(c)}a&&(n[t+1]=r?g5(i):v5(i))}function KAe(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&_f(n,e)>=0}const Ha={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function H7(n){return n.substring(Ha.key,Ha.keyEnd)}function XAe(n){return n.substring(Ha.value,Ha.valueEnd)}function V7(n,e){const t=Ha.textEnd;return t===e?-1:(e=Ha.keyEnd=function ZAe(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ha.key=e,t),y_(n,e,t))}function Q7(n,e){const t=Ha.textEnd;let r=Ha.key=y_(n,e,t);return t===r?-1:(r=Ha.keyEnd=function epe(n,e,t){let r;for(;e<t&&(45===(r=n.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(n,r,t),r=G7(n,r,t),r=Ha.value=y_(n,r,t),r=Ha.valueEnd=function tpe(n,e,t){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<t;){const l=n.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=j7(n,l,o,t):e===o-4&&85===s&&82===i&&76===r&&40===l?a=o=j7(n,41,o,t):l>32&&(a=o),s=i,i=r,r=-33&l}return a}(n,r,t),G7(n,r,t))}function z7(n){Ha.key=0,Ha.keyEnd=0,Ha.value=0,Ha.valueEnd=0,Ha.textEnd=n.length}function y_(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function G7(n,e,t,r){return(e=y_(n,e,t))<t&&e++,e}function j7(n,e,t,r){let i=-1,s=t;for(;s<r;){const o=n.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function qe(n,e,t){const r=xt();return ia(r,Bc(),e)&&lu(yi(),Ui(),r,n,e,r[vr],t,!1),qe}function y5(n,e,t,r,i){const o=i?"class":"style";MP(n,t,e.inputs[o],o,r)}function KC(n,e,t){return If(n,e,t,!1),KC}function Ci(n,e){return If(n,e,null,!0),Ci}function Fh(n){Ff($7,npe,n,!1)}function npe(n,e){for(let t=function JAe(n){return z7(n),Q7(n,y_(n,0,Ha.textEnd))}(e);t>=0;t=Q7(e,t))$7(n,H7(e),XAe(e))}function Dg(n){Ff(lpe,Ud,n,!0)}function Ud(n,e){for(let t=function YAe(n){return z7(n),V7(n,y_(n,0,Ha.textEnd))}(e);t>=0;t=V7(e,t))Ec(n,H7(e),!0)}function If(n,e,t,r){const i=xt(),s=yi(),o=Mh(2);s.firstUpdatePass&&W7(s,n,o,r),e!==zr&&ia(i,o,e)&&K7(s,s.data[Co()],i,i[vr],n,i[o+1]=function upe(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ea(_g(n)))),n}(e,t),r,o)}function Ff(n,e,t,r){const i=yi(),s=Mh(2);i.firstUpdatePass&&W7(i,null,s,r);const o=xt();if(t!==zr&&ia(o,s,t)){const a=i.data[Co()];if(Y7(a,r)&&!q7(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=gw(l,t||"")),y5(i,a,o,t,r)}else!function cpe(n,e,t,r,i,s,o,a){i===zr&&(i=Ur);let l=0,c=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,A=null;u===h?(l+=2,c+=2,d!==f&&(A=h,p=f)):null===h||null!==u&&u<h?(l+=2,A=u):(c+=2,A=h,p=f),null!==A&&K7(n,e,t,r,A,p,o,a),u=l<i.length?i[l]:null,h=c<s.length?s[c]:null}}(i,a,o,o[vr],o[s+1],o[s+1]=function ape(n,e,t){if(null==t||""===t)return Ur;const r=[],i=_g(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function q7(n,e){return e>=n.expandoStartIndex}function W7(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Co()],o=q7(n,t);Y7(s,r)&&null===e&&!o&&(e=!1),e=function rpe(n,e,t,r){const i=function dg(n){const e=dr.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=XC(t=_5(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=_5(i,n,e,t,r),null===s){let l=function ipe(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Fv(r))return n[Sg(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=_5(null,n,e,l[1],r),l=XC(l,e.attrs,r),function spe(n,e,t,r){n[Sg(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function ope(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=XC(r,n[s].hostAttrs,t);return XC(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function WAe(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Sg(o),l=Fv(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||_f(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const d=Sg(n[a+1]);n[r+1]=iM(d,a),0!==d&&(n[d+1]=m5(n[d+1],r)),n[a+1]=function jAe(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=iM(a,0),0!==a&&(n[a+1]=m5(n[a+1],r)),a=r;else n[r+1]=iM(l,0),0===a?a=r:n[l+1]=m5(n[l+1],r),l=r;c&&(n[r+1]=g5(n[r+1])),k7(n,u,r,!0),k7(n,u,r,!1),function $Ae(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&_f(s,e)>=0&&(t[r+1]=v5(t[r+1]))}(e,u,n,r,s),o=iM(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function _5(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=XC(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function XC(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ec(n,o,!!t||e[++s]))}return void 0===n?null:n}function $7(n,e,t){Ec(n,e,_g(t))}function lpe(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&Ec(n,r,t)}function K7(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function qAe(n){return!(1&~n)}(c)?X7(l,e,t,i,Fv(c),o):void 0;sM(u)||(sM(s)||function GAe(n){return!(2&~n)}(c)&&(s=X7(l,null,t,i,a,o)),function Whe(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:bg.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=bg.Important),n.setStyle(t,r,i,s))}}(r,o,TA(Co(),t),i,s))}function X7(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let d=t[i+1];d===zr&&(d=h?Ur:void 0);let f=h?Bw(d,r):u===r?d:void 0;if(c&&!sM(f)&&(f=Bw(l,r)),sM(f)&&(a=f,o))return a;const A=n[i+1];i=o?Sg(A):Fv(A)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Bw(l,r))}return a}function sM(n){return void 0!==n}function Y7(n,e){return!!(n.flags&(e?8:16))}class bpe{destroy(e){}updateValue(e,t){}swap(e,t){const r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){const o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}}function b5(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function w5(n,e,t,r){return!(void 0===e||!e.has(r)||(n.attach(t,e.get(r)),e.delete(r),0))}function J7(n,e,t,r,i){if(w5(n,e,r,t(r,i)))n.updateValue(r,i);else{const s=n.create(r,i);n.attach(r,s)}}function Z7(n,e,t,r){const i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}class eG{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}}function Fo(n,e,t){Nf("NgControlFlow");const r=xt(),i=Bc(),s=C5(r,Sr+n);if(ia(r,i,e)){const a=bt(null);try{if(BP(s,0),-1!==e){const l=x5(r[fn],Sr+e),c=n_(s,l.tView.ssrId);TC(s,MC(r,l,t,{dehydratedView:c}),0,t_(l,c))}}finally{bt(a)}}else{const a=nz(s,0);void 0!==a&&(a[zs]=t)}}class Cpe{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Rs}}function Rf(n,e){return e}class Epe{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}}function Ku(n,e,t,r,i,s,o,a,l,c,u,h,d){Nf("NgControlFlow");const f=void 0!==l,A=xt(),p=a?o.bind(A[go][zs]):o,m=new Epe(f,p);A[Sr+n]=m,cn(n+1,e,t,r,i,s),f&&cn(n+2,l,c,u,h,d)}class Spe extends bpe{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Rs}at(e){return this.getLView(e)[zs].$implicit}attach(e,t){const r=t[Sc];this.needsIndexUpdate||=e!==this.length,TC(this.lContainer,t,e,t_(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function Dpe(n,e){return xC(n,e)}(this.lContainer,e)}create(e,t){const r=n_(this.lContainer,this.templateTNode.tView.ssrId);return MC(this.hostLView,this.templateTNode,new Cpe(this.lContainer,t,e),{dehydratedView:r})}destroy(e){BD(e[fn],e)}updateValue(e,t){this.getLView(e)[zs].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[zs].$index=e}getLView(e){return function Mpe(n,e){return nz(n,e)}(this.lContainer,e)}}function Xu(n){const e=bt(null),t=Co();try{const r=xt(),i=r[fn],s=r[t];if(void 0===s.liveCollection){const a=t+1,l=C5(r,a),c=x5(i,a);s.liveCollection=new Spe(l,r,c)}else s.liveCollection.reset();const o=s.liveCollection;if(function wpe(n,e,t){let r,i,s=0,o=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){const l=n.at(s),c=e[s],u=b5(s,l,s,c,t);if(0!==u){u<0&&n.updateValue(s,c),s++;continue}const h=n.at(o),d=e[a],f=b5(o,h,a,d,t);if(0!==f){f<0&&n.updateValue(o,d),o--,a--;continue}const A=t(s,l),p=t(o,h),m=t(s,c);if(Object.is(m,p)){const g=t(a,d);Object.is(g,A)?(n.swap(s,o),n.updateValue(o,d),a--,o--):n.move(o,s),n.updateValue(s,c),s++}else if(r??=new eG,i??=Z7(n,s,o,t),w5(n,r,s,m))n.updateValue(s,c),s++,o++;else if(i.has(m))r.set(A,n.detach(s)),o--;else{const g=n.create(s,e[s]);n.attach(s,g),s++,o++}}for(;s<=a;)J7(n,r,t,s,e[s]),s++}else if(null!=e){const a=e[Symbol.iterator]();let l=a.next();for(;!l.done&&s<=o;){const c=n.at(s),u=l.value,h=b5(s,c,s,u,t);if(0!==h)h<0&&n.updateValue(s,u),s++,l=a.next();else{r??=new eG,i??=Z7(n,s,o,t);const d=t(s,u);if(w5(n,r,s,d))n.updateValue(s,u),s++,o++,l=a.next();else if(i.has(d)){const f=t(s,c);r.set(f,n.detach(s)),o--}else n.attach(s,n.create(s,u)),s++,o++,l=a.next()}}for(;!l.done;)J7(n,r,t,n.length,l.value),l=a.next()}for(;s<=o;)n.destroy(n.detach(o--));r?.forEach(a=>{n.destroy(a)})}(o,n,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){const a=Bc(),l=0===o.length;if(ia(r,a,l)){const c=t+2,u=C5(r,c);if(l){const h=x5(i,c),d=n_(u,h.tView.ssrId);TC(u,MC(r,h,void 0,{dehydratedView:d}),0,t_(h,d))}else BP(u,0)}}}finally{bt(e)}}function C5(n,e){return n[e]}function x5(n,e){return wf(n,e)}function fe(n,e,t,r){const i=xt(),s=yi(),o=Sr+n,a=i[vr],l=s.firstCreatePass?function Tpe(n,e,t,r,i,s){const o=e.consts,l=e_(e,n,2,r,Dh(o,i));return xP(e,t,l,Dh(o,s)),null!==l.attrs&&jD(l,l.attrs,!1),null!==l.mergedAttrs&&jD(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=tG(s,i,l,a,e,n);i[o]=c;const u=hg(l);return Gu(l,!0),HQ(a,c,l),!jC(l)&&NA()&&ID(s,i,c,l),0===function bO(){return dr.lFrame.elementDepthCount}()&&Si(c,i),function wO(){dr.lFrame.elementDepthCount++}(),u&&(bP(s,i,l),_P(s,l,i)),null!==r&&wP(i,l),fe}function ce(){let n=hs();Td()?mv():(n=n.parent,Gu(n,!1));const e=n;(function xO(n){return dr.skipHydrationRootTNode===n})(e)&&function W2(){dr.skipHydrationRootTNode=null}(),function CO(){dr.lFrame.elementDepthCount--}();const t=yi();return t.firstCreatePass&&(_v(t,n),Fy(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function MO(n){return!!(8&n.flags)}(e)&&y5(t,e,xt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function lC(n){return!!(16&n.flags)}(e)&&y5(t,e,xt(),e.stylesWithoutHost,!1),ce}function lt(n,e,t,r){return fe(n,e,t,r),ce(),lt}let tG=(n,e,t,r,i,s)=>(Yl(!0),TD(r,i,iC()));function Bpe(n,e,t,r,i,s){const o=e[Sc],a=!o||Cf()||jC(t)||wD(o,s);if(Yl(a),a)return TD(r,i,iC());const l=VD(o,n,e,t);return eQ(o,s)&&bD(o,s,l.nextSibling),o&&(at(t)||Et(l))&&MA(t)&&(function eC(n){dr.skipHydrationRootTNode=n}(t),LQ(l)),l}function Rv(n,e,t){const r=xt(),i=yi(),s=n+Sr,o=i.firstCreatePass?function Ipe(n,e,t,r,i){const s=e.consts,o=Dh(s,r),a=e_(e,n,8,"ng-container",o);return null!==o&&jD(a,o,!0),xP(e,t,a,Dh(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Gu(o,!0);const a=nG(i,r,o,n);return r[s]=a,NA()&&ID(i,r,a,o),Si(a,r),hg(o)&&(bP(i,r,o),_P(i,o,r)),null!=t&&wP(r,o),Rv}function Ov(){let n=hs();const e=yi();return Td()?mv():(n=n.parent,Gu(n,!1)),e.firstCreatePass&&(_v(e,n),Fy(n)&&e.queries.elementEnd(n)),Ov}function E5(n,e,t){return Rv(n,e,t),Ov(),E5}let nG=(n,e,t,r)=>(Yl(!0),dP(e[vr],""));function Fpe(n,e,t,r){let i;const s=e[Sc],o=!s||Cf()||jC(t);if(Yl(o),o)return dP(e[vr],"");const a=VD(s,n,e,t),l=function Kue(n,e){const t=n.data;let r=t[qO]?.[e]??null;return null===r&&t[mC]?.[e]&&(r=eP(n,e)),r}(s,r);return bD(s,r,a),i=QD(l,a),i}function bs(){return xt()}const Pv=void 0;var Ppe=["en",[["a","p"],["AM","PM"],Pv],[["AM","PM"],Pv,Pv],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pv,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pv,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pv,"{1} 'at' {0}",Pv],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ope(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let __={};function Nc(n){const e=function Lpe(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=sG(e);if(t)return t;const r=e.split("-")[0];if(t=sG(r),t)return t;if("en"===r)return Ppe;throw new dt(701,!1)}function sG(n){return n in __||(__[n]=ls.ng&&ls.ng.common&&ls.ng.common.locales&&ls.ng.common.locales[n]),__[n]}var co=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(co||{});const b_="en-US",oM={marker:"element"},aM={marker:"ICU"};var uu=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(uu||{});let oG=b_;function lG(n,e,t){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?FQ(n,0,t):ms(t[i])}function cG(n,e,t,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&-1===e.componentOffset)for(let l=1;l<s.length;l++)Mv(n,o,t[s[l]],a,!1)}}function uG(n,e){if(n.push(e),n.length>1)for(let t=n.length-2;t>=0;t--){const r=n[t];hG(r)||Qpe(r,e)&&null===zpe(r)&&Gpe(r,e.index)}}function hG(n){return!(64&n.type)}function Qpe(n,e){return hG(e)||n.index>e.index}function zpe(n){const e=n.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Gpe(n,e){const t=n.insertBeforeIndex;Array.isArray(t)?t[0]=e:(OQ(lG,cG),n.insertBeforeIndex=e)}function Wpe(n,e,t){const r=yP(n,t,64,null,null);return uG(e,r),r}function pG(n,e,t){const r=n[vr];switch(t){case Node.COMMENT_NODE:return dP(r,e);case Node.TEXT_NODE:return fP(r,e);case Node.ELEMENT_NODE:return TD(r,e,null)}}let ex=(n,e,t,r)=>(Yl(!0),pG(n,t,r));function Ype(n,e,t,r){return Yl(!0),pG(n,t,r)}function nge(){const n=[];let t,r,e=-1;function s(a,l){e=0;const c=function lM(n,e){const t=e[n.currentCaseLViewIndex];return null===t?t:t<0?~t:t}(a,l);r=null!==c?a.remove[c]:Ur}function o(){if(e<r.length){const a=r[e++];return a>0?t[a]:(n.push(e,r),s(t[fn].data[~a],t),o())}return 0===n.length?null:(r=n.pop(),e=n.pop(),o())}return function i(a,l){for(t=l;n.length;)n.pop();return s(a.value,l),o}}const cM=/\ufffd(\d+):?\d*\ufffd/gi,ige=/\ufffd(\d+)\ufffd/,bG=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,tx="\ufffd",sge=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,oge=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,age=/\uE500/g;function wG(n,e,t,r,i,s,o){const a=DC(n,r,1,null);let l=a<<uu.SHIFT,c=gv();e===c&&(c=null),null===c&&(l|=uu.APPEND_EAGERLY),o&&(l|=uu.COMMENT,function Ohe(n){void 0===uP&&(uP=n())}(nge)),i.push(l,null===s?"":s);const u=yP(n,a,o?32:1,null===s?"":s,null);uG(t,u);const h=u.index;return Gu(u,!1),null!==c&&e!==c&&function qpe(n,e){let t=n.insertBeforeIndex;null===t?(OQ(lG,cG),t=n.insertBeforeIndex=[null,e]):(bh(Array.isArray(t),!0,"Expecting array here"),t.push(e))}(c,h),u}function uge(n,e,t,r,i,s,o,a){const l=a.match(cM),u=wG(e,t,r,o,i,l?null:a,!1).index;l&&nx(s,a,u,null,0,null),n.push({kind:0,index:u})}function nx(n,e,t,r,i,s){const o=n.length,a=o+1;n.push(null,null);const l=o+2,c=e.split(cM);let u=0;for(let h=0;h<c.length;h++){const d=c[h];if(1&h){const f=i+parseInt(d,10);n.push(-1-f),u|=CG(f)}else""!==d&&n.push(d)}return n.push(t<<2|(r?1:0)),r&&n.push(r,s),n[o]=u,n[a]=n.length-l,u}function CG(n){return 1<<Math.min(n,31)}function xG(n){let e,s,t="",r=0,i=!1;for(;null!==(e=sge.exec(n));)i?e[0]===`${tx}/*${s}${tx}`&&(r=e.index,i=!1):(t+=n.substring(r,e.index+e[0].length),s=e[1],i=!0);return t+=n.slice(r),t}function EG(n,e,t,r,i,s,o){let a=0;const l={type:s.type,currentCaseLViewIndex:DC(e,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};(function vge(n,e,t){n.push(CG(e.mainBinding),2,-1-e.mainBinding,t<<2|2)})(r,s,o),function jpe(n,e,t){const r=n.data[e];null===r?n.data[e]=t:r.value=t}(e,o,l);const c=s.values,u=[];for(let h=0;h<c.length;h++){const d=c[h],f=[];for(let p=0;p<d.length;p++){const m=d[p];if("string"!=typeof m){const g=f.push(m)-1;d[p]=`\x3c!--\ufffd${g}\ufffd--\x3e`}}const A=[];u.push(A),a=gge(A,e,l,t,r,i,s.cases[h],d.join(""),f)|a}a&&function yge(n,e,t){n.push(e,1,t<<2|3)}(r,a,o),n.push({kind:3,index:o,cases:u,currentCaseLViewIndex:l.currentCaseLViewIndex})}function pge(n){const e=[],t=[];let r=1,i=0;const s=S5(n=n.replace(bG,function(o,a,l){return r="select"===l?0:1,i=parseInt(a.slice(1),10),""}));for(let o=0;o<s.length;){let a=s[o++].trim();1===r&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);const l=S5(s[o++]);e.length>t.length&&t.push(l)}return{type:r,mainBinding:i,cases:e,values:t}}function S5(n){if(!n)return[];let e=0;const t=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(n);){const a=s.index;if("}"==s[0]){if(t.pop(),0==t.length){const l=n.substring(e,a);bG.test(l)?r.push(pge(l)):r.push(l),e=a+1}}else{if(0==t.length){const l=n.substring(e,a);r.push(l),e=a+1}t.push("{")}}const o=n.substring(e);return r.push(o),r}function gge(n,e,t,r,i,s,o,a,l){const c=[],u=[],h=[];t.cases.push(o),t.create.push(c),t.remove.push(u),t.update.push(h);const f=function lQ(n){const e=new she(n);return function ohe(){try{return!!(new window.DOMParser).parseFromString(Xy(""),"text/html")}catch{return!1}}()?new ihe(e):e}(yg()).getInertBodyElement(a),A=function oP(n){return"content"in n&&function ghe(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(f)||f;return A?SG(n,e,t,r,i,c,u,h,A,s,l,0):0}function SG(n,e,t,r,i,s,o,a,l,c,u,h){let d=0,f=l.firstChild;for(;f;){const A=DC(e,r,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const p=f,m=p.tagName.toLowerCase();if(iP.hasOwnProperty(m)){D5(s,oM,m,c,A),e.data[A]=m;const _=p.attributes;for(let b=0;b<_.length;b++){const M=_.item(b),D=M.name.toLowerCase();M.value.match(cM)?fQ.hasOwnProperty(D)&&nx(a,M.value,A,M.name,0,sP[D]?rP:null):_ge(s,A,M)}const C={kind:1,index:A,children:[]};n.push(C),d=SG(C.children,e,t,r,i,s,o,a,f,A,u,h+1)|d,DG(o,A,h)}break;case Node.TEXT_NODE:const g=f.textContent||"",y=g.match(cM);D5(s,null,y?"":g,c,A),DG(o,A,h),y&&(d=nx(a,g,A,null,0,null)|d),n.push({kind:0,index:A});break;case Node.COMMENT_NODE:const v=ige.exec(f.textContent||"");if(v){const C=u[parseInt(v[1],10)];D5(s,aM,"",c,A),EG(n,e,r,i,c,C,A),mge(o,A,h)}}f=f.nextSibling}return d}function DG(n,e,t){0===t&&n.push(e)}function mge(n,e,t){0===t&&(n.push(~e),n.push(e))}function D5(n,e,t,r,i){null!==e&&n.push(e),n.push(t,i,function $pe(n,e,t){return n|e<<17|t<<1}(0,r,i))}function _ge(n,e,t){n.push(e<<1|1,t.name,t.value)}function TG(n,e,t=-1){const r=yi(),i=xt(),s=Sr+n,o=Dh(r.consts,e),a=gv();r.firstCreatePass&&function cge(n,e,t,r,i,s){const o=gv(),a=[],l=[],c=[[]],u=[[]];i=function Age(n,e){if(function dge(n){return-1===n}(e))return xG(n);{const t=n.indexOf(`:${e}${tx}`)+2+e.toString().length,r=n.search(new RegExp(`${tx}\\/\\*\\d+:${e}${tx}`));return xG(n.substring(t,r))}}(i,s);const h=function lge(n){return n.replace(age," ")}(i).split(oge);for(let d=0;d<h.length;d++){let f=h[d];if(1&d){const A=47===f.charCodeAt(0),p=f.charCodeAt(A?1:0),m=Sr+Number.parseInt(f.substring(A?2:1));if(A)c.shift(),u.shift(),Gu(gv(),!1);else{const g=Wpe(n,c[0],m);c.unshift([]),Gu(g,!0);const y={kind:2,index:m,children:[],type:35===p?0:1};u[0].push(y),u.unshift(y.children)}}else{const A=S5(f);for(let p=0;p<A.length;p++){let m=A[p];if(1&p){const g=m;if("object"!=typeof g)throw new Error(`Unable to parse ICU expression in "${i}" message.`);const v=wG(n,o,c[0],t,a,"",!0).index;EG(u[0],n,t,l,e,g,v)}else""!==m&&uge(u[0],n,o,c[0],a,l,t,m)}}}n.data[r]={create:a,update:l,ast:u[0]}}(r,null===a?0:a.index,i,s,o,t),2===r.type?i[go][er]|=32:i[er]|=32;const l=r.data[s],u=TQ(r,a===i[nl]?null:a,i);(function Zpe(n,e,t,r){const i=n[vr];for(let s=0;s<e.length;s++){const o=e[s++],c=(o&uu.APPEND_EAGERLY)===uu.APPEND_EAGERLY,u=o>>>uu.SHIFT;let h=n[u],d=!1;null===h&&(h=n[u]=ex(n,u,e[s],(o&uu.COMMENT)===uu.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),d=NA()),c&&null!==t&&d&&Mv(i,t,h,r,!1)}})(i,l.create,u,a&&8&a.type?i[a.index]:null),Uy(!0)}function rx(n,e,t){TG(n,e,t),function BG(){Uy(!1)}()}function jt(n,e,t,r){const i=xt(),s=yi(),o=hs();return M5(s,i,i[vr],o,n,e,r),jt}function M5(n,e,t,r,i,s,o){const a=hg(r),c=n.firstCreatePass&&ez(n),u=e[zs],h=ZQ(e);let d=!0;if(3&r.type||o){const p=il(r,e),m=o?o(p):p,g=h.length,y=o?_=>o(ms(_[r.index])):r.index;let v=null;if(!o&&a&&(v=function Ige(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[lg],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,d=!1;else{s=RG(r,e,u,s,!1);const _=t.listen(m,i,s);h.push(s,_),c&&c.push(i,y,g,g+1)}}else s=RG(r,e,u,s,!1);const f=r.outputs;let A;if(d&&null!==f&&(A=f[i])){const p=A.length;if(p)for(let m=0;m<p;m+=2){const C=e[A[m]][A[m+1]].subscribe(s),b=h.length;h.push(s,C),c&&c.push(i,r.index,b,-(b+1))}}}function FG(n,e,t,r){const i=bt(null);try{return Sh(6,e,t),!1!==t(r)}catch(s){return PD(n,s),!1}finally{Sh(7,e,t),bt(i)}}function RG(n,e,t,r,i){return function s(o){if(o===Function)return r;NC(n.componentOffset>-1?Tc(n.index,e):e);let l=FG(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=FG(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function rn(n=1){return function Io(n){return(dr.lFrame.contextLView=function G2(n,e){for(;n>0;)e=e[cg],n--;return e}(n,dr.lFrame.contextLView))[zs]}(n)}function Fge(n,e){let t=null;const r=function OR(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?y2(n,s,!0):UR(r,s))return i}else t=i}return t}function ix(n){const e=xt()[go][nl];if(!e.projection){const r=e.projection=function Zp(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?Fge(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function sx(n,e=0,t){const r=xt(),i=yi(),s=e_(i,Sr+n,16,null,t||null);null===s.projection&&(s.projection=e),mv(),(!r[Sc]||Cf())&&32&~s.flags&&function jhe(n,e,t){UQ(e[vr],0,e,t,pP(n,t,e),IQ(t.parent||e[nl],t,e))}(i,r,s)}function Mg(n,e,t){return ox(n,"",e,"",t),Mg}function ox(n,e,t,r,i){const s=xt(),o=h_(s,e,t,r);return o!==zr&&lu(yi(),Ui(),s,n,o,s[vr],i,!1),ox}function wa(n,e,t,r){!function kz(n,e,t,r){const i=yi();if(i.firstCreatePass){const s=hs();Hz(i,new Oz(e,t,r),s.index),function Lde(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),!(2&~t)&&(i.staticContentQueries=!0)}return Lz(i,xt(),t)}(n,e,t,r)}function $i(n,e,t){!function Uz(n,e,t){const r=yi();return r.firstCreatePass&&(Hz(r,new Oz(n,e,t),-1),!(2&~e)&&(r.staticViewQueries=!0)),Lz(r,xt(),e)}(n,e,t)}function lr(n){const e=xt(),t=yi(),r=Ag();vv(r+1);const i=ZP(t,r);if(n.dirty&&function Q2(n){return!(4&~n[er])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)n.reset([]);else{const s=Vz(e,r);n.reset(s,I),n.notifyOnChanges()}return!0}return!1}function cr(){return function JP(n,e){return n[En].queries[e].queryList}(xt(),Ag())}function Of(n){return fg(function Ly(){return dr.lFrame.contextLView}(),Sr+n)}function Me(n,e=""){const t=xt(),r=yi(),i=n+Sr,s=r.firstCreatePass?e_(r,i,1,e,null):r.data[i],o=JG(r,t,s,e,n);t[i]=o,NA()&&ID(r,t,o,s),Gu(s,!1)}let JG=(n,e,t,r,i)=>(Yl(!0),fP(e[vr],r));function Wge(n,e,t,r,i){const s=e[Sc],o=!s||Cf()||jC(t)||wD(s,i);return Yl(o),o?fP(e[vr],r):VD(s,n,e,t)}function Br(n){return Hi("",n,""),Br}function Hi(n,e,t){const r=xt(),i=h_(r,n,e,t);return i!==zr&&VA(r,Co(),i),Hi}function uM(n,e,t,r,i){const s=xt(),o=f_(s,n,e,t,r,i);return o!==zr&&VA(s,Co(),o),uM}function Pf(n,e,t){Gz(e)&&(e=e());const r=xt();return ia(r,Bc(),e)&&lu(yi(),Ui(),r,n,e,r[vr],t,!1),Pf}function kd(n,e){const t=Gz(n);return t&&n.set(e),t}function Lf(n,e){const t=xt(),r=yi(),i=hs();return M5(r,t,t[vr],i,n,e),Lf}function T5(n,e,t,r,i){if(n=or(n),Array.isArray(n))for(let s=0;s<n.length;s++)T5(n[s],e,t,r,i);else{const s=yi(),o=xt(),a=hs();let l=Sd(n)?n:or(n.provide);const c=E2(n),u=1048575&a.providerIndexes,h=a.directiveStart,d=a.providerIndexes>>20;if(Sd(n)||!n.multi){const f=new bv(c,i,At),A=N5(l,e,i?u:u+d,h);-1===A?(hC(Tn(a,o),s,l),B5(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),o.push(f)):(t[A]=f,o[A]=f)}else{const f=N5(l,e,u+d,h),A=N5(l,e,u,u+d),m=A>=0&&t[A];if(i&&!m||!i&&!(f>=0&&t[f])){hC(Tn(a,o),s,l);const g=function Jge(n,e,t,r,i){const s=new bv(n,t,At);return s.multi=[],s.index=e,s.componentProviders=0,o9(s,i,r&&!t),s}(i?Yge:Xge,t.length,i,r,c);!i&&m&&(t[A].providerFactory=g),B5(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),o.push(g)}else B5(s,n,f>-1?f:A,o9(t[i?A:f],c,!i&&r));!i&&r&&m&&t[A].componentProviders++}}}function B5(n,e,t,r){const i=Sd(e),s=function WR(n){return!!n.useClass}(e);if(i||s){const l=(s?or(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function o9(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function N5(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Xge(n,e,t,r){return I5(this.multi,[])}function Yge(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=RA(t,t[fn],this.providerFactory.index,r);s=a.slice(0,o),I5(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],I5(i,s);return s}function I5(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Zs(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Kge(n,e,t){const r=yi();if(r.firstCreatePass){const i=zu(n);T5(t,r.data,r.blueprint,i,!0),T5(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}let Zge=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Lw(0,t.type),i=r.length>0?KD([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Lt({token:n,providedIn:"environment",factory:()=>new n(Wt(La))})}}return n})();function Ca(n){Nf("NgStandalone"),n.getStandaloneInjector=e=>e.get(Zge).getOrCreateStandaloneInjector(n)}function ax(n,e,t){const r=El()+n,i=xt();return i[r]===zr?Ld(i,r,t?e.call(t):e()):function GC(n,e){return n[e]}(i,r)}function Hd(n,e,t,r){return c9(xt(),El(),n,e,t,r)}function lx(n,e,t,r,i){return function u9(n,e,t,r,i,s,o){const a=e+t;return Nv(n,a,i,s)?Ld(n,a+2,o?r.call(o,i,s):r(i,s)):cx(n,a+2)}(xt(),El(),n,e,t,r,i)}function F5(n,e,t,r,i,s){return function h9(n,e,t,r,i,s,o,a){const l=e+t;return function JD(n,e,t,r,i){const s=Nv(n,e,t,r);return ia(n,e+2,i)||s}(n,l,i,s,o)?Ld(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):cx(n,l+3)}(xt(),El(),n,e,t,r,i,s)}function cx(n,e){const t=n[e];return t===zr?void 0:t}function c9(n,e,t,r,i,s){const o=e+t;return ia(n,o,i)?Ld(n,o+1,s?r.call(s,i):r(i)):cx(n,o+1)}function hu(n,e){const t=yi();let r;const i=n+Sr;t.firstCreatePass?(r=function ame(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Kl(r.type)),a=$l(At);try{const l=Qy(!1),c=s();return Qy(l),function Lge(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,xt(),i,c),c}finally{$l(a)}}function fu(n,e,t){const r=n+Sr,i=xt(),s=fg(i,r);return function ux(n,e){return n[fn].data[e].pure}(i,r)?c9(i,El(),e,s.transform,t,s):s.transform(t)}function Uf(n,e){return UD(n,e)}class fx{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const T9=new fx("17.3.12");let U5=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const R9=new bn(""),AM=new bn("");let Q5,H5=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Q5||(function ive(n){Q5=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(Wt(Cr),Wt(V5),Wt(AM))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})(),V5=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Q5?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function Ax(n){return!!n&&"function"==typeof n.then}function O9(n){return!!n&&"function"==typeof n.subscribe}const pM=new bn("");let z5=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Ve(pM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(Ax(s))t.push(s);else if(O9(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const gM=new bn("");function U9(n,e){return Array.isArray(e)?e.reduce(U9,n):{...n,...e}}let vM,kf=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ve(gD),this.afterRenderEffectManager=Ve(UC),this.externalTestViews=new Set,this.beforeRender=new Lr,this.afterTick=new Lr,this.componentTypes=[],this.components=[],this.isStable=Ve(xg).hasPendingTasks.pipe(Qr(t=>!t)),this._injector=Ve(La)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof pz;if(!this._injector.get(z5).done)throw!i&&function Ed(n){const e=ui(n)||na(n)||Vo(n);return null!==e&&e.standalone}(t),new dt(405,!1);let o;o=i?t:this._injector.get(LC).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function sve(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Bv),c=o.create(xo.NULL,[],r||o.selector,a),u=c.location.nativeElement,h=c.injector.get(R9,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),mM(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new dt(101,!1);const r=bt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,bt(r)}}detectChangesInAttachedViews(t){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===sz)throw new dt(103,!1);if(t){const s=0===r;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)ove(o,s,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>G5(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>G5(s))))break}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;mM(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(gM,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>mM(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new dt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function k9(n){vM??=new WeakMap;const e=vM.get(n);if(e)return e;const t=n.isStable.pipe(_h(r=>r)).toPromise().then(()=>{});return vM.set(n,t),n.onDestroy(()=>vM?.delete(n)),t}function ove(n,e,t){!e&&!G5(n)||function ave(n,e,t){let r;t?(r=0,n[er]|=1024):r=64&n[er]?0:1,LD(n,e,r)}(n,t,e)}function G5(n){return Jw(n)}class lve{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let H9=(()=>{class n{compileModuleSync(t){return new s5(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Wu(tl(t).declarations).reduce((o,a)=>{const l=ui(a);return l&&o.push(new VC(l)),o},[]);return new lve(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hve=(()=>{class n{constructor(){this.zone=Ve(Cr),this.applicationRef=Ve(kf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fve(){const n=Ve(Cr),e=Ve(ju);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Ave=(()=>{class n{constructor(){this.subscription=new mi,this.initialized=!1,this.zone=Ve(Cr),this.pendingTasks=Ve(xg)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Cr.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Cr.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Vd=new bn("",{providedIn:"root",factory:()=>Ve(Vd,vi.Optional|vi.SkipSelf)||function pve(){return typeof $localize<"u"&&$localize.locale||b_}()}),j5=new bn("");let G9=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function dde(n="zone.js",e){return"noop"===n?new bz:"zone.js"===n?new Cr(e):n}(r?.ngZone,function z9(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function rAe(n,e,t){return new r5(n,e,t)}(t.moduleType,this.injector,function Q9(n){return[{provide:Cr,useFactory:n},{provide:bf,multi:!0,useFactory:()=>{const e=Ve(hve,{optional:!0});return()=>e.initialize()}},{provide:bf,multi:!0,useFactory:()=>{const e=Ve(Ave);return()=>{e.initialize()}}},{provide:gD,useFactory:fve}]}(()=>i)),o=s.injector.get(ju,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{mM(this._modules,s),a.unsubscribe()})}),function L9(n,e,t){try{const r=t();return Ax(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(z5);return a.runInitializers(),a.donePromise.then(()=>(function aG(n){"string"==typeof n&&(oG=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Vd,b_)||b_),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=U9({},r);return function uve(n,e,t){const r=new s5(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(kf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new dt(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new dt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(j5,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(Wt(xo))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Tg=null;const j9=new bn("");function q9(n,e,t=[]){const r=`Platform: ${e}`,i=new bn(r);return(s=[])=>{let o=q5();if(!o||o.injector.get(j9,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function vve(n){if(Tg&&!Tg.get(j9,!1))throw new dt(400,!1);(function P9(){!function Qp(n){yd=n}(()=>{throw new dt(600,!1)})})(),Tg=n;const e=n.get(G9);(function $9(n){n.get(KV,null)?.forEach(t=>t())})(n)}(function W9(n=[],e){return xo.create({name:e,providers:[{provide:kw,useValue:"platform"},{provide:j5,useValue:new Set([()=>Tg=null])},...n]})}(a,r))}return function yve(n){const e=q5();if(!e)throw new dt(401,!1);return e}()}}function q5(){return Tg?.get(G9)??null}let Hf=(()=>{class n{static{this.__NG_ELEMENT_ID__=bve}}return n})();function bve(n){return function wve(n,e,t){if(MA(n)&&!t){const r=Tc(n.index,e);return new IC(r,r)}return 47&n.type?new IC(e[go],e):null}(hs(),xt(),!(16&~n))}class Z9{constructor(){}supports(e){return YD(e)}create(e){return new Dve(e)}}const Sve=(n,e)=>e;class Dve{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Sve}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<tj(r,i,s)?t:r,a=tj(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let d=0;d<c;d++){const f=d<s.length?s[d]:s[d]=0,A=f+d;u<=A&&A<c&&(s[d]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!YD(e))throw new dt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function aAe(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Mve(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ej),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ej),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Mve{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tve{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class ej{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Tve,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tj(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class nj{constructor(){}supports(e){return e instanceof Map||o5(e)}create(){return new Bve}}class Bve{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||o5(e)))throw new dt(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Nve(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Nve{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rj(){return new Y5([new Z9])}let Y5=(()=>{class n{static{this.\u0275prov=Lt({token:n,providedIn:"root",factory:rj})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||rj()),deps:[[n,new tv,new wA]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new dt(901,!1)}}return n})();function ij(){return new bM([new nj])}let bM=(()=>{class n{static{this.\u0275prov=Lt({token:n,providedIn:"root",factory:ij})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ij()),deps:[[n,new tv,new wA]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new dt(901,!1)}}return n})();const Rve=q9(null,"core",[]);let Ove=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(Wt(kf))}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),vj=!1,yj=!1;function Zve(){return rg([{provide:CD,useFactory:()=>{let n=!0;return Tf()&&(n=!!Ve(Wy,{optional:!0})?.get(XO,null)),n&&Nf("NgHydration"),n}},{provide:bf,useValue:()=>{yj=!!Ve(rQ,{optional:!0}),Tf()&&Ve(CD)&&(function t0e(){const n=yg();let e;for(const t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===Que){e=t;break}if(!e)throw new dt(-507,!1)}(),function Yve(){vj||(vj=!0,function Gue(){YV=zue}(),function Npe(){tG=Bpe}(),function $ge(){JG=Wge}(),function Rpe(){nG=Fpe}(),function hAe(){a7=uAe}(),function Nde(){Iz=Bde,qP=Tde}(),function nde(){Az=tde}(),function efe(){qQ=Zhe}(),function Jpe(){ex=Ype}())}())},multi:!0},{provide:nQ,useFactory:()=>Tf()&&Ve(CD)},{provide:gM,useFactory:()=>{if(Tf()&&Ve(CD)){const n=Ve(kf);return Ve(xo),()=>{(function Jve(n,e){return k9(n)})(n).then(()=>{!function Gfe(n){const e=n._views;for(const t of e){const r=JV(t);null!==r&&null!==r[lo]&&(_a(r)?HD(r):(HD(r[lo]),fz(r)))}}(n)})}}return()=>{}},multi:!0}])}function Tl(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function h0e(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}function Sj(n){const e=bt(null);try{return n()}finally{bt(e)}}function eL(n,e){const t=ui(n),r=e.elementInjector||My();return new VC(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let Dj=null;function Bg(){return Dj}class _0e{}const rs=new bn("");let tL=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>Ve(w0e),providedIn:"platform"})}}return n})();const b0e=new bn("");let w0e=(()=>{class n extends tL{constructor(){super(),this._doc=Ve(rs),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bg().getBaseHref(this._doc)}onPopState(t){const r=Bg().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Bg().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function nL(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Mj(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function QA(n){return n&&"?"!==n[0]?"?"+n:n}let Uv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>Ve(Bj),providedIn:"root"})}}return n})();const Tj=new bn("");let Bj=(()=>{class n extends Uv{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ve(rs).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return nL(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+QA(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+QA(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+QA(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Wt(tL),Wt(Tj,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),C0e=(()=>{class n extends Uv{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=nL(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+QA(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+QA(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Wt(tL),Wt(Tj,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})(),E_=(()=>{class n{constructor(t){this._subject=new ie,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function S0e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Mj(Nj(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+QA(r))}normalize(t){return n.stripTrailingSlash(function E0e(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Nj(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+QA(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+QA(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=QA}static{this.joinWithSlash=nL}static{this.stripTrailingSlash=Mj}static{this.\u0275fac=function(r){return new(r||n)(Wt(Uv))}}static{this.\u0275prov=Lt({token:n,factory:()=>function x0e(){return new E_(Wt(Uv))}(),providedIn:"root"})}}return n})();function Nj(n){return n.replace(/\/index.html$/,"")}var DM=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(DM||{}),sl=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(sl||{}),is=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(is||{}),Yu=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Yu||{});const xa={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function MM(n,e){return Ph(Nc(n)[co.DateFormat],e)}function TM(n,e){return Ph(Nc(n)[co.TimeFormat],e)}function BM(n,e){return Ph(Nc(n)[co.DateTimeFormat],e)}function Oh(n,e){const t=Nc(n),r=t[co.NumberSymbols][e];if(typeof r>"u"){if(e===xa.CurrencyDecimal)return t[co.NumberSymbols][xa.Decimal];if(e===xa.CurrencyGroup)return t[co.NumberSymbols][xa.Group]}return r}function Rj(n){if(!n[co.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[co.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ph(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function sL(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const U0e=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,NM={},k0e=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zA=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(zA||{}),ws=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(ws||{}),Cs=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Cs||{});function Oj(n,e,t,r){let i=function $0e(n){if(Uj(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return IM(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(U0e))return function K0e(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(r)}const e=new Date(n);if(!Uj(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=GA(t,e)||e;let a,o=[];for(;e;){if(a=k0e.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=i.getTimezoneOffset();r&&(l=Lj(r,l),i=function W0e(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function q0e(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Lj(e,i)-i))}(i,r,!0));let c="";return o.forEach(u=>{const h=function j0e(n){if(aL[n])return aL[n];let e;switch(n){case"G":case"GG":case"GGG":e=uo(Cs.Eras,is.Abbreviated);break;case"GGGG":e=uo(Cs.Eras,is.Wide);break;case"GGGGG":e=uo(Cs.Eras,is.Narrow);break;case"y":e=Ea(ws.FullYear,1,0,!1,!0);break;case"yy":e=Ea(ws.FullYear,2,0,!0,!0);break;case"yyy":e=Ea(ws.FullYear,3,0,!1,!0);break;case"yyyy":e=Ea(ws.FullYear,4,0,!1,!0);break;case"Y":e=PM(1);break;case"YY":e=PM(2,!0);break;case"YYY":e=PM(3);break;case"YYYY":e=PM(4);break;case"M":case"L":e=Ea(ws.Month,1,1);break;case"MM":case"LL":e=Ea(ws.Month,2,1);break;case"MMM":e=uo(Cs.Months,is.Abbreviated);break;case"MMMM":e=uo(Cs.Months,is.Wide);break;case"MMMMM":e=uo(Cs.Months,is.Narrow);break;case"LLL":e=uo(Cs.Months,is.Abbreviated,sl.Standalone);break;case"LLLL":e=uo(Cs.Months,is.Wide,sl.Standalone);break;case"LLLLL":e=uo(Cs.Months,is.Narrow,sl.Standalone);break;case"w":e=oL(1);break;case"ww":e=oL(2);break;case"W":e=oL(1,!0);break;case"d":e=Ea(ws.Date,1);break;case"dd":e=Ea(ws.Date,2);break;case"c":case"cc":e=Ea(ws.Day,1);break;case"ccc":e=uo(Cs.Days,is.Abbreviated,sl.Standalone);break;case"cccc":e=uo(Cs.Days,is.Wide,sl.Standalone);break;case"ccccc":e=uo(Cs.Days,is.Narrow,sl.Standalone);break;case"cccccc":e=uo(Cs.Days,is.Short,sl.Standalone);break;case"E":case"EE":case"EEE":e=uo(Cs.Days,is.Abbreviated);break;case"EEEE":e=uo(Cs.Days,is.Wide);break;case"EEEEE":e=uo(Cs.Days,is.Narrow);break;case"EEEEEE":e=uo(Cs.Days,is.Short);break;case"a":case"aa":case"aaa":e=uo(Cs.DayPeriods,is.Abbreviated);break;case"aaaa":e=uo(Cs.DayPeriods,is.Wide);break;case"aaaaa":e=uo(Cs.DayPeriods,is.Narrow);break;case"b":case"bb":case"bbb":e=uo(Cs.DayPeriods,is.Abbreviated,sl.Standalone,!0);break;case"bbbb":e=uo(Cs.DayPeriods,is.Wide,sl.Standalone,!0);break;case"bbbbb":e=uo(Cs.DayPeriods,is.Narrow,sl.Standalone,!0);break;case"B":case"BB":case"BBB":e=uo(Cs.DayPeriods,is.Abbreviated,sl.Format,!0);break;case"BBBB":e=uo(Cs.DayPeriods,is.Wide,sl.Format,!0);break;case"BBBBB":e=uo(Cs.DayPeriods,is.Narrow,sl.Format,!0);break;case"h":e=Ea(ws.Hours,1,-12);break;case"hh":e=Ea(ws.Hours,2,-12);break;case"H":e=Ea(ws.Hours,1);break;case"HH":e=Ea(ws.Hours,2);break;case"m":e=Ea(ws.Minutes,1);break;case"mm":e=Ea(ws.Minutes,2);break;case"s":e=Ea(ws.Seconds,1);break;case"ss":e=Ea(ws.Seconds,2);break;case"S":e=Ea(ws.FractionalSeconds,1);break;case"SS":e=Ea(ws.FractionalSeconds,2);break;case"SSS":e=Ea(ws.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=RM(zA.Short);break;case"ZZZZZ":e=RM(zA.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=RM(zA.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=RM(zA.Long);break;default:return null}return aL[n]=e,e}(u);c+=h?h(i,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function IM(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function GA(n,e){const t=function M0e(n){return Nc(n)[co.LocaleId]}(n);if(NM[t]??={},NM[t][e])return NM[t][e];let r="";switch(e){case"shortDate":r=MM(n,Yu.Short);break;case"mediumDate":r=MM(n,Yu.Medium);break;case"longDate":r=MM(n,Yu.Long);break;case"fullDate":r=MM(n,Yu.Full);break;case"shortTime":r=TM(n,Yu.Short);break;case"mediumTime":r=TM(n,Yu.Medium);break;case"longTime":r=TM(n,Yu.Long);break;case"fullTime":r=TM(n,Yu.Full);break;case"short":const i=GA(n,"shortTime"),s=GA(n,"shortDate");r=FM(BM(n,Yu.Short),[i,s]);break;case"medium":const o=GA(n,"mediumTime"),a=GA(n,"mediumDate");r=FM(BM(n,Yu.Medium),[o,a]);break;case"long":const l=GA(n,"longTime"),c=GA(n,"longDate");r=FM(BM(n,Yu.Long),[l,c]);break;case"full":const u=GA(n,"fullTime"),h=GA(n,"fullDate");r=FM(BM(n,Yu.Full),[u,h])}return r&&(NM[t][e]=r),r}function FM(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Vf(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Ea(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function V0e(n,e){switch(n){case ws.FullYear:return e.getFullYear();case ws.Month:return e.getMonth();case ws.Date:return e.getDate();case ws.Hours:return e.getHours();case ws.Minutes:return e.getMinutes();case ws.Seconds:return e.getSeconds();case ws.FractionalSeconds:return e.getMilliseconds();case ws.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===ws.Hours)0===a&&-12===t&&(a=12);else if(n===ws.FractionalSeconds)return function H0e(n,e){return Vf(n,3).substring(0,e)}(a,e);const l=Oh(o,xa.MinusSign);return Vf(a,e,l,r,i)}}function uo(n,e,t=sl.Format,r=!1){return function(i,s){return function Q0e(n,e,t,r,i,s){switch(t){case Cs.Months:return function rL(n,e,t){const r=Nc(n),s=Ph([r[co.MonthsFormat],r[co.MonthsStandalone]],e);return Ph(s,t)}(e,i,r)[n.getMonth()];case Cs.Days:return function Fj(n,e,t){const r=Nc(n),s=Ph([r[co.DaysFormat],r[co.DaysStandalone]],e);return Ph(s,t)}(e,i,r)[n.getDay()];case Cs.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function F0e(n){const e=Nc(n);return Rj(e),(e[co.ExtraData][2]||[]).map(r=>"string"==typeof r?sL(r):[sL(r[0]),sL(r[1])])}(e),u=function R0e(n,e,t){const r=Nc(n);Rj(r);const s=Ph([r[co.ExtraData][0],r[co.ExtraData][1]],e)||[];return Ph(s,t)||[]}(e,i,r),h=c.findIndex(d=>{if(Array.isArray(d)){const[f,A]=d,p=o>=f.hours&&a>=f.minutes,m=o<A.hours||o===A.hours&&a<A.minutes;if(f.hours<A.hours){if(p&&m)return!0}else if(p||m)return!0}else if(d.hours===o&&d.minutes===a)return!0;return!1});if(-1!==h)return u[h]}return function T0e(n,e,t){const r=Nc(n),s=Ph([r[co.DayPeriodsFormat],r[co.DayPeriodsStandalone]],e);return Ph(s,t)}(e,i,r)[o<12?0:1];case Cs.Eras:return function B0e(n,e){return Ph(Nc(n)[co.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function RM(n){return function(e,t,r){const i=-1*r,s=Oh(t,xa.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case zA.Short:return(i>=0?"+":"")+Vf(o,2,s)+Vf(Math.abs(i%60),2,s);case zA.ShortGMT:return"GMT"+(i>=0?"+":"")+Vf(o,1,s);case zA.Long:return"GMT"+(i>=0?"+":"")+Vf(o,2,s)+":"+Vf(Math.abs(i%60),2,s);case zA.Extended:return 0===r?"Z":(i>=0?"+":"")+Vf(o,2,s)+":"+Vf(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const z0e=0,OM=4;function Pj(n){const e=n.getDay(),t=0===e?-3:OM-e;return IM(n.getFullYear(),n.getMonth(),n.getDate()+t)}function oL(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=Pj(t),o=function G0e(n){const e=IM(n,z0e,1).getDay();return IM(n,0,1+(e<=OM?OM:OM+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Vf(i,n,Oh(r,xa.MinusSign))}}function PM(n,e=!1){return function(t,r){return Vf(Pj(t).getFullYear(),n,Oh(r,xa.MinusSign),e)}}const aL={};function Lj(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Uj(n){return n instanceof Date&&!isNaN(n.valueOf())}const X0e=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function hL(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Qj(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const dL=/\s+/,zj=[];let AL=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=zj,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(dL):zj}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(dL):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(dL).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(At(N),At(Bf))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[Fr.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class lye{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bl=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new lye(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),jj(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{jj(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(At(cu),At(ra),At(Y5))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function jj(n,e){n.context.$implicit=e.item}let ec=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new cye,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qj("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qj("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(At(cu),At(ra))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class cye{constructor(){this.$implicit=null,this.ngIf=null}}function qj(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ea(e)}'.`)}let UM=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:bg.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(At(N),At(bM),At(Bf))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),D_=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||n)(At(cu))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[No]})}}return n})();function Qf(n,e){return new dt(2100,!1)}class Aye{createSubscription(e,t){return Sj(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Sj(()=>e.unsubscribe())}}class pye{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const gye=new pye,mye=new Aye;let M_=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Ax(t))return gye;if(O9(t))return mye;throw Qf()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(At(Hf,16))}}static{this.\u0275pipe=Xl({name:"async",type:n,pure:!1,standalone:!0})}}return n})();const Cye=new bn(""),xye=new bn("");let mL=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(null==t||""===t||t!=t)return null;try{return Oj(t,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw Qf()}}static{this.\u0275fac=function(r){return new(r||n)(At(Vd,16),At(Cye,24),At(xye,24))}}static{this.\u0275pipe=Xl({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),kM=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function vL(n){return!(null==n||""===n||n!=n)}(t))return null;i||=this._locale;try{return function nye(n,e,t){return function cL(n,e,t,r,i,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function iye(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(c=function rye(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let u=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const y=s.match(X0e);if(null===y)throw new Error(`${s} is not a valid digit info`);const v=y[1],_=y[3],C=y[5];null!=v&&(u=hL(v)),null!=_&&(h=hL(_)),null!=C?d=hL(C):null!=_&&h>d&&(d=h)}!function sye(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let h=o;h<r.length;h++)r[h]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let h=1;h<o;h++)r[h]=0}if(a>=5)if(o-1<0){for(let h=0;h>o;h--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const c=e+n.integerLen,u=r.reduceRight(function(h,d,f,A){return A[f]=(d+=h)<10?d:d-10,l&&(0===A[f]&&f>=c?A.pop():l=!1),d>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}(c,h,d);let f=c.digits,A=c.integerLen;const p=c.exponent;let m=[];for(l=f.every(y=>!y);A<u;A++)f.unshift(0);for(;A<0;A++)f.unshift(0);A>0?m=f.splice(A,f.length):(m=f,f=[0]);const g=[];for(f.length>=e.lgSize&&g.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)g.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&g.unshift(f.join("")),a=g.join(Oh(t,r)),m.length&&(a+=Oh(t,i)+m.join("")),p&&(a+=Oh(t,xa.Exponential)+"+"+p)}else a=Oh(t,xa.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function uL(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const h=l.charAt(u);"0"===h?t.minFrac=t.maxFrac=u+1:"#"===h?t.maxFrac=u+1:t.posSuf+=h}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=i.length-t.posPre.length-t.posSuf.length,h=s.indexOf("#");t.negPre=s.substring(0,h).replace(/'/g,""),t.negSuf=s.slice(h+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function iL(n,e){return Nc(n)[co.NumberFormats][e]}(e,DM.Decimal),Oh(e,xa.MinusSign)),e,xa.Group,xa.Decimal,t)}(function yL(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw Qf()}}static{this.\u0275fac=function(r){return new(r||n)(At(Vd,16))}}static{this.\u0275pipe=Xl({name:"number",type:n,pure:!0,standalone:!0})}}return n})();let Ng=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})();const Kj="browser",Fye="server";function HM(n){return n===Kj}function _L(n){return n===Fye}let Pye=(()=>{class n{static{this.\u0275prov=Lt({token:n,providedIn:"root",factory:()=>HM(Ve(Nh))?new Lye(Ve(rs),window):new kye})}}return n})();class Lye{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function Uye(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}}class kye{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class Xj{}function sq(n){return n&&dn(n.schedule)}function wL(n){return n[n.length-1]}function GM(n){return dn(wL(n))?n.pop():void 0}function _x(n){return sq(wL(n))?n.pop():void 0}function Ig(n){return this instanceof Ig?(this.v=n,this):new Ig(n)}function cq(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function SL(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ML=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function uq(n){return dn(n?.then)}function hq(n){return dn(n[ko])}function fq(n){return Symbol.asyncIterator&&dn(n?.[Symbol.asyncIterator])}function dq(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Aq=function H_e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pq(n){return dn(n?.[Aq])}function gq(n){return function lq(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(f){return function(A){return Promise.resolve(A).then(f,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,A){r[f]&&(i[f]=function(p){return new Promise(function(m,g){s.push([f,p,m,g])>1||l(f,p)})},A&&(i[f]=A(i[f])))}function l(f,A){try{!function c(f){f.value instanceof Ig?Promise.resolve(f.value.v).then(u,h):d(s[0][2],f)}(r[f](A))}catch(p){d(s[0][3],p)}}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,A){f(A),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ig(t.read());if(i)return yield Ig(void 0);yield yield Ig(r)}}finally{t.releaseLock()}})}function mq(n){return dn(n?.getReader)}function ol(n){if(n instanceof di)return n;if(null!=n){if(hq(n))return function V_e(n){return new di(e=>{const t=n[ko]();if(dn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ML(n))return function Q_e(n){return new di(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(uq(n))return function z_e(n){return new di(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ql)})}(n);if(fq(n))return vq(n);if(pq(n))return function G_e(n){return new di(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(mq(n))return function j_e(n){return vq(gq(n))}(n)}throw dq(n)}function vq(n){return new di(e=>{(function q_e(n,e){var t,r,i,s;return function oq(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=cq(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function jA(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function yq(n,e=0){return ji((t,r)=>{t.subscribe(qi(r,i=>jA(r,n,()=>r.next(i),e),()=>jA(r,n,()=>r.complete(),e),i=>jA(r,n,()=>r.error(i),e)))})}function _q(n,e=0){return ji((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function bq(n,e){if(!n)throw new Error("Iterable cannot be null");return new di(t=>{jA(t,e,()=>{const r=n[Symbol.asyncIterator]();jA(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function jo(n,e){return e?function J_e(n,e){if(null!=n){if(hq(n))return function W_e(n,e){return ol(n).pipe(_q(e),yq(e))}(n,e);if(ML(n))return function K_e(n,e){return new di(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(uq(n))return function $_e(n,e){return ol(n).pipe(_q(e),yq(e))}(n,e);if(fq(n))return bq(n,e);if(pq(n))return function X_e(n,e){return new di(t=>{let r;return jA(t,e,()=>{r=n[Aq](),jA(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>dn(r?.return)&&r.return()})}(n,e);if(mq(n))return function Y_e(n,e){return bq(gq(n),e)}(n,e)}throw dq(n)}(n,e):ol(n)}function Zn(...n){return jo(n,_x(n))}function al(n,e,t=1/0){return dn(e)?al((r,i)=>Qr((s,o)=>e(r,s,i,o))(ol(n(r,i))),t):("number"==typeof e&&(t=e),ji((r,i)=>function Z_e(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,h=!1;const d=()=>{h&&!l.length&&!c&&e.complete()},f=p=>c<r?A(p):l.push(p),A=p=>{s&&e.next(p),c++;let m=!1;ol(t(p,u++)).subscribe(qi(e,g=>{i?.(g),s?f(g):e.next(g)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const g=l.shift();o?jA(e,o,()=>A(g)):A(g)}d()}catch(g){e.error(g)}}))};return n.subscribe(qi(e,f,()=>{h=!0,d()})),()=>{a?.()}}(r,i,n,t)))}function Fg(n,e){return dn(e)?al(n,e,1):al(n,1)}function T_(n){return ji((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function du(n,e){return ji((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(qi(r,l=>{i?.unsubscribe();let c=0;const u=s++;ol(n(l,u)).subscribe(i=qi(r,h=>r.next(e?e(l,h,u,c++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ro(n,e,t){const r=dn(n)||e||t?{next:n,error:e,complete:t}:n;return r?ji((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(qi(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):As}class jM{}class qM{}class Nl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Nl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Nl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Nl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class e1e{encodeKey(e){return wq(e)}encodeValue(e){return wq(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const n1e=/%(\d[a-f0-9])/gi,r1e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wq(n){return encodeURIComponent(n).replace(n1e,(e,t)=>r1e[t]??e)}function WM(n){return`${n}`}class Rg{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new e1e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function t1e(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(WM):[WM(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Rg({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(WM(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(WM(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class i1e{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Cq(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function xq(n){return typeof Blob<"u"&&n instanceof Blob}function Eq(n){return typeof FormData<"u"&&n instanceof FormData}class qA{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function s1e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Nl,this.context??=new i1e,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Rg,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||Cq(this.body)||xq(this.body)||Eq(this.body)||function o1e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Rg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Eq(this.body)?null:xq(this.body)?this.body.type||null:Cq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),u)),new qA(t,r,o,{params:u,headers:c,context:h,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}}var WA=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(WA||{});class TL{constructor(e,t=bx.Ok,r="OK"){this.headers=e.headers||new Nl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class $M extends TL{constructor(e={}){super(e),this.type=WA.ResponseHeader}clone(e={}){return new $M({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $A extends TL{constructor(e={}){super(e),this.type=WA.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new $A({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class B_ extends TL{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var bx=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(bx||{});function BL(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let kv=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof qA)s=t;else{let l,c;l=i.headers instanceof Nl?i.headers:new Nl(i.headers),i.params&&(c=i.params instanceof Rg?i.params:new Rg({fromObject:i.params})),s=new qA(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const o=Zn(s).pipe(Fg(l=>this.handler.handle(l)));if(t instanceof qA||"events"===i.observe)return o;const a=o.pipe(Ys(l=>l instanceof $A));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Qr(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Qr(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Qr(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Qr(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Rg).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,BL(i,r))}post(t,r,i={}){return this.request("POST",t,BL(i,r))}put(t,r,i={}){return this.request("PUT",t,BL(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Wt(jM))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();function Dq(n,e){return e(n)}function h1e(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Mq=new bn(""),wx=new bn(""),Tq=new bn(""),Bq=new bn("");function d1e(){let n=null;return(e,t)=>{null===n&&(n=(Ve(Mq,{optional:!0})??[]).reduceRight(h1e,Dq));const r=Ve(xg),i=r.add();return n(e,t).pipe(T_(()=>r.remove(i)))}}let Nq=(()=>{class n extends jM{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Ve(xg);const i=Ve(Bq,{optional:!0});this.backend=i??t}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(wx),...this.injector.get(Tq,[])]));this.chain=i.reduceRight((s,o)=>function f1e(n,e,t){return(r,i)=>Ch(t,()=>e(r,s=>n(s,i)))}(s,o,this.injector),Dq)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(T_(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(Wt(qM),Wt(La))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const v1e=/^\)\]\}',?\n/;let Fq=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new dt(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?jo(r.\u0275loadImpl()):Zn(null)).pipe(du(()=>new di(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((p,m)=>o.setRequestHeader(p,m.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const p=t.detectContentTypeHeader();null!==p&&o.setRequestHeader("Content-Type",p)}if(t.responseType){const p=t.responseType.toLowerCase();o.responseType="json"!==p?p:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const p=o.statusText||"OK",m=new Nl(o.getAllResponseHeaders()),g=function y1e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new $M({headers:m,status:o.status,statusText:p,url:g}),l},u=()=>{let{headers:p,status:m,statusText:g,url:y}=c(),v=null;m!==bx.NoContent&&(v=typeof o.response>"u"?o.responseText:o.response),0===m&&(m=v?bx.Ok:0);let _=m>=200&&m<300;if("json"===t.responseType&&"string"==typeof v){const C=v;v=v.replace(v1e,"");try{v=""!==v?JSON.parse(v):null}catch(b){v=C,_&&(_=!1,v={error:b,text:v})}}_?(s.next(new $A({body:v,headers:p,status:m,statusText:g,url:y||void 0})),s.complete()):s.error(new B_({error:v,headers:p,status:m,statusText:g,url:y||void 0}))},h=p=>{const{url:m}=c(),g=new B_({error:p,status:o.status||0,statusText:o.statusText||"Unknown Error",url:m||void 0});s.error(g)};let d=!1;const f=p=>{d||(s.next(c()),d=!0);let m={type:WA.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),"text"===t.responseType&&o.responseText&&(m.partialText=o.responseText),s.next(m)},A=p=>{let m={type:WA.UploadProgress,loaded:p.loaded};p.lengthComputable&&(m.total=p.total),s.next(m)};return o.addEventListener("load",u),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),t.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",A)),o.send(a),s.next({type:WA.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",u),o.removeEventListener("timeout",h),t.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",A)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Wt(Xj))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const FL=new bn(""),Rq=new bn("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Oq=new bn("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Pq{}let w1e=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qj(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs),Wt(Nh),Wt(Rq))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();function C1e(n,e){const t=n.url.toLowerCase();if(!Ve(FL)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=Ve(Pq).getToken(),i=Ve(Oq);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Og=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Og||{});function Hv(n,e){return{\u0275kind:n,\u0275providers:e}}function x1e(...n){const e=[kv,Fq,Nq,{provide:jM,useExisting:Nq},{provide:qM,useExisting:Fq},{provide:wx,useValue:C1e,multi:!0},{provide:FL,useValue:!0},{provide:Pq,useClass:w1e}];for(const t of n)e.push(...t.\u0275providers);return rg(e)}const Lq=new bn("");let S1e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({providers:[x1e(Hv(Og.LegacyInterceptors,[{provide:Lq,useFactory:d1e},{provide:wx,useExisting:Lq,multi:!0}]))]})}}return n})();const Uq="b",kq="h",Hq="s",Vq="st",Qq="u",zq="rt",KM=new bn(""),D1e=["GET","HEAD"];function M1e(n,e){const{isCacheActive:t,...r}=Ve(KM),{transferCache:i,method:s}=n;if(!t||"POST"===s&&!r.includePostRequests&&!i||"POST"!==s&&!D1e.includes(s)||!1===i||!1===r.filter?.(n))return e(n);const o=Ve(Wy),a=function B1e(n){const{params:e,method:t,responseType:r,url:i}=n,s=Gq(e);let o=n.serializeBody();o instanceof URLSearchParams?o=Gq(o):"string"!=typeof o&&(o="");const l=function N1e(n){let e=0;for(const t of n)e=Math.imul(31,e)+t.charCodeAt(0)|0;return e+=2147483648,e.toString()}([t,r,i,o,s].join("|"));return l}(n),l=o.get(a,null);let c=r.includeHeaders;if("object"==typeof i&&i.includeHeaders&&(c=i.includeHeaders),l){const{[Uq]:h,[zq]:d,[kq]:f,[Hq]:A,[Vq]:p,[Qq]:m}=l;let g=h;switch(d){case"arraybuffer":g=(new TextEncoder).encode(h).buffer;break;case"blob":g=new Blob([h])}let y=new Nl(f);return Zn(new $A({body:g,headers:y,status:A,statusText:p,url:m}))}const u=_L(Ve(Nh));return e(n).pipe(Ro(h=>{h instanceof $A&&u&&o.set(a,{[Uq]:h.body,[kq]:T1e(h.headers,c),[Hq]:h.status,[Vq]:h.statusText,[Qq]:h.url||"",[zq]:n.responseType})}))}function T1e(n,e){if(!e)return{};const t={};for(const r of e){const i=n.getAll(r);null!==i&&(t[r]=i)}return t}function Gq(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function I1e(n){return[{provide:KM,useFactory:()=>(Nf("NgHttpTransferCache"),{isCacheActive:!0,...n})},{provide:Tq,useValue:M1e,multi:!0,deps:[Wy,KM]},{provide:gM,multi:!0,useFactory:()=>{const e=Ve(kf),t=Ve(KM);return()=>{k9(e).then(()=>{t.isCacheActive=!1})}}}]}class F1e extends _0e{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class RL extends F1e{static makeCurrent(){!function y0e(n){Dj??=n}(new RL)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function R1e(){return Cx=Cx||document.querySelector("base"),Cx?Cx.getAttribute("href"):null}();return null==t?null:function O1e(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){Cx=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Qj(document.cookie,e)}}let Cx=null,L1e=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const OL=new bn("");let jq=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new dt(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Wt(OL),Wt(Cr))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();class qq{constructor(e){this._doc=e}}const PL="ng-app-id";let Wq=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_L(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${PL}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(PL),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(PL,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs),Wt(vD),Wt(XV,8),Wt(Nh))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const LL={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},UL=/%COMP%/g,V1e=new bn("",{providedIn:"root",factory:()=>!0});function Kq(n,e){return e.map(t=>t.replace(UL,n))}let kL=(()=>{class n{constructor(t,r,i,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=_L(a),this.defaultRenderer=new HL(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===iu.ShadowDom&&(r={...r,encapsulation:iu.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Yq?i.applyToHost(t):i instanceof VL&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case iu.Emulated:s=new Yq(l,c,r,this.appId,u,o,a,h);break;case iu.ShadowDom:return new j1e(l,c,t,r,o,a,this.nonce,h);default:s=new VL(l,c,r,u,o,a,h)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Wt(jq),Wt(Wq),Wt(vD),Wt(V1e),Wt(rs),Wt(Nh),Wt(Cr),Wt(XV))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();class HL{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(LL[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Xq(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Xq(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new dt(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=LL[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=LL[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(bg.DashCase|bg.Important)?e.style.setProperty(t,r,i&bg.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&bg.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Bg().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Xq(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class j1e extends HL{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Kq(i.id,i.styles);for(const u of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class VL extends HL{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?Kq(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Yq extends VL{constructor(e,t,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,t,r,s,o,a,l,c),this.contentAttr=function Q1e(n){return"_ngcontent-%COMP%".replace(UL,n)}(c),this.hostAttr=function z1e(n){return"_nghost-%COMP%".replace(UL,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let q1e=(()=>{class n extends qq{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const Jq=["alt","control","meta","shift"],W1e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$1e={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let K1e=(()=>{class n extends qq{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bg().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Jq.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=W1e[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Jq.forEach(o=>{o!==i&&(0,$1e[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const eW=[{provide:Nh,useValue:Kj},{provide:KV,useValue:function X1e(){RL.makeCurrent()},multi:!0},{provide:rs,useFactory:function J1e(){return function Pue(n){QO=n}(document),document},deps:[]}],Z1e=q9(Rve,"browser",eW),ebe=new bn(""),tW=[{provide:AM,useClass:class P1e{addToWindow(e){ls.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new dt(5103,!1);return s},ls.getAllAngularTestabilities=()=>e.getAllTestabilities(),ls.getAllAngularRootElements=()=>e.getAllRootElements(),ls.frameworkStabilizers||(ls.frameworkStabilizers=[]),ls.frameworkStabilizers.push(r=>{const i=ls.getAllAngularTestabilities();let s=i.length;const o=function(){s--,0==s&&r()};i.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Bg().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:R9,useClass:H5,deps:[Cr,V5,AM]},{provide:H5,useClass:H5,deps:[Cr,V5,AM]}],nW=[{provide:kw,useValue:"root"},{provide:ju,useFactory:function Y1e(){return new ju},deps:[]},{provide:OL,useClass:q1e,multi:!0,deps:[rs,Cr,Nh]},{provide:OL,useClass:K1e,multi:!0,deps:[rs]},kL,Wq,jq,{provide:LP,useExisting:kL},{provide:Xj,useClass:L1e,deps:[]},[]];let rW=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:vD,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(Wt(ebe,12))}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({providers:[...nW,...tW],imports:[Ng,Ove]})}}return n})(),XM=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var xx=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n}(xx||{});function ibe(...n){const e=[],t=new Set,r=t.has(xx.HttpTransferCacheOptions);for(const{\u0275providers:i,\u0275kind:s}of n)t.add(s),i.length&&e.push(i);return rg([[],Zve(),t.has(xx.NoHttpTransferCache)||r?[]:I1e({}),e])}const{isArray:sbe}=Array,{getPrototypeOf:obe,prototype:abe,keys:lbe}=Object;function aW(n){if(1===n.length){const e=n[0];if(sbe(e))return{args:e,keys:null};if(function cbe(n){return n&&"object"==typeof n&&obe(n)===abe}(e)){const t=lbe(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:ube}=Array;function QL(n){return Qr(e=>function hbe(n,e){return ube(e)?n(...e):n(e)}(n,e))}function lW(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let cW=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(At(Bf),At(N))}}static{this.\u0275dir=mn({type:n})}}return n})(),Vv=(()=>{class n extends cW{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ys(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,features:[ns]})}}return n})();const Lh=new bn(""),Abe={provide:Lh,useExisting:cs(()=>Qd),multi:!0},gbe=new bn("");let Qd=(()=>{class n extends cW{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pbe(){const n=Bg()?Bg().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(At(Bf),At(N),At(gbe,8))}}static{this.\u0275dir=mn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&jt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Zs([Abe]),ns]})}}return n})();function Pg(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function hW(n){return null!=n&&"number"==typeof n.length}const Il=new bn(""),Lg=new bn(""),mbe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qv{static min(e){return function fW(n){return e=>{if(Pg(e.value)||Pg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function dW(n){return e=>{if(Pg(e.value)||Pg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return AW(e)}static requiredTrue(e){return function pW(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function gW(n){return Pg(n.value)||mbe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function mW(n){return e=>Pg(e.value)||!hW(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return vW(e)}static pattern(e){return function yW(n){if(!n)return YM;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Pg(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return EW(e)}static composeAsync(e){return SW(e)}}function AW(n){return Pg(n.value)?{required:!0}:null}function vW(n){return e=>hW(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function YM(n){return null}function _W(n){return null!=n}function bW(n){return Ax(n)?jo(n):n}function wW(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function CW(n,e){return e.map(t=>t(n))}function xW(n){return n.map(e=>function vbe(n){return!n.validate}(e)?e:t=>e.validate(t))}function EW(n){if(!n)return null;const e=n.filter(_W);return 0==e.length?null:function(t){return wW(CW(t,e))}}function zL(n){return null!=n?EW(xW(n)):null}function SW(n){if(!n)return null;const e=n.filter(_W);return 0==e.length?null:function(t){return function fbe(...n){const e=GM(n),{args:t,keys:r}=aW(n),i=new di(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let h=!1;ol(t[u]).subscribe(qi(s,d=>{h||(h=!0,c--),a[u]=d},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(r?lW(r,a):a),s.complete())}))}});return e?i.pipe(QL(e)):i}(CW(t,e).map(bW)).pipe(Qr(wW))}}function GL(n){return null!=n?SW(xW(n)):null}function DW(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function MW(n){return n._rawValidators}function TW(n){return n._rawAsyncValidators}function jL(n){return n?Array.isArray(n)?n:[n]:[]}function JM(n,e){return Array.isArray(n)?n.includes(e):n===e}function BW(n,e){const t=jL(e);return jL(n).forEach(i=>{JM(t,i)||t.push(i)}),t}function NW(n,e){return jL(e).filter(t=>!JM(n,t))}class IW{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Fc extends IW{get formDirective(){return null}get path(){return null}}class Ug extends IW{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class FW{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kg=(()=>{class n extends FW{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(At(Ug,2))}}static{this.\u0275dir=mn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ci("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ns]})}}return n})(),N_=(()=>{class n extends FW{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(At(Fc,10))}}static{this.\u0275dir=mn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ci("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ns]})}}return n})();const Ex="VALID",eT="INVALID",I_="PENDING",Sx="DISABLED";function $L(n){return(tT(n)?n.validators:n)||null}function KL(n,e){return(tT(e)?e.asyncValidators:n)||null}function tT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function OW(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new dt(1e3,"");if(!r[t])throw new dt(1001,"")}function PW(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new dt(1002,"")})}class nT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ex}get invalid(){return this.status===eT}get pending(){return this.status==I_}get disabled(){return this.status===Sx}get enabled(){return this.status!==Sx}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BW(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BW(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NW(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NW(e,this._rawAsyncValidators))}hasValidator(e){return JM(this._rawValidators,e)}hasAsyncValidator(e){return JM(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=I_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Sx,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ex,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ex||this.status===I_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sx:Ex}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=I_,this._hasOwnPendingAsyncValidator=!0;const t=bW(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ie,this.statusChanges=new ie}_calculateStatus(){return this._allControlsDisabled()?Sx:this.errors?eT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(I_)?I_:this._anyControlsHaveStatus(eT)?eT:Ex}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function wbe(n){return Array.isArray(n)?zL(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Cbe(n){return Array.isArray(n)?GL(n):n||null}(this._rawAsyncValidators)}}class Dx extends nT{constructor(e,t,r){super($L(t),KL(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){PW(this,0,e),Object.keys(e).forEach(r=>{OW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class LW extends Dx{}const zv=new bn("CallSetDisabledState",{providedIn:"root",factory:()=>Mx}),Mx="always";function rT(n,e){return[...e.path,n]}function Tx(n,e,t=Mx){XL(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Ebe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&UW(n,e)})}(n,e),function Dbe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Sbe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&UW(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function xbe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function iT(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),oT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function sT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XL(n,e){const t=MW(n);null!==e.validator?n.setValidators(DW(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=TW(n);null!==e.asyncValidator?n.setAsyncValidators(DW(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();sT(e._rawValidators,i),sT(e._rawAsyncValidators,i)}function oT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=MW(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=TW(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return sT(e._rawValidators,r),sT(e._rawAsyncValidators,r),t}function UW(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function kW(n,e){XL(n,e)}function JL(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function HW(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ZL(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Qd?t=s:function Bbe(n){return Object.getPrototypeOf(n.constructor)===Vv}(s)?r=s:i=s}),i||r||t||null}const Ibe={provide:Fc,useExisting:cs(()=>F_)},Bx=Promise.resolve();let F_=(()=>{class n extends Fc{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ie,this.form=new Dx({},zL(t),GL(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Bx.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Tx(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Bx.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Bx.then(()=>{const r=this._findContainer(t.path),i=new Dx({});kW(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Bx.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Bx.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,HW(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(At(Il,10),At(Lg,10),At(zv,8))}}static{this.\u0275dir=mn({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&jt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[Fr.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zs([Ibe]),ns]})}}return n})();function VW(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function QW(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Nx=class extends nT{constructor(e=null,t,r){super($L(t),KL(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=QW(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){QW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Obe={provide:Ug,useExisting:cs(()=>Gv)},jW=Promise.resolve();let Gv=(()=>{class n extends Ug{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Nx,this._registered=!1,this.name="",this.update=new ie,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ZL(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),JL(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){jW.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Tl(r);jW.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?rT(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(At(Fc,9),At(Il,10),At(Lg,10),At(Lh,10),At(Hf,8),At(zv,8))}}static{this.\u0275dir=mn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Fr.None,"disabled","isDisabled"],model:[Fr.None,"ngModel","model"],options:[Fr.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zs([Obe]),ns,No]})}}return n})(),R_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const e3=new bn(""),Vbe={provide:Fc,useExisting:cs(()=>Ix)};let Ix=(()=>{class n extends Fc{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ie,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(oT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Tx(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){iT(t.control||null,t,!1),function Nbe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,HW(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(iT(r||null,t),(n=>n instanceof Nx)(i)&&(Tx(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);kW(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Mbe(n,e){return oT(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){XL(this.form,this),this._oldForm&&oT(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||n)(At(Il,10),At(Lg,10),At(zv,8))}}static{this.\u0275dir=mn({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&jt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[Fr.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zs([Vbe]),ns,No]})}}return n})();const Gbe={provide:Ug,useExisting:cs(()=>aT)};let aT=(()=>{class n extends Ug{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new ie,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ZL(0,s)}ngOnChanges(t){this._added||this._setUpControl(),JL(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return rT(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(At(Fc,13),At(Il,10),At(Lg,10),At(Lh,10),At(e3,8))}}static{this.\u0275dir=mn({type:n,selectors:[["","formControlName",""]],inputs:{name:[Fr.None,"formControlName","name"],isDisabled:[Fr.None,"disabled","isDisabled"],model:[Fr.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Zs([Gbe]),ns,No]})}}return n})();const jbe={provide:Lh,useExisting:cs(()=>Fx),multi:!0};function YW(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Fx=(()=>{class n extends Vv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=YW(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function qbe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ys(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&jt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zs([jbe]),ns]})}}return n})(),jv=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(YW(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(At(N),At(Bf),At(Fx,9))}}static{this.\u0275dir=mn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const Wbe={provide:Lh,useExisting:cs(()=>r3),multi:!0};function JW(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let r3=(()=>{class n extends Vv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function $be(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ys(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&jt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zs([Wbe]),ns]})}}return n})(),qv=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(JW(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(JW(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(At(N),At(Bf),At(r3,9))}}static{this.\u0275dir=mn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let Wv=(()=>{class n{constructor(){this._validator=YM}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):YM,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,features:[No]})}}return n})();const Ybe={provide:Il,useExisting:cs(()=>lT),multi:!0};let lT=(()=>{class n extends Wv{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Tl,this.createValidator=t=>AW}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ys(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Bi("required",i._enabled?"":null)},inputs:{required:"required"},features:[Zs([Ybe]),ns]})}}return n})();const twe={provide:Il,useExisting:cs(()=>cT),multi:!0};let cT=(()=>{class n extends Wv{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function ZW(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>vW(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ys(n)))(i||n)}})()}static{this.\u0275dir=mn({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Bi("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Zs([twe]),ns]})}}return n})(),a$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})();class l$ extends nT{constructor(e,t,r){super($L(t),KL(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){PW(this,0,e),e.forEach((r,i)=>{OW(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function c$(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let u$=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return c$(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Dx(i,s)}record(t,r=null){const i=this._reduceControls(t);return new LW(i,r)}control(t,r,i){let s={};return this.useNonNullable?(c$(r)?s=r:(s.validators=r,s.asyncValidators=i),new Nx(t,{...s,nonNullable:!0})):new Nx(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new l$(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Nx||t instanceof nT?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),h$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zv,useValue:t.callSetDisabledState??Mx}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({imports:[a$]})}}return n})(),rwe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:e3,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:zv,useValue:t.callSetDisabledState??Mx}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({imports:[a$]})}}return n})();var Dr=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Dr||{});const KA="*";function f$(n){return{type:Dr.Style,styles:n,offset:null}}class Rx{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class d${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function A$(n){return new dt(3e3,!1)}function Hg(n){switch(n.length){case 0:return new Rx;case 1:return n[0];default:return new d$(n)}}function p$(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,h=u&&a||new Map;l.forEach((d,f)=>{let A=f,p=d;if("offset"!==f)switch(A=n.normalizePropertyName(A,i),p){case"!":p=t.get(f);break;case KA:p=r.get(f);break;default:p=n.normalizeStyleValue(f,A,p,i)}h.set(A,p)}),u||s.push(h),a=h,o=c}),i.length)throw function Nwe(n){return new dt(3502,!1)}();return s}function s3(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&o3(t,"start",n)));break;case"done":n.onDone(()=>r(t&&o3(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&o3(t,"destroy",n)))}}function o3(n,e,t){const s=a3(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function a3(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ju(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function g$(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const zwe=typeof document>"u"?null:document.documentElement;function l3(n){const e=n.parentNode||n.host||null;return e===zwe?null:e}let $v=null,m$=!1;function v$(n,e){for(;e;){if(e===n)return!0;e=l3(e)}return!1}function y$(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let c3=(()=>{class n{validateStyleProperty(t){return function jwe(n){$v||($v=function qwe(){return typeof document<"u"?document.body:null}()||{},m$=!!$v.style&&"WebkitAppearance"in $v.style);let e=!0;return $v.style&&!function Gwe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in $v.style,!e&&m$&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in $v.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return v$(t,r)}getParentElement(t){return l3(t)}query(t,r,i){return y$(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Rx(i,s)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();class u3{static{this.NOOP=new c3}}class h3{}const $we=1e3,f3="ng-enter",uT="ng-leave",hT="ng-trigger",fT=".ng-trigger",b$="ng-animating",d3=".ng-animating";function XA(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:A3(parseFloat(e[1]),e[2])}function A3(n,e){return"s"===e?n*$we:n}function dT(n,e,t){return n.hasOwnProperty("duration")?n:function Xwe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(A$()),{duration:0,delay:0,easing:""};i=A3(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=A3(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function cwe(){return new dt(3100,!1)}()),a=!0),s<0&&(e.push(function uwe(){return new dt(3101,!1)}()),a=!0),a&&e.splice(l,0,A$())}return{duration:i,delay:s,easing:o}}(n,e,t)}function zd(n,e,t){e.forEach((r,i)=>{const s=g3(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function Kv(n,e){e.forEach((t,r)=>{const i=g3(r);n.style[i]=""})}function Ox(n){return Array.isArray(n)?1==n.length?n[0]:function iwe(n,e=null){return{type:Dr.Sequence,steps:n,options:e}}(n):n}const p3=new RegExp("{{\\s*(.+?)\\s*}}","g");function C$(n){let e=[];if("string"==typeof n){let t;for(;t=p3.exec(n);)e.push(t[1]);p3.lastIndex=0}return e}function Px(n,e,t){const r=`${n}`,i=r.replace(p3,(s,o)=>{let a=e[o];return null==a&&(t.push(function fwe(n){return new dt(3003,!1)}()),a=""),a.toString()});return i==r?n:i}const Zwe=/-+([a-z0-9])/g;function g3(n){return n.replace(Zwe,(...e)=>e[1].toUpperCase())}function Zu(n,e,t){switch(e.type){case Dr.Trigger:return n.visitTrigger(e,t);case Dr.State:return n.visitState(e,t);case Dr.Transition:return n.visitTransition(e,t);case Dr.Sequence:return n.visitSequence(e,t);case Dr.Group:return n.visitGroup(e,t);case Dr.Animate:return n.visitAnimate(e,t);case Dr.Keyframes:return n.visitKeyframes(e,t);case Dr.Style:return n.visitStyle(e,t);case Dr.Reference:return n.visitReference(e,t);case Dr.AnimateChild:return n.visitAnimateChild(e,t);case Dr.AnimateRef:return n.visitAnimateRef(e,t);case Dr.Query:return n.visitQuery(e,t);case Dr.Stagger:return n.visitStagger(e,t);default:throw function dwe(n){return new dt(3004,!1)}()}}function m3(n,e){return window.getComputedStyle(n)[e]}const nCe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class x$ extends h3{normalizePropertyName(e,t){return g3(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(nCe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Awe(n,e){return new dt(3005,!1)}())}return o+s}}const AT="*";const pT=new Set(["true","1"]),gT=new Set(["false","0"]);function E$(n,e){const t=pT.has(n)||gT.has(n),r=pT.has(e)||gT.has(e);return(i,s)=>{let o=n==AT||n==i,a=e==AT||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?pT.has(n):gT.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?pT.has(e):gT.has(e)),o&&a}}const oCe=new RegExp("s*:selfs*,?","g");function v3(n,e,t,r){return new aCe(n).build(e,t,r)}class aCe{constructor(e){this._driver=e}build(e,t,r){const i=new uCe(t);return this._resetContextStyleTimingState(i),Zu(this,Ox(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function pwe(){return new dt(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Dr.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==Dr.Transition){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function gwe(){return new dt(3007,!1)}())}),{type:Dr.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{C$(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(function mwe(n,e){return new dt(3008,!1)}(0,s.values()))}return{type:Dr.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Zu(this,Ox(e.animation),t),i=function rCe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function iCe(n,e,t){if(":"==n[0]){const l=function sCe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Dwe(n){return new dt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Swe(n){return new dt(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(E$(i,o)),"<"==s[0]&&(i!=AT||o!=AT)&&e.push(E$(o,i))}(r,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Dr.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Xv(e.options)}}visitSequence(e,t){return{type:Dr.Sequence,steps:e.steps.map(r=>Zu(this,r,t)),options:Xv(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Zu(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Dr.Group,steps:s,options:Xv(e.options)}}visitAnimate(e,t){const r=function fCe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return y3(dT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=y3(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=dT(t,e);return y3(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:f$({});if(s.type==Dr.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=f$(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:Dr.Animate,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===KA?r.push(a):t.errors.push(new dt(3002,!1)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:Dr.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let h=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function ywe(n,e,t,r,i){return new dt(3010,!1)}()),h=!1),s=u.startTime),h&&c.set(l,{startTime:s,endTime:i}),t.options&&function Jwe(n,e,t){const r=e.params||{},i=C$(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function hwe(n){return new dt(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:Dr.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function _we(){return new dt(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(g=>{const y=this._makeStyleAst(g,t);let v=null!=y.offset?y.offset:function hCe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(y.styles),_=0;return null!=v&&(s++,_=y.offset=v),l=l||_<0||_>1,a=a||_<c,c=_,o.push(_),y});l&&t.errors.push(function bwe(){return new dt(3012,!1)}()),a&&t.errors.push(function wwe(){return new dt(3200,!1)}());const h=e.steps.length;let d=0;s>0&&s<h?t.errors.push(function Cwe(){return new dt(3202,!1)}()):0==s&&(d=1/(h-1));const f=h-1,A=t.currentTime,p=t.currentAnimateTimings,m=p.duration;return u.forEach((g,y)=>{const v=d>0?y==f?1:d*y:o[y],_=v*m;t.currentTime=A+p.delay+_,p.duration=_,this._validateStyleAst(g,t),g.offset=v,r.styles.push(g)}),r}visitReference(e,t){return{type:Dr.Reference,animation:Zu(this,Ox(e.animation),t),options:Xv(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Dr.AnimateChild,options:Xv(e.options)}}visitAnimateRef(e,t){return{type:Dr.AnimateRef,animation:this.visitReference(e.animation,t),options:Xv(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function lCe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(oCe,"")),n=n.replace(/@\*/g,fT).replace(/@\w+/g,t=>fT+"-"+t.slice(1)).replace(/:animating/g,d3),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Ju(t.collectedStyles,t.currentQuerySelector,new Map);const a=Zu(this,Ox(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Dr.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Xv(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function xwe(){return new dt(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:dT(e.timings,t.errors,!0);return{type:Dr.Stagger,animation:Zu(this,Ox(e.animation),t),timings:r,options:null}}}class uCe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xv(n){return n?(n={...n}).params&&(n.params=function cCe(n){return n?{...n}:null}(n.params)):n={},n}function y3(n,e,t){return{duration:n,delay:e,easing:t}}function _3(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class mT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const pCe=new RegExp(":enter","g"),mCe=new RegExp(":leave","g");function b3(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new vCe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class vCe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new mT;const h=new w3(e,t,c,i,s,u,[]);h.options=l;const d=l.delay?XA(l.delay):0;h.currentTimeline.delayNextStep(d),h.currentTimeline.setStyles([o],null,h.errors,l),Zu(this,r,h);const f=h.timelines.filter(A=>A.containsAnimation());if(f.length&&a.size){let A;for(let p=f.length-1;p>=0;p--){const m=f[p];if(m.element===t){A=m;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([a],null,h.errors,l)}return f.length?f.map(A=>A.buildKeyframes()):[_3(t,[],[],[],0,d,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:XA(Px(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?XA(r.duration):null,a=null!=r.delay?XA(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Zu(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){i.previousNode.type==Dr.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vT);const o=XA(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Zu(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?XA(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Zu(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return dT(t.params?Px(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;s.type==Dr.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?XA(i.delay):0;s&&(t.previousNode.type===Dr.Style||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vT);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const h=t.createSubContext(e.options,c);s&&h.delayNextStep(s),c===t.element&&(l=h.currentTimeline),Zu(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;Zu(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-h+(i.startTime-r.currentTimeline.startTime)}}const vT={};class w3{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new yT(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=XA(r.duration)),null!=r.delay&&(i.delay=XA(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Px(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new w3(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=vT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new yCe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(pCe,"."+this._enterClassName)).replace(mCe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function Ewe(n){return new dt(3014,!1)}()),a}}class yT{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new yT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||KA),this._currentKeyframe.set(t,KA);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function _Ce(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r??=e.keys();for(let s of r)t.set(s,KA)}else for(let[s,o]of i)t.set(s,o)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=Px(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??KA),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((u,h)=>{"!"===u?e.add(h):u===KA&&t.add(h)}),r||c.set("offset",l/this.duration),i.push(c)});const s=[...e.values()],o=[...t.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return _3(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class yCe extends yT{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);const c=new Map(e[0]);c.set("offset",M$(a)),s.push(c);const u=e.length-1;for(let h=1;h<=u;h++){let d=new Map(e[h]);const f=d.get("offset");d.set("offset",M$((t+f*r)/o)),s.push(d)}r=o,t=0,i="",e=s}return _3(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function M$(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function T$(n,e,t,r,i,s,o,a,l,c,u,h,d){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const C3={};class B${constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function bCe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const h=[],d=this.ast.options&&this.ast.options.params||C3,A=this.buildStyles(r,a&&a.params||C3,h),p=l&&l.params||C3,m=this.buildStyles(i,p,h),g=new Set,y=new Map,v=new Map,_="void"===i,C={params:N$(p,d),delay:this.ast.options?.delay},b=u?[]:b3(e,t,this.ast.animation,s,o,A,m,C,c,h);let M=0;return b.forEach(D=>{M=Math.max(D.duration+D.delay,M)}),h.length?T$(t,this._triggerName,r,i,_,A,m,[],[],y,v,M,h):(b.forEach(D=>{const E=D.element,T=Ju(y,E,new Set);D.preStyleProps.forEach(R=>T.add(R));const B=Ju(v,E,new Set);D.postStyleProps.forEach(R=>B.add(R)),E!==t&&g.add(E)}),T$(t,this._triggerName,r,i,_,A,m,b,[...g.values()],y,v,M))}}function N$(n,e){const t={...e};return Object.entries(n).forEach(([r,i])=>{null!=i&&(t[r]=i)}),t}class wCe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=N$(e,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Px(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class xCe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new wCe(i.style,i.options&&i.options.params||{},r))}),I$(this.states,"true","1"),I$(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new B$(e,i,this.states))}),this.fallbackTransition=function ECe(n,e,t){return new B$(n,{type:Dr.Transition,animation:{type:Dr.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function I$(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const SCe=new mT;class DCe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=v3(this._driver,t,r,[]);if(r.length)throw function Iwe(n){return new dt(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=p$(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=b3(this._driver,t,s,f3,uT,new Map,new Map,r,SCe,i),o.forEach(u=>{const h=Ju(a,u.element,new Map);u.postStyleProps.forEach(d=>h.set(d,null))})):(i.push(function Fwe(){return new dt(3300,!1)}()),o=[]),i.length)throw function Rwe(n){return new dt(3504,!1)}();a.forEach((u,h)=>{u.forEach((d,f)=>{u.set(f,this._driver.computeStyle(h,f,KA))})});const c=Hg(o.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,new Map,h)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Owe(n){return new dt(3301,!1)}();return t}listen(e,t,r,i){const s=a3(t,"","","");return s3(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const F$="ng-animate-queued",x3="ng-animate-disabled",ICe=[],R$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},FCe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zf="__ng_removed";class E3{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function LCe(n){return n??null}(r?e.value:e),r){const{value:s,...o}=e;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Lx="void",S3=new E3(Lx);class RCe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Uh(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Pwe(n,e){return new dt(3302,!1)}();if(null==r||0==r.length)throw function Lwe(n){return new dt(3303,!1)}();if(!function UCe(n){return"start"==n||"done"==n}(r))throw function Uwe(n,e){return new dt(3400,!1)}();const s=Ju(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Ju(this._engine.statesByElement,e,new Map);return a.has(t)||(Uh(e,hT),Uh(e,hT+"-"+t),a.set(t,S3)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function kwe(n){return new dt(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new D3(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Uh(e,hT),Uh(e,hT+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new E3(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=S3),c.value!==Lx&&l.value===c.value){if(!function VCe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const p=[],m=s.matchStyles(l.value,l.params,p),g=s.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(()=>{Kv(e,m),zd(e,g)})}return}const d=Ju(this._engine.playersByElement,e,[]);d.forEach(p=>{p.namespaceId==this.id&&p.triggerName==t&&p.queued&&p.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),A=!1;if(!f){if(!i)return;f=s.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:A}),A||(Uh(e,F$),o.onStart(()=>{O_(e,F$)})),o.onDone(()=>{let p=this.players.indexOf(o);p>=0&&this.players.splice(p,1);const m=this._engine.playersByElement.get(e);if(m){let g=m.indexOf(o);g>=0&&m.splice(g,1)}}),this.players.push(o),d.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,fT,!0);r.forEach(i=>{if(i[zf])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Lx,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Hg(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||S3,u=new E3(Lx),h=new D3(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[zf];(!s||s===R$)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Uh(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=a3(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,s3(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class OCe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r,i){this.bodyNode=e,this.driver=t,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new RCe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(_T(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!_T(t))return;const s=t[zf];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Uh(e,x3)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),O_(e,x3))}removeNode(e,t,r){if(_T(t)){this.scheduler?.notify();const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[zf]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return _T(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,fT,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,d3,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hg(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[zf];if(t&&t.setForRemoval){if(e[zf]=R$,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(x3)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Uh(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Hg(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Hwe(n){return new dt(3402,!1)}()}_flushAnimations(e,t){const r=new mT,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(O=>{u.add(O);const P=this.driver.query(O,".ng-animate-queued",!0);for(let G=0;G<P.length;G++)u.add(P[G])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=L$(d,this.collectedEnterElements),A=new Map;let p=0;f.forEach((O,P)=>{const G=f3+p++;A.set(P,G),O.forEach(H=>Uh(H,G))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const P=this.collectedLeaveElements[O],G=P[zf];G&&G.setForRemoval&&(m.push(P),g.add(P),G.hasAnimation?this.driver.query(P,".ng-star-inserted",!0).forEach(H=>g.add(H)):y.add(P))}const v=new Map,_=L$(d,Array.from(g));_.forEach((O,P)=>{const G=uT+p++;v.set(P,G),O.forEach(H=>Uh(H,G))}),e.push(()=>{f.forEach((O,P)=>{const G=A.get(P);O.forEach(H=>O_(H,G))}),_.forEach((O,P)=>{const G=v.get(P);O.forEach(H=>O_(H,G))}),m.forEach(O=>{this.processLeaveNode(O)})});const C=[],b=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(G=>{const H=G.player,ae=G.element;if(C.push(H),this.collectedEnterElements.length){const le=ae[zf];if(le&&le.setForMove){if(le.previousTriggersValues&&le.previousTriggersValues.has(G.triggerName)){const te=le.previousTriggersValues.get(G.triggerName),ee=this.statesByElement.get(G.element);if(ee&&ee.has(G.triggerName)){const Ae=ee.get(G.triggerName);Ae.value=te,ee.set(G.triggerName,Ae)}}return void H.destroy()}}const ve=!h||!this.driver.containsElement(h,ae),Q=v.get(ae),j=A.get(ae),K=this._buildInstruction(G,r,j,Q,ve);if(K.errors&&K.errors.length)return void b.push(K);if(ve)return H.onStart(()=>Kv(ae,K.fromStyles)),H.onDestroy(()=>zd(ae,K.toStyles)),void i.push(H);if(G.isFallbackTransition)return H.onStart(()=>Kv(ae,K.fromStyles)),H.onDestroy(()=>zd(ae,K.toStyles)),void i.push(H);const oe=[];K.timelines.forEach(le=>{le.stretchStartingKeyframe=!0,this.disabledNodes.has(le.element)||oe.push(le)}),K.timelines=oe,r.append(ae,K.timelines),o.push({instruction:K,player:H,element:ae}),K.queriedElements.forEach(le=>Ju(a,le,[]).push(H)),K.preStyleProps.forEach((le,te)=>{if(le.size){let ee=l.get(te);ee||l.set(te,ee=new Set),le.forEach((Ae,xe)=>ee.add(xe))}}),K.postStyleProps.forEach((le,te)=>{let ee=c.get(te);ee||c.set(te,ee=new Set),le.forEach((Ae,xe)=>ee.add(xe))})});if(b.length){const O=[];b.forEach(P=>{O.push(function Vwe(n,e){return new dt(3505,!1)}())}),C.forEach(P=>P.destroy()),this.reportError(O)}const M=new Map,D=new Map;o.forEach(O=>{const P=O.element;r.has(P)&&(D.set(P,P),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,M))}),i.forEach(O=>{const P=O.element;this._getPreviousPlayers(P,!1,O.namespaceId,O.triggerName,null).forEach(H=>{Ju(M,P,[]).push(H),H.destroy()})});const E=m.filter(O=>k$(O,l,c)),T=new Map;P$(T,this.driver,y,c,KA).forEach(O=>{k$(O,l,c)&&E.push(O)});const R=new Map;f.forEach((O,P)=>{P$(R,this.driver,new Set(O),l,"!")}),E.forEach(O=>{const P=T.get(O),G=R.get(O);T.set(O,new Map([...P?.entries()??[],...G?.entries()??[]]))});const U=[],k=[],q={};o.forEach(O=>{const{element:P,player:G,instruction:H}=O;if(r.has(P)){if(u.has(P))return G.onDestroy(()=>zd(P,H.toStyles)),G.disabled=!0,G.overrideTotalTime(H.totalTime),void i.push(G);let ae=q;if(D.size>1){let Q=P;const j=[];for(;Q=Q.parentNode;){const K=D.get(Q);if(K){ae=K;break}j.push(Q)}j.forEach(K=>D.set(K,ae))}const ve=this._buildAnimation(G.namespaceId,H,M,s,R,T);if(G.setRealPlayer(ve),ae===q)U.push(G);else{const Q=this.playersByElement.get(ae);Q&&Q.length&&(G.parentPlayer=Hg(Q)),i.push(G)}}else Kv(P,H.fromStyles),G.onDestroy(()=>zd(P,H.toStyles)),k.push(G),u.has(P)&&i.push(G)}),k.forEach(O=>{const P=s.get(O.element);if(P&&P.length){const G=Hg(P);O.setRealPlayer(G)}}),i.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<m.length;O++){const P=m[O],G=P[zf];if(O_(P,uT),G&&G.hasAnimation)continue;let H=[];if(a.size){let ve=a.get(P);ve&&ve.length&&H.push(...ve);let Q=this.driver.query(P,d3,!0);for(let j=0;j<Q.length;j++){let K=a.get(Q[j]);K&&K.length&&H.push(...K)}}const ae=H.filter(ve=>!ve.destroyed);ae.length?kCe(this,P,ae):this.processLeaveNode(P)}return m.length=0,U.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const P=this.players.indexOf(O);this.players.splice(P,1)}),O.play()}),U}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Lx;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,h=Ju(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const A=f.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),f.destroy(),h.push(f)})}Kv(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,d=t.timelines.map(A=>{const p=A.element;u.add(p);const m=p[zf];if(m&&m.removedBeforeQueried)return new Rx(A.duration,A.delay);const g=p!==l,y=function HCe(n){const e=[];return U$(n,e),e}((r.get(p)||ICe).map(M=>M.getRealPlayer())).filter(M=>!!M.element&&M.element===p),v=s.get(p),_=o.get(p),C=p$(this._normalizer,A.keyframes,v,_),b=this._buildPlayer(A,C,y);if(A.subTimeline&&i&&h.add(p),g){const M=new D3(e,a,p);M.setRealPlayer(b),c.push(M)}return b});c.forEach(A=>{Ju(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function PCe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,A.element,A))}),u.forEach(A=>Uh(A,b$));const f=Hg(d);return f.onDestroy(()=>{u.forEach(A=>O_(A,b$)),zd(l,t.toStyles)}),h.forEach(A=>{Ju(i,A,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Rx(e.duration,e.delay)}}class D3{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Rx,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>s3(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ju(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function _T(n){return n&&1===n.nodeType}function O$(n,e){const t=n.style.display;return n.style.display=e??"none",t}function P$(n,e,t,r,i){const s=[];t.forEach(l=>s.push(O$(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(h=>{const d=e.computeStyle(c,h,i);u.set(h,d),(!d||0==d.length)&&(c[zf]=FCe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>O$(l,s[a++])),o}function L$(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Uh(n,e){n.classList?.add(e)}function O_(n,e){n.classList?.remove(e)}function kCe(n,e,t){Hg(t).onDone(()=>n.processLeaveNode(e))}function U$(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof d$?U$(r.players,e):e.push(r)}}function k$(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Ux{constructor(e,t,r,i){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new OCe(e.body,t,r,i),this._timelineEngine=new DCe(e.body,t,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=v3(this._driver,s,l,[]);if(l.length)throw function Bwe(n,e){return new dt(3404,!1)}();a=function CCe(n,e,t){return new xCe(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=g$(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=g$(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class kx{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=kx.initialStylesByElement.get(e);i||kx.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&zd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zd(this._element,this._initialStyles),this._endStyles&&(zd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(kx.initialStylesByElement.delete(this._element),this._startStyles&&(Kv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kv(this._element,this._endStyles),this._endStyles=null),zd(this._element,this._initialStyles),this._state=3)}}function M3(n){let e=null;return n.forEach((t,r)=>{(function zCe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class H${constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:m3(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class V${validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return v$(e,t)}getParentElement(e){return l3(e)}query(e,t,r){return y$(e,t,r)}computeStyle(e,t,r){return m3(e,t)}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof H$);(function eCe(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((A,p)=>c.set(p,A))});let h=function Ywe(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(f=>new Map(f));h=function tCe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,m3(n,a)))}}return e}(e,h,c);const d=function QCe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=M3(e[0]),e.length>1&&(r=M3(e[e.length-1]))):e instanceof Map&&(t=M3(e)),t||r?new kx(n,t,r):null}(e,h);return new H$(e,h,l,d)}}const Q$="@.disabled";class z${constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Q$?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class GCe extends z${constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Q$?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function jCe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function qCe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}class WCe{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,s)=>{const o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const c=this._rendererCache;let u=c.get(i);return u||(u=new z$("",i,this.engine,()=>c.delete(i)),c.set(i,u)),u}const s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new GCe(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let $Ce=(()=>{class n extends Ux{constructor(t,r,i){super(t,r,i,Ve(zD,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs),Wt(u3),Wt(h3))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();const G$=[{provide:h3,useFactory:function KCe(){return new x$}},{provide:Ux,useClass:$Ce},{provide:LP,useFactory:function XCe(n,e,t){return new WCe(n,e,t)},deps:[kL,Ux,Cr]}],T3=[{provide:u3,useFactory:()=>new V$},{provide:zO,useValue:"BrowserAnimations"},...G$],j$=[{provide:u3,useClass:c3},{provide:zO,useValue:"NoopAnimations"},...G$];let YCe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?j$:T3}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({providers:T3,imports:[rW]})}}return n})();function q$(n){return!!n&&(n instanceof di||dn(n.lift)&&dn(n.subscribe))}function B3(...n){const e=_x(n),t=GM(n),{args:r,keys:i}=aW(n);if(0===r.length)return jo([],e);const s=new di(function JCe(n,e,t=As){return r=>{W$(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)W$(e,()=>{const c=jo(n[l],e);let u=!1;c.subscribe(qi(r,h=>{s[l]=h,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>lW(i,o):As));return t?s.pipe(QL(t)):s}function W$(n,e,t){n?jA(t,n,e):e()}function P_(n=1/0){return al(As,n)}function Hx(...n){return function ZCe(){return P_(1)}()(jo(n,_x(n)))}function $$(n){return new di(e=>{ol(n()).subscribe(e)})}function wT(n,e){const t=dn(n)?n:()=>n,r=i=>i.error(t());return new di(e?i=>e.schedule(r,0,i):r)}function N3(){return ji((n,e)=>{let t=null;n._refCount++;const r=qi(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class K$ extends di{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,jp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mi;const t=this.getSubject();e.add(this.source.subscribe(qi(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mi.EMPTY)}return e}refCount(){return N3()(this)}}function L_(n){return ji((e,t)=>{let s,r=null,i=!1;r=e.subscribe(qi(t,void 0,void 0,o=>{s=ol(n(o,L_(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function I3(n){return n<=0?()=>wl:ji((e,t)=>{let r=[];e.subscribe(qi(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Y$(n){return Qr(()=>n)}function ll(n){return ji((e,t)=>{ol(n).subscribe(qi(t,()=>t.complete(),Qs)),!t.closed&&e.subscribe(t)})}const hi="primary",Vx=Symbol("RouteTitle");class rxe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function U_(n){return new rxe(n)}function ixe(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Gd(n,e){const t=n?F3(n):void 0,r=e?F3(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!J$(n[i],e[i]))return!1;return!0}function F3(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function J$(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Z$(n){return n.length>0?n[n.length-1]:null}function Vg(n){return q$(n)?n:Ax(n)?jo(Promise.resolve(n)):Zn(n)}const oxe={exact:function nK(n,e,t){if(!Yv(n.segments,e.segments)||!CT(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!nK(n.children[r],e.children[r],t))return!1;return!0},subset:rK},eK={exact:function axe(n,e){return Gd(n,e)},subset:function lxe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>J$(n[t],e[t]))},ignored:()=>!0};function tK(n,e,t){return oxe[t.paths](n.root,e.root,t.matrixParams)&&eK[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function rK(n,e,t){return iK(n,e,e.segments,t)}function iK(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Yv(i,t)||e.hasChildren()||!CT(i,t,r))}if(n.segments.length===t.length){if(!Yv(n.segments,t)||!CT(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!rK(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Yv(n.segments,i)&&CT(n.segments,i,r)&&n.children[hi])&&iK(n.children[hi],e,s,r)}}function CT(n,e,t){return e.every((r,i)=>eK[t](n[i].parameters,r.parameters))}class k_{constructor(e=new Gs([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=U_(this.queryParams),this._queryParamMap}toString(){return hxe.serialize(this)}}class Gs{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xT(this)}}class Qx{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=U_(this.parameters),this._parameterMap}toString(){return aK(this)}}function Yv(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let H_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>new R3,providedIn:"root"})}}return n})();class R3{parse(e){const t=new wxe(e);return new k_(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${zx(e.root,!0)}`,r=function Axe(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ET(t)}=${ET(i)}`).join("&"):`${ET(t)}=${ET(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function fxe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const hxe=new R3;function xT(n){return n.segments.map(e=>aK(e)).join("/")}function zx(n,e){if(!n.hasChildren())return xT(n);if(e){const t=n.children[hi]?zx(n.children[hi],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==hi&&r.push(`${i}:${zx(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function uxe(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===hi&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==hi&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===hi?[zx(n.children[hi],!1)]:[`${i}:${zx(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[hi]?`${xT(n)}/${t[0]}`:`${xT(n)}/(${t.join("//")})`}}function sK(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ET(n){return sK(n).replace(/%3B/gi,";")}function O3(n){return sK(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ST(n){return decodeURIComponent(n)}function oK(n){return ST(n.replace(/\+/g,"%20"))}function aK(n){return`${O3(n.path)}${function dxe(n){return Object.entries(n).map(([e,t])=>`;${O3(e)}=${O3(t)}`).join("")}(n.parameters)}`}const pxe=/^[^\/()?;#]+/;function P3(n){const e=n.match(pxe);return e?e[0]:""}const gxe=/^[^\/()?;=#]+/,vxe=/^[^=?&#]+/,_xe=/^[^&#]+/;class wxe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gs([],{}):new Gs([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[hi]=new Gs(e,t)),r}parseSegment(){const e=P3(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new dt(4009,!1);return this.capture(e),new Qx(ST(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function mxe(n){const e=n.match(gxe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=P3(this.remaining);i&&(r=i,this.capture(r))}e[ST(t)]=ST(r)}parseQueryParam(e){const t=function yxe(n){const e=n.match(vxe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function bxe(n){const e=n.match(_xe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=oK(t),s=oK(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=P3(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new dt(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=hi);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[hi]:new Gs([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new dt(4011,!1)}}function lK(n){return n.segments.length>0?new Gs([],{[hi]:n}):n}function cK(n){const e={};for(const[r,i]of Object.entries(n.children)){const s=cK(i);if(r===hi&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Cxe(n){if(1===n.numberOfChildren&&n.children[hi]){const e=n.children[hi];return new Gs(n.segments.concat(e.segments),e.children)}return n}(new Gs(n.segments,e))}function V_(n){return n instanceof k_}function uK(n){let e;const i=lK(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new Gs(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function hK(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return L3(i,i,i,t,r);const s=function Exe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dK(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new dK(t,e,r)}(e);if(s.toRoot())return L3(i,i,new Gs([],{}),t,r);const o=function Sxe(n,e,t){if(n.isAbsolute)return new MT(e,!0,0);if(!t)return new MT(e,!1,NaN);if(null===t.parent)return new MT(t,!0,0);const r=DT(n.commands[0])?0:1;return function Dxe(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new dt(4005,!1);i=r.segments.length}return new MT(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?jx(o.segmentGroup,o.index,s.commands):AK(o.segmentGroup,o.index,s.commands);return L3(i,o.segmentGroup,a,t,r)}function DT(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Gx(n){return"object"==typeof n&&null!=n&&n.outlets}function L3(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===e?t:fK(n,e,t);const a=lK(cK(o));return new k_(a,s,i)}function fK(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:fK(s,e,t)}),new Gs(n.segments,r)}class dK{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&DT(r[0]))throw new dt(4003,!1);const i=r.find(Gx);if(i&&i!==Z$(r))throw new dt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class MT{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function AK(n,e,t){if(n??=new Gs([],{}),0===n.segments.length&&n.hasChildren())return jx(n,e,t);const r=function Txe(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Gx(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!gK(l,c,o))return s;r+=2}else{if(!gK(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Gs(n.segments.slice(0,r.pathIndex),{});return s.children[hi]=new Gs(n.segments.slice(r.pathIndex),n.children),jx(s,0,i)}return r.match&&0===i.length?new Gs(n.segments,{}):r.match&&!n.hasChildren()?U3(n,e,t):r.match?jx(n,0,i):U3(n,e,t)}function jx(n,e,t){if(0===t.length)return new Gs(n.segments,{});{const r=function Mxe(n){return Gx(n[0])?n[0].outlets:{[hi]:n}}(t),i={};if(Object.keys(r).some(s=>s!==hi)&&n.children[hi]&&1===n.numberOfChildren&&0===n.children[hi].segments.length){const s=jx(n.children[hi],e,t);return new Gs(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=AK(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Gs(n.segments,i)}}function U3(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Gx(s)){const l=Bxe(s.outlets);return new Gs(r,l)}if(0===i&&DT(t[0])){r.push(new Qx(n.segments[e].path,pK(t[0]))),i++;continue}const o=Gx(s)?s.outlets[hi]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&DT(a)?(r.push(new Qx(o,pK(a))),i+=2):(r.push(new Qx(o,{})),i++)}return new Gs(r,{})}function Bxe(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=U3(new Gs([],{}),0,r))}),e}function pK(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function gK(n,e,t){return n==t.path&&Gd(e,t.parameters)}const qx="imperative";var Vi=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Vi||{});class jd{constructor(e,t){this.id=e,this.url=t}}class TT extends jd{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Vi.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class YA extends jd{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Vi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var eh=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(eh||{}),BT=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(BT||{});class Q_ extends jd{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Vi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class z_ extends jd{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Vi.NavigationSkipped}}class NT extends jd{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Vi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mK extends jd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Vi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nxe extends jd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Vi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ixe extends jd{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Vi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fxe extends jd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Vi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rxe extends jd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Vi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oxe{constructor(e){this.route=e,this.type=Vi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pxe{constructor(e){this.route=e,this.type=Vi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lxe{constructor(e){this.snapshot=e,this.type=Vi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uxe{constructor(e){this.snapshot=e,this.type=Vi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kxe{constructor(e){this.snapshot=e,this.type=Vi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hxe{constructor(e){this.snapshot=e,this.type=Vi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vK{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Vi.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class k3{}class H3{constructor(e){this.url=e}}class Vxe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Wx,this.attachRef=null}}let Wx=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Vxe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class yK{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=V3(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=V3(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Q3(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Q3(e,this._root).map(t=>t.value)}}function V3(n,e){if(n===e.value)return e;for(const t of e.children){const r=V3(n,t);if(r)return r}return null}function Q3(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Q3(n,t);if(r.length)return r.unshift(e),r}return[]}class Gf{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function G_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _K extends yK{constructor(e,t){super(e),this.snapshot=t,j3(this,e)}toString(){return this.snapshot.toString()}}function bK(n){const e=function Qxe(n){const s=new G3([],{},{},"",{},hi,n,null,{});return new wK("",new Gf(s,[]))}(n),t=new as([new Qx("",{})]),r=new as({}),i=new as({}),s=new as({}),o=new as(""),a=new Jv(t,r,s,o,i,hi,n,e.root);return a.snapshot=e.root,new _K(new Gf(a,[]),e)}class Jv{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Qr(c=>c[Vx]))??Zn(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Qr(e=>U_(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Qr(e=>U_(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function z3(n,e,t="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===e||"always"!==t&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...i?.data,...n._resolvedData}},i&&xK(i)&&(r.resolve[Vx]=i.title),r}class G3{get title(){return this.data?.[Vx]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=U_(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=U_(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wK extends yK{constructor(e,t){super(t),this.url=e,j3(this,t)}toString(){return CK(this._root)}}function j3(n,e){e.value._routerState=n,e.children.forEach(t=>j3(n,t))}function CK(n){const e=n.children.length>0?` { ${n.children.map(CK).join(", ")} } `:"";return`${n.value}${e}`}function q3(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gd(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Gd(e.params,t.params)||n.paramsSubject.next(t.params),function sxe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gd(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Gd(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function W3(n,e){const t=Gd(n.params,e.params)&&function cxe(n,e){return Yv(n,e)&&n.every((t,r)=>Gd(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||W3(n.parent,e.parent))}function xK(n){return"string"==typeof n.title||null===n.title}let $3=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=hi,this.activateEvents=new ie,this.deactivateEvents=new ie,this.attachEvents=new ie,this.detachEvents=new ie,this.parentContexts=Ve(Wx),this.location=Ve(cu),this.changeDetector=Ve(Hf),this.environmentInjector=Ve(La),this.inputBinder=Ve(IT,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new dt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new dt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new dt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new dt(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new K3(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[No]})}}return n})();class K3{__ngOutletInjector(e){return new K3(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Jv?this.route:e===Wx?this.childContexts:this.parent.get(e,t)}}const IT=new bn("");let EK=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=B3([r.queryParams,r.params,r.data]).pipe(du(([s,o,a],l)=>(a={...s,...o,...a},0===l?Zn(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function v0e(n){const e=ui(n);if(!e)return null;const t=new VC(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();function $x(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Gxe(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $x(n,r,i);return $x(n,r)})}(n,e,t);return new Gf(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>$x(n,a)),o}}const r=function jxe(n){return new Jv(new as(n.url),new as(n.params),new as(n.queryParams),new as(n.fragment),new as(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>$x(n,s));return new Gf(r,i)}}const SK="ngNavigationCancelingError";function DK(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=V_(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=MK(!1,eh.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function MK(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[SK]=!0,t.cancellationCode=e,t}function TK(n){return!!n&&n[SK]}let BK=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ca],decls:1,vars:0,template:function(r,i){1&r&&lt(0,"router-outlet")},dependencies:[$3],encapsulation:2})}}return n})();function X3(n){const e=n.children&&n.children.map(X3),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==hi&&(t.component=BK),t}function qd(n){return n.outlet||hi}function Kx(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Zxe{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),q3(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=G_(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=G_(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=G_(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=G_(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Hxe(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Uxe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(q3(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),q3(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Kx(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class NK{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class FT{constructor(e,t){this.component=e,this.route=t}}function eEe(n,e,t){const r=n._root;return Xx(r,e?e._root:null,t,[r.value])}function j_(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function t2(n){return null!==Ym(n)}(n)?e.get(n):n:r}function Xx(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=G_(e);return n.children.forEach(o=>{(function nEe(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function rEe(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Yv(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Yv(n.url,e.url)||!Gd(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!W3(n,e)||!Gd(n.queryParams,e.queryParams);default:return!W3(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new NK(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Xx(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new FT(a.outlet.component,o))}else o&&Yx(e,a,i),i.canActivateChecks.push(new NK(r)),Xx(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Yx(a,t.getContext(o),i)),i}function Yx(n,e,t){const r=G_(n),i=n.value;Object.entries(r).forEach(([s,o])=>{Yx(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new FT(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Jx(n){return"function"==typeof n}function IK(n){return n instanceof qp||"EmptyError"===n?.name}const RT=Symbol("INITIAL_VALUE");function q_(){return du(n=>B3(n.map(e=>e.pipe(wo(1),function X$(...n){const e=_x(n);return ji((t,r)=>{(e?Hx(n,t,e):Hx(n,t)).subscribe(r)})}(RT)))).pipe(Qr(e=>{for(const t of e)if(!0!==t){if(t===RT)return RT;if(!1===t||t instanceof k_)return t}return!0}),Ys(e=>e!==RT),wo(1)))}function FK(n){return function bl(...n){return Pa(n)}(Ro(e=>{if(V_(e))throw DK(0,e)}),Qr(e=>!0===e))}class Y3{constructor(e){this.segmentGroup=e||null}}class J3 extends Error{constructor(e){super(),this.urlTree=e}}function W_(n){return wT(new Y3(n))}class wEe{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Zn(r);if(i.numberOfChildren>1||!i.children[hi])return wT(new dt(4e3,!1));i=i.children[hi]}}applyRedirectCommands(e,t,r){const i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new J3(i);return i}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new k_(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Gs(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new dt(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const Z3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CEe(n,e,t,r,i){const s=eU(n,e,t);return s.matched?(r=function Wxe(n,e){return n.providers&&!n._injector&&(n._injector=KD(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function yEe(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Zn(i.map(o=>{const a=j_(o,n);return Vg(function cEe(n){return n&&Jx(n.canMatch)}(a)?a.canMatch(e,t):Ch(n,()=>a(e,t)))})).pipe(q_(),FK()):Zn(!0)}(r,e,t).pipe(Qr(o=>!0===o?s:{...Z3}))):Zn(s)}function eU(n,e,t){if("**"===e.path)return function xEe(n){return{matched:!0,parameters:n.length>0?Z$(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Z3}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ixe)(t,n,e);if(!i)return{...Z3};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function RK(n,e,t,r){return t.length>0&&function DEe(n,e,t){return t.some(r=>OT(n,e,r)&&qd(r)!==hi)}(n,t,r)?{segmentGroup:new Gs(e,SEe(r,new Gs(t,n.children))),slicedSegments:[]}:0===t.length&&function MEe(n,e,t){return t.some(r=>OT(n,e,r))}(n,t,r)?{segmentGroup:new Gs(n.segments,EEe(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Gs(n.segments,n.children),slicedSegments:t}}function EEe(n,e,t,r){const i={};for(const s of t)if(OT(n,e,s)&&!r[qd(s)]){const o=new Gs([],{});i[qd(s)]=o}return{...r,...i}}function SEe(n,e){const t={};t[hi]=e;for(const r of n)if(""===r.path&&qd(r)!==hi){const i=new Gs([],{});t[qd(r)]=i}return t}function OT(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class NEe{}class REe{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new wEe(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new dt(4002,`'${e.segmentGroup}'`)}recognize(){const e=RK(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Qr(t=>{const r=new G3([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},hi,this.rootComponentType,null,{}),i=new Gf(r,t),s=new wK("",i),o=function xxe(n,e,t=null,r=null){return hK(uK(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,hi).pipe(L_(r=>{if(r instanceof J3)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Y3?this.noMatchError(r):r}))}inheritParamsAndData(e,t){const r=e.value,i=z3(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(Qr(s=>s instanceof Gf?[s]:[]))}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return jo(i).pipe(Fg(s=>{const o=r.children[s],a=function Yxe(n,e){const t=n.filter(r=>qd(r)===e);return t.push(...n.filter(r=>qd(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function txe(n,e){return ji(function exe(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(qi(o,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Wp(null),function nxe(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ys((i,s)=>n(i,s,r)):As,I3(1),t?Wp(e):dy(()=>new qp))}(),al(s=>{if(null===s)return W_(r);const o=OK(s);return function OEe(n){n.sort((e,t)=>e.value.outlet===hi?-1:t.value.outlet===hi?1:e.value.outlet.localeCompare(t.value.outlet))}(o),Zn(o)}))}processSegment(e,t,r,i,s,o){return jo(t).pipe(Fg(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(L_(l=>{if(l instanceof Y3)return Zn(null);throw l}))),_h(a=>!!a),L_(a=>{if(IK(a))return function BEe(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?Zn(new NEe):W_(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function TEe(n,e,t,r){return!!(qd(n)===r||r!==hi&&OT(e,t,n))&&eU(e,n,t).matched}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):W_(i):W_(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=eU(t,i,s);if(!a)return W_(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,h).pipe(al(d=>this.processSegment(e,r,t,d.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){const o=CEe(t,r,i,e);return"**"===r.path&&(t.children={}),o.pipe(du(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(du(({routes:l})=>{const c=r._loadedInjector??e,{consumedSegments:u,remainingSegments:h,parameters:d}=a,f=new G3(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function LEe(n){return n.data||{}}(r),qd(r),r.component??r._loadedComponent??null,r,function UEe(n){return n.resolve||{}}(r)),{segmentGroup:A,slicedSegments:p}=RK(t,u,h,l);if(0===p.length&&A.hasChildren())return this.processChildren(c,l,A).pipe(Qr(g=>null===g?null:new Gf(f,g)));if(0===l.length&&0===p.length)return Zn(new Gf(f,[]));const m=qd(r)===s;return this.processSegment(c,l,A,p,m?hi:s,!0).pipe(Qr(g=>new Gf(f,g instanceof Gf?[g]:[])))})):W_(t)))}getChildConfig(e,t,r){return t.children?Zn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Zn({routes:t._loadedRoutes,injector:t._loadedInjector}):function vEe(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Zn(!0):Zn(i.map(o=>{const a=j_(o,n);return Vg(function sEe(n){return n&&Jx(n.canLoad)}(a)?a.canLoad(e,t):Ch(n,()=>a(e,t)))})).pipe(q_(),FK())}(e,t,r).pipe(al(i=>i?this.configLoader.loadChildren(e,t).pipe(Ro(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function bEe(n){return wT(MK(!1,eh.GuardRejected))}())):Zn({routes:[],injector:e})}}function PEe(n){const e=n.value.routeConfig;return e&&""===e.path}function OK(n){const e=[],t=new Set;for(const r of n){if(!PEe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=OK(r.children);e.push(new Gf(r.value,i))}return e.filter(r=>!t.has(r))}function PK(n){const e=n.children.map(t=>PK(t)).flat();return[n,...e]}function tU(n){return du(e=>{const t=n(e);return t?jo(t).pipe(Qr(()=>e)):Zn(e)})}let LK=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===hi);return r}getResolvedTitleForRoute(t){return t.data[Vx]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>Ve(GEe),providedIn:"root"})}}return n})(),GEe=(()=>{class n extends LK{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Wt(XM))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const $_=new bn("",{providedIn:"root",factory:()=>({})}),K_=new bn("");let nU=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ve(H9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Zn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Vg(t.loadComponent()).pipe(Qr(UK),Ro(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),T_(()=>{this.componentLoaders.delete(t)})),i=new K$(r,()=>new Lr).pipe(N3());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Zn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function jEe(n,e,t,r){return Vg(n.loadChildren()).pipe(Qr(UK),al(i=>i instanceof s7||Array.isArray(i)?Zn(i):jo(e.compileModuleAsync(i))),Qr(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(K_,[],{optional:!0,self:!0}).flat()),{routes:o.map(X3),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(T_(()=>{this.childrenLoaders.delete(r)})),o=new K$(s,()=>new Lr).pipe(N3());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function UK(n){return function qEe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let rU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>Ve(WEe),providedIn:"root"})}}return n})(),WEe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const kK=new bn(""),HK=new bn("");function $Ee(n,e,t){const r=n.get(HK),i=n.get(rs);return n.get(Cr).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),function KEe(n){return new Promise(e=>{QP(e,{injector:n})})}(n))),{onViewTransitionCreated:l}=r;return l&&Ch(n,()=>l({transition:a,from:e,to:t})),o})}let PT=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Lr,this.transitionAbortSubject=new Lr,this.configLoader=Ve(nU),this.environmentInjector=Ve(La),this.urlSerializer=Ve(H_),this.rootContexts=Ve(Wx),this.location=Ve(E_),this.inputBindingEnabled=null!==Ve(IT,{optional:!0}),this.titleStrategy=Ve(LK),this.options=Ve($_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ve(rU),this.createViewTransition=Ve(kK,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Zn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Pxe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Oxe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new as({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qx,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ys(s=>0!==s.id),Qr(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),du(s=>{let o=!1,a=!1;return Zn(s).pipe(du(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",eh.SupersededByNewNavigation),wl;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new z_(l.id,this.urlSerializer.serialize(l.rawUrl),h,BT.IgnoredSameUrlNavigation)),l.resolve(null),wl}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Zn(l).pipe(du(h=>{const d=this.transitions?.getValue();return this.events.next(new TT(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),d!==this.transitions?.getValue()?wl:Promise.resolve(h)}),function kEe(n,e,t,r,i,s){return al(o=>function IEe(n,e,t,r,i,s,o="emptyOnly"){return new REe(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Qr(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ro(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const d=new mK(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:d,source:f,restoredState:A,extras:p}=l,m=new TT(h,this.urlSerializer.serialize(d),f,A);this.events.next(m);const g=bK(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:g,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=d,Zn(s)}{const h="";return this.events.next(new z_(l.id,this.urlSerializer.serialize(l.extractedUrl),h,BT.IgnoredByUrlHandlingStrategy)),l.resolve(null),wl}}),Ro(l=>{const c=new Nxe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Qr(l=>(this.currentTransition=s={...l,guards:eEe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function uEe(n,e){return al(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Zn({...t,guardsResult:!0}):function hEe(n,e,t,r){return jo(n).pipe(al(i=>function mEe(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Zn(s.map(a=>{const l=Kx(e)??i,c=j_(a,l);return Vg(function lEe(n){return n&&Jx(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):Ch(l,()=>c(n,e,t,r))).pipe(_h())})).pipe(q_()):Zn(!0)}(i.component,i.route,t,e,r)),_h(i=>!0!==i,!0))}(o,r,i,n).pipe(al(a=>a&&function iEe(n){return"boolean"==typeof n}(a)?function fEe(n,e,t,r){return jo(e).pipe(Fg(i=>Hx(function AEe(n,e){return null!==n&&e&&e(new Lxe(n)),Zn(!0)}(i.route.parent,r),function dEe(n,e){return null!==n&&e&&e(new kxe(n)),Zn(!0)}(i.route,r),function gEe(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function tEe(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>$$(()=>Zn(o.guards.map(l=>{const c=Kx(o.node)??t,u=j_(l,c);return Vg(function aEe(n){return n&&Jx(n.canActivateChild)}(u)?u.canActivateChild(r,n):Ch(c,()=>u(r,n))).pipe(_h())})).pipe(q_())));return Zn(s).pipe(q_())}(n,i.path,t),function pEe(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Zn(!0);const i=r.map(s=>$$(()=>{const o=Kx(e)??t,a=j_(s,o);return Vg(function oEe(n){return n&&Jx(n.canActivate)}(a)?a.canActivate(e,n):Ch(o,()=>a(e,n))).pipe(_h())}));return Zn(i).pipe(q_())}(n,i.route,t))),_h(i=>!0!==i,!0))}(r,s,n,e):Zn(a)),Qr(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Ro(l=>{if(s.guardsResult=l.guardsResult,V_(l.guardsResult))throw DK(0,l.guardsResult);const c=new Ixe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ys(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",eh.GuardRejected),!1)),tU(l=>{if(l.guards.canActivateChecks.length)return Zn(l).pipe(Ro(c=>{const u=new Fxe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),du(c=>{let u=!1;return Zn(c).pipe(function HEe(n,e){return al(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Zn(t);const s=new Set(i.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const c of PK(l))o.add(c);let a=0;return jo(o).pipe(Fg(l=>s.has(l)?function VEe(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!xK(i)&&(s[Vx]=i.title),function QEe(n,e,t,r){const i=F3(n);if(0===i.length)return Zn({});const s={};return jo(i).pipe(al(o=>function zEe(n,e,t,r){const i=Kx(e)??r,s=j_(n,i);return Vg(s.resolve?s.resolve(e,t):Ch(i,()=>s(e,t)))}(n[o],e,t,r).pipe(_h(),Ro(a=>{s[o]=a}))),I3(1),Y$(s),L_(o=>IK(o)?wl:wT(o)))}(s,n,e,r).pipe(Qr(o=>(n._resolvedData=o,n.data=z3(n,n.parent,t).resolve,null)))}(l,r,n,e):(l.data=z3(l,l.parent,n).resolve,Zn(void 0))),Ro(()=>a++),I3(1),al(l=>a===o.size?Zn(t):wl))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ro({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",eh.NoDataFromResolver)}}))}),Ro(c=>{const u=new Rxe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),tU(l=>{const c=u=>{const h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ro(d=>{u.component=d}),Qr(()=>{})));for(const d of u.children)h.push(...c(d));return h};return B3(c(l.targetSnapshot.root)).pipe(Wp(null),wo(1))}),tU(()=>this.afterPreactivation()),du(()=>{const{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?jo(u).pipe(Qr(()=>s)):Zn(s)}),Qr(l=>{const c=function zxe(n,e,t){const r=$x(n,e._root,t?t._root:void 0);return new _K(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,s}),Ro(()=>{this.events.next(new k3)}),((n,e,t,r)=>Qr(i=>(new Zxe(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),wo(1),Ro({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new YA(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),ll(this.transitionAbortSubject.pipe(Ro(l=>{throw l}))),T_(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",eh.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),L_(l=>{if(a=!0,TK(l))this.events.next(new Q_(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function qxe(n){return TK(n)&&V_(n.url)}(l)?this.events.next(new H3(l.url)):s.resolve(!1);else{this.events.next(new NT(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return wl}))}))}cancelNavigationTransition(t,r,i){const s=new Q_(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XEe(n){return n!==qx}let YEe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>Ve(ZEe),providedIn:"root"})}}return n})();class JEe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ZEe=(()=>{class n extends JEe{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ys(n)))(i||n)}})()}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QK=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:()=>Ve(eSe),providedIn:"root"})}}return n})(),eSe=(()=>{class n extends QK{constructor(){super(...arguments),this.location=Ve(E_),this.urlSerializer=Ve(H_),this.options=Ve($_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ve(rU),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new k_,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bK(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof TT)this.stateMemento=this.createStateMemento();else if(t instanceof z_)this.rawUrlTree=r.initialUrl;else if(t instanceof mK){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof k3?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof Q_&&(t.code===eh.GuardRejected||t.code===eh.NoDataFromResolver)?this.restoreHistory(r):t instanceof NT?this.restoreHistory(r,!0):t instanceof YA&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ys(n)))(i||n)}})()}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Zx=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Zx||{});function zK(n,e){n.events.pipe(Ys(t=>t instanceof YA||t instanceof Q_||t instanceof NT||t instanceof z_),Qr(t=>t instanceof YA||t instanceof z_?Zx.COMPLETE:t instanceof Q_&&(t.code===eh.Redirect||t.code===eh.SupersededByNewNavigation)?Zx.REDIRECTING:Zx.FAILED),Ys(t=>t!==Zx.REDIRECTING),wo(1)).subscribe(()=>{e()})}function tSe(n){throw n}const nSe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rSe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rc=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Ve(U5),this.stateManager=Ve(QK),this.options=Ve($_,{optional:!0})||{},this.pendingTasks=Ve(xg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ve(PT),this.urlSerializer=Ve(H_),this.location=Ve(E_),this.urlHandlingStrategy=Ve(rU),this._events=new Lr,this.errorHandler=this.options.errorHandler||tSe,this.navigated=!1,this.routeReuseStrategy=Ve(YEe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ve(K_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ve(IT,{optional:!0}),this.eventsSubscription=new mi,this.isNgZoneEnabled=Ve(Cr)instanceof Cr&&Cr.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof Q_&&r.code!==eh.Redirect&&r.code!==eh.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof YA)this.navigated=!0;else if(r instanceof H3){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||XEe(i.source)};this.scheduleNavigation(o,qx,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function sSe(n){return!(n instanceof k3||n instanceof H3)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qx,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(X3),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let h,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{h=uK(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),h=this.currentUrlTree.root}return hK(h,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=V_(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,qx,null,r)}navigate(t,r={skipLocationChange:!1}){return function iSe(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new dt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...nSe}:!1===r?{...rSe}:r,V_(t))return tK(this.currentUrlTree,t,i);const s=this.parseUrl(t);return tK(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(null!=s&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,d)=>{a=h,l=d});const u=this.pendingTasks.add();return zK(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xs=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Lr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof YA&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const r=null===this.href?null:function mQ(n,e,t){return function whe(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?gQ:mo}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(At(Rc),At(Jv),function Id(n){return function vs(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Iw(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(hs(),n)}("tabindex"),At(Bf),At(N),At(Uv))}}static{this.\u0275dir=mn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&jt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Bi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Fr.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Tl],skipLocationChange:[Fr.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Tl],replaceUrl:[Fr.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Tl],routerLink:"routerLink"},standalone:!0,features:[zC,No]})}}return n})();class GK{}let lSe=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ys(t=>t instanceof YA),Fg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=KD(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return jo(i).pipe(P_())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Zn(null);const s=i.pipe(al(o=>null===o?Zn(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?jo([s,this.loader.loadComponent(r)]).pipe(P_()):s})}static{this.\u0275fac=function(r){return new(r||n)(Wt(Rc),Wt(H9),Wt(La),Wt(GK),Wt(nU))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const iU=new bn("");let jK=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=Ve(La),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof TT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof YA?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof z_&&t.code===BT.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vK&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){var i=this;this.zone.runOutsideAngular((0,yt.A)(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),QP(()=>{s()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new vK(t,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function QQ(){throw new Error("invalid")}()}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac})}}return n})();function Wd(n,e){return{\u0275kind:n,\u0275providers:e}}function WK(){const n=Ve(xo);return e=>{const t=n.get(kf);if(e!==t.components[0])return;const r=n.get(Rc),i=n.get($K);1===n.get(sU)&&r.initialNavigation(),n.get(KK,null,vi.Optional)?.setUpPreloading(),n.get(iU,null,vi.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const $K=new bn("",{factory:()=>new Lr}),sU=new bn("",{providedIn:"root",factory:()=>1}),KK=new bn("");function fSe(n){return Wd(0,[{provide:KK,useExisting:lSe},{provide:GK,useExisting:n}])}function ASe(n){return Wd(9,[{provide:kK,useValue:$Ee},{provide:HK,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const XK=new bn("ROUTER_FORROOT_GUARD"),pSe=[E_,{provide:H_,useClass:R3},Rc,Wx,{provide:Jv,useFactory:function qK(n){return n.routerState.root},deps:[Rc]},nU,[]];let YK=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[pSe,[],{provide:K_,multi:!0,useValue:t},{provide:XK,useFactory:ySe,deps:[[Rc,new wA,new tv]]},{provide:$_,useValue:r||{}},r?.useHash?{provide:Uv,useClass:C0e}:{provide:Uv,useClass:Bj},{provide:iU,useFactory:()=>{const n=Ve(Pye),e=Ve(Cr),t=Ve($_),r=Ve(PT),i=Ve(H_);return t.scrollOffset&&n.setOffset(t.scrollOffset),new jK(i,r,n,e,t)}},r?.preloadingStrategy?fSe(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?_Se(r):[],r?.bindToComponentInputs?Wd(8,[EK,{provide:IT,useExisting:EK}]).\u0275providers:[],r?.enableViewTransitions?ASe().\u0275providers:[],[{provide:JK,useFactory:WK},{provide:gM,multi:!0,useExisting:JK}]]}}static forChild(t){return{ngModule:n,providers:[{provide:K_,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(Wt(XK,8))}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})();function ySe(n){return"guarded"}function _Se(n){return["disabled"===n.initialNavigation?Wd(3,[{provide:pM,multi:!0,useFactory:()=>{const e=Ve(Rc);return()=>{e.setUpLocationChangeListener()}}},{provide:sU,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Wd(2,[{provide:sU,useValue:0},{provide:pM,multi:!0,deps:[xo],useFactory:e=>{const t=e.get(b0e,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Rc),s=e.get($K);zK(i,()=>{r(!0)}),e.get(PT).afterPreactivation=()=>(r(!0),s.closed?Zn(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const JK=new bn(""),Qg={externalConfig:{},pageSettingDictionary:{},scmList:[],aiPrompts:[]};let zg=(()=>{class n{constructor(t){this.http=t}loadSCMList(){return this.http.get("./assets/json/scm.json").toPromise().then(t=>{Qg.scmList=t}).catch(t=>{console.error("Error loading configuration:",t)})}loadAiPrompts(){return this.http.get("./assets/json/llm.json").toPromise().then(t=>{Qg.aiPrompts=t}).catch(t=>{console.error("Error loading configuration:",t)})}loadConfig(){return this.http.get("./assets/config.json").toPromise().then(t=>{Qg.externalConfig=t}).catch(t=>{console.error("Error loading configuration:",t)})}getConfigValue(t){return JSON.parse(JSON.stringify(Qg.externalConfig))[t]}static{this.\u0275fac=function(r){return new(r||n)(Wt(kv))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ZK=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.configService=r,this.titleService=i,this.customErrorHandler=s,this.loggingInterceptor=o,this.route=a,this.title="[TUTORIAS DE PROGRAMACION - FORMULARIO DE CONTACTO]",this._title="",this._appName="",this._appVersion="",this.runtimeVersion=T9.full,this.redirectPage=null;let l="",c="";l="appName",c=this.configService.getConfigValue(l),this._appName=c,l="appVersion",c=this.configService.getConfigValue(l),this._appVersion=c,console.log(`${l} :  ${this.configService.getConfigValue(l)} `)}ngOnInit(){this.titleService.setTitle(`${this._appName} - ${this._appVersion}`),this.route.queryParams.subscribe(t=>{this.redirectPage=t.redirectPage?t.redirectPage:"",void 0!==this.redirectPage&&"sudoku"===this.redirectPage&&(console.log("Redirecting To Page : "+this.redirectPage),this.router.navigateByUrl("/Sudoku"))})}getValueFromConfig(t){return this.configService.getConfigValue(t)}static{this.\u0275fac=function(r){return new(r||n)(At(Rc),At(zg),At(XM),At(FF),At(RF),At(Jv))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&lt(0,"app-nav")},styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center}']})}}return n})();var oU=function(n){return n[n.Info=1]="Info",n[n.Debug=2]="Debug",n[n.Error=3]="Error",n}(oU||{});class tc{constructor(e,t,r){this._index=e,this._value=t,this._selected=r}}class X_{constructor(e,t){this.value=e,this.graph=t}}class wSe{constructor(e,t,r){this.n=e,this.from=t,this.to=r}}let eX=(()=>{class n{constructor(){this.towerA=new Map,this.towerB=new Map,this.towerC=new Map,this.steps=[],this._steps=[],this._stepsIndex=0,this._startGame=!0,this._delayInMilliseconds=1500,this._stepsAmt=0,this._diskAmt=0,this.tituloDiskAmtList="Cantidad de Discos",this.gameState$=new as([[{size:3},{size:2},{size:1}],[],[]]),this.towers$=this.gameState$.asObservable(),this.movesSubject$=new as(0),this.moves$=this.movesSubject$.asObservable(),this.selectedTower=null,this._diskAmtList=new Array,this._diskAmtList.push(new tc(0,"(seleccione opcion...)",!1)),this._diskAmtList.push(new tc(3,"3",!0)),this._diskAmtList.push(new tc(4,"4",!1))}manual_selectTower(t){null===this.selectedTower?this.selectedTower=t:(this.manual_moveDisk(this.selectedTower,t),this.selectedTower=null)}manual_moveDisk(t,r){const i=this.gameState$.getValue(),s=i[t].pop();if(s){const o=i[r];0===o.length||o[o.length-1].size>s.size?(o.push(s),this.gameState$.next(i),this.movesSubject$.next(this.movesSubject$.getValue()+1),this._checkWinCondition()):i[t].push(s)}}manual_resetGame(){this.gameState$.next([[{size:3},{size:2},{size:1}],[],[]]),this.movesSubject$.next(0),this.selectedTower=null,this.auto_newGame()}_checkWinCondition(){return 3===this.gameState$.getValue()[2].length&&(console.log("Congratulations! You solved the puzzle!"),!0)}auto_printSteps(){if(this._stepsIndex>this._stepsAmt)clearTimeout(this._timeoutId);else{if(0==this._stepsIndex&&this.steps.push("[BEGIN STEPS]"),this._steps[this._stepsIndex]){let t=document.querySelector(".steps-container");t&&(t.scrollTop=t.scrollHeight);let r=this._steps[this._stepsIndex],a=`Step ${this._stepsIndex+1} of ${this._stepsAmt}. Move disk ${r.n} from Tower ${r.from} to Tower ${r.to}`;console.log(a),this.steps.push(a),this.auto_makeMove(r);let l=r.from.charCodeAt(0)-65,c=r.to.charCodeAt(0)-65;console.log(` Manuel Step ${l} to ${c} `),this.manual_moveDisk(l,c)}this._stepsIndex++,this._stepsIndex==this._stepsAmt&&this.steps.push("[END STEPS]"),this._timeoutId=setTimeout(()=>{this.auto_printSteps()},this._delayInMilliseconds)}}auto_makeMove(t){let o,r=t.n,s=t.to;switch(t.from){case"A":o=this.towerA.get(r),this.towerA.set(r,new X_(r,"-"));break;case"B":o=this.towerB.get(r),this.towerB.set(r,new X_(r,"-"));break;case"C":o=this.towerC.get(r),this.towerC.set(r,new X_(r,"-"))}switch(s){case"A":this.towerA.set(r,o);break;case"B":this.towerB.set(r,o);break;case"C":this.towerC.set(r,o)}}auto_saveStep(t,r,i){let s=new wSe(t,r,i);this._steps.push(s),this._stepsAmt++}auto_towerOfHanoi(t,r,i,s){0!==t&&(this.auto_towerOfHanoi(t-1,r,s,i),this.auto_saveStep(t,r,i),this.auto_towerOfHanoi(t-1,s,i,r))}auto_newGame(){if(console.log("[HANOI TOWERS] - [NEW GAME]"),this._diskAmt=3,0===this._diskAmt)return;this.towerA=new Map;let t="";for(let r=1;r<=this._diskAmt;r++)t+="*",this.towerA.set(r,new X_(r,t));this.towerB=new Map;for(let r=1;r<=this._diskAmt;r++)this.towerB.set(r,new X_(r,"-"));this.towerC=new Map;for(let r=1;r<=this._diskAmt;r++)this.towerC.set(r,new X_(r,"-"));this.steps=[],this._steps=[],this._stepsIndex=0,this._stepsAmt=0,this._startGame=!1}auto_startGame(){this.auto_newGame(),console.log("[HANOI TOWERS] - [START GAME]"),0!==this._diskAmt&&(this._startGame=!0,this.auto_towerOfHanoi(this._diskAmt,"A","C","B"),this.auto_printSteps())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function CSe(n,e){if(1&n&&(fe(0,"div",8),Me(1),ce()),2&n){const t=e.$implicit;KC("width",20*t.size,"px"),Te(),Hi(" ",t.size," ")}}function xSe(n,e){if(1&n&&(fe(0,"div",5)(1,"h2"),Me(2),ce(),fe(3,"div",6),cn(4,CSe,2,3,"div",7),ce()()),2&n){const t=e.$implicit,r=e.index;Te(2),Hi("Tower ",r+1,""),Te(2),qe("ngForOf",t)}}let ESe=(()=>{class n{constructor(t){this.hanoiEngine=t}ngOnInit(){this.hanoiEngine.manual_resetGame()}static{this.\u0275fac=function(r){return new(r||n)(At(eX))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-hanoi-auto"]],decls:20,vars:8,consts:[[1,"game-container"],["class","tower",4,"ngFor","ngForOf"],[3,"click","disabled"],["align","right"],["routerLink","/Dev"],[1,"tower"],[1,"disks-container"],["class","disk",3,"width",4,"ngFor","ngForOf"],[1,"disk"]],template:function(r,i){1&r&&(fe(0,"h4"),Me(1,"[HANOI- AUTO]"),ce(),lt(2,"br"),fe(3,"div",0),cn(4,xSe,5,2,"div",1),hu(5,"async"),ce(),lt(6,"hr"),fe(7,"div")(8,"p"),Me(9),hu(10,"async"),ce(),fe(11,"button",2),jt("click",function(){return i.hanoiEngine.manual_resetGame()}),Me(12,"Reset Game"),ce(),Me(13," | "),fe(14,"button",2),jt("click",function(){return i.hanoiEngine.auto_startGame()}),Me(15,"Start Game"),ce()(),lt(16,"hr"),fe(17,"div",3)(18,"a",4),Me(19,"[Volver al Men\xfa]"),ce()()),2&r&&(Te(4),qe("ngForOf",fu(5,4,i.hanoiEngine.towers$)),Te(5),Hi("Moves: ",fu(10,6,i.hanoiEngine.moves$),""),Te(2),qe("disabled",!i.hanoiEngine._checkWinCondition()),Te(3),qe("disabled",i.hanoiEngine._steps.length>0))},dependencies:[xs,Bl,M_],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.tower[_ngcontent-%COMP%]{text-align:center}.disks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100px}.disk[_ngcontent-%COMP%]{height:20px;background-color:#007bff;margin:2px;display:flex;justify-content:center;align-items:center;color:#fff}"]})}}return n})();function SSe(n,e){if(1&n&&(fe(0,"div",8),Me(1),ce()),2&n){const t=e.$implicit;KC("width",20*t.size,"px"),Te(),Hi(" ",t.size," ")}}function DSe(n,e){if(1&n){const t=bs();fe(0,"div",5)(1,"h2"),Me(2),ce(),fe(3,"div",6),cn(4,SSe,2,3,"div",7),ce(),fe(5,"button",2),jt("click",function(){const i=Ln(t).index;return Qn(rn().selectTower(i))}),Me(6,"Select"),ce()()}if(2&n){const t=e.$implicit,r=e.index;Te(2),Hi("Tower ",r+1,""),Te(2),qe("ngForOf",t)}}let MSe=(()=>{class n{constructor(){this.gameState$=new as([[{size:3},{size:2},{size:1}],[],[]]),this.towers$=this.gameState$.asObservable(),this.movesSubject$=new as(0),this.moves$=this.movesSubject$.asObservable(),this.selectedTower=null}ngOnInit(){this.resetGame()}selectTower(t){null===this.selectedTower?this.selectedTower=t:(this.moveDisk(this.selectedTower,t),this.selectedTower=null)}moveDisk(t,r){const i=this.gameState$.getValue(),s=i[t].pop();if(s){const o=i[r];0===o.length||o[o.length-1].size>s.size?(o.push(s),this.gameState$.next(i),this.movesSubject$.next(this.movesSubject$.getValue()+1),this.checkWinCondition()):i[t].push(s)}}resetGame(){this.gameState$.next([[{size:3},{size:2},{size:1}],[],[]]),this.movesSubject$.next(0),this.selectedTower=null}checkWinCondition(){3===this.gameState$.getValue()[2].length&&console.log("Congratulations! You solved the puzzle!")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-hanoi-tower"]],decls:16,vars:6,consts:[[1,"game-container"],["class","tower",4,"ngFor","ngForOf"],[3,"click"],["align","right"],["routerLink","/Dev"],[1,"tower"],[1,"disks-container"],["class","disk",3,"width",4,"ngFor","ngForOf"],[1,"disk"]],template:function(r,i){1&r&&(fe(0,"h4"),Me(1,"[HANOI- OBSERVABLE]"),ce(),lt(2,"br"),fe(3,"div",0),cn(4,DSe,7,2,"div",1),hu(5,"async"),ce(),fe(6,"div")(7,"p"),Me(8),hu(9,"async"),ce(),fe(10,"button",2),jt("click",function(){return i.resetGame()}),Me(11,"Reset Game"),ce()(),lt(12,"hr"),fe(13,"div",3)(14,"a",4),Me(15,"[Volver al Men\xfa]"),ce()()),2&r&&(Te(4),qe("ngForOf",fu(5,2,i.towers$)),Te(4),Hi("Moves: ",fu(9,4,i.moves$),""))},dependencies:[xs,Bl,M_],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.tower[_ngcontent-%COMP%]{text-align:center}.disks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:200px}.disk[_ngcontent-%COMP%]{height:20px;background-color:#007bff;margin:2px;display:flex;justify-content:center;align-items:center;color:#fff}"]})}}return n})();function TSe(n,e){if(1&n&&(fe(0,"div",2)(1,"span"),Me(2),ce()()),2&n){const t=e.$implicit;Te(2),Br(t[1].graph)}}let tX=(()=>{class n{toArray(t){return Array.from(t.entries())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-tower"]],inputs:{tower:"tower"},standalone:!0,features:[Ca],decls:2,vars:1,consts:[[1,"tower"],["class","disk",4,"ngFor","ngForOf"],[1,"disk"]],template:function(r,i){1&r&&(fe(0,"div",0),cn(1,TSe,3,1,"div",1),ce()),2&r&&(Te(),qe("ngForOf",i.toArray(i.tower)))},dependencies:[Ng,Bl]})}}return n})();function BSe(n,e){if(1&n&&(fe(0,"div",17)(1,"span"),Me(2),ce()()),2&n){const t=e.$implicit;Te(2),Br(t)}}function NSe(n,e){if(1&n&&(fe(0,"option",18),Me(1),ce()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Te(),Hi("",t._value," ")}}let ISe=(()=>{class n{constructor(t){this.hanoiEngine=t}static{this.\u0275fac=function(r){return new(r||n)(At(eX))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-games-hanoi"]],decls:40,vars:8,consts:[["__diskAmtList",""],["align","left",1,"game-container"],["width","100%"],["align","center"],["width","33%","align","center"],[3,"tower"],["align","left",1,"steps-container"],["align","left","class","steps-content",4,"ngFor","ngForOf"],["id","diskAmtListDiv","align","left"],["for","diskAmtList"],["id","diskAmtList","name","diskAmtList"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left"],["type","button","id","btnNewGame","value","[NEW GAME]",3,"click","disabled"],["type","button","id","btnStartGame","value","[START GAME]",3,"click","disabled"],["align","right"],["routerLink","/Dev"],["align","left",1,"steps-content"],[3,"value","selected"]],template:function(r,i){if(1&r){const s=bs();fe(0,"h1"),Me(1,"[HANOI TOWER BOARD]"),ce(),lt(2,"hr"),fe(3,"div",1)(4,"table",2)(5,"thead")(6,"td",3),Me(7,"A"),ce(),fe(8,"td",3),Me(9,"B"),ce(),fe(10,"td",3),Me(11,"C"),ce()(),fe(12,"tr")(13,"td",4),lt(14,"app-tower",5),ce(),fe(15,"td",4),lt(16,"app-tower",5),ce(),fe(17,"td",4),lt(18,"app-tower",5),ce()(),lt(19,"tfoot"),ce()(),lt(20,"hr"),fe(21,"div",6),cn(22,BSe,3,1,"div",7),ce(),lt(23,"hr"),fe(24,"div",8)(25,"label",9),Me(26),ce(),Me(27," \xa0\xa0 "),fe(28,"select",10,0),cn(30,NSe,2,3,"option",11),ce()(),lt(31,"hr"),fe(32,"div",12)(33,"input",13),jt("click",function(){return Ln(s),Qn(i.hanoiEngine.auto_newGame())}),ce(),Me(34," | "),fe(35,"input",14),jt("click",function(){return Ln(s),Qn(i.hanoiEngine.auto_startGame())}),ce()(),lt(36,"hr"),fe(37,"div",15)(38,"a",16),Me(39,"[Volver al Men\xfa]"),ce()()}2&r&&(Te(14),qe("tower",i.hanoiEngine.towerA),Te(2),qe("tower",i.hanoiEngine.towerB),Te(2),qe("tower",i.hanoiEngine.towerC),Te(4),qe("ngForOf",i.hanoiEngine.steps),Te(4),Br(i.hanoiEngine.tituloDiskAmtList),Te(4),qe("ngForOf",i.hanoiEngine._diskAmtList),Te(3),qe("disabled",0==i.hanoiEngine._startGame),Te(2),qe("disabled",1==i.hanoiEngine._startGame))},dependencies:[tX,xs,Bl,jv,qv],styles:['.game-container[_ngcontent-%COMP%]{width:"100%";padding:1em;background-color:#ccc}.steps-container[_ngcontent-%COMP%]{height:auto;width:100%;border:1px solid #000;padding:.1em;background-color:#ccc}.steps-content[_ngcontent-%COMP%]{padding:.1em}table[_ngcontent-%COMP%]{width:150px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc}']})}}return n})();const rX=1,OSe=2,JA=3,LT=0,e2e=1,t2e=2,qg=0,n2e=1,r2e=2,i2e=3,s2e=4,o2e=5,a2e=6,l2e=7,Wg=301,e0=302,eE=306,jf=1001,nc=1003,cl=1006,ep=1008,tp=1009,cX=1010,uX=1011,nE=1012,vU=1013,$g=1014,th=1015,rE=1016,yU=1017,_U=1018,t1=1020,hX=35902,fX=1021,dX=1022,pu=1023,AX=1024,pX=1025,n1=1026,r1=1027,bU=1028,zT=1029,gX=1030,wU=1031,CU=1033,GT=33776,jT=33777,qT=33778,WT=33779,xU=35840,EU=35841,SU=35842,DU=35843,MU=36196,TU=37492,BU=37496,NU=37808,IU=37809,FU=37810,RU=37811,OU=37812,PU=37813,LU=37814,UU=37815,kU=37816,HU=37817,VU=37818,QU=37819,zU=37820,GU=37821,$T=36492,jU=36494,qU=36495,mX=36283,WU=36284,$U=36285,KU=36286,nh="srgb",o1="srgb-linear",YT="linear",js="srgb",a1=7680,bX="300 es",np=2e3;class rp{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const i=this._listeners[e];if(void 0!==i){const s=i.indexOf(t);-1!==s&&i.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const r=this._listeners[e.type];if(void 0!==r){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const rc=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],n0=Math.PI/180,l1=180/Math.PI;function rh(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(rc[255&n]+rc[n>>8&255]+rc[n>>16&255]+rc[n>>24&255]+"-"+rc[255&e]+rc[e>>8&255]+"-"+rc[e>>16&15|64]+rc[e>>24&255]+"-"+rc[63&t|128]+rc[t>>8&255]+"-"+rc[t>>16&255]+rc[t>>24&255]+rc[255&r]+rc[r>>8&255]+rc[r>>16&255]+rc[r>>24&255]).toLowerCase()}function Gr(n,e,t){return Math.max(e,Math.min(t,n))}function iE(n,e,t){return(1-t)*n+t*e}function Oc(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ti(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const k2e_DEG2RAD=n0;class Ut{constructor(e=0,t=0){Ut.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Gr(this.x,e.x,t.x),this.y=Gr(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Gr(this.x,e,t),this.y=Gr(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Gr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Gr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ni{constructor(e,t,r,i,s,o,a,l,c){ni.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,r,i,s,o,a,l,c)}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],h=r[7],d=r[2],f=r[5],A=r[8],p=i[0],m=i[3],g=i[6],y=i[1],v=i[4],_=i[7],C=i[2],b=i[5],M=i[8];return s[0]=o*p+a*y+l*C,s[3]=o*m+a*v+l*b,s[6]=o*g+a*_+l*M,s[1]=c*p+u*y+h*C,s[4]=c*m+u*v+h*b,s[7]=c*g+u*_+h*M,s[2]=d*p+f*y+A*C,s[5]=d*m+f*v+A*b,s[8]=d*g+f*_+A*M,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,d=a*l-u*s,f=c*s-o*l,A=t*h+r*d+i*f;if(0===A)return this.set(0,0,0,0,0,0,0,0,0);const p=1/A;return e[0]=h*p,e[1]=(i*c-u*r)*p,e[2]=(a*r-i*o)*p,e[3]=d*p,e[4]=(u*t-i*l)*p,e[5]=(i*s-a*t)*p,e[6]=f*p,e[7]=(r*l-c*t)*p,e[8]=(o*t-r*s)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(e4.makeScale(e,t)),this}rotate(e){return this.premultiply(e4.makeRotation(-e)),this}translate(e,t){return this.premultiply(e4.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const e4=new ni;function CX(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function sE(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function V2e(){const n=sE("canvas");return n.style.display="block",n}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const xX={};function u1(n){n in xX||(xX[n]=!0,console.warn(n))}const EX=(new ni).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),SX=(new ni).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function j2e(){const n={enabled:!0,workingColorSpace:o1,spaces:{},convert:function(i,s,o){return!1===this.enabled||s===o||!s||!o||(this.spaces[s].transfer===js&&(i.r=ip(i.r),i.g=ip(i.g),i.b=ip(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===js&&(i.r=h1(i.r),i.g=h1(i.g),i.b=h1(i.b))),i},fromWorkingColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},toWorkingColorSpace:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return""===i?YT:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[o1]:{primaries:e,whitePoint:r,transfer:YT,toXYZ:EX,fromXYZ:SX,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:nh},outputColorSpaceConfig:{drawingBufferColorSpace:nh}},[nh]:{primaries:e,whitePoint:r,transfer:js,toXYZ:EX,fromXYZ:SX,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:nh}}}),n}const ss=j2e();function ip(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function h1(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}let f1;class q2e{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===f1&&(f1=sE("canvas")),f1.width=e.width,f1.height=e.height;const r=f1.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=f1}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=sE("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=255*ip(s[o]/255);return r.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t[r]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*ip(t[r]/255)):ip(t[r]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let W2e=0;class d1{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:W2e++}),this.uuid=rh(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(null!==i){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)s.push(t4(i[o].isDataTexture?i[o].image:i[o]))}else s=t4(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function t4(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?q2e.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let $2e=0,gu=(()=>{class n extends rp{constructor(t=n.DEFAULT_IMAGE,r=n.DEFAULT_MAPPING,i=jf,s=jf,o=cl,a=ep,l=pu,c=tp,u=n.DEFAULT_ANISOTROPY,h=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:$2e++}),this.uuid=rh(),this.name="",this.source=new d1(t),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Ut(0,0),this.repeat=new Ut(1,1),this.center=new Ut(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ni,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const r=void 0===t||"string"==typeof t;if(!r&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),r||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case jf:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case jf:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class fs{constructor(e=0,t=0,r=0,i=1){fs.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],h=l[8],d=l[1],f=l[5],A=l[9],p=l[2],m=l[6],g=l[10];if(Math.abs(u-d)<.01&&Math.abs(h-p)<.01&&Math.abs(A-m)<.01){if(Math.abs(u+d)<.1&&Math.abs(h+p)<.1&&Math.abs(A+m)<.1&&Math.abs(c+f+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const v=(c+1)/2,_=(f+1)/2,C=(g+1)/2,b=(u+d)/4,M=(h+p)/4,D=(A+m)/4;return v>_&&v>C?v<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(v),i=b/r,s=M/r):_>C?_<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(_),r=b/i,s=D/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=M/s,i=D/s),this.set(r,i,s,t),this}let y=Math.sqrt((m-A)*(m-A)+(h-p)*(h-p)+(d-u)*(d-u));return Math.abs(y)<.001&&(y=1),this.x=(m-A)/y,this.y=(h-p)/y,this.z=(d-u)/y,this.w=Math.acos((c+f+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Gr(this.x,e.x,t.x),this.y=Gr(this.y,e.y,t.y),this.z=Gr(this.z,e.z,t.z),this.w=Gr(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Gr(this.x,e,t),this.y=Gr(this.y,e,t),this.z=Gr(this.z,e,t),this.w=Gr(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Gr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class K2e extends rp{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new fs(0,0,e,t),this.scissorTest=!1,this.viewport=new fs(0,0,e,t);const i={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:cl,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new gu(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new d1(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class $d extends K2e{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class n4 extends gu{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=nc,this.minFilter=nc,this.wrapR=jf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class DX extends gu{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=nc,this.minFilter=nc,this.wrapR=jf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Pc{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],h=r[i+3];const d=s[o+0],f=s[o+1],A=s[o+2],p=s[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=h);if(1===a)return e[t+0]=d,e[t+1]=f,e[t+2]=A,void(e[t+3]=p);if(h!==p||l!==d||c!==f||u!==A){let m=1-a;const g=l*d+c*f+u*A+h*p,y=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){const C=Math.sqrt(v),b=Math.atan2(C,g*y);m=Math.sin(m*b)/C,a=Math.sin(a*b)/C}const _=a*y;if(l=l*m+d*_,c=c*m+f*_,u=u*m+A*_,h=h*m+p*_,m===1-a){const C=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=C,c*=C,u*=C,h*=C}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],h=s[o],d=s[o+1],f=s[o+2],A=s[o+3];return e[t]=a*A+u*h+l*f-c*d,e[t+1]=l*A+u*d+c*h-a*f,e[t+2]=c*A+u*f+a*d-l*h,e[t+3]=u*A-a*h-l*d-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),h=a(s/2),d=l(r/2),f=l(i/2),A=l(s/2);switch(o){case"XYZ":this._x=d*u*h+c*f*A,this._y=c*f*h-d*u*A,this._z=c*u*A+d*f*h,this._w=c*u*h-d*f*A;break;case"YXZ":this._x=d*u*h+c*f*A,this._y=c*f*h-d*u*A,this._z=c*u*A-d*f*h,this._w=c*u*h+d*f*A;break;case"ZXY":this._x=d*u*h-c*f*A,this._y=c*f*h+d*u*A,this._z=c*u*A+d*f*h,this._w=c*u*h-d*f*A;break;case"ZYX":this._x=d*u*h-c*f*A,this._y=c*f*h+d*u*A,this._z=c*u*A-d*f*h,this._w=c*u*h+d*f*A;break;case"YZX":this._x=d*u*h+c*f*A,this._y=c*f*h+d*u*A,this._z=c*u*A-d*f*h,this._w=c*u*h-d*f*A;break;case"XZY":this._x=d*u*h-c*f*A,this._y=c*f*h-d*u*A,this._z=c*u*A+d*f*h,this._w=c*u*h+d*f*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],d=r+a+h;if(d>0){const f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(u-l)*f,this._y=(s-c)*f,this._z=(o-i)*f}else if(r>a&&r>h){const f=2*Math.sqrt(1+r-a-h);this._w=(u-l)/f,this._x=.25*f,this._y=(i+o)/f,this._z=(s+c)/f}else if(a>h){const f=2*Math.sqrt(1+a-r-h);this._w=(s-c)/f,this._x=(i+o)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+h-r-a);this._w=(o-i)/f,this._x=(s+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Gr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-t;return this._w=f*o+t*this._w,this._x=f*r+t*this._x,this._y=f*i+t*this._y,this._z=f*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=o*h+this._w*d,this._x=r*h+this._x*d,this._y=i*h+this._y*d,this._z=s*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Re{constructor(e=0,t=0,r=0){Re.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(MX.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(MX.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*t-s*i),h=2*(s*r-o*t);return this.x=t+l*c+o*h-a*u,this.y=r+l*u+a*c-s*h,this.z=i+l*h+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Gr(this.x,e.x,t.x),this.y=Gr(this.y,e.y,t.y),this.z=Gr(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Gr(this.x,e,t),this.y=Gr(this.y,e,t),this.z=Gr(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Gr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return r4.copy(this).projectOnVector(e),this.sub(r4)}reflect(e){return this.sub(r4.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Gr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const r4=new Re,MX=new Pc;class mu{constructor(e=new Re(1/0,1/0,1/0),t=new Re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(qf.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(qf.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=qf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(void 0!==r){const s=r.getAttribute("position");if(!0===t&&void 0!==s&&!0!==e.isInstancedMesh)for(let o=0,a=s.count;o<a;o++)!0===e.isMesh?e.getVertexPosition(o,qf):qf.fromBufferAttribute(s,o),qf.applyMatrix4(e.matrixWorld),this.expandByPoint(qf);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),eB.copy(e.boundingBox)):(null===r.boundingBox&&r.computeBoundingBox(),eB.copy(r.boundingBox)),eB.applyMatrix4(e.matrixWorld),this.union(eB)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,qf),qf.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(oE),tB.subVectors(this.max,oE),A1.subVectors(e.a,oE),p1.subVectors(e.b,oE),g1.subVectors(e.c,oE),Xg.subVectors(p1,A1),Yg.subVectors(g1,p1),r0.subVectors(A1,g1);let t=[0,-Xg.z,Xg.y,0,-Yg.z,Yg.y,0,-r0.z,r0.y,Xg.z,0,-Xg.x,Yg.z,0,-Yg.x,r0.z,0,-r0.x,-Xg.y,Xg.x,0,-Yg.y,Yg.x,0,-r0.y,r0.x,0];return!(!i4(t,A1,p1,g1,tB)||(t=[1,0,0,0,1,0,0,0,1],!i4(t,A1,p1,g1,tB)))&&(nB.crossVectors(Xg,Yg),t=[nB.x,nB.y,nB.z],i4(t,A1,p1,g1,tB))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,qf).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(qf).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(sp[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),sp[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),sp[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),sp[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),sp[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),sp[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),sp[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),sp[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(sp)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const sp=[new Re,new Re,new Re,new Re,new Re,new Re,new Re,new Re],qf=new Re,eB=new mu,A1=new Re,p1=new Re,g1=new Re,Xg=new Re,Yg=new Re,r0=new Re,oE=new Re,tB=new Re,nB=new Re,s0=new Re;function i4(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){s0.fromArray(n,s);const a=i.x*Math.abs(s0.x)+i.y*Math.abs(s0.y)+i.z*Math.abs(s0.z),l=e.dot(s0),c=t.dot(s0),u=r.dot(s0);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const X2e=new mu,aE=new Re,s4=new Re;class Lc{constructor(e=new Re,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;void 0!==t?r.copy(t):X2e.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;aE.subVectors(e,this.center);const t=aE.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=.5*(r-this.radius);this.center.addScaledVector(aE,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(s4.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(aE.copy(e.center).add(s4)),this.expandByPoint(aE.copy(e.center).sub(s4))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const op=new Re,o4=new Re,rB=new Re,Jg=new Re,a4=new Re,iB=new Re,l4=new Re;class m1{constructor(e=new Re,t=new Re(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,op)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=op.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(op.copy(this.origin).addScaledVector(this.direction,t),op.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){o4.copy(e).add(t).multiplyScalar(.5),rB.copy(t).sub(e).normalize(),Jg.copy(this.origin).sub(o4);const s=.5*e.distanceTo(t),o=-this.direction.dot(rB),a=Jg.dot(this.direction),l=-Jg.dot(rB),c=Jg.lengthSq(),u=Math.abs(1-o*o);let h,d,f,A;if(u>0)if(h=o*l-a,d=o*a-l,A=s*u,h>=0)if(d>=-A)if(d<=A){const p=1/u;h*=p,d*=p,f=h*(h+o*d+2*a)+d*(o*h+d+2*l)+c}else d=s,h=Math.max(0,-(o*d+a)),f=-h*h+d*(d+2*l)+c;else d=-s,h=Math.max(0,-(o*d+a)),f=-h*h+d*(d+2*l)+c;else d<=-A?(h=Math.max(0,-(-o*s+a)),d=h>0?-s:Math.min(Math.max(-s,-l),s),f=-h*h+d*(d+2*l)+c):d<=A?(h=0,d=Math.min(Math.max(-s,-l),s),f=d*(d+2*l)+c):(h=Math.max(0,-(o*s+a)),d=h>0?s:Math.min(Math.max(-s,-l),s),f=-h*h+d*(d+2*l)+c);else d=o>0?-s:s,h=Math.max(0,-(o*d+a)),f=-h*h+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(o4).addScaledVector(rB,d),f}intersectSphere(e,t){op.subVectors(e.center,this.origin);const r=op.dot(this.direction),i=op.dot(op)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-d.z)*h,l=(e.max.z-d.z)*h):(a=(e.max.z-d.z)*h,l=(e.min.z-d.z)*h),r>l||a>i)||((a>r||r!=r)&&(r=a),(l<i||i!=i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return null!==this.intersectBox(e,op)}intersectTriangle(e,t,r,i,s){a4.subVectors(t,e),iB.subVectors(r,e),l4.crossVectors(a4,iB);let a,o=this.direction.dot(l4);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Jg.subVectors(this.origin,e);const l=a*this.direction.dot(iB.crossVectors(Jg,iB));if(l<0)return null;const c=a*this.direction.dot(a4.cross(Jg));if(c<0||l+c>o)return null;const u=-a*Jg.dot(l4);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Nr{constructor(e,t,r,i,s,o,a,l,c,u,h,d,f,A,p,m){Nr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,r,i,s,o,a,l,c,u,h,d,f,A,p,m)}set(e,t,r,i,s,o,a,l,c,u,h,d,f,A,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=h,g[14]=d,g[3]=f,g[7]=A,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Nr).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/v1.setFromMatrixColumn(e,0).length(),s=1/v1.setFromMatrixColumn(e,1).length(),o=1/v1.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if("XYZ"===e.order){const d=o*u,f=o*h,A=a*u,p=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=f+A*c,t[5]=d-p*c,t[9]=-a*l,t[2]=p-d*c,t[6]=A+f*c,t[10]=o*l}else if("YXZ"===e.order){const d=l*u,f=l*h,A=c*u,p=c*h;t[0]=d+p*a,t[4]=A*a-f,t[8]=o*c,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=f*a-A,t[6]=p+d*a,t[10]=o*l}else if("ZXY"===e.order){const d=l*u,f=l*h,A=c*u,p=c*h;t[0]=d-p*a,t[4]=-o*h,t[8]=A+f*a,t[1]=f+A*a,t[5]=o*u,t[9]=p-d*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const d=o*u,f=o*h,A=a*u,p=a*h;t[0]=l*u,t[4]=A*c-f,t[8]=d*c+p,t[1]=l*h,t[5]=p*c+d,t[9]=f*c-A,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const d=o*l,f=o*c,A=a*l,p=a*c;t[0]=l*u,t[4]=p-d*h,t[8]=A*h+f,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=f*h+A,t[10]=d-p*h}else if("XZY"===e.order){const d=o*l,f=o*c,A=a*l,p=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=d*h+p,t[5]=o*u,t[9]=f*h-A,t[2]=A*h-f,t[6]=a*u,t[10]=p*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Y2e,e,J2e)}lookAt(e,t,r){const i=this.elements;return ih.subVectors(e,t),0===ih.lengthSq()&&(ih.z=1),ih.normalize(),Zg.crossVectors(r,ih),0===Zg.lengthSq()&&(1===Math.abs(r.z)?ih.x+=1e-4:ih.z+=1e-4,ih.normalize(),Zg.crossVectors(r,ih)),Zg.normalize(),sB.crossVectors(ih,Zg),i[0]=Zg.x,i[4]=sB.x,i[8]=ih.x,i[1]=Zg.y,i[5]=sB.y,i[9]=ih.y,i[2]=Zg.z,i[6]=sB.z,i[10]=ih.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],h=r[5],d=r[9],f=r[13],A=r[2],p=r[6],m=r[10],g=r[14],y=r[3],v=r[7],_=r[11],C=r[15],b=i[0],M=i[4],D=i[8],E=i[12],T=i[1],B=i[5],R=i[9],U=i[13],k=i[2],q=i[6],O=i[10],P=i[14],G=i[3],H=i[7],ae=i[11],ve=i[15];return s[0]=o*b+a*T+l*k+c*G,s[4]=o*M+a*B+l*q+c*H,s[8]=o*D+a*R+l*O+c*ae,s[12]=o*E+a*U+l*P+c*ve,s[1]=u*b+h*T+d*k+f*G,s[5]=u*M+h*B+d*q+f*H,s[9]=u*D+h*R+d*O+f*ae,s[13]=u*E+h*U+d*P+f*ve,s[2]=A*b+p*T+m*k+g*G,s[6]=A*M+p*B+m*q+g*H,s[10]=A*D+p*R+m*O+g*ae,s[14]=A*E+p*U+m*P+g*ve,s[3]=y*b+v*T+_*k+C*G,s[7]=y*M+v*B+_*q+C*H,s[11]=y*D+v*R+_*O+C*ae,s[15]=y*E+v*U+_*P+C*ve,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],d=e[10],f=e[14];return e[3]*(+s*l*h-i*c*h-s*a*d+r*c*d+i*a*f-r*l*f)+e[7]*(+t*l*f-t*c*d+s*o*d-i*o*f+i*c*u-s*l*u)+e[11]*(+t*c*h-t*a*f-s*o*h+r*o*f+s*a*u-r*c*u)+e[15]*(-i*a*u-t*l*h+t*a*d+i*o*h-r*o*d+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],f=e[11],A=e[12],p=e[13],m=e[14],g=e[15],y=h*m*c-p*d*c+p*l*f-a*m*f-h*l*g+a*d*g,v=A*d*c-u*m*c-A*l*f+o*m*f+u*l*g-o*d*g,_=u*p*c-A*h*c+A*a*f-o*p*f-u*a*g+o*h*g,C=A*h*l-u*p*l-A*a*d+o*p*d+u*a*m-o*h*m,b=t*y+r*v+i*_+s*C;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/b;return e[0]=y*M,e[1]=(p*d*s-h*m*s-p*i*f+r*m*f+h*i*g-r*d*g)*M,e[2]=(a*m*s-p*l*s+p*i*c-r*m*c-a*i*g+r*l*g)*M,e[3]=(h*l*s-a*d*s-h*i*c+r*d*c+a*i*f-r*l*f)*M,e[4]=v*M,e[5]=(u*m*s-A*d*s+A*i*f-t*m*f-u*i*g+t*d*g)*M,e[6]=(A*l*s-o*m*s-A*i*c+t*m*c+o*i*g-t*l*g)*M,e[7]=(o*d*s-u*l*s+u*i*c-t*d*c-o*i*f+t*l*f)*M,e[8]=_*M,e[9]=(A*h*s-u*p*s-A*r*f+t*p*f+u*r*g-t*h*g)*M,e[10]=(o*p*s-A*a*s+A*r*c-t*p*c-o*r*g+t*a*g)*M,e[11]=(u*a*s-o*h*s-u*r*c+t*h*c+o*r*f-t*a*f)*M,e[12]=C*M,e[13]=(u*p*i-A*h*i+A*r*d-t*p*d-u*r*m+t*h*m)*M,e[14]=(A*a*i-o*p*i-A*r*l+t*p*l+o*r*m-t*a*m)*M,e[15]=(o*h*i-u*a*i+u*r*l-t*h*l-o*r*d+t*a*d)*M,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,h=a+a,d=s*c,f=s*u,A=s*h,p=o*u,m=o*h,g=a*h,y=l*c,v=l*u,_=l*h,C=r.x,b=r.y,M=r.z;return i[0]=(1-(p+g))*C,i[1]=(f+_)*C,i[2]=(A-v)*C,i[3]=0,i[4]=(f-_)*b,i[5]=(1-(d+g))*b,i[6]=(m+y)*b,i[7]=0,i[8]=(A+v)*M,i[9]=(m-y)*M,i[10]=(1-(d+p))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=v1.set(i[0],i[1],i[2]).length();const o=v1.set(i[4],i[5],i[6]).length(),a=v1.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Wf.copy(this);const c=1/s,u=1/o,h=1/a;return Wf.elements[0]*=c,Wf.elements[1]*=c,Wf.elements[2]*=c,Wf.elements[4]*=u,Wf.elements[5]*=u,Wf.elements[6]*=u,Wf.elements[8]*=h,Wf.elements[9]*=h,Wf.elements[10]*=h,t.setFromRotationMatrix(Wf),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=np){const l=this.elements,c=2*s/(t-e),u=2*s/(r-i),h=(t+e)/(t-e),d=(r+i)/(r-i);let f,A;if(a===np)f=-(o+s)/(o-s),A=-2*o*s/(o-s);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);f=-o/(o-s),A=-o*s/(o-s)}return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=A,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=np){const l=this.elements,c=1/(t-e),u=1/(r-i),h=1/(o-s),d=(t+e)*c,f=(r+i)*u;let A,p;if(a===np)A=(o+s)*h,p=-2*h;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);A=s*h,p=-1*h}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=p,l[14]=-A,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const v1=new Re,Wf=new Nr,Y2e=new Re(0,0,0),J2e=new Re(1,1,1),Zg=new Re,sB=new Re,ih=new Re,TX=new Nr,BX=new Pc;let ap=(()=>{class n{constructor(t=0,r=0,i=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=r,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,i,s=this._order){return this._x=t,this._y=r,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,i=!0){const s=t.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],h=s[9],d=s[2],f=s[6],A=s[10];switch(r){case"XYZ":this._y=Math.asin(Gr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,A),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Gr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(l,A),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Gr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,A),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-Gr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,A),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Gr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(l,A));break;case"XZY":this._z=Math.asin(-Gr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-h,A),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,r,i){return TX.makeRotationFromQuaternion(t),this.setFromRotationMatrix(TX,r,i)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return BX.setFromEuler(this),this.setFromQuaternion(BX,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class c4{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return!!(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let Z2e=0;const NX=new Re,y1=new Pc,lp=new Nr,oB=new Re,lE=new Re,eDe=new Re,tDe=new Pc,IX=new Re(1,0,0),FX=new Re(0,1,0),RX=new Re(0,0,1),OX={type:"added"},nDe={type:"removed"},_1={type:"childadded",child:null},u4={type:"childremoved",child:null};let vo=(()=>{class n extends rp{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Z2e++}),this.uuid=rh(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new Re,r=new ap,i=new Pc,s=new Re(1,1,1);r._onChange(function o(){i.setFromEuler(r,!1)}),i._onChange(function a(){r.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Nr},normalMatrix:{value:new ni}}),this.matrix=new Nr,this.matrixWorld=new Nr,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new c4,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return y1.setFromAxisAngle(t,r),this.quaternion.multiply(y1),this}rotateOnWorldAxis(t,r){return y1.setFromAxisAngle(t,r),this.quaternion.premultiply(y1),this}rotateX(t){return this.rotateOnAxis(IX,t)}rotateY(t){return this.rotateOnAxis(FX,t)}rotateZ(t){return this.rotateOnAxis(RX,t)}translateOnAxis(t,r){return NX.copy(t).applyQuaternion(this.quaternion),this.position.add(NX.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(IX,t)}translateY(t){return this.translateOnAxis(FX,t)}translateZ(t){return this.translateOnAxis(RX,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(lp.copy(this.matrixWorld).invert())}lookAt(t,r,i){t.isVector3?oB.copy(t):oB.set(t,r,i);const s=this.parent;this.updateWorldMatrix(!0,!1),lE.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?lp.lookAt(lE,oB,this.up):lp.lookAt(oB,lE,this.up),this.quaternion.setFromRotationMatrix(lp),s&&(lp.extractRotation(s.matrixWorld),y1.setFromRotationMatrix(lp),this.quaternion.premultiply(y1.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(OX),_1.child=t,this.dispatchEvent(_1),_1.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const r=this.children.indexOf(t);return-1!==r&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(nDe),u4.child=t,this.dispatchEvent(u4),u4.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),lp.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),lp.multiply(t.parent.matrixWorld)),t.applyMatrix4(lp),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(OX),_1.child=t,this.dispatchEvent(_1),_1.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectByProperty(t,r);if(void 0!==a)return a}}getObjectsByProperty(t,r,i=[]){this[t]===r&&i.push(this);const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].getObjectsByProperty(t,r,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lE,t,eDe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lE,tDe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].traverseVisible(t)}traverseAncestors(t){const r=this.parent;null!==r&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].updateMatrixWorld(t)}updateWorldMatrix(t,r){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===r){const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].updateWorldMatrix(!1,!0)}}toJSON(t){const r=void 0===t||"string"==typeof t,i={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(t),null!==this._colorsTexture&&(s.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),null!==this.boundingBox&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,h=c.length;u<h;u++)o(t.shapes,c[u]);else o(t.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(t.materials,this.material[c]));s.material=l}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(o(t.animations,this.animations[l]))}if(r){const l=a(t.geometries),c=a(t.materials),u=a(t.textures),h=a(t.images),d=a(t.shapes),f=a(t.skeletons),A=a(t.animations),p=a(t.nodes);l.length>0&&(i.geometries=l),c.length>0&&(i.materials=c),u.length>0&&(i.textures=u),h.length>0&&(i.images=h),d.length>0&&(i.shapes=d),f.length>0&&(i.skeletons=f),A.length>0&&(i.animations=A),p.length>0&&(i.nodes=p)}return i.object=s,i;function a(l){const c=[];for(const u in l){const h=l[u];delete h.metadata,c.push(h)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===r)for(let i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}}return n.DEFAULT_UP=new Re(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const $f=new Re,cp=new Re,h4=new Re,up=new Re,b1=new Re,w1=new Re,PX=new Re,f4=new Re,d4=new Re,A4=new Re,p4=new fs,g4=new fs,m4=new fs;class sh{constructor(e=new Re,t=new Re,r=new Re){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),$f.subVectors(e,t),i.cross($f);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){$f.subVectors(i,t),cp.subVectors(r,t),h4.subVectors(e,t);const o=$f.dot($f),a=$f.dot(cp),l=$f.dot(h4),c=cp.dot(cp),u=cp.dot(h4),h=o*c-a*a;if(0===h)return s.set(0,0,0),null;const d=1/h,f=(c*l-a*u)*d,A=(o*u-a*l)*d;return s.set(1-f-A,A,f)}static containsPoint(e,t,r,i){return null!==this.getBarycoord(e,t,r,i,up)&&up.x>=0&&up.y>=0&&up.x+up.y<=1}static getInterpolation(e,t,r,i,s,o,a,l){return null===this.getBarycoord(e,t,r,i,up)?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,up.x),l.addScaledVector(o,up.y),l.addScaledVector(a,up.z),l)}static getInterpolatedAttribute(e,t,r,i,s,o){return p4.setScalar(0),g4.setScalar(0),m4.setScalar(0),p4.fromBufferAttribute(e,t),g4.fromBufferAttribute(e,r),m4.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(p4,s.x),o.addScaledVector(g4,s.y),o.addScaledVector(m4,s.z),o}static isFrontFacing(e,t,r,i){return $f.subVectors(r,t),cp.subVectors(e,t),$f.cross(cp).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return $f.subVectors(this.c,this.b),cp.subVectors(this.a,this.b),.5*$f.cross(cp).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return sh.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return sh.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return sh.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return sh.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return sh.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;b1.subVectors(i,r),w1.subVectors(s,r),f4.subVectors(e,r);const l=b1.dot(f4),c=w1.dot(f4);if(l<=0&&c<=0)return t.copy(r);d4.subVectors(e,i);const u=b1.dot(d4),h=w1.dot(d4);if(u>=0&&h<=u)return t.copy(i);const d=l*h-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(b1,o);A4.subVectors(e,s);const f=b1.dot(A4),A=w1.dot(A4);if(A>=0&&f<=A)return t.copy(s);const p=f*c-l*A;if(p<=0&&c>=0&&A<=0)return a=c/(c-A),t.copy(r).addScaledVector(w1,a);const m=u*A-f*h;if(m<=0&&h-u>=0&&f-A>=0)return PX.subVectors(s,i),a=(h-u)/(h-u+(f-A)),t.copy(i).addScaledVector(PX,a);const g=1/(m+p+d);return o=p*g,a=d*g,t.copy(r).addScaledVector(b1,o).addScaledVector(w1,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const LX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},em={h:0,s:0,l:0},aB={h:0,s:0,l:0};function v4(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Un{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(void 0===t&&void 0===r){const i=e;i&&i.isColor?this.copy(i):"number"==typeof i?this.setHex(i):"string"==typeof i&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=nh){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ss.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=ss.workingColorSpace){return this.r=e,this.g=t,this.b=r,ss.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=ss.workingColorSpace){if(e=function ZU(n,e){return(n%e+e)%e}(e,1),t=Gr(t,0,1),r=Gr(r,0,1),0===t)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=v4(o,s,e+1/3),this.g=v4(o,s,e),this.b=v4(o,s,e-1/3)}return ss.toWorkingColorSpace(this,i),this}setStyle(e,t=nh){function r(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[2];switch(i[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=nh){const r=LX[e.toLowerCase()];return void 0!==r?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ip(e.r),this.g=ip(e.g),this.b=ip(e.b),this}copyLinearToSRGB(e){return this.r=h1(e.r),this.g=h1(e.g),this.b=h1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=nh){return ss.fromWorkingColorSpace(ic.copy(this),e),65536*Math.round(Gr(255*ic.r,0,255))+256*Math.round(Gr(255*ic.g,0,255))+Math.round(Gr(255*ic.b,0,255))}getHexString(e=nh){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ss.workingColorSpace){ss.fromWorkingColorSpace(ic.copy(this),t);const r=ic.r,i=ic.g,s=ic.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=ss.workingColorSpace){return ss.fromWorkingColorSpace(ic.copy(this),t),e.r=ic.r,e.g=ic.g,e.b=ic.b,e}getStyle(e=nh){ss.fromWorkingColorSpace(ic.copy(this),e);const t=ic.r,r=ic.g,i=ic.b;return e!==nh?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*r)},${Math.round(255*i)})`}offsetHSL(e,t,r){return this.getHSL(em),this.setHSL(em.h+e,em.s+t,em.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(em),e.getHSL(aB);const r=iE(em.h,aB.h,t),i=iE(em.s,aB.s,t),s=iE(em.l,aB.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ic=new Un;Un.NAMES=LX;let rDe=0;class Uc extends rp{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:rDe++}),this.uuid=rh(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Un(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=a1,this.stencilZFail=a1,this.stencilZPass=a1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(r.dispersion=this.dispersion),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(r.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapRotation&&(r.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),!0===this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=!0),204!==this.blendSrc&&(r.blendSrc=this.blendSrc),205!==this.blendDst&&(r.blendDst=this.blendDst),100!==this.blendEquation&&(r.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(r.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(r.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(r.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(r.depthFunc=this.depthFunc),!1===this.depthTest&&(r.depthTest=this.depthTest),!1===this.depthWrite&&(r.depthWrite=this.depthWrite),!1===this.colorWrite&&(r.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(r.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(r.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(r.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==a1&&(r.stencilFail=this.stencilFail),this.stencilZFail!==a1&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==a1&&(r.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(r.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaHash&&(r.alphaHash=!0),!0===this.alphaToCoverage&&(r.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=!0),!0===this.forceSinglePass&&(r.forceSinglePass=!0),!0===this.wireframe&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData),t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class hp extends Uc{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Un(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ap,this.combine=LT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Sa=new Re,lB=new Ut;class eo{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=r,this.usage=35044,this.updateRanges=[],this.gpuType=th,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)lB.fromBufferAttribute(this,t),lB.applyMatrix3(e),this.setXY(t,lB.x,lB.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)Sa.fromBufferAttribute(this,t),Sa.applyMatrix3(e),this.setXYZ(t,Sa.x,Sa.y,Sa.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Sa.fromBufferAttribute(this,t),Sa.applyMatrix4(e),this.setXYZ(t,Sa.x,Sa.y,Sa.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Sa.fromBufferAttribute(this,t),Sa.applyNormalMatrix(e),this.setXYZ(t,Sa.x,Sa.y,Sa.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Sa.fromBufferAttribute(this,t),Sa.transformDirection(e),this.setXYZ(t,Sa.x,Sa.y,Sa.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Oc(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=ti(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Oc(t,this.array)),t}setX(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Oc(t,this.array)),t}setY(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Oc(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Oc(t,this.array)),t}setW(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=ti(t,this.array),r=ti(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=ti(t,this.array),r=ti(r,this.array),i=ti(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=ti(t,this.array),r=ti(r,this.array),i=ti(i,this.array),s=ti(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class UX extends eo{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class kX extends eo{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Yn extends eo{constructor(e,t,r){super(new Float32Array(e),t,r)}}let sDe=0;const kh=new Nr,y4=new vo,C1=new Re,oh=new mu,uE=new mu,ul=new Re;class Ai extends rp{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:sDe++}),this.uuid=rh(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(CX(e)?kX:UX)(e,1):e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const s=(new ni).getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return kh.makeRotationFromQuaternion(e),this.applyMatrix4(kh),this}rotateX(e){return kh.makeRotationX(e),this.applyMatrix4(kh),this}rotateY(e){return kh.makeRotationY(e),this.applyMatrix4(kh),this}rotateZ(e){return kh.makeRotationZ(e),this.applyMatrix4(kh),this}translate(e,t,r){return kh.makeTranslation(e,t,r),this.applyMatrix4(kh),this}scale(e,t,r){return kh.makeScale(e,t,r),this.applyMatrix4(kh),this}lookAt(e){return y4.lookAt(e),y4.updateMatrix(),this.applyMatrix4(y4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(C1).negate(),this.translate(C1.x,C1.y,C1.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Yn(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new mu);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Re(-1/0,-1/0,-1/0),new Re(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++)oh.setFromBufferAttribute(t[r]),this.morphTargetsRelative?(ul.addVectors(this.boundingBox.min,oh.min),this.boundingBox.expandByPoint(ul),ul.addVectors(this.boundingBox.max,oh.max),this.boundingBox.expandByPoint(ul)):(this.boundingBox.expandByPoint(oh.min),this.boundingBox.expandByPoint(oh.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Lc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Re,1/0);if(e){const r=this.boundingSphere.center;if(oh.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)uE.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(ul.addVectors(oh.min,uE.min),oh.expandByPoint(ul),ul.addVectors(oh.max,uE.max),oh.expandByPoint(ul)):(oh.expandByPoint(uE.min),oh.expandByPoint(uE.max));oh.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ul.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ul));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ul.fromBufferAttribute(a,c),l&&(C1.fromBufferAttribute(e,c),ul.add(C1)),i=Math.max(i,r.distanceToSquared(ul))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=t.position,i=t.normal,s=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new eo(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let D=0;D<r.count;D++)a[D]=new Re,l[D]=new Re;const c=new Re,u=new Re,h=new Re,d=new Ut,f=new Ut,A=new Ut,p=new Re,m=new Re;function g(D,E,T){c.fromBufferAttribute(r,D),u.fromBufferAttribute(r,E),h.fromBufferAttribute(r,T),d.fromBufferAttribute(s,D),f.fromBufferAttribute(s,E),A.fromBufferAttribute(s,T),u.sub(c),h.sub(c),f.sub(d),A.sub(d);const B=1/(f.x*A.y-A.x*f.y);isFinite(B)&&(p.copy(u).multiplyScalar(A.y).addScaledVector(h,-f.y).multiplyScalar(B),m.copy(h).multiplyScalar(f.x).addScaledVector(u,-A.x).multiplyScalar(B),a[D].add(p),a[E].add(p),a[T].add(p),l[D].add(m),l[E].add(m),l[T].add(m))}let y=this.groups;0===y.length&&(y=[{start:0,count:e.count}]);for(let D=0,E=y.length;D<E;++D){const T=y[D],B=T.start;for(let U=B,k=B+T.count;U<k;U+=3)g(e.getX(U+0),e.getX(U+1),e.getX(U+2))}const v=new Re,_=new Re,C=new Re,b=new Re;function M(D){C.fromBufferAttribute(i,D),b.copy(C);const E=a[D];v.copy(E),v.sub(C.multiplyScalar(C.dot(E))).normalize(),_.crossVectors(b,E);const B=_.dot(l[D])<0?-1:1;o.setXYZW(D,v.x,v.y,v.z,B)}for(let D=0,E=y.length;D<E;++D){const T=y[D],B=T.start;for(let U=B,k=B+T.count;U<k;U+=3)M(e.getX(U+0)),M(e.getX(U+1)),M(e.getX(U+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new eo(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let d=0,f=r.count;d<f;d++)r.setXYZ(d,0,0,0);const i=new Re,s=new Re,o=new Re,a=new Re,l=new Re,c=new Re,u=new Re,h=new Re;if(e)for(let d=0,f=e.count;d<f;d+=3){const A=e.getX(d+0),p=e.getX(d+1),m=e.getX(d+2);i.fromBufferAttribute(t,A),s.fromBufferAttribute(t,p),o.fromBufferAttribute(t,m),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),a.fromBufferAttribute(r,A),l.fromBufferAttribute(r,p),c.fromBufferAttribute(r,m),a.add(u),l.add(u),c.add(u),r.setXYZ(A,a.x,a.y,a.z),r.setXYZ(p,l.x,l.y,l.z),r.setXYZ(m,c.x,c.y,c.z)}else for(let d=0,f=t.count;d<f;d+=3)i.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)ul.fromBufferAttribute(e,t),ul.normalize(),e.setXYZ(t,ul.x,ul.y,ul.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,d=new c.constructor(l.length*u);let f=0,A=0;for(let p=0,m=l.length;p<m;p++){f=a.isInterleavedBufferAttribute?l[p]*a.data.stride+a.offset:l[p]*u;for(let g=0;g<u;g++)d[A++]=c[f++]}return new eo(d,u,h)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ai,r=this.index.array,i=this.attributes;for(const a in i){const c=e(i[a],r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const f=e(c[u],r);l.push(f)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r)e.data.attributes[l]=r[l].toJSON(e.data);const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,d=c.length;h<d;h++)u.push(c[h].toJSON(e.data));u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i)this.setAttribute(c,i[c].clone(t));const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let d=0,f=h.length;d<f;d++)u.push(h[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const HX=new Nr,o0=new m1,cB=new Lc,VX=new Re,uB=new Re,hB=new Re,fB=new Re,_4=new Re,dB=new Re,QX=new Re,AB=new Re;class aa extends vo{constructor(e=new Ai,t=new hp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(r.attributes.position,e);const a=this.morphTargetInfluences;if(s&&a){dB.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l];0!==u&&(_4.fromBufferAttribute(s[l],e),dB.addScaledVector(o?_4:_4.sub(t),u))}t.add(dB)}return t}raycast(e,t){const r=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===r.boundingSphere&&r.computeBoundingSphere(),cB.copy(r.boundingSphere),cB.applyMatrix4(s),o0.copy(e.ray).recast(e.near),(!1!==cB.containsPoint(o0.origin)||!(null===o0.intersectSphere(cB,VX)||o0.origin.distanceToSquared(VX)>(e.far-e.near)**2))&&(HX.copy(s).invert(),o0.copy(e.ray).applyMatrix4(HX),(null===r.boundingBox||!1!==o0.intersectsBox(r.boundingBox))&&this._computeIntersections(e,t,o0)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,d=s.groups,f=s.drawRange;if(null!==a)if(Array.isArray(o))for(let A=0,p=d.length;A<p;A++){const m=d[A],g=o[m.materialIndex];for(let _=Math.max(m.start,f.start),C=Math.min(a.count,Math.min(m.start+m.count,f.start+f.count));_<C;_+=3)i=pB(this,g,e,r,c,u,h,a.getX(_),a.getX(_+1),a.getX(_+2)),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=m.materialIndex,t.push(i))}else for(let m=Math.max(0,f.start),g=Math.min(a.count,f.start+f.count);m<g;m+=3)i=pB(this,o,e,r,c,u,h,a.getX(m),a.getX(m+1),a.getX(m+2)),i&&(i.faceIndex=Math.floor(m/3),t.push(i));else if(void 0!==l)if(Array.isArray(o))for(let A=0,p=d.length;A<p;A++){const m=d[A],g=o[m.materialIndex];for(let _=Math.max(m.start,f.start),C=Math.min(l.count,Math.min(m.start+m.count,f.start+f.count));_<C;_+=3)i=pB(this,g,e,r,c,u,h,_,_+1,_+2),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=m.materialIndex,t.push(i))}else for(let m=Math.max(0,f.start),g=Math.min(l.count,f.start+f.count);m<g;m+=3)i=pB(this,o,e,r,c,u,h,m,m+1,m+2),i&&(i.faceIndex=Math.floor(m/3),t.push(i))}}function pB(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,uB),n.getVertexPosition(l,hB),n.getVertexPosition(c,fB);const u=function oDe(n,e,t,r,i,s,o,a){let l;if(l=1===e.side?r.intersectTriangle(o,s,i,!0,a):r.intersectTriangle(i,s,o,0===e.side,a),null===l)return null;AB.copy(a),AB.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(AB);return c<t.near||c>t.far?null:{distance:c,point:AB.clone(),object:n}}(n,e,t,r,uB,hB,fB,QX);if(u){const h=new Re;sh.getBarycoord(QX,uB,hB,fB,h),i&&(u.uv=sh.getInterpolatedAttribute(i,a,l,c,h,new Ut)),s&&(u.uv1=sh.getInterpolatedAttribute(s,a,l,c,h,new Ut)),o&&(u.normal=sh.getInterpolatedAttribute(o,a,l,c,h,new Re),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new Re,materialIndex:0};sh.getNormal(uB,hB,fB,d.normal),u.face=d,u.barycoord=h}return u}class x1 extends Ai{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let d=0,f=0;function A(p,m,g,y,v,_,C,b,M,D,E){const T=_/M,B=C/D,R=_/2,U=C/2,k=b/2,q=M+1,O=D+1;let P=0,G=0;const H=new Re;for(let ae=0;ae<O;ae++){const ve=ae*B-U;for(let Q=0;Q<q;Q++)H[p]=(Q*T-R)*y,H[m]=ve*v,H[g]=k,c.push(H.x,H.y,H.z),H[p]=0,H[m]=0,H[g]=b>0?1:-1,u.push(H.x,H.y,H.z),h.push(Q/M),h.push(1-ae/D),P+=1}for(let ae=0;ae<D;ae++)for(let ve=0;ve<M;ve++){const j=d+ve+q*(ae+1),K=d+(ve+1)+q*(ae+1),oe=d+(ve+1)+q*ae;l.push(d+ve+q*ae,j,oe),l.push(j,K,oe),G+=6}a.addGroup(f,G,E),f+=G,d+=P}A("z","y","x",-1,-1,r,t,e,o,s,0),A("z","y","x",1,-1,r,t,-e,o,s,1),A("x","z","y",1,1,e,r,t,i,o,2),A("x","z","y",1,-1,e,r,-t,i,o,3),A("x","y","z",1,-1,e,t,r,i,s,4),A("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Yn(c,3)),this.setAttribute("normal",new Yn(u,3)),this.setAttribute("uv",new Yn(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new x1(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function E1(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():e[t][r]=Array.isArray(i)?i.slice():i}}return e}function kc(n){const e={};for(let t=0;t<n.length;t++){const r=E1(n[t]);for(const i in r)e[i]=r[i]}return e}function zX(n){const e=n.getRenderTarget();return null===e?n.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:ss.workingColorSpace}const lDe={clone:E1,merge:kc};class Kd extends Uc{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=E1(e.uniforms),this.uniformsGroups=function aDe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;t.uniforms[i]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)!0===this.extensions[i]&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class b4 extends vo{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Nr,this.projectionMatrix=new Nr,this.projectionMatrixInverse=new Nr,this.coordinateSystem=np}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const tm=new Re,GX=new Ut,jX=new Ut;class Fl extends b4{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*l1*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*n0*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*l1*Math.atan(Math.tan(.5*n0*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){tm.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(tm.x,tm.y).multiplyScalar(-e/tm.z),tm.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(tm.x,tm.y).multiplyScalar(-e/tm.z)}getViewSize(e,t){return this.getViewBounds(e,GX,jX),t.subVectors(jX,GX)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*n0*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class hDe extends vo{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Fl(-90,1,e,t);i.layers=this.layers,this.add(i);const s=new Fl(-90,1,e,t);s.layers=this.layers,this.add(s);const o=new Fl(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new Fl(-90,1,e,t);a.layers=this.layers,this.add(a);const l=new Fl(-90,1,e,t);l.layers=this.layers,this.add(l);const c=new Fl(-90,1,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===np)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1)}for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,h=e.getRenderTarget(),d=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),A=e.xr.enabled;e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=p,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(h,d,f),e.xr.enabled=A,r.texture.needsPMREMUpdate=!0}}class gB extends gu{constructor(e,t,r,i,s,o,a,l,c,u){super(e=void 0!==e?e:[],t=void 0!==t?t:Wg,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class fDe extends $d{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1};this.texture=new gB([r,r,r,r,r,r],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:cl}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r_uniforms={tEquirect:{value:null}},r_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",i=new x1(5,5,5),s=new Kd({name:"CubemapFromEquirect",uniforms:E1(r_uniforms),vertexShader:r_vertexShader,fragmentShader:r_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const o=new aa(i,s),a=t.minFilter;return t.minFilter===ep&&(t.minFilter=cl),new hDe(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}class qX extends vo{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ap,this.environmentIntensity=1,this.environmentRotation=new ap,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}const T4=new Re,_De=new Re,bDe=new ni;class nm{constructor(e=new Re(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=T4.subVectors(r,t).cross(_De.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(T4),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||bDe.getNormalMatrix(e),i=this.coplanarPoint(T4).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const a0=new Lc,CB=new Re;class xB{constructor(e=new nm,t=new nm,r=new nm,i=new nm,s=new nm,o=new nm){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=np){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],h=i[6],d=i[7],f=i[8],A=i[9],p=i[10],m=i[11],g=i[12],y=i[13],v=i[14],_=i[15];if(r[0].setComponents(l-s,d-c,m-f,_-g).normalize(),r[1].setComponents(l+s,d+c,m+f,_+g).normalize(),r[2].setComponents(l+o,d+u,m+A,_+y).normalize(),r[3].setComponents(l-o,d-u,m-A,_-y).normalize(),r[4].setComponents(l-a,d-h,m-p,_-v).normalize(),t===np)r[5].setComponents(l+a,d+h,m+p,_+v).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);r[5].setComponents(a,h,p,v).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),a0.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),a0.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(a0)}intersectsSprite(e){return a0.center.set(0,0,0),a0.radius=.7071067811865476,a0.applyMatrix4(e.matrixWorld),this.intersectsSphere(a0)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(CB.x=i.normal.x>0?e.max.x:e.min.x,CB.y=i.normal.y>0?e.max.y:e.min.y,CB.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(CB)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}class yE extends vo{constructor(){super(),this.isGroup=!0,this.type="Group"}}class pY extends gu{constructor(e,t,r,i,s,o,a,l,c,u=n1){if(u!==n1&&u!==r1)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&u===n1&&(r=$g),void 0===r&&u===r1&&(r=t1),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:nc,this.minFilter=void 0!==l?l:nc,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class h0 extends Ai{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],h=[],d=[],f=[];let A=0;const p=[],m=r/2;let g=0;function v(_){const C=A,b=new Ut,M=new Re;let D=0;const E=!0===_?e:t,T=!0===_?1:-1;for(let R=1;R<=i;R++)h.push(0,m*T,0),d.push(0,T,0),f.push(.5,.5),A++;const B=A;for(let R=0;R<=i;R++){const k=R/i*l+a,q=Math.cos(k),O=Math.sin(k);M.x=E*O,M.y=m*T,M.z=E*q,h.push(M.x,M.y,M.z),d.push(0,T,0),b.x=.5*q+.5,b.y=.5*O*T+.5,f.push(b.x,b.y),A++}for(let R=0;R<i;R++){const U=C+R,k=B+R;!0===_?u.push(k,k+1,U):u.push(k+1,k,U),D+=3}c.addGroup(g,D,!0===_?1:2),g+=D}(function y(){const _=new Re,C=new Re;let b=0;const M=(t-e)/r;for(let D=0;D<=s;D++){const E=[],T=D/s,B=T*(t-e)+e;for(let R=0;R<=i;R++){const U=R/i,k=U*l+a,q=Math.sin(k),O=Math.cos(k);C.x=B*q,C.y=-T*r+m,C.z=B*O,h.push(C.x,C.y,C.z),_.set(q,M,O).normalize(),d.push(_.x,_.y,_.z),f.push(U,1-T),E.push(A++)}p.push(E)}for(let D=0;D<i;D++)for(let E=0;E<s;E++){const B=p[E+1][D],R=p[E+1][D+1],U=p[E][D+1];(e>0||0!==E)&&(u.push(p[E][D],B,U),b+=3),(t>0||E!==s-1)&&(u.push(B,R,U),b+=3)}c.addGroup(g,b,0),g+=b})(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(u),this.setAttribute("position",new Yn(h,3)),this.setAttribute("normal",new Yn(d,3)),this.setAttribute("uv",new Yn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new h0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class EE extends Ai{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,h=e/a,d=t/l,f=[],A=[],p=[],m=[];for(let g=0;g<u;g++){const y=g*d-o;for(let v=0;v<c;v++)A.push(v*h-s,-y,0),p.push(0,0,1),m.push(v/a),m.push(1-g/l)}for(let g=0;g<l;g++)for(let y=0;y<a;y++){const _=y+c*(g+1),C=y+1+c*(g+1),b=y+1+c*g;f.push(y+c*g,_,b),f.push(_,C,b)}this.setIndex(f),this.setAttribute("position",new Yn(A,3)),this.setAttribute("normal",new Yn(p,3)),this.setAttribute("uv",new Yn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new EE(e.width,e.height,e.widthSegments,e.heightSegments)}}class NY extends Uc{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class IY extends Uc{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function A0(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}class qB{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{i:if(!(e<i)){for(let a=r+2;;){if(void 0===i){if(e<s)break i;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0}}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class wMe extends qB{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=e,a=2*t-r;break;case 2402:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=e,l=2*r-t;break;case 2402:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=.5*(r-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,f=this._weightNext,A=(r-t)/(i-t),p=A*A,m=p*A,g=-d*m+2*d*p-d*A,y=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*A+1,v=(-1-f)*m+(1.5+f)*p+.5*A,_=f*m-f*p;for(let C=0;C!==a;++C)s[C]=g*o[u+C]+y*o[c+C]+v*o[l+C]+_*o[h+C];return s}}class OY extends qB{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),h=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*h+o[l+d]*u;return s}}class CMe extends qB{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Yd{constructor(e,t,r,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=A0(t,this.TimeBufferType),this.values=A0(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:A0(e.times,Array),values:A0(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new CMe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new OY(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new wMe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;-1!==o&&r[o]>t;)--o;if(++o,0!==s||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==i&&function FY(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(i)l=!0;else{const h=a*r,d=h-r,f=h+r;for(let A=0;A!==r;++A){const p=t[h+A];if(p!==t[d+A]||p!==t[f+A]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,d=o*r;for(let f=0;f!==r;++f)t[d+f]=t[h+f]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Yd.prototype.TimeBufferType=Float32Array,Yd.prototype.ValueBufferType=Float32Array,Yd.prototype.DefaultInterpolation=2301;class P1 extends Yd{constructor(e,t,r){super(e,t,r)}}P1.prototype.ValueTypeName="bool",P1.prototype.ValueBufferType=Array,P1.prototype.DefaultInterpolation=2300,P1.prototype.InterpolantFactoryMethodLinear=void 0,P1.prototype.InterpolantFactoryMethodSmooth=void 0;(class PY extends Yd{}).prototype.ValueTypeName="color";(class WB extends Yd{}).prototype.ValueTypeName="number";class xMe extends qB{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Pc.slerpFlat(s,0,o,c-a,o,c,l);return s}}class $B extends Yd{InterpolantFactoryMethodLinear(e){return new xMe(this.times,this.values,this.getValueSize(),e)}}$B.prototype.ValueTypeName="quaternion",$B.prototype.InterpolantFactoryMethodSmooth=void 0;class L1 extends Yd{constructor(e,t,r){super(e,t,r)}}L1.prototype.ValueTypeName="string",L1.prototype.ValueBufferType=Array,L1.prototype.DefaultInterpolation=2300,L1.prototype.InterpolantFactoryMethodLinear=void 0,L1.prototype.InterpolantFactoryMethodSmooth=void 0;(class KB extends Yd{}).prototype.ValueTypeName="vector",Error;class p0 extends vo{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Un(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}const ik=new Nr,UY=new Re,kY=new Re;class sk{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ut(512,512),this.map=null,this.mapPass=null,this.matrix=new Nr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new xB,this._frameExtents=new Ut(1,1),this._viewportCount=1,this._viewports=[new fs(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;UY.setFromMatrixPosition(e.matrixWorld),t.position.copy(UY),kY.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(kY),t.updateMatrixWorld(),ik.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ik),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(ik)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class ak extends b4{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class RMe extends sk{constructor(){super(new ak(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class VY extends p0{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(vo.DEFAULT_UP),this.updateMatrix(),this.target=new vo,this.shadow=new RMe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class QY extends p0{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class VMe extends Fl{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}const ck="\\[\\]\\.:\\/",WMe=new RegExp("["+ck+"]","g"),uk="[^"+ck+"]",$Me="[^"+ck.replace("\\.","")+"]",ZMe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",uk)+/(WCOD+)?/.source.replace("WCOD",$Me)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",uk)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",uk)+"$"),eTe=["material","materials","bones","map"];class tTe{constructor(e,t,r){const i=r||yo.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}let yo=(()=>{class n{constructor(t,r,i){this.path=r,this.parsedPath=i||n.parseTrackName(r),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,i){return t&&t.isAnimationObjectGroup?new n.Composite(t,r,i):new n(t,r,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(WMe,"")}static parseTrackName(t){const r=ZMe.exec(t);if(null===r)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=i.nodeName.substring(s+1);-1!==eTe.indexOf(o)&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=o)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,r){if(void 0===r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(r);if(void 0!==i)return i}if(t.children){const i=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===r||l.uuid===r)return l;const c=i(l.children);if(c)return c}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)t[r++]=i[s]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const i=this.resolvedProperty;for(let s=0,o=i.length;s!==o;++s)i[s]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,i=r.objectName,s=r.propertyName;let o=r.propertyIndex;if(t||(t=n.findNode(this.rootNode,r.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(i){let u=r.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let h=0;h<t.length;h++)if(t[h].name===u){u=h;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=tTe,n})();yo.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},yo.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},yo.prototype.GetterByBindingType=[yo.prototype._getValue_direct,yo.prototype._getValue_array,yo.prototype._getValue_arrayElement,yo.prototype._getValue_toArray],yo.prototype.SetterByBindingTypeAndVersioning=[[yo.prototype._setValue_direct,yo.prototype._setValue_direct_setNeedsUpdate,yo.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yo.prototype._setValue_array,yo.prototype._setValue_array_setNeedsUpdate,yo.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yo.prototype._setValue_arrayElement,yo.prototype._setValue_arrayElement_setNeedsUpdate,yo.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yo.prototype._setValue_fromArray,yo.prototype._setValue_fromArray_setNeedsUpdate,yo.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class tJ{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Gr(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Gr(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class oTe extends rp{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function Ak(n,e,t,r){const i=function uTe(n){switch(n){case tp:case cX:return{byteLength:1,components:1};case nE:case uX:case rE:return{byteLength:2,components:1};case yU:case _U:return{byteLength:2,components:4};case $g:case vU:case th:return{byteLength:4,components:1};case hX:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}(r);switch(t){case fX:case AX:return n*e;case pX:return n*e*2;case bU:case zT:return n*e/i.components*i.byteLength;case gX:case wU:return n*e*2/i.components*i.byteLength;case dX:return n*e*3/i.components*i.byteLength;case pu:case CU:return n*e*4/i.components*i.byteLength;case GT:case jT:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case qT:case WT:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case EU:case DU:return Math.max(n,16)*Math.max(e,8)/4;case xU:case SU:return Math.max(n,8)*Math.max(e,8)/2;case MU:case TU:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case BU:case NU:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case IU:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case FU:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case RU:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case OU:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case PU:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case LU:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case UU:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case kU:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case HU:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case VU:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case QU:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case zU:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case GU:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case $T:case jU:case qU:return Math.ceil(n/4)*Math.ceil(e/4)*16;case mX:case WU:return Math.ceil(n/4)*Math.ceil(e/4)*8;case $U:case KU:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"171"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="171");const fJ={type:"change"},pk={type:"start"},dJ={type:"end"},sN=new m1,AJ=new nm,hTe=Math.cos(70*k2e_DEG2RAD),Qa=new Re,bu=2*Math.PI,gk=1e-6;class fTe extends oTe{constructor(e,t=null){super(e,t),this.state=-1,this.enabled=!0,this.target=new Re,this.cursor=new Re,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Re,this._lastQuaternion=new Pc,this._lastTargetPosition=new Re,this._quat=(new Pc).setFromUnitVectors(e.up,new Re(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new tJ,this._sphericalDelta=new tJ,this._scale=1,this._panOffset=new Re,this._rotateStart=new Ut,this._rotateEnd=new Ut,this._rotateDelta=new Ut,this._panStart=new Ut,this._panEnd=new Ut,this._panDelta=new Ut,this._dollyStart=new Ut,this._dollyEnd=new Ut,this._dollyDelta=new Ut,this._dollyDirection=new Re,this._mouse=new Ut,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=ATe.bind(this),this._onPointerDown=dTe.bind(this),this._onPointerUp=pTe.bind(this),this._onContextMenu=wTe.bind(this),this._onMouseWheel=vTe.bind(this),this._onKeyDown=yTe.bind(this),this._onTouchStart=_Te.bind(this),this._onTouchMove=bTe.bind(this),this._onMouseDown=gTe.bind(this),this._onMouseMove=mTe.bind(this),this._interceptControlDown=CTe.bind(this),this._interceptControlUp=xTe.bind(this),null!==this.domElement&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(fJ),this.update(),this.state=-1}update(e=null){const t=this.object.position;Qa.copy(t).sub(this.target),Qa.applyQuaternion(this._quat),this._spherical.setFromVector3(Qa),this.autoRotate&&-1===this.state&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(r)&&isFinite(i)&&(r<-Math.PI?r+=bu:r>Math.PI&&(r-=bu),i<-Math.PI?i+=bu:i>Math.PI&&(i-=bu),this._spherical.theta=r<=i?Math.max(r,Math.min(i,this._spherical.theta)):this._spherical.theta>(r+i)/2?Math.max(r,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const o=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=o!=this._spherical.radius}if(Qa.setFromSpherical(this._spherical),Qa.applyQuaternion(this._quatInverse),t.copy(this.target).add(Qa),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let o=null;if(this.object.isPerspectiveCamera){const a=Qa.length();o=this._clampDistance(a*this._scale);const l=a-o;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),s=!!l}else if(this.object.isOrthographicCamera){const a=new Re(this._mouse.x,this._mouse.y,0);a.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=l!==this.object.zoom;const c=new Re(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(a),this.object.updateMatrixWorld(),o=Qa.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;null!==o&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(o).add(this.object.position):(sN.origin.copy(this.object.position),sN.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(sN.direction))<hTe?this.object.lookAt(this.target):(AJ.setFromNormalAndCoplanarPoint(this.object.up,this.target),sN.intersectPlane(AJ,this.target))))}else if(this.object.isOrthographicCamera){const o=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),o!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,!!(s||this._lastPosition.distanceToSquared(this.object.position)>gk||8*(1-this._lastQuaternion.dot(this.object.quaternion))>gk||this._lastTargetPosition.distanceToSquared(this.target)>gk)&&(this.dispatchEvent(fJ),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}_getAutoRotationAngle(e){return null!==e?bu/60*this.autoRotateSpeed*e:bu/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(.01*e);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){Qa.setFromMatrixColumn(t,0),Qa.multiplyScalar(-e),this._panOffset.add(Qa)}_panUp(e,t){!0===this.screenSpacePanning?Qa.setFromMatrixColumn(t,1):(Qa.setFromMatrixColumn(t,0),Qa.crossVectors(this.object.up,Qa)),Qa.multiplyScalar(e),this._panOffset.add(Qa)}_pan(e,t){const r=this.domElement;if(this.object.isPerspectiveCamera){Qa.copy(this.object.position).sub(this.target);let s=Qa.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/r.clientHeight,this.object.matrix),this._panUp(2*t*s/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),s=t-r.top,a=r.height;this._mouse.x=(e-r.left)/r.width*2-1,this._mouse.y=-s/a*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(bu*this._rotateDelta.x/t.clientHeight),this._rotateUp(bu*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(bu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-bu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(bu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-bu*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(1===this._pointers.length)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._rotateStart.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}}_handleTouchStartPan(e){if(1===this._pointers.length)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._panStart.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),r=e.pageX-t.x,i=e.pageY-t.y,s=Math.sqrt(r*r+i*i);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(1==this._pointers.length)this._rotateEnd.set(e.pageX,e.pageY);else{const r=this._getSecondPointerPosition(e);this._rotateEnd.set(.5*(e.pageX+r.x),.5*(e.pageY+r.y))}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(bu*this._rotateDelta.x/t.clientHeight),this._rotateUp(bu*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(1===this._pointers.length)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e);this._panEnd.set(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),r=e.pageX-t.x,i=e.pageY-t.y,s=Math.sqrt(r*r+i*i);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd),this._updateZoomParameters(.5*(e.pageX+t.x),.5*(e.pageY+t.y))}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return void this._pointers.splice(t,1)}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];void 0===t&&(t=new Ut,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){return this._pointerPositions[e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0]]}_customWheelEvent(e){const r={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(e.deltaMode){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100}return e.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function dTe(n){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),"touch"===n.pointerType?this._onTouchStart(n):this._onMouseDown(n)))}function ATe(n){!1!==this.enabled&&("touch"===n.pointerType?this._onTouchMove(n):this._onMouseMove(n))}function pTe(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(dJ),this.state=-1;break;case 1:const e=this._pointers[0],t=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:t.x,pageY:t.y})}}function gTe(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case 1:if(!1===this.enableZoom)return;this._handleMouseDownDolly(n),this.state=1;break;case 0:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}break;case 2:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}else{if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(pk)}function mTe(n){switch(this.state){case 0:if(!1===this.enableRotate)return;this._handleMouseMoveRotate(n);break;case 1:if(!1===this.enableZoom)return;this._handleMouseMoveDolly(n);break;case 2:if(!1===this.enablePan)return;this._handleMouseMovePan(n)}}function vTe(n){!1===this.enabled||!1===this.enableZoom||-1!==this.state||(n.preventDefault(),this.dispatchEvent(pk),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(dJ))}function yTe(n){!1!==this.enabled&&this._handleKeyDown(n)}function _Te(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case 0:if(!1===this.enableRotate)return;this._handleTouchStartRotate(n),this.state=3;break;case 1:if(!1===this.enablePan)return;this._handleTouchStartPan(n),this.state=4;break;default:this.state=-1}break;case 2:switch(this.touches.TWO){case 2:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(n),this.state=5;break;case 3:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(n),this.state=6;break;default:this.state=-1}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(pk)}function bTe(n){switch(this._trackPointer(n),this.state){case 3:if(!1===this.enableRotate)return;this._handleTouchMoveRotate(n),this.update();break;case 4:if(!1===this.enablePan)return;this._handleTouchMovePan(n),this.update();break;case 5:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchMoveDollyPan(n),this.update();break;case 6:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=-1}}function wTe(n){!1!==this.enabled&&n.preventDefault()}function CTe(n){"Control"===n.key&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function xTe(n){"Control"===n.key&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function pJ(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==t&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function ETe(n){const e=new WeakMap;return{get:function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)},remove:function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))},update:function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);return void((!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version}))}const c=e.get(a);if(void 0===c)e.set(a,function t(a,l){const c=a.array,u=a.usage,h=c.byteLength,d=n.createBuffer();let f;if(n.bindBuffer(l,d),n.bufferData(l,c,u),a.onUploadCallback(),c instanceof Float32Array)f=n.FLOAT;else if(c instanceof Uint16Array)f=a.isFloat16BufferAttribute?n.HALF_FLOAT:n.UNSIGNED_SHORT;else if(c instanceof Int16Array)f=n.SHORT;else if(c instanceof Uint32Array)f=n.UNSIGNED_INT;else if(c instanceof Int32Array)f=n.INT;else if(c instanceof Int8Array)f=n.BYTE;else if(c instanceof Uint8Array)f=n.UNSIGNED_BYTE;else{if(!(c instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);f=n.UNSIGNED_BYTE}return{buffer:d,type:f,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:h}}(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function r(a,l,c){const u=l.array,h=l.updateRanges;if(n.bindBuffer(c,a),0===h.length)n.bufferSubData(c,0,u);else{h.sort((f,A)=>f.start-A.start);let d=0;for(let f=1;f<h.length;f++){const A=h[d],p=h[f];p.start<=A.start+A.count+1?A.count=Math.max(A.count,p.start+p.count-A.start):(++d,h[d]=p)}h.length=d+1;for(let f=0,A=h.length;f<A;f++){const p=h[f];n.bufferSubData(c,p.start*u.BYTES_PER_ELEMENT,u,p.start,p.count)}l.clearUpdateRanges()}l.onUploadCallback()})(c.buffer,a,l),c.version=a.version}}}}const pi={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Fn={common:{diffuse:{value:new Un(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ni},alphaMap:{value:null},alphaMapTransform:{value:new ni},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ni}},envmap:{envMap:{value:null},envMapRotation:{value:new ni},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ni}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ni}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ni},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ni},normalScale:{value:new Ut(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ni},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ni}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ni}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ni}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Un(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Un(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ni},alphaTest:{value:0},uvTransform:{value:new ni}},sprite:{diffuse:{value:new Un(16777215)},opacity:{value:1},center:{value:new Ut(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ni},alphaMap:{value:null},alphaMapTransform:{value:new ni},alphaTest:{value:0}}},Jd={basic:{uniforms:kc([Fn.common,Fn.specularmap,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.fog]),vertexShader:pi.meshbasic_vert,fragmentShader:pi.meshbasic_frag},lambert:{uniforms:kc([Fn.common,Fn.specularmap,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.fog,Fn.lights,{emissive:{value:new Un(0)}}]),vertexShader:pi.meshlambert_vert,fragmentShader:pi.meshlambert_frag},phong:{uniforms:kc([Fn.common,Fn.specularmap,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.fog,Fn.lights,{emissive:{value:new Un(0)},specular:{value:new Un(1118481)},shininess:{value:30}}]),vertexShader:pi.meshphong_vert,fragmentShader:pi.meshphong_frag},standard:{uniforms:kc([Fn.common,Fn.envmap,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.roughnessmap,Fn.metalnessmap,Fn.fog,Fn.lights,{emissive:{value:new Un(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:pi.meshphysical_vert,fragmentShader:pi.meshphysical_frag},toon:{uniforms:kc([Fn.common,Fn.aomap,Fn.lightmap,Fn.emissivemap,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.gradientmap,Fn.fog,Fn.lights,{emissive:{value:new Un(0)}}]),vertexShader:pi.meshtoon_vert,fragmentShader:pi.meshtoon_frag},matcap:{uniforms:kc([Fn.common,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,Fn.fog,{matcap:{value:null}}]),vertexShader:pi.meshmatcap_vert,fragmentShader:pi.meshmatcap_frag},points:{uniforms:kc([Fn.points,Fn.fog]),vertexShader:pi.points_vert,fragmentShader:pi.points_frag},dashed:{uniforms:kc([Fn.common,Fn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:pi.linedashed_vert,fragmentShader:pi.linedashed_frag},depth:{uniforms:kc([Fn.common,Fn.displacementmap]),vertexShader:pi.depth_vert,fragmentShader:pi.depth_frag},normal:{uniforms:kc([Fn.common,Fn.bumpmap,Fn.normalmap,Fn.displacementmap,{opacity:{value:1}}]),vertexShader:pi.meshnormal_vert,fragmentShader:pi.meshnormal_frag},sprite:{uniforms:kc([Fn.sprite,Fn.fog]),vertexShader:pi.sprite_vert,fragmentShader:pi.sprite_frag},background:{uniforms:{uvTransform:{value:new ni},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:pi.background_vert,fragmentShader:pi.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ni}},vertexShader:pi.backgroundCube_vert,fragmentShader:pi.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:pi.cube_vert,fragmentShader:pi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:pi.equirect_vert,fragmentShader:pi.equirect_frag},distanceRGBA:{uniforms:kc([Fn.common,Fn.displacementmap,{referencePosition:{value:new Re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:pi.distanceRGBA_vert,fragmentShader:pi.distanceRGBA_frag},shadow:{uniforms:kc([Fn.lights,Fn.fog,{color:{value:new Un(0)},opacity:{value:1}}]),vertexShader:pi.shadow_vert,fragmentShader:pi.shadow_frag}};Jd.physical={uniforms:kc([Jd.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ni},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ni},clearcoatNormalScale:{value:new Ut(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ni},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ni},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ni},sheen:{value:0},sheenColor:{value:new Un(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ni},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ni},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ni},transmissionSamplerSize:{value:new Ut},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ni},attenuationDistance:{value:0},attenuationColor:{value:new Un(0)},specularColor:{value:new Un(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ni},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ni},anisotropyVector:{value:new Ut},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ni}}]),vertexShader:pi.meshphysical_vert,fragmentShader:pi.meshphysical_frag};const oN={r:0,b:0,g:0},b0=new ap,ENe=new Nr;function SNe(n,e,t,r,i,s,o){const a=new Un(0);let c,u,l=!0===s?0:1,h=null,d=0,f=null;function A(v){let _=!0===v.isScene?v.background:null;return _&&_.isTexture&&(_=(v.backgroundBlurriness>0?t:e).get(_)),_}function g(v,_){v.getRGB(oN,zX(n)),r.buffers.color.setClear(oN.r,oN.g,oN.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(v,_=1){a.set(v),l=_,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,g(a,l)},render:function p(v){let _=!1;const C=A(v);null===C?g(a,l):C&&C.isColor&&(g(C,1),_=!0);const b=n.xr.getEnvironmentBlendMode();"additive"===b?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===b&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||_)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))},addToRenderList:function m(v,_){const C=A(_);C&&(C.isCubeTexture||C.mapping===eE)?(void 0===u&&(u=new aa(new x1(1,1,1),new Kd({name:"BackgroundCubeMaterial",uniforms:E1(Jd.backgroundCube.uniforms),vertexShader:Jd.backgroundCube.vertexShader,fragmentShader:Jd.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(b,M,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),b0.copy(_.backgroundRotation),b0.x*=-1,b0.y*=-1,b0.z*=-1,C.isCubeTexture&&!1===C.isRenderTargetTexture&&(b0.y*=-1,b0.z*=-1),u.material.uniforms.envMap.value=C,u.material.uniforms.flipEnvMap.value=C.isCubeTexture&&!1===C.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(ENe.makeRotationFromEuler(b0)),u.material.toneMapped=ss.getTransfer(C.colorSpace)!==js,(h!==C||d!==C.version||f!==n.toneMapping)&&(u.material.needsUpdate=!0,h=C,d=C.version,f=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):C&&C.isTexture&&(void 0===c&&(c=new aa(new EE(2,2),new Kd({name:"BackgroundMaterial",uniforms:E1(Jd.background.uniforms),vertexShader:Jd.background.vertexShader,fragmentShader:Jd.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=C,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=ss.getTransfer(C.colorSpace)!==js,!0===C.matrixAutoUpdate&&C.updateMatrix(),c.material.uniforms.uvTransform.value.copy(C.matrix),(h!==C||d!==C.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,h=C,d=C.version,f=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))},dispose:function y(){void 0!==u&&(u.geometry.dispose(),u.material.dispose()),void 0!==c&&(c.geometry.dispose(),c.material.dispose())}}}function DNe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=d(null);let s=i,o=!1;function c(T){return n.bindVertexArray(T)}function u(T){return n.deleteVertexArray(T)}function d(T){const B=[],R=[],U=[];for(let k=0;k<t;k++)B[k]=0,R[k]=0,U[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:R,attributeDivisors:U,object:T,attributes:{},index:null}}function p(){const T=s.newAttributes;for(let B=0,R=T.length;B<R;B++)T[B]=0}function m(T){g(T,0)}function g(T,B){const U=s.enabledAttributes,k=s.attributeDivisors;s.newAttributes[T]=1,0===U[T]&&(n.enableVertexAttribArray(T),U[T]=1),k[T]!==B&&(n.vertexAttribDivisor(T,B),k[T]=B)}function y(){const T=s.newAttributes,B=s.enabledAttributes;for(let R=0,U=B.length;R<U;R++)B[R]!==T[R]&&(n.disableVertexAttribArray(R),B[R]=0)}function v(T,B,R,U,k,q,O){!0===O?n.vertexAttribIPointer(T,B,R,k,q):n.vertexAttribPointer(T,B,R,U,k,q)}function D(){E(),o=!0,s!==i&&(s=i,c(s.object))}function E(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function a(T,B,R,U,k){let q=!1;const O=function h(T,B,R){const U=!0===R.wireframe;let k=r[T.id];void 0===k&&(k={},r[T.id]=k);let q=k[B.id];void 0===q&&(q={},k[B.id]=q);let O=q[U];return void 0===O&&(O=d(function l(){return n.createVertexArray()}()),q[U]=O),O}(U,R,B);s!==O&&(s=O,c(s.object)),q=function f(T,B,R,U){const k=s.attributes,q=B.attributes;let O=0;const P=R.getAttributes();for(const G in P)if(P[G].location>=0){const ae=k[G];let ve=q[G];if(void 0===ve&&("instanceMatrix"===G&&T.instanceMatrix&&(ve=T.instanceMatrix),"instanceColor"===G&&T.instanceColor&&(ve=T.instanceColor)),void 0===ae||ae.attribute!==ve||ve&&ae.data!==ve.data)return!0;O++}return s.attributesNum!==O||s.index!==U}(T,U,R,k),q&&function A(T,B,R,U){const k={},q=B.attributes;let O=0;const P=R.getAttributes();for(const G in P)if(P[G].location>=0){let ae=q[G];void 0===ae&&("instanceMatrix"===G&&T.instanceMatrix&&(ae=T.instanceMatrix),"instanceColor"===G&&T.instanceColor&&(ae=T.instanceColor));const ve={};ve.attribute=ae,ae&&ae.data&&(ve.data=ae.data),k[G]=ve,O++}s.attributes=k,s.attributesNum=O,s.index=U}(T,U,R,k),null!==k&&e.update(k,n.ELEMENT_ARRAY_BUFFER),(q||o)&&(o=!1,function _(T,B,R,U){p();const k=U.attributes,q=R.getAttributes(),O=B.defaultAttributeValues;for(const P in q){const G=q[P];if(G.location>=0){let H=k[P];if(void 0===H&&("instanceMatrix"===P&&T.instanceMatrix&&(H=T.instanceMatrix),"instanceColor"===P&&T.instanceColor&&(H=T.instanceColor)),void 0!==H){const ae=H.normalized,ve=H.itemSize,Q=e.get(H);if(void 0===Q)continue;const j=Q.buffer,K=Q.type,oe=Q.bytesPerElement,se=K===n.INT||K===n.UNSIGNED_INT||H.gpuType===vU;if(H.isInterleavedBufferAttribute){const le=H.data,te=le.stride,ee=H.offset;if(le.isInstancedInterleavedBuffer){for(let Ae=0;Ae<G.locationSize;Ae++)g(G.location+Ae,le.meshPerAttribute);!0!==T.isInstancedMesh&&void 0===U._maxInstanceCount&&(U._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let Ae=0;Ae<G.locationSize;Ae++)m(G.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,j);for(let Ae=0;Ae<G.locationSize;Ae++)v(G.location+Ae,ve/G.locationSize,K,ae,te*oe,(ee+ve/G.locationSize*Ae)*oe,se)}else{if(H.isInstancedBufferAttribute){for(let le=0;le<G.locationSize;le++)g(G.location+le,H.meshPerAttribute);!0!==T.isInstancedMesh&&void 0===U._maxInstanceCount&&(U._maxInstanceCount=H.meshPerAttribute*H.count)}else for(let le=0;le<G.locationSize;le++)m(G.location+le);n.bindBuffer(n.ARRAY_BUFFER,j);for(let le=0;le<G.locationSize;le++)v(G.location+le,ve/G.locationSize,K,ae,ve*oe,ve/G.locationSize*le*oe,se)}}else if(void 0!==O){const ae=O[P];if(void 0!==ae)switch(ae.length){case 2:n.vertexAttrib2fv(G.location,ae);break;case 3:n.vertexAttrib3fv(G.location,ae);break;case 4:n.vertexAttrib4fv(G.location,ae);break;default:n.vertexAttrib1fv(G.location,ae)}}}}y()}(T,B,R,U),null!==k&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(k).buffer))},reset:D,resetDefaultState:E,dispose:function C(){D();for(const T in r){const B=r[T];for(const R in B){const U=B[R];for(const k in U)u(U[k].object),delete U[k];delete B[R]}delete r[T]}},releaseStatesOfGeometry:function b(T){if(void 0===r[T.id])return;const B=r[T.id];for(const R in B){const U=B[R];for(const k in U)u(U[k].object),delete U[k];delete B[R]}delete r[T.id]},releaseStatesOfProgram:function M(T){for(const B in r){const R=r[B];if(void 0===R[T.id])continue;const U=R[T.id];for(const k in U)u(U[k].object),delete U[k];delete R[T.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:y}}function MNe(n,e,t){let r;function o(c,u,h){0!==h&&(n.drawArraysInstanced(r,c,u,h),t.update(u,r,h))}this.setMode=function i(c){r=c},this.render=function s(c,u){n.drawArrays(r,c,u),t.update(u,r,1)},this.renderInstances=o,this.renderMultiDraw=function a(c,u,h){if(0===h)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,h);let f=0;for(let A=0;A<h;A++)f+=u[A];t.update(f,r,1)},this.renderMultiDrawInstances=function l(c,u,h,d){if(0===h)return;const f=e.get("WEBGL_multi_draw");if(null===f)for(let A=0;A<c.length;A++)o(c[A],u[A],d[A]);else{f.multiDrawArraysInstancedWEBGL(r,c,0,u,0,d,0,h);let A=0;for(let p=0;p<h;p++)A+=u[p]*d[p];t.update(A,r,1)}}}function TNe(n,e,t,r){let i;function l(M){if("highp"===M){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return"mediump"===M&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=void 0!==t.precision?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const h=!0===t.logarithmicDepthBuffer,d=!0===t.reverseDepthBuffer&&e.has("EXT_clip_control"),f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),A=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function s(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const M=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:l,textureFormatReadable:function o(M){return!(M!==pu&&r.convert(M)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))},textureTypeReadable:function a(M){const D=M===rE&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==tp&&r.convert(M)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==th&&!D)},precision:c,logarithmicDepthBuffer:h,reverseDepthBuffer:d,maxTextures:f,maxVertexTextures:A,maxTextureSize:n.getParameter(n.MAX_TEXTURE_SIZE),maxCubemapSize:n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:n.getParameter(n.MAX_VERTEX_ATTRIBS),maxVertexUniforms:n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:n.getParameter(n.MAX_VARYING_VECTORS),maxFragmentUniforms:n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:A>0,maxSamples:n.getParameter(n.MAX_SAMPLES)}}function BNe(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new nm,a=new ni,l={value:null,needsUpdate:!1};function u(h,d,f,A){const p=null!==h?h.length:0;let m=null;if(0!==p){if(m=l.value,!0!==A||null===m){const g=f+4*p,y=d.matrixWorldInverse;a.getNormalMatrix(y),(null===m||m.length<g)&&(m=new Float32Array(g));for(let v=0,_=f;v!==p;++v,_+=4)o.copy(h[v]).applyMatrix4(y,a),o.normal.toArray(m,_),m[_+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,m}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,d){const f=0!==h.length||d||0!==r||i;return i=d,r=h.length,f},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,d){t=u(h,d,0)},this.setState=function(h,d,f){const A=h.clippingPlanes,p=h.clipIntersection,m=h.clipShadows,g=n.get(h);if(!i||null===A||0===A.length||s&&!m)s?u(null):function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}();else{const y=s?0:r,v=4*y;let _=g.clippingState||null;l.value=_,_=u(A,d,v,f);for(let C=0;C!==v;++C)_[C]=t[C];g.clippingState=_,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=y}}}function NNe(n){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=Wg:304===a&&(o.mapping=e0),o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function r(o){if(o&&o.isTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new fDe(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}const gJ=[.125,.215,.35,.446,.526,.582],mk=new ak,mJ=new Un;let vk=null,yk=0,_k=0,bk=!1;const C0=(1+Math.sqrt(5))/2,k1=1/C0,vJ=[new Re(-C0,k1,0),new Re(C0,k1,0),new Re(-k1,0,C0),new Re(k1,0,C0),new Re(0,C0,-k1),new Re(0,C0,k1),new Re(-1,1,-1),new Re(1,1,-1),new Re(-1,1,1),new Re(1,1,1)];class yJ{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){vk=this._renderer.getRenderTarget(),yk=this._renderer.getActiveCubeFace(),_k=this._renderer.getActiveMipmapLevel(),bk=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=wJ(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=bJ(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(vk,yk,_k),this._renderer.xr.enabled=bk,e.scissorTest=!1,aN(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Wg||e.mapping===e0?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),vk=this._renderer.getRenderTarget(),yk=this._renderer.getActiveCubeFace(),_k=this._renderer.getActiveMipmapLevel(),bk=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:cl,minFilter:cl,generateMipmaps:!1,type:rE,format:pu,colorSpace:o1,depthBuffer:!1},i=_J(e,t,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=_J(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function INe(n){const e=[],t=[],r=[];let i=n;const s=n-4+1+gJ.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-4?l=gJ[o-n+4-1]:0===o&&(l=0),r.push(l);const c=1/(a-2),u=-c,h=1+c,d=[u,u,h,u,h,h,u,u,h,h,u,h],f=6,A=6,p=3,m=2,g=1,y=new Float32Array(p*A*f),v=new Float32Array(m*A*f),_=new Float32Array(g*A*f);for(let b=0;b<f;b++){const M=b%3*2/3-1,D=b>2?0:-1;y.set([M,D,0,M+2/3,D,0,M+2/3,D+1,0,M,D,0,M+2/3,D+1,0,M,D+1,0],p*A*b),v.set(d,m*A*b),_.set([b,b,b,b,b,b],g*A*b)}const C=new Ai;C.setAttribute("position",new eo(y,p)),C.setAttribute("uv",new eo(v,m)),C.setAttribute("faceIndex",new eo(_,g)),e.push(C),i>4&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}(s)),this._blurMaterial=function FNe(n,e,t){const r=new Float32Array(20),i=new Re(0,1,0);return new Kd({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,e,t)}return i}_compileMaterial(e){const t=new aa(this._lodPlanes[0],e);this._renderer.compile(t,mk)}_sceneToCubeUV(e,t,r,i){const a=new Fl(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,d=u.toneMapping;u.getClearColor(mJ),u.toneMapping=qg,u.autoClear=!1;const f=new hp({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),A=new aa(new x1,f);let p=!1;const m=e.background;m?m.isColor&&(f.color.copy(m),e.background=null,p=!0):(f.color.copy(mJ),p=!0);for(let g=0;g<6;g++){const y=g%3;0===y?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):1===y?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const v=this._cubeSize;aN(i,y*v,g>2?v:0,v,v),u.setRenderTarget(i),p&&u.render(A,a),u.render(e,a)}A.geometry.dispose(),A.material.dispose(),u.toneMapping=d,u.autoClear=h,e.background=m}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Wg||e.mapping===e0;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=wJ()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=bJ());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new aa(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const l=this._cubeSize;aN(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,mk)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]);this._blur(e,s-1,s,o,vJ[(i-s-1)%vJ.length])}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const h=new aa(this._lodPlanes[i],c),d=c.uniforms,f=this._sizeLods[r]-1,A=isFinite(s)?Math.PI/(2*f):2*Math.PI/39,p=s/A,m=isFinite(s)?1+Math.floor(3*p):20;m>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to 20`);const g=[];let y=0;for(let M=0;M<20;++M){const D=M/p,E=Math.exp(-D*D/2);g.push(E),0===M?y+=E:M<m&&(y+=2*E)}for(let M=0;M<g.length;M++)g[M]=g[M]/y;d.envMap.value=e.texture,d.samples.value=m,d.weights.value=g,d.latitudinal.value="latitudinal"===o,a&&(d.poleAxis.value=a);const{_lodMax:v}=this;d.dTheta.value=A,d.mipInt.value=v-r;const _=this._sizeLods[i];aN(t,3*_*(i>v-4?i-v+4:0),4*(this._cubeSize-_),3*_,2*_),l.setRenderTarget(t),l.render(h,mk)}}function _J(n,e,t){const r=new $d(n,e,t);return r.texture.mapping=eE,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function aN(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function bJ(){return new Kd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function wJ(){return new Kd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function RNe(n){let e=new WeakMap,t=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function r(a){if(a&&a.isTexture){const l=a.mapping,c=303===l||304===l,u=l===Wg||l===e0;if(c||u){let h=e.get(a);if(a.isRenderTargetTexture&&a.pmremVersion!==(void 0!==h?h.texture.pmremVersion:0))return null===t&&(t=new yJ(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),h.texture;if(void 0!==h)return h.texture;{const f=a.image;return c&&f&&f.height>0||u&&f&&function i(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(f)?(null===t&&(t=new yJ(n)),h=c?t.fromEquirectangular(a):t.fromCubemap(a),h.texture.pmremVersion=a.pmremVersion,e.set(a,h),a.addEventListener("dispose",s),h.texture):null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function ONe(n){const e={};function t(r){if(void 0!==e[r])return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return null!==t(r)},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return null===i&&u1("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function PNe(n,e,t,r){const i={},s=new WeakMap;function o(h){const d=h.target;null!==d.index&&e.remove(d.index);for(const A in d.attributes)e.remove(d.attributes[A]);d.removeEventListener("dispose",o),delete i[d.id];const f=s.get(d);f&&(e.remove(f),s.delete(d)),r.releaseStatesOfGeometry(d),!0===d.isInstancedBufferGeometry&&delete d._maxInstanceCount,t.memory.geometries--}function c(h){const d=[],f=h.index,A=h.attributes.position;let p=0;if(null!==f){const y=f.array;p=f.version;for(let v=0,_=y.length;v<_;v+=3){const C=y[v+0],b=y[v+1],M=y[v+2];d.push(C,b,b,M,M,C)}}else{if(void 0===A)return;p=A.version;for(let v=0,_=A.array.length/3-1;v<_;v+=3){const C=v+0,b=v+1,M=v+2;d.push(C,b,b,M,M,C)}}const m=new(CX(d)?kX:UX)(d,1);m.version=p;const g=s.get(h);g&&e.remove(g),s.set(h,m)}return{get:function a(h,d){return!0===i[d.id]||(d.addEventListener("dispose",o),i[d.id]=!0,t.memory.geometries++),d},update:function l(h){const d=h.attributes;for(const f in d)e.update(d[f],n.ARRAY_BUFFER)},getWireframeAttribute:function u(h){const d=s.get(h);if(d){const f=h.index;null!==f&&d.version<f.version&&c(h)}else c(h);return s.get(h)}}}function LNe(n,e,t){let r,s,o;function c(d,f,A){0!==A&&(n.drawElementsInstanced(r,f,s,d*o,A),t.update(f,r,A))}this.setMode=function i(d){r=d},this.setIndex=function a(d){s=d.type,o=d.bytesPerElement},this.render=function l(d,f){n.drawElements(r,f,s,d*o),t.update(f,r,1)},this.renderInstances=c,this.renderMultiDraw=function u(d,f,A){if(0===A)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,f,0,s,d,0,A);let m=0;for(let g=0;g<A;g++)m+=f[g];t.update(m,r,1)},this.renderMultiDrawInstances=function h(d,f,A,p){if(0===A)return;const m=e.get("WEBGL_multi_draw");if(null===m)for(let g=0;g<d.length;g++)c(d[g]/o,f[g],p[g]);else{m.multiDrawElementsInstancedWEBGL(r,f,0,s,d,0,p,0,A);let g=0;for(let y=0;y<A;y++)g+=f[y]*p[y];t.update(g,r,1)}}}function UNe(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function kNe(n,e,t){const r=new WeakMap,i=new fs;return{update:function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=void 0!==u?u.length:0;let d=r.get(a);if(void 0===d||d.count!==h){let E=function(){M.dispose(),r.delete(a),a.removeEventListener("dispose",E)};void 0!==d&&d.texture.dispose();const f=void 0!==a.morphAttributes.position,A=void 0!==a.morphAttributes.normal,p=void 0!==a.morphAttributes.color,m=a.morphAttributes.position||[],g=a.morphAttributes.normal||[],y=a.morphAttributes.color||[];let v=0;!0===f&&(v=1),!0===A&&(v=2),!0===p&&(v=3);let _=a.attributes.position.count*v,C=1;_>e.maxTextureSize&&(C=Math.ceil(_/e.maxTextureSize),_=e.maxTextureSize);const b=new Float32Array(_*C*4*h),M=new n4(b,_,C,h);M.type=th,M.needsUpdate=!0;const D=4*v;for(let T=0;T<h;T++){const B=m[T],R=g[T],U=y[T],k=_*C*4*T;for(let q=0;q<B.count;q++){const O=q*D;!0===f&&(i.fromBufferAttribute(B,q),b[k+O+0]=i.x,b[k+O+1]=i.y,b[k+O+2]=i.z,b[k+O+3]=0),!0===A&&(i.fromBufferAttribute(R,q),b[k+O+4]=i.x,b[k+O+5]=i.y,b[k+O+6]=i.z,b[k+O+7]=0),!0===p&&(i.fromBufferAttribute(U,q),b[k+O+8]=i.x,b[k+O+9]=i.y,b[k+O+10]=i.z,b[k+O+11]=4===U.itemSize?i.w:1)}}d={count:h,texture:M,size:new Ut(_,C)},r.set(a,d),a.addEventListener("dispose",E)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let f=0;for(let p=0;p<c.length;p++)f+=c[p];const A=a.morphTargetsRelative?1:1-f;l.getUniforms().setValue(n,"morphTargetBaseInfluence",A),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",d.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",d.size)}}}function HNe(n,e,t,r){let i=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function s(l){const c=r.render.frame,h=e.get(l,l.geometry);if(i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),null!==l.instanceColor&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return h},dispose:function o(){i=new WeakMap}}}const CJ=new gu,xJ=new pY(1,1),EJ=new n4,SJ=new DX,DJ=new gB,MJ=[],TJ=[],BJ=new Float32Array(16),NJ=new Float32Array(9),IJ=new Float32Array(4);function H1(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=MJ[i];if(void 0===s&&(s=new Float32Array(i),MJ[i]=s),0!==e){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function za(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Ga(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function lN(n,e){let t=TJ[e];void 0===t&&(t=new Int32Array(e),TJ[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function VNe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function QNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(za(t,e))return;n.uniform2fv(this.addr,e),Ga(t,e)}}function zNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(za(t,e))return;n.uniform3fv(this.addr,e),Ga(t,e)}}function GNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(za(t,e))return;n.uniform4fv(this.addr,e),Ga(t,e)}}function jNe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(za(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ga(t,e)}else{if(za(t,r))return;IJ.set(r),n.uniformMatrix2fv(this.addr,!1,IJ),Ga(t,r)}}function qNe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(za(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ga(t,e)}else{if(za(t,r))return;NJ.set(r),n.uniformMatrix3fv(this.addr,!1,NJ),Ga(t,r)}}function WNe(n,e){const t=this.cache,r=e.elements;if(void 0===r){if(za(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ga(t,e)}else{if(za(t,r))return;BJ.set(r),n.uniformMatrix4fv(this.addr,!1,BJ),Ga(t,r)}}function $Ne(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function KNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(za(t,e))return;n.uniform2iv(this.addr,e),Ga(t,e)}}function XNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(za(t,e))return;n.uniform3iv(this.addr,e),Ga(t,e)}}function YNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(za(t,e))return;n.uniform4iv(this.addr,e),Ga(t,e)}}function JNe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function ZNe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(za(t,e))return;n.uniform2uiv(this.addr,e),Ga(t,e)}}function eIe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(za(t,e))return;n.uniform3uiv(this.addr,e),Ga(t,e)}}function tIe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(za(t,e))return;n.uniform4uiv(this.addr,e),Ga(t,e)}}function nIe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();let s;r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),this.type===n.SAMPLER_2D_SHADOW?(xJ.compareFunction=515,s=xJ):s=CJ,t.setTexture2D(e||s,i)}function rIe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||SJ,i)}function iIe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||DJ,i)}function sIe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||EJ,i)}function aIe(n,e){n.uniform1fv(this.addr,e)}function lIe(n,e){const t=H1(e,this.size,2);n.uniform2fv(this.addr,t)}function cIe(n,e){const t=H1(e,this.size,3);n.uniform3fv(this.addr,t)}function uIe(n,e){const t=H1(e,this.size,4);n.uniform4fv(this.addr,t)}function hIe(n,e){const t=H1(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function fIe(n,e){const t=H1(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function dIe(n,e){const t=H1(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function AIe(n,e){n.uniform1iv(this.addr,e)}function pIe(n,e){n.uniform2iv(this.addr,e)}function gIe(n,e){n.uniform3iv(this.addr,e)}function mIe(n,e){n.uniform4iv(this.addr,e)}function vIe(n,e){n.uniform1uiv(this.addr,e)}function yIe(n,e){n.uniform2uiv(this.addr,e)}function _Ie(n,e){n.uniform3uiv(this.addr,e)}function bIe(n,e){n.uniform4uiv(this.addr,e)}function wIe(n,e,t){const r=this.cache,i=e.length,s=lN(t,i);za(r,s)||(n.uniform1iv(this.addr,s),Ga(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||CJ,s[o])}function CIe(n,e,t){const r=this.cache,i=e.length,s=lN(t,i);za(r,s)||(n.uniform1iv(this.addr,s),Ga(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||SJ,s[o])}function xIe(n,e,t){const r=this.cache,i=e.length,s=lN(t,i);za(r,s)||(n.uniform1iv(this.addr,s),Ga(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||DJ,s[o])}function EIe(n,e,t){const r=this.cache,i=e.length,s=lN(t,i);za(r,s)||(n.uniform1iv(this.addr,s),Ga(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||EJ,s[o])}class DIe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=function oIe(n){switch(n){case 5126:return VNe;case 35664:return QNe;case 35665:return zNe;case 35666:return GNe;case 35674:return jNe;case 35675:return qNe;case 35676:return WNe;case 5124:case 35670:return $Ne;case 35667:case 35671:return KNe;case 35668:case 35672:return XNe;case 35669:case 35673:return YNe;case 5125:return JNe;case 36294:return ZNe;case 36295:return eIe;case 36296:return tIe;case 35678:case 36198:case 36298:case 36306:case 35682:return nIe;case 35679:case 36299:case 36307:return rIe;case 35680:case 36300:case 36308:case 36293:return iIe;case 36289:case 36303:case 36311:case 36292:return sIe}}(t.type)}}class MIe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function SIe(n){switch(n){case 5126:return aIe;case 35664:return lIe;case 35665:return cIe;case 35666:return uIe;case 35674:return hIe;case 35675:return fIe;case 35676:return dIe;case 5124:case 35670:return AIe;case 35667:case 35671:return pIe;case 35668:case 35672:return gIe;case 35669:case 35673:return mIe;case 5125:return vIe;case 36294:return yIe;case 36295:return _Ie;case 36296:return bIe;case 35678:case 36198:case 36298:case 36306:case 35682:return wIe;case 35679:case 36299:case 36307:return CIe;case 35680:case 36300:case 36308:case 36293:return xIe;case 36289:case 36303:case 36311:case 36292:return EIe}}(t.type)}}class TIe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const Ck=/(\w+)(\])?(\[|\.)?/g;function FJ(n,e){n.seq.push(e),n.map[e.id]=e}function BIe(n,e,t){const r=n.name,i=r.length;for(Ck.lastIndex=0;;){const s=Ck.exec(r);let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&Ck.lastIndex+2===i){FJ(t,void 0===c?new DIe(a,n,e):new MIe(a,n,e));break}{let h=t.map[a];void 0===h&&(h=new TIe(a),FJ(t,h)),t=h}}}class cN{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i);BIe(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,r,i){const s=this.map[t];void 0!==s&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];void 0!==i&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];!1!==l.needsUpdate&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function RJ(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const NIe=37297;let IIe=0;const OJ=new ni;function PJ(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&""===i)return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+i+"\n\n"+function FIe(n,e){const t=n.split("\n"),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join("\n")}(n.getShaderSource(e),o)}return i}function OIe(n,e){const t=function RIe(n){ss._getMatrix(OJ,ss.workingColorSpace,n);const e=`mat3( ${OJ.elements.map(t=>t.toFixed(4))} )`;switch(ss.getTransfer(n)){case YT:return[e,"LinearTransferOETF"];case js:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}(e);return[`vec4 ${n}( vec4 value ) {`,`\treturn ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join("\n")}function PIe(n,e){let t;switch(e){case n2e:t="Linear";break;case r2e:t="Reinhard";break;case i2e:t="Cineon";break;case s2e:t="ACESFilmic";break;case a2e:t="AgX";break;case l2e:t="Neutral";break;case o2e:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const uN=new Re;function DE(n){return""!==n}function LJ(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function UJ(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const VIe=/^[ \t]*#include +<([\w\d./]+)>/gm;function xk(n){return n.replace(VIe,zIe)}const QIe=new Map;function zIe(n,e){let t=pi[e];if(void 0===t){const r=QIe.get(e);if(void 0===r)throw new Error("Can not resolve #include <"+e+">");t=pi[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r)}return xk(t)}const GIe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function kJ(n){return n.replace(GIe,jIe)}function jIe(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function HJ(n){let e=`precision ${n.precision} float;\n\tprecision ${n.precision} int;\n\tprecision ${n.precision} sampler2D;\n\tprecision ${n.precision} samplerCube;\n\tprecision ${n.precision} sampler3D;\n\tprecision ${n.precision} sampler2DArray;\n\tprecision ${n.precision} sampler2DShadow;\n\tprecision ${n.precision} samplerCubeShadow;\n\tprecision ${n.precision} sampler2DArrayShadow;\n\tprecision ${n.precision} isampler2D;\n\tprecision ${n.precision} isampler3D;\n\tprecision ${n.precision} isamplerCube;\n\tprecision ${n.precision} isampler2DArray;\n\tprecision ${n.precision} usampler2D;\n\tprecision ${n.precision} usampler3D;\n\tprecision ${n.precision} usamplerCube;\n\tprecision ${n.precision} usampler2DArray;\n\t`;return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function YIe(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function qIe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===rX?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===OSe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===JA&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function WIe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Wg:case e0:e="ENVMAP_TYPE_CUBE";break;case eE:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function $Ie(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===e0&&(e="ENVMAP_MODE_REFRACTION"),e}(t),h=function KIe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case LT:e="ENVMAP_BLENDING_MULTIPLY";break;case e2e:e="ENVMAP_BLENDING_MIX";break;case t2e:e="ENVMAP_BLENDING_ADD"}return e}(t),d=function XIe(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}(t),f=function UIe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(DE).join("\n")}(t),A=function kIe(n){const e=[];for(const t in n){const r=n[t];!1!==r&&e.push("#define "+t+" "+r)}return e.join("\n")}(s),p=i.createProgram();let m,g,y=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(m=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A].filter(DE).join("\n"),m.length>0&&(m+="\n"),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A].filter(DE).join("\n"),g.length>0&&(g+="\n")):(m=[HJ(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(DE).join("\n"),g=[HJ(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==qg?"#define TONE_MAPPING":"",t.toneMapping!==qg?pi.tonemapping_pars_fragment:"",t.toneMapping!==qg?PIe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",pi.colorspace_pars_fragment,OIe("linearToOutputTexel",t.outputColorSpace),(ss.getLuminanceCoefficients(uN),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${uN.x.toFixed(4)}, ${uN.y.toFixed(4)}, ${uN.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(DE).join("\n")),o=xk(o),o=LJ(o,t),o=UJ(o,t),a=xk(a),a=LJ(a,t),a=UJ(a,t),o=kJ(o),a=kJ(a),!0!==t.isRawShaderMaterial&&(y="#version 300 es\n",m=[f,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,g=["#define varying in",t.glslVersion===bX?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===bX?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g);const _=y+g+a,C=RJ(i,i.VERTEX_SHADER,y+m+o),b=RJ(i,i.FRAGMENT_SHADER,_);function M(B){if(n.debug.checkShaderErrors){const R=i.getProgramInfoLog(p).trim(),U=i.getShaderInfoLog(C).trim(),k=i.getShaderInfoLog(b).trim();let q=!0,O=!0;if(!1===i.getProgramParameter(p,i.LINK_STATUS))if(q=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(i,p,C,b);else{const P=PJ(i,C,"vertex"),G=PJ(i,b,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(p,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+B.name+"\nMaterial Type: "+B.type+"\n\nProgram Info Log: "+R+"\n"+P+"\n"+G)}else""!==R?console.warn("THREE.WebGLProgram: Program Info Log:",R):(""===U||""===k)&&(O=!1);O&&(B.diagnostics={runnable:q,programLog:R,vertexShader:{log:U,prefix:m},fragmentShader:{log:k,prefix:g}})}i.deleteShader(C),i.deleteShader(b),D=new cN(i,p),E=function HIe(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(i,p)}let D,E;i.attachShader(p,C),i.attachShader(p,b),void 0!==t.index0AttributeName?i.bindAttribLocation(p,0,t.index0AttributeName):!0===t.morphTargets&&i.bindAttribLocation(p,0,"position"),i.linkProgram(p),this.getUniforms=function(){return void 0===D&&M(this),D},this.getAttributes=function(){return void 0===E&&M(this),E};let T=!1===t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=i.getProgramParameter(p,NIe)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(p),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=IIe++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=C,this.fragmentShader=b,this}let JIe=0;class ZIe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.fragmentShader,i=this._getShaderStage(e.vertexShader),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return!1===o.has(i)&&(o.add(i),i.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return void 0===r&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return void 0===r&&(r=new eFe(e),t.set(e,r)),r}}class eFe{constructor(e){this.id=JIe++,this.code=e,this.usedTimes=0}}function tFe(n,e,t,r,i,s,o){const a=new c4,l=new ZIe,c=new Set,u=[],h=i.logarithmicDepthBuffer,d=i.vertexTextures;let f=i.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(E){return c.add(E),0===E?"uv":`uv${E}`}return{getParameters:function m(E,T,B,R,U){const k=R.fog,q=U.geometry,P=(E.isMeshStandardMaterial?t:e).get(E.envMap||(E.isMeshStandardMaterial?R.environment:null)),G=P&&P.mapping===eE?P.image.height:null,H=A[E.type];null!==E.precision&&(f=i.getMaxPrecision(E.precision),f!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",f,"instead."));const ae=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,ve=void 0!==ae?ae.length:0;let j,K,oe,se,Q=0;if(void 0!==q.morphAttributes.position&&(Q=1),void 0!==q.morphAttributes.normal&&(Q=2),void 0!==q.morphAttributes.color&&(Q=3),H){const gi=Jd[H];j=gi.vertexShader,K=gi.fragmentShader}else j=E.vertexShader,K=E.fragmentShader,l.update(E),oe=l.getVertexShaderID(E),se=l.getFragmentShaderID(E);const le=n.getRenderTarget(),te=n.state.buffers.depth.getReversed(),ee=!0===U.isInstancedMesh,Ae=!0===U.isBatchedMesh,xe=!!E.map,Ee=!!P,ne=!!E.aoMap,Y=!!E.lightMap,W=!!E.bumpMap,Be=!!E.normalMap,Ce=!!E.displacementMap,Pe=!!E.emissiveMap,Oe=!!E.metalnessMap,re=!!E.roughnessMap,J=E.anisotropy>0,Ue=E.clearcoat>0,rt=E.iridescence>0,Xe=E.sheen>0,Pt=E.transmission>0,Ft=J&&!!E.anisotropyMap,Tt=Ue&&!!E.clearcoatMap,yn=Ue&&!!E.clearcoatNormalMap,st=Ue&&!!E.clearcoatRoughnessMap,vn=rt&&!!E.iridescenceMap,pn=rt&&!!E.iridescenceThicknessMap,_n=Xe&&!!E.sheenColorMap,tn=Xe&&!!E.sheenRoughnessMap,$=!!E.specularMap,Fe=!!E.specularColorMap,Ke=!!E.specularIntensityMap,Ne=Pt&&!!E.transmissionMap,_t=Pt&&!!E.thicknessMap,Dt=!!E.alphaMap,Rn=!!E.extensions;let Bs=qg;E.toneMapped&&(null===le||!0===le.isXRRenderTarget)&&(Bs=n.toneMapping);const Yi={shaderID:H,shaderType:E.type,shaderName:E.name,vertexShader:j,fragmentShader:K,defines:E.defines,customVertexShaderID:oe,customFragmentShaderID:se,isRawShaderMaterial:!0===E.isRawShaderMaterial,glslVersion:E.glslVersion,precision:f,batching:Ae,batchingColor:Ae&&null!==U._colorsTexture,instancing:ee,instancingColor:ee&&null!==U.instanceColor,instancingMorph:ee&&null!==U.morphTexture,supportsVertexTextures:d,outputColorSpace:null===le?n.outputColorSpace:!0===le.isXRRenderTarget?le.texture.colorSpace:o1,alphaToCoverage:!!E.alphaToCoverage,map:xe,matcap:!!E.matcap,envMap:Ee,envMapMode:Ee&&P.mapping,envMapCubeUVHeight:G,aoMap:ne,lightMap:Y,bumpMap:W,normalMap:Be,displacementMap:d&&Ce,emissiveMap:Pe,normalMapObjectSpace:Be&&1===E.normalMapType,normalMapTangentSpace:Be&&0===E.normalMapType,metalnessMap:Oe,roughnessMap:re,anisotropy:J,anisotropyMap:Ft,clearcoat:Ue,clearcoatMap:Tt,clearcoatNormalMap:yn,clearcoatRoughnessMap:st,dispersion:E.dispersion>0,iridescence:rt,iridescenceMap:vn,iridescenceThicknessMap:pn,sheen:Xe,sheenColorMap:_n,sheenRoughnessMap:tn,specularMap:$,specularColorMap:Fe,specularIntensityMap:Ke,transmission:Pt,transmissionMap:Ne,thicknessMap:_t,gradientMap:!!E.gradientMap,opaque:!1===E.transparent&&1===E.blending&&!1===E.alphaToCoverage,alphaMap:Dt,alphaTest:E.alphaTest>0,alphaHash:!!E.alphaHash,combine:E.combine,mapUv:xe&&p(E.map.channel),aoMapUv:ne&&p(E.aoMap.channel),lightMapUv:Y&&p(E.lightMap.channel),bumpMapUv:W&&p(E.bumpMap.channel),normalMapUv:Be&&p(E.normalMap.channel),displacementMapUv:Ce&&p(E.displacementMap.channel),emissiveMapUv:Pe&&p(E.emissiveMap.channel),metalnessMapUv:Oe&&p(E.metalnessMap.channel),roughnessMapUv:re&&p(E.roughnessMap.channel),anisotropyMapUv:Ft&&p(E.anisotropyMap.channel),clearcoatMapUv:Tt&&p(E.clearcoatMap.channel),clearcoatNormalMapUv:yn&&p(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:st&&p(E.clearcoatRoughnessMap.channel),iridescenceMapUv:vn&&p(E.iridescenceMap.channel),iridescenceThicknessMapUv:pn&&p(E.iridescenceThicknessMap.channel),sheenColorMapUv:_n&&p(E.sheenColorMap.channel),sheenRoughnessMapUv:tn&&p(E.sheenRoughnessMap.channel),specularMapUv:$&&p(E.specularMap.channel),specularColorMapUv:Fe&&p(E.specularColorMap.channel),specularIntensityMapUv:Ke&&p(E.specularIntensityMap.channel),transmissionMapUv:Ne&&p(E.transmissionMap.channel),thicknessMapUv:_t&&p(E.thicknessMap.channel),alphaMapUv:Dt&&p(E.alphaMap.channel),vertexTangents:!!q.attributes.tangent&&(Be||J),vertexColors:E.vertexColors,vertexAlphas:!0===E.vertexColors&&!!q.attributes.color&&4===q.attributes.color.itemSize,pointsUvs:!0===U.isPoints&&!!q.attributes.uv&&(xe||Dt),fog:!!k,useFog:!0===E.fog,fogExp2:!!k&&k.isFogExp2,flatShading:!0===E.flatShading,sizeAttenuation:!0===E.sizeAttenuation,logarithmicDepthBuffer:h,reverseDepthBuffer:te,skinning:!0===U.isSkinnedMesh,morphTargets:void 0!==q.morphAttributes.position,morphNormals:void 0!==q.morphAttributes.normal,morphColors:void 0!==q.morphAttributes.color,morphTargetsCount:ve,morphTextureStride:Q,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numLightProbes:T.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:n.shadowMap.enabled&&B.length>0,shadowMapType:n.shadowMap.type,toneMapping:Bs,decodeVideoTexture:xe&&!0===E.map.isVideoTexture&&ss.getTransfer(E.map.colorSpace)===js,decodeVideoTextureEmissive:Pe&&!0===E.emissiveMap.isVideoTexture&&ss.getTransfer(E.emissiveMap.colorSpace)===js,premultipliedAlpha:E.premultipliedAlpha,doubleSided:2===E.side,flipSided:1===E.side,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionClipCullDistance:Rn&&!0===E.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Rn&&!0===E.extensions.multiDraw||Ae)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:E.customProgramCacheKey()};return Yi.vertexUv1s=c.has(1),Yi.vertexUv2s=c.has(2),Yi.vertexUv3s=c.has(3),c.clear(),Yi},getProgramCacheKey:function g(E){const T=[];if(E.shaderID?T.push(E.shaderID):(T.push(E.customVertexShaderID),T.push(E.customFragmentShaderID)),void 0!==E.defines)for(const B in E.defines)T.push(B),T.push(E.defines[B]);return!1===E.isRawShaderMaterial&&(function y(E,T){E.push(T.precision),E.push(T.outputColorSpace),E.push(T.envMapMode),E.push(T.envMapCubeUVHeight),E.push(T.mapUv),E.push(T.alphaMapUv),E.push(T.lightMapUv),E.push(T.aoMapUv),E.push(T.bumpMapUv),E.push(T.normalMapUv),E.push(T.displacementMapUv),E.push(T.emissiveMapUv),E.push(T.metalnessMapUv),E.push(T.roughnessMapUv),E.push(T.anisotropyMapUv),E.push(T.clearcoatMapUv),E.push(T.clearcoatNormalMapUv),E.push(T.clearcoatRoughnessMapUv),E.push(T.iridescenceMapUv),E.push(T.iridescenceThicknessMapUv),E.push(T.sheenColorMapUv),E.push(T.sheenRoughnessMapUv),E.push(T.specularMapUv),E.push(T.specularColorMapUv),E.push(T.specularIntensityMapUv),E.push(T.transmissionMapUv),E.push(T.thicknessMapUv),E.push(T.combine),E.push(T.fogExp2),E.push(T.sizeAttenuation),E.push(T.morphTargetsCount),E.push(T.morphAttributeCount),E.push(T.numDirLights),E.push(T.numPointLights),E.push(T.numSpotLights),E.push(T.numSpotLightMaps),E.push(T.numHemiLights),E.push(T.numRectAreaLights),E.push(T.numDirLightShadows),E.push(T.numPointLightShadows),E.push(T.numSpotLightShadows),E.push(T.numSpotLightShadowsWithMaps),E.push(T.numLightProbes),E.push(T.shadowMapType),E.push(T.toneMapping),E.push(T.numClippingPlanes),E.push(T.numClipIntersection),E.push(T.depthPacking)}(T,E),function v(E,T){a.disableAll(),T.supportsVertexTextures&&a.enable(0),T.instancing&&a.enable(1),T.instancingColor&&a.enable(2),T.instancingMorph&&a.enable(3),T.matcap&&a.enable(4),T.envMap&&a.enable(5),T.normalMapObjectSpace&&a.enable(6),T.normalMapTangentSpace&&a.enable(7),T.clearcoat&&a.enable(8),T.iridescence&&a.enable(9),T.alphaTest&&a.enable(10),T.vertexColors&&a.enable(11),T.vertexAlphas&&a.enable(12),T.vertexUv1s&&a.enable(13),T.vertexUv2s&&a.enable(14),T.vertexUv3s&&a.enable(15),T.vertexTangents&&a.enable(16),T.anisotropy&&a.enable(17),T.alphaHash&&a.enable(18),T.batching&&a.enable(19),T.dispersion&&a.enable(20),T.batchingColor&&a.enable(21),E.push(a.mask),a.disableAll(),T.fog&&a.enable(0),T.useFog&&a.enable(1),T.flatShading&&a.enable(2),T.logarithmicDepthBuffer&&a.enable(3),T.reverseDepthBuffer&&a.enable(4),T.skinning&&a.enable(5),T.morphTargets&&a.enable(6),T.morphNormals&&a.enable(7),T.morphColors&&a.enable(8),T.premultipliedAlpha&&a.enable(9),T.shadowMapEnabled&&a.enable(10),T.doubleSided&&a.enable(11),T.flipSided&&a.enable(12),T.useDepthPacking&&a.enable(13),T.dithering&&a.enable(14),T.transmission&&a.enable(15),T.sheen&&a.enable(16),T.opaque&&a.enable(17),T.pointsUvs&&a.enable(18),T.decodeVideoTexture&&a.enable(19),T.decodeVideoTextureEmissive&&a.enable(20),T.alphaToCoverage&&a.enable(21),E.push(a.mask)}(T,E),T.push(n.outputColorSpace)),T.push(E.customProgramCacheKey),T.join()},getUniforms:function _(E){const T=A[E.type];let B;return B=T?lDe.clone(Jd[T].uniforms):E.uniforms,B},acquireProgram:function C(E,T){let B;for(let R=0,U=u.length;R<U;R++){const k=u[R];if(k.cacheKey===T){B=k,++B.usedTimes;break}}return void 0===B&&(B=new YIe(n,T,E,s),u.push(B)),B},releaseProgram:function b(E){if(0==--E.usedTimes){const T=u.indexOf(E);u[T]=u[u.length-1],u.pop(),E.destroy()}},releaseShaderCache:function M(E){l.remove(E)},programs:u,dispose:function D(){l.dispose()}}}function nFe(){let n=new WeakMap;return{has:function e(o){return n.has(o)},get:function t(o){let a=n.get(o);return void 0===a&&(a={},n.set(o,a)),a},remove:function r(o){n.delete(o)},update:function i(o,a,l){n.get(o)[a]=l},dispose:function s(){n=new WeakMap}}}function rFe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function VJ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function QJ(){const n=[];let e=0;const t=[],r=[],i=[];function o(h,d,f,A,p,m){let g=n[e];return void 0===g?(g={id:h.id,object:h,geometry:d,material:f,groupOrder:A,renderOrder:h.renderOrder,z:p,group:m},n[e]=g):(g.id=h.id,g.object=h,g.geometry=d,g.material=f,g.groupOrder=A,g.renderOrder=h.renderOrder,g.z=p,g.group=m),e++,g}return{opaque:t,transmissive:r,transparent:i,init:function s(){e=0,t.length=0,r.length=0,i.length=0},push:function a(h,d,f,A,p,m){const g=o(h,d,f,A,p,m);f.transmission>0?r.push(g):!0===f.transparent?i.push(g):t.push(g)},unshift:function l(h,d,f,A,p,m){const g=o(h,d,f,A,p,m);f.transmission>0?r.unshift(g):!0===f.transparent?i.unshift(g):t.unshift(g)},finish:function u(){for(let h=e,d=n.length;h<d;h++){const f=n[h];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function c(h,d){t.length>1&&t.sort(h||rFe),r.length>1&&r.sort(d||VJ),i.length>1&&i.sort(d||VJ)}}}function iFe(){let n=new WeakMap;return{get:function e(r,i){const s=n.get(r);let o;return void 0===s?(o=new QJ,n.set(r,[o])):i>=s.length?(o=new QJ,s.push(o)):o=s[i],o},dispose:function t(){n=new WeakMap}}}function sFe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Re,color:new Un};break;case"SpotLight":t={position:new Re,direction:new Re,color:new Un,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Re,color:new Un,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Re,skyColor:new Un,groundColor:new Un};break;case"RectAreaLight":t={color:new Un,position:new Re,halfWidth:new Re,halfHeight:new Re}}return n[e.id]=t,t}}}let aFe=0;function lFe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function cFe(n){const e=new sFe,t=function oFe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Re);const i=new Re,s=new Nr,o=new Nr;return{setup:function a(c){let u=0,h=0,d=0;for(let E=0;E<9;E++)r.probe[E].set(0,0,0);let f=0,A=0,p=0,m=0,g=0,y=0,v=0,_=0,C=0,b=0,M=0;c.sort(lFe);for(let E=0,T=c.length;E<T;E++){const B=c[E],R=B.color,U=B.intensity,k=B.distance,q=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)u+=R.r*U,h+=R.g*U,d+=R.b*U;else if(B.isLightProbe){for(let O=0;O<9;O++)r.probe[O].addScaledVector(B.sh.coefficients[O],U);M++}else if(B.isDirectionalLight){const O=e.get(B);if(O.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const P=B.shadow,G=t.get(B);G.shadowIntensity=P.intensity,G.shadowBias=P.bias,G.shadowNormalBias=P.normalBias,G.shadowRadius=P.radius,G.shadowMapSize=P.mapSize,r.directionalShadow[f]=G,r.directionalShadowMap[f]=q,r.directionalShadowMatrix[f]=B.shadow.matrix,y++}r.directional[f]=O,f++}else if(B.isSpotLight){const O=e.get(B);O.position.setFromMatrixPosition(B.matrixWorld),O.color.copy(R).multiplyScalar(U),O.distance=k,O.coneCos=Math.cos(B.angle),O.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),O.decay=B.decay,r.spot[p]=O;const P=B.shadow;if(B.map&&(r.spotLightMap[C]=B.map,C++,P.updateMatrices(B),B.castShadow&&b++),r.spotLightMatrix[p]=P.matrix,B.castShadow){const G=t.get(B);G.shadowIntensity=P.intensity,G.shadowBias=P.bias,G.shadowNormalBias=P.normalBias,G.shadowRadius=P.radius,G.shadowMapSize=P.mapSize,r.spotShadow[p]=G,r.spotShadowMap[p]=q,_++}p++}else if(B.isRectAreaLight){const O=e.get(B);O.color.copy(R).multiplyScalar(U),O.halfWidth.set(.5*B.width,0,0),O.halfHeight.set(0,.5*B.height,0),r.rectArea[m]=O,m++}else if(B.isPointLight){const O=e.get(B);if(O.color.copy(B.color).multiplyScalar(B.intensity),O.distance=B.distance,O.decay=B.decay,B.castShadow){const P=B.shadow,G=t.get(B);G.shadowIntensity=P.intensity,G.shadowBias=P.bias,G.shadowNormalBias=P.normalBias,G.shadowRadius=P.radius,G.shadowMapSize=P.mapSize,G.shadowCameraNear=P.camera.near,G.shadowCameraFar=P.camera.far,r.pointShadow[A]=G,r.pointShadowMap[A]=q,r.pointShadowMatrix[A]=B.shadow.matrix,v++}r.point[A]=O,A++}else if(B.isHemisphereLight){const O=e.get(B);O.skyColor.copy(B.color).multiplyScalar(U),O.groundColor.copy(B.groundColor).multiplyScalar(U),r.hemi[g]=O,g++}}m>0&&(!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=Fn.LTC_FLOAT_1,r.rectAreaLTC2=Fn.LTC_FLOAT_2):(r.rectAreaLTC1=Fn.LTC_HALF_1,r.rectAreaLTC2=Fn.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=h,r.ambient[2]=d;const D=r.hash;(D.directionalLength!==f||D.pointLength!==A||D.spotLength!==p||D.rectAreaLength!==m||D.hemiLength!==g||D.numDirectionalShadows!==y||D.numPointShadows!==v||D.numSpotShadows!==_||D.numSpotMaps!==C||D.numLightProbes!==M)&&(r.directional.length=f,r.spot.length=p,r.rectArea.length=m,r.point.length=A,r.hemi.length=g,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=v,r.pointShadowMap.length=v,r.spotShadow.length=_,r.spotShadowMap.length=_,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=v,r.spotLightMatrix.length=_+C-b,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=b,r.numLightProbes=M,D.directionalLength=f,D.pointLength=A,D.spotLength=p,D.rectAreaLength=m,D.hemiLength=g,D.numDirectionalShadows=y,D.numPointShadows=v,D.numSpotShadows=_,D.numSpotMaps=C,D.numLightProbes=M,r.version=aFe++)},setupView:function l(c,u){let h=0,d=0,f=0,A=0,p=0;const m=u.matrixWorldInverse;for(let g=0,y=c.length;g<y;g++){const v=c[g];if(v.isDirectionalLight){const _=r.directional[h];_.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(m),h++}else if(v.isSpotLight){const _=r.spot[f];_.position.setFromMatrixPosition(v.matrixWorld),_.position.applyMatrix4(m),_.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(m),f++}else if(v.isRectAreaLight){const _=r.rectArea[A];_.position.setFromMatrixPosition(v.matrixWorld),_.position.applyMatrix4(m),o.identity(),s.copy(v.matrixWorld),s.premultiply(m),o.extractRotation(s),_.halfWidth.set(.5*v.width,0,0),_.halfHeight.set(0,.5*v.height,0),_.halfWidth.applyMatrix4(o),_.halfHeight.applyMatrix4(o),A++}else if(v.isPointLight){const _=r.point[d];_.position.setFromMatrixPosition(v.matrixWorld),_.position.applyMatrix4(m),d++}else if(v.isHemisphereLight){const _=r.hemi[p];_.direction.setFromMatrixPosition(v.matrixWorld),_.direction.transformDirection(m),p++}}},state:r}}function zJ(n){const e=new cFe(n),t=[],r=[],c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function i(u){c.camera=u,t.length=0,r.length=0},state:c,setupLights:function a(){e.setup(t)},setupLightsView:function l(u){e.setupView(t,u)},pushLight:function s(u){t.push(u)},pushShadow:function o(u){r.push(u)}}}function uFe(n){let e=new WeakMap;return{get:function t(i,s=0){const o=e.get(i);let a;return void 0===o?(a=new zJ(n),e.set(i,[a])):s>=o.length?(a=new zJ(n),o.push(a)):a=o[s],a},dispose:function r(){e=new WeakMap}}}function dFe(n,e,t){let r=new xB;const i=new Ut,s=new Ut,o=new fs,a=new NY({depthPacking:3201}),l=new IY,c={},u=t.maxTextureSize,h={0:1,1:0,2:2},d=new Kd({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ut},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=d.clone();f.defines.HORIZONTAL_PASS=1;const A=new Ai;A.setAttribute("position",new eo(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new aa(A,d),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rX;let g=this.type;function y(b,M){const D=e.update(p);d.defines.VSM_SAMPLES!==b.blurSamples&&(d.defines.VSM_SAMPLES=b.blurSamples,f.defines.VSM_SAMPLES=b.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),null===b.mapPass&&(b.mapPass=new $d(i.x,i.y)),d.uniforms.shadow_pass.value=b.map.texture,d.uniforms.resolution.value=b.mapSize,d.uniforms.radius.value=b.radius,n.setRenderTarget(b.mapPass),n.clear(),n.renderBufferDirect(M,null,D,d,p,null),f.uniforms.shadow_pass.value=b.mapPass.texture,f.uniforms.resolution.value=b.mapSize,f.uniforms.radius.value=b.radius,n.setRenderTarget(b.map),n.clear(),n.renderBufferDirect(M,null,D,f,p,null)}function v(b,M,D,E){let T=null;const B=!0===D.isPointLight?b.customDistanceMaterial:b.customDepthMaterial;if(void 0!==B)T=B;else if(T=!0===D.isPointLight?l:a,n.localClippingEnabled&&!0===M.clipShadows&&Array.isArray(M.clippingPlanes)&&0!==M.clippingPlanes.length||M.displacementMap&&0!==M.displacementScale||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const R=T.uuid,U=M.uuid;let k=c[R];void 0===k&&(k={},c[R]=k);let q=k[U];void 0===q&&(q=T.clone(),k[U]=q,M.addEventListener("dispose",C)),T=q}return T.visible=M.visible,T.wireframe=M.wireframe,T.side=E===JA?null!==M.shadowSide?M.shadowSide:M.side:null!==M.shadowSide?M.shadowSide:h[M.side],T.alphaMap=M.alphaMap,T.alphaTest=M.alphaTest,T.map=M.map,T.clipShadows=M.clipShadows,T.clippingPlanes=M.clippingPlanes,T.clipIntersection=M.clipIntersection,T.displacementMap=M.displacementMap,T.displacementScale=M.displacementScale,T.displacementBias=M.displacementBias,T.wireframeLinewidth=M.wireframeLinewidth,T.linewidth=M.linewidth,!0===D.isPointLight&&!0===T.isMeshDistanceMaterial&&(n.properties.get(T).light=D),T}function _(b,M,D,E,T){if(!1===b.visible)return;if(b.layers.test(M.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&T===JA)&&(!b.frustumCulled||r.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,b.matrixWorld);const U=e.update(b),k=b.material;if(Array.isArray(k)){const q=U.groups;for(let O=0,P=q.length;O<P;O++){const G=q[O],H=k[G.materialIndex];if(H&&H.visible){const ae=v(b,H,E,T);b.onBeforeShadow(n,b,M,D,U,ae,G),n.renderBufferDirect(D,null,U,ae,b,G),b.onAfterShadow(n,b,M,D,U,ae,G)}}}else if(k.visible){const q=v(b,k,E,T);b.onBeforeShadow(n,b,M,D,U,q,null),n.renderBufferDirect(D,null,U,q,b,null),b.onAfterShadow(n,b,M,D,U,q,null)}}const R=b.children;for(let U=0,k=R.length;U<k;U++)_(R[U],M,D,E,T)}function C(b){b.target.removeEventListener("dispose",C);for(const D in c){const E=c[D],T=b.target.uuid;T in E&&(E[T].dispose(),delete E[T])}}this.render=function(b,M,D){if(!1===m.enabled||!1===m.autoUpdate&&!1===m.needsUpdate||0===b.length)return;const E=n.getRenderTarget(),T=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),R=n.state;R.setBlending(0),R.buffers.color.setClear(1,1,1,1),R.buffers.depth.setTest(!0),R.setScissorTest(!1);const U=g!==JA&&this.type===JA,k=g===JA&&this.type!==JA;for(let q=0,O=b.length;q<O;q++){const P=b[q],G=P.shadow;if(void 0===G){console.warn("THREE.WebGLShadowMap:",P,"has no shadow.");continue}if(!1===G.autoUpdate&&!1===G.needsUpdate)continue;i.copy(G.mapSize);const H=G.getFrameExtents();if(i.multiply(H),s.copy(G.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/H.x),i.x=s.x*H.x,G.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/H.y),i.y=s.y*H.y,G.mapSize.y=s.y)),null===G.map||!0===U||!0===k){const ve=this.type!==JA?{minFilter:nc,magFilter:nc}:{};null!==G.map&&G.map.dispose(),G.map=new $d(i.x,i.y,ve),G.map.texture.name=P.name+".shadowMap",G.camera.updateProjectionMatrix()}n.setRenderTarget(G.map),n.clear();const ae=G.getViewportCount();for(let ve=0;ve<ae;ve++){const Q=G.getViewport(ve);o.set(s.x*Q.x,s.y*Q.y,s.x*Q.z,s.y*Q.w),R.viewport(o),G.updateMatrices(P,ve),r=G.getFrustum(),_(M,D,G.camera,P,this.type)}!0!==G.isPointLightShadow&&this.type===JA&&y(G,D),G.needsUpdate=!1}g=this.type,m.needsUpdate=!1,n.setRenderTarget(E,T,B)}}const AFe={0:1,2:6,4:7,3:5,1:0,6:2,7:4,5:3};function pFe(n,e){const s=new function t(){let Ne=!1;const _t=new fs;let nt=null;const Dt=new fs(0,0,0,0);return{setMask:function(an){nt!==an&&!Ne&&(n.colorMask(an,an,an,an),nt=an)},setLocked:function(an){Ne=an},setClear:function(an,Vt,Rn,Bs,Yi){!0===Yi&&(an*=Bs,Vt*=Bs,Rn*=Bs),_t.set(an,Vt,Rn,Bs),!1===Dt.equals(_t)&&(n.clearColor(an,Vt,Rn,Bs),Dt.copy(_t))},reset:function(){Ne=!1,nt=null,Dt.set(-1,0,0,0)}}},o=new function r(){let Ne=!1,_t=!1,nt=null,Dt=null,an=null;return{setReversed:function(Vt){if(_t!==Vt){const Rn=e.get("EXT_clip_control");Rn.clipControlEXT(Rn.LOWER_LEFT_EXT,_t?Rn.ZERO_TO_ONE_EXT:Rn.NEGATIVE_ONE_TO_ONE_EXT);const Bs=an;an=null,this.setClear(Bs)}_t=Vt},getReversed:function(){return _t},setTest:function(Vt){Vt?le(n.DEPTH_TEST):te(n.DEPTH_TEST)},setMask:function(Vt){nt!==Vt&&!Ne&&(n.depthMask(Vt),nt=Vt)},setFunc:function(Vt){if(_t&&(Vt=AFe[Vt]),Dt!==Vt){switch(Vt){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}Dt=Vt}},setLocked:function(Vt){Ne=Vt},setClear:function(Vt){an!==Vt&&(_t&&(Vt=1-Vt),n.clearDepth(Vt),an=Vt)},reset:function(){Ne=!1,nt=null,Dt=null,an=null,_t=!1}}},a=new function i(){let Ne=!1,_t=null,nt=null,Dt=null,an=null,Vt=null,Rn=null,Bs=null,Yi=null;return{setTest:function(gi){Ne||(gi?le(n.STENCIL_TEST):te(n.STENCIL_TEST))},setMask:function(gi){_t!==gi&&!Ne&&(n.stencilMask(gi),_t=gi)},setFunc:function(gi,Ko,Jn){(nt!==gi||Dt!==Ko||an!==Jn)&&(n.stencilFunc(gi,Ko,Jn),nt=gi,Dt=Ko,an=Jn)},setOp:function(gi,Ko,Jn){(Vt!==gi||Rn!==Ko||Bs!==Jn)&&(n.stencilOp(gi,Ko,Jn),Vt=gi,Rn=Ko,Bs=Jn)},setLocked:function(gi){Ne=gi},setClear:function(gi){Yi!==gi&&(n.clearStencil(gi),Yi=gi)},reset:function(){Ne=!1,_t=null,nt=null,Dt=null,an=null,Vt=null,Rn=null,Bs=null,Yi=null}}},l=new WeakMap,c=new WeakMap;let u={},h={},d=new WeakMap,f=[],A=null,p=!1,m=null,g=null,y=null,v=null,_=null,C=null,b=null,M=new Un(0,0,0),D=0,E=!1,T=null,B=null,R=null,U=null,k=null;const q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let O=!1,P=0;const G=n.getParameter(n.VERSION);-1!==G.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(G)[1]),O=P>=1):-1!==G.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),O=P>=2);let H=null,ae={};const ve=n.getParameter(n.SCISSOR_BOX),Q=n.getParameter(n.VIEWPORT),j=(new fs).fromArray(ve),K=(new fs).fromArray(Q);function oe(Ne,_t,nt,Dt){const an=new Uint8Array(4),Vt=n.createTexture();n.bindTexture(Ne,Vt),n.texParameteri(Ne,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ne,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Rn=0;Rn<nt;Rn++)Ne===n.TEXTURE_3D||Ne===n.TEXTURE_2D_ARRAY?n.texImage3D(_t,0,n.RGBA,1,1,Dt,0,n.RGBA,n.UNSIGNED_BYTE,an):n.texImage2D(_t+Rn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,an);return Vt}const se={};function le(Ne){!0!==u[Ne]&&(n.enable(Ne),u[Ne]=!0)}function te(Ne){!1!==u[Ne]&&(n.disable(Ne),u[Ne]=!1)}se[n.TEXTURE_2D]=oe(n.TEXTURE_2D,n.TEXTURE_2D,1),se[n.TEXTURE_CUBE_MAP]=oe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),se[n.TEXTURE_2D_ARRAY]=oe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),se[n.TEXTURE_3D]=oe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),le(n.DEPTH_TEST),o.setFunc(3),W(!1),Be(1),le(n.CULL_FACE),ne(0);const ge={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};ge[103]=n.MIN,ge[104]=n.MAX;const Ee={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA,211:n.CONSTANT_COLOR,212:n.ONE_MINUS_CONSTANT_COLOR,213:n.CONSTANT_ALPHA,214:n.ONE_MINUS_CONSTANT_ALPHA};function ne(Ne,_t,nt,Dt,an,Vt,Rn,Bs,Yi,gi){if(0!==Ne){if(!1===p&&(le(n.BLEND),p=!0),5===Ne)an=an||_t,Vt=Vt||nt,Rn=Rn||Dt,(_t!==g||an!==_)&&(n.blendEquationSeparate(ge[_t],ge[an]),g=_t,_=an),(nt!==y||Dt!==v||Vt!==C||Rn!==b)&&(n.blendFuncSeparate(Ee[nt],Ee[Dt],Ee[Vt],Ee[Rn]),y=nt,v=Dt,C=Vt,b=Rn),(!1===Bs.equals(M)||Yi!==D)&&(n.blendColor(Bs.r,Bs.g,Bs.b,Yi),M.copy(Bs),D=Yi),m=Ne,E=!1;else if(Ne!==m||gi!==E){if((100!==g||100!==_)&&(n.blendEquation(n.FUNC_ADD),g=100,_=100),gi)switch(Ne){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ne)}else switch(Ne){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ne)}y=null,v=null,C=null,b=null,M.set(0,0,0),D=0,m=Ne,E=gi}}else!0===p&&(te(n.BLEND),p=!1)}function W(Ne){T!==Ne&&(n.frontFace(Ne?n.CW:n.CCW),T=Ne)}function Be(Ne){0!==Ne?(le(n.CULL_FACE),Ne!==B&&n.cullFace(1===Ne?n.BACK:2===Ne?n.FRONT:n.FRONT_AND_BACK)):te(n.CULL_FACE),B=Ne}function Pe(Ne,_t,nt){Ne?(le(n.POLYGON_OFFSET_FILL),(U!==_t||k!==nt)&&(n.polygonOffset(_t,nt),U=_t,k=nt)):te(n.POLYGON_OFFSET_FILL)}return{buffers:{color:s,depth:o,stencil:a},enable:le,disable:te,bindFramebuffer:function ee(Ne,_t){return h[Ne]!==_t&&(n.bindFramebuffer(Ne,_t),h[Ne]=_t,Ne===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=_t),Ne===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=_t),!0)},drawBuffers:function Ae(Ne,_t){let nt=f,Dt=!1;if(Ne){nt=d.get(_t),void 0===nt&&(nt=[],d.set(_t,nt));const an=Ne.textures;if(nt.length!==an.length||nt[0]!==n.COLOR_ATTACHMENT0){for(let Vt=0,Rn=an.length;Vt<Rn;Vt++)nt[Vt]=n.COLOR_ATTACHMENT0+Vt;nt.length=an.length,Dt=!0}}else nt[0]!==n.BACK&&(nt[0]=n.BACK,Dt=!0);Dt&&n.drawBuffers(nt)},useProgram:function xe(Ne){return A!==Ne&&(n.useProgram(Ne),A=Ne,!0)},setBlending:ne,setMaterial:function Y(Ne,_t){2===Ne.side?te(n.CULL_FACE):le(n.CULL_FACE);let nt=1===Ne.side;_t&&(nt=!nt),W(nt),1===Ne.blending&&!1===Ne.transparent?ne(0):ne(Ne.blending,Ne.blendEquation,Ne.blendSrc,Ne.blendDst,Ne.blendEquationAlpha,Ne.blendSrcAlpha,Ne.blendDstAlpha,Ne.blendColor,Ne.blendAlpha,Ne.premultipliedAlpha),o.setFunc(Ne.depthFunc),o.setTest(Ne.depthTest),o.setMask(Ne.depthWrite),s.setMask(Ne.colorWrite);const Dt=Ne.stencilWrite;a.setTest(Dt),Dt&&(a.setMask(Ne.stencilWriteMask),a.setFunc(Ne.stencilFunc,Ne.stencilRef,Ne.stencilFuncMask),a.setOp(Ne.stencilFail,Ne.stencilZFail,Ne.stencilZPass)),Pe(Ne.polygonOffset,Ne.polygonOffsetFactor,Ne.polygonOffsetUnits),!0===Ne.alphaToCoverage?le(n.SAMPLE_ALPHA_TO_COVERAGE):te(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:W,setCullFace:Be,setLineWidth:function Ce(Ne){Ne!==R&&(O&&n.lineWidth(Ne),R=Ne)},setPolygonOffset:Pe,setScissorTest:function Oe(Ne){Ne?le(n.SCISSOR_TEST):te(n.SCISSOR_TEST)},activeTexture:function re(Ne){void 0===Ne&&(Ne=n.TEXTURE0+q-1),H!==Ne&&(n.activeTexture(Ne),H=Ne)},bindTexture:function J(Ne,_t,nt){void 0===nt&&(nt=null===H?n.TEXTURE0+q-1:H);let Dt=ae[nt];void 0===Dt&&(Dt={type:void 0,texture:void 0},ae[nt]=Dt),(Dt.type!==Ne||Dt.texture!==_t)&&(H!==nt&&(n.activeTexture(nt),H=nt),n.bindTexture(Ne,_t||se[Ne]),Dt.type=Ne,Dt.texture=_t)},unbindTexture:function Ue(){const Ne=ae[H];void 0!==Ne&&void 0!==Ne.type&&(n.bindTexture(Ne.type,null),Ne.type=void 0,Ne.texture=void 0)},compressedTexImage2D:function Qe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},compressedTexImage3D:function rt(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texImage2D:function vn(){try{n.texImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texImage3D:function pn(){try{n.texImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},updateUBOMapping:function $(Ne,_t){let nt=c.get(_t);void 0===nt&&(nt=new WeakMap,c.set(_t,nt));let Dt=nt.get(Ne);void 0===Dt&&(Dt=n.getUniformBlockIndex(_t,Ne.name),nt.set(Ne,Dt))},uniformBlockBinding:function Fe(Ne,_t){const Dt=c.get(_t).get(Ne);l.get(_t)!==Dt&&(n.uniformBlockBinding(_t,Dt,Ne.__bindingPointIndex),l.set(_t,Dt))},texStorage2D:function yn(){try{n.texStorage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texStorage3D:function st(){try{n.texStorage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texSubImage2D:function Xe(){try{n.texSubImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},texSubImage3D:function Pt(){try{n.texSubImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},compressedTexSubImage2D:function Ft(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},compressedTexSubImage3D:function Tt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}},scissor:function _n(Ne){!1===j.equals(Ne)&&(n.scissor(Ne.x,Ne.y,Ne.z,Ne.w),j.copy(Ne))},viewport:function tn(Ne){!1===K.equals(Ne)&&(n.viewport(Ne.x,Ne.y,Ne.z,Ne.w),K.copy(Ne))},reset:function Ke(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},H=null,ae={},h={},d=new WeakMap,f=[],A=null,p=!1,m=null,g=null,y=null,v=null,_=null,C=null,b=null,M=new Un(0,0,0),D=0,E=!1,T=null,B=null,R=null,U=null,k=null,j.set(0,0,n.canvas.width,n.canvas.height),K.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}}}function gFe(n,e,t,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),c=new Ut,u=new WeakMap;let h;const d=new WeakMap;let f=!1;try{f=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function A(re,J){return f?new OffscreenCanvas(re,J):sE("canvas")}function p(re,J,Ue){let Qe=1;const rt=Oe(re);if((rt.width>Ue||rt.height>Ue)&&(Qe=Ue/Math.max(rt.width,rt.height)),Qe<1){if(typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&re instanceof ImageBitmap||typeof VideoFrame<"u"&&re instanceof VideoFrame){const Xe=Math.floor(Qe*rt.width),Pt=Math.floor(Qe*rt.height);void 0===h&&(h=A(Xe,Pt));const Ft=J?A(Xe,Pt):h;return Ft.width=Xe,Ft.height=Pt,Ft.getContext("2d").drawImage(re,0,0,Xe,Pt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+rt.width+"x"+rt.height+") to ("+Xe+"x"+Pt+")."),Ft}return"data"in re&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+rt.width+"x"+rt.height+")."),re}return re}function m(re){return re.generateMipmaps}function g(re){n.generateMipmap(re)}function y(re){return re.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:re.isWebGL3DRenderTarget?n.TEXTURE_3D:re.isWebGLArrayRenderTarget||re.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function v(re,J,Ue,Qe,rt=!1){if(null!==re){if(void 0!==n[re])return n[re];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+re+"'")}let Xe=J;if(J===n.RED&&(Ue===n.FLOAT&&(Xe=n.R32F),Ue===n.HALF_FLOAT&&(Xe=n.R16F),Ue===n.UNSIGNED_BYTE&&(Xe=n.R8)),J===n.RED_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Xe=n.R8UI),Ue===n.UNSIGNED_SHORT&&(Xe=n.R16UI),Ue===n.UNSIGNED_INT&&(Xe=n.R32UI),Ue===n.BYTE&&(Xe=n.R8I),Ue===n.SHORT&&(Xe=n.R16I),Ue===n.INT&&(Xe=n.R32I)),J===n.RG&&(Ue===n.FLOAT&&(Xe=n.RG32F),Ue===n.HALF_FLOAT&&(Xe=n.RG16F),Ue===n.UNSIGNED_BYTE&&(Xe=n.RG8)),J===n.RG_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Xe=n.RG8UI),Ue===n.UNSIGNED_SHORT&&(Xe=n.RG16UI),Ue===n.UNSIGNED_INT&&(Xe=n.RG32UI),Ue===n.BYTE&&(Xe=n.RG8I),Ue===n.SHORT&&(Xe=n.RG16I),Ue===n.INT&&(Xe=n.RG32I)),J===n.RGB_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Xe=n.RGB8UI),Ue===n.UNSIGNED_SHORT&&(Xe=n.RGB16UI),Ue===n.UNSIGNED_INT&&(Xe=n.RGB32UI),Ue===n.BYTE&&(Xe=n.RGB8I),Ue===n.SHORT&&(Xe=n.RGB16I),Ue===n.INT&&(Xe=n.RGB32I)),J===n.RGBA_INTEGER&&(Ue===n.UNSIGNED_BYTE&&(Xe=n.RGBA8UI),Ue===n.UNSIGNED_SHORT&&(Xe=n.RGBA16UI),Ue===n.UNSIGNED_INT&&(Xe=n.RGBA32UI),Ue===n.BYTE&&(Xe=n.RGBA8I),Ue===n.SHORT&&(Xe=n.RGBA16I),Ue===n.INT&&(Xe=n.RGBA32I)),J===n.RGB&&Ue===n.UNSIGNED_INT_5_9_9_9_REV&&(Xe=n.RGB9_E5),J===n.RGBA){const Pt=rt?YT:ss.getTransfer(Qe);Ue===n.FLOAT&&(Xe=n.RGBA32F),Ue===n.HALF_FLOAT&&(Xe=n.RGBA16F),Ue===n.UNSIGNED_BYTE&&(Xe=Pt===js?n.SRGB8_ALPHA8:n.RGBA8),Ue===n.UNSIGNED_SHORT_4_4_4_4&&(Xe=n.RGBA4),Ue===n.UNSIGNED_SHORT_5_5_5_1&&(Xe=n.RGB5_A1)}return(Xe===n.R16F||Xe===n.R32F||Xe===n.RG16F||Xe===n.RG32F||Xe===n.RGBA16F||Xe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Xe}function _(re,J){let Ue;return re?null===J||J===$g||J===t1?Ue=n.DEPTH24_STENCIL8:J===th?Ue=n.DEPTH32F_STENCIL8:J===nE&&(Ue=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===J||J===$g||J===t1?Ue=n.DEPTH_COMPONENT24:J===th?Ue=n.DEPTH_COMPONENT32F:J===nE&&(Ue=n.DEPTH_COMPONENT16),Ue}function C(re,J){return!0===m(re)||re.isFramebufferTexture&&re.minFilter!==nc&&re.minFilter!==cl?Math.log2(Math.max(J.width,J.height))+1:void 0!==re.mipmaps&&re.mipmaps.length>0?re.mipmaps.length:re.isCompressedTexture&&Array.isArray(re.image)?J.mipmaps.length:1}function b(re){const J=re.target;J.removeEventListener("dispose",b),function D(re){const J=r.get(re);if(void 0===J.__webglInit)return;const Ue=re.source,Qe=d.get(Ue);if(Qe){const rt=Qe[J.__cacheKey];rt.usedTimes--,0===rt.usedTimes&&E(re),0===Object.keys(Qe).length&&d.delete(Ue)}r.remove(re)}(J),J.isVideoTexture&&u.delete(J)}function M(re){const J=re.target;J.removeEventListener("dispose",M),function T(re){const J=r.get(re);if(re.depthTexture&&(re.depthTexture.dispose(),r.remove(re.depthTexture)),re.isWebGLCubeRenderTarget)for(let Qe=0;Qe<6;Qe++){if(Array.isArray(J.__webglFramebuffer[Qe]))for(let rt=0;rt<J.__webglFramebuffer[Qe].length;rt++)n.deleteFramebuffer(J.__webglFramebuffer[Qe][rt]);else n.deleteFramebuffer(J.__webglFramebuffer[Qe]);J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer[Qe])}else{if(Array.isArray(J.__webglFramebuffer))for(let Qe=0;Qe<J.__webglFramebuffer.length;Qe++)n.deleteFramebuffer(J.__webglFramebuffer[Qe]);else n.deleteFramebuffer(J.__webglFramebuffer);if(J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer),J.__webglMultisampledFramebuffer&&n.deleteFramebuffer(J.__webglMultisampledFramebuffer),J.__webglColorRenderbuffer)for(let Qe=0;Qe<J.__webglColorRenderbuffer.length;Qe++)J.__webglColorRenderbuffer[Qe]&&n.deleteRenderbuffer(J.__webglColorRenderbuffer[Qe]);J.__webglDepthRenderbuffer&&n.deleteRenderbuffer(J.__webglDepthRenderbuffer)}const Ue=re.textures;for(let Qe=0,rt=Ue.length;Qe<rt;Qe++){const Xe=r.get(Ue[Qe]);Xe.__webglTexture&&(n.deleteTexture(Xe.__webglTexture),o.memory.textures--),r.remove(Ue[Qe])}r.remove(re)}(J)}function E(re){const J=r.get(re);n.deleteTexture(J.__webglTexture),delete d.get(re.source)[J.__cacheKey],o.memory.textures--}let B=0;function q(re,J){const Ue=r.get(re);if(re.isVideoTexture&&function Ce(re){const J=o.render.frame;u.get(re)!==J&&(u.set(re,J),re.update())}(re),!1===re.isRenderTargetTexture&&re.version>0&&Ue.__version!==re.version){const Qe=re.image;if(null===Qe)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Qe.complete)return void K(Ue,re,J);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,Ue.__webglTexture,n.TEXTURE0+J)}const H={1e3:n.REPEAT,[jf]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},ae={[nc]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[cl]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[ep]:n.LINEAR_MIPMAP_LINEAR},ve={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function Q(re,J){if(J.type===th&&!1===e.has("OES_texture_float_linear")&&(J.magFilter===cl||1007===J.magFilter||1005===J.magFilter||J.magFilter===ep||J.minFilter===cl||1007===J.minFilter||1005===J.minFilter||J.minFilter===ep)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(re,n.TEXTURE_WRAP_S,H[J.wrapS]),n.texParameteri(re,n.TEXTURE_WRAP_T,H[J.wrapT]),(re===n.TEXTURE_3D||re===n.TEXTURE_2D_ARRAY)&&n.texParameteri(re,n.TEXTURE_WRAP_R,H[J.wrapR]),n.texParameteri(re,n.TEXTURE_MAG_FILTER,ae[J.magFilter]),n.texParameteri(re,n.TEXTURE_MIN_FILTER,ae[J.minFilter]),J.compareFunction&&(n.texParameteri(re,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(re,n.TEXTURE_COMPARE_FUNC,ve[J.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(J.magFilter===nc||1005!==J.minFilter&&J.minFilter!==ep||J.type===th&&!1===e.has("OES_texture_float_linear"))return;if(J.anisotropy>1||r.get(J).__currentAnisotropy){const Ue=e.get("EXT_texture_filter_anisotropic");n.texParameterf(re,Ue.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(J.anisotropy,i.getMaxAnisotropy())),r.get(J).__currentAnisotropy=J.anisotropy}}}function j(re,J){let Ue=!1;void 0===re.__webglInit&&(re.__webglInit=!0,J.addEventListener("dispose",b));const Qe=J.source;let rt=d.get(Qe);void 0===rt&&(rt={},d.set(Qe,rt));const Xe=function k(re){const J=[];return J.push(re.wrapS),J.push(re.wrapT),J.push(re.wrapR||0),J.push(re.magFilter),J.push(re.minFilter),J.push(re.anisotropy),J.push(re.internalFormat),J.push(re.format),J.push(re.type),J.push(re.generateMipmaps),J.push(re.premultiplyAlpha),J.push(re.flipY),J.push(re.unpackAlignment),J.push(re.colorSpace),J.join()}(J);if(Xe!==re.__cacheKey){void 0===rt[Xe]&&(rt[Xe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Ue=!0),rt[Xe].usedTimes++;const Pt=rt[re.__cacheKey];void 0!==Pt&&(rt[re.__cacheKey].usedTimes--,0===Pt.usedTimes&&E(J)),re.__cacheKey=Xe,re.__webglTexture=rt[Xe].texture}return Ue}function K(re,J,Ue){let Qe=n.TEXTURE_2D;(J.isDataArrayTexture||J.isCompressedArrayTexture)&&(Qe=n.TEXTURE_2D_ARRAY),J.isData3DTexture&&(Qe=n.TEXTURE_3D);const rt=j(re,J),Xe=J.source;t.bindTexture(Qe,re.__webglTexture,n.TEXTURE0+Ue);const Pt=r.get(Xe);if(Xe.version!==Pt.__version||!0===rt){t.activeTexture(n.TEXTURE0+Ue);const Ft=ss.getPrimaries(ss.workingColorSpace),Tt=""===J.colorSpace?null:ss.getPrimaries(J.colorSpace),yn=""===J.colorSpace||Ft===Tt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,J.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,J.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,yn);let st=p(J.image,!1,i.maxTextureSize);st=Pe(J,st);const vn=s.convert(J.format,J.colorSpace),pn=s.convert(J.type);let tn,_n=v(J.internalFormat,vn,pn,J.colorSpace,J.isVideoTexture);Q(Qe,J);const $=J.mipmaps,Fe=!0!==J.isVideoTexture,Ke=void 0===Pt.__version||!0===rt,Ne=Xe.dataReady,_t=C(J,st);if(J.isDepthTexture)_n=_(J.format===r1,J.type),Ke&&(Fe?t.texStorage2D(n.TEXTURE_2D,1,_n,st.width,st.height):t.texImage2D(n.TEXTURE_2D,0,_n,st.width,st.height,0,vn,pn,null));else if(J.isDataTexture)if($.length>0){Fe&&Ke&&t.texStorage2D(n.TEXTURE_2D,_t,_n,$[0].width,$[0].height);for(let nt=0,Dt=$.length;nt<Dt;nt++)tn=$[nt],Fe?Ne&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,tn.width,tn.height,vn,pn,tn.data):t.texImage2D(n.TEXTURE_2D,nt,_n,tn.width,tn.height,0,vn,pn,tn.data);J.generateMipmaps=!1}else Fe?(Ke&&t.texStorage2D(n.TEXTURE_2D,_t,_n,st.width,st.height),Ne&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,st.width,st.height,vn,pn,st.data)):t.texImage2D(n.TEXTURE_2D,0,_n,st.width,st.height,0,vn,pn,st.data);else if(J.isCompressedTexture)if(J.isCompressedArrayTexture){Fe&&Ke&&t.texStorage3D(n.TEXTURE_2D_ARRAY,_t,_n,$[0].width,$[0].height,st.depth);for(let nt=0,Dt=$.length;nt<Dt;nt++)if(tn=$[nt],J.format!==pu)if(null!==vn)if(Fe){if(Ne)if(J.layerUpdates.size>0){const an=Ak(tn.width,tn.height,J.format,J.type);for(const Vt of J.layerUpdates){const Rn=tn.data.subarray(Vt*an/tn.data.BYTES_PER_ELEMENT,(Vt+1)*an/tn.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,Vt,tn.width,tn.height,1,vn,Rn)}J.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,tn.width,tn.height,st.depth,vn,tn.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,nt,_n,tn.width,tn.height,st.depth,0,tn.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Fe?Ne&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,tn.width,tn.height,st.depth,vn,pn,tn.data):t.texImage3D(n.TEXTURE_2D_ARRAY,nt,_n,tn.width,tn.height,st.depth,0,vn,pn,tn.data)}else{Fe&&Ke&&t.texStorage2D(n.TEXTURE_2D,_t,_n,$[0].width,$[0].height);for(let nt=0,Dt=$.length;nt<Dt;nt++)tn=$[nt],J.format!==pu?null!==vn?Fe?Ne&&t.compressedTexSubImage2D(n.TEXTURE_2D,nt,0,0,tn.width,tn.height,vn,tn.data):t.compressedTexImage2D(n.TEXTURE_2D,nt,_n,tn.width,tn.height,0,tn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Fe?Ne&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,tn.width,tn.height,vn,pn,tn.data):t.texImage2D(n.TEXTURE_2D,nt,_n,tn.width,tn.height,0,vn,pn,tn.data)}else if(J.isDataArrayTexture)if(Fe){if(Ke&&t.texStorage3D(n.TEXTURE_2D_ARRAY,_t,_n,st.width,st.height,st.depth),Ne)if(J.layerUpdates.size>0){const nt=Ak(st.width,st.height,J.format,J.type);for(const Dt of J.layerUpdates){const an=st.data.subarray(Dt*nt/st.data.BYTES_PER_ELEMENT,(Dt+1)*nt/st.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Dt,st.width,st.height,1,vn,pn,an)}J.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,st.width,st.height,st.depth,vn,pn,st.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,_n,st.width,st.height,st.depth,0,vn,pn,st.data);else if(J.isData3DTexture)Fe?(Ke&&t.texStorage3D(n.TEXTURE_3D,_t,_n,st.width,st.height,st.depth),Ne&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,st.width,st.height,st.depth,vn,pn,st.data)):t.texImage3D(n.TEXTURE_3D,0,_n,st.width,st.height,st.depth,0,vn,pn,st.data);else if(J.isFramebufferTexture){if(Ke)if(Fe)t.texStorage2D(n.TEXTURE_2D,_t,_n,st.width,st.height);else{let nt=st.width,Dt=st.height;for(let an=0;an<_t;an++)t.texImage2D(n.TEXTURE_2D,an,_n,nt,Dt,0,vn,pn,null),nt>>=1,Dt>>=1}}else if($.length>0){if(Fe&&Ke){const nt=Oe($[0]);t.texStorage2D(n.TEXTURE_2D,_t,_n,nt.width,nt.height)}for(let nt=0,Dt=$.length;nt<Dt;nt++)tn=$[nt],Fe?Ne&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,vn,pn,tn):t.texImage2D(n.TEXTURE_2D,nt,_n,vn,pn,tn);J.generateMipmaps=!1}else if(Fe){if(Ke){const nt=Oe(st);t.texStorage2D(n.TEXTURE_2D,_t,_n,nt.width,nt.height)}Ne&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,vn,pn,st)}else t.texImage2D(n.TEXTURE_2D,0,_n,vn,pn,st);m(J)&&g(Qe),Pt.__version=Xe.version,J.onUpdate&&J.onUpdate(J)}re.__version=J.version}function se(re,J,Ue,Qe,rt,Xe){const Pt=s.convert(Ue.format,Ue.colorSpace),Ft=s.convert(Ue.type),Tt=v(Ue.internalFormat,Pt,Ft,Ue.colorSpace),yn=r.get(J),st=r.get(Ue);if(st.__renderTarget=J,!yn.__hasExternalTextures){const vn=Math.max(1,J.width>>Xe),pn=Math.max(1,J.height>>Xe);rt===n.TEXTURE_3D||rt===n.TEXTURE_2D_ARRAY?t.texImage3D(rt,Xe,Tt,vn,pn,J.depth,0,Pt,Ft,null):t.texImage2D(rt,Xe,Tt,vn,pn,0,Pt,Ft,null)}t.bindFramebuffer(n.FRAMEBUFFER,re),Be(J)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Qe,rt,st.__webglTexture,0,W(J)):(rt===n.TEXTURE_2D||rt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&rt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Qe,rt,st.__webglTexture,Xe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function le(re,J,Ue){if(n.bindRenderbuffer(n.RENDERBUFFER,re),J.depthBuffer){const Qe=J.depthTexture,Xe=_(J.stencilBuffer,Qe&&Qe.isDepthTexture?Qe.type:null),Pt=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ft=W(J);Be(J)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ft,Xe,J.width,J.height):Ue?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ft,Xe,J.width,J.height):n.renderbufferStorage(n.RENDERBUFFER,Xe,J.width,J.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Pt,n.RENDERBUFFER,re)}else{const Qe=J.textures;for(let rt=0;rt<Qe.length;rt++){const Xe=Qe[rt],Pt=s.convert(Xe.format,Xe.colorSpace),Ft=s.convert(Xe.type),Tt=v(Xe.internalFormat,Pt,Ft,Xe.colorSpace),yn=W(J);Ue&&!1===Be(J)?n.renderbufferStorageMultisample(n.RENDERBUFFER,yn,Tt,J.width,J.height):Be(J)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,yn,Tt,J.width,J.height):n.renderbufferStorage(n.RENDERBUFFER,Tt,J.width,J.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ee(re){const J=r.get(re),Ue=!0===re.isWebGLCubeRenderTarget;if(J.__boundDepthTexture!==re.depthTexture){const Qe=re.depthTexture;if(J.__depthDisposeCallback&&J.__depthDisposeCallback(),Qe){const rt=()=>{delete J.__boundDepthTexture,delete J.__depthDisposeCallback,Qe.removeEventListener("dispose",rt)};Qe.addEventListener("dispose",rt),J.__depthDisposeCallback=rt}J.__boundDepthTexture=Qe}if(re.depthTexture&&!J.__autoAllocateDepthBuffer){if(Ue)throw new Error("target.depthTexture not supported in Cube render targets");!function te(re,J){if(J&&J.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,re),!J.depthTexture||!J.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Qe=r.get(J.depthTexture);Qe.__renderTarget=J,(!Qe.__webglTexture||J.depthTexture.image.width!==J.width||J.depthTexture.image.height!==J.height)&&(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),q(J.depthTexture,0);const rt=Qe.__webglTexture,Xe=W(J);if(J.depthTexture.format===n1)Be(J)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,rt,0,Xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,rt,0);else{if(J.depthTexture.format!==r1)throw new Error("Unknown depthTexture format");Be(J)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,rt,0,Xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,rt,0)}}(J.__webglFramebuffer,re)}else if(Ue){J.__webglDepthbuffer=[];for(let Qe=0;Qe<6;Qe++)if(t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer[Qe]),void 0===J.__webglDepthbuffer[Qe])J.__webglDepthbuffer[Qe]=n.createRenderbuffer(),le(J.__webglDepthbuffer[Qe],re,!1);else{const rt=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Xe=J.__webglDepthbuffer[Qe];n.bindRenderbuffer(n.RENDERBUFFER,Xe),n.framebufferRenderbuffer(n.FRAMEBUFFER,rt,n.RENDERBUFFER,Xe)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer),void 0===J.__webglDepthbuffer)J.__webglDepthbuffer=n.createRenderbuffer(),le(J.__webglDepthbuffer,re,!1);else{const Qe=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,rt=J.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,rt),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,rt)}t.bindFramebuffer(n.FRAMEBUFFER,null)}const Ee=[],ne=[];function W(re){return Math.min(i.maxSamples,re.samples)}function Be(re){const J=r.get(re);return re.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==J.__useRenderToTexture}function Pe(re,J){const Ue=re.colorSpace,Qe=re.format,rt=re.type;return!0===re.isCompressedTexture||!0===re.isVideoTexture||Ue!==o1&&""!==Ue&&(ss.getTransfer(Ue)===js?(Qe!==pu||rt!==tp)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ue)),J}function Oe(re){return typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement?(c.width=re.naturalWidth||re.width,c.height=re.naturalHeight||re.height):typeof VideoFrame<"u"&&re instanceof VideoFrame?(c.width=re.displayWidth,c.height=re.displayHeight):(c.width=re.width,c.height=re.height),c}this.allocateTextureUnit=function U(){const re=B;return re>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+re+" texture units while this GPU supports only "+i.maxTextures),B+=1,re},this.resetTextureUnits=function R(){B=0},this.setTexture2D=q,this.setTexture2DArray=function O(re,J){const Ue=r.get(re);re.version>0&&Ue.__version!==re.version?K(Ue,re,J):t.bindTexture(n.TEXTURE_2D_ARRAY,Ue.__webglTexture,n.TEXTURE0+J)},this.setTexture3D=function P(re,J){const Ue=r.get(re);re.version>0&&Ue.__version!==re.version?K(Ue,re,J):t.bindTexture(n.TEXTURE_3D,Ue.__webglTexture,n.TEXTURE0+J)},this.setTextureCube=function G(re,J){const Ue=r.get(re);re.version>0&&Ue.__version!==re.version?function oe(re,J,Ue){if(6!==J.image.length)return;const Qe=j(re,J),rt=J.source;t.bindTexture(n.TEXTURE_CUBE_MAP,re.__webglTexture,n.TEXTURE0+Ue);const Xe=r.get(rt);if(rt.version!==Xe.__version||!0===Qe){t.activeTexture(n.TEXTURE0+Ue);const Pt=ss.getPrimaries(ss.workingColorSpace),Ft=""===J.colorSpace?null:ss.getPrimaries(J.colorSpace),Tt=""===J.colorSpace||Pt===Ft?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,J.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,J.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Tt);const yn=J.isCompressedTexture||J.image[0].isCompressedTexture,st=J.image[0]&&J.image[0].isDataTexture,vn=[];for(let Dt=0;Dt<6;Dt++)vn[Dt]=yn||st?st?J.image[Dt].image:J.image[Dt]:p(J.image[Dt],!0,i.maxCubemapSize),vn[Dt]=Pe(J,vn[Dt]);const pn=vn[0],_n=s.convert(J.format,J.colorSpace),tn=s.convert(J.type),$=v(J.internalFormat,_n,tn,J.colorSpace),Fe=!0!==J.isVideoTexture,Ke=void 0===Xe.__version||!0===Qe,Ne=rt.dataReady;let nt,_t=C(J,pn);if(Q(n.TEXTURE_CUBE_MAP,J),yn){Fe&&Ke&&t.texStorage2D(n.TEXTURE_CUBE_MAP,_t,$,pn.width,pn.height);for(let Dt=0;Dt<6;Dt++){nt=vn[Dt].mipmaps;for(let an=0;an<nt.length;an++){const Vt=nt[an];J.format!==pu?null!==_n?Fe?Ne&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an,0,0,Vt.width,Vt.height,_n,Vt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an,$,Vt.width,Vt.height,0,Vt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an,0,0,Vt.width,Vt.height,_n,tn,Vt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an,$,Vt.width,Vt.height,0,_n,tn,Vt.data)}}}else{if(nt=J.mipmaps,Fe&&Ke){nt.length>0&&_t++;const Dt=Oe(vn[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,_t,$,Dt.width,Dt.height)}for(let Dt=0;Dt<6;Dt++)if(st){Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0,0,0,vn[Dt].width,vn[Dt].height,_n,tn,vn[Dt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0,$,vn[Dt].width,vn[Dt].height,0,_n,tn,vn[Dt].data);for(let an=0;an<nt.length;an++){const Rn=nt[an].image[Dt].image;Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an+1,0,0,Rn.width,Rn.height,_n,tn,Rn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an+1,$,Rn.width,Rn.height,0,_n,tn,Rn.data)}}else{Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0,0,0,_n,tn,vn[Dt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,0,$,_n,tn,vn[Dt]);for(let an=0;an<nt.length;an++){const Vt=nt[an];Fe?Ne&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an+1,0,0,_n,tn,Vt.image[Dt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,an+1,$,_n,tn,Vt.image[Dt])}}}m(J)&&g(n.TEXTURE_CUBE_MAP),Xe.__version=rt.version,J.onUpdate&&J.onUpdate(J)}re.__version=J.version}(Ue,re,J):t.bindTexture(n.TEXTURE_CUBE_MAP,Ue.__webglTexture,n.TEXTURE0+J)},this.rebindTextures=function Ae(re,J,Ue){const Qe=r.get(re);void 0!==J&&se(Qe.__webglFramebuffer,re,re.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==Ue&&ee(re)},this.setupRenderTarget=function xe(re){const J=re.texture,Ue=r.get(re),Qe=r.get(J);re.addEventListener("dispose",M);const rt=re.textures,Xe=!0===re.isWebGLCubeRenderTarget,Pt=rt.length>1;if(Pt||(void 0===Qe.__webglTexture&&(Qe.__webglTexture=n.createTexture()),Qe.__version=J.version,o.memory.textures++),Xe){Ue.__webglFramebuffer=[];for(let Ft=0;Ft<6;Ft++)if(J.mipmaps&&J.mipmaps.length>0){Ue.__webglFramebuffer[Ft]=[];for(let Tt=0;Tt<J.mipmaps.length;Tt++)Ue.__webglFramebuffer[Ft][Tt]=n.createFramebuffer()}else Ue.__webglFramebuffer[Ft]=n.createFramebuffer()}else{if(J.mipmaps&&J.mipmaps.length>0){Ue.__webglFramebuffer=[];for(let Ft=0;Ft<J.mipmaps.length;Ft++)Ue.__webglFramebuffer[Ft]=n.createFramebuffer()}else Ue.__webglFramebuffer=n.createFramebuffer();if(Pt)for(let Ft=0,Tt=rt.length;Ft<Tt;Ft++){const yn=r.get(rt[Ft]);void 0===yn.__webglTexture&&(yn.__webglTexture=n.createTexture(),o.memory.textures++)}if(re.samples>0&&!1===Be(re)){Ue.__webglMultisampledFramebuffer=n.createFramebuffer(),Ue.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer);for(let Ft=0;Ft<rt.length;Ft++){const Tt=rt[Ft];Ue.__webglColorRenderbuffer[Ft]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ue.__webglColorRenderbuffer[Ft]);const yn=s.convert(Tt.format,Tt.colorSpace),st=s.convert(Tt.type),vn=v(Tt.internalFormat,yn,st,Tt.colorSpace,!0===re.isXRRenderTarget),pn=W(re);n.renderbufferStorageMultisample(n.RENDERBUFFER,pn,vn,re.width,re.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ft,n.RENDERBUFFER,Ue.__webglColorRenderbuffer[Ft])}n.bindRenderbuffer(n.RENDERBUFFER,null),re.depthBuffer&&(Ue.__webglDepthRenderbuffer=n.createRenderbuffer(),le(Ue.__webglDepthRenderbuffer,re,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Xe){t.bindTexture(n.TEXTURE_CUBE_MAP,Qe.__webglTexture),Q(n.TEXTURE_CUBE_MAP,J);for(let Ft=0;Ft<6;Ft++)if(J.mipmaps&&J.mipmaps.length>0)for(let Tt=0;Tt<J.mipmaps.length;Tt++)se(Ue.__webglFramebuffer[Ft][Tt],re,J,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,Tt);else se(Ue.__webglFramebuffer[Ft],re,J,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,0);m(J)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Pt){for(let Ft=0,Tt=rt.length;Ft<Tt;Ft++){const yn=rt[Ft],st=r.get(yn);t.bindTexture(n.TEXTURE_2D,st.__webglTexture),Q(n.TEXTURE_2D,yn),se(Ue.__webglFramebuffer,re,yn,n.COLOR_ATTACHMENT0+Ft,n.TEXTURE_2D,0),m(yn)&&g(n.TEXTURE_2D)}t.unbindTexture()}else{let Ft=n.TEXTURE_2D;if((re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(Ft=re.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ft,Qe.__webglTexture),Q(Ft,J),J.mipmaps&&J.mipmaps.length>0)for(let Tt=0;Tt<J.mipmaps.length;Tt++)se(Ue.__webglFramebuffer[Tt],re,J,n.COLOR_ATTACHMENT0,Ft,Tt);else se(Ue.__webglFramebuffer,re,J,n.COLOR_ATTACHMENT0,Ft,0);m(J)&&g(Ft),t.unbindTexture()}re.depthBuffer&&ee(re)},this.updateRenderTargetMipmap=function ge(re){const J=re.textures;for(let Ue=0,Qe=J.length;Ue<Qe;Ue++){const rt=J[Ue];if(m(rt)){const Xe=y(re),Pt=r.get(rt).__webglTexture;t.bindTexture(Xe,Pt),g(Xe),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Y(re){if(re.samples>0)if(!1===Be(re)){const J=re.textures,Ue=re.width,Qe=re.height;let rt=n.COLOR_BUFFER_BIT;const Xe=re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Pt=r.get(re),Ft=J.length>1;if(Ft)for(let Tt=0;Tt<J.length;Tt++)t.bindFramebuffer(n.FRAMEBUFFER,Pt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Pt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Pt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Pt.__webglFramebuffer);for(let Tt=0;Tt<J.length;Tt++){if(re.resolveDepthBuffer&&(re.depthBuffer&&(rt|=n.DEPTH_BUFFER_BIT),re.stencilBuffer&&re.resolveStencilBuffer&&(rt|=n.STENCIL_BUFFER_BIT)),Ft){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Pt.__webglColorRenderbuffer[Tt]);const yn=r.get(J[Tt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,yn,0)}n.blitFramebuffer(0,0,Ue,Qe,0,0,Ue,Qe,rt,n.NEAREST),!0===l&&(Ee.length=0,ne.length=0,Ee.push(n.COLOR_ATTACHMENT0+Tt),re.depthBuffer&&!1===re.resolveDepthBuffer&&(Ee.push(Xe),ne.push(Xe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ne)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ee))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ft)for(let Tt=0;Tt<J.length;Tt++){t.bindFramebuffer(n.FRAMEBUFFER,Pt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.RENDERBUFFER,Pt.__webglColorRenderbuffer[Tt]);const yn=r.get(J[Tt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Pt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Tt,n.TEXTURE_2D,yn,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Pt.__webglMultisampledFramebuffer)}else re.depthBuffer&&!1===re.resolveDepthBuffer&&l&&n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[re.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT])},this.setupDepthRenderbuffer=ee,this.setupFrameBufferTexture=se,this.useMultisampledRTT=Be}function mFe(n,e){return{convert:function t(r,i=""){let s;const o=ss.getTransfer(i);if(r===tp)return n.UNSIGNED_BYTE;if(r===yU)return n.UNSIGNED_SHORT_4_4_4_4;if(r===_U)return n.UNSIGNED_SHORT_5_5_5_1;if(r===hX)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===cX)return n.BYTE;if(r===uX)return n.SHORT;if(r===nE)return n.UNSIGNED_SHORT;if(r===vU)return n.INT;if(r===$g)return n.UNSIGNED_INT;if(r===th)return n.FLOAT;if(r===rE)return n.HALF_FLOAT;if(r===fX)return n.ALPHA;if(r===dX)return n.RGB;if(r===pu)return n.RGBA;if(r===AX)return n.LUMINANCE;if(r===pX)return n.LUMINANCE_ALPHA;if(r===n1)return n.DEPTH_COMPONENT;if(r===r1)return n.DEPTH_STENCIL;if(r===bU)return n.RED;if(r===zT)return n.RED_INTEGER;if(r===gX)return n.RG;if(r===wU)return n.RG_INTEGER;if(r===CU)return n.RGBA_INTEGER;if(r===GT||r===jT||r===qT||r===WT)if(o===js){if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===s)return null;if(r===GT)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===jT)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===qT)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===WT)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(s=e.get("WEBGL_compressed_texture_s3tc"),null===s)return null;if(r===GT)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===jT)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===qT)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===WT)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(r===xU||r===EU||r===SU||r===DU){if(s=e.get("WEBGL_compressed_texture_pvrtc"),null===s)return null;if(r===xU)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===EU)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===SU)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===DU)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===MU||r===TU||r===BU){if(s=e.get("WEBGL_compressed_texture_etc"),null===s)return null;if(r===MU||r===TU)return o===js?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===BU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}if(r===NU||r===IU||r===FU||r===RU||r===OU||r===PU||r===LU||r===UU||r===kU||r===HU||r===VU||r===QU||r===zU||r===GU){if(s=e.get("WEBGL_compressed_texture_astc"),null===s)return null;if(r===NU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===IU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===FU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===RU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===OU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===PU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===LU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===UU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===kU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===HU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===VU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===QU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===zU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===GU)return o===js?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}if(r===$T||r===jU||r===qU){if(s=e.get("EXT_texture_compression_bptc"),null===s)return null;if(r===$T)return o===js?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===jU)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===qU)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(r===mX||r===WU||r===$U||r===KU){if(s=e.get("EXT_texture_compression_rgtc"),null===s)return null;if(r===$T)return s.COMPRESSED_RED_RGTC1_EXT;if(r===WU)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===$U)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===KU)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return r===t1?n.UNSIGNED_INT_24_8:void 0!==n[r]?n[r]:null}}}const vFe={type:"move"};class Ek{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new yE,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new yE,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Re),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new yE,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Re),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){o=!0;for(const p of e.hand.values()){const m=t.getJointPose(p,r),g=this._getHandJoint(c,p);null!==m&&(g.matrix.fromArray(m.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=m.radius),g.visible=null!==m}const d=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),f=.02,A=.005;c.inputState.pinching&&d>f+A?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=f-A&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(i=t.getPose(e.targetRaySpace,r),null===i&&null!==s&&(i=s),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(vFe)))}return null!==a&&(a.visible=null!==i),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const r=new yE;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class bFe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(null===this.texture){const i=new gu;e.properties.get(i).__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,r=new Kd({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new aa(new EE(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class wFe extends rp{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,d=null,f=null,A=null;const p=new bFe,m=t.getContextAttributes();let g=null,y=null;const v=[],_=[],C=new Ut;let b=null;const M=new Fl;M.viewport=new fs;const D=new Fl;D.viewport=new fs;const E=[M,D],T=new VMe;let B=null,R=null;function U(K){const oe=_.indexOf(K.inputSource);if(-1===oe)return;const se=v[oe];void 0!==se&&(se.update(K.inputSource,K.frame,c||o),se.dispatchEvent({type:K.type,data:K.inputSource}))}function k(){i.removeEventListener("select",U),i.removeEventListener("selectstart",U),i.removeEventListener("selectend",U),i.removeEventListener("squeeze",U),i.removeEventListener("squeezestart",U),i.removeEventListener("squeezeend",U),i.removeEventListener("end",k),i.removeEventListener("inputsourceschange",q);for(let K=0;K<v.length;K++){const oe=_[K];null!==oe&&(_[K]=null,v[K].disconnect(oe))}B=null,R=null,p.reset(),e.setRenderTarget(g),f=null,d=null,h=null,i=null,y=null,j.stop(),r.isPresenting=!1,e.setPixelRatio(b),e.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}function q(K){for(let oe=0;oe<K.removed.length;oe++){const se=K.removed[oe],le=_.indexOf(se);le>=0&&(_[le]=null,v[le].disconnect(se))}for(let oe=0;oe<K.added.length;oe++){const se=K.added[oe];let le=_.indexOf(se);if(-1===le){for(let ee=0;ee<v.length;ee++){if(ee>=_.length){_.push(se),le=ee;break}if(null===_[ee]){_[ee]=se,le=ee;break}}if(-1===le)break}const te=v[le];te&&te.connect(se)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(K){let oe=v[K];return void 0===oe&&(oe=new Ek,v[K]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function(K){let oe=v[K];return void 0===oe&&(oe=new Ek,v[K]=oe),oe.getGripSpace()},this.getHand=function(K){let oe=v[K];return void 0===oe&&(oe=new Ek,v[K]=oe),oe.getHandSpace()},this.setFramebufferScaleFactor=function(K){s=K,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(K){a=K,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(K){c=K},this.getBaseLayer=function(){return null!==d?d:f},this.getBinding=function(){return h},this.getFrame=function(){return A},this.getSession=function(){return i},this.setSession=function(){var K=(0,yt.A)(function*(oe){if(i=oe,null!==i){if(g=e.getRenderTarget(),i.addEventListener("select",U),i.addEventListener("selectstart",U),i.addEventListener("selectend",U),i.addEventListener("squeeze",U),i.addEventListener("squeezestart",U),i.addEventListener("squeezeend",U),i.addEventListener("end",k),i.addEventListener("inputsourceschange",q),!0!==m.xrCompatible&&(yield t.makeXRCompatible()),b=e.getPixelRatio(),e.getSize(C),void 0===i.renderState.layers)f=new XRWebGLLayer(i,t,{antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s}),i.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),y=new $d(f.framebufferWidth,f.framebufferHeight,{format:pu,type:tp,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil});else{let se=null,le=null,te=null;m.depth&&(te=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,se=m.stencil?r1:n1,le=m.stencil?t1:$g);const ee={colorFormat:t.RGBA8,depthFormat:te,scaleFactor:s};h=new XRWebGLBinding(i,t),d=h.createProjectionLayer(ee),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),y=new $d(d.textureWidth,d.textureHeight,{format:pu,type:tp,depthTexture:new pY(d.textureWidth,d.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,se),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues})}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=yield i.requestReferenceSpace(a),j.setContext(i),j.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}});return function(oe){return K.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==i)return i.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};const O=new Re,P=new Re;function H(K,oe){null===oe?K.matrixWorld.copy(K.matrix):K.matrixWorld.multiplyMatrices(oe.matrixWorld,K.matrix),K.matrixWorldInverse.copy(K.matrixWorld).invert()}this.updateCamera=function(K){if(null===i)return;let oe=K.near,se=K.far;null!==p.texture&&(p.depthNear>0&&(oe=p.depthNear),p.depthFar>0&&(se=p.depthFar)),T.near=D.near=M.near=oe,T.far=D.far=M.far=se,(B!==T.near||R!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),B=T.near,R=T.far),M.layers.mask=2|K.layers.mask,D.layers.mask=4|K.layers.mask,T.layers.mask=M.layers.mask|D.layers.mask;const le=K.parent,te=T.cameras;H(T,le);for(let ee=0;ee<te.length;ee++)H(te[ee],le);2===te.length?function G(K,oe,se){O.setFromMatrixPosition(oe.matrixWorld),P.setFromMatrixPosition(se.matrixWorld);const le=O.distanceTo(P),te=oe.projectionMatrix.elements,ee=se.projectionMatrix.elements,Ae=te[14]/(te[10]-1),xe=te[14]/(te[10]+1),ge=(te[9]+1)/te[5],Ee=(te[9]-1)/te[5],ne=(te[8]-1)/te[0],Y=(ee[8]+1)/ee[0],W=Ae*ne,Be=Ae*Y,Ce=le/(-ne+Y),Pe=Ce*-ne;if(oe.matrixWorld.decompose(K.position,K.quaternion,K.scale),K.translateX(Pe),K.translateZ(Ce),K.matrixWorld.compose(K.position,K.quaternion,K.scale),K.matrixWorldInverse.copy(K.matrixWorld).invert(),-1===te[10])K.projectionMatrix.copy(oe.projectionMatrix),K.projectionMatrixInverse.copy(oe.projectionMatrixInverse);else{const Oe=Ae+Ce,re=xe+Ce;K.projectionMatrix.makePerspective(W-Pe,Be+(le-Pe),ge*xe/re*Oe,Ee*xe/re*Oe,Oe,re),K.projectionMatrixInverse.copy(K.projectionMatrix).invert()}}(T,M,D):T.projectionMatrix.copy(M.projectionMatrix),function ae(K,oe,se){null===se?K.matrix.copy(oe.matrixWorld):(K.matrix.copy(se.matrixWorld),K.matrix.invert(),K.matrix.multiply(oe.matrixWorld)),K.matrix.decompose(K.position,K.quaternion,K.scale),K.updateMatrixWorld(!0),K.projectionMatrix.copy(oe.projectionMatrix),K.projectionMatrixInverse.copy(oe.projectionMatrixInverse),K.isPerspectiveCamera&&(K.fov=2*l1*Math.atan(1/K.projectionMatrix.elements[5]),K.zoom=1)}(K,T,le)},this.getCamera=function(){return T},this.getFoveation=function(){if(null!==d||null!==f)return l},this.setFoveation=function(K){l=K,null!==d&&(d.fixedFoveation=K),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=K)},this.hasDepthSensing=function(){return null!==p.texture},this.getDepthSensingMesh=function(){return p.getMesh(T)};let ve=null;const j=new pJ;j.setAnimationLoop(function Q(K,oe){if(u=oe.getViewerPose(c||o),A=oe,null!==u){const se=u.views;null!==f&&(e.setRenderTargetFramebuffer(y,f.framebuffer),e.setRenderTarget(y));let le=!1;se.length!==T.cameras.length&&(T.cameras.length=0,le=!0);for(let ee=0;ee<se.length;ee++){const Ae=se[ee];let xe=null;if(null!==f)xe=f.getViewport(Ae);else{const Ee=h.getViewSubImage(d,Ae);xe=Ee.viewport,0===ee&&(e.setRenderTargetTextures(y,Ee.colorTexture,d.ignoreDepthValues?void 0:Ee.depthStencilTexture),e.setRenderTarget(y))}let ge=E[ee];void 0===ge&&(ge=new Fl,ge.layers.enable(ee),ge.viewport=new fs,E[ee]=ge),ge.matrix.fromArray(Ae.transform.matrix),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.projectionMatrix.fromArray(Ae.projectionMatrix),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert(),ge.viewport.set(xe.x,xe.y,xe.width,xe.height),0===ee&&(T.matrix.copy(ge.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),!0===le&&T.cameras.push(ge)}const te=i.enabledFeatures;if(te&&te.includes("depth-sensing")){const ee=h.getDepthInformation(se[0]);ee&&ee.isValid&&ee.texture&&p.init(e,ee,i.renderState)}}for(let se=0;se<v.length;se++){const le=_[se],te=v[se];null!==le&&void 0!==te&&te.update(le,oe,c||o)}ve&&ve(K,oe),oe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:oe}),A=null}),this.setAnimationLoop=function(K){ve=K},this.dispose=function(){}}}const x0=new ap,CFe=new Nr;function xFe(n,e){function t(m,g){!0===m.matrixAutoUpdate&&m.updateMatrix(),g.value.copy(m.matrix)}function s(m,g){m.opacity.value=g.opacity,g.color&&m.diffuse.value.copy(g.color),g.emissive&&m.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(m.map.value=g.map,t(g.map,m.mapTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,t(g.alphaMap,m.alphaMapTransform)),g.bumpMap&&(m.bumpMap.value=g.bumpMap,t(g.bumpMap,m.bumpMapTransform),m.bumpScale.value=g.bumpScale,1===g.side&&(m.bumpScale.value*=-1)),g.normalMap&&(m.normalMap.value=g.normalMap,t(g.normalMap,m.normalMapTransform),m.normalScale.value.copy(g.normalScale),1===g.side&&m.normalScale.value.negate()),g.displacementMap&&(m.displacementMap.value=g.displacementMap,t(g.displacementMap,m.displacementMapTransform),m.displacementScale.value=g.displacementScale,m.displacementBias.value=g.displacementBias),g.emissiveMap&&(m.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,m.emissiveMapTransform)),g.specularMap&&(m.specularMap.value=g.specularMap,t(g.specularMap,m.specularMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);const y=e.get(g),v=y.envMap,_=y.envMapRotation;v&&(m.envMap.value=v,x0.copy(_),x0.x*=-1,x0.y*=-1,x0.z*=-1,v.isCubeTexture&&!1===v.isRenderTargetTexture&&(x0.y*=-1,x0.z*=-1),m.envMapRotation.value.setFromMatrix4(CFe.makeRotationFromEuler(x0)),m.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,m.reflectivity.value=g.reflectivity,m.ior.value=g.ior,m.refractionRatio.value=g.refractionRatio),g.lightMap&&(m.lightMap.value=g.lightMap,m.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,m.lightMapTransform)),g.aoMap&&(m.aoMap.value=g.aoMap,m.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,m.aoMapTransform))}return{refreshFogUniforms:function r(m,g){g.color.getRGB(m.fogColor.value,zX(n)),g.isFog?(m.fogNear.value=g.near,m.fogFar.value=g.far):g.isFogExp2&&(m.fogDensity.value=g.density)},refreshMaterialUniforms:function i(m,g,y,v,_){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(m,g):g.isMeshToonMaterial?(s(m,g),function h(m,g){g.gradientMap&&(m.gradientMap.value=g.gradientMap)}(m,g)):g.isMeshPhongMaterial?(s(m,g),function u(m,g){m.specular.value.copy(g.specular),m.shininess.value=Math.max(g.shininess,1e-4)}(m,g)):g.isMeshStandardMaterial?(s(m,g),function d(m,g){m.metalness.value=g.metalness,g.metalnessMap&&(m.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,m.metalnessMapTransform)),m.roughness.value=g.roughness,g.roughnessMap&&(m.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,m.roughnessMapTransform)),g.envMap&&(m.envMapIntensity.value=g.envMapIntensity)}(m,g),g.isMeshPhysicalMaterial&&function f(m,g,y){m.ior.value=g.ior,g.sheen>0&&(m.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),m.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(m.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,m.sheenColorMapTransform)),g.sheenRoughnessMap&&(m.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,m.sheenRoughnessMapTransform))),g.clearcoat>0&&(m.clearcoat.value=g.clearcoat,m.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(m.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,m.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(m.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),1===g.side&&m.clearcoatNormalScale.value.negate())),g.dispersion>0&&(m.dispersion.value=g.dispersion),g.iridescence>0&&(m.iridescence.value=g.iridescence,m.iridescenceIOR.value=g.iridescenceIOR,m.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(m.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,m.iridescenceMapTransform)),g.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),g.transmission>0&&(m.transmission.value=g.transmission,m.transmissionSamplerMap.value=y.texture,m.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(m.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,m.transmissionMapTransform)),m.thickness.value=g.thickness,g.thicknessMap&&(m.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=g.attenuationDistance,m.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(m.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(m.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=g.specularIntensity,m.specularColor.value.copy(g.specularColor),g.specularColorMap&&(m.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,m.specularColorMapTransform)),g.specularIntensityMap&&(m.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,m.specularIntensityMapTransform))}(m,g,_)):g.isMeshMatcapMaterial?(s(m,g),function A(m,g){g.matcap&&(m.matcap.value=g.matcap)}(m,g)):g.isMeshDepthMaterial?s(m,g):g.isMeshDistanceMaterial?(s(m,g),function p(m,g){const y=e.get(g).light;m.referencePosition.value.setFromMatrixPosition(y.matrixWorld),m.nearDistance.value=y.shadow.camera.near,m.farDistance.value=y.shadow.camera.far}(m,g)):g.isMeshNormalMaterial?s(m,g):g.isLineBasicMaterial?(function o(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,g.map&&(m.map.value=g.map,t(g.map,m.mapTransform))}(m,g),g.isLineDashedMaterial&&function a(m,g){m.dashSize.value=g.dashSize,m.totalSize.value=g.dashSize+g.gapSize,m.scale.value=g.scale}(m,g)):g.isPointsMaterial?function l(m,g,y,v){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.size.value=g.size*y,m.scale.value=.5*v,g.map&&(m.map.value=g.map,t(g.map,m.uvTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,t(g.alphaMap,m.alphaMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest)}(m,g,y,v):g.isSpriteMaterial?function c(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.rotation.value=g.rotation,g.map&&(m.map.value=g.map,t(g.map,m.mapTransform)),g.alphaMap&&(m.alphaMap.value=g.alphaMap,t(g.alphaMap,m.alphaMapTransform)),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest)}(m,g):g.isShadowMaterial?(m.color.value.copy(g.color),m.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}}}function EFe(n,e,t,r){let i={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function f(y,v,_,C){const b=y.value,M=v+"_"+_;if(void 0===C[M])return C[M]="number"==typeof b||"boolean"==typeof b?b:b.clone(),!0;{const D=C[M];if("number"==typeof b||"boolean"==typeof b){if(D!==b)return C[M]=b,!0}else if(!1===D.equals(b))return D.copy(b),!0}return!1}function p(y){const v={boundary:0,storage:0};return"number"==typeof y||"boolean"==typeof y?(v.boundary=4,v.storage=4):y.isVector2?(v.boundary=8,v.storage=8):y.isVector3||y.isColor?(v.boundary=16,v.storage=12):y.isVector4?(v.boundary=16,v.storage=16):y.isMatrix3?(v.boundary=48,v.storage=48):y.isMatrix4?(v.boundary=64,v.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),v}function m(y){const v=y.target;v.removeEventListener("dispose",m);const _=o.indexOf(v.__bindingPointIndex);o.splice(_,1),n.deleteBuffer(i[v.id]),delete i[v.id],delete s[v.id]}return{bind:function l(y,v){r.uniformBlockBinding(y,v.program)},update:function c(y,v){let _=i[y.id];void 0===_&&(function A(y){const v=y.uniforms;let _=0;for(let M=0,D=v.length;M<D;M++){const E=Array.isArray(v[M])?v[M]:[v[M]];for(let T=0,B=E.length;T<B;T++){const R=E[T],U=Array.isArray(R.value)?R.value:[R.value];for(let k=0,q=U.length;k<q;k++){const P=p(U[k]),G=_%16,H=G%P.boundary,ae=G+H;_+=H,0!==ae&&16-ae<P.storage&&(_+=16-ae),R.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=_,_+=P.storage}}}const b=_%16;b>0&&(_+=16-b),y.__size=_,y.__cache={}}(y),_=function u(y){const v=function h(){for(let y=0;y<a;y++)if(-1===o.indexOf(y))return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();y.__bindingPointIndex=v;const _=n.createBuffer(),C=y.__size,b=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,_),n.bufferData(n.UNIFORM_BUFFER,C,b),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,v,_),_}(y),i[y.id]=_,y.addEventListener("dispose",m)),r.updateUBOMapping(y,v.program);const b=e.render.frame;s[y.id]!==b&&(function d(y){const _=y.uniforms,C=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,i[y.id]);for(let b=0,M=_.length;b<M;b++){const D=Array.isArray(_[b])?_[b]:[_[b]];for(let E=0,T=D.length;E<T;E++){const B=D[E];if(!0===f(B,b,E,C)){const R=B.__offset,U=Array.isArray(B.value)?B.value:[B.value];let k=0;for(let q=0;q<U.length;q++){const O=U[q],P=p(O);"number"==typeof O||"boolean"==typeof O?(B.__data[0]=O,n.bufferSubData(n.UNIFORM_BUFFER,R+k,B.__data)):O.isMatrix3?(B.__data[0]=O.elements[0],B.__data[1]=O.elements[1],B.__data[2]=O.elements[2],B.__data[3]=0,B.__data[4]=O.elements[3],B.__data[5]=O.elements[4],B.__data[6]=O.elements[5],B.__data[7]=0,B.__data[8]=O.elements[6],B.__data[9]=O.elements[7],B.__data[10]=O.elements[8],B.__data[11]=0):(O.toArray(B.__data,k),k+=P.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,R,B.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(y),s[y.id]=b)},dispose:function g(){for(const y in i)n.deleteBuffer(i[y]);o=[],i={},s={}}}}class SFe{constructor(e={}){const{canvas:t=V2e(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1,reverseDepthBuffer:d=!1}=e;let f;if(this.isWebGLRenderer=!0,null!==r){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=r.getContextAttributes().alpha}else f=o;const A=new Uint32Array(4),p=new Int32Array(4);let m=null,g=null;const y=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=nh,this.toneMapping=qg,this.toneMappingExposure=1;const _=this;let C=!1,b=0,M=0,D=null,E=-1,T=null;const B=new fs,R=new fs;let U=null;const k=new Un(0);let q=0,O=t.width,P=t.height,G=1,H=null,ae=null;const ve=new fs(0,0,O,P),Q=new fs(0,0,O,P);let j=!1;const K=new xB;let oe=!1,se=!1;const le=new Nr,te=new Nr,ee=new Re,Ae=new fs,xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ge=!1;function Ee(){return null===D?G:1}let W,Be,Ce,Pe,Oe,re,J,Ue,Qe,rt,Xe,Pt,Ft,Tt,yn,st,vn,pn,_n,tn,$,Fe,Ke,Ne,ne=r;function Y(be,et){return t.getContext(be,et)}try{const be={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r171"),t.addEventListener("webglcontextlost",Dt,!1),t.addEventListener("webglcontextrestored",an,!1),t.addEventListener("webglcontextcreationerror",Vt,!1),null===ne){const et="webgl2";if(ne=Y(et,be),null===ne)throw Y(et)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(be){throw console.error("THREE.WebGLRenderer: "+be.message),be}function _t(){W=new ONe(ne),W.init(),Fe=new mFe(ne,W),Be=new TNe(ne,W,e,Fe),Ce=new pFe(ne,W),Be.reverseDepthBuffer&&d&&Ce.buffers.depth.setReversed(!0),Pe=new UNe(ne),Oe=new nFe,re=new gFe(ne,W,Ce,Oe,Be,Fe,Pe),J=new NNe(_),Ue=new RNe(_),Qe=new ETe(ne),Ke=new DNe(ne,Qe),rt=new PNe(ne,Qe,Pe,Ke),Xe=new HNe(ne,rt,Qe,Pe),_n=new kNe(ne,Be,re),st=new BNe(Oe),Pt=new tFe(_,J,Ue,W,Be,Ke,st),Ft=new xFe(_,Oe),Tt=new iFe,yn=new uFe(W),pn=new SNe(_,J,Ue,Ce,Xe,f,l),vn=new dFe(_,Xe,Be),Ne=new EFe(ne,Pe,Be,Ce),tn=new MNe(ne,W,Pe),$=new LNe(ne,W,Pe),Pe.programs=Pt.programs,_.capabilities=Be,_.extensions=W,_.properties=Oe,_.renderLists=Tt,_.shadowMap=vn,_.state=Ce,_.info=Pe}_t();const nt=new wFe(_,ne);function Dt(be){be.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function an(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const be=Pe.autoReset,et=vn.enabled,pt=vn.autoUpdate,gt=vn.needsUpdate,it=vn.type;_t(),Pe.autoReset=be,vn.enabled=et,vn.autoUpdate=pt,vn.needsUpdate=gt,vn.type=it}function Vt(be){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",be.statusMessage)}function Rn(be){const et=be.target;et.removeEventListener("dispose",Rn),function Bs(be){(function Yi(be){const et=Oe.get(be).programs;void 0!==et&&(et.forEach(function(pt){Pt.releaseProgram(pt)}),be.isShaderMaterial&&Pt.releaseShaderCache(be))})(be),Oe.remove(be)}(et)}function gi(be,et,pt){!0===be.transparent&&2===be.side&&!1===be.forceSinglePass?(be.side=1,be.needsUpdate=!0,mc(be,et,pt),be.side=0,be.needsUpdate=!0,mc(be,et,pt),be.side=2):mc(be,et,pt)}this.xr=nt,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const be=W.get("WEBGL_lose_context");be&&be.loseContext()},this.forceContextRestore=function(){const be=W.get("WEBGL_lose_context");be&&be.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(be){void 0!==be&&(G=be,this.setSize(O,P,!1))},this.getSize=function(be){return be.set(O,P)},this.setSize=function(be,et,pt=!0){nt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(O=be,P=et,t.width=Math.floor(be*G),t.height=Math.floor(et*G),!0===pt&&(t.style.width=be+"px",t.style.height=et+"px"),this.setViewport(0,0,be,et))},this.getDrawingBufferSize=function(be){return be.set(O*G,P*G).floor()},this.setDrawingBufferSize=function(be,et,pt){O=be,P=et,G=pt,t.width=Math.floor(be*pt),t.height=Math.floor(et*pt),this.setViewport(0,0,be,et)},this.getCurrentViewport=function(be){return be.copy(B)},this.getViewport=function(be){return be.copy(ve)},this.setViewport=function(be,et,pt,gt){be.isVector4?ve.set(be.x,be.y,be.z,be.w):ve.set(be,et,pt,gt),Ce.viewport(B.copy(ve).multiplyScalar(G).round())},this.getScissor=function(be){return be.copy(Q)},this.setScissor=function(be,et,pt,gt){be.isVector4?Q.set(be.x,be.y,be.z,be.w):Q.set(be,et,pt,gt),Ce.scissor(R.copy(Q).multiplyScalar(G).round())},this.getScissorTest=function(){return j},this.setScissorTest=function(be){Ce.setScissorTest(j=be)},this.setOpaqueSort=function(be){H=be},this.setTransparentSort=function(be){ae=be},this.getClearColor=function(be){return be.copy(pn.getClearColor())},this.setClearColor=function(){pn.setClearColor.apply(pn,arguments)},this.getClearAlpha=function(){return pn.getClearAlpha()},this.setClearAlpha=function(){pn.setClearAlpha.apply(pn,arguments)},this.clear=function(be=!0,et=!0,pt=!0){let gt=0;if(be){let it=!1;if(null!==D){const on=D.texture.format;it=on===CU||on===wU||on===zT}if(it){const on=D.texture.type,wn=on===tp||on===$g||on===nE||on===t1||on===yU||on===_U,kn=pn.getClearColor(),zn=pn.getClearAlpha(),pr=kn.r,Mr=kn.g,rr=kn.b;wn?(A[0]=pr,A[1]=Mr,A[2]=rr,A[3]=zn,ne.clearBufferuiv(ne.COLOR,0,A)):(p[0]=pr,p[1]=Mr,p[2]=rr,p[3]=zn,ne.clearBufferiv(ne.COLOR,0,p))}else gt|=ne.COLOR_BUFFER_BIT}et&&(gt|=ne.DEPTH_BUFFER_BIT),pt&&(gt|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(gt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Dt,!1),t.removeEventListener("webglcontextrestored",an,!1),t.removeEventListener("webglcontextcreationerror",Vt,!1),pn.dispose(),Tt.dispose(),yn.dispose(),Oe.dispose(),J.dispose(),Ue.dispose(),Xe.dispose(),Ke.dispose(),Ne.dispose(),Pt.dispose(),nt.dispose(),nt.removeEventListener("sessionstart",Bu),nt.removeEventListener("sessionend",fh),Xo.stop()},this.renderBufferDirect=function(be,et,pt,gt,it,on){null===et&&(et=xe);const wn=it.isMesh&&it.matrixWorld.determinant()<0,kn=function rf(be,et,pt,gt,it){!0!==et.isScene&&(et=xe),re.resetTextureUnits();const on=et.fog,kn=null===D?_.outputColorSpace:!0===D.isXRRenderTarget?D.texture.colorSpace:o1,zn=(gt.isMeshStandardMaterial?Ue:J).get(gt.envMap||(gt.isMeshStandardMaterial?et.environment:null)),pr=!0===gt.vertexColors&&!!pt.attributes.color&&4===pt.attributes.color.itemSize,Mr=!!pt.attributes.tangent&&(!!gt.normalMap||gt.anisotropy>0),rr=!!pt.morphAttributes.position,_i=!!pt.morphAttributes.normal,Ii=!!pt.morphAttributes.color;let so=qg;gt.toneMapped&&(null===D||!0===D.isXRRenderTarget)&&(so=_.toneMapping);const Wr=pt.morphAttributes.position||pt.morphAttributes.normal||pt.morphAttributes.color,Mi=void 0!==Wr?Wr.length:0,ir=Oe.get(gt),Yo=g.state.lights;!0!==oe||!0!==se&&be===T||st.setState(gt,be,be===T&&gt.id===E);let Fi=!1;gt.version===ir.__version?(ir.needsLights&&ir.lightsStateVersion!==Yo.state.version||ir.outputColorSpace!==kn||it.isBatchedMesh&&!1===ir.batching||!it.isBatchedMesh&&!0===ir.batching||it.isBatchedMesh&&!0===ir.batchingColor&&null===it.colorTexture||it.isBatchedMesh&&!1===ir.batchingColor&&null!==it.colorTexture||it.isInstancedMesh&&!1===ir.instancing||!it.isInstancedMesh&&!0===ir.instancing||it.isSkinnedMesh&&!1===ir.skinning||!it.isSkinnedMesh&&!0===ir.skinning||it.isInstancedMesh&&!0===ir.instancingColor&&null===it.instanceColor||it.isInstancedMesh&&!1===ir.instancingColor&&null!==it.instanceColor||it.isInstancedMesh&&!0===ir.instancingMorph&&null===it.morphTexture||it.isInstancedMesh&&!1===ir.instancingMorph&&null!==it.morphTexture||ir.envMap!==zn||!0===gt.fog&&ir.fog!==on||void 0!==ir.numClippingPlanes&&(ir.numClippingPlanes!==st.numPlanes||ir.numIntersection!==st.numIntersection)||ir.vertexAlphas!==pr||ir.vertexTangents!==Mr||ir.morphTargets!==rr||ir.morphNormals!==_i||ir.morphColors!==Ii||ir.toneMapping!==so||ir.morphTargetsCount!==Mi)&&(Fi=!0):(Fi=!0,ir.__version=gt.version);let Xc=ir.currentProgram;!0===Fi&&(Xc=mc(gt,et,it));let gl=!1,Ba=!1,Na=!1;const Ns=Xc.getUniforms(),Ql=ir.uniforms;if(Ce.useProgram(Xc.program)&&(gl=!0,Ba=!0,Na=!0),gt.id!==E&&(E=gt.id,Ba=!0),gl||T!==be){Ce.buffers.depth.getReversed()?(le.copy(be.projectionMatrix),function z2e(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}(le),function G2e(n){const e=n.elements;-1===e[11]?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=1-e[14])}(le),Ns.setValue(ne,"projectionMatrix",le)):Ns.setValue(ne,"projectionMatrix",be.projectionMatrix),Ns.setValue(ne,"viewMatrix",be.matrixWorldInverse);const ml=Ns.map.cameraPosition;void 0!==ml&&ml.setValue(ne,ee.setFromMatrixPosition(be.matrixWorld)),Be.logarithmicDepthBuffer&&Ns.setValue(ne,"logDepthBufFC",2/(Math.log(be.far+1)/Math.LN2)),(gt.isMeshPhongMaterial||gt.isMeshToonMaterial||gt.isMeshLambertMaterial||gt.isMeshBasicMaterial||gt.isMeshStandardMaterial||gt.isShaderMaterial)&&Ns.setValue(ne,"isOrthographic",!0===be.isOrthographicCamera),T!==be&&(T=be,Ba=!0,Na=!0)}if(it.isSkinnedMesh){Ns.setOptional(ne,it,"bindMatrix"),Ns.setOptional(ne,it,"bindMatrixInverse");const Ia=it.skeleton;Ia&&(null===Ia.boneTexture&&Ia.computeBoneTexture(),Ns.setValue(ne,"boneTexture",Ia.boneTexture,re))}it.isBatchedMesh&&(Ns.setOptional(ne,it,"batchingTexture"),Ns.setValue(ne,"batchingTexture",it._matricesTexture,re),Ns.setOptional(ne,it,"batchingIdTexture"),Ns.setValue(ne,"batchingIdTexture",it._indirectTexture,re),Ns.setOptional(ne,it,"batchingColorTexture"),null!==it._colorsTexture&&Ns.setValue(ne,"batchingColorTexture",it._colorsTexture,re));const vc=pt.morphAttributes;if((void 0!==vc.position||void 0!==vc.normal||void 0!==vc.color)&&_n.update(it,pt,Xc),(Ba||ir.receiveShadow!==it.receiveShadow)&&(ir.receiveShadow=it.receiveShadow,Ns.setValue(ne,"receiveShadow",it.receiveShadow)),gt.isMeshGouraudMaterial&&null!==gt.envMap&&(Ql.envMap.value=zn,Ql.flipEnvMap.value=zn.isCubeTexture&&!1===zn.isRenderTargetTexture?-1:1),gt.isMeshStandardMaterial&&null===gt.envMap&&null!==et.environment&&(Ql.envMapIntensity.value=et.environmentIntensity),Ba&&(Ns.setValue(ne,"toneMappingExposure",_.toneMappingExposure),ir.needsLights&&function Fu(be,et){be.ambientLightColor.needsUpdate=et,be.lightProbe.needsUpdate=et,be.directionalLights.needsUpdate=et,be.directionalLightShadows.needsUpdate=et,be.pointLights.needsUpdate=et,be.pointLightShadows.needsUpdate=et,be.spotLights.needsUpdate=et,be.spotLightShadows.needsUpdate=et,be.rectAreaLights.needsUpdate=et,be.hemisphereLights.needsUpdate=et}(Ql,Na),on&&!0===gt.fog&&Ft.refreshFogUniforms(Ql,on),Ft.refreshMaterialUniforms(Ql,gt,G,P,g.state.transmissionRenderTarget[be.id]),cN.upload(ne,Nu(ir),Ql,re)),gt.isShaderMaterial&&!0===gt.uniformsNeedUpdate&&(cN.upload(ne,Nu(ir),Ql,re),gt.uniformsNeedUpdate=!1),gt.isSpriteMaterial&&Ns.setValue(ne,"center",it.center),Ns.setValue(ne,"modelViewMatrix",it.modelViewMatrix),Ns.setValue(ne,"normalMatrix",it.normalMatrix),Ns.setValue(ne,"modelMatrix",it.matrixWorld),gt.isShaderMaterial||gt.isRawShaderMaterial){const Ia=gt.uniformsGroups;for(let ml=0,Im=Ia.length;ml<Im;ml++){const Ad=Ia[ml];Ne.update(Ad,Xc),Ne.bind(Ad,Xc)}}return Xc}(be,et,pt,gt,it);Ce.setMaterial(gt,wn);let zn=pt.index,pr=1;if(!0===gt.wireframe){if(zn=rt.getWireframeAttribute(pt),void 0===zn)return;pr=2}const Mr=pt.drawRange,rr=pt.attributes.position;let _i=Mr.start*pr,Ii=(Mr.start+Mr.count)*pr;null!==on&&(_i=Math.max(_i,on.start*pr),Ii=Math.min(Ii,(on.start+on.count)*pr)),null!==zn?(_i=Math.max(_i,0),Ii=Math.min(Ii,zn.count)):null!=rr&&(_i=Math.max(_i,0),Ii=Math.min(Ii,rr.count));const so=Ii-_i;if(so<0||so===1/0)return;Ke.setup(it,gt,kn,pt,zn);let Wr,Mi=tn;if(null!==zn&&(Wr=Qe.get(zn),Mi=$,Mi.setIndex(Wr)),it.isMesh)!0===gt.wireframe?(Ce.setLineWidth(gt.wireframeLinewidth*Ee()),Mi.setMode(ne.LINES)):Mi.setMode(ne.TRIANGLES);else if(it.isLine){let ir=gt.linewidth;void 0===ir&&(ir=1),Ce.setLineWidth(ir*Ee()),Mi.setMode(it.isLineSegments?ne.LINES:it.isLineLoop?ne.LINE_LOOP:ne.LINE_STRIP)}else it.isPoints?Mi.setMode(ne.POINTS):it.isSprite&&Mi.setMode(ne.TRIANGLES);if(it.isBatchedMesh)if(null!==it._multiDrawInstances)Mi.renderMultiDrawInstances(it._multiDrawStarts,it._multiDrawCounts,it._multiDrawCount,it._multiDrawInstances);else if(W.get("WEBGL_multi_draw"))Mi.renderMultiDraw(it._multiDrawStarts,it._multiDrawCounts,it._multiDrawCount);else{const ir=it._multiDrawStarts,Yo=it._multiDrawCounts,Fi=it._multiDrawCount,Xc=zn?Qe.get(zn).bytesPerElement:1,gl=Oe.get(gt).currentProgram.getUniforms();for(let Ba=0;Ba<Fi;Ba++)gl.setValue(ne,"_gl_DrawID",Ba),Mi.render(ir[Ba]/Xc,Yo[Ba])}else if(it.isInstancedMesh)Mi.renderInstances(_i,so,it.count);else if(pt.isInstancedBufferGeometry){const Yo=Math.min(pt.instanceCount,void 0!==pt._maxInstanceCount?pt._maxInstanceCount:1/0);Mi.renderInstances(_i,so,Yo)}else Mi.render(_i,so)},this.compile=function(be,et,pt=null){null===pt&&(pt=be),g=yn.get(pt),g.init(et),v.push(g),pt.traverseVisible(function(it){it.isLight&&it.layers.test(et.layers)&&(g.pushLight(it),it.castShadow&&g.pushShadow(it))}),be!==pt&&be.traverseVisible(function(it){it.isLight&&it.layers.test(et.layers)&&(g.pushLight(it),it.castShadow&&g.pushShadow(it))}),g.setupLights();const gt=new Set;return be.traverse(function(it){if(!(it.isMesh||it.isPoints||it.isLine||it.isSprite))return;const on=it.material;if(on)if(Array.isArray(on))for(let wn=0;wn<on.length;wn++){const kn=on[wn];gi(kn,pt,it),gt.add(kn)}else gi(on,pt,it),gt.add(on)}),v.pop(),g=null,gt},this.compileAsync=function(be,et,pt=null){const gt=this.compile(be,et,pt);return new Promise(it=>{function on(){gt.forEach(function(wn){Oe.get(wn).currentProgram.isReady()&&gt.delete(wn)}),0!==gt.size?setTimeout(on,10):it(be)}null!==W.get("KHR_parallel_shader_compile")?on():setTimeout(on,10)})};let Ko=null;function Bu(){Xo.stop()}function fh(){Xo.start()}const Xo=new pJ;function Po(be,et,pt,gt){if(!1===be.visible)return;if(be.layers.test(et.layers))if(be.isGroup)pt=be.renderOrder;else if(be.isLOD)!0===be.autoUpdate&&be.update(et);else if(be.isLight)g.pushLight(be),be.castShadow&&g.pushShadow(be);else if(be.isSprite){if(!be.frustumCulled||K.intersectsSprite(be)){gt&&Ae.setFromMatrixPosition(be.matrixWorld).applyMatrix4(te);const wn=Xe.update(be),kn=be.material;kn.visible&&m.push(be,wn,kn,pt,Ae.z,null)}}else if((be.isMesh||be.isLine||be.isPoints)&&(!be.frustumCulled||K.intersectsObject(be))){const wn=Xe.update(be),kn=be.material;if(gt&&(void 0!==be.boundingSphere?(null===be.boundingSphere&&be.computeBoundingSphere(),Ae.copy(be.boundingSphere.center)):(null===wn.boundingSphere&&wn.computeBoundingSphere(),Ae.copy(wn.boundingSphere.center)),Ae.applyMatrix4(be.matrixWorld).applyMatrix4(te)),Array.isArray(kn)){const zn=wn.groups;for(let pr=0,Mr=zn.length;pr<Mr;pr++){const rr=zn[pr],_i=kn[rr.materialIndex];_i&&_i.visible&&m.push(be,wn,_i,pt,Ae.z,rr)}}else kn.visible&&m.push(be,wn,kn,pt,Ae.z,null)}const on=be.children;for(let wn=0,kn=on.length;wn<kn;wn++)Po(on[wn],et,pt,gt)}function Lo(be,et,pt,gt){const it=be.opaque,on=be.transmissive,wn=be.transparent;g.setupLightsView(pt),!0===oe&&st.setGlobalState(_.clippingPlanes,pt),gt&&Ce.viewport(B.copy(gt)),it.length>0&&dd(it,et,pt),on.length>0&&dd(on,et,pt),wn.length>0&&dd(wn,et,pt),Ce.buffers.depth.setTest(!0),Ce.buffers.depth.setMask(!0),Ce.buffers.color.setMask(!0),Ce.setPolygonOffset(!1)}function gc(be,et,pt,gt){if(null!==(!0===pt.isScene?pt.overrideMaterial:null))return;void 0===g.state.transmissionRenderTarget[gt.id]&&(g.state.transmissionRenderTarget[gt.id]=new $d(1,1,{generateMipmaps:!0,type:W.has("EXT_color_buffer_half_float")||W.has("EXT_color_buffer_float")?rE:tp,minFilter:ep,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ss.workingColorSpace}));const on=g.state.transmissionRenderTarget[gt.id],wn=gt.viewport||B;on.setSize(wn.z,wn.w);const kn=_.getRenderTarget();_.setRenderTarget(on),_.getClearColor(k),q=_.getClearAlpha(),q<1&&_.setClearColor(16777215,.5),_.clear(),ge&&pn.render(pt);const zn=_.toneMapping;_.toneMapping=qg;const pr=gt.viewport;if(void 0!==gt.viewport&&(gt.viewport=void 0),g.setupLightsView(gt),!0===oe&&st.setGlobalState(_.clippingPlanes,gt),dd(be,pt,gt),re.updateMultisampleRenderTarget(on),re.updateRenderTargetMipmap(on),!1===W.has("WEBGL_multisampled_render_to_texture")){let Mr=!1;for(let rr=0,_i=et.length;rr<_i;rr++){const Ii=et[rr],so=Ii.object,Wr=Ii.geometry,Mi=Ii.material,ir=Ii.group;if(2===Mi.side&&so.layers.test(gt.layers)){const Yo=Mi.side;Mi.side=1,Mi.needsUpdate=!0,nf(so,pt,gt,Wr,Mi,ir),Mi.side=Yo,Mi.needsUpdate=!0,Mr=!0}}!0===Mr&&(re.updateMultisampleRenderTarget(on),re.updateRenderTargetMipmap(on))}_.setRenderTarget(kn),_.setClearColor(k,q),void 0!==pr&&(gt.viewport=pr),_.toneMapping=zn}function dd(be,et,pt){const gt=!0===et.isScene?et.overrideMaterial:null;for(let it=0,on=be.length;it<on;it++){const wn=be[it],kn=wn.object,zn=wn.geometry,pr=null===gt?wn.material:gt,Mr=wn.group;kn.layers.test(pt.layers)&&nf(kn,et,pt,zn,pr,Mr)}}function nf(be,et,pt,gt,it,on){be.onBeforeRender(_,et,pt,gt,it,on),be.modelViewMatrix.multiplyMatrices(pt.matrixWorldInverse,be.matrixWorld),be.normalMatrix.getNormalMatrix(be.modelViewMatrix),it.onBeforeRender(_,et,pt,gt,be,on),!0===it.transparent&&2===it.side&&!1===it.forceSinglePass?(it.side=1,it.needsUpdate=!0,_.renderBufferDirect(pt,et,gt,it,be,on),it.side=0,it.needsUpdate=!0,_.renderBufferDirect(pt,et,gt,it,be,on),it.side=2):_.renderBufferDirect(pt,et,gt,it,be,on),be.onAfterRender(_,et,pt,gt,it,on)}function mc(be,et,pt){!0!==et.isScene&&(et=xe);const gt=Oe.get(be),it=g.state.lights,wn=it.state.version,kn=Pt.getParameters(be,it.state,g.state.shadowsArray,et,pt),zn=Pt.getProgramCacheKey(kn);let pr=gt.programs;gt.environment=be.isMeshStandardMaterial?et.environment:null,gt.fog=et.fog,gt.envMap=(be.isMeshStandardMaterial?Ue:J).get(be.envMap||gt.environment),gt.envMapRotation=null!==gt.environment&&null===be.envMap?et.environmentRotation:be.envMapRotation,void 0===pr&&(be.addEventListener("dispose",Rn),pr=new Map,gt.programs=pr);let Mr=pr.get(zn);if(void 0!==Mr){if(gt.currentProgram===Mr&&gt.lightsStateVersion===wn)return Iu(be,kn),Mr}else kn.uniforms=Pt.getUniforms(be),be.onBeforeCompile(kn,_),Mr=Pt.acquireProgram(kn,zn),pr.set(zn,Mr),gt.uniforms=kn.uniforms;const rr=gt.uniforms;return(!be.isShaderMaterial&&!be.isRawShaderMaterial||!0===be.clipping)&&(rr.clippingPlanes=st.uniform),Iu(be,kn),gt.needsLights=function sf(be){return be.isMeshLambertMaterial||be.isMeshToonMaterial||be.isMeshPhongMaterial||be.isMeshStandardMaterial||be.isShadowMaterial||be.isShaderMaterial&&!0===be.lights}(be),gt.lightsStateVersion=wn,gt.needsLights&&(rr.ambientLightColor.value=it.state.ambient,rr.lightProbe.value=it.state.probe,rr.directionalLights.value=it.state.directional,rr.directionalLightShadows.value=it.state.directionalShadow,rr.spotLights.value=it.state.spot,rr.spotLightShadows.value=it.state.spotShadow,rr.rectAreaLights.value=it.state.rectArea,rr.ltc_1.value=it.state.rectAreaLTC1,rr.ltc_2.value=it.state.rectAreaLTC2,rr.pointLights.value=it.state.point,rr.pointLightShadows.value=it.state.pointShadow,rr.hemisphereLights.value=it.state.hemi,rr.directionalShadowMap.value=it.state.directionalShadowMap,rr.directionalShadowMatrix.value=it.state.directionalShadowMatrix,rr.spotShadowMap.value=it.state.spotShadowMap,rr.spotLightMatrix.value=it.state.spotLightMatrix,rr.spotLightMap.value=it.state.spotLightMap,rr.pointShadowMap.value=it.state.pointShadowMap,rr.pointShadowMatrix.value=it.state.pointShadowMatrix),gt.currentProgram=Mr,gt.uniformsList=null,Mr}function Nu(be){if(null===be.uniformsList){const et=be.currentProgram.getUniforms();be.uniformsList=cN.seqWithValue(et.seq,be.uniforms)}return be.uniformsList}function Iu(be,et){const pt=Oe.get(be);pt.outputColorSpace=et.outputColorSpace,pt.batching=et.batching,pt.batchingColor=et.batchingColor,pt.instancing=et.instancing,pt.instancingColor=et.instancingColor,pt.instancingMorph=et.instancingMorph,pt.skinning=et.skinning,pt.morphTargets=et.morphTargets,pt.morphNormals=et.morphNormals,pt.morphColors=et.morphColors,pt.morphTargetsCount=et.morphTargetsCount,pt.numClippingPlanes=et.numClippingPlanes,pt.numIntersection=et.numClipIntersection,pt.vertexAlphas=et.vertexAlphas,pt.vertexTangents=et.vertexTangents,pt.toneMapping=et.toneMapping}Xo.setAnimationLoop(function Jn(be){Ko&&Ko(be)}),typeof self<"u"&&Xo.setContext(self),this.setAnimationLoop=function(be){Ko=be,nt.setAnimationLoop(be),null===be?Xo.stop():Xo.start()},nt.addEventListener("sessionstart",Bu),nt.addEventListener("sessionend",fh),this.render=function(be,et){if(void 0!==et&&!0!==et.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===C)return;if(!0===be.matrixWorldAutoUpdate&&be.updateMatrixWorld(),null===et.parent&&!0===et.matrixWorldAutoUpdate&&et.updateMatrixWorld(),!0===nt.enabled&&!0===nt.isPresenting&&(!0===nt.cameraAutoUpdate&&nt.updateCamera(et),et=nt.getCamera()),!0===be.isScene&&be.onBeforeRender(_,be,et,D),g=yn.get(be,v.length),g.init(et),v.push(g),te.multiplyMatrices(et.projectionMatrix,et.matrixWorldInverse),K.setFromProjectionMatrix(te),se=this.localClippingEnabled,oe=st.init(this.clippingPlanes,se),m=Tt.get(be,y.length),m.init(),y.push(m),!0===nt.enabled&&!0===nt.isPresenting){const on=_.xr.getDepthSensingMesh();null!==on&&Po(on,et,-1/0,_.sortObjects)}Po(be,et,0,_.sortObjects),m.finish(),!0===_.sortObjects&&m.sort(H,ae),ge=!1===nt.enabled||!1===nt.isPresenting||!1===nt.hasDepthSensing(),ge&&pn.addToRenderList(m,be),this.info.render.frame++,!0===oe&&st.beginShadows(),vn.render(g.state.shadowsArray,be,et),!0===oe&&st.endShadows(),!0===this.info.autoReset&&this.info.reset();const gt=m.opaque,it=m.transmissive;if(g.setupLights(),et.isArrayCamera){const on=et.cameras;if(it.length>0)for(let wn=0,kn=on.length;wn<kn;wn++)gc(gt,it,be,on[wn]);ge&&pn.render(be);for(let wn=0,kn=on.length;wn<kn;wn++){const zn=on[wn];Lo(m,be,zn,zn.viewport)}}else it.length>0&&gc(gt,it,be,et),ge&&pn.render(be),Lo(m,be,et);null!==D&&(re.updateMultisampleRenderTarget(D),re.updateRenderTargetMipmap(D)),!0===be.isScene&&be.onAfterRender(_,be,et),Ke.resetDefaultState(),E=-1,T=null,v.pop(),v.length>0?(g=v[v.length-1],!0===oe&&st.setGlobalState(_.clippingPlanes,g.state.camera)):g=null,y.pop(),m=y.length>0?y[y.length-1]:null},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(be,et,pt){Oe.get(be.texture).__webglTexture=et,Oe.get(be.depthTexture).__webglTexture=pt;const gt=Oe.get(be);gt.__hasExternalTextures=!0,gt.__autoAllocateDepthBuffer=void 0===pt,gt.__autoAllocateDepthBuffer||!0===W.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),gt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(be,et){const pt=Oe.get(be);pt.__webglFramebuffer=et,pt.__useDefaultFramebuffer=void 0===et},this.setRenderTarget=function(be,et=0,pt=0){D=be,b=et,M=pt;let gt=!0,it=null,on=!1,wn=!1;if(be){const zn=Oe.get(be);if(void 0!==zn.__useDefaultFramebuffer)Ce.bindFramebuffer(ne.FRAMEBUFFER,null),gt=!1;else if(void 0===zn.__webglFramebuffer)re.setupRenderTarget(be);else if(zn.__hasExternalTextures)re.rebindTextures(be,Oe.get(be.texture).__webglTexture,Oe.get(be.depthTexture).__webglTexture);else if(be.depthBuffer){const rr=be.depthTexture;if(zn.__boundDepthTexture!==rr){if(null!==rr&&Oe.has(rr)&&(be.width!==rr.image.width||be.height!==rr.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");re.setupDepthRenderbuffer(be)}}const pr=be.texture;(pr.isData3DTexture||pr.isDataArrayTexture||pr.isCompressedArrayTexture)&&(wn=!0);const Mr=Oe.get(be).__webglFramebuffer;be.isWebGLCubeRenderTarget?(it=Array.isArray(Mr[et])?Mr[et][pt]:Mr[et],on=!0):it=be.samples>0&&!1===re.useMultisampledRTT(be)?Oe.get(be).__webglMultisampledFramebuffer:Array.isArray(Mr)?Mr[pt]:Mr,B.copy(be.viewport),R.copy(be.scissor),U=be.scissorTest}else B.copy(ve).multiplyScalar(G).floor(),R.copy(Q).multiplyScalar(G).floor(),U=j;if(Ce.bindFramebuffer(ne.FRAMEBUFFER,it)&&gt&&Ce.drawBuffers(be,it),Ce.viewport(B),Ce.scissor(R),Ce.setScissorTest(U),on){const zn=Oe.get(be.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+et,zn.__webglTexture,pt)}else if(wn){const zn=Oe.get(be.texture);ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,zn.__webglTexture,pt||0,et||0)}E=-1},this.readRenderTargetPixels=function(be,et,pt,gt,it,on,wn){if(!be||!be.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let kn=Oe.get(be).__webglFramebuffer;if(be.isWebGLCubeRenderTarget&&void 0!==wn&&(kn=kn[wn]),kn){Ce.bindFramebuffer(ne.FRAMEBUFFER,kn);try{const zn=be.texture,pr=zn.format,Mr=zn.type;if(!Be.textureFormatReadable(pr))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!Be.textureTypeReadable(Mr))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");et>=0&&et<=be.width-gt&&pt>=0&&pt<=be.height-it&&ne.readPixels(et,pt,gt,it,Fe.convert(pr),Fe.convert(Mr),on)}finally{const zn=null!==D?Oe.get(D).__webglFramebuffer:null;Ce.bindFramebuffer(ne.FRAMEBUFFER,zn)}}},this.readRenderTargetPixelsAsync=function(){var be=(0,yt.A)(function*(et,pt,gt,it,on,wn,kn){if(!et||!et.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let zn=Oe.get(et).__webglFramebuffer;if(et.isWebGLCubeRenderTarget&&void 0!==kn&&(zn=zn[kn]),zn){const pr=et.texture,Mr=pr.format,rr=pr.type;if(!Be.textureFormatReadable(Mr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Be.textureTypeReadable(rr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(pt>=0&&pt<=et.width-it&&gt>=0&&gt<=et.height-on){Ce.bindFramebuffer(ne.FRAMEBUFFER,zn);const _i=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,_i),ne.bufferData(ne.PIXEL_PACK_BUFFER,wn.byteLength,ne.STREAM_READ),ne.readPixels(pt,gt,it,on,Fe.convert(Mr),Fe.convert(rr),0);const Ii=null!==D?Oe.get(D).__webglFramebuffer:null;Ce.bindFramebuffer(ne.FRAMEBUFFER,Ii);const so=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),yield function Q2e(n,e,t){return new Promise(function(r,i){setTimeout(function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:r()}},t)})}(ne,so,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,_i),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,wn),ne.deleteBuffer(_i),ne.deleteSync(so),wn}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}});return function(et,pt,gt,it,on,wn,kn){return be.apply(this,arguments)}}(),this.copyFramebufferToTexture=function(be,et=null,pt=0){!0!==be.isTexture&&(u1("WebGLRenderer: copyFramebufferToTexture function signature has changed."),et=arguments[0]||null,be=arguments[1]);const gt=Math.pow(2,-pt),it=Math.floor(be.image.width*gt),on=Math.floor(be.image.height*gt),wn=null!==et?et.x:0,kn=null!==et?et.y:0;re.setTexture2D(be,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,pt,0,0,wn,kn,it,on),Ce.unbindTexture()};const Np=ne.createFramebuffer(),Nm=ne.createFramebuffer();this.copyTextureToTexture=function(be,et,pt=null,gt=null,it=0,on=null){let wn,kn,zn,pr,Mr,rr,_i,Ii,so;!0!==be.isTexture&&(u1("WebGLRenderer: copyTextureToTexture function signature has changed."),gt=arguments[0]||null,be=arguments[1],et=arguments[2],on=arguments[3]||0,pt=null),null===on&&(0!==it?(u1("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),on=it,it=0):on=0);const Wr=be.isCompressedTexture?be.mipmaps[on]:be.image;if(null!==pt)wn=pt.max.x-pt.min.x,kn=pt.max.y-pt.min.y,zn=pt.isBox3?pt.max.z-pt.min.z:1,pr=pt.min.x,Mr=pt.min.y,rr=pt.isBox3?pt.min.z:0;else{const vc=Math.pow(2,-it);wn=Math.floor(Wr.width*vc),kn=Math.floor(Wr.height*vc),zn=be.isDataArrayTexture?Wr.depth:be.isData3DTexture?Math.floor(Wr.depth*vc):1,pr=0,Mr=0,rr=0}null!==gt?(_i=gt.x,Ii=gt.y,so=gt.z):(_i=0,Ii=0,so=0);const Mi=Fe.convert(et.format),ir=Fe.convert(et.type);let Yo;et.isData3DTexture?(re.setTexture3D(et,0),Yo=ne.TEXTURE_3D):et.isDataArrayTexture||et.isCompressedArrayTexture?(re.setTexture2DArray(et,0),Yo=ne.TEXTURE_2D_ARRAY):(re.setTexture2D(et,0),Yo=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,et.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,et.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,et.unpackAlignment);const Fi=ne.getParameter(ne.UNPACK_ROW_LENGTH),Xc=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),gl=ne.getParameter(ne.UNPACK_SKIP_PIXELS),Ba=ne.getParameter(ne.UNPACK_SKIP_ROWS),Na=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Wr.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Wr.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,pr),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Mr),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,rr);const Ns=be.isDataArrayTexture||be.isData3DTexture,Ql=et.isDataArrayTexture||et.isData3DTexture;if(be.isDepthTexture){const vc=Oe.get(be),Ia=Oe.get(et),ml=Oe.get(vc.__renderTarget),Im=Oe.get(Ia.__renderTarget);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,ml.__webglFramebuffer),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Im.__webglFramebuffer);for(let Ad=0;Ad<zn;Ad++)Ns&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Oe.get(be).__webglTexture,it,rr+Ad),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Oe.get(et).__webglTexture,on,so+Ad)),ne.blitFramebuffer(pr,Mr,wn,kn,_i,Ii,wn,kn,ne.DEPTH_BUFFER_BIT,ne.NEAREST);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(0!==it||be.isRenderTargetTexture||Oe.has(be)){const vc=Oe.get(be),Ia=Oe.get(et);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,Np),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Nm);for(let ml=0;ml<zn;ml++)Ns?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,vc.__webglTexture,it,rr+ml):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,vc.__webglTexture,it),Ql?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Ia.__webglTexture,on,so+ml):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Ia.__webglTexture,on),0!==it?ne.blitFramebuffer(pr,Mr,wn,kn,_i,Ii,wn,kn,ne.COLOR_BUFFER_BIT,ne.NEAREST):Ql?ne.copyTexSubImage3D(Yo,on,_i,Ii,so+ml,pr,Mr,wn,kn):ne.copyTexSubImage2D(Yo,on,_i,Ii,pr,Mr,wn,kn);Ce.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Ce.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else Ql?be.isDataTexture||be.isData3DTexture?ne.texSubImage3D(Yo,on,_i,Ii,so,wn,kn,zn,Mi,ir,Wr.data):et.isCompressedArrayTexture?ne.compressedTexSubImage3D(Yo,on,_i,Ii,so,wn,kn,zn,Mi,Wr.data):ne.texSubImage3D(Yo,on,_i,Ii,so,wn,kn,zn,Mi,ir,Wr):be.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,on,_i,Ii,wn,kn,Mi,ir,Wr.data):be.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,on,_i,Ii,Wr.width,Wr.height,Mi,Wr.data):ne.texSubImage2D(ne.TEXTURE_2D,on,_i,Ii,wn,kn,Mi,ir,Wr);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Fi),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Xc),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,gl),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Ba),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Na),0===on&&et.generateMipmaps&&ne.generateMipmap(Yo),Ce.unbindTexture()},this.copyTextureToTexture3D=function(be,et,pt=null,gt=null,it=0){return!0!==be.isTexture&&(u1("WebGLRenderer: copyTextureToTexture3D function signature has changed."),pt=arguments[0]||null,gt=arguments[1]||null,be=arguments[2],et=arguments[3],it=arguments[4]||0),u1('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(be,et,pt,gt,it)},this.initRenderTarget=function(be){void 0===Oe.get(be).__webglFramebuffer&&re.setupRenderTarget(be)},this.initTexture=function(be){be.isCubeTexture?re.setTextureCube(be,0):be.isData3DTexture?re.setTexture3D(be,0):be.isDataArrayTexture||be.isCompressedArrayTexture?re.setTexture2DArray(be,0):re.setTexture2D(be,0),Ce.unbindTexture()},this.resetState=function(){b=0,M=0,D=null,Ce.reset(),Ke.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return np}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=ss._getDrawingBufferColorSpace(e),t.unpackColorSpace=ss._getUnpackColorSpace()}}var hN=we(3443);let Sk=(()=>{class n{constructor(t){this.router=t}reloadPage(){window.location.reload()}reloadCurrentRoute(){var t=this;return(0,yt.A)(function*(){const r=t.router.url;return yield t.router.navigateByUrl("/",{skipLocationChange:!0}),t.router.navigateByUrl(r)})()}reloadWithQueryParamsRefresh(){const t=window.location.href;window.location.href=t}static{this.\u0275fac=function(r){return new(r||n)(Wt(Rc))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const DFe=["rendererContainer"];let MFe=(()=>{class n{constructor(t){this.pageRestartService=t,this.disks=[],this.towers=[],this.numDisks=3,this.moves=[],this.currentMove=0,this.isAnimating=!1}restart(){this.pageRestartService.reloadPage()}ngOnInit(){}ngAfterViewInit(){this.initScene(),this.createTowers(),this.createDisks(),this.solveHanoi(this.numDisks,0,2,1),this.animate()}initScene(){this.scene=new qX,this.camera=new Fl(75,this.rendererContainer.nativeElement.offsetWidth/this.rendererContainer.nativeElement.offsetHeight,.1,1e3),this.renderer=new SFe({antialias:!0}),this.renderer.setSize(this.rendererContainer.nativeElement.offsetWidth,this.rendererContainer.nativeElement.offsetHeight),this.rendererContainer.nativeElement.appendChild(this.renderer.domElement),this.controls=new fTe(this.camera,this.renderer.domElement),this.camera.position.set(10,10,10),this.controls.update();const t=new QY(4210752);this.scene.add(t);const r=new VY(16777215,.5);r.position.set(1,1,1).normalize(),this.scene.add(r)}createTowers(){const t=new h0(.5,.5,5,32),r=new hp({color:8421504});for(let i=0;i<3;i++){const s=new aa(t,r);s.position.set(4*i-4,2.5,0),this.towers.push(s),this.scene.add(s)}}createDisks(){for(let t=0;t<this.numDisks;t++){const r=new h0(1-.1*t,1-.1*t,.5,32),i=new hp({color:(new Un).setHSL(t/this.numDisks,1,.5)}),s=new aa(r,i);s.position.set(-4,.5*t+.25,0),this.disks.push(s),this.scene.add(s)}}solveHanoi(t,r,i,s){t>0&&(this.solveHanoi(t-1,r,s,i),this.moves.push({from:r,to:i}),this.solveHanoi(t-1,s,i,r))}animateMove(){if(this.currentMove<this.moves.length&&!this.isAnimating){this.isAnimating=!0;const t=this.moves[this.currentMove],r=this.disks.filter(i=>Math.abs(i.position.x-this.towers[t.from].position.x)<.1).sort((i,s)=>s.position.y-i.position.y);if(r.length>0){const i=r[0],s=this.towers[t.to].position.y+.25+.5*this.disks.filter(o=>Math.abs(o.position.x-this.towers[t.to].position.x)<.1).length;new hN.Tween(i.position).to({y:i.position.y+3},500).onComplete(()=>{new hN.Tween(i.position).to({x:this.towers[t.to].position.x},500).onComplete(()=>{new hN.Tween(i.position).to({y:s},500).onComplete(()=>{this.currentMove++,this.isAnimating=!1}).start()}).start()}).start()}else this.currentMove++,this.isAnimating=!1}}animate(){requestAnimationFrame(this.animate.bind(this)),hN.update(),this.controls.update(),this.currentMove<this.moves.length&&this.animateMove(),this.renderer.render(this.scene,this.camera)}static{this.\u0275fac=function(r){return new(r||n)(At(Sk))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-hanoi3d"]],viewQuery:function(r,i){if(1&r&&$i(DFe,5),2&r){let s;lr(s=cr())&&(i.rendererContainer=s.first)}},decls:13,vars:0,consts:[["rendererContainer",""],["align","center"],[2,"width","300px","height","300px"],[3,"click"],["align","right"],["routerLink","/StableReleases"]],template:function(r,i){if(1&r){const s=bs();fe(0,"div",1)(1,"h1"),Me(2,"[HANOI - 3D]"),ce(),lt(3,"hr")(4,"div",2,0)(6,"hr"),fe(7,"button",3),jt("click",function(){return Ln(s),Qn(i.restart())}),Me(8,"[RESTART]"),ce(),lt(9,"hr"),fe(10,"div",4)(11,"a",5),Me(12,"[Volver al Menu]"),ce()()()}},dependencies:[xs],styles:["#canvas-container[_ngcontent-%COMP%]{width:300px;height:300px}"]})}}return n})(),TFe=(()=>{class n{get _baseUrlNetCore(){return this.__baseUrlNetCore}get _baseUrlNodeJs(){return this.__baseUrlNodeJs}constructor(t,r){this.http=t,this.configService=r,this.HTTPOptions_Text={headers:new Nl({Accept:"application/text"}),responseType:"text"},this.HTTPOptions_JSON={headers:new Nl({"Content-Type":"application/json"}),responseType:"text"},this.__baseUrlNetCore="",this.__baseUrlNodeJs="",this.__baseUrlSpringBoot="",this.__baseUrlNetCore=this.configService.getConfigValue("baseUrlNetCore"),this.__baseUrlNodeJs=this.configService.getConfigValue("baseUrlNodeJs"),this.__baseUrlSpringBoot=this.configService.getConfigValue("baseUrlSpringBoot"),console.log("baseUrlNetCore     : "+this.__baseUrlNetCore),console.log("baseUrlNodeJs      : "+this.__baseUrlNodeJs),console.log("baseUrlSpringBoot  : "+this.__baseUrlSpringBoot)}_GetSudoku(){return this.http.get(`${this.__baseUrlNetCore}Demos/Sudoku_Generate_CPP`,this.HTTPOptions_Text)}_GetSudoku_NodeJS(){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Generate_NodeJS`,this.HTTPOptions_JSON)}_SolveSudoku(t){return this.http.get(`${this.__baseUrlNetCore}Demos/Sudoku_Solve_CPP?p_matrix=${t}`,this.HTTPOptions_Text)}_SolveSudoku_NodeJS(t){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Solve_NodeJS?p_matrix=${t}`,this.HTTPOptions_Text)}uploadSudoku(t){const r=new FormData;r.append("file",t);let i=`${this.__baseUrlNetCore}demos/Sudoku_Upload_File`;console.log("[SUDOKU] - (UPLOADING FILE) url: "+i);const s=new qA("POST",i,r,{reportProgress:!0,responseType:"text"});return this.http.request(s)}static{this.\u0275fac=function(r){return new(r||n)(Wt(kv),Wt(zg))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var BFe=we(6990),NFe=we.n(BFe),to=we(9391),Os=Uint8Array,Vc=Uint16Array,ME=Int32Array,V1=new Os([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Q1=new Os([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),TE=new Os([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jJ=function(n,e){for(var t=new Vc(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];var i=new ME(t[30]);for(r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},qJ=jJ(V1,2),Dk=qJ.b,fN=qJ.r;Dk[28]=258,fN[258]=28;for(var WJ=jJ(Q1,0),$J=WJ.b,Mk=WJ.r,BE=new Vc(32768),_o=0;_o<32768;++_o){var om=(43690&_o)>>1|(21845&_o)<<1;BE[_o]=((65280&(om=(61680&(om=(52428&om)>>2|(13107&om)<<2))>>4|(3855&om)<<4))>>8|(255&om)<<8)>>1}var Vh=function(n,e,t){for(var r=n.length,i=0,s=new Vc(e);i<r;++i)n[i]&&++s[n[i]-1];var a,o=new Vc(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;if(t){a=new Vc(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],h=o[n[i]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)a[BE[h]>>l]=c}else for(a=new Vc(r),i=0;i<r;++i)n[i]&&(a[i]=BE[o[n[i]-1]++]>>15-n[i]);return a},mp=new Os(288);for(_o=0;_o<144;++_o)mp[_o]=8;for(_o=144;_o<256;++_o)mp[_o]=9;for(_o=256;_o<280;++_o)mp[_o]=7;for(_o=280;_o<288;++_o)mp[_o]=8;var z1=new Os(32);for(_o=0;_o<32;++_o)z1[_o]=5;var KJ=Vh(mp,9,0),XJ=Vh(mp,9,1),YJ=Vh(z1,5,0),JJ=Vh(z1,5,1),dN=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Qh=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(7&e)&t},AN=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(7&e)},NE=function(n){return(n+7)/8|0},am=function(n,e,t){return(null==e||e<0)&&(e=0),(null==t||t>n.length)&&(t=n.length),new Os(n.subarray(e,t))},ZJ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ki=function(n,e,t){var r=new Error(e||ZJ[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Ki),!t)throw r;return r},Zd=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8},G1=function(n,e,t){var r=e/8|0;n[r]|=t<<=7&e,n[r+1]|=t>>8,n[r+2]|=t>>16},gN=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:Ik,l:0};if(1==i){var o=new Os(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(C,b){return C.f-b.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[h].f?c++:h++],l=t[c!=u&&t[c].f<t[h].f?c++:h++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};var d=s[0].s;for(r=1;r<i;++r)s[r].s>d&&(d=s[r].s);var f=new Vc(d+1),A=mN(t[u-1],f,0);if(A>e){r=0;var p=0,m=A-e,g=1<<m;for(s.sort(function(b,M){return f[M.s]-f[b.s]||b.f-M.f});r<i;++r){var y=s[r].s;if(!(f[y]>e))break;p+=g-(1<<A-f[y]),f[y]=e}for(p>>=m;p>0;){var v=s[r].s;f[v]<e?p-=1<<e-f[v]++-1:++r}for(;r>=0&&p;--r){var _=s[r].s;f[_]==e&&(--f[_],++p)}A=e}return{t:new Os(f),l:A}},mN=function(n,e,t){return-1==n.s?Math.max(mN(n.l,e,t+1),mN(n.r,e,t+1)):e[n.s]=t},Tk=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Vc(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},j1=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Bk=function(n,e,t){var r=t.length,i=NE(e+2);n[i]=255&r,n[i+1]=r>>8,n[i+2]=255^n[i],n[i+3]=255^n[i+1];for(var s=0;s<r;++s)n[i+s+4]=t[s];return 8*(i+4+r)},Nk=function(n,e,t,r,i,s,o,a,l,c,u){Zd(e,u++,t),++i[256];for(var h=gN(i,15),d=h.t,f=h.l,A=gN(s,15),p=A.t,m=A.l,g=Tk(d),y=g.c,v=g.n,_=Tk(p),C=_.c,b=_.n,M=new Vc(19),D=0;D<y.length;++D)++M[31&y[D]];for(D=0;D<C.length;++D)++M[31&C[D]];for(var E=gN(M,7),T=E.t,B=E.l,R=19;R>4&&!T[TE[R-1]];--R);var O,P,G,H,U=c+5<<3,k=j1(i,mp)+j1(s,z1)+o,q=j1(i,d)+j1(s,p)+o+14+3*R+j1(M,T)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&U<=k&&U<=q)return Bk(e,u,n.subarray(l,l+c));if(Zd(e,u,1+(q<k)),u+=2,q<k){O=Vh(d,f,0),P=d,G=Vh(p,m,0),H=p;var ae=Vh(T,B,0);for(Zd(e,u,v-257),Zd(e,u+5,b-1),Zd(e,u+10,R-4),u+=14,D=0;D<R;++D)Zd(e,u+3*D,T[TE[D]]);u+=3*R;for(var ve=[y,C],Q=0;Q<2;++Q){var j=ve[Q];for(D=0;D<j.length;++D)Zd(e,u,ae[K=31&j[D]]),u+=T[K],K>15&&(Zd(e,u,j[D]>>5&127),u+=j[D]>>12)}}else O=KJ,P=mp,G=YJ,H=z1;for(D=0;D<a;++D){var oe=r[D];if(oe>255){var K;G1(e,u,O[257+(K=oe>>18&31)]),u+=P[K+257],K>7&&(Zd(e,u,oe>>23&31),u+=V1[K]);var se=31&oe;G1(e,u,G[se]),u+=H[se],se>3&&(G1(e,u,oe>>5&8191),u+=Q1[se])}else G1(e,u,O[oe]),u+=P[oe]}return G1(e,u,O[256]),u+P[256]},eZ=new ME([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ik=new Os(0),Fk=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=0|t.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}n=r,e=i},d:function(){return(255&(n%=65521))<<24|(65280&n)<<8|(255&(e%=65521))<<8|e>>8}}},yN=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Os(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return function(n,e,t,r,i,s){var o=s.z||n.length,a=new Os(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=7&(s.r||0);if(e){u&&(l[0]=s.r>>3);for(var h=eZ[e-1],d=h>>13,f=8191&h,A=(1<<t)-1,p=s.p||new Vc(32768),m=s.h||new Vc(A+1),g=Math.ceil(t/3),y=2*g,v=function(ne){return(n[ne]^n[ne+1]<<g^n[ne+2]<<y)&A},_=new ME(25e3),C=new Vc(288),b=new Vc(32),M=0,D=0,E=s.i||0,T=0,B=s.w||0,R=0;E+2<o;++E){var U=v(E),k=32767&E,q=m[U];if(p[k]=q,m[U]=k,B<=E){var O=o-E;if((M>7e3||T>24576)&&(O>423||!c)){u=Nk(n,l,0,_,C,b,D,T,R,E-R,u),T=M=D=0,R=E;for(var P=0;P<286;++P)C[P]=0;for(P=0;P<30;++P)b[P]=0}var G=2,H=0,ae=f,ve=k-q&32767;if(O>2&&U==v(E-ve))for(var Q=Math.min(d,O)-1,j=Math.min(32767,E),K=Math.min(258,O);ve<=j&&--ae&&k!=q;){if(n[E+G]==n[E+G-ve]){for(var oe=0;oe<K&&n[E+oe]==n[E+oe-ve];++oe);if(oe>G){if(G=oe,H=ve,oe>Q)break;var se=Math.min(ve,oe-2),le=0;for(P=0;P<se;++P){var te=E-ve+P&32767,Ae=te-p[te]&32767;Ae>le&&(le=Ae,q=te)}}}ve+=(k=q)-(q=p[k])&32767}if(H){_[T++]=268435456|fN[G]<<18|Mk[H];var xe=31&fN[G],ge=31&Mk[H];D+=V1[xe]+Q1[ge],++C[257+xe],++b[ge],B=E+G,++M}else _[T++]=n[E],++C[n[E]]}}for(E=Math.max(E,B);E<o;++E)_[T++]=n[E],++C[n[E]];u=Nk(n,l,c,_,C,b,D,T,R,E-R,u),c||(s.r=7&u|l[u/8|0]<<3,u-=7,s.h=m,s.p=p,s.i=E,s.w=B)}else{for(E=s.w||0;E<o+c;E+=65535){var Ee=E+65535;Ee>=o&&(l[u/8|0]=c,Ee=o),u=Bk(l,u+1,n.subarray(E,Ee))}s.i=o}return am(a,0,r+NE(u)+i)}(n,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):20:12+e.mem,t,r,i)},Eo=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};function FE(n,e){e||(e={});var t=Fk();t.p(n);var r=yN(n,e,e.dictionary?6:2,4);return function(n,e){var t=e.level,r=0==t?0:t<6?1:9==t?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=Fk();i.p(e.dictionary),Eo(n,2,i.d())}}(r,e),Eo(r,r.length-4,t.d()),r}function CN(n,e){return function(n,e,t,r){var i=n.length,s=r?r.length:0;if(!i||e.f&&!e.l)return t||new Os(0);var o=!t,a=o||2!=e.i,l=e.i;o&&(t=new Os(3*i));var c=function(xe){var ge=t.length;if(xe>ge){var Ee=new Os(Math.max(2*ge,xe));Ee.set(t),t=Ee}},u=e.f||0,h=e.p||0,d=e.b||0,f=e.l,A=e.d,p=e.m,m=e.n,g=8*i;do{if(!f){u=Qh(n,h,1);var y=Qh(n,h+1,3);if(h+=3,!y){var _=n[(v=NE(h)+4)-4]|n[v-3]<<8,C=v+_;if(C>i){l&&Ki(0);break}a&&c(d+_),t.set(n.subarray(v,C),d),e.b=d+=_,e.p=h=8*C,e.f=u;continue}if(1==y)f=XJ,A=JJ,p=9,m=5;else if(2==y){var b=Qh(n,h,31)+257,M=Qh(n,h+10,15)+4,D=b+Qh(n,h+5,31)+1;h+=14;for(var E=new Os(D),T=new Os(19),B=0;B<M;++B)T[TE[B]]=Qh(n,h+3*B,7);h+=3*M;var R=dN(T),U=(1<<R)-1,k=Vh(T,R,1);for(B=0;B<D;){var v,q=k[Qh(n,h,U)];if(h+=15&q,(v=q>>4)<16)E[B++]=v;else{var O=0,P=0;for(16==v?(P=3+Qh(n,h,3),h+=2,O=E[B-1]):17==v?(P=3+Qh(n,h,7),h+=3):18==v&&(P=11+Qh(n,h,127),h+=7);P--;)E[B++]=O}}var G=E.subarray(0,b),H=E.subarray(b);p=dN(G),m=dN(H),f=Vh(G,p,1),A=Vh(H,m,1)}else Ki(1);if(h>g){l&&Ki(0);break}}a&&c(d+131072);for(var ae=(1<<p)-1,ve=(1<<m)-1,Q=h;;Q=h){var j=(O=f[AN(n,h)&ae])>>4;if((h+=15&O)>g){l&&Ki(0);break}if(O||Ki(2),j<256)t[d++]=j;else{if(256==j){Q=h,f=null;break}var K=j-254;j>264&&(K=Qh(n,h,(1<<(oe=V1[B=j-257]))-1)+Dk[B],h+=oe);var se=A[AN(n,h)&ve],le=se>>4;if(se||Ki(3),h+=15&se,H=$J[le],le>3){var oe=Q1[le];H+=AN(n,h)&(1<<oe)-1,h+=oe}if(h>g){l&&Ki(0);break}a&&c(d+131072);var te=d+K;if(d<H){var ee=s-H,Ae=Math.min(H,te);for(ee+d<0&&Ki(3);d<Ae;++d)t[d]=r[ee+d]}for(;d<te;++d)t[d]=t[d-H]}}e.l=f,e.p=Q,e.b=d,e.f=u,f&&(u=1,e.m=p,e.d=A,e.n=m)}while(!u);return d!=t.length&&o?am(t,0,d):t.subarray(0,d)}(n.subarray(function(n,e){return(8!=(15&n[0])||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Ki(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&Ki(6,"invalid zlib data: "+(32&n[1]?"need":"unexpected")+" dictionary"),2+(n[1]>>3&4)}(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var Hk=typeof TextDecoder<"u"&&new TextDecoder;try{Hk.decode(Ik,{stream:!0})}catch{}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var xr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Vk(){xr.console&&"function"==typeof xr.console.log&&xr.console.log.apply(xr.console,arguments)}var no={log:Vk,warn:function(n){xr.console&&("function"==typeof xr.console.warn?xr.console.warn.apply(xr.console,arguments):Vk.call(null,arguments))},error:function(n){xr.console&&("function"==typeof xr.console.error?xr.console.error.apply(xr.console,arguments):Vk(n))}};function Qk(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){E0(r.response,e,t)},r.onerror=function(){no.error("could not download file")},r.send()}function mZ(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function DN(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var OE,zk,E0=xr.saveAs||("object"!==(typeof window>"u"?"undefined":(0,to.A)(window))||window!==xr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=xr.URL||xr.webkitURL,i=document.createElement("a");i.download=e=e||n.name||"download",i.rel="noopener","string"==typeof n?(i.href=n,i.origin!==location.origin?mZ(i.href)?Qk(n,e,t):DN(i,i.target="_blank"):DN(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){DN(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download","string"==typeof n)if(mZ(n))Qk(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){DN(r)})}else navigator.msSaveOrOpenBlob((i=n,void 0===(s=t)?s={autoBom:!1}:"object"!==(0,to.A)(s)&&(no.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\ufeff",i],{type:i.type}):i),e);var i,s}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof n)return Qk(n,e,t);var i="application/octet-stream"===n.type,s=/constructor/i.test(xr.HTMLElement)||xr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&"object"===(typeof FileReader>"u"?"undefined":(0,to.A)(FileReader))){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=xr.URL||xr.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function vZ(n){var e;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var s=t[r].process,o=t[r].re.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==l.length&&(l="0"+l),1==c.length&&(c="0"+c),"#"+a+l+c}}function Gk(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=oc(t,r,i,s,e[0],7,-680876936),s=oc(s,t,r,i,e[1],12,-389564586),i=oc(i,s,t,r,e[2],17,606105819),r=oc(r,i,s,t,e[3],22,-1044525330),t=oc(t,r,i,s,e[4],7,-176418897),s=oc(s,t,r,i,e[5],12,1200080426),i=oc(i,s,t,r,e[6],17,-1473231341),r=oc(r,i,s,t,e[7],22,-45705983),t=oc(t,r,i,s,e[8],7,1770035416),s=oc(s,t,r,i,e[9],12,-1958414417),i=oc(i,s,t,r,e[10],17,-42063),r=oc(r,i,s,t,e[11],22,-1990404162),t=oc(t,r,i,s,e[12],7,1804603682),s=oc(s,t,r,i,e[13],12,-40341101),i=oc(i,s,t,r,e[14],17,-1502002290),t=ac(t,r=oc(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ac(s,t,r,i,e[6],9,-1069501632),i=ac(i,s,t,r,e[11],14,643717713),r=ac(r,i,s,t,e[0],20,-373897302),t=ac(t,r,i,s,e[5],5,-701558691),s=ac(s,t,r,i,e[10],9,38016083),i=ac(i,s,t,r,e[15],14,-660478335),r=ac(r,i,s,t,e[4],20,-405537848),t=ac(t,r,i,s,e[9],5,568446438),s=ac(s,t,r,i,e[14],9,-1019803690),i=ac(i,s,t,r,e[3],14,-187363961),r=ac(r,i,s,t,e[8],20,1163531501),t=ac(t,r,i,s,e[13],5,-1444681467),s=ac(s,t,r,i,e[2],9,-51403784),i=ac(i,s,t,r,e[7],14,1735328473),t=lc(t,r=ac(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=lc(s,t,r,i,e[8],11,-2022574463),i=lc(i,s,t,r,e[11],16,1839030562),r=lc(r,i,s,t,e[14],23,-35309556),t=lc(t,r,i,s,e[1],4,-1530992060),s=lc(s,t,r,i,e[4],11,1272893353),i=lc(i,s,t,r,e[7],16,-155497632),r=lc(r,i,s,t,e[10],23,-1094730640),t=lc(t,r,i,s,e[13],4,681279174),s=lc(s,t,r,i,e[0],11,-358537222),i=lc(i,s,t,r,e[3],16,-722521979),r=lc(r,i,s,t,e[6],23,76029189),t=lc(t,r,i,s,e[9],4,-640364487),s=lc(s,t,r,i,e[12],11,-421815835),i=lc(i,s,t,r,e[15],16,530742520),t=cc(t,r=lc(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=cc(s,t,r,i,e[7],10,1126891415),i=cc(i,s,t,r,e[14],15,-1416354905),r=cc(r,i,s,t,e[5],21,-57434055),t=cc(t,r,i,s,e[12],6,1700485571),s=cc(s,t,r,i,e[3],10,-1894986606),i=cc(i,s,t,r,e[10],15,-1051523),r=cc(r,i,s,t,e[1],21,-2054922799),t=cc(t,r,i,s,e[8],6,1873313359),s=cc(s,t,r,i,e[15],10,-30611744),i=cc(i,s,t,r,e[6],15,-1560198380),r=cc(r,i,s,t,e[13],21,1309151649),t=cc(t,r,i,s,e[4],6,-145523070),s=cc(s,t,r,i,e[11],10,-1120210379),i=cc(i,s,t,r,e[2],15,718787259),r=cc(r,i,s,t,e[9],21,-343485551),n[0]=cm(t,n[0]),n[1]=cm(r,n[1]),n[2]=cm(i,n[2]),n[3]=cm(s,n[3])}function MN(n,e,t,r,i,s){return e=cm(cm(e,n),cm(r,s)),cm(e<<i|e>>>32-i,t)}function oc(n,e,t,r,i,s,o){return MN(e&t|~e&r,n,e,i,s,o)}function ac(n,e,t,r,i,s,o){return MN(e&r|t&~r,n,e,i,s,o)}function lc(n,e,t,r,i,s,o){return MN(e^t^r,n,e,i,s,o)}function cc(n,e,t,r,i,s,o){return MN(t^(e|~r),n,e,i,s,o)}function yZ(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Gk(r,jFe(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Gk(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Gk(r,i),r}function jFe(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}OE=xr.atob.bind(xr),zk=xr.btoa.bind(xr);var _Z="0123456789abcdef".split("");function qFe(n){for(var e="",t=0;t<4;t++)e+=_Z[n>>8*t+4&15]+_Z[n>>8*t&15];return e}function WFe(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function jk(n){return yZ(n).map(WFe).join("")}var $Fe="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var e=0;e<n.length;e++)n[e]=qFe(n[e]);return n.join("")}(yZ("hello"));function cm(n,e){if($Fe){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function qk(n,e){var t,r,i;if(n!==t){for(var o=(i=n,new Array(1+(256/n.length|0)+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var h=e.length,d=0,f=0,A="";for(l=0;l<h;l++)f=(f+(u=a[d=(d+1)%256]))%256,a[d]=a[f],a[f]=u,o=a[(a[d]+a[f])%256],A+=String.fromCharCode(e.charCodeAt(l)^o);return A}var bZ={print:4,modify:8,copy:16,"annot-forms":32};function W1(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(void 0!==bZ.perm)throw new Error("Invalid permission: "+a);i+=bZ[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=jk(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=qk(this.encryptionKey,this.padding)}function $1(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function wZ(n){if("object"!==(0,to.A)(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,"string"!=typeof t||"function"!=typeof r||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],0===Object.keys(e[r]).length&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){xr.console&&no.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function TN(n){if(!(this instanceof TN))return new TN(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function CZ(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function S0(n,e,t,r,i){if(!(this instanceof S0))return new S0(n,e,t,r,i);this.type="axial"===n?2:3,this.coords=e,this.colors=t,CZ.call(this,r,i)}function K1(n,e,t,r,i){if(!(this instanceof K1))return new K1(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,CZ.call(this,r,i)}function _r(n){var e,t="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;"object"===(0,to.A)(n=n||{})&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,null!==(u=n.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(e=n.precision),void 0!==n.floatPrecision&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(!0===s?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var h=n.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=wZ;var A="1.3",p=f.__private__.getPdfVersion=function(){return A};f.__private__.setPdfVersion=function(L){A=L};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return m};var g=f.__private__.getPageFormat=function(L){return m[L]};i=i||"a4";var v="compat";function _(){this.saveGraphicsState(),W(new Jn(st,0,0,-st,0,Om()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),c="n",v="advanced"}function C(){this.restoreGraphicsState(),c="S",v="compat"}var b=f.__private__.combineFontStyleAndFontWeight=function(L,he){if("bold"==L&&"normal"==he||"bold"==L&&400==he||"normal"==L&&"italic"==he||"bold"==L&&"italic"==he)throw new Error("Invalid Combination of fontweight and fontstyle");return he&&(L=400==he||"normal"===he?"italic"===L?"italic":"normal":700!=he&&"bold"!==he||"normal"!==L?(700==he?"bold":he)+""+L:"bold"),L};f.advancedAPI=function(L){var he="compat"===v;return he&&_.call(this),"function"!=typeof L||(L(this),he&&C.call(this)),this},f.compatAPI=function(L){var he="advanced"===v;return he&&C.call(this),"function"!=typeof L||(L(this),he&&_.call(this)),this},f.isAdvancedAPI=function(){return"advanced"===v};var M,D=function(L){if("advanced"!==v)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=f.roundToPrecision=f.__private__.roundToPrecision=function(L,he){var Le=e||he;if(isNaN(L)||isNaN(Le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Le).replace(/0+$/,"")};M=f.hpf=f.__private__.hpf="number"==typeof l?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return E(L,l)}:"smart"===l?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return E(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return E(L,16)};var T=f.f2=f.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return E(L,2)},B=f.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return E(L,3)},R=f.scale=f.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===v?L*st:"advanced"===v?L:void 0},k=function(L){return R(function(L){return"compat"===v?Om()-L:"advanced"===v?L:void 0}(L))};f.__private__.setPrecision=f.setPrecision=function(L){"number"==typeof parseInt(L,10)&&(e=parseInt(L,10))};var q,O="00000000000000000000000000000000",P=f.__private__.getFileId=function(){return O},G=f.__private__.setFileId=function(L){return O=void 0!==L&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():O.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(yc=new W1(u.userPermissions,u.userPassword,u.ownerPassword,O)),O};f.setFileId=function(L){return G(L),this},f.getFileId=function(){return P()};var H=f.__private__.convertDateToPDFDate=function(L){var he=L.getTimezoneOffset(),Le=he<0?"+":"-",ze=Math.floor(Math.abs(he/60)),ot=Math.abs(he%60),Mt=[Le,K(ze),"'",K(ot),"'"].join("");return["D:",L.getFullYear(),K(L.getMonth()+1),K(L.getDate()),K(L.getHours()),K(L.getMinutes()),K(L.getSeconds()),Mt].join("")},ae=f.__private__.convertPDFDateToDate=function(L){var he=parseInt(L.substr(2,4),10),Le=parseInt(L.substr(6,2),10)-1,ze=parseInt(L.substr(8,2),10),ot=parseInt(L.substr(10,2),10),Mt=parseInt(L.substr(12,2),10),Zt=parseInt(L.substr(14,2),10);return new Date(he,Le,ze,ot,Mt,Zt,0)},ve=f.__private__.setCreationDate=function(L){var he;if(void 0===L&&(L=new Date),L instanceof Date)he=H(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");he=L}return q=he},Q=f.__private__.getCreationDate=function(L){var he=q;return"jsDate"===L&&(he=ae(q)),he};f.setCreationDate=function(L){return ve(L),this},f.getCreationDate=function(L){return Q(L)};var j,K=f.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},oe=f.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},se=0,le=[],te=[],ee=0,Ae=[],xe=[],ge=!1,Ee=te;f.__private__.setCustomOutputDestination=function(L){ge=!0,Ee=L};var Y=function(L){ge||(Ee=L)};f.__private__.resetCustomOutputDestination=function(){ge=!1,Ee=te};var W=f.__private__.out=function(L){return L=L.toString(),ee+=L.length+1,Ee.push(L),Ee},Be=f.__private__.write=function(L){return W(1===arguments.length?L.toString():Array.prototype.join.call(arguments," "))},Ce=f.__private__.getArrayBuffer=function(L){for(var he=L.length,Le=new ArrayBuffer(he),ze=new Uint8Array(Le);he--;)ze[he]=L.charCodeAt(he);return Le},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Pe};var Oe=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(L){return Oe="advanced"===v?L/st:L,this};var re,J=f.__private__.getFontSize=f.getFontSize=function(){return"compat"===v?Oe:Oe*st},Ue=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(L){return Ue=L,this},f.__private__.getR2L=f.getR2L=function(){return Ue};var Qe,rt=f.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))re=L;else if(isNaN(L)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');re=L}else re=parseInt(L,10)};f.__private__.getZoomMode=function(){return re};var Xe,Pt=f.__private__.setPageMode=function(L){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Qe=L};f.__private__.getPageMode=function(){return Qe};var Ft=f.__private__.setLayoutMode=function(L){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Xe=L};f.__private__.getLayoutMode=function(){return Xe},f.__private__.setDisplayMode=f.setDisplayMode=function(L,he,Le){return rt(L),Ft(he),Pt(Le),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(L){if(-1===Object.keys(Tt).indexOf(L))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[L]},f.__private__.getDocumentProperties=function(){return Tt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(L){for(var he in Tt)Tt.hasOwnProperty(he)&&L[he]&&(Tt[he]=L[he]);return this},f.__private__.setDocumentProperty=function(L,he){if(-1===Object.keys(Tt).indexOf(L))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[L]=he};var yn,st,vn,pn,_n,tn={},$={},Fe=[],Ke={},Ne={},_t={},nt={},Dt=null,an=0,Vt=[],Rn=new wZ(f),Bs=n.hotfixes||[],Yi={},gi={},Ko=[],Jn=function L(he,Le,ze,ot,Mt,Zt){if(!(this instanceof L))return new L(he,Le,ze,ot,Mt,Zt);isNaN(he)&&(he=1),isNaN(Le)&&(Le=0),isNaN(ze)&&(ze=0),isNaN(ot)&&(ot=1),isNaN(Mt)&&(Mt=0),isNaN(Zt)&&(Zt=0),this._matrix=[he,Le,ze,ot,Mt,Zt]};Object.defineProperty(Jn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Jn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Jn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Jn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Jn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Jn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Jn.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Jn.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Jn.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Jn.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Jn.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Jn.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Jn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Jn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Jn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Jn.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Jn.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(L)},Jn.prototype.multiply=function(L){return new Jn(L.sx*this.sx+L.shy*this.shx,L.sx*this.shy+L.shy*this.sy,L.shx*this.sx+L.sy*this.shx,L.shx*this.shy+L.sy*this.sy,L.tx*this.sx+L.ty*this.shx+this.tx,L.tx*this.shy+L.ty*this.sy+this.ty)},Jn.prototype.decompose=function(){var L=this.sx,he=this.shy,Le=this.shx,ze=this.sy,ot=this.tx,Mt=this.ty,Zt=Math.sqrt(L*L+he*he),On=(L/=Zt)*Le+(he/=Zt)*ze;Le-=L*On,ze-=he*On;var sr=Math.sqrt(Le*Le+ze*ze);return On/=sr,L*(ze/=sr)<he*(Le/=sr)&&(L=-L,he=-he,On=-On,Zt=-Zt),{scale:new Jn(Zt,0,0,sr,0,0),translate:new Jn(1,0,0,1,ot,Mt),rotate:new Jn(L,he,-he,L,0,0),skew:new Jn(1,0,On,1,0,0)}},Jn.prototype.toString=function(L){return this.join(" ")},Jn.prototype.inversed=function(){var L=this.sx,he=this.shy,Le=this.shx,ze=this.sy,ot=this.tx,Mt=this.ty,Zt=1/(L*ze-he*Le),On=ze*Zt,sr=-he*Zt,Yr=-Le*Zt,$r=L*Zt;return new Jn(On,sr,Yr,$r,-On*ot-Yr*Mt,-sr*ot-$r*Mt)},Jn.prototype.applyToPoint=function(L){return new Xb(L.x*this.sx+L.y*this.shx+this.tx,L.x*this.shy+L.y*this.sy+this.ty)},Jn.prototype.applyToRectangle=function(L){var he=this.applyToPoint(L),Le=this.applyToPoint(new Xb(L.x+L.w,L.y+L.h));return new FS(he.x,he.y,Le.x-he.x,Le.y-he.y)},Jn.prototype.clone=function(){return new Jn(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},f.Matrix=Jn;var Bu=f.matrixMult=function(L,he){return he.multiply(L)},fh=new Jn(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=fh;var Xo=function(L,he){if(!Ne[L]){var Le=(he instanceof S0?"Sh":"P")+(Object.keys(Ke).length+1).toString(10);he.id=Le,Ne[L]=Le,Ke[Le]=he,Rn.publish("addPattern",he)}};f.ShadingPattern=S0,f.TilingPattern=K1,f.addShadingPattern=function(L,he){return D("addShadingPattern()"),Xo(L,he),this},f.beginTilingPattern=function(L){D("beginTilingPattern()"),GF(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},f.endTilingPattern=function(L,he){D("endTilingPattern()"),he.stream=xe[j].join("\n"),Xo(L,he),Rn.publish("endTilingPattern",he),Ko.pop().restore()};var L,Po=f.__private__.newObject=function(){var L=Lo();return gc(L,!0),L},Lo=f.__private__.newObjectDeferred=function(){return se++,le[se]=function(){return ee},se},gc=function(L,he){return he="boolean"==typeof he&&he,le[L]=ee,he&&W(L+" 0 obj"),L},dd=f.__private__.newAdditionalObject=function(){var L={objId:Lo(),content:""};return Ae.push(L),L},nf=Lo(),mc=Lo(),Nu=f.__private__.decodeColorString=function(L){var he=L.split(" ");if(2!==he.length||"g"!==he[1]&&"G"!==he[1])5===he.length&&("k"===he[4]||"K"===he[4])&&(he=[(1-he[0])*(1-he[3]),(1-he[1])*(1-he[3]),(1-he[2])*(1-he[3]),"r"]);else{var Le=parseFloat(he[0]);he=[Le,Le,Le,"r"]}for(var ze="#",ot=0;ot<3;ot++)ze+=("0"+Math.floor(255*parseFloat(he[ot])).toString(16)).slice(-2);return ze},Iu=f.__private__.encodeColorString=function(L){var he;"string"==typeof L&&(L={ch1:L});var Le=L.ch1,ze=L.ch2,ot=L.ch3,Mt=L.ch4,Zt="draw"===L.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Le&&"#"!==Le.charAt(0)){var On=new vZ(Le);if(On.ok)Le=On.toHex();else if(!/^\d*\.?\d*$/.test(Le))throw new Error('Invalid color "'+Le+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Le&&/^#[0-9A-Fa-f]{3}$/.test(Le)&&(Le="#"+Le[1]+Le[1]+Le[2]+Le[2]+Le[3]+Le[3]),"string"==typeof Le&&/^#[0-9A-Fa-f]{6}$/.test(Le)){var sr=parseInt(Le.substr(1),16);Le=sr>>16&255,ze=sr>>8&255,ot=255&sr}if(void 0===ze||void 0===Mt&&Le===ze&&ze===ot)he="string"==typeof Le?Le+" "+Zt[0]:2===L.precision?T(Le/255)+" "+Zt[0]:B(Le/255)+" "+Zt[0];else if(void 0===Mt||"object"===(0,to.A)(Mt)){if(Mt&&!isNaN(Mt.a)&&0===Mt.a)return["1.","1.","1.",Zt[1]].join(" ");he="string"==typeof Le?[Le,ze,ot,Zt[1]].join(" "):2===L.precision?[T(Le/255),T(ze/255),T(ot/255),Zt[1]].join(" "):[B(Le/255),B(ze/255),B(ot/255),Zt[1]].join(" ")}else he="string"==typeof Le?[Le,ze,ot,Mt,Zt[2]].join(" "):2===L.precision?[T(Le),T(ze),T(ot),T(Mt),Zt[2]].join(" "):[B(Le),B(ze),B(ot),B(Mt),Zt[2]].join(" ");return he},rf=f.__private__.getFilters=function(){return o},Fu=f.__private__.putStream=function(L){var he=(L=L||{}).data||"",Le=L.filters||rf(),ze=L.alreadyAppliedFilters||[],ot=L.addLength1||!1,Mt=he.length,Zt=L.objectId,On=function(_c){return _c};if(null!==u&&void 0===Zt)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(On=yc.encryptor(Zt,0));var sr={};!0===Le&&(Le=["FlateEncode"]);var Yr=L.additionalKeyValues||[],$r=(sr=void 0!==_r.API.processDataByFilters?_r.API.processDataByFilters(he,Le):{data:he,reverseChain:[]}).reverseChain+(Array.isArray(ze)?ze.join(" "):ze.toString());if(0!==sr.data.length&&(Yr.push({key:"Length",value:sr.data.length}),!0===ot&&Yr.push({key:"Length1",value:Mt})),0!=$r.length)if($r.split("/").length-1==1)Yr.push({key:"Filter",value:$r});else{Yr.push({key:"Filter",value:"["+$r+"]"});for(var Ji=0;Ji<Yr.length;Ji+=1)if("DecodeParms"===Yr[Ji].key){for(var Uo=[],Jo=0;Jo<sr.reverseChain.split("/").length-1;Jo+=1)Uo.push("null");Uo.push(Yr[Ji].value),Yr[Ji].value="["+Uo.join(" ")+"]"}}W("<<");for(var Fa=0;Fa<Yr.length;Fa++)W("/"+Yr[Fa].key+" "+Yr[Fa].value);W(">>"),0!==sr.data.length&&(W("stream"),W(On(sr.data)),W("endstream"))},sf=f.__private__.putPage=function(L){var he=L.number,Le=L.data,ze=L.objId,ot=L.contentsObjId;gc(ze,!0),W("<</Type /Page"),W("/Parent "+L.rootDictionaryObjId+" 0 R"),W("/Resources "+L.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(M(L.mediaBox.bottomLeftX))+" "+parseFloat(M(L.mediaBox.bottomLeftY))+" "+M(L.mediaBox.topRightX)+" "+M(L.mediaBox.topRightY)+"]"),null!==L.cropBox&&W("/CropBox ["+M(L.cropBox.bottomLeftX)+" "+M(L.cropBox.bottomLeftY)+" "+M(L.cropBox.topRightX)+" "+M(L.cropBox.topRightY)+"]"),null!==L.bleedBox&&W("/BleedBox ["+M(L.bleedBox.bottomLeftX)+" "+M(L.bleedBox.bottomLeftY)+" "+M(L.bleedBox.topRightX)+" "+M(L.bleedBox.topRightY)+"]"),null!==L.trimBox&&W("/TrimBox ["+M(L.trimBox.bottomLeftX)+" "+M(L.trimBox.bottomLeftY)+" "+M(L.trimBox.topRightX)+" "+M(L.trimBox.topRightY)+"]"),null!==L.artBox&&W("/ArtBox ["+M(L.artBox.bottomLeftX)+" "+M(L.artBox.bottomLeftY)+" "+M(L.artBox.topRightX)+" "+M(L.artBox.topRightY)+"]"),"number"==typeof L.userUnit&&1!==L.userUnit&&W("/UserUnit "+L.userUnit),Rn.publish("putPage",{objId:ze,pageContext:Vt[he],pageNumber:he,page:Le}),W("/Contents "+ot+" 0 R"),W(">>"),W("endobj");var Mt=Le.join("\n");return"advanced"===v&&(Mt+="\nQ"),gc(ot,!0),Fu({data:Mt,filters:rf(),objectId:ot}),W("endobj"),ze},Np=f.__private__.putPages=function(){var L,he,Le=[];for(L=1;L<=an;L++)Vt[L].objId=Lo(),Vt[L].contentsObjId=Lo();for(L=1;L<=an;L++)Le.push(sf({number:L,data:xe[L],objId:Vt[L].objId,contentsObjId:Vt[L].contentsObjId,mediaBox:Vt[L].mediaBox,cropBox:Vt[L].cropBox,bleedBox:Vt[L].bleedBox,trimBox:Vt[L].trimBox,artBox:Vt[L].artBox,userUnit:Vt[L].userUnit,rootDictionaryObjId:nf,resourceDictionaryObjId:mc}));gc(nf,!0),W("<</Type /Pages");var ze="/Kids [";for(he=0;he<an;he++)ze+=Le[he]+" 0 R ";W(ze+"]"),W("/Count "+an),W(">>"),W("endobj"),Rn.publish("postPutPages")},Nm=function(L){Rn.publish("putFont",{font:L,out:W,newObject:Po,putStream:Fu}),!0!==L.isAlreadyPutted&&(L.objectNumber=Po(),W("<<"),W("/Type /Font"),W("/BaseFont /"+$1(L.postScriptName)),W("/Subtype /Type1"),"string"==typeof L.encoding&&W("/Encoding /"+L.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},et=function(L){L.objectNumber=Po();var he=[];he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Form"}),he.push({key:"BBox",value:"["+[M(L.x),M(L.y),M(L.x+L.width),M(L.y+L.height)].join(" ")+"]"}),he.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Le=L.pages[1].join("\n");Fu({data:Le,additionalKeyValues:he,objectId:L.objectNumber}),W("endobj")},it=function(L,he){he||(he=21);var Le=Po(),ze=function(L,he){var Le,ze=[],ot=1/(he-1);for(Le=0;Le<1;Le+=ot)ze.push(Le);ze.push(1),0!=L[0].offset&&L.unshift({offset:0,color:L[0].color}),1!=L[L.length-1].offset&&L.push({offset:1,color:L[L.length-1].color});for(var On="",sr=0,Yr=0;Yr<ze.length;Yr++){for(Le=ze[Yr];Le>L[sr+1].offset;)sr++;var $r=L[sr].offset,Ji=(Le-$r)/(L[sr+1].offset-$r),Uo=L[sr].color,Jo=L[sr+1].color;On+=oe(Math.round((1-Ji)*Uo[0]+Ji*Jo[0]).toString(16))+oe(Math.round((1-Ji)*Uo[1]+Ji*Jo[1]).toString(16))+oe(Math.round((1-Ji)*Uo[2]+Ji*Jo[2]).toString(16))}return On.trim()}(L.colors,he),ot=[];ot.push({key:"FunctionType",value:"0"}),ot.push({key:"Domain",value:"[0.0 1.0]"}),ot.push({key:"Size",value:"["+he+"]"}),ot.push({key:"BitsPerSample",value:"8"}),ot.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ot.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fu({data:ze,additionalKeyValues:ot,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Le}),W("endobj"),L.objectNumber=Po(),W("<< /ShadingType "+L.type),W("/ColorSpace /DeviceRGB");var Mt="/Coords ["+M(parseFloat(L.coords[0]))+" "+M(parseFloat(L.coords[1]))+" ";Mt+=2===L.type?M(parseFloat(L.coords[2]))+" "+M(parseFloat(L.coords[3])):M(parseFloat(L.coords[2]))+" "+M(parseFloat(L.coords[3]))+" "+M(parseFloat(L.coords[4]))+" "+M(parseFloat(L.coords[5])),W(Mt+="]"),L.matrix&&W("/Matrix ["+L.matrix.toString()+"]"),W("/Function "+Le+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},on=function(L,he){var Le=Lo(),ze=Po();he.push({resourcesOid:Le,objectOid:ze}),L.objectNumber=ze;var ot=[];ot.push({key:"Type",value:"/Pattern"}),ot.push({key:"PatternType",value:"1"}),ot.push({key:"PaintType",value:"1"}),ot.push({key:"TilingType",value:"1"}),ot.push({key:"BBox",value:"["+L.boundingBox.map(M).join(" ")+"]"}),ot.push({key:"XStep",value:M(L.xStep)}),ot.push({key:"YStep",value:M(L.yStep)}),ot.push({key:"Resources",value:Le+" 0 R"}),L.matrix&&ot.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Fu({data:L.stream,additionalKeyValues:ot,objectId:L.objectNumber}),W("endobj")},kn=function(L){for(var he in L.objectNumber=Po(),W("<<"),L)switch(he){case"opacity":W("/ca "+T(L[he]));break;case"stroke-opacity":W("/CA "+T(L[he]))}W(">>"),W("endobj")},Wr=function(L){gc(L.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var L in W("/Font <<"),tn)tn.hasOwnProperty(L)&&(!1===h||!0===h&&d.hasOwnProperty(L))&&W("/"+L+" "+tn[L].objectNumber+" 0 R");W(">>")}(),function(){if(Object.keys(Ke).length>0){for(var L in W("/Shading <<"),Ke)Ke.hasOwnProperty(L)&&Ke[L]instanceof S0&&Ke[L].objectNumber>=0&&W("/"+L+" "+Ke[L].objectNumber+" 0 R");Rn.publish("putShadingPatternDict"),W(">>")}}(),function(L){if(Object.keys(Ke).length>0){for(var he in W("/Pattern <<"),Ke)Ke.hasOwnProperty(he)&&Ke[he]instanceof f.TilingPattern&&Ke[he].objectNumber>=0&&Ke[he].objectNumber<L&&W("/"+he+" "+Ke[he].objectNumber+" 0 R");Rn.publish("putTilingPatternDict"),W(">>")}}(L.objectOid),function(){if(Object.keys(_t).length>0){var L;for(L in W("/ExtGState <<"),_t)_t.hasOwnProperty(L)&&_t[L].objectNumber>=0&&W("/"+L+" "+_t[L].objectNumber+" 0 R");Rn.publish("putGStateDict"),W(">>")}}(),function(){for(var L in W("/XObject <<"),Yi)Yi.hasOwnProperty(L)&&Yi[L].objectNumber>=0&&W("/"+L+" "+Yi[L].objectNumber+" 0 R");Rn.publish("putXobjectDict"),W(">>")}(),W(">>"),W("endobj")},Yo=function(L){$[L.fontName]=$[L.fontName]||{},$[L.fontName][L.fontStyle]=L.id},Fi=function(L,he,Le,ze,ot){var Mt={id:"F"+(Object.keys(tn).length+1).toString(10),postScriptName:L,fontName:he,fontStyle:Le,encoding:ze,isStandardFont:ot||!1,metadata:{}};return Rn.publish("addFont",{font:Mt,instance:this}),tn[Mt.id]=Mt,Yo(Mt),Mt.id},Na=f.__private__.pdfEscape=f.pdfEscape=function(L,he){return function(L,he){var Le,ze,ot,Mt,Zt,On,sr,Yr,$r;if(ot=(he=he||{}).sourceEncoding||"Unicode",Zt=he.outputEncoding,(he.autoencode||Zt)&&tn[yn].metadata&&tn[yn].metadata[ot]&&tn[yn].metadata[ot].encoding&&(Mt=tn[yn].metadata[ot].encoding,!Zt&&tn[yn].encoding&&(Zt=tn[yn].encoding),!Zt&&Mt.codePages&&(Zt=Mt.codePages[0]),"string"==typeof Zt&&(Zt=Mt[Zt]),Zt)){for(sr=!1,On=[],Le=0,ze=L.length;Le<ze;Le++)(Yr=Zt[L.charCodeAt(Le)])?On.push(String.fromCharCode(Yr)):On.push(L[Le]),On[Le].charCodeAt(0)>>8&&(sr=!0);L=On.join("")}for(Le=L.length;void 0===sr&&0!==Le;)L.charCodeAt(Le-1)>>8&&(sr=!0),Le--;if(!sr)return L;for(On=he.noBOM?[]:[254,255],Le=0,ze=L.length;Le<ze;Le++){if(($r=(Yr=L.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");On.push($r),On.push(Yr-($r<<8))}return String.fromCharCode.apply(void 0,On)}(L,he).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ns=f.__private__.beginPage=function(L){xe[++an]=[],Vt[an]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Ia(an),Y(xe[j])},Ql=function(L,he){var Le,ze,ot;switch(t=he||t,"string"==typeof L&&(Le=g(L.toLowerCase()),Array.isArray(Le)&&(ze=Le[0],ot=Le[1])),Array.isArray(L)&&(ze=L[0]*st,ot=L[1]*st),isNaN(ze)&&(ze=i[0],ot=i[1]),(ze>14400||ot>14400)&&(no.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ze=Math.min(14400,ze),ot=Math.min(14400,ot)),i=[ze,ot],t.substr(0,1)){case"l":ot>ze&&(i=[ot,ze]);break;case"p":ze>ot&&(i=[ot,ze])}Ns(i),kF(TS),W(pd),0!==NS&&W(NS+" J"),0!==IS&&W(IS+" j"),Rn.publish("addPage",{pageNumber:an})},vc=function(L){L>0&&L<=an&&(xe.splice(L,1),Vt.splice(L,1),an--,j>an&&(j=an),this.setPage(j))},Ia=function(L){L>0&&L<=an&&(j=L)},ml=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return xe.length-1},Im=function(L,he,Le){var ze,ot=void 0;return Le=Le||{},he=void 0!==he?he:tn[yn].fontStyle,ze=(L=void 0!==L?L:tn[yn].fontName).toLowerCase(),void 0!==$[ze]&&void 0!==$[ze][he]?ot=$[ze][he]:void 0!==$[L]&&void 0!==$[L][he]?ot=$[L][he]:!1===Le.disableWarning&&no.warn("Unable to look up font label for font '"+L+"', '"+he+"'. Refer to getFontList() for available fonts."),ot||Le.noFallback||null==(ot=$.times[he])&&(ot=$.times.normal),ot},Ad=f.__private__.putInfo=function(){var L=Po(),he=function(ze){return ze};for(var Le in null!==u&&(he=yc.encryptor(L,0)),W("<<"),W("/Producer ("+Na(he("jsPDF "+_r.version))+")"),Tt)Tt.hasOwnProperty(Le)&&Tt[Le]&&W("/"+Le.substr(0,1).toUpperCase()+Le.substr(1)+" ("+Na(he(Tt[Le]))+")");W("/CreationDate ("+Na(he(q))+")"),W(">>"),W("endobj")},SS=f.__private__.putCatalog=function(L){var he=(L=L||{}).rootDictionaryObjId||nf;switch(Po(),W("<<"),W("/Type /Catalog"),W("/Pages "+he+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Le=""+re;"%"===Le.substr(Le.length-1)&&(re=parseInt(re)/100),"number"==typeof re&&W("/OpenAction [3 0 R /XYZ null null "+T(re)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}Qe&&W("/PageMode /"+Qe),Rn.publish("putCatalog"),W(">>"),W("endobj")},R6=f.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(se+1)),W("/Root "+se+" 0 R"),W("/Info "+(se-1)+" 0 R"),null!==u&&W("/Encrypt "+yc.oid+" 0 R"),W("/ID [ <"+O+"> <"+O+"> ]"),W(">>")},O6=f.__private__.putHeader=function(){W("%PDF-"+A),W("%\xba\xdf\xac\xe0")},P6=f.__private__.putXRef=function(){var L="0000000000";W("xref"),W("0 "+(se+1)),W("0000000000 65535 f ");for(var he=1;he<=se;he++)W("function"==typeof le[he]?(L+le[he]()).slice(-10)+" 00000 n ":void 0!==le[he]?(L+le[he]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Ip=f.__private__.buildDocument=function(){se=0,ee=0,te=[],le=[],Ae=[],nf=Lo(),mc=Lo(),Y(te),Rn.publish("buildDocument"),O6(),Np(),function(){Rn.publish("putAdditionalObjects");for(var L=0;L<Ae.length;L++){var he=Ae[L];gc(he.objId,!0),W(he.content),W("endobj")}Rn.publish("postPutAdditionalObjects")}(),function(){var L=[];(function(){for(var L in tn)tn.hasOwnProperty(L)&&(!1===h||!0===h&&d.hasOwnProperty(L))&&Nm(tn[L])})(),function(){var L;for(L in _t)_t.hasOwnProperty(L)&&kn(_t[L])}(),function(){for(var L in Yi)Yi.hasOwnProperty(L)&&et(Yi[L])}(),function(L){var he;for(he in Ke)Ke.hasOwnProperty(he)&&(Ke[he]instanceof S0?it(Ke[he]):Ke[he]instanceof K1&&on(Ke[he],L))}(L),Rn.publish("putResources"),L.forEach(Wr),Wr({resourcesOid:mc,objectOid:Number.MAX_SAFE_INTEGER}),Rn.publish("postPutResources")}(),null!==u&&(yc.oid=Po(),W("<<"),W("/Filter /Standard"),W("/V "+yc.v),W("/R "+yc.r),W("/U <"+yc.toHexString(yc.U)+">"),W("/O <"+yc.toHexString(yc.O)+">"),W("/P "+yc.P),W(">>"),W("endobj")),Ad(),SS();var L=ee;return P6(),R6(),W("startxref"),W(""+L),W("%%EOF"),Y(xe[j]),te.join("\n")},jb=f.__private__.getBlob=function(L){return new Blob([Ce(L)],{type:"application/pdf"})},qb=f.output=f.__private__.output=((L=function(L,he){switch("string"==typeof(he=he||{})?he={filename:he}:he.filename=he.filename||"generated.pdf",L){case void 0:return Ip();case"save":f.save(he.filename);break;case"arraybuffer":return Ce(Ip());case"blob":return jb(Ip());case"bloburi":case"bloburl":if(void 0!==xr.URL&&"function"==typeof xr.URL.createObjectURL)return xr.URL&&xr.URL.createObjectURL(jb(Ip()))||void 0;no.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Le="",ze=Ip();try{Le=zk(ze)}catch{Le=zk(unescape(encodeURIComponent(ze)))}return"data:application/pdf;filename="+he.filename+";base64,"+Le;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(xr)){var ot="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Mt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';he.pdfObjectUrl&&(ot=he.pdfObjectUrl,Mt="");var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ot+'"'+Mt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(he)+");<\/script></body></html>",On=xr.open();return null!==On&&On.document.write(Zt),On}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(xr)){var sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(he.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+he.filename+'" width="500px" height="400px" /></body></html>',Yr=xr.open();if(null!==Yr){Yr.document.write(sr);var $r=this;Yr.document.documentElement.querySelector("#pdfViewer").onload=function(){Yr.document.title=he.filename,Yr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($r.output("bloburl"))}}return Yr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(xr))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ji='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",he)+'"></iframe></body></html>',Uo=xr.open();if(null!==Uo&&(Uo.document.write(Ji),Uo.document.title=he.filename),Uo||typeof safari>"u")return Uo;break;case"datauri":case"dataurl":return xr.document.location.href=this.output("datauristring",he);default:return null}}).foo=function(){try{return L.apply(this,arguments)}catch(ze){var he=ze.stack||"";~he.indexOf(" at ")&&(he=he.split(" at ")[1]);var Le="Error in function "+he.split("\n")[0].split("<")[0]+": "+ze.message;if(!xr.console)throw new Error(Le);xr.console.error(Le,ze),xr.alert&&alert(Le)}},L.foo.bar=L,L.foo),OF=function(L){return!0===Array.isArray(Bs)&&Bs.indexOf(L)>-1};switch(r){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=1==OF("px_scaling")?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);st=r}var yc=null;ve(),G();var PF=f.__private__.getPageInfo=f.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[L].objId,pageNumber:L,pageContext:Vt[L]}},Vr=f.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var he in Vt)if(Vt[he].objId===L)break;return PF(he)},U6=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Vt[j].objId,pageNumber:j,pageContext:Vt[j]}};f.addPage=function(){return Ql.apply(this,arguments),this},f.setPage=function(){return Ia.apply(this,arguments),Y.call(this,xe[j]),this},f.insertPage=function(L){return this.addPage(),this.movePage(j,L),this},f.movePage=function(L,he){var Le,ze;if(L>he){Le=xe[L],ze=Vt[L];for(var ot=L;ot>he;ot--)xe[ot]=xe[ot-1],Vt[ot]=Vt[ot-1];xe[he]=Le,Vt[he]=ze,this.setPage(he)}else if(L<he){Le=xe[L],ze=Vt[L];for(var Mt=L;Mt<he;Mt++)xe[Mt]=xe[Mt+1],Vt[Mt]=Vt[Mt+1];xe[he]=Le,Vt[he]=ze,this.setPage(he)}return this},f.deletePage=function(){return vc.apply(this,arguments),this},f.__private__.text=f.text=function(L,he,Le,ze,ot){var Mt,Zt,On,sr,Yr,$r,Ji,Uo,Jo,Fa=(ze=ze||{}).scope||this;if("number"==typeof L&&"number"==typeof he&&("string"==typeof Le||Array.isArray(Le))){var _c=Le;Le=he,he=L,L=_c}if(arguments[3]instanceof Jn?(D("The transform parameter of text() with a Matrix value"),Jo=ot):(On=arguments[4],sr=arguments[5],"object"===(0,to.A)(Ji=arguments[3])&&null!==Ji||("string"==typeof On&&(sr=On,On=null),"string"==typeof Ji&&(sr=Ji,Ji=null),"number"==typeof Ji&&(On=Ji,Ji=null),ze={flags:Ji,angle:On,align:sr})),isNaN(he)||isNaN(Le)||null==L)throw new Error("Invalid arguments passed to jsPDF.text");if(0===L.length)return Fa;var gd,vl="",dh="number"==typeof ze.lineHeightFactor?ze.lineHeightFactor:ny,AA=Fa.internal.scaleFactor;function jF(fo){return fo=fo.split("\t").join(Array(ze.TabLen||9).join(" ")),Na(fo,Ji)}function LS(fo){for(var Ao,pa=fo.concat(),Ya=[],Lp=pa.length;Lp--;)"string"==typeof(Ao=pa.shift())?Ya.push(Ao):Array.isArray(fo)&&(1===Ao.length||void 0===Ao[1]&&void 0===Ao[2])?Ya.push(Ao[0]):Ya.push([Ao[0],Ao[1],Ao[2]]);return Ya}function US(fo,Ao){var pa;if("string"==typeof fo)pa=Ao(fo)[0];else if(Array.isArray(fo)){for(var Ya,Lp,qS=fo.concat(),aw=[],XF=qS.length;XF--;)"string"==typeof(Ya=qS.shift())?aw.push(Ao(Ya)[0]):Array.isArray(Ya)&&"string"==typeof Ya[0]&&(Lp=Ao(Ya[0],Ya[1],Ya[2]),aw.push([Lp[0],Lp[1],Lp[2]]));pa=aw}return pa}var Jb=!1,kS=!0;if("string"==typeof L)Jb=!0;else if(Array.isArray(L)){var HS=L.concat();Zt=[];for(var Zb,zl=HS.length;zl--;)("string"!=typeof(Zb=HS.shift())||Array.isArray(Zb)&&"string"!=typeof Zb[0])&&(kS=!1);Jb=kS}if(!1===Jb)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');"string"==typeof L&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var ew=Oe/Fa.internal.scaleFactor,tw=ew*(dh-1);switch(ze.baseline){case"bottom":Le-=tw;break;case"top":Le+=ew-tw;break;case"hanging":Le+=ew-2*tw;break;case"middle":Le+=ew/2-tw}if(($r=ze.maxWidth||0)>0&&("string"==typeof L?L=Fa.splitTextToSize(L,$r):"[object Array]"===Object.prototype.toString.call(L)&&(L=L.reduce(function(fo,Ao){return fo.concat(Fa.splitTextToSize(Ao,$r))},[]))),Rn.publish("preProcessText",Mt={text:L,x:he,y:Le,options:ze,mutex:{pdfEscape:Na,activeFontKey:yn,fonts:tn,activeFontSize:Oe}}),L=Mt.text,On=(ze=Mt.options).angle,Jo instanceof Jn||!On||"number"!=typeof On)On&&On instanceof Jn&&(Jo=On);else{On*=Math.PI/180,0===ze.rotationDirection&&(On=-On),"advanced"===v&&(On=-On);var nw=Math.cos(On),VS=Math.sin(On);Jo=new Jn(nw,VS,-VS,nw,0,0)}"advanced"!==v||Jo||(Jo=fh),void 0!==(Yr=ze.charSpace||Kb)&&(vl+=M(R(Yr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Uo=ze.horizontalScale)&&(vl+=M(100*Uo)+" Tz\n");var Ru=-1,$6=void 0!==ze.renderingMode?ze.renderingMode:ze.stroke,QS=Fa.internal.getCurrentPageInfo().pageContext;switch($6){case 0:case!1:case"fill":Ru=0;break;case 1:case!0:case"stroke":Ru=1;break;case 2:case"fillThenStroke":Ru=2;break;case 3:case"invisible":Ru=3;break;case 4:case"fillAndAddForClipping":Ru=4;break;case 5:case"strokeAndAddPathForClipping":Ru=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ru=6;break;case 7:case"addToPathForClipping":Ru=7}-1!==Ru?vl+=Ru+" Tr\n":-1!==(void 0!==QS.usedRenderingMode?QS.usedRenderingMode:-1)&&(vl+="0 Tr\n"),-1!==Ru&&(QS.usedRenderingMode=Ru),sr=ze.align||"left";var af,rw=Oe*dh,WF=Fa.internal.pageSize.getWidth(),$F=tn[yn];Yr=ze.charSpace||Kb,$r=ze.maxWidth||0,Ji=Object.assign({autoencode:!0,noBOM:!0},ze.flags);var Pm=[],sy=function(fo){return Fa.getStringUnitWidth(fo,{font:$F,charSpace:Yr,fontSize:Oe,doKerning:!1})*Oe/AA};if("[object Array]"===Object.prototype.toString.call(L)){var Ou;Zt=LS(L),"left"!==sr&&(af=Zt.map(sy));var Yc,Lm=0;if("right"===sr){he-=af[0],L=[],zl=Zt.length;for(var Rp=0;Rp<zl;Rp++)0===Rp?(Yc=dA(he),Ou=Fp(Le)):(Yc=R(Lm-af[Rp]),Ou=-rw),L.push([Zt[Rp],Yc,Ou]),Lm=af[Rp]}else if("center"===sr){he-=af[0]/2,L=[],zl=Zt.length;for(var Op=0;Op<zl;Op++)0===Op?(Yc=dA(he),Ou=Fp(Le)):(Yc=R((Lm-af[Op])/2),Ou=-rw),L.push([Zt[Op],Yc,Ou]),Lm=af[Op]}else if("left"===sr){L=[],zl=Zt.length;for(var iw=0;iw<zl;iw++)L.push(Zt[iw])}else if("justify"===sr&&"Identity-H"===$F.encoding){L=[],zl=Zt.length,$r=0!==$r?$r:WF;for(var Pp=0,Aa=0;Aa<zl;Aa++)if(Ou=0===Aa?Fp(Le):-rw,Yc=0===Aa?dA(he):Pp,Aa<zl-1){var zS=R(($r-af[Aa])/(Zt[Aa].split(" ").length-1)),Jc=Zt[Aa].split(" ");L.push([Jc[0]+" ",Yc,Ou]),Pp=0;for(var lf=1;lf<Jc.length;lf++){var sw=(sy(Jc[lf-1]+" "+Jc[lf])-sy(Jc[lf]))*AA+zS;L.push(lf==Jc.length-1?[Jc[lf],sw,0]:[Jc[lf]+" ",sw,0]),Pp-=sw}}else L.push([Zt[Aa],Yc,Ou]);L.push(["",Pp,0])}else{if("justify"!==sr)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],zl=Zt.length,$r=0!==$r?$r:WF,Aa=0;Aa<zl;Aa++)Ou=0===Aa?Fp(Le):-rw,Yc=0===Aa?dA(he):0,Pm.push(Aa<zl-1?M(R(($r-af[Aa])/(Zt[Aa].split(" ").length-1))):0),L.push([Zt[Aa],Yc,Ou])}}!0===("boolean"==typeof ze.R2L?ze.R2L:Ue)&&(L=US(L,function(fo,Ao,pa){return[fo.split("").reverse().join(""),Ao,pa]})),Rn.publish("postProcessText",Mt={text:L,x:he,y:Le,options:ze,mutex:{pdfEscape:Na,activeFontKey:yn,fonts:tn,activeFontSize:Oe}}),L=Mt.text,gd=Mt.mutex.isHex||!1;var GS=tn[yn].encoding;"WinAnsiEncoding"!==GS&&"StandardEncoding"!==GS||(L=US(L,function(fo,Ao,pa){return[jF(fo),Ao,pa]})),Zt=LS(L),L=[];for(var oy,ay,Um,cy=Array.isArray(Zt[0])?1:0,km="",jS=function(fo,Ao,pa){var Ya="";return pa instanceof Jn?(pa="number"==typeof ze.angle?Bu(pa,new Jn(1,0,0,1,fo,Ao)):Bu(new Jn(1,0,0,1,fo,Ao),pa),"advanced"===v&&(pa=Bu(new Jn(1,0,0,-1,0,0),pa)),Ya=pa.join(" ")+" Tm\n"):Ya=M(fo)+" "+M(Ao)+" Td\n",Ya},cf=0;cf<Zt.length;cf++){switch(km="",cy){case 1:Um=(gd?"<":"(")+Zt[cf][0]+(gd?">":")"),oy=parseFloat(Zt[cf][1]),ay=parseFloat(Zt[cf][2]);break;case 0:Um=(gd?"<":"(")+Zt[cf]+(gd?">":")"),oy=dA(he),ay=Fp(Le)}void 0!==Pm&&void 0!==Pm[cf]&&(km=Pm[cf]+" Tw\n"),0===cf?L.push(km+jS(oy,ay,Jo)+Um):0===cy?L.push(km+Um):1===cy&&L.push(km+jS(oy,ay,Jo)+Um)}L=L.join(0===cy?" Tj\nT* ":" Tj\n"),L+=" Tj\n";var uf="BT\n/";return uf+=yn+" "+Oe+" Tf\n",uf+=M(Oe*dh)+" TL\n",uf+=ry+"\n",uf+=vl,uf+=L,W(uf+="ET"),d[yn]=!0,Fa};var k6=f.__private__.clip=f.clip=function(L){return W("evenodd"===L?"W*":"W"),this};f.clipEvenOdd=function(){return k6("evenodd")},f.__private__.discardPath=f.discardPath=function(){return W("n"),this};var fA=f.__private__.isValidStyle=function(L){var he=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)&&(he=!0),he};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(L){return fA(L)&&(c=L),this};var LF=f.__private__.getStyle=f.getStyle=function(L){var he=c;switch(L){case"D":case"S":he="S";break;case"F":he="f";break;case"FD":case"DF":he="B";break;case"f":case"f*":case"B":case"B*":he=L}return he},UF=f.close=function(){return W("h"),this};f.stroke=function(){return W("S"),this},f.fill=function(L){return Wb("f",L),this},f.fillEvenOdd=function(L){return Wb("f*",L),this},f.fillStroke=function(L){return Wb("B",L),this},f.fillStrokeEvenOdd=function(L){return Wb("B*",L),this};var Wb=function(L,he){"object"===(0,to.A)(he)?V6(he,L):W(L)},DS=function(L){null===L||"advanced"===v&&void 0===L||(L=LF(L),W(L))};function H6(L,he,Le,ze,ot){var Mt=new K1(he||this.boundingBox,Le||this.xStep,ze||this.yStep,this.gState,ot||this.matrix);Mt.stream=this.stream;var Zt=L+"$$"+this.cloneIndex+++"$$";return Xo(Zt,Mt),Mt}var V6=function(L,he){var Le=Ne[L.key],ze=Ke[Le];if(ze instanceof S0)W("q"),W(Q6(he)),ze.gState&&f.setGState(ze.gState),W(L.matrix.toString()+" cm"),W("/"+Le+" sh"),W("Q");else if(ze instanceof K1){var ot=new Jn(1,0,0,-1,0,Om());L.matrix&&(ot=ot.multiply(L.matrix||fh),Le=H6.call(ze,L.key,L.boundingBox,L.xStep,L.yStep,ot).id),W("q"),W("/Pattern cs"),W("/"+Le+" scn"),ze.gState&&f.setGState(ze.gState),W(he),W("Q")}},Q6=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},MS=f.moveTo=function(L,he){return W(M(R(L))+" "+M(k(he))+" m"),this},ty=f.lineTo=function(L,he){return W(M(R(L))+" "+M(k(he))+" l"),this},Fm=f.curveTo=function(L,he,Le,ze,ot,Mt){return W([M(R(L)),M(k(he)),M(R(Le)),M(k(ze)),M(R(ot)),M(k(Mt)),"c"].join(" ")),this};f.__private__.line=f.line=function(L,he,Le,ze,ot){if(isNaN(L)||isNaN(he)||isNaN(Le)||isNaN(ze)||!fA(ot))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===v?this.lines([[Le-L,ze-he]],L,he,[1,1],ot||"S"):this.lines([[Le-L,ze-he]],L,he,[1,1]).stroke()},f.__private__.lines=f.lines=function(L,he,Le,ze,ot,Mt){var Zt,On,sr,Yr,$r,_c,vl,gd;if("number"==typeof L&&(gd=Le,Le=he,he=L,L=gd),ze=ze||[1,1],Mt=Mt||!1,isNaN(he)||isNaN(Le)||!Array.isArray(L)||!Array.isArray(ze)||!fA(ot)||"boolean"!=typeof Mt)throw new Error("Invalid arguments passed to jsPDF.lines");for(MS(he,Le),Zt=ze[0],On=ze[1],Yr=L.length,_c=he,vl=Le,sr=0;sr<Yr;sr++)2===($r=L[sr]).length?ty(_c=$r[0]*Zt+_c,vl=$r[1]*On+vl):Fm($r[0]*Zt+_c,$r[1]*On+vl,$r[2]*Zt+_c,$r[3]*On+vl,_c=$r[4]*Zt+_c,vl=$r[5]*On+vl);return Mt&&UF(),DS(ot),this},f.path=function(L){for(var he=0;he<L.length;he++){var Le=L[he],ze=Le.c;switch(Le.op){case"m":MS(ze[0],ze[1]);break;case"l":ty(ze[0],ze[1]);break;case"c":Fm.apply(this,ze);break;case"h":UF()}}return this},f.__private__.rect=f.rect=function(L,he,Le,ze,ot){if(isNaN(L)||isNaN(he)||isNaN(Le)||isNaN(ze)||!fA(ot))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===v&&(ze=-ze),W([M(R(L)),M(k(he)),M(R(Le)),M(R(ze)),"re"].join(" ")),DS(ot),this},f.__private__.triangle=f.triangle=function(L,he,Le,ze,ot,Mt,Zt){if(isNaN(L)||isNaN(he)||isNaN(Le)||isNaN(ze)||isNaN(ot)||isNaN(Mt)||!fA(Zt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Le-L,ze-he],[ot-Le,Mt-ze],[L-ot,he-Mt]],L,he,[1,1],Zt,!0),this},f.__private__.roundedRect=f.roundedRect=function(L,he,Le,ze,ot,Mt,Zt){if(isNaN(L)||isNaN(he)||isNaN(Le)||isNaN(ze)||isNaN(ot)||isNaN(Mt)||!fA(Zt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var On=4/3*(Math.SQRT2-1);return ot=Math.min(ot,.5*Le),Mt=Math.min(Mt,.5*ze),this.lines([[Le-2*ot,0],[ot*On,0,ot,Mt-Mt*On,ot,Mt],[0,ze-2*Mt],[0,Mt*On,-ot*On,Mt,-ot,Mt],[2*ot-Le,0],[-ot*On,0,-ot,-Mt*On,-ot,-Mt],[0,2*Mt-ze],[0,-Mt*On,ot*On,-Mt,ot,-Mt]],L+ot,he,[1,1],Zt,!0),this},f.__private__.ellipse=f.ellipse=function(L,he,Le,ze,ot){if(isNaN(L)||isNaN(he)||isNaN(Le)||isNaN(ze)||!fA(ot))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Mt=4/3*(Math.SQRT2-1)*Le,Zt=4/3*(Math.SQRT2-1)*ze;return MS(L+Le,he),Fm(L+Le,he-Zt,L+Mt,he-ze,L,he-ze),Fm(L-Mt,he-ze,L-Le,he-Zt,L-Le,he),Fm(L-Le,he+Zt,L-Mt,he+ze,L,he+ze),Fm(L+Mt,he+ze,L+Le,he+Zt,L+Le,he),DS(ot),this},f.__private__.circle=f.circle=function(L,he,Le,ze){if(isNaN(L)||isNaN(he)||isNaN(Le)||!fA(ze))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,he,Le,Le,ze)},f.setFont=function(L,he,Le){return Le&&(he=b(he,Le)),yn=Im(L,he,{disableWarning:!1}),this};var z6=f.__private__.getFont=f.getFont=function(){return tn[Im.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var L,he,Le={};for(L in $)if($.hasOwnProperty(L))for(he in Le[L]=[],$[L])$[L].hasOwnProperty(he)&&Le[L].push(he);return Le},f.addFont=function(L,he,Le,ze,ot){var Mt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Mt.indexOf(arguments[3])?ot=arguments[3]:arguments[3]&&-1==Mt.indexOf(arguments[3])&&(Le=b(Le,ze)),Fi.call(this,L,he,Le,ot=ot||"Identity-H")};var ny,TS=n.lineWidth||.200025,$b=f.__private__.getLineWidth=f.getLineWidth=function(){return TS},kF=f.__private__.setLineWidth=f.setLineWidth=function(L){return TS=L,W(M(R(L))+" w"),this};f.__private__.setLineDash=_r.API.setLineDash=_r.API.setLineDashPattern=function(L,he){if(L=L||[],he=he||0,isNaN(he)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Le){return M(R(Le))}).join(" "),he=M(R(he)),W("["+L+"] "+he+" d"),this};var HF=f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*ny};f.__private__.getLineHeight=f.getLineHeight=function(){return Oe*ny};var VF=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(L){return"number"==typeof(L=L||1.15)&&(ny=L),this},QF=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ny};VF(n.lineHeight);var dA=f.__private__.getHorizontalCoordinate=function(L){return R(L)},Fp=f.__private__.getVerticalCoordinate=function(L){return"advanced"===v?L:Vt[j].mediaBox.topRightY-Vt[j].mediaBox.bottomLeftY-R(L)},G6=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(L){return M(dA(L))},Rm=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(L){return M(Fp(L))},pd=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Nu(pd)},f.__private__.setStrokeColor=f.setDrawColor=function(L,he,Le,ze){return pd=Iu({ch1:L,ch2:he,ch3:Le,ch4:ze,pdfColorType:"draw",precision:2}),W(pd),this};var BS=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Nu(BS)},f.__private__.setFillColor=f.setFillColor=function(L,he,Le,ze){return BS=Iu({ch1:L,ch2:he,ch3:Le,ch4:ze,pdfColorType:"fill",precision:2}),W(BS),this};var ry=n.textColor||"0 g",j6=f.__private__.getTextColor=f.getTextColor=function(){return Nu(ry)};f.__private__.setTextColor=f.setTextColor=function(L,he,Le,ze){return ry=Iu({ch1:L,ch2:he,ch3:Le,ch4:ze,pdfColorType:"text",precision:3}),this};var Kb=n.charSpace,q6=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Kb||0)};f.__private__.setCharSpace=f.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Kb=L,this};var NS=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(L){var he=f.CapJoinStyles[L];if(void 0===he)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return NS=he,W(he+" J"),this};var IS=0;f.__private__.setLineJoin=f.setLineJoin=function(L){var he=f.CapJoinStyles[L];if(void 0===he)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return IS=he,W(he+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(M(R(L))+" M"),this},f.GState=TN,f.setGState=function(L){(L="string"==typeof L?_t[nt[L]]:zF(null,L)).equals(Dt)||(W("/"+L.id+" gs"),Dt=L)};var zF=function(L,he){if(!L||!nt[L]){var Le=!1;for(var ze in _t)if(_t.hasOwnProperty(ze)&&_t[ze].equals(he)){Le=!0;break}if(Le)he=_t[ze];else{var ot="GS"+(Object.keys(_t).length+1).toString(10);_t[ot]=he,he.id=ot}return L&&(nt[L]=he.id),Rn.publish("addGState",he),he}};f.addGState=function(L,he){return zF(L,he),this},f.saveGraphicsState=function(){return W("q"),Fe.push({key:yn,size:Oe,color:ry}),this},f.restoreGraphicsState=function(){W("Q");var L=Fe.pop();return yn=L.key,Oe=L.size,ry=L.color,Dt=null,this},f.setCurrentTransformationMatrix=function(L){return W(L.toString()+" cm"),this},f.comment=function(L){return W("#"+L),this};var Xb=function(L,he){var Le=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Le},set:function(Mt){isNaN(Mt)||(Le=parseFloat(Mt))}});var ze=he||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ze},set:function(Mt){isNaN(Mt)||(ze=parseFloat(Mt))}});var ot="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ot},set:function(Mt){ot=Mt.toString()}}),this},FS=function(L,he,Le,ze){Xb.call(this,L,he),this.type="rect";var ot=Le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ot},set:function(Zt){isNaN(Zt)||(ot=parseFloat(Zt))}});var Mt=ze||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Mt},set:function(Zt){isNaN(Zt)||(Mt=parseFloat(Zt))}}),this},RS=function(){this.page=an,this.currentPage=j,this.pages=xe.slice(0),this.pagesContext=Vt.slice(0),this.x=vn,this.y=pn,this.matrix=_n,this.width=iy(j),this.height=Om(j),this.outputDestination=Ee,this.id="",this.objectNumber=-1};RS.prototype.restore=function(){an=this.page,Vt=this.pagesContext,xe=this.pages,vn=this.x,pn=this.y,_n=this.matrix,OS(j=this.currentPage,this.width),PS(j,this.height),Ee=this.outputDestination};var GF=function(L,he,Le,ze,ot){Ko.push(new RS),an=j=0,xe=[],vn=L,pn=he,_n=ot,Ns([Le,ze])};for(var Yb in f.beginFormObject=function(L,he,Le,ze,ot){return GF(L,he,Le,ze,ot),this},f.endFormObject=function(L){return function(L){if(gi[L])Ko.pop().restore();else{var he=new RS,Le="Xo"+(Object.keys(Yi).length+1).toString(10);he.id=Le,gi[L]=Le,Yi[Le]=he,Rn.publish("addFormObject",he),Ko.pop().restore()}}(L),this},f.doFormObject=function(L,he){var Le=Yi[gi[L]];return W("q"),W(he.toString()+" cm"),W("/"+Le.id+" Do"),W("Q"),this},f.getFormObject=function(L){var he=Yi[gi[L]];return{x:he.x,y:he.y,width:he.width,height:he.height,matrix:he.matrix}},f.save=function(L,he){return L=L||"generated.pdf",(he=he||{}).returnPromise=he.returnPromise||!1,!1===he.returnPromise?(E0(jb(Ip()),L),"function"==typeof E0.unload&&xr.setTimeout&&setTimeout(E0.unload,911),this):new Promise(function(Le,ze){try{var ot=E0(jb(Ip()),L);"function"==typeof E0.unload&&xr.setTimeout&&setTimeout(E0.unload,911),Le(ot)}catch(Mt){ze(Mt.message)}})},_r.API)_r.API.hasOwnProperty(Yb)&&("events"===Yb&&_r.API.events.length?function(L,he){var ze,ot;for(ot=he.length-1;-1!==ot;ot--)L.subscribe.apply(L,[he[ot][0]].concat("function"==typeof(ze=he[ot][1])?[ze]:ze))}(Rn,_r.API.events):f[Yb]=_r.API[Yb]);var iy=f.getPageWidth=function(L){return(Vt[L=L||j].mediaBox.topRightX-Vt[L].mediaBox.bottomLeftX)/st},OS=f.setPageWidth=function(L,he){Vt[L].mediaBox.topRightX=he*st+Vt[L].mediaBox.bottomLeftX},Om=f.getPageHeight=function(L){return(Vt[L=L||j].mediaBox.topRightY-Vt[L].mediaBox.bottomLeftY)/st},PS=f.setPageHeight=function(L,he){Vt[L].mediaBox.topRightY=he*st+Vt[L].mediaBox.bottomLeftY};return f.internal={pdfEscape:Na,getStyle:LF,getFont:z6,getFontSize:J,getCharSpace:q6,getTextColor:j6,getLineHeight:HF,getLineHeightFactor:QF,getLineWidth:$b,write:Be,getHorizontalCoordinate:dA,getVerticalCoordinate:Fp,getCoordinateString:G6,getVerticalCoordinateString:Rm,collections:{},newObject:Po,newAdditionalObject:dd,newObjectDeferred:Lo,newObjectDeferredBegin:gc,getFilters:rf,putStream:Fu,events:Rn,scaleFactor:st,pageSize:{getWidth:function(){return iy(j)},setWidth:function(L){OS(j,L)},getHeight:function(){return Om(j)},setHeight:function(L){PS(j,L)}},encryptionOptions:u,encryption:yc,getEncryptor:function(L){return null!==u?yc.encryptor(L,0):function(he){return he}},output:qb,getNumberOfPages:ml,pages:xe,out:W,f2:T,f3:B,getPageInfo:PF,getPageInfoByObjId:Vr,getCurrentPageInfo:U6,getPDFVersion:p,Point:Xb,Rectangle:FS,Matrix:Jn,hasHotfix:OF},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return iy(j)},set:function(L){OS(j,L)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Om(j)},set:function(L){PS(j,L)},enumerable:!0,configurable:!0}),function(L){for(var he=0,Le=Pe.length;he<Le;he++){var ze=Fi.call(this,L[he][0],L[he][1],L[he][2],Pe[he][3],!0);!1===h&&(d[ze]=!0);var ot=L[he][0].split("-");Yo({id:ze,fontName:ot[0],fontStyle:ot[1]||""})}Rn.publish("addFonts",{fonts:tn,dictionary:$})}.call(f,Pe),yn="F1",Ql(i,t),Rn.publish("initialized"),f}W1.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},W1.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},W1.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},W1.prototype.processOwnerPassword=function(n,e){return qk(jk(e).substr(0,5),n)},W1.prototype.encryptor=function(n,e){var t=jk(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return qk(t,r)}},TN.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||(0,to.A)(n)!==(0,to.A)(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return 0===r},_r.API={events:[]},_r.version="2.5.2";var Wo=_r.API,Wk=1,D0=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},X1=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jr=function(n){return n.toFixed(2)},um=function(n){return n.toFixed(5)};Wo.__acroform__={};var wu=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},xZ=function(n){return n*Wk},eA=function(n){var e=new SZ,t=Wn.internal.getHeight(n)||0,r=Wn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(jr(r)),Number(jr(t))],e},KFe=Wo.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},XFe=Wo.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},YFe=Wo.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ca=Wo.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return YFe(n,e-1)},ua=Wo.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return KFe(n,e-1)},ha=Wo.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return XFe(n,e-1)},JFe=Wo.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(jr(l.lowerLeft_X)),Number(jr(l.lowerLeft_Y)),Number(jr(l.upperRight_X)),Number(jr(l.upperRight_Y))]},ZFe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],r=$k(n,n._V||n.DV),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+jr(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=eA(n);return s.scope=n.scope,s.stream=e.join("\n"),s}},$k=function(n,e){var t=0===n.fontSize?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(n.multiline?function(B){return B.split("\n")}:function(B){return[B]});var s=t,o=Wn.internal.getHeight(n)||0;o=o<0?-o:o;var B,a=Wn.internal.getWidth(n)||0;a=a<0?-a:a,s++;e:for(;s>0;){e="",s--;var c,u,h=BN("3",n,s).height,d=n.multiline?o-s:(o-h)/2,f=d+=2,A=0,p=0,m=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+BN(e,n,s=12).width+", FieldWidth:"+a+"\n";break}for(var g="",y=0,v=0;v<i.length;v++)if(i.hasOwnProperty(v)){var _=!1;if(1!==i[v].length&&m!==i[v].length-1){if((h+2)*(y+2)+2>o)continue e;g+=i[v][m],_=!0,p=v,v--}else{g=" "==(g+=i[v][m]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var C=parseInt(v),b=(B=C)+1<i.length&&BN(g+" "+i[B+1][0],n,s).width<=a-4,M=v>=i.length-1;if(b&&!M){g+=" ",m=0;continue}if(b||M){if(M)p=C;else if(n.multiline&&(h+2)*(y+2)+2>o)continue e}else{if(!n.multiline||(h+2)*(y+2)+2>o)continue e;p=C}}for(var D="",E=A;E<=p;E++){var T=i[E];if(n.multiline){if(E===p){D+=T[m]+" ",m=(m+1)%T.length;continue}if(E===A){D+=T[T.length-1]+" ";continue}}D+=T[0]+" "}switch(D=" "==D.substr(D.length-1)?D.substr(0,D.length-1):D,u=BN(D,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=jr(c)+" "+jr(f)+" Td\n",e+="("+D0(D)+") Tj\n",e+=-jr(c)+" 0 Td\n",f=-(s+2),u=0,A=_?p:p+1,y++,g=""}break}return r.text=e,r.fontSize=s,r},BN=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},eRe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tRe=function(n,e){var t={type:"reference",object:n};void 0===e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},EZ=Wo.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(0!==s&&(i+=" "),(0,to.A)(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":"/"!==n[s].substr(0,1)?(void 0!==e&&t&&(r=t.internal.getEncryptor(e)),i+="("+D0(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Kk=function(n,e,t){var r=function(i){return i};return void 0!==e&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+D0(r(n))+")"},tA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};tA.prototype.toString=function(){return this.objId+" 0 R"},tA.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},tA.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var t in e)if(!1===Object.getOwnPropertyDescriptor(this,e[t]).configurable){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:EZ(i,this.objId,this.scope)}):i instanceof tA?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&n.push({key:r,value:i}))}return n};var SZ=function(){tA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};wu(SZ,tA);var DZ=function(){tA.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+D0(t(n))+")"}},set:function(t){n=t}})};wu(DZ,tA);var Xf=function n(){tA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ca(e,3)},set:function(g){this.F=g?ua(e,3):ha(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');t=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(g){r=void 0!==g?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof FN)return;s="FieldObject"+n.FieldNum++}var g=function(y){return y};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+D0(g(s))+")"},set:function(g){s=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(g){s=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/Wk:c},set:function(g){c=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof FN||this instanceof M0))return Kk(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=g}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof hl?d:Kk(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=this instanceof hl?g:"("===g.substr(0,1)?X1(g.substr(1,g.length-2)):X1(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hl?X1(d.substr(1,d.length-1)):d},set:function(g){g=g.toString(),d=this instanceof hl?"/"+g:g}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof hl?f:Kk(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=this instanceof hl?g:"("===g.substr(0,1)?X1(g.substr(1,g.length-2)):X1(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hl?X1(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof hl?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(g){p=g=!!g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(g){A=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,1)},set:function(g){this.Ff=g?ua(this.Ff,1):ha(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,2)},set:function(g){this.Ff=g?ua(this.Ff,2):ha(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,3)},set:function(g){this.Ff=g?ua(this.Ff,3):ha(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(g){if(-1===[0,1,2].indexOf(g))throw new Error('Invalid value "'+g+'" for attribute Q supplied.');m=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(m){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};wu(Xf,tA);var Y1=function(){Xf.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return EZ(e,this.objId,this.scope)},set:function(t){var r,i;i=[],"string"==typeof(r=t)&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,18)},set:function(t){this.Ff=t?ua(this.Ff,18):ha(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,19)},set:function(t){!0===this.combo&&(this.Ff=t?ua(this.Ff,19):ha(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,20)},set:function(t){t?(this.Ff=ua(this.Ff,20),e.sort()):this.Ff=ha(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,22)},set:function(t){this.Ff=t?ua(this.Ff,22):ha(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,23)},set:function(t){this.Ff=t?ua(this.Ff,23):ha(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,27)},set:function(t){this.Ff=t?ua(this.Ff,27):ha(this.Ff,27)}}),this.hasAppearanceStream=!1};wu(Y1,Xf);var J1=function(){Y1.call(this),this.fontName="helvetica",this.combo=!1};wu(J1,Y1);var Z1=function(){J1.call(this),this.combo=!0};wu(Z1,J1);var NN=function(){Z1.call(this),this.edit=!0};wu(NN,Z1);var hl=function(){Xf.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,15)},set:function(t){this.Ff=t?ua(this.Ff,15):ha(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,16)},set:function(t){this.Ff=t?ua(this.Ff,16):ha(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,17)},set:function(t){this.Ff=t?ua(this.Ff,17):ha(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,26)},set:function(t){this.Ff=t?ua(this.Ff,26):ha(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+D0(t(e[r]))+")");return i.push(">>"),i.join("\n")}},set:function(t){"object"===(0,to.A)(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};wu(hl,Xf);var IN=function(){hl.call(this),this.pushButton=!0};wu(IN,hl);var eb=function(){hl.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=void 0!==e?e:[]}})};wu(eb,hl);var FN=function(){var n,e;Xf.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+D0(i(r[s]))+")");return o.push(">>"),o.join("\n")},set:function(i){"object"===(0,to.A)(i)&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){"string"==typeof i&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Wn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wu(FN,Xf),eb.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},eb.prototype.createOption=function(n){var e=new FN;return e.Parent=this,e.optionName=n,this.Kids.push(e),iRe.call(this.scope,e),e};var RN=function(){hl.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Wn.CheckBox.createAppearanceStream()};wu(RN,hl);var M0=function(){Xf.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,13)},set:function(e){this.Ff=e?ua(this.Ff,13):ha(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,21)},set:function(e){this.Ff=e?ua(this.Ff,21):ha(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,23)},set:function(e){this.Ff=e?ua(this.Ff,23):ha(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,24)},set:function(e){this.Ff=e?ua(this.Ff,24):ha(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,25)},set:function(e){this.Ff=e?ua(this.Ff,25):ha(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,26)},set:function(e){this.Ff=e?ua(this.Ff,26):ha(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wu(M0,Xf);var ON=function(){M0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ca(this.Ff,14)},set:function(n){this.Ff=n?ua(this.Ff,14):ha(this.Ff,14)}}),this.password=!0};wu(ON,M0);var Wn={CheckBox:{createAppearanceStream:function(){return{N:{On:Wn.CheckBox.YesNormal},D:{On:Wn.CheckBox.YesPushDown,Off:Wn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=eA(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=$k(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+jr(Wn.internal.getWidth(n))+" "+jr(Wn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+jr(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(n){var e=eA(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Wn.internal.getHeight(n),o=Wn.internal.getWidth(n),a=$k(n,n.caption);return i.push("1 g"),i.push("0 0 "+jr(o)+" "+jr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+jr(o-1)+" "+jr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+jr(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(n){var e=eA(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+jr(Wn.internal.getWidth(n))+" "+jr(Wn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Wn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Wn.RadioButton.Circle.YesNormal,e.D[n]=Wn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=eA(n);e.scope=n.scope;var t=[],r=Wn.internal.getWidth(n)<=Wn.internal.getHeight(n)?Wn.internal.getWidth(n)/4:Wn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((r*Wn.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+um(Wn.internal.getWidth(n)/2)+" "+um(Wn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=eA(n);e.scope=n.scope;var t=[],r=Wn.internal.getWidth(n)<=Wn.internal.getHeight(n)?Wn.internal.getWidth(n)/4:Wn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Wn.internal.Bezier_C).toFixed(5)),o=Number((r*Wn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+um(Wn.internal.getWidth(n)/2)+" "+um(Wn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+um(Wn.internal.getWidth(n)/2)+" "+um(Wn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(n){var e=eA(n);e.scope=n.scope;var t=[],r=Wn.internal.getWidth(n)<=Wn.internal.getHeight(n)?Wn.internal.getWidth(n)/4:Wn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Wn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+um(Wn.internal.getWidth(n)/2)+" "+um(Wn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Wn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Wn.RadioButton.Cross.YesNormal,e.D[n]=Wn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=eA(n);e.scope=n.scope;var t=[],r=Wn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+jr(Wn.internal.getWidth(n)-2)+" "+jr(Wn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(jr(r.x1.x)+" "+jr(r.x1.y)+" m"),t.push(jr(r.x2.x)+" "+jr(r.x2.y)+" l"),t.push(jr(r.x4.x)+" "+jr(r.x4.y)+" m"),t.push(jr(r.x3.x)+" "+jr(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=eA(n);e.scope=n.scope;var t=Wn.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+jr(Wn.internal.getWidth(n))+" "+jr(Wn.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+jr(Wn.internal.getWidth(n)-2)+" "+jr(Wn.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(jr(t.x1.x)+" "+jr(t.x1.y)+" m"),r.push(jr(t.x2.x)+" "+jr(t.x2.y)+" l"),r.push(jr(t.x4.x)+" "+jr(t.x4.y)+" m"),r.push(jr(t.x3.x)+" "+jr(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(n){var e=eA(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+jr(Wn.internal.getWidth(n))+" "+jr(Wn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Wn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Wn.internal.getWidth(n),t=Wn.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Wn.internal.getWidth=function(n){var e=0;return"object"===(0,to.A)(n)&&(e=xZ(n.Rect[2])),e},Wn.internal.getHeight=function(n){var e=0;return"object"===(0,to.A)(n)&&(e=xZ(n.Rect[3])),e};var n,e,iRe=Wo.addField=function(n){if(function(n,e){if(e.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(Xf.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(eRe)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Wk=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new DZ,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var t;(t=n).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&tRe(s,t)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(t){!function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=JFe(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Wn.createDefaultAppearanceStream(a),"object"===(0,to.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=ZFe(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var h="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var f=a.appearanceStreamContent[d];if(h+="/"+d+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var A=f[o];"function"==typeof A&&(A=A.call(i,a)),h+="/"+o+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else"function"==typeof(A=f)&&(A=A.call(i,a)),h+="/"+o+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);h+=">>"}l.push({key:"AP",value:"<<\n"+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),"object"===(0,to.A)(i)&&"function"==typeof i.putStream&&i.putStream(),delete n[r]}}(i.internal.acroformPlugin.xForms,i)}(t,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof Xf))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function MZ(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}Wo.AcroFormChoiceField=Y1,Wo.AcroFormListBox=J1,Wo.AcroFormComboBox=Z1,Wo.AcroFormEditBox=NN,Wo.AcroFormButton=hl,Wo.AcroFormPushButton=IN,Wo.AcroFormRadioButton=eb,Wo.AcroFormCheckBox=RN,Wo.AcroFormTextField=M0,Wo.AcroFormPasswordField=ON,Wo.AcroFormAppearance=Wn,Wo.AcroForm={ChoiceField:Y1,ListBox:J1,ComboBox:Z1,EditBox:NN,Button:hl,PushButton:IN,RadioButton:eb,CheckBox:RN,TextField:M0,PasswordField:ON,Appearance:Wn},_r.AcroForm={ChoiceField:Y1,ListBox:J1,ComboBox:Z1,EditBox:NN,Button:hl,PushButton:IN,RadioButton:eb,CheckBox:RN,TextField:M0,PasswordField:ON,Appearance:Wn},function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(B,R){var U,k,q,O,P,G=e;if("RGBA"===(R=R||e)||void 0!==B.data&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(b(B))for(P in t)for(q=t[P],U=0;U<q.length;U+=1){for(O=!0,k=0;k<q[U].length;k+=1)if(void 0!==q[U][k]&&q[U][k]!==B[k]){O=!1;break}if(!0===O){G=P;break}}else for(P in t)for(q=t[P],U=0;U<q.length;U+=1){for(O=!0,k=0;k<q[U].length;k+=1)if(void 0!==q[U][k]&&q[U][k]!==B.charCodeAt(k)){O=!1;break}if(!0===O){G=P;break}}return G===e&&R!==e&&(G=R),G},i=function B(R){for(var U=this.internal.write,k=this.internal.putStream,q=(0,this.internal.getFilters)();-1!==q.indexOf("FlateEncode");)q.splice(q.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var O=[];if(O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Image"}),O.push({key:"Width",value:R.width}),O.push({key:"Height",value:R.height}),R.colorSpace===m.INDEXED?O.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&void 0!==R.sMask?R.objectId+2:R.objectId+1)+" 0 R]"}):(O.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===m.DEVICE_CMYK&&O.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),O.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&void 0!==R.decodeParameters&&O.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var P="",G=0,H=R.transparency.length;G<H;G++)P+=R.transparency[G]+" "+R.transparency[G]+" ";O.push({key:"Mask",value:"["+P+"]"})}if(void 0!==R.sMask&&O.push({key:"SMask",value:R.objectId+1+" 0 R"}),k({data:R.data,additionalKeyValues:O,alreadyAppliedFilters:void 0!==R.filter?["/"+R.filter]:void 0,objectId:R.objectId}),U("endobj"),"sMask"in R&&void 0!==R.sMask){var Q={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:"/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,data:R.sMask};"filter"in R&&(Q.filter=R.filter),B.call(this,Q)}if(R.colorSpace===m.INDEXED){var j=this.internal.newObject();k({data:D(new Uint8Array(R.palette)),objectId:j}),U("endobj")}},s=function(){var B=this.internal.collections.addImage_images;for(var R in B)i.call(this,B[R])},o=function(){var B,R=this.internal.collections.addImage_images,U=this.internal.write;for(var k in R)U("/I"+(B=R[k]).index,B.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var B=this.internal.collections.addImage_images;return a.call(this),B},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(B){return"function"==typeof n["process"+B.toUpperCase()]},h=function(B){return"object"===(0,to.A)(B)&&1===B.nodeType},d=function(B,R){if("IMG"===B.nodeName&&B.hasAttribute("src")){var U=""+B.getAttribute("src");if(0===U.indexOf("data:image/"))return OE(unescape(U).split("base64,").pop());var k=n.loadFile(U,!0);if(void 0!==k)return k}if("CANVAS"===B.nodeName){if(0===B.width||0===B.height)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var q;switch(R){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;default:q="image/jpeg"}return OE(B.toDataURL(q,1).split("base64,").pop())}},f=function(B){var R=this.internal.collections.addImage_images;if(R)for(var U in R)if(B===R[U].alias)return R[U]},A=function(B,R,U){return B||R||(B=-96,R=-96),B<0&&(B=-1*U.width*72/B/this.internal.scaleFactor),R<0&&(R=-1*U.height*72/R/this.internal.scaleFactor),0===B&&(B=R*U.width/U.height),0===R&&(R=B*U.height/U.width),[B,R]},p=function(B,R,U,k,q,O){var P=A.call(this,U,k,q),G=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,ae=l.call(this);if(U=P[0],k=P[1],ae[q.index]=q,O){O*=Math.PI/180;var ve=Math.cos(O),Q=Math.sin(O),j=function(oe){return oe.toFixed(4)},K=[j(ve),j(Q),j(-1*Q),j(ve),0,0,"cm"]}this.internal.write("q"),O?(this.internal.write([1,"0","0",1,G(B),H(R+k),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([G(U),"0","0",G(k),"0","0","cm"].join(" "))):this.internal.write([G(U),"0","0",G(k),G(B),H(R+k),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},m=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=n.__addimage__.sHashCode=function(B){var R,U,k=0;if("string"==typeof B)for(U=B.length,R=0;R<U;R++)k=(k<<5)-k+B.charCodeAt(R),k|=0;else if(b(B))for(U=B.byteLength/2,R=0;R<U;R++)k=(k<<5)-k+B[R],k|=0;return k},v=n.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var R=!0;return 0===B.length&&(R=!1),B.length%4!=0&&(R=!1),!1===/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))&&(R=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))&&(R=!1),R},_=n.__addimage__.extractImageFromDataUrl=function(B){var R=(B=B||"").split("base64,"),U=null;if(2===R.length){var k=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(k)&&(U={mimeType:k[1],charset:k[2],data:R[1]})}return U},C=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(B){return C()&&B instanceof ArrayBuffer};var b=n.__addimage__.isArrayBufferView=function(B){return C()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},M=n.__addimage__.binaryStringToUint8Array=function(B){for(var R=B.length,U=new Uint8Array(R),k=0;k<R;k++)U[k]=B.charCodeAt(k);return U},D=n.__addimage__.arrayBufferToBinaryString=function(B){for(var R="",U=b(B)?B:new Uint8Array(B),k=0;k<U.length;k+=8192)R+=String.fromCharCode.apply(null,U.subarray(k,k+8192));return R};n.addImage=function(){var B,R,U,k,q,O,P,G,H;if("number"==typeof arguments[1]?(R=e,U=arguments[1],k=arguments[2],q=arguments[3],O=arguments[4],P=arguments[5],G=arguments[6],H=arguments[7]):(R=arguments[1],U=arguments[2],k=arguments[3],q=arguments[4],O=arguments[5],P=arguments[6],G=arguments[7],H=arguments[8]),"object"===(0,to.A)(B=arguments[0])&&!h(B)&&"imageData"in B){var ae=B;B=ae.imageData,R=ae.format||R||e,U=ae.x||U||0,k=ae.y||k||0,q=ae.w||ae.width||q,O=ae.h||ae.height||O,P=ae.alias||P,G=ae.compression||G,H=ae.rotation||ae.angle||H}var ve=this.internal.getFilters();if(void 0===G&&-1!==ve.indexOf("FlateEncode")&&(G="SLOW"),isNaN(U)||isNaN(k))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var Q=E.call(this,B,R,P,G);return p.call(this,U,k,q,O,Q,H),this};var E=function(B,R,U,k){var q,O,P,H;if("string"==typeof B&&r(B)===e){B=unescape(B);var G=T(B,!1);(""!==G||void 0!==(G=n.loadFile(B,!0)))&&(B=G)}if(h(B)&&(B=d(B,R)),R=r(B,R),!u(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if((null==(P=U)||0===P.length)&&(U="string"==typeof(H=B)||b(H)?y(H):b(H.data)?y(H.data):null),(q=f.call(this,U))||(C()&&(B instanceof Uint8Array||"RGBA"===R||(O=B,B=M(B))),q=this["process"+R.toUpperCase()](B,c.call(this),U,function(H){return H&&"string"==typeof H&&(H=H.toUpperCase()),H in n.image_compression?H:g.NONE}(k),O)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},T=n.__addimage__.convertBase64ToBinaryString=function(B,R){var U;R="boolean"!=typeof R||R;var k,q="";if("string"==typeof B){k=null!==(U=_(B))?U.data:B;try{q=OE(k)}catch(O){if(R)throw v(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+O.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};n.getImageProperties=function(B){var R,U,k="";if(h(B)&&(B=d(B)),"string"==typeof B&&r(B)===e&&(""===(k=T(B,!1))&&(k=n.loadFile(B)||""),B=k),U=r(B),!u(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!C()||B instanceof Uint8Array||(B=M(B)),!(R=this["process"+U.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=U,R}}(_r.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
n=_r.API,e=function(t){if(void 0!==t&&""!=t)return!0},_r.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){r=c[d];var f=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),y=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(g(r.contents))+")",s+=" /Popup "+m.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(g(y))+") >>",p.content=s;var v=p.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+v,r.open&&(s+=" /Open true"),m.content=s+=" >>",this.internal.write(p.objId,"0 R",m.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var _=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(A(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(A(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var b=a(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+b+" "+r.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var u=this.splitTextToSize(t,a=s.maxWidth).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,r,i,s),"center"===s.align&&(r-=l/2),"right"===s.align&&(r-=l),this.link(r,(i+=.2*c)-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(p){return void 0!==e[p.charCodeAt(0)]},o=n.__arabicParser__.isArabicLetter=function(p){return"string"==typeof p&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},a=n.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&i.indexOf(p.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&s(p)&&e[p.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&s(p)&&4==e[p.charCodeAt(0)].length},h=n.__arabicParser__.resolveLigatures=function(p){var m=0,g=t,y="",v=0;for(m=0;m<p.length;m+=1)void 0!==g[p.charCodeAt(m)]?(v++,"number"==typeof(g=g[p.charCodeAt(m)])&&(y+=String.fromCharCode(g),g=t,v=0),m===p.length-1&&(g=t,y+=p.charAt(m-(v-1)),m-=v-1,v=0)):(g=t,y+=p.charAt(m-v),m-=v,v=0);return y};n.__arabicParser__.isArabicDiacritic=function(p){return void 0!==p&&void 0!==r[p.charCodeAt(0)]};var d=n.__arabicParser__.getCorrectForm=function(p,m,g){return o(p)?!1===s(p)?-1:!c(p)||!o(m)&&!o(g)||!o(g)&&a(m)||a(p)&&!o(m)||a(p)&&l(m)||a(p)&&a(m)?0:u(p)&&o(m)&&!a(m)&&o(g)&&c(g)?3:a(p)||!o(g)?1:2:-1},f=function(p){var m=0,g=0,y=0,v="",_="",C="",b=(p=p||"").split("\\s+"),M=[];for(m=0;m<b.length;m+=1){for(M.push(""),g=0;g<b[m].length;g+=1)_=b[m][g-1],C=b[m][g+1],o(v=b[m][g])?(y=d(v,_,C),M[m]+=-1!==y?String.fromCharCode(e[v.charCodeAt(0)][y]):v):M[m]+=v;M[m]=h(M[m])}return M.join(" ")},A=n.__arabicParser__.processArabic=n.processArabic=function(){var p,m="string"==typeof arguments[0]?arguments[0]:arguments[0].text,g=[];if(Array.isArray(m)){var y=0;for(g=[],y=0;y<m.length;y+=1)Array.isArray(m[y])?g.push([f(m[y][0]),m[y][1],m[y][2]]):g.push([f(m[y])]);p=g}else p=f(m);return"string"==typeof arguments[0]?p:(arguments[0].text=p,arguments[0])};n.events.push(["preProcessText",A])}(_r.API),_r.API.autoPrint=function(n){var e;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if("2d"!==(t=t||"2d"))return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(_r.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(p){A=p}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof l?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,f=0,A=0,p=0,m=this;if(!Array.isArray(l)&&"string"!=typeof l){if("number"!=typeof l)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=c.maxWidth;g>0?"string"==typeof l?l=this.splitTextToSize(l,g):"[object Array]"===Object.prototype.toString.call(l)&&(l=l.reduce(function(v,_){return v.concat(m.splitTextToSize(_,g))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)f<(p=this.getStringUnitWidth(l[y],{font:h})*u)&&(f=p);return 0!==f&&(A=l.length),{w:f/=d,h:Math.max((A*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return void 0!==c.lineNumber&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),void 0!==l.text[0]&&(this.rect(l.x,l.y,l.width,l.height,!0===t?"FD":void 0),"right"===l.align?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):"center"===l.align?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,h,d){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,A,p,m,g=[],y=[],v=[],_={},C={},b=[],M=[],D=(d=d||{}).autoSize||!1,E=!1!==d.printHeaders,T=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,B=d.margins||Object.assign({width:this.getPageWidth()},e),R="number"==typeof d.padding?d.padding:3,U=d.headerBackgroundColor||"#c8c8c8",k=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=k,this.setFontSize(T),null==h)y=g=Object.keys(u[0]),v=g.map(function(){return"left"});else if(Array.isArray(h)&&"object"===(0,to.A)(h[0]))for(g=h.map(function(ae){return ae.name}),y=h.map(function(ae){return ae.prompt||ae.name||""}),v=h.map(function(ae){return ae.align||"left"}),f=0;f<h.length;f+=1)C[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&"string"==typeof h[0]&&(y=g=h,v=g.map(function(){return"left"}));if(D||Array.isArray(h)&&"string"==typeof h[0])for(f=0;f<g.length;f+=1){for(_[m=g[f]]=u.map(function(ae){return ae[m]}),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=_[m],this.setFont(void 0,"normal"),p=0;p<A.length;p+=1)b.push(this.getTextDimensions(A[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[m]=Math.max.apply(null,b)+R+R,b=[]}if(E){var q={};for(f=0;f<g.length;f+=1)q[g[f]]={},q[g[f]].text=y[f],q[g[f]].align=v[f];var O=a.call(this,q,C);M=g.map(function(ae){return new s(l,c,C[ae],O,q[ae].text,void 0,q[ae].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var P=h.reduce(function(ae,ve){return ae[ve.name]=ve.align,ae},{});for(f=0;f<u.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:u[f]},this);var G=a.call(this,u[f],C);for(p=0;p<g.length;p+=1){var H=u[f][g[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:p,data:H},this),o.call(this,new s(l,c,C[g[p]],G,H,f+2,P[g[p]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(f){var A=l[f];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/d+u+u},this).reduce(function(f,A){return Math.max(f,A)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(A)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),t=!1}}(_r.API);var TZ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},BZ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Xk=MZ(BZ),NZ=[100,200,300,400,500,600,700,800,900],sRe=MZ(NZ);function Yk(n){var s,e=n.family.replace(/"|'/g,"").toLowerCase(),t=TZ[s=(s=n.style)||"normal"]?s:"normal",r=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(n.weight),i=function(s){return"number"==typeof Xk[s=s||"normal"]?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function IZ(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var oRe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},FZ={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function RZ(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function OZ(n){return n.trimLeft()}function lRe(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function cRe(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],n.substring(e[0].length)]}var PN,PZ,LZ,Jk=["times"];(function(n){var e,t,r,i,s,o,a,l,c,u=function(Q){return this.isStrokeTransparent=(Q=Q||{}).isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=void 0!==Q.transform?Q.transform.clone():new l,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new o,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new o,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof Q.ignoreClearRect||Q.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=Q;Object.defineProperty(this,"pdf",{get:function(){return j}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(Y){K=!!Y}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(Y){oe=!!Y}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Y){isNaN(Y)||(se=Y)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Y){isNaN(Y)||(le=Y)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Y){var W;"number"==typeof Y?W=[Y,Y,Y,Y]:((W=new Array(4))[0]=Y[0],W[1]=Y.length>=2?Y[1]:W[0],W[2]=Y.length>=3?Y[2]:W[0],W[3]=Y.length>=4?Y[3]:W[1]),c.margin=W}});var te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return te},set:function(Y){te=Y}});var ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return ee},set:function(Y){ee=Y}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(Y){Ae=Y}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Y){Y instanceof u&&(c=Y)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Y){c.path=Y}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(Y){xe=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var W;W=d(Y),this.ctx.fillStyle=W.style,this.ctx.isFillTransparent=0===W.a,this.ctx.fillOpacity=W.a,this.pdf.setFillColor(W.r,W.g,W.b,{a:W.a}),this.pdf.setTextColor(W.r,W.g,W.b,{a:W.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var W=d(Y);this.ctx.strokeStyle=W.style,this.ctx.isStrokeTransparent=0===W.a,this.ctx.strokeOpacity=W.a,0===W.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(W.r,W.g,W.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){-1!==["butt","round","square"].indexOf(Y)&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){-1!==["bevel","round","miter"].indexOf(Y)&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){-1!==["right","end","center","left","start"].indexOf(Y)&&(this.ctx.textAlign=Y)}});var ge=null,ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return ne},set:function(Y){ge=null,ne=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var W;if(this.ctx.font=Y,null!==(W=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Y))){var Be=W[1],Ce=W[3],Pe=W[4],Oe=W[6],re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor("px"===re?parseFloat(Pe)*this.pdf.internal.scaleFactor:"em"===re?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var J=function(Tt){var yn,st,vn=[],pn=Tt.trim();if(""===pn)return Jk;if(pn in FZ)return[FZ[pn]];for(;""!==pn;){switch(st=null,yn=(pn=OZ(pn)).charAt(0)){case'"':case"'":st=lRe(pn.substring(1),yn);break;default:st=cRe(pn)}if(null===st||(vn.push(st[0]),""!==(pn=OZ(st[1]))&&","!==pn.charAt(0)))return Jk;pn=pn.replace(/^,/,"")}return vn}(Oe);if(this.fontFaces){var Ue=function aRe(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},oRe,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=Yk(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+RZ(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=Xk[l],d=IZ(c,BZ,u,u<=Xk.normal?-1:1);if(!d)throw new Error("Could not find a matching font-stretch value for "+l);return d}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=TZ[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(400===l&&c[500])return c[500];if(500===l&&c[400])return c[400];var h=IZ(c,NZ,sRe[l],l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+RZ(s)+"'.");return o}(function Ee(Y,W){if(null===ge){var Be=(Ce=Y.getFontList(),Pe=[],Object.keys(Ce).forEach(function(Oe){Ce[Oe].forEach(function(re){var J=null;switch(re){case"bold":J={family:Oe,weight:"bold"};break;case"italic":J={family:Oe,style:"italic"};break;case"bolditalic":J={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":J={family:Oe}}null!==J&&(J.ref={name:Oe,style:re},Pe.push(J))})}),Pe);ge=function(Ce){for(var Pe={},Oe=0;Oe<Ce.length;++Oe){var re=Yk(Ce[Oe]),J=re.family,Ue=re.stretch,Qe=re.style,rt=re.weight;Pe[J]=Pe[J]||{},Pe[J][Ue]=Pe[J][Ue]||{},Pe[J][Ue][Qe]=Pe[J][Ue][Qe]||{},Pe[J][Ue][Qe][rt]=re}return Pe}(Be.concat(W))}var Ce,Pe;return ge}(this.pdf,this.fontFaces),J.map(function(Tt){return{family:Tt,stretch:"normal",weight:Ce,style:Be}}));this.pdf.setFont(Ue.ref.name,Ue.ref.style)}else{var Qe="";("bold"===Ce||parseInt(Ce,10)>=700||"bold"===Be)&&(Qe="bold"),"italic"===Be&&(Qe+="italic"),0===Qe.length&&(Qe="normal");for(var rt="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<J.length;Pt++){if(void 0!==this.pdf.internal.getFont(J[Pt],Qe,{noFallback:!0,disableWarning:!0})){rt=J[Pt];break}if("bolditalic"===Qe&&void 0!==this.pdf.internal.getFont(J[Pt],"bold",{noFallback:!0,disableWarning:!0}))rt=J[Pt],Qe="bold";else if(void 0!==this.pdf.internal.getFont(J[Pt],"normal",{noFallback:!0,disableWarning:!0})){rt=J[Pt],Qe="normal";break}}if(""===rt)for(var Ft=0;Ft<J.length;Ft++)if(Xe[J[Ft]]){rt=Xe[J[Ft]];break}this.pdf.setFont(rt=""===rt?"Times":rt,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};h.prototype.setLineDash=function(Q){this.lineDash=Q},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){_.call(this,"fill",!1)},h.prototype.stroke=function(){_.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(Q,j){if(isNaN(Q)||isNaN(j))throw no.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(Q,j)},h.prototype.closePath=function(){var Q=new o(0,0),j=0;for(j=this.path.length-1;-1!==j;j--)if("begin"===this.path[j].type&&"object"===(0,to.A)(this.path[j+1])&&"number"==typeof this.path[j+1].x){Q=new o(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.lineTo=function(Q,j){if(isNaN(Q)||isNaN(j))throw no.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},h.prototype.quadraticCurveTo=function(Q,j,K,oe){if(isNaN(K)||isNaN(oe)||isNaN(Q)||isNaN(j))throw no.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(K,oe)),le=this.ctx.transform.applyToPoint(new o(Q,j));this.path.push({type:"qct",x1:le.x,y1:le.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},h.prototype.bezierCurveTo=function(Q,j,K,oe,se,le){if(isNaN(se)||isNaN(le)||isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw no.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var te=this.ctx.transform.applyToPoint(new o(se,le)),ee=this.ctx.transform.applyToPoint(new o(Q,j)),Ae=this.ctx.transform.applyToPoint(new o(K,oe));this.path.push({type:"bct",x1:ee.x,y1:ee.y,x2:Ae.x,y2:Ae.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},h.prototype.arc=function(Q,j,K,oe,se,le){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe)||isNaN(se))throw no.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var te=this.ctx.transform.applyToPoint(new o(Q,j));Q=te.x,j=te.y;var ee=this.ctx.transform.applyToPoint(new o(0,K)),Ae=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(ee.x-Ae.x,2)+Math.pow(ee.y-Ae.y,2))}Math.abs(se-oe)>=2*Math.PI&&(oe=0,se=2*Math.PI),this.path.push({type:"arc",x:Q,y:j,radius:K,startAngle:oe,endAngle:se,counterclockwise:le})},h.prototype.arcTo=function(Q,j,K,oe,se){throw new Error("arcTo not implemented.")},h.prototype.rect=function(Q,j,K,oe){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw no.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,j),this.lineTo(Q+K,j),this.lineTo(Q+K,j+oe),this.lineTo(Q,j+oe),this.lineTo(Q,j),this.lineTo(Q+K,j),this.lineTo(Q,j)},h.prototype.fillRect=function(Q,j,K,oe){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw no.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var se={};"butt"!==this.lineCap&&(se.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,j,K,oe),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},h.prototype.strokeRect=function(Q,j,K,oe){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw no.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(Q,j,K,oe),this.stroke())},h.prototype.clearRect=function(Q,j,K,oe){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe))throw no.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,j,K,oe))},h.prototype.save=function(Q){Q="boolean"!=typeof Q||Q;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},h.prototype.restore=function(Q){Q="boolean"!=typeof Q||Q;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(j),Q&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(Q){var j,K,oe,se;if(!0===Q.isCanvasGradient&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))j=0,K=0,oe=0,se=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(null!==le)j=parseInt(le[1]),K=parseInt(le[2]),oe=parseInt(le[3]),se=1;else if(null!==(le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q)))j=parseInt(le[1]),K=parseInt(le[2]),oe=parseInt(le[3]),se=parseFloat(le[4]);else{if(se=1,"string"==typeof Q&&"#"!==Q.charAt(0)){var te=new vZ(Q);Q=te.ok?te.toHex():"#000000"}4===Q.length?(j=Q.substring(1,2),j+=j,K=Q.substring(2,3),K+=K,oe=Q.substring(3,4),oe+=oe):(j=Q.substring(1,3),K=Q.substring(3,5),oe=Q.substring(5,7)),j=parseInt(j,16),K=parseInt(K,16),oe=parseInt(oe,16)}}return{r:j,g:K,b:oe,a:se,style:Q}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},A=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};h.prototype.fillText=function(Q,j,K,oe){if(isNaN(j)||isNaN(K)||"string"!=typeof Q)throw no.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!f.call(this)){var se=G(this.ctx.transform.rotation);R.call(this,{text:Q,x:j,y:K,scale:this.ctx.transform.scaleX,angle:se,align:this.textAlign,maxWidth:oe})}},h.prototype.strokeText=function(Q,j,K,oe){if(isNaN(j)||isNaN(K)||"string"!=typeof Q)throw no.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){oe=isNaN(oe)?void 0:oe;var se=G(this.ctx.transform.rotation);R.call(this,{text:Q,x:j,y:K,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:oe})}},h.prototype.measureText=function(Q){if("string"!=typeof Q)throw no.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,K=this.pdf.internal.scaleFactor,oe=j.internal.getFontSize(),se=j.getStringUnitWidth(Q)*oe/j.internal.scaleFactor;return new function(te){var ee=(te=te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ee}}),this}({width:se*=Math.round(96*K/72*1e4)/1e4})},h.prototype.scale=function(Q,j){if(isNaN(Q)||isNaN(j))throw no.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(Q,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.rotate=function(Q){if(isNaN(Q))throw no.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new l(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},h.prototype.translate=function(Q,j){if(isNaN(Q)||isNaN(j))throw no.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,Q,j);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.transform=function(Q,j,K,oe,se,le){if(isNaN(Q)||isNaN(j)||isNaN(K)||isNaN(oe)||isNaN(se)||isNaN(le))throw no.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var te=new l(Q,j,K,oe,se,le);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.setTransform=function(Q,j,K,oe,se,le){Q=isNaN(Q)?1:Q,j=isNaN(j)?0:j,K=isNaN(K)?0:K,oe=isNaN(oe)?1:oe,se=isNaN(se)?0:se,le=isNaN(le)?0:le,this.ctx.transform=new l(Q,j,K,oe,se,le)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(Q,j,K,oe,se,le,te,ee,Ae){var xe=this.pdf.getImageProperties(Q),ge=1,Ee=1,ne=1,Y=1;void 0!==oe&&void 0!==ee&&(ne=ee/oe,Y=Ae/se,ge=xe.width/oe*ee/oe,Ee=xe.height/se*Ae/se),void 0===le&&(le=j,te=K,j=0,K=0),void 0!==oe&&void 0===ee&&(ee=oe,Ae=se),void 0===oe&&void 0===ee&&(ee=xe.width,Ae=xe.height);for(var W,Be=this.ctx.transform.decompose(),Ce=G(Be.rotate.shx),Pe=new l,Oe=(Pe=(Pe=(Pe=Pe.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new a(le-j*ne,te-K*Y,oe*ge,se*Ee)),re=m.call(this,Oe),J=[],Ue=0;Ue<re.length;Ue+=1)-1===J.indexOf(re[Ue])&&J.push(re[Ue]);if(v(J),this.autoPaging)for(var Qe=J[0],rt=J[J.length-1],Xe=Qe;Xe<rt+1;Xe++){this.pdf.setPage(Xe);var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=1===Xe?this.posY+this.margin[0]:this.margin[0],yn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=1===Xe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Xe-2)*yn;if(0!==this.ctx.clip_path.length){var vn=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(W,this.posX+this.margin[3],-st+Ft+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=vn}var pn=JSON.parse(JSON.stringify(Oe));pn=y([pn],this.posX+this.margin[3],-st+Ft+this.ctx.prevPageLastElemOffset)[0];var _n=(Xe>Qe||Xe<rt)&&p.call(this);_n&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,yn,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",pn.x,pn.y,pn.w,pn.h,null,null,Ce),_n&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Ce)};var m=function(Q,j,K){var oe=[];j=j||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":oe.push(Math.floor((Q.y+se)/K)+1);break;case"arc":oe.push(Math.floor((Q.y+se-Q.radius)/K)+1),oe.push(Math.floor((Q.y+se+Q.radius)/K)+1);break;case"qct":var le=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);oe.push(Math.floor((le.y+se)/K)+1),oe.push(Math.floor((le.y+le.h+se)/K)+1);break;case"bct":var te=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);oe.push(Math.floor((te.y+se)/K)+1),oe.push(Math.floor((te.y+te.h+se)/K)+1);break;case"rect":oe.push(Math.floor((Q.y+se)/K)+1),oe.push(Math.floor((Q.y+Q.h+se)/K)+1)}for(var ee=0;ee<oe.length;ee+=1)for(;this.pdf.internal.getNumberOfPages()<oe[ee];)g.call(this);return oe},g=function(){var Q=this.fillStyle,j=this.strokeStyle,K=this.font,oe=this.lineCap,se=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=j,this.font=K,this.lineCap=oe,this.lineWidth=se,this.lineJoin=le},y=function(Q,j,K){for(var oe=0;oe<Q.length;oe++)switch(Q[oe].type){case"bct":Q[oe].x2+=j,Q[oe].y2+=K;case"qct":Q[oe].x1+=j,Q[oe].y1+=K;default:Q[oe].x+=j,Q[oe].y+=K}return Q},v=function(Q){return Q.sort(function(j,K){return j-K})},_=function(Q,j){for(var K,oe,se=this.fillStyle,le=this.strokeStyle,te=this.lineCap,ee=this.lineWidth,Ae=Math.abs(ee*this.ctx.transform.scaleX),xe=this.lineJoin,ge=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),ne=[],Y=0;Y<Ee.length;Y++)if(void 0!==Ee[Y].x)for(var W=m.call(this,Ee[Y]),Be=0;Be<W.length;Be+=1)-1===ne.indexOf(W[Be])&&ne.push(W[Be]);for(var Ce=0;Ce<ne.length;Ce++)for(;this.pdf.internal.getNumberOfPages()<ne[Ce];)g.call(this);if(v(ne),this.autoPaging)for(var Pe=ne[0],Oe=ne[ne.length-1],re=Pe;re<Oe+1;re++){this.pdf.setPage(re),this.fillStyle=se,this.strokeStyle=le,this.lineCap=te,this.lineWidth=Ae,this.lineJoin=xe;var J=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=1===re?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=1===re?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(re-2)*rt;if(0!==this.ctx.clip_path.length){var Pt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(K,this.posX+this.margin[3],-Xe+Ue+this.ctx.prevPageLastElemOffset),C.call(this,Q,!0),this.path=Pt}if(oe=JSON.parse(JSON.stringify(ge)),this.path=y(oe,this.posX+this.margin[3],-Xe+Ue+this.ctx.prevPageLastElemOffset),!1===j||0===re){var Ft=(re>Pe||re<Oe)&&p.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],J,rt,null).clip().discardPath()),C.call(this,Q,j),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=ee}else this.lineWidth=Ae,C.call(this,Q,j),this.lineWidth=ee;this.path=ge},C=function(Q,j){if(("stroke"!==Q||j||!A.call(this))&&("stroke"===Q||j||!f.call(this))){for(var K,oe,se=[],le=this.path,te=0;te<le.length;te++){var ee=le[te];switch(ee.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ee,deltas:[],abs:[]});break;case"lt":var Ae=se.length;if(le[te-1]&&!isNaN(le[te-1].x)&&(K=[ee.x-le[te-1].x,ee.y-le[te-1].y],Ae>0))for(;Ae>=0;Ae--)if(!0!==se[Ae-1].close&&!0!==se[Ae-1].begin){se[Ae-1].deltas.push(K),se[Ae-1].abs.push(ee);break}break;case"bct":se[se.length-1].deltas.push(K=[ee.x1-le[te-1].x,ee.y1-le[te-1].y,ee.x2-le[te-1].x,ee.y2-le[te-1].y,ee.x-le[te-1].x,ee.y-le[te-1].y]);break;case"qct":se[se.length-1].deltas.push(K=[le[te-1].x+2/3*(ee.x1-le[te-1].x)-le[te-1].x,le[te-1].y+2/3*(ee.y1-le[te-1].y)-le[te-1].y,ee.x+2/3*(ee.x1-ee.x)-le[te-1].x,ee.y+2/3*(ee.y1-ee.y)-le[te-1].y,ee.x-le[te-1].x,ee.y-le[te-1].y]);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ee)}}oe=j?null:"stroke"===Q?"stroke":"fill";for(var Be=!1,Ce=0;Ce<se.length;Ce++)if(se[Ce].arc)for(var Pe=se[Ce].abs,Oe=0;Oe<Pe.length;Oe++){var re=Pe[Oe];"arc"===re.type?D.call(this,re.x,re.y,re.radius,re.startAngle,re.endAngle,re.counterclockwise,void 0,j,!Be):U.call(this,re.x,re.y),Be=!0}else!0===se[Ce].close?(this.pdf.internal.out("h"),Be=!1):!0!==se[Ce].begin&&(k.call(this,se[Ce].deltas,se[Ce].start.x,se[Ce].start.y),Be=!0);oe&&E.call(this,oe),j&&T.call(this)}},b=function(Q){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-K;case"top":return Q+j-K;case"hanging":return Q+j-2*K;case"middle":return Q+j/2-K;default:return Q}},M=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(j,K){this.colorStops.push([j,K])},Q.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(Q,j,K,oe,se,le,te,ee,Ae){for(var xe=O.call(this,K,oe,se,le),ge=0;ge<xe.length;ge++){var Ee=xe[ge];0===ge&&(Ae?B.call(this,Ee.x1+Q,Ee.y1+j):U.call(this,Ee.x1+Q,Ee.y1+j)),q.call(this,Q,j,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}ee?T.call(this):E.call(this,te)},E=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(Q,j){this.pdf.internal.out(t(Q)+" "+r(j)+" m")},R=function(Q){var j;switch(Q.align){case"right":case"end":j="right";break;case"center":j="center";break;default:j="left"}var K=this.pdf.getTextDimensions(Q.text),oe=b.call(this,Q.y),se=M.call(this,oe)-K.h,le=this.ctx.transform.applyToPoint(new o(Q.x,oe)),te=this.ctx.transform.decompose(),ee=new l;ee=(ee=(ee=ee.multiply(te.translate)).multiply(te.skew)).multiply(te.scale);for(var Ae,xe,ge,Ee=this.ctx.transform.applyToRectangle(new a(Q.x,oe,K.w,K.h)),ne=ee.applyToRectangle(new a(Q.x,se,K.w,K.h)),Y=m.call(this,ne),W=[],Be=0;Be<Y.length;Be+=1)-1===W.indexOf(Y[Be])&&W.push(Y[Be]);if(v(W),this.autoPaging)for(var Ce=W[0],Pe=W[W.length-1],Oe=Ce;Oe<Pe+1;Oe++){this.pdf.setPage(Oe);var re=1===Oe?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.margin[2],Qe=Ue-this.margin[0],rt=this.pdf.internal.pageSize.width-this.margin[1],Xe=rt-this.margin[3],Pt=1===Oe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Oe-2)*Qe;if(0!==this.ctx.clip_path.length){var Ft=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Ae,this.posX+this.margin[3],-1*Pt+re),C.call(this,"fill",!0),this.path=Ft}var Tt=y([JSON.parse(JSON.stringify(ne))],this.posX+this.margin[3],-Pt+re+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*Q.scale),this.lineWidth=(ge=this.lineWidth)*Q.scale);var yn="text"!==this.autoPaging;if(yn||Tt.y+Tt.h<=Ue){if(yn||Tt.y>=re&&Tt.x<=rt){var st=yn?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||rt-Tt.x)[0],vn=y([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-Pt+re+this.ctx.prevPageLastElemOffset)[0],pn=yn&&(Oe>Ce||Oe<Pe)&&p.call(this);pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,Qe,null).clip().discardPath()),this.pdf.text(st,vn.x,vn.y,{angle:Q.angle,align:j,renderingMode:Q.renderingMode}),pn&&this.pdf.restoreGraphicsState()}}else Tt.y<Ue&&(this.ctx.prevPageLastElemOffset+=Ue-Tt.y);Q.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=ge)}else Q.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*Q.scale),this.lineWidth=(ge=this.lineWidth)*Q.scale),this.pdf.text(Q.text,le.x+this.posX,le.y+this.posY,{angle:Q.angle,align:j,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=ge)},U=function(Q,j,K,oe){oe=oe||0,this.pdf.internal.out(t(Q+(K=K||0))+" "+r(j+oe)+" l")},k=function(Q,j,K){return this.pdf.lines(Q,j,K,null,null)},q=function(Q,j,K,oe,se,le,te,ee){this.pdf.internal.out([e(i(K+Q)),e(s(oe+j)),e(i(se+Q)),e(s(le+j)),e(i(te+Q)),e(s(ee+j)),"c"].join(" "))},O=function(Q,j,K,oe){for(var se=2*Math.PI,le=Math.PI/2;j>K;)j-=se;var te=Math.abs(K-j);te<se&&oe&&(te=se-te);for(var ee=[],Ae=oe?-1:1,xe=j;te>1e-5;){var ge=xe+Ae*Math.min(te,le);ee.push(P.call(this,Q,xe,ge)),te-=Math.abs(ge-xe),xe=ge}return ee},P=function(Q,j,K){var oe=(K-j)/2,se=Q*Math.cos(oe),le=Q*Math.sin(oe),te=se,ee=-le,Ae=te*te+ee*ee,xe=Ae+te*se+ee*le,ge=4/3*(Math.sqrt(2*Ae*xe)-xe)/(te*le-ee*se),Ee=te-ge*ee,ne=ee+ge*te,Y=Ee,W=-ne,Be=oe+j,Ce=Math.cos(Be),Pe=Math.sin(Be);return{x1:Q*Math.cos(j),y1:Q*Math.sin(j),x2:Ee*Ce-ne*Pe,y2:Ee*Pe+ne*Ce,x3:Y*Ce-W*Pe,y3:Y*Pe+W*Ce,x4:Q*Math.cos(K),y4:Q*Math.sin(K)}},G=function(Q){return 180*Q/Math.PI},H=function(Q,j,K,oe,se,le){var te=Q+.5*(K-Q),ee=j+.5*(oe-j),Ae=se+.5*(K-se),xe=le+.5*(oe-le),ge=Math.min(Q,se,te,Ae),Ee=Math.max(Q,se,te,Ae),ne=Math.min(j,le,ee,xe),Y=Math.max(j,le,ee,xe);return new a(ge,ne,Ee-ge,Y-ne)},ae=function(Q,j,K,oe,se,le,te,ee){var Ae,xe,ge,Ee,ne,Y,W,Be,Ce,Pe,Oe,re,J,Ue,Qe=K-Q,rt=oe-j,Xe=se-K,Pt=le-oe,Ft=te-se,Tt=ee-le;for(xe=0;xe<41;xe++)Ce=(W=(ge=Q+(Ae=xe/40)*Qe)+Ae*((ne=K+Ae*Xe)-ge))+Ae*(ne+Ae*(se+Ae*Ft-ne)-W),Pe=(Be=(Ee=j+Ae*rt)+Ae*((Y=oe+Ae*Pt)-Ee))+Ae*(Y+Ae*(le+Ae*Tt-Y)-Be),0==xe?(Oe=Ce,re=Pe,J=Ce,Ue=Pe):(Oe=Math.min(Oe,Ce),re=Math.min(re,Pe),J=Math.max(J,Ce),Ue=Math.max(Ue,Pe));return new a(Math.round(Oe),Math.round(re),Math.round(J-Oe),Math.round(Ue-re))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var K=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(_r.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(s){var o,a,l,c,u,h,d,f,A,p;for(/[^\x00-\xFF]/.test(s),a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)0!==(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))?(h=(u=((u=((u=((u=(u-(p=u%85))/85)-(A=u%85))/85)-(f=u%85))/85)-(d=u%85))/85)%85,a.push(h+33,d+33,f+33,A+33,p+33)):a.push(122);return function(m,g){for(var y=g;y>0;y--)m.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,l,c,u,h=String,d="length",f=255,A="charCodeAt",p="slice",m="replace";for(s[p](-2),s=s[p](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[p](s[d]%5||5))[d];u>c;c+=5)a=52200625*(s[A](c)-33)+614125*(s[A](c+1)-33)+7225*(s[A](c+2)-33)+85*(s[A](c+3)-33)+(s[A](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(g,y){for(var v=y;v>0;v--)g.pop()}(l,o[d]),h.fromCharCode.apply(h,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===o.test(s))return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return(o=FE(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(_r.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=!1!==s,o="function"==typeof o?o:function(){};var a=void 0;try{a=function(l,c,u){var h=new XMLHttpRequest,d=0,f=function(A){var p=A.length,m=[],g=String.fromCharCode;for(d=0;d<p;d+=1)m.push(g(255&A.charCodeAt(d)));return m.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),!1===c&&(h.onload=function(){u(200===h.status?f(this.responseText):void 0)}),h.send(null),c&&200===h.status)return f(h.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(_r.API),function(n){function e(){return(xr.html2canvas?Promise.resolve(xr.html2canvas):Promise.resolve().then(we.t.bind(we,6990,23))).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(xr.DOMPurify?Promise.resolve(xr.DOMPurify):we.e(890).then(we.t.bind(we,9890,23))).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=(0,to.A)(o);return"undefined"===a?"undefined":"string"===a||o instanceof String?"string":"number"===a||o instanceof Number?"number":"function"===a||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&1===o.nodeType?"element":"object"===a?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return"canvas"===l.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var h=3===c.nodeType?document.createTextNode(c.nodeValue):c.cloneNode(!1),d=c.firstChild;d;d=d.nextSibling)!0!==u&&1===d.nodeType&&"SCRIPT"===d.nodeName||h.appendChild(l(d,u));return 1===c.nodeType&&("CANVAS"===c.nodeName?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):"TEXTAREA"!==c.nodeName&&"SELECT"!==c.nodeName||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===a.tagName&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var d=0;d<c.length;++d){var f=c[d],A=f.src.find(function(p){return"truetype"===p.format});A&&l.addFont(A.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=0==h.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return"img"===(l=l||"pdf").toLowerCase()||"image"===l.toLowerCase()?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if("object"!==r(o))return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(2===o.length&&(o=[o[0],o[1],o[0],o[1]]),4===o.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||_r.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return null!=o&&(this.progress.val=o),null!=a&&(this.progress.state=a),null!=l&&(this.progress.n=l),null!=c&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,_r.getPageSize=function(o,a,l){if("object"===(0,to.A)(o)){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,A=0,p=0;if(d.hasOwnProperty(h))A=d[h][1]/u,p=d[h][0]/u;else try{A=l[1],p=l[0]}catch{throw new Error("Invalid format: "+l)}if("p"===o||"portrait"===o)o="p",p>A&&(f=p,p=A,A=f);else{if("l"!==o&&"landscape"!==o)throw"Invalid orientation: "+o;o="l",A>p&&(f=p,p=A,A=f)}return{width:p,height:A,unit:a,k:u,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Yk):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(_r.API),_r.API.addJS=function(n){return LZ=n,this.internal.events.subscribe("postPutResources",function(){PN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(PN+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),PZ=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+LZ+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==PN&&void 0!==PZ&&this.internal.out("/Names <</JavaScript "+PN+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);null!=a&&t.internal.newObjectDeferredBegin(a[1],!1),t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var h=t.internal.newObject();u.push(h);var d=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return null==r&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+"\r\n"},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(_r.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=o||t)?new Uint8Array(t):t,(l=function(h){for(var d,f=256*h.charCodeAt(4)+h.charCodeAt(5),A=h.length,p={width:0,height:0,numcomponents:1},m=4;m<A;m+=2){if(-1!==e.indexOf(h.charCodeAt((m+=f)+1))){d=256*h.charCodeAt(m+5)+h.charCodeAt(m+6),p={width:256*h.charCodeAt(m+7)+h.charCodeAt(m+8),height:d,numcomponents:h.charCodeAt(m+9)};break}f=256*h.charCodeAt(m+2)+h.charCodeAt(m+3)}return p}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(_r.API);var tb,LN,UZ,kZ,HZ,uRe=function(){var n,e,t;function r(s){var o,l,c,u,h,d,f,A,p,m,g,y,v;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),A=function(){var _,C;for(C=[],_=0;_<4;++_)C.push(String.fromCharCode(this.data[this.pos++]));return C}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for("fdAT"===A&&(this.pos+=4,o-=4),s=h?.data||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((p=l-this.transparency.indexed.length)>0)for(y=0;0<=p?y<p:y>p;0<=p?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":d=(m=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,m.slice(0,d)),this.text[f]=String.fromCharCode.apply(String,m.slice(d+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(v=this.colorType)||6===v,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function u(h,d,f,A){var p,m,g,y,v,_,C,b,D,E,T,B,R,U,k,q,O,P,G,H,ae=Math.ceil((c.width-h)/f),ve=Math.ceil((c.height-d)/A),Q=c.width==ae&&c.height==ve;for(R=o*ae,T=Q?a:new Uint8Array(R*ve),_=s.length,B=0,m=0;B<ve&&l<_;){switch(s[l++]){case 0:for(y=q=0;q<R;y=q+=1)T[m++]=s[l++];break;case 1:for(y=O=0;O<R;y=O+=1)p=s[l++],v=y<o?0:T[m-o],T[m++]=(p+v)%256;break;case 2:for(y=P=0;P<R;y=P+=1)p=s[l++],g=(y-y%o)/o,T[m++]=((U=B&&T[(B-1)*R+g*o+y%o])+p)%256;break;case 3:for(y=G=0;G<R;y=G+=1)p=s[l++],g=(y-y%o)/o,v=y<o?0:T[m-o],U=B&&T[(B-1)*R+g*o+y%o],T[m++]=(p+Math.floor((v+U)/2))%256;break;case 4:for(y=H=0;H<R;y=H+=1)p=s[l++],g=(y-y%o)/o,0===B?U=k=0:(U=T[(B-1)*R+g*o+y%o],k=g&&T[(B-1)*R+(g-1)*o+y%o]),C=(v=y<o?0:T[m-o])+U-k,b=Math.abs(C-v),D=Math.abs(C-U),E=Math.abs(C-k),T[m++]=(p+(b<=D&&b<=E?v:D<=E?U:k))%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!Q){var j=((d+B*A)*c.width+h)*o,K=B*R;for(y=0;y<ae;y+=1){for(var oe=0;oe<o;oe+=1)a[j++]=T[K++];j+=(f-1)*o}}B++}}return s=CN(s),1==c.interlaceMethod?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,h,d,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=h=0,d=a.length;h<d;o=h+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=null!=(f=u[s++])?f:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,h,d,f,A,p,m,g;if(l=this.colors,p=null,a=this.hasAlphaChannel,this.palette.length&&(p=null!=(g=this._decodedPalette)?g:this._decodedPalette=this.decodePalette(),l=4,a=!0),A=(c=s.data||s).length,h=p||o,u=d=0,1===l)for(;u<A;)f=p?4*o[u/4]:d,m=h[f++],c[u++]=m,c[u++]=m,c[u++]=m,c[u++]=a?h[f++]:255,d=f;else for(;u<A;)f=p?4*o[u/4]:d,c[u++]=h[f++],c[u++]=h[f++],c[u++]=h[f++],c[u++]=a?h[f++]:255,d=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if("[object Window]"===Object.prototype.toString.call(xr)){try{e=xr.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(!0===i())return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,h,d,f;if(this.animation){for(f=[],a=u=0,h=(d=this.animation.frames).length;u<h;a=++u)l=s.createImageData((o=d[a]).width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=n(l));return f}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],0===o&&s.clearRect(0,0,this.width,this.height),1===c?.disposeOp?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):2===c?.disposeOp&&s.putImageData(c.imageData,c.xOffset,c.yOffset),0===a.blendOp&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,h,d=this;return a=0,c=(h=this.animation).numFrames,l=h.frames,u=h.numPlays,(o=function(){var f,A;if(f=a++%c,A=l[f],d.renderFrame(s,f),c>1&&a/c<u)return d.animation._timeout=setTimeout(o,A.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();function hRe(n){var e=0;if(71!==n[e++]||73!==n[e++]||70!==n[e++]||56!==n[e++]||56!=(n[e++]+1&253)||97!==n[e++])throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=1<<1+(7&i);e++,e++;var a=null,l=null;i>>7&&(a=e,l=o,e+=3*o);var c=!0,u=[],h=0,d=null,f=0,A=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(11!==n[e]||78==n[e+1]&&69==n[e+2]&&84==n[e+3]&&83==n[e+4]&&67==n[e+5]&&65==n[e+6]&&80==n[e+7]&&69==n[e+8]&&50==n[e+9]&&46==n[e+10]&&48==n[e+11]&&3==n[e+12]&&1==n[e+13]&&0==n[e+16])e+=14,A=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(0===B)break;e+=B}break;case 249:if(4!==n[e++]||0!==n[e+4])throw new Error("Invalid graphics extension block.");var p=n[e++];h=n[e++]|n[e++]<<8,d=n[e++],!(1&p)&&(d=null),f=p>>2&7,e++;break;case 254:for(;;){if(!((B=n[e++])>=0))throw Error("Invalid block size");if(0===B)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var m=n[e++]|n[e++]<<8,g=n[e++]|n[e++]<<8,y=n[e++]|n[e++]<<8,v=n[e++]|n[e++]<<8,_=n[e++],C=_>>6&1,b=1<<1+(7&_),M=a,D=l,E=!1;_>>7&&(E=!0,M=e,D=b,e+=3*b);var T=e;for(e++;;){var B;if(!((B=n[e++])>=0))throw Error("Invalid block size");if(0===B)break;e+=B}u.push({x:m,y:g,width:y,height:v,has_local_palette:E,palette_offset:M,palette_size:D,data_offset:T,data_length:e-T,transparent_index:d,interlaced:!!C,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return A},this.frameInfo=function(R){if(R<0||R>=u.length)throw new Error("Frame index out of range.");return u[R]},this.decodeAndBlitFrameBGRA=function(R,U){var k=this.frameInfo(R),q=k.width*k.height,O=new Uint8Array(q);VZ(n,k.data_offset,O,q);var P=k.palette_offset,G=k.transparent_index;null===G&&(G=256);var H=k.width,ae=t-H,ve=H,Q=4*(k.y*t+k.x),j=4*((k.y+k.height)*t+k.x),K=Q,oe=4*ae;!0===k.interlaced&&(oe+=4*t*7);for(var se=8,le=0,te=O.length;le<te;++le){var ee=O[le];if(0===ve&&(ve=H,(K+=oe)>=j&&(oe=4*ae+4*t*(se-1),K=Q+(H+ae)*(se<<1),se>>=1)),ee===G)K+=4;else{var Ae=n[P+3*ee],xe=n[P+3*ee+1];U[K++]=n[P+3*ee+2],U[K++]=xe,U[K++]=Ae,U[K++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(R,U){var k=this.frameInfo(R),q=k.width*k.height,O=new Uint8Array(q);VZ(n,k.data_offset,O,q);var P=k.palette_offset,G=k.transparent_index;null===G&&(G=256);var H=k.width,ae=t-H,ve=H,Q=4*(k.y*t+k.x),j=4*((k.y+k.height)*t+k.x),K=Q,oe=4*ae;!0===k.interlaced&&(oe+=4*t*7);for(var se=8,le=0,te=O.length;le<te;++le){var ee=O[le];if(0===ve&&(ve=H,(K+=oe)>=j&&(oe=4*ae+4*t*(se-1),K=Q+(H+ae)*(se<<1),se>>=1)),ee===G)K+=4;else{var xe=n[P+3*ee+1],ge=n[P+3*ee+2];U[K++]=n[P+3*ee],U[K++]=xe,U[K++]=ge,U[K++]=255}--ve}}}function VZ(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,h=0,d=0,f=n[e++],A=new Int32Array(4096),p=null;;){for(;u<16&&0!==f;)h|=n[e++]<<u,u+=8,1===f?f=n[e++]:--f;if(u<l)break;var m=h&c;if(h>>=l,u-=l,m!==s){if(m===o)break;for(var g=m<a?m:p,y=0,v=g;v>s;)v=A[v]>>8,++y;var _=v;if(d+y+(g!==m?1:0)>r)return void no.log("Warning, gif stream longer than expected.");t[d++]=_;var C=d+=y;for(g!==m&&(t[d++]=_),v=g;y--;)t[--C]=255&(v=A[v]),v>>=8;null!==p&&a<4096&&(A[a++]=p<<8|_,a>=c+1&&l<12&&(++l,c=c<<1|1)),p=m}else a=o+1,c=(1<<(l=i+1))-1,p=null}return d!==r&&no.log("Warning, gif stream shorter than expected."),t}function Zk(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),A=new Array(64),p=[],m=0,g=7,y=new Array(64),v=new Array(64),_=new Array(64),C=new Array(256),b=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(Q,j){for(var K=0,oe=0,se=new Array,le=1;le<=16;le++){for(var te=1;te<=Q[le];te++)se[j[oe]]=[],se[j[oe]][0]=K,se[j[oe]][1]=le,oe++,K++;K*=2}return se}function P(Q){for(var j=Q[0],K=Q[1]-1;K>=0;)j&1<<K&&(m|=1<<g),K--,--g<0&&(255==m?(G(255),G(0)):G(m),g=7,m=0)}function G(Q){p.push(Q)}function H(Q){G(Q>>8&255),G(255&Q)}function ae(Q,j,K,oe,se){for(var le,te=se[0],ee=se[240],Ae=function(Pe,Oe){var re,J,Ue,Qe,rt,Xe,Pt,Ft,Tt,yn,st=0;for(Tt=0;Tt<8;++Tt){var vn=(re=Pe[st])+(Ft=Pe[st+7]),pn=re-Ft,_n=(J=Pe[st+1])+(Pt=Pe[st+6]),tn=J-Pt,$=(Ue=Pe[st+2])+(Xe=Pe[st+5]),Fe=Ue-Xe,Ke=(Qe=Pe[st+3])+(rt=Pe[st+4]),Ne=Qe-rt,_t=vn+Ke,nt=vn-Ke,Dt=_n+$,an=_n-$;Pe[st]=_t+Dt,Pe[st+4]=_t-Dt;var Vt=.707106781*(an+nt);Pe[st+2]=nt+Vt,Pe[st+6]=nt-Vt;var Rn=.382683433*((_t=Ne+Fe)-(an=tn+pn)),Bs=.5411961*_t+Rn,Yi=1.306562965*an+Rn,gi=.707106781*(Dt=Fe+tn),Ko=pn+gi,Jn=pn-gi;Pe[st+5]=Jn+Bs,Pe[st+3]=Jn-Bs,Pe[st+1]=Ko+Yi,Pe[st+7]=Ko-Yi,st+=8}for(st=0,Tt=0;Tt<8;++Tt){var Bu=(re=Pe[st])+(Ft=Pe[st+56]),fh=re-Ft,Xo=(J=Pe[st+8])+(Pt=Pe[st+48]),Po=J-Pt,Lo=(Ue=Pe[st+16])+(Xe=Pe[st+40]),gc=Ue-Xe,dd=(Qe=Pe[st+24])+(rt=Pe[st+32]),nf=Qe-rt,mc=Bu+dd,Nu=Bu-dd,Iu=Xo+Lo,rf=Xo-Lo;Pe[st]=mc+Iu,Pe[st+32]=mc-Iu;var Fu=.707106781*(rf+Nu);Pe[st+16]=Nu+Fu,Pe[st+48]=Nu-Fu;var sf=.382683433*((mc=nf+gc)-(rf=Po+fh)),Np=.5411961*mc+sf,Nm=1.306562965*rf+sf,be=.707106781*(Iu=gc+Po),et=fh+be,pt=fh-be;Pe[st+40]=pt+Np,Pe[st+24]=pt-Np,Pe[st+8]=et+Nm,Pe[st+56]=et-Nm,st++}for(Tt=0;Tt<64;++Tt)f[Tt]=(yn=Pe[Tt]*Oe[Tt])>0?yn+.5|0:yn-.5|0;return f}(Q,j),xe=0;xe<64;++xe)A[M[xe]]=Ae[xe];var ge=A[0]-K;K=A[0],0==ge?P(oe[0]):(P(oe[d[le=32767+ge]]),P(h[le]));for(var Ee=63;Ee>0&&0==A[Ee];)Ee--;if(0==Ee)return P(te),K;for(var ne,Y=1;Y<=Ee;){for(var W=Y;0==A[Y]&&Y<=Ee;)++Y;var Be=Y-W;if(Be>=16){ne=Be>>4;for(var Ce=1;Ce<=ne;++Ce)P(ee);Be&=15}P(se[(Be<<4)+d[le=32767+A[Y]]]),P(h[le]),Y++}return 63!=Ee&&P(te),K}function ve(Q){Q=Math.min(Math.max(Q,1),100),s!=Q&&(function(j){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var se=o((K[oe]*j+50)/100);se=Math.min(Math.max(se,1),255),a[M[oe]]=se}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],te=0;te<64;te++){var ee=o((le[te]*j+50)/100);ee=Math.min(Math.max(ee,1),255),l[M[te]]=ee}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,ge=0;ge<8;ge++)for(var Ee=0;Ee<8;Ee++)c[xe]=1/(a[M[xe]]*Ae[ge]*Ae[Ee]*8),u[xe]=1/(l[M[xe]]*Ae[ge]*Ae[Ee]*8),xe++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),s=Q)}this.encode=function(Q,j){var J,Ue;j&&ve(j),p=new Array,m=0,g=7,H(65496),H(65504),H(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),H(1),H(1),G(0),G(0),function(){H(65499),H(132),G(0);for(var J=0;J<64;J++)G(a[J]);G(1);for(var Ue=0;Ue<64;Ue++)G(l[Ue])}(),J=Q.width,Ue=Q.height,H(65472),H(17),G(8),H(Ue),H(J),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1),function(){H(65476),H(418),G(0);for(var J=0;J<16;J++)G(D[J+1]);for(var Ue=0;Ue<=11;Ue++)G(E[Ue]);G(16);for(var Qe=0;Qe<16;Qe++)G(T[Qe+1]);for(var rt=0;rt<=161;rt++)G(B[rt]);G(1);for(var Xe=0;Xe<16;Xe++)G(R[Xe+1]);for(var Pt=0;Pt<=11;Pt++)G(U[Pt]);G(17);for(var Ft=0;Ft<16;Ft++)G(k[Ft+1]);for(var Tt=0;Tt<=161;Tt++)G(q[Tt])}(),H(65498),H(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var K=0,oe=0,se=0;m=0,g=7,this.encode.displayName="_encode_";for(var le,te,ee,Ae,xe,ge,Ee,ne,Y,W=Q.data,Ce=Q.height,Pe=4*Q.width,Oe=0;Oe<Ce;){for(le=0;le<Pe;){for(xe=Pe*Oe+le,Ee=-1,ne=0,Y=0;Y<64;Y++)ge=xe+(ne=Y>>3)*Pe+(Ee=4*(7&Y)),Oe+ne>=Ce&&(ge-=Pe*(Oe+1+ne-Ce)),le+Ee>=Pe&&(ge-=le+Ee-Pe+4),te=W[ge++],ee=W[ge++],Ae=W[ge++],y[Y]=(b[te]+b[ee+256|0]+b[Ae+512|0]>>16)-128,v[Y]=(b[te+768|0]+b[ee+1024|0]+b[Ae+1280|0]>>16)-128,_[Y]=(b[te+1280|0]+b[ee+1536|0]+b[Ae+1792|0]>>16)-128;K=ae(y,c,K,e,r),oe=ae(v,u,oe,t,i),se=ae(_,u,se,t,i),le+=32}Oe+=8}if(g>=0){var re=[];re[1]=g+1,re[0]=(1<<g+1)-1,P(re)}return H(65497),new Uint8Array(p)},n=n||50,function(){for(var Q=String.fromCharCode,j=0;j<256;j++)C[j]=Q(j)}(),e=O(D,E),t=O(R,U),r=O(T,B),i=O(k,q),function(){for(var Q=1,j=2,K=1;K<=15;K++){for(var oe=Q;oe<j;oe++)d[32767+oe]=K,h[32767+oe]=[],h[32767+oe][1]=K,h[32767+oe][0]=oe;for(var se=-(j-1);se<=-Q;se++)d[32767+se]=K,h[32767+se]=[],h[32767+se][1]=K,h[32767+se][0]=j-1+se;Q<<=1,j<<=1}}(),function(){for(var Q=0;Q<256;Q++)b[Q]=19595*Q,b[Q+256|0]=38470*Q,b[Q+512|0]=7471*Q+32768,b[Q+768|0]=-11059*Q,b[Q+1024|0]=-21709*Q,b[Q+1280|0]=32768*Q+8421375,b[Q+1536|0]=-27439*Q,b[Q+1792|0]=-5329*Q}(),ve(n)}function Yf(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function QZ(n){function e(D){if(!D)throw Error("assert :P")}function t(D,E,T){for(var B=0;4>B;B++)if(D[E+B]!=T.charCodeAt(B))return!0;return!1}function r(D,E,T,B,R){for(var U=0;U<R;U++)D[E+U]=T[B+U]}function i(D,E,T,B){for(var R=0;R<B;R++)D[E+R]=T}function s(D){return new Int32Array(D)}function o(D,E){for(var T=[],B=0;B<D;B++)T.push(new E);return T}function a(D,E){var T=[];return function B(R,U,k){for(var q=k[U],O=0;O<q&&(R.push(k.length>U+1?[]:new E),!(k.length<U+1));O++)B(R[O],U+1,k)}(T,0,D),T}var l=function(){var D=this;function E(w,F){for(var V=1<<F-1>>>0;w&V;)V>>>=1;return V?(w&V-1)+V:w}function T(w,F,V,X,ue){e(!(X%V));do{w[F+(X-=V)]=ue}while(0<X)}function B(w,F,V,X,ue){if(e(2328>=ue),512>=ue)var de=s(512);else if(null==(de=s(ue)))return 0;return function(pe,me,_e,Ie,We,ut){var ht,tt,Gt=me,wt=1<<_e,$e=s(16),Ye=s(16);for(e(0!=We),e(null!=Ie),e(null!=pe),e(0<_e),tt=0;tt<We;++tt){if(15<Ie[tt])return 0;++$e[Ie[tt]]}if($e[0]==We)return 0;for(Ye[1]=0,ht=1;15>ht;++ht){if($e[ht]>1<<ht)return 0;Ye[ht+1]=Ye[ht]+$e[ht]}for(tt=0;tt<We;++tt)ht=Ie[tt],0<Ie[tt]&&(ut[Ye[ht]++]=tt);if(1==Ye[15])return(Ie=new R).g=0,Ie.value=ut[0],T(pe,Gt,1,wt,Ie),wt;var kt,Kt=-1,Qt=wt-1,Pn=0,Dn=1,fr=1,Nn=1<<_e;for(tt=0,ht=1,We=2;ht<=_e;++ht,We<<=1){if(Dn+=fr<<=1,0>(fr-=$e[ht]))return 0;for(;0<$e[ht];--$e[ht])(Ie=new R).g=ht,Ie.value=ut[tt++],T(pe,Gt+Pn,We,Nn,Ie),Pn=E(Pn,ht)}for(ht=_e+1,We=2;15>=ht;++ht,We<<=1){if(Dn+=fr<<=1,0>(fr-=$e[ht]))return 0;for(;0<$e[ht];--$e[ht]){if(Ie=new R,(Pn&Qt)!=Kt){for(Gt+=Nn,kt=1<<(Kt=ht)-_e;15>Kt&&!(0>=(kt-=$e[Kt]));)++Kt,kt<<=1;wt+=Nn=1<<(kt=Kt-_e),pe[me+(Kt=Pn&Qt)].g=kt+_e,pe[me+Kt].value=Gt-me-Kt}Ie.g=ht-_e,Ie.value=ut[tt++],T(pe,Gt+(Pn>>_e),We,Nn,Ie),Pn=E(Pn,ht)}}return Dn!=2*Ye[15]-1?0:wt}(w,F,V,X,ue,de)}function R(){this.value=this.g=0}function U(){this.value=this.g=0}function k(){this.G=o(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(zl,U)}function q(w,F,V,X){e(null!=w),e(null!=F),e(2147483648>X),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=F,w.pa=V,w.Jd=F,w.Yc=V+X,w.Zc=4<=X?V+X-4+1:V,le(w)}function O(w,F){for(var V=0;0<F--;)V|=ee(w,128)<<F;return V}function P(w,F){var V=O(w,F);return te(w)?-V:V}function G(w,F,V,X){var ue,de=0;for(e(null!=w),e(null!=F),e(4294967288>X),w.Sb=X,w.Ra=0,w.u=0,w.h=0,4<X&&(X=4),ue=0;ue<X;++ue)de+=F[V+ue]<<8*ue;w.Ra=de,w.bb=X,w.oa=F,w.pa=V}function H(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<nw-8>>>0,++w.bb,w.u-=8;K(w)&&(w.h=1,w.u=0)}function ae(w,F){if(e(0<=F),!w.h&&F<=tw){var V=j(w)&ew[F];return w.u+=F,H(w),V}return w.h=1,w.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(w){return w.Ra>>>(w.u&nw-1)>>>0}function K(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>nw}function oe(w,F){w.u=F,w.h=K(w)}function se(w){w.u>=VS&&(e(w.u>=VS),H(w))}function le(w){e(null!=w&&null!=w.oa),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(null!=w&&null!=w.oa),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function te(w){return O(w,1)}function ee(w,F){var V=w.Ca;0>w.b&&le(w);var X=w.b,ue=V*F>>>8,de=(w.I>>>X>ue)+0;for(de?(V-=ue,w.I-=ue+1<<X>>>0):V=ue+1,X=V,ue=0;256<=X;)ue+=8,X>>=8;return w.b-=X=7^ue+Ru[X],w.Ca=(V<<X)-1,de}function Ae(w,F,V){w[F+0]=V>>24&255,w[F+1]=V>>16&255,w[F+2]=V>>8&255,w[F+3]=255&V}function xe(w,F){return w[F+0]|w[F+1]<<8}function ge(w,F){return xe(w,F)|w[F+2]<<16}function Ee(w,F){return xe(w,F)|xe(w,F+2)<<16}function ne(w,F){var V=1<<F;return e(null!=w),e(0<F),w.X=s(V),null==w.X?0:(w.Mb=32-F,w.Xa=F,1)}function Y(w,F){e(null!=w),e(null!=F),e(w.Xa==F.Xa),r(F.X,0,w.X,0,1<<F.Xa)}function W(){this.X=[],this.Xa=this.Mb=0}function Be(w,F,V,X){e(null!=V),e(null!=X);var ue=V[0],de=X[0];return 0==ue&&(ue=(w*de+F/2)/F),0==de&&(de=(F*ue+w/2)/w),0>=ue||0>=de?0:(V[0]=ue,X[0]=de,1)}function Ce(w,F){return w+(1<<F)-1>>>F}function Pe(w,F){return((4278255360&w)+(4278255360&F)>>>0&4278255360)+((16711935&w)+(16711935&F)>>>0&16711935)>>>0}function Oe(w,F){D[F]=function(V,X,ue,de,pe,me,_e){var Ie;for(Ie=0;Ie<pe;++Ie){var We=D[w](me[_e+Ie-1],ue,de+Ie);me[_e+Ie]=Pe(V[X+Ie],We)}}}function re(){this.ud=this.hd=this.jd=0}function J(w,F){return((4278124286&(w^F))>>>1)+(w&F)>>>0}function Ue(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Qe(w,F){return Ue(w+(w-F+.5>>1))}function rt(w,F,V){return Math.abs(F-V)-Math.abs(w-V)}function Xe(w,F,V,X,ue,de,pe){for(X=de[pe-1],V=0;V<ue;++V)de[pe+V]=X=Pe(w[F+V],X)}function Pt(w,F,V,X,ue){var de;for(de=0;de<V;++de){var pe=w[F+de],me=pe>>8&255,_e=16711935&(_e=(_e=16711935&pe)+((me<<16)+me));X[ue+de]=(4278255360&pe)+_e>>>0}}function Ft(w,F){F.jd=255&w,F.hd=w>>8&255,F.ud=w>>16&255}function Tt(w,F,V,X,ue,de){var pe;for(pe=0;pe<X;++pe){var me=F[V+pe],_e=me>>>8,Ie=me,We=255&(We=(We=me>>>16)+((w.jd<<24>>24)*(_e<<24>>24)>>>5));Ie=255&(Ie=(Ie+=(w.hd<<24>>24)*(_e<<24>>24)>>>5)+((w.ud<<24>>24)*(We<<24>>24)>>>5)),ue[de+pe]=(4278255360&me)+(We<<16)+Ie}}function yn(w,F,V,X,ue){D[F]=function(de,pe,me,_e,Ie,We,ut,ht,tt){for(_e=ut;_e<ht;++_e)for(ut=0;ut<tt;++ut)Ie[We++]=ue(me[X(de[pe++])])},D[w]=function(de,pe,me,_e,Ie,We,ut){var ht=8>>de.b,tt=de.Ea,Gt=de.K[0],wt=de.w;if(8>ht)for(de=(1<<de.b)-1,wt=(1<<ht)-1;pe<me;++pe){var $e,Ye=0;for($e=0;$e<tt;++$e)$e&de||(Ye=X(_e[Ie++])),We[ut++]=ue(Gt[Ye&wt]),Ye>>=ht}else D["VP8LMapColor"+V](_e,Ie,Gt,wt,We,ut,pe,me,tt)}}function st(w,F,V,X,ue){for(V=F+V;F<V;){var de=w[F++];X[ue++]=de>>16&255,X[ue++]=de>>8&255,X[ue++]=255&de}}function vn(w,F,V,X,ue){for(V=F+V;F<V;){var de=w[F++];X[ue++]=de>>16&255,X[ue++]=de>>8&255,X[ue++]=255&de,X[ue++]=de>>24&255}}function pn(w,F,V,X,ue){for(V=F+V;F<V;){var de=(pe=w[F++])>>16&240|pe>>12&15,pe=240&pe|pe>>28&15;X[ue++]=de,X[ue++]=pe}}function _n(w,F,V,X,ue){for(V=F+V;F<V;){var de=(pe=w[F++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;X[ue++]=de,X[ue++]=pe}}function tn(w,F,V,X,ue){for(V=F+V;F<V;){var de=w[F++];X[ue++]=255&de,X[ue++]=de>>8&255,X[ue++]=de>>16&255}}function $(w,F,V,X,ue,de){if(0==de)for(V=F+V;F<V;)Ae(X,((de=w[F++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),ue+=32;else r(X,ue,w,F,V)}function Fe(w,F){D[F][0]=D[w+"0"],D[F][1]=D[w+"1"],D[F][2]=D[w+"2"],D[F][3]=D[w+"3"],D[F][4]=D[w+"4"],D[F][5]=D[w+"5"],D[F][6]=D[w+"6"],D[F][7]=D[w+"7"],D[F][8]=D[w+"8"],D[F][9]=D[w+"9"],D[F][10]=D[w+"10"],D[F][11]=D[w+"11"],D[F][12]=D[w+"12"],D[F][13]=D[w+"13"],D[F][14]=D[w+"0"],D[F][15]=D[w+"0"]}function Ke(w){return w==Y6||w==J6||w==nR||w==Z6}function Ne(){this.eb=[],this.size=this.A=this.fb=0}function _t(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function nt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ne,this.f.kb=new _t,this.sd=null}function Dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function an(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vt(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Rn(w,F){var V=w.T,X=F.ba.f.RGBA,ue=X.eb,de=X.fb+w.ka*X.A,pe=ff[F.ba.S],me=w.y,_e=w.O,Ie=w.f,We=w.N,ut=w.ea,ht=w.W,tt=F.cc,Gt=F.dc,wt=F.Mc,$e=F.Nc,Ye=w.ka,kt=w.ka+w.T,Kt=w.U,Qt=Kt+1>>1;for(0==Ye?pe(me,_e,null,null,Ie,We,ut,ht,Ie,We,ut,ht,ue,de,null,null,Kt):(pe(F.ec,F.fc,me,_e,tt,Gt,wt,$e,Ie,We,ut,ht,ue,de-X.A,ue,de,Kt),++V);Ye+2<kt;Ye+=2)pe(me,(_e+=2*w.fa)-w.fa,me,_e,tt=Ie,Gt=We,wt=ut,$e=ht,Ie,We+=w.Rc,ut,ht+=w.Rc,ue,(de+=2*X.A)-X.A,ue,de,Kt);return _e+=w.fa,w.j+kt<w.o?(r(F.ec,F.fc,me,_e,Kt),r(F.cc,F.dc,Ie,We,Qt),r(F.Mc,F.Nc,ut,ht,Qt),V--):1&kt||pe(me,_e,null,null,Ie,We,ut,ht,Ie,We,ut,ht,ue,de+X.A,null,null,Kt),V}function Bs(w,F,V){var X=w.F,ue=[w.J];if(null!=X){var de=w.U,pe=F.ba.S,me=pe==tR||pe==nR;F=F.ba.f.RGBA;var _e=[0],Ie=w.ka;_e[0]=w.T,w.Kb&&(0==Ie?--_e[0]:(--Ie,ue[0]-=w.width),w.j+w.ka+w.T==w.o&&(_e[0]=w.o-w.j-Ie));var We=F.eb;w=Ao(X,ue[0],w.width,de,_e,We,(Ie=F.fb+Ie*F.A)+(me?0:3),F.A),e(V==_e),w&&Ke(pe)&&uf(We,Ie,me,de,_e,F.A)}return 0}function Yi(w){var F=w.ma,V=F.ba.S,X=11>V,ue=V==ZF||V==eR||V==tR||V==X6||12==V||Ke(V);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!kS(F.Oa,w,ue?11:12))return 0;if(ue&&Ke(V)&&Zt(),w.da)alert("todo:use_scaling");else{if(X){if(F.Ib=Vt,w.Kb){if(F.memory=s(w.U+2*(V=w.U+1>>1)),null==F.memory)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+w.U,F.Mc=F.cc,F.Nc=F.dc+V,F.Ib=Rn,Zt()}}else alert("todo:EmitYUV");ue&&(F.Jb=Bs,X&&ot())}if(X&&!hue){for(w=0;256>w;++w)llt[w]=89858*(w-128)+iR>>rR,hlt[w]=-22014*(w-128)+iR,ult[w]=-45773*(w-128),clt[w]=113618*(w-128)+iR>>rR;for(w=$S;w<nV;++w)flt[w-$S]=dh(F=76283*(w-16)+iR>>rR,255),dlt[w-$S]=dh(F+8>>4,15);hue=1}return 1}function gi(w){var F=w.ma,V=w.U,X=w.T;return e(!(1&w.ka)),0>=V||0>=X?0:(V=F.Ib(w,F),null!=F.Jb&&F.Jb(w,F,V),F.Dc+=V,1)}function Ko(w){w.ma.memory=null}function Jn(w,F,V,X){return 47!=ae(w,8)?0:(F[0]=ae(w,14)+1,V[0]=ae(w,14)+1,X[0]=ae(w,1),0!=ae(w,3)?0:!w.h)}function Bu(w,F){if(4>w)return w+1;var V=w-2>>1;return(2+(1&w)<<V)+ae(F,V)+1}function fh(w,F){return 120<F?F-120:1<=(V=((V=$at[F-1])>>4)*w+(8-(15&V)))?V:1;var V}function Xo(w,F,V){var X=j(V),ue=w[F+=255&X].g-8;return 0<ue&&(oe(V,V.u+8),X=j(V),F+=w[F].value,F+=X&(1<<ue)-1),oe(V,V.u+w[F].g),w[F].value}function Po(w,F,V){return V.g+=w.g,V.value+=w.value<<F>>>0,e(8>=V.g),w.g}function Lo(w,F,V){var X=w.xc;return e((F=0==X?0:w.vc[w.md*(V>>X)+(F>>X)])<w.Wb),w.Ya[F]}function gc(w,F,V,X){var ue=w.ab,de=w.c*F,pe=w.C;F=pe+F;var me=V,_e=X;for(X=w.Ta,V=w.Ua;0<ue--;){var Ie=w.gc[ue],We=pe,ut=F,ht=me,tt=_e,Gt=(_e=X,me=V,Ie.Ea);switch(e(We<ut),e(ut<=Ie.nc),Ie.hc){case 2:qF(ht,tt,(ut-We)*Gt,_e,me);break;case 0:var wt=We,$e=ut,Ye=_e,kt=me,Kt=(Nn=Ie).Ea;0==wt&&($6(ht,tt,null,null,1,Ye,kt),Xe(ht,tt+1,0,0,Kt-1,Ye,kt+1),tt+=Kt,kt+=Kt,++wt);for(var Qt=1<<Nn.b,Pn=Qt-1,Dn=Ce(Kt,Nn.b),fr=Nn.K,Nn=Nn.w+(wt>>Nn.b)*Dn;wt<$e;){var Ss=fr,Us=Nn,os=1;for(QS(ht,tt,Ye,kt-Kt,1,Ye,kt);os<Kt;){var Ri=(os&~Pn)+Qt;Ri>Kt&&(Ri=Kt),(0,Pm[Ss[Us++]>>8&15])(ht,tt+ +os,Ye,kt+os-Kt,Ri-os,Ye,kt+os),os=Ri}tt+=Kt,kt+=Kt,++wt&Pn||(Nn+=Dn)}ut!=Ie.nc&&r(_e,me-Gt,_e,me+(ut-We-1)*Gt,Gt);break;case 1:for(Gt=ht,$e=tt,Kt=(ht=Ie.Ea)-(kt=ht&~(Ye=(tt=1<<Ie.b)-1)),wt=Ce(ht,Ie.b),Qt=Ie.K,Ie=Ie.w+(We>>Ie.b)*wt;We<ut;){for(Pn=Qt,Dn=Ie,fr=new re,Nn=$e+kt,Ss=$e+ht;$e<Nn;)Ft(Pn[Dn++],fr),sy(fr,Gt,$e,tt,_e,me),$e+=tt,me+=tt;$e<Ss&&(Ft(Pn[Dn++],fr),sy(fr,Gt,$e,Kt,_e,me),$e+=Kt,me+=Kt),++We&Ye||(Ie+=wt)}break;case 3:if(ht==_e&&tt==me&&0<Ie.b){for($e=_e,ht=Gt=me+(ut-We)*Gt-(kt=(ut-We)*Ce(Ie.Ea,Ie.b)),tt=_e,Ye=me,wt=[],kt=(Kt=kt)-1;0<=kt;--kt)wt[kt]=tt[Ye+kt];for(kt=Kt-1;0<=kt;--kt)$e[ht+kt]=wt[kt];af(Ie,We,ut,_e,Gt,_e,me)}else af(Ie,We,ut,ht,tt,_e,me)}me=X,_e=V}_e!=V&&r(X,V,me,_e,de)}function dd(w,F){var V=w.V,X=w.Ba+w.c*w.C,ue=F-w.C;if(e(F<=w.l.o),e(16>=ue),0<ue){var de=w.l,pe=w.Ta,me=w.Ua,_e=de.width;if(gc(w,ue,V,X),ue=me=[me],e((V=w.C)<(X=F)),e(de.v<de.va),X>de.o&&(X=de.o),V<de.j){var Ie=de.j-V;V=de.j,ue[0]+=Ie*_e}if(V>=X?V=0:(ue[0]+=4*de.v,de.ka=V-de.j,de.U=de.va-de.v,de.T=X-V,V=1),V){if(me=me[0],11>(V=w.ca).S){var We=V.f.RGBA,ut=(X=V.S,ue=de.U,de=de.T,Ie=We.eb,We.A),ht=de;for(We=We.fb+w.Ma*We.A;0<ht--;){var tt=pe,Gt=me,wt=ue,$e=Ie,Ye=We;switch(X){case JF:Ou(tt,Gt,wt,$e,Ye);break;case ZF:Yc(tt,Gt,wt,$e,Ye);break;case Y6:Yc(tt,Gt,wt,$e,Ye),uf($e,Ye,0,wt,1,0);break;case tue:Op(tt,Gt,wt,$e,Ye);break;case eR:$(tt,Gt,wt,$e,Ye,1);break;case J6:$(tt,Gt,wt,$e,Ye,1),uf($e,Ye,0,wt,1,0);break;case tR:$(tt,Gt,wt,$e,Ye,0);break;case nR:$(tt,Gt,wt,$e,Ye,0),uf($e,Ye,1,wt,1,0);break;case X6:Lm(tt,Gt,wt,$e,Ye);break;case Z6:Lm(tt,Gt,wt,$e,Ye),fo($e,Ye,wt,1,0);break;case nue:Rp(tt,Gt,wt,$e,Ye);break;default:e(0)}me+=_e,We+=ut}w.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=V.height)}}w.C=F,e(w.C<=w.i)}function nf(w){var F;if(0<w.ua)return 0;for(F=0;F<w.Wb;++F){var V=w.Ya[F].G,X=w.Ya[F].H;if(0<V[1][X[1]+0].g||0<V[2][X[2]+0].g||0<V[3][X[3]+0].g)return 0}return 1}function mc(w,F,V,X,ue,de){if(0!=w.Z){var pe=w.qd,me=w.rd;for(e(null!=Vm[w.Z]);F<V;++F)Vm[w.Z](pe,me,X,ue,X,ue,de),pe=X,me=ue,ue+=de;w.qd=pe,w.rd=me}}function Nu(w,F){var V=w.l.ma,X=0==V.Z||1==V.Z?w.l.j:w.C;if(X=w.C<X?X:w.C,e(F<=w.l.o),F>X){var ue=w.l.width,de=V.ca,pe=V.tb+ue*X,me=w.V,_e=w.Ba+w.c*X,Ie=w.gc;e(1==w.ab),e(3==Ie[0].hc),WF(Ie[0],X,F,me,_e,de,pe),mc(V,X,F,de,pe,ue)}w.C=w.Ma=F}function Iu(w,F,V,X,ue,de,pe){var me=w.$/X,_e=w.$%X,Ie=w.m,We=w.s,ut=V+w.$,ht=ut;ue=V+X*ue;var tt=V+X*de,Gt=280+We.ua,wt=w.Pb?me:16777216,$e=0<We.ua?We.Wa:null,Ye=We.wc,kt=ut<tt?Lo(We,_e,me):null;e(w.C<de),e(tt<=ue);var Kt=!1;e:for(;;){for(;Kt||ut<tt;){var Qt=0;if(me>=wt){var Pn=ut-V;e((wt=w).Pb),wt.wd=wt.m,wt.xd=Pn,0<wt.s.ua&&Y(wt.s.Wa,wt.s.vb),wt=me+Xat}if(_e&Ye||(kt=Lo(We,_e,me)),e(null!=kt),kt.Qb&&(F[ut]=kt.qb,Kt=!0),!Kt)if(se(Ie),kt.jc){Pn=F;var Dn=ut,fr=kt.pd[j(Qt=Ie)&zl-1];e(kt.jc),256>fr.g?(oe(Qt,Qt.u+fr.g),Pn[Dn]=fr.value,Qt=0):(oe(Qt,Qt.u+fr.g-256),e(256<=fr.value),Qt=fr.value),0==Qt&&(Kt=!0)}else Qt=Xo(kt.G[0],kt.H[0],Ie);if(Ie.h)break;if(Kt||256>Qt){if(!Kt)if(kt.nd)F[ut]=(kt.qb|Qt<<8)>>>0;else{if(se(Ie),Kt=Xo(kt.G[1],kt.H[1],Ie),se(Ie),Pn=Xo(kt.G[2],kt.H[2],Ie),Dn=Xo(kt.G[3],kt.H[3],Ie),Ie.h)break;F[ut]=(Dn<<24|Kt<<16|Qt<<8|Pn)>>>0}if(Kt=!1,++ut,++_e>=X&&(_e=0,++me,null!=pe&&me<=de&&!(me%16)&&pe(w,me),null!=$e))for(;ht<ut;)Qt=F[ht++],$e.X[(506832829*Qt&4294967295)>>>$e.Mb]=Qt}else if(280>Qt){if(Qt=Bu(Qt-256,Ie),Pn=Xo(kt.G[4],kt.H[4],Ie),se(Ie),Pn=fh(X,Pn=Bu(Pn,Ie)),Ie.h)break;if(ut-V<Pn||ue-ut<Qt)break e;for(Dn=0;Dn<Qt;++Dn)F[ut+Dn]=F[ut+Dn-Pn];for(ut+=Qt,_e+=Qt;_e>=X;)_e-=X,++me,null!=pe&&me<=de&&!(me%16)&&pe(w,me);if(e(ut<=ue),_e&Ye&&(kt=Lo(We,_e,me)),null!=$e)for(;ht<ut;)Qt=F[ht++],$e.X[(506832829*Qt&4294967295)>>>$e.Mb]=Qt}else{if(!(Qt<Gt))break e;for(Kt=Qt-280,e(null!=$e);ht<ut;)Qt=F[ht++],$e.X[(506832829*Qt&4294967295)>>>$e.Mb]=Qt;Qt=ut,e(!(Kt>>>(Pn=$e).Xa)),F[Qt]=Pn.X[Kt],Kt=!0}Kt||e(Ie.h==K(Ie))}if(w.Pb&&Ie.h&&ut<ue)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Y(w.s.vb,w.s.Wa);else{if(Ie.h)break e;pe?.(w,me>de?de:me),w.a=0,w.$=ut-V}return 1}return w.a=3,0}function rf(w){e(null!=w),w.vc=null,w.yc=null,w.Ya=null;var F=w.Wa;null!=F&&(F.X=null),w.vb=null,e(null!=w)}function Fu(){var w=new W6;return null==w?null:(w.a=0,w.xb=sue,Fe("Predictor","VP8LPredictors"),Fe("Predictor","VP8LPredictors_C"),Fe("PredictorAdd","VP8LPredictorsAdd"),Fe("PredictorAdd","VP8LPredictorsAdd_C"),qF=Pt,sy=Tt,Ou=st,Yc=vn,Lm=pn,Rp=_n,Op=tn,D.VP8LMapColor32b=rw,D.VP8LMapColor8b=$F,w)}function sf(w,F,V,X,ue){var de=1,pe=[w],me=[F],_e=X.m,Ie=X.s,We=null,ut=0;e:for(;;){if(V)for(;de&&ae(_e,1);){var ht=pe,tt=me,Gt=X,wt=1,$e=Gt.m,Ye=Gt.gc[Gt.ab],kt=ae($e,2);if(Gt.Oc&1<<kt)de=0;else{switch(Gt.Oc|=1<<kt,Ye.hc=kt,Ye.Ea=ht[0],Ye.nc=tt[0],Ye.K=[null],++Gt.ab,e(4>=Gt.ab),kt){case 0:case 1:Ye.b=ae($e,3)+2,wt=sf(Ce(Ye.Ea,Ye.b),Ce(Ye.nc,Ye.b),0,Gt,Ye.K),Ye.K=Ye.K[0];break;case 3:var Kt,Qt=ae($e,8)+1,Pn=16<Qt?0:4<Qt?1:2<Qt?2:3;if(ht[0]=Ce(Ye.Ea,Pn),Ye.b=Pn,Kt=wt=sf(Qt,1,0,Gt,Ye.K)){var Dn,fr=Qt,Nn=Ye,Ss=1<<(8>>Nn.b),Us=s(Ss);if(null==Us)Kt=0;else{var os=Nn.K[0],Ri=Nn.w;for(Us[0]=Nn.K[0][0],Dn=1;Dn<1*fr;++Dn)Us[Dn]=Pe(os[Ri+Dn],Us[Dn-1]);for(;Dn<4*Ss;++Dn)Us[Dn]=0;Nn.K[0]=null,Nn.K[0]=Us,Kt=1}}wt=Kt;break;case 2:break;default:e(0)}de=wt}}if(pe=pe[0],me=me[0],de&&ae(_e,1)&&!(de=1<=(ut=ae(_e,4))&&11>=ut)){X.a=3;break e}var oo;if(oo=de)t:{var Xs,ai,Ra,Pu=X,Oa=pe,Lu=me,ks=ut,ph=V,gh=Pu.m,yl=Pu.s,Gl=[null],Zc=1,df=0,pA=Kat[ks];n:for(;;){if(ph&&ae(gh,1)){var _l=ae(gh,3)+2,kp=Ce(Oa,_l),uy=Ce(Lu,_l),lw=kp*uy;if(!sf(kp,uy,0,Pu,Gl))break n;for(Gl=Gl[0],yl.xc=_l,Xs=0;Xs<lw;++Xs){var Qm=Gl[Xs]>>8&65535;Gl[Xs]=Qm,Qm>=Zc&&(Zc=Qm+1)}}if(gh.h)break n;for(ai=0;5>ai;++ai){var Zo=rue[ai];!ai&&0<ks&&(Zo+=1<<ks),df<Zo&&(df=Zo)}var rV=o(Zc*pA,R),Aue=Zc,pue=o(Aue,k);if(null==pue)var oR=null;else e(65536>=Aue),oR=pue;var KS=s(df);if(null==oR||null==KS||null==rV){Pu.a=1;break n}var aR=rV;for(Xs=Ra=0;Xs<Zc;++Xs){var vd=oR[Xs],cw=vd.G,uw=vd.H,gue=0,lR=1,mue=0;for(ai=0;5>ai;++ai){Zo=rue[ai],cw[ai]=aR,uw[ai]=Ra,!ai&&0<ks&&(Zo+=1<<ks);i:{var cR,iV=Zo,uR=Pu,XS=KS,glt=aR,mlt=Ra,sV=0,zm=uR.m,vlt=ae(zm,1);if(i(XS,0,0,iV),vlt){var ylt=ae(zm,1)+1,_lt=ae(zm,1),vue=ae(zm,0==_lt?1:8);XS[vue]=1,2==ylt&&(XS[vue=ae(zm,8)]=1);var hR=1}else{var yue=s(19),_ue=ae(zm,4)+4;if(19<_ue){uR.a=3;var fR=0;break i}for(cR=0;cR<_ue;++cR)yue[Wat[cR]]=ae(zm,3);var oV=void 0,YS=void 0,bue=uR,blt=yue,dR=iV,wue=XS,aV=0,Gm=bue.m,Cue=8,xue=o(128,R);r:for(;B(xue,0,7,blt,19);){if(ae(Gm,1)){var wlt=2+2*ae(Gm,3);if((oV=2+ae(Gm,wlt))>dR)break r}else oV=dR;for(YS=0;YS<dR&&oV--;){se(Gm);var Eue=xue[0+(127&j(Gm))];oe(Gm,Gm.u+Eue.g);var hw=Eue.value;if(16>hw)wue[YS++]=hw,0!=hw&&(Cue=hw);else{var Clt=16==hw,Sue=hw-16,xlt=jat[Sue],Due=ae(Gm,Gat[Sue])+xlt;if(YS+Due>dR)break r;for(var Elt=Clt?Cue:0;0<Due--;)wue[YS++]=Elt}}aV=1;break r}aV||(bue.a=3),hR=aV}(hR=hR&&!zm.h)&&(sV=B(glt,mlt,8,XS,iV)),hR&&0!=sV?fR=sV:(uR.a=3,fR=0)}if(0==fR)break n;if(lR&&1==qat[ai]&&(lR=0==aR[Ra].g),gue+=aR[Ra].g,Ra+=fR,3>=ai){var JS,lV=KS[0];for(JS=1;JS<Zo;++JS)KS[JS]>lV&&(lV=KS[JS]);mue+=lV}}if(vd.nd=lR,vd.Qb=0,lR&&(vd.qb=(cw[3][uw[3]+0].value<<24|cw[1][uw[1]+0].value<<16|cw[2][uw[2]+0].value)>>>0,0==gue&&256>cw[0][uw[0]+0].value&&(vd.Qb=1,vd.qb+=cw[0][uw[0]+0].value<<8)),vd.jc=!vd.Qb&&6>mue,vd.jc){var AR,Hp=vd;for(AR=0;AR<zl;++AR){var jm=AR,qm=Hp.pd[jm],pR=Hp.G[0][Hp.H[0]+jm];256<=pR.value?(qm.g=pR.g+256,qm.value=pR.value):(qm.g=0,qm.value=0,jm>>=Po(pR,8,qm),jm>>=Po(Hp.G[1][Hp.H[1]+jm],16,qm),jm>>=Po(Hp.G[2][Hp.H[2]+jm],0,qm),Po(Hp.G[3][Hp.H[3]+jm],24,qm))}}}yl.vc=Gl,yl.Wb=Zc,yl.Ya=oR,yl.yc=rV,oo=1;break t}oo=0}if(!(de=oo)){X.a=3;break e}if(0<ut){if(Ie.ua=1<<ut,!ne(Ie.Wa,ut)){X.a=1,de=0;break e}}else Ie.ua=0;var cV=X,Mue=pe,Slt=me,uV=cV.s,hV=uV.xc;if(cV.c=Mue,cV.i=Slt,uV.md=Ce(Mue,hV),uV.wc=0==hV?-1:(1<<hV)-1,V){X.xb=rlt;break e}if(null==(We=s(pe*me))){X.a=1,de=0;break e}de=(de=Iu(X,We,0,pe,me,me,null))&&!_e.h;break e}return de?(null!=ue?ue[0]=We:(e(null==We),e(V)),X.$=0,V||rf(Ie)):rf(Ie),de}function Np(w,F){var V=w.c*w.i,X=V+F+16*F;return e(w.c<=F),w.V=s(X),null==w.V?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+V+F,1)}function Nm(w,F){var V=w.C,X=F-V,ue=w.V,de=w.Ba+w.c*V;for(e(F<=w.l.o);0<X;){var pe=16<X?16:X,me=w.l.ma,_e=w.l.width,Ie=_e*pe,We=me.ca,ut=me.tb+_e*V,ht=w.Ta,tt=w.Ua;gc(w,pe,ue,de),pa(ht,tt,We,ut,Ie),mc(me,V,V+pe,We,ut,_e),X-=pe,ue+=pe*w.c,V+=pe}e(V==F),w.C=w.Ma=F}function be(){this.ub=this.yd=this.td=this.Rb=0}function et(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function gt(){var w;this.Yb=(function F(V,X,ue){for(var de=ue[X],pe=0;pe<de&&(V.push(ue.length>X+1?[]:0),!(ue.length<X+1));pe++)F(V[pe],X+1,ue)}(w=[],0,[3,11]),w)}function it(){this.jb=s(3),this.Wc=a([4,8],gt),this.Xc=a([4,17],gt)}function on(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function wn(){this.ld=this.La=this.dd=this.tc=0}function kn(){this.Na=this.la=0}function zn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pr(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Mr(){this.uc=this.M=this.Nb=0,this.wa=Array(new wn),this.Y=0,this.ya=Array(new pr),this.aa=0,this.l=new Ii}function rr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function _i(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new be,this.Kc=new et,this.ed=new on,this.Qa=new pt,this.Ic=this.$c=this.Aa=0,this.D=new Mr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ve),this.ia=0,this.pb=o(4,zn),this.Pa=new it,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rr),this.Hd=0,this.rb=Array(new kn),this.sb=0,this.wa=Array(new wn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pr),this.L=this.aa=0,this.gd=a([4,2],wn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ii(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function so(){var w=new _i;return null!=w&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,WS||(WS=Yo)),w}function Wr(w,F,V){return 0==w.a&&(w.a=F,w.sc=V,w.cb=0),0}function Mi(w,F,V){return 3<=V&&157==w[F+0]&&1==w[F+1]&&42==w[F+2]}function ir(w,F){if(null==w)return 0;if(w.a=0,w.sc="OK",null==F)return Wr(w,2,"null VP8Io passed to VP8GetHeaders()");var V=F.data,X=F.w,ue=F.ha;if(4>ue)return Wr(w,7,"Truncated header.");var de=V[X+0]|V[X+1]<<8|V[X+2]<<16,pe=w.Od;if(pe.Rb=!(1&de),pe.td=de>>1&7,pe.yd=de>>4&1,pe.ub=de>>5,3<pe.td)return Wr(w,3,"Incorrect keyframe parameters.");if(!pe.yd)return Wr(w,4,"Frame not displayable.");X+=3,ue-=3;var me=w.Kc;if(pe.Rb){if(7>ue)return Wr(w,7,"cannot parse picture header");if(!Mi(V,X,ue))return Wr(w,3,"Bad code word");me.c=16383&(V[X+4]<<8|V[X+3]),me.Td=V[X+4]>>6,me.i=16383&(V[X+6]<<8|V[X+5]),me.Ud=V[X+6]>>6,X+=7,ue-=7,w.za=me.c+15>>4,w.Ub=me.i+15>>4,F.width=me.c,F.height=me.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,i((de=w.Pa).jb,0,255,de.jb.length),e(null!=(de=w.Qa)),de.Cb=0,de.Bb=0,de.Fb=1,i(de.Zb,0,0,de.Zb.length),i(de.Lb,0,0,de.Lb)}if(pe.ub>ue)return Wr(w,7,"bad partition length");q(de=w.m,V,X,pe.ub),X+=pe.ub,ue-=pe.ub,pe.Rb&&(me.Ld=te(de),me.Kd=te(de)),me=w.Qa;var _e,Ie=w.Pa;if(e(null!=de),e(null!=me),me.Cb=te(de),me.Cb){if(me.Bb=te(de),te(de)){for(me.Fb=te(de),_e=0;4>_e;++_e)me.Zb[_e]=te(de)?P(de,7):0;for(_e=0;4>_e;++_e)me.Lb[_e]=te(de)?P(de,6):0}if(me.Bb)for(_e=0;3>_e;++_e)Ie.jb[_e]=te(de)?O(de,8):255}else me.Bb=0;if(de.Ka)return Wr(w,3,"cannot parse segment header");if((me=w.ed).zd=te(de),me.Tb=O(de,6),me.wb=O(de,3),me.Pc=te(de),me.Pc&&te(de)){for(Ie=0;4>Ie;++Ie)te(de)&&(me.vd[Ie]=P(de,6));for(Ie=0;4>Ie;++Ie)te(de)&&(me.od[Ie]=P(de,6))}if(w.L=0==me.Tb?0:me.zd?1:2,de.Ka)return Wr(w,3,"cannot parse filter header");var We=ue;if(ue=_e=X,X=_e+We,me=We,w.Xb=(1<<O(w.m,2))-1,We<3*(Ie=w.Xb))V=7;else{for(_e+=3*Ie,me-=3*Ie,We=0;We<Ie;++We){var ut=V[ue+0]|V[ue+1]<<8|V[ue+2]<<16;ut>me&&(ut=me),q(w.Jc[+We],V,_e,ut),_e+=ut,me-=ut,ue+=3}q(w.Jc[+Ie],V,_e,me),V=_e<X?0:5}if(0!=V)return Wr(w,V,"cannot parse partitions");for(V=O(_e=w.m,7),ue=te(_e)?P(_e,4):0,X=te(_e)?P(_e,4):0,me=te(_e)?P(_e,4):0,Ie=te(_e)?P(_e,4):0,_e=te(_e)?P(_e,4):0,We=w.Qa,ut=0;4>ut;++ut){if(We.Cb){var ht=We.Zb[ut];We.Fb||(ht+=V)}else{if(0<ut){w.pb[ut]=w.pb[0];continue}ht=V}var tt=w.pb[ut];tt.Sc[0]=eV[dh(ht+ue,127)],tt.Sc[1]=tV[dh(ht+0,127)],tt.Eb[0]=2*eV[dh(ht+X,127)],tt.Eb[1]=101581*tV[dh(ht+me,127)]>>16,8>tt.Eb[1]&&(tt.Eb[1]=8),tt.Qc[0]=eV[dh(ht+Ie,117)],tt.Qc[1]=tV[dh(ht+_e,127)],tt.lc=ht+_e}if(!pe.Rb)return Wr(w,4,"Not a key frame.");for(te(de),pe=w.Pa,V=0;4>V;++V){for(ue=0;8>ue;++ue)for(X=0;3>X;++X)for(me=0;11>me;++me)Ie=ee(de,tlt[V][ue][X][me])?O(de,8):Zat[V][ue][X][me],pe.Wc[V][ue].Yb[X][me]=Ie;for(ue=0;17>ue;++ue)pe.Xc[V][ue]=pe.Wc[V][nlt[ue]]}return w.kc=te(de),w.kc&&(w.Bd=O(de,8)),w.cb=1}function Yo(w,F,V,X,ue,de,pe){var me=F[ue].Yb[V];for(V=0;16>ue;++ue){if(!ee(w,me[V+0]))return ue;for(;!ee(w,me[V+1]);)if(me=F[++ue].Yb[0],V=0,16==ue)return 16;var _e=F[ue+1].Yb;if(ee(w,me[V+2])){var Ie=w,We=0;if(ee(Ie,(ht=me)[(ut=V)+3]))if(ee(Ie,ht[ut+6])){for(me=0,ut=2*(We=ee(Ie,ht[ut+8]))+(ht=ee(Ie,ht[ut+9+We])),We=0,ht=Yat[ut];ht[me];++me)We+=We+ee(Ie,ht[me]);We+=3+(8<<ut)}else ee(Ie,ht[ut+7])?(We=7+2*ee(Ie,165),We+=ee(Ie,145)):We=5+ee(Ie,159);else We=ee(Ie,ht[ut+4])?3+ee(Ie,ht[ut+5]):2;me=_e[2]}else We=1,me=_e[1];_e=pe+Jat[ue],0>(Ie=w).b&&le(Ie);var ut,ht=Ie.b,tt=(ut=Ie.Ca>>1)-(Ie.I>>ht)>>31;--Ie.b,Ie.Ca+=tt,Ie.Ca|=1,Ie.I-=(ut+1&tt)<<ht,de[_e]=((We^tt)-tt)*X[(0<ue)+0]}return 16}function Fi(w){var F=w.rb[w.sb-1];F.la=0,F.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function gl(w,F,V,X,ue){w[F+V+32*X]=-256&(ue=w[F+V+32*X]+(ue>>3))?0>ue?0:255:ue}function Ba(w,F,V,X,ue,de){gl(w,F,0,V,X+ue),gl(w,F,1,V,X+de),gl(w,F,2,V,X-de),gl(w,F,3,V,X-ue)}function Na(w){return(20091*w>>16)+w}function Ns(w,F,V,X){var ue,de=0,pe=s(16);for(ue=0;4>ue;++ue){var me=w[F+0]+w[F+8],_e=w[F+0]-w[F+8],Ie=(35468*w[F+4]>>16)-Na(w[F+12]),We=Na(w[F+4])+(35468*w[F+12]>>16);pe[de+0]=me+We,pe[de+1]=_e+Ie,pe[de+2]=_e-Ie,pe[de+3]=me-We,de+=4,F++}for(ue=de=0;4>ue;++ue)me=(w=pe[de+0]+4)+pe[de+8],_e=w-pe[de+8],Ie=(35468*pe[de+4]>>16)-Na(pe[de+12]),gl(V,X,0,0,me+(We=Na(pe[de+4])+(35468*pe[de+12]>>16))),gl(V,X,1,0,_e+Ie),gl(V,X,2,0,_e-Ie),gl(V,X,3,0,me-We),de++,X+=32}function Ql(w,F,V,X){var ue=w[F+0]+4,de=35468*w[F+4]>>16,pe=Na(w[F+4]),me=35468*w[F+1]>>16;Ba(V,X,0,ue+pe,w=Na(w[F+1]),me),Ba(V,X,1,ue+de,w,me),Ba(V,X,2,ue-de,w,me),Ba(V,X,3,ue-pe,w,me)}function vc(w,F,V,X,ue){Ns(w,F,V,X),ue&&Ns(w,F+16,V,X+4)}function Ia(w,F,V,X){Pp(w,F+0,V,X,1),Pp(w,F+32,V,X+128,1)}function ml(w,F,V,X){var ue;for(w=w[F+0]+4,ue=0;4>ue;++ue)for(F=0;4>F;++F)gl(V,X,F,ue,w)}function Im(w,F,V,X){w[F+0]&&Jc(w,F+0,V,X),w[F+16]&&Jc(w,F+16,V,X+4),w[F+32]&&Jc(w,F+32,V,X+128),w[F+48]&&Jc(w,F+48,V,X+128+4)}function Ad(w,F,V,X){var ue,de=s(16);for(ue=0;4>ue;++ue){var pe=w[F+0+ue]+w[F+12+ue],me=w[F+4+ue]+w[F+8+ue],_e=w[F+4+ue]-w[F+8+ue],Ie=w[F+0+ue]-w[F+12+ue];de[0+ue]=pe+me,de[8+ue]=pe-me,de[4+ue]=Ie+_e,de[12+ue]=Ie-_e}for(ue=0;4>ue;++ue)pe=(w=de[0+4*ue]+3)+de[3+4*ue],_e=de[1+4*ue]-de[2+4*ue],Ie=w-de[3+4*ue],V[X+0]=pe+(me=de[1+4*ue]+de[2+4*ue])>>3,V[X+16]=Ie+_e>>3,V[X+32]=pe-me>>3,V[X+48]=Ie-_e>>3,X+=64}function SS(w,F,V){var X,ue=F-32,de=Ah,pe=255-w[ue-1];for(X=0;X<V;++X){var me,_e=de,Ie=pe+w[F-1];for(me=0;me<V;++me)w[F+me]=_e[Ie+w[ue+me]];F+=32}}function R6(w,F){SS(w,F,4)}function O6(w,F){SS(w,F,8)}function P6(w,F){SS(w,F,16)}function Ip(w,F){var V;for(V=0;16>V;++V)r(w,F+32*V,w,F-32,16)}function jb(w,F){var V;for(V=16;0<V;--V)i(w,F,w[F-1],16),F+=32}function qb(w,F,V){var X;for(X=0;16>X;++X)i(F,V+32*X,w,16)}function OF(w,F){var V,X=16;for(V=0;16>V;++V)X+=w[F-1+32*V]+w[F+V-32];qb(X>>5,w,F)}function yc(w,F){var V,X=8;for(V=0;16>V;++V)X+=w[F-1+32*V];qb(X>>4,w,F)}function L6(w,F){var V,X=8;for(V=0;16>V;++V)X+=w[F+V-32];qb(X>>4,w,F)}function PF(w,F){qb(128,w,F)}function Vr(w,F,V){return w+2*F+V+2>>2}function U6(w,F){var V,X=F-32;for(X=new Uint8Array([Vr(w[X-1],w[X+0],w[X+1]),Vr(w[X+0],w[X+1],w[X+2]),Vr(w[X+1],w[X+2],w[X+3]),Vr(w[X+2],w[X+3],w[X+4])]),V=0;4>V;++V)r(w,F+32*V,X,0,X.length)}function k6(w,F){var V=w[F-1],X=w[F-1+32],ue=w[F-1+64],de=w[F-1+96];Ae(w,F+0,16843009*Vr(w[F-1-32],V,X)),Ae(w,F+32,16843009*Vr(V,X,ue)),Ae(w,F+64,16843009*Vr(X,ue,de)),Ae(w,F+96,16843009*Vr(ue,de,de))}function fA(w,F){var V,X=4;for(V=0;4>V;++V)X+=w[F+V-32]+w[F-1+32*V];for(X>>=3,V=0;4>V;++V)i(w,F+32*V,X,4)}function LF(w,F){var V=w[F-1+0],X=w[F-1+32],ue=w[F-1+64],de=w[F-1-32],pe=w[F+0-32],me=w[F+1-32],_e=w[F+2-32],Ie=w[F+3-32];w[F+0+96]=Vr(X,ue,w[F-1+96]),w[F+1+96]=w[F+0+64]=Vr(V,X,ue),w[F+2+96]=w[F+1+64]=w[F+0+32]=Vr(de,V,X),w[F+3+96]=w[F+2+64]=w[F+1+32]=w[F+0+0]=Vr(pe,de,V),w[F+3+64]=w[F+2+32]=w[F+1+0]=Vr(me,pe,de),w[F+3+32]=w[F+2+0]=Vr(_e,me,pe),w[F+3+0]=Vr(Ie,_e,me)}function UF(w,F){var V=w[F+1-32],X=w[F+2-32],ue=w[F+3-32],de=w[F+4-32],pe=w[F+5-32],me=w[F+6-32],_e=w[F+7-32];w[F+0+0]=Vr(w[F+0-32],V,X),w[F+1+0]=w[F+0+32]=Vr(V,X,ue),w[F+2+0]=w[F+1+32]=w[F+0+64]=Vr(X,ue,de),w[F+3+0]=w[F+2+32]=w[F+1+64]=w[F+0+96]=Vr(ue,de,pe),w[F+3+32]=w[F+2+64]=w[F+1+96]=Vr(de,pe,me),w[F+3+64]=w[F+2+96]=Vr(pe,me,_e),w[F+3+96]=Vr(me,_e,_e)}function Wb(w,F){var V=w[F-1+0],X=w[F-1+32],ue=w[F-1+64],de=w[F-1-32],pe=w[F+0-32],me=w[F+1-32],_e=w[F+2-32],Ie=w[F+3-32];w[F+0+0]=w[F+1+64]=de+pe+1>>1,w[F+1+0]=w[F+2+64]=pe+me+1>>1,w[F+2+0]=w[F+3+64]=me+_e+1>>1,w[F+3+0]=_e+Ie+1>>1,w[F+0+96]=Vr(ue,X,V),w[F+0+64]=Vr(X,V,de),w[F+0+32]=w[F+1+96]=Vr(V,de,pe),w[F+1+32]=w[F+2+96]=Vr(de,pe,me),w[F+2+32]=w[F+3+96]=Vr(pe,me,_e),w[F+3+32]=Vr(me,_e,Ie)}function DS(w,F){var V=w[F+0-32],X=w[F+1-32],ue=w[F+2-32],de=w[F+3-32],pe=w[F+4-32],me=w[F+5-32],_e=w[F+6-32],Ie=w[F+7-32];w[F+0+0]=V+X+1>>1,w[F+1+0]=w[F+0+64]=X+ue+1>>1,w[F+2+0]=w[F+1+64]=ue+de+1>>1,w[F+3+0]=w[F+2+64]=de+pe+1>>1,w[F+0+32]=Vr(V,X,ue),w[F+1+32]=w[F+0+96]=Vr(X,ue,de),w[F+2+32]=w[F+1+96]=Vr(ue,de,pe),w[F+3+32]=w[F+2+96]=Vr(de,pe,me),w[F+3+64]=Vr(pe,me,_e),w[F+3+96]=Vr(me,_e,Ie)}function H6(w,F){var V=w[F-1+0],X=w[F-1+32],ue=w[F-1+64],de=w[F-1+96];w[F+0+0]=V+X+1>>1,w[F+2+0]=w[F+0+32]=X+ue+1>>1,w[F+2+32]=w[F+0+64]=ue+de+1>>1,w[F+1+0]=Vr(V,X,ue),w[F+3+0]=w[F+1+32]=Vr(X,ue,de),w[F+3+32]=w[F+1+64]=Vr(ue,de,de),w[F+3+64]=w[F+2+64]=w[F+0+96]=w[F+1+96]=w[F+2+96]=w[F+3+96]=de}function V6(w,F){var V=w[F-1+0],X=w[F-1+32],ue=w[F-1+64],de=w[F-1+96],pe=w[F-1-32],me=w[F+0-32],_e=w[F+1-32],Ie=w[F+2-32];w[F+0+0]=w[F+2+32]=V+pe+1>>1,w[F+0+32]=w[F+2+64]=X+V+1>>1,w[F+0+64]=w[F+2+96]=ue+X+1>>1,w[F+0+96]=de+ue+1>>1,w[F+3+0]=Vr(me,_e,Ie),w[F+2+0]=Vr(pe,me,_e),w[F+1+0]=w[F+3+32]=Vr(V,pe,me),w[F+1+32]=w[F+3+64]=Vr(X,V,pe),w[F+1+64]=w[F+3+96]=Vr(ue,X,V),w[F+1+96]=Vr(de,ue,X)}function Q6(w,F){var V;for(V=0;8>V;++V)r(w,F+32*V,w,F-32,8)}function MS(w,F){var V;for(V=0;8>V;++V)i(w,F,w[F-1],8),F+=32}function ty(w,F,V){var X;for(X=0;8>X;++X)i(F,V+32*X,w,8)}function Fm(w,F){var V,X=8;for(V=0;8>V;++V)X+=w[F+V-32]+w[F-1+32*V];ty(X>>4,w,F)}function z6(w,F){var V,X=4;for(V=0;8>V;++V)X+=w[F+V-32];ty(X>>3,w,F)}function ny(w,F){var V,X=4;for(V=0;8>V;++V)X+=w[F-1+32*V];ty(X>>3,w,F)}function TS(w,F){ty(128,w,F)}function $b(w,F,V){var X=w[F-V],ue=w[F+0],de=3*(ue-X)+K6[1020+w[F-2*V]-w[F+V]],pe=YF[112+(de+4>>3)];w[F-V]=Ah[255+X+YF[112+(de+3>>3)]],w[F+0]=Ah[255+ue-pe]}function kF(w,F,V,X){return hf[255+w[F-2*V]-w[F-V]]>X||hf[255+w[F+V]-w[F+0]]>X}function HF(w,F,V,X){return 4*hf[255+w[F-V]-w[F+0]]+hf[255+w[F-2*V]-w[F+V]]<=X}function VF(w,F,V,X,ue){var de=w[F-3*V],pe=w[F-2*V],me=w[F-V],_e=w[F+0],Ie=w[F+V],We=w[F+2*V];return 4*hf[255+me-_e]+hf[255+pe-Ie]>X?0:hf[255+w[F-4*V]-de]<=ue&&hf[255+de-pe]<=ue&&hf[255+pe-me]<=ue&&hf[255+w[F+3*V]-We]<=ue&&hf[255+We-Ie]<=ue&&hf[255+Ie-_e]<=ue}function QF(w,F,V,X){var ue=2*X+1;for(X=0;16>X;++X)HF(w,F+X,V,ue)&&$b(w,F+X,V)}function dA(w,F,V,X){var ue=2*X+1;for(X=0;16>X;++X)HF(w,F+X*V,1,ue)&&$b(w,F+X*V,1)}function Fp(w,F,V,X){var ue;for(ue=3;0<ue;--ue)QF(w,F+=4*V,V,X)}function G6(w,F,V,X){var ue;for(ue=3;0<ue;--ue)dA(w,F+=4,V,X)}function Rm(w,F,V,X,ue,de,pe,me){for(de=2*de+1;0<ue--;){if(VF(w,F,V,de,pe))if(kF(w,F,V,me))$b(w,F,V);else{var _e=w,Ie=F,We=V,ut=_e[Ie-2*We],ht=_e[Ie-We],tt=_e[Ie+0],Gt=_e[Ie+We],wt=_e[Ie+2*We],$e=27*(kt=K6[1020+3*(tt-ht)+K6[1020+ut-Gt]])+63>>7,Ye=18*kt+63>>7,kt=9*kt+63>>7;_e[Ie-3*We]=Ah[255+_e[Ie-3*We]+kt],_e[Ie-2*We]=Ah[255+ut+Ye],_e[Ie-We]=Ah[255+ht+$e],_e[Ie+0]=Ah[255+tt-$e],_e[Ie+We]=Ah[255+Gt-Ye],_e[Ie+2*We]=Ah[255+wt-kt]}F+=X}}function pd(w,F,V,X,ue,de,pe,me){for(de=2*de+1;0<ue--;){if(VF(w,F,V,de,pe))if(kF(w,F,V,me))$b(w,F,V);else{var _e=w,Ie=F,We=V,ut=_e[Ie-We],ht=_e[Ie+0],tt=_e[Ie+We],Gt=YF[112+(4+(wt=3*(ht-ut))>>3)],wt=YF[112+(wt+3>>3)],$e=Gt+1>>1;_e[Ie-2*We]=Ah[255+_e[Ie-2*We]+$e],_e[Ie-We]=Ah[255+ut+wt],_e[Ie+0]=Ah[255+ht-Gt],_e[Ie+We]=Ah[255+tt-$e]}F+=X}}function BS(w,F,V,X,ue,de){Rm(w,F,V,1,16,X,ue,de)}function ry(w,F,V,X,ue,de){Rm(w,F,1,V,16,X,ue,de)}function j6(w,F,V,X,ue,de){var pe;for(pe=3;0<pe;--pe)pd(w,F+=4*V,V,1,16,X,ue,de)}function Kb(w,F,V,X,ue,de){var pe;for(pe=3;0<pe;--pe)pd(w,F+=4,1,V,16,X,ue,de)}function q6(w,F,V,X,ue,de,pe,me){Rm(w,F,ue,1,8,de,pe,me),Rm(V,X,ue,1,8,de,pe,me)}function NS(w,F,V,X,ue,de,pe,me){Rm(w,F,1,ue,8,de,pe,me),Rm(V,X,1,ue,8,de,pe,me)}function IS(w,F,V,X,ue,de,pe,me){pd(w,F+4*ue,ue,1,8,de,pe,me),pd(V,X+4*ue,ue,1,8,de,pe,me)}function zF(w,F,V,X,ue,de,pe,me){pd(w,F+4,1,ue,8,de,pe,me),pd(V,X+4,1,ue,8,de,pe,me)}function Xb(){this.ba=new nt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new an,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function FS(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function RS(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function GF(){this.ua=0,this.Wa=new W,this.vb=new W,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new k,this.yc=new R}function W6(){this.xb=this.a=0,this.l=new Ii,this.ca=new nt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new GF,this.ab=0,this.gc=o(4,RS),this.Oc=0}function Yb(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ii,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function iy(w,F,V,X,ue,de,pe){for(w=null==w?0:w[F+0],F=0;F<pe;++F)ue[de+F]=w+V[X+F]&255,w=ue[de+F]}function OS(w,F,V,X,ue,de,pe){var me;if(null==w)iy(null,null,V,X,ue,de,pe);else for(me=0;me<pe;++me)ue[de+me]=w[F+me]+V[X+me]&255}function Om(w,F,V,X,ue,de,pe){if(null==w)iy(null,null,V,X,ue,de,pe);else{var me,_e=w[F+0],Ie=_e,We=_e;for(me=0;me<pe;++me)Ie=We+(_e=w[F+me])-Ie,We=V[X+me]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=_e,ue[de+me]=We}}function PS(w,F,V,X){var ue=F.width,de=F.o;if(e(null!=w&&null!=F),0>V||0>=X||V+X>de)return null;if(!w.Cc){if(null==w.ga){var pe;if(w.ga=new Yb,(pe=null==w.ga)||(pe=F.width*F.o,e(0==w.Gb.length),w.Gb=s(pe),w.Uc=0,null==w.Gb?pe=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,pe=1),pe=!pe),!pe){var me=w.Fa,_e=w.P,Ie=w.qc,We=w.mb,ut=w.nb,ht=_e+1,tt=Ie-1,Gt=(pe=w.ga).l;if(e(null!=me&&null!=We&&null!=F),Vm[0]=null,Vm[1]=iy,Vm[2]=OS,Vm[3]=Om,pe.ca=We,pe.tb=ut,pe.c=F.width,pe.i=F.height,e(0<pe.c&&0<pe.i),1>=Ie)F=0;else if(pe.$a=3&me[_e+0],pe.Z=me[_e+0]>>2&3,pe.Lc=me[_e+0]>>4&3,_e=me[_e+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||_e)F=0;else if(Gt.put=gi,Gt.ac=Yi,Gt.bc=Ko,Gt.ma=pe,Gt.width=F.width,Gt.height=F.height,Gt.Da=F.Da,Gt.v=F.v,Gt.va=F.va,Gt.j=F.j,Gt.o=F.o,pe.$a)e:{e(1==pe.$a),F=Fu();t:for(;;){if(null==F){F=0;break e}if(e(null!=pe),pe.mc=F,F.c=pe.c,F.i=pe.i,F.l=pe.l,F.l.ma=pe,F.l.width=pe.c,F.l.height=pe.i,F.a=0,G(F.m,me,ht,tt),!sf(pe.c,pe.i,1,F,null)||(1==F.ab&&3==F.gc[0].hc&&nf(F.s)?(pe.ic=1,me=F.c*F.i,F.Ta=null,F.Ua=0,F.V=s(me),F.Ba=0,null==F.V?(F.a=1,F=0):F=1):(pe.ic=0,F=Np(F,pe.c)),!F))break t;F=1;break e}pe.mc=null,F=0}else F=tt>=pe.c*pe.i;pe=!F}if(pe)return null;1!=w.ga.Lc?w.Ga=0:X=de-V}e(null!=w.ga),e(V+X<=de);e:{if(F=(me=w.ga).c,de=me.l.o,0==me.$a){if(ht=w.rc,tt=w.Vc,Gt=w.Fa,Ie=w.mb,We=w.nb+V*F,e((_e=w.P+1+V*F)<=w.P+w.qc),0!=me.Z)for(e(null!=Vm[me.Z]),pe=0;pe<X;++pe)Vm[me.Z](ht,tt,Gt,_e,Ie,We,F),ht=Ie,tt=We,We+=F,_e+=F;else for(pe=0;pe<X;++pe)r(Ie,We,Gt,_e,F),ht=Ie,tt=We,We+=F,_e+=F;w.rc=ht,w.Vc=tt}else{if(e(null!=me.mc),F=V+X,e(null!=(pe=me.mc)),e(F<=pe.i),pe.C>=F)F=1;else if(me.ic||ot(),me.ic){me=pe.V,ht=pe.Ba;var wt=pe.i,$e=(Gt=1,_e=pe.$/(tt=pe.c),Ie=pe.$%tt,We=pe.m,ut=pe.s,pe.$),Ye=tt*wt,kt=tt*F,Kt=ut.wc,Qt=$e<kt?Lo(ut,Ie,_e):null;e($e<=Ye),e(F<=wt),e(nf(ut));t:for(;;){for(;!We.h&&$e<kt;){if(Ie&Kt||(Qt=Lo(ut,Ie,_e)),e(null!=Qt),se(We),256>(wt=Xo(Qt.G[0],Qt.H[0],We)))me[ht+$e]=wt,++$e,++Ie>=tt&&(Ie=0,++_e<=F&&!(_e%16)&&Nu(pe,_e));else{if(!(280>wt)){Gt=0;break t}wt=Bu(wt-256,We);var Pn,Dn=Xo(Qt.G[4],Qt.H[4],We);if(se(We),!($e>=(Dn=fh(tt,Dn=Bu(Dn,We)))&&Ye-$e>=wt)){Gt=0;break t}for(Pn=0;Pn<wt;++Pn)me[ht+$e+Pn]=me[ht+$e+Pn-Dn];for($e+=wt,Ie+=wt;Ie>=tt;)Ie-=tt,++_e<=F&&!(_e%16)&&Nu(pe,_e);$e<kt&&Ie&Kt&&(Qt=Lo(ut,Ie,_e))}e(We.h==K(We))}Nu(pe,_e>F?F:_e);break t}!Gt||We.h&&$e<Ye?(Gt=0,pe.a=We.h?5:3):pe.$=$e,F=Gt}else F=Iu(pe,pe.V,pe.Ba,pe.c,pe.i,F,Nm);if(!F){X=0;break e}}V+X>=de&&(w.Cc=1),X=1}if(!X)return null;if(w.Cc&&(null!=(X=w.ga)&&(X.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+V*ue}function L(w,F,V,X,ue,de){for(;0<ue--;){var pe,me=w,_e=F+(V?1:0),Ie=w,We=F+(V?0:3);for(pe=0;pe<X;++pe){var ut=Ie[We+4*pe];255!=ut&&(me[_e+4*pe+0]=me[_e+4*pe+0]*(ut*=32897)>>23,me[_e+4*pe+1]=me[_e+4*pe+1]*ut>>23,me[_e+4*pe+2]=me[_e+4*pe+2]*ut>>23)}F+=de}}function he(w,F,V,X,ue){for(;0<X--;){var de;for(de=0;de<V;++de){var pe=w[F+2*de+0],me=15&(Ie=w[F+2*de+1]),_e=4369*me,Ie=(240&Ie|Ie>>4)*_e>>16;w[F+2*de+0]=(240&pe|pe>>4)*_e>>16&240|(15&pe|pe<<4)*_e>>16>>4&15,w[F+2*de+1]=240&Ie|me}F+=ue}}function Le(w,F,V,X,ue,de,pe,me){var _e,Ie,We=255;for(Ie=0;Ie<ue;++Ie){for(_e=0;_e<X;++_e){var ut=w[F+_e];de[pe+4*_e]=ut,We&=ut}F+=V,pe+=me}return 255!=We}function ze(w,F,V,X,ue){var de;for(de=0;de<ue;++de)V[X+de]=w[F+de]>>8}function ot(){uf=L,fo=he,Ao=Le,pa=ze}function Mt(w,F,V){D[w]=function(X,ue,de,pe,me,_e,Ie,We,ut,ht,tt,Gt,wt,$e,Ye,kt,Kt){var Qt,Pn=Kt-1>>1,Dn=me[_e+0]|Ie[We+0]<<16,fr=ut[ht+0]|tt[Gt+0]<<16;e(null!=X);var Nn=3*Dn+fr+131074>>2;for(F(X[ue+0],255&Nn,Nn>>16,wt,$e),null!=de&&F(de[pe+0],255&(Nn=3*fr+Dn+131074>>2),Nn>>16,Ye,kt),Qt=1;Qt<=Pn;++Qt){var Ss=me[_e+Qt]|Ie[We+Qt]<<16,Us=ut[ht+Qt]|tt[Gt+Qt]<<16,os=Dn+Ss+fr+Us+524296,Ri=os+2*(Ss+fr)>>3;Nn=Ri+Dn>>1,Dn=(os=os+2*(Dn+Us)>>3)+Ss>>1,F(X[ue+2*Qt-1],255&Nn,Nn>>16,wt,$e+(2*Qt-1)*V),F(X[ue+2*Qt-0],255&Dn,Dn>>16,wt,$e+(2*Qt-0)*V),null!=de&&(Dn=Ri+Us>>1,F(de[pe+2*Qt-1],255&(Nn=os+fr>>1),Nn>>16,Ye,kt+(2*Qt-1)*V),F(de[pe+2*Qt+0],255&Dn,Dn>>16,Ye,kt+(2*Qt+0)*V)),Dn=Ss,fr=Us}1&Kt||(F(X[ue+Kt-1],255&(Nn=3*Dn+fr+131074>>2),Nn>>16,wt,$e+(Kt-1)*V),null!=de&&F(de[pe+Kt-1],255&(Nn=3*fr+Dn+131074>>2),Nn>>16,Ye,kt+(Kt-1)*V))}}function Zt(){ff[JF]=ilt,ff[ZF]=oue,ff[tue]=slt,ff[eR]=aue,ff[tR]=lue,ff[X6]=cue,ff[nue]=olt,ff[Y6]=oue,ff[J6]=aue,ff[nR]=lue,ff[Z6]=cue}function On(w){return w&~alt?0>w?0:255:w>>uue}function sr(w,F){return On((19077*w>>8)+(26149*F>>8)-14234)}function Yr(w,F,V){return On((19077*w>>8)-(6419*F>>8)-(13320*V>>8)+8708)}function $r(w,F){return On((19077*w>>8)+(33050*F>>8)-17685)}function Ji(w,F,V,X,ue){X[ue+0]=sr(w,V),X[ue+1]=Yr(w,F,V),X[ue+2]=$r(w,F)}function Uo(w,F,V,X,ue){X[ue+0]=$r(w,F),X[ue+1]=Yr(w,F,V),X[ue+2]=sr(w,V)}function Jo(w,F,V,X,ue){var de=Yr(w,F,V);F=de<<3&224|$r(w,F)>>3,X[ue+0]=248&sr(w,V)|de>>5,X[ue+1]=F}function Fa(w,F,V,X,ue){var de=240&$r(w,F)|15;X[ue+0]=240&sr(w,V)|Yr(w,F,V)>>4,X[ue+1]=de}function _c(w,F,V,X,ue){X[ue+0]=255,Ji(w,F,V,X,ue+1)}function vl(w,F,V,X,ue){Uo(w,F,V,X,ue),X[ue+3]=255}function gd(w,F,V,X,ue){Ji(w,F,V,X,ue),X[ue+3]=255}function dh(w,F){return 0>w?0:w>F?F:w}function AA(w,F,V){D[w]=function(X,ue,de,pe,me,_e,Ie,We,ut){for(var ht=We+(-2&ut)*V;We!=ht;)F(X[ue+0],de[pe+0],me[_e+0],Ie,We),F(X[ue+1],de[pe+0],me[_e+0],Ie,We+V),ue+=2,++pe,++_e,We+=2*V;1&ut&&F(X[ue+0],de[pe+0],me[_e+0],Ie,We)}}function jF(w,F,V){return 0==V?0==w?0==F?6:5:0==F?4:0:V}function LS(w,F,V,X,ue){switch(w>>>30){case 3:Pp(F,V,X,ue,0);break;case 2:Aa(F,V,X,ue);break;case 1:Jc(F,V,X,ue)}}function US(w,F){var V,X,ue=F.M,de=F.Nb,pe=w.oc,me=w.pc+40,_e=w.oc,Ie=w.pc+584,We=w.oc,ut=w.pc+600;for(V=0;16>V;++V)pe[me+32*V-1]=129;for(V=0;8>V;++V)_e[Ie+32*V-1]=129,We[ut+32*V-1]=129;for(0<ue?pe[me-1-32]=_e[Ie-1-32]=We[ut-1-32]=129:(i(pe,me-32-1,127,21),i(_e,Ie-32-1,127,9),i(We,ut-32-1,127,9)),X=0;X<w.za;++X){var ht=F.ya[F.aa+X];if(0<X){for(V=-1;16>V;++V)r(pe,me+32*V-4,pe,me+32*V+12,4);for(V=-1;8>V;++V)r(_e,Ie+32*V-4,_e,Ie+32*V+4,4),r(We,ut+32*V-4,We,ut+32*V+4,4)}var tt=w.Gd,Gt=w.Hd+X,wt=ht.ad,$e=ht.Hc;if(0<ue&&(r(pe,me-32,tt[Gt].y,0,16),r(_e,Ie-32,tt[Gt].f,0,8),r(We,ut-32,tt[Gt].ea,0,8)),ht.Za){var Ye=pe,kt=me-32+16;for(0<ue&&(X>=w.za-1?i(Ye,kt,tt[Gt].y[15],4):r(Ye,kt,tt[Gt+1].y,0,4)),V=0;4>V;V++)Ye[kt+128+V]=Ye[kt+256+V]=Ye[kt+384+V]=Ye[kt+0+V];for(V=0;16>V;++V,$e<<=2)md[ht.Ob[V]](Ye=pe,kt=me+fue[V]),LS($e,wt,16*+V,Ye,kt)}else if(Ye=jF(X,ue,ht.Ob[0]),Hm[Ye](pe,me),0!=$e)for(V=0;16>V;++V,$e<<=2)LS($e,wt,16*+V,pe,me+fue[V]);for(V=ht.Gc,Ye=jF(X,ue,ht.Dd),Up[Ye](_e,Ie),Up[Ye](We,ut),$e=wt,Ye=_e,kt=Ie,255&(ht=0|V)&&(170&ht?zS($e,256,Ye,kt):lf($e,256,Ye,kt)),ht=We,$e=ut,255&(V>>=8)&&(170&V?zS(wt,320,ht,$e):lf(wt,320,ht,$e)),ue<w.Ub-1&&(r(tt[Gt].y,0,pe,me+480,16),r(tt[Gt].f,0,_e,Ie+224,8),r(tt[Gt].ea,0,We,ut+224,8)),tt=w.sa,Gt=w.ta+16*X+16*de*w.R,wt=w.qa,ht=w.ra+8*X+(V=8*de*w.B),$e=w.Ha,Ye=w.Ia+8*X+V,V=0;16>V;++V)r(tt,Gt+V*w.R,pe,me+32*V,16);for(V=0;8>V;++V)r(wt,ht+V*w.B,_e,Ie+32*V,8),r($e,Ye+V*w.B,We,ut+32*V,8)}}function Jb(w,F,V,X,ue,de,pe,me,_e){var Ie=[0],We=[0],ut=0,ht=null!=_e?_e.kd:0,tt=_e??new FS;if(null==w||12>V)return 7;tt.data=w,tt.w=F,tt.ha=V,F=[F],V=[V],tt.gb=[tt.gb];e:{var Gt=F,wt=V,$e=tt.gb;if(e(null!=w),e(null!=wt),e(null!=$e),$e[0]=0,12<=wt[0]&&!t(w,Gt[0],"RIFF")){if(t(w,Gt[0]+8,"WEBP")){$e=3;break e}var Ye=Ee(w,Gt[0]+4);if(12>Ye||4294967286<Ye){$e=3;break e}if(ht&&Ye>wt[0]-8){$e=7;break e}$e[0]=Ye,Gt[0]+=12,wt[0]-=12}$e=0}if(0!=$e)return $e;for(Ye=0<tt.gb[0],V=V[0];;){e:{var kt=w;wt=F,$e=V;var Kt=Ie,Qt=We,Pn=Gt=[0];if((Nn=ut=[ut])[0]=0,8>$e[0])$e=7;else{if(!t(kt,wt[0],"VP8X")){if(10!=Ee(kt,wt[0]+4)){$e=3;break e}if(18>$e[0]){$e=7;break e}var Dn=Ee(kt,wt[0]+8),fr=1+ge(kt,wt[0]+12);if(2147483648<=fr*(kt=1+ge(kt,wt[0]+15))){$e=3;break e}null!=Pn&&(Pn[0]=Dn),null!=Kt&&(Kt[0]=fr),null!=Qt&&(Qt[0]=kt),wt[0]+=18,$e[0]-=18,Nn[0]=1}$e=0}}if(ut=ut[0],0!=$e)return $e;if(wt=!!(2&(Gt=Gt[0])),!Ye&&ut)return 3;if(null!=de&&(de[0]=!!(16&Gt)),null!=pe&&(pe[0]=wt),null!=me&&(me[0]=0),pe=Ie[0],Gt=We[0],ut&&wt&&null==_e){$e=0;break}if(4>V){$e=7;break}if(Ye&&ut||!Ye&&!ut&&!t(w,F[0],"ALPH")){V=[V],tt.na=[tt.na],tt.P=[tt.P],tt.Sa=[tt.Sa];e:{$e=F,Ye=V;var Nn=tt.gb;Kt=tt.na,Qt=tt.P,Pn=tt.Sa,fr=22,e(null!=(Dn=w)),e(null!=Ye),kt=$e[0];var Ss=Ye[0];for(e(null!=Kt),e(null!=Pn),Kt[0]=null,Qt[0]=null,Pn[0]=0;;){if($e[0]=kt,Ye[0]=Ss,8>Ss){$e=7;break e}var Us=Ee(Dn,kt+4);if(4294967286<Us){$e=3;break e}var os=8+Us+1&-2;if(fr+=os,0<Nn&&fr>Nn){$e=3;break e}if(!t(Dn,kt,"VP8 ")||!t(Dn,kt,"VP8L")){$e=0;break e}if(Ss[0]<os){$e=7;break e}t(Dn,kt,"ALPH")||(Kt[0]=Dn,Qt[0]=kt+8,Pn[0]=Us),kt+=os,Ss-=os}}if(V=V[0],tt.na=tt.na[0],tt.P=tt.P[0],tt.Sa=tt.Sa[0],0!=$e)break}V=[V],tt.Ja=[tt.Ja],tt.xa=[tt.xa];e:if(Nn=w,$e=F,Ye=V,Kt=tt.gb[0],Qt=tt.Ja,Pn=tt.xa,Dn=$e[0],kt=!t(Nn,Dn,"VP8 "),fr=!t(Nn,Dn,"VP8L"),e(null!=Nn),e(null!=Ye),e(null!=Qt),e(null!=Pn),8>Ye[0])$e=7;else{if(kt||fr){if(Nn=Ee(Nn,Dn+4),12<=Kt&&Nn>Kt-12){$e=3;break e}if(ht&&Nn>Ye[0]-8){$e=7;break e}Qt[0]=Nn,$e[0]+=8,Ye[0]-=8,Pn[0]=fr}else Pn[0]=5<=Ye[0]&&47==Nn[Dn+0]&&!(Nn[Dn+4]>>5),Qt[0]=Ye[0];$e=0}if(V=V[0],tt.Ja=tt.Ja[0],tt.xa=tt.xa[0],F=F[0],0!=$e)break;if(4294967286<tt.Ja)return 3;if(null==me||wt||(me[0]=tt.xa?2:1),pe=[pe],Gt=[Gt],tt.xa){if(5>V){$e=7;break}me=pe,ht=Gt,wt=de,null==w||5>V?w=0:5<=V&&47==w[F+0]&&!(w[F+4]>>5)?(Ye=[0],Nn=[0],Kt=[0],G(Qt=new Q,w,F,V),Jn(Qt,Ye,Nn,Kt)?(null!=me&&(me[0]=Ye[0]),null!=ht&&(ht[0]=Nn[0]),null!=wt&&(wt[0]=Kt[0]),w=1):w=0):w=0}else{if(10>V){$e=7;break}me=Gt,null==w||10>V||!Mi(w,F+3,V-3)?w=0:(ht=w[F+0]|w[F+1]<<8|w[F+2]<<16,wt=16383&(w[F+7]<<8|w[F+6]),w=16383&(w[F+9]<<8|w[F+8]),1&ht||3<(ht>>1&7)||!(ht>>4&1)||ht>>5>=tt.Ja||!wt||!w?w=0:(pe&&(pe[0]=wt),me&&(me[0]=w),w=1))}if(!w||(pe=pe[0],Gt=Gt[0],ut&&(Ie[0]!=pe||We[0]!=Gt)))return 3;null!=_e&&(_e[0]=tt,_e.offset=F-_e.w,e(4294967286>F-_e.w),e(_e.offset==_e.ha-V));break}return 0==$e||7==$e&&ut&&null==_e?(null!=de&&(de[0]|=null!=tt.na&&0<tt.na.length),null!=X&&(X[0]=pe),null!=ue&&(ue[0]=Gt),0):$e}function kS(w,F,V){var X=F.width,ue=F.height,de=0,pe=0,me=X,_e=ue;if(F.Da=null!=w&&0<w.Da,F.Da&&(me=w.cd,_e=w.bd,de=w.v,pe=w.j,11>V||(de&=-2,pe&=-2),0>de||0>pe||0>=me||0>=_e||de+me>X||pe+_e>ue))return 0;if(F.v=de,F.j=pe,F.va=de+me,F.o=pe+_e,F.U=me,F.T=_e,F.da=null!=w&&0<w.da,F.da){if(!Be(me,_e,V=[w.ib],de=[w.hb]))return 0;F.ib=V[0],F.hb=de[0]}return F.ob=null!=w&&w.ob,F.Kb=null==w||!w.Sd,F.da&&(F.ob=F.ib<3*X/4&&F.hb<3*ue/4,F.Kb=0),1}function HS(w){if(null==w)return 2;if(11>w.S){var F=w.f.RGBA;F.fb+=(w.height-1)*F.A,F.A=-F.A}else(F=w.f.kb).O+=((w=w.height)-1)*F.fa,F.fa=-F.fa,F.N+=(w-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(w-1>>1)*F.Db,F.Db=-F.Db,null!=F.F&&(F.J+=(w-1)*F.lb,F.lb=-F.lb);return 0}function Zb(w,F,V,X){if(null==X||0>=w||0>=F)return 2;if(null!=V){if(V.Da){var ue=V.cd,de=V.bd,pe=-2&V.v,me=-2&V.j;if(0>pe||0>me||0>=ue||0>=de||pe+ue>w||me+de>F)return 2;w=ue,F=de}if(V.da){if(!Be(w,F,ue=[V.ib],de=[V.hb]))return 2;w=ue[0],F=de[0]}}X.width=w,X.height=F;e:{var _e=X.width,Ie=X.height;if(w=X.S,0>=_e||0>=Ie||!(w>=JF&&13>w))w=2;else{if(0>=X.Rd&&null==X.sd){pe=de=ue=F=0;var We=(me=_e*due[w])*Ie;if(11>w||(de=(Ie+1)/2*(F=(_e+1)/2),12==w&&(pe=(ue=_e)*Ie)),null==(Ie=s(We+2*de+pe))){w=1;break e}X.sd=Ie,11>w?((_e=X.f.RGBA).eb=Ie,_e.fb=0,_e.A=me,_e.size=We):((_e=X.f.kb).y=Ie,_e.O=0,_e.fa=me,_e.Fd=We,_e.f=Ie,_e.N=0+We,_e.Ab=F,_e.Cd=de,_e.ea=Ie,_e.W=0+We+de,_e.Db=F,_e.Ed=de,12==w&&(_e.F=Ie,_e.J=0+We+2*de),_e.Tc=pe,_e.lb=ue)}if(F=1,de=X.width,pe=X.height,(ue=X.S)>=JF&&13>ue)if(11>ue)w=X.f.RGBA,F&=(me=Math.abs(w.A))*(pe-1)+de<=w.size,F&=me>=de*due[ue],F&=null!=w.eb;else{w=X.f.kb,me=(de+1)/2,We=(pe+1)/2,_e=Math.abs(w.fa),Ie=Math.abs(w.Ab);var ut=Math.abs(w.Db),ht=Math.abs(w.lb);F&=_e*(pe-1)+de<=w.Fd,F&=Ie*(We-1)+me<=w.Cd,F=(F&=ut*(We-1)+me<=w.Ed)&_e>=de&Ie>=me&ut>=me,F&=null!=w.y,F&=null!=w.f,F&=null!=w.ea,12==ue&&(F&=ht>=de,F&=ht*(pe-1)+de<=w.Tc,F&=null!=w.F)}else F=0;w=F?0:2}}return 0!=w||null!=V&&V.fd&&(w=HS(X)),w}var zl=64,ew=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],tw=24,nw=32,VS=8,Ru=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(w){return w},D.Predictor2=function(w,F,V){return F[V+0]},D.Predictor3=function(w,F,V){return F[V+1]},D.Predictor4=function(w,F,V){return F[V-1]},D.Predictor5=function(w,F,V){return J(J(w,F[V+1]),F[V+0])},D.Predictor6=function(w,F,V){return J(w,F[V-1])},D.Predictor7=function(w,F,V){return J(w,F[V+0])},D.Predictor8=function(w,F,V){return J(F[V-1],F[V+0])},D.Predictor9=function(w,F,V){return J(F[V+0],F[V+1])},D.Predictor10=function(w,F,V){return J(J(w,F[V-1]),J(F[V+0],F[V+1]))},D.Predictor11=function(w,F,V){var X=F[V+0];return 0>=rt(X>>24&255,w>>24&255,(F=F[V-1])>>24&255)+rt(X>>16&255,w>>16&255,F>>16&255)+rt(X>>8&255,w>>8&255,F>>8&255)+rt(255&X,255&w,255&F)?X:w},D.Predictor12=function(w,F,V){var X=F[V+0];return(Ue((w>>24&255)+(X>>24&255)-((F=F[V-1])>>24&255))<<24|Ue((w>>16&255)+(X>>16&255)-(F>>16&255))<<16|Ue((w>>8&255)+(X>>8&255)-(F>>8&255))<<8|Ue((255&w)+(255&X)-(255&F)))>>>0},D.Predictor13=function(w,F,V){var X=F[V-1];return(Qe((w=J(w,F[V+0]))>>24&255,X>>24&255)<<24|Qe(w>>16&255,X>>16&255)<<16|Qe(w>>8&255,X>>8&255)<<8|Qe(255&w,255&X))>>>0};var $6=D.PredictorAdd0;D.PredictorAdd1=Xe,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var QS=D.PredictorAdd2;yn("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),yn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var qF,af=D.ColorIndexInverseTransform,rw=D.MapARGB,WF=D.VP8LColorIndexInverseTransformAlpha,$F=D.MapAlpha,Pm=D.VP8LPredictorsAdd=[];Pm.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var sy,Ou,Yc,Lm,Rp,Op,iw,Pp,Aa,zS,Jc,lf,sw,KF,GS,oy,ay,Um,ly,ow,cy,km,jS,cf,uf,fo,Ao,pa,Ya=s(511),Lp=s(2041),qS=s(225),aw=s(767),XF=0,K6=Lp,YF=qS,Ah=aw,hf=Ya,JF=0,ZF=1,tue=2,eR=3,tR=4,X6=5,nue=6,Y6=7,J6=8,nR=9,Z6=10,Gat=[2,3,7],jat=[3,3,11],rue=[280,256,256,256,40],qat=[0,1,1,1,0],Wat=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$at=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Kat=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Xat=8,eV=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],tV=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],WS=null,Yat=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Jat=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],iue=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Zat=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],elt=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],tlt=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nlt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Hm=[],md=[],Up=[],rlt=1,sue=2,Vm=[],ff=[];Mt("UpsampleRgbLinePair",Ji,3),Mt("UpsampleBgrLinePair",Uo,3),Mt("UpsampleRgbaLinePair",gd,4),Mt("UpsampleBgraLinePair",vl,4),Mt("UpsampleArgbLinePair",_c,4),Mt("UpsampleRgba4444LinePair",Fa,2),Mt("UpsampleRgb565LinePair",Jo,2);var ilt=D.UpsampleRgbLinePair,slt=D.UpsampleBgrLinePair,oue=D.UpsampleRgbaLinePair,aue=D.UpsampleBgraLinePair,lue=D.UpsampleArgbLinePair,cue=D.UpsampleRgba4444LinePair,olt=D.UpsampleRgb565LinePair,rR=16,iR=1<<rR-1,$S=-227,nV=482,uue=6,alt=(256<<uue)-1,hue=0,llt=s(256),clt=s(256),ult=s(256),hlt=s(256),flt=s(nV-$S),dlt=s(nV-$S);AA("YuvToRgbRow",Ji,3),AA("YuvToBgrRow",Uo,3),AA("YuvToRgbaRow",gd,4),AA("YuvToBgraRow",vl,4),AA("YuvToArgbRow",_c,4),AA("YuvToRgba4444Row",Fa,2),AA("YuvToRgb565Row",Jo,2);var fue=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],sR=[0,2,8],Alt=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(w,F,V,X,ue){var de=ZF,pe=new Xb,me=new nt;pe.ba=me,me.S=de,me.width=[me.width],me.height=[me.height];var _e=me.width,Ie=me.height,We=new Dt;if(null==We||null==w)var ut=2;else e(null!=We),ut=Jb(w,F,V,We.width,We.height,We.Pd,We.Qd,We.format,null);if(0!=ut?_e=0:(null!=_e&&(_e[0]=We.width[0]),null!=Ie&&(Ie[0]=We.height[0]),_e=1),_e){me.width=me.width[0],me.height=me.height[0],null!=X&&(X[0]=me.width),null!=ue&&(ue[0]=me.height);e:{if(X=new Ii,(ue=new FS).data=w,ue.w=F,ue.ha=V,ue.kd=1,F=[0],e(null!=ue),(0==(w=Jb(ue.data,ue.w,ue.ha,null,null,null,F,null,ue))||7==w)&&F[0]&&(w=4),0==(F=w)){if(e(null!=pe),X.data=ue.data,X.w=ue.w+ue.offset,X.ha=ue.ha-ue.offset,X.put=gi,X.ac=Yi,X.bc=Ko,X.ma=pe,ue.xa){if(null==(w=Fu())){pe=1;break e}if(function(ht,tt){var Gt=[0],wt=[0],$e=[0];t:for(;;){if(null==ht)return 0;if(null==tt)return ht.a=2,0;if(ht.l=tt,ht.a=0,G(ht.m,tt.data,tt.w,tt.ha),!Jn(ht.m,Gt,wt,$e)){ht.a=3;break t}if(ht.xb=sue,tt.width=Gt[0],tt.height=wt[0],!sf(Gt[0],wt[0],1,ht,null))break t;return 1}return e(0!=ht.a),0}(w,X)){if(X=0==(F=Zb(X.width,X.height,pe.Oa,pe.ba))){t:{X=w;n:for(;;){if(null==X){X=0;break t}if(e(null!=X.s.yc),e(null!=X.s.Ya),e(0<X.s.Wb),e(null!=(V=X.l)),e(null!=(ue=V.ma)),0!=X.xb){if(X.ca=ue.ba,X.tb=ue.tb,e(null!=X.ca),!kS(ue.Oa,V,eR)){X.a=2;break n}if(!Np(X,V.width)||V.da)break n;if((V.da||Ke(X.ca.S))&&ot(),11>X.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=X.ca.f.kb.F&&ot()),X.Pb&&0<X.s.ua&&null==X.s.vb.X&&!ne(X.s.vb,X.s.Wa.Xa)){X.a=1;break n}X.xb=0}if(!Iu(X,X.V,X.Ba,X.c,X.i,V.o,dd))break n;ue.Dc=X.Ma,X=1;break t}e(0!=X.a),X=0}X=!X}X&&(F=w.a)}else F=w.a}else{if(null==(w=new so)){pe=1;break e}if(w.Fa=ue.na,w.P=ue.P,w.qc=ue.Sa,ir(w,X)){if(0==(F=Zb(X.width,X.height,pe.Oa,pe.ba))){if(w.Aa=0,V=pe.Oa,e(null!=(ue=w)),null!=V){if(0<(_e=0>(_e=V.Md)?0:100<_e?255:255*_e/100)){for(Ie=We=0;4>Ie;++Ie)12>(ut=ue.pb[Ie]).lc&&(ut.ia=_e*Alt[0>ut.lc?0:ut.lc]>>3),We|=ut.ia;We&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=V.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}(function Xc(w,F){if(null==w)return 0;if(null==F)return Wr(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!ir(w,F))return 0;if(e(w.cb),null==F.ac||F.ac(F)){F.ob&&(w.L=0);var V=sR[w.L];if(2==w.L?(w.yb=0,w.zb=0):(w.yb=F.v-V>>4,w.zb=F.j-V>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=F.o+15+V>>4,w.Hb=F.va+15+V>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var X=w.ed;for(V=0;4>V;++V){var ue;if(w.Qa.Cb){var de=w.Qa.Lb[V];w.Qa.Fb||(de+=X.Tb)}else de=X.Tb;for(ue=0;1>=ue;++ue){var pe=w.gd[V][ue],me=de;if(X.Pc&&(me+=X.vd[0],ue&&(me+=X.od[0])),0<(me=0>me?0:63<me?63:me)){var _e=me;0<X.wb&&(_e=4<X.wb?_e>>2:_e>>1)>9-X.wb&&(_e=9-X.wb),1>_e&&(_e=1),pe.dd=_e,pe.tc=2*me+_e,pe.ld=40<=me?2:15<=me?1:0}else pe.tc=0;pe.La=ue}}}V=0}else Wr(w,6,"Frame setup failed"),V=w.a;if(V=0==V){if(V){w.$c=0,0<w.Aa||(w.Ic=1);e:{X=4*(_e=w.za);var Ie=32*_e,We=_e+1,ut=0<w.L?_e*(0<w.Aa?2:1):0,ht=(2==w.Aa?2:1)*_e;if((pe=X+832+(ue=3*(16*(V=w.Ic)+sR[w.L])/2*Ie)+(de=null!=w.Fa&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=pe)V=0;else{if(pe>w.Vb){if(w.Vb=0,w.Ec=s(pe),w.Fc=0,null==w.Ec){V=Wr(w,1,"no memory during frame initialization.");break e}w.Vb=pe}me=w.Fc,w.Ac=pe=w.Ec,w.Bc=me,me+=X,w.Gd=o(Ie,rr),w.Hd=0,w.rb=o(We+1,kn),w.sb=1,w.wa=ut?o(ut,wn):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=_e),e(!0),w.oc=pe,w.pc=me,me+=832,w.ya=o(ht,pr),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,2==w.Aa&&(w.D.aa+=_e),w.R=16*_e,w.B=8*_e,_e=(Ie=sR[w.L])*w.R,Ie=Ie/2*w.B,w.sa=pe,w.ta=me+_e,w.qa=w.sa,w.ra=w.ta+16*V*w.R+Ie,w.Ha=w.qa,w.Ia=w.ra+8*V*w.B+Ie,w.$c=0,me+=ue,w.mb=de?pe:null,w.nb=de?me:null,e(me+de<=w.Fc+w.Vb),Fi(w),i(w.Ac,w.Bc,0,X),V=1}}if(V){if(F.ka=0,F.y=w.sa,F.O=w.ta,F.f=w.qa,F.N=w.ra,F.ea=w.Ha,F.Vd=w.Ia,F.fa=w.R,F.Rc=w.B,F.F=null,F.J=0,!XF){for(V=-255;255>=V;++V)Ya[255+V]=0>V?-V:V;for(V=-1020;1020>=V;++V)Lp[1020+V]=-128>V?-128:127<V?127:V;for(V=-112;112>=V;++V)qS[112+V]=-16>V?-16:15<V?15:V;for(V=-255;510>=V;++V)aw[255+V]=0>V?0:255<V?255:V;XF=1}iw=Ad,Pp=vc,zS=Ia,Jc=ml,lf=Im,Aa=Ql,sw=BS,KF=ry,GS=q6,oy=NS,ay=j6,Um=Kb,ly=IS,ow=zF,cy=QF,km=dA,jS=Fp,cf=G6,md[0]=fA,md[1]=R6,md[2]=U6,md[3]=k6,md[4]=LF,md[5]=Wb,md[6]=UF,md[7]=DS,md[8]=V6,md[9]=H6,Hm[0]=OF,Hm[1]=P6,Hm[2]=Ip,Hm[3]=jb,Hm[4]=yc,Hm[5]=L6,Hm[6]=PF,Up[0]=Fm,Up[1]=O6,Up[2]=Q6,Up[3]=MS,Up[4]=ny,Up[5]=z6,Up[6]=TS,V=1}else V=0}V&&(V=function(tt,Gt){for(tt.M=0;tt.M<tt.Va;++tt.M){var wt,$e=tt.Jc[tt.M&tt.Xb],Ye=tt.m,kt=tt;for(wt=0;wt<kt.za;++wt){var Kt=Ye,Qt=kt,Pn=Qt.Ac,Dn=Qt.Bc+4*wt,fr=Qt.zc,Nn=Qt.ya[Qt.aa+wt];if(Nn.$b=Qt.Qa.Bb?ee(Kt,Qt.Pa.jb[0])?2+ee(Kt,Qt.Pa.jb[2]):ee(Kt,Qt.Pa.jb[1]):0,Qt.kc&&(Nn.Ad=ee(Kt,Qt.Bd)),Nn.Za=!ee(Kt,145)+0,Nn.Za){var Ss=Nn.Ob,Us=0;for(Qt=0;4>Qt;++Qt){var os,Ri=fr[0+Qt];for(os=0;4>os;++os){for(var oo=iue[ee(Kt,(Ri=elt[Pn[Dn+os]][Ri])[0])];0<oo;)oo=iue[2*oo+ee(Kt,Ri[oo])];Pn[Dn+os]=Ri=-oo}r(Ss,Us,Pn,Dn,4),Us+=4,fr[0+Qt]=Ri}}else Ri=ee(Kt,156)?ee(Kt,128)?1:3:ee(Kt,163)?2:0,Nn.Ob[0]=Ri,i(Pn,Dn,Ri,4),i(fr,0,Ri,4);Nn.Dd=ee(Kt,142)?ee(Kt,114)?ee(Kt,183)?1:3:2:0}if(kt.m.Ka)return Wr(tt,7,"Premature end-of-partition0 encountered.");for(;tt.ja<tt.za;++tt.ja){if(kt=$e,Kt=(Ye=tt).rb[Ye.sb-1],Pn=Ye.rb[Ye.sb+Ye.ja],wt=Ye.ya[Ye.aa+Ye.ja],Dn=Ye.kc?wt.Ad:0)Kt.la=Pn.la=0,wt.Za||(Kt.Na=Pn.Na=0),wt.Hc=0,wt.Gc=0,wt.ia=0;else{var Xs,ai;if(Kt=Pn,Pn=kt,Dn=Ye.Pa.Xc,Nn=Ye.pb[(fr=Ye.ya[Ye.aa+Ye.ja]).$b],Us=Ye.rb[Ye.sb-1],Ri=os=0,i(Qt=fr.ad,Ss=0,0,384),fr.Za)var Ra=0,Pu=Dn[3];else{oo=s(16);var Oa=Kt.Na+Us.Na;if(Oa=WS(Pn,Dn[1],Oa,Nn.Eb,0,oo,0),Kt.Na=Us.Na=(0<Oa)+0,1<Oa)iw(oo,0,Qt,Ss);else{var Lu=oo[0]+3>>3;for(oo=0;256>oo;oo+=16)Qt[Ss+oo]=Lu}Ra=1,Pu=Dn[0]}var ks=15&Kt.la,ph=15&Us.la;for(oo=0;4>oo;++oo){var gh=1&ph;for(Lu=ai=0;4>Lu;++Lu)ks=ks>>1|(gh=(Oa=WS(Pn,Pu,Oa=gh+(1&ks),Nn.Sc,Ra,Qt,Ss))>Ra)<<7,ai=ai<<2|(3<Oa?3:1<Oa?2:0!=Qt[Ss+0]),Ss+=16;ks>>=4,ph=ph>>1|gh<<7,os=(os<<8|ai)>>>0}for(Pu=ks,Ra=ph>>4,Xs=0;4>Xs;Xs+=2){for(ai=0,ks=Kt.la>>4+Xs,ph=Us.la>>4+Xs,oo=0;2>oo;++oo){for(gh=1&ph,Lu=0;2>Lu;++Lu)ks=ks>>1|(gh=0<(Oa=WS(Pn,Dn[2],Oa=gh+(1&ks),Nn.Qc,0,Qt,Ss)))<<3,ai=ai<<2|(3<Oa?3:1<Oa?2:0!=Qt[Ss+0]),Ss+=16;ks>>=2,ph=ph>>1|gh<<5}Ri|=ai<<4*Xs,Pu|=ks<<4<<Xs,Ra|=(240&ph)<<Xs}Kt.la=Pu,Us.la=Ra,fr.Hc=os,fr.Gc=Ri,fr.ia=43690&Ri?0:Nn.ia,Dn=!(os|Ri)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[wt.$b][wt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!Dn),kt.Ka)return Wr(tt,7,"Premature end-of-file encountered.")}if(Fi(tt),Ye=Gt,kt=1,wt=($e=tt).D,Kt=0<$e.L&&$e.M>=$e.zb&&$e.M<=$e.Va,0==$e.Aa)e:{if(wt.M=$e.M,wt.uc=Kt,US($e,wt),kt=1,wt=(ai=$e.D).Nb,Kt=(Ri=sR[$e.L])*$e.R,Dn=$e.sa,fr=$e.ta-Kt+(oo=16*wt*$e.R),Nn=$e.qa,Qt=$e.ra-(Pn=Ri/2*$e.B)+(Lu=8*wt*$e.B),Ss=$e.Ha,Us=$e.Ia-Pn+Lu,ph=0==(ks=ai.M),os=ks>=$e.Va-1,2==$e.Aa&&US($e,ai),ai.uc)for(gh=(Oa=$e).D.M,e(Oa.D.uc),ai=Oa.yb;ai<Oa.Hb;++ai){Pu=gh;var yl=(Gl=(Zo=Oa).D).Nb,Gl=Gl.wa[Gl.Y+(Ra=ai)],Zc=Zo.sa,df=Zo.ta+16*yl*(Xs=Zo.R)+16*Ra,pA=Gl.dd,_l=Gl.tc;if(0!=_l)if(e(3<=_l),1==Zo.L)0<Ra&&km(Zc,df,Xs,_l+4),Gl.La&&cf(Zc,df,Xs,_l),0<Pu&&cy(Zc,df,Xs,_l+4),Gl.La&&jS(Zc,df,Xs,_l);else{var kp=Zo.B,uy=Zo.qa,lw=Zo.ra+8*yl*kp+8*Ra,Qm=Zo.Ha,Zo=Zo.Ia+8*yl*kp+8*Ra;yl=Gl.ld,0<Ra&&(KF(Zc,df,Xs,_l+4,pA,yl),oy(uy,lw,Qm,Zo,kp,_l+4,pA,yl)),Gl.La&&(Um(Zc,df,Xs,_l,pA,yl),ow(uy,lw,Qm,Zo,kp,_l,pA,yl)),0<Pu&&(sw(Zc,df,Xs,_l+4,pA,yl),GS(uy,lw,Qm,Zo,kp,_l+4,pA,yl)),Gl.La&&(ay(Zc,df,Xs,_l,pA,yl),ly(uy,lw,Qm,Zo,kp,_l,pA,yl))}}if($e.ia&&alert("todo:DitherRow"),null!=Ye.put){if(ai=16*ks,ks=16*(ks+1),ph?(Ye.y=$e.sa,Ye.O=$e.ta+oo,Ye.f=$e.qa,Ye.N=$e.ra+Lu,Ye.ea=$e.Ha,Ye.W=$e.Ia+Lu):(ai-=Ri,Ye.y=Dn,Ye.O=fr,Ye.f=Nn,Ye.N=Qt,Ye.ea=Ss,Ye.W=Us),os||(ks-=Ri),ks>Ye.o&&(ks=Ye.o),Ye.F=null,Ye.J=null,null!=$e.Fa&&0<$e.Fa.length&&ai<ks&&(Ye.J=PS($e,Ye,ai,ks-ai),Ye.F=$e.mb,null==Ye.F&&0==Ye.F.length)){kt=Wr($e,3,"Could not decode alpha data.");break e}ai<Ye.j&&(Ri=Ye.j-ai,ai=Ye.j,e(!(1&Ri)),Ye.O+=$e.R*Ri,Ye.N+=$e.B*(Ri>>1),Ye.W+=$e.B*(Ri>>1),null!=Ye.F&&(Ye.J+=Ye.width*Ri)),ai<ks&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,null!=Ye.F&&(Ye.J+=Ye.v),Ye.ka=ai-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=ks-ai,kt=Ye.put(Ye))}wt+1!=$e.Ic||os||(r($e.sa,$e.ta-Kt,Dn,fr+16*$e.R,Kt),r($e.qa,$e.ra-Pn,Nn,Qt+8*$e.B,Pn),r($e.Ha,$e.Ia-Pn,Ss,Us+8*$e.B,Pn))}if(!kt)return Wr(tt,6,"Output aborted.")}return 1}(w,F)),null!=F.bc&&F.bc(F),V&=1}return V?(w.cb=0,V):0})(w,X)||(F=w.a)}}else F=w.a}0==F&&null!=pe.Oa&&pe.Oa.fd&&(F=HS(pe.ba))}pe=F}de=0!=pe?null:11>de?me.f.RGBA.eb:me.f.kb.y}else de=null;return de};var due=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(D,E){for(var T="",B=0;B<4;B++)T+=String.fromCharCode(D[E++]);return T}function u(D,E){return(D[E+0]|D[E+1]<<8|D[E+2]<<16)>>>0}function h(D,E){return(D[E+0]|D[E+1]<<8|D[E+2]<<16|D[E+3]<<24)>>>0}new l;var d=[0],f=[0],A=[],p=new l,m=n,g=function(D,E){var T={},B=0,R=!1,U=0,k=0;if(T.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(j,K,oe,se){for(var le=0;le<4;le++)if(j[K+le]!="RIFF".charCodeAt(le))return!0;return!1}(D,E)){var q,O;for(h(D,E+=4),E+=8;E<D.length;){var P=c(D,E),G=h(D,E+=4);E+=4;var H=G+(1&G);switch(P){case"VP8 ":case"VP8L":void 0===T.frames[B]&&(T.frames[B]={}),(Q=T.frames[B]).src_off=R?k:E-8,Q.src_size=U+G+8,B++,R&&(R=!1,U=0,k=0);break;case"VP8X":(Q=T.header={}).feature_flags=D[E];var ae=E+4;Q.canvas_width=1+u(D,ae),Q.canvas_height=1+u(D,ae+=3),ae+=3;break;case"ALPH":R=!0,U=H+8,k=E-8;break;case"ANIM":(Q=T.header).bgcolor=h(D,E),Q.loop_count=(q=D)[(O=ae=E+4)+0]|q[O+1]<<8,ae+=2;break;case"ANMF":var ve,Q;(Q=T.frames[B]={}).offset_x=2*u(D,E),Q.offset_y=2*u(D,E+=3),Q.width=1+u(D,E+=3),Q.height=1+u(D,E+=3),Q.duration=u(D,E+=3),E+=3,ve=D[E++],Q.dispose=1&ve,Q.blend=ve>>1&1}"ANMF"!=P&&(E+=H)}return T}}(m,0);g.response=m,g.rgbaoutput=!0,g.dataurl=!1;var y=g.header?g.header:null,v=g.frames?g.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],f=[y.canvas_width];for(var _=0;_<v.length&&0!=v[_].blend;_++);}var C=v[0],b=p.WebPDecodeRGBA(m,C.src_off,C.src_size,f,d);C.rgba=b,C.imgwidth=f[0],C.imgheight=d[0];for(var M=0;M<f[0]*d[0]*4;M++)A[M]=b[M];return this.width=f,this.height=d,this.data=A,this}(function(n){var t=function(d,f,A,p){var m=4,g=o;switch(p){case n.image_compression.FAST:m=1,g=s;break;case n.image_compression.MEDIUM:m=6,g=a;break;case n.image_compression.SLOW:m=9,g=l}var y=FE(d=r(d,f,A,g),{level:m});return n.__addimage__.arrayBufferToBinaryString(y)},r=function(d,f,A,p){for(var m,g,y,v=d.length/f,_=new Uint8Array(d.length+v),C=u(),b=0;b<v;b+=1){if(m=d.subarray(y=b*f,y+f),p)_.set(p(m,A,g),y+b);else{for(var M,D=C.length,E=[];M<D;M+=1)E[M]=C[M](m,A,g);var T=h(E.concat());_.set(E[T],y+b)}g=m}return _},i=function(d){var f=Array.apply([],d);return f.unshift(0),f},s=function(d,f){var p=[],m=d.length;p[0]=1;for(var g=0;g<m;g+=1)p[g+1]=d[g]-(d[g-f]||0)+256&255;return p},o=function(d,f,A){var m=[],g=d.length;m[0]=2;for(var y=0;y<g;y+=1)m[y+1]=d[y]-(A&&A[y]||0)+256&255;return m},a=function(d,f,A){var g=[],y=d.length;g[0]=3;for(var v=0;v<y;v+=1)g[v+1]=d[v]+256-((d[v-f]||0)+(A&&A[v]||0)>>>1)&255;return g},l=function(d,f,A){var y,v=[],_=d.length;v[0]=4;for(var C=0;C<_;C+=1)y=c(d[C-f]||0,A&&A[C]||0,A&&A[C-f]||0),v[C+1]=d[C]-y+256&255;return v},c=function(d,f,A){if(d===f&&f===A)return d;var p=Math.abs(f-A),m=Math.abs(d-A),g=Math.abs(d+f-A-A);return p<=m&&p<=g?d:m<=g?f:A},u=function(){return[i,s,o,a,l]},h=function(d){var f=d.map(function(A){return A.reduce(function(p,m){return p+Math.abs(m)},0)});return f.indexOf(Math.min.apply(null,f))};n.processPNG=function(d,f,A,p){var m,g,y,v,_,C,b,M,D,E,T,B,R,U,k,q=this.decode.FLATE_DECODE,O="";if(this.__addimage__.isArrayBuffer(d)&&(d=new Uint8Array(d)),this.__addimage__.isArrayBufferView(d)){if(d=(y=new uRe(d)).imgData,g=y.bits,m=y.colorSpace,_=y.colors,-1!==[4,6].indexOf(y.colorType)){if(8===y.bits){D=(M=32==y.pixelBitlength?new Uint32Array(y.decodePixels().buffer):16==y.pixelBitlength?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,T=new Uint8Array(D*y.colors),E=new Uint8Array(D);var P,G=y.pixelBitlength-y.bits;for(U=0,k=0;U<D;U++){for(R=M[U],P=0;P<G;)T[k++]=R>>>P&255,P+=y.bits;E[U]=R>>>P&255}}if(16===y.bits){D=(M=new Uint32Array(y.decodePixels().buffer)).length,T=new Uint8Array(D*(32/y.pixelBitlength)*y.colors),E=new Uint8Array(D*(32/y.pixelBitlength)),B=y.colors>1,U=0,k=0;for(var H=0;U<D;)R=M[U++],T[k++]=R>>>0&255,B&&(T[k++]=R>>>16&255,R=M[U++],T[k++]=R>>>0&255),E[H++]=R>>>16&255;g=8}p!==n.image_compression.NONE?(d=t(T,y.width*y.colors,y.colors,p),b=t(E,y.width,1,p)):(d=T,b=E,q=void 0)}if(3===y.colorType&&(m=this.color_spaces.INDEXED,C=y.palette,y.transparency.indexed)){var ae=y.transparency.indexed,ve=0;for(U=0,D=ae.length;U<D;++U)ve+=ae[U];if((ve/=255)==D-1&&-1!==ae.indexOf(0))v=[ae.indexOf(0)];else if(ve!==D){for(M=y.decodePixels(),E=new Uint8Array(M.length),U=0,D=M.length;U<D;U++)E[U]=ae[M[U]];b=t(E,y.width,1)}}var Q=function(j){var K;switch(j){case n.image_compression.FAST:K=11;break;case n.image_compression.MEDIUM:K=13;break;case n.image_compression.SLOW:K=14;break;default:K=12}return K}(p);return q===this.decode.FLATE_DECODE&&(O="/Predictor "+Q+" "),O+="/Colors "+_+" /BitsPerComponent "+g+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:A,data:d,index:f,filter:q,decodeParameters:O,transparency:v,palette:C,sMask:b,predictor:Q,width:y.width,height:y.height,bitsPerComponent:g,colorSpace:m}}}})(_r.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new hRe(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new Zk(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(_r.API),Yf.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Yf.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(t){no.log("bit decode error:"+t)}},Yf.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}0!==t&&(this.pos+=4-t)}},Yf.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=15&s,c=this.palette[s>>4];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;this.data[o+4]=(c=this.palette[l]).blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==e&&(this.pos+=4-e)}},Yf.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==n&&(this.pos+=4-n)}},Yf.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=(s>>10&e)/e*255|0,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},Yf.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,u=i*this.width*4+4*s;this.data[u]=(o>>11)/e*255|0,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},Yf.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Yf.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Yf.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processBMP=function(e,t,r,i){var s=new Yf(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Zk(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(_r.API),QZ.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processWEBP=function(e,t,r,i){var s=new QZ(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Zk(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(_r.API),_r.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var h=r[c+1],d=r[c+2],f=r[c+3];s[a++]=r[c],s[a++]=h,s[a++]=d,o[l++]=f}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},_r.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},LN=(tb=_r.API).getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=!1!==e.doKerning,d=0,f=n.length,A=0,p=a[0]||l,m=[];for(t=0;t<f;t++)r=n.charCodeAt(t),"function"==typeof i.metadata.widthOfString?m.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(d=h&&"object"===(0,to.A)(c[r])&&!isNaN(parseInt(c[r][A],10))?c[r][A]/u:0,m.push((a[r]||p)/l+d)),A=r;return m},UZ=tb.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return tb.processArabic&&(n=tb.processArabic(n)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(n,t,i)/t:LN.apply(this,arguments).reduce(function(s,o){return s+o},0)},kZ=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},HZ=function(n,e,t){t||(t={});var r,i,s,o,a,l,u=[],h=[u],d=t.textIndent||0,f=0,A=0,p=n.split(" "),m=LN.apply(this,[" ",t])[0];if(l=-1===t.lineIndent?p[0].length+2:t.lineIndent||0){var g=Array(l).join(" "),y=[];p.map(function(_){(_=_.split(/\s*\n/)).length>1?y=y.concat(_.map(function(C,b){return(b&&C.length?"\n":"")+C})):y.push(_[0])}),p=y,l=UZ.apply(this,[g,t])}for(s=0,o=p.length;s<o;s++){var v=0;if(r=p[s],l&&"\n"==r[0]&&(r=r.substr(1),v=1),d+f+(A=(i=LN.apply(this,[r,t])).reduce(function(_,C){return _+C},0))>e||v){if(A>e){for(a=kZ.apply(this,[r,i,e-(d+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)h.push([a.shift()]);A=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(_,C){return _+C},0)}else u=[r];h.push(u),d=A+l,f=m}else u.push(r),d+=f+A,f=m}return h.map(l?function(_,C){return(C?g:"")+_.join(" ")}:function(_){return _.join(" ")})},tb.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(HZ.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<16;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=n.__fontmetrics__.compress=function(h){var d,f,A,p,m=["{"];for(var g in h){if(d=h[g],isNaN(parseInt(g,10))?f="'"+g+"'":(g=parseInt(g,10),f=(f=s(g).slice(2)).slice(0,-1)+r[f.slice(-1)]),"number"==typeof d)d<0?(A=s(d).slice(3),p="-"):(A=s(d).slice(2),p=""),A=p+A.slice(0,-1)+r[A.slice(-1)];else{if("object"!==(0,to.A)(d))throw new Error("Don't know what to do with value type "+(0,to.A)(d)+".");A=o(d)}m.push(f+A)}return m.push("}"),m.join("")},a=n.__fontmetrics__.uncompress=function(h){if("string"!=typeof h)throw new Error("Invalid argument passed to uncompress.");for(var d,f,A,p,m={},g=1,y=m,v=[],_="",C="",b=h.length-1,M=1;M<b;M+=1)"'"==(p=h[M])?d?(A=d.join(""),d=void 0):d=[]:d?d.push(p):"{"==p?(v.push([y,A]),y={},A=void 0):"}"==p?((f=v.pop())[0][f[1]]=y,A=void 0,y=f[0]):"-"==p?g=-1:void 0===A?t.hasOwnProperty(p)?(_+=t[p],A=parseInt(_,16)*g,g=1,_=""):_+=p:t.hasOwnProperty(p)?(C+=t[p],y[A]=parseInt(C,16)*g,g=1,A=void 0,C=""):C+=p;return m},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var d=h.font,f=u.Unicode[d.postScriptName];f&&(d.metadata.Unicode={},d.metadata.Unicode.widths=f.widths,d.metadata.Unicode.kerning=f.kerning);var A=c.Unicode[d.postScriptName];A&&(d.metadata.Unicode.encoding=A,d.encoding=A.codePages[0])}])}(_r.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var o,a,r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(i.postScriptName)?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");o=i,a=/^\x00\x01\x00\x00/.test(a=r)?e(a):e(OE(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]}}])}(_r),_r.API.addSvgAsImage=function(t,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw no.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw no.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return function e(){return(xr.canvg?Promise.resolve(xr.canvg):we.e(734).then(we.bind(we,9734))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}().then(function(A){return A.fromString(h,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(d)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})},_r.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},_r.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,h=0;function d(A,p){var m,g=!1;for(m=0;m<A.length;m+=1)A[m]===p&&(g=!0);return g}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===n||!0===e){var f=a.length;for(h=0;h<f;h+=1)t[a[h]].value=t[a[h]].defaultValue,t[a[h]].explicitSet=!1}if("object"===(0,to.A)(n))for(i in n)if(s=n[i],d(a,i)&&void 0!==s){if("boolean"===t[i].type&&"boolean"==typeof s)t[i].value=s;else if("name"===t[i].type&&d(t[i].valueSet,s))t[i].value=s;else if("integer"===t[i].type&&Number.isInteger(s))t[i].value=s;else if("array"===t[i].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)"number"!=typeof s[c][u]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var A,p=[];for(A in t)!0===t[A].explicitSet&&p.push("name"===t[A].type?"/"+A+" /"+t[A].value:"/"+A+" "+t[A].value);0!==p.length&&this.internal.write("/ViewerPreferences\n<<\n"+p.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(_r.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,d=s.length;h<d;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),-1==l.indexOf(a)&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),"0"==a)return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,h,d;for(u="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",l=[],h=0,d=(a=Object.keys(s).sort(function(f,A){return f-A})).length;h<d;h++)o=a[h],l.length>=100&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar",l=[]),null!=s[o]&&"function"==typeof s[o].toString&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar\n"),u+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"Identity-H"===a.encoding){for(var h=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",A=0;A<d.length;A++)f+=String.fromCharCode(d[A]);var p=c();u({data:f,addLength1:!0,objectId:p}),l("endobj");var m=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var g=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+$1(a.fontName)),l("/FontFile2 "+p+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+$1(a.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+n.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+m+" 0 R"),l("/BaseFont /"+$1(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]),e.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var h=a.metadata.rawData,d="",f=0;f<h.length;f++)d+=String.fromCharCode(h[f]);var A=c();u({data:d,addLength1:!0,objectId:A}),l("endobj");var p=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var m=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+A+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+$1(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var g=0;g<a.metadata.hmtx.widths.length;g++)a.metadata.hmtx.widths[g]=parseInt(a.metadata.hmtx.widths[g]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+$1(a.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},h=s.mutex||{},d=h.pdfEscape,f=h.activeFontKey,A=h.fonts,p=f,m="",g=0,y="",v=A[p].encoding;if("Identity-H"!==A[p].encoding)return{text:a,x:l,y:c,options:u,mutex:h};for(y=a,p=f,Array.isArray(a)&&(y=a[0]),g=0;g<y.length;g+=1)A[p].metadata.hasOwnProperty("cmap")&&(o=A[p].metadata.cmap.unicode.codeMap[y[g].charCodeAt(0)]),o||y[g].charCodeAt(0)<256&&A[p].metadata.hasOwnProperty("Unicode")?m+=y[g]:m+="";var _="";return parseInt(p.slice(1))<14||"WinAnsiEncoding"===v?_=d(m,p).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):"Identity-H"===v&&(_=t(m,A[p])),h.isHex=!0,{text:_,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&3===o[c].length?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(_r),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(_r.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,h=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,v=0;this.__bidiEngine__={};var _=function(B){var R=B.charCodeAt(),U=R>>8,k=p[U];return void 0!==k?h[256*k+(255&R)]:252===U||253===U?"AL":g.test(U)?"L":8===U?"R":"N"},C=function(B){for(var R,U=0;U<B.length;U++){if("L"===(R=_(B.charAt(U))))return!1;if("R"===R)return!0}return!1},b=function(B,R,U,k){var q,O,P,G,H=R[k];switch(H){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(H="AN");break;case"AL":y=!0,H="R";break;case"WS":case"BN":H="N";break;case"CS":k<1||k+1>=R.length||"EN"!==(q=U[k-1])&&"AN"!==q||"EN"!==(O=R[k+1])&&"AN"!==O?H="N":y&&(O="AN"),H=O===q?O:"N";break;case"ES":H="EN"===(q=k>0?U[k-1]:"B")&&k+1<R.length&&"EN"===R[k+1]?"EN":"N";break;case"ET":if(k>0&&"EN"===U[k-1]){H="EN";break}if(y){H="N";break}for(P=k+1,G=R.length;P<G&&"ET"===R[P];)P++;H=P<G&&"EN"===R[P]?"EN":"N";break;case"NSM":if(o&&!a){for(G=R.length,P=k+1;P<G&&"NSM"===R[P];)P++;if(P<G){var ae=B[k];if(q=R[P],(ae>=1425&&ae<=2303||64286===ae)&&("R"===q||"AL"===q)){H="R";break}}}H=k<1||"B"===(q=R[k-1])?"N":U[k-1];break;case"B":y=!1,i=!0,H=v;break;case"S":s=!0,H="N"}return H},M=function(B,R,U){var k=B.split("");return U&&D(k,U,{hiLevel:v}),k.reverse(),R&&R.reverse(),k.join("")},D=function(B,R,U){var k,q,O,P,G,H=-1,ae=B.length,ve=0,Q=[],j=v?f:d,K=[];for(y=!1,i=!1,s=!1,q=0;q<ae;q++)K[q]=_(B[q]);for(O=0;O<ae;O++){if(G=ve,Q[O]=b(B,K,Q,O),k=240&(ve=j[G][A[Q[O]]]),R[O]=P=j[ve&=15][5],k>0)if(16===k){for(q=H;q<O;q++)R[q]=1;H=-1}else H=-1;if(j[ve][6])-1===H&&(H=O);else if(H>-1){for(q=H;q<O;q++)R[q]=P;H=-1}"B"===K[O]&&(R[O]=0),U.hiLevel|=P}s&&function(oe,se,le){for(var te=0;te<le;te++)if("S"===oe[te]){se[te]=v;for(var ee=te-1;ee>=0&&"WS"===oe[ee];ee--)se[ee]=v}}(K,R,ae)},E=function(B,R,U,k,q){if(!(q.hiLevel<B)){if(1===B&&1===v&&!i)return R.reverse(),void(U&&U.reverse());for(var O,P,G,H,ae=R.length,ve=0;ve<ae;){if(k[ve]>=B){for(G=ve+1;G<ae&&k[G]>=B;)G++;for(H=ve,P=G-1;H<P;H++,P--)O=R[H],R[H]=R[P],R[P]=O,U&&(O=U[H],U[H]=U[P],U[P]=O);ve=G}ve++}}},T=function(B,R,U){var k=B.split(""),q={hiLevel:v};return U||(U=[]),D(k,U,q),function(O,P,G){if(0!==G.hiLevel&&u)for(var H,ae=0;ae<O.length;ae++)1===P[ae]&&(H=m.indexOf(O[ae]))>=0&&(O[ae]=m[H+1])}(k,U,q),E(2,k,R,U,q),E(1,k,R,U,q),k.join("")};return this.__bidiEngine__.doBidiReorder=function(B,R,U){if(function(q,O){if(O)for(var P=0;P<q.length;P++)O[P]=P;void 0===a&&(a=C(q)),void 0===c&&(c=C(q))}(B,R),o||!l||c)if(o&&l&&a^c)v=a?1:0,B=M(B,R,U);else if(!o&&l&&c)v=a?1:0,B=T(B,R,U),B=M(B,R);else if(!o||a||l||c){if(o&&!l&&a^c)B=M(B,R),a?(v=0,B=T(B,R,U)):(v=1,B=T(B,R,U),B=M(B,R));else if(o&&a&&!l&&c)v=1,B=T(B,R,U),B=M(B,R);else if(!o&&!l&&a^c){var k=u;a?(v=1,B=T(B,R,U),v=0,u=!1,B=T(B,R,U),u=k):(v=0,B=T(B,R,U),B=M(B,R),v=1,u=!1,B=T(B,R,U),u=k,B=M(B,R))}}else v=0,B=T(B,R,U);else v=a?1:0,B=T(B,R,U);return B},this.__bidiEngine__.setOptions=function(B){B&&(o=B.isInputVisual,l=B.isOutputVisual,a=B.isInputRtl,c=B.isOutputRtl,u=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=r.options||{},o=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,t.setOptions(s),"[object Array]"===Object.prototype.toString.call(i)){var a=0;for(o=[],a=0;a<i.length;a+=1)"[object Array]"===Object.prototype.toString.call(i[a])?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(_r),_r.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new hm(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new SRe(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new fRe(this.contents),this.head=new ARe(this),this.name=new yRe(this),this.cmap=new GZ(this),this.toUnicode={},this.hhea=new pRe(this),this.maxp=new _Re(this),this.hmtx=new bRe(this),this.post=new mRe(this),this.os2=new gRe(this),this.loca=new ERe(this),this.glyf=new wRe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)c.push(Math.round(l[o]*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},n}();var Jf,hm=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var r,i,s;for(s=[],r=0,i=e.length;r<i;r++)s.push(this.writeByte(e[r]));return s},n}(),fRe=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,a,l,c,u,h,d,f,A,p;for(p in f=Object.keys(t).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),u=16*f-h,(i=new hm).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(u),c=i.pos+16*f,a=null,A=[],t)for(d=t[p],i.writeString(p),i.writeInt(n(d)),i.writeInt(c),i.writeInt(d.length),A=A.concat(d),"head"===p&&(a=c),c+=d.length;c%4;)A.push(0),c++;return i.write(A),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=jZ.call(t);t.length%4;)t.push(0);for(s=new hm(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),dRe={}.hasOwnProperty,nA=function(n,e){for(var t in e)dRe.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Jf=function(){function n(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var ARe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Jf),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new hm).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),zZ=function(){function n(e,t){var r,i,s,o,a,l,c,u,h,d,f,A,p,m,g,y,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,s=function(){var _,C;for(C=[],l=_=0;0<=d?_<d:_>d;l=0<=d?++_:--_)C.push(e.readUInt16());return C}(),e.pos+=2,p=function(){var _,C;for(C=[],l=_=0;0<=d?_<d:_>d;l=0<=d?++_:--_)C.push(e.readUInt16());return C}(),c=function(){var _,C;for(C=[],l=_=0;0<=d?_<d:_>d;l=0<=d?++_:--_)C.push(e.readUInt16());return C}(),u=function(){var _,C;for(C=[],l=_=0;0<=d?_<d:_>d;l=0<=d?++_:--_)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,a=function(){var _,C;for(C=[],l=_=0;0<=i?_<i:_>i;l=0<=i?++_:--_)C.push(e.readUInt16());return C}(),l=g=0,v=s.length;g<v;l=++g)for(m=s[l],r=y=A=p[l];A<=m?y<=m:y>=m;r=A<=m?++y:--y)0===u[l]?o=r+c[l]:0!==(o=a[u[l]/2+(r-A)-(d-l)]||0)&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return n.encode=function(e,t){var r,i,s,o,a,l,c,u,h,d,f,A,p,m,g,y,v,C,b,M,D,E,T,B,R,U,k,q,O,P,G,H,ae,ve,Q,j,K,oe,se,le,te,ee,Ae,xe,ge;switch(k=new hm,o=Object.keys(e).sort(function(Ee,ne){return Ee-ne}),t){case"macroman":for(p=0,m=function(){var Ee=[];for(A=0;A<256;++A)Ee.push(0);return Ee}(),y={0:0},s={},q=0,H=o.length;q<H;q++)null==y[ee=e[i=o[q]]]&&(y[ee]=++p),s[i]={old:e[i],new:y[e[i]]},m[i]=y[e[i]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(m),{charMap:s,subtable:k.data,maxGlyphID:p+1};case"unicode":for(R=[],h=[],v=0,y={},r={},g=c=null,O=0,ae=o.length;O<ae;O++)null==y[C=e[i=o[O]]]&&(y[C]=++v),r[i]={old:C,new:y[C]},a=y[C]-i,null!=g&&a===c||(g&&h.push(g),R.push(i),c=a),g=i;for(g&&h.push(g),h.push(65535),R.push(65535),T=2*(E=R.length),D=2*Math.pow(Math.log(E)/Math.LN2,2),d=Math.log(D/2)/Math.LN2,M=2*E-D,l=[],b=[],f=[],A=P=0,ve=R.length;P<ve;A=++P){if(u=h[A],65535===(B=R[A])){l.push(0),b.push(0);break}if(B-(U=r[B].new)>=32768)for(l.push(0),b.push(2*(f.length+E-A)),i=G=B;B<=u?G<=u:G>=u;i=B<=u?++G:--G)f.push(r[i].new);else l.push(U-B),b.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*E+2*f.length),k.writeUInt16(0),k.writeUInt16(T),k.writeUInt16(D),k.writeUInt16(d),k.writeUInt16(M),le=0,Q=h.length;le<Q;le++)k.writeUInt16(i=h[le]);for(k.writeUInt16(0),te=0,j=R.length;te<j;te++)k.writeUInt16(i=R[te]);for(Ae=0,K=l.length;Ae<K;Ae++)k.writeUInt16(a=l[Ae]);for(xe=0,oe=b.length;xe<oe;xe++)k.writeUInt16(b[xe]);for(ge=0,se=f.length;ge<se;ge++)k.writeUInt16(p=f[ge]);return{charMap:r,subtable:k.data,maxGlyphID:v+1}}},n}(),GZ=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Jf),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new zZ(t,this.offset),this.tables.push(r),r.isUnicode&&null==this.unicode&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return null==r&&(r="macroman"),i=zZ.encode(t,r),(s=new hm).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),pRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Jf),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),gRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Jf),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),mRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Jf),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(t.readUInt32());return c}.call(this)}},e}(),vRe=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},yRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Jf),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,l,c,u,h,d,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},o=h=0,d=i.length;h<d;o=++h)t.pos=(s=i[o]).offset,u=t.readString(s.length),a=new vRe(u,s),null==c[f=s.nameID]&&(c[f]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),_Re=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Jf),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),bRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Jf),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(t.readInt16());return h}(),this.widths=function(){var u,h,d,f;for(f=[],u=0,h=(d=this.metrics).length;u<h;u++)f.push(d[u].advance);return f}.call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),jZ=[].slice,wRe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Jf),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,l,c,u,h,d;return t in this.cache?this.cache[t]:(r=this.file.contents,i=(o=this.file.loca).indexOf(t),0===(s=o.lengthOf(t))?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new hm(r.read(s))).readShort(),u=l.readShort(),d=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[t]=-1===a?new xRe(l,u,d,c,h):new CRe(l,a,u,d,c,h),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=t[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),CRe=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),xRe=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new hm(jZ.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),ERe=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return nA(e,Jf),e.prototype.tag="loca",e.prototype.parse=function(t){var i;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}.call(this):function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var c=this.offsets[a+1]-this.offsets[a];c>0&&(s+=c)}for(var u=new Array(4*i.length),h=0;h<i.length;++h)u[4*h+3]=255&i[h],u[4*h+2]=(65280&i[h])>>8,u[4*h+1]=(16711680&i[h])>>16,u[4*h]=(4278190080&i[h])>>24;return u},e}(),SRe=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)e[t]=i[s[t]];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)null!=(r=i[s])&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))i[s]=r=l[s];return i},n.prototype.encode=function(e,t){var r,i,s,o,l,c,u,h,d,f,A,p,m,g;for(i in r=GZ.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},g=r.charMap)f[(l=g[i]).old]=l.new;for(A in d=r.maxGlyphID,o)A in f||(f[A]=d++);return u=function(y){var v,_;for(v in _={},y)_[y[v]]=v;return _}(f),h=Object.keys(u).sort(function(y,v){return y-v}),p=function(){var y,v,_;for(_=[],y=0,v=h.length;y<v;y++)_.push(u[h[y]]);return _}(),s=this.font.glyf.encode(o,p,f),c=this.font.loca.encode(s.offsets,p),m={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},n}();_r.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var i,s;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)c.push(e.convert(t[a]));return c}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(i in s=["<<"],t)s.push("/"+i+" "+e.convert(t[i]));return s.push(">>"),s.join("\n")}return""+t},e}();const DRe=_r;let MRe=(()=>{class n{getPdf(t,r,i,s,o){console.log(t+": [GENERANDO PDF]");const a=(new Date).toISOString();s=`${s}_${a}.pdf`;const l=r.nativeElement,c=i.nativeElement;NFe()(l).then(u=>{let h=c.offsetWidth,d=c.offsetHeight,f=u.toDataURL("image/jpeg"),A=new DRe("landscape","px",[h,d]);A.addImage(f,0,0,h,d),A.save(s)}),o.next(s),o.complete()}_GetPDF(t,r,i,s){return new di(a=>this.getPdf(t,r,i,s,a))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const TRe=["_languajeList"],BRe=["_SourceList"],NRe=["_fileUpload"],IRe=["_sudoku_board"],FRe=n=>({width:n});function RRe(n,e){if(1&n&&(fe(0,"td")(1,"div",31),Me(2),ce()()),2&n){const t=e.$implicit,r=e.index,i=rn().index;Te(),qe("className",r>=3&&r<=5&&i>=0&&i<3||!(r>=3&&r<=5)&&i>=3&&i<=5||r>=3&&r<=5&&i>5&&i<=8?"sudoku-cell_bright":"sudoku-cell_dark"),Te(),Br(t)}}function ORe(n,e){if(1&n&&(fe(0,"tr"),cn(1,RRe,3,2,"td",5),ce()),2&n){const t=e.$implicit;Te(),qe("ngForOf",t)}}function PRe(n,e){if(1&n&&(fe(0,"option",32),Me(1),ce()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Te(),Hi("",t._value," ")}}function LRe(n,e){if(1&n&&(fe(0,"option",32),Me(1),ce()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Te(),Hi("",t._value," ")}}function URe(n,e){if(1&n&&(fe(0,"div",33)(1,"div",34),Me(2),ce()()),2&n){const t=rn();Te(),qe("ngStyle",Hd(3,FRe,t.progress+"%")),Bi("aria-valuenow",t.progress),Te(),Hi(" ",t.progress,"% ")}}function kRe(n,e){if(1&n&&(fe(0,"div",35),Me(1),ce()),2&n){const t=rn();Te(),Br(t.message)}}function HRe(n,e){if(1&n){const t=bs();fe(0,"div",24)(1,"input",36),jt("click",function(){return Ln(t),Qn(rn()._GetPdf())}),ce()()}if(2&n){const t=rn();Te(),qe("disabled","[...Generando PDF...]"==t.message)}}let VRe=(()=>{class n{constructor(t,r,i){this.algorithmService=t,this.formBuilder=r,this.pdfEngine=i,this.board=[],this.tituloListadoLenguajes="Seleccione Backend",this.btnGenerateCaption="[GENERAR]",this.btnSolveCaption="[RESOLVER]",this.tituloGenerarDesde="Generar Desde",this._cppSourceDivHidden=!0,this._fileUploadDivHidden=!0,this.sudokuSolved=!0,this._sudokuGenerated="",this.progress=0,this.message="",this.downloadLink="",this.rf_searchForm=this.formBuilder.group({_fileUpload:["",Qv.required]}),this.pageTitle="[SUDOKU]",console.log("[SUDOKU - INGRESO]")}ngAfterViewInit(){}ngOnInit(){this.__languajeList=new Array,this.__languajeList.push(new tc(0,"(SELECCIONE OPCION..)",!1)),this.__languajeList.push(new tc(1,"(.NET Core/C++)",!0)),this.__languajeList.push(new tc(2,"(Node.js)",!1)),this._cppSourceDivHidden=!1,this.__generateSourceList=new Array,this.__generateSourceList.push(new tc(0,"(SELECCIONE OPCION..)",!1)),this.__generateSourceList.push(new tc(1,"[Desde Archivo]",!1)),this.__generateSourceList.push(new tc(2,"[Desde Backend]",!0))}_cppSourceDivHiddenChanged(){console.log("SUDOKU - [DIV CPP SOURCE CHANGED]"),this._cppSourceDivHidden=1!=this._languajeList.nativeElement.options.selectedIndex,this.message=""}_fileUploadDivHiddenChanged(){console.log("SUDOKU - [DIV FILEUPLOAD CHANGED]"),this._fileUploadDivHidden=1!=this._sourceList.nativeElement.options.selectedIndex,this.message=""}GenerateFromBackend(){let t;switch(console.log("[SUDOKU - GENERATE FROM BACKEND]"),this._languajeList.nativeElement.options.selectedIndex){case 1:t=this.algorithmService._GetSudoku();break;case 2:t=this.algorithmService._GetSudoku_NodeJS();break;default:return}this.sudokuSolved=!1,this.btnGenerateCaption="[...generando...]",t.subscribe({next:s=>{console.log("[SUDOKU - GENERATE] - (return): "+s),this._sudokuGenerated=s;let o=(s=(s=(s=(s=(s=s.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let a=0;a<9;a++){const l=[];console.log(o[a]);const c=o[a].split(",");for(let u=0;u<9;u++)l.push(parseInt(c[u]));this.board.push(l)}},error:s=>{console.error("[SUDOKU - GENERATE] - (ERROR) : "+JSON.stringify(s.message)),this.btnGenerateCaption="[GENERAR]"},complete:()=>{console.log("[SUDOKU - GENERATE] -  (COMPLETE)"),this.btnGenerateCaption="[GENERAR]",this.message="[Se gener\xf3 correctamente]"}})}selectFile(t){this.selectedFiles=t.target.files}upload(){if(console.log("[SUDOKU - GENERATE  FROM FILE]"),this.selectedFiles){const t=this.selectedFiles.item(0);t&&(this.progress=0,this.message="...cargando...",this.sudokuSolved=!1,this.btnGenerateCaption="[...generando...]",this.currentFile=t,this.algorithmService.uploadSudoku(this.currentFile).subscribe({next:r=>{if(r.type===WA.UploadProgress)this.progress=Math.round(100*r.loaded/r.total);else if(r instanceof $A){console.log("RESPONSE : "+r.body);let i=r.body;i=i.replaceAll('"',""),i=i.replace(/\\r/g,""),i=i.replace(/\\n/g,""),this._sudokuGenerated=i,i=i.replaceAll("[",""),i=i.replaceAll("]",""),i=i.replaceAll("},","|"),i=i.replaceAll("{",""),i=i.replaceAll("}","");let s=i.split("|");this.board=[];for(let o=0;o<9;o++){const a=[];console.log(s[o]);const l=s[o].split(",");for(let c=0;c<9;c++)a.push(parseInt(l[c]));this.board.push(a)}}},error:r=>{console.error("[SUDOKU - GENERATE  FROM FILE] -  (ERROR)"),console.error(r),this.progress=0,this.message=r.error&&r.error.message?r.error.message:"[Could not upload the file!]",this.currentFile=void 0,this.btnGenerateCaption="[GENERAR]"},complete:()=>{console.log("[SUDOKU - GENERATE  FROM FILE] -  (COMPLETE)"),this.btnGenerateCaption="[GENERAR]",this.message="[Se gener\xf3 correctamente]",this.selectedFiles=void 0,this.currentFile=void 0}}))}else this.message="[Favor seleccione archivo...]"}_GetSudoku(){switch(console.log("[SUDOKU - GENERATE - MAIN MENU]"),this._sourceList.nativeElement.options.selectedIndex){case 1:this.upload();break;case 2:this.GenerateFromBackend();break;default:return}}_SolveSudoku(){let t;switch(console.log("[SUDOKU - SOLVE] \n"+this._sudokuGenerated),this.sudokuSolved=!0,this.btnSolveCaption="[...resolviendo...]",this._languajeList.nativeElement.options.selectedIndex){case 1:t=this.algorithmService._SolveSudoku(this._sudokuGenerated);break;case 2:t=this.algorithmService._SolveSudoku_NodeJS(this._sudokuGenerated);break;default:return}t.subscribe({next:s=>{console.log("[SUDOKU - SOLVE] - (return): "+s),this._sudokuGenerated=s;let o=(s=(s=(s=(s=(s=s.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let a=0;a<9;a++){const l=[];console.log(o[a]);const c=o[a].split(",");for(let u=0;u<9;u++)l.push(parseInt(c[u]));this.board.push(l)}},error:s=>{console.error("[SUDOKU - SOLVE] - (ERROR) : "+JSON.stringify(s.message)),this.message="[Ha ocurrido un error]"},complete:()=>{console.log("[SUDOKU - SOLVE] -  (COMPLETE)"),this.btnSolveCaption="[RESOLVER]",this.message="[Se resolvi\xf3 correctamente]",this.selectedFiles=void 0,this.currentFile=void 0,this.rf_searchForm.reset()}})}_GetPdf(){let r="SUDOKU_BOARD_"+(this.sudokuSolved?"SOLVED":"STARTED"),i="";this.message="[...Generando PDF...]",this.pdfEngine._GetPDF(this.pageTitle,this._sudoku_board,this._sudoku_board,r).subscribe({next:s=>{i=s},error:s=>{this.message="ha ocurrido un error : "+s.message},complete:()=>{this.message=`Se ha generado el archivo PDF :[ ${i} ]`}})}static{this.\u0275fac=function(r){return new(r||n)(At(TFe),At(u$),At(MRe))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-sudoku"]],viewQuery:function(r,i){if(1&r&&($i(TRe,5),$i(BRe,5),$i(NRe,5),$i(IRe,5)),2&r){let s;lr(s=cr())&&(i._languajeList=s.first),lr(s=cr())&&(i._sourceList=s.first),lr(s=cr())&&(i._fileUpload=s.first),lr(s=cr())&&(i._sudoku_board=s.first)}},decls:58,vars:15,consts:[["_sudoku_board",""],["_languajeList",""],["_SourceList",""],["_fileUpload",""],[1,"sudoku-board"],[4,"ngFor","ngForOf"],["id","LangListDiv","align","left"],["id","tituloListadoLenguajes"],["for","LanguajeList"],["id","LanguageList","name","LanguajeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","cppSoureDiv",3,"hidden"],["href","javascript: void window.open('https://github.com/aperezNWO/CppBuilder01/blob/master/Project2/Sudoku.cpp')"],["id","SourceListDiv","align","left"],["for","SourceList"],["id","SourceList","name","SourceList",3,"change"],[3,"ngSubmit","formGroup"],["align","left",1,"fileUpload",3,"hidden"],["href","./assets/sudoku.txt","target","_blank","download","sudoku.txt"],[1,"col-12"],[1,"btn","btn-default","p-0"],["type","file","name","_fileUpload","formControlName","_fileUpload",3,"change"],["id","resetFile","type","reset"],["class","progress my-3",4,"ngIf"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["id","GetSudoku","type","button",3,"click","value","disabled"],["id","SolveSudoku","type","submit",3,"value","disabled"],["align","left",4,"ngIf"],["align","right"],["routerLink","/Dev"],[3,"className"],[3,"value","selected"],[1,"progress","my-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped",3,"ngStyle"],["role","alert",1,"alert","alert-secondary"],["type","button","name","btnGeneratePdf","value","[GENERAR PDF]",3,"click","disabled"]],template:function(r,i){if(1&r){const s=bs();fe(0,"h1"),Me(1,"SUDOKU BOARD"),ce(),lt(2,"hr"),fe(3,"div",4,0)(5,"table")(6,"tbody"),cn(7,ORe,2,1,"tr",5),ce()()(),lt(8,"hr"),fe(9,"div",6)(10,"span",7),Me(11),ce(),lt(12,"label",8),Me(13," \xa0\xa0 "),fe(14,"select",9,1),jt("change",function(){return Ln(s),Qn(i._cppSourceDivHiddenChanged())}),cn(16,PRe,2,3,"option",10),ce(),Me(17," \xa0\xa0 "),fe(18,"span",11)(19,"a",12),Me(20,"[View Source]"),ce()()(),lt(21,"hr"),fe(22,"div",13)(23,"span",7),Me(24),ce(),lt(25,"label",14),Me(26," \xa0\xa0 "),fe(27,"select",15,2),jt("change",function(){return Ln(s),Qn(i._fileUploadDivHiddenChanged())}),cn(29,LRe,2,3,"option",10),ce()(),lt(30,"hr"),fe(31,"form",16),jt("ngSubmit",function(){return Ln(s),Qn(i._SolveSudoku())}),fe(32,"div",17)(33,"a",18),Me(34,"[Download Template]"),ce(),lt(35,"hr"),fe(36,"div",19)(37,"label",20)(38,"input",21,3),jt("change",function(a){return Ln(s),Qn(i.selectFile(a))}),ce()(),Me(40," | "),fe(41,"button",22),Me(42,"[RESET]"),ce()(),lt(43,"hr"),cn(44,URe,3,5,"div",23),ce(),fe(45,"div",24),cn(46,kRe,2,1,"div",25),ce(),lt(47,"hr"),fe(48,"div",24)(49,"input",26),jt("click",function(){return Ln(s),Qn(i._GetSudoku())}),ce(),Me(50," | "),lt(51,"input",27),ce()(),lt(52,"hr"),cn(53,HRe,2,1,"div",28),lt(54,"hr"),fe(55,"div",29)(56,"a",30),Me(57,"[Volver al menu]"),ce()()}2&r&&(Te(7),qe("ngForOf",i.board),Te(4),Br(i.tituloListadoLenguajes),Te(5),qe("ngForOf",i.__languajeList),Te(2),qe("hidden",i._cppSourceDivHidden),Te(6),Br(i.tituloGenerarDesde),Te(5),qe("ngForOf",i.__generateSourceList),Te(2),qe("formGroup",i.rf_searchForm),Te(),qe("hidden",i._fileUploadDivHidden),Te(12),qe("ngIf",i.currentFile),Te(2),qe("ngIf",i.message),Te(3),qe("value",i.btnGenerateCaption)("disabled","[...generando...]"==i.btnGenerateCaption||"[...resolviendo...]"==i.btnSolveCaption),Te(2),qe("value",i.btnSolveCaption)("disabled","[...resolviendo...]"==i.btnSolveCaption||"[...generando...]"==i.btnGenerateCaption||1==i.sudokuSolved),Te(2),qe("ngIf",i.board.length>0))},dependencies:[xs,Bl,ec,UM,R_,jv,qv,Qd,kg,N_,Ix,aT],styles:[".sudoku-board[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;height:auto;border:1px solid black}.sudoku-cell_bright[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid black;text-align:center;font-size:20px;background-color:#fff}.sudoku-cell_dark[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid black;text-align:center;font-size:20px;background-color:#ccc}.fileUpload[_ngcontent-%COMP%]{padding:1em;background-color:#ccc}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#007bff}"]})}}return n})();class QRe extends mi{constructor(e,t){super()}schedule(e,t=0){return this}}const UN={setInterval(n,e,...t){const{delegate:r}=UN;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=UN;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class eH extends QRe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return UN.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&UN.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ti(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const tH={now:()=>(tH.delegate||Date).now(),delegate:void 0};class PE{constructor(e,t=PE.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}PE.now=tH.now;class nH extends PE{constructor(e,t=PE.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const LE=new nH(eH),zRe=LE;function kN(n=0,e,t=zRe){let r=-1;return null!=e&&(sq(e)?t=e:r=e),new di(i=>{let s=function GRe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function qZ(n=0,e=LE){return n<0&&(n=0),kN(n,n,e)}function jRe(n,e){if(1&n&&lt(0,"div",13),2&n){const t=e.$implicit;KC("background-color",t),Ci("filled",t)}}function qRe(n,e){if(1&n&&(fe(0,"div",11),cn(1,jRe,1,4,"div",12),ce()),2&n){const t=e.$implicit;Te(),qe("ngForOf",t)}}function WRe(n,e){if(1&n){const t=bs();fe(0,"button",8),jt("click",function(){return Ln(t),Qn(rn().startGame())}),Me(1),ce()}if(2&n){const t=rn();Te(),Hi(" ",t.gameOver?"Play Again":"Start Game"," ")}}function $Re(n,e){if(1&n){const t=bs();fe(0,"div",14)(1,"button",15),jt("click",function(){return Ln(t),Qn(rn().moveLeft())}),Me(2,"\u2190"),ce(),fe(3,"button",15),jt("click",function(){return Ln(t),Qn(rn().moveRight())}),Me(4,"\u2192"),ce(),fe(5,"button",8),jt("click",function(){return Ln(t),Qn(rn().rotate())}),Me(6,"Rotate"),ce(),fe(7,"button",8),jt("click",function(){return Ln(t),Qn(rn().drop())}),Me(8,"Drop"),ce()()}}let KRe=(()=>{class n{constructor(t){this.pageRestartService=t,this.BOARD_WIDTH=10,this.BOARD_HEIGHT=20,this.TICK_INTERVAL=1e3,this.board=[],this.displayBoard=[],this.currentPiece=[],this.currentColor="",this.score=0,this.isPlaying=!1,this.gameOver=!1,this.isMobile=!1,this.TETROMINOS={I:{shape:[[1,1,1,1]],color:"#00f0f0"},O:{shape:[[1,1],[1,1]],color:"#f0f000"},T:{shape:[[0,1,0],[1,1,1]],color:"#a000f0"},S:{shape:[[0,1,1],[1,1,0]],color:"#00f000"},Z:{shape:[[1,1,0],[0,1,1]],color:"#f00000"},J:{shape:[[1,0,0],[1,1,1]],color:"#0000f0"},L:{shape:[[0,0,1],[1,1,1]],color:"#f0a000"}}}restart(){this.pageRestartService.reloadPage()}ngOnInit(){this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.initBoard()}handleKeyboardEvent(t){if(this.isPlaying&&!this.gameOver)switch(t.key){case"ArrowLeft":this.moveLeft();break;case"ArrowRight":this.moveRight();break;case"ArrowUp":this.rotate();break;case"ArrowDown":this.moveDown();break;case" ":this.drop()}}initBoard(){this.board=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill("")),this.displayBoard=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill(""))}startGame(){this.gameLoop$&&this.gameLoop$.unsubscribe(),this.initBoard(),this.score=0,this.gameOver=!1,this.isPlaying=!0,this.spawnPiece(),this.gameLoop$=qZ(this.TICK_INTERVAL).subscribe(()=>{this.gameOver||this.moveDown()})}spawnPiece(){const t=Object.keys(this.TETROMINOS),r=t[Math.floor(Math.random()*t.length)],i=this.TETROMINOS[r];this.currentPiece=i.shape.flatMap((s,o)=>s.map((a,l)=>a?{x:l+Math.floor(this.BOARD_WIDTH/2)-1,y:o}:null)).filter(s=>null!==s),this.currentColor=i.color,this.checkCollision()&&(this.gameOver=!0,this.isPlaying=!1,this.gameLoop$&&this.gameLoop$.unsubscribe()),this.updateDisplayBoard()}moveLeft(){const t=this.currentPiece.map(r=>({...r,x:r.x-1}));this.isValidMove(t)&&(this.currentPiece=t,this.updateDisplayBoard())}moveRight(){const t=this.currentPiece.map(r=>({...r,x:r.x+1}));this.isValidMove(t)&&(this.currentPiece=t,this.updateDisplayBoard())}moveDown(){const t=this.currentPiece.map(r=>({...r,y:r.y+1}));this.isValidMove(t)?(this.currentPiece=t,this.updateDisplayBoard()):(this.lockPiece(),this.clearLines(),this.spawnPiece())}drop(){for(;this.isValidMove(this.currentPiece.map(t=>({...t,y:t.y+1})));)this.currentPiece=this.currentPiece.map(t=>({...t,y:t.y+1}));this.updateDisplayBoard(),this.lockPiece(),this.clearLines(),this.spawnPiece()}rotate(){if(!this.currentPiece.length)return;const t=this.currentPiece[1],r=this.currentPiece.map(i=>({x:t.x-(i.y-t.y),y:t.y+(i.x-t.x)}));this.isValidMove(r)&&(this.currentPiece=r,this.updateDisplayBoard())}isValidMove(t){return t.every(r=>r.x>=0&&r.x<this.BOARD_WIDTH&&r.y>=0&&r.y<this.BOARD_HEIGHT&&!this.board[r.y]?.[r.x])}checkCollision(){return!this.isValidMove(this.currentPiece)}updateDisplayBoard(){this.displayBoard=this.board.map(t=>[...t]),this.currentPiece.forEach(t=>{t.y>=0&&t.y<this.BOARD_HEIGHT&&(this.displayBoard[t.y][t.x]=this.currentColor)})}lockPiece(){this.currentPiece.forEach(t=>{t.y>=0&&t.y<this.BOARD_HEIGHT&&(this.board[t.y][t.x]=this.currentColor)}),this.updateDisplayBoard()}clearLines(){let t=0;for(let r=this.BOARD_HEIGHT-1;r>=0;r--)this.board[r].every(i=>""!==i)&&(this.board.splice(r,1),this.board.unshift(Array(this.BOARD_WIDTH).fill("")),t++,r++);t>0&&(this.score+=100*Math.pow(2,t-1)),this.updateDisplayBoard()}ngOnDestroy(){this.gameLoop$&&this.gameLoop$.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)(At(Sk))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-tetris"]],hostBindings:function(r,i){1&r&&jt("keydown",function(o){return i.handleKeyboardEvent(o)},0,bQ)},decls:19,vars:6,consts:[["align","center"],[1,"game-container"],[1,"game-board"],["class","row",4,"ngFor","ngForOf"],[1,"controls"],[1,"score"],[3,"click",4,"ngIf"],["class","mobile-controls",4,"ngIf"],[3,"click"],["align","right"],["routerLink","/StableReleases"],[1,"row"],["class","cell",3,"filled","backgroundColor",4,"ngFor","ngForOf"],[1,"cell"],[1,"mobile-controls"],[2,"font-size","x-large",3,"click"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Me(2,"[TETRIS]"),ce(),lt(3,"hr"),fe(4,"div",1)(5,"div",2),cn(6,qRe,2,1,"div",3),ce(),fe(7,"div",4)(8,"div",5),Me(9),ce(),cn(10,WRe,2,1,"button",6)(11,$Re,9,0,"div",7),ce()(),lt(12,"hr"),fe(13,"button",8),jt("click",function(){return i.restart()}),Me(14,"[RESTART]"),ce(),lt(15,"hr"),ce(),fe(16,"div",9)(17,"a",10),Me(18,"[Volver al Menu]"),ce()()),2&r&&(Te(4),Ci("game-over",i.gameOver),Te(2),qe("ngForOf",i.displayBoard),Te(3),Hi("Score: ",i.score,""),Te(),qe("ngIf",!i.isPlaying||i.gameOver),Te(),qe("ngIf",i.isMobile))},dependencies:[xs,Bl,ec],styles:[".game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.game-board[_ngcontent-%COMP%]{border:2px solid #333;background:#f0f0f0}.row[_ngcontent-%COMP%]{display:flex}.cell[_ngcontent-%COMP%]{width:25px;height:25px;border:1px solid #ccc}.cell.filled[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2)}.controls[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.score[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}button[_ngcontent-%COMP%]{padding:10px 20px;margin:5px;font-size:16px;cursor:pointer}.mobile-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:20px}.game-over[_ngcontent-%COMP%]   .game-board[_ngcontent-%COMP%]{opacity:.5}@media (max-width: 600px){.cell[_ngcontent-%COMP%]{width:20px;height:20px}}"]})}}return n})(),XRe=(()=>{class n{constructor(){this.value=null,this.clickEvent=new ie}onClick(){this.clickEvent.emit()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-square"]],inputs:{value:"value"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[Ca],decls:2,vars:1,consts:[[1,"square",3,"click"]],template:function(r,i){1&r&&(fe(0,"button",0),jt("click",function(){return i.onClick()}),Me(1),ce()),2&r&&(Te(),Br(null==i.value?"_":i.value))},dependencies:[Ng],styles:[".square[_ngcontent-%COMP%]{width:50px;height:50px}"]})}}return n})(),WZ=(()=>{class n{constructor(){this.COMPUTER=1,this.HUMAN=2,this.COMPUTERMOVE="O",this.HUMANMOVE="X",this.SIDE=3,this.boardSurface=this.SIDE*this.SIDE,this.whoseTurn=this.HUMAN,this.moveIndex=0,this.board=[],this.winner=null,this.squares=Array(this.boardSurface).fill(null),this.message="",this.initialise()}initialise(){this.squares=[],this.squares=Array(9).fill(null),this.board=[];for(let t=0;t<this.SIDE;t++){const r=[];for(let i=0;i<this.SIDE;i++)r.push(null);this.board.push(r)}this.winner=null,this.moveIndex=0,this.message=""}declareWinner(t){t==this.COMPUTER?(this.message="[gan\xf3 COMPUTADOR]",this.winner=this.COMPUTERMOVE):(this.message="[gan\xf3 HUMANO]",this.winner=this.HUMANMOVE)}rowCrossed(t){for(let r=0;r<this.SIDE;r++)if(t[r][0]==t[r][1]&&t[r][1]==t[r][2]&&null!=t[r][0])return!0;return!1}columnCrossed(t){for(let r=0;r<this.SIDE;r++)if(t[0][r]==t[1][r]&&t[1][r]==t[2][r]&&null!=t[0][r])return!0;return!1}diagonalCrossed(t){return t[0][0]==t[1][1]&&t[1][1]==t[2][2]&&null!=t[0][0]||t[0][2]==t[1][1]&&t[1][1]==t[2][0]&&null!=t[0][2]}gameOver(t){return this.rowCrossed(t)||this.columnCrossed(t)||this.diagonalCrossed(t)}minimax(t,r,i){let s=0,o=0;if(1==this.gameOver(t)){if(1==i)return-1;if(0==i)return 1}if(r<9){if(1==i){o=-999;for(let a=0;a<this.SIDE;a++)for(let l=0;l<this.SIDE;l++)null==t[a][l]&&(t[a][l]=this.COMPUTERMOVE,s=this.minimax(t,r+1,!1),t[a][l]=null,s>o&&(o=s));return o}o=999;for(let a=0;a<this.SIDE;a++)for(let l=0;l<this.SIDE;l++)null==t[a][l]&&(t[a][l]=this.HUMANMOVE,s=this.minimax(t,r+1,!0),t[a][l]=null,s<o&&(o=s));return o}return 0}bestMove(t,r){let i=-1,s=-1,o=0,a=-999;for(let l=0;l<this.SIDE;l++)for(let c=0;c<this.SIDE;c++)null==t[l][c]&&(t[l][c]=this.COMPUTERMOVE,o=this.minimax(t,r+1,!1),t[l][c]=null,o>a&&(a=o,i=l,s=c));return 3*i+s}doPlay(t,r,i){this.whoseTurn=t;let s=0;switch(t){case this.COMPUTER:s=Math.abs(this.bestMove(this.board,this.moveIndex));break;case this.HUMAN:s=i}let o=Math.floor(s/this.SIDE),a=Math.floor(s%this.SIDE);this.board[o][a]=r,this.squares[s]=r,this.moveIndex++}_declareWinner(){let t=0==this.gameOver(this.board);return console.log("[TIC-TAC-TOE] - [Declare Winner] "),0==(t&&this.moveIndex!=this.boardSurface)&&(t&&this.moveIndex==this.boardSurface?(this.message="[EMPATE]",this.winner=null):this.declareWinner(this.whoseTurn),!0)}makeHumanMove(t){this.doPlay(this.HUMAN,this.HUMANMOVE,t)}makeComputerMove(){this.doPlay(this.COMPUTER,this.COMPUTERMOVE,0)}makeMove(t){this.squares[t]||this.winner||(this.makeHumanMove(t),0==this._declareWinner()&&(this.makeComputerMove(),this._declareWinner()))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const YRe=["_SourceList"],$Z=()=>[0,1,2];function JRe(n,e){if(1&n){const t=bs();fe(0,"app-square",15),jt("clickEvent",function(){const i=Ln(t).$implicit,s=rn().$implicit;return Qn(rn(2).makeMove(3*s+i))}),ce()}if(2&n){const t=e.$implicit,r=rn().$implicit;qe("value",rn(2).ticTacToeEngine.squares[3*r+t])}}function ZRe(n,e){1&n&&(fe(0,"div",13),cn(1,JRe,1,1,"app-square",14),ce()),2&n&&(Te(),qe("ngForOf",ax(1,$Z)))}function eOe(n,e){1&n&&(fe(0,"span",11),cn(1,ZRe,2,2,"div",12),ce()),2&n&&(Te(),qe("ngForOf",ax(1,$Z)))}function tOe(n,e){if(1&n&&(fe(0,"option",16),Me(1),ce()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Te(),Hi("",t._value," ")}}function nOe(n,e){if(1&n&&(fe(0,"div",17)(1,"b"),Me(2),ce()()),2&n){const t=rn();Te(2),Br(t.ticTacToeEngine.message)}}let KZ=(()=>{class n{constructor(){this.tituloSource="\xbfQuien Inicia?",this.IsNewGame=!1,this.showBoard=!1,this.ticTacToeEngine=new WZ}ngOnInit(){console.log("[TIC-TAC-TOE - INICIAR VALORES"),this.__SourceList=new Array,this.__SourceList.push(new tc(0,"(SELECCIONE OPCION..)",!1)),this.__SourceList.push(new tc(this.ticTacToeEngine.COMPUTER,"[INICIA MAQUINA]",!0)),this.__SourceList.push(new tc(this.ticTacToeEngine.HUMAN,"[INICIA JUGADOR]",!1)),this.ticTacToeEngine.initialise()}ngAfterViewInit(){this._sourceList.nativeElement.options.selectedIndex=1}_tituloSourceChanged(){}makeMove(t){console.log(`[TIC-TAC-TOE] - [Click on cel : {${t}}] `),this.ticTacToeEngine.makeMove(t)}newGame(){console.log("[GAME - TIC-TAC-TOE] - [NEW GAME]"),this.ticTacToeEngine.initialise(),this.IsNewGame=!0,this.showBoard=!1}startGame(){console.log("[GAME - TIC-TAC-TOE] - [START GAME]"),this._sourceList.nativeElement.options[this._sourceList.nativeElement.options.selectedIndex].value==this.ticTacToeEngine.COMPUTER&&this.ticTacToeEngine.makeComputerMove(),this.IsNewGame=!1,this.showBoard=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-board"]],viewQuery:function(r,i){if(1&r&&$i(YRe,5),2&r){let s;lr(s=cr())&&(i._sourceList=s.first)}},standalone:!0,features:[Ca],decls:19,vars:7,consts:[["_SourceList",""],["class","board","align","center",4,"ngIf"],["id","SourceListDiv","align","left"],["id","tituloSource"],["for","_SourceList"],["id","_SourceList","name","_SourceList",3,"change","disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["type","button","value","[NUEVO]",3,"click","disabled"],["type","button","value","[INICIAR]",3,"click","disabled"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["align","center",1,"board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"value","clickEvent",4,"ngFor","ngForOf"],[3,"clickEvent","value"],[3,"value","selected"],["role","alert",1,"alert","alert-secondary"]],template:function(r,i){if(1&r){const s=bs();fe(0,"h1"),Me(1,"[TIC-TAC-TOE BOARD]"),ce(),lt(2,"hr"),cn(3,eOe,2,2,"span",1),lt(4,"hr"),fe(5,"div",2)(6,"span",3),Me(7),ce(),lt(8,"label",4),Me(9," \xa0\xa0 "),fe(10,"select",5,0),jt("change",function(){return Ln(s),Qn(i._tituloSourceChanged())}),cn(12,tOe,2,3,"option",6),ce()(),lt(13,"hr"),fe(14,"input",7),jt("click",function(){return Ln(s),Qn(i.newGame())}),ce(),fe(15,"input",8),jt("click",function(){return Ln(s),Qn(i.startGame())}),ce(),lt(16,"hr"),fe(17,"div",9),cn(18,nOe,3,1,"div",10),ce()}2&r&&(Te(3),qe("ngIf",i.showBoard),Te(4),Br(i.tituloSource),Te(3),qe("disabled",0==i.IsNewGame),Te(2),qe("ngForOf",i.__SourceList),Te(2),qe("disabled",1==i.IsNewGame),Te(),qe("disabled",0==i.IsNewGame),Te(3),qe("ngIf",i.ticTacToeEngine.message))},dependencies:[XRe,Ng,Bl,ec]})}}return n})(),rOe=(()=>{class n{constructor(){console.log("[TIC-TAC-TOE - INICIO COMPONENTE")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-tic-tac-toe"]],decls:5,vars:0,consts:[["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(lt(0,"app-board")(1,"hr"),fe(2,"div",0)(3,"a",1),Me(4,"[Volver al Menu]"),ce()())},dependencies:[KZ,xs]})}}return n})(),iOe=(()=>{class n{constructor(){this.value=null,this.clickEvent=new ie}onClick(){this.clickEvent.emit()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-square-online"]],inputs:{value:"value"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[Ca],decls:2,vars:1,consts:[[1,"square",3,"click"]],template:function(r,i){1&r&&(fe(0,"button",0),jt("click",function(){return i.onClick()}),Me(1),ce()),2&r&&(Te(),Br(null==i.value?"_":i.value))},styles:[".square[_ngcontent-%COMP%]{width:50px;height:50px}"]})}}return n})();const rA=Object.create(null);rA.open="0",rA.close="1",rA.ping="2",rA.pong="3",rA.message="4",rA.upgrade="5",rA.noop="6";const HN=Object.create(null);Object.keys(rA).forEach(n=>{HN[rA[n]]=n});const rH={type:"error",data:"parser error"},XZ="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),YZ="function"==typeof ArrayBuffer,JZ=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,iH=({type:n,data:e},t,r)=>XZ&&e instanceof Blob?t?r(e):ZZ(e,r):YZ&&(e instanceof ArrayBuffer||JZ(e))?t?r(e):ZZ(new Blob([e]),r):r(rA[n]+(e||"")),ZZ=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function eee(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let sH;const UE=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<64;n++)UE["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(n)]=n;const aOe="function"==typeof ArrayBuffer,oH=(n,e)=>{if("string"!=typeof n)return{type:"message",data:tee(n,e)};const t=n.charAt(0);return"b"===t?{type:"message",data:lOe(n.substring(1),e)}:HN[t]?n.length>1?{type:HN[t],data:n.substring(1)}:{type:HN[t]}:rH},lOe=(n,e)=>{if(aOe){const t=(n=>{let r,s,o,a,l,e=.75*n.length,t=n.length,i=0;"="===n[n.length-1]&&(e--,"="===n[n.length-2]&&e--);const c=new ArrayBuffer(e),u=new Uint8Array(c);for(r=0;r<t;r+=4)s=UE[n.charCodeAt(r)],o=UE[n.charCodeAt(r+1)],a=UE[n.charCodeAt(r+2)],l=UE[n.charCodeAt(r+3)],u[i++]=s<<2|o>>4,u[i++]=(15&o)<<4|a>>2,u[i++]=(3&a)<<6|63&l;return c})(n);return tee(t,e)}return{base64:!0,data:n}},tee=(n,e)=>"blob"===e?n instanceof Blob?n:new Blob([n]):n instanceof ArrayBuffer?n:n.buffer;let aH;function VN(n){return n.reduce((e,t)=>e+t.length,0)}function QN(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function Da(n){if(n)return function dOe(n){for(var e in Da.prototype)n[e]=Da.prototype[e];return n}(n)}Da.prototype.on=Da.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},Da.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},Da.prototype.off=Da.prototype.removeListener=Da.prototype.removeAllListeners=Da.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if((r=t[i])===e||r.fn===e){t.splice(i,1);break}return 0===t.length&&delete this._callbacks["$"+n],this},Da.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){r=0;for(var i=(t=t.slice(0)).length;r<i;++r)t[r].apply(this,e)}return this},Da.prototype.emitReserved=Da.prototype.emit,Da.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Da.prototype.hasListeners=function(n){return!!this.listeners(n).length};const zN="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),zh=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function iee(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const pOe=zh.setTimeout,gOe=zh.clearTimeout;function GN(n,e){e.useNativeTimers?(n.setTimeoutFn=pOe.bind(zh),n.clearTimeoutFn=gOe.bind(zh)):(n.setTimeoutFn=zh.setTimeout.bind(zh),n.clearTimeoutFn=zh.clearTimeout.bind(zh))}function vOe(n){return"string"==typeof n?function yOe(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}(n):Math.ceil(1.33*(n.byteLength||n.size))}function see(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class wOe extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class lH extends Da{constructor(e){super(),this.writable=!1,GN(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new wOe(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=oH(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function _Oe(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}(e);return t.length?"?"+t:""}}class COe extends lH{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((n,e)=>{const t=n.split("\x1e"),r=[];for(let i=0;i<t.length;i++){const s=oH(t[i],e);if(r.push(s),"error"===s.type)break}return r})(e,this.socket.binaryType).forEach(r=>{if("opening"===this.readyState&&"open"===r.type&&this.onOpen(),"close"===r.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((s,o)=>{iH(s,!1,a=>{r[o]=a,++i===t&&e(r.join("\x1e"))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=see()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let oee=!1;try{oee=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const xOe=oee;function EOe(){}class SOe extends COe{constructor(e){if(super(e),typeof location<"u"){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}let jN=(()=>{class n extends Da{constructor(t,r,i){super(),this.createRequest=t,GN(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=void 0!==i.data?i.data:null,this._create()}_create(){var t;const r=iee(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if("POST"===this._method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var s;3===i.readyState&&(null===(s=this._opts.cookieJar)||void 0===s||s.parseCookies(i.getResponseHeader("set-cookie"))),4===i.readyState&&(200===i.status||1223===i.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof i.status?i.status:0)},0))},i.send(this._data)}catch(s){return void this.setTimeoutFn(()=>{this._onError(s)},0)}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||null===this._xhr)){if(this._xhr.onreadystatechange=EOe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();function aee(){for(let n in jN.requests)jN.requests.hasOwnProperty(n)&&jN.requests[n].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",aee):"function"==typeof addEventListener&&addEventListener("onpagehide"in zh?"pagehide":"unload",aee,!1));const DOe=function(){const n=lee({xdomain:!1});return n&&null!==n.responseType}();function lee(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||xOe))return new XMLHttpRequest}catch{}if(!e)try{return new(zh[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}const cee=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class TOe extends lH{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=cee?{}:iee(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;iH(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&zN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=see()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const cH=zh.WebSocket||zh.MozWebSocket,IOe={websocket:class BOe extends TOe{createSocket(e,t,r){return cee?new cH(e,t,r):t?new cH(e,t):new cH(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class NOe extends lH{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function fOe(n,e){aH||(aH=new TextDecoder);const t=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(0===r){if(VN(t)<1)break;const l=QN(t,1);s=!(128&~l[0]),i=127&l[0],r=i<126?3:126===i?1:2}else if(1===r){if(VN(t)<2)break;const l=QN(t,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(2===r){if(VN(t)<8)break;const l=QN(t,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(rH);break}i=u*Math.pow(2,32)+c.getUint32(4),r=3}else{if(VN(t)<i)break;const l=QN(t,i);a.enqueue(oH(s?l:aH.decode(l),e)),r=0}if(0===i||i>n){a.enqueue(rH);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=function hOe(){return new TransformStream({transform(n,e){!function sOe(n,e){XZ&&n.data instanceof Blob?n.data.arrayBuffer().then(eee).then(e):YZ&&(n.data instanceof ArrayBuffer||JZ(n.data))?e(eee(n.data)):iH(n,!1,t=>{sH||(sH=new TextEncoder),e(sH.encode(t))})}(n,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}n.data&&"string"!=typeof n.data&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=t===e.length-1;this._writer.write(e[t]).then(()=>{i&&zN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class MOe extends SOe{constructor(e){super(e),this.supportsBinary=DOe&&!(e&&e.forceBase64)}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new jN(lee,this.uri(),e)}}},FOe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ROe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function uH(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),r=n.indexOf("]");-1!=t&&-1!=r&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=FOe.exec(n||""),s={},o=14;for(;o--;)s[ROe[o]]=i[o]||"";return-1!=t&&-1!=r&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function OOe(n,e){const r=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.slice(0,1)||0===e.length)&&r.splice(0,1),"/"==e.slice(-1)&&r.splice(r.length-1,1),r}(0,s.path),s.queryKey=function POe(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(t[i]=s)}),t}(0,s.query),s}const hH="function"==typeof addEventListener&&"function"==typeof removeEventListener,qN=[];hH&&addEventListener("offline",()=>{qN.forEach(n=>n())},!1);let fH=(()=>{class n extends Da{constructor(t,r){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(r=t,t=null),t){const i=uH(t);r.hostname=i.host,r.secure="https"===i.protocol||"wss"===i.protocol,r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=uH(r.host).host);GN(this,r),this.secure=null!=r.secure?r.secure:typeof location<"u"&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{const s=i.prototype.name;this.transports.push(s),this._transportsByName[s]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function bOe(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let s=t[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}(this.opts.query)),hH&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},qN.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=4,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(r+=vOe(s)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,zN(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,s){if("function"==typeof r&&(s=r,r=void 0),"function"==typeof i&&(s=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const o={type:t,data:r,options:i};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),hH&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=qN.indexOf(this._offlineEventListener);-1!==i&&qN.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=4,n})();class LOe extends fH{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;fH.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!r)if("pong"===h.type&&"probe"===h.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;fH.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=t.name,this.emitReserved("upgradeError",d)}}))};function s(){r||(r=!0,u(),t.close(),t=null)}const o=h=>{const d=new Error("probe error: "+h);d.transport=t.name,s(),this.emitReserved("upgradeError",d)};function a(){o("transport closed")}function l(){o("socket closed")}function c(h){t&&h.name!==t.name&&s()}const u=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};t.once("open",i),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class uee extends LOe{constructor(e,t={}){const r="object"==typeof e?e:t;(!r.transports||r.transports&&"string"==typeof r.transports[0])&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>IOe[i]).filter(i=>!!i)),super(e,r)}}const kOe="function"==typeof ArrayBuffer,HOe=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,hee=Object.prototype.toString,VOe="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===hee.call(Blob),QOe="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===hee.call(File);function dH(n){return kOe&&(n instanceof ArrayBuffer||HOe(n))||VOe&&n instanceof Blob||QOe&&n instanceof File}function WN(n,e){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(WN(n[t]))return!0;return!1}if(dH(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return WN(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&WN(n[t]))return!0;return!1}function zOe(n){const e=[],r=n;return r.data=AH(n.data,e),r.attachments=e.length,{packet:r,buffers:e}}function AH(n,e){if(!n)return n;if(dH(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=AH(n[r],e);return t}if("object"==typeof n&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=AH(n[r],e));return t}return n}function GOe(n,e){return n.data=pH(n.data,e),delete n.attachments,n}function pH(n,e){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=pH(n[t],e);else if("object"==typeof n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=pH(n[t],e));return n}const jOe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],qOe=5;var Xi=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(Xi||{});class WOe{constructor(e){this.replacer=e}encode(e){return e.type!==Xi.EVENT&&e.type!==Xi.ACK||!WN(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Xi.EVENT?Xi.BINARY_EVENT:Xi.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return(e.type===Xi.BINARY_EVENT||e.type===Xi.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=zOe(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}function fee(n){return"[object Object]"===Object.prototype.toString.call(n)}class gH extends Da{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===Xi.BINARY_EVENT;r||t.type===Xi.BINARY_ACK?(t.type=r?Xi.EVENT:Xi.ACK,this.reconstructor=new $Oe(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!dH(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===Xi[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Xi.BINARY_EVENT||r.type===Xi.BINARY_ACK){const s=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(s,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(t+1)){const s=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(s,t)}else r.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const s=t+1;for(;++t;){const o=e.charAt(t);if(null==o||Number(o)!=o){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(!gH.isPayloadValid(r.type,s))throw new Error("invalid payload");r.data=s}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Xi.CONNECT:return fee(t);case Xi.DISCONNECT:return void 0===t;case Xi.CONNECT_ERROR:return"string"==typeof t||fee(t);case Xi.EVENT:case Xi.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===jOe.indexOf(t[0]));case Xi.ACK:case Xi.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class $Oe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=GOe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Zf(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const KOe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class dee extends Da{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Zf(e,"open",this.onopen.bind(this)),Zf(e,"packet",this.onpacket.bind(this)),Zf(e,"error",this.onerror.bind(this)),Zf(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,s;if(KOe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:Xi.EVENT,data:t,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const u=this.ids++,h=t.pop();this._registerAckCallback(u,h),o.id=u}const a=null===(i=null===(r=this.io.engine)||void 0===r?void 0:r.transport)||void 0===i?void 0:i.writable,l=this.connected&&!(null!==(s=this.io.engine)&&void 0!==s&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r;const i=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(null!==i?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Xi.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Xi.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Xi.EVENT:case Xi.BINARY_EVENT:this.onevent(e);break;case Xi.ACK:case Xi.BINARY_ACK:this.onack(e);break;case Xi.DISCONNECT:this.ondisconnect();break;case Xi.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:Xi.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Xi.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function rb(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}rb.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=1&Math.floor(10*e)?n+t:n-t}return 0|Math.min(n,this.max)},rb.prototype.reset=function(){this.attempts=0},rb.prototype.setMin=function(n){this.ms=n},rb.prototype.setMax=function(n){this.max=n},rb.prototype.setJitter=function(n){this.jitter=n};class mH extends Da{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,GN(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new rb({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||St;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new uee(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Zf(t,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Zf(t,"error",s);if(!1!==this._timeout){const l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),t.close()},this._timeout);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Zf(e,"ping",this.onping.bind(this)),Zf(e,"data",this.ondata.bind(this)),Zf(e,"error",this.onerror.bind(this)),Zf(e,"close",this.onclose.bind(this)),Zf(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){zN(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new dee(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const kE={};function $N(n,e){"object"==typeof n&&(e=n,n=void 0);const t=function UOe(n,e="",t){let r=n;t=t||typeof location<"u"&&location,null==n&&(n=t.protocol+"//"+t.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?t.protocol+n:t.host+n),/^(https?|wss?):\/\//.test(n)||(n=typeof t<"u"?t.protocol+"//"+n:"https://"+n),r=uH(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}(n,(e=e||{}).path||"/socket.io"),r=t.source,i=t.id;let l;return e.forceNew||e["force new connection"]||!1===e.multiplex||kE[i]&&t.path in kE[i].nsps?l=new mH(r,e):(kE[i]||(kE[i]=new mH(r,e)),l=kE[i]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign($N,{Manager:mH,Socket:dee,io:$N,connect:$N});let Aee=(()=>{class n{constructor(t){this.messages=[],this.onNewMessage=new Lr;let r=t.getConfigValue("baseUrlNodeJsChat");console.log("Setting chat from url : "+r),this.socket=$N(r,{extraHeaders:{"Access-Control-Allow-Origin":"*"}}),this.socket.on("message",i=>{console.log("received message : ["+JSON.stringify(i)+"]"),this.messages.push(i),console.log("Message Array (service) : "+this.messages),this.onNewMessage.next(i)})}getMessages(){return console.log("Receiving messages to UIX..."),Zn(this.messages)}sendMessage(t){this.socket.emit("message",t)}static{this.\u0275fac=function(r){return new(r||n)(Wt(zg))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const XOe=["_SourceList"],pee=()=>[0,1,2];function YOe(n,e){if(1&n){const t=bs();fe(0,"app-square-online",18),jt("clickEvent",function(){const i=Ln(t).$implicit,s=rn().$implicit;return Qn(rn(2).makeMove(3*s+i))}),ce()}if(2&n){const t=e.$implicit,r=rn().$implicit;qe("value",rn(2).ticTacToeEngine.squares[3*r+t])}}function JOe(n,e){1&n&&(fe(0,"div",16),cn(1,YOe,1,1,"app-square-online",17),ce()),2&n&&(Te(),qe("ngForOf",ax(1,pee)))}function ZOe(n,e){1&n&&(fe(0,"span",14),cn(1,JOe,2,2,"div",15),ce()),2&n&&(Te(),qe("ngForOf",ax(1,pee)))}function ePe(n,e){if(1&n&&(fe(0,"option",19),Me(1),ce()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Te(),Hi("",t._value," ")}}function tPe(n,e){if(1&n&&(fe(0,"div",20)(1,"b"),Me(2),ce()()),2&n){const t=rn();Te(2),Br(t.ticTacToeEngine.message)}}function nPe(n,e){if(1&n&&(fe(0,"table",21)(1,"tr")(2,"td")(3,"span"),Me(4),ce()()()()),2&n){const t=e.$implicit;Te(4),Hi(" ",t," ")}}let gee=(()=>{class n{constructor(t,r){this.chatService=t,this.ticTacToeEngine=r,this.parentData=[],this.tituloSource="\xbfQuien Inicia?",this.IsNewGame=!1,this.showBoard=!1}ngOnInit(){this.chatService.getMessages().subscribe(t=>this.parentData=t),this.chatService.onNewMessage.subscribe(t=>this.NotifyingMessage(t)),console.log("[TIC-TAC-TOE - INICIAR VALORES"),this.__SourceList=new Array,this.__SourceList.push(new tc(0,"(SELECCIONE OPCION..)",!1)),this.__SourceList.push(new tc(this.ticTacToeEngine.COMPUTER,"[INICIA MAQUINA]",!0)),this.__SourceList.push(new tc(this.ticTacToeEngine.HUMAN,"[INICIA JUGADOR]",!1)),this.__SourceList.push(new tc(this.ticTacToeEngine.HUMAN,"[JUGAR EN LINEA]",!1)),this.ticTacToeEngine.initialise()}ngAfterViewInit(){this._sourceList.nativeElement.options.selectedIndex=1}NotifyingMessage(t){console.log("Pushing data to client : "+t),console.log("Message Array (client) : "+this.parentData)}sendMessage(t){console.log("sending message: ",t),this.chatService.sendMessage(t)}makeMove(t){let r=`[TIC-TAC-TOE] - [Click on cel : {${t+1}}] `;console.log(r),this.ticTacToeEngine.makeMove(t),this.chatService.sendMessage(r)}newGame(){console.log("[GAME - TIC-TAC-TOE] - [NEW GAME]"),this.ticTacToeEngine.initialise(),this.IsNewGame=!0,this.showBoard=!1}startGame(){console.log("[GAME - TIC-TAC-TOE] - [START GAME]"),this._sourceList.nativeElement.options[this._sourceList.nativeElement.options.selectedIndex].value==this.ticTacToeEngine.COMPUTER&&this.ticTacToeEngine.makeComputerMove(),this.IsNewGame=!1,this.showBoard=!0}static{this.\u0275fac=function(r){return new(r||n)(At(Aee),At(WZ))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-board-online"]],viewQuery:function(r,i){if(1&r&&$i(XOe,5),2&r){let s;lr(s=cr())&&(i._sourceList=s.first)}},standalone:!0,features:[Ca],decls:26,vars:8,consts:[["_SourceList",""],["class","board","align","center",4,"ngIf"],["id","SourceListDiv","align","left"],["id","tituloSource"],["for","_SourceList"],["id","_SourceList","name","_SourceList",3,"disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["align","center"],["type","button","value","[NUEVO]",3,"click","disabled"],["type","button","value","[INICIAR]",3,"click","disabled"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["id","divMessages"],["class","message-data",4,"ngFor","ngForOf"],["align","center",1,"board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"value","clickEvent",4,"ngFor","ngForOf"],[3,"clickEvent","value"],[3,"value","selected"],["role","alert",1,"alert","alert-secondary"],[1,"message-data"]],template:function(r,i){if(1&r){const s=bs();fe(0,"h1"),Me(1,"[TIC-TAC-TOE BOARD]"),ce(),lt(2,"hr"),cn(3,ZOe,2,2,"span",1),lt(4,"hr"),fe(5,"div",2)(6,"span",3),Me(7),ce(),lt(8,"label",4),Me(9," \xa0\xa0 "),fe(10,"select",5,0),cn(12,ePe,2,3,"option",6),ce()(),lt(13,"hr"),fe(14,"div",7)(15,"input",8),jt("click",function(){return Ln(s),Qn(i.newGame())}),ce(),fe(16,"input",9),jt("click",function(){return Ln(s),Qn(i.startGame())}),ce()(),lt(17,"hr"),fe(18,"div",10),cn(19,tPe,3,1,"div",11),ce(),lt(20,"hr"),fe(21,"h4"),Me(22,"[MESSAGES]"),ce(),lt(23,"hr"),fe(24,"div",12),cn(25,nPe,5,1,"table",13),ce()}2&r&&(Te(3),qe("ngIf",i.showBoard),Te(4),Br(i.tituloSource),Te(3),qe("disabled",0==i.IsNewGame),Te(2),qe("ngForOf",i.__SourceList),Te(3),qe("disabled",1==i.IsNewGame),Te(),qe("disabled",0==i.IsNewGame),Te(3),qe("ngIf",i.ticTacToeEngine.message),Te(6),qe("ngForOf",i.parentData))},dependencies:[Ng,Bl,ec,iOe]})}}return n})(),rPe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-tic-tac-toe-online"]],decls:5,vars:0,consts:[["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(lt(0,"app-board-online")(1,"hr"),fe(2,"div",0)(3,"a",1),Me(4,"[Volver al Menu]"),ce()())},dependencies:[gee,xs]})}}return n})();const iPe=["ballCanvas"];let sPe=(()=>{class n{constructor(t){this.pageRestartService=t,this.ball={x:100,y:100,vx:5,vy:0,radius:15,mass:1},this.gravity=.5,this.friction=.98,this.restitution=.8,this.animate=()=>{this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),this.ball.vy+=this.gravity,this.ball.x+=this.ball.vx,this.ball.y+=this.ball.vy,(this.ball.x+this.ball.radius>this.canvas.nativeElement.width||this.ball.x-this.ball.radius<0)&&(this.ball.vx=-this.ball.vx*this.restitution),this.ball.y+this.ball.radius>this.canvas.nativeElement.height&&(this.ball.y=this.canvas.nativeElement.height-this.ball.radius,this.ball.vy=-this.ball.vy*this.restitution,this.ball.vx*=this.friction),this.ctx.beginPath(),this.ctx.arc(this.ball.x,this.ball.y,this.ball.radius,0,2*Math.PI),this.ctx.fillStyle="red",this.ctx.fill(),this.ctx.closePath(),Math.abs(this.ball.vx)<.1&&Math.abs(this.ball.vy)<.1?(this.ball.vx=0,this.ball.vy=0):requestAnimationFrame(this.animate)}}restart(){this.pageRestartService.reloadPage()}ngAfterViewInit(){this.animate()}static{this.\u0275fac=function(r){return new(r||n)(At(Sk))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-bouncing-ball"]],viewQuery:function(r,i){if(1&r&&$i(iPe,5),2&r){let s;lr(s=cr())&&(i.canvas=s.first)}},decls:13,vars:0,consts:[["ballCanvas",""],["align","center"],["width","300","height","300"],[3,"click"],["align","right"],["routerLink","/StableReleases"]],template:function(r,i){if(1&r){const s=bs();fe(0,"div",1)(1,"h1"),Me(2,"[BOUCING BALL DEMO]"),ce(),lt(3,"hr")(4,"canvas",2,0)(6,"hr"),fe(7,"button",3),jt("click",function(){return Ln(s),Qn(i.restart())}),Me(8,"[RESTART]"),ce(),lt(9,"hr"),fe(10,"div",4)(11,"a",5),Me(12,"[Volver al Menu]"),ce()()()}},dependencies:[xs],styles:["canvas[_ngcontent-%COMP%]{border:1px solid #d3d3d3}"]})}}return n})(),uc=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),aPe=(()=>{class n{ripple=!1;inputStyle=e5("outlined");overlayOptions={};csp=e5({nonce:void 0});filterMatchModeOptions={text:[uc.STARTS_WITH,uc.CONTAINS,uc.NOT_CONTAINS,uc.ENDS_WITH,uc.EQUALS,uc.NOT_EQUALS],numeric:[uc.EQUALS,uc.NOT_EQUALS,uc.LESS_THAN,uc.LESS_THAN_OR_EQUAL_TO,uc.GREATER_THAN,uc.GREATER_THAN_OR_EQUAL_TO],date:[uc.DATE_IS,uc.DATE_IS_NOT,uc.DATE_BEFORE,uc.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Lr;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lPe=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(At(ra))};static \u0275dir=mn({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[Fr.None,"pTemplate","name"]},standalone:!0})}return n})(),cPe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Zr({type:n});static \u0275inj=Kr({})}return n})(),Qc=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)t.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)t.className+=" "+i[s]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,r){t&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,r){return!(!t||!r)&&(t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==t)return i;1==r[s].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==t)return s;i[o].attributes&&i[o].attributes[r]&&1==i[o].nodeType&&s++}return-1}static appendOverlay(t,r,i="self"){"self"!==i&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,i="self",s=!0){t&&r&&(s&&(t.style.minWidth=`${n.getOuterWidth(r)}px`),"self"===i?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r,i=!0){const s=y=>{if(y)return"relative"===getComputedStyle(y).getPropertyValue("position")?y:s(y.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=r.offsetHeight??r.getBoundingClientRect().height,l=r.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),h=this.getViewport(),f=s(t)?.getBoundingClientRect()||{top:-1*c,left:-1*u};let A,p;l.top+a+o.height>h.height?(A=l.top-f.top-o.height,t.style.transformOrigin="bottom",l.top+A<0&&(A=-1*l.top)):(A=a+l.top-f.top,t.style.transformOrigin="top");const m=l.left+o.width-h.width;p=o.width>h.width?-1*(l.left-f.left):m>0?l.left-f.left-m:l.left-f.left,t.style.top=A+"px",t.style.left=p+"px",i&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,r,i=!0){const s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=r.offsetHeight??r.getBoundingClientRect().height,c=r.offsetWidth??r.getBoundingClientRect().width,u=r.getBoundingClientRect(),h=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),f=this.getViewport();let A,p;u.top+l+o>f.height?(A=u.top+h-o,t.style.transformOrigin="bottom",A<0&&(A=h)):(A=l+u.top+h,t.style.transformOrigin="top"),p=u.left+a>f.width?Math.max(0,u.left+d+c-a):u.left+d,t.style.top=A+"px",t.style.left=p+"px",i&&(t.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of i){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let h=this.findSingle(a,u);h&&o(h)&&r.push(h)}}9!==a.nodeType&&o(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),u=r.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,h=t.scrollTop,d=t.clientHeight,f=this.getOuterHeight(r);u<0?t.scrollTop=h+u:u+f>d&&(t.scrollTop=h+u-d+f)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,r){var i=1,a=50/r;let l=setInterval(()=>{(i-=a)<=0&&(i=0,clearInterval(l)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||s.clientWidth,height:t.innerHeight||i.clientHeight||s.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!(r&&r.el&&r.el.nativeElement))throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,r=""){let i=this.find(t,this.getFocusableSelectorString(r)),s=[];for(let o of i){const a=getComputedStyle(o);this.isVisible(o)&&"none"!=a.display&&"hidden"!=a.visibility&&s.push(o)}return s}static getFocusableElement(t,r=""){let i=this.findSingle(t,this.getFocusableSelectorString(r));if(i){const s=getComputedStyle(i);if(this.isVisible(i)&&"none"!=s.display&&"hidden"!=s.visibility)return i}return null}static getFirstFocusableElement(t,r=""){const i=this.getFocusableElements(t,r);return i.length>0?i[0]:null}static getLastFocusableElement(t,r){const i=this.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(t,r=!1){const i=n.getFocusableElements(t);let s=0;if(i&&i.length>0){const o=i.indexOf(i[0].ownerDocument.activeElement);r?s=-1==o||0===o?i.length-1:o-1:-1!=o&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:const i=typeof t;if("string"===i)return document.querySelector(t);if("object"===i&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const o=(a=t)&&a.constructor&&a.call&&a.apply?t():t;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){const i=t.getAttribute(r);return isNaN(i)?"true"===i||"false"===i?"true"===i:i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,r={},...i){if(t){const s=document.createElement(t);return this.setAttributes(s,r),s.append(...i),s}}static setAttribute(t,r="",i){this.isElement(t)&&null!=i&&t.setAttribute(r,i)}static setAttributes(t,r={}){if(this.isElement(t)){const i=(s,o)=>{const a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,c)=>{if(null!=c){const u=typeof c;if("string"===u||"number"===u)l.push(c);else if("object"===u){const h=Array.isArray(c)?i(s,c):Object.entries(c).map(([d,f])=>"style"!==s||!f&&0!==f?f?d:void 0:`${d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${f}`);l=h.length?l.concat(h.filter(d=>!!d)):l}}return l},a)};Object.entries(r).forEach(([s,o])=>{if(null!=o){const a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):"pBind"===s?this.setAttributes(t,o):(o="class"===s?[...new Set(i("class",o))].join(" ").trim():"style"===s?i("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,r=""){return!!this.isElement(t)&&t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`)}}return n})(),uPe=(()=>{class n{autofocus=!1;focused=!1;platformId=Ve(Nh);document=Ve(rs);host=Ve(N);ngAfterContentChecked(){!1===this.autofocus?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){HM(this.platformId)&&this.autofocus&&setTimeout(()=>{const t=Qc.getFocusableElements(this.host?.nativeElement);0===t.length&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=mn({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[Fr.HasDecoratorInputTransform,"autofocus","autofocus",Tl]},standalone:!0,features:[zC]})}return n})();class HE{static isArray(e,t=!0){return Array.isArray(e)&&(t||0!==e.length)}static isObject(e,t=!0){return"object"==typeof e&&!Array.isArray(e)&&null!=e&&(t||0!==Object.keys(e).length)}static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var d=Object.keys(e);if((o=d.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,d[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[a=d[s]],t[a]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let r=t.split("."),i=e;for(let s=0,o=r.length;s<o;++s){if(null==i)return null;i=i[r[s]]}return i}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>t){r.splice(o,0,e),s=!0;break}s||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t)for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}return r}static contains(e,t){if(null!=e&&t&&t.length)for(let r of t)if(this.equals(e,r))return!0;return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,r,i=1){let s=-1;const o=this.isEmpty(e),a=this.isEmpty(t);return s=o&&a?0:o?i:a?-i:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,r,{numeric:!0}):e<t?-1:e>t?1:0,s}static sort(e,t,r=1,i,s=1){const o=HE.compare(e,t,i,r);let a=r;return(HE.isEmpty(e)||HE.isEmpty(t))&&(a=1===s?r:s),a*o}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(t)}catch{r=e.lastIndexOf([...e].reverse().find(t))}return r}static findLast(e,t){let r;if(this.isNotEmpty(e))try{r=e.findLast(t)}catch{r=[...e].reverse().find(t)}return r}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,h=t instanceof RegExp;if(u!=h)return!1;if(u&&h)return e.toString()==t.toString();var d=Object.keys(e);if((o=d.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,d[s]))return!1;for(s=o;0!=s--;)if(!this.deepEquals(e[a=d[s]],t[a]))return!1;return!0}return e!=e&&t!=t}}var mee=0;!function fPe(){let n=[];const i=s=>s&&parseInt(s.style.zIndex,10)||0}();const dPe=["*"];let APe=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const t=HE.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ar({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[Fr.HasDecoratorInputTransform,"spin","spin",Tl],styleClass:"styleClass"},standalone:!0,features:[zC,Ca],ngContentSelectors:dPe,decls:1,vars:0,template:function(r,i){1&r&&(ix(),sx(0))},encapsulation:2,changeDetection:0})}return n})(),pPe=(()=>{class n extends APe{pathId;ngOnInit(){this.pathId="url(#"+function hPe(n="pn_id_"){return`${n}${++mee}`}()+")"}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ys(n)))(i||n)}})();static \u0275cmp=ar({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[ns,Ca],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){1&r&&(function Ef(){dr.lFrame.currentNamespace="svg"}(),fe(0,"svg",0)(1,"g"),lt(2,"path",1),ce(),fe(3,"defs")(4,"clipPath",2),lt(5,"rect",3),ce()()()),2&r&&(Dg(i.getClassNames()),Bi("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),Te(),Bi("clip-path",i.pathId),Te(3),qe("id",i.pathId))},encapsulation:2})}return n})(),gPe=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,r,i,s,o,a){this.document=t,this.platformId=r,this.renderer=i,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){HM(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let r=this.getInk();if(!r||"none"===this.document.defaultView?.getComputedStyle(r,null).display)return;if(Qc.removeClass(r,"p-ink-active"),!Qc.getHeight(r)&&!Qc.getWidth(r)){let a=Math.max(Qc.getOuterWidth(this.el.nativeElement),Qc.getOuterHeight(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=Qc.getOffset(this.el.nativeElement),s=t.pageX-i.left+this.document.body.scrollTop-Qc.getWidth(r)/2,o=t.pageY-i.top+this.document.body.scrollLeft-Qc.getHeight(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),Qc.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&Qc.removeClass(a,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if("string"==typeof t[r].className&&-1!==t[r].className.indexOf("p-ink"))return t[r];return null}resetInk(){let t=this.getInk();t&&Qc.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),Qc.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Qc.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(r){return new(r||n)(At(rs),At(Nh),At(Bf),At(N),At(Cr),At(aPe,8))};static \u0275dir=mn({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})();const mPe=["*"],vee=n=>({class:n});function vPe(n,e){1&n&&E5(0)}function yPe(n,e){1&n&&lt(0,"span",8),2&n&&(qe("ngClass",rn(3).iconClass()),Bi("aria-hidden",!0)("data-pc-section","loadingicon"))}function _Pe(n,e){1&n&&lt(0,"SpinnerIcon",9),2&n&&(qe("styleClass",rn(3).spinnerIconClass())("spin",!0),Bi("aria-hidden",!0)("data-pc-section","loadingicon"))}function bPe(n,e){if(1&n&&(Rv(0),cn(1,yPe,1,3,"span",6)(2,_Pe,1,4,"SpinnerIcon",7),Ov()),2&n){const t=rn(2);Te(),qe("ngIf",t.loadingIcon),Te(),qe("ngIf",!t.loadingIcon)}}function wPe(n,e){}function CPe(n,e){1&n&&cn(0,wPe,0,0,"ng-template",10),2&n&&qe("ngIf",rn(2).loadingIconTemplate)}function xPe(n,e){if(1&n&&(Rv(0),cn(1,bPe,3,2,"ng-container",2)(2,CPe,1,1,null,5),Ov()),2&n){const t=rn();Te(),qe("ngIf",!t.loadingIconTemplate),Te(),qe("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",Hd(3,vee,t.iconClass()))}}function EPe(n,e){1&n&&lt(0,"span",8),2&n&&(qe("ngClass",rn(2).iconClass()),Bi("data-pc-section","icon"))}function SPe(n,e){}function DPe(n,e){if(1&n&&cn(0,SPe,0,0,"ng-template",10),2&n){const t=rn(2);qe("ngIf",!t.icon&&t.iconTemplate)}}function MPe(n,e){if(1&n&&(Rv(0),cn(1,EPe,1,2,"span",6)(2,DPe,1,1,null,5),Ov()),2&n){const t=rn();Te(),qe("ngIf",t.icon&&!t.iconTemplate),Te(),qe("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",Hd(3,vee,t.iconClass()))}}function TPe(n,e){if(1&n&&(fe(0,"span",11),Me(1),ce()),2&n){const t=rn();Bi("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),Te(),Br(t.label)}}function BPe(n,e){if(1&n&&(fe(0,"span",8),Me(1),ce()),2&n){const t=rn();Dg(t.badgeClass),qe("ngClass",t.badgeStyleClass()),Bi("data-pc-section","badge"),Te(),Br(t.badge)}}let yee=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new ie;onFocus=new ie;onBlur=new ie;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[r])=>t+` ${r}`,"p-button-loading-icon")}iconClass(){const t={"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":"small"===this.size,"p-button-lg":"large"===this.size,"p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(r){return new(r||n)(At(N))};static \u0275cmp=ar({type:n,selectors:[["p-button"]],contentQueries:function(r,i,s){if(1&r&&wa(s,lPe,4),2&r){let o;lr(o=cr())&&(i.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(r,i){2&r&&Ci("p-disabled",i.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[Fr.HasDecoratorInputTransform,"disabled","disabled",Tl],loading:[Fr.HasDecoratorInputTransform,"loading","loading",Tl],loadingIcon:"loadingIcon",raised:[Fr.HasDecoratorInputTransform,"raised","raised",Tl],rounded:[Fr.HasDecoratorInputTransform,"rounded","rounded",Tl],text:[Fr.HasDecoratorInputTransform,"text","text",Tl],plain:[Fr.HasDecoratorInputTransform,"plain","plain",Tl],severity:"severity",outlined:[Fr.HasDecoratorInputTransform,"outlined","outlined",Tl],link:[Fr.HasDecoratorInputTransform,"link","link",Tl],tabindex:[Fr.HasDecoratorInputTransform,"tabindex","tabindex",h0e],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[Fr.HasDecoratorInputTransform,"autofocus","autofocus",Tl]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[zC,Ca],ngContentSelectors:mPe,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(r,i){1&r&&(ix(),fe(0,"button",0),jt("click",function(o){return i.onClick.emit(o)})("focus",function(o){return i.onFocus.emit(o)})("blur",function(o){return i.onBlur.emit(o)}),sx(1),cn(2,vPe,1,0,"ng-container",1)(3,xPe,3,5,"ng-container",2)(4,MPe,3,5,"ng-container",2)(5,TPe,2,3,"span",3)(6,BPe,2,5,"span",4),ce()),2&r&&(qe("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",i.buttonClass)("autofocus",i.autofocus),Bi("type",i.type)("aria-label",i.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",i.tabindex),Te(2),qe("ngTemplateOutlet",i.contentTemplate),Te(),qe("ngIf",i.loading),Te(),qe("ngIf",!i.loading),Te(),qe("ngIf",!i.contentTemplate&&i.label),Te(),qe("ngIf",!i.contentTemplate&&i.badge))},dependencies:[ec,D_,UM,AL,gPe,uPe,pPe],encapsulation:2,changeDetection:0})}return n})(),NPe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Zr({type:n});static \u0275inj=Kr({imports:[yee,cPe]})}return n})();const IPe=["_txtName"],FPe=["_txtMessage"];function RPe(n,e){1&n&&(fe(0,"div",17),Me(1," Pleae enter all fields "),ce())}function OPe(n,e){if(1&n&&(fe(0,"table",18)(1,"tr")(2,"td")(3,"span"),Me(4),ce()()()()),2&n){const t=e.$implicit;Te(4),Hi(" ",t," ")}}let PPe=(()=>{class n{constructor(t,r){this.chatService=t,this.datePipe=r,this.parentData=[]}ngOnInit(){this.chatService.getMessages().subscribe(t=>this.parentData=t),this.chatService.onNewMessage.subscribe(t=>this.NotifyingMessage(t))}NotifyingMessage(t){console.log("Pushing data to client : "+t),console.log("Message Array (client) : "+this.parentData)}submitForm(t){t.valid&&(console.log(t.value),this.sendMessage(t.value.txtName,t.value.txtMessage))}sendMessage(t,r){let o=`[${this.datePipe.transform(new Date,"yyyy-MM-dd HH:mm:ss")}] -[${t}] Says: "${r}"`;console.log("sending message: {"+r+"}"),this.chatService.sendMessage(o)}static{this.\u0275fac=function(r){return new(r||n)(At(Aee),At(mL))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-chat"]],viewQuery:function(r,i){if(1&r&&($i(IPe,5),$i(FPe,5)),2&r){let s;lr(s=cr())&&(i.txtName=s.first),lr(s=cr())&&(i.txtMessage=s.first)}},decls:29,vars:2,consts:[["messageinputform","ngForm"],["_txtName",""],["_txtMessage",""],["id","divMessageInput","align","left"],[3,"ngSubmit"],[1,"form-group"],["for","txtName"],["type","text","id","txtName","name","txtName","maxlength","10","ngModel","","required",""],["for","txtMessage"],["type","text","id","txtMessage","name","txtMessage","maxlength","25","ngModel","","required",""],["class","form-group","align","left",4,"ngIf"],[1,"card","flex","justify-content-center"],["label","[SEND MESSAGE]","icon","pi pi-check","type","submit"],["id","divMessageOutput"],["class","message-data",4,"ngFor","ngForOf"],["align","right"],["routerLink","/Dev"],["align","left",1,"form-group"],[1,"message-data"]],template:function(r,i){if(1&r){const s=bs();fe(0,"h1"),Me(1,"[CHAT]"),ce(),lt(2,"hr"),fe(3,"h4"),Me(4,"[MESSAGES]"),ce(),lt(5,"hr"),fe(6,"div",3)(7,"form",4,0),jt("ngSubmit",function(){Ln(s);const a=Of(8);return Qn(i.submitForm(a))}),fe(9,"div",5)(10,"label",6),Me(11,"Your Name:"),ce(),lt(12,"input",7,1),ce(),fe(14,"div",5)(15,"label",8),Me(16,"Your Message :"),ce(),lt(17,"input",9,2),ce(),cn(19,RPe,2,0,"div",10),fe(20,"div",11),lt(21,"p-button",12),ce()()(),lt(22,"hr"),fe(23,"div",13),cn(24,OPe,5,1,"table",14),ce(),lt(25,"hr"),fe(26,"div",15)(27,"a",16),Me(28,"[Volver al Menu]"),ce()()}if(2&r){const s=Of(8);Te(19),qe("ngIf",0==s.valid&&s.submitted),Te(5),qe("ngForOf",i.parentData.reverse())}},dependencies:[xs,Bl,ec,R_,Qd,kg,N_,lT,cT,Gv,F_,yee],styles:["@layer reset,primeng;@layer reset;table[_ngcontent-%COMP%]{width:400px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc;text-align:left}.form-group[_ngcontent-%COMP%]{background-color:#ccc;width:300px;margin-bottom:1em;display:flex;align-items:center}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}.message-data[_ngcontent-%COMP%]{color:#0ff}"]})}}return n})();function ja(){return ja=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ja.apply(null,arguments)}var _ee={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null},It=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(_ee)};function Ir(n){var e=typeof n;if("number"===e||"bigint"===e||"string"===e||"boolean"===e||null==n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map(function(t){return Ir(t)});if(n instanceof Date)return new Date(n.valueOf());if(Hr(n))return n;if(zE(n))return function LPe(n,e){var t={};for(var r in n)Hn(n,r)&&(t[r]=e(n[r]));return t}(n,Ir);if("function"===e)return n;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function wee(n,e){for(var t in e)Hn(e,t)&&(n[t]=e[t]);return n}function vp(n,e){var t,r,i;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;r++)if(!vp(n[r],e[r]))return!1;return!0}if("function"==typeof n)return n===e;if(n instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in n)if(!(t in e)||!vp(n[t],e[t]))return!1;for(t in e)if(!(t in n))return!1;return!0}return n===e}function Hn(n,e){return n&&Object.hasOwnProperty.call(n,e)}function zc(n,e){if(KN(n,e))return n[e];throw"function"==typeof n[e]&&_H(n,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function ib(n,e,t){if(KN(n,e))return n[e]=t,t;throw new Error('No access to property "'+e+'"')}function KN(n,e){return!(!function zPe(n){return"object"==typeof n&&n&&n.constructor===Object}(n)&&!Array.isArray(n)||!Hn(GPe,e)&&(e in Object.prototype||e in Function.prototype))}function _H(n,e){return!(null==n||"function"!=typeof n[e]||Hn(n,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(n)||!Hn(jPe,e)&&(e in Object.prototype||e in Function.prototype))}ja(It,_ee,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var GPe={length:!0,name:!0},jPe={toString:!0,valueOf:!0,toLocaleString:!0};class XN{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return zc(this.wrappedObject,e)}set(e,t){return ib(this.wrappedObject,e,t),this}has(e){return KN(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return Mee(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){KN(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}class Dee{constructor(e,t,r){this.a=e,this.b=t,this.bKeys=r,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,t){return this.bKeys.has(e)?this.b.set(e,t):this.a.set(e,t),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return Mee(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function Mee(n,e){return{next:()=>{var t=n.next();return t.done?t:{value:e(t.value),done:!1}}}}function VE(){return new Map}function sb(n){if(!n)return VE();if(ob(n))return n;if(zE(n))return new XN(n);throw new Error("createMap can create maps from objects or Maps")}function kr(n){return"number"==typeof n}function Hr(n){return!(!n||"object"!=typeof n||"function"!=typeof n.constructor)&&(!0===n.isBigNumber&&"object"==typeof n.constructor.prototype&&!0===n.constructor.prototype.isBigNumber||"function"==typeof n.constructor.isDecimal&&!0===n.constructor.isDecimal(n))}function WPe(n){return"bigint"==typeof n}function yp(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isComplex||!1}function QE(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isFraction||!1}function Gh(n){return n&&!0===n.constructor.prototype.isUnit||!1}function hc(n){return"string"==typeof n}var Ms=Array.isArray;function ur(n){return n&&!0===n.constructor.prototype.isMatrix||!1}function jh(n){return Array.isArray(n)||ur(n)}function YN(n){return n&&n.isDenseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function T0(n){return n&&n.isSparseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function bH(n){return n&&!0===n.constructor.prototype.isRange||!1}function JN(n){return n&&!0===n.constructor.prototype.isIndex||!1}function $Pe(n){return"boolean"==typeof n}function KPe(n){return n&&!0===n.constructor.prototype.isResultSet||!1}function Tee(n){return n&&!0===n.constructor.prototype.isHelp||!1}function XPe(n){return"function"==typeof n}function YPe(n){return n instanceof Date}function JPe(n){return n instanceof RegExp}function zE(n){return!(!n||"object"!=typeof n||n.constructor!==Object||yp(n)||QE(n))}function ob(n){return!!n&&(n instanceof Map||n instanceof XN||"function"==typeof n.set&&"function"==typeof n.get&&"function"==typeof n.keys&&"function"==typeof n.has)}function ZPe(n){return null===n}function e5e(n){return void 0===n}function B0(n){return n&&!0===n.isAccessorNode&&!0===n.constructor.prototype.isNode||!1}function qh(n){return n&&!0===n.isArrayNode&&!0===n.constructor.prototype.isNode||!1}function t5e(n){return n&&!0===n.isAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function n5e(n){return n&&!0===n.isBlockNode&&!0===n.constructor.prototype.isNode||!1}function r5e(n){return n&&!0===n.isConditionalNode&&!0===n.constructor.prototype.isNode||!1}function Di(n){return n&&!0===n.isConstantNode&&!0===n.constructor.prototype.isNode||!1}function wH(n){return Di(n)||fa(n)&&1===n.args.length&&Di(n.args[0])&&"-+~".includes(n.op)}function GE(n){return n&&!0===n.isFunctionAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function fm(n){return n&&!0===n.isFunctionNode&&!0===n.constructor.prototype.isNode||!1}function ab(n){return n&&!0===n.isIndexNode&&!0===n.constructor.prototype.isNode||!1}function Ts(n){return n&&!0===n.isNode&&!0===n.constructor.prototype.isNode||!1}function ZN(n){return n&&!0===n.isObjectNode&&!0===n.constructor.prototype.isNode||!1}function fa(n){return n&&!0===n.isOperatorNode&&!0===n.constructor.prototype.isNode||!1}function _p(n){return n&&!0===n.isParenthesisNode&&!0===n.constructor.prototype.isNode||!1}function i5e(n){return n&&!0===n.isRangeNode&&!0===n.constructor.prototype.isNode||!1}function s5e(n){return n&&!0===n.isRelationalNode&&!0===n.constructor.prototype.isNode||!1}function fl(n){return n&&!0===n.isSymbolNode&&!0===n.constructor.prototype.isNode||!1}function Bee(n){return n&&!0===n.constructor.prototype.isChain||!1}function Ws(n){var e=typeof n;return"object"===e?null===n?"null":Hr(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":e}var Nee=new Set(["end"]);function ye(n,e,t,r){function i(s){var o=function VPe(n,e){for(var t={},r=0;r<e.length;r++){var i=e[r],s=n[i];void 0!==s&&(t[i]=s)}return t}(s,e.map(c5e));return function a5e(n,e,t){var r=e.filter(s=>!function l5e(n){return n&&"?"===n[0]}(s)).every(s=>void 0!==t[s]);if(!r){var i=e.filter(s=>void 0===t[s]);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(i.map(s=>'"'.concat(s,'"')).join(", "),"."))}}(n,e,s),t(o)}return i.isFactory=!0,i.fn=n,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function c5e(n){return n&&"?"===n[0]?n.slice(1):n}var f5e=ye("Node",["mathWithTransform"],n=>{var{mathWithTransform:e}=n;return class r{get type(){return"Node"}get isNode(){return!0}evaluate(s){return this.compile().evaluate(s)}compile(){var s=this._compile(e,{}),o={};return{evaluate:function l(c){var u=sb(c);return function t(i){for(var s of[...Nee])if(i.has(s))throw new Error('Scope contains an illegal symbol, "'+s+'" is a reserved keyword')}(u),s(u,o,null)}}}_compile(s,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(s){throw new Error("Cannot run forEach on a Node interface")}map(s){throw new Error("Cannot run map on a Node interface")}_ifNode(s){if(!Ts(s))throw new TypeError("Callback function must return a Node");return s}traverse(s){s(this,null,null),function o(a,l){a.forEach(function(c,u,h){l(c,u,h),o(c,l)})}(this,s)}transform(s){return function o(a,l,c){var u=s(a,l,c);return u!==a?u:a.map(o)}(this,null,null)}filter(s){var o=[];return this.traverse(function(a,l,c){s(a,l,c)&&o.push(a)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(s){return s.cloneDeep()})}equals(s){return!!s&&this.type===s.type&&vp(this,s)}toString(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toString(s)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toHTML(s)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toTex(s)}_toTex(s){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(s){if(s&&"object"==typeof s)switch(typeof s.handler){case"object":case"undefined":return;case"function":return s.handler(this,s);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}},{isClass:!0,isNode:!0});function jE(n){return jE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jE(n)}function qa(n,e,t){return(e=function A5e(n){var e=function d5e(n,e){if("object"!=jE(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!=jE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==jE(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $n(n){return"boolean"==typeof n||!!isFinite(n)&&n===Math.round(n)}function dm(n,e){return"bigint"!==e.number||function p5e(n){return/^-?\d+$/.test(n)}(n)?e.number:e.numberFallback}var Am=Math.sign||function(n){return n>0?1:n<0?-1:0},g5e=Math.log2||function(e){return Math.log(e)/Math.LN2},m5e=Math.log10||function(e){return Math.log(e)/Math.LN10},Iee=Math.log1p||function(n){return Math.log(n+1)},v5e=Math.cbrt||function(e){if(0===e)return e;var r,t=e<0;return t&&(e=-e),r=isFinite(e)?(e/((r=Math.exp(Math.log(e)/3))*r)+2*r)/3:e,t?-r:r},y5e=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function xH(n,e,t){var i={2:"0b",8:"0o",16:"0x"}[e],s="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!$n(t))throw new Error("size must be an integer");if(n>2**(t-1)-1||n<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!$n(n))throw new Error("Value must be an integer");n<0&&(n+=2**t),s="i".concat(t)}var o="";return n<0&&(n=-n,o="-"),"".concat(o).concat(i).concat(n.toString(e)).concat(s)}function N0(n,e){if("function"==typeof e)return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:t,precision:r,wordSize:i}=Fee(e);switch(t){case"fixed":return Ree(n,r);case"exponential":return Oee(n,r);case"engineering":return function _5e(n,e){if(isNaN(n)||!isFinite(n))return String(n);var r=eI(qE(n),e),i=r.exponent,s=r.coefficients,o=i%3==0?i:i<0?i-3-i%3:i-i%3;if(kr(e))for(;e>s.length||i-o+1>s.length;)s.push(0);else for(var a=Math.abs(i-o)-(s.length-1),l=0;l<a;l++)s.push(0);for(var c=Math.abs(i-o),u=1;c>0;)u++,c--;var h=s.slice(u).join(""),d=kr(e)&&h.length||h.match(/[1-9]/)?"."+h:"",f=s.slice(0,u).join("")+d+"e"+(i>=0?"+":"")+o.toString();return r.sign+f}(n,r);case"bin":return xH(n,2,i);case"oct":return xH(n,8,i);case"hex":return xH(n,16,i);case"auto":return function b5e(n,e,t){if(isNaN(n)||!isFinite(n))return String(n);var r=kee(t?.lowerExp,-3),i=kee(t?.upperExp,5),s=qE(n),o=e?eI(s,e):s;if(o.exponent<r||o.exponent>=i)return Oee(n,e);var a=o.coefficients,l=o.exponent;a.length<e&&(a=a.concat(lb(e-a.length))),a=a.concat(lb(l-a.length+1+(a.length<e?e-a.length:0)));var c=l>0?l:0;return c<(a=lb(-l).concat(a)).length-1&&a.splice(c+1,0,"."),o.sign+a.join("")}(n,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],o=arguments[4];return"."!==s?s+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Fee(n){var t,r,e="auto";if(void 0!==n)if(kr(n))t=n;else if(Hr(n))t=n.toNumber();else{if(!zE(n))throw new Error("Unsupported type of options, number, BigNumber, or object expected");void 0!==n.precision&&(t=Uee(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),void 0!==n.wordSize&&(r=Uee(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(e=n.notation)}return{notation:e,precision:t,wordSize:r}}function qE(n){var e=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],r=e[2],i=parseFloat(e[4]||"0"),s=r.indexOf(".");i+=-1!==s?s-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(a){return i-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return 0===o.length&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function Ree(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=qE(n),r="number"==typeof e?eI(t,t.exponent+1+e):t,i=r.coefficients,s=r.exponent+1,o=s+(e||0);return i.length<o&&(i=i.concat(lb(o-i.length))),s<0&&(i=lb(1-s).concat(i),s=1),s<i.length&&i.splice(s,0,0===s?"0.":"."),r.sign+i.join("")}function Oee(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=qE(n),r=e?eI(t,e):t,i=r.coefficients,s=r.exponent;i.length<e&&(i=i.concat(lb(e-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function eI(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=t.coefficients;e<=0;)r.unshift(0),t.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var s=e-1;for(r[s]++;10===r[s];)r.pop(),0===s&&(r.unshift(0),t.exponent++,s++),r[--s]++}return t}function lb(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}function Ol(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(n)&&!isNaN(e)&&(isFinite(n)&&isFinite(e)?n===e||Math.abs(n-e)<=Math.max(t*Math.max(Math.abs(n),Math.abs(e)),r):n===e)}var C5e=Math.acosh||function(n){return Math.log(Math.sqrt(n*n-1)+n)},x5e=Math.asinh||function(n){return Math.log(Math.sqrt(n*n+1)+n)},E5e=Math.atanh||function(n){return Math.log((1+n)/(1-n))/2},Pee=Math.cosh||function(n){return(Math.exp(n)+Math.exp(-n))/2},S5e=Math.sinh||function(n){return(Math.exp(n)-Math.exp(-n))/2},Lee=Math.tanh||function(n){var e=Math.exp(2*n);return(e-1)/(e+1)};function Uee(n,e){return kr(n)?n:Hr(n)?n.toNumber():void e()}function kee(n,e){return kr(n)?n:Hr(n)?n.toNumber():e}function EH(n,e,t){var i=new(0,n.constructor)(2),s="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!$n(t))throw new Error("size must be an integer");if(n.greaterThan(i.pow(t-1).sub(1))||n.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(i.pow(t))),s="i".concat(t)}switch(e){case 2:return"".concat(n.toBinary()).concat(s);case 8:return"".concat(n.toOctal()).concat(s);case 16:return"".concat(n.toHexadecimal()).concat(s);default:throw new Error("Base ".concat(e," not supported "))}}function Hee(n,e){return void 0!==e?n.toExponential(e-1):n.toExponential()}function Vee(n,e){return kr(n)?n:Hr(n)?n.toNumber():e}function N5e(n,e){return n.substring(n.length-e.length,n.length)===e}function ri(n,e){var t=function I5e(n,e){return"number"==typeof n?N0(n,e):Hr(n)?function M5e(n,e){if("function"==typeof e)return e(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:r,wordSize:i}=Fee(e);switch(t){case"fixed":return function B5e(n,e){return n.toFixed(e)}(n,r);case"exponential":return Hee(n,r);case"engineering":return function T5e(n,e){var t=n.e,r=t%3==0?t:t<0?t-3-t%3:t-t%3,s=n.mul(Math.pow(10,-r)).toPrecision(e);return s.includes("e")&&(s=new(0,n.constructor)(s).toFixed()),s+"e"+(t>=0?"+":"")+r.toString()}(n,r);case"bin":return EH(n,2,i);case"oct":return EH(n,8,i);case"hex":return EH(n,16,i);case"auto":var s=Vee(e?.lowerExp,-3),o=Vee(e?.upperExp,5);if(n.isZero())return"0";var l=n.toSignificantDigits(r),c=l.e;return(c>=s&&c<o?l.toFixed():Hee(n,r)).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],h=arguments[4];return"."!==u?u+h:h});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(n,e):function F5e(n){return n&&"object"==typeof n&&"bigint"==typeof n.s&&"bigint"==typeof n.n&&"bigint"==typeof n.d||!1}(n)?e&&"decimal"===e.fraction?n.toString():"".concat(n.s*n.n,"/").concat(n.d):Array.isArray(n)?zee(n,e):hc(n)?cb(n):"function"==typeof n?n.syntax?String(n.syntax):"function":n&&"object"==typeof n?"function"==typeof n.format?n.format(e):n&&n.toString(e)!=={}.toString()?n.toString(e):"{"+Object.keys(n).map(r=>cb(r)+": "+ri(n[r],e)).join(", ")+"}":String(n)}(n,e);return e&&"object"==typeof e&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function cb(n){for(var e=String(n),t="",r=0;r<e.length;){var i=e.charAt(r);t+=i in Qee?Qee[i]:i,r++}return'"'+t+'"'}var Qee={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Wh(n){var e=String(n);return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zee(n,e){if(Array.isArray(n)){for(var t="[",r=n.length,i=0;i<r;i++)0!==i&&(t+=", "),t+=zee(n[i],e);return t+"]"}return ri(n,e)}function SH(n,e){if(!hc(n))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Ws(n)+", index: 0)");if(!hc(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Ws(e)+", index: 1)");return n===e?0:n>e?1:-1}var tI="ObjectNode",O5e=ye(tI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&("object"!=typeof i||!Object.keys(i).every(function(s){return Ts(i[s])})))throw new TypeError("Object containing Nodes expected")}get type(){return tI}get isObjectNode(){return!0}_compile(i,s){var o={};for(var a in this.properties)if(Hn(this.properties,a)){var l=cb(a),c=JSON.parse(l),u=zc(this.properties,a);o[c]=u._compile(i,s)}return function(d,f,A){var p={};for(var m in o)Hn(o,m)&&(p[m]=o[m](d,f,A));return p}}forEach(i){for(var s in this.properties)Hn(this.properties,s)&&i(this.properties[s],"properties["+cb(s)+"]",this)}map(i){var s={};for(var o in this.properties)Hn(this.properties,o)&&(s[o]=this._ifNode(i(this.properties[o],"properties["+cb(o)+"]",this)));return new t(s)}clone(){var i={};for(var s in this.properties)Hn(this.properties,s)&&(i[s]=this.properties[s]);return new t(i)}_toString(i){var s=[];for(var o in this.properties)Hn(this.properties,o)&&s.push(cb(o)+": "+this.properties[o].toString(i));return"{"+s.join(", ")+"}"}toJSON(){return{mathjs:tI,properties:this.properties}}static fromJSON(i){return new t(i.properties)}_toHTML(i){var s=[];for(var o in this.properties)Hn(this.properties,o)&&s.push('<span class="math-symbol math-property">'+Wh(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var s=[];for(var o in this.properties)Hn(this.properties,o)&&s.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");return"\\left\\{\\begin{array}{ll}"+s.join("\n")+"\\end{array}\\right\\}"}}return qa(t,"name",tI),t},{isClass:!0,isNode:!0});function ii(n,e,t){if(!(this instanceof ii))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function ed(n,e,t){if(!(this instanceof ed))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}function Er(n){for(var e=[];Array.isArray(n);)e.push(n.length),n=n[0];return e}function Gee(n,e,t){var r,i=n.length;if(i!==e[t])throw new ii(i,e[t]);if(t<e.length-1){var s=t+1;for(r=0;r<i;r++){if(!Array.isArray(n[r]))throw new ii(e.length-1,e.length,"<");Gee(n[r],e,s)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new ii(e.length+1,e.length,">")}function jee(n,e){if(0===e.length){if(Array.isArray(n))throw new ii(n.length,0)}else Gee(n,e,0)}function nI(n,e){var t=n.isMatrix?n._size:Er(n);e._sourceSize.forEach((i,s)=>{if(null!==i&&i!==t[s])throw new ii(i,t[s])})}function $s(n,e){if(void 0!==n){if(!kr(n)||!$n(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||"number"==typeof e&&n>=e)throw new ed(n,e)}}function ub(n){for(var e=0;e<n._dimensions.length;++e){var t=n._dimensions[e];if(t._data&&Ms(t._data)){if(0===t._size[0])return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(hc(t)&&0===t.length)return!0}return!1}function hb(n,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach(function(i){if(!kr(i)||!$n(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ri(e)+")")}),(kr(n)||Hr(n))&&(n=[n]),DH(n,e,0,void 0!==t?t:0),n}function DH(n,e,t,r){var i,s,a=e[t],l=Math.min(n.length,a);if(n.length=a,t<e.length-1){var c=t+1;for(i=0;i<l;i++)s=n[i],Array.isArray(s)||(n[i]=s=[s]),DH(s,e,c,r);for(i=l;i<a;i++)n[i]=s=[],DH(s,e,c,r)}else{for(i=0;i<l;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=l;i<a;i++)n[i]=r}}function MH(n,e){var t=Qi(n),r=t.length;if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new ii(0,r,"!=");var i=qee(e=TH(e,r));if(r!==i)throw new ii(i,r,"!=");try{return function P5e(n,e){for(var r,t=n,i=e.length-1;i>0;i--){var s=e[i];r=[];for(var o=t.length/s,a=0;a<o;a++)r.push(t.slice(a*s,(a+1)*s));t=r}return t}(t,e)}catch(s){throw s instanceof ii?new ii(i,r,"!="):s}}function TH(n,e){var t=qee(n),r=n.slice(),s=n.indexOf(-1);if(n.indexOf(-1,s+1)>=0)throw new Error("More than one wildcard in sizes");if(s>=0){if(e%t!=0)throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);r[s]=-e/t}return r}function qee(n){return n.reduce((e,t)=>e*t,1)}function rI(n,e){for(var t=e||Er(n);Array.isArray(n)&&1===n.length;)n=n[0],t.shift();for(var r=t.length;1===t[r-1];)r--;return r<t.length&&(n=Wee(n,r,0),t.length=r),n}function Wee(n,e,t){var r,i;if(t<e){var s=t+1;for(r=0,i=n.length;r<i;r++)n[r]=Wee(n[r],e,s)}else for(;Array.isArray(n);)n=n[0];return n}function $ee(n,e,t,r){var i=r||Er(n);if(t)for(var s=0;s<t;s++)n=[n],i.unshift(1);for(n=Kee(n,e,0);i.length<e;)i.push(1);return n}function Kee(n,e,t){var r,i;if(Array.isArray(n)){var s=t+1;for(r=0,i=n.length;r<i;r++)n[r]=Kee(n[r],e,s)}else for(var o=t;o<e;o++)n=[n];return n}function Qi(n){if(!Array.isArray(n))return n;var e=[];return n.forEach(function t(r){Array.isArray(r)?r.forEach(t):e.push(r)}),e}function pm(n,e){return Array.prototype.map.call(n,e)}function Xee(n,e){Array.prototype.forEach.call(n,e)}function Yee(n,e){if(1!==Er(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,t=>e.test(t))}function Jee(n,e){return Array.prototype.join.call(n,e)}function fb(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;var e=[],t=0;e[0]={value:n[0],identifier:0};for(var r=1;r<n.length;r++)n[r]===n[r-1]?t++:t=0,e.push({value:n[r],identifier:t});return e}function iI(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;for(var e=[],t=0;t<n.length;t++)e.push(n[t].value);return e}function sI(n,e){for(var t,r=0,i=0;i<n.length;i++){var s=n[i],o=Array.isArray(s);if(0===i&&o&&(r=s.length),o&&s.length!==r)return;var a=o?sI(s,e):e(s);if(void 0===t)t=a;else if(t!==a)return"mixed"}return t}function Zee(n,e,t,r){if(r<t){if(n.length!==e.length)throw new ii(n.length,e.length);for(var i=[],s=0;s<n.length;s++)i[s]=Zee(n[s],e[s],t,r+1);return i}return n.concat(e)}function ete(){var n=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(1===n.length)return n[0];if(n.length>1)return n.slice(1).reduce(function(t,r){return Zee(t,r,e,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function oI(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var r=e.map(d=>d.length),i=Math.max(...r),s=new Array(i).fill(null),o=0;o<e.length;o++)for(var a=e[o],l=r[o],c=0;c<l;c++){var u=i-l+c;a[c]>s[u]&&(s[u]=a[c])}for(var h=0;h<e.length;h++)tte(e[h],s);return s}function tte(n,e){for(var t=e.length,r=n.length,i=0;i<r;i++){var s=t-r+i;if(n[i]<e[s]&&n[i]>1||n[i]>e[s])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(e[s]))}}function gm(n,e){var t=Er(n);if(vp(t,e))return n;tte(t,e);var r=oI(t,e),i=r.length,s=[...Array(i-t.length).fill(1),...t],o=function k5e(n){return ja([],n)}(n);t.length<i&&(t=Er(o=MH(o,s)));for(var a=0;a<i;a++)t[a]<r[a]&&(t=Er(o=U5e(o,r[a],a)));return o}function U5e(n,e,t){return ete(...Array(e).fill(n),t)}function BH(n,e){if(!Array.isArray(n))throw new Error("Array expected");var t=Er(n);if(e.length!==t.length)throw new ii(e.length,t.length);for(var r=0;r<e.length;r++)$s(e[r],t[r]);return e.reduce((i,s)=>i[s],n)}function NH(n,e,t,r){return Array.isArray(n)?n.map(function(i,s){return NH(i,e.concat(s),t,r)}):r(n,e,t)}function WE(n,e){return new Dee(n,new XN(e),new Set(Object.keys(e)))}(ii.prototype=new RangeError).constructor=RangeError,ii.prototype.name="DimensionError",ii.prototype.isDimensionError=!0,(ed.prototype=new RangeError).constructor=RangeError,ed.prototype.name="IndexError",ed.prototype.isIndexError=!0;var td=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function aI(n,e){if(!e||"auto"!==e)return n;for(var t=n;_p(t);)t=t.content;return t}function Ps(n,e,t,r){var i=n;"keep"!==e&&(i=n.getContent());for(var s=i.getIdentifier(),o=null,a=0;a<td.length;a++)if(s in td[a]){o=a;break}if("OperatorNode:multiply"===s&&i.implicit&&"show"!==t){var l=aI(i.args[0],e);!(Di(l)&&r&&"OperatorNode:divide"===r.getIdentifier()&&wH(aI(r.args[0],e)))&&("OperatorNode:divide"!==l.getIdentifier()||!wH(aI(l.args[0],e))||!Di(aI(l.args[1])))&&(o+=1)}return o}function $E(n,e){var t=n;"keep"!==e&&(t=n.getContent());var r=t.getIdentifier(),i=Ps(t,e);if(null===i)return null;var s=td[i][r];if(Hn(s,"associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+s.associativity+"'.")}return null}function IH(n,e,t){var r="keep"!==t?n.getContent():n,i="keep"!==t?n.getContent():e,s=r.getIdentifier(),o=i.getIdentifier(),a=Ps(r,t);if(null===a)return null;var l=td[a][s];if(Hn(l,"associativeWith")&&l.associativeWith instanceof Array){for(var c=0;c<l.associativeWith.length;c++)if(l.associativeWith[c]===o)return!0;return!1}return null}var V5e=we(7636),FH={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},zi={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},nte={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(zi.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(zi.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(zi.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(zi.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(zi.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(zi.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(zi.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(zi.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(zi.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(zi.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(zi.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(zi.bitAnd,"${args[1]}\\right)")},bitNot:{1:zi.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(zi.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(zi.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(zi.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(zi.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(zi.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(zi.and,"${args[1]}\\right)")},not:{1:zi.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(zi.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(zi.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(zi.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(zi.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(zi.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(zi.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(zi.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(zi.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(zi.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(zi.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(zi.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(zi.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(zi.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(FH.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},rte={deg:"^\\circ"};function RH(n){return V5e(n,{preserveFormatting:!0})}function ite(n,e){return(e=!(typeof e>"u")&&e)?Hn(rte,n)?rte[n]:"\\mathrm{"+RH(n)+"}":Hn(FH,n)?FH[n]:RH(n)}var lI="OperatorNode",G5e=ye(lI,["Node"],n=>{var{Node:e}=n;function t(s,o){var a=s;if("auto"===o)for(;_p(a);)a=a.content;return!!Di(a)||!!fa(a)&&t(a.args[0],o)}function r(s,o,a,l,c){var d,u=Ps(s,o,a),h=$E(s,o);if("all"===o||l.length>2&&"OperatorNode:add"!==s.getIdentifier()&&"OperatorNode:multiply"!==s.getIdentifier())return l.map(function(T){switch(T.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(l.length){case 0:d=[];break;case 1:var f=Ps(l[0],o,a,s);if(c&&null!==f){var A,p;if("keep"===o?(A=l[0].getIdentifier(),p=s.getIdentifier()):(A=l[0].getContent().getIdentifier(),p=s.getContent().getIdentifier()),!1===td[u][p].latexLeftParens){d=[!1];break}if(!1===td[f][A].latexParens){d=[!1];break}}if(null===f){d=[!1];break}if(f<=u){d=[!0];break}d=[!1];break;case 2:var m,g=Ps(l[0],o,a,s),y=IH(s,l[0],o);m=null!==g&&(g===u&&"right"===h&&!y||g<u);var v,b,M,D,_=Ps(l[1],o,a,s),C=IH(s,l[1],o);v=null!==_&&(_===u&&"left"===h&&!C||_<u),c&&("keep"===o?(b=s.getIdentifier(),M=s.args[0].getIdentifier(),D=s.args[1].getIdentifier()):(b=s.getContent().getIdentifier(),M=s.args[0].getContent().getIdentifier(),D=s.args[1].getContent().getIdentifier()),null!==g&&(!1===td[u][b].latexLeftParens&&(m=!1),!1===td[g][M].latexParens&&(m=!1)),null!==_&&(!1===td[u][b].latexRightParens&&(v=!1),!1===td[_][D].latexParens&&(v=!1))),d=[m,v];break;default:("OperatorNode:add"===s.getIdentifier()||"OperatorNode:multiply"===s.getIdentifier())&&(d=l.map(function(T){var B=Ps(T,o,a,s),R=IH(s,T,o),U=$E(T,o);return null!==B&&(u===B&&h===U&&!R||B<u)}))}if(l.length>=2&&"OperatorNode:multiply"===s.getIdentifier()&&s.implicit&&"all"!==o&&"hide"===a)for(var E=1;E<d.length;++E)t(l[E],o)&&!d[E-1]&&("keep"!==o||!_p(l[E-1]))&&(d[E]=!0);return d}class i extends e{constructor(o,a,l,c,u){if(super(),"string"!=typeof o)throw new TypeError('string expected for parameter "op"');if("string"!=typeof a)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(Ts))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===c,this.isPercentage=!0===u,this.op=o,this.fn=a,this.args=l||[]}get type(){return lI}get isOperatorNode(){return!0}_compile(o,a){if("string"!=typeof this.fn||!_H(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=zc(o,this.fn),c=pm(this.args,function(A){return A._compile(o,a)});if("function"==typeof l&&!0===l.rawArgs){var u=this.args;return function(p,m,g){return l(u,o,WE(p,m))}}if(1===c.length){var h=c[0];return function(p,m,g){return l(h(p,m,g))}}if(2===c.length){var d=c[0],f=c[1];return function(p,m,g){return l(d(p,m,g),f(p,m,g))}}return function(p,m,g){return l.apply(null,pm(c,function(y){return y(p,m,g)}))}}forEach(o){for(var a=0;a<this.args.length;a++)o(this.args[a],"args["+a+"]",this)}map(o){for(var a=[],l=0;l<this.args.length;l++)a[l]=this._ifNode(o(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,a,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=r(this,a,l,c,!1);if(1===c.length){var h=$E(this,a),d=c[0].toString(o);u[0]&&(d="("+d+")");var f=/[a-zA-Z]+/.test(this.op);return"right"===h?this.op+(f?" ":"")+d:"left"===h?d+(f?" ":"")+this.op:d+this.op}if(2===c.length){var A=c[0].toString(o),p=c[1].toString(o);return u[0]&&(A="("+A+")"),u[1]&&(p="("+p+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?A+" "+p:A+" "+this.op+" "+p}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var m=c.map(function(g,y){return g=g.toString(o),u[y]&&(g="("+g+")"),g});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?m.join(" "):m.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:lI,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=r(this,a,l,c,!1);if(1===c.length){var h=$E(this,a),d=c[0].toHTML(o);return u[0]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===h?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Wh(this.op)+"</span>"+d:d+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Wh(this.op)+"</span>"}if(2===c.length){var f=c[0].toHTML(o),A=c[1].toHTML(o);return u[0]&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u[1]&&(A='<span class="math-parenthesis math-round-parenthesis">(</span>'+A+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?f+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+A:f+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Wh(this.op)+"</span>"+A}var p=c.map(function(m,g){return m=m.toHTML(o),u[g]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),m});return c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?p.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):p.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Wh(this.op)+"</span>"):'<span class="math-function">'+Wh(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+p.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=r(this,a,l,c,!0),h=zi[this.fn];if(h=typeof h>"u"?this.op:h,1===c.length){var d=$E(this,a),f=c[0].toTex(o);return u[0]&&(f="\\left(".concat(f,"\\right)")),"right"===d?h+f:f+h}if(2===c.length){var A=c[0],p=A.toTex(o);u[0]&&(p="\\left(".concat(p,"\\right)"));var y,g=c[1].toTex(o);switch(u[1]&&(g="\\left(".concat(g,"\\right)")),y="keep"===a?A.getIdentifier():A.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return h+"{"+p+"}{"+g+"}";case"OperatorNode:pow":switch(p="{"+p+"}",g="{"+g+"}",y){case"ConditionalNode":case"OperatorNode:divide":p="\\left(".concat(p,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===l)return p+"~"+g}return p+h+g}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var v=c.map(function(_,C){return _=_.toTex(o),u[C]&&(_="\\left(".concat(_,"\\right)")),_});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===l?v.join("~"):v.join(h)}return"\\mathrm{"+this.fn+"}\\left("+c.map(function(_){return _.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return qa(i,"name",lI),i},{isClass:!0,isNode:!0}),cI="ParenthesisNode",q5e=ye(cI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),!Ts(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return cI}get isParenthesisNode(){return!0}_compile(i,s){return this.content._compile(i,s)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var s=i(this.content,"content",this);return new t(s)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:cI,content:this.content}}static fromJSON(i){return new t(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&"keep"===i.parenthesis?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return qa(t,"name",cI),t},{isClass:!0,isNode:!0}),uI="RelationalNode",$5e=ye(uI,["Node"],n=>{var{Node:e}=n,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class r extends e{constructor(s,o){if(super(),!Array.isArray(s))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(s.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=s,this.params=o}get type(){return uI}get isRelationalNode(){return!0}_compile(s,o){var a=this,l=this.params.map(c=>c._compile(s,o));return function(u,h,d){for(var f,A=l[0](u,h,d),p=0;p<a.conditionals.length;p++)if(f=A,A=l[p+1](u,h,d),!zc(s,a.conditionals[p])(f,A))return!1;return!0}}forEach(s){this.params.forEach((o,a)=>s(o,"params["+a+"]",this),this)}map(s){return new r(this.conditionals.slice(),this.params.map((o,a)=>this._ifNode(s(o,"params["+a+"]",this)),this))}clone(){return new r(this.conditionals,this.params)}_toString(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ps(this,o,s&&s.implicit),l=this.params.map(function(h,d){var f=Ps(h,o,s&&s.implicit);return"all"===o||null!==f&&f<=a?"("+h.toString(s)+")":h.toString(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+=" "+t[this.conditionals[u]],c+=" "+l[u+1];return c}toJSON(){return{mathjs:uI,conditionals:this.conditionals,params:this.params}}static fromJSON(s){return new r(s.conditionals,s.params)}_toHTML(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ps(this,o,s&&s.implicit),l=this.params.map(function(h,d){var f=Ps(h,o,s&&s.implicit);return"all"===o||null!==f&&f<=a?'<span class="math-parenthesis math-round-parenthesis">(</span>'+h.toHTML(s)+'<span class="math-parenthesis math-round-parenthesis">)</span>':h.toHTML(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Wh(t[this.conditionals[u]])+"</span>"+l[u+1];return c}_toTex(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ps(this,o,s&&s.implicit),l=this.params.map(function(h,d){var f=Ps(h,o,s&&s.implicit);return"all"===o||null!==f&&f<=a?"\\left("+h.toTex(s)+"\right)":h.toTex(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+=zi[this.conditionals[u]]+l[u+1];return c}}return qa(r,"name",uI),r},{isClass:!0,isNode:!0}),hI="ArrayNode",X5e=ye(hI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(Ts))throw new TypeError("Array containing Nodes expected")}get type(){return hI}get isArrayNode(){return!0}_compile(i,s){var o=pm(this.items,function(c){return c._compile(i,s)});if("Array"!==i.config.matrix){var l=i.matrix;return function(u,h,d){return l(pm(o,function(f){return f(u,h,d)}))}}return function(u,h,d){return pm(o,function(f){return f(u,h,d)})}}forEach(i){for(var s=0;s<this.items.length;s++)i(this.items[s],"items["+s+"]",this)}map(i){for(var s=[],o=0;o<this.items.length;o++)s[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(s)}clone(){return new t(this.items.slice(0))}_toString(i){return"["+this.items.map(function(o){return o.toString(i)}).join(", ")+"]"}toJSON(){return{mathjs:hI,items:this.items}}static fromJSON(i){return new t(i.items)}_toHTML(i){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(o){return o.toHTML(i)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){return function s(o,a){var l=o.some(qh)&&!o.every(qh),c=a||l,u=c?"&":"\\\\",h=o.map(function(d){return d.items?s(d.items,!a):d.toTex(i)}).join(u);return l||!c||c&&!a?"\\begin{bmatrix}"+h+"\\end{bmatrix}":h}(this.items,!1)}}return qa(t,"name",hI),t},{isClass:!0,isNode:!0}),fI="BlockNode",J5e=ye(fI,["ResultSet","Node"],n=>{var{ResultSet:e,Node:t}=n;class r extends t{constructor(s){if(super(),!Array.isArray(s))throw new Error("Array expected");this.blocks=s.map(function(o){var a=o&&o.node,l=!o||void 0===o.visible||o.visible;if(!Ts(a))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof l)throw new TypeError('Property "visible" must be a boolean');return{node:a,visible:l}})}get type(){return fI}get isBlockNode(){return!0}_compile(s,o){var a=pm(this.blocks,function(l){return{evaluate:l.node._compile(s,o),visible:l.visible}});return function(c,u,h){var d=[];return Xee(a,function(A){var p=A.evaluate(c,u,h);A.visible&&d.push(p)}),new e(d)}}forEach(s){for(var o=0;o<this.blocks.length;o++)s(this.blocks[o].node,"blocks["+o+"].node",this)}map(s){for(var o=[],a=0;a<this.blocks.length;a++){var l=this.blocks[a],c=this._ifNode(s(l.node,"blocks["+a+"].node",this));o[a]={node:c,visible:l.visible}}return new r(o)}clone(){var s=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new r(s)}_toString(s){return this.blocks.map(function(o){return o.node.toString(s)+(o.visible?"":";")}).join("\n")}toJSON(){return{mathjs:fI,blocks:this.blocks}}static fromJSON(s){return new r(s.blocks)}_toHTML(s){return this.blocks.map(function(o){return o.node.toHTML(s)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(s){return this.blocks.map(function(o){return o.node.toTex(s)+(o.visible?"":";")}).join("\\;\\;\n")}}return qa(r,"name",fI),r},{isClass:!0,isNode:!0}),dI="ConditionalNode",eLe=ye(dI,["Node"],n=>{var{Node:e}=n;class r extends e{constructor(s,o,a){if(super(),!Ts(s))throw new TypeError("Parameter condition must be a Node");if(!Ts(o))throw new TypeError("Parameter trueExpr must be a Node");if(!Ts(a))throw new TypeError("Parameter falseExpr must be a Node");this.condition=s,this.trueExpr=o,this.falseExpr=a}get type(){return dI}get isConditionalNode(){return!0}_compile(s,o){var a=this.condition._compile(s,o),l=this.trueExpr._compile(s,o),c=this.falseExpr._compile(s,o);return function(h,d,f){return function t(i){if("number"==typeof i||"boolean"==typeof i||"string"==typeof i)return!!i;if(i){if(Hr(i))return!i.isZero();if(yp(i))return!(!i.re&&!i.im);if(Gh(i))return!!i.value}if(null==i)return!1;throw new TypeError('Unsupported type of condition "'+Ws(i)+'"')}(a(h,d,f))?l(h,d,f):c(h,d,f)}}forEach(s){s(this.condition,"condition",this),s(this.trueExpr,"trueExpr",this),s(this.falseExpr,"falseExpr",this)}map(s){return new r(this._ifNode(s(this.condition,"condition",this)),this._ifNode(s(this.trueExpr,"trueExpr",this)),this._ifNode(s(this.falseExpr,"falseExpr",this)))}clone(){return new r(this.condition,this.trueExpr,this.falseExpr)}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ps(this,o,s&&s.implicit),l=this.condition.toString(s),c=Ps(this.condition,o,s&&s.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=a)&&(l="("+l+")");var u=this.trueExpr.toString(s),h=Ps(this.trueExpr,o,s&&s.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==h&&h<=a)&&(u="("+u+")");var d=this.falseExpr.toString(s),f=Ps(this.falseExpr,o,s&&s.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==f&&f<=a)&&(d="("+d+")"),l+" ? "+u+" : "+d}toJSON(){return{mathjs:dI,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(s){return new r(s.condition,s.trueExpr,s.falseExpr)}_toHTML(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=Ps(this,o,s&&s.implicit),l=this.condition.toHTML(s),c=Ps(this.condition,o,s&&s.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=a)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.trueExpr.toHTML(s),h=Ps(this.trueExpr,o,s&&s.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==h&&h<=a)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var d=this.falseExpr.toHTML(s),f=Ps(this.falseExpr,o,s&&s.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==f&&f<=a)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+u+'<span class="math-operator math-conditional-operator">:</span>'+d}_toTex(s){return"\\begin{cases} {"+this.trueExpr.toTex(s)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(s)+"}\\\\{"+this.falseExpr.toTex(s)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return qa(r,"name",dI),r},{isClass:!0,isNode:!0}),AI="ConstantNode",nLe=ye(AI,["Node"],n=>{var{Node:e}=n;class t extends e{constructor(i){super(),this.value=i}get type(){return AI}get isConstantNode(){return!0}_compile(i,s){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return ri(this.value,i)}_toHTML(i){var s=this._toString(i);switch(Ws(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+s+"</span>";case"string":return'<span class="math-string">'+s+"</span>";case"boolean":return'<span class="math-boolean">'+s+"</span>";case"null":return'<span class="math-null-symbol">'+s+"</span>";case"undefined":return'<span class="math-undefined">'+s+"</span>";default:return'<span class="math-symbol">'+s+"</span>"}}toJSON(){return{mathjs:AI,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var s=this._toString(i),o=Ws(this.value);switch(o){case"string":return"\\mathtt{"+RH(s)+"}";case"number":case"BigNumber":if(!("BigNumber"===o?this.value.isFinite():isFinite(this.value)))return this.value.valueOf()<0?"-\\infty":"\\infty";var l=s.toLowerCase().indexOf("e");return-1!==l?s.substring(0,l)+"\\cdot10^{"+s.substring(l+1)+"}":s;case"bigint":return s.toString();case"Fraction":return this.value.toLatex();default:return s}}}return qa(t,"name",AI),t},{isClass:!0,isNode:!0}),pI="RangeNode",iLe=ye(pI,["Node"],n=>{var{Node:e}=n;function t(i,s,o){var a=Ps(i,s,o),l={},c=Ps(i.start,s,o);if(l.start=null!==c&&c<=a||"all"===s,i.step){var u=Ps(i.step,s,o);l.step=null!==u&&u<=a||"all"===s}var h=Ps(i.end,s,o);return l.end=null!==h&&h<=a||"all"===s,l}class r extends e{constructor(s,o,a){if(super(),!Ts(s))throw new TypeError("Node expected");if(!Ts(o))throw new TypeError("Node expected");if(a&&!Ts(a))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=s,this.end=o,this.step=a||null}get type(){return pI}get isRangeNode(){return!0}needsEnd(){return this.filter(function(o){return fl(o)&&"end"===o.name}).length>0}_compile(s,o){var a=s.range,l=this.start._compile(s,o),c=this.end._compile(s,o);if(this.step){var u=this.step._compile(s,o);return function(d,f,A){return a(l(d,f,A),c(d,f,A),u(d,f,A))}}return function(d,f,A){return a(l(d,f,A),c(d,f,A))}}forEach(s){s(this.start,"start",this),s(this.end,"end",this),this.step&&s(this.step,"step",this)}map(s){return new r(this._ifNode(s(this.start,"start",this)),this._ifNode(s(this.end,"end",this)),this.step&&this._ifNode(s(this.step,"step",this)))}clone(){return new r(this.start,this.end,this.step&&this.step)}_toString(s){var l,a=t(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),c=this.start.toString(s);if(a.start&&(c="("+c+")"),l=c,this.step){var u=this.step.toString(s);a.step&&(u="("+u+")"),l+=":"+u}var h=this.end.toString(s);return a.end&&(h="("+h+")"),l+":"+h}toJSON(){return{mathjs:pI,start:this.start,end:this.end,step:this.step}}static fromJSON(s){return new r(s.start,s.end,s.step)}_toHTML(s){var l,a=t(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),c=this.start.toHTML(s);if(a.start&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=c,this.step){var u=this.step.toHTML(s);a.step&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+u}var h=this.end.toHTML(s);return a.end&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-range-operator">:</span>'+h}_toTex(s){var a=t(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),l=this.start.toTex(s);if(a.start&&(l="\\left(".concat(l,"\\right)")),this.step){var c=this.step.toTex(s);a.step&&(c="\\left(".concat(c,"\\right)")),l+=":"+c}var u=this.end.toTex(s);return a.end&&(u="\\left(".concat(u,"\\right)")),l+":"+u}}return qa(r,"name",pI),r},{isClass:!0,isNode:!0}),aLe=ye("reviver",["classes"],n=>{var{classes:e}=n;return function(r,i){var s=e[i&&i.mathjs];return s&&"function"==typeof s.fromJSON?s.fromJSON(i):i}}),uLe=ye("Chain",["?on","math","typed"],n=>{var{on:e,math:t,typed:r}=n;function i(c){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.value=Bee(c)?c.value:c}function o(c,u){!function kPe(n,e,t){var i,r=!0;Object.defineProperty(n,e,{get:function(){return r&&(i=t(),r=!1),i},set:function(o){i=o,r=!1},configurable:!0,enumerable:!0})}(i.prototype,c,function(){var d=u();if("function"==typeof d)return a(d)})}function a(c){return function(){if(0===arguments.length)return new i(c(this.value));for(var u=[this.value],h=0;h<arguments.length;h++)u[h+1]=arguments[h];if(r.isTypedFunction(c)){var d=r.resolve(c,u);if(1===d.params.length)throw new Error("chain function "+c.name+" cannot match rest parameter between chain value and additional arguments.");return new i(d.implementation.apply(c,u))}return new i(c.apply(c,u))}}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return ri(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(c){return new i(c.value)},i.createProxy=function(c,u){if("string"==typeof c)!function s(c,u){"function"==typeof u&&(i.prototype[c]=a(u))}(c,u);else{var h=function(A){Hn(c,A)&&void 0===l[A]&&o(A,()=>c[A])};for(var d in c)h(d)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(c,u,h){h||o(c,u)}),i},{isClass:!0}),gI="FunctionAssignmentNode",fLe=ye(gI,["typed","Node"],n=>{var{typed:e,Node:t}=n;function r(s,o,a){var l=Ps(s,o,a),c=Ps(s.expr,o,a);return"all"===o||null!==c&&c<=l}class i extends t{constructor(o,a,l){if(super(),"string"!=typeof o)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(a))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Ts(l))throw new TypeError('Node expected for parameter "expr"');if(Nee.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var c=new Set;for(var u of a){var h="string"==typeof u?u:u.name;if(c.has(h))throw new Error('Duplicate parameter name "'.concat(h,'"'));c.add(h)}this.name=o,this.params=a.map(function(d){return d&&d.name||d}),this.types=a.map(function(d){return d&&d.type||"any"}),this.expr=l}get type(){return gI}get isFunctionAssignmentNode(){return!0}_compile(o,a){var l=Object.create(a);Xee(this.params,function(A){l[A]=!0});var c=this.expr._compile(o,l),u=this.name,h=this.params,d=Jee(this.types,","),f=u+"("+Jee(this.params,", ")+")";return function(p,m,g){var y={};y[d]=function(){for(var _=Object.create(m),C=0;C<h.length;C++)_[h[C]]=arguments[C];return c(p,_,g)};var v=e(u,y);return v.syntax=f,p.set(u,v),v}}forEach(o){o(this.expr,"expr",this)}map(o){var a=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),a)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toString(o);return r(this,a,o&&o.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var o=this.types;return{mathjs:gI,name:this.name,params:this.params.map(function(a,l){return{name:a,type:o[l]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",l=[],c=0;c<this.params.length;c++)l.push('<span class="math-symbol math-parameter">'+Wh(this.params[c])+"</span>");var u=this.expr.toHTML(o);return r(this,a,o&&o.implicit)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Wh(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+u}_toTex(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toTex(o);return r(this,a,o&&o.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(ite).join(",")+"\\right)="+l}}return qa(i,"name",gI),i},{isClass:!0,isNode:!0}),ALe=ye("chain",["typed","Chain"],n=>{var{typed:e,Chain:t}=n;return e("chain",{"":function(){return new t},any:function(i){return new t(i)}})}),mI="IndexNode",gLe=ye(mI,["Node","size"],n=>{var{Node:e,size:t}=n;class r extends e{constructor(s,o){if(super(),this.dimensions=s,this.dotNotation=o||!1,!Array.isArray(s)||!s.every(Ts))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return mI}get isIndexNode(){return!0}_compile(s,o){var a=pm(this.dimensions,function(c,u){if(c.filter(A=>A.isSymbolNode&&"end"===A.name).length>0){var d=Object.create(o);d.end=!0;var f=c._compile(s,d);return function(p,m,g){if(!ur(g)&&!Ms(g)&&!hc(g))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Ws(g));var y=t(g).valueOf(),v=Object.create(m);return v.end=y[u],f(p,v,g)}}return c._compile(s,o)}),l=zc(s,"index");return function(u,h,d){var f=pm(a,function(A){return A(u,h,d)});return l(...f)}}forEach(s){for(var o=0;o<this.dimensions.length;o++)s(this.dimensions[o],"dimensions["+o+"]",this)}map(s){for(var o=[],a=0;a<this.dimensions.length;a++)o[a]=this._ifNode(s(this.dimensions[a],"dimensions["+a+"]",this));return new r(o,this.dotNotation)}clone(){return new r(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&Di(this.dimensions[0])&&"string"==typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(s){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:mI,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(s){return new r(s.dimensions,s.dotNotation)}_toHTML(s){for(var o=[],a=0;a<this.dimensions.length;a++)o[a]=this.dimensions[a].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Wh(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(s){var o=this.dimensions.map(function(a){return a.toTex(s)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return qa(r,"name",mI),r},{isClass:!0,isNode:!0});function Gc(n){return n&&n.isIndexError?new ed(n.index+1,n.min+1,void 0!==n.max?n.max+1:void 0):n}function ote(n){var{subset:e}=n;return function(r,i){try{if(Array.isArray(r))return e(r,i);if(r&&"function"==typeof r.subset)return r.subset(i);if("string"==typeof r)return e(r,i);if("object"==typeof r){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return zc(r,i.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw Gc(s)}}}var vI="AccessorNode",vLe=ye(vI,["subset","Node"],n=>{var{subset:e,Node:t}=n,r=ote({subset:e});function i(o){return!(B0(o)||qh(o)||Di(o)||fm(o)||ZN(o)||_p(o)||fl(o))}class s extends t{constructor(a,l){if(super(),!Ts(a))throw new TypeError('Node expected for parameter "object"');if(!ab(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=a,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return vI}get isAccessorNode(){return!0}_compile(a,l){var c=this.object._compile(a,l),u=this.index._compile(a,l);if(this.index.isObjectProperty()){var h=this.index.getObjectProperty();return function(f,A,p){return zc(c(f,A,p),h)}}return function(f,A,p){var m=c(f,A,p),g=u(f,A,m);return r(m,g)}}forEach(a){a(this.object,"object",this),a(this.index,"index",this)}map(a){return new s(this._ifNode(a(this.object,"object",this)),this._ifNode(a(this.index,"index",this)))}clone(){return new s(this.object,this.index)}_toString(a){var l=this.object.toString(a);return i(this.object)&&(l="("+l+")"),l+this.index.toString(a)}_toHTML(a){var l=this.object.toHTML(a);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(a)}_toTex(a){var l=this.object.toTex(a);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(a)}toJSON(){return{mathjs:vI,object:this.object,index:this.index}}static fromJSON(a){return new s(a.object,a.index)}}return qa(s,"name",vI),s},{isClass:!0,isNode:!0}),yI="AssignmentNode",bLe=ye(yI,["subset","?matrix","Node"],n=>{var{subset:e,matrix:t,Node:r}=n,i=ote({subset:e}),s=function yLe(n){var{subset:e,matrix:t}=n;return function(i,s,o){try{if(Array.isArray(i))return t(i).subset(s,o).valueOf().forEach((l,c)=>{i[c]=l}),i;if(i&&"function"==typeof i.subset)return i.subset(s,o);if("string"==typeof i)return e(i,s,o);if("object"==typeof i){if(!s.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return ib(i,s.getObjectProperty(),o),i}throw new TypeError("Cannot apply index: unsupported type of object")}catch(l){throw Gc(l)}}}({subset:e,matrix:t});function o(l,c,u){c||(c="keep");var h=Ps(l,c,u),d=Ps(l.value,c,u);return"all"===c||null!==d&&d<=h}class a extends r{constructor(c,u,h){if(super(),this.object=c,this.index=h?u:null,this.value=h||u,!fl(c)&&!B0(c))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(fl(c)&&"end"===c.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!ab(this.index))throw new TypeError('IndexNode expected as "index"');if(!Ts(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return yI}get isAssignmentNode(){return!0}_compile(c,u){var h=this.object._compile(c,u),d=this.index?this.index._compile(c,u):null,f=this.value._compile(c,u),A=this.object.name;if(this.index){if(this.index.isObjectProperty()){var p=this.index.getObjectProperty();return function(_,C,b){var M=h(_,C,b),D=f(_,C,b);return ib(M,p,D),D}}if(fl(this.object))return function(_,C,b){var M=h(_,C,b),D=f(_,C,b),E=d(_,C,M);return _.set(A,s(M,E,D)),D};var m=this.object.object._compile(c,u);if(this.object.index.isObjectProperty()){var g=this.object.index.getObjectProperty();return function(_,C,b){var M=m(_,C,b),D=zc(M,g),E=d(_,C,D),T=f(_,C,b);return ib(M,g,s(D,E,T)),T}}var y=this.object.index._compile(c,u);return function(_,C,b){var M=m(_,C,b),D=y(_,C,M),E=i(M,D),T=d(_,C,E),B=f(_,C,b);return s(M,D,s(E,T,B)),B}}if(!fl(this.object))throw new TypeError("SymbolNode expected as object");return function(_,C,b){var M=f(_,C,b);return _.set(A,M),M}}forEach(c){c(this.object,"object",this),this.index&&c(this.index,"index",this),c(this.value,"value",this)}map(c){var u=this._ifNode(c(this.object,"object",this)),h=this.index?this._ifNode(c(this.index,"index",this)):null,d=this._ifNode(c(this.value,"value",this));return new a(u,h,d)}clone(){return new a(this.object,this.index,this.value)}_toString(c){var u=this.object.toString(c),h=this.index?this.index.toString(c):"",d=this.value.toString(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(d="("+d+")"),u+h+" = "+d}toJSON(){return{mathjs:yI,object:this.object,index:this.index,value:this.value}}static fromJSON(c){return new a(c.object,c.index,c.value)}_toHTML(c){var u=this.object.toHTML(c),h=this.index?this.index.toHTML(c):"",d=this.value.toHTML(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(d='<span class="math-paranthesis math-round-parenthesis">(</span>'+d+'<span class="math-paranthesis math-round-parenthesis">)</span>'),u+h+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+d}_toTex(c){var u=this.object.toTex(c),h=this.index?this.index.toTex(c):"",d=this.value.toTex(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(d="\\left(".concat(d,"\\right)")),u+h+"="+d}}return qa(a,"name",yI),a},{isClass:!0,isNode:!0}),xLe=ye("SymbolNode",["math","?Unit","Node"],n=>{var{math:e,Unit:t,Node:r}=n;function i(o){return!!t&&t.isValuelessUnit(o)}class s extends r{constructor(a){if(super(),"string"!=typeof a)throw new TypeError('String expected for parameter "name"');this.name=a}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(a,l){var c=this.name;if(!0===l[c])return function(h,d,f){return zc(d,c)};if(c in a)return function(h,d,f){return h.has(c)?h.get(c):zc(a,c)};var u=i(c);return function(h,d,f){return h.has(c)?h.get(c):u?new t(null,c):s.onUndefinedSymbol(c)}}forEach(a){}map(a){return this.clone()}static onUndefinedSymbol(a){throw new Error("Undefined symbol "+a)}clone(){return new s(this.name)}_toString(a){return this.name}_toHTML(a){var l=Wh(this.name);return"true"===l||"false"===l?'<span class="math-symbol math-boolean">'+l+"</span>":"i"===l?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":"Infinity"===l?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":"NaN"===l?'<span class="math-symbol math-nan-symbol">'+l+"</span>":"null"===l?'<span class="math-symbol math-null-symbol">'+l+"</span>":"undefined"===l?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(a){return new s(a.name)}_toTex(a){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var c=ite(this.name,l);return"\\"===c[0]?c:" "+c}}return s},{isClass:!0,isNode:!0}),_I="FunctionNode",SLe=ye(_I,["math","Node","SymbolNode"],n=>{var e,{math:t,Node:r,SymbolNode:i}=n,s=l=>ri(l,{truncate:78});function o(l,c,u){for(var A,h="",d=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,f=0;null!==(A=d.exec(l));)if(h+=l.substring(f,A.index),f=A.index,"$$"===A[0])h+="$",f++;else{f+=A[0].length;var p=c[A[1]];if(!p)throw new ReferenceError("Template: Property "+A[1]+" does not exist.");if(void 0===A[2])switch(typeof p){case"string":h+=p;break;case"object":if(Ts(p))h+=p.toTex(u);else{if(!Array.isArray(p))throw new TypeError("Template: "+A[1]+" has to be a Node, String or array of Nodes");h+=p.map(function(m,g){if(Ts(m))return m.toTex(u);throw new TypeError("Template: "+A[1]+"["+g+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+A[1]+" has to be a Node, String or array of Nodes")}else{if(!Ts(p[A[2]]&&p[A[2]]))throw new TypeError("Template: "+A[1]+"["+A[2]+"] is not a Node.");h+=p[A[2]].toTex(u)}}return h+l.slice(f)}class a extends r{constructor(c,u){if(super(),"string"==typeof c&&(c=new i(c)),!Ts(c))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(u)||!u.every(Ts))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=c,this.args=u||[]}get name(){return this.fn.name||""}get type(){return _I}get isFunctionNode(){return!0}_compile(c,u){var h=this.args.map(D=>D._compile(c,u));if(!fl(this.fn)){if(B0(this.fn)&&ab(this.fn.index)&&this.fn.index.isObjectProperty()){var y=this.fn.object._compile(c,u),v=this.fn.index.getObjectProperty(),_=this.args;return function(E,T,B){var R=y(E,T,B),U=function QPe(n,e){if(!_H(n,e))throw new Error('No access to method "'+e+'"');return n[e]}(R,v);if(null!=U&&U.rawArgs)return U(_,c,WE(E,T));var k=h.map(q=>q(E,T,B));return U.apply(R,k)}}var C=this.fn.toString(),b=this.fn._compile(c,u),M=this.args;return function(E,T,B){var R=b(E,T,B);if("function"!=typeof R)throw new TypeError("Expression '".concat(C,"' did not evaluate to a function; value is:")+"\n  ".concat(s(R)));if(R.rawArgs)return R(M,c,WE(E,T));var U=h.map(k=>k(E,T,B));return R.apply(R,U)}}var d=this.fn.name;if(u[d]){var g=this.args;return function(E,T,B){var R=zc(T,d);if("function"!=typeof R)throw new TypeError("Argument '".concat(d,"' was not a function; received: ").concat(s(R)));if(R.rawArgs)return R(g,c,WE(E,T));var U=h.map(k=>k(E,T,B));return R.apply(R,U)}}var f=d in c?zc(c,d):void 0,p=D=>{var E;if(D.has(d))E=D.get(d);else{if(!(d in c))return a.onUndefinedFunction(d);E=zc(c,d)}if("function"==typeof E)return E;throw new TypeError("'".concat(d,"' is not a function; its value is:\n  ").concat(s(E)))};if("function"==typeof f&&!0===f.rawArgs){var m=this.args;return function(E,T,B){var R=p(E);return!0===R.rawArgs?R(m,c,WE(E,T)):R(...h.map(k=>k(E,T,B)))}}switch(h.length){case 0:return function(E,T,B){return p(E)()};case 1:return function(E,T,B){return p(E)((0,h[0])(E,T,B))};case 2:return function(E,T,B){var R=p(E),k=h[1];return R((0,h[0])(E,T,B),k(E,T,B))};default:return function(E,T,B){return p(E)(...h.map(k=>k(E,T,B)))}}}forEach(c){c(this.fn,"fn",this);for(var u=0;u<this.args.length;u++)c(this.args[u],"args["+u+"]",this)}map(c){for(var u=this._ifNode(c(this.fn,"fn",this)),h=[],d=0;d<this.args.length;d++)h[d]=this._ifNode(c(this.args[d],"args["+d+"]",this));return new a(u,h)}clone(){return new a(this.fn,this.args.slice(0))}toString(c){var u,h=this.fn.toString(c);return c&&"object"==typeof c.handler&&Hn(c.handler,h)&&(u=c.handler[h](this,c)),typeof u<"u"?u:super.toString(c)}_toString(c){var u=this.args.map(function(d){return d.toString(c)});return(GE(this.fn)?"("+this.fn.toString(c)+")":this.fn.toString(c))+"("+u.join(", ")+")"}toJSON(){return{mathjs:_I,fn:this.fn,args:this.args}}_toHTML(c){var u=this.args.map(function(h){return h.toHTML(c)});return'<span class="math-function">'+Wh(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(c){var u;return c&&"object"==typeof c.handler&&Hn(c.handler,this.name)&&(u=c.handler[this.name](this,c)),typeof u<"u"?u:super.toTex(c)}_toTex(c){var h,d,u=this.args.map(function(f){return f.toTex(c)});switch(nte[this.name]&&(h=nte[this.name]),t[this.name]&&("function"==typeof t[this.name].toTex||"object"==typeof t[this.name].toTex||"string"==typeof t[this.name].toTex)&&(h=t[this.name].toTex),typeof h){case"function":d=h(this,c);break;case"string":d=o(h,this,c);break;case"object":switch(typeof h[u.length]){case"function":d=h[u.length](this,c);break;case"string":d=o(h[u.length],this,c)}}return typeof d<"u"?d:o("\\mathrm{${name}}\\left(${args}\\right)",this,c)}getIdentifier(){return this.type+":"+this.name}}return e=a,qa(a,"name",_I),qa(a,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),qa(a,"fromJSON",function(l){return new e(l.fn,l.args)}),a},{isClass:!0,isNode:!0});function ate(n){var r,i,e=n.length,t=n[0].length,s=[];for(i=0;i<t;i++){var o=[];for(r=0;r<e;r++)o.push(n[r][i]);s.push(o)}return s}function db(n){for(var e=0;e<n.length;e++)if(jh(n[e]))return!0;return!1}function bp(n,e){ur(n)&&(n=n.valueOf());for(var t=0,r=n.length;t<r;t++){var i=n[t];Array.isArray(i)?bp(i,e):e(i)}}function Rr(n,e,t){return n&&"function"==typeof n.map?n.map(function(r){return Rr(r,e,t)}):e(n)}function bI(n,e,t){var r=Array.isArray(n)?Er(n):n.size();if(e<0||e>=r.length)throw new ed(e,r.length);return ur(n)?n.create(wI(n.valueOf(),e,t),n.datatype()):wI(n,e,t)}function wI(n,e,t){var r,i,s,o;if(e<=0){if(Array.isArray(n[0])){for(o=ate(n),i=[],r=0;r<o.length;r++)i[r]=wI(o[r],e-1,t);return i}for(s=n[0],r=1;r<n.length;r++)s=t(s,n[r]);return s}for(i=[],r=0;r<n.length;r++)i[r]=wI(n[r],e-1,t);return i}function lte(n,e,t,r,i,s,o,a,l,c,u){var A,m,g,h=n._values,d=n._index,f=n._ptr;if(r)for(m=f[e+1],A=f[e];A<m;A++)t[g=d[A]]!==s?(t[g]=s,o.push(g),c?(r[g]=l?a(h[A],u):a(u,h[A]),i[g]=s):r[g]=h[A]):(r[g]=l?a(h[A],r[g]):a(r[g],h[A]),i[g]=s);else for(m=f[e+1],A=f[e];A<m;A++)t[g=d[A]]!==s?(t[g]=s,o.push(g)):i[g]=s}var MLe=ye("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],n=>{var{typed:e,numeric:t,config:r,AccessorNode:i,ArrayNode:s,AssignmentNode:o,BlockNode:a,ConditionalNode:l,ConstantNode:c,FunctionAssignmentNode:u,FunctionNode:h,IndexNode:d,ObjectNode:f,OperatorNode:A,ParenthesisNode:p,RangeNode:m,RelationalNode:g,SymbolNode:y}=n,v=e("parse",{string:function(Fe){return ve(Fe,{})},"Array | Matrix":function(Fe){return _(Fe,{})},"string, Object":function(Fe,Ke){return ve(Fe,void 0!==Ke.nodes?Ke.nodes:{})},"Array | Matrix, Object":_});function _($){var Fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ke=void 0!==Fe.nodes?Fe.nodes:{};return Rr($,function(Ne){if("string"!=typeof Ne)throw new TypeError("String expected");return ve(Ne,Ke)})}var C={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},M={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},D={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"],T={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function R($,Fe){return $.expression.substr($.index,Fe)}function U($){return R($,1)}function k($){$.index++}function q($){return $.expression.charAt($.index-1)}function O($){return $.expression.charAt($.index+1)}function P($){for($.tokenType=C.NULL,$.token="",$.comment="";;){if("#"===U($))for(;"\n"!==U($)&&""!==U($);)$.comment+=U($),k($);if(!v.isWhitespace(U($),$.nestingLevel))break;k($)}if(""!==U($)){if("\n"===U($)&&!$.nestingLevel)return $.tokenType=C.DELIMITER,$.token=U($),void k($);var Fe=U($),Ke=R($,2),Ne=R($,3);if(3===Ne.length&&b[Ne])return $.tokenType=C.DELIMITER,$.token=Ne,k($),k($),void k($);if(2===Ke.length&&b[Ke])return $.tokenType=C.DELIMITER,$.token=Ke,k($),void k($);if(b[Fe])return $.tokenType=C.DELIMITER,$.token=Fe,void k($);if(v.isDigitDot(Fe)){$.tokenType=C.NUMBER;var _t=R($,2);if("0b"===_t||"0o"===_t||"0x"===_t){for($.token+=U($),k($),$.token+=U($),k($);v.isHexDigit(U($));)$.token+=U($),k($);if("."===U($))for($.token+=".",k($);v.isHexDigit(U($));)$.token+=U($),k($);else if("i"===U($))for($.token+="i",k($);v.isDigit(U($));)$.token+=U($),k($);return}if("."===U($)){if($.token+=U($),k($),!v.isDigit(U($)))return void($.tokenType=C.DELIMITER)}else{for(;v.isDigit(U($));)$.token+=U($),k($);v.isDecimalMark(U($),O($))&&($.token+=U($),k($))}for(;v.isDigit(U($));)$.token+=U($),k($);if("E"===U($)||"e"===U($))if(v.isDigit(O($))||"-"===O($)||"+"===O($)){if($.token+=U($),k($),("+"===U($)||"-"===U($))&&($.token+=U($),k($)),!v.isDigit(U($)))throw _n($,'Digit expected, got "'+U($)+'"');for(;v.isDigit(U($));)$.token+=U($),k($);if(v.isDecimalMark(U($),O($)))throw _n($,'Digit expected, got "'+U($)+'"')}else if("."===O($))throw k($),_n($,'Digit expected, got "'+U($)+'"')}else{if(!v.isAlpha(U($),q($),O($))){for($.tokenType=C.UNKNOWN;""!==U($);)$.token+=U($),k($);throw _n($,'Syntax error in part "'+$.token+'"')}for(;v.isAlpha(U($),q($),O($))||v.isDigit(U($));)$.token+=U($),k($);$.tokenType=Hn(M,$.token)?C.DELIMITER:C.SYMBOL}}else $.tokenType=C.DELIMITER}function G($){do{P($)}while("\n"===$.token)}function H($){$.nestingLevel++}function ae($){$.nestingLevel--}function ve($,Fe){var Ke=function B(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:C.NULL,nestingLevel:0,conditionalLevel:null}}();ja(Ke,{expression:$,extraNodes:Fe}),P(Ke);var Ne=function Q($){var Fe,Ke=[];for(""!==$.token&&"\n"!==$.token&&";"!==$.token&&(Fe=j($),$.comment&&(Fe.comment=$.comment));"\n"===$.token||";"===$.token;)0===Ke.length&&Fe&&Ke.push({node:Fe,visible:";"!==$.token}),P($),"\n"!==$.token&&";"!==$.token&&""!==$.token&&(Fe=j($),$.comment&&(Fe.comment=$.comment),Ke.push({node:Fe,visible:";"!==$.token}));return Ke.length>0?new a(Ke):(Fe||(Fe=new c(void 0),$.comment&&(Fe.comment=$.comment)),Fe)}(Ke);if(""!==Ke.token)throw Ke.tokenType===C.DELIMITER?tn(Ke,"Unexpected operator "+Ke.token):_n(Ke,'Unexpected part "'+Ke.token+'"');return Ne}function j($){var Fe,Ke,Ne,_t,nt=function K($){for(var Fe=function oe($){for(var Fe=se($);"or"===$.token;)G($),Fe=new A("or","or",[Fe,se($)]);return Fe}($);"?"===$.token;){var Ke=$.conditionalLevel;$.conditionalLevel=$.nestingLevel,G($);var Ne=Fe,_t=j($);if(":"!==$.token)throw _n($,"False part of conditional expression expected");$.conditionalLevel=null,G($);var nt=j($);Fe=new l(Ne,_t,nt),$.conditionalLevel=Ke}return Fe}($);if("="===$.token){if(fl(nt))return Fe=nt.name,G($),Ne=j($),new o(new y(Fe),Ne);if(B0(nt))return G($),Ne=j($),new o(nt.object,nt.index,Ne);if(fm(nt)&&fl(nt.fn)&&(_t=!0,Ke=[],Fe=nt.name,nt.args.forEach(function(Dt,an){fl(Dt)?Ke[an]=Dt.name:_t=!1}),_t))return G($),Ne=j($),new u(Fe,Ke,Ne);throw _n($,"Invalid left hand side of assignment operator =")}return nt}function se($){for(var Fe=le($);"xor"===$.token;)G($),Fe=new A("xor","xor",[Fe,le($)]);return Fe}function le($){for(var Fe=te($);"and"===$.token;)G($),Fe=new A("and","and",[Fe,te($)]);return Fe}function te($){for(var Fe=ee($);"|"===$.token;)G($),Fe=new A("|","bitOr",[Fe,ee($)]);return Fe}function ee($){for(var Fe=Ae($);"^|"===$.token;)G($),Fe=new A("^|","bitXor",[Fe,Ae($)]);return Fe}function Ae($){for(var Fe=xe($);"&"===$.token;)G($),Fe=new A("&","bitAnd",[Fe,xe($)]);return Fe}function xe($){for(var Fe=[ge($)],Ke=[],Ne={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Hn(Ne,$.token);)Ke.push({name:$.token,fn:Ne[$.token]}),G($),Fe.push(ge($));return 1===Fe.length?Fe[0]:2===Fe.length?new A(Ke[0].name,Ke[0].fn,Fe):new g(Ke.map(nt=>nt.fn),Fe)}function ge($){var Fe,Ke,Ne,_t;Fe=Ee($);for(var nt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Hn(nt,$.token);)Ne=nt[Ke=$.token],G($),_t=[Fe,Ee($)],Fe=new A(Ke,Ne,_t);return Fe}function Ee($){var Fe,Ke,Ne,_t;Fe=ne($);for(var nt={to:"to",in:"to"};Hn(nt,$.token);)Ne=nt[Ke=$.token],G($),"in"===Ke&&""===$.token?Fe=new A("*","multiply",[Fe,new y("in")],!0):(_t=[Fe,ne($)],Fe=new A(Ke,Ne,_t));return Fe}function ne($){var Fe,Ke=[];if(Fe=":"===$.token?new c(1):Y($),":"===$.token&&$.conditionalLevel!==$.nestingLevel){for(Ke.push(Fe);":"===$.token&&Ke.length<3;)G($),Ke.push(")"===$.token||"]"===$.token||","===$.token||""===$.token?new y("end"):Y($));Fe=3===Ke.length?new m(Ke[0],Ke[2],Ke[1]):new m(Ke[0],Ke[1])}return Fe}function Y($){var Fe,Ke,Ne,_t;Fe=W($);for(var nt={"+":"add","-":"subtract"};Hn(nt,$.token);){Ne=nt[Ke=$.token],G($);var Dt=W($);_t=Dt.isPercentage?[Fe,new A("*","multiply",[Fe,Dt])]:[Fe,Dt],Fe=new A(Ke,Ne,_t)}return Fe}function W($){var Fe,Ke,Ne,_t;Ke=Fe=Be($);for(var nt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Hn(nt,$.token);)if(_t=nt[Ne=$.token],G($),"%"===Ne&&$.tokenType===C.DELIMITER&&"("!==$.token)if(""!==$.token&&nt[$.token]){var Dt=new A("/","divide",[Fe,new c(100)],!1,!0);_t=nt[Ne=$.token],G($),Ke=Be($),Fe=new A(Ne,_t,[Dt,Ke])}else Fe=new A("/","divide",[Fe,new c(100)],!1,!0);else Ke=Be($),Fe=new A(Ne,_t,[Fe,Ke]);return Fe}function Be($){var Fe,Ke;for(Ke=Fe=Ce($);$.tokenType===C.SYMBOL||"in"===$.token&&Di(Fe)||"in"===$.token&&fa(Fe)&&"unaryMinus"===Fe.fn&&Di(Fe.args[0])||$.tokenType===C.NUMBER&&!Di(Ke)&&(!fa(Ke)||"!"===Ke.op)||"("===$.token;)Ke=Ce($),Fe=new A("*","multiply",[Fe,Ke],!0);return Fe}function Ce($){for(var Fe=Pe($),Ke=Fe,Ne=[];"/"===$.token&&wH(Ke);){if(Ne.push(ja({},$)),G($),$.tokenType!==C.NUMBER){ja($,Ne.pop());break}if(Ne.push(ja({},$)),G($),$.tokenType!==C.SYMBOL&&"("!==$.token&&"in"!==$.token){Ne.pop(),ja($,Ne.pop());break}ja($,Ne.pop()),Ne.pop(),Ke=Pe($),Fe=new A("/","divide",[Fe,Ke])}return Fe}function Pe($){var Fe,Ke,Ne,_t={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Hn(_t,$.token)?(Ne=_t[$.token],Fe=$.token,G($),Ke=[Pe($)],new A(Fe,Ne,Ke)):function Oe($){var Fe,Ke,Ne,_t;return Fe=function re($){var Fe,Ke,Ne;Fe=function J($){var Fe=[];if($.tokenType===C.SYMBOL&&Hn($.extraNodes,$.token)){var Ke=$.extraNodes[$.token];if(P($),"("===$.token){if(Fe=[],H($),P($),")"!==$.token)for(Fe.push(j($));","===$.token;)P($),Fe.push(j($));if(")"!==$.token)throw _n($,"Parenthesis ) expected");ae($),P($)}return new Ke(Fe)}return function Ue($){var Ke;return $.tokenType===C.SYMBOL||$.tokenType===C.DELIMITER&&$.token in M?(Ke=$.token,P($),Qe($,Hn(D,Ke)?new c(D[Ke]):E.includes(Ke)?new c(t(Ke,"number")):new y(Ke))):function rt($){var Ke;return'"'===$.token||"'"===$.token?(Ke=Xe($,$.token),Qe($,new c(Ke))):function Pt($){var Fe,Ke,Ne,_t;if("["===$.token){if(H($),P($),"]"!==$.token){var nt=Ft($);if(";"===$.token){for(Ne=1,Ke=[nt];";"===$.token;)P($),"]"!==$.token&&(Ke[Ne]=Ft($),Ne++);if("]"!==$.token)throw _n($,"End of matrix ] expected");ae($),P($),_t=Ke[0].items.length;for(var Dt=1;Dt<Ne;Dt++)if(Ke[Dt].items.length!==_t)throw tn($,"Column dimensions mismatch ("+Ke[Dt].items.length+" !== "+_t+")");Fe=new s(Ke)}else{if("]"!==$.token)throw _n($,"End of matrix ] expected");ae($),P($),Fe=nt}}else ae($),P($),Fe=new s([]);return Qe($,Fe)}return function Tt($){if("{"===$.token){H($);var Fe,Ke={};do{if(P($),"}"!==$.token){if('"'===$.token||"'"===$.token)Fe=Xe($,$.token);else{if(!($.tokenType===C.SYMBOL||$.tokenType===C.DELIMITER&&$.token in M))throw _n($,"Symbol or string expected as object key");Fe=$.token,P($)}if(":"!==$.token)throw _n($,"Colon : expected after object key");P($),Ke[Fe]=j($)}}while(","===$.token);if("}"!==$.token)throw _n($,"Comma , or bracket } expected after object value");ae($),P($);var Ne=new f(Ke);return Qe($,Ne)}return function yn($){var Fe;if($.tokenType===C.NUMBER){Fe=$.token,P($);var Ke=dm(Fe,r),Ne=t(Fe,Ke);return new c(Ne)}return function st($){var Fe;if("("===$.token){if(H($),P($),Fe=j($),")"!==$.token)throw _n($,"Parenthesis ) expected");return ae($),P($),Qe($,Fe=new p(Fe))}return function vn($){throw _n($,""===$.token?"Unexpected end of expression":"Value expected")}($)}($)}($)}($)}($)}($)}($)}($);for(var nt={"!":"factorial","'":"ctranspose"};Hn(nt,$.token);)Ne=nt[Ke=$.token],P($),Fe=Qe($,Fe=new A(Ke,Ne,[Fe]));return Fe}($),("^"===$.token||".^"===$.token)&&(Ne="^"===(Ke=$.token)?"pow":"dotPow",G($),_t=[Fe,Pe($)],Fe=new A(Ke,Ne,_t)),Fe}($)}function Qe($,Fe,Ke){for(var Ne;("("===$.token||"["===$.token||"."===$.token)&&(!Ke||Ke.includes($.token));)if(Ne=[],"("===$.token){if(!fl(Fe)&&!B0(Fe))return Fe;if(H($),P($),")"!==$.token)for(Ne.push(j($));","===$.token;)P($),Ne.push(j($));if(")"!==$.token)throw _n($,"Parenthesis ) expected");ae($),P($),Fe=new h(Fe,Ne)}else if("["===$.token){if(H($),P($),"]"!==$.token)for(Ne.push(j($));","===$.token;)P($),Ne.push(j($));if("]"!==$.token)throw _n($,"Parenthesis ] expected");ae($),P($),Fe=new i(Fe,new d(Ne))}else{if(P($),!($.tokenType===C.SYMBOL||$.tokenType===C.DELIMITER&&$.token in M))throw _n($,"Property name expected after dot");Ne.push(new c($.token)),P($),Fe=new i(Fe,new d(Ne,!0))}return Fe}function Xe($,Fe){for(var Ke="";""!==U($)&&U($)!==Fe;)if("\\"===U($)){k($);var Ne=U($),_t=T[Ne];if(void 0!==_t)Ke+=_t,$.index+=1;else{if("u"!==Ne)throw _n($,"Bad escape character \\".concat(Ne));var nt=$.expression.slice($.index+1,$.index+5);if(!/^[0-9A-Fa-f]{4}$/.test(nt))throw _n($,"Invalid unicode character \\u".concat(nt));Ke+=String.fromCharCode(parseInt(nt,16)),$.index+=5}}else Ke+=U($),k($);if(P($),$.token!==Fe)throw _n($,"End of string ".concat(Fe," expected"));return P($),Ke}function Ft($){for(var Fe=[j($)],Ke=1;","===$.token;)P($),"]"!==$.token&&";"!==$.token&&(Fe[Ke]=j($),Ke++);return new s(Fe)}function pn($){return $.index-$.token.length+1}function _n($,Fe){var Ke=pn($),Ne=new SyntaxError(Fe+" (char "+Ke+")");return Ne.char=Ke,Ne}function tn($,Fe){var Ke=pn($),Ne=new SyntaxError(Fe+" (char "+Ke+")");return Ne.char=Ke,Ne}return v.isAlpha=function(Fe,Ke,Ne){return v.isValidLatinOrGreek(Fe)||v.isValidMathSymbol(Fe,Ne)||v.isValidMathSymbol(Ke,Fe)},v.isValidLatinOrGreek=function(Fe){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(Fe)},v.isValidMathSymbol=function(Fe,Ke){return/^[\uD835]$/.test(Fe)&&/^[\uDC00-\uDFFF]$/.test(Ke)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ke)},v.isWhitespace=function(Fe,Ke){return" "===Fe||"\t"===Fe||"\n"===Fe&&Ke>0},v.isDecimalMark=function(Fe,Ke){return"."===Fe&&"/"!==Ke&&"*"!==Ke&&"^"!==Ke},v.isDigitDot=function(Fe){return Fe>="0"&&Fe<="9"||"."===Fe},v.isDigit=function(Fe){return Fe>="0"&&Fe<="9"},v.isHexDigit=function(Fe){return Fe>="0"&&Fe<="9"||Fe>="a"&&Fe<="f"||Fe>="A"&&Fe<="F"},e.addConversion({from:"string",to:"Node",convert:v}),v}),NLe=ye("resolve",["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],n=>{var{typed:e,parse:t,ConstantNode:r,FunctionNode:i,OperatorNode:s,ParenthesisNode:o}=n;function a(l,c){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!c)return l;if(fl(l)){if(u.has(l.name)){var h=Array.from(u).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(h,"}"))}var d=c.get(l.name);if(Ts(d)){var f=new Set(u);return f.add(l.name),a(d,c,f)}return"number"==typeof d?t(String(d)):void 0!==d?new r(d):l}if(fa(l)){var A=l.args.map(function(m){return a(m,c,u)});return new s(l.op,l.fn,A,l.implicit)}if(_p(l))return new o(a(l.content,c,u));if(fm(l)){var p=l.args.map(function(m){return a(m,c,u)});return new i(l.name,p)}return l.map(m=>a(m,c,u))}return e("resolve",{Node:a,"Node, Map | null | undefined":a,"Node, Object":(l,c)=>a(l,sb(c)),"Array | Matrix":e.referToSelf(l=>c=>c.map(u=>l(u))),"Array | Matrix, null | undefined":e.referToSelf(l=>c=>c.map(u=>l(u))),"Array, Object":e.referTo("Array,Map",l=>(c,u)=>l(c,sb(u))),"Matrix, Object":e.referTo("Matrix,Map",l=>(c,u)=>l(c,sb(u))),"Array | Matrix, Map":e.referToSelf(l=>(c,u)=>c.map(h=>l(h,u)))})});function ute(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function OH(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ute(Object(t),!0).forEach(function(r){qa(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ute(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var PH=ye("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],n=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:r}=n,i=!0,s=!1,o="defaultF",a={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:s,total:i,commutative:s,associative:s},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:s,total:i,commutative:s,associative:s},paren:{trivial:i,total:i,commutative:i,associative:s},defaultF:{trivial:s,total:i,commutative:s,associative:s}};function u(v,_){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,b=o;if("string"==typeof v?b=v:fa(v)?b=v.fn.toString():fm(v)?b=v.name:_p(v)&&(b="paren"),Hn(C,b)){var M=C[b];if(Hn(M,_))return M[_];if(Hn(a,b))return a[b][_]}if(Hn(C,o)){var D=C[o];return Hn(D,_)?D[_]:a[o][_]}if(Hn(a,b)){var E=a[b];if(Hn(E,_))return E[_]}return a[o][_]}function d(v){return u(v,"associative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:a)}function p(v,_){var C,b=[],M=function(E){for(var T=0;T<E.args.length;T++){var B=E.args[T];fa(B)&&C===B.op?M(B):b.push(B)}};return d(v,_)?(C=v.op,M(v),b):v.args}function y(v){return fa(v)?function(_){try{return new t(v.op,v.fn,_,v.implicit)}catch(C){return console.error(C),[]}}:function(_){return new e(new r(v.name),_)}}return{createMakeNodeFunction:y,hasProperty:u,isCommutative:function h(v){return u(v,"commutative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:a)},isAssociative:d,mergeContext:function f(v,_){var C=OH({},v);for(var b in _)C[b]=Hn(v,b)?OH(OH({},_[b]),v[b]):_[b];return C},flatten:function A(v,_){if(!v.args||0===v.args.length)return v;v.args=p(v,_);for(var C=0;C<v.args.length;C++)A(v.args[C],_)},allChildren:p,unflattenr:function m(v,_){if(v.args&&0!==v.args.length){for(var C=y(v),b=v.args.length,M=0;M<b;M++)m(v.args[M],_);if(b>2&&d(v,_)){for(var D=v.args.pop();v.args.length>0;)D=C([v.args.pop(),D]);v.args=D.args}}},unflattenl:function g(v,_){if(v.args&&0!==v.args.length){for(var C=y(v),b=v.args.length,M=0;M<b;M++)g(v.args[M],_);if(b>2&&d(v,_)){for(var D=v.args.shift();v.args.length>0;)D=C([D,v.args.shift()]);v.args=D.args}}},defaultContext:a,realContext:{divide:{total:s},log:{total:s}},positiveContext:{subtract:{total:s},abs:{trivial:i},log:{total:i}}}});function LH(){throw new Error('No "bignumber" implementation available')}function hte(){throw new Error('No "fraction" implementation available')}function fte(){throw new Error('No "matrix" implementation available')}var PLe=ye("simplifyConstant",["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],n=>{var{typed:e,config:t,mathWithTransform:r,matrix:i,fraction:s,bignumber:o,AccessorNode:a,ArrayNode:l,ConstantNode:c,FunctionNode:u,IndexNode:h,ObjectNode:d,OperatorNode:f,SymbolNode:A}=n,{isCommutative:p,isAssociative:m,allChildren:g,createMakeNodeFunction:y}=PH({FunctionNode:u,OperatorNode:f,SymbolNode:A}),v=e("simplifyConstant",{Node:q=>M(k(q,{})),"Node, Object":function(O,P){return M(k(O,P))}});function _(q){return QE(q)?q.valueOf():q instanceof Array?q.map(_):ur(q)?i(_(q.valueOf())):q}function C(q,O,P){try{return r[q].apply(null,O)}catch{return O=O.map(_),E(r[q].apply(null,O),P)}}var b=e({Fraction:function B(q){var O=H=>"BigNumber"===t.number&&o?o(H):Number(H),P=q.s*q.n,G=P<0n?new f("-","unaryMinus",[new c(-O(P))]):new c(O(P));return 1n===q.d?G:new f("/","divide",[G,new c(O(q.d))])},number:function(O){return O<0?T(new c(-O)):new c(O)},BigNumber:function(O){return O<0?T(new c(-O)):new c(O)},bigint:function(O){return O<0n?T(new c(-O)):new c(O)},Complex:function(O){throw new Error("Cannot convert Complex number to Node")},string:function(O){return new c(O)},Matrix:function(O){return new l(O.valueOf().map(P=>b(P)))}});function M(q){return Ts(q)?q:b(q)}function D(q,O){if(O&&!1!==O.exactFractions&&isFinite(q)&&s){var G=s(q),H=O&&"number"==typeof O.fractionsLimit?O.fractionsLimit:1/0;if(G.valueOf()===q&&G.n<H&&G.d<H)return G}return q}var E=e({"string, Object":function(O,P){var G=dm(O,t);return"BigNumber"===G?(void 0===o&&LH(),o(O)):"bigint"===G?BigInt(O):"Fraction"===G?(void 0===s&&hte(),s(O)):D(parseFloat(O),P)},"Fraction, Object":function(O,P){return O},"BigNumber, Object":function(O,P){return O},"number, Object":function(O,P){return D(O,P)},"bigint, Object":function(O,P){return O},"Complex, Object":function(O,P){return 0!==O.im?O:D(O.re,P)},"Matrix, Object":function(O,P){return i(D(O.valueOf()))},"Array, Object":function(O,P){return O.map(D)}});function T(q){return new f("-","unaryMinus",[q])}function U(q,O,P,G){var H=O.shift(),ae=O.reduce((ve,Q)=>{if(!Ts(Q)){var j=ve.pop();if(Ts(j))return[j,Q];try{return ve.push(C(q,[j,Q],G)),ve}catch{ve.push(j)}}ve.push(M(ve.pop()));var K=1===ve.length?ve[0]:P(ve);return[P([K,M(Q)])]},[H]);return 1===ae.length?ae[0]:P([ae[0],b(ae[1])])}function k(q,O){switch(q.type){case"SymbolNode":return q;case"ConstantNode":switch(typeof q.value){case"number":case"bigint":return E(q.value,O);case"string":return q.value;default:if(!isNaN(q.value))return E(q.value,O)}return q;case"FunctionNode":if(r[q.name]&&r[q.name].rawArgs)return q;if(!["add","multiply"].includes(q.name)){var G=q.args.map(xe=>k(xe,O));if(!G.some(Ts))try{return C(q.name,G,O)}catch{}if("size"===q.name&&1===G.length&&qh(G[0])){for(var H=[],ae=G[0];qh(ae);)H.push(ae.items.length),ae=ae.items[0];return i(H)}return new u(q.name,G.map(M))}case"OperatorNode":var Q,j,ve=q.fn.toString(),K=y(q);if(fa(q)&&q.isUnary())j=Ts((Q=[k(q.args[0],O)])[0])?K(Q):C(ve,Q,O);else if(m(q,O.context))if(Q=(Q=g(q,O.context)).map(xe=>k(xe,O)),p(ve,O.context)){for(var oe=[],se=[],le=0;le<Q.length;le++)Ts(Q[le])?se.push(Q[le]):oe.push(Q[le]);oe.length>1?(j=U(ve,oe,K,O),se.unshift(j),j=U(ve,se,K,O)):j=U(ve,Q,K,O)}else j=U(ve,Q,K,O);else j=U(ve,Q=q.args.map(xe=>k(xe,O)),K,O);return j;case"ParenthesisNode":return k(q.content,O);case"AccessorNode":return function R(q,O,P){if(!ab(O))return new a(M(q),M(O));if(qh(q)||ur(q)){for(var G=Array.from(O.dimensions);G.length>0;)if(Di(G[0])&&"string"!=typeof G[0].value){var H=E(G.shift().value,P);qh(q)?q=q.items[H-1]:(q=q.valueOf()[H-1])instanceof Array&&(q=i(q))}else{if(!(G.length>1&&Di(G[1])&&"string"!=typeof G[1].value))break;var ae=E(G[1].value,P),ve=[],Q=qh(q)?q.items:q.valueOf();for(var j of Q)if(qh(j))ve.push(j.items[ae-1]);else{if(!ur(q))break;ve.push(j[ae-1])}if(ve.length!==Q.length)break;q=qh(q)?new l(ve):i(ve),G.splice(1,1)}return G.length===O.dimensions.length?new a(M(q),O):G.length>0?(O=new h(G),new a(M(q),O)):q}if(ZN(q)&&1===O.dimensions.length&&Di(O.dimensions[0])){var K=O.dimensions[0].value;return K in q.properties?q.properties[K]:new c}return new a(M(q),O)}(k(q.object,O),k(q.index,O),O);case"ArrayNode":var te=q.items.map(xe=>k(xe,O));return te.some(Ts)?new l(te.map(M)):i(te);case"IndexNode":return new h(q.dimensions.map(xe=>v(xe,O)));case"ObjectNode":var ee={};for(var Ae in q.properties)ee[Ae]=v(q.properties[Ae],O);return new d(ee);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(q.type))}}return v}),ULe=ye("compile",["typed","parse"],n=>{var{typed:e,parse:t}=n;return e("compile",{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return Rr(i,function(s){return t(s).compile()})}})}),Ate="simplifyCore",HLe=ye(Ate,["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:e,equal:r,isZero:i,AccessorNode:u,ArrayNode:h,ConstantNode:d,FunctionNode:f,IndexNode:A,ObjectNode:p,OperatorNode:m,SymbolNode:y}=n,v=new d(0),_=new d(1),C=new d(!0),b=new d(!1);function M(B){return fa(B)&&["and","not","or"].includes(B.op)}var{hasProperty:D,isCommutative:E}=PH({FunctionNode:f,OperatorNode:m,SymbolNode:y});function T(B){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=R?R.context:void 0;if(D(B,"trivial",U)){if(fm(B)&&1===B.args.length)return T(B.args[0],R);var k=!1,q=0;if(B.forEach(se=>{1==++q&&(k=T(se,R))}),1===q)return k}var O=B;if(fm(O)){var P=function H5e(n){var e="OperatorNode:"+n;for(var t of td)if(e in t)return t[e].op;return null}(O.name);if(!P)return new f(T(O.fn),O.args.map(se=>T(se,R)));if(O.args.length>2&&D(O,"associative",U))for(;O.args.length>2;){var G=O.args.pop(),H=O.args.pop();O.args.push(new m(P,O.name,[G,H]))}O=new m(P,O.name,O.args)}if(fa(O)&&O.isUnary()){var ae=T(O.args[0],R);if("~"===O.op&&fa(ae)&&ae.isUnary()&&"~"===ae.op||"not"===O.op&&fa(ae)&&ae.isUnary()&&"not"===ae.op&&M(ae.args[0]))return ae.args[0];var ve=!0;if("-"===O.op&&fa(ae)&&(ae.isBinary()&&"subtract"===ae.fn&&(O=new m("-","subtract",[ae.args[1],ae.args[0]]),ve=!1),ae.isUnary()&&"-"===ae.op))return ae.args[0];if(ve)return new m(O.op,O.fn,[ae])}if(fa(O)&&O.isBinary()){var Q=T(O.args[0],R),j=T(O.args[1],R);if("+"===O.op){if(Di(Q)&&i(Q.value))return j;if(Di(j)&&i(j.value))return Q;fa(j)&&j.isUnary()&&"-"===j.op&&(O=new m("-","subtract",[Q,j=j.args[0]]))}if("-"===O.op)return fa(j)&&j.isUnary()&&"-"===j.op?T(new m("+","add",[Q,j.args[0]]),R):Di(Q)&&i(Q.value)?T(new m("-","unaryMinus",[j])):Di(j)&&i(j.value)?Q:new m(O.op,O.fn,[Q,j]);if("*"===O.op){if(Di(Q)){if(i(Q.value))return v;if(r(Q.value,1))return j}if(Di(j)){if(i(j.value))return v;if(r(j.value,1))return Q;if(E(O,U))return new m(O.op,O.fn,[j,Q],O.implicit)}return new m(O.op,O.fn,[Q,j],O.implicit)}if("/"===O.op)return Di(Q)&&i(Q.value)?v:Di(j)&&r(j.value,1)?Q:new m(O.op,O.fn,[Q,j]);if("^"===O.op&&Di(j)){if(i(j.value))return _;if(r(j.value,1))return Q}if("and"===O.op){if(Di(Q)){if(!Q.value)return b;if(M(j))return j;if(Di(j))return j.value?C:b}if(Di(j)){if(!j.value)return b;if(M(Q))return Q}}if("or"===O.op){if(Di(Q)){if(Q.value)return C;if(M(j))return j}if(Di(j)){if(j.value)return C;if(M(Q))return Q}}return new m(O.op,O.fn,[Q,j])}if(fa(O))return new m(O.op,O.fn,O.args.map(se=>T(se,R)));if(qh(O))return new h(O.items.map(se=>T(se,R)));if(B0(O))return new u(T(O.object,R),T(O.index,R));if(ab(O))return new A(O.dimensions.map(se=>T(se,R)));if(ZN(O)){var K={};for(var oe in O.properties)K[oe]=T(O.properties[oe],R);return new p(K)}return O}return e(Ate,{Node:T,"Node,Object":T})}),QLe=ye("evaluate",["typed","parse"],n=>{var{typed:e,parse:t}=n;return e("evaluate",{string:function(i){var s=VE();return t(i).compile().evaluate(s)},"string, Map | Object":function(i,s){return t(i).compile().evaluate(s)},"Array | Matrix":function(i){var s=VE();return Rr(i,function(o){return t(o).compile().evaluate(s)})},"Array | Matrix, Map | Object":function(i,s){return Rr(i,function(o){return t(o).compile().evaluate(s)})}})}),jLe=ye("Help",["evaluate"],n=>{var{evaluate:e}=n;function t(r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!r)throw new Error('Argument "doc" missing');this.doc=r}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var r=this.doc||{},i="\n";if(r.name&&(i+="Name: "+r.name+"\n\n"),r.category&&(i+="Category: "+r.category+"\n\n"),r.description&&(i+="Description:\n    "+r.description+"\n\n"),r.syntax&&(i+="Syntax:\n    "+r.syntax.join("\n    ")+"\n\n"),r.examples){i+="Examples:\n";for(var s=!1,o=e("config()"),a={config:h=>(s=!0,e("config(newConfig)",{newConfig:h}))},l=0;l<r.examples.length;l++){var c=r.examples[l];i+="    "+c+"\n";var u=void 0;try{u=e(c,a)}catch(h){u=h}void 0!==u&&!Tee(u)&&(i+="        "+ri(u,{precision:14})+"\n")}i+="\n",s&&e("config(originalConfig)",{originalConfig:o})}return r.mayThrow&&r.mayThrow.length&&(i+="Throws: "+r.mayThrow.join(", ")+"\n\n"),r.seealso&&r.seealso.length&&(i+="See also: "+r.seealso.join(", ")+"\n"),i},t.prototype.toJSON=function(){var r=Ir(this.doc);return r.mathjs="Help",r},t.fromJSON=function(r){var i={};return Object.keys(r).filter(s=>"mathjs"!==s).forEach(s=>{i[s]=r[s]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0}),$Le=ye("Parser",["evaluate","parse"],n=>{var{evaluate:e,parse:t}=n;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:VE(),writable:!1})}return r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(s){return e(s,this.scope)},r.prototype.get=function(s){if(this.scope.has(s))return this.scope.get(s)},r.prototype.getAll=function(){return function qPe(n){if(n instanceof XN)return n.wrappedObject;var e={};for(var t of n.keys())ib(e,t,n.get(t));return e}(this.scope)},r.prototype.getAllAsMap=function(){return this.scope},r.prototype.set=function(s,o){if(!function i(s){if(0===s.length)return!1;for(var o=0;o<s.length;o++){var a=s.charAt(o-1),l=s.charAt(o),c=s.charAt(o+1);if(!(t.isAlpha(l,a,c)||o>0&&t.isDigit(l)))return!1}return!0}(s))throw new Error("Invalid variable name: '".concat(s,"'. Variable names must follow the specified rules."));return this.scope.set(s,o),o},r.prototype.remove=function(s){this.scope.delete(s)},r.prototype.clear=function(){this.scope.clear()},r},{isClass:!0});function gte(n){return Di(n)||fa(n)&&n.isUnary()&&Di(n.args[0])}function CI(n){return!!(Di(n)||(fm(n)||fa(n))&&n.args.every(CI)||_p(n)&&CI(n.content))}var YLe=ye("simplify",["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],n=>{var{typed:e,parse:t,equal:r,resolve:i,simplifyConstant:s,simplifyCore:o,AccessorNode:a,ArrayNode:l,ConstantNode:c,FunctionNode:u,IndexNode:h,ObjectNode:d,OperatorNode:f,ParenthesisNode:A,SymbolNode:p,replacer:m}=n,{hasProperty:g,isCommutative:y,isAssociative:v,mergeContext:_,flatten:C,unflattenr:b,unflattenl:M,createMakeNodeFunction:D,defaultContext:E,realContext:T,positiveContext:B}=PH({FunctionNode:u,OperatorNode:f,SymbolNode:p});e.addConversion({from:"Object",to:"Map",convert:sb});var R=e("simplify",{Node:H,"Node, Map":(te,ee)=>H(te,!1,ee),"Node, Map, Object":(te,ee,Ae)=>H(te,!1,ee,Ae),"Node, Array":H,"Node, Array, Map":H,"Node, Array, Map, Object":H});function U(te){return te.transform(function(ee){return _p(ee)?U(ee.content):ee})}e.removeConversion({from:"Object",to:"Map",convert:sb}),R.defaultContext=E,R.realContext=T,R.positiveContext=B;var k={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function q(te,ee){var Ae={};if(te.s){var xe=te.s.split("->");if(2!==xe.length)throw SyntaxError("Could not parse rule: "+te.s);Ae.l=xe[0],Ae.r=xe[1]}else Ae.l=te.l,Ae.r=te.r;for(var ge of(Ae.l=U(t(Ae.l)),Ae.r=U(t(Ae.r)),["imposeContext","repeat","assuming"]))ge in te&&(Ae[ge]=te[ge]);if(te.evaluate&&(Ae.evaluate=t(te.evaluate)),v(Ae.l,ee)){var ne,Ee=!y(Ae.l,ee);Ee&&(ne=G());var Y=D(Ae.l),W=G();Ae.expanded={},Ae.expanded.l=Y([Ae.l,W]),C(Ae.expanded.l,ee),b(Ae.expanded.l,ee),Ae.expanded.r=Y([Ae.r,W]),Ee&&(Ae.expandedNC1={},Ae.expandedNC1.l=Y([ne,Ae.l]),Ae.expandedNC1.r=Y([ne,Ae.r]),Ae.expandedNC2={},Ae.expandedNC2.l=Y([ne,Ae.expanded.l]),Ae.expandedNC2.r=Y([ne,Ae.expanded.r]))}return Ae}R.rules=[o,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},s,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},s,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var P=0;function G(){return new p("_p"+P++)}function H(te,ee){var Ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:VE(),xe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},ge=xe.consoleDebug;ee=function O(te,ee){for(var Ae=[],xe=0;xe<te.length;xe++){var ge=te[xe],Ee=void 0,ne=typeof ge;switch(ne){case"string":ge={s:ge};case"object":Ee=q(ge,ee);break;case"function":Ee=ge;break;default:throw TypeError("Unsupported type of rule: "+ne)}Ae.push(Ee)}return Ae}(ee||R.rules,xe.context);for(var Ee=i(te,Ae),ne={},Y=(Ee=U(Ee)).toString({parenthesis:"all"});!ne[Y];){ne[Y]=!0,P=0;var W=Y;ge&&console.log("Working on: ",Y);for(var Be=0;Be<ee.length;Be++){var Ce="";if("function"==typeof ee[Be]?(Ee=ee[Be](Ee,xe),ge&&(Ce=ee[Be].name)):(C(Ee,xe.context),Ee=ve(Ee,ee[Be],xe.context),ge&&(Ce="".concat(ee[Be].l.toString()," -> ").concat(ee[Be].r.toString()))),ge){var Pe=Ee.toString({parenthesis:"all"});Pe!==W&&(console.log("Applying",Ce,"produced",Pe),W=Pe)}M(Ee,xe.context)}Y=Ee.toString({parenthesis:"all"})}return Ee}function ae(te,ee,Ae){var xe=te;if(te)for(var ge=0;ge<te.length;++ge){var Ee=ve(te[ge],ee,Ae);Ee!==te[ge]&&(xe===te&&(xe=te.slice()),xe[ge]=Ee)}return xe}function ve(te,ee,Ae){if(ee.assuming)for(var xe in ee.assuming)for(var ge in ee.assuming[xe])if(g(xe,ge,Ae)!==ee.assuming[xe][ge])return te;var Ee=_(ee.imposeContext,Ae),ne=te;if(ne instanceof f||ne instanceof u){var Y=ae(ne.args,ee,Ae);Y!==ne.args&&((ne=ne.clone()).args=Y)}else if(ne instanceof A){if(ne.content){var W=ve(ne.content,ee,Ae);W!==ne.content&&(ne=new A(W))}}else if(ne instanceof l){var Be=ae(ne.items,ee,Ae);Be!==ne.items&&(ne=new l(Be))}else if(ne instanceof a){var Ce=ne.object;ne.object&&(Ce=ve(ne.object,ee,Ae));var Pe=ne.index;ne.index&&(Pe=ve(ne.index,ee,Ae)),(Ce!==ne.object||Pe!==ne.index)&&(ne=new a(Ce,Pe))}else if(ne instanceof h){var Oe=ae(ne.dimensions,ee,Ae);Oe!==ne.dimensions&&(ne=new h(Oe))}else if(ne instanceof d){var re=!1,J={};for(var Ue in ne.properties)J[Ue]=ve(ne.properties[Ue],ee,Ae),J[Ue]!==ne.properties[Ue]&&(re=!0);re&&(ne=new d(J))}var Qe=ee.r,rt=se(ee.l,ne,Ee)[0];if(!rt&&ee.expanded&&(Qe=ee.expanded.r,rt=se(ee.expanded.l,ne,Ee)[0]),!rt&&ee.expandedNC1&&(Qe=ee.expandedNC1.r,(rt=se(ee.expandedNC1.l,ne,Ee)[0])||(Qe=ee.expandedNC2.r,rt=se(ee.expandedNC2.l,ne,Ee)[0])),rt){var Xe=ne.implicit;ne=Qe.clone(),Xe&&"implicit"in Qe&&(ne.implicit=!0),ne=ne.transform(function(Pt){return Pt.isSymbolNode&&Hn(rt.placeholders,Pt.name)?rt.placeholders[Pt.name].clone():Pt})}return ee.repeat&&ne!==te&&(ne=ve(ne,ee,Ae)),ne}function j(te,ee){var Ae={placeholders:{}};if(!te.placeholders&&!ee.placeholders)return Ae;if(!te.placeholders)return ee;if(!ee.placeholders)return te;for(var xe in te.placeholders)if(Hn(te.placeholders,xe)&&(Ae.placeholders[xe]=te.placeholders[xe],Hn(ee.placeholders,xe)&&!le(te.placeholders[xe],ee.placeholders[xe])))return null;for(var ge in ee.placeholders)Hn(ee.placeholders,ge)&&(Ae.placeholders[ge]=ee.placeholders[ge]);return Ae}function K(te,ee){var Ae=[];if(0===te.length||0===ee.length)return Ae;for(var xe,ge=0;ge<te.length;ge++)for(var Ee=0;Ee<ee.length;Ee++)(xe=j(te[ge],ee[Ee]))&&Ae.push(xe);return Ae}function se(te,ee,Ae,xe){var ge=[{placeholders:{}}];if(te instanceof f&&ee instanceof f||te instanceof u&&ee instanceof u){if(te instanceof f){if(te.op!==ee.op||te.fn!==ee.fn)return[]}else if(te instanceof u&&te.name!==ee.name)return[];if(!(1===ee.args.length&&1===te.args.length||!v(ee,Ae)&&ee.args.length===te.args.length||xe)){if(ee.args.length>=2&&2===te.args.length){for(var Ce=function Q(te,ee){var xe,ge,Ae=[],Ee=D(te);if(y(te,ee))for(var ne=0;ne<te.args.length;ne++)(ge=te.args.slice(0)).splice(ne,1),xe=1===ge.length?ge[0]:Ee(ge),Ae.push(Ee([te.args[ne],xe]));else for(var Y=1;Y<te.args.length;Y++){var W=te.args[0];Y>1&&(W=Ee(te.args.slice(0,Y))),xe=1===(ge=te.args.slice(Y)).length?ge[0]:Ee(ge),Ae.push(Ee([W,xe]))}return Ae}(ee,Ae),Pe=[],Oe=0;Oe<Ce.length;Oe++){var re=se(te,Ce[Oe],Ae,!0);Pe=Pe.concat(re)}return Pe}if(te.args.length>2)throw Error("Unexpected non-binary associative function: "+te.toString());return[]}for(var Ee=[],ne=0;ne<te.args.length;ne++){var Y=se(te.args[ne],ee.args[ne],Ae);if(0===Y.length)break;Ee.push(Y)}if(Ee.length!==te.args.length){if(!y(ee,Ae)||1===te.args.length)return[];if(te.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var W=se(te.args[0],ee.args[1],Ae);if(0===W.length)return[];var Be=se(te.args[1],ee.args[0],Ae);if(0===Be.length)return[];Ee=[W,Be]}ge=function oe(te){if(0===te.length)return te;for(var ee=te.reduce(K),Ae=[],xe={},ge=0;ge<ee.length;ge++){var Ee=JSON.stringify(ee[ge],m);xe[Ee]||(xe[Ee]=!0,Ae.push(ee[ge]))}return Ae}(Ee)}else if(te instanceof p){if(0===te.name.length)throw new Error("Symbol in rule has 0 length...!?");if(k[te.name]){if(te.name!==ee.name)return[]}else switch(te.name[1]>="a"&&te.name[1]<="z"?te.name.substring(0,2):te.name[0]){case"n":case"_p":ge[0].placeholders[te.name]=ee;break;case"c":case"cl":if(!Di(ee))return[];ge[0].placeholders[te.name]=ee;break;case"v":if(Di(ee))return[];ge[0].placeholders[te.name]=ee;break;case"vl":if(!fl(ee))return[];ge[0].placeholders[te.name]=ee;break;case"cd":if(!gte(ee))return[];ge[0].placeholders[te.name]=ee;break;case"vd":if(gte(ee))return[];ge[0].placeholders[te.name]=ee;break;case"ce":if(!CI(ee))return[];ge[0].placeholders[te.name]=ee;break;case"ve":if(CI(ee))return[];ge[0].placeholders[te.name]=ee;break;default:throw new Error("Invalid symbol in rule: "+te.name)}}else{if(!(te instanceof c))return[];if(!r(te.value,ee.value))return[]}return ge}function le(te,ee){if(te instanceof c&&ee instanceof c){if(!r(te.value,ee.value))return!1}else if(te instanceof p&&ee instanceof p){if(te.name!==ee.name)return!1}else{if(!(te instanceof f&&ee instanceof f||te instanceof u&&ee instanceof u))return!1;if(te instanceof f){if(te.op!==ee.op||te.fn!==ee.fn)return!1}else if(te instanceof u&&te.name!==ee.name)return!1;if(te.args.length!==ee.args.length)return!1;for(var Ae=0;Ae<te.args.length;Ae++)if(!le(te.args[Ae],ee.args[Ae]))return!1}return!0}return R}),mte="symbolicEqual",ZLe=ye(mte,["parse","simplify","typed","OperatorNode"],n=>{var{simplify:t,typed:r,OperatorNode:i}=n;function s(o,a){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=new i("-","subtract",[o,a]),u=t(c,{},l);return Di(u)&&!u.value}return r(mte,{"Node, Node":s,"Node, Node, Object":s})}),t3e=ye("leafCount",["parse","typed"],n=>{var{typed:t}=n;function r(i){var s=0;return i.forEach(o=>{s+=r(o)}),s||1}return t("leafCount",{Node:function(s){return r(s)}})}),r3e=ye("parser",["typed","Parser"],n=>{var{typed:e,Parser:t}=n;return e("parser",{"":function(){return new t}})}),_te="rationalize",s3e=ye(_te,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],n=>{var{typed:t,simplifyConstant:h,simplifyCore:d,simplify:f,ConstantNode:_,OperatorNode:D,SymbolNode:E}=n;function B(O){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=arguments.length>2&&void 0!==arguments[2]&&arguments[2],H=function U(){var O=[d,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},h,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],P=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],H=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],ae={};return ae.firstRules=O.concat(P,H),ae.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],ae.sucDivRules=H,ae.firstRulesAgain=O.concat(P),ae.finalRules=[d,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},h,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],ae}(),ae=function R(O,P,G,H){var ae=[],ve=f(O,H,P,{exactFractions:!1}),Q="+-*"+((G=!!G)?"/":"");!function K(oe){var se=oe.type;if("FunctionNode"===se)throw new Error("There is an unsolved function call");if("OperatorNode"===se)if("^"===oe.op){if("ConstantNode"!==oe.args[1].type||!$n(parseFloat(oe.args[1].value)))throw new Error("There is a non-integer exponent");K(oe.args[0])}else{if(!Q.includes(oe.op))throw new Error("Operator "+oe.op+" invalid in polynomial expression");for(var le=0;le<oe.args.length;le++)K(oe.args[le])}else if("SymbolNode"===se){var te=oe.name;-1===ae.indexOf(te)&&ae.push(te)}else if("ParenthesisNode"===se)K(oe.content);else if("ConstantNode"!==se)throw new Error("type "+se+" is not allowed in polynomial expression")}(ve);var j={};return j.expression=ve,j.variables=ae,j}(O,P,!0,H.firstRules),ve=ae.variables.length,Q={exactFractions:!1},j={exactFractions:!0};if(O=ae.expression,ve>=1){O=k(O);var K,oe,te,se=!0,le=!1;for(O=f(O,H.firstRules,{},Q);oe=se?H.distrDivRules:H.sucDivRules,se=!se,(te=(O=f(O,oe,{},j)).toString())!==K;)le=!0,K=te;le&&(O=f(O,H.firstRulesAgain,{},Q)),O=f(O,H.finalRules,{},Q)}var ee=[],Ae={};return"OperatorNode"===O.type&&O.isBinary()&&"/"===O.op?(1===ve&&(O.args[0]=q(O.args[0],ee),O.args[1]=q(O.args[1])),G&&(Ae.numerator=O.args[0],Ae.denominator=O.args[1])):(1===ve&&(O=q(O,ee)),G&&(Ae.numerator=O,Ae.denominator=null)),G?(Ae.coefficients=ee,Ae.variables=ae.variables,Ae.expression=O,Ae):O}return t(_te,{Node:B,"Node, boolean":(O,P)=>B(O,{},P),"Node, Object":B,"Node, Object, boolean":B});function k(O,P,G){var H=O.type,ae=arguments.length>1;if("OperatorNode"===H&&O.isBinary()){var Q,ve=!1;if("^"===O.op&&("ParenthesisNode"===O.args[0].type||"OperatorNode"===O.args[0].type)&&"ConstantNode"===O.args[1].type&&(ve=(Q=parseFloat(O.args[1].value))>=2&&$n(Q)),ve){if(Q>2){var j=O.args[0],K=new D("^","pow",[O.args[0].cloneDeep(),new _(Q-1)]);O=new D("*","multiply",[j,K])}else O=new D("*","multiply",[O.args[0],O.args[0].cloneDeep()]);ae&&("content"===G?P.content=O:P.args[G]=O)}}if("ParenthesisNode"===H)k(O.content,O,"content");else if("ConstantNode"!==H&&"SymbolNode"!==H)for(var oe=0;oe<O.args.length;oe++)k(O.args[oe],O,oe);if(!ae)return O}function q(O,P){void 0===P&&(P=[]),P[0]=0;var H=0,ae="";!function te(ee,Ae,xe){var ge=ee.type;if("FunctionNode"===ge)throw new Error("There is an unsolved function call");if("OperatorNode"===ge){if(!"+-*^".includes(ee.op))throw new Error("Operator "+ee.op+" invalid");if(null!==Ae){if(("unaryMinus"===ee.fn||"pow"===ee.fn)&&"add"!==Ae.fn&&"subtract"!==Ae.fn&&"multiply"!==Ae.fn)throw new Error("Invalid "+ee.op+" placing");if(("subtract"===ee.fn||"add"===ee.fn||"multiply"===ee.fn)&&"add"!==Ae.fn&&"subtract"!==Ae.fn)throw new Error("Invalid "+ee.op+" placing");if(("subtract"===ee.fn||"add"===ee.fn||"unaryMinus"===ee.fn)&&0!==xe.noFil)throw new Error("Invalid "+ee.op+" placing")}("^"===ee.op||"*"===ee.op)&&(xe.fire=ee.op);for(var Ee=0;Ee<ee.args.length;Ee++)"unaryMinus"===ee.fn&&(xe.oper="-"),("+"===ee.op||"subtract"===ee.fn)&&(xe.fire="",xe.cte=1,xe.oper=0===Ee?"+":ee.op),xe.noFil=Ee,te(ee.args[Ee],ee,xe)}else if("SymbolNode"===ge){if(ee.name!==ae&&""!==ae)throw new Error("There is more than one variable");if(ae=ee.name,null===Ae)return void(P[1]=1);if("^"===Ae.op&&0!==xe.noFil)throw new Error("In power the variable should be the first parameter");if("*"===Ae.op&&1!==xe.noFil)throw new Error("In multiply the variable should be the second parameter");(""===xe.fire||"*"===xe.fire)&&(H<1&&(P[1]=0),P[1]+=xe.cte*("+"===xe.oper?1:-1),H=Math.max(1,H))}else{if("ConstantNode"!==ge)throw new Error("Type "+ge+" is not allowed");var ne=parseFloat(ee.value);if(null===Ae)return void(P[0]=ne);if("^"===Ae.op){if(1!==xe.noFil)throw new Error("Constant cannot be powered");if(!$n(ne)||ne<=0)throw new Error("Non-integer exponent is not allowed");for(var Y=H+1;Y<ne;Y++)P[Y]=0;return ne>H&&(P[ne]=0),P[ne]+=xe.cte*("+"===xe.oper?1:-1),void(H=Math.max(ne,H))}xe.cte=ne,""===xe.fire&&(P[0]+=xe.cte*("+"===xe.oper?1:-1))}}(O,null,{cte:1,oper:"+",fire:""});for(var Q,ve=!0,j=H=P.length-1;j>=0;j--)if(0!==P[j]){var K=new _(ve?P[j]:Math.abs(P[j])),oe=P[j]<0?"-":"+";if(j>0){var se=new E(ae);if(j>1){var le=new _(j);se=new D("^","pow",[se,le])}K=-1===P[j]&&ve?new D("-","unaryMinus",[se]):1===Math.abs(P[j])?se:new D("*","multiply",[K,se])}Q=ve?K:"+"===oe?new D("+","add",[Q,K]):new D("-","subtract",[Q,K]),ve=!1}return ve?new _(0):Q}}),bte="derivative",a3e=ye(bte,["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:e,config:t,parse:r,simplify:i,equal:s,isZero:o,numeric:a,ConstantNode:l,FunctionNode:c,OperatorNode:u,ParenthesisNode:h,SymbolNode:d}=n;function f(_,C){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},M=new Map,D=C.name,T=y(_,function E(B){var R=M.get(B);if(void 0!==R)return R;var U=g(E,B,D);return M.set(B,U),U});return b.simplify?i(T):T}function A(_){var C=r(_);if(!C.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(_)," into a variable in function derivative"));return C}var p=e(bte,{"Node, SymbolNode":f,"Node, SymbolNode, Object":f,"Node, string":(_,C)=>f(_,A(C)),"Node, string, Object":(_,C,b)=>f(_,A(C),b)});p._simplify=!0,p.toTex=function(_){return m.apply(null,_.args)};var m=e("_derivTex",{"Node, SymbolNode":function(C,b){return Di(C)&&"string"===Ws(C.value)?m(r(C.value).toString(),b.toString(),1):m(C.toTex(),b.toString(),1)},"Node, ConstantNode":function(C,b){if("string"===Ws(b.value))return m(C,r(b.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(C,b,M){return m(C.toString(),b.name,M.value)},"string, string, number":function(C,b,M){return(1===M?"{d\\over d"+b+"}":"{d^{"+M+"}\\over d"+b+"^{"+M+"}}")+"\\left[".concat(C,"\\right]")}}),g=e("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(C,b,M){return b.name!==M},"function, ParenthesisNode, string":function(C,b,M){return C(b.content,M)},"function, FunctionAssignmentNode, string":function(C,b,M){return!b.params.includes(M)||C(b.expr,M)},"function, FunctionNode | OperatorNode, string":function(C,b,M){return b.args.every(D=>C(D,M))}}),y=e("_derivative",{"ConstantNode, function":function(){return v(0)},"SymbolNode, function":function(C,b){return b(C)?v(0):v(1)},"ParenthesisNode, function":function(C,b){return new h(y(C.content,b))},"FunctionAssignmentNode, function":function(C,b){return b(C)?v(0):y(C.expr,b)},"FunctionNode, function":function(C,b){if(b(C))return v(0);var D,B,R,U,M=C.args[0],E=!1,T=!1;switch(C.name){case"cbrt":E=!0,B=new u("*","multiply",[v(3),new u("^","pow",[M,new u("/","divide",[v(2),v(3)])])]);break;case"sqrt":case"nthRoot":if(1===C.args.length)E=!0,B=new u("*","multiply",[v(2),new c("sqrt",[M])]);else if(2===C.args.length)return D=new u("/","divide",[v(1),C.args[1]]),y(new u("^","pow",[M,D]),b);break;case"log10":D=v(10);case"log":if(D||1!==C.args.length){if(1===C.args.length&&D||2===C.args.length&&b(C.args[1]))B=new u("*","multiply",[M.clone(),new c("log",[D||C.args[1]])]),E=!0;else if(2===C.args.length)return y(new u("/","divide",[new c("log",[M]),new c("log",[C.args[1]])]),b)}else B=M.clone(),E=!0;break;case"pow":if(2===C.args.length)return y(new u("^","pow",[M,C.args[1]]),b);break;case"exp":B=new c("exp",[M.clone()]);break;case"sin":B=new c("cos",[M.clone()]);break;case"cos":B=new u("-","unaryMinus",[new c("sin",[M.clone()])]);break;case"tan":B=new u("^","pow",[new c("sec",[M.clone()]),v(2)]);break;case"sec":B=new u("*","multiply",[C,new c("tan",[M.clone()])]);break;case"csc":T=!0,B=new u("*","multiply",[C,new c("cot",[M.clone()])]);break;case"cot":T=!0,B=new u("^","pow",[new c("csc",[M.clone()]),v(2)]);break;case"asin":E=!0,B=new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])])]);break;case"acos":E=!0,T=!0,B=new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])])]);break;case"atan":E=!0,B=new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)]);break;case"asec":E=!0,B=new u("*","multiply",[new c("abs",[M.clone()]),new c("sqrt",[new u("-","subtract",[new u("^","pow",[M.clone(),v(2)]),v(1)])])]);break;case"acsc":E=!0,T=!0,B=new u("*","multiply",[new c("abs",[M.clone()]),new c("sqrt",[new u("-","subtract",[new u("^","pow",[M.clone(),v(2)]),v(1)])])]);break;case"acot":E=!0,T=!0,B=new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)]);break;case"sinh":B=new c("cosh",[M.clone()]);break;case"cosh":B=new c("sinh",[M.clone()]);break;case"tanh":B=new u("^","pow",[new c("sech",[M.clone()]),v(2)]);break;case"sech":T=!0,B=new u("*","multiply",[C,new c("tanh",[M.clone()])]);break;case"csch":T=!0,B=new u("*","multiply",[C,new c("coth",[M.clone()])]);break;case"coth":T=!0,B=new u("^","pow",[new c("csch",[M.clone()]),v(2)]);break;case"asinh":E=!0,B=new c("sqrt",[new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)])]);break;case"acosh":E=!0,B=new c("sqrt",[new u("-","subtract",[new u("^","pow",[M.clone(),v(2)]),v(1)])]);break;case"atanh":E=!0,B=new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])]);break;case"asech":E=!0,T=!0,B=new u("*","multiply",[M.clone(),new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])])])]);break;case"acsch":E=!0,T=!0,B=new u("*","multiply",[new c("abs",[M.clone()]),new c("sqrt",[new u("+","add",[new u("^","pow",[M.clone(),v(2)]),v(1)])])]);break;case"acoth":E=!0,T=!0,B=new u("-","subtract",[v(1),new u("^","pow",[M.clone(),v(2)])]);break;case"abs":B=new u("/","divide",[new c(new d("abs"),[M.clone()]),M.clone()]);break;default:throw new Error('Cannot process function "'+C.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}E?(R="/",U="divide"):(R="*",U="multiply");var k=y(M,b);return T&&(k=new u("-","unaryMinus",[k])),new u(R,U,[k,B])},"OperatorNode, function":function(C,b){if(b(C))return v(0);if("+"===C.op)return new u(C.op,C.fn,C.args.map(function(O){return y(O,b)}));if("-"===C.op){if(C.isUnary())return new u(C.op,C.fn,[y(C.args[0],b)]);if(C.isBinary())return new u(C.op,C.fn,[y(C.args[0],b),y(C.args[1],b)])}if("*"===C.op){var M=C.args.filter(function(O){return b(O)});if(M.length>0){var D=C.args.filter(function(O){return!b(O)}),E=1===D.length?D[0]:new u("*","multiply",D),T=M.concat(y(E,b));return new u("*","multiply",T)}return new u("+","add",C.args.map(function(O){return new u("*","multiply",C.args.map(function(P){return P===O?y(P,b):P.clone()}))}))}if("/"===C.op&&C.isBinary()){var B=C.args[0],R=C.args[1];return b(R)?new u("/","divide",[y(B,b),R]):b(B)?new u("*","multiply",[new u("-","unaryMinus",[B]),new u("/","divide",[y(R,b),new u("^","pow",[R.clone(),v(2)])])]):new u("/","divide",[new u("-","subtract",[new u("*","multiply",[y(B,b),R.clone()]),new u("*","multiply",[B.clone(),y(R,b)])]),new u("^","pow",[R.clone(),v(2)])])}if("^"===C.op&&C.isBinary()){var U=C.args[0],k=C.args[1];if(b(U))return Di(U)&&(o(U.value)||s(U.value,1))?v(0):new u("*","multiply",[C,new u("*","multiply",[new c("log",[U.clone()]),y(k.clone(),b)])]);if(b(k)){if(Di(k)){if(o(k.value))return v(0);if(s(k.value,1))return y(U,b)}var q=new u("^","pow",[U.clone(),new u("-","subtract",[k,v(1)])]);return new u("*","multiply",[k.clone(),new u("*","multiply",[y(U,b),q])])}return new u("*","multiply",[new u("^","pow",[U.clone(),k.clone()]),new u("+","add",[new u("*","multiply",[y(U,b),new u("/","divide",[k.clone(),U.clone()])]),new u("*","multiply",[y(k,b),new c("log",[U.clone()])])])])}throw new Error('Cannot process operator "'+C.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function v(_,C){return new l(a(_,C||dm(String(_),t)))}return p}),wte={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},Cte={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},RHe={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},bigint:{name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:wte,E:wte,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:Cte,PI:Cte,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},polynomialRoot:{name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstant:{name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},sylvester:{name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schur:{name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyap:{name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},solveODE:{name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tf:{name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqz:{name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zeta:{name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corr:{name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]}},PHe=ye("help",["typed","mathWithTransform","Help"],n=>{var{typed:e,mathWithTransform:t,Help:r}=n;return e("help",{any:function(s){var o,a=s;if("string"!=typeof s)for(o in t)if(Hn(t,o)&&s===t[o]){a=o;break}var l=zc(RHe,a);if(!l)throw new Error('No documentation found on "'+("function"==typeof a?a.name:a)+'"');return new r(l)}})}),xI=we(6645);function I0(n,e,t){if(xI.isTypedFunction(n)){var r=(e.isMatrix?e.size():Er(e)).map(()=>0),i=e.isMatrix?e.get(r):BH(e,r),s=1===Object.keys(n.signatures).length,o=function LHe(n,e,t,r){for(var i=[e,t,r],s=3;s>0;s--){var o=i.slice(0,s);if(null!==xI.resolve(n,o))return s}}(n,i,r,e),a=s?Object.values(n.signatures)[0]:n;return o>=1&&o<=3?function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return Ete(a,c.slice(0,o),t,n.name)}:function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return Ete(a,c,t,n.name)}}return n}function Ete(n,e,t,r){try{return n(...e)}catch(i){!function UHe(n,e,t,r){var i;if(n instanceof TypeError&&"wrongType"===(null===(i=n.data)||void 0===i?void 0:i.category)){var s=[];throw s.push("value: ".concat(Ws(e[0]))),e.length>=2&&s.push("index: ".concat(Ws(e[1]))),e.length>=3&&s.push("array: ".concat(Ws(e[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(r,"(").concat(s.join(", "),") at index ").concat(JSON.stringify(e[1])))}throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(r,": ").concat(n.message))}(i,e,t,r)}}var Ste=ye("filter",["typed"],n=>{var{typed:e}=n;return e("filter",{"Array, function":Dte,"Matrix, function":function(r,i){return r.create(Dte(r.valueOf(),i),r.datatype())},"Array, RegExp":Yee,"Matrix, RegExp":function(r,i){return r.create(Yee(r.valueOf(),i),r.datatype())}})});function Dte(n,e){var t=I0(e,n,"filter");return function L5e(n,e){if(1!==Er(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,e)}(n,function(r,i,s){return t(r,[i],s)})}function UH(n,e,t){var r=n.filter(function(l){return fl(l)&&!(l.name in e)&&!t.has(l.name)})[0];if(!r)throw new Error('No undefined variable found in inline expression "'+n+'"');var i=r.name,s=new Map,o=new Dee(t,s,new Set([i])),a=n.compile();return function(c){return s.set(i,c),a.evaluate(o)}}var kH=ye("transformCallback",["typed"],n=>{var{typed:e}=n;return function(r,i){return e.isTypedFunction(r)?t(r,i):Mte(r,r.length,i)};function t(r,i){var s=Object.fromEntries(Object.entries(r.signatures).map(o=>{var[a,l]=o,c=a.split(",").length;return e.isTypedFunction(l)?[a,t(l,i)]:[a,Mte(l,c,i)]}));return"string"==typeof r.name?e(r.name,s):e(s)}});function Mte(n,e,t){return e===t?n:e===t+1?function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.slice(0,t),a=Tte(i[t]);return n(...o,a)}:e>t+1?function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.slice(0,t),a=Tte(i[t]),l=i.slice(t+1);return n(...o,a,...l)}:n}function Tte(n){return n.map(e=>e+1)}var jHe=ye("filter",["typed"],n=>{var{typed:e}=n;function t(i,s,o){var a=Ste({typed:e}),l=kH({typed:e});if(0===i.length)return a();var c=i[0];if(1===i.length)return a(c);var u=i.length-1,h=i[u];return c&&(c=r(c,o)),h&&(h=fl(h)||GE(h)?r(h,o):UH(h,s,o)),a(c,l(h,u))}function r(i,s){return i.compile().evaluate(s)}return t.rawArgs=!0,t},{isTransformFunction:!0}),HH="forEach",Bte=ye(HH,["typed"],n=>{var{typed:e}=n;return e(HH,{"Array, function":WHe,"Matrix, function":function(r,i){r.forEach(i)}})});function WHe(n,e){NH(n,[],n,I0(e,n,HH))}var XHe=ye("forEach",["typed"],n=>{var{typed:e}=n,t=Bte({typed:e}),r=kH({typed:e});function i(o,a,l){if(0===o.length)return t();var c=o[0];if(1===o.length)return t(c);var u=o.length-1,h=o[u];return c&&(c=s(c,l)),h&&(h=fl(h)||GE(h)?s(h,l):UH(h,a,l)),t(c,r(h,u))}function s(o,a){return o.compile().evaluate(a)}return i.rawArgs=!0,i},{isTransformFunction:!0}),Nte=ye("map",["typed"],n=>{var{typed:e}=n;return e("map",{"Array, function":r,"Matrix, function":function(s,o){return s.map(o)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(i,s,o)=>function t(i,s){if("function"!=typeof s)throw new Error("Last argument must be a callback function");var u,o=i[0].isMatrix,a=oI(...i.map(_=>_.isMatrix?_.size():Er(_))),l=o?(_,C)=>_.get(C):BH,c=i.map(o?_=>_.isMatrix?_.create(gm(_.toArray(),a),_.datatype()):i[0].create(gm(_.valueOf(),a)):_=>gm(_.isMatrix?_.toArray():_,a));if(e.isTypedFunction(s)){var h=a.map(()=>0),d=c.map(_=>l(_,h)),f=function v(_,C,b,M){return null!==e.resolve(_,[...C,b,...M])?2:null!==e.resolve(_,[...C,b])?1:(e.resolve(_,C),0)}(s,d,h,c);u=g(f)}else{var p=function y(_,C){return _.length>C+1?2:_.length===C+1?1:0}(s,i.length);u=g(p)}var m=(_,C)=>u([_,...c.slice(1).map(b=>l(b,C))],C);return o?c[0].map(m):r(c[0],m);function g(_){switch(_){case 0:return C=>s(...C);case 1:return(C,b)=>s(...C,b);case 2:return(C,b)=>s(...C,b,...c)}}}([i,s,...o.slice(0,o.length-1)],o[o.length-1])});function r(i,s){return NH(i,[],i,I0(s,i,"map"))}}),e8e=ye("map",["typed"],n=>{var{typed:e}=n,t=Nte({typed:e}),r=kH({typed:e});function i(s,o,a){if(0===s.length)return t();if(1===s.length)return t(s[0]);var l=s.length-1,c=s.slice(0,l),u=s[l];return c=c.map(d=>h(d,a)),u&&(u=fl(u)||GE(u)?h(u,a):UH(u,o,a)),t(...c,r(u,l));function h(d,f){return d.compile().evaluate(f)}}return i.rawArgs=!0,i},{isTransformFunction:!0}),QH=ye("apply",["typed","isInteger"],n=>{var{typed:e,isInteger:t}=n;return e("apply",{"Array | Matrix, number | BigNumber, function":function(i,s,o){if(!t(s))throw new TypeError("Integer number expected for dimension");var a=Array.isArray(i)?Er(i):i.size();if(s<0||s>=a.length)throw new ed(s,a.length);return ur(i)?i.create(EI(i.valueOf(),s,o),i.datatype()):EI(i,s,o)}})});function EI(n,e,t){var r,i,s;if(e<=0){if(Array.isArray(n[0])){for(s=function n8e(n){var r,i,e=n.length,t=n[0].length,s=[];for(i=0;i<t;i++){var o=[];for(r=0;r<e;r++)o.push(n[r][i]);s.push(o)}return s}(n),i=[],r=0;r<s.length;r++)i[r]=EI(s[r],e-1,t);return i}return t(n)}for(i=[],r=0;r<n.length;r++)i[r]=EI(n[r],e-1,t);return i}var s8e=ye("apply",["typed","isInteger"],n=>{var{typed:e,isInteger:t}=n,r=QH({typed:e,isInteger:t});return e("apply",{"...any":function(s){var o=s[1];kr(o)?s[1]=o-1:Hr(o)&&(s[1]=o.minus(1));try{return r.apply(null,s)}catch(a){throw Gc(a)}}})},{isTransformFunction:!0}),jc=ye("matAlgo03xDSf",["typed"],n=>{var{typed:e}=n;return function(r,i,s,o){var a=r._data,l=r._size,c=r._datatype||r.getDataType(),u=i._values,h=i._index,d=i._ptr,f=i._size,A=i._datatype||void 0===i._data?i._datatype:i.getDataType();if(l.length!==f.length)throw new ii(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g,p=l[0],m=l[1],y=0,v=s;"string"==typeof c&&c===A&&"mixed"!==c&&(y=e.convert(0,g=c),v=e.find(s,[g,g]));for(var _=[],C=0;C<p;C++)_[C]=[];for(var b=[],M=[],D=0;D<m;D++){for(var E=D+1,B=d[D+1],R=d[D];R<B;R++){var U=h[R];b[U]=o?v(u[R],a[U][D]):v(a[U][D],u[R]),M[U]=E}for(var k=0;k<p;k++)_[k][D]=M[k]===E?b[k]:o?v(y,a[k][D]):v(a[k][D],y)}return r.createDenseMatrix({data:_,size:[p,m],datatype:c===r._datatype&&A===i._datatype?g:void 0})}}),Wa=ye("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(i,s,o,a){var l=i._values,c=i._index,u=i._ptr,h=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=h[0],A=h[1],m=o;"string"==typeof d&&(s=e.convert(s,p=d),m=e.find(o,[p,p]));for(var g=[],y=[],v=[],_=0;_<A;_++){for(var C=_+1,M=u[_+1],D=u[_];D<M;D++){var E=c[D];y[E]=l[D],v[E]=C}for(var T=0;T<f;T++)0===_&&(g[T]=[]),g[T][_]=v[T]===C?a?m(s,y[T]):m(y[T],s):a?m(s,0):m(0,s)}return new t({data:g,size:[f,A],datatype:p})}}),SI=ye("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,h=i._datatype||void 0===i._data?i._datatype:i.getDataType(),d=s._values,f=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new ii(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof h&&h===m&&"mixed"!==h&&(_=e.find(t,[v=h,v]),C=e.convert(0,v),b=e.find(o,[v,v]));var k,q,O,P,M=a&&d?[]:void 0,D=[],E=[],T=M?[]:void 0,B=M?[]:void 0,R=[],U=[];for(q=0;q<y;q++){E[q]=D.length;var G=q+1;for(O=c[q],P=c[q+1];O<P;O++)D.push(k=l[O]),R[k]=G,T&&(T[k]=a[O]);for(O=A[q],P=A[q+1];O<P;O++)R[k=f[O]]!==G&&D.push(k),U[k]=G,B&&(B[k]=d[O]);if(M)for(O=E[q];O<D.length;){var H=R[k=D[O]],ae=U[k];if(H===G||ae===G){var j=b(H===G?T[k]:C,ae===G?B[k]:C);_(j,C)?D.splice(O,1):(M.push(j),O++)}}}return E[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:E,size:[g,y],datatype:h===i._datatype&&m===s._datatype?v:void 0})}}),A8e=ye("matAlgo13xDD",["typed"],n=>{var{typed:e}=n;return function(i,s,o){var a=i._data,l=i._size,c=i._datatype,u=s._data,h=s._size,d=s._datatype,f=[];if(l.length!==h.length)throw new ii(l.length,h.length);for(var A=0;A<l.length;A++){if(l[A]!==h[A])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");f[A]=l[A]}var p,m=o;"string"==typeof c&&c===d&&(m=e.find(o,[p=c,p]));var g=f.length>0?t(m,0,f,f[0],a,u):[];return i.createDenseMatrix({data:g,size:f,datatype:p})};function t(r,i,s,o,a,l){var c=[];if(i===s.length-1)for(var u=0;u<o;u++)c[u]=r(a[u],l[u]);else for(var h=0;h<o;h++)c[h]=t(r,i+1,s,s[i+1],a[h],l[h]);return c}}),nd=ye("matAlgo14xDs",["typed"],n=>{var{typed:e}=n;return function(i,s,o,a){var h,l=i._data,c=i._size,u=i._datatype,d=o;"string"==typeof u&&(s=e.convert(s,h=u),d=e.find(o,[h,h]));var f=c.length>0?t(d,0,c,c[0],l,s,a):[];return i.createDenseMatrix({data:f,size:Ir(c),datatype:h})};function t(r,i,s,o,a,l,c){var u=[];if(i===s.length-1)for(var h=0;h<o;h++)u[h]=c?r(l,a[h]):r(a[h],l);else for(var d=0;d<o;d++)u[d]=t(r,i+1,s,s[i+1],a[d],l,c);return u}});function dl(n,e){if(vp(n.size(),e.size()))return[n,e];var t=oI(n.size(),e.size());return[n,e].map(r=>function m8e(n,e){return vp(n.size(),e)?n:n.create(gm(n.valueOf(),e),n.datatype())}(r,t))}var Ks=ye("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:e,matrix:t}=n,r=A8e({typed:e}),i=nd({typed:e});return function(o){var c,a=o.elop,l=o.SD||o.DS;a?(c={"DenseMatrix, DenseMatrix":(f,A)=>r(...dl(f,A),a),"Array, Array":(f,A)=>r(...dl(t(f),t(A)),a).valueOf(),"Array, DenseMatrix":(f,A)=>r(...dl(t(f),A),a),"DenseMatrix, Array":(f,A)=>r(...dl(f,t(A)),a)},o.SS&&(c["SparseMatrix, SparseMatrix"]=(f,A)=>o.SS(...dl(f,A),a,!1)),o.DS&&(c["DenseMatrix, SparseMatrix"]=(f,A)=>o.DS(...dl(f,A),a,!1),c["Array, SparseMatrix"]=(f,A)=>o.DS(...dl(t(f),A),a,!1)),l&&(c["SparseMatrix, DenseMatrix"]=(f,A)=>l(...dl(A,f),a,!0),c["SparseMatrix, Array"]=(f,A)=>l(...dl(t(A),f),a,!0))):(c={"DenseMatrix, DenseMatrix":e.referToSelf(f=>(A,p)=>r(...dl(A,p),f)),"Array, Array":e.referToSelf(f=>(A,p)=>r(...dl(t(A),t(p)),f).valueOf()),"Array, DenseMatrix":e.referToSelf(f=>(A,p)=>r(...dl(t(A),p),f)),"DenseMatrix, Array":e.referToSelf(f=>(A,p)=>r(...dl(A,t(p)),f))},o.SS&&(c["SparseMatrix, SparseMatrix"]=e.referToSelf(f=>(A,p)=>o.SS(...dl(A,p),f,!1))),o.DS&&(c["DenseMatrix, SparseMatrix"]=e.referToSelf(f=>(A,p)=>o.DS(...dl(A,p),f,!1)),c["Array, SparseMatrix"]=e.referToSelf(f=>(A,p)=>o.DS(...dl(t(A),p),f,!1))),l&&(c["SparseMatrix, DenseMatrix"]=e.referToSelf(f=>(A,p)=>l(...dl(p,A),f,!0)),c["SparseMatrix, Array"]=e.referToSelf(f=>(A,p)=>l(...dl(t(p),A),f,!0))));var u=o.scalar||"any";(o.Ds||o.Ss)&&(a?(c["DenseMatrix,"+u]=(f,A)=>i(f,A,a,!1),c[u+", DenseMatrix"]=(f,A)=>i(A,f,a,!0),c["Array,"+u]=(f,A)=>i(t(f),A,a,!1).valueOf(),c[u+", Array"]=(f,A)=>i(t(A),f,a,!0).valueOf()):(c["DenseMatrix,"+u]=e.referToSelf(f=>(A,p)=>i(A,p,f,!1)),c[u+", DenseMatrix"]=e.referToSelf(f=>(A,p)=>i(p,A,f,!0)),c["Array,"+u]=e.referToSelf(f=>(A,p)=>i(t(A),p,f,!1).valueOf()),c[u+", Array"]=e.referToSelf(f=>(A,p)=>i(t(p),A,f,!0).valueOf())));var d=void 0!==o.sS?o.sS:o.Ss;return a?(o.Ss&&(c["SparseMatrix,"+u]=(f,A)=>o.Ss(f,A,a,!1)),d&&(c[u+", SparseMatrix"]=(f,A)=>d(A,f,a,!0))):(o.Ss&&(c["SparseMatrix,"+u]=e.referToSelf(f=>(A,p)=>o.Ss(A,p,f,!1))),d&&(c[u+", SparseMatrix"]=e.referToSelf(f=>(A,p)=>d(p,A,f,!0)))),a&&a.signatures&&wee(c,a.signatures),c}}),zH="number, number";function Fte(n){return!n}function GH(n,e){return!(!n&&!e)}function jH(n,e){return!!n!=!!e}function qH(n,e){return!(!n||!e)}Fte.signature="number",GH.signature=zH,jH.signature=zH,qH.signature=zH;var Ote=ye("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=jc({typed:e}),a=SI({typed:e,equalScalar:r}),l=Wa({typed:e,DenseMatrix:i}),c=Ks({typed:e,matrix:t,concat:s});return e("or",{"number, number":GH,"Complex, Complex":function(h,d){return 0!==h.re||0!==h.im||0!==d.re||0!==d.im},"BigNumber, BigNumber":function(h,d){return!h.isZero()&&!h.isNaN()||!d.isZero()&&!d.isNaN()},"bigint, bigint":GH,"Unit, Unit":e.referToSelf(u=>(h,d)=>u(h.value||0,d.value||0))},c({SS:a,DS:o,Ss:l}))}),x8e=ye("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=Ote({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s});function a(l,c,u){var h=l[0].compile().evaluate(u);if(!jh(h)&&o(h,!1))return!0;var d=l[1].compile().evaluate(u);return o(h,d)}return a.rawArgs=!0,a},{isTransformFunction:!0}),rd=ye("matAlgo02xDS0",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o,a){var l=i._data,c=i._size,u=i._datatype||i.getDataType(),h=s._values,d=s._index,f=s._ptr,A=s._size,p=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(c.length!==A.length)throw new ii(c.length,A.length);if(c[0]!==A[0]||c[1]!==A[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+A+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y,m=c[0],g=c[1],v=t,_=0,C=o;"string"==typeof u&&u===p&&"mixed"!==u&&(v=e.find(t,[y=u,y]),_=e.convert(0,y),C=e.find(o,[y,y]));for(var b=[],M=[],D=[],E=0;E<g;E++){D[E]=M.length;for(var B=f[E+1],R=f[E];R<B;R++){var U=d[R],k=a?C(h[R],l[U][E]):C(l[U][E],h[R]);v(k,_)||(M.push(U),b.push(k))}}return D[g]=M.length,s.createSparseMatrix({values:b,index:M,ptr:D,size:[m,g],datatype:u===i._datatype&&p===s._datatype?y:void 0})}}),Pl=ye("matAlgo11xS0s",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o,a){var l=i._values,c=i._index,u=i._ptr,h=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=h[0],A=h[1],m=t,g=0,y=o;"string"==typeof d&&(m=e.find(t,[p=d,p]),g=e.convert(0,p),s=e.convert(s,p),y=e.find(o,[p,p]));for(var v=[],_=[],C=[],b=0;b<A;b++){C[b]=_.length;for(var D=u[b+1],E=u[b];E<D;E++){var T=c[E],B=a?y(s,l[E]):y(l[E],s);m(B,g)||(_.push(T),v.push(B))}}return C[A]=_.length,i.createSparseMatrix({values:v,index:_,ptr:C,size:[f,A],datatype:p})}}),DI=ye("matAlgo06xS0S0",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._size,c=i._datatype||void 0===i._data?i._datatype:i.getDataType(),u=s._values,h=s._size,d=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(l.length!==h.length)throw new ii(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var p,f=l[0],A=l[1],m=t,g=0,y=o;"string"==typeof c&&c===d&&"mixed"!==c&&(m=e.find(t,[p=c,p]),g=e.convert(0,p),y=e.find(o,[p,p]));for(var v=a&&u?[]:void 0,_=[],C=[],b=v?[]:void 0,M=[],D=[],E=0;E<A;E++){C[E]=_.length;var T=E+1;if(lte(i,E,M,b,D,T,_,y),lte(s,E,M,b,D,T,_,y),b)for(var B=C[E];B<_.length;){var R=_[B];if(D[R]===T){var U=b[R];m(U,g)?_.splice(B,1):(v.push(U),B++)}else _.splice(B,1)}else for(var k=C[E];k<_.length;)D[_[k]]!==T?_.splice(k,1):k++}return C[A]=_.length,i.createSparseMatrix({values:v,index:_,ptr:C,size:[f,A],datatype:c===i._datatype&&d===s._datatype?p:void 0})}}),Lte=ye("and",["typed","matrix","equalScalar","zeros","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o}=n,a=rd({typed:e,equalScalar:r}),l=DI({typed:e,equalScalar:r}),c=Pl({typed:e,equalScalar:r}),u=nd({typed:e}),h=Ks({typed:e,matrix:t,concat:o});return e("and",{"number, number":qH,"Complex, Complex":function(f,A){return!(0===f.re&&0===f.im||0===A.re&&0===A.im)},"BigNumber, BigNumber":function(f,A){return!(f.isZero()||A.isZero()||f.isNaN()||A.isNaN())},"bigint, bigint":qH,"Unit, Unit":e.referToSelf(d=>(f,A)=>d(f.value||0,A.value||0)),"SparseMatrix, any":e.referToSelf(d=>(f,A)=>s(A)?i(f.size(),f.storage()):c(f,A,d,!1)),"DenseMatrix, any":e.referToSelf(d=>(f,A)=>s(A)?i(f.size(),f.storage()):u(f,A,d,!1)),"any, SparseMatrix":e.referToSelf(d=>(f,A)=>s(f)?i(f.size(),f.storage()):c(A,f,d,!0)),"any, DenseMatrix":e.referToSelf(d=>(f,A)=>s(f)?i(f.size(),f.storage()):u(A,f,d,!0)),"Array, any":e.referToSelf(d=>(f,A)=>d(t(f),A).valueOf()),"any, Array":e.referToSelf(d=>(f,A)=>d(f,t(A)).valueOf())},h({SS:l,DS:a}))}),R8e=ye("and",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o}=n,a=Lte({typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o});function l(c,u,h){var d=c[0].compile().evaluate(h);if(!jh(d)&&!a(d,!0))return!1;var f=c[1].compile().evaluate(h);return a(d,f)}return l.rawArgs=!0,l},{isTransformFunction:!0}),kte=ye("concat",["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:r}=n;return e("concat",{"...Array | Matrix | number | BigNumber":function(s){var o,c,a=s.length,l=-1,u=!1,h=[];for(o=0;o<a;o++){var d=s[o];if(ur(d)&&(u=!0),kr(d)||Hr(d)){if(o!==a-1)throw new Error("Dimension must be specified as last argument");if(c=l,l=d.valueOf(),!r(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>c)throw new ed(l,c+1)}else{var f=Ir(d).valueOf(),A=Er(f);if(h[o]=f,c=l,l=A.length-1,o>0&&l!==c)throw new ii(c+1,l+1)}}if(0===h.length)throw new SyntaxError("At least one matrix expected");for(var p=h.shift();h.length;)p=ete(p,h.shift(),l);return u?t(p):p},"...string":function(s){return s.join("")}})}),U8e=ye("concat",["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:r}=n,i=kte({typed:e,matrix:t,isInteger:r});return e("concat",{"...any":function(o){var a=o.length-1,l=o[a];kr(l)?o[a]=l-1:Hr(l)&&(o[a]=l.minus(1));try{return i.apply(null,o)}catch(c){throw Gc(c)}}})},{isTransformFunction:!0});function qc(n,e,t){var r;return String(n).includes("Unexpected type")?(r=arguments.length>2?" (type: "+Ws(t)+", value: "+JSON.stringify(t)+")":" (type: "+n.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):String(n).includes("complex numbers")?(r=arguments.length>2?" (type: "+Ws(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):n}var Vte=ye("max",["typed","config","numeric","larger"],n=>{var{typed:e,config:t,numeric:r,larger:i}=n;return e("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,c){return bI(l,c.valueOf(),s)},"...":function(l){if(db(l))throw new TypeError("Scalar values expected in function max");return o(l)}});function s(a,l){try{return i(a,l)?a:l}catch(c){throw qc(c,"max",l)}}function o(a){var l;if(bp(a,function(c){try{isNaN(c)&&"number"==typeof c?l=NaN:(void 0===l||i(c,l))&&(l=c)}catch(u){throw qc(u,"max",c)}}),void 0===l)throw new Error("Cannot calculate max of an empty array");return"string"==typeof l&&(l=r(l,dm(l,t))),l}});function mm(n){if(2===n.length&&jh(n[0])){var e=(n=n.slice())[1];(function V8e(n){return kr(n)||Hr(n)})(e)&&(n[1]=function H8e(n){return kr(n)?n-1:Hr(n)?n.minus(1):n}(e))}return n}var G8e=ye("max",["typed","config","numeric","larger"],n=>{var{typed:e,config:t,numeric:r,larger:i}=n,s=Vte({typed:e,config:t,numeric:r,larger:i});return e("max",{"...any":function(a){a=mm(a);try{return s.apply(null,a)}catch(l){throw Gc(l)}}})},{isTransformFunction:!0}),Qte=/\$([\w.]+)/g,Gte=ye("print",["typed"],n=>{var{typed:e}=n;return e("print",{"string, Object | Array":jte,"string, Object | Array, number | Object":jte})});function jte(n,e,t){return n.replace(Qte,function(r,i){var s=i.split("."),o=e[s.shift()];for(void 0!==o&&o.isMatrix&&(o=o.toArray());s.length&&void 0!==o;){var a=s.shift();o=a?o[a]:o+"."}return void 0!==o?hc(o)?o:ri(o,t):r})}var W8e=ye("print",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,s=Gte({typed:e,matrix:t,zeros:r,add:i});return e("print",{"string, Object | Array":function(l,c){return s(o(l),c)},"string, Object | Array, number | Object":function(l,c,u){return s(o(l),c,u)}});function o(a){return a.replace(Qte,l=>"$"+l.slice(1).split(".").map(function(h){return!isNaN(h)&&h.length>0?parseInt(h)-1:h}).join("."))}},{isTransformFunction:!0});function $8e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero()||e.eq(-1)||n.eq(e))return n;if(e.isZero()||n.eq(-1))return e;if(!n.isFinite()||!e.isFinite()){if(!n.isFinite()&&!e.isFinite())return n.isNegative()===e.isNegative()?n:new t(0);if(!n.isFinite())return e.isNegative()?n:n.isNegative()?new t(0):e;if(!e.isFinite())return n.isNegative()?e:e.isNegative()?new t(0):n}return WH(n,e,function(r,i){return r&i})}function KE(n){if(n.isFinite()&&!n.isInteger())throw new Error("Integer expected in function bitNot");var e=n.constructor,t=e.precision;e.config({precision:1e9});var r=n.plus(new e(1));return r.s=-r.s||null,e.config({precision:t}),r}function K8e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);var r=new t(-1);return n.isZero()||e.eq(r)||n.eq(e)?e:e.isZero()||n.eq(r)?n:n.isFinite()&&e.isFinite()?WH(n,e,function(i,s){return i|s}):!n.isFinite()&&!n.isNegative()&&e.isNegative()||n.isNegative()&&!e.isNegative()&&!e.isFinite()?r:n.isNegative()&&e.isNegative()?n.isFinite()?n:e:n.isFinite()?e:n}function WH(n,e,t){var i,s,u,h,d,r=n.constructor,o=+(n.s<0),a=+(e.s<0);if(o){i=MI(KE(n));for(var l=0;l<i.length;++l)i[l]^=1}else i=MI(n);if(a){s=MI(KE(e));for(var c=0;c<s.length;++c)s[c]^=1}else s=MI(e);i.length<=s.length?(u=i,h=s,d=o):(u=s,h=i,d=a);var f=u.length,A=h.length,p=1^t(o,a),m=new r(1^p),g=new r(1),y=new r(2),v=r.precision;for(r.config({precision:1e9});f>0;)t(u[--f],h[--A])===p&&(m=m.plus(g)),g=g.times(y);for(;A>0;)t(d,h[--A])===p&&(m=m.plus(g)),g=g.times(y);return r.config({precision:v}),0===p&&(m.s=-m.s),m}function MI(n){for(var e=n.d,t=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",s=7-i.length;s--;)i="0"+i;t+=i}for(var o=t.length;"0"===t.charAt(o);)o--;var a=n.e,l=t.slice(0,o+1||1),c=l.length;if(a>0)if(++a>c)for(a-=c;a--;)l+="0";else a<c&&(l=l.slice(0,a)+"."+l.slice(a));for(var u=[0],h=0;h<l.length;){for(var d=u.length;d--;)u[d]*=10;u[0]+=parseInt(l.charAt(h++));for(var f=0;f<u.length;++f)u[f]>1&&(null==u[f+1]&&(u[f+1]=0),u[f+1]+=u[f]>>1,u[f]&=1)}return u.reverse()}function X8e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=n.constructor;if(n.isNaN()||e.isNaN())return new t(NaN);if(n.isZero())return e;if(e.isZero())return n;if(n.eq(e))return new t(0);var r=new t(-1);return n.eq(r)?KE(e):e.eq(r)?KE(n):n.isFinite()&&e.isFinite()?WH(n,e,function(i,s){return i^s}):n.isFinite()||e.isFinite()?new t(n.isNegative()===e.isNegative()?1/0:-1/0):r}function Y8e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:n.isFinite()||e.isFinite()?e.lt(55)?n.times(Math.pow(2,e.toNumber())+""):n.times(new t(2).pow(e)):new t(NaN)}function J8e(n,e){if(n.isFinite()&&!n.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=n.constructor;return n.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):n.isZero()||e.isZero()?n:e.isFinite()?e.lt(55)?n.div(Math.pow(2,e.toNumber())+"").floor():n.div(new t(2).pow(e)).floor():n.isNegative()?new t(-1):n.isFinite()?new t(0):new t(NaN)}var Ab="number, number";function Wte(n,e){if(!$n(n)||!$n(e))throw new Error("Integers expected in function bitAnd");return n&e}function $te(n){if(!$n(n))throw new Error("Integer expected in function bitNot");return~n}function Kte(n,e){if(!$n(n)||!$n(e))throw new Error("Integers expected in function bitOr");return n|e}function Xte(n,e){if(!$n(n)||!$n(e))throw new Error("Integers expected in function bitXor");return n^e}function Yte(n,e){if(!$n(n)||!$n(e))throw new Error("Integers expected in function leftShift");return n<<e}function Jte(n,e){if(!$n(n)||!$n(e))throw new Error("Integers expected in function rightArithShift");return n>>e}function Zte(n,e){if(!$n(n)||!$n(e))throw new Error("Integers expected in function rightLogShift");return n>>>e}Wte.signature=Ab,$te.signature="number",Kte.signature=Ab,Xte.signature=Ab,Yte.signature=Ab,Jte.signature=Ab,Zte.signature=Ab;var tne=ye("bitAnd",["typed","matrix","equalScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,s=rd({typed:e,equalScalar:r}),o=DI({typed:e,equalScalar:r}),a=Pl({typed:e,equalScalar:r});return e("bitAnd",{"number, number":Wte,"BigNumber, BigNumber":$8e,"bigint, bigint":(c,u)=>c&u},Ks({typed:e,matrix:t,concat:i})({SS:o,DS:s,Ss:a}))}),r6e=ye("bitAnd",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o}=n,a=tne({typed:e,matrix:t,equalScalar:r,zeros:i,not:s,concat:o});function l(c,u,h){var d=c[0].compile().evaluate(h);if(!jh(d)){if(isNaN(d))return NaN;if(0===d||!1===d)return 0}var f=c[1].compile().evaluate(h);return a(d,f)}return l.rawArgs=!0,l},{isTransformFunction:!0}),rne=ye("diff",["typed","matrix","subtract","number"],n=>{var{typed:e,matrix:t,subtract:r,number:i}=n;return e("diff",{"Array | Matrix":function(u){return ur(u)?t(o(u.toArray())):o(u)},"Array | Matrix, number":function(u,h){if(!$n(h))throw new RangeError("Dimension must be a whole number");return ur(u)?t(s(u.toArray(),h)):s(u,h)},"Array, BigNumber":e.referTo("Array,number",c=>(u,h)=>c(u,i(h))),"Matrix, BigNumber":e.referTo("Matrix,number",c=>(u,h)=>c(u,i(h)))});function s(c,u){if(ur(c)&&(c=c.toArray()),!Array.isArray(c))throw RangeError("Array/Matrix does not have that many dimensions");if(u>0){var h=[];return c.forEach(d=>{h.push(s(d,u-1))}),h}if(0===u)return o(c);throw RangeError("Cannot have negative dimension")}function o(c){for(var u=[],h=c.length,d=1;d<h;d++)u.push(a(c[d-1],c[d]));return u}function a(c,u){ur(c)&&(c=c.toArray()),ur(u)&&(u=u.toArray());var h=Array.isArray(c),d=Array.isArray(u);if(h&&d)return function l(c,u){if(c.length!==u.length)throw RangeError("Not all sub-arrays have the same length");for(var h=[],d=c.length,f=0;f<d;f++)h.push(a(c[f],u[f]));return h}(c,u);if(!h&&!d)return r(u,c);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}),o6e=ye("diff",["typed","matrix","subtract","number","bignumber"],n=>{var{typed:e,matrix:t,subtract:r,number:i,bignumber:s}=n,o=rne({typed:e,matrix:t,subtract:r,number:i,bignumber:s});return e("diff",{"...any":function(l){l=mm(l);try{return o.apply(null,l)}catch(c){throw Gc(c)}}})},{isTransformFunction:!0}),one=ye("min",["typed","config","numeric","smaller"],n=>{var{typed:e,config:t,numeric:r,smaller:i}=n;return e("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,c){return bI(l,c.valueOf(),s)},"...":function(l){if(db(l))throw new TypeError("Scalar values expected in function min");return o(l)}});function s(a,l){try{return i(a,l)?a:l}catch(c){throw qc(c,"min",l)}}function o(a){var l;if(bp(a,function(c){try{isNaN(c)&&"number"==typeof c?l=NaN:(void 0===l||i(c,l))&&(l=c)}catch(u){throw qc(u,"min",c)}}),void 0===l)throw new Error("Cannot calculate min of an empty array");return"string"==typeof l&&(l=r(l,dm(l,t))),l}}),u6e=ye("min",["typed","config","numeric","smaller"],n=>{var{typed:e,config:t,numeric:r,smaller:i}=n,s=one({typed:e,config:t,numeric:r,smaller:i});return e("min",{"...any":function(a){a=mm(a);try{return s.apply(null,a)}catch(l){throw Gc(l)}}})},{isTransformFunction:!0}),lne=ye("subset",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:r,add:i}=n;return e("subset",{"Matrix, Index":function(a,l){return ub(l)?t():(nI(a,l),a.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(a,l){var c=o(t(a),l);return l.isScalar()?c:c.valueOf()}}),"Object, Index":d6e,"string, Index":f6e,"Matrix, Index, any, any":function(a,l,c,u){return ub(l)?a:(nI(a,l),a.clone().subset(l,function s(o,a){if("string"==typeof o)throw new Error("can't boradcast a string");if(a._isScalar)return o;var l=a.size();if(!l.every(c=>c>0))return o;try{return i(o,r(l))}catch{return o}}(c,l),u))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(a,l,c,u){var h=o(t(a),l,c,u);return h.isMatrix?h.valueOf():h}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(a,l,c){return o(t(a),l,c,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(a,l,c){return o(a,l,c,void 0)}}),"string, Index, string":cne,"string, Index, string, string":cne,"Object, Index, any":A6e})});function f6e(n,e){if(!JN(e))throw new TypeError("Index expected");if(ub(e))return"";if(nI(Array.from(n),e),1!==e.size().length)throw new ii(e.size().length,1);var t=n.length;$s(e.min()[0],t),$s(e.max()[0],t);var r=e.dimension(0),i="";return r.forEach(function(s){i+=n.charAt(s)}),i}function cne(n,e,t,r){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(ub(e))return n;if(nI(Array.from(n),e),1!==e.size().length)throw new ii(e.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0);if(i.size()[0]!==t.length)throw new ii(i.size()[0],t.length);var o=n.length;$s(e.min()[0]),$s(e.max()[0]);for(var a=[],l=0;l<o;l++)a[l]=n.charAt(l);if(i.forEach(function(h,d){a[h]=t.charAt(d[0])}),a.length>o)for(var c=o-1,u=a.length;c<u;c++)a[c]||(a[c]=r);return a.join("")}function d6e(n,e){if(!ub(e)){if(1!==e.size().length)throw new ii(e.size(),1);var t=e.dimension(0);if("string"!=typeof t)throw new TypeError("String expected as index to retrieve an object property");return zc(n,t)}}function A6e(n,e,t){if(ub(e))return n;if(1!==e.size().length)throw new ii(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=Ir(n);return ib(i,r,t),i}var Ine,wp,m6e=ye("subset",["typed","matrix","zeros","add"],n=>{var{typed:e,matrix:t,zeros:r,add:i}=n,s=lne({typed:e,matrix:t,zeros:r,add:i});return e("subset",{"...any":function(a){try{return s.apply(null,a)}catch(l){throw Gc(l)}}})},{isTransformFunction:!0}),F0=ye("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(i,s,o,a){var l=i._values,c=i._index,u=i._ptr,h=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=h[0],A=h[1],m=o;"string"==typeof d&&(s=e.convert(s,p=d),m=e.find(o,[p,p]));for(var g=[],y=[],v=[],_=0;_<A;_++){for(var C=_+1,M=u[_+1],D=u[_];D<M;D++){var E=c[D];y[E]=l[D],v[E]=C}for(var T=0;T<f;T++)0===_&&(g[T]=[]),g[T][_]=v[T]===C?a?m(s,y[T]):m(y[T],s):s}return new t({data:g,size:[f,A],datatype:p})}}),$H=ye("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,h=i._datatype||void 0===i._data?i._datatype:i.getDataType(),d=s._values,f=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new ii(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof h&&h===m&&"mixed"!==h&&(_=e.find(t,[v=h,v]),C=e.convert(0,v),b=e.find(o,[v,v]));var k,q,O,G,M=a&&d?[]:void 0,D=[],E=[],T=a&&d?[]:void 0,B=a&&d?[]:void 0,R=[],U=[];for(q=0;q<y;q++){E[q]=D.length;var H=q+1;for(G=c[q+1],O=c[q];O<G;O++)D.push(k=l[O]),R[k]=H,T&&(T[k]=a[O]);for(G=A[q+1],O=A[q];O<G;O++)if(R[k=f[O]]===H){if(T){var ae=b(T[k],d[O]);_(ae,C)?R[k]=null:T[k]=ae}}else D.push(k),U[k]=H,B&&(B[k]=d[O]);if(T&&B)for(O=E[q];O<D.length;)R[k=D[O]]===H?(M[O]=T[k],O++):U[k]===H?(M[O]=B[k],O++):D.splice(O,1)}return E[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:E,size:[g,y],datatype:h===i._datatype&&m===s._datatype?v:void 0})}}),vm=ye("matAlgo01xDSid",["typed"],n=>{var{typed:e}=n;return function(r,i,s,o){var a=r._data,l=r._size,c=r._datatype||r.getDataType(),u=i._values,h=i._index,d=i._ptr,f=i._size,A=i._datatype||void 0===i._data?i._datatype:i.getDataType();if(l.length!==f.length)throw new ii(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v,_,p=l[0],m=l[1],g="string"==typeof c&&"mixed"!==c&&c===A?c:void 0,y=g?e.find(s,[g,g]):s,C=[];for(v=0;v<p;v++)C[v]=[];var b=[],M=[];for(_=0;_<m;_++){for(var D=_+1,T=d[_+1],B=d[_];B<T;B++)b[v=h[B]]=o?y(u[B],a[v][_]):y(a[v][_],u[B]),M[v]=D;for(v=0;v<p;v++)C[v][_]=M[v]===D?b[v]:a[v][_]}return r.createDenseMatrix({data:C,size:[p,m],datatype:c===r._datatype&&A===i._datatype?g:void 0})}}),hne=ye("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=vm({typed:e}),a=$H({typed:e,equalScalar:r}),l=F0({typed:e,DenseMatrix:i});return e("bitOr",{"number, number":Kte,"BigNumber, BigNumber":K8e,"bigint, bigint":(u,h)=>u|h},Ks({typed:e,matrix:t,concat:s})({SS:a,DS:o,Ss:l}))}),D6e=ye("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s}=n,o=hne({typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s});function a(l,c,u){var h=l[0].compile().evaluate(u);if(!jh(h)){if(isNaN(h))return NaN;if(-1===h)return-1;if(!0===h)return 1}var d=l[1].compile().evaluate(u);return o(h,d)}return a.rawArgs=!0,a},{isTransformFunction:!0}),TI="cumsum",fne=ye(TI,["typed","add","unaryPlus"],n=>{var{typed:e,add:t,unaryPlus:r}=n;return e(TI,{Array:i,Matrix:function(c){return c.create(i(c.valueOf(),c.datatype()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(c,u){return c.create(o(c.valueOf(),u),c.datatype())},"...":function(c){if(db(c))throw new TypeError("All values expected to be scalar in function cumsum");return i(c)}});function i(l){try{return s(l)}catch(c){throw qc(c,TI)}}function s(l){if(0===l.length)return[];for(var c=[r(l[0])],u=1;u<l.length;++u)c.push(t(c[u-1],l[u]));return c}function o(l,c){var u=Er(l);if(c<0||c>=u.length)throw new ed(c,u.length);try{return a(l,c)}catch(h){throw qc(h,TI)}}function a(l,c){var u,h,d;if(c<=0){if(Array.isArray(l[0][0])){for(d=ate(l),h=[],u=0;u<d.length;u++)h[u]=a(d[u],c-1);return h}return s(l)}for(h=[],u=0;u<l.length;u++)h[u]=a(l[u],c-1);return h}}),B6e=ye("cumsum",["typed","add","unaryPlus"],n=>{var{typed:e,add:t,unaryPlus:r}=n,i=fne({typed:e,add:t,unaryPlus:r});return e("cumsum",{"...any":function(o){if(2===o.length&&jh(o[0])){var a=o[1];kr(a)?o[1]=a-1:Hr(a)&&(o[1]=a.minus(1))}try{return i.apply(null,o)}catch(l){throw Gc(l)}}})},{isTransformFunction:!0}),F6e=ye("index",["Index","getMatrixDataType"],n=>{var{Index:e,getMatrixDataType:t}=n;return function(){for(var i=[],s=0,o=arguments.length;s<o;s++){var a=arguments[s];if(bH(a))a.start--,a.end-=a.step>0?0:2;else if(a&&!0===a.isSet)a=a.map(function(c){return c-1});else if(Ms(a)||ur(a))"boolean"!==t(a)&&(a=a.map(function(c){return c-1}));else if(kr(a))a--;else if(Hr(a))a=a.toNumber()-1;else if("string"!=typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[s]=a}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0}),pne=ye("sum",["typed","config","add","numeric"],n=>{var{typed:e,config:t,add:r,numeric:i}=n;return e("sum",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function o(a,l){try{return bI(a,l,r)}catch(u){throw qc(u,"sum")}},"...":function(l){if(db(l))throw new TypeError("Scalar values expected in function sum");return s(l)}});function s(a){var l;return bp(a,function(c){try{l=void 0===l?c:r(l,c)}catch(u){throw qc(u,"sum",c)}}),void 0===l&&(l=i(0,t.number)),"string"==typeof l&&(l=i(l,dm(l,t))),l}}),P6e=ye("sum",["typed","config","add","numeric"],n=>{var{typed:e,config:t,add:r,numeric:i}=n,s=pne({typed:e,config:t,add:r,numeric:i});return e("sum",{"...any":function(a){a=mm(a);try{return s.apply(null,a)}catch(l){throw Gc(l)}}})},{isTransformFunction:!0}),vne=ye("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:s,smallerEq:o,larger:a,largerEq:l,add:c,isPositive:u}=n;return e("range",{string:d,"string, boolean":d,"number, number":function(m,g){return h(f(m,g,1,!1))},"number, number, number":function(m,g,y){return h(f(m,g,y,!1))},"number, number, boolean":function(m,g,y){return h(f(m,g,1,y))},"number, number, number, boolean":function(m,g,y,v){return h(f(m,g,y,v))},"BigNumber, BigNumber":function(m,g){return h(f(m,g,new(0,m.constructor)(1),!1))},"BigNumber, BigNumber, BigNumber":function(m,g,y){return h(f(m,g,y,!1))},"BigNumber, BigNumber, boolean":function(m,g,y){return h(f(m,g,new(0,m.constructor)(1),y))},"BigNumber, BigNumber, BigNumber, boolean":function(m,g,y,v){return h(f(m,g,y,v))},"Unit, Unit, Unit":function(m,g,y){return h(f(m,g,y,!1))},"Unit, Unit, Unit, boolean":function(m,g,y,v){return h(f(m,g,y,v))}});function h(p){return"Matrix"===t.matrix?r?r(p):fte():p}function d(p,m){var g=function A(p){var g=p.split(":").map(function(v){return Number(v)});if(g.some(function(v){return isNaN(v)}))return null;switch(g.length){case 2:return{start:g[0],end:g[1],step:1};case 3:return{start:g[0],end:g[2],step:g[1]};default:return null}}(p);if(!g)throw new SyntaxError('String "'+p+'" is no valid range');return"BigNumber"===t.number?(void 0===i&&LH(),h(f(i(g.start),i(g.end),i(g.step)))):h(f(g.start,g.end,g.step,m))}function f(p,m,g,y){for(var v=[],_=u(g)?y?o:s:y?l:a,C=p;_(C,m);)v.push(C),C=c(C,g);return v}}),H6e=ye("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],n=>{var{typed:e,config:t,matrix:r,bignumber:i,smaller:s,smallerEq:o,larger:a,largerEq:l,add:c,isPositive:u}=n,h=vne({typed:e,config:t,matrix:r,bignumber:i,smaller:s,smallerEq:o,larger:a,largerEq:l,add:c,isPositive:u});return e("range",{"...any":function(f){return"boolean"!=typeof f[f.length-1]&&f.push(!0),h.apply(null,f)}})},{isTransformFunction:!0}),_ne=ye("row",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e("row",{"Matrix, number":s,"Array, number":function(a,l){return s(r(Ir(a)),l).valueOf()}});function s(o,a){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");$s(a,o.size()[0]);var l=i(0,o.size()[1]),c=new t(a,l),u=o.subset(c);return ur(u)?u:r([[u]])}}),G6e=ye("row",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n,s=_ne({typed:e,Index:t,matrix:r,range:i});return e("row",{"...any":function(a){var l=a.length-1,c=a[l];kr(c)&&(a[l]=c-1);try{return s.apply(null,a)}catch(u){throw Gc(u)}}})},{isTransformFunction:!0}),wne=ye("column",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n;return e("column",{"Matrix, number":s,"Array, number":function(a,l){return s(r(Ir(a)),l).valueOf()}});function s(o,a){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");$s(a,o.size()[1]);var l=i(0,o.size()[0]),c=new t(l,a),u=o.subset(c);return ur(u)?u:r([[u]])}}),$6e=ye("column",["typed","Index","matrix","range"],n=>{var{typed:e,Index:t,matrix:r,range:i}=n,s=wne({typed:e,Index:t,matrix:r,range:i});return e("column",{"...any":function(a){var l=a.length-1,c=a[l];kr(c)&&(a[l]=c-1);try{return s.apply(null,a)}catch(u){throw Gc(u)}}})},{isTransformFunction:!0}),xne=ye("mean",["typed","add","divide"],n=>{var{typed:e,add:t,divide:r}=n;return e("mean",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function i(o,a){try{var l=bI(o,a,t),c=Array.isArray(o)?Er(o):o.size();return r(l,c[a])}catch(u){throw qc(u,"mean")}},"...":function(a){if(db(a))throw new TypeError("Scalar values expected in function mean");return s(a)}});function s(o){var a,l=0;if(bp(o,function(c){try{a=void 0===a?c:t(a,c),l++}catch(u){throw qc(u,"mean",c)}}),0===l)throw new Error("Cannot calculate the mean of an empty array");return r(a,l)}}),J6e=ye("mean",["typed","add","divide"],n=>{var{typed:e,add:t,divide:r}=n,i=xne({typed:e,add:t,divide:r});return e("mean",{"...any":function(o){o=mm(o);try{return i.apply(null,o)}catch(a){throw Gc(a)}}})},{isTransformFunction:!0}),Ene="quantileSeq",Sne=ye(Ene,["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:h,larger:d}=n,f=QH({typed:e,isInteger:c});return e(Ene,{"Array | Matrix, number | BigNumber":(y,v)=>p(y,v,!1),"Array | Matrix, number | BigNumber, number":(y,v,_)=>A(y,v,!1,_,p),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(y,v,_,C)=>A(y,v,_,C,p),"Array | Matrix, Array | Matrix":(y,v)=>m(y,v,!1),"Array | Matrix, Array | Matrix, number":(y,v,_)=>A(y,v,!1,_,m),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(y,v,_,C)=>A(y,v,_,C,m)});function A(y,v,_,C,b){return f(y,C,M=>b(M,v,_))}function p(y,v,_){var C,b=y.valueOf();if(u(v,0))throw new Error("N/prob must be non-negative");if(h(v,1))return kr(v)?g(b,v,_):t(g(b,v,_));if(d(v,1)){if(!c(v))throw new Error("N must be a positive integer");if(d(v,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var M=r(v,1);C=[];for(var D=0;u(D,v);D++){var E=s(D+1,M);C.push(g(b,E,_))}return kr(v)?C:t(C)}}function m(y,v,_){for(var C=y.valueOf(),b=v.valueOf(),M=[],D=0;D<b.length;++D)M.push(g(C,b[D],_));return M}function g(y,v,_){var C=Qi(y),b=C.length;if(0===b)throw new Error("Cannot calculate quantile of an empty sequence");var T,B,M=kr(v)?v*(b-1):v.times(b-1),D=kr(v)?Math.floor(M):M.floor().toNumber(),E=kr(v)?M%1:M.minus(D);if(c(M))return _?C[M]:a(C,kr(v)?M:M.valueOf());if(_)T=C[D],B=C[D+1];else{B=a(C,D+1),T=C[D];for(var R=0;R<D;++R)l(C[R],T)>0&&(T=C[R])}return r(o(T,i(1,E)),o(B,E))}}),nVe=ye("quantileSeq",["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],n=>{var{typed:e,bignumber:t,add:r,subtract:i,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:h,larger:d}=n,f=Sne({typed:e,bignumber:t,add:r,subtract:i,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:h,larger:d});return e("quantileSeq",{"Array | Matrix, number | BigNumber":f,"Array | Matrix, number | BigNumber, number":(p,m,g)=>f(p,m,A(g)),"Array | Matrix, number | BigNumber, boolean":f,"Array | Matrix, number | BigNumber, boolean, number":(p,m,g,y)=>f(p,m,g,A(y)),"Array | Matrix, Array | Matrix":f,"Array | Matrix, Array | Matrix, number":(p,m,g)=>f(p,m,A(g)),"Array | Matrix, Array | Matrix, boolean":f,"Array | Matrix, Array | Matrix, boolean, number":(p,m,g,y)=>f(p,m,g,A(y))});function A(p){return mm([[],p])[1]}},{isTransformFunction:!0}),KH="unbiased",Mne=ye("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:s,apply:o,isNaN:a}=n;return e("variance",{"Array | Matrix":function(h){return l(h,KH)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(h,d){return c(h,d,KH)},"Array | Matrix, number | BigNumber, string":c,"...":function(h){return l(h,KH)}});function l(u,h){var d,f=0;if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(bp(u,function(m){try{d=void 0===d?m:t(d,m),f++}catch(g){throw qc(g,"variance",m)}}),0===f)throw new Error("Cannot calculate variance of an empty array");var A=s(d,f);if(d=void 0,bp(u,function(m){var g=r(m,A);d=void 0===d?i(g,g):t(d,i(g,g))}),a(d))return d;switch(h){case"uncorrected":return s(d,f);case"biased":return s(d,f+1);case"unbiased":var p=Hr(d)?d.mul(0):0;return 1===f?p:s(d,f-1);default:throw new Error('Unknown normalization "'+h+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(u,h,d){try{if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(u,h,f=>l(f,d))}catch(f){throw qc(f,"variance")}}}),sVe=ye("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:s,apply:o,isNaN:a}=n,l=Mne({typed:e,add:t,subtract:r,multiply:i,divide:s,apply:o,isNaN:a});return e("variance",{"...any":function(u){u=mm(u);try{return l.apply(null,u)}catch(h){throw Gc(h)}}})},{isTransformFunction:!0}),Nne=ye("std",["typed","map","sqrt","variance"],n=>{var{typed:e,map:t,sqrt:r,variance:i}=n;return e("std",{"Array | Matrix":s,"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":s,"Array | Matrix, number | BigNumber, string":s,"...":function(a){return s(a)}});function s(o,a){if(0===o.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return jh(l)?t(l,r):r(l)}catch(c){throw c instanceof TypeError&&c.message.includes(" variance")?new TypeError(c.message.replace(" variance"," std")):c}}}),cVe=ye("std",["typed","map","sqrt","variance"],n=>{var{typed:e,map:t,sqrt:r,variance:i}=n,s=Nne({typed:e,map:t,sqrt:r,variance:i});return e("std",{"...any":function(a){a=mm(a);try{return s.apply(null,a)}catch(l){throw Gc(l)}}})},{isTransformFunction:!0}),pb=9e15,ym=1e9,XH="0123456789abcdef",BI="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",NI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",YH={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-pb,maxE:pb,crypto:!1},Or=!0,II="[DecimalError] ",_m=II+"Invalid argument: ",Fne=II+"Precision limit exceeded",Rne=II+"crypto unavailable",One="[object Decimal]",fc=Math.floor,$a=Math.pow,uVe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,hVe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,fVe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Pne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,id=1e7,Ar=7,AVe=BI.length-1,JH=NI.length-1,$t={toStringTag:One};function Ll(n){var e,t,r,i=n.length-1,s="",o=n[0];if(i>0){for(s+=o,e=1;e<i;e++)(t=Ar-(r=n[e]+"").length)&&(s+=bm(t)),s+=r;(t=Ar-(r=(o=n[e])+"").length)&&(s+=bm(t))}else if(0===o)return"0";for(;o%10==0;)o/=10;return s+o}function Cu(n,e,t){if(n!==~~n||n<e||n>t)throw Error(_m+n)}function XE(n,e,t,r){var i,s,o,a;for(s=n[0];s>=10;s/=10)--e;return--e<0?(e+=Ar,i=0):(i=Math.ceil((e+1)/Ar),e%=Ar),s=$a(10,Ar-e),a=n[i]%s|0,null==r?e<3?(0==e?a=a/100|0:1==e&&(a=a/10|0),o=t<4&&99999==a||t>3&&49999==a||5e4==a||0==a):o=(t<4&&a+1==s||t>3&&a+1==s/2)&&(n[i+1]/s/100|0)==$a(10,e-2)-1||(a==s/2||0==a)&&!(n[i+1]/s/100|0):e<4?(0==e?a=a/1e3|0:1==e?a=a/100|0:2==e&&(a=a/10|0),o=(r||t<4)&&9999==a||!r&&t>3&&4999==a):o=((r||t<4)&&a+1==s||!r&&t>3&&a+1==s/2)&&(n[i+1]/s/1e3|0)==$a(10,e-3)-1,o}function FI(n,e,t){for(var r,s,i=[0],o=0,a=n.length;o<a;){for(s=i.length;s--;)i[s]*=e;for(i[0]+=XH.indexOf(n.charAt(o++)),r=0;r<i.length;r++)i[r]>t-1&&(void 0===i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/t|0,i[r]%=t)}return i.reverse()}$t.absoluteValue=$t.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),tr(n)},$t.ceil=function(){return tr(new this.constructor(this),this.e+1,2)},$t.clampedTo=$t.clamp=function(n,e){var r=this,i=r.constructor;if(n=new i(n),e=new i(e),!n.s||!e.s)return new i(NaN);if(n.gt(e))throw Error(_m+e);return r.cmp(n)<0?n:r.cmp(e)>0?e:new i(r)},$t.comparedTo=$t.cmp=function(n){var e,t,r,i,s=this,o=s.d,a=(n=new s.constructor(n)).d,l=s.s,c=n.s;if(!o||!a)return l&&c?l!==c?l:o===a?0:!o^l<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?l:a[0]?-c:0;if(l!==c)return l;if(s.e!==n.e)return s.e>n.e^l<0?1:-1;for(e=0,t=(r=o.length)<(i=a.length)?r:i;e<t;++e)if(o[e]!==a[e])return o[e]>a[e]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1},$t.cosine=$t.cos=function(){var n,e,t=this,r=t.constructor;return t.d?t.d[0]?(e=r.rounding,r.precision=(n=r.precision)+Math.max(t.e,t.sd())+Ar,r.rounding=1,t=function pVe(n,e){var t,r,i;if(e.isZero())return e;(r=e.d.length)<32?i=(1/PI(4,t=Math.ceil(r/3))).toString():(t=16,i="2.3283064365386962890625e-10"),n.precision+=t,e=gb(n,1,e.times(i),new n(1));for(var s=t;s--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return n.precision-=t,e}(r,Qne(r,t)),r.precision=n,r.rounding=e,tr(2==wp||3==wp?t.neg():t,n,e,!0)):new r(1):new r(NaN)},$t.cubeRoot=$t.cbrt=function(){var n,e,t,r,i,s,o,a,l,c,u=this,h=u.constructor;if(!u.isFinite()||u.isZero())return new h(u);for(Or=!1,(s=u.s*$a(u.s*u,1/3))&&Math.abs(s)!=1/0?r=new h(s.toString()):(t=Ll(u.d),(s=((n=u.e)-t.length+1)%3)&&(t+=1==s||-2==s?"0":"00"),s=$a(t,1/3),n=fc((n+1)/3)-(n%3==(n<0?-1:2)),(r=new h(t=s==1/0?"5e"+n:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+n)).s=u.s),o=(n=h.precision)+3;;)if(c=(l=(a=r).times(a).times(a)).plus(u),r=ro(c.plus(u).times(a),c.plus(l),o+2,1),Ll(a.d).slice(0,o)===(t=Ll(r.d)).slice(0,o)){if("9999"!=(t=t.slice(o-3,o+1))&&(i||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(tr(r,n+1,1),e=!r.times(r).times(r).eq(u));break}if(!i&&(tr(a,n+1,0),a.times(a).times(a).eq(u))){r=a;break}o+=4,i=1}return Or=!0,tr(r,n,h.rounding,e)},$t.decimalPlaces=$t.dp=function(){var n,e=this.d,t=NaN;if(e){if(t=((n=e.length-1)-fc(this.e/Ar))*Ar,n=e[n])for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t},$t.dividedBy=$t.div=function(n){return ro(this,new this.constructor(n))},$t.dividedToIntegerBy=$t.divToInt=function(n){var t=this.constructor;return tr(ro(this,new t(n),0,1,1),t.precision,t.rounding)},$t.equals=$t.eq=function(n){return 0===this.cmp(n)},$t.floor=function(){return tr(new this.constructor(this),this.e+1,3)},$t.greaterThan=$t.gt=function(n){return this.cmp(n)>0},$t.greaterThanOrEqualTo=$t.gte=function(n){var e=this.cmp(n);return 1==e||0===e},$t.hyperbolicCosine=$t.cosh=function(){var n,e,t,r,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;r=o.rounding,o.precision=(t=o.precision)+Math.max(s.e,s.sd())+4,o.rounding=1,(i=s.d.length)<32?e=(1/PI(4,n=Math.ceil(i/3))).toString():(n=16,e="2.3283064365386962890625e-10"),s=gb(o,1,s.times(e),new o(1),!0);for(var l,c=n,u=new o(8);c--;)l=s.times(s),s=a.minus(l.times(u.minus(l.times(u))));return tr(s,o.precision=t,o.rounding=r,!0)},$t.hyperbolicSine=$t.sinh=function(){var n,e,t,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.rounding,s.precision=(e=s.precision)+Math.max(i.e,i.sd())+4,s.rounding=1,(r=i.d.length)<3)i=gb(s,2,i,i,!0);else{n=1.4*Math.sqrt(r),i=gb(s,2,i=i.times(1/PI(5,n=n>16?16:0|n)),i,!0);for(var o,a=new s(5),l=new s(16),c=new s(20);n--;)o=i.times(i),i=i.times(a.plus(o.times(l.times(o).plus(c))))}return s.precision=e,s.rounding=t,tr(i,e,t,!0)},$t.hyperbolicTangent=$t.tanh=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+7,r.rounding=1,ro(t.sinh(),t.cosh(),r.precision=n,r.rounding=e)):new r(t.s)},$t.inverseCosine=$t.acos=function(){var n,e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,s=t.rounding;return-1!==r?0===r?e.isNeg()?sd(t,i,s):new t(0):new t(NaN):e.isZero()?sd(t,i+4,s).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),n=sd(t,i+4,s).times(.5),t.precision=i,t.rounding=s,n.minus(e))},$t.inverseHyperbolicCosine=$t.acosh=function(){var n,e,t=this,r=t.constructor;return t.lte(1)?new r(t.eq(1)?0:NaN):t.isFinite()?(e=r.rounding,r.precision=(n=r.precision)+Math.max(Math.abs(t.e),t.sd())+4,r.rounding=1,Or=!1,t=t.times(t).minus(1).sqrt().plus(t),Or=!0,r.precision=n,r.rounding=e,t.ln()):new r(t)},$t.inverseHyperbolicSine=$t.asinh=function(){var n,e,t=this,r=t.constructor;return!t.isFinite()||t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+2*Math.max(Math.abs(t.e),t.sd())+6,r.rounding=1,Or=!1,t=t.times(t).plus(1).sqrt().plus(t),Or=!0,r.precision=n,r.rounding=e,t.ln())},$t.inverseHyperbolicTangent=$t.atanh=function(){var n,e,t,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=s.precision,e=s.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?tr(new s(i),n,e,!0):(s.precision=t=r-i.e,i=ro(i.plus(1),new s(1).minus(i),t+n,1),s.precision=n+4,s.rounding=1,i=i.ln(),s.precision=n,s.rounding=e,i.times(.5))):new s(NaN)},$t.inverseSine=$t.asin=function(){var n,e,t,r,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),t=s.precision,r=s.rounding,-1!==e?0===e?((n=sd(s,t+4,r).times(.5)).s=i.s,n):new s(NaN):(s.precision=t+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=t,s.rounding=r,i.times(2)))},$t.inverseTangent=$t.atan=function(){var n,e,t,r,i,s,o,a,l,c=this,u=c.constructor,h=u.precision,d=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&h+4<=JH)return(o=sd(u,h+4,d).times(.25)).s=c.s,o}else{if(!c.s)return new u(NaN);if(h+4<=JH)return(o=sd(u,h+4,d).times(.5)).s=c.s,o}for(u.precision=a=h+10,u.rounding=1,n=t=Math.min(28,a/Ar+2|0);n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Or=!1,e=Math.ceil(a/Ar),r=1,l=c.times(c),o=new u(c),i=c;-1!==n;)if(i=i.times(l),s=o.minus(i.div(r+=2)),i=i.times(l),void 0!==(o=s.plus(i.div(r+=2))).d[e])for(n=e;o.d[n]===s.d[n]&&n--;);return t&&(o=o.times(2<<t-1)),Or=!0,tr(o,u.precision=h,u.rounding=d,!0)},$t.isFinite=function(){return!!this.d},$t.isInteger=$t.isInt=function(){return!!this.d&&fc(this.e/Ar)>this.d.length-2},$t.isNaN=function(){return!this.s},$t.isNegative=$t.isNeg=function(){return this.s<0},$t.isPositive=$t.isPos=function(){return this.s>0},$t.isZero=function(){return!!this.d&&0===this.d[0]},$t.lessThan=$t.lt=function(n){return this.cmp(n)<0},$t.lessThanOrEqualTo=$t.lte=function(n){return this.cmp(n)<1},$t.logarithm=$t.log=function(n){var e,t,r,i,s,o,a,l,c=this,u=c.constructor,h=u.precision,d=u.rounding;if(null==n)n=new u(10),e=!0;else{if(t=(n=new u(n)).d,n.s<0||!t||!t[0]||n.eq(1))return new u(NaN);e=n.eq(10)}if(t=c.d,c.s<0||!t||!t[0]||c.eq(1))return new u(t&&!t[0]?-1/0:1!=c.s?NaN:t?0:1/0);if(e)if(t.length>1)s=!0;else{for(i=t[0];i%10==0;)i/=10;s=1!==i}if(Or=!1,o=wm(c,a=h+5),r=e?OI(u,a+10):wm(n,a),XE((l=ro(o,r,a,1)).d,i=h,d))do{if(o=wm(c,a+=10),r=e?OI(u,a+10):wm(n,a),l=ro(o,r,a,1),!s){+Ll(l.d).slice(i+1,i+15)+1==1e14&&(l=tr(l,h+1,0));break}}while(XE(l.d,i+=10,d));return Or=!0,tr(l,h,d)},$t.minus=$t.sub=function(n){var e,t,r,i,s,o,a,l,c,u,h,d,f=this,A=f.constructor;if(n=new A(n),!f.d||!n.d)return f.s&&n.s?f.d?n.s=-n.s:n=new A(n.d||f.s!==n.s?f:NaN):n=new A(NaN),n;if(f.s!=n.s)return n.s=-n.s,f.plus(n);if(d=n.d,a=A.precision,l=A.rounding,!(c=f.d)[0]||!d[0]){if(d[0])n.s=-n.s;else{if(!c[0])return new A(3===l?-0:0);n=new A(f)}return Or?tr(n,a,l):n}if(t=fc(n.e/Ar),u=fc(f.e/Ar),c=c.slice(),s=u-t){for((h=s<0)?(e=c,s=-s,o=d.length):(e=d,t=u,o=c.length),s>(r=Math.max(Math.ceil(a/Ar),o)+2)&&(s=r,e.length=1),e.reverse(),r=s;r--;)e.push(0);e.reverse()}else{for((h=(r=c.length)<(o=d.length))&&(o=r),r=0;r<o;r++)if(c[r]!=d[r]){h=c[r]<d[r];break}s=0}for(h&&(e=c,c=d,d=e,n.s=-n.s),r=d.length-(o=c.length);r>0;--r)c[o++]=0;for(r=d.length;r>s;){if(c[--r]<d[r]){for(i=r;i&&0===c[--i];)c[i]=id-1;--c[i],c[r]+=id}c[r]-=d[r]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--t;return c[0]?(n.d=c,n.e=RI(c,t),Or?tr(n,a,l):n):new A(3===l?-0:0)},$t.modulo=$t.mod=function(n){var e,t=this,r=t.constructor;return n=new r(n),!t.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||t.d&&!t.d[0]?tr(new r(t),r.precision,r.rounding):(Or=!1,9==r.modulo?(e=ro(t,n.abs(),0,3,1)).s*=n.s:e=ro(t,n,0,r.modulo,1),e=e.times(n),Or=!0,t.minus(e))},$t.naturalExponential=$t.exp=function(){return ZH(this)},$t.naturalLogarithm=$t.ln=function(){return wm(this)},$t.negated=$t.neg=function(){var n=new this.constructor(this);return n.s=-n.s,tr(n)},$t.plus=$t.add=function(n){var e,t,r,i,s,o,a,l,c,u,h=this,d=h.constructor;if(n=new d(n),!h.d||!n.d)return h.s&&n.s?h.d||(n=new d(n.d||h.s===n.s?h:NaN)):n=new d(NaN),n;if(h.s!=n.s)return n.s=-n.s,h.minus(n);if(u=n.d,a=d.precision,l=d.rounding,!(c=h.d)[0]||!u[0])return u[0]||(n=new d(h)),Or?tr(n,a,l):n;if(s=fc(h.e/Ar),r=fc(n.e/Ar),c=c.slice(),i=s-r){for(i<0?(t=c,i=-i,o=u.length):(t=u,r=s,o=c.length),i>(o=(s=Math.ceil(a/Ar))>o?s+1:o+1)&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for((o=c.length)-(i=u.length)<0&&(i=o,t=u,u=c,c=t),e=0;i;)e=(c[--i]=c[i]+u[i]+e)/id|0,c[i]%=id;for(e&&(c.unshift(e),++r),o=c.length;0==c[--o];)c.pop();return n.d=c,n.e=RI(c,r),Or?tr(n,a,l):n},$t.precision=$t.sd=function(n){var e,t=this;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(_m+n);return t.d?(e=Lne(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e},$t.round=function(){var n=this,e=n.constructor;return tr(new e(n),n.e+1,e.rounding)},$t.sine=$t.sin=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+Math.max(t.e,t.sd())+Ar,r.rounding=1,t=function mVe(n,e){var t,r=e.d.length;if(r<3)return e.isZero()?e:gb(n,2,e,e);t=1.4*Math.sqrt(r),e=gb(n,2,e=e.times(1/PI(5,t=t>16?16:0|t)),e);for(var i,s=new n(5),o=new n(16),a=new n(20);t--;)i=e.times(e),e=e.times(s.plus(i.times(o.times(i).minus(a))));return e}(r,Qne(r,t)),r.precision=n,r.rounding=e,tr(wp>2?t.neg():t,n,e,!0)):new r(NaN)},$t.squareRoot=$t.sqrt=function(){var n,e,t,r,i,s,o=this,a=o.d,l=o.e,c=o.s,u=o.constructor;if(1!==c||!a||!a[0])return new u(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);for(Or=!1,0==(c=Math.sqrt(+o))||c==1/0?(((e=Ll(a)).length+l)%2==0&&(e+="0"),c=Math.sqrt(e),l=fc((l+1)/2)-(l<0||l%2),r=new u(e=c==1/0?"5e"+l:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+l)):r=new u(c.toString()),t=(l=u.precision)+3;;)if(r=(s=r).plus(ro(o,s,t+2,1)).times(.5),Ll(s.d).slice(0,t)===(e=Ll(r.d)).slice(0,t)){if("9999"!=(e=e.slice(t-3,t+1))&&(i||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(tr(r,l+1,1),n=!r.times(r).eq(o));break}if(!i&&(tr(s,l+1,0),s.times(s).eq(o))){r=s;break}t+=4,i=1}return Or=!0,tr(r,l,u.rounding,n)},$t.tangent=$t.tan=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.rounding,r.precision=(n=r.precision)+10,r.rounding=1,(t=t.sin()).s=1,t=ro(t,new r(1).minus(t.times(t)).sqrt(),n+10,0),r.precision=n,r.rounding=e,tr(2==wp||4==wp?t.neg():t,n,e,!0)):new r(NaN)},$t.times=$t.mul=function(n){var e,t,r,i,s,o,a,l,c,u=this,h=u.constructor,d=u.d,f=(n=new h(n)).d;if(n.s*=u.s,!(d&&d[0]&&f&&f[0]))return new h(!n.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:d&&f?0*n.s:n.s/0);for(t=fc(u.e/Ar)+fc(n.e/Ar),(l=d.length)<(c=f.length)&&(s=d,d=f,f=s,o=l,l=c,c=o),s=[],r=o=l+c;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+f[r]*d[i-r-1]+e,s[i--]=a%id|0,e=a/id|0;s[i]=(s[i]+e)%id|0}for(;!s[--o];)s.pop();return e?++t:s.shift(),n.d=s,n.e=RI(s,t),Or?tr(n,h.precision,h.rounding):n},$t.toBinary=function(n,e){return t8(this,2,n,e)},$t.toDecimalPlaces=$t.toDP=function(n,e){var t=this,r=t.constructor;return t=new r(t),void 0===n?t:(Cu(n,0,ym),void 0===e?e=r.rounding:Cu(e,0,8),tr(t,n+t.e+1,e))},$t.toExponential=function(n,e){var t,r=this,i=r.constructor;return void 0===n?t=iA(r,!0):(Cu(n,0,ym),void 0===e?e=i.rounding:Cu(e,0,8),t=iA(r=tr(new i(r),n+1,e),!0,n+1)),r.isNeg()&&!r.isZero()?"-"+t:t},$t.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return void 0===n?t=iA(i):(Cu(n,0,ym),void 0===e?e=s.rounding:Cu(e,0,8),t=iA(r=tr(new s(i),n+i.e+1,e),!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t},$t.toFraction=function(n){var e,t,r,i,s,o,a,l,c,u,h,d,f=this,A=f.d,p=f.constructor;if(!A)return new p(f);if(c=t=new p(1),r=l=new p(0),s=(e=new p(r)).e=Lne(A)-f.e-1,e.d[0]=$a(10,(o=s%Ar)<0?Ar+o:o),null==n)n=s>0?e:c;else{if(!(a=new p(n)).isInt()||a.lt(c))throw Error(_m+a);n=a.gt(e)?s>0?e:c:a}for(Or=!1,a=new p(Ll(A)),u=p.precision,p.precision=s=A.length*Ar*2;h=ro(a,e,0,1,1),1!=(i=t.plus(h.times(r))).cmp(n);)t=r,r=i,c=l.plus(h.times(i=c)),l=i,e=a.minus(h.times(i=e)),a=i;return i=ro(n.minus(t),r,0,1,1),l=l.plus(i.times(c)),t=t.plus(i.times(r)),l.s=c.s=f.s,d=ro(c,r,s,1).minus(f).abs().cmp(ro(l,t,s,1).minus(f).abs())<1?[c,r]:[l,t],p.precision=u,Or=!0,d},$t.toHexadecimal=$t.toHex=function(n,e){return t8(this,16,n,e)},$t.toNearest=function(n,e){var t=this,r=t.constructor;if(t=new r(t),null==n){if(!t.d)return t;n=new r(1),e=r.rounding}else{if(n=new r(n),void 0===e?e=r.rounding:Cu(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(Or=!1,t=ro(t,n,0,e,1).times(n),Or=!0,tr(t)):(n.s=t.s,t=n),t},$t.toNumber=function(){return+this},$t.toOctal=function(n,e){return t8(this,8,n,e)},$t.toPower=$t.pow=function(n){var e,t,r,i,s,o,a=this,l=a.constructor,c=+(n=new l(n));if(!(a.d&&n.d&&a.d[0]&&n.d[0]))return new l($a(+a,c));if((a=new l(a)).eq(1))return a;if(r=l.precision,s=l.rounding,n.eq(1))return tr(a,r,s);if((e=fc(n.e/Ar))>=n.d.length-1&&(t=c<0?-c:c)<=9007199254740991)return i=Une(l,a,t,r),n.s<0?new l(1).div(i):tr(i,r,s);if((o=a.s)<0){if(e<n.d.length-1)return new l(NaN);if(1&n.d[e]||(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(e=0!=(t=$a(+a,c))&&isFinite(t)?new l(t+"").e:fc(c*(Math.log("0."+Ll(a.d))/Math.LN10+a.e+1)))>l.maxE+1||e<l.minE-1?new l(e>0?o/0:0):(Or=!1,l.rounding=a.s=1,t=Math.min(12,(e+"").length),(i=ZH(n.times(wm(a,r+t)),r)).d&&XE((i=tr(i,r+5,1)).d,r,s)&&+Ll((i=tr(ZH(n.times(wm(a,(e=r+10)+t)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=tr(i,r+1,0)),i.s=o,Or=!0,l.rounding=s,tr(i,r,s))},$t.toPrecision=function(n,e){var t,r=this,i=r.constructor;return void 0===n?t=iA(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Cu(n,1,ym),void 0===e?e=i.rounding:Cu(e,0,8),t=iA(r=tr(new i(r),n,e),n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+t:t},$t.toSignificantDigits=$t.toSD=function(n,e){var r=this.constructor;return void 0===n?(n=r.precision,e=r.rounding):(Cu(n,1,ym),void 0===e?e=r.rounding:Cu(e,0,8)),tr(new r(this),n,e)},$t.toString=function(){var n=this,e=n.constructor,t=iA(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t},$t.truncated=$t.trunc=function(){return tr(new this.constructor(this),this.e+1,1)},$t.valueOf=$t.toJSON=function(){var n=this,e=n.constructor,t=iA(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};var ro=function(){function n(r,i,s){var o,a=0,l=r.length;for(r=r.slice();l--;)r[l]=(o=r[l]*i+a)%s|0,a=o/s|0;return a&&r.unshift(a),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function t(r,i,s,o){for(var a=0;s--;)r[s]-=a,r[s]=(a=r[s]<i[s]?1:0)*o+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o,a,l){var c,u,h,d,f,A,p,m,g,y,v,_,C,b,M,D,E,T,B,R,U=r.constructor,k=r.s==i.s?1:-1,q=r.d,O=i.d;if(!(q&&q[0]&&O&&O[0]))return new U(r.s&&i.s&&(q?!O||q[0]!=O[0]:O)?q&&0==q[0]||!O?0*k:k/0:NaN);for(l?(f=1,u=r.e-i.e):(l=id,u=fc(r.e/(f=Ar))-fc(i.e/f)),B=O.length,E=q.length,y=(g=new U(k)).d=[],h=0;O[h]==(q[h]||0);h++);if(O[h]>(q[h]||0)&&u--,null==s?(b=s=U.precision,o=U.rounding):b=a?s+(r.e-i.e)+1:s,b<0)y.push(1),A=!0;else{if(b=b/f+2|0,h=0,1==B){for(d=0,O=O[0],b++;(h<E||d)&&b--;h++)y[h]=(M=d*l+(q[h]||0))/O|0,d=M%O|0;A=d||h<E}else{for((d=l/(O[0]+1)|0)>1&&(O=n(O,d,l),q=n(q,d,l),B=O.length,E=q.length),D=B,_=(v=q.slice(0,B)).length;_<B;)v[_++]=0;(R=O.slice()).unshift(0),T=O[0],O[1]>=l/2&&++T;do{d=0,(c=e(O,v,B,_))<0?(C=v[0],B!=_&&(C=C*l+(v[1]||0)),(d=C/T|0)>1?(d>=l&&(d=l-1),1==(c=e(p=n(O,d,l),v,m=p.length,_=v.length))&&(d--,t(p,B<m?R:O,m,l))):(0==d&&(c=d=1),p=O.slice()),(m=p.length)<_&&p.unshift(0),t(v,p,_,l),-1==c&&(c=e(O,v,B,_=v.length))<1&&(d++,t(v,B<_?R:O,_,l)),_=v.length):0===c&&(d++,v=[0]),y[h++]=d,c&&v[0]?v[_++]=q[D]||0:(v=[q[D]],_=1)}while((D++<E||void 0!==v[0])&&b--);A=void 0!==v[0]}y[0]||y.shift()}if(1==f)g.e=u,Ine=A;else{for(h=1,d=y[0];d>=10;d/=10)h++;g.e=h+u*f-1,tr(g,a?s+g.e+1:s,o,A)}return g}}();function tr(n,e,t,r){var i,s,o,a,l,c,u,h,d,f=n.constructor;e:if(null!=e){if(!(h=n.d))return n;for(i=1,a=h[0];a>=10;a/=10)i++;if((s=e-i)<0)s+=Ar,l=(u=h[d=0])/$a(10,i-(o=e)-1)%10|0;else if((d=Math.ceil((s+1)/Ar))>=(a=h.length)){if(!r)break e;for(;a++<=d;)h.push(0);u=l=0,i=1,o=(s%=Ar)-Ar+1}else{for(u=a=h[d],i=1;a>=10;a/=10)i++;l=(o=(s%=Ar)-Ar+i)<0?0:u/$a(10,i-o-1)%10|0}if(r=r||e<0||void 0!==h[d+1]||(o<0?u:u%$a(10,i-o-1)),c=t<4?(l||r)&&(0==t||t==(n.s<0?3:2)):l>5||5==l&&(4==t||r||6==t&&(s>0?o>0?u/$a(10,i-o):0:h[d-1])%10&1||t==(n.s<0?8:7)),e<1||!h[0])return h.length=0,c?(h[0]=$a(10,(Ar-(e-=n.e+1)%Ar)%Ar),n.e=-e||0):h[0]=n.e=0,n;if(0==s?(h.length=d,a=1,d--):(h.length=d+1,a=$a(10,Ar-s),h[d]=o>0?(u/$a(10,i-o)%$a(10,o)|0)*a:0),c)for(;;){if(0==d){for(s=1,o=h[0];o>=10;o/=10)s++;for(o=h[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(n.e++,h[0]==id&&(h[0]=1));break}if(h[d]+=a,h[d]!=id)break;h[d--]=0,a=1}for(s=h.length;0===h[--s];)h.pop()}return Or&&(n.e>f.maxE?(n.d=null,n.e=NaN):n.e<f.minE&&(n.e=0,n.d=[0])),n}function iA(n,e,t){if(!n.isFinite())return Vne(n);var r,i=n.e,s=Ll(n.d),o=s.length;return e?(t&&(r=t-o)>0?s=s.charAt(0)+"."+s.slice(1)+bm(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n.e<0?"e":"e+")+n.e):i<0?(s="0."+bm(-i-1)+s,t&&(r=t-o)>0&&(s+=bm(r))):i>=o?(s+=bm(i+1-o),t&&(r=t-i-1)>0&&(s=s+"."+bm(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-o)>0&&(i+1===o&&(s+="."),s+=bm(r))),s}function RI(n,e){var t=n[0];for(e*=Ar;t>=10;t/=10)e++;return e}function OI(n,e,t){if(e>AVe)throw Or=!0,t&&(n.precision=t),Error(Fne);return tr(new n(BI),e,1,!0)}function sd(n,e,t){if(e>JH)throw Error(Fne);return tr(new n(NI),e,t,!0)}function Lne(n){var e=n.length-1,t=e*Ar+1;if(e=n[e]){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function bm(n){for(var e="";n--;)e+="0";return e}function Une(n,e,t,r){var i,s=new n(1),o=Math.ceil(r/Ar+4);for(Or=!1;;){if(t%2&&zne((s=s.times(e)).d,o)&&(i=!0),0===(t=fc(t/2))){t=s.d.length-1,i&&0===s.d[t]&&++s.d[t];break}zne((e=e.times(e)).d,o)}return Or=!0,s}function kne(n){return 1&n.d[n.d.length-1]}function Hne(n,e,t){for(var r,i=new n(e[0]),s=0;++s<e.length;){if(!(r=new n(e[s])).s){i=r;break}i[t](r)&&(i=r)}return i}function ZH(n,e){var t,r,i,s,o,a,l,c=0,u=0,h=0,d=n.constructor,f=d.rounding,A=d.precision;if(!n.d||!n.d[0]||n.e>17)return new d(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==e?(Or=!1,l=A):l=e,a=new d(.03125);n.e>-2;)n=n.times(a),h+=5;for(l+=r=Math.log($a(2,h))/Math.LN10*2+5|0,t=s=o=new d(1),d.precision=l;;){if(s=tr(s.times(n),l,1),t=t.times(++u),Ll((a=o.plus(ro(s,t,l,1))).d).slice(0,l)===Ll(o.d).slice(0,l)){for(i=h;i--;)o=tr(o.times(o),l,1);if(null!=e)return d.precision=A,o;if(!(c<3&&XE(o.d,l-r,f,c)))return tr(o,d.precision=A,f,Or=!0);d.precision=l+=10,t=s=a=new d(1),u=0,c++}o=a}}function wm(n,e){var t,r,i,s,o,a,l,c,u,h,d,f=1,p=n,m=p.d,g=p.constructor,y=g.rounding,v=g.precision;if(p.s<0||!m||!m[0]||!p.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=p.s?NaN:m?0:p);if(null==e?(Or=!1,u=v):u=e,g.precision=u+=10,r=(t=Ll(m)).charAt(0),!(Math.abs(s=p.e)<15e14))return c=OI(g,u+2,v).times(s+""),p=wm(new g(r+"."+t.slice(1)),u-10).plus(c),g.precision=v,null==e?tr(p,v,y,Or=!0):p;for(;r<7&&1!=r||1==r&&t.charAt(1)>3;)r=(t=Ll((p=p.times(n)).d)).charAt(0),f++;for(s=p.e,r>1?(p=new g("0."+t),s++):p=new g(r+"."+t.slice(1)),h=p,l=o=p=ro(p.minus(1),p.plus(1),u,1),d=tr(p.times(p),u,1),i=3;;){if(o=tr(o.times(d),u,1),Ll((c=l.plus(ro(o,new g(i),u,1))).d).slice(0,u)===Ll(l.d).slice(0,u)){if(l=l.times(2),0!==s&&(l=l.plus(OI(g,u+2,v).times(s+""))),l=ro(l,new g(f),u,1),null!=e)return g.precision=v,l;if(!XE(l.d,u-10,y,a))return tr(l,g.precision=v,y,Or=!0);g.precision=u+=10,c=o=p=ro(h.minus(1),h.plus(1),u,1),d=tr(p.times(p),u,1),i=a=1}l=c,i+=2}}function Vne(n){return String(n.s*n.s/0)}function e8(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,n.e=t=t-r-1,n.d=[],r=(t+1)%Ar,t<0&&(r+=Ar),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=Ar;r<i;)n.d.push(+e.slice(r,r+=Ar));e=e.slice(r),r=Ar-e.length}else r-=i;for(;r--;)e+="0";n.d.push(+e),Or&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function gb(n,e,t,r,i){var s,o,a,l,u=n.precision,h=Math.ceil(u/Ar);for(Or=!1,l=t.times(t),a=new n(r);;){if(o=ro(a.times(l),new n(e++*e++),u,1),a=i?r.plus(o):r.minus(o),r=ro(o.times(l),new n(e++*e++),u,1),void 0!==(o=a.plus(r)).d[h]){for(s=h;o.d[s]===a.d[s]&&s--;);if(-1==s)break}s=a,a=r,r=o,o=s}return Or=!0,o.d.length=h+1,o}function PI(n,e){for(var t=n;--e;)t*=n;return t}function Qne(n,e){var t,r=e.s<0,i=sd(n,n.precision,1),s=i.times(.5);if((e=e.abs()).lte(s))return wp=r?4:1,e;if((t=e.divToInt(i)).isZero())wp=r?3:2;else{if((e=e.minus(t.times(i))).lte(s))return wp=kne(t)?r?2:3:r?4:1,e;wp=kne(t)?r?1:4:r?3:2}return e.minus(i).abs()}function t8(n,e,t,r){var i,s,o,a,l,c,u,h,d,f=n.constructor,A=void 0!==t;if(A?(Cu(t,1,ym),void 0===r?r=f.rounding:Cu(r,0,8)):(t=f.precision,r=f.rounding),n.isFinite()){for(A?(i=2,16==e?t=4*t-3:8==e&&(t=3*t-2)):i=e,(o=(u=iA(n)).indexOf("."))>=0&&(u=u.replace(".",""),(d=new f(1)).e=u.length-o,d.d=FI(iA(d),10,i),d.e=d.d.length),s=l=(h=FI(u,10,i)).length;0==h[--l];)h.pop();if(h[0]){if(o<0?s--:((n=new f(n)).d=h,n.e=s,h=(n=ro(n,d,t,r,0,i)).d,s=n.e,c=Ine),o=h[t],a=i/2,c=c||void 0!==h[t+1],c=r<4?(void 0!==o||c)&&(0===r||r===(n.s<0?3:2)):o>a||o===a&&(4===r||c||6===r&&1&h[t-1]||r===(n.s<0?8:7)),h.length=t,c)for(;++h[--t]>i-1;)h[t]=0,t||(++s,h.unshift(1));for(l=h.length;!h[l-1];--l);for(o=0,u="";o<l;o++)u+=XH.charAt(h[o]);if(A){if(l>1)if(16==e||8==e){for(o=16==e?4:3,--l;l%o;l++)u+="0";for(l=(h=FI(u,i,e)).length;!h[l-1];--l);for(o=1,u="1.";o<l;o++)u+=XH.charAt(h[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)u="0"+u;u="0."+u}else if(++s>l)for(s-=l;s--;)u+="0";else s<l&&(u=u.slice(0,s)+"."+u.slice(s))}else u=A?"0p+0":"0";u=(16==e?"0x":2==e?"0b":8==e?"0o":"")+u}else u=Vne(n);return n.s<0?"-"+u:u}function zne(n,e){if(n.length>e)return n.length=e,!0}function vVe(n){return new this(n).abs()}function yVe(n){return new this(n).acos()}function _Ve(n){return new this(n).acosh()}function bVe(n,e){return new this(n).plus(e)}function wVe(n){return new this(n).asin()}function CVe(n){return new this(n).asinh()}function xVe(n){return new this(n).atan()}function EVe(n){return new this(n).atanh()}function SVe(n,e){n=new this(n),e=new this(e);var t,r=this.precision,i=this.rounding,s=r+4;return n.s&&e.s?n.d||e.d?!e.d||n.isZero()?(t=e.s<0?sd(this,r,i):new this(0)).s=n.s:!n.d||e.isZero()?(t=sd(this,s,1).times(.5)).s=n.s:e.s<0?(this.precision=s,this.rounding=1,t=this.atan(ro(n,e,s,1)),e=sd(this,s,1),this.precision=r,this.rounding=i,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(ro(n,e,s,1)):(t=sd(this,s,1).times(e.s>0?.25:.75)).s=n.s:t=new this(NaN),t}function DVe(n){return new this(n).cbrt()}function MVe(n){return tr(n=new this(n),n.e+1,2)}function TVe(n,e,t){return new this(n).clamp(e,t)}function BVe(n){if(!n||"object"!=typeof n)throw Error(II+"Object expected");var e,t,r,i=!0===n.defaults,s=["precision",1,ym,"rounding",0,8,"toExpNeg",-pb,0,"toExpPos",0,pb,"maxE",0,pb,"minE",-pb,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(t=s[e],i&&(this[t]=YH[t]),void 0!==(r=n[t])){if(!(fc(r)===r&&r>=s[e+1]&&r<=s[e+2]))throw Error(_m+t+": "+r);this[t]=r}if(t="crypto",i&&(this[t]=YH[t]),void 0!==(r=n[t])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(_m+t+": "+r);if(r){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(Rne);this[t]=!0}else this[t]=!1}return this}function NVe(n){return new this(n).cos()}function IVe(n){return new this(n).cosh()}function FVe(n,e){return new this(n).div(e)}function RVe(n){return new this(n).exp()}function OVe(n){return tr(n=new this(n),n.e+1,3)}function PVe(){var n,e,t=new this(0);for(Or=!1,n=0;n<arguments.length;)if((e=new this(arguments[n++])).d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Or=!0,new this(1/0);t=e}return Or=!0,t.sqrt()}function jne(n){return n instanceof YE||n&&n.toStringTag===One||!1}function LVe(n){return new this(n).ln()}function UVe(n,e){return new this(n).log(e)}function kVe(n){return new this(n).log(2)}function HVe(n){return new this(n).log(10)}function VVe(){return Hne(this,arguments,"lt")}function QVe(){return Hne(this,arguments,"gt")}function zVe(n,e){return new this(n).mod(e)}function GVe(n,e){return new this(n).mul(e)}function jVe(n,e){return new this(n).pow(e)}function qVe(n){var e,t,r,i,s=0,o=new this(1),a=[];if(void 0===n?n=this.precision:Cu(n,1,ym),r=Math.ceil(n/Ar),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));s<r;)(i=e[s])>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Rne);for(e=crypto.randomBytes(r*=4);s<r;)(i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((127&e[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,s):(a.push(i%1e7),s+=4);s=r/4}else for(;s<r;)a[s++]=1e7*Math.random()|0;for(r=a[--s],n%=Ar,r&&n&&(i=$a(10,Ar-n),a[s]=(r/i|0)*i);0===a[s];s--)a.pop();if(s<0)t=0,a=[0];else{for(t=-1;0===a[0];t-=Ar)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<Ar&&(t-=Ar-r)}return o.e=t,o.d=a,o}function WVe(n){return tr(n=new this(n),n.e+1,this.rounding)}function $Ve(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function KVe(n){return new this(n).sin()}function XVe(n){return new this(n).sinh()}function YVe(n){return new this(n).sqrt()}function JVe(n,e){return new this(n).sub(e)}function ZVe(){var n=0,e=arguments,t=new this(e[n]);for(Or=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return Or=!0,tr(t,this.precision,this.rounding)}function eQe(n){return new this(n).tan()}function tQe(n){return new this(n).tanh()}function nQe(n){return tr(n=new this(n),n.e+1,1)}$t[Symbol.for("nodejs.util.inspect.custom")]=$t.toString,$t[Symbol.toStringTag]="Decimal";var YE=$t.constructor=function Gne(n){var e,t,r;function i(s){var o,a,l,c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,jne(s))return c.s=s.s,void(Or?!s.d||s.e>i.maxE?(c.e=NaN,c.d=null):s.e<i.minE?(c.e=0,c.d=[0]):(c.e=s.e,c.d=s.d.slice()):(c.e=s.e,c.d=s.d?s.d.slice():s.d));if("number"==(l=typeof s)){if(0===s)return c.s=1/s<0?-1:1,c.e=0,void(c.d=[0]);if(s<0?(s=-s,c.s=-1):c.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;return void(Or?o>i.maxE?(c.e=NaN,c.d=null):o<i.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[s]):(c.e=o,c.d=[s]))}return 0*s!=0?(s||(c.s=NaN),c.e=NaN,void(c.d=null)):e8(c,s.toString())}if("string"!==l)throw Error(_m+s);return 45===(a=s.charCodeAt(0))?(s=s.slice(1),c.s=-1):(43===a&&(s=s.slice(1)),c.s=1),Pne.test(s)?e8(c,s):function gVe(n,e){var t,r,i,s,o,a,l,c,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Pne.test(e))return e8(n,e)}else if("Infinity"===e||"NaN"===e)return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(hVe.test(e))t=16,e=e.toLowerCase();else if(uVe.test(e))t=2;else{if(!fVe.test(e))throw Error(_m+e);t=8}for((s=e.search(/p/i))>0?(l=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),s=e.indexOf("."),r=n.constructor,(o=s>=0)&&(s=(a=(e=e.replace(".","")).length)-s,i=Une(r,new r(t),s,2*s)),s=u=(c=FI(e,t,id)).length-1;0===c[s];--s)c.pop();return s<0?new r(0*n.s):(n.e=RI(c,u),n.d=c,Or=!1,o&&(n=ro(n,i,4*a)),l&&(n=n.times(Math.abs(l)<54?$a(2,l):YE.pow(2,l))),Or=!0,n)}(c,s)}if(i.prototype=$t,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=BVe,i.clone=Gne,i.isDecimal=jne,i.abs=vVe,i.acos=yVe,i.acosh=_Ve,i.add=bVe,i.asin=wVe,i.asinh=CVe,i.atan=xVe,i.atanh=EVe,i.atan2=SVe,i.cbrt=DVe,i.ceil=MVe,i.clamp=TVe,i.cos=NVe,i.cosh=IVe,i.div=FVe,i.exp=RVe,i.floor=OVe,i.hypot=PVe,i.ln=LVe,i.log=UVe,i.log10=HVe,i.log2=kVe,i.max=VVe,i.min=QVe,i.mod=zVe,i.mul=GVe,i.pow=jVe,i.random=qVe,i.round=WVe,i.sign=$Ve,i.sin=KVe,i.sinh=XVe,i.sqrt=YVe,i.sub=JVe,i.sum=ZVe,i.tan=eQe,i.tanh=tQe,i.trunc=nQe,void 0===n&&(n={}),n&&!0!==n.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}(YH);BI=new YE(BI),NI=new YE(NI);const LI=YE;var sQe=ye("BigNumber",["?on","config"],n=>{var{on:e,config:t}=n,r=LI.clone({precision:t.precision,modulo:LI.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,s){i.precision!==s.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const dc=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:.5*(Math.exp(n)+Math.exp(-n))},$h=Math.sinh||function(n){return Math.abs(n)<1e-9?n:.5*(Math.exp(n)-Math.exp(-n))},n8=function(n,e){return(n=Math.abs(n))<(e=Math.abs(e))&&([n,e]=[e,n]),n<1e8?Math.sqrt(n*n+e*e):(e/=n,n*Math.sqrt(1+e*e))},mb=function(){throw SyntaxError("Invalid Param")};function r8(n,e){const t=Math.abs(n),r=Math.abs(e);return 0===n?Math.log(r):0===e?Math.log(t):t<3e3&&r<3e3?.5*Math.log(n*n+e*e):(n*=.5,e*=.5,.5*Math.log(n*n+e*e)+Math.LN2)}const aQe={re:0,im:0},R0=function(n,e){const t=aQe;if(null==n)t.re=t.im=0;else if(void 0!==e)t.re=n,t.im=e;else switch(typeof n){case"object":if("im"in n&&"re"in n)t.re=n.re,t.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Nt.INFINITY;t.re=n.abs*Math.cos(n.arg),t.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Nt.INFINITY;t.re=n.r*Math.cos(n.phi),t.im=n.r*Math.sin(n.phi)}else 2===n.length?(t.re=n[0],t.im=n[1]):mb();break;case"string":t.im=t.re=0;const r=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,s=0;null===r&&mb();for(let o=0;o<r.length;o++){const a=r[o];" "===a||"\t"===a||"\n"===a||("+"===a?i++:"-"===a?s++:"i"===a||"I"===a?(i+s===0&&mb()," "===r[o+1]||isNaN(r[o+1])?t.im+=parseFloat((s%2?"-":"")+"1"):(t.im+=parseFloat((s%2?"-":"")+r[o+1]),o++),i=s=0):((i+s===0||isNaN(a))&&mb(),"i"===r[o+1]||"I"===r[o+1]?(t.im+=parseFloat((s%2?"-":"")+a),o++):t.re+=parseFloat((s%2?"-":"")+a),i=s=0))}i+s>0&&mb();break;case"number":t.im=0,t.re=n;break;default:mb()}return isNaN(t.re)||isNaN(t.im),t};function Nt(n,e){if(!(this instanceof Nt))return new Nt(n,e);const t=R0(n,e);this.re=t.re,this.im=t.im}Nt.prototype={re:0,im:0,sign:function(){const n=n8(this.re,this.im);return new Nt(this.re/n,this.im/n)},add:function(n,e){const t=R0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Nt.NAN:Nt.INFINITY:new Nt(this.re+t.re,this.im+t.im)},sub:function(n,e){const t=R0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Nt.NAN:Nt.INFINITY:new Nt(this.re-t.re,this.im-t.im)},mul:function(n,e){const t=R0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r&&0===t.re&&0===t.im||i&&0===this.re&&0===this.im?Nt.NAN:r||i?Nt.INFINITY:0===t.im&&0===this.im?new Nt(this.re*t.re,0):new Nt(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(n,e){const t=R0(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),s=0===this.re&&0===this.im,o=0===t.re&&0===t.im;if(s&&o||r&&i)return Nt.NAN;if(o||r)return Nt.INFINITY;if(s||i)return Nt.ZERO;if(0===t.im)return new Nt(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const a=t.re/t.im,l=t.re*a+t.im;return new Nt((this.re*a+this.im)/l,(this.im*a-this.re)/l)}{const a=t.im/t.re,l=t.im*a+t.re;return new Nt((this.re+this.im*a)/l,(this.im-this.re*a)/l)}},pow:function(n,e){const t=R0(n,e),r=0===this.re&&0===this.im;if(0===t.re&&0===t.im)return Nt.ONE;if(0===t.im){if(0===this.im&&this.re>0)return new Nt(Math.pow(this.re,t.re),0);if(0===this.re)switch((t.re%4+4)%4){case 0:return new Nt(Math.pow(this.im,t.re),0);case 1:return new Nt(0,Math.pow(this.im,t.re));case 2:return new Nt(-Math.pow(this.im,t.re),0);case 3:return new Nt(0,-Math.pow(this.im,t.re))}}if(r&&t.re>0)return Nt.ZERO;const s=Math.atan2(this.im,this.re),o=r8(this.re,this.im);let a=Math.exp(t.re*o-t.im*s),l=t.im*o+t.re*s;return new Nt(a*Math.cos(l),a*Math.sin(l))},sqrt:function(){const n=this.re,e=this.im;if(0===e)return n>=0?new Nt(Math.sqrt(n),0):new Nt(0,Math.sqrt(-n));const t=n8(n,e);let r=Math.sqrt(.5*(t+Math.abs(n))),i=Math.abs(e)/(2*r);return n>=0?new Nt(r,e<0?-i:i):new Nt(i,e<0?-r:r)},exp:function(){const n=Math.exp(this.re);return 0===this.im?new Nt(n,0):new Nt(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,e=this.im;return new Nt(Math.expm1(n)*Math.cos(e)+function(n){const e=Math.PI/4;if(-e>n||n>e)return Math.cos(n)-1;const t=n*n;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(n)*Math.sin(e))},log:function(){const n=this.re,e=this.im;return 0===e&&n>0?new Nt(Math.log(n),0):new Nt(r8(n,e),Math.atan2(e,n))},abs:function(){return n8(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,e=this.im;return new Nt(Math.sin(n)*dc(e),Math.cos(n)*$h(e))},cos:function(){const n=this.re,e=this.im;return new Nt(Math.cos(n)*dc(e),-Math.sin(n)*$h(e))},tan:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)+dc(e);return new Nt(Math.sin(n)/t,$h(e)/t)},cot:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)-dc(e);return new Nt(-Math.sin(n)/t,$h(e)/t)},sec:function(){const n=this.re,e=this.im,t=.5*dc(2*e)+.5*Math.cos(2*n);return new Nt(Math.cos(n)*dc(e)/t,Math.sin(n)*$h(e)/t)},csc:function(){const n=this.re,e=this.im,t=.5*dc(2*e)-.5*Math.cos(2*n);return new Nt(Math.sin(n)*dc(e)/t,-Math.cos(n)*$h(e)/t)},asin:function(){const n=this.re,e=this.im,t=new Nt(e*e-n*n+1,-2*n*e).sqrt(),r=new Nt(t.re-e,t.im+n).log();return new Nt(r.im,-r.re)},acos:function(){const n=this.re,e=this.im,t=new Nt(e*e-n*n+1,-2*n*e).sqrt(),r=new Nt(t.re-e,t.im+n).log();return new Nt(Math.PI/2-r.im,r.re)},atan:function(){const n=this.re,e=this.im;if(0===n){if(1===e)return new Nt(0,1/0);if(-1===e)return new Nt(0,-1/0)}const t=n*n+(1-e)*(1-e),r=new Nt((1-e*e-n*n)/t,-2*n/t).log();return new Nt(-.5*r.im,.5*r.re)},acot:function(){const n=this.re,e=this.im;if(0===e)return new Nt(Math.atan2(1,n),0);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).atan():new Nt(0!==n?n/0:0,0!==e?-e/0:0).atan()},asec:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Nt(0,1/0);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).acos():new Nt(0!==n?n/0:0,0!==e?-e/0:0).acos()},acsc:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Nt(Math.PI/2,1/0);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).asin():new Nt(0!==n?n/0:0,0!==e?-e/0:0).asin()},sinh:function(){const n=this.re,e=this.im;return new Nt($h(n)*Math.cos(e),dc(n)*Math.sin(e))},cosh:function(){const n=this.re,e=this.im;return new Nt(dc(n)*Math.cos(e),$h(n)*Math.sin(e))},tanh:function(){const n=2*this.re,e=2*this.im,t=dc(n)+Math.cos(e);return new Nt($h(n)/t,Math.sin(e)/t)},coth:function(){const n=2*this.re,e=2*this.im,t=dc(n)-Math.cos(e);return new Nt($h(n)/t,-Math.sin(e)/t)},csch:function(){const n=this.re,e=this.im,t=Math.cos(2*e)-dc(2*n);return new Nt(-2*$h(n)*Math.cos(e)/t,2*dc(n)*Math.sin(e)/t)},sech:function(){const n=this.re,e=this.im,t=Math.cos(2*e)+dc(2*n);return new Nt(2*dc(n)*Math.cos(e)/t,-2*$h(n)*Math.sin(e)/t)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const e=this.asin();return this.re=-this.im,this.im=n,n=e.re,e.re=-e.im,e.im=n,e},acosh:function(){const n=this.acos();if(n.im<=0){const e=n.re;n.re=-n.im,n.im=e}else{const e=n.im;n.im=-n.re,n.re=e}return n},atanh:function(){const n=this.re,e=this.im,t=n>1&&0===e,r=1-n,i=1+n,s=r*r+e*e,o=0!==s?new Nt((i*r-e*e)/s,(e*r+i*e)/s):new Nt(-1!==n?n/0:0,0!==e?e/0:0),a=o.re;return o.re=r8(o.re,o.im)/2,o.im=Math.atan2(o.im,a)/2,t&&(o.im=-o.im),o},acoth:function(){const n=this.re,e=this.im;if(0===n&&0===e)return new Nt(0,Math.PI/2);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).atanh():new Nt(0!==n?n/0:0,0!==e?-e/0:0).atanh()},acsch:function(){const n=this.re,e=this.im;if(0===e)return new Nt(0!==n?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).asinh():new Nt(0!==n?n/0:0,0!==e?-e/0:0).asinh()},asech:function(){const n=this.re,e=this.im;if(this.isZero())return Nt.INFINITY;const t=n*n+e*e;return 0!==t?new Nt(n/t,-e/t).acosh():new Nt(0!==n?n/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return Nt.INFINITY;if(this.isInfinite())return Nt.ZERO;const n=this.re,e=this.im,t=n*n+e*e;return new Nt(n/t,-e/t)},conjugate:function(){return new Nt(this.re,-this.im)},neg:function(){return new Nt(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Nt(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Nt(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Nt(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,e){const t=R0(n,e);return Math.abs(t.re-this.re)<=Nt.EPSILON&&Math.abs(t.im-this.im)<=Nt.EPSILON},clone:function(){return new Nt(this.re,this.im)},toString:function(){let n=this.re,e=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Nt.EPSILON&&(n=0),Math.abs(e)<Nt.EPSILON&&(e=0),0===e?t+n:(0!==n?(t+=n,t+=" ",e<0?(e=-e,t+="-"):t+="+",t+=" "):e<0&&(e=-e,t+="-"),1!==e&&(t+=e),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Nt.ZERO=new Nt(0,0),Nt.ONE=new Nt(1,0),Nt.I=new Nt(0,1),Nt.PI=new Nt(Math.PI,0),Nt.E=new Nt(Math.E,0),Nt.INFINITY=new Nt(1/0,1/0),Nt.NAN=new Nt(NaN,NaN),Nt.EPSILON=1e-15;var uQe=ye("Complex",[],()=>(Object.defineProperty(Nt,"name",{value:"Complex"}),Nt.prototype.constructor=Nt,Nt.prototype.type="Complex",Nt.prototype.isComplex=!0,Nt.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Nt.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Nt.prototype.format=function(n){var t=this.im,r=this.re,i=N0(this.re,n),s=N0(this.im,n),o=kr(n)?n:n?n.precision:null;if(null!==o){var a=Math.pow(10,-o);Math.abs(r/t)<a&&(r=0),Math.abs(t/r)<a&&(t=0)}return 0===t?i:0===r?1===t?"i":-1===t?"-i":s+"i":t<0?-1===t?i+" - i":i+" - "+s.substring(1)+"i":1===t?i+" + i":i+" + "+s+"i"},Nt.fromPolar=function(n){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return Nt(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=arguments[0],r=arguments[1];if(kr(t)){if(Gh(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),kr(r))return new Nt({r:t,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Nt.prototype.valueOf=Nt.prototype.toString,Nt.fromJSON=function(n){return new Nt(n)},Nt.compare=function(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0},Nt),{isClass:!0});function fQe(n){var e=0,t=1,r=Object.create(null),i=Object.create(null),s=0,o=function(l){var c=i[l];if(c&&(delete r[c],delete i[l],--e,t===c)){if(!e)return s=0,void(t=1);for(;!Object.prototype.hasOwnProperty.call(r,++t););}};return n=Math.abs(n),{hit:function(l){var c=i[l],u=++s;if(r[u]=l,i[l]=u,!c)return++e<=n?void 0:(o(l=r[t]),l);if(delete r[c],t===c)for(;!Object.prototype.hasOwnProperty.call(r,++t););},delete:o,clear:function(){e=s=0,t=1,r=Object.create(null),i=Object.create(null)}}}function JE(n){var{hasher:e,limit:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=t??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function r(){"object"!=typeof r.cache&&(r.cache={values:new Map,lru:fQe(t||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=e(i);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var a=n.apply(n,i);return r.cache.values.set(o,a),r.cache.values.delete(r.cache.lru.hit(o)),a}}var dQe=JE(function(n){return new n(1).exp()},{hasher:UI}),AQe=JE(function(n){return new n(1).plus(new n(5).sqrt()).div(2)},{hasher:UI}),i8=JE(function(n){return n.acos(-1)},{hasher:UI}),pQe=JE(function(n){return i8(n).times(2)},{hasher:UI});function UI(n){return n[0].precision}var gQe=Math.PI,mQe=2*Math.PI,vQe=Math.E,_Qe=ye("true",[],()=>!0),bQe=ye("false",[],()=>!1),wQe=ye("null",[],()=>null),CQe=ah("Infinity",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1/0):1/0}),xQe=ah("NaN",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(NaN):NaN}),EQe=ah("pi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?i8(t):gQe}),SQe=ah("tau",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?pQe(t):mQe}),DQe=ah("e",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?dQe(t):vQe}),MQe=ah("phi",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?AQe(t):1.618033988749895}),TQe=ah("LN2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(2).ln():Math.LN2}),BQe=ah("LN10",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(10).ln():Math.LN10}),NQe=ah("LOG2E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1).div(new t(2).ln()):Math.LOG2E}),IQe=ah("LOG10E",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(1).div(new t(10).ln()):Math.LOG10E}),FQe=ah("SQRT1_2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t("0.5").sqrt():Math.SQRT1_2}),RQe=ah("SQRT2",["config","?BigNumber"],n=>{var{config:e,BigNumber:t}=n;return"BigNumber"===e.number?new t(2).sqrt():Math.SQRT2}),OQe=ah("i",["Complex"],n=>{var{Complex:e}=n;return e.I}),PQe=ye("version",[],()=>"14.0.1");function ah(n,e,t){return ye(n,e,t,{recreateOnConfigChange:!0})}var LQe=Pr("speedOfLight","299792458","m s^-1"),UQe=Pr("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),kQe=Pr("planckConstant","6.62607015e-34","J s"),HQe=Pr("reducedPlanckConstant","1.0545718176461565e-34","J s"),VQe=Pr("magneticConstant","1.25663706212e-6","N A^-2"),QQe=Pr("electricConstant","8.8541878128e-12","F m^-1"),zQe=Pr("vacuumImpedance","376.730313667","ohm"),GQe=Pr("coulomb","8.987551792261171e9","N m^2 C^-2"),jQe=Pr("elementaryCharge","1.602176634e-19","C"),qQe=Pr("bohrMagneton","9.2740100783e-24","J T^-1"),WQe=Pr("conductanceQuantum","7.748091729863649e-5","S"),$Qe=Pr("inverseConductanceQuantum","12906.403729652257","ohm"),KQe=Pr("magneticFluxQuantum","2.0678338484619295e-15","Wb"),XQe=Pr("nuclearMagneton","5.0507837461e-27","J T^-1"),YQe=Pr("klitzing","25812.807459304513","ohm"),JQe=Pr("bohrRadius","5.29177210903e-11","m"),ZQe=Pr("classicalElectronRadius","2.8179403262e-15","m"),eze=Pr("electronMass","9.1093837015e-31","kg"),tze=Pr("fermiCoupling","1.1663787e-5","GeV^-2"),nze=kI("fineStructure",.0072973525693),rze=Pr("hartreeEnergy","4.3597447222071e-18","J"),ize=Pr("protonMass","1.67262192369e-27","kg"),sze=Pr("deuteronMass","3.3435830926e-27","kg"),oze=Pr("neutronMass","1.6749271613e-27","kg"),aze=Pr("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),lze=Pr("rydberg","10973731.568160","m^-1"),cze=Pr("thomsonCrossSection","6.6524587321e-29","m^2"),uze=kI("weakMixingAngle",.2229),hze=kI("efimovFactor",22.7),fze=Pr("atomicMass","1.66053906660e-27","kg"),dze=Pr("avogadro","6.02214076e23","mol^-1"),Aze=Pr("boltzmann","1.380649e-23","J K^-1"),pze=Pr("faraday","96485.33212331001","C mol^-1"),gze=Pr("firstRadiation","3.7417718521927573e-16","W m^2"),mze=Pr("loschmidt","2.686780111798444e25","m^-3"),vze=Pr("gasConstant","8.31446261815324","J K^-1 mol^-1"),yze=Pr("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),_ze=Pr("molarVolume","0.022413969545014137","m^3 mol^-1"),bze=kI("sackurTetrode",-1.16487052358),wze=Pr("secondRadiation","0.014387768775039337","m K"),Cze=Pr("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),xze=Pr("wienDisplacement","2.897771955e-3","m K"),Eze=Pr("molarMass","0.99999999965e-3","kg mol^-1"),Sze=Pr("molarMassC12","11.9999999958e-3","kg mol^-1"),Dze=Pr("gravity","9.80665","m s^-2"),Mze=Pr("planckLength","1.616255e-35","m"),Tze=Pr("planckMass","2.176435e-8","kg"),Bze=Pr("planckTime","5.391245e-44","s"),Nze=Pr("planckCharge","1.87554603778e-18","C"),Ize=Pr("planckTemperature","1.416785e+32","K");function Pr(n,e,t){return ye(n,["config","Unit","BigNumber"],i=>{var{config:s,Unit:o,BigNumber:a}=i,c=new o("BigNumber"===s.number?new a(e):parseFloat(e),t);return c.fixPrefix=!0,c})}function kI(n,e){return ye(n,["config","BigNumber"],r=>{var{config:i,BigNumber:s}=r;return"BigNumber"===i.number?new s(e):e})}typeof BigInt>"u"&&(BigInt=function(n){if(isNaN(n))throw new Error("");return n});const nr=BigInt(0),si=BigInt(1),ZE=BigInt(2),s8=BigInt(5),xu=BigInt(10),Bn={s:si,n:nr,d:si};function Cp(n,e){try{n=BigInt(n)}catch{throw Cm()}return n*e}function od(n){return"bigint"==typeof n?n:Math.floor(n)}function So(n,e){if(e===nr)throw o8();const t=Object.create(Kh.prototype);t.s=n<nr?-si:si;const r=O0(n=n<nr?-n:n,e);return t.n=n/r,t.d=e/r,t}function vb(n){const e={};let t=n,r=ZE,i=s8-si;for(;i<=t;){for(;t%r===nr;)t/=r,e[r]=(e[r]||nr)+si;i+=si+ZE*r++}return t!==n?t>1&&(e[t]=(e[t]||nr)+si):e[n]=(e[n]||nr)+si,e}const Al=function(n,e){let t=nr,r=si,i=si;if(null!=n)if(void 0!==e){if("bigint"==typeof n)t=n;else{if(isNaN(n))throw Cm();if(n%1!=0)throw qne();t=BigInt(n)}if("bigint"==typeof e)r=e;else{if(isNaN(e))throw Cm();if(e%1!=0)throw qne();r=BigInt(e)}i=t*r}else if("object"==typeof n){if("d"in n&&"n"in n)t=BigInt(n.n),r=BigInt(n.d),"s"in n&&(t*=BigInt(n.s));else if(0 in n)t=BigInt(n[0]),1 in n&&(r=BigInt(n[1]));else{if("bigint"!=typeof n)throw Cm();t=n}i=t*r}else if("number"==typeof n){if(isNaN(n))throw Cm();if(n<0&&(i=-si,n=-n),n%1==0)t=BigInt(n);else if(n>0){let s=1,o=0,a=1,l=1,c=1,u=1e7;for(n>=1&&(s=10**Math.floor(1+Math.log10(n)),n/=s);a<=u&&c<=u;){let h=(o+l)/(a+c);if(n===h){a+c<=u?(t=o+l,r=a+c):c>a?(t=l,r=c):(t=o,r=a);break}n>h?(o+=l,a+=c):(l+=o,c+=a),a>u?(t=l,r=c):(t=o,r=a)}t=BigInt(t)*BigInt(s),r=BigInt(r)}}else if("string"==typeof n){let s=0,o=nr,a=nr,l=nr,c=si,u=si,h=n.replace(/_/g,"").match(/\d+|./g);if(null===h)throw Cm();if("-"===h[s]?(i=-si,s++):"+"===h[s]&&s++,h.length===s+1?a=Cp(h[s++],i):"."===h[s+1]||"."===h[s]?("."!==h[s]&&(o=Cp(h[s++],i)),s++,(s+1===h.length||"("===h[s+1]&&")"===h[s+3]||"'"===h[s+1]&&"'"===h[s+3])&&(a=Cp(h[s],i),c=xu**BigInt(h[s].length),s++),("("===h[s]&&")"===h[s+2]||"'"===h[s]&&"'"===h[s+2])&&(l=Cp(h[s+1],i),u=xu**BigInt(h[s+1].length)-si,s+=3)):"/"===h[s+1]||":"===h[s+1]?(a=Cp(h[s],i),c=Cp(h[s+2],si),s+=3):"/"===h[s+3]&&" "===h[s+1]&&(o=Cp(h[s],i),a=Cp(h[s+2],i),c=Cp(h[s+4],si),s+=5),!(h.length<=s))throw Cm();r=c*u,i=t=l+r*o+u*a}else{if("bigint"!=typeof n)throw Cm();t=n,i=n,r=si}if(r===nr)throw o8();Bn.s=i<nr?-si:si,Bn.n=t<nr?-t:t,Bn.d=r<nr?-r:r};function O0(n,e){if(!n)return e;if(!e)return n;for(;;){if(!(n%=e))return e;if(!(e%=n))return n}}function Kh(n,e){if(Al(n,e),!(this instanceof Kh))return So(Bn.s*Bn.n,Bn.d);n=O0(Bn.d,Bn.n),this.s=Bn.s,this.n=Bn.n/n,this.d=Bn.d/n}var o8=function(){return new Error("Division by Zero")},Cm=function(){return new Error("Invalid argument")},qne=function(){return new Error("Parameters must be integer")};Kh.prototype={s:si,n:nr,d:si,abs:function(){return So(this.n,this.d)},neg:function(){return So(-this.s*this.n,this.d)},add:function(n,e){return Al(n,e),So(this.s*this.n*Bn.d+Bn.s*this.d*Bn.n,this.d*Bn.d)},sub:function(n,e){return Al(n,e),So(this.s*this.n*Bn.d-Bn.s*this.d*Bn.n,this.d*Bn.d)},mul:function(n,e){return Al(n,e),So(this.s*Bn.s*this.n*Bn.n,this.d*Bn.d)},div:function(n,e){return Al(n,e),So(this.s*Bn.s*this.n*Bn.d,this.d*Bn.n)},clone:function(){return So(this.s*this.n,this.d)},mod:function(n,e){if(void 0===n)return So(this.s*this.n%this.d,si);if(Al(n,e),nr===Bn.n*this.d)throw o8();return So(this.s*(Bn.d*this.n)%(Bn.n*this.d),Bn.d*this.d)},gcd:function(n,e){return Al(n,e),So(O0(Bn.n,this.n)*O0(Bn.d,this.d),Bn.d*this.d)},lcm:function(n,e){return Al(n,e),Bn.n===nr&&this.n===nr?So(nr,si):So(Bn.n*this.n,O0(Bn.n,this.n)*O0(Bn.d,this.d))},inverse:function(){return So(this.s*this.d,this.n)},pow:function(n,e){if(Al(n,e),Bn.d===si)return Bn.s<nr?So((this.s*this.d)**Bn.n,this.n**Bn.n):So((this.s*this.n)**Bn.n,this.d**Bn.n);if(this.s<nr)return null;let t=vb(this.n),r=vb(this.d),i=si,s=si;for(let o in t)if("1"!==o){if("0"===o){i=nr;break}if(t[o]*=Bn.n,t[o]%Bn.d!==nr)return null;t[o]/=Bn.d,i*=BigInt(o)**t[o]}for(let o in r)if("1"!==o){if(r[o]*=Bn.n,r[o]%Bn.d!==nr)return null;r[o]/=Bn.d,s*=BigInt(o)**r[o]}return Bn.s<nr?So(s,i):So(i,s)},log:function(n,e){if(Al(n,e),this.s<=nr||Bn.s<=nr)return null;const t={},r=vb(Bn.n),i=vb(Bn.d),s=vb(this.n),o=vb(this.d);for(const c in i)r[c]=(r[c]||nr)-i[c];for(const c in o)s[c]=(s[c]||nr)-o[c];for(const c in r)"1"!==c&&(t[c]=!0);for(const c in s)"1"!==c&&(t[c]=!0);let a=null,l=null;for(const c in t){const u=r[c]||nr,h=s[c]||nr;if(u===nr){if(h!==nr)return null;continue}let d=h,f=u;const A=O0(d,f);if(d/=A,f/=A,null===a&&null===l)a=d,l=f;else if(d*l!=a*f)return null}return null!==a&&null!==l?So(a,l):null},equals:function(n,e){return Al(n,e),this.s*this.n*Bn.d==Bn.s*Bn.n*this.d},lt:function(n,e){return Al(n,e),this.s*this.n*Bn.d<Bn.s*Bn.n*this.d},lte:function(n,e){return Al(n,e),this.s*this.n*Bn.d<=Bn.s*Bn.n*this.d},gt:function(n,e){return Al(n,e),this.s*this.n*Bn.d>Bn.s*Bn.n*this.d},gte:function(n,e){return Al(n,e),this.s*this.n*Bn.d>=Bn.s*Bn.n*this.d},compare:function(n,e){Al(n,e);let t=this.s*this.n*Bn.d-Bn.s*Bn.n*this.d;return(nr<t)-(t<nr)},ceil:function(n){return n=xu**BigInt(n||0),So(od(this.s*n*this.n/this.d)+(n*this.n%this.d>nr&&this.s>=nr?si:nr),n)},floor:function(n){return n=xu**BigInt(n||0),So(od(this.s*n*this.n/this.d)-(n*this.n%this.d>nr&&this.s<nr?si:nr),n)},round:function(n){return n=xu**BigInt(n||0),So(od(this.s*n*this.n/this.d)+this.s*((this.s>=nr?si:nr)+ZE*(n*this.n%this.d)>this.d?si:nr),n)},roundTo:function(n,e){Al(n,e);const t=this.n*Bn.d,r=this.d*Bn.n,i=t%r;let s=od(t/r);return i+i>=r&&s++,So(this.s*s*Bn.n,Bn.d)},divisible:function(n,e){return Al(n,e),!(!(Bn.n*this.d)||this.n*Bn.d%(Bn.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(n){let e=this.n,t=this.d;n=n||15;let r=function Oze(n,e){for(;e%ZE===nr;e/=ZE);for(;e%s8===nr;e/=s8);if(e===si)return nr;let t=xu%e,r=1;for(;t!==si;r++)if(t=t*xu%e,r>2e3)return nr;return BigInt(r)}(0,t),i=function Pze(n,e,t){let r=si,i=function Rze(n,e,t){let r=si;for(;e>nr;n=n*n%t,e>>=si)e&si&&(r=r*n%t);return r}(xu,t,e);for(let s=0;s<300;s++){if(r===i)return BigInt(s);r=r*xu%e,i=i*xu%e}return 0}(0,t,r),s=this.s<nr?"-":"";if(s+=od(e/t),e%=t,e*=xu,e&&(s+="."),r){for(let o=i;o--;)s+=od(e/t),e%=t,e*=xu;s+="(";for(let o=r;o--;)s+=od(e/t),e%=t,e*=xu;s+=")"}else for(let o=n;e&&o--;)s+=od(e/t),e%=t,e*=xu;return s},toFraction:function(n){let e=this.n,t=this.d,r=this.s<nr?"-":"";if(t===si)r+=e;else{let i=od(e/t);n&&i>nr&&(r+=i,r+=" ",e%=t),r+=e,r+="/",r+=t}return r},toLatex:function(n){let e=this.n,t=this.d,r=this.s<nr?"-":"";if(t===si)r+=e;else{let i=od(e/t);n&&i>nr&&(r+=i,e%=t),r+="\\frac{",r+=e,r+="}{",r+=t,r+="}"}return r},toContinued:function(){let n=this.n,e=this.d,t=[];do{t.push(od(n/e));let r=n%e;n=e,e=r}while(n!==si);return t},simplify:function(n){const e=BigInt(1/(n||.001)|0),t=this.abs(),r=t.toContinued();for(let i=1;i<r.length;i++){let s=So(r[i-1],si);for(let a=i-2;a>=0;a--)s=s.inverse().add(r[a]);let o=s.sub(t);if(o.n*e<o.d)return s.mul(this.s)}return this}};var kze=ye("Fraction",[],()=>(Object.defineProperty(Kh,"name",{value:"Fraction"}),Kh.prototype.constructor=Kh,Kh.prototype.type="Fraction",Kh.prototype.isFraction=!0,Kh.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Kh.fromJSON=function(n){return new Kh(n)},Kh),{isClass:!0}),Qze=ye("Matrix",[],()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0}),jze=ye("Range",[],()=>{function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=e,s=null!=t,o=null!=r;if(i)if(Hr(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(s)if(Hr(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter end must be a number");if(o)if(Hr(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(e):0,this.end=s?parseFloat(t):0,this.step=o?parseFloat(r):1}return n.prototype.type="Range",n.prototype.isRange=!0,n.parse=function(e){if("string"!=typeof e)return null;var r=e.split(":").map(function(s){return parseFloat(s)});if(r.some(function(s){return isNaN(s)}))return null;switch(r.length){case 2:return new n(r[0],r[1]);case 3:return new n(r[0],r[2],r[1]);default:return null}},n.prototype.clone=function(){return new n(this.start,this.end,this.step)},n.prototype.size=function(){var e=0,r=this.step,s=this.end-this.start;return Am(r)===Am(s)?e=Math.ceil(s/r):0===s&&(e=0),isNaN(e)&&(e=0),[e]},n.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},n.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},n.prototype.forEach=function(e){var t=this.start,r=this.step,i=this.end,s=0;if(r>0)for(;t<i;)e(t,[s],this),t+=r,s++;else if(r<0)for(;t>i;)e(t,[s],this),t+=r,s++},n.prototype.map=function(e){var t=[];return this.forEach(function(r,i,s){t[i[0]]=e(r,i,s)}),t},n.prototype.toArray=function(){var e=[];return this.forEach(function(t,r){e[r[0]]=t}),e},n.prototype.valueOf=function(){return this.toArray()},n.prototype.format=function(e){var t=N0(this.start,e);return 1!==this.step&&(t+=":"+N0(this.step,e)),t+":"+N0(this.end,e)},n.prototype.toString=function(){return this.format()},n.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n},{isClass:!0}),$ze=ye("ResultSet",[],()=>{function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return n.prototype.type="ResultSet",n.prototype.isResultSet=!0,n.prototype.valueOf=function(){return this.entries},n.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},n.fromJSON=function(e){return new n(e.entries)},n},{isClass:!0}),Yze=ye("DenseMatrix",["Matrix"],n=>{var{Matrix:e}=n;function t(u,h){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!hc(h))throw new Error("Invalid datatype: "+h);if(ur(u))"DenseMatrix"===u.type?(this._data=Ir(u._data),this._size=Ir(u._size),this._datatype=h||u._datatype):(this._data=u.toArray(),this._size=u.size(),this._datatype=h||u._datatype);else if(u&&Ms(u.data)&&Ms(u.size))this._data=u.data,this._size=u.size,jee(this._data,this._size),this._datatype=h||u.datatype;else if(Ms(u))this._data=c(u),this._size=Er(this._data),jee(this._data,this._size),this._datatype=h;else{if(u)throw new TypeError("Unsupported type of data ("+Ws(u)+")");this._data=[],this._size=[0],this._datatype=h}}function i(u,h,d,f){var A=f===d-1,p=h.dimension(f);return A?p.map(function(m){return $s(m,u.length),u[m]}).valueOf():p.map(function(m){return $s(m,u.length),i(u[m],h,d,f+1)}).valueOf()}function o(u,h,d,f,A){var p=A===f-1;h.dimension(A).forEach(p?function(g,y){$s(g),u[g]=d[y[0]]}:function(g,y){$s(g),o(u[g],h,d[y[0]],f,A+1)})}function a(u,h,d){if(0===h.length){for(var f=u._data;Ms(f);)f=f[0];return f}return u._size=h.slice(0),u._data=hb(u._data,u._size,d),u}function l(u,h,d){for(var f=u._size.slice(0),A=!1;f.length<h.length;)f.push(0),A=!0;for(var p=0,m=h.length;p<m;p++)h[p]>f[p]&&(f[p]=h[p],A=!0);A&&a(u,f,d)}function c(u){return ur(u)?c(u.valueOf()):Ms(u)?u.map(c):u}return(t.prototype=new e).createDenseMatrix=function(u,h){return new t(u,h)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return sI(this._data,Ws)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(u,h){return new t(u,h)},t.prototype.subset=function(u,h,d){switch(arguments.length){case 1:return function r(u,h){if(!JN(h))throw new TypeError("Invalid index");if(h.isScalar())return u.get(h.min());var f=h.size();if(f.length!==u._size.length)throw new ii(f.length,u._size.length);for(var A=h.min(),p=h.max(),m=0,g=u._size.length;m<g;m++)$s(A[m],u._size[m]),$s(p[m],u._size[m]);return new t(i(u._data,h,f.length,0),u._datatype)}(this,u);case 2:case 3:return function s(u,h,d,f){if(!h||!0!==h.isIndex)throw new TypeError("Invalid index");var m,A=h.size(),p=h.isScalar();if(ur(d)?(m=d.size(),d=d.valueOf()):m=Er(d),p){if(0!==m.length)throw new TypeError("Scalar expected");u.set(h.min(),d,f)}else{if(!vp(m,A))try{m=Er(d=gm(0===m.length?[d]:d,A))}catch{}if(A.length<u._size.length)throw new ii(A.length,u._size.length,"<");if(m.length<A.length){for(var g=0,y=0;1===A[g]&&1===m[g];)g++;for(;1===A[g];)y++,g++;d=$ee(d,A.length,y,m)}if(!vp(A,m))throw new ii(A,m,">");l(u,h.max().map(function(b){return b+1}),f),o(u._data,h,d,A.length,0)}return u}(this,u,h,d);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(u){return BH(this._data,u)},t.prototype.set=function(u,h,d){if(!Ms(u))throw new TypeError("Array expected");if(u.length<this._size.length)throw new ii(u.length,this._size.length,"<");var f,A,p;l(this,u.map(function(y){return y+1}),d);var g=this._data;for(f=0,A=u.length-1;f<A;f++)$s(p=u[f],g.length),g=g[p];return $s(p=u[u.length-1],g.length),g[p]=h,this},t.prototype.resize=function(u,h,d){if(!jh(u))throw new TypeError("Array or Matrix expected");var f=u.valueOf().map(p=>Array.isArray(p)&&1===p.length?p[0]:p);return a(d?this.clone():this,f,h)},t.prototype.reshape=function(u,h){var d=h?this.clone():this;d._data=MH(d._data,u);var f=d._size.reduce((A,p)=>A*p);return d._size=TH(u,f),d},t.prototype.clone=function(){return new t({data:Ir(this._data),size:Ir(this._size),datatype:this._datatype})},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(u){var h=this,d=h.size();if(1!==d.length){var A=Array(d.length).fill(0),p=Array(d.length-1),m=p.length-1;p[0]=h._data[0];for(var g=0;g<m;g++)p[g+1]=p[g][0];for(A[m]=-1;;){var y=void 0;for(y=m;y>=0;y--){if(A[y]++,A[y]!==d[y]){p[y]=0===y?h._data[A[y]]:p[y-1][A[y]];for(var v=y;v<m;v++)p[v+1]=p[v][0];for(var _=0;_<d[p.length];_++)A[p.length]=_,u(p[m],_,A.slice(0));break}A[y]=0}if(-1===y)break}}else for(var f=0;f<d[0];f++)u(h._data,f,[f])},t.prototype.map=function(u){var h=this,d=new t(h),f=I0(u,h._data,"map");return d._forEach(function(A,p,m){A[p]=f(A[p],m,h)}),d},t.prototype.forEach=function(u){var h=this,d=I0(u,h._data,"map");h._forEach(function(f,A,p){d(f[A],p,h)})},t.prototype[Symbol.iterator]=function*(){var u=function*(d,f){if(Ms(d))for(var A=0;A<d.length;A++)yield*u(d[A],f.concat(A));else yield{value:d,index:f}};yield*u(this._data,[])},t.prototype.rows=function(){var u=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var f of d)u.push(new t([f],this._datatype));return u},t.prototype.columns=function(){var u=this,h=[],d=this.size();if(2!==d.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var f=this._data,A=function(g){var y=f.map(v=>[v[g]]);h.push(new t(y,u._datatype))},p=0;p<d[1];p++)A(p);return h},t.prototype.toArray=function(){return Ir(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(u){return ri(this._data,u)},t.prototype.toString=function(){return ri(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(u){if(u){if(Hr(u)&&(u=u.toNumber()),!kr(u)||!$n(u))throw new TypeError("The parameter k must be an integer number")}else u=0;for(var h=u>0?u:0,d=u<0?-u:0,p=Math.min(this._size[0]-d,this._size[1]-h),m=[],g=0;g<p;g++)m[g]=this._data[g+d][g+h];return new t({data:m,size:[p],datatype:this._datatype})},t.diagonal=function(u,h,d,f){if(!Ms(u))throw new TypeError("Array expected, size parameter");if(2!==u.length)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(M){if(Hr(M)&&(M=M.toNumber()),!kr(M)||!$n(M)||M<1)throw new Error("Size values must be positive integers");return M}),d){if(Hr(d)&&(d=d.toNumber()),!kr(d)||!$n(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var v,A=d>0?d:0,p=d<0?-d:0,m=u[0],g=u[1],y=Math.min(m-p,g-A);if(Ms(h)){if(h.length!==y)throw new Error("Invalid value array length");v=function(D){return h[D]}}else if(ur(h)){var _=h.size();if(1!==_.length||_[0]!==y)throw new Error("Invalid matrix length");v=function(D){return h.get([D])}}else v=function(){return h};f||(f=Hr(v(0))?v(0).mul(0):0);var C=[];if(u.length>0){C=hb(C,u,f);for(var b=0;b<y;b++)C[b+p][b+A]=v(b)}return new t({data:C,size:[m,g]})},t.fromJSON=function(u){return new t(u)},t.prototype.swapRows=function(u,h){if(!(kr(u)&&$n(u)&&kr(h)&&$n(h)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return $s(u,this._size[0]),$s(h,this._size[0]),t._swapRows(u,h,this._data),this},t._swapRows=function(u,h,d){var f=d[u];d[u]=d[h],d[h]=f},t},{isClass:!0}),e7e=ye("replacer",[],()=>function(e,t){return"number"!=typeof t||isFinite(t)&&!isNaN(t)?"bigint"==typeof t?{mathjs:"bigint",value:String(t)}:t:{mathjs:"number",value:String(t)}}),Wne=function(){return Wne=xI.create,xI},n7e=ye("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:t,Complex:r,DenseMatrix:i,Fraction:s}=e,o=Wne();return o.clear(),o.addTypes([{name:"number",test:kr},{name:"Complex",test:yp},{name:"BigNumber",test:Hr},{name:"bigint",test:WPe},{name:"Fraction",test:QE},{name:"Unit",test:Gh},{name:"identifier",test:a=>hc&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:hc},{name:"Chain",test:Bee},{name:"Array",test:Ms},{name:"Matrix",test:ur},{name:"DenseMatrix",test:YN},{name:"SparseMatrix",test:T0},{name:"Range",test:bH},{name:"Index",test:JN},{name:"boolean",test:$Pe},{name:"ResultSet",test:KPe},{name:"Help",test:Tee},{name:"function",test:XPe},{name:"Date",test:YPe},{name:"RegExp",test:JPe},{name:"null",test:ZPe},{name:"undefined",test:e5e},{name:"AccessorNode",test:B0},{name:"ArrayNode",test:qh},{name:"AssignmentNode",test:t5e},{name:"BlockNode",test:n5e},{name:"ConditionalNode",test:r5e},{name:"ConstantNode",test:Di},{name:"FunctionNode",test:fm},{name:"FunctionAssignmentNode",test:GE},{name:"IndexNode",test:ab},{name:"Node",test:Ts},{name:"ObjectNode",test:ZN},{name:"OperatorNode",test:fa},{name:"ParenthesisNode",test:_p},{name:"RangeNode",test:i5e},{name:"RelationalNode",test:s5e},{name:"SymbolNode",test:fl},{name:"Map",test:ob},{name:"Object",test:zE}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(t||HI(l),function w5e(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new t(l)}},{from:"number",to:"Complex",convert:function(l){return r||VI(l),new r(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return r||VI(l),new r(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return t||HI(l),new t(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return s||QI(l),new s(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return r||VI(l),new r(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){s||QI(l);var c=new s(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){t||HI(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){s||QI(l);try{return new s(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){r||VI(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return t||HI(l),new t(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return s||QI(l),new s(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||function r7e(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(a,l,c)=>{var u=o.createError(a,l,c);if(["wrongType","mismatch"].includes(u.data.category)&&1===l.length&&jh(l[0])&&c.some(d=>!d.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=u.data,h}throw u},o.onMismatch=(a,l,c)=>{var u=o.createError(a,l,c);if(["wrongType","mismatch"].includes(u.data.category)&&1===l.length&&jh(l[0])&&c.some(d=>!d.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=u.data,h}throw u},o});function HI(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function VI(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function QI(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}var Eu="number",xp="number, number";function $ne(n){return Math.abs(n)}function Kne(n,e){return n+e}function Xne(n,e){return n-e}function Yne(n,e){return n*e}function Jne(n){return-n}function Zne(n){return n}function eS(n){return v5e(n)}function ere(n){return n*n*n}function tre(n){return Math.exp(n)}function nre(n){return y5e(n)}function rre(n,e){if(!$n(n)||!$n(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===n||0===e)return 0;for(var t,r=n*e;0!==e;)e=n%(t=e),n=t;return Math.abs(r/n)}function ire(n){return m5e(n)}function sre(n){return g5e(n)}function ore(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=e<0;if(t&&(e=-e),0===e)throw new Error("Root must be non-zero");if(n<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===n)return t?1/0:0;if(!isFinite(n))return t?0:n;var r=Math.pow(Math.abs(n),1/e);return r=n<0?-r:r,t?1/r:r}function a8(n){return Am(n)}function are(n){return n*n}function lre(n,e){var t,r,i,s=0,o=1,a=1,l=0;if(!$n(n)||!$n(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)i=n-(r=Math.floor(n/e))*e,t=s,s=o-r*s,o=t,t=a,a=l-r*a,l=t,n=e,e=i;return n<0?[-n,-o,-l]:[n,n?o:0,l]}function cre(n,e){return n*n<1&&e===1/0||n*n>1&&e===-1/0?0:Math.pow(n,e)}function tS(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!$n(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Ree(n,e))}$ne.signature=Eu,Kne.signature=xp,Xne.signature=xp,Yne.signature=xp,Jne.signature=Eu,Zne.signature=Eu,eS.signature=Eu,ere.signature=Eu,tre.signature=Eu,nre.signature=Eu,rre.signature=xp,ire.signature=Eu,sre.signature=Eu,a8.signature=Eu,are.signature=Eu,lre.signature=xp,cre.signature=xp;var f7e=ye("abs",["typed"],n=>{var{typed:e}=n;return e("abs",{number:$ne,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t,!0))})}),A7e=ye("acos",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("acos",{number:function(s){return s>=-1&&s<=1||t.predictable?Math.acos(s):new r(s,0).acos()},Complex:function(s){return s.acos()},BigNumber:function(s){return s.acos()}})}),Do="number";function fre(n){return C5e(n)}function dre(n){return Math.atan(1/n)}function Are(n){return isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0}function pre(n){return Math.asin(1/n)}function gre(n){var e=1/n;return Math.log(e+Math.sqrt(e*e+1))}function mre(n){return Math.acos(1/n)}function vre(n){var e=1/n,t=Math.sqrt(e*e-1);return Math.log(t+e)}function yre(n){return x5e(n)}function _re(n){return E5e(n)}function bre(n){return 1/Math.tan(n)}function wre(n){var e=Math.exp(2*n);return(e+1)/(e-1)}function Cre(n){return 1/Math.sin(n)}function xre(n){return 0===n?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(n)-Math.exp(-n)))*Am(n)}function Ere(n){return 1/Math.cos(n)}function Sre(n){return 2/(Math.exp(n)+Math.exp(-n))}function Dre(n){return S5e(n)}fre.signature=Do,dre.signature=Do,Are.signature=Do,pre.signature=Do,gre.signature=Do,mre.signature=Do,vre.signature=Do,yre.signature=Do,_re.signature=Do,bre.signature=Do,wre.signature=Do,Cre.signature=Do,xre.signature=Do,Ere.signature=Do,Sre.signature=Do,Dre.signature=Do;var S7e=ye("acot",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("acot",{number:dre,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})}),M7e=ye("acsc",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("acsc",{number:function(o){return o<=-1||o>=1||t.predictable?pre(o):new r(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})}),B7e=ye("addScalar",["typed"],n=>{var{typed:e}=n;return e("addScalar",{"number, number":Kne,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"bigint, bigint":function(r,i){return r+i},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==i.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var s=r.clone();return s.value=e.find(t,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})}),I7e=ye("arg",["typed"],n=>{var{typed:e}=n;return e("arg",{number:function(r){return Math.atan2(0,r)},BigNumber:function(r){return r.constructor.atan2(0,r)},Complex:function(r){return r.arg()},"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),R7e=ye("asech",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("asech",{number:function(o){if(o<=1&&o>=-1||t.predictable){var a=1/o;if(a>0||t.predictable)return vre(o);var l=Math.sqrt(a*a-1);return new r(Math.log(l-a),Math.PI)}return new r(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})}),L7e=ye("asinh",["typed"],n=>{var{typed:e}=n;return e("asinh",{number:yre,Complex:function(r){return r.asinh()},BigNumber:function(r){return r.asinh()}})}),H7e=ye("atan",["typed"],n=>{var{typed:e}=n;return e("atan",{number:function(r){return Math.atan(r)},Complex:function(r){return r.atan()},BigNumber:function(r){return r.atan()}})}),Q7e=ye("atanh",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("atanh",{number:function(s){return s<=1&&s>=-1||t.predictable?_re(s):new r(s,0).atanh()},Complex:function(s){return s.atanh()},BigNumber:function(s){return s.atanh()}})}),j7e=ye("bigint",["typed"],n=>{var{typed:e}=n,t=e("bigint",{"":function(){return 0n},bigint:function(i){return i},number:function(i){return BigInt(i.toFixed())},BigNumber:function(i){return BigInt(i.round().toString())},Fraction:function(i){return BigInt(i.valueOf().toFixed())},"string | boolean":function(i){return BigInt(i)},null:function(i){return 0n},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))});return t.fromJSON=function(r){return BigInt(r.value)},t}),W7e=ye("bitNot",["typed"],n=>{var{typed:e}=n;return e("bitNot",{number:$te,BigNumber:KE,bigint:t=>~t,"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),K7e=ye("boolean",["typed"],n=>{var{typed:e}=n;return e("boolean",{"":function(){return!1},boolean:function(r){return r},number:function(r){return!!r},null:function(r){return!1},BigNumber:function(r){return!r.isZero()},string:function(r){var i=r.toLowerCase();if("true"===i)return!0;if("false"===i)return!1;var s=Number(r);if(""!==r&&!isNaN(s))return!!s;throw new Error('Cannot convert "'+r+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),Y7e=ye("clone",["typed"],n=>{var{typed:e}=n;return e("clone",{any:Ir})});function Ep(n,e){if(e<n)return 1;if(e===n)return e;var t=e+n>>1;return Ep(n,t)*Ep(t+1,e)}function Lre(n,e){if(!$n(n)||n<0)throw new TypeError("Positive integer value expected in function combinations");if(!$n(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>n)throw new TypeError("k must be less than or equal to n");for(var t=n-e,r=1,s=2,o=e<t?e:t,a=e<t?t+1:e+1;a<=n;++a)for(r*=a;s<=o&&r%s==0;)r/=s,++s;return s<=o&&(r/=Ep(s,o)),r}Lre.signature="number, number";var Ure="combinations",Z7e=ye(Ure,["typed"],n=>{var{typed:e}=n;return e(Ure,{"number, number":Lre,"BigNumber, BigNumber":function(r,i){var o,a,s=r.constructor,l=r.minus(i),c=new s(1);if(!kre(r)||!kre(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(r))throw new TypeError("k must be less than n in function combinations");if(o=c,i.lt(l))for(a=c;a.lte(l);a=a.plus(c))o=o.times(i.plus(a)).dividedBy(a);else for(a=c;a.lte(i);a=a.plus(c))o=o.times(l.plus(a)).dividedBy(a);return o}})});function kre(n){return n.isInteger()&&n.gte(0)}var nGe=ye("complex",["typed","Complex"],n=>{var{typed:e,Complex:t}=n;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,s){return new t(i,s)},"BigNumber, BigNumber":function(i,s){return new t(i.toNumber(),s.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})}),iGe=ye("conj",["typed"],n=>{var{typed:e}=n;return e("conj",{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),yb=ye("trigUnit",["typed"],n=>{var{typed:e}=n;return{Unit:e.referToSelf(t=>r=>{if(!r.hasBase(r.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,r.valueType())(r.value)})}}),oGe=ye("cos",["typed"],n=>{var{typed:e}=n,t=yb({typed:e});return e("cos",{number:Math.cos,"Complex | BigNumber":r=>r.cos()},t)}),lGe=ye("cot",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("cot",{number:bre,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},yb({typed:e}))}),uGe=ye("csc",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("csc",{number:Cre,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},yb({typed:e}))}),fGe=ye("cube",["typed"],n=>{var{typed:e}=n;return e("cube",{number:ere,Complex:function(r){return r.mul(r).mul(r)},BigNumber:function(r){return r.times(r).times(r)},bigint:function(r){return r*r*r},Fraction:function(r){return r.pow(3)},Unit:function(r){return r.pow(3)}})});function Su(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-9,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!n.isNaN()&&!e.isNaN()&&(n.isFinite()&&e.isFinite()?!!n.eq(e)||n.minus(e).abs().lte(n.constructor.max(n.constructor.max(n.abs(),e.abs()).mul(t),r)):n.eq(e))}var _b=ye("compareUnits",["typed"],n=>{var{typed:e}=n;return{"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[r.valueType(),i.valueType()])(r.value,i.value)})}}),zI="equalScalar",pGe=ye(zI,["typed","config"],n=>{var{typed:e,config:t}=n,r=_b({typed:e});return e(zI,{"boolean, boolean":function(s,o){return s===o},"number, number":function(s,o){return Ol(s,o,t.relTol,t.absTol)},"BigNumber, BigNumber":function(s,o){return s.eq(o)||Su(s,o,t.relTol,t.absTol)},"bigint, bigint":function(s,o){return s===o},"Fraction, Fraction":function(s,o){return s.equals(o)},"Complex, Complex":function(s,o){return function dGe(n,e,t,r){return Ol(n.re,e.re,t,r)&&Ol(n.im,e.im,t,r)}(s,o,t.relTol,t.absTol)}},r)}),vGe=(ye(zI,["typed","config"],n=>{var{typed:e,config:t}=n;return e(zI,{"number, number":function(i,s){return Ol(i,s,t.relTol,t.absTol)}})}),ye("erf",["typed"],n=>{var{typed:e}=n;return e("name",{number:function(o){var a=Math.abs(o);return a>=bGe?Am(o):a<=yGe?Am(o)*function t(s){var c,o=s*s,a=Sp[0][4]*o,l=o;for(c=0;c<3;c+=1)a=(a+Sp[0][c])*o,l=(l+bb[0][c])*o;return s*(a+Sp[0][3])/(l+bb[0][3])}(a):a<=4?Am(o)*(1-function r(s){var l,o=Sp[1][8]*s,a=s;for(l=0;l<7;l+=1)o=(o+Sp[1][l])*s,a=(a+bb[1][l])*s;var c=(o+Sp[1][7])/(a+bb[1][7]),u=parseInt(16*s)/16,h=(s-u)*(s+u);return Math.exp(-u*u)*Math.exp(-h)*c}(a)):Am(o)*(1-function i(s){var c,o=1/(s*s),a=Sp[2][5]*o,l=o;for(c=0;c<4;c+=1)a=(a+Sp[2][c])*o,l=(l+bb[2][c])*o;var u=o*(a+Sp[2][4])/(l+bb[2][4]);u=(_Ge-u)/s;var h=(s-(o=parseInt(16*s)/16))*(s+o);return Math.exp(-o*o)*Math.exp(-h)*u}(a))},"Array | Matrix":e.referToSelf(s=>o=>Rr(o,s))})})),yGe=.46875,_Ge=.5641895835477563,Sp=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],bb=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],bGe=Math.pow(2,53),CGe=ye("exp",["typed"],n=>{var{typed:e}=n;return e("exp",{number:tre,Complex:function(r){return r.exp()},BigNumber:function(r){return r.exp()}})}),EGe=ye("expm1",["typed","Complex"],n=>{var{typed:e,Complex:t}=n;return e("expm1",{number:nre,Complex:function(i){var s=Math.exp(i.re);return new t(s*Math.cos(i.im)-1,s*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),DGe=ye("flatten",["typed"],n=>{var{typed:e}=n;return e("flatten",{Array:function(r){return Qi(r)},Matrix:function(r){return r.create(Qi(r.toArray()),r.datatype())}})}),TGe=ye("format",["typed"],n=>{var{typed:e}=n;return e("format",{any:ri,"any, Object | function | number | BigNumber":ri})}),Kre="getMatrixDataType",NGe=ye(Kre,["typed"],n=>{var{typed:e}=n;return e(Kre,{Array:function(r){return sI(r,Ws)},Matrix:function(r){return r.getDataType()}})}),FGe=ye("hex",["typed","format"],n=>{var{typed:e,format:t}=n;return e("hex",{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,s){return t(i,{notation:"hex",wordSize:s})}})}),OGe=ye("im",["typed"],n=>{var{typed:e}=n;return e("im",{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),LGe=ye("isInteger",["typed"],n=>{var{typed:e}=n;return e("isInteger",{number:$n,BigNumber:function(r){return r.isInt()},bigint:function(r){return!0},Fraction:function(r){return 1n===r.d},"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),nS="number";function Zre(n){return n<0}function eie(n){return n>0}function tie(n){return Number.isNaN(n)}Zre.signature=nS,eie.signature=nS,tie.signature=nS;var nie="isNegative",VGe=ye(nie,["typed","config"],n=>{var{typed:e,config:t}=n;return e(nie,{number:r=>!Ol(r,0,t.relTol,t.absTol)&&Zre(r),BigNumber:r=>!Su(r,new r.constructor(0),t.relTol,t.absTol)&&r.isNeg()&&!r.isZero()&&!r.isNaN(),bigint:r=>r<0n,Fraction:r=>r.s<0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})}),rie="isPositive",zGe=ye(rie,["typed","config"],n=>{var{typed:e,config:t}=n;return e(rie,{number:r=>!Ol(r,0,t.relTol,t.absTol)&&eie(r),BigNumber:r=>!(Su(r,new r.constructor(0),t.relTol,t.absTol)||r.isNeg()||r.isZero()||r.isNaN()),bigint:r=>r>0n,Fraction:r=>r.s>0n&&r.n>0n,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})}),jGe=ye("isZero",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e("isZero",{"number | BigNumber | Complex | Fraction":r=>t(r,0),bigint:r=>0n===r,Unit:e.referToSelf(r=>i=>e.find(r,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})});function GI(n){var e;if($n(n))return n<=0?isFinite(n)?1/0:NaN:n>171?1/0:Ep(1,n-1);if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*GI(1-n));if(n>=171.35)return 1/0;if(n>85){var t=n*n,r=t*n,i=r*n,s=i*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*t)-139/(51840*r)-571/(2488320*i)+163879/(209018880*s)+5246819/(75246796800*s*n))}--n,e=wb[0];for(var o=1;o<wb.length;++o)e+=wb[o]/(n+o);var a=n+sie+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,n+.5)*Math.exp(-a)*e}GI.signature="number";var sie=4.7421875,wb=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],oie=.9189385332046728,aie=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function jI(n){if(n<0)return NaN;if(0===n)return 1/0;if(!isFinite(n))return n;if(n<.5)return Math.log(Math.PI/Math.sin(Math.PI*n))-jI(1-n);for(var e=5+(n-=1)+.5,t=aie[0],r=6;r>=1;r--)t+=aie[r]/(n+r);return oie+(n+.5)*Math.log(e)-e+Math.log(t)}jI.signature="number";var KGe=ye("lgamma",["Complex","typed"],n=>{var{Complex:e,typed:t}=n,s=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t("lgamma",{number:jI,Complex:function o(c){if(c.isNaN())return new e(NaN,NaN);if(0===c.im)return new e(jI(c.re),0);if(c.re>=7||Math.abs(c.im)>=7)return a(c);if(c.re<=.1){var f=function D5e(n,e){return(n>0||!(n<0)&&1/n==1/0)^(e>0||!(e<0)&&1/e==1/0)?-n:n}(6.283185307179586,c.im)*Math.floor(.5*c.re+.25),A=c.mul(Math.PI).sin().log(),p=o(new e(1-c.re,-c.im));return new e(1.1447298858494002,f).sub(A).sub(p)}return c.im>=0?l(c):l(c.conjugate()).conjugate()},BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function a(c){for(var u=c.sub(.5).mul(c.log()).sub(c).add(oie),h=new e(1,0).div(c),d=h.div(c),f=s[0],A=s[1],p=2*d.re,m=d.re*d.re+d.im*d.im,g=2;g<8;g++){var y=A;A=-m*f+s[g],f=p*f+y}var v=h.mul(d.mul(f).add(A));return u.add(v)}function l(c){var u=0,h=0,d=c;for(c=c.add(1);c.re<=7;){var f=(d=d.mul(c)).im<0?1:0;0!==f&&0===h&&u++,h=f,c=c.add(1)}return a(c).sub(d.log()).sub(new e(0,2*u*Math.PI*1))}}),YGe=ye("log10",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("log10",{number:function(s){return s>=0||t.predictable?ire(s):new r(s,0).log().div(Math.LN10)},Complex:function(s){return new r(s).log().div(Math.LN10)},BigNumber:function(s){return!s.isNegative()||t.predictable?s.log():new r(s.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>s=>Rr(s,i))})}),ZGe=ye("log2",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("log2",{number:function(o){return o>=0||t.predictable?sre(o):i(new r(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):i(new r(o.toNumber(),0))},"Array | Matrix":e.referToSelf(s=>o=>Rr(o,s))});function i(s){var o=Math.sqrt(s.re*s.re+s.im*s.im);return new r(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(s.im,s.re)/Math.LN2)}}),n9e=ye("multiplyScalar",["typed"],n=>{var{typed:e}=n;return e("multiplyScalar",{"number, number":Yne,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"bigint, bigint":function(r,i){return r*i},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,r)=>r.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,r)=>t.multiply(r)})}),i9e=ye("not",["typed"],n=>{var{typed:e}=n;return e("not",{"null | undefined":()=>!0,number:Fte,Complex:function(r){return 0===r.re&&0===r.im},BigNumber:function(r){return r.isZero()||r.isNaN()},bigint:t=>!t,Unit:e.referToSelf(t=>r=>e.find(t,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),c9e=ye("number",["typed"],n=>{var{typed:e}=n,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if("NaN"===i)return NaN;var s=function a9e(n){var e=n.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return e?{input:n,radix:{"0b":2,"0o":8,"0x":16}[e[1]],integerPart:e[2],fractionalPart:e[3]}:null}(i);if(s)return function l9e(n){for(var e=parseInt(n.integerPart,n.radix),t=0,r=0;r<n.fractionalPart.length;r++)t+=parseInt(n.fractionalPart[r],n.radix)/Math.pow(n.radix,r+1);var s=e+t;if(isNaN(s))throw new SyntaxError('String "'+n.input+'" is not a valid number');return s}(s);var o=0,a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(o=Number(a[2]),i=a[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(a){if(l>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(o-1)&&(l-=2**o)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(r=>i=>{var s=i.clone();return s.value=r(i.value),s}),null:function(i){return 0},"Unit, string | Unit":function(i,s){return i.toNumber(s)},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))});return t.fromJSON=function(r){return parseFloat(r.value)},t}),h9e=ye("oct",["typed","format"],n=>{var{typed:e,format:t}=n;return e("oct",{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,s){return t(i,{notation:"oct",wordSize:s})}})}),die=we(6499),f9e=die(Date.now());function Cb(n){var e;return function t(i){e=null===i?f9e:die(String(i))}(n),function r(){return e()}}var Aie="pickRandom",A9e=ye(Aie,["typed","config","?on"],n=>{var{typed:e,config:t,on:r}=n,i=Cb(t.randomSeed);return r&&r("config",function(o,a){o.randomSeed!==a.randomSeed&&(i=Cb(o.randomSeed))}),e(Aie,{"Array | Matrix":function(a){return s(a,{})},"Array | Matrix, Object":function(a,l){return s(a,l)},"Array | Matrix, number":function(a,l){return s(a,{number:l})},"Array | Matrix, Array | Matrix":function(a,l){return s(a,{weights:l})},"Array | Matrix, Array | Matrix, number":function(a,l,c){return s(a,{number:c,weights:l})},"Array | Matrix, number, Array | Matrix":function(a,l,c){return s(a,{number:l,weights:c})}});function s(o,a){var{number:l,weights:c,elementWise:u=!0}=a,h=typeof l>"u";h&&(l=1);var d=ur(o)?o.create:ur(c)?c.create:null;o=o.valueOf(),c&&(c=c.valueOf()),!0===u&&(o=Qi(o),c=Qi(c));var f=0;if(typeof c<"u"){if(c.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var A=0,p=c.length;A<p;A++){if(!kr(c[A])||c[A]<0)throw new Error("Weights must be an array of positive numbers");f+=c[A]}}for(var y,m=o.length,g=[];g.length<l;){if(typeof c>"u")y=o[Math.floor(i()*m)];else for(var v=i()*f,_=0,C=o.length;_<C;_++)if((v-=c[_])<0){y=o[_];break}g.push(y)}return h?g[0]:d?d(g):g}});function l8(n,e){var t=[];if((n=n.slice(0)).length>1)for(var r=0,i=n.shift();r<i;r++)t.push(l8(n,e));else for(var s=0,o=n.shift();s<o;s++)t.push(e());return t}var g9e=ye("random",["typed","config","?on"],n=>{var{typed:e,config:t,on:r}=n,i=Cb(t.randomSeed);return r&&r("config",function(a,l){a.randomSeed!==l.randomSeed&&(i=Cb(a.randomSeed))}),e("random",{"":()=>o(0,1),number:a=>o(0,a),"number, number":(a,l)=>o(a,l),"Array | Matrix":a=>s(a,0,1),"Array | Matrix, number":(a,l)=>s(a,0,l),"Array | Matrix, number, number":(a,l,c)=>s(a,l,c)});function s(a,l,c){var u=l8(a.valueOf(),()=>o(l,c));return ur(a)?a.create(u,"number"):u}function o(a,l){return a+i()*(l-a)}}),v9e=ye("re",["typed"],n=>{var{typed:e}=n;return e("re",{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),_9e=ye("sec",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("sec",{number:Ere,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},yb({typed:e}))}),w9e=ye("sign",["typed","BigNumber","Fraction","complex"],n=>{var{typed:e,BigNumber:t,complex:r,Fraction:i}=n;return e("sign",{number:a8,Complex:function(o){return 0===o.im?r(a8(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},bigint:function(o){return o>0n?1n:o<0n?-1n:0n},Fraction:function(o){return new i(o.s)},"Array | Matrix":e.referToSelf(s=>o=>Rr(o,s,!0)),Unit:e.referToSelf(s=>o=>{if(!o._isDerived()&&0!==o.units[0].unit.offset)throw new TypeError("sign is ambiguous for units with offset");return e.find(s,o.valueType())(o.value)})})}),x9e=ye("sin",["typed"],n=>{var{typed:e}=n,t=yb({typed:e});return e("sin",{number:Math.sin,"Complex | BigNumber":r=>r.sin()},t)}),D9e=ye("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:e,equalScalar:t,Matrix:r}=n;function i(p,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!hc(m))throw new Error("Invalid datatype: "+m);if(ur(p))!function s(p,m,g){"SparseMatrix"===m.type?(p._values=m._values?Ir(m._values):void 0,p._index=Ir(m._index),p._ptr=Ir(m._ptr),p._size=Ir(m._size),p._datatype=g||m._datatype):o(p,m.valueOf(),g||m._datatype)}(this,p,m);else if(p&&Ms(p.index)&&Ms(p.ptr)&&Ms(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=m||p.datatype;else if(Ms(p))o(this,p,m);else{if(p)throw new TypeError("Unsupported type of data ("+Ws(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function o(p,m,g){p._values=[],p._index=[],p._ptr=[],p._datatype=g;var y=m.length,v=0,_=t,C=0;if(hc(g)&&(_=e.find(t,[g,g])||t,C=e.convert(0,g)),y>0){var b=0;do{p._ptr.push(p._index.length);for(var M=0;M<y;M++){var D=m[M];if(Ms(D)){if(0===b&&v<D.length&&(v=D.length),b<D.length){var E=D[b];_(E,C)||(p._values.push(E),p._index.push(M))}}else 0===b&&v<1&&(v=1),_(D,C)||(p._values.push(D),p._index.push(M))}b++}while(b<v)}p._ptr.push(p._index.length),p._size=[y,v]}function c(p,m,g,y){if(g-m==0)return g;for(var v=m;v<g;v++)if(y[v]===p)return v;return m}function h(p,m,g,y,v,_,C){v.splice(p,0,y),_.splice(p,0,m);for(var b=g+1;b<C.length;b++)C[b]++}function d(p,m,g,y){var v=y||0,_=t,C=0;hc(p._datatype)&&(_=e.find(t,[p._datatype,p._datatype])||t,C=e.convert(0,p._datatype),v=e.convert(v,p._datatype));var E,T,B,b=!_(v,C),M=p._size[0],D=p._size[1];if(g>D){for(T=D;T<g;T++)if(p._ptr[T]=p._values.length,b)for(E=0;E<M;E++)p._values.push(v),p._index.push(E);p._ptr[g]=p._values.length}else g<D&&(p._ptr.splice(g+1,D-g),p._values.splice(p._ptr[g],p._values.length),p._index.splice(p._ptr[g],p._index.length));if(D=g,m>M){if(b){var R=0;for(T=0;T<D;T++){p._ptr[T]=p._ptr[T]+R,B=p._ptr[T+1]+R;var U=0;for(E=M;E<m;E++,U++)p._values.splice(B+U,0,v),p._index.splice(B+U,0,E),R++}p._ptr[D]=p._values.length}}else if(m<M){var k=0;for(T=0;T<D;T++){p._ptr[T]=p._ptr[T]-k;var O=p._ptr[T+1]-k;for(B=p._ptr[T];B<O;B++)(E=p._index[B])>m-1&&(p._values.splice(B,1),p._index.splice(B,1),k++)}p._ptr[T]=p._values.length}return p._size[0]=m,p._size[1]=g,p}function A(p,m,g,y,v){var M,D,_=y[0],C=y[1],b=[];for(M=0;M<_;M++)for(b[M]=[],D=0;D<C;D++)b[M][D]=0;for(D=0;D<C;D++)for(var T=g[D+1],B=g[D];B<T;B++)b[M=m[B]][D]=p?v?Ir(p[B]):p[B]:1;return b}return(i.prototype=new r).createSparseMatrix=function(p,m){return new i(p,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return sI(this._values,Ws)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(p,m){return new i(p,m)},i.prototype.density=function(){var p=this._size[0],m=this._size[1];return 0!==p&&0!==m?this._index.length/(p*m):0},i.prototype.subset=function(p,m,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function a(p,m){if(!JN(m))throw new TypeError("Invalid index");if(m.isScalar())return p.get(m.min());var y=m.size();if(y.length!==p._size.length)throw new ii(y.length,p._size.length);var v,_,C,b,M=m.min(),D=m.max();for(v=0,_=p._size.length;v<_;v++)$s(M[v],p._size[v]),$s(D[v],p._size[v]);var E=p._values,T=p._index,B=p._ptr,R=m.dimension(0),U=m.dimension(1),k=[],q=[];R.forEach(function(H,ae){q[H]=ae[0],k[H]=!0});var O=E?[]:void 0,P=[],G=[];return U.forEach(function(H){for(G.push(P.length),C=B[H],b=B[H+1];C<b;C++)!0===k[v=T[C]]&&(P.push(q[v]),O&&O.push(E[C]))}),G.push(P.length),new i({values:O,index:P,ptr:G,size:y,datatype:p._datatype})}(this,p);case 2:case 3:return function l(p,m,g,y){if(!m||!0!==m.isIndex)throw new TypeError("Invalid index");var C,v=m.size(),_=m.isScalar();if(ur(g)?(C=g.size(),g=g.toArray()):C=Er(g),_){if(0!==C.length)throw new TypeError("Scalar expected");p.set(m.min(),g,y)}else{if(1!==v.length&&2!==v.length)throw new ii(v.length,p._size.length,"<");if(C.length<v.length){for(var b=0,M=0;1===v[b]&&1===C[b];)b++;for(;1===v[b];)M++,b++;g=$ee(g,v.length,M,C)}if(!vp(v,C))throw new ii(v,C,">");if(1===v.length)m.dimension(0).forEach(function(B,R){$s(B),p.set([B,0],g[R[0]],y)});else{var E=m.dimension(0),T=m.dimension(1);E.forEach(function(B,R){$s(B),T.forEach(function(U,k){$s(U),p.set([B,U],g[R[0]][k[0]],y)})})}}return p}(this,p,m,g);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(p){if(!Ms(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new ii(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=p[0],g=p[1];$s(m,this._size[0]),$s(g,this._size[1]);var y=c(m,this._ptr[g],this._ptr[g+1],this._index);return y<this._ptr[g+1]&&this._index[y]===m?this._values[y]:0},i.prototype.set=function(p,m,g){if(!Ms(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new ii(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=p[0],v=p[1],_=this._size[0],C=this._size[1],b=t,M=0;hc(this._datatype)&&(b=e.find(t,[this._datatype,this._datatype])||t,M=e.convert(0,this._datatype)),(y>_-1||v>C-1)&&(d(this,Math.max(y+1,_),Math.max(v+1,C),g),_=this._size[0],C=this._size[1]),$s(y,_),$s(v,C);var D=c(y,this._ptr[v],this._ptr[v+1],this._index);return D<this._ptr[v+1]&&this._index[D]===y?b(m,M)?function u(p,m,g,y,v){g.splice(p,1),y.splice(p,1);for(var _=m+1;_<v.length;_++)v[_]--}(D,v,this._values,this._index,this._ptr):this._values[D]=m:b(m,M)||h(D,y,v,m,this._values,this._index,this._ptr),this},i.prototype.resize=function(p,m,g){if(!jh(p))throw new TypeError("Array or Matrix expected");var y=p.valueOf().map(_=>Array.isArray(_)&&1===_.length?_[0]:_);if(2!==y.length)throw new Error("Only two dimensions matrix are supported");return y.forEach(function(_){if(!kr(_)||!$n(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ri(y)+")")}),d(g?this.clone():this,y[0],y[1],m)},i.prototype.reshape=function(p,m){if(!Ms(p))throw new TypeError("Array expected");if(2!==p.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(H){if(!kr(H)||!$n(H)||H<=-2||0===H)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+ri(p)+")")});var g=this._size[0]*this._size[1];if(g!==(p=TH(p,g))[0]*p[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var v=m?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return v;for(var _=[],C=0;C<v._ptr.length;C++)for(var b=0;b<v._ptr[C+1]-v._ptr[C];b++)_.push(C);for(var M=v._values.slice(),D=v._index.slice(),E=0;E<v._index.length;E++){var R=D[E]*v._size[1]+_[E];_[E]=R%p[1],D[E]=Math.floor(R/p[1])}v._values.length=0,v._index.length=0,v._ptr.length=p[1]+1,v._size=p.slice();for(var U=0;U<v._ptr.length;U++)v._ptr[U]=0;for(var k=0;k<M.length;k++){var q=D[k],O=_[k],P=M[k];h(c(q,v._ptr[O],v._ptr[O+1],v._index),q,O,P,v._values,v._index,v._ptr)}return v},i.prototype.clone=function(){return new i({values:this._values?Ir(this._values):void 0,index:Ir(this._index),ptr:Ir(this._ptr),size:Ir(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(p,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,y=this._size[0],v=this._size[1],_=I0(p,g,"map");return function f(p,m,g,y,v,_,C){var b=[],M=[],D=[],E=t,T=0;hc(p._datatype)&&(E=e.find(t,[p._datatype,p._datatype])||t,T=e.convert(0,p._datatype));for(var B=function(j,K,oe){var se=_(j,K,oe);E(se,T)||(b.push(se),M.push(K))},R=y;R<=v;R++){D.push(b.length);var U=p._ptr[R],k=p._ptr[R+1];if(C)for(var q=U;q<k;q++){var O=p._index[q];O>=m&&O<=g&&B(p._values[q],O-m,R-y)}else{for(var P={},G=U;G<k;G++)P[p._index[G]]=p._values[G];for(var ae=m;ae<=g;ae++)B(ae in P?P[ae]:0,ae-m,R-y)}}return D.push(b.length),new i({values:b,index:M,ptr:D,size:[g-m+1,v-y+1]})}(this,0,y-1,0,v-1,function(M,D,E){return _(M,[D,E],g)},m)},i.prototype.forEach=function(p,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,y=this._size[0],v=this._size[1],_=I0(p,g,"forEach"),C=0;C<v;C++){var b=this._ptr[C],M=this._ptr[C+1];if(m)for(var D=b;D<M;D++)_(this._values[D],[this._index[D],C],g);else{for(var T={},B=b;B<M;B++)T[this._index[B]]=this._values[B];for(var U=0;U<y;U++)_(U in T?T[U]:0,[U,C],g)}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],m=0;m<p;m++)for(var y=this._ptr[m+1],v=this._ptr[m];v<y;v++){var _=this._index[v];yield{value:this._values[v],index:[_,m]}}},i.prototype.toArray=function(){return A(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return A(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(p){for(var m=this._size[0],g=this._size[1],y=this.density(),v="Sparse Matrix ["+ri(m,p)+" x "+ri(g,p)+"] density: "+ri(y,p)+"\n",_=0;_<g;_++)for(var b=this._ptr[_+1],M=this._ptr[_];M<b;M++)v+="\n    ("+ri(this._index[M],p)+", "+ri(_,p)+") ==> "+(this._values?ri(this._values[M],p):"X");return v},i.prototype.toString=function(){return ri(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(p){if(p){if(Hr(p)&&(p=p.toNumber()),!kr(p)||!$n(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var m=p>0?p:0,g=p<0?-p:0,v=this._size[1],_=Math.min(this._size[0]-g,v-m),C=[],b=[],M=[];M[0]=0;for(var D=m;D<v&&C.length<_;D++)for(var T=this._ptr[D+1],B=this._ptr[D];B<T;B++){var R=this._index[B];if(R===D-m+g){C.push(this._values[B]),b[C.length-1]=R-g;break}}return M.push(C.length),new i({values:C,index:b,ptr:M,size:[_,1]})},i.fromJSON=function(p){return new i(p)},i.diagonal=function(p,m,g,y,v){if(!Ms(p))throw new TypeError("Array expected, size parameter");if(2!==p.length)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(H){if(Hr(H)&&(H=H.toNumber()),!kr(H)||!$n(H)||H<1)throw new Error("Size values must be positive integers");return H}),g){if(Hr(g)&&(g=g.toNumber()),!kr(g)||!$n(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var _=t,C=0;hc(v)&&(_=e.find(t,[v,v])||t,C=e.convert(0,v));var B,b=g>0?g:0,M=g<0?-g:0,D=p[0],E=p[1],T=Math.min(D-M,E-b);if(Ms(m)){if(m.length!==T)throw new Error("Invalid value array length");B=function(ae){return m[ae]}}else if(ur(m)){var R=m.size();if(1!==R.length||R[0]!==T)throw new Error("Invalid matrix length");B=function(ae){return m.get([ae])}}else B=function(){return m};for(var U=[],k=[],q=[],O=0;O<E;O++){q.push(U.length);var P=O-b;if(P>=0&&P<T){var G=B(P);_(G,C)||(k.push(P+M),U.push(G))}}return q.push(U.length),new i({values:U,index:k,ptr:q,size:[D,E]})},i.prototype.swapRows=function(p,m){if(!(kr(p)&&$n(p)&&kr(m)&&$n(m)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return $s(p,this._size[0]),$s(m,this._size[0]),i._swapRows(p,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(p,m,g,y,v){for(var C=y[p+1],b=y[p];b<C;b++)v(g[b],m[b])},i._swapRows=function(p,m,g,y,v,_){for(var C=0;C<g;C++){var b=_[C],M=_[C+1],D=c(p,b,M,v),E=c(m,b,M,v);if(D<M&&E<M&&v[D]===p&&v[E]===m){if(y){var T=y[D];y[D]=y[E],y[E]=T}}else if(D<M&&v[D]===p&&(E>=M||v[E]!==m)){var B=y?y[D]:void 0;v.splice(E,0,m),y&&y.splice(E,0,B),v.splice(E<=D?D+1:D,1),y&&y.splice(E<=D?D+1:D,1)}else if(E<M&&v[E]===m&&(D>=M||v[D]!==p)){var R=y?y[E]:void 0;v.splice(D,0,p),y&&y.splice(D,0,R),v.splice(D<=E?E+1:E,1),y&&y.splice(D<=E?E+1:E,1)}}},i},{isClass:!0}),T9e=ye("splitUnit",["typed"],n=>{var{typed:e}=n;return e("splitUnit",{"Unit, Array":function(r,i){return r.splitUnit(i)}})}),N9e=ye("square",["typed"],n=>{var{typed:e}=n;return e("square",{number:are,Complex:function(r){return r.mul(r)},BigNumber:function(r){return r.times(r)},bigint:function(r){return r*r},Fraction:function(r){return r.mul(r)},Unit:function(r){return r.pow(2)}})}),F9e=ye("string",["typed"],n=>{var{typed:e}=n;return e("string",{"":function(){return""},number:N0,null:function(r){return"null"},boolean:function(r){return r+""},string:function(r){return r},"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t)),any:function(r){return String(r)}})}),Cie="subtractScalar",O9e=ye(Cie,["typed"],n=>{var{typed:e}=n;return e(Cie,{"number, number":Xne,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"bigint, bigint":function(r,i){return r-i},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==i.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var s=r.clone();return s.value=e.find(t,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})}),L9e=ye("tan",["typed"],n=>{var{typed:e}=n,t=yb({typed:e});return e("tan",{number:Math.tan,"Complex | BigNumber":r=>r.tan()},t)}),k9e=ye("typeOf",["typed"],n=>{var{typed:e}=n;return e("typeOf",{any:Ws})}),V9e=ye("acosh",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("acosh",{number:function(s){return s>=1||t.predictable?fre(s):s<=-1?new r(Math.log(Math.sqrt(s*s-1)-s),Math.PI):new r(s,0).acosh()},Complex:function(s){return s.acosh()},BigNumber:function(s){return s.acosh()}})}),z9e=ye("acsch",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("acsch",{number:gre,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})}),j9e=ye("asec",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("asec",{number:function(o){return o<=-1||o>=1||t.predictable?mre(o):new r(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})}),$9e=ye("bignumber",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(s){var o=s[2],a=t(s[1]),l=new t(2).pow(Number(o));if(a.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new t(2).pow(Number(o)-1);return a.gte(c)?a.sub(l):a}return new t(i)},BigNumber:function(i){return i},bigint:function(i){return new t(i.toString())},Unit:e.referToSelf(r=>i=>{var s=i.clone();return s.value=r(i.value),s}),Fraction:function(i){return new t(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})}),Tie="combinationsWithRep",X9e=ye(Tie,["typed"],n=>{var{typed:e}=n;return e(Tie,{"number, number":function(r,i){if(!$n(r)||r<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!$n(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r<1)throw new TypeError("k must be less than or equal to n + k - 1");return i<r-1?Ep(r,r+i-1)/Ep(1,i):Ep(i+1,r+i-1)/Ep(1,r-1)},"BigNumber, BigNumber":function(r,i){var o,a,l=new(0,r.constructor)(1),c=r.minus(l);if(!Bie(r)||!Bie(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=l,i.lt(c))for(a=l;a.lte(c);a=a.plus(l))o=o.times(i.plus(a)).dividedBy(a);else for(a=l;a.lte(i);a=a.plus(l))o=o.times(c.plus(a)).dividedBy(a);return o}})});function Bie(n){return n.isInteger()&&n.gte(0)}var J9e=ye("cosh",["typed"],n=>{var{typed:e}=n;return e("cosh",{number:Pee,"Complex | BigNumber":t=>t.cosh()})}),eje=ye("csch",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("csch",{number:xre,Complex:r=>r.csch(),BigNumber:r=>new t(1).div(r.sinh())})}),nje=ye("isNaN",["typed"],n=>{var{typed:e}=n;return e("isNaN",{number:tie,BigNumber:function(r){return r.isNaN()},bigint:function(r){return!1},Fraction:function(r){return!1},Complex:function(r){return r.isNaN()},Unit:function(r){return Number.isNaN(r.value)},"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),ije=ye("isPrime",["typed"],n=>{var{typed:e}=n;return e("isPrime",{number:function(r){if(r<=3)return r>1;if(r%2==0||r%3==0)return!1;for(var i=5;i*i<=r;i+=6)if(r%i==0||r%(i+2)==0)return!1;return!0},bigint:function(r){if(r<=3n)return r>1n;if(r%2n===0n||r%3n===0n)return!1;for(var i=5n;i*i<=r;i+=6n)if(r%i===0n||r%(i+2n)===0n)return!1;return!0},BigNumber:function(r){if(r.lte(3))return r.gt(1);if(r.mod(2).eq(0)||r.mod(3).eq(0))return!1;if(r.lt(Math.pow(2,32))){for(var i=r.toNumber(),s=5;s*s<=i;s+=6)if(i%s==0||i%(s+2)==0)return!1;return!0}function o(y,v,_){for(var C=1;!v.eq(0);)v.mod(2).eq(0)?(v=v.div(2),y=y.mul(y).mod(_)):(v=v.sub(1),C=y.mul(C).mod(_));return C}for(var a=r.constructor.clone({precision:2*r.toFixed(0).length}),l=0,c=(r=new a(r)).sub(1);c.mod(2).eq(0);)c=c.div(2),l+=1;var u=null;if(r.lt("3317044064679887385961981"))u=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(y=>y<r);else{var h=Math.min(r.toNumber()-2,Math.floor(2*Math.pow(r.toFixed(0).length*Math.log(10),2)));u=[];for(var d=2;d<=h;d+=1)u.push(h)}for(var f=0;f<u.length;f+=1){var A=u[f],p=o(r.sub(r).add(A),c,r);if(!p.eq(1))for(var m=0,g=p;!g.eq(r.sub(1));m+=1,g=g.mul(g).mod(r))if(m===l-1)return!1}return!0},"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),oje=ye("randomInt",["typed","config","?on"],n=>{var{typed:e,config:t,on:r}=n,i=Cb(t.randomSeed);return r&&r("config",function(a,l){a.randomSeed!==l.randomSeed&&(i=Cb(a.randomSeed))}),e("randomInt",{"":()=>o(0,1),number:a=>o(0,a),"number, number":(a,l)=>o(a,l),"Array | Matrix":a=>s(a,0,1),"Array | Matrix, number":(a,l)=>s(a,0,l),"Array | Matrix, number, number":(a,l,c)=>s(a,l,c)});function s(a,l,c){var u=l8(a.valueOf(),()=>o(l,c));return ur(a)?a.create(u,"number"):u}function o(a,l){return Math.floor(a+i()*(l-a))}}),lje=ye("sech",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("sech",{number:Sre,Complex:r=>r.sech(),BigNumber:r=>new t(1).div(r.cosh())})}),uje=ye("sinh",["typed"],n=>{var{typed:e}=n;return e("sinh",{number:Dre,"Complex | BigNumber":t=>t.sinh()})}),fje=ye("sparse",["typed","SparseMatrix"],n=>{var{typed:e,SparseMatrix:t}=n;return e("sparse",{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,s){return new t(i,s)}})}),pje=ye("sqrt",["config","typed","Complex"],n=>{var{config:e,typed:t,Complex:r}=n;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(s){return isNaN(s)?NaN:s>=0||e.predictable?Math.sqrt(s):new r(s,0).sqrt()}}),mje=ye("squeeze",["typed"],n=>{var{typed:e}=n;return e("squeeze",{Array:function(r){return rI(Ir(r))},Matrix:function(r){var i=rI(r.toArray());return Array.isArray(i)?r.create(i,r.datatype()):i},any:function(r){return Ir(r)}})}),_je=ye("tanh",["typed"],n=>{var{typed:e}=n;return e("tanh",{number:Lee,"Complex | BigNumber":t=>t.tanh()})}),Hie="unaryMinus",wje=ye(Hie,["typed"],n=>{var{typed:e}=n;return e(Hie,{number:Jne,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>r=>{var i=r.clone();return i.value=e.find(t,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t,!0))})}),xje=ye("acoth",["typed","config","Complex","BigNumber"],n=>{var{typed:e,config:t,Complex:r,BigNumber:i}=n;return e("acoth",{number:function(o){return o>=1||o<=-1||t.predictable?Are(o):new r(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})}),Sje=ye("bin",["typed","format"],n=>{var{typed:e,format:t}=n;return e("bin",{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,s){return t(i,{notation:"bin",wordSize:s})}})}),Mje=ye("coth",["typed","BigNumber"],n=>{var{typed:e,BigNumber:t}=n;return e("coth",{number:wre,Complex:r=>r.coth(),BigNumber:r=>new t(1).div(r.tanh())})}),Nje=ye("fraction",["typed","Fraction"],n=>{var{typed:e,Fraction:t}=n;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,s){return new t(i,s)},"bigint, bigint":function(i,s){return new t(i,s)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},bigint:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(r=>i=>{var s=i.clone();return s.value=r(i.value),s}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})}),Fje=ye("isNumeric",["typed"],n=>{var{typed:e}=n;return e("isNumeric",{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>r=>Rr(r,t))})}),Oje=ye("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,DenseMatrix:r,SparseMatrix:i}=n;return e("matrix",{"":function(){return s([])},string:function(a){return s([],a)},"string, string":function(a,l){return s([],a,l)},Array:function(a){return s(a)},Matrix:function(a){return s(a,a.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(o,a,l){if("dense"===a||"default"===a||void 0===a)return new r(o,l);if("sparse"===a)return new i(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),qie="matrixFromFunction",Lje=ye(qie,["typed","matrix","isZero"],n=>{var{typed:e,matrix:t,isZero:r}=n;return e(qie,{"Array | Matrix, function, string, string":function(o,a,l,c){return i(o,a,l,c)},"Array | Matrix, function, string":function(o,a,l){return i(o,a,l)},"Matrix, function":function(o,a){return i(o,a,"dense")},"Array, function":function(o,a){return i(o,a,"dense").toArray()},"Array | Matrix, string, function":function(o,a,l){return i(o,l,a)},"Array | Matrix, string, string, function":function(o,a,l,c){return i(o,c,a,l)}});function i(s,o,a,l){var c;return(c=void 0!==l?t(a,l):t(a)).resize(s),c.forEach(function(u,h){var d=o(h);r(d)||c.set(h,d)}),c}}),kje=ye("mode",["typed","isNaN","isNumeric"],n=>{var{typed:e,isNaN:t,isNumeric:r}=n;return e("mode",{"Array | Matrix":i,"...":function(o){return i(o)}});function i(s){if(0===(s=Qi(s.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var a={},l=[],c=0,u=0;u<s.length;u++){var h=s[u];if(r(h)&&t(h))throw new Error("Cannot calculate mode of an array containing NaN values");h in a||(a[h]=0),a[h]++,a[h]===c?l.push(h):a[h]>c&&(c=a[h],l=[h])}return l}}),Qje=ye("numeric",["number","?bignumber","?fraction"],n=>{var{number:e,bignumber:t,fraction:r}=n,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:o=>e(o),BigNumber:t?o=>t(o):LH,bigint:o=>BigInt(o),Fraction:r?o=>r(o):hte};return function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";if(void 0!==(arguments.length>2?arguments[2]:void 0))throw new SyntaxError("numeric() takes one or two arguments");var u=Ws(a);if(!(u in i))throw new TypeError("Cannot convert "+a+' of type "'+u+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in s))throw new TypeError("Cannot convert "+a+' to type "'+l+'"; valid output types are '+Object.keys(s).join(", "));return l===u?a:s[l](a)}}),Gje=ye("prod",["typed","config","multiplyScalar","numeric"],n=>{var{typed:e,config:t,multiplyScalar:r,numeric:i}=n;return e("prod",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(a,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(a){return s(a)}});function s(o){var a;if(bp(o,function(l){try{a=void 0===a?l:r(a,l)}catch(c){throw qc(c,"prod",l)}}),"string"==typeof a&&(a=i(a,dm(a,t))),void 0===a)throw new Error("Cannot calculate prod of an empty array");return a}}),qje=ye("reshape",["typed","isInteger","matrix"],n=>{var{typed:e,isInteger:t}=n;return e("reshape",{"Matrix, Array":function(i,s){return i.reshape(s,!0)},"Array, Array":function(i,s){return s.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),MH(i,s)}})}),$je=ye("size",["typed","config","?matrix"],n=>{var{typed:e,config:t,matrix:r}=n;return e("size",{Matrix:function(s){return s.create(s.size(),"number")},Array:Er,string:function(s){return"Array"===t.matrix?[s.length]:r([s.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(s){return"Array"===t.matrix?[]:r?r([],"dense","number"):fte()}})}),Xje=ye("transpose",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return e("transpose",{Array:o=>r(t(o)).valueOf(),Matrix:r,any:Ir});function r(o){var l,a=o.size();switch(a.length){case 1:l=o.clone();break;case 2:var c=a[0],u=a[1];if(0===u)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+ri(a)+")");switch(o.storage()){case"dense":l=function i(o,a,l){for(var h,c=o._data,u=[],d=0;d<l;d++){h=u[d]=[];for(var f=0;f<a;f++)h[f]=Ir(c[f][d])}return o.createDenseMatrix({data:u,size:[l,a],datatype:o._datatype})}(o,c,u);break;case"sparse":l=function s(o,a,l){for(var c=o._values,u=o._index,h=o._ptr,d=c?[]:void 0,f=[],A=[],p=[],m=0;m<a;m++)p[m]=0;var g,y,v;for(g=0,y=u.length;g<y;g++)p[u[g]]++;for(var _=0,C=0;C<a;C++)A.push(_),_+=p[C],p[C]=A[C];for(A.push(_),v=0;v<l;v++)for(var M=h[v+1],D=h[v];D<M;D++){var E=p[u[D]]++;f[E]=v,c&&(d[E]=Ir(c[D]))}return o.createSparseMatrix({values:d,index:f,ptr:A,size:[l,a],datatype:o._datatype})}(o,c,u)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+ri(a)+")")}return l}}),Jje=ye("xgcd",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("xgcd",{"number, number":function(a,l){var c=lre(a,l);return"Array"===t.matrix?c:r(c)},"BigNumber, BigNumber":function s(o,a){var l,c,u,g,h=new i(0),d=new i(1),f=h,A=d,p=d,m=h;if(!o.isInt()||!a.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!a.isZero();)c=o.div(a).floor(),u=o.mod(a),l=f,f=A.minus(c.times(f)),A=l,l=p,p=m.minus(c.times(p)),m=l,o=a,a=u;return g=o.lt(h)?[o.neg(),A.neg(),m.neg()]:[o,o.isZero()?0:A,m],"Array"===t.matrix?g:r(g)}})}),eqe=ye("zeros",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("zeros",{"":function(){return"Array"===t.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var h=c.pop();return s(c,h)}return"Array"===t.matrix?s(c):s(c,"default")},Array:s,Matrix:function(c){var u=c.storage();return s(c.valueOf(),u)},"Array | Matrix, string":function(c,u){return s(c.valueOf(),u)}});function s(l,c){var u=function o(l){var c=!1;return l.forEach(function(u,h,d){Hr(u)&&(c=!0,d[h]=u.toNumber())}),c}(l),h=u?new i(0):0;if(function a(l){l.forEach(function(c){if("number"!=typeof c||!$n(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}(l),c){var d=r(c);return l.length>0?d.resize(l,h):d}var f=[];return l.length>0?hb(f,l,h):f}}),nqe=ye("asin",["typed","config","Complex"],n=>{var{typed:e,config:t,Complex:r}=n;return e("asin",{number:function(s){return s>=-1&&s<=1||t.predictable?Math.asin(s):new r(s,0).asin()},Complex:function(s){return s.asin()},BigNumber:function(s){return s.asin()}})}),iqe=ye("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],n=>{var{config:e,typed:t,isNegative:r,unaryMinus:i,matrix:s,Complex:o,BigNumber:a,Fraction:l}=n;return t("cbrt",{number:eS,Complex:c,"Complex, boolean":c,BigNumber:function(d){return d.cbrt()},Unit:function u(h){if(h.value&&yp(h.value)){var d=h.clone();return d.value=1,(d=d.pow(1/3)).value=c(h.value),d}var A,f=r(h.value);f&&(h.value=i(h.value)),A=Hr(h.value)?new a(1).div(3):QE(h.value)?new l(1,3):1/3;var p=h.pow(A);return f&&(p.value=i(p.value)),p}});function c(h,d){var f=h.arg()/3,A=h.abs(),p=new o(eS(A),0).mul(new o(0,f).exp());if(d){var m=[p,new o(eS(A),0).mul(new o(0,f+2*Math.PI/3).exp()),new o(eS(A),0).mul(new o(0,f-2*Math.PI/3).exp())];return"Array"===e.matrix?m:s(m)}return p}}),oqe=ye("count",["typed","size","prod"],n=>{var{typed:e,size:t,prod:r}=n;return e("count",{string:function(s){return s.length},"Matrix | Array":function(s){return r(t(s))}})}),rse="ctranspose",lqe=ye(rse,["typed","transpose","conj"],n=>{var{typed:e,transpose:t,conj:r}=n;return e(rse,{any:function(s){return r(t(s))}})}),uqe=ye("diag",["typed","matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e("diag",{Array:function(c){return s(c,0,Er(c),null)},"Array, number":function(c,u){return s(c,u,Er(c),null)},"Array, BigNumber":function(c,u){return s(c,u.toNumber(),Er(c),null)},"Array, string":function(c,u){return s(c,0,Er(c),u)},"Array, number, string":function(c,u,h){return s(c,u,Er(c),h)},"Array, BigNumber, string":function(c,u,h){return s(c,u.toNumber(),Er(c),h)},Matrix:function(c){return s(c,0,c.size(),c.storage())},"Matrix, number":function(c,u){return s(c,u,c.size(),c.storage())},"Matrix, BigNumber":function(c,u){return s(c,u.toNumber(),c.size(),c.storage())},"Matrix, string":function(c,u){return s(c,0,c.size(),u)},"Matrix, number, string":function(c,u,h){return s(c,u,c.size(),h)},"Matrix, BigNumber, string":function(c,u,h){return s(c,u.toNumber(),c.size(),h)}});function s(l,c,u,h){if(!$n(c))throw new TypeError("Second parameter in function diag must be an integer");var d=c>0?c:0,f=c<0?-c:0;switch(u.length){case 1:return function o(l,c,u,h,d,f){var A=[h+d,h+f];if(u&&"sparse"!==u&&"dense"!==u)throw new TypeError("Unknown matrix type ".concat(u,'"'));var p="sparse"===u?i.diagonal(A,l,c):r.diagonal(A,l,c);return null!==u?p:p.valueOf()}(l,c,h,u[0],f,d);case 2:return function a(l,c,u,h,d,f){if(ur(l)){var A=l.diagonal(c);return null!==u?u!==A.storage()?t(A,u):A:A.valueOf()}for(var p=Math.min(h[0]-d,h[1]-f),m=[],g=0;g<p;g++)m[g]=l[g+d][g+f];return null!==u?t(m):m}(l,c,h,u,f,d)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}),sse="divideScalar",fqe=ye(sse,["typed","numeric"],n=>{var{typed:e}=n;return e(sse,{"number, number":function(i,s){return i/s},"Complex, Complex":function(i,s){return i.div(s)},"BigNumber, BigNumber":function(i,s){return i.div(s)},"bigint, bigint":function(i,s){return i/s},"Fraction, Fraction":function(i,s){return i.div(s)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})}),sA=ye("matAlgo07xSSf",["typed","SparseMatrix"],n=>{var{typed:e,SparseMatrix:t}=n;return function(s,o,a){var l=s._size,c=s._datatype||void 0===s._data?s._datatype:s.getDataType(),u=o._size,h=o._datatype||void 0===o._data?o._datatype:o.getDataType();if(l.length!==u.length)throw new ii(l.length,u.length);if(l[0]!==u[0]||l[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+u+")");var A,d=l[0],f=l[1],p=0,m=a;"string"==typeof c&&c===h&&"mixed"!==c&&(p=e.convert(0,A=c),m=e.find(a,[A,A]));for(var g=[],y=[],v=new Array(f+1).fill(0),_=[],C=[],b=[],M=[],D=0;D<f;D++){var E=D+1,T=0;r(s,D,b,_,E),r(o,D,M,C,E);for(var B=0;B<d;B++){var k=m(b[B]===E?_[B]:p,M[B]===E?C[B]:p);0!==k&&!1!==k&&(y.push(B),g.push(k),T++)}v[D+1]=v[D]+T}return new t({values:g,index:y,ptr:v,size:[d,f],datatype:c===s._datatype&&h===o._datatype?A:void 0})};function r(i,s,o,a,l){for(var c=i._values,u=i._index,h=i._ptr,d=h[s],f=h[s+1];d<f;d++){var A=u[d];o[A]=l,a[A]=c[d]}}}),gqe=ye("dotDivide",["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:r,divideScalar:i,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=rd({typed:e,equalScalar:r}),c=jc({typed:e}),u=sA({typed:e,SparseMatrix:a}),h=Pl({typed:e,equalScalar:r}),d=Wa({typed:e,DenseMatrix:s});return e("dotDivide",Ks({typed:e,matrix:t,concat:o})({elop:i,SS:u,DS:c,SD:l,Ss:h,sS:d}))}),qI="equal",vqe=ye(qI,["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,equalScalar:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=jc({typed:e}),l=sA({typed:e,SparseMatrix:o}),c=Wa({typed:e,DenseMatrix:i}),u=Ks({typed:e,matrix:t,concat:s});return e(qI,yqe({typed:e,equalScalar:r}),u({elop:r,SS:l,DS:a,Ss:c}))}),yqe=ye(qI,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(qI,{"any, any":function(i,s){return null===i?null===s:null===s?null===i:void 0===i?void 0===s:void 0===s?void 0===i:t(i,s)}})}),ase="hasNumericValue",bqe=ye(ase,["typed","isNumeric"],n=>{var{typed:e,isNumeric:t}=n;return e(ase,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})}),Cqe=ye("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i,DenseMatrix:s,SparseMatrix:o}=n;return e("identity",{"":function(){return"Matrix"===t.matrix?r([]):[]},string:function(u){return r(u)},"number | BigNumber":function(u){return l(u,u,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, string":function(u,h){return l(u,u,h)},"number | BigNumber, number | BigNumber":function(u,h){return l(u,h,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(u,h,d){return l(u,h,d)},Array:function(u){return a(u)},"Array, string":function(u,h){return a(u,h)},Matrix:function(u){return a(u.valueOf(),u.storage())},"Matrix, string":function(u,h){return a(u.valueOf(),h)}});function a(c,u){switch(c.length){case 0:return u?r(u):[];case 1:return l(c[0],c[0],u);case 2:return l(c[0],c[1],u);default:throw new Error("Vector containing two values expected")}}function l(c,u,h){var d=Hr(c)||Hr(u)?i:null;if(Hr(c)&&(c=c.toNumber()),Hr(u)&&(u=u.toNumber()),!$n(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!$n(u)||u<1)throw new Error("Parameters in function identity must be positive integers");var f=d?new i(1):1,A=d?new d(0):0,p=[c,u];if(h){if("sparse"===h)return o.diagonal(p,f,0,A);if("dense"===h)return s.diagonal(p,f,0,A);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var m=hb([],p,A),g=c<u?c:u,y=0;y<g;y++)m[y][y]=f;return m}}),Eqe=ye("kron",["typed","matrix","multiplyScalar"],n=>{var{typed:e,matrix:t,multiplyScalar:r}=n;return e("kron",{"Matrix, Matrix":function(o,a){return t(i(o.toArray(),a.toArray()))},"Matrix, Array":function(o,a){return t(i(o.toArray(),a))},"Array, Matrix":function(o,a){return t(i(o,a.toArray()))},"Array, Array":i});function i(s,o){if(1===Er(s).length&&(s=[s]),1===Er(o).length&&(o=[o]),Er(s).length>2||Er(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(s.length)+", y = "+JSON.stringify(o.length)+")");var a=[],l=[];return s.map(function(c){return o.map(function(u){return a.push(l=[]),c.map(function(h){return u.map(function(d){return l.push(r(h,d))})})})})&&a}}),WI="largerEq",Dqe=ye(WI,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=jc({typed:e}),l=sA({typed:e,SparseMatrix:o}),c=Wa({typed:e,DenseMatrix:i}),u=Ks({typed:e,matrix:r,concat:s}),h=_b({typed:e});return e(WI,Mqe({typed:e,config:t}),{"boolean, boolean":(d,f)=>d>=f,"BigNumber, BigNumber":function(f,A){return f.gte(A)||Su(f,A,t.relTol,t.absTol)},"bigint, bigint":function(f,A){return f>=A},"Fraction, Fraction":(d,f)=>-1!==d.compare(f),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,u({SS:l,DS:a,Ss:c}))}),Mqe=ye(WI,["typed","config"],n=>{var{typed:e,config:t}=n;return e(WI,{"number, number":function(i,s){return i>=s||Ol(i,s,t.relTol,t.absTol)}})}),c8=ye("matAlgo08xS0Sid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,h=i._datatype||void 0===i._data?i._datatype:i.getDataType(),d=s._values,f=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new ii(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!a||!d)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof h&&h===m&&"mixed"!==h&&(_=e.find(t,[v=h,v]),C=e.convert(0,v),b=e.find(o,[v,v]));for(var R,k,q,M=[],D=[],E=[],T=[],B=[],O=0;O<y;O++){E[O]=D.length;var P=O+1;for(k=c[O+1],R=c[O];R<k;R++)B[q=l[R]]=P,T[q]=a[R],D.push(q);for(k=A[O+1],R=A[O];R<k;R++)B[q=f[R]]===P&&(T[q]=b(T[q],d[R]));for(R=E[O];R<D.length;){var G=T[q=D[R]];_(G,C)?D.splice(R,1):(M.push(G),R++)}}return E[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:E,size:[g,y],datatype:h===i._datatype&&m===s._datatype?v:void 0})}}),u8=ye("useMatrixForArrayScalar",["typed","matrix"],n=>{var{typed:e,matrix:t}=n;return{"Array, number":e.referTo("DenseMatrix, number",r=>(i,s)=>r(t(i),s).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",r=>(i,s)=>r(t(i),s).valueOf()),"number, Array":e.referTo("number, DenseMatrix",r=>(i,s)=>r(i,t(s)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",r=>(i,s)=>r(i,t(s)).valueOf())}}),Iqe=ye("leftShift",["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:s,concat:o}=n,a=vm({typed:e}),l=rd({typed:e,equalScalar:r}),c=c8({typed:e,equalScalar:r}),u=F0({typed:e,DenseMatrix:s}),h=Pl({typed:e,equalScalar:r}),d=nd({typed:e}),f=Ks({typed:e,matrix:t,concat:o}),A=u8({typed:e,matrix:t});return e("leftShift",{"number, number":Yte,"BigNumber, BigNumber":Y8e,"bigint, bigint":(p,m)=>p<<m,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():h(m,g,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():d(m,g,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):u(g,m,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):d(g,m,p,!0))},A,f({SS:c,DS:a,SD:l}))});function rS(n){var{DenseMatrix:e}=n;return function(r,i,s){var o=r.size();if(2!==o.length)throw new RangeError("Matrix must be two dimensional (size: "+ri(o)+")");var a=o[0];if(a!==o[1])throw new RangeError("Matrix must be square (size: "+ri(o)+")");var c=[];if(ur(i)){var u=i.size(),h=i._data;if(1===u.length){if(u[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<a;d++)c[d]=[h[d]];return new e({data:c,size:[a,1],datatype:i._datatype})}if(2===u.length){if(u[0]!==a||1!==u[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(YN(i)){if(s){c=[];for(var f=0;f<a;f++)c[f]=[h[f][0]];return new e({data:c,size:[a,1],datatype:i._datatype})}return i}if(T0(i)){for(var A=0;A<a;A++)c[A]=[0];for(var p=i._values,m=i._index,g=i._ptr,y=g[1],v=g[0];v<y;v++)c[m[v]][0]=p[v];return new e({data:c,size:[a,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ms(i)){var C=Er(i);if(1===C.length){if(C[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<a;b++)c[b]=[i[b]];return new e({data:c,size:[a,1]})}if(2===C.length){if(C[0]!==a||1!==C[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var M=0;M<a;M++)c[M]=[i[M][0]];return new e({data:c,size:[a,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Rqe=ye("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=rS({DenseMatrix:a});return e("lsolve",{"SparseMatrix, Array | Matrix":function(d,f){return function u(h,d){for(var f=(d=l(h,d,!0))._data,A=h._size[0],p=h._size[1],m=h._values,g=h._index,y=h._ptr,v=[],_=0;_<p;_++){var C=f[_][0]||0;if(o(C,0))v[_]=[0];else{for(var b=0,M=[],D=[],T=y[_+1],B=y[_];B<T;B++){var R=g[B];R===_?b=m[B]:R>_&&(M.push(m[B]),D.push(R))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=r(C,b),k=0,q=D.length;k<q;k++){var O=D[k];f[O]=[s(f[O][0]||0,i(U,M[k]))]}v[_]=[U]}}return new a({data:v,size:[A,1]})}(d,f)},"DenseMatrix, Array | Matrix":function(d,f){return c(d,f)},"Array, Array | Matrix":function(d,f){return c(t(d),f).valueOf()}});function c(h,d){for(var f=(d=l(h,d,!0))._data,A=h._size[0],p=h._size[1],m=[],g=h._data,y=0;y<p;y++){var v=f[y][0]||0,_=void 0;if(o(v,0))_=0;else{var C=g[y][y];if(o(C,0))throw new Error("Linear system cannot be solved since matrix is singular");_=r(v,C);for(var b=y+1;b<A;b++)f[b]=[s(f[b][0]||0,i(_,g[b][y]))]}m[y]=[_]}return new a({data:m,size:[A,1]})}}),fse="matrixFromColumns",Pqe=ye(fse,["typed","matrix","flatten","size"],n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e(fse,{"...Array":function(l){return s(l)},"...Matrix":function(l){return t(s(l.map(c=>c.toArray())))}});function s(a){if(0===a.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=o(a[0]),c=[],u=0;u<l;u++)c[u]=[];for(var h of a){var d=o(h);if(d!==l)throw new TypeError("The vectors had different length: "+(0|l)+" \u2260 "+(0|d));for(var f=r(h),A=0;A<l;A++)c[A].push(f[A])}return c}function o(a){var l=i(a);if(1===l.length)return l[0];if(2===l.length){if(1===l[0])return l[1];if(1===l[1])return l[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),Uqe=ye("nthRoot",["typed","matrix","equalScalar","BigNumber","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,concat:s}=n,o=vm({typed:e}),a=rd({typed:e,equalScalar:r}),l=DI({typed:e,equalScalar:r}),c=Pl({typed:e,equalScalar:r}),u=Ks({typed:e,matrix:t,concat:s});function h(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e("nthRoot",{number:ore,"number, number":ore,BigNumber:f=>d(f,new i(2)),"BigNumber, BigNumber":d,Complex:h,"Complex, number":h,Array:e.referTo("DenseMatrix,number",f=>A=>f(t(A),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",f=>A=>f(A,2)),SparseMatrix:e.referTo("SparseMatrix,number",f=>A=>f(A,2)),"SparseMatrix, SparseMatrix":e.referToSelf(f=>(A,p)=>{if(1===p.density())return l(A,p,f);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(f=>(A,p)=>{if(1===p.density())return o(A,p,f,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",f=>(A,p)=>f(t(A),p)),"number | BigNumber, SparseMatrix":e.referToSelf(f=>(A,p)=>{if(1===p.density())return c(p,A,f,!0);throw new Error("Root must be non-zero")})},u({scalar:"number | BigNumber",SD:a,Ss:c,sS:!1}));function d(f,A){var p=i.precision,m=i.clone({precision:p+2}),g=new i(0),y=new m(1),v=A.isNegative();if(v&&(A=A.neg()),A.isZero())throw new Error("Root must be non-zero");if(f.isNegative()&&!A.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(f.isZero())return v?new m(1/0):0;if(!f.isFinite())return v?g:f;var _=f.abs().pow(y.div(A));return _=f.isNeg()?_.neg():_,new i((v?y.div(_):_).toPrecision(p))}}),Vqe=ye("ones",["typed","config","matrix","BigNumber"],n=>{var{typed:e,config:t,matrix:r,BigNumber:i}=n;return e("ones",{"":function(){return"Array"===t.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var h=c.pop();return s(c,h)}return"Array"===t.matrix?s(c):s(c,"default")},Array:s,Matrix:function(c){var u=c.storage();return s(c.valueOf(),u)},"Array | Matrix, string":function(c,u){return s(c.valueOf(),u)}});function s(l,c){var u=function o(l){var c=!1;return l.forEach(function(u,h,d){Hr(u)&&(c=!0,d[h]=u.toNumber())}),c}(l),h=u?new i(1):1;if(function a(l){l.forEach(function(c){if("number"!=typeof c||!$n(c)||c<0)throw new Error("Parameters in function ones must be positive integers")})}(l),c){var d=r(c);return l.length>0?d.resize(l,h):d}var f=[];return l.length>0?hb(f,l,h):f}}),zqe=ye("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],n=>{var{typed:e,matrix:t,zeros:r,identity:i,isZero:s,equal:o,sign:a,sqrt:l,conj:c,unaryMinus:u,addScalar:h,divideScalar:d,multiplyScalar:f,subtractScalar:A,complex:p}=n;return ja(e("qr",{DenseMatrix:function(_){return g(_)},SparseMatrix:function(_){return function y(v){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(_){var b=g(t(_));return{Q:b.Q.valueOf(),R:b.R.valueOf()}}}),{_denseQRimpl:m});function m(v){var T,B,R,_=v._size[0],C=v._size[1],b=i([_],"dense"),M=b._data,D=v.clone(),E=D._data,U=r([_],"");for(R=0;R<Math.min(C,_);++R){var k=E[R][R],q=u(o(k,0)?1:a(k)),O=c(q),P=0;for(T=R;T<_;T++)P=h(P,f(E[T][R],c(E[T][R])));var G=f(q,l(P));if(!s(G)){var H=A(k,G);for(U[R]=1,T=R+1;T<_;T++)U[T]=d(E[T][R],H);var ae=u(c(d(H,G))),ve=void 0;for(B=R;B<C;B++){for(ve=0,T=R;T<_;T++)ve=h(ve,f(c(U[T]),E[T][B]));for(ve=f(ve,ae),T=R;T<_;T++)E[T][B]=f(A(E[T][B],f(U[T],ve)),O)}for(T=0;T<_;T++){for(ve=0,B=R;B<_;B++)ve=h(ve,f(M[T][B],U[B]));for(ve=f(ve,ae),B=R;B<_;++B)M[T][B]=d(A(M[T][B],f(ve,c(U[B]))),O)}}}return{Q:b,R:D,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function g(v){var _=m(v),C=_.R._data;if(v._data.length>0)for(var b="Complex"===C[0][0].type?p(0):0,M=0;M<C.length;++M)for(var D=0;D<M&&D<(C[0]||[]).length;++D)C[M][D]=b;return _}});function P0(n,e,t,r){if(!(this instanceof P0))throw new SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=e,this.min=t,this.max=r,this.message="Wrong number of arguments in function "+n+" ("+e+" provided, "+t+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}(P0.prototype=new Error).constructor=Error,P0.prototype.name="ArgumentsError",P0.prototype.isArgumentsError=!0;var qqe=ye("resize",["config","matrix"],n=>{var{config:e,matrix:t}=n;return function(s,o,a){if(2!==arguments.length&&3!==arguments.length)throw new P0("resize",arguments.length,2,3);if(ur(o)&&(o=o.valueOf()),Hr(o[0])&&(o=o.map(function(u){return Hr(u)?u.toNumber():u})),ur(s))return s.resize(o,a,!0);if("string"==typeof s)return function r(i,s,o){if(void 0!==o){if("string"!=typeof o||1!==o.length)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(1!==s.length)throw new ii(s.length,1);var a=s[0];if("number"!=typeof a||!$n(a))throw new TypeError("Invalid size, must contain positive integers (size: "+ri(s)+")");if(i.length>a)return i.substring(0,a);if(i.length<a){for(var l=i,c=0,u=a-i.length;c<u;c++)l+=o;return l}return i}(s,o,a);var l=!Array.isArray(s)&&"Array"!==e.matrix;if(0===o.length){for(;Array.isArray(s);)s=s[0];return Ir(s)}Array.isArray(s)||(s=[s]);var c=hb(s=Ir(s),o,a);return l?t(c):c}}),pse="rightArithShift",$qe=ye(pse,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:s,concat:o}=n,a=vm({typed:e}),l=rd({typed:e,equalScalar:r}),c=c8({typed:e,equalScalar:r}),u=F0({typed:e,DenseMatrix:s}),h=Pl({typed:e,equalScalar:r}),d=nd({typed:e}),f=Ks({typed:e,matrix:t,concat:o}),A=u8({typed:e,matrix:t});return e(pse,{"number, number":Jte,"BigNumber, BigNumber":J8e,"bigint, bigint":(p,m)=>p>>m,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():h(m,g,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():d(m,g,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):u(g,m,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):d(g,m,p,!0))},A,f({SS:c,DS:a,SD:l}))}),xb="Number of decimals in function round must be an integer",Xqe=ye("round",["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],n=>{var{typed:e,config:t,matrix:r,equalScalar:i,zeros:s,BigNumber:o,DenseMatrix:a}=n,l=Pl({typed:e,equalScalar:i}),c=Wa({typed:e,DenseMatrix:a}),u=nd({typed:e});function h(d){return Math.abs(qE(d).exponent)}return e("round",{number:function(f){var A=tS(f,h(t.relTol));return tS(Ol(f,A,t.relTol,t.absTol)?A:f)},"number, number":function(f,A){var p=h(t.relTol);if(A>=p)return tS(f,A);var m=tS(f,p);return tS(Ol(f,m,t.relTol,t.absTol)?m:f,A)},"number, BigNumber":function(f,A){if(!A.isInteger())throw new TypeError(xb);return new o(f).toDecimalPlaces(A.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,A){if(A%1)throw new TypeError(xb);return f.round(A)},"Complex, BigNumber":function(f,A){if(!A.isInteger())throw new TypeError(xb);var p=A.toNumber();return f.round(p)},BigNumber:function(f){var A=new o(f).toDecimalPlaces(h(t.relTol));return(Su(f,A,t.relTol,t.absTol)?A:f).toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,A){if(!A.isInteger())throw new TypeError(xb);var p=h(t.relTol);if(A>=p)return f.toDecimalPlaces(A.toNumber());var m=f.toDecimalPlaces(p);return(Su(f,m,t.relTol,t.absTol)?m:f).toDecimalPlaces(A.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,A){if(A%1)throw new TypeError(xb);return f.round(A)},"Fraction, BigNumber":function(f,A){if(!A.isInteger())throw new TypeError(xb);return f.round(A.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(f,A,p){var m=f.toNumeric(p);return p.multiply(d(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>d(f,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>Rr(f,m=>d(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(f,A)=>d(f,0,A)),"Array | Matrix":e.referToSelf(d=>f=>Rr(f,d,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>l(f,A,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>u(f,A,d,!1)),"Array, number | BigNumber":e.referToSelf(d=>(f,A)=>u(r(f),A,d,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(d=>(f,A)=>i(f,0)?s(A.size(),A.storage()):c(A,f,d,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(d=>(f,A)=>i(f,0)?s(A.size(),A.storage()):u(A,f,d,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(d=>(f,A)=>u(r(A),f,d,!0).valueOf())})}),$I="smaller",Jqe=ye($I,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=jc({typed:e}),l=sA({typed:e,SparseMatrix:o}),c=Wa({typed:e,DenseMatrix:i}),u=Ks({typed:e,matrix:r,concat:s}),h=_b({typed:e});return e($I,Zqe({typed:e,config:t}),{"boolean, boolean":(d,f)=>d<f,"BigNumber, BigNumber":function(f,A){return f.lt(A)&&!Su(f,A,t.relTol,t.absTol)},"bigint, bigint":(d,f)=>d<f,"Fraction, Fraction":(d,f)=>-1===d.compare(f),"Complex, Complex":function(f,A){throw new TypeError("No ordering relation is defined for complex numbers")}},h,u({SS:l,DS:a,Ss:c}))}),Zqe=ye($I,["typed","config"],n=>{var{typed:e,config:t}=n;return e($I,{"number, number":function(i,s){return i<s&&!Ol(i,s,t.relTol,t.absTol)}})}),tWe=ye("subtract",["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,subtractScalar:i,DenseMatrix:o,concat:a}=n,l=vm({typed:e}),c=jc({typed:e}),u=SI({typed:e,equalScalar:r}),h=F0({typed:e,DenseMatrix:o}),d=Wa({typed:e,DenseMatrix:o});return e("subtract",{"any, any":i},Ks({typed:e,matrix:t,concat:a})({elop:i,SS:u,DS:l,SD:c,Ss:d,sS:h}))}),rWe=ye("to",["typed","matrix","concat"],n=>{var{typed:e,matrix:t,concat:r}=n;return e("to",{"Unit, Unit | string":(s,o)=>s.to(o)},Ks({typed:e,matrix:t,concat:r})({Ds:!0}))}),sWe=ye("unaryPlus",["typed","config","numeric"],n=>{var{typed:e,config:t,numeric:r}=n;return e("unaryPlus",{number:Zne,Complex:function(s){return s},BigNumber:function(s){return s},bigint:function(s){return s},Fraction:function(s){return s},Unit:function(s){return s.clone()},"Array | Matrix":e.referToSelf(i=>s=>Rr(s,i,!0)),boolean:function(s){return r(s?1:0,t.number)},string:function(s){return r(s,dm(s,t))}})}),aWe=ye("usolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=rS({DenseMatrix:a});return e("usolve",{"SparseMatrix, Array | Matrix":function(d,f){return function u(h,d){for(var f=(d=l(h,d,!0))._data,A=h._size[0],m=h._values,g=h._index,y=h._ptr,v=[],_=h._size[1]-1;_>=0;_--){var C=f[_][0]||0;if(o(C,0))v[_]=[0];else{for(var b=0,M=[],D=[],E=y[_],B=y[_+1]-1;B>=E;B--){var R=g[B];R===_?b=m[B]:R<_&&(M.push(m[B]),D.push(R))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=r(C,b),k=0,q=D.length;k<q;k++){var O=D[k];f[O]=[s(f[O][0],i(U,M[k]))]}v[_]=[U]}}return new a({data:v,size:[A,1]})}(d,f)},"DenseMatrix, Array | Matrix":function(d,f){return c(d,f)},"Array, Array | Matrix":function(d,f){return c(t(d),f).valueOf()}});function c(h,d){for(var f=(d=l(h,d,!0))._data,A=h._size[0],m=[],g=h._data,y=h._size[1]-1;y>=0;y--){var v=f[y][0]||0,_=void 0;if(o(v,0))_=0;else{var C=g[y][y];if(o(C,0))throw new Error("Linear system cannot be solved since matrix is singular");_=r(v,C);for(var b=y-1;b>=0;b--)f[b]=[s(f[b][0]||0,i(_,g[b][y]))]}m[y]=[_]}return new a({data:m,size:[A,1]})}}),cWe=ye("xor",["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i,SparseMatrix:s}=n,o=jc({typed:e}),a=sA({typed:e,SparseMatrix:s}),l=Wa({typed:e,DenseMatrix:r}),c=Ks({typed:e,matrix:t,concat:i});return e("xor",{"number, number":jH,"Complex, Complex":function(h,d){return(0!==h.re||0!==h.im)!=(0!==d.re||0!==d.im)},"bigint, bigint":jH,"BigNumber, BigNumber":function(h,d){return(!h.isZero()&&!h.isNaN())!=(!d.isZero()&&!d.isNaN())},"Unit, Unit":e.referToSelf(u=>(h,d)=>u(h.value||0,d.value||0))},c({SS:a,DS:o,Ss:l}))}),hWe=ye("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],n=>{var{typed:e,matrix:t,addScalar:r,equalScalar:i,DenseMatrix:s,concat:a}=n,l=vm({typed:e}),c=$H({typed:e,equalScalar:i}),u=F0({typed:e,DenseMatrix:s}),h=Ks({typed:e,matrix:t,concat:a});return e("add",{"any, any":r,"any, any, ...any":e.referToSelf(d=>(f,A,p)=>{for(var m=d(f,A),g=0;g<p.length;g++)m=d(m,p[g]);return m})},h({elop:r,DS:l,SS:c,Ss:u}))}),Cse=ye("matAlgo09xS0Sf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(i,s,o){var a=i._values,l=i._index,c=i._ptr,u=i._size,h=i._datatype||void 0===i._data?i._datatype:i.getDataType(),d=s._values,f=s._index,A=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==p.length)throw new ii(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");var v,g=u[0],y=u[1],_=t,C=0,b=o;"string"==typeof h&&h===m&&"mixed"!==h&&(_=e.find(t,[v=h,v]),C=e.convert(0,v),b=e.find(o,[v,v]));var R,U,k,O,M=a&&d?[]:void 0,D=[],E=[],T=M?[]:void 0,B=[];for(U=0;U<y;U++){E[U]=D.length;var P=U+1;if(T)for(O=A[U+1],k=A[U];k<O;k++)B[R=f[k]]=P,T[R]=d[k];for(O=c[U+1],k=c[U];k<O;k++)if(R=l[k],T){var H=b(a[k],B[R]===P?T[R]:C);_(H,C)||(D.push(R),M.push(H))}else D.push(R)}return E[y]=D.length,i.createSparseMatrix({values:M,index:D,ptr:E,size:[g,y],datatype:h===i._datatype&&m===s._datatype?v:void 0})}}),pWe=ye("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,BigNumber:i,DenseMatrix:s,concat:o}=n,a=rd({typed:e,equalScalar:r}),l=jc({typed:e}),c=Cse({typed:e,equalScalar:r}),u=Pl({typed:e,equalScalar:r}),h=Wa({typed:e,DenseMatrix:s}),d=Ks({typed:e,matrix:t,concat:o});return e("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":(f,A)=>i.atan2(f,A)},d({scalar:"number | BigNumber",SS:c,DS:l,SD:a,Ss:u,sS:h}))}),mWe=ye("bitXor",["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,matrix:t,DenseMatrix:r,concat:i,SparseMatrix:s}=n,o=jc({typed:e}),a=sA({typed:e,SparseMatrix:s}),l=Wa({typed:e,DenseMatrix:r});return e("bitXor",{"number, number":Xte,"BigNumber, BigNumber":X8e,"bigint, bigint":(u,h)=>u^h},Ks({typed:e,matrix:t,concat:i})({SS:a,DS:o,Ss:l}))}),yWe=ye("catalan",["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],n=>{var{typed:e,addScalar:t,divideScalar:r,multiplyScalar:i,combinations:s,isNegative:o,isInteger:a}=n;return e("catalan",{"number | BigNumber":function(c){if(!a(c)||o(c))throw new TypeError("Non-negative integer value expected in function catalan");return r(s(i(c,2),c),t(c,1))}})}),KI="compare",bWe=ye(KI,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],n=>{var{typed:e,config:t,equalScalar:r,matrix:i,BigNumber:s,Fraction:o,DenseMatrix:a,concat:l}=n,c=jc({typed:e}),u=SI({typed:e,equalScalar:r}),h=Wa({typed:e,DenseMatrix:a}),d=Ks({typed:e,matrix:i,concat:l}),f=_b({typed:e});return e(KI,wWe({typed:e,config:t}),{"boolean, boolean":function(p,m){return p===m?0:p>m?1:-1},"BigNumber, BigNumber":function(p,m){return Su(p,m,t.relTol,t.absTol)?new s(0):new s(p.cmp(m))},"bigint, bigint":function(p,m){return p===m?0n:p>m?1n:-1n},"Fraction, Fraction":function(p,m){return new o(p.compare(m))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,d({SS:u,DS:c,Ss:h}))}),wWe=ye(KI,["typed","config"],n=>{var{typed:e,config:t}=n;return e(KI,{"number, number":function(i,s){return Ol(i,s,t.relTol,t.absTol)?0:i>s?1:-1}})}),Dse="compareText",CWe=["typed","matrix","concat"];SH.signature="any, any";var xWe=ye(Dse,CWe,n=>{var{typed:e,matrix:t,concat:r}=n,i=Ks({typed:e,matrix:t,concat:r});return e(Dse,SH,i({elop:SH,Ds:!0}))}),SWe=ye("deepEqual",["typed","equal"],n=>{var{typed:e,equal:t}=n;return e("deepEqual",{"any, any":function(s,o){return r(s.valueOf(),o.valueOf())}});function r(i,s){if(Array.isArray(i)){if(Array.isArray(s)){var o=i.length;if(o!==s.length)return!1;for(var a=0;a<o;a++)if(!r(i[a],s[a]))return!1;return!0}return!1}return!Array.isArray(s)&&t(i,s)}}),MWe=ye("distance",["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],n=>{var{typed:e,addScalar:t,subtractScalar:r,multiplyScalar:i,divideScalar:s,deepEqual:o,sqrt:a,abs:l}=n;return e("distance",{"Array, Array, Array":function(C,b,M){if(2===C.length&&2===b.length&&2===M.length){if(!u(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!u(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!u(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(b,M))throw new TypeError("LinePoint1 should not be same with LinePoint2");var D=r(M[1],b[1]),E=r(b[0],M[0]),T=r(i(M[0],b[1]),i(b[0],M[1]));return m(C[0],C[1],D,E,T)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(C,b,M){if(2===Object.keys(C).length&&2===Object.keys(b).length&&2===Object.keys(M).length){if(!u(C))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!u(b))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!u(M))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(A(b),A(M)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in C&&"pointY"in C&&"lineOnePtX"in b&&"lineOnePtY"in b&&"lineTwoPtX"in M&&"lineTwoPtY"in M){var D=r(M.lineTwoPtY,b.lineOnePtY),E=r(b.lineOnePtX,M.lineTwoPtX),T=r(i(M.lineTwoPtX,b.lineOnePtY),i(b.lineOnePtX,M.lineTwoPtY));return m(C.pointX,C.pointY,D,E,T)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(C,b){if(2===C.length&&3===b.length){if(!u(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!h(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return m(C[0],C[1],b[0],b[1],b[2])}if(3===C.length&&6===b.length){if(!h(C))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!f(b))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(C[0],C[1],C[2],b[0],b[1],b[2],b[3],b[4],b[5])}if(C.length===b.length&&C.length>0){if(!d(C))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!d(b))throw new TypeError("All values of an array should be numbers or BigNumbers");return y(C,b)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(C,b){if(2===Object.keys(C).length&&3===Object.keys(b).length){if(!u(C))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!h(b))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in C&&"pointY"in C&&"xCoeffLine"in b&&"yCoeffLine"in b&&"constant"in b)return m(C.pointX,C.pointY,b.xCoeffLine,b.yCoeffLine,b.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(C).length&&6===Object.keys(b).length){if(!h(C))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in C&&"pointY"in C&&"x0"in b&&"y0"in b&&"z0"in b&&"a"in b&&"b"in b&&"c"in b)return g(C.pointX,C.pointY,C.pointZ,b.x0,b.y0,b.z0,b.a,b.b,b.c);throw new TypeError("Key names do not match")}if(2===Object.keys(C).length&&2===Object.keys(b).length){if(!u(C))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!u(b))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in C&&"pointOneY"in C&&"pointTwoX"in b&&"pointTwoY"in b)return y([C.pointOneX,C.pointOneY],[b.pointTwoX,b.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(C).length&&3===Object.keys(b).length){if(!h(C))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!h(b))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in C&&"pointOneY"in C&&"pointOneZ"in C&&"pointTwoX"in b&&"pointTwoY"in b&&"pointTwoZ"in b)return y([C.pointOneX,C.pointOneY,C.pointOneZ],[b.pointTwoX,b.pointTwoY,b.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(C){if(!function p(_){if(2===_[0].length&&c(_[0][0])&&c(_[0][1])){if(_.some(C=>2!==C.length||!c(C[0])||!c(C[1])))return!1}else{if(!(3===_[0].length&&c(_[0][0])&&c(_[0][1])&&c(_[0][2])))return!1;if(_.some(C=>3!==C.length||!c(C[0])||!c(C[1])||!c(C[2])))return!1}return!0}(C))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function v(_){for(var C=[],b=[],M=[],D=0;D<_.length-1;D++)for(var E=D+1;E<_.length;E++)2===_[0].length?(b=[_[D][0],_[D][1]],M=[_[E][0],_[E][1]]):3===_[0].length&&(b=[_[D][0],_[D][1],_[D][2]],M=[_[E][0],_[E][1],_[E][2]]),C.push(y(b,M));return C}(C)}});function c(_){return"number"==typeof _||Hr(_)}function u(_){return _.constructor!==Array&&(_=A(_)),c(_[0])&&c(_[1])}function h(_){return _.constructor!==Array&&(_=A(_)),c(_[0])&&c(_[1])&&c(_[2])}function d(_){return Array.isArray(_)||(_=A(_)),_.every(c)}function f(_){return _.constructor!==Array&&(_=A(_)),c(_[0])&&c(_[1])&&c(_[2])&&c(_[3])&&c(_[4])&&c(_[5])}function A(_){for(var C=Object.keys(_),b=[],M=0;M<C.length;M++)b.push(_[C[M]]);return b}function m(_,C,b,M,D){var E=l(t(t(i(b,_),i(M,C)),D)),T=a(t(i(b,b),i(M,M)));return s(E,T)}function g(_,C,b,M,D,E,T,B,R){var U=[r(i(r(D,C),R),i(r(E,b),B)),r(i(r(E,b),T),i(r(M,_),R)),r(i(r(M,_),B),i(r(D,C),T))];U=a(t(t(i(U[0],U[0]),i(U[1],U[1])),i(U[2],U[2])));var k=a(t(t(i(T,T),i(B,B)),i(R,R)));return s(U,k)}function y(_,C){for(var b=_.length,M=0,D=0,E=0;E<b;E++)D=r(_[E],C[E]),M=t(i(D,D),M);return a(M)}}),BWe=ye("dot",["typed","addScalar","multiplyScalar","conj","size"],n=>{var{typed:e,addScalar:t,multiplyScalar:r,conj:i,size:s}=n;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function a(u,h){var d=o(u,h),f=ur(u)?u._data:u,A=ur(u)?u._datatype||u.getDataType():void 0,p=ur(h)?h._data:h,m=ur(h)?h._datatype||h.getDataType():void 0,g=2===c(u).length,y=2===c(h).length,v=t,_=r;if(A&&m&&A===m&&"string"==typeof A&&"mixed"!==A){var C=A;v=e.find(t,[C,C]),_=e.find(r,[C,C])}if(!g&&!y){for(var b=_(i(f[0]),p[0]),M=1;M<d;M++)b=v(b,_(i(f[M]),p[M]));return b}if(!g&&y){for(var D=_(i(f[0]),p[0][0]),E=1;E<d;E++)D=v(D,_(i(f[E]),p[E][0]));return D}if(g&&!y){for(var T=_(i(f[0][0]),p[0]),B=1;B<d;B++)T=v(T,_(i(f[B][0]),p[B]));return T}if(g&&y){for(var R=_(i(f[0][0]),p[0][0]),U=1;U<d;U++)R=v(R,_(i(f[U][0]),p[U][0]));return R}},"SparseMatrix, SparseMatrix":function l(u,h){o(u,h);for(var d=u._index,f=u._values,A=h._index,p=h._values,m=0,g=t,y=r,v=0,_=0;v<d.length&&_<A.length;){var C=d[v],b=A[_];C<b?v++:C>b?_++:C===b&&(m=g(m,y(f[v],p[_])),v++,_++)}return m}});function o(u,h){var A,p,d=c(u),f=c(h);if(1===d.length)A=d[0];else{if(2!==d.length||1!==d[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");A=d[0]}if(1===f.length)p=f[0];else{if(2!==f.length||1!==f[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");p=f[0]}if(A!==p)throw new RangeError("Vectors must have equal length ("+A+" != "+p+")");if(0===A)throw new RangeError("Cannot calculate the dot product of empty vectors");return A}function c(u){return ur(u)?u.size():s(u)}}),IWe=ye("equalText",["typed","compareText","isZero"],n=>{var{typed:e,compareText:t,isZero:r}=n;return e("equalText",{"any, any":function(s,o){return r(t(s,o))}})}),h8="floor",FWe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],RWe=ye(h8,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(h8,{number:function(s){return Ol(s,r(s),t.relTol,t.absTol)?r(s):Math.floor(s)},"number, number":function(s,o){if(Ol(s,r(s,o),t.relTol,t.absTol))return r(s,o);var[a,l]="".concat(s,"e").split("e"),c=Math.floor(Number("".concat(a,"e").concat(Number(l)+o)));return[a,l]="".concat(c,"e").split("e"),Number("".concat(a,"e").concat(Number(l)-o))}})}),Ise=ye(h8,FWe,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a}=n,l=Pl({typed:e,equalScalar:s}),c=Wa({typed:e,DenseMatrix:a}),u=nd({typed:e}),h=RWe({typed:e,config:t,round:r});return e("floor",{number:h.signatures.number,"number,number":h.signatures["number,number"],Complex:function(f){return f.floor()},"Complex, number":function(f,A){return f.floor(A)},"Complex, BigNumber":function(f,A){return f.floor(A.toNumber())},BigNumber:function(f){return Su(f,r(f),t.relTol,t.absTol)?r(f):f.floor()},"BigNumber, BigNumber":function(f,A){return Su(f,r(f,A),t.relTol,t.absTol)?r(f,A):f.toDecimalPlaces(A.toNumber(),LI.ROUND_FLOOR)},Fraction:function(f){return f.floor()},"Fraction, number":function(f,A){return f.floor(A)},"Fraction, BigNumber":function(f,A){return f.floor(A.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(f,A,p){var m=f.toNumeric(p);return p.multiply(d(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>d(f,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>Rr(f,m=>d(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(f,A)=>d(f,0,A)),"Array | Matrix":e.referToSelf(d=>f=>Rr(f,d,!0)),"Array, number | BigNumber":e.referToSelf(d=>(f,A)=>Rr(f,p=>d(p,A),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>l(f,A,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>u(f,A,d,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(f,A)=>u(i(A),f,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(f,A)=>s(f,0)?o(A.size(),A.storage()):"dense"===A.storage()?u(A,f,d,!0):c(A,f,d,!0))})}),Rse=ye("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a,concat:l}=n,c=Ise({typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a}),u=rd({typed:e,equalScalar:s}),h=jc({typed:e}),d=SI({typed:e,equalScalar:s}),f=Pl({typed:e,equalScalar:s}),A=Wa({typed:e,DenseMatrix:a});return e("mod",{"number, number":function m(g,y){return 0===y?g:g-y*c(g/y)},"BigNumber, BigNumber":function(y,v){return v.isZero()?y:y.sub(v.mul(c(y.div(v))))},"bigint, bigint":function(y,v){if(0n===v)return y;if(y<0){var _=y%v;return 0n===_?_:_+v}return y%v},"Fraction, Fraction":function(y,v){return v.equals(0)?y:y.sub(v.mul(c(y.div(v))))}},Ks({typed:e,matrix:i,concat:l})({SS:d,DS:h,SD:u,Ss:f,sS:A}))}),PWe=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],f8="number | BigNumber | Fraction | Matrix | Array",LWe="".concat(f8,", ").concat(f8,", ...").concat(f8);function Pse(n){return!n.some(e=>Array.isArray(e))}var UWe=ye("gcd",PWe,n=>{var{typed:e,matrix:t,config:r,round:i,equalScalar:s,zeros:o,BigNumber:a,DenseMatrix:l,concat:c}=n,u=Rse({typed:e,config:r,round:i,matrix:t,equalScalar:s,zeros:o,DenseMatrix:l,concat:c}),h=vm({typed:e}),d=$H({typed:e,equalScalar:s}),f=F0({typed:e,DenseMatrix:l});return e("gcd",{"number, number":function p(g,y){if(!$n(g)||!$n(y))throw new Error("Parameters in function gcd must be integer numbers");for(var v;0!==y;)v=u(g,y),g=y,y=v;return g<0?-g:g},"BigNumber, BigNumber":function m(g,y){if(!g.isInt()||!y.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var v=new a(0);!y.isZero();){var _=u(g,y);g=y,y=_}return g.lt(v)?g.neg():g},"Fraction, Fraction":(g,y)=>g.gcd(y)},Ks({typed:e,matrix:t,concat:c})({SS:d,DS:h,Ss:f}),{[LWe]:e.referToSelf(g=>(y,v,_)=>{for(var C=g(y,v),b=0;b<_.length;b++)C=g(C,_[b]);return C}),Array:e.referToSelf(g=>y=>{if(1===y.length&&Array.isArray(y[0])&&Pse(y[0]))return g(...y[0]);if(Pse(y))return g(...y);throw new P0("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(g=>y=>g(y.toArray()))})}),HWe=ye("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],n=>{var{typed:e,abs:t,addScalar:r,divideScalar:i,multiplyScalar:s,sqrt:o,smaller:a,isPositive:l}=n;return e("hypot",{"... number | BigNumber":c,Array:c,Matrix:u=>c(Qi(u.toArray()))});function c(u){for(var h=0,d=0,f=0;f<u.length;f++){if(yp(u[f]))throw new TypeError("Unexpected type of argument to hypot");var A=t(u[f]);a(d,A)?(h=s(h,s(i(d,A),i(d,A))),h=r(h,1),d=A):h=r(h,l(A)?s(i(A,d),i(A,d)):A)}return s(d,o(h))}}),zWe=ye("ImmutableDenseMatrix",["smaller","DenseMatrix"],n=>{var{smaller:e,DenseMatrix:t}=n;function r(i,s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!hc(s))throw new Error("Invalid datatype: "+s);if(ur(i)||Ms(i)){var o=new t(i,s);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Ms(i.data)&&Ms(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Ws(i)+")");this._data=[],this._size=[0],this._datatype=s,this._min=null,this._max=null}}return(r.prototype=new t).type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(i){switch(arguments.length){case 1:var s=t.prototype.subset.call(this,i);return ur(s)?new r({data:s._data,size:s._size,datatype:s._datatype}):s;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:Ir(this._data),size:Ir(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(i){return new r(i)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(null===this._min){var i=null;this.forEach(function(s){(null===i||e(s,i))&&(i=s)}),this._min=null!==i?i:void 0}return this._min},r.prototype.max=function(){if(null===this._max){var i=null;this.forEach(function(s){(null===i||e(i,s))&&(i=s)}),this._max=null!==i?i:void 0}return this._max},r},{isClass:!0}),qWe=ye("Index",["ImmutableDenseMatrix","getMatrixDataType"],n=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=n;function r(s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,a=arguments.length;o<a;o++){var l=arguments[o],c=Ms(l),u=ur(l),h=null;if(bH(l))this._dimensions.push(l),this._isScalar=!1;else if(c||u){var d=void 0;"boolean"===t(l)?(c&&(d=i(Use(l).valueOf())),u&&(d=i(Use(l._data).valueOf())),h=l.valueOf().length):d=i(l.valueOf()),this._dimensions.push(d);var f=d.size();(1!==f.length||1!==f[0]||null!==h)&&(this._isScalar=!1)}else if("number"==typeof l)this._dimensions.push(i([l]));else{if("string"!=typeof l)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(l)}this._sourceSize.push(h)}}function i(s){for(var o=0,a=s.length;o<a;o++)if("number"!=typeof s[o]||!$n(s[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(s)}return r.prototype.type="Index",r.prototype.isIndex=!0,r.prototype.clone=function(){var s=new r;return s._dimensions=Ir(this._dimensions),s._isScalar=this._isScalar,s._sourceSize=this._sourceSize,s},r.create=function(s){var o=new r;return r.apply(o,s),o},r.prototype.size=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?1:l.size()[0]}return s},r.prototype.max=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?l:l.max()}return s},r.prototype.min=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?l:l.min()}return s},r.prototype.forEach=function(s){for(var o=0,a=this._dimensions.length;o<a;o++)s(this._dimensions[o],o,this)},r.prototype.dimension=function(s){return"number"!=typeof s?null:this._dimensions[s]||null},r.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.valueOf=r.prototype.toArray=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s.push("string"==typeof l?l:l.toArray())}return s},r.prototype.toString=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s.push("string"==typeof l?JSON.stringify(l):l.toString())}return"["+s.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(s){return r.create(s.dimensions)},r},{isClass:!0});function Use(n){var e=[];return n.forEach((t,r)=>{t&&e.push(r)}),e}var XI="larger",$We=ye(XI,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=jc({typed:e}),l=sA({typed:e,SparseMatrix:o}),c=Wa({typed:e,DenseMatrix:i}),u=Ks({typed:e,matrix:r,concat:s}),h=_b({typed:e});return e(XI,KWe({typed:e,config:t}),{"boolean, boolean":(d,f)=>d>f,"BigNumber, BigNumber":function(f,A){return f.gt(A)&&!Su(f,A,t.relTol,t.absTol)},"bigint, bigint":(d,f)=>d>f,"Fraction, Fraction":(d,f)=>1===d.compare(f),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,u({SS:l,DS:a,Ss:c}))}),KWe=ye(XI,["typed","config"],n=>{var{typed:e,config:t}=n;return e(XI,{"number, number":function(i,s){return i>s&&!Ol(i,s,t.relTol,t.absTol)}})}),YWe=ye("log",["config","typed","typeOf","divideScalar","Complex"],n=>{var{typed:e,typeOf:t,config:r,divideScalar:i,Complex:s}=n;return e("log",{number:function(a){return a>=0||r.predictable?function o7e(n,e){return e?Math.log(n)/Math.log(e):Math.log(n)}(a):new s(a,0).log()},Complex:function(a){return a.log()},BigNumber:function(a){return!a.isNegative()||r.predictable?a.ln():new s(a.toNumber(),0).log()},"any, any":e.referToSelf(o=>(a,l)=>{if("Fraction"===t(a)&&"Fraction"===t(l)){var c=a.log(l);if(null!==c)return c}return i(o(a),o(l))})})}),ZWe=ye("lsolveAll",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=rS({DenseMatrix:a});return e("lsolveAll",{"SparseMatrix, Array | Matrix":function(d,f){return function u(h,d){for(var f=[l(h,d,!0)._data.map(ve=>ve[0])],A=h._size[0],p=h._size[1],m=h._values,g=h._index,y=h._ptr,v=0;v<p;v++)for(var _=f.length,C=0;C<_;C++){for(var b=f[C],M=[],D=[],T=y[v+1],B=0,R=y[v];R<T;R++){var U=g[R];U===v?B=m[R]:U>v&&(M.push(m[R]),D.push(U))}if(o(B,0))if(o(b[v],0)){if(0===C){var P=[...b];P[v]=1;for(var G=0,H=D.length;G<H;G++){var ae=D[G];P[ae]=s(P[ae],M[G])}f.push(P)}}else{if(0===C)return[];f.splice(C,1),C-=1,_-=1}else{b[v]=r(b[v],B);for(var k=0,q=D.length;k<q;k++){var O=D[k];b[O]=s(b[O],i(b[v],M[k]))}}}return f.map(ve=>new a({data:ve.map(Q=>[Q]),size:[A,1]}))}(d,f)},"DenseMatrix, Array | Matrix":function(d,f){return c(d,f)},"Array, Array | Matrix":function(d,f){return c(t(d),f).map(m=>m.valueOf())}});function c(h,d){for(var f=[l(h,d,!0)._data.map(D=>D[0])],A=h._data,p=h._size[0],m=h._size[1],g=0;g<m;g++)for(var y=f.length,v=0;v<y;v++){var _=f[v];if(o(A[g][g],0))if(o(_[g],0)){if(0===v){var b=[..._];b[g]=1;for(var M=g+1;M<m;M++)b[M]=s(b[M],A[M][g]);f.push(b)}}else{if(0===v)return[];f.splice(v,1),v-=1,y-=1}else{_[g]=r(_[g],A[g][g]);for(var C=g+1;C<m;C++)_[C]=s(_[C],i(_[g],A[C][g]))}}return f.map(D=>new a({data:D.map(E=>[E]),size:[p,1]}))}}),Vse="matrixFromRows",t$e=ye(Vse,["typed","matrix","flatten","size"],n=>{var{typed:e,matrix:t,flatten:r,size:i}=n;return e(Vse,{"...Array":function(l){return s(l)},"...Matrix":function(l){return t(s(l.map(c=>c.toArray())))}});function s(a){if(0===a.length)throw new TypeError("At least one row is needed to construct a matrix.");var l=o(a[0]),c=[];for(var u of a){var h=o(u);if(h!==l)throw new TypeError("The vectors had different length: "+(0|l)+" \u2260 "+(0|h));c.push(r(u))}return c}function o(a){var l=i(a);if(1===l.length)return l[0];if(2===l.length){if(1===l[0])return l[1];if(1===l[1])return l[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),r$e=ye("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],n=>{var{typed:e,matrix:t,addScalar:r,multiplyScalar:i,equalScalar:s,dot:o}=n,a=Pl({typed:e,equalScalar:s}),l=nd({typed:e});function c(C,b){switch(C.length){case 1:switch(b.length){case 1:if(C[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(C[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+C[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(C[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+C[1]+") must match Vector length ("+b[0]+")");break;case 2:if(C[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+C[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+C.length+" dimensions)")}}var f=e("_multiplyMatrixVector",{"DenseMatrix, any":function p(C,b){var k,M=C._data,D=C._size,E=C._datatype||C.getDataType(),T=b._data,B=b._datatype||b.getDataType(),R=D[0],U=D[1],q=r,O=i;E&&B&&E===B&&"string"==typeof E&&"mixed"!==E&&(q=e.find(r,[k=E,k]),O=e.find(i,[k,k]));for(var P=[],G=0;G<R;G++){for(var H=M[G],ae=O(H[0],T[0]),ve=1;ve<U;ve++)ae=q(ae,O(H[ve],T[ve]));P[G]=ae}return C.createDenseMatrix({data:P,size:[R],datatype:E===C._datatype&&B===b._datatype?k:void 0})},"SparseMatrix, any":function y(C,b){var M=C._values,D=C._index,E=C._ptr,T=C._datatype||void 0===C._data?C._datatype:C.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var G,B=b._data,R=b._datatype||b.getDataType(),U=C._size[0],k=b._size[0],q=[],O=[],P=[],H=r,ae=i,ve=s,Q=0;T&&R&&T===R&&"string"==typeof T&&"mixed"!==T&&(H=e.find(r,[G=T,G]),ae=e.find(i,[G,G]),ve=e.find(s,[G,G]),Q=e.convert(0,G));var j=[],K=[];P[0]=0;for(var oe=0;oe<k;oe++){var se=B[oe];if(!ve(se,Q))for(var te=E[oe+1],ee=E[oe];ee<te;ee++){var Ae=D[ee];K[Ae]?j[Ae]=H(j[Ae],ae(se,M[ee])):(K[Ae]=!0,O.push(Ae),j[Ae]=ae(se,M[ee]))}}for(var xe=O.length,ge=0;ge<xe;ge++)q[ge]=j[O[ge]];return P[1]=O.length,C.createSparseMatrix({values:q,index:O,ptr:P,size:[U,1],datatype:T===C._datatype&&R===b._datatype?G:void 0})}}),A=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function m(C,b){var O,M=C._data,D=C._size,E=C._datatype||C.getDataType(),T=b._data,B=b._size,R=b._datatype||b.getDataType(),U=D[0],k=D[1],q=B[1],P=r,G=i;E&&R&&E===R&&"string"==typeof E&&"mixed"!==E&&"mixed"!==E&&(P=e.find(r,[O=E,O]),G=e.find(i,[O,O]));for(var H=[],ae=0;ae<U;ae++){var ve=M[ae];H[ae]=[];for(var Q=0;Q<q;Q++){for(var j=G(ve[0],T[0][Q]),K=1;K<k;K++)j=P(j,G(ve[K],T[K][Q]));H[ae][Q]=j}}return C.createDenseMatrix({data:H,size:[U,q],datatype:E===C._datatype&&R===b._datatype?O:void 0})},"DenseMatrix, SparseMatrix":function g(C,b){var M=C._data,D=C._size,E=C._datatype||C.getDataType(),T=b._values,B=b._index,R=b._ptr,U=b._size,k=b._datatype||void 0===b._data?b._datatype:b.getDataType();if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var P,q=D[0],O=U[1],G=r,H=i,ae=s,ve=0;E&&k&&E===k&&"string"==typeof E&&"mixed"!==E&&(G=e.find(r,[P=E,P]),H=e.find(i,[P,P]),ae=e.find(s,[P,P]),ve=e.convert(0,P));for(var Q=[],j=[],K=[],oe=b.createSparseMatrix({values:Q,index:j,ptr:K,size:[q,O],datatype:E===C._datatype&&k===b._datatype?P:void 0}),se=0;se<O;se++){K[se]=j.length;var le=R[se],te=R[se+1];if(te>le)for(var ee=0,Ae=0;Ae<q;Ae++){for(var xe=Ae+1,ge=void 0,Ee=le;Ee<te;Ee++){var ne=B[Ee];ee!==xe?(ge=H(M[Ae][ne],T[Ee]),ee=xe):ge=G(ge,H(M[Ae][ne],T[Ee]))}ee===xe&&!ae(ge,ve)&&(j.push(Ae),Q.push(ge))}}return K[O]=j.length,oe},"SparseMatrix, DenseMatrix":function v(C,b){var M=C._values,D=C._index,E=C._ptr,T=C._datatype||void 0===C._data?C._datatype:C.getDataType();if(!M)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O,B=b._data,R=b._datatype||b.getDataType(),U=C._size[0],k=b._size[0],q=b._size[1],P=r,G=i,H=s,ae=0;T&&R&&T===R&&"string"==typeof T&&"mixed"!==T&&(P=e.find(r,[O=T,O]),G=e.find(i,[O,O]),H=e.find(s,[O,O]),ae=e.convert(0,O));for(var ve=[],Q=[],j=[],K=C.createSparseMatrix({values:ve,index:Q,ptr:j,size:[U,q],datatype:T===C._datatype&&R===b._datatype?O:void 0}),oe=[],se=[],le=0;le<q;le++){j[le]=Q.length;for(var te=le+1,ee=0;ee<k;ee++){var Ae=B[ee][le];if(!H(Ae,ae))for(var ge=E[ee+1],Ee=E[ee];Ee<ge;Ee++){var ne=D[Ee];se[ne]!==te?(se[ne]=te,Q.push(ne),oe[ne]=G(Ae,M[Ee])):oe[ne]=P(oe[ne],G(Ae,M[Ee]))}}for(var W=Q.length,Be=j[le];Be<W;Be++)ve[Be]=oe[Q[Be]]}return j[q]=Q.length,K},"SparseMatrix, SparseMatrix":function _(C,b){var G,M=C._values,D=C._index,E=C._ptr,T=C._datatype||void 0===C._data?C._datatype:C.getDataType(),B=b._values,R=b._index,U=b._ptr,k=b._datatype||void 0===b._data?b._datatype:b.getDataType(),q=C._size[0],O=b._size[1],P=M&&B,H=r,ae=i;T&&k&&T===k&&"string"==typeof T&&"mixed"!==T&&(H=e.find(r,[G=T,G]),ae=e.find(i,[G,G]));for(var le,ee,Ae,ge,Ee,ne,ve=P?[]:void 0,Q=[],j=[],K=C.createSparseMatrix({values:ve,index:Q,ptr:j,size:[q,O],datatype:T===C._datatype&&k===b._datatype?G:void 0}),oe=P?[]:void 0,se=[],Y=0;Y<O;Y++){j[Y]=Q.length;var W=Y+1;for(ge=U[Y+1],Ae=U[Y];Ae<ge;Ae++)if(ne=R[Ae],P)for(ee=E[ne+1],le=E[ne];le<ee;le++)se[Ee=D[le]]!==W?(se[Ee]=W,Q.push(Ee),oe[Ee]=ae(B[Ae],M[le])):oe[Ee]=H(oe[Ee],ae(B[Ae],M[le]));else for(ee=E[ne+1],le=E[ne];le<ee;le++)se[Ee=D[le]]!==W&&(se[Ee]=W,Q.push(Ee));if(P)for(var Ce=Q.length,Pe=j[Y];Pe<Ce;Pe++)ve[Pe]=oe[Q[Pe]]}return j[O]=Q.length,K}});return e("multiply",i,{"Array, Array":e.referTo("Matrix, Matrix",C=>(b,M)=>{c(Er(b),Er(M));var D=C(t(b),t(M));return ur(D)?D.valueOf():D}),"Matrix, Matrix":function(b,M){var D=b.size(),E=M.size();return c(D,E),1===D.length?1===E.length?function u(C,b,M){if(0===M)throw new Error("Cannot multiply two empty vectors");return o(C,b)}(b,M,D[0]):function h(C,b){if("dense"!==b.storage())throw new Error("Support for SparseMatrix not implemented");return function d(C,b){var q,M=C._data,D=C._size,E=C._datatype||C.getDataType(),T=b._data,B=b._size,R=b._datatype||b.getDataType(),U=D[0],k=B[1],O=r,P=i;E&&R&&E===R&&"string"==typeof E&&"mixed"!==E&&(O=e.find(r,[q=E,q]),P=e.find(i,[q,q]));for(var G=[],H=0;H<k;H++){for(var ae=P(M[0],T[0][H]),ve=1;ve<U;ve++)ae=O(ae,P(M[ve],T[ve][H]));G[H]=ae}return C.createDenseMatrix({data:G,size:[k],datatype:E===C._datatype&&R===b._datatype?q:void 0})}(C,b)}(b,M):1===E.length?f(b,M):A(b,M)},"Matrix, Array":e.referTo("Matrix,Matrix",C=>(b,M)=>C(b,t(M))),"Array, Matrix":e.referToSelf(C=>(b,M)=>C(t(b,M.storage()),M)),"SparseMatrix, any":function(b,M){return a(b,M,i,!1)},"DenseMatrix, any":function(b,M){return l(b,M,i,!1)},"any, SparseMatrix":function(b,M){return a(M,b,i,!0)},"any, DenseMatrix":function(b,M){return l(M,b,i,!0)},"Array, any":function(b,M){return l(t(b),M,i,!1).valueOf()},"any, Array":function(b,M){return l(t(M),b,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(C=>(b,M,D)=>{for(var E=C(b,M),T=0;T<D.length;T++)E=C(E,D[T]);return E})})}),s$e=ye("nthRoots",["config","typed","divideScalar","Complex"],n=>{var{typed:e,Complex:i}=n,s=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function o(a,l){if(l<0)throw new Error("Root must be greater than zero");if(0===l)throw new Error("Root must be non-zero");if(l%1!=0)throw new Error("Root must be an integer");if(0===a||0===a.abs())return[new i(0,0)];var u,c="number"==typeof a;(c||0===a.re||0===a.im)&&(u=c?2*+(a<0):0===a.im?2*+(a.re<0):2*+(a.im<0)+1);for(var h=a.arg(),d=a.abs(),f=[],A=Math.pow(d,1/l),p=0;p<l;p++){var m=(u+4*p)/l;m!==Math.round(m)?f.push(new i({r:A,phi:(h+2*Math.PI*p)/l})):f.push(s[m%4](A))}return f}return e("nthRoots",{Complex:function(l){return o(l,2)},"Complex, number":o})}),Gse="partitionSelect",a$e=ye(Gse,["typed","isNumeric","isNaN","compare"],n=>{var{typed:e,isNumeric:t,isNaN:r,compare:i}=n,s=i,o=(c,u)=>-i(c,u);return e(Gse,{"Array | Matrix, number":function(u,h){return a(u,h,s)},"Array | Matrix, number, string":function(u,h,d){if("asc"===d)return a(u,h,s);if("desc"===d)return a(u,h,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":a});function a(c,u,h){if(!$n(u)||u<0)throw new Error("k must be a non-negative integer");if(ur(c)){if(c.size().length>1)throw new Error("Only one dimensional matrices supported");return l(c.valueOf(),u,h)}if(Array.isArray(c))return l(c,u,h)}function l(c,u,h){if(u>=c.length)throw new Error("k out of bounds");for(var d=0;d<c.length;d++)if(t(c[d])&&r(c[d]))return c[d];for(var f=0,A=c.length-1;f<A;){for(var p=f,m=A,g=c[Math.floor(Math.random()*(A-f+1))+f];p<m;)if(h(c[p],g)>=0){var y=c[m];c[m]=c[p],c[p]=y,--m}else++p;h(c[p],g)>0&&--p,u<=p?A=p:f=p+1}return c[u]}}),jse="rightLogShift",c$e=ye(jse,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,zeros:i,DenseMatrix:s,concat:o}=n,a=vm({typed:e}),l=rd({typed:e,equalScalar:r}),c=c8({typed:e,equalScalar:r}),u=F0({typed:e,DenseMatrix:s}),h=Pl({typed:e,equalScalar:r}),d=nd({typed:e}),f=Ks({typed:e,matrix:t,concat:o}),A=u8({typed:e,matrix:t});return e(jse,{"number, number":Zte,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():h(m,g,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,g)=>r(g,0)?m.clone():d(m,g,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):u(g,m,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(m,g)=>r(m,0)?i(g.size(),g.storage()):d(g,m,p,!0))},A,f({SS:c,DS:a,SD:l}))});function qse(n,e,t,r,i,s,o){var a=0;for(t[o]=n;a>=0;){var l=t[o+a],c=t[r+l];-1===c?(a--,s[e++]=l):(t[r+l]=t[i+c],t[o+ ++a]=c)}return e}function xm(n){return-n-2}var g$e=ye("csAmd",["add","multiply","transpose"],n=>{var{add:e,multiply:t,transpose:r}=n;return function(u,h){if(!h||u<=0||u>3)return null;var d=h._size,f=d[0],A=d[1],p=0,m=Math.max(16,10*Math.sqrt(A)),g=function i(c,u,h,d,f){var A=r(u);if(1===c&&d===h)return e(u,A);if(2===c){for(var p=A._index,m=A._ptr,g=0,y=0;y<h;y++){var v=m[y];if(m[y]=g,!(m[y+1]-v>f))for(var _=m[y+1];v<_;v++)p[g++]=p[v]}return m[h]=g,u=r(A),t(A,u)}return t(A,u)}(u,h,f,A,m=Math.min(A-2,m));!function d$e(n,e,t){for(var r=n._values,i=n._index,s=n._ptr,a=n._size[1],l=0,c=0;c<a;c++){var u=s[c];for(s[c]=l;u<s[c+1];u++)e(i[u],c,r?r[u]:1,t)&&(i[l]=i[u],r&&(r[l]=r[u]),l++)}s[a]=l,i.splice(l,i.length-l),r&&r.splice(l,r.length-l)}(g,l,null);for(var H,ae,ve,Q,j,K,oe,se,le,te,ee,Ae,xe,ge,Ee,ne,y=g._index,v=g._ptr,_=v[A],C=[],b=[],D=A+1,E=2*(A+1),T=3*(A+1),B=4*(A+1),R=5*(A+1),U=6*(A+1),k=7*(A+1),q=C,O=function s(c,u,h,d,f,A,p,m,g,y,v,_){for(var C=0;C<c;C++)h[d+C]=u[C+1]-u[C];h[d+c]=0;for(var b=0;b<=c;b++)h[f+b]=-1,A[b]=-1,h[p+b]=-1,h[m+b]=-1,h[g+b]=1,h[y+b]=1,h[v+b]=0,h[_+b]=h[d+b];var M=a(0,0,h,y,c);return h[v+c]=-2,u[c]=-1,h[y+c]=0,M}(A,v,b,0,T,q,E,k,D,U,B,R),P=function o(c,u,h,d,f,A,p,m,g,y,v){for(var _=0,C=0;C<c;C++){var b=h[d+C];if(0===b)h[f+C]=-2,_++,u[C]=-1,h[A+C]=0;else if(b>p)h[m+C]=0,h[f+C]=-1,_++,u[C]=xm(c),h[m+c]++;else{var M=h[g+b];-1!==M&&(y[M]=C),h[v+C]=h[g+b],h[g+b]=C}}return _}(A,v,b,R,B,U,m,D,T,q,E),G=0;P<A;){for(ve=-1;G<A&&-1===(ve=b[T+G]);G++);-1!==b[E+ve]&&(q[b[E+ve]]=-1),b[T+G]=b[E+ve];var Y=b[B+ve],W=b[D+ve];P+=W;var Be=0;b[D+ve]=-W;var Ce=v[ve],Pe=0===Y?Ce:_,Oe=Pe;for(Q=1;Q<=Y+1;Q++){for(Q>Y?(K=ve,oe=Ce,se=b[0+ve]-Y):(oe=v[K=y[Ce++]],se=b[0+K]),j=1;j<=se;j++)!((le=b[D+(H=y[oe++])])<=0)&&(Be+=le,b[D+H]=-le,y[Oe++]=H,-1!==b[E+H]&&(q[b[E+H]]=q[H]),-1!==q[H]?b[E+q[H]]=b[E+H]:b[T+b[R+H]]=b[E+H]);K!==ve&&(v[K]=xm(ve),b[U+K]=0)}for(0!==Y&&(_=Oe),b[R+ve]=Be,v[ve]=Pe,b[0+ve]=Oe-Pe,b[B+ve]=-2,O=a(O,p,b,U,A),te=Pe;te<Oe;te++)if(!((ee=b[B+(H=y[te])])<=0)){var re=O-(le=-b[D+H]);for(Ce=v[H],Ae=v[H]+ee-1;Ce<=Ae;Ce++)b[U+(K=y[Ce])]>=O?b[U+K]-=le:0!==b[U+K]&&(b[U+K]=b[R+K]+re)}for(te=Pe;te<Oe;te++){for(xe=(Ae=v[H=y[te]])+b[B+H]-1,ge=Ae,Ee=0,ne=0,Ce=Ae;Ce<=xe;Ce++)if(0!==b[U+(K=y[Ce])]){var J=b[U+K]-O;J>0?(ne+=J,y[ge++]=K,Ee+=K):(v[K]=xm(ve),b[U+K]=0)}b[B+H]=ge-Ae+1;var Ue=ge,Qe=Ae+b[0+H];for(Ce=xe+1;Ce<Qe;Ce++){var rt=b[D+(ae=y[Ce])];rt<=0||(ne+=rt,y[ge++]=ae,Ee+=ae)}0===ne?(v[H]=xm(ve),Be-=le=-b[D+H],W+=le,P+=le,b[D+H]=0,b[B+H]=-1):(b[R+H]=Math.min(b[R+H],ne),y[ge]=y[Ue],y[Ue]=y[Ae],y[Ae]=ve,b[0+H]=ge-Ae+1,b[E+H]=b[k+(Ee=(Ee<0?-Ee:Ee)%A)],b[k+Ee]=H,q[H]=Ee)}for(b[R+ve]=Be,O=a(O+(p=Math.max(p,Be)),p,b,U,A),te=Pe;te<Oe;te++)if(!(b[D+(H=y[te])]>=0))for(H=b[k+(Ee=q[H])],b[k+Ee]=-1;-1!==H&&-1!==b[E+H];H=b[E+H],O++){for(se=b[0+H],ee=b[B+H],Ce=v[H]+1;Ce<=v[H]+se-1;Ce++)b[U+y[Ce]]=O;var Xe=H;for(ae=b[E+H];-1!==ae;){var Pt=b[0+ae]===se&&b[B+ae]===ee;for(Ce=v[ae]+1;Pt&&Ce<=v[ae]+se-1;Ce++)b[U+y[Ce]]!==O&&(Pt=0);Pt?(v[ae]=xm(H),b[D+H]+=b[D+ae],b[D+ae]=0,b[B+ae]=-1,b[E+Xe]=ae=b[E+ae]):(Xe=ae,ae=b[E+ae])}}for(Ce=Pe,te=Pe;te<Oe;te++)!((le=-b[D+(H=y[te])])<=0)&&(b[D+H]=le,ne=b[R+H]+Be-le,-1!==b[T+(ne=Math.min(ne,A-P-le))]&&(q[b[T+ne]]=H),b[E+H]=b[T+ne],q[H]=-1,b[T+ne]=H,G=Math.min(G,ne),b[R+H]=ne,y[Ce++]=H);b[D+ve]=W,0==(b[0+ve]=Ce-Pe)&&(v[ve]=-1,b[U+ve]=0),0!==Y&&(_=Ce)}for(H=0;H<A;H++)v[H]=xm(v[H]);for(ae=0;ae<=A;ae++)b[T+ae]=-1;for(ae=A;ae>=0;ae--)b[D+ae]>0||(b[E+ae]=b[T+v[ae]],b[T+v[ae]]=ae);for(K=A;K>=0;K--)b[D+K]<=0||-1!==v[K]&&(b[E+K]=b[T+v[K]],b[T+v[K]]=K);for(ve=0,H=0;H<=A;H++)-1===v[H]&&(ve=qse(H,ve,b,T,E,C,U));return C.splice(C.length-1,1),C};function a(c,u,h,d,f){if(c<2||c+u<0){for(var A=0;A<f;A++)0!==h[d+A]&&(h[d+A]=1);c=2}return c}function l(c,u){return c!==u}});function m$e(n,e,t,r,i,s,o){var a,l,u,c=0;if(n<=e||t[r+e]<=t[i+n])return-1;t[i+n]=t[r+e];var h=t[s+n];if(t[s+n]=e,-1===h)c=1,u=n;else{for(c=2,u=h;u!==t[o+u];u=t[o+u]);for(a=h;a!==u;a=l)l=t[o+a],t[o+a]=u}return{jleaf:c,q:u}}var _$e=ye("csCounts",["transpose"],n=>{var{transpose:e}=n;return function(t,r,i,s){if(!t||!r||!i)return null;var c,u,h,d,f,p,o=t._size,a=o[0],l=o[1],m=4*l+(s?l+a+1:0),g=[],v=l,_=2*l,C=3*l,b=4*l,M=5*l+1;for(h=0;h<m;h++)g[h]=-1;var D=[],E=e(t),T=E._index,B=E._ptr;for(h=0;h<l;h++)for(D[u=i[h]]=-1===g[C+u]?1:0;-1!==u&&-1===g[C+u];u=r[u])g[C+u]=h;if(s){for(h=0;h<l;h++)g[i[h]]=h;for(c=0;c<a;c++){for(h=l,p=B[c+1],f=B[c];f<p;f++)h=Math.min(h,g[T[f]]);g[M+c]=g[b+h],g[b+h]=c}}for(c=0;c<l;c++)g[0+c]=c;for(h=0;h<l;h++){for(-1!==r[u=i[h]]&&D[r[u]]--,d=s?g[b+h]:u;-1!==d;d=s?g[M+d]:-1)for(f=B[d];f<B[d+1];f++){var R=m$e(c=T[f],u,g,C,v,_,0);R.jleaf>=1&&D[u]++,2===R.jleaf&&D[R.q]--}-1!==r[u]&&(g[0+u]=r[u])}for(u=0;u<l;u++)-1!==r[u]&&(D[r[u]]+=D[u]);return D}}),C$e=ye("csSqr",["add","multiply","transpose"],n=>{var{add:e,multiply:t,transpose:r}=n,i=g$e({add:e,multiply:t,transpose:r}),s=_$e({transpose:r});return function(l,c,u){var A,h=c._ptr,f=c._size[1],p={};if(p.q=i(l,c),l&&!p.q)return null;if(u){var m=l?function u$e(n,e,t,r){for(var i=n._values,s=n._index,o=n._ptr,a=n._size,l=n._datatype,c=a[0],u=a[1],h=r&&n._values?[]:null,d=[],f=[],A=0,p=0;p<u;p++){f[p]=A;for(var m=t?t[p]:p,y=o[m+1],v=o[m];v<y;v++)d[A]=e?e[s[v]]:s[v],h&&(h[A]=i[v]),A++}return f[u]=A,n.createSparseMatrix({values:h,index:d,ptr:f,size:[c,u],datatype:l})}(c,null,p.q,0):c;p.parent=function f$e(n,e){if(!n)return null;var h,d,t=n._index,r=n._ptr,i=n._size,s=i[0],o=i[1],a=[],l=[],u=o;if(e)for(h=0;h<s;h++)l[u+h]=-1;for(var f=0;f<o;f++){a[f]=-1,l[0+f]=-1;for(var p=r[f+1],m=r[f];m<p;m++){var g=t[m];for(h=e?l[u+g]:g;-1!==h&&h<f;h=d)d=l[0+h],l[0+h]=f,-1===d&&(a[h]=f);e&&(l[u+g]=f)}}return a}(m,1);var g=function h$e(n,e){if(!n)return null;var r,t=0,i=[],s=[],a=e,l=2*e;for(r=0;r<e;r++)s[0+r]=-1;for(r=e-1;r>=0;r--)-1!==n[r]&&(s[a+r]=s[0+n[r]],s[0+n[r]]=r);for(r=0;r<e;r++)-1===n[r]&&(t=qse(r,t,s,0,a,i,l));return i}(p.parent,f);if(p.cp=s(m,p.parent,g,1),m&&p.parent&&p.cp&&function o(a,l){var c=a._ptr,u=a._index,h=a._size,d=h[0],f=h[1];l.pinv=[],l.leftmost=[];var b,M,D,T,A=l.parent,p=l.pinv,m=l.leftmost,g=[],v=d,_=d+f,C=d+2*f;for(M=0;M<f;M++)g[v+M]=-1,g[_+M]=-1,g[C+M]=0;for(b=0;b<d;b++)m[b]=-1;for(M=f-1;M>=0;M--)for(T=c[M+1],D=c[M];D<T;D++)m[u[D]]=M;for(b=d-1;b>=0;b--)p[b]=-1,-1!==(M=m[b])&&(0==g[C+M]++&&(g[_+M]=b),g[0+b]=g[v+M],g[v+M]=b);for(l.lnz=0,l.m2=d,M=0;M<f;M++)if(b=g[v+M],l.lnz++,b<0&&(b=l.m2++),p[b]=M,!(--C[M]<=0)){l.lnz+=g[C+M];var B=A[M];-1!==B&&(0===g[C+B]&&(g[_+B]=g[_+M]),g[0+g[_+M]]=g[v+B],g[v+B]=g[0+b],g[C+B]+=g[C+M])}for(b=0;b<d;b++)p[b]<0&&(p[b]=M++);return!0}(m,p))for(p.unz=0,A=0;A<f;A++)p.unz+=p.cp[A]}else p.unz=4*h[f]+f,p.lnz=p.unz;return p}});function d8(n,e){return n[e]<0}function Wse(n,e){n[e]=xm(n[e])}function $se(n){return n<0?xm(n):n}function x$e(n,e,t,r,i){var c,u,h,s=e._index,o=e._ptr,l=e._size[1],d=0;for(r[0]=n;d>=0;){n=r[d];var f=i?i[n]:n;d8(o,n)||(Wse(o,n),r[l+d]=f<0?0:$se(o[f]));var A=1;for(u=r[l+d],h=f<0?0:$se(o[f+1]);u<h;u++)if(!d8(o,c=s[u])){r[l+d]=u,r[++d]=c,A=0;break}A&&(d--,r[--t]=n)}return t}var M$e=ye("csSpsolve",["divideScalar","multiply","subtract"],n=>{var{divideScalar:e,multiply:t,subtract:r}=n;return function(s,o,a,l,c,u,h){var _,C,b,M,d=s._values,f=s._index,A=s._ptr,m=s._size[1],g=o._values,y=o._index,v=o._ptr,D=function E$e(n,e,t,r,i){var u,d,s=n._ptr,a=e._index,l=e._ptr,c=n._size[1],f=c;for(d=l[t+1],u=l[t];u<d;u++){var A=a[u];d8(s,A)||(f=x$e(A,n,f,r,i))}for(u=f;u<c;u++)Wse(s,r[u]);return f}(s,o,a,l,u);for(_=D;_<m;_++)c[l[_]]=0;for(b=v[a+1],_=C=v[a];_<b;_++)c[y[_]]=g[_];for(var E=D;E<m;E++){var T=l[E],B=u?u[T]:T;if(!(B<0))for(C=A[B],b=A[B+1],c[T]=e(c[T],d[h?C:b-1]),_=h?C+1:C,M=h?b:b-1;_<M;_++){var R=f[_];c[R]=r(c[R],t(d[_],c[T]))}}return D}}),N$e=ye("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],n=>{var{abs:e,divideScalar:t,multiply:r,subtract:i,larger:s,largerEq:o,SparseMatrix:a}=n,l=M$e({divideScalar:t,multiply:r,subtract:i});return function(u,h,d){if(!u)return null;var p,A=u._size[1],m=100,g=100;h&&(p=h.q,m=h.lnz||m,g=h.unz||g);var B,R,y=[],v=[],_=[],C=new a({values:y,index:v,ptr:_,size:[A,A]}),b=[],M=[],D=[],E=new a({values:b,index:M,ptr:D,size:[A,A]}),T=[],U=[],k=[];for(B=0;B<A;B++)U[B]=0,T[B]=-1,_[B+1]=0;m=0,g=0;for(var q=0;q<A;q++){_[q]=m,D[q]=g;var O=p?p[q]:q,P=l(C,u,O,k,U,T,1),G=-1,H=-1;for(R=P;R<A;R++)if(T[B=k[R]]<0){var ae=e(U[B]);s(ae,H)&&(H=ae,G=B)}else M[g]=T[B],b[g++]=U[B];if(-1===G||H<=0)return null;T[O]<0&&o(e(U[O]),r(H,d))&&(G=O);var ve=U[G];for(M[g]=q,b[g++]=ve,T[G]=q,v[m]=G,y[m++]=1,R=P;R<A;R++)T[B=k[R]]<0&&(v[m]=B,y[m++]=t(U[B],ve)),U[B]=0}for(_[A]=m,D[A]=g,R=0;R<m;R++)v[R]=T[v[R]];return y.splice(m,y.length-m),v.splice(m,v.length-m),b.splice(g,b.length-g),M.splice(g,M.length-g),{L:C,U:E,pinv:T}}}),F$e=ye("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],n=>{var{typed:e,abs:t,add:r,multiply:i,transpose:s,divideScalar:o,subtract:a,larger:l,largerEq:c,SparseMatrix:u}=n,h=C$e({add:r,multiply:i,transpose:s}),d=N$e({abs:t,divideScalar:o,multiply:i,subtract:a,larger:l,largerEq:c,SparseMatrix:u});return e("slu",{"SparseMatrix, number, number":function(A,p,m){if(!$n(p)||p<0||p>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=h(p,A,!1),y=d(A,g,m);return{L:y.L,U:y.U,p:y.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),P$e=ye("trace",["typed","matrix","add"],n=>{var{typed:e,matrix:t,add:r}=n;return e("trace",{Array:function(a){return i(t(a))},SparseMatrix:function s(o){var a=o._values,l=o._index,c=o._ptr,u=o._size,d=u[1];if(u[0]===d){var f=0;if(a.length>0)for(var A=0;A<d;A++)for(var m=c[A+1],g=c[A];g<m;g++){var y=l[g];if(y===A){f=r(f,a[g]);break}if(y>A)break}return f}throw new RangeError("Matrix must be square (size: "+ri(u)+")")},DenseMatrix:i,any:Ir});function i(o){var a=o._size,l=o._data;switch(a.length){case 1:if(1===a[0])return Ir(l[0]);throw new RangeError("Matrix must be square (size: "+ri(a)+")");case 2:var c=a[0];if(c===a[1]){for(var h=0,d=0;d<c;d++)h=r(h,l[d][d]);return h}throw new RangeError("Matrix must be square (size: "+ri(a)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+ri(a)+")")}}}),U$e=ye("usolveAll",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:e,matrix:t,divideScalar:r,multiplyScalar:i,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=rS({DenseMatrix:a});return e("usolveAll",{"SparseMatrix, Array | Matrix":function(d,f){return function u(h,d){for(var f=[l(h,d,!0)._data.map(ve=>ve[0])],A=h._size[0],m=h._values,g=h._index,y=h._ptr,v=h._size[1]-1;v>=0;v--)for(var _=f.length,C=0;C<_;C++){for(var b=f[C],M=[],D=[],E=y[v],B=0,R=y[v+1]-1;R>=E;R--){var U=g[R];U===v?B=m[R]:U<v&&(M.push(m[R]),D.push(U))}if(o(B,0))if(o(b[v],0)){if(0===C){var P=[...b];P[v]=1;for(var G=0,H=D.length;G<H;G++){var ae=D[G];P[ae]=s(P[ae],M[G])}f.push(P)}}else{if(0===C)return[];f.splice(C,1),C-=1,_-=1}else{b[v]=r(b[v],B);for(var k=0,q=D.length;k<q;k++){var O=D[k];b[O]=s(b[O],i(b[v],M[k]))}}}return f.map(ve=>new a({data:ve.map(Q=>[Q]),size:[A,1]}))}(d,f)},"DenseMatrix, Array | Matrix":function(d,f){return c(d,f)},"Array, Array | Matrix":function(d,f){return c(t(d),f).map(m=>m.valueOf())}});function c(h,d){for(var f=[l(h,d,!0)._data.map(D=>D[0])],A=h._data,p=h._size[0],g=h._size[1]-1;g>=0;g--)for(var y=f.length,v=0;v<y;v++){var _=f[v];if(o(A[g][g],0))if(o(_[g],0)){if(0===v){var b=[..._];b[g]=1;for(var M=g-1;M>=0;M--)b[M]=s(b[M],A[M][g]);f.push(b)}}else{if(0===v)return[];f.splice(v,1),v-=1,y-=1}else{_[g]=r(_[g],A[g][g]);for(var C=g-1;C>=0;C--)_[C]=s(_[C],i(_[g],A[C][g]))}}return f.map(D=>new a({data:D.map(E=>[E]),size:[p,1]}))}}),H$e=ye("zpk2tf",["typed","add","multiply","Complex","number"],n=>{var{typed:e,add:t,multiply:r,Complex:i,number:s}=n;return e("zpk2tf",{"Array,Array,number":function(c,u,h){return o(c,u,h)},"Array,Array":function(c,u){return o(c,u,1)},"Matrix,Matrix,number":function(c,u,h){return o(c.valueOf(),u.valueOf(),h)},"Matrix,Matrix":function(c,u){return o(c.valueOf(),u.valueOf(),1)}});function o(l,c,u){l.some(y=>"BigNumber"===y.type)&&(l=l.map(y=>s(y))),c.some(y=>"BigNumber"===y.type)&&(c=c.map(y=>s(y)));for(var h=[i(1,0)],d=[i(1,0)],f=0;f<l.length;f++){var A=l[f];"number"==typeof A&&(A=i(A,0)),h=a(h,[i(1,0),i(-A.re,-A.im)])}for(var p=0;p<c.length;p++){var m=c[p];"number"==typeof m&&(m=i(m,0)),d=a(d,[i(1,0),i(-m.re,-m.im)])}for(var g=0;g<h.length;g++)h[g]=r(h[g],u);return[h,d]}function a(l,c){for(var u=[],h=0;h<l.length+c.length-1;h++){u[h]=i(0,0);for(var d=0;d<l.length;d++)h-d>=0&&h-d<c.length&&(u[h]=t(u[h],r(l[d],c[h-d])))}return u}}),A8="ceil",V$e=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Q$e=ye(A8,["typed","config","round"],n=>{var{typed:e,config:t,round:r}=n;return e(A8,{number:function(s){return Ol(s,r(s),t.relTol,t.absTol)?r(s):Math.ceil(s)},"number, number":function(s,o){if(Ol(s,r(s,o),t.relTol,t.absTol))return r(s,o);var[a,l]="".concat(s,"e").split("e"),c=Math.ceil(Number("".concat(a,"e").concat(Number(l)+o)));return[a,l]="".concat(c,"e").split("e"),Number("".concat(a,"e").concat(Number(l)-o))}})}),z$e=ye(A8,V$e,n=>{var{typed:e,config:t,round:r,matrix:i,equalScalar:s,zeros:o,DenseMatrix:a}=n,l=Pl({typed:e,equalScalar:s}),c=Wa({typed:e,DenseMatrix:a}),u=nd({typed:e}),h=Q$e({typed:e,config:t,round:r});return e("ceil",{number:h.signatures.number,"number,number":h.signatures["number,number"],Complex:function(f){return f.ceil()},"Complex, number":function(f,A){return f.ceil(A)},"Complex, BigNumber":function(f,A){return f.ceil(A.toNumber())},BigNumber:function(f){return Su(f,r(f),t.relTol,t.absTol)?r(f):f.ceil()},"BigNumber, BigNumber":function(f,A){return Su(f,r(f,A),t.relTol,t.absTol)?r(f,A):f.toDecimalPlaces(A.toNumber(),LI.ROUND_CEIL)},Fraction:function(f){return f.ceil()},"Fraction, number":function(f,A){return f.ceil(A)},"Fraction, BigNumber":function(f,A){return f.ceil(A.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(f,A,p){var m=f.toNumeric(p);return p.multiply(d(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>d(f,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>Rr(f,m=>d(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(f,A)=>d(f,0,A)),"Array | Matrix":e.referToSelf(d=>f=>Rr(f,d,!0)),"Array, number | BigNumber":e.referToSelf(d=>(f,A)=>Rr(f,p=>d(p,A),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>l(f,A,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(f,A)=>u(f,A,d,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(f,A)=>u(i(A),f,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(f,A)=>s(f,0)?o(A.size(),A.storage()):"dense"===A.storage()?u(A,f,d,!0):c(A,f,d,!0))})}),Eb=we(3556),Jse="compareNatural",j$e=ye(Jse,["typed","compare"],n=>{var{typed:e,compare:t}=n,r=t.signatures["boolean,boolean"];return e(Jse,{"any, any":function i(l,c){var d,u=Ws(l),h=Ws(c);if(!("number"!==u&&"BigNumber"!==u&&"Fraction"!==u||"number"!==h&&"BigNumber"!==h&&"Fraction"!==h))return"0"!==(d=t(l,c)).toString()?d>0?1:-1:Eb(u,h);var f=["Array","DenseMatrix","SparseMatrix"];if(f.includes(u)||f.includes(h))return 0!==(d=s(i,l,c))?d:Eb(u,h);if(u!==h)return Eb(u,h);if("Complex"===u)return function q$e(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0}(l,c);if("Unit"===u)return l.equalBase(c)?i(l.value,c.value):o(i,l.formatUnits(),c.formatUnits());if("boolean"===u)return r(l,c);if("string"===u)return Eb(l,c);if("Object"===u)return function a(l,c,u){var h=Object.keys(c),d=Object.keys(u);h.sort(Eb),d.sort(Eb);var f=o(l,h,d);if(0!==f)return f;for(var A=0;A<h.length;A++){var p=l(c[h[A]],u[d[A]]);if(0!==p)return p}return 0}(i,l,c);if("null"===u||"undefined"===u)return 0;throw new TypeError('Unsupported type of value "'+u+'"')}});function s(l,c,u){return T0(c)&&T0(u)?o(l,c.toJSON().values,u.toJSON().values):T0(c)?s(l,c.toArray(),u):T0(u)?s(l,c,u.toArray()):YN(c)?s(l,c.toJSON().data,u):YN(u)?s(l,c,u.toJSON().data):Array.isArray(c)?Array.isArray(u)?o(l,c,u):s(l,c,[u]):s(l,[c],u)}function o(l,c,u){for(var h=0,d=Math.min(c.length,u.length);h<d;h++){var f=l(c[h],u[h]);if(0!==f)return f}return c.length>u.length?1:c.length<u.length?-1:0}}),Zse="composition",$$e=ye(Zse,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],n=>{var{typed:e,addScalar:t,combinations:r,isPositive:i,isInteger:o,larger:a}=n;return e(Zse,{"number | BigNumber, number | BigNumber":function(c,u){if(!(o(c)&&i(c)&&o(u)&&i(u)))throw new TypeError("Positive integer value expected in function composition");if(a(u,c))throw new TypeError("k must be less than or equal to n in function composition");return r(t(c,-1),t(u,-1))}})}),X$e=ye("cross",["typed","matrix","subtract","multiply"],n=>{var{typed:e,matrix:t,subtract:r,multiply:i}=n;return e("cross",{"Matrix, Matrix":function(a,l){return t(s(a.toArray(),l.toArray()))},"Matrix, Array":function(a,l){return t(s(a.toArray(),l))},"Array, Matrix":function(a,l){return t(s(a,l.toArray()))},"Array, Array":s});function s(o,a){var l=Math.max(Er(o).length,Er(a).length);o=rI(o),a=rI(a);var c=Er(o),u=Er(a);if(1!==c.length||1!==u.length||3!==c[0]||3!==u[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+c.join(", ")+"], B = ["+u.join(", ")+"])");var h=[r(i(o[1],a[2]),i(o[2],a[1])),r(i(o[2],a[0]),i(o[0],a[2])),r(i(o[0],a[1]),i(o[1],a[0]))];return l>1?[h]:h}}),J$e=ye("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],n=>{var{typed:e,matrix:t,subtractScalar:r,multiply:i,divideScalar:s,isZero:o,unaryMinus:a}=n;return e("det",{any:function(u){return Ir(u)},"Array | Matrix":function(u){var h;switch((h=ur(u)?u.size():Array.isArray(u)?(u=t(u)).size():[]).length){case 0:return Ir(u);case 1:if(1===h[0])return Ir(u.valueOf()[0]);if(0===h[0])return 1;throw new RangeError("Matrix must be square (size: "+ri(h)+")");case 2:var d=h[0],f=h[1];if(d===f)return function l(c,u,h){if(1===u)return Ir(c[0][0]);if(2===u)return r(i(c[0][0],c[1][1]),i(c[1][0],c[0][1]));for(var d=!1,f=new Array(u).fill(0).map((M,D)=>D),A=0;A<u;A++){var p=f[A];if(o(c[p][A])){var m=void 0;for(m=A+1;m<u;m++)if(!o(c[f[m]][A])){p=f[m],f[m]=f[A],f[A]=p,d=!d;break}if(m===u)return c[p][A]}for(var g=c[p][A],y=0===A?1:c[f[A-1]][A-1],v=A+1;v<u;v++)for(var _=f[v],C=A+1;C<u;C++)c[_][C]=s(r(i(c[_][C],g),i(c[_][A],c[p][C])),y)}var b=c[f[u-1]][u-1];return d?a(b):b}(u.clone().valueOf(),d);if(0===f)return 1;throw new RangeError("Matrix must be square (size: "+ri(h)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+ri(h)+")")}}})}),noe="dotMultiply",eKe=ye(noe,["typed","matrix","equalScalar","multiplyScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,multiplyScalar:i,concat:s}=n,o=rd({typed:e,equalScalar:r}),a=Cse({typed:e,equalScalar:r}),l=Pl({typed:e,equalScalar:r}),c=Ks({typed:e,matrix:t,concat:s});return e(noe,c({elop:i,SS:a,DS:o,Ss:l}))}),rKe=ye("FibonacciHeap",["smaller","larger"],n=>{var{smaller:e,larger:t}=n,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(u,h,d){h.left.right=h.right,h.right.left=h.left,d.degree--,d.child===h&&(d.child=h.right),0===d.degree&&(d.child=null),h.left=u,h.right=u.right,u.right=h,h.right.left=h,h.parent=null,h.mark=!1}function a(u,h){var d=h.parent;d&&(h.mark?(o(u,h,d),a(d)):h.mark=!0)}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(u,h){var d={key:u,value:h,degree:0};if(this._minimum){var f=this._minimum;d.left=f,d.right=f.right,f.right=d,d.right.left=d,e(u,f.key)&&(this._minimum=d)}else d.left=d,d.right=d,this._minimum=d;return this._size++,d},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var u=this._minimum;if(null===u)return u;for(var h=this._minimum,d=u.degree,f=u.child;d>0;){var A=f.right;f.left.right=f.right,f.right.left=f.left,f.left=h,f.right=h.right,h.right=f,f.right.left=f,f.parent=null,f=A,d--}return u.left.right=u.right,u.right.left=u.left,h=u===u.right?null:function c(u,h){var m,d=Math.floor(Math.log(h)*r)+1,f=new Array(d),A=0,p=u;if(p)for(A++,p=p.right;p!==u;)A++,p=p.right;for(;A>0;){for(var g=p.degree,y=p.right;m=f[g];){if(t(p.key,m.key)){var v=m;m=p,p=v}l(m,p),f[g]=null,g++}f[g]=p,p=y,A--}u=null;for(var _=0;_<d;_++)(m=f[_])&&(u?(m.left.right=m.right,m.right.left=m.left,m.left=u,m.right=u.right,u.right=m,m.right.left=m,e(m.key,u.key)&&(u=m)):u=m);return u}(h=u.right,this._size),this._size--,this._minimum=h,u},i.prototype.remove=function(u){this._minimum=function s(u,h,d){h.key=d;var f=h.parent;return f&&e(h.key,f.key)&&(o(u,h,f),a(u,f)),e(h.key,u.key)&&(u=h),u}(this._minimum,u,-1),this.extractMinimum()};var l=function(h,d){h.left.right=h.right,h.right.left=h.left,h.parent=d,d.child?(h.left=d.child,h.right=d.child.right,d.child.right=h,h.right.left=h):(d.child=h,h.right=h,h.left=h),d.degree++,h.mark=!1};return i},{isClass:!0}),iKe=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],sKe=ye("fix",["typed","ceil","floor"],n=>{var{typed:e,ceil:t,floor:r}=n;return e("fix",{number:function(s){return s>0?r(s):t(s)},"number, number":function(s,o){return s>0?r(s,o):t(s,o)}})}),oKe=ye("fix",iKe,n=>{var{typed:e,Complex:t,matrix:r,ceil:i,floor:s,equalScalar:o,zeros:a,DenseMatrix:l}=n,c=Wa({typed:e,DenseMatrix:l}),u=nd({typed:e}),h=sKe({typed:e,ceil:i,floor:s});return e("fix",{number:h.signatures.number,"number, number | BigNumber":h.signatures["number,number"],Complex:function(f){return new t(f.re>0?Math.floor(f.re):Math.ceil(f.re),f.im>0?Math.floor(f.im):Math.ceil(f.im))},"Complex, number":function(f,A){return new t(f.re>0?s(f.re,A):i(f.re,A),f.im>0?s(f.im,A):i(f.im,A))},"Complex, BigNumber":function(f,A){var p=A.toNumber();return new t(f.re>0?s(f.re,p):i(f.re,p),f.im>0?s(f.im,p):i(f.im,p))},BigNumber:function(f){return f.isNegative()?i(f):s(f)},"BigNumber, number | BigNumber":function(f,A){return f.isNegative()?i(f,A):s(f,A)},Fraction:function(f){return f.s<0n?f.ceil():f.floor()},"Fraction, number | BigNumber":function(f,A){return f.s<0n?i(f,A):s(f,A)},"Unit, number, Unit":e.referToSelf(d=>function(f,A,p){var m=f.toNumeric(p);return p.multiply(d(m,A))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>d(f,A.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(f,A,p)=>Rr(f,m=>d(m,A,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(f,A)=>d(f,0,A)),"Array | Matrix":e.referToSelf(d=>f=>Rr(f,d,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(d=>(f,A)=>Rr(f,p=>d(p,A),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(f,A)=>u(r(A),f,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(f,A)=>o(f,0)?a(A.size(),A.storage()):"dense"===A.storage()?u(A,f,d,!0):c(A,f,d,!0))})}),lKe=ye("index",["typed","Index"],n=>{var{typed:e,Index:t}=n;return e("index",{"...number | string | BigNumber | Range | Array | Matrix":function(i){var s=i.map(function(a){return Hr(a)?a.toNumber():Ms(a)||ur(a)?a.map(function(l){return Hr(l)?l.toNumber():l}):a}),o=new t;return t.apply(o,s),o}})}),hKe=ye("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],n=>{var{typed:e,config:t,abs:r,add:i,addScalar:s,matrix:o,multiply:a,multiplyScalar:l,divideScalar:c,subtract:u,smaller:h,equalScalar:d,flatten:f,isZero:A,isNumeric:p}=n;return e("intersect",{"Array, Array, Array":m,"Array, Array, Array, Array":g,"Matrix, Matrix, Matrix":function(B,R,U){var k=m(B.valueOf(),R.valueOf(),U.valueOf());return null===k?null:o(k)},"Matrix, Matrix, Matrix, Matrix":function(B,R,U,k){var q=g(B.valueOf(),R.valueOf(),U.valueOf(),k.valueOf());return null===q?null:o(q)}});function m(T,B,R){if(T=y(T),B=y(B),R=y(R),!_(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function C(T){return 4===T.length&&p(T[0])&&p(T[1])&&p(T[2])&&p(T[3])}(R))throw new TypeError("Array with 4 numbers expected as third argument");return function E(T,B,R,U,k,q,O,P,G,H){var ae=l(T,O),ve=l(U,O),Q=l(B,P),j=l(k,P),K=l(R,G),oe=l(q,G),se=u(u(u(H,ae),Q),K),le=u(u(u(s(s(ve,j),oe),ae),Q),K),te=c(se,le);return[s(T,l(te,u(U,T))),s(B,l(te,u(k,B))),s(R,l(te,u(q,R)))]}(T[0],T[1],T[2],B[0],B[1],B[2],R[0],R[1],R[2],R[3])}function g(T,B,R,U){if(T=y(T),B=y(B),R=y(R),U=y(U),2===T.length){if(!v(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!v(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!v(R))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!v(U))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function b(T,B,R,U){var k=T,q=R,O=u(k,B),P=u(q,U),G=u(l(O[0],P[1]),l(P[0],O[1]));if(A(G)||h(r(G),t.relTol))return null;var H=l(P[0],k[1]),ae=l(P[1],k[0]),ve=l(P[0],q[1]),Q=l(P[1],q[0]),j=c(s(u(u(H,ae),ve),Q),G);return i(a(O,j),k)}(T,B,R,U)}if(3===T.length){if(!_(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!_(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_(R))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!_(U))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function D(T,B,R,U,k,q,O,P,G,H,ae,ve){var Q=M(T,O,H,O,B,P,ae,P,R,G,ve,G),j=M(H,O,U,T,ae,P,k,B,ve,G,q,R),K=M(T,O,U,T,B,P,k,B,R,G,q,R),oe=M(H,O,H,O,ae,P,ae,P,ve,G,ve,G),se=M(U,T,U,T,k,B,k,B,q,R,q,R),le=u(l(Q,j),l(K,oe)),te=u(l(se,oe),l(j,j));if(A(te))return null;var ee=c(le,te),Ae=c(s(Q,l(ee,j)),oe),xe=s(T,l(ee,u(U,T))),ge=s(B,l(ee,u(k,B))),Ee=s(R,l(ee,u(q,R))),ne=s(O,l(Ae,u(H,O))),Y=s(P,l(Ae,u(ae,P))),W=s(G,l(Ae,u(ve,G)));return d(xe,ne)&&d(ge,Y)&&d(Ee,W)?[xe,ge,Ee]:null}(T[0],T[1],T[2],B[0],B[1],B[2],R[0],R[1],R[2],U[0],U[1],U[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function y(T){return 1===T.length?T[0]:T.length>1&&Array.isArray(T[0])&&T.every(B=>Array.isArray(B)&&1===B.length)?f(T):T}function v(T){return 2===T.length&&p(T[0])&&p(T[1])}function _(T){return 3===T.length&&p(T[0])&&p(T[1])&&p(T[2])}function M(T,B,R,U,k,q,O,P,G,H,ae,ve){var Q=l(u(T,B),u(R,U)),j=l(u(k,q),u(O,P)),K=l(u(G,H),u(ae,ve));return s(s(Q,j),K)}}),dKe=ye("invmod",["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],n=>{var{typed:e,BigNumber:r,xgcd:i,equal:s,smaller:o,mod:a,add:l,isInteger:c}=n;return e("invmod",{"number, number":u,"BigNumber, BigNumber":u});function u(h,d){if(!c(h)||!c(d))throw new Error("Parameters in function invmod must be integer numbers");if(h=a(h,d),s(d,0))throw new Error("Divisor must be non zero");var f=i(h,d);f=f.valueOf();var[A,p]=f;return s(A,r(1))?(p=a(p,d),o(p,r(0))&&(p=l(p,d)),p):NaN}}),pKe=ye("lcm",["typed","matrix","equalScalar","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,concat:i}=n,s=rd({typed:e,equalScalar:r}),o=DI({typed:e,equalScalar:r}),a=Pl({typed:e,equalScalar:r}),l=Ks({typed:e,matrix:t,concat:i}),c="number | BigNumber | Fraction | Matrix | Array",u={};return u["".concat(c,", ").concat(c,", ...").concat(c)]=e.referToSelf(d=>(f,A,p)=>{for(var m=d(f,A),g=0;g<p.length;g++)m=d(m,p[g]);return m}),e("lcm",{"number, number":rre,"BigNumber, BigNumber":function h(d,f){if(!d.isInt()||!f.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(d.isZero())return d;if(f.isZero())return f;for(var A=d.times(f);!f.isZero();){var p=f;f=d.mod(p),d=p}return A.div(d).abs()},"Fraction, Fraction":(d,f)=>d.lcm(f)},l({SS:o,DS:s,Ss:a}),u)}),mKe=ye("log1p",["typed","config","divideScalar","log","Complex"],n=>{var{typed:e,config:t,divideScalar:r,log:i,Complex:s}=n;return e("log1p",{number:function(l){return l>=-1||t.predictable?Iee(l):o(new s(l,0))},Complex:o,BigNumber:function(l){var c=l.plus(1);return!c.isNegative()||t.predictable?c.ln():o(new s(l.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>l=>Rr(l,a)),"any, any":e.referToSelf(a=>(l,c)=>r(a(l),i(c)))});function o(a){var l=a.re+1;return new s(Math.log(Math.sqrt(l*l+a.im*a.im)),Math.atan2(a.im,l))}}),aoe="setCartesian",yKe=ye(aoe,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(aoe,{"Array | Matrix, Array | Matrix":function(l,c){var u=[];if(0!==r(t(l),new s(0))&&0!==r(t(c),new s(0))){var h=Qi(Array.isArray(l)?l:l.toArray()).sort(i),d=Qi(Array.isArray(c)?c:c.toArray()).sort(i);u=[];for(var f=0;f<h.length;f++)for(var A=0;A<d.length;A++)u.push([h[f],d[A]])}return Array.isArray(l)&&Array.isArray(c)?u:new o(u)}})}),loe="setDistinct",bKe=ye(loe,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(loe,{"Array | Matrix":function(l){var c;if(0===r(t(l),new s(0)))c=[];else{var u=Qi(Array.isArray(l)?l:l.toArray()).sort(i);(c=[]).push(u[0]);for(var h=1;h<u.length;h++)0!==i(u[h],u[h-1])&&c.push(u[h])}return Array.isArray(l)?c:new o(c)}})}),coe="setIsSubset",CKe=ye(coe,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s}=n;return e(coe,{"Array | Matrix, Array | Matrix":function(a,l){if(0===r(t(a),new s(0)))return!0;if(0===r(t(l),new s(0)))return!1;for(var h,c=fb(Qi(Array.isArray(a)?a:a.toArray()).sort(i)),u=fb(Qi(Array.isArray(l)?l:l.toArray()).sort(i)),d=0;d<c.length;d++){h=!1;for(var f=0;f<u.length;f++)if(0===i(c[d].value,u[f].value)&&c[d].identifier===u[f].identifier){h=!0;break}if(!1===h)return!1}return!0}})}),uoe="setPowerset",EKe=ye(uoe,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s}=n;return e(uoe,{"Array | Matrix":function(c){if(0===r(t(c),new s(0)))return[];for(var u=Qi(Array.isArray(c)?c:c.toArray()).sort(i),h=[],d=0;d.toString(2).length<=u.length;)h.push(o(u,d.toString(2).split("").reverse())),d++;return function a(l){for(var c=[],u=l.length-1;u>0;u--)for(var h=0;h<u;h++)l[h].length>l[h+1].length&&(c=l[h],l[h]=l[h+1],l[h+1]=c);return l}(h)}});function o(l,c){for(var u=[],h=0;h<c.length;h++)"1"===c[h]&&u.push(l[h]);return u}}),YI="smallerEq",DKe=ye(YI,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,config:t,matrix:r,DenseMatrix:i,concat:s,SparseMatrix:o}=n,a=jc({typed:e}),l=sA({typed:e,SparseMatrix:o}),c=Wa({typed:e,DenseMatrix:i}),u=Ks({typed:e,matrix:r,concat:s}),h=_b({typed:e});return e(YI,MKe({typed:e,config:t}),{"boolean, boolean":(d,f)=>d<=f,"BigNumber, BigNumber":function(f,A){return f.lte(A)||Su(f,A,t.relTol,t.absTol)},"bigint, bigint":(d,f)=>d<=f,"Fraction, Fraction":(d,f)=>1!==d.compare(f),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,u({SS:l,DS:a,Ss:c}))}),MKe=ye(YI,["typed","config"],n=>{var{typed:e,config:t}=n;return e(YI,{"number, number":function(i,s){return i<=s||Ol(i,s,t.relTol,t.absTol)}})}),BKe=ye("sort",["typed","matrix","compare","compareNatural"],n=>{var{typed:e,matrix:t,compare:r,compareNatural:i}=n,s=r,o=(u,h)=>-r(u,h);return e("sort",{Array:function(h){return l(h),h.sort(s)},Matrix:function(h){return c(h),t(h.toArray().sort(s),h.storage())},"Array, function":function(h,d){return l(h),h.sort(d)},"Matrix, function":function(h,d){return c(h),t(h.toArray().sort(d),h.storage())},"Array, string":function(h,d){return l(h),h.sort(a(d))},"Matrix, string":function(h,d){return c(h),t(h.toArray().sort(a(d)),h.storage())}});function a(u){if("asc"===u)return s;if("desc"===u)return o;if("natural"===u)return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(u){if(1!==Er(u).length)throw new Error("One dimensional array expected")}function c(u){if(1!==u.size().length)throw new Error("One dimensional matrix expected")}}),JI="unequal",IKe=ye(JI,["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,equalScalar:r,matrix:i,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=jc({typed:e}),c=sA({typed:e,SparseMatrix:a}),u=Wa({typed:e,DenseMatrix:s}),h=Ks({typed:e,matrix:i,concat:o});return e(JI,FKe({typed:e,equalScalar:r}),h({elop:function d(f,A){return!r(f,A)},SS:c,DS:l,Ss:u}))}),FKe=ye(JI,["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return e(JI,{"any, any":function(i,s){return null===i?null!==s:null===s?null!==i:void 0===i?void 0!==s:void 0===s?void 0!==i:!t(i,s)}})}),foe="setDifference",OKe=ye(foe,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(foe,{"Array | Matrix, Array | Matrix":function(l,c){var u;if(0===r(t(l),new s(0)))u=[];else{if(0===r(t(c),new s(0)))return Qi(l.toArray());var h=fb(Qi(Array.isArray(l)?l:l.toArray()).sort(i)),d=fb(Qi(Array.isArray(c)?c:c.toArray()).sort(i));u=[];for(var f,A=0;A<h.length;A++){f=!1;for(var p=0;p<d.length;p++)if(0===i(h[A].value,d[p].value)&&h[A].identifier===d[p].identifier){f=!0;break}f||u.push(h[A])}}return Array.isArray(l)&&Array.isArray(c)?iI(u):new o(iI(u))}})}),doe="setMultiplicity",LKe=ye(doe,["typed","size","subset","compareNatural","Index"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s}=n;return e(doe,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(a,l){if(0===r(t(l),new s(0)))return 0;for(var c=Qi(Array.isArray(l)?l:l.toArray()),u=0,h=0;h<c.length;h++)0===i(c[h],a)&&u++;return u}})}),Aoe="setSymDifference",kKe=ye(Aoe,["typed","size","concat","subset","setDifference","Index"],n=>{var{typed:e,size:t,concat:r,subset:i,setDifference:s,Index:o}=n;return e(Aoe,{"Array | Matrix, Array | Matrix":function(l,c){if(0===i(t(l),new o(0)))return Qi(c);if(0===i(t(c),new o(0)))return Qi(l);var u=Qi(l),h=Qi(c);return r(s(u,h),s(h,u))}})}),QKe=ye("Spa",["addScalar","equalScalar","FibonacciHeap"],n=>{var{addScalar:e,equalScalar:t,FibonacciHeap:r}=n;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(s,o){if(this._values[s])this._values[s].value=o;else{var a=this._heap.insert(s,o);this._values[s]=a}},i.prototype.get=function(s){var o=this._values[s];return o?o.value:0},i.prototype.accumulate=function(s,o){var a=this._values[s];a?a.value=e(a.value,o):(a=this._heap.insert(s,o),this._values[s]=a)},i.prototype.forEach=function(s,o,a){var l=this._heap,c=this._values,u=[],h=l.extractMinimum();for(h&&u.push(h);h&&h.key<=o;)h.key>=s&&(t(h.value,0)||a(h.key,h.value,this)),(h=l.extractMinimum())&&u.push(h);for(var d=0;d<u.length;d++){var f=u[d];c[(h=l.insert(f.key,f.value)).key]=h}},i.prototype.swap=function(s,o){var a=this._values[s],l=this._values[o];if(!a&&l)a=this._heap.insert(s,l.value),this._heap.remove(l),this._values[s]=a,this._values[o]=void 0;else if(a&&!l)l=this._heap.insert(o,a.value),this._heap.remove(a),this._values[o]=l,this._values[s]=void 0;else if(a&&l){var c=a.value;a.value=l.value,l.value=c}},i},{isClass:!0}),GKe=ye("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],n=>{var{typed:e,matrix:t,divideScalar:r,addScalar:i,multiply:s,unaryMinus:o,det:a,identity:l,abs:c}=n;return e("inv",{"Array | Matrix":function(d){var f=ur(d)?d.size():Er(d);switch(f.length){case 1:if(1===f[0])return ur(d)?t([r(1,d.valueOf()[0])]):[r(1,d[0])];throw new RangeError("Matrix must be square (size: "+ri(f)+")");case 2:var A=f[0],p=f[1];if(A===p)return ur(d)?t(u(d.valueOf(),A,p),d.storage()):u(d,A,p);throw new RangeError("Matrix must be square (size: "+ri(f)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+ri(f)+")")}},any:function(d){return r(1,d)}});function u(h,d,f){var A,p,m,g,y;if(1===d){if(0===(g=h[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,g)]]}if(2===d){var v=a(h);if(0===v)throw Error("Cannot calculate inverse, determinant is zero");return[[r(h[1][1],v),r(o(h[0][1]),v)],[r(o(h[1][0]),v),r(h[0][0],v)]]}var _=h.concat();for(A=0;A<d;A++)_[A]=_[A].concat();for(var C=l(d).valueOf(),b=0;b<f;b++){var M=c(_[b][b]),D=b;for(A=b+1;A<d;)c(_[A][b])>M&&(M=c(_[A][b]),D=A),A++;if(0===M)throw Error("Cannot calculate inverse, determinant is zero");(A=D)!==b&&(y=_[b],_[b]=_[A],_[A]=y,y=C[b],C[b]=C[A],C[A]=y);var E=_[b],T=C[b];for(A=0;A<d;A++){var B=_[A],R=C[A];if(A!==b){if(0!==B[b]){for(m=r(o(B[b]),E[b]),p=b;p<f;p++)B[p]=i(B[p],s(m,E[p]));for(p=0;p<f;p++)R[p]=i(R[p],s(m,T[p]))}}else{for(m=E[b],p=b;p<f;p++)B[p]=r(B[p],m);for(p=0;p<f;p++)R[p]=r(R[p],m)}}}return C}}),qKe=ye("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],n=>{var{typed:e,matrix:t,abs:r,addScalar:i,divideScalar:s,multiplyScalar:o,subtractScalar:a,larger:l,equalScalar:c,unaryMinus:u,DenseMatrix:h,SparseMatrix:d,Spa:f}=n;return e("lup",{DenseMatrix:function(g){return A(g)},SparseMatrix:function(g){return function p(m){var q,O,P,g=m._size[0],y=m._size[1],v=Math.min(g,y),_=m._values,C=m._index,b=m._ptr,M=[],D=[],E=[],T=[g,v],B=[],R=[],U=[],k=[v,y],G=[],H=[];for(q=0;q<g;q++)G[q]=q,H[q]=q;var ve=function(){var j=new f;O<g&&(E.push(M.length),M.push(1),D.push(O)),U.push(B.length);var oe=b[O+1];for(P=b[O];P<oe;P++)j.set(G[q=C[P]],_[P]);O>0&&j.forEach(0,O-1,function(ee,Ae){d._forEachRow(ee,M,D,E,function(xe,ge){xe>ee&&j.accumulate(xe,u(o(ge,Ae)))})});var se=O,le=j.get(O),te=r(le);j.forEach(O+1,g-1,function(ee,Ae){var xe=r(Ae);l(xe,te)&&(se=ee,te=xe,le=Ae)}),O!==se&&(d._swapRows(O,se,T[1],M,D,E),d._swapRows(O,se,k[1],B,R,U),j.swap(O,se),function(j,K){var oe=H[j],se=H[K];G[oe]=K,G[se]=j,H[j]=se,H[K]=oe}(O,se)),j.forEach(0,g-1,function(ee,Ae){ee<=O?(B.push(Ae),R.push(ee)):(Ae=s(Ae,le),c(Ae,0)||(M.push(Ae),D.push(ee)))})};for(O=0;O<y;O++)ve();return U.push(B.length),E.push(M.length),{L:new d({values:M,index:D,ptr:E,size:T}),U:new d({values:B,index:R,ptr:U,size:k}),p:G,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(g)},Array:function(g){var v=A(t(g));return{L:v.L.valueOf(),U:v.U.valueOf(),p:v.p}}});function A(m){var E,T,B,g=m._size[0],y=m._size[1],v=Math.min(g,y),_=Ir(m._data),C=[],b=[g,v],M=[],D=[v,y],R=[];for(E=0;E<g;E++)R[E]=E;for(T=0;T<y;T++){if(T>0)for(E=0;E<g;E++){var U=Math.min(E,T),k=0;for(B=0;B<U;B++)k=i(k,o(_[E][B],_[B][T]));_[E][T]=a(_[E][T],k)}var q=T,O=0,P=0;for(E=T;E<g;E++){var G=_[E][T],H=r(G);l(H,O)&&(q=E,O=H,P=G)}if(T!==q&&(R[T]=[R[q],R[q]=R[T]][0],h._swapRows(T,q,_)),T<g)for(E=T+1;E<g;E++)c(_[E][T],0)||(_[E][T]=s(_[E][T],P))}for(T=0;T<y;T++)for(E=0;E<g;E++)0===T&&(E<y&&(M[E]=[]),C[E]=[]),E<T?(E<y&&(M[E][T]=_[E][T]),T<g&&(C[E][T]=0)):E!==T?(E<y&&(M[E][T]=0),T<g&&(C[E][T]=_[E][T])):(E<y&&(M[E][T]=_[E][T]),T<g&&(C[E][T]=1));var ve=new h({data:C,size:b}),Q=new h({data:M,size:D}),j=[];for(E=0,v=R.length;E<v;E++)j[R[E]]=E;return{L:ve,U:Q,p:j,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),$Ke=ye("pinv",["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],n=>{var{typed:e,matrix:t,inv:r,deepEqual:i,equal:s,dotDivide:o,dot:a,ctranspose:l,divideScalar:c,multiply:u,add:h,Complex:d}=n;return e("pinv",{"Array | Matrix":function(v){var _=ur(v)?v.size():Er(v);switch(_.length){case 1:return g(v)?l(v):1===_[0]?r(v):o(l(v),a(v,v));case 2:if(g(v))return l(v);var C=_[0],b=_[1];if(C===b)try{return r(v)}catch(M){if(!(M instanceof Error&&M.message.match(/Cannot calculate inverse, determinant is zero/)))throw M}return ur(v)?t(f(v.valueOf(),C,b),v.storage()):f(v,C,b);default:throw new RangeError("Matrix must be two dimensional (size: "+ri(_)+")")}},any:function(v){return s(v,0)?Ir(v):c(1,v)}});function f(y,v,_){var{C,F:b}=function p(y,v,_){var C=function A(y,v,_){for(var C=Ir(y),b=0,M=0;M<v;M++){if(_<=b)return C;for(var D=M;m(C[D][b]);)if(v===++D&&(D=M,_===++b))return C;[C[D],C[M]]=[C[M],C[D]];for(var E=C[M][b],T=0;T<_;T++)C[M][T]=o(C[M][T],E);for(var B=0;B<v;B++)if(B!==M){E=C[B][b];for(var R=0;R<_;R++)C[B][R]=h(C[B][R],u(-1,u(E,C[M][R])))}b++}return C}(y,v,_),b=y.map((D,E)=>D.filter((T,B)=>B<v&&!m(a(C[B],C[B]))));return{C:b,F:C.filter((D,E)=>!m(a(C[E],C[E])))}}(y,v,_),M=u(r(u(l(C),C)),l(C)),D=u(l(b),r(u(b,l(b))));return u(D,M)}function m(y){return s(h(y,d(1,1)),h(0,d(1,1)))}function g(y){return i(h(y,d(1,1)),h(u(y,0),d(1,1)))}}),XKe=ye("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],n=>{var{typed:e,config:t,identity:r,multiply:i,matrix:s,inv:o,number:a,fraction:l,Complex:c}=n;return e("pow",{"number, number":u,"Complex, Complex":function(A,p){return A.pow(p)},"BigNumber, BigNumber":function(A,p){return p.isInteger()||A>=0||t.predictable?A.pow(p):new c(A.toNumber(),0).pow(p.toNumber(),0)},"bigint, bigint":(f,A)=>f**A,"Fraction, Fraction":function(A,p){var m=A.pow(p);if(null!=m)return m;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return u(A.valueOf(),p.valueOf())},"Array, number":h,"Array, BigNumber":function(A,p){return h(A,p.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(A,p){return d(A,p.toNumber())},"Unit, number | BigNumber":function(A,p){return A.pow(p)}});function u(f,A){if(t.predictable&&!$n(A)&&f<0)try{var p=l(A),m=a(p);if((A===m||Math.abs((A-m)/A)<1e-14)&&p.d%2n===1n)return(p.n%2n===0n?1:-1)*Math.pow(-f,A)}catch{}return t.predictable&&(f<-1&&A===1/0||f>-1&&f<0&&A===-1/0)?NaN:$n(A)||f>=0||t.predictable?cre(f,A):f*f<1&&A===1/0||f*f>1&&A===-1/0?0:new c(f,0).pow(A,0)}function h(f,A){if(!$n(A))throw new TypeError("For A^b, b must be an integer (value is "+A+")");var p=Er(f);if(2!==p.length)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!==p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");if(A<0)try{return h(o(f),-A)}catch(y){throw"Cannot calculate inverse, determinant is zero"===y.message?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+A+")"):y}for(var m=r(p[0]).valueOf(),g=f;A>=1;)!(1&~A)&&(m=i(g,m)),A>>=1,g=i(g,g);return m}function d(f,A){return s(h(f.valueOf(),A))}}),yoe="setIntersect",JKe=ye(yoe,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:e,size:t,subset:r,compareNatural:i,Index:s,DenseMatrix:o}=n;return e(yoe,{"Array | Matrix, Array | Matrix":function(l,c){var u;if(0===r(t(l),new s(0))||0===r(t(c),new s(0)))u=[];else{var h=fb(Qi(Array.isArray(l)?l:l.toArray()).sort(i)),d=fb(Qi(Array.isArray(c)?c:c.toArray()).sort(i));u=[];for(var f=0;f<h.length;f++)for(var A=0;A<d.length;A++)if(0===i(h[f].value,d[A].value)&&h[f].identifier===d[A].identifier){u.push(h[f]);break}}return Array.isArray(l)&&Array.isArray(c)?iI(u):new o(iI(u))}})}),eXe=ye("setUnion",["typed","size","concat","subset","setIntersect","setSymDifference","Index"],n=>{var{typed:e,size:t,concat:r,subset:i,setIntersect:s,setSymDifference:o,Index:a}=n;return e("setUnion",{"Array | Matrix, Array | Matrix":function(c,u){if(0===i(t(c),new a(0)))return Qi(u);if(0===i(t(u),new a(0)))return Qi(c);var h=Qi(c),d=Qi(u);return r(o(h,d),s(h,d))}})}),nXe=ye("sqrtm",["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],n=>{var{typed:e,abs:t,add:r,multiply:i,map:s,sqrt:o,subtract:a,inv:l,size:c,max:u,identity:h}=n,f=1e-6;return e("sqrtm",{"Array | Matrix":function(m){var g=ur(m)?m.size():Er(m);switch(g.length){case 1:if(1===g[0])return s(m,o);throw new RangeError("Matrix must be square (size: "+ri(g)+")");case 2:if(g[0]===g[1])return function A(p){var m,g=0,y=p,v=h(c(p));do{var _=y;if(y=i(.5,r(_,l(v))),v=i(.5,r(v,l(_))),(m=u(t(a(y,_))))>f&&++g>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(m>f);return y}(m);throw new RangeError("Matrix must be square (size: "+ri(g)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+ri(g)+")")}}})});function woe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function g8(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?woe(Object(t),!0).forEach(function(r){qa(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):woe(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var sXe=ye("Unit",["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],n=>{var _,C,b,{on:e,config:t,addScalar:r,subtractScalar:i,multiplyScalar:s,divideScalar:o,pow:a,abs:l,fix:c,round:u,equal:h,isNumeric:d,format:f,number:A,Complex:p,BigNumber:m,Fraction:g}=n,y=A;function v(Y,W){if(!(this instanceof v))throw new Error("Constructor must be called with the new operator");if(null!=Y&&!d(Y)&&!yp(Y))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===W)this.units=[],this.dimensions=G.map(Ce=>0);else if("string"==typeof W){var Be=v.parse(W);this.units=Be.units,this.dimensions=Be.dimensions}else{if(!Gh(W)||null!==W.value)throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.fixPrefix=W.fixPrefix,this.skipAutomaticSimplification=W.skipAutomaticSimplification,this.dimensions=W.dimensions.slice(0),this.units=W.units.map(Ce=>ja({},Ce))}this.value=this._normalize(Y)}function M(){for(;" "===b||"\t"===b;)T()}function E(Y){return Y>="0"&&Y<="9"}function T(){C++,b=_.charAt(C)}function B(Y){b=_.charAt(C=Y)}function R(){var Y="",W=C;if("+"===b?T():"-"===b&&(Y+=b,T()),!function D(Y){return Y>="0"&&Y<="9"||"."===Y}(b))return B(W),null;if("."===b){if(Y+=b,T(),!E(b))return B(W),null}else{for(;E(b);)Y+=b,T();"."===b&&(Y+=b,T())}for(;E(b);)Y+=b,T();if("E"===b||"e"===b){var Be="",Ce=C;if(Be+=b,T(),("+"===b||"-"===b)&&(Be+=b,T()),!E(b))return B(Ce),Y;for(Y+=Be;E(b);)Y+=b,T()}return Y}function U(){for(var Y="";E(b)||v.isValidAlpha(b);)Y+=b,T();var W=Y.charAt(0);return v.isValidAlpha(W)?Y:null}function k(Y){return b===Y?(T(),Y):null}Object.defineProperty(v,"name",{value:"Unit"}),v.prototype.constructor=v,v.prototype.type="Unit",v.prototype.isUnit=!0,v.parse=function(Y,W){if(W=W||{},C=-1,b="","string"!=typeof(_=Y))throw new TypeError("Invalid argument in Unit.parse, string expected");var Be=new v;Be.units=[];var Ce=1,Pe=!1;T(),M();var Oe=R(),re=null;if(Oe){if("BigNumber"===t.number)re=new m(Oe);else if("Fraction"===t.number)try{re=new g(Oe)}catch{re=parseFloat(Oe)}else re=parseFloat(Oe);M(),k("*")?(Ce=1,Pe=!0):k("/")&&(Ce=-1,Pe=!0)}for(var J=[],Ue=1;;){for(M();"("===b;)J.push(Ce),Ue*=Ce,Ce=1,T(),M();var Qe;if(!b)break;var rt=b;if(null===(Qe=U()))throw new SyntaxError('Unexpected "'+rt+'" in "'+_+'" at index '+C.toString());var Xe=q(Qe);if(null===Xe)throw new SyntaxError('Unit "'+Qe+'" not found.');var Pt=Ce*Ue;if(M(),k("^")){M();var Ft=R();if(null===Ft)throw new SyntaxError('In "'+Y+'", "^" must be followed by a floating-point number');Pt*=Ft}Be.units.push({unit:Xe.unit,prefix:Xe.prefix,power:Pt});for(var Tt=0;Tt<G.length;Tt++)Be.dimensions[Tt]+=(Xe.unit.dimensions[Tt]||0)*Pt;for(M();")"===b;){if(0===J.length)throw new SyntaxError('Unmatched ")" in "'+_+'" at index '+C.toString());Ue/=J.pop(),T(),M()}Pe=!1,k("*")?(Ce=1,Pe=!0):k("/")?(Ce=-1,Pe=!0):Ce=1,Xe.unit.base&&(se.auto[Xe.unit.base.key]={unit:Xe.unit,prefix:Xe.prefix})}if(M(),b)throw new SyntaxError('Could not parse: "'+Y+'"');if(Pe)throw new SyntaxError('Trailing characters: "'+Y+'"');if(0!==J.length)throw new SyntaxError('Unmatched "(" in "'+_+'"');if(0===Be.units.length&&!W.allowNoUnits)throw new SyntaxError('"'+Y+'" contains no units');return Be.value=void 0!==re?Be._normalize(re):null,Be},v.prototype.clone=function(){var Y=new v;Y.fixPrefix=this.fixPrefix,Y.skipAutomaticSimplification=this.skipAutomaticSimplification,Y.value=Ir(this.value),Y.dimensions=this.dimensions.slice(0),Y.units=[];for(var W=0;W<this.units.length;W++)for(var Be in Y.units[W]={},this.units[W])Hn(this.units[W],Be)&&(Y.units[W][Be]=this.units[W][Be]);return Y},v.prototype.valueType=function(){return Ws(this.value)},v.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},v.prototype._normalize=function(Y){if(null==Y||0===this.units.length)return Y;for(var W=Y,Be=v._getNumberConverter(Ws(Y)),Ce=0;Ce<this.units.length;Ce++){var Pe=Be(this.units[Ce].unit.value),Oe=Be(this.units[Ce].prefix.value),re=Be(this.units[Ce].power);W=s(W,a(s(Pe,Oe),re))}return W},v.prototype._denormalize=function(Y,W){if(null==Y||0===this.units.length)return Y;for(var Be=Y,Ce=v._getNumberConverter(Ws(Y)),Pe=0;Pe<this.units.length;Pe++){var Oe=Ce(this.units[Pe].unit.value),re=Ce(this.units[Pe].prefix.value),J=Ce(this.units[Pe].power);Be=o(Be,a(s(Oe,re),J))}return Be};var q=JE(Y=>{if(Hn(j,Y)){var W=j[Y];return{unit:W,prefix:W.prefixes[""]}}for(var Ce in j)if(Hn(j,Ce)&&N5e(Y,Ce)){var Pe=j[Ce],re=Y.substring(0,Y.length-Ce.length),J=Hn(Pe.prefixes,re)?Pe.prefixes[re]:void 0;if(void 0!==J)return{unit:Pe,prefix:J}}return null},{hasher:Y=>Y[0],limit:100});function O(Y){return Y.equalBase(H.NONE)&&null!==Y.value&&!t.predictable?Y.value:Y}v.isValuelessUnit=function(Y){return null!==q(Y)},v.prototype.hasBase=function(Y){if("string"==typeof Y&&(Y=H[Y]),!Y)return!1;for(var W=0;W<G.length;W++)if(Math.abs((this.dimensions[W]||0)-(Y.dimensions[W]||0))>1e-12)return!1;return!0},v.prototype.equalBase=function(Y){for(var W=0;W<G.length;W++)if(Math.abs((this.dimensions[W]||0)-(Y.dimensions[W]||0))>1e-12)return!1;return!0},v.prototype.equals=function(Y){return this.equalBase(Y)&&h(this.value,Y.value)},v.prototype.multiply=function(Y){for(var W=this.clone(),Be=Gh(Y)?Y:new v(Y),Ce=0;Ce<G.length;Ce++)W.dimensions[Ce]=(this.dimensions[Ce]||0)+(Be.dimensions[Ce]||0);for(var Pe=0;Pe<Be.units.length;Pe++){var Oe=g8({},Be.units[Pe]);W.units.push(Oe)}if(null!==this.value||null!==Be.value){var re=null===this.value?this._normalize(1):this.value,J=null===Be.value?Be._normalize(1):Be.value;W.value=s(re,J)}else W.value=null;return Gh(Y)&&(W.skipAutomaticSimplification=!1),O(W)},v.prototype.divideInto=function(Y){return new v(Y).divide(this)},v.prototype.divide=function(Y){for(var W=this.clone(),Be=Gh(Y)?Y:new v(Y),Ce=0;Ce<G.length;Ce++)W.dimensions[Ce]=(this.dimensions[Ce]||0)-(Be.dimensions[Ce]||0);for(var Pe=0;Pe<Be.units.length;Pe++){var Oe=g8(g8({},Be.units[Pe]),{},{power:-Be.units[Pe].power});W.units.push(Oe)}if(null!==this.value||null!==Be.value){var re=null===this.value?this._normalize(1):this.value,J=null===Be.value?Be._normalize(1):Be.value;W.value=o(re,J)}else W.value=null;return Gh(Y)&&(W.skipAutomaticSimplification=!1),O(W)},v.prototype.pow=function(Y){for(var W=this.clone(),Be=0;Be<G.length;Be++)W.dimensions[Be]=(this.dimensions[Be]||0)*Y;for(var Ce=0;Ce<W.units.length;Ce++)W.units[Ce].power*=Y;return W.value=null!==W.value?a(W.value,Y):null,W.skipAutomaticSimplification=!1,O(W)},v.prototype.abs=function(){var Y=this.clone();if(null!==Y.value)if(Y._isDerived()||0===Y.units.length||0===Y.units[0].unit.offset)Y.value=l(Y.value);else{var W=Y._numberConverter(),Be=W(Y.units[0].unit.value),Ce=W(Y.units[0].unit.offset),Pe=s(Be,Ce);Y.value=i(l(r(Y.value,Pe)),Pe)}for(var Oe in Y.units)("VA"===Y.units[Oe].unit.name||"VAR"===Y.units[Oe].unit.name)&&(Y.units[Oe].unit=j.W);return Y},v.prototype.to=function(Y){var Be,W=null===this.value?this._normalize(1):this.value;if("string"==typeof Y)Be=v.parse(Y);else{if(!Gh(Y))throw new Error("String or Unit expected as parameter");Be=Y.clone()}if(!this.equalBase(Be))throw new Error("Units do not match ('".concat(Be.toString(),"' != '").concat(this.toString(),"')"));if(null!==Be.value)throw new Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||0===this.units.length||0===Be.units.length||this.units[0].unit.offset===Be.units[0].unit.offset)Be.value=Ir(W);else{var Ce=v._getNumberConverter(Ws(W)),re=s(this.units[0].unit.value,this.units[0].unit.offset),Qe=s(Be.units[0].unit.value,Be.units[0].unit.offset);Be.value=r(W,Ce(i(re,Qe)))}return Be.fixPrefix=!0,Be.skipAutomaticSimplification=!0,Be},v.prototype.toNumber=function(Y){return y(this.toNumeric(Y))},v.prototype.toNumeric=function(Y){var W;return(W=Y?this.to(Y):this.clone())._isDerived()||0===W.units.length?W._denormalize(W.value):W._denormalize(W.value,W.units[0].prefix.value)},v.prototype.toString=function(){return this.format()},v.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},v.fromJSON=function(Y){var W,Be=new v(Y.value,null!==(W=Y.unit)&&void 0!==W?W:void 0);return Be.fixPrefix=Y.fixPrefix||!1,Be},v.prototype.valueOf=v.prototype.toString,v.prototype.simplify=function(){var Be,Pe,Y=this.clone(),W=[];for(var Ce in le)if(Hn(le,Ce)&&Y.hasBase(H[Ce])){Be=Ce;break}if("NONE"===Be)Y.units=[];else if(Be&&Hn(le,Be)&&(Pe=le[Be]),Pe)Y.units=[{unit:Pe.unit,prefix:Pe.prefix,power:1}];else{for(var Oe=!1,re=0;re<G.length;re++){var J=G[re];Math.abs(Y.dimensions[re]||0)>1e-12&&(Hn(le,J)?W.push({unit:le[J].unit,prefix:le[J].prefix,power:Y.dimensions[re]||0}):Oe=!0)}W.length<Y.units.length&&!Oe&&(Y.units=W)}return Y},v.prototype.toSI=function(){for(var Y=this.clone(),W=[],Be=0;Be<G.length;Be++){var Ce=G[Be];if(Math.abs(Y.dimensions[Be]||0)>1e-12){if(!Hn(se.si,Ce))throw new Error("Cannot express custom unit "+Ce+" in SI units");W.push({unit:se.si[Ce].unit,prefix:se.si[Ce].prefix,power:Y.dimensions[Be]||0})}}return Y.units=W,Y.fixPrefix=!0,Y.skipAutomaticSimplification=!0,null!==this.value?(Y.value=null,this.to(Y)):Y},v.prototype.formatUnits=function(){for(var Y="",W="",Be=0,Ce=0,Pe=0;Pe<this.units.length;Pe++)this.units[Pe].power>0?(Be++,Y+=" "+this.units[Pe].prefix.name+this.units[Pe].unit.name,Math.abs(this.units[Pe].power-1)>1e-15&&(Y+="^"+this.units[Pe].power)):this.units[Pe].power<0&&Ce++;if(Ce>0)for(var Oe=0;Oe<this.units.length;Oe++)this.units[Oe].power<0&&(Be>0?(W+=" "+this.units[Oe].prefix.name+this.units[Oe].unit.name,Math.abs(this.units[Oe].power+1)>1e-15&&(W+="^"+-this.units[Oe].power)):(W+=" "+this.units[Oe].prefix.name+this.units[Oe].unit.name,W+="^"+this.units[Oe].power));Y=Y.substr(1),W=W.substr(1),Be>1&&Ce>0&&(Y="("+Y+")"),Ce>1&&Be>0&&(W="("+W+")");var re=Y;return Be>0&&Ce>0&&(re+=" / "),re+W},v.prototype.format=function(Y){var W=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),Be=!1;for(var Ce in typeof W.value<"u"&&null!==W.value&&yp(W.value)&&(Be=Math.abs(W.value.re)<1e-14),W.units)Hn(W.units,Ce)&&W.units[Ce].unit&&("VA"===W.units[Ce].unit.name&&Be?W.units[Ce].unit=j.VAR:"VAR"===W.units[Ce].unit.name&&!Be&&(W.units[Ce].unit=j.VA));1===W.units.length&&!W.fixPrefix&&Math.abs(W.units[0].power-Math.round(W.units[0].power))<1e-14&&(W.units[0].prefix=W._bestPrefix());var Pe=W._denormalize(W.value),Oe=null!==W.value?f(Pe,Y||{}):"",re=W.formatUnits();return W.value&&yp(W.value)&&(Oe="("+Oe+")"),re.length>0&&Oe.length>0&&(Oe+=" "),Oe+re},v.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var Y=null!==this.value?l(this.value):0,W=l(this.units[0].unit.value),Be=this.units[0].prefix;if(0===Y)return Be;var Ce=this.units[0].power,Pe=Math.log(Y/Math.pow(Be.value*W,Ce))/Math.LN10-1.2;if(Pe>-2.200001&&Pe<1.800001)return Be;Pe=Math.abs(Pe);var Oe=this.units[0].unit.prefixes;for(var re in Oe)if(Hn(Oe,re)){var J=Oe[re];if(J.scientific){var Ue=Math.abs(Math.log(Y/Math.pow(J.value*W,Ce))/Math.LN10-1.2);(Ue<Pe||Ue===Pe&&J.name.length<Be.name.length)&&(Be=J,Pe=Ue)}}return Be},v.prototype.splitUnit=function(Y){for(var W=this.clone(),Be=[],Ce=0;Ce<Y.length&&(W=W.to(Y[Ce]),Ce!==Y.length-1);Ce++){var Pe=W.toNumeric(),Oe=u(Pe),Ue=new v(h(Oe,Pe)?Oe:c(W.toNumeric()),Y[Ce].toString());Be.push(Ue),W=i(W,Ue)}for(var Qe=0,rt=0;rt<Be.length;rt++)Qe=r(Qe,Be[rt].value);return h(Qe,this.value)&&(W.value=0),Be.push(W),Be};var P={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};P.SHORTLONG=ja({},P.SHORT,P.LONG),P.BINARY_SHORT=ja({},P.BINARY_SHORT_SI,P.BINARY_SHORT_IEC),P.BINARY_LONG=ja({},P.BINARY_LONG_SI,P.BINARY_LONG_IEC);var G=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],H={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ae in H)Hn(H,ae)&&(H[ae].key=ae);var Q={name:"",base:{},value:1,offset:0,dimensions:G.map(Y=>0)},j={meter:{name:"meter",base:H.LENGTH,prefixes:P.LONG,value:1,offset:0},inch:{name:"inch",base:H.LENGTH,prefixes:P.NONE,value:.0254,offset:0},foot:{name:"foot",base:H.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yard:{name:"yard",base:H.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mile:{name:"mile",base:H.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},link:{name:"link",base:H.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rod:{name:"rod",base:H.LENGTH,prefixes:P.NONE,value:5.0292,offset:0},chain:{name:"chain",base:H.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:H.LENGTH,prefixes:P.NONE,value:1e-10,offset:0},m:{name:"m",base:H.LENGTH,prefixes:P.SHORT,value:1,offset:0},in:{name:"in",base:H.LENGTH,prefixes:P.NONE,value:.0254,offset:0},ft:{name:"ft",base:H.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yd:{name:"yd",base:H.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mi:{name:"mi",base:H.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},li:{name:"li",base:H.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rd:{name:"rd",base:H.LENGTH,prefixes:P.NONE,value:5.02921,offset:0},ch:{name:"ch",base:H.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},mil:{name:"mil",base:H.LENGTH,prefixes:P.NONE,value:254e-7,offset:0},m2:{name:"m2",base:H.SURFACE,prefixes:P.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:H.SURFACE,prefixes:P.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:H.SURFACE,prefixes:P.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:H.SURFACE,prefixes:P.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:H.SURFACE,prefixes:P.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:H.SURFACE,prefixes:P.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:H.SURFACE,prefixes:P.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:H.SURFACE,prefixes:P.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:H.SURFACE,prefixes:P.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:H.SURFACE,prefixes:P.NONE,value:1e4,offset:0},m3:{name:"m3",base:H.VOLUME,prefixes:P.CUBIC,value:1,offset:0},L:{name:"L",base:H.VOLUME,prefixes:P.SHORT,value:.001,offset:0},l:{name:"l",base:H.VOLUME,prefixes:P.SHORT,value:.001,offset:0},litre:{name:"litre",base:H.VOLUME,prefixes:P.LONG,value:.001,offset:0},cuin:{name:"cuin",base:H.VOLUME,prefixes:P.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:H.VOLUME,prefixes:P.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:H.VOLUME,prefixes:P.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:H.VOLUME,prefixes:P.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:H.VOLUME,prefixes:P.NONE,value:15e-6,offset:0},drop:{name:"drop",base:H.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:H.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},minim:{name:"minim",base:H.VOLUME,prefixes:P.NONE,value:6.1611519921875e-8,offset:0},fluiddram:{name:"fluiddram",base:H.VOLUME,prefixes:P.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:H.VOLUME,prefixes:P.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:H.VOLUME,prefixes:P.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:H.VOLUME,prefixes:P.NONE,value:1e-6,offset:0},cup:{name:"cup",base:H.VOLUME,prefixes:P.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:H.VOLUME,prefixes:P.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:H.VOLUME,prefixes:P.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:H.VOLUME,prefixes:P.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:H.VOLUME,prefixes:P.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:H.VOLUME,prefixes:P.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:H.VOLUME,prefixes:P.NONE,value:.238480942392,offset:0},g:{name:"g",base:H.MASS,prefixes:P.SHORT,value:.001,offset:0},gram:{name:"gram",base:H.MASS,prefixes:P.LONG,value:.001,offset:0},ton:{name:"ton",base:H.MASS,prefixes:P.SHORT,value:907.18474,offset:0},t:{name:"t",base:H.MASS,prefixes:P.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:H.MASS,prefixes:P.LONG,value:1e3,offset:0},grain:{name:"grain",base:H.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:H.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:H.MASS,prefixes:P.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:H.MASS,prefixes:P.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:H.MASS,prefixes:P.NONE,value:45.359237,offset:0},stick:{name:"stick",base:H.MASS,prefixes:P.NONE,value:.115,offset:0},stone:{name:"stone",base:H.MASS,prefixes:P.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:H.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:H.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:H.MASS,prefixes:P.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:H.MASS,prefixes:P.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:H.MASS,prefixes:P.NONE,value:45.359237,offset:0},s:{name:"s",base:H.TIME,prefixes:P.SHORT,value:1,offset:0},min:{name:"min",base:H.TIME,prefixes:P.NONE,value:60,offset:0},h:{name:"h",base:H.TIME,prefixes:P.NONE,value:3600,offset:0},second:{name:"second",base:H.TIME,prefixes:P.LONG,value:1,offset:0},sec:{name:"sec",base:H.TIME,prefixes:P.LONG,value:1,offset:0},minute:{name:"minute",base:H.TIME,prefixes:P.NONE,value:60,offset:0},hour:{name:"hour",base:H.TIME,prefixes:P.NONE,value:3600,offset:0},day:{name:"day",base:H.TIME,prefixes:P.NONE,value:86400,offset:0},week:{name:"week",base:H.TIME,prefixes:P.NONE,value:604800,offset:0},month:{name:"month",base:H.TIME,prefixes:P.NONE,value:2629800,offset:0},year:{name:"year",base:H.TIME,prefixes:P.NONE,value:31557600,offset:0},decade:{name:"decade",base:H.TIME,prefixes:P.NONE,value:315576e3,offset:0},century:{name:"century",base:H.TIME,prefixes:P.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:H.TIME,prefixes:P.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:H.FREQUENCY,prefixes:P.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:H.FREQUENCY,prefixes:P.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:H.ANGLE,prefixes:P.SHORT,value:1,offset:0},radian:{name:"radian",base:H.ANGLE,prefixes:P.LONG,value:1,offset:0},deg:{name:"deg",base:H.ANGLE,prefixes:P.SHORT,value:null,offset:0},degree:{name:"degree",base:H.ANGLE,prefixes:P.LONG,value:null,offset:0},grad:{name:"grad",base:H.ANGLE,prefixes:P.SHORT,value:null,offset:0},gradian:{name:"gradian",base:H.ANGLE,prefixes:P.LONG,value:null,offset:0},cycle:{name:"cycle",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:H.ANGLE,prefixes:P.NONE,value:null,offset:0},A:{name:"A",base:H.CURRENT,prefixes:P.SHORT,value:1,offset:0},ampere:{name:"ampere",base:H.CURRENT,prefixes:P.LONG,value:1,offset:0},K:{name:"K",base:H.TEMPERATURE,prefixes:P.SHORT,value:1,offset:0},degC:{name:"degC",base:H.TEMPERATURE,prefixes:P.SHORT,value:1,offset:273.15},degF:{name:"degF",base:H.TEMPERATURE,prefixes:P.SHORT,value:new g(5,9),offset:459.67},degR:{name:"degR",base:H.TEMPERATURE,prefixes:P.SHORT,value:new g(5,9),offset:0},kelvin:{name:"kelvin",base:H.TEMPERATURE,prefixes:P.LONG,value:1,offset:0},celsius:{name:"celsius",base:H.TEMPERATURE,prefixes:P.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:H.TEMPERATURE,prefixes:P.LONG,value:new g(5,9),offset:459.67},rankine:{name:"rankine",base:H.TEMPERATURE,prefixes:P.LONG,value:new g(5,9),offset:0},mol:{name:"mol",base:H.AMOUNT_OF_SUBSTANCE,prefixes:P.SHORT,value:1,offset:0},mole:{name:"mole",base:H.AMOUNT_OF_SUBSTANCE,prefixes:P.LONG,value:1,offset:0},cd:{name:"cd",base:H.LUMINOUS_INTENSITY,prefixes:P.SHORT,value:1,offset:0},candela:{name:"candela",base:H.LUMINOUS_INTENSITY,prefixes:P.LONG,value:1,offset:0},N:{name:"N",base:H.FORCE,prefixes:P.SHORT,value:1,offset:0},newton:{name:"newton",base:H.FORCE,prefixes:P.LONG,value:1,offset:0},dyn:{name:"dyn",base:H.FORCE,prefixes:P.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:H.FORCE,prefixes:P.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:H.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:H.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:H.FORCE,prefixes:P.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:H.FORCE,prefixes:P.NONE,value:9.80665,offset:0},J:{name:"J",base:H.ENERGY,prefixes:P.SHORT,value:1,offset:0},joule:{name:"joule",base:H.ENERGY,prefixes:P.LONG,value:1,offset:0},erg:{name:"erg",base:H.ENERGY,prefixes:P.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:H.ENERGY,prefixes:P.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:H.ENERGY,prefixes:P.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:H.ENERGY,prefixes:P.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:H.ENERGY,prefixes:P.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:H.POWER,prefixes:P.SHORT,value:1,offset:0},watt:{name:"watt",base:H.POWER,prefixes:P.LONG,value:1,offset:0},hp:{name:"hp",base:H.POWER,prefixes:P.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:H.POWER,prefixes:P.SHORT,value:p.I,offset:0},VA:{name:"VA",base:H.POWER,prefixes:P.SHORT,value:1,offset:0},Pa:{name:"Pa",base:H.PRESSURE,prefixes:P.SHORT,value:1,offset:0},psi:{name:"psi",base:H.PRESSURE,prefixes:P.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:H.PRESSURE,prefixes:P.NONE,value:101325,offset:0},bar:{name:"bar",base:H.PRESSURE,prefixes:P.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:H.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:H.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:H.PRESSURE,prefixes:P.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:H.PRESSURE,prefixes:P.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:H.ELECTRIC_CHARGE,prefixes:P.LONG,value:1,offset:0},C:{name:"C",base:H.ELECTRIC_CHARGE,prefixes:P.SHORT,value:1,offset:0},farad:{name:"farad",base:H.ELECTRIC_CAPACITANCE,prefixes:P.LONG,value:1,offset:0},F:{name:"F",base:H.ELECTRIC_CAPACITANCE,prefixes:P.SHORT,value:1,offset:0},volt:{name:"volt",base:H.ELECTRIC_POTENTIAL,prefixes:P.LONG,value:1,offset:0},V:{name:"V",base:H.ELECTRIC_POTENTIAL,prefixes:P.SHORT,value:1,offset:0},ohm:{name:"ohm",base:H.ELECTRIC_RESISTANCE,prefixes:P.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:H.ELECTRIC_INDUCTANCE,prefixes:P.LONG,value:1,offset:0},H:{name:"H",base:H.ELECTRIC_INDUCTANCE,prefixes:P.SHORT,value:1,offset:0},siemens:{name:"siemens",base:H.ELECTRIC_CONDUCTANCE,prefixes:P.LONG,value:1,offset:0},S:{name:"S",base:H.ELECTRIC_CONDUCTANCE,prefixes:P.SHORT,value:1,offset:0},weber:{name:"weber",base:H.MAGNETIC_FLUX,prefixes:P.LONG,value:1,offset:0},Wb:{name:"Wb",base:H.MAGNETIC_FLUX,prefixes:P.SHORT,value:1,offset:0},tesla:{name:"tesla",base:H.MAGNETIC_FLUX_DENSITY,prefixes:P.LONG,value:1,offset:0},T:{name:"T",base:H.MAGNETIC_FLUX_DENSITY,prefixes:P.SHORT,value:1,offset:0},b:{name:"b",base:H.BIT,prefixes:P.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:H.BIT,prefixes:P.BINARY_LONG,value:1,offset:0},B:{name:"B",base:H.BIT,prefixes:P.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:H.BIT,prefixes:P.BINARY_LONG,value:8,offset:0}},K={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function oe(Y){if("BigNumber"===Y.number){var W=i8(m);j.rad.value=new m(1),j.deg.value=W.div(180),j.grad.value=W.div(200),j.cycle.value=W.times(2),j.arcsec.value=W.div(648e3),j.arcmin.value=W.div(10800)}else j.rad.value=1,j.deg.value=Math.PI/180,j.grad.value=Math.PI/200,j.cycle.value=2*Math.PI,j.arcsec.value=Math.PI/648e3,j.arcmin.value=Math.PI/10800;j.radian.value=j.rad.value,j.degree.value=j.deg.value,j.gradian.value=j.grad.value}oe(t),e&&e("config",function(Y,W){Y.number!==W.number&&oe(Y)});var se={si:{NONE:{unit:Q,prefix:P.NONE[""]},LENGTH:{unit:j.m,prefix:P.SHORT[""]},MASS:{unit:j.g,prefix:P.SHORT.k},TIME:{unit:j.s,prefix:P.SHORT[""]},CURRENT:{unit:j.A,prefix:P.SHORT[""]},TEMPERATURE:{unit:j.K,prefix:P.SHORT[""]},LUMINOUS_INTENSITY:{unit:j.cd,prefix:P.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:j.mol,prefix:P.SHORT[""]},ANGLE:{unit:j.rad,prefix:P.SHORT[""]},BIT:{unit:j.bits,prefix:P.SHORT[""]},FORCE:{unit:j.N,prefix:P.SHORT[""]},ENERGY:{unit:j.J,prefix:P.SHORT[""]},POWER:{unit:j.W,prefix:P.SHORT[""]},PRESSURE:{unit:j.Pa,prefix:P.SHORT[""]},ELECTRIC_CHARGE:{unit:j.C,prefix:P.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:j.F,prefix:P.SHORT[""]},ELECTRIC_POTENTIAL:{unit:j.V,prefix:P.SHORT[""]},ELECTRIC_RESISTANCE:{unit:j.ohm,prefix:P.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:j.H,prefix:P.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:j.S,prefix:P.SHORT[""]},MAGNETIC_FLUX:{unit:j.Wb,prefix:P.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:j.T,prefix:P.SHORT[""]},FREQUENCY:{unit:j.Hz,prefix:P.SHORT[""]}}};se.cgs=JSON.parse(JSON.stringify(se.si)),se.cgs.LENGTH={unit:j.m,prefix:P.SHORT.c},se.cgs.MASS={unit:j.g,prefix:P.SHORT[""]},se.cgs.FORCE={unit:j.dyn,prefix:P.SHORT[""]},se.cgs.ENERGY={unit:j.erg,prefix:P.NONE[""]},se.us=JSON.parse(JSON.stringify(se.si)),se.us.LENGTH={unit:j.ft,prefix:P.NONE[""]},se.us.MASS={unit:j.lbm,prefix:P.NONE[""]},se.us.TEMPERATURE={unit:j.degF,prefix:P.NONE[""]},se.us.FORCE={unit:j.lbf,prefix:P.NONE[""]},se.us.ENERGY={unit:j.BTU,prefix:P.BTU[""]},se.us.POWER={unit:j.hp,prefix:P.NONE[""]},se.us.PRESSURE={unit:j.psi,prefix:P.NONE[""]},se.auto=JSON.parse(JSON.stringify(se.si));var le=se.auto;for(var te in v.setUnitSystem=function(Y){if(!Hn(se,Y))throw new Error("Unit system "+Y+" does not exist. Choices are: "+Object.keys(se).join(", "));le=se[Y]},v.getUnitSystem=function(){for(var Y in se)if(Hn(se,Y)&&se[Y]===le)return Y},v.typeConverters={BigNumber:function(W){return null!=W&&W.isFraction?new m(String(W.n)).div(String(W.d)).times(String(W.s)):new m(W+"")},Fraction:function(W){return new g(W)},Complex:function(W){return W},number:function(W){return null!=W&&W.isFraction?A(W):W}},v.prototype._numberConverter=function(){var Y=v.typeConverters[this.valueType()];if(Y)return Y;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},v._getNumberConverter=function(Y){if(!v.typeConverters[Y])throw new TypeError('Unsupported type "'+Y+'"');return v.typeConverters[Y]},j)if(Hn(j,te)){var ee=j[te];ee.dimensions=ee.base.dimensions}for(var Ae in K)if(Hn(K,Ae)){var xe=j[K[Ae]],ge={};for(var Ee in xe)Hn(xe,Ee)&&(ge[Ee]=xe[Ee]);ge.name=Ae,j[Ae]=ge}return v.isValidAlpha=function(W){return/^[a-zA-Z]$/.test(W)},v.createUnit=function(Y,W){if("object"!=typeof Y)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(W&&W.override)for(var Be in Y)if(Hn(Y,Be)&&v.deleteUnit(Be),Y[Be].aliases)for(var Ce=0;Ce<Y[Be].aliases.length;Ce++)v.deleteUnit(Y[Be].aliases[Ce]);var Pe;for(var Oe in Y)Hn(Y,Oe)&&(Pe=v.createUnitSingle(Oe,Y[Oe]));return Pe},v.createUnitSingle=function(Y,W){if((typeof W>"u"||null===W)&&(W={}),"string"!=typeof Y)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Hn(j,Y))throw new Error('Cannot create unit "'+Y+'": a unit with that name already exists');!function ne(Y){for(var W=0;W<Y.length;W++){if(b=Y.charAt(W),0===W&&!v.isValidAlpha(b))throw new Error('Invalid unit name (must begin with alpha character): "'+Y+'"');if(W>0&&!v.isValidAlpha(b)&&!E(b))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+Y+'"')}}(Y);var Oe,re,J,Be=null,Ce=[],Pe=0;if(W&&"Unit"===W.type)Be=W.clone();else if("string"==typeof W)""!==W&&(Oe=W);else{if("object"!=typeof W)throw new TypeError('Cannot create unit "'+Y+'" from "'+W.toString()+'": expecting "string" or "Unit" or "Object"');Oe=W.definition,re=W.prefixes,Pe=W.offset,J=W.baseName,W.aliases&&(Ce=W.aliases.valueOf())}if(Ce)for(var Ue=0;Ue<Ce.length;Ue++)if(Hn(j,Ce[Ue]))throw new Error('Cannot create alias "'+Ce[Ue]+'": a unit with that name already exists');if(Oe&&"string"==typeof Oe&&!Be)try{Be=v.parse(Oe,{allowNoUnits:!0})}catch(Fe){throw Fe.message='Could not create unit "'+Y+'" from "'+Oe+'": '+Fe.message,Fe}else Oe&&"Unit"===Oe.type&&(Be=Oe.clone());Ce=Ce||[],Pe=Pe||0,re=re&&re.toUpperCase&&P[re.toUpperCase()]||P.NONE;var Qe={};if(Be){Qe={name:Y,value:Be.value,dimensions:Be.dimensions.slice(0),prefixes:re,offset:Pe};var Ft=!1;for(var Tt in H)if(Hn(H,Tt)){for(var yn=!0,st=0;st<G.length;st++)if(Math.abs((Qe.dimensions[st]||0)-(H[Tt].dimensions[st]||0))>1e-12){yn=!1;break}if(yn){Ft=!0,Qe.base=H[Tt];break}}if(!Ft){J=J||Y+"_STUFF";var vn={dimensions:Be.dimensions.slice(0)};vn.key=J,H[J]=vn,le[J]={unit:Qe,prefix:P.NONE[""]},Qe.base=H[J]}}else{if(G.indexOf(J=J||Y+"_STUFF")>=0)throw new Error('Cannot create new base unit "'+Y+'": a base unit with that name already exists (and cannot be overridden)');for(var rt in G.push(J),H)Hn(H,rt)&&(H[rt].dimensions[G.length-1]=0);for(var Xe={dimensions:[]},Pt=0;Pt<G.length;Pt++)Xe.dimensions[Pt]=0;Xe.dimensions[G.length-1]=1,Xe.key=J,H[J]=Xe,Qe={name:Y,value:1,dimensions:H[J].dimensions.slice(0),prefixes:re,offset:Pe,base:H[J]},le[J]={unit:Qe,prefix:P.NONE[""]}}v.UNITS[Y]=Qe;for(var pn=0;pn<Ce.length;pn++){var _n=Ce[pn],tn={};for(var $ in Qe)Hn(Qe,$)&&(tn[$]=Qe[$]);tn.name=_n,v.UNITS[_n]=tn}return delete q.cache,new v(null,Y)},v.deleteUnit=function(Y){delete v.UNITS[Y],delete q.cache},v.PREFIXES=P,v.BASE_DIMENSIONS=G,v.BASE_UNITS=H,v.UNIT_SYSTEMS=se,v.UNITS=j,v},{isClass:!0}),aXe=ye("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:e,equalScalar:t,matrix:r,pow:i,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=jc({typed:e}),c=sA({typed:e,SparseMatrix:a}),u=Pl({typed:e,equalScalar:t}),h=Wa({typed:e,DenseMatrix:s}),d=Ks({typed:e,matrix:r,concat:o}),f={};for(var A in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,A)&&!A.includes("Matrix")&&!A.includes("Array")&&(f[A]=i.signatures[A]);var p=e(f);return e("dotPow",d({elop:p,SS:c,DS:l,Ss:u,sS:h}))}),cXe=ye("expm",["typed","abs","add","identity","inv","multiply"],n=>{var{typed:e,abs:t,add:r,identity:i,inv:s,multiply:o}=n;return e("expm",{Matrix:function(h){var d=h.size();if(2!==d.length||d[0]!==d[1])throw new RangeError("Matrix must be square (size: "+ri(d)+")");for(var f=d[0],p=function a(u){for(var h=u.size()[0],d=0,f=0;f<h;f++){for(var A=0,p=0;p<h;p++)A+=t(u.get([f,p]));d=Math.max(A,d)}return d}(h),m=function l(u,h){for(var f=0;f<30;f++)for(var A=0;A<=f;A++){var p=f-A;if(c(u,A,p)<h)return{q:A,j:p}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(p,1e-15),g=m.q,y=m.j,v=o(h,Math.pow(2,-y)),_=i(f),C=i(f),b=1,M=v,D=-1,E=1;E<=g;E++)E>1&&(M=o(M,v),D=-D),_=r(_,o(b=b*(g-E+1)/((2*g-E+1)*E),M)),C=r(C,o(b*D,M));for(var T=o(s(C),_),B=0;B<y;B++)T=o(T,T);return T0(h)?h.createSparseMatrix(T):T}});function c(u,h,d){for(var f=1,A=2;A<=h;A++)f*=A;for(var p=f,m=h+1;m<=2*h;m++)p*=m;var g=p*(2*h+1);return 8*Math.pow(u/Math.pow(2,d),2*h)*f*f/(p*g)}}),hXe=ye("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],n=>{var{typed:e,addScalar:r,multiplyScalar:i,divideScalar:s,exp:o,tau:a,i:l,dotDivide:c,conj:u,pow:h,ceil:d,log2:f}=n;return e("fft",{Array:A,Matrix:function(v){return v.create(A(v.valueOf()),v.datatype())}});function A(y){var v=Er(y);return 1===v.length?g(y):p(y.map(_=>A(_,v.slice(1))),0)}function p(y,v){var _=Er(y);if(0!==v)return new Array(_[0]).fill(0).map((b,M)=>p(y[M],v-1));if(1===_.length)return g(y);function C(b){var M=Er(b);return new Array(M[1]).fill(0).map((D,E)=>new Array(M[0]).fill(0).map((T,B)=>b[B][E]))}return C(p(C(y),1))}function g(y){var v=y.length;if(1===v)return[y[0]];if(v%2==0){for(var _=[...g(y.filter((D,E)=>E%2==0)),...g(y.filter((D,E)=>E%2==1))],C=0;C<v/2;C++){var b=_[C],M=i(_[C+v/2],o(i(i(a,l),s(-C,v))));_[C]=r(b,M),_[C+v/2]=r(b,i(-1,M))}return _}return function m(y){for(var v=y.length,_=o(s(i(-1,i(l,a)),v)),C=[],b=1-v;b<v;b++)C.push(h(_,s(h(b,2),2)));for(var M=h(2,d(f(v+v-1))),D=[...new Array(v).fill(0).map((O,P)=>i(y[P],C[v-1+P])),...new Array(M-v).fill(0)],E=[...new Array(v+v-1).fill(0).map((O,P)=>s(1,C[P])),...new Array(M-(v+v-1)).fill(0)],T=g(D),B=g(E),R=new Array(M).fill(0).map((O,P)=>i(T[P],B[P])),U=c(u(A(u(R))),M),k=[],q=v-1;q<v+v-1;q++)k.push(i(U[q],C[q]));return k}(y)}}),dXe=ye("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],n=>{var{typed:e,config:t,BigNumber:s,Complex:o}=n;return e("gamma",{number:GI,Complex:function a(c){if(0===c.im)return GI(c.re);if(c.re<.5){var u=new o(1-c.re,-c.im),h=new o(Math.PI*c.re,Math.PI*c.im);return new o(Math.PI).div(h.sin()).div(a(u))}c=new o(c.re-1,c.im);for(var d=new o(wb[0],0),f=1;f<wb.length;++f){var A=new o(wb[f],0);d=d.add(A.div(c.add(f)))}var p=new o(c.re+sie+.5,c.im),m=Math.sqrt(2*Math.PI),g=p.pow(c.add(.5)),y=p.neg().exp();return d.mul(m).mul(g).mul(y)},BigNumber:function(u){if(u.isInteger())return u.isNegative()||u.isZero()?new s(1/0):l(u.minus(1));if(!u.isFinite())return new s(u.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(c){if(c<8)return new s([1,1,2,6,24,120,720,5040][c]);var u=t.precision+(0|Math.log(c.toNumber())),h=s.clone({precision:u});if(c%2==1)return c.times(l(new s(c-1)));for(var d=c,f=new h(c),A=c.toNumber();d>2;)f=f.times(A+=d-=2);return new s(f.toPrecision(s.precision))}}),pXe=ye("ifft",["typed","fft","dotDivide","conj"],n=>{var{typed:e,fft:t,dotDivide:r,conj:i}=n;return e("ifft",{"Array | Matrix":function(o){var a=ur(o)?o.size():Er(o);return r(i(t(i(o))),a.reduce((l,c)=>l*c,1))}})}),Moe="createUnit",mXe=ye(Moe,["typed","Unit"],n=>{var{typed:e,Unit:t}=n;return e(Moe,{"Object, Object":function(i,s){return t.createUnit(i,s)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,s,o){var a={};return a[i]=s,t.createUnit(a,o)},"string, Unit | string | Object":function(i,s){var o={};return o[i]=s,t.createUnit(o,{})},string:function(i){var s={};return s[i]={},t.createUnit(s,{})}})}),_Xe=ye("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],n=>{var{typed:e,matrix:t,multiply:r,equalScalar:i,divideScalar:s,inv:o}=n,a=Pl({typed:e,equalScalar:i}),l=nd({typed:e});return e("divide",wee({"Array | Matrix, Array | Matrix":function(u,h){return r(u,o(h))},"DenseMatrix, any":function(u,h){return l(u,h,s,!1)},"SparseMatrix, any":function(u,h){return a(u,h,s,!1)},"Array, any":function(u,h){return l(t(u),h,s,!1).valueOf()},"any, Array | Matrix":function(u,h){return r(u,o(h))}},s.signatures))}),wXe=ye("factorial",["typed","gamma"],n=>{var{typed:e,gamma:t}=n;return e("factorial",{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})});function Boe(n,e){var t,r=e.length,i=[];if(n)for(t=0;t<r;t++)i[n[t]]=e[t];else for(t=0;t<r;t++)i[t]=e[t];return i}var xXe=ye("lusolve",["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],n=>{var{typed:e,matrix:t,lup:r,slu:i,usolve:s,lsolve:o,DenseMatrix:a}=n,l=rS({DenseMatrix:a});return e("lusolve",{"Array, Array | Matrix":function(d,f){d=t(d);var A=r(d);return u(A.L,A.U,A.p,null,f).valueOf()},"DenseMatrix, Array | Matrix":function(d,f){var A=r(d);return u(A.L,A.U,A.p,null,f)},"SparseMatrix, Array | Matrix":function(d,f){var A=r(d);return u(A.L,A.U,A.p,null,f)},"SparseMatrix, Array | Matrix, number, number":function(d,f,A,p){var m=i(d,A,p);return u(m.L,m.U,m.p,m.q,f)},"Object, Array | Matrix":function(d,f){return u(d.L,d.U,d.p,d.q,f)}});function c(h){if(ur(h))return h;if(Ms(h))return t(h);throw new TypeError("Invalid Matrix LU decomposition")}function u(h,d,f,A,p){h=c(h),d=c(d),f&&((p=l(h,p,!0))._data=Boe(f,p._data));var m=o(h,p),g=s(d,m);return A&&(g._data=Boe(A,g._data)),g}}),Ioe="multinomial",SXe=ye(Ioe,["typed","add","divide","multiply","factorial","isInteger","isPositive"],n=>{var{typed:e,add:t,divide:r,multiply:i,factorial:s,isInteger:o,isPositive:a}=n;return e(Ioe,{"Array | Matrix":function(c){var u=0,h=1;return bp(c,function(d){if(!o(d)||!a(d))throw new TypeError("Positive integer value expected in function multinomial");u=t(u,d),h=i(h,s(d))}),r(s(u),h)}})}),Foe="permutations",MXe=ye(Foe,["typed","factorial"],n=>{var{typed:e,factorial:t}=n;return e(Foe,{"number | BigNumber":t,"number, number":function(i,s){if(!$n(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!$n(s)||s<0)throw new TypeError("Positive integer value expected in function permutations");if(s>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Ep(i-s+1,i)},"BigNumber, BigNumber":function(i,s){var o,a;if(!Roe(i)||!Roe(s))throw new TypeError("Positive integer value expected in function permutations");if(s.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");for(o=i.mul(0).add(1),a=i.minus(s).plus(1);a.lte(i);a=a.plus(1))o=o.times(a);return o}})});function Roe(n){return n.isInteger()&&n.gte(0)}var Ooe="polynomialRoot",BXe=ye(Ooe,["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],n=>{var{typed:e,isZero:t,equalScalar:r,add:i,subtract:s,multiply:o,divide:a,sqrt:l,unaryMinus:c,cbrt:u,typeOf:h,im:d,re:f}=n;return e(Ooe,{"number|Complex, ...number|Complex":(A,p)=>{for(var m=[A,...p];m.length>0&&t(m[m.length-1]);)m.pop();if(m.length<2)throw new RangeError("Polynomial [".concat(A,", ").concat(p,"] must have a non-zero non-constant coefficient"));switch(m.length){case 2:return[c(a(m[0],m[1]))];case 3:var[g,y,v]=m,_=o(2,v),C=o(y,y),b=o(4,v,g);if(r(C,b))return[a(c(y),_)];var M=l(s(C,b));return[a(s(M,y),_),a(s(c(M),y),_)];case 4:var[D,E,T,B]=m,R=c(o(3,B)),U=o(T,T),k=o(3,B,E),q=i(o(2,T,T,T),o(27,B,B,D)),O=o(9,B,T,E);if(r(U,k)&&r(q,O))return[a(T,R)];var ve,P=s(U,k),G=s(q,O),H=i(o(18,B,T,E,D),o(T,T,E,E)),ae=i(o(4,T,T,T,D),o(4,B,E,E,E),o(27,B,B,D,D));return r(H,ae)?[a(s(o(4,B,T,E),i(o(9,B,B,D),o(T,T,T))),o(B,P)),a(s(o(9,B,D),o(T,E)),o(2,P))]:(ve=r(U,k)?G:a(i(G,l(s(o(G,G),o(4,P,P,P)))),2),u(ve,!0).toArray().map(K=>a(i(T,K,a(P,K)),R)).map(K=>"Complex"===h(K)&&r(f(K),f(K)+d(K))?f(K):K));default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(m))}}})}),IXe=ye("setSize",["typed","compareNatural"],n=>{var{typed:e,compareNatural:t}=n;return e("setSize",{"Array | Matrix":function(i){return Array.isArray(i)?Qi(i).length:Qi(i.toArray()).length},"Array | Matrix, boolean":function(i,s){if(!1===s||0===i.length)return Array.isArray(i)?Qi(i).length:Qi(i.toArray()).length;for(var o=Qi(Array.isArray(i)?i:i.toArray()).sort(t),a=1,l=1;l<o.length;l++)0!==t(o[l],o[l-1])&&a++;return a}})});function Loe(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}var PXe=ye("solveODE",["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],n=>{var{typed:e,add:t,subtract:r,multiply:i,divide:s,max:o,map:a,abs:l,isPositive:c,isNegative:u,larger:h,smaller:d,matrix:f,bignumber:A,unaryMinus:p}=n;function m(D){return function(E,T,B,R){if(2!==T.length||!T.every(b)&&!T.every(Gh))throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var k=T[0],q=T[1],O=h(q,k),P=R.firstStep;if(void 0!==P&&!c(P))throw new Error('"firstStep" must be positive');var G=R.maxStep;if(void 0!==G&&!c(G))throw new Error('"maxStep" must be positive');var H=R.minStep;if(H&&u(H))throw new Error('"minStep" must be positive or zero');var ae=[k,q,P,H,G].filter(Ue=>void 0!==Ue);if(!ae.every(b)&&!ae.every(Gh))throw new Error('Inconsistent type of "t" dependant variables');for(var Q=R.tol?R.tol:1e-4,j=R.minDelta?R.minDelta:.2,K=R.maxDelta?R.maxDelta:5,oe=R.maxIter?R.maxIter:1e4,se=[k,q,...B,G,H].some(Hr),[le,te,ee,Ae]=se?[A(D.a),A(D.c),A(D.b),A(D.bp)]:[D.a,D.c,D.b,D.bp],xe=P?O?P:p(P):s(r(q,k),1),ge=[k],Ee=[B],ne=r(ee,Ae),Y=0,W=0,Be=function _(D){return D?d:h}(O),Ce=function C(D){var E=D?h:d;return function(T,B,R){var U=t(T,R);return E(U,B)?r(B,T):R}}(O);Be(ge[Y],q);){var Pe=[];xe=Ce(ge[Y],q,xe),Pe.push(E(ge[Y],Ee[Y]));for(var Oe=1;Oe<te.length;++Oe)Pe.push(E(t(ge[Y],i(te[Oe],xe)),t(Ee[Y],i(xe,le[Oe],Pe))));var re=o(l(a(i(ne,Pe),Ue=>Gh(Ue)?Ue.value:Ue)));re<Q&&Q/re>1/4&&(ge.push(t(ge[Y],xe)),Ee.push(t(Ee[Y],i(xe,ee,Pe))),Y++);var J=.84*(Q/re)**.2;if(d(J,j)?J=j:h(J,K)&&(J=K),J=se?A(J):J,xe=i(xe,J),G&&h(l(xe),G)?xe=O?G:p(G):H&&d(l(xe),H)&&(xe=O?H:p(H)),++W>oe)throw new Error("Maximum number of iterations reached, try changing options")}return{t:ge,y:Ee}}}function g(D,E,T,B){return m({a:[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],c:[null,.5,3/4,1],b:[2/9,1/3,4/9,0],bp:[7/24,1/4,1/3,1/8]})(D,E,T,B)}function y(D,E,T,B){return m({a:[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],c:[null,.2,.3,.8,8/9,1,1],b:[35/384,0,500/1113,125/192,-2187/6784,11/84,0],bp:[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40]})(D,E,T,B)}function v(D,E,T,B){var R=B.method?B.method:"RK45",U={RK23:g,RK45:y};if(R.toUpperCase()in U){var k=function FXe(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Loe(Object(t),!0).forEach(function(r){qa(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Loe(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}({},B);return delete k.method,U[R.toUpperCase()](D,E,T,k)}var q=Object.keys(U).map(P=>'"'.concat(P,'"')),O="".concat(q.slice(0,-1).join(", ")," and ").concat(q.slice(-1));throw new Error('Unavailable method "'.concat(R,'". Available methods are ').concat(O))}function b(D){return Hr(D)||kr(D)}function M(D,E,T,B){var R=v(D,E.toArray(),T.toArray(),B);return{t:f(R.t),y:f(R.y)}}return e("solveODE",{"function, Array, Array, Object":v,"function, Matrix, Matrix, Object":M,"function, Array, Array":(D,E,T)=>v(D,E,T,{}),"function, Matrix, Matrix":(D,E,T)=>M(D,E,T,{}),"function, Array, number | BigNumber | Unit":(D,E,T)=>{var B=v(D,E,[T],{});return{t:B.t,y:B.y.map(R=>R[0])}},"function, Matrix, number | BigNumber | Unit":(D,E,T)=>{var B=v(D,E.toArray(),[T],{});return{t:f(B.t),y:f(B.y.map(R=>R[0]))}},"function, Array, number | BigNumber | Unit, Object":(D,E,T,B)=>{var R=v(D,E,[T],B);return{t:R.t,y:R.y.map(U=>U[0])}},"function, Matrix, number | BigNumber | Unit, Object":(D,E,T,B)=>{var R=v(D,E.toArray(),[T],B);return{t:f(R.t),y:f(R.y.map(U=>U[0]))}}})}),Uoe="stirlingS2",UXe=ye(Uoe,["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],n=>{var{typed:e,addScalar:t,multiplyScalar:i,isNegative:c,isInteger:u,number:h,bignumber:d,larger:f}=n,A=[],p=[];return e(Uoe,{"number | BigNumber, number | BigNumber":function(g,y){if(!u(g)||c(g)||!u(y)||c(y))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(f(y,g))throw new TypeError("k must be less than or equal to n in function stirlingS2");var v=!(kr(g)&&kr(y)),_=v?p:A,C=v?d:h,b=h(g),M=h(y);if(_[b]&&_[b].length>M)return _[b][M];for(var D=0;D<=b;++D)if(_[D]||(_[D]=[C(0===D?1:0)]),0!==D)for(var E=_[D],T=_[D-1],B=E.length;B<=D&&B<=M;++B)E[B]=B===D?1:t(i(C(B),T[B]),T[B-1]);return _[b][M]}})}),HXe=ye("unit",["typed","Unit"],n=>{var{typed:e,Unit:t}=n;return e("unit",{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,s){return new t(i,s)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(r=>i=>Rr(i,r))})}),Hoe="bellNumbers",QXe=ye(Hoe,["typed","addScalar","isNegative","isInteger","stirlingS2"],n=>{var{typed:e,addScalar:t,isNegative:r,isInteger:i,stirlingS2:s}=n;return e(Hoe,{"number | BigNumber":function(a){if(!i(a)||r(a))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,c=0;c<=a;c++)l=t(l,s(a,c));return l}})});var qXe=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],WXe=ye("eigs",qXe,n=>{var{config:e,typed:t,matrix:r,addScalar:i,subtract:s,equal:o,abs:a,atan:l,cos:c,sin:u,multiplyScalar:h,divideScalar:d,inv:f,bignumber:A,multiply:p,add:m,larger:g,column:y,flatten:v,number:_,complex:C,sqrt:b,diag:M,size:D,reshape:E,qr:T,usolve:B,usolveAll:R,im:U,re:k,smaller:q,matrixFromColumns:O,dot:P}=n,G=function GXe(n){var{config:e,addScalar:t,subtract:r,abs:i,atan:s,cos:o,sin:a,multiplyScalar:l,inv:c,bignumber:u,multiply:h,add:d}=n;function m(E,T,B){return Math.abs(T-E)<=e.relTol?Math.PI/4:.5*Math.atan(2*B/(T-E))}function g(E,T,B){var R=r(T,E);return i(R)<=e.relTol?u(-1).acos().div(4):l(.5,s(h(2,B,c(R))))}function y(E,T,B,R){for(var U=E.length,k=Math.cos(T),q=Math.sin(T),O=Array(U).fill(0),P=Array(U).fill(0),G=0;G<U;G++)O[G]=k*E[G][B]-q*E[G][R],P[G]=q*E[G][B]+k*E[G][R];for(var H=0;H<U;H++)E[H][B]=O[H],E[H][R]=P[H];return E}function v(E,T,B,R){for(var U=E.length,k=o(T),q=a(T),O=Array(U).fill(u(0)),P=Array(U).fill(u(0)),G=0;G<U;G++)O[G]=r(l(k,E[G][B]),l(q,E[G][R])),P[G]=t(l(q,E[G][B]),l(k,E[G][R]));for(var H=0;H<U;H++)E[H][B]=O[H],E[H][R]=P[H];return E}function _(E,T,B,R){for(var U=E.length,k=u(o(T)),q=u(a(T)),O=l(k,k),P=l(q,q),G=Array(U).fill(u(0)),H=Array(U).fill(u(0)),ae=h(u(2),k,q,E[B][R]),ve=t(r(l(O,E[B][B]),ae),l(P,E[R][R])),Q=d(l(P,E[B][B]),ae,l(O,E[R][R])),j=0;j<U;j++)G[j]=r(l(k,E[B][j]),l(q,E[R][j])),H[j]=t(l(q,E[B][j]),l(k,E[R][j]));E[B][B]=ve,E[R][R]=Q,E[B][R]=u(0),E[R][B]=u(0);for(var K=0;K<U;K++)K!==B&&K!==R&&(E[B][K]=G[K],E[K][B]=G[K],E[R][K]=H[K],E[K][R]=H[K]);return E}function C(E,T,B,R){for(var U=E.length,k=Math.cos(T),q=Math.sin(T),O=k*k,P=q*q,G=Array(U).fill(0),H=Array(U).fill(0),ae=O*E[B][B]-2*k*q*E[B][R]+P*E[R][R],ve=P*E[B][B]+2*k*q*E[B][R]+O*E[R][R],Q=0;Q<U;Q++)G[Q]=k*E[B][Q]-q*E[R][Q],H[Q]=q*E[B][Q]+k*E[R][Q];E[B][B]=ae,E[R][R]=ve,E[B][R]=0,E[R][B]=0;for(var j=0;j<U;j++)j!==B&&j!==R&&(E[B][j]=G[j],E[j][B]=G[j],E[R][j]=H[j],E[j][R]=H[j]);return E}function b(E){for(var T=E.length,B=0,R=[0,1],U=0;U<T;U++)for(var k=U+1;k<T;k++)Math.abs(B)<Math.abs(E[U][k])&&(B=Math.abs(E[U][k]),R=[U,k]);return[R,B]}function M(E){for(var T=E.length,B=0,R=[0,1],U=0;U<T;U++)for(var k=U+1;k<T;k++)i(B)<i(E[U][k])&&(B=i(E[U][k]),R=[U,k]);return[R,B]}function D(E,T,B){var k,R=E.length,U=Array(R);if(B){k=Array(R);for(var q=0;q<R;q++)k[q]=Array(R)}for(var O=0;O<R;O++){for(var P=0,G=E[0],H=0;H<E.length;H++)i(E[H])<i(G)&&(G=E[P=H]);if(U[O]=E.splice(P,1)[0],B)for(var ae=0;ae<R;ae++)k[O][ae]=T[ae][P],T[ae].splice(P,1)}if(!B)return{values:U};var ve=k.map((Q,j)=>({value:U[j],vector:Q}));return{values:U,eigenvectors:ve}}return function f(E,T){var B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.relTol,R=arguments.length>3?arguments[3]:void 0,U=arguments.length>4?arguments[4]:void 0;if("number"===R)return function A(E,T,B){var k,q,R=E.length,U=Math.abs(T/R);if(B){q=new Array(R);for(var O=0;O<R;O++)q[O]=Array(R).fill(0),q[O][O]=1}for(var P=b(E);Math.abs(P[1])>=Math.abs(U);){var G=P[0][0],H=P[0][1];E=C(E,k=m(E[G][G],E[H][H],E[G][H]),G,H),B&&(q=y(q,k,G,H)),P=b(E)}for(var ae=Array(R).fill(0),ve=0;ve<R;ve++)ae[ve]=E[ve][ve];return D(Ir(ae),q,B)}(E,B,U);if("BigNumber"===R)return function p(E,T,B){var k,q,R=E.length,U=i(T/R);if(B){q=new Array(R);for(var O=0;O<R;O++)q[O]=Array(R).fill(0),q[O][O]=1}for(var P=M(E);i(P[1])>=i(U);){var G=P[0][0],H=P[0][1];E=_(E,k=g(E[G][G],E[H][H],E[G][H]),G,H),B&&(q=v(q,k,G,H)),P=M(E)}for(var ae=Array(R).fill(0),ve=0;ve<R;ve++)ae[ve]=E[ve][ve];return D(Ir(ae),q,B)}(E,B,U);throw TypeError("Unsupported data type: "+R)}}({config:e,addScalar:i,subtract:s,column:y,flatten:v,equal:o,abs:a,atan:l,cos:c,sin:u,multiplyScalar:h,inv:f,bignumber:A,complex:C,multiply:p,add:m}),H=function zXe(n){var{addScalar:e,subtract:t,flatten:r,multiply:i,multiplyScalar:s,divideScalar:o,sqrt:a,abs:l,bignumber:c,diag:u,size:h,reshape:d,inv:f,qr:A,usolve:p,usolveAll:m,equal:g,complex:y,larger:v,smaller:_,dot:b}=n;function R(Q,j,K,oe){var se=e(Q,oe),le=t(s(Q,oe),s(j,K)),te=s(se,.5),ee=s(a(t(s(se,se),s(4,le))),.5);return[e(te,ee),t(te,ee)]}function U(Q,j,K,oe,se,le,te,ee){var Ae="BigNumber"===ee,xe="Complex"===ee,ge=Ae?c(0):xe?y(0):0,Ee=Ae?c(1):xe?y(1):1;if(_(l(K),te))return[[Ee,ge],[ge,Ee]];if(v(l(t(se,le)),te))return[[t(se,oe),t(le,oe)],[K,K]];var ne=t(Q,se),Y=t(oe,se);return _(l(j),te)&&_(l(Y),te)?[[ne,Ee],[K,ge]]:[[j,ge],[Y,Ee]]}function k(Q,j){for(var K=0;K<Q.length;K++)Q[K].push(...Array(j-Q[K].length).fill(0));for(var oe=Q.length;oe<j;oe++)Q.push(Array(j).fill(0)),Q[oe][oe]=1;return Q}function O(Q,j,K){for(var oe=0;oe<Q.length;oe++)if(K(Q[oe],j))return oe;return-1}function P(Q,j,K,oe,se){for(var te,le="BigNumber"===se?c(1e3):1e3,ee=0;ee<5;++ee){te=G(j,K,se);try{te=p(Q,te)}catch{continue}if(v(ae(te),le))break}if(ee>=5)return null;for(ee=0;;){var Ae=p(Q,te);if(_(ae(H(te,[Ae])),oe))break;if(++ee>=10)return null;te=ve(Ae)}return te}function G(Q,j,K){var oe="BigNumber"===K,se="Complex"===K,le=Array(Q).fill(0).map(te=>2*Math.random()-1);return oe&&(le=le.map(te=>c(te))),se&&(le=le.map(te=>y(te))),ve(le=H(le,j),K)}function H(Q,j){var K=h(Q);for(var oe of j)oe=d(oe,K),Q=t(Q,i(o(b(oe,Q),b(oe,oe)),oe));return Q}function ae(Q){return l(a(b(Q,Q)))}function ve(Q,j){var oe="Complex"===j,se="BigNumber"===j?c(1):oe?y(1):1;return i(o(se,ae(Q)),Q)}return function M(Q,j,K,oe){var se=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],le=function D(Q,j,K,oe,se){var ne,le="BigNumber"===oe,te="Complex"===oe,ee=le?c(0):0,Ae=le?c(1):te?y(1):1,xe=le?c(1):1,ge=le?c(10):2,Ee=s(ge,ge);se&&(ne=Array(j).fill(Ae));for(var Y=!1;!Y;){Y=!0;for(var W=0;W<j;W++){for(var Be=ee,Ce=ee,Pe=0;Pe<j;Pe++)W!==Pe&&(Be=e(Be,l(Q[Pe][W])),Ce=e(Ce,l(Q[W][Pe])));if(!g(Be,0)&&!g(Ce,0)){for(var Oe=xe,re=Be,J=o(Ce,ge),Ue=s(Ce,ge);_(re,J);)re=s(re,Ee),Oe=s(Oe,ge);for(;v(re,Ue);)re=o(re,Ee),Oe=o(Oe,ge);if(_(o(e(re,Ce),Oe),s(e(Be,Ce),.95))){Y=!1;for(var rt=o(1,Oe),Xe=0;Xe<j;Xe++)W!==Xe&&(Q[W][Xe]=s(Q[W][Xe],rt),Q[Xe][W]=s(Q[Xe][W],Oe));se&&(ne[W]=s(ne[W],rt))}}}}return se?u(ne):null}(Q,j,0,oe,se);!function E(Q,j,K,oe,se,le){var te="BigNumber"===oe,ee="Complex"===oe,Ae=te?c(0):ee?y(0):0;te&&(K=c(K));for(var xe=0;xe<j-2;xe++){for(var ge=0,Ee=Ae,ne=xe+1;ne<j;ne++){var Y=Q[ne][xe];_(l(Ee),l(Y))&&(Ee=Y,ge=ne)}if(!_(l(Ee),K)){if(ge!==xe+1){var W=Q[ge];Q[ge]=Q[xe+1],Q[xe+1]=W;for(var Be=0;Be<j;Be++){var Ce=Q[Be][ge];Q[Be][ge]=Q[Be][xe+1],Q[Be][xe+1]=Ce}if(se){var Pe=le[ge];le[ge]=le[xe+1],le[xe+1]=Pe}}for(var Oe=xe+2;Oe<j;Oe++){var re=o(Q[Oe][xe],Ee);if(0!==re){for(var J=0;J<j;J++)Q[Oe][J]=t(Q[Oe][J],s(re,Q[xe+1][J]));for(var Ue=0;Ue<j;Ue++)Q[Ue][xe+1]=e(Q[Ue][xe+1],s(re,Q[Ue][Oe]));if(se)for(var Qe=0;Qe<j;Qe++)le[Oe][Qe]=t(le[Oe][Qe],s(re,le[xe+1][Qe]))}}}}}(Q,j,K,oe,se,le);var{values:te,C:ee}=function T(Q,j,K,oe,se){var le="BigNumber"===oe,te="Complex"===oe,ee=le?c(1):te?y(1):1;le&&(K=c(K));for(var Ae=Ir(Q),xe=[],ge=j,Ee=[],ne=se?u(Array(j).fill(ee)):void 0,Y=se?u(Array(ge).fill(ee)):void 0,W=0;W<=100;){W+=1;for(var Be=Ae[ge-1][ge-1],Ce=0;Ce<ge;Ce++)Ae[Ce][Ce]=t(Ae[Ce][Ce],Be);var{Q:Pe,R:Oe}=A(Ae);Ae=i(Oe,Pe);for(var re=0;re<ge;re++)Ae[re][re]=e(Ae[re][re],Be);if(se&&(Y=i(Y,Pe)),1===ge||_(l(Ae[ge-1][ge-2]),K)){W=0,xe.push(Ae[ge-1][ge-1]),se&&(Ee.unshift([[1]]),k(Y,j),ne=i(ne,Y),ge>1&&(Y=u(Array(ge-1).fill(ee)))),ge-=1,Ae.pop();for(var J=0;J<ge;J++)Ae[J].pop()}else if(2===ge||_(l(Ae[ge-2][ge-3]),K)){W=0;var Ue=R(Ae[ge-2][ge-2],Ae[ge-2][ge-1],Ae[ge-1][ge-2],Ae[ge-1][ge-1]);xe.push(...Ue),se&&(Ee.unshift(U(Ae[ge-2][ge-2],Ae[ge-2][ge-1],Ae[ge-1][ge-2],Ae[ge-1][ge-1],Ue[0],Ue[1],K,oe)),k(Y,j),ne=i(ne,Y),ge>2&&(Y=u(Array(ge-2).fill(ee)))),ge-=2,Ae.pop(),Ae.pop();for(var Qe=0;Qe<ge;Qe++)Ae[Qe].pop(),Ae[Qe].pop()}if(0===ge)break}if(xe.sort((Pt,Ft)=>+t(l(Pt),l(Ft))),W>100){var rt=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+xe.join(", "));throw rt.values=xe,rt.vectors=[],rt}var Xe=se?i(ne,function q(Q,j){for(var K=[],oe=0;oe<j;oe++)K[oe]=Array(j).fill(0);var se=0;for(var le of Q){for(var te=le.length,ee=0;ee<te;ee++)for(var Ae=0;Ae<te;Ae++)K[se+ee][se+Ae]=le[ee][Ae];se+=te}return K}(Ee,j)):void 0;return{values:xe,C:Xe}}(Q,j,K,oe,se);if(se){var Ae=function B(Q,j,K,oe,se,le,te){var ee=f(K),Ae=i(ee,Q,K),xe="BigNumber"===te,ge="Complex"===te,Ee=xe?c(0):ge?y(0):0,ne=xe?c(1):ge?y(1):1,Y=[],W=[];for(var Be of se){var Ce=O(Y,Be,g);-1===Ce?(Y.push(Be),W.push(1)):W[Ce]+=1}for(var Pe=[],Oe=Y.length,re=Array(j).fill(Ee),J=u(Array(j).fill(ne)),Ue=function(){var Xe=Y[Qe],Pt=t(Ae,i(Xe,J)),Ft=m(Pt,re);for(Ft.shift();Ft.length<W[Qe];){var Tt=P(Pt,j,Ft,le,te);if(null===Tt)break;Ft.push(Tt)}var yn=i(f(oe),K);Ft=Ft.map(st=>i(yn,st)),Pe.push(...Ft.map(st=>({value:Xe,vector:r(st)})))},Qe=0;Qe<Oe;Qe++)Ue();return Pe}(Q,j,ee,le,te,K,oe);return{values:te,eigenvectors:Ae}}return{values:te}}}({config:e,addScalar:i,subtract:s,multiply:p,multiplyScalar:h,flatten:v,divideScalar:d,sqrt:b,abs:a,bignumber:A,diag:M,size:D,reshape:E,qr:T,inv:f,usolve:B,usolveAll:R,equal:o,complex:C,larger:g,smaller:q,matrixFromColumns:O,dot:P});return t("eigs",{Array:function(le){return ae(r(le))},"Array, number|BigNumber":function(le,te){return ae(r(le),{precision:te})},"Array, Object":(se,le)=>ae(r(se),le),Matrix:function(le){return ae(le,{matricize:!0})},"Matrix, number|BigNumber":function(le,te){return ae(le,{precision:te,matricize:!0})},"Matrix, Object":function(le,te){var ee={matricize:!0};return ja(ee,te),ae(le,ee)}});function ae(se){var le,te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ee=!("eigenvectors"in te)||te.eigenvectors,xe=function ve(se,le,te){var ee=se.toArray(),Ae=se.size();if(2!==Ae.length||Ae[0]!==Ae[1])throw new RangeError("Matrix must be square (size: ".concat(ri(Ae),")"));var xe=Ae[0];if(function j(se,le,te){for(var ee=0;ee<le;ee++)for(var Ae=0;Ae<le;Ae++)if(g(A(a(U(se[ee][Ae]))),te))return!1;return!0}(ee,xe,le)&&(function K(se,le){for(var te=0;te<le;te++)for(var ee=0;ee<le;ee++)se[te][ee]=k(se[te][ee])}(ee,xe),function Q(se,le,te){for(var ee=0;ee<le;ee++)for(var Ae=ee;Ae<le;Ae++)if(g(A(a(s(se[ee][Ae],se[Ae][ee]))),te))return!1;return!0}(ee,xe,le))){var ge=oe(se,ee,xe);return G(ee,xe,le,ge,te)}var Ee=oe(se,ee,xe);return H(ee,xe,le,Ee,te)}(se,null!==(le=te.precision)&&void 0!==le?le:e.relTol,ee);return te.matricize&&(xe.values=r(xe.values),ee&&(xe.eigenvectors=xe.eigenvectors.map(ge=>{var{value:Ee,vector:ne}=ge;return{value:Ee,vector:r(ne)}}))),ee&&Object.defineProperty(xe,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),xe}function oe(se,le,te){var ee=se.datatype();if("number"===ee||"BigNumber"===ee||"Complex"===ee)return ee;for(var Ae=!1,xe=!1,ge=!1,Ee=0;Ee<te;Ee++)for(var ne=0;ne<te;ne++){var Y=le[Ee][ne];if(kr(Y)||QE(Y))Ae=!0;else if(Hr(Y))xe=!0;else{if(!yp(Y))throw TypeError("Unsupported type in Matrix: "+Ws(Y));ge=!0}}if(xe&&ge&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),ge){for(var W=0;W<te;W++)for(var Be=0;Be<te;Be++)le[W][Be]=C(le[W][Be]);return"Complex"}if(xe){for(var Ce=0;Ce<te;Ce++)for(var Pe=0;Pe<te;Pe++)le[Ce][Pe]=A(le[Ce][Pe]);return"BigNumber"}if(Ae){for(var Oe=0;Oe<te;Oe++)for(var re=0;re<te;re++)le[Oe][re]=_(le[Oe][re]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),Voe="kldivergence",$Xe=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],KXe=ye(Voe,$Xe,n=>{var{typed:e,matrix:t,divide:r,sum:i,multiply:s,map:o,dotDivide:a,log:l,isNumeric:c}=n;return e(Voe,{"Array, Array":function(d,f){return u(t(d),t(f))},"Matrix, Array":function(d,f){return u(d,t(f))},"Array, Matrix":function(d,f){return u(t(d),f)},"Matrix, Matrix":function(d,f){return u(d,f)}});function u(h,d){var f=d.size().length,A=h.size().length;if(f>1)throw new Error("first object must be one dimensional");if(A>1)throw new Error("second object must be one dimensional");if(f!==A)throw new Error("Length of two vectors must be equal");if(0===i(h))throw new Error("Sum of elements in first object must be non zero");if(0===i(d))throw new Error("Sum of elements in second object must be non zero");var g=r(h,i(h)),y=r(d,i(d)),v=i(s(g,o(a(g,y),_=>l(_))));return c(v)?v:Number.NaN}}),XXe=["typed","add","divide","compare","partitionSelect"],YXe=ye("median",XXe,n=>{var{typed:e,add:t,divide:r,compare:i,partitionSelect:s}=n;function o(c){try{var u=(c=Qi(c.valueOf())).length;if(0===u)throw new Error("Cannot calculate median of an empty array");if(u%2==0){for(var h=u/2-1,d=s(c,h+1),f=c[h],A=0;A<h;++A)i(c[A],f)>0&&(f=c[A]);return l(f,d)}var p=s(c,(u-1)/2);return a(p)}catch(m){throw qc(m,"median")}}var a=e({"number | BigNumber | Complex | Unit":function(u){return u}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(u,h){return r(t(u,h),2)}});return e("median",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,h){throw new Error("median(A, dim) is not yet supported")},"...":function(u){if(db(u))throw new TypeError("Scalar values expected in function median");return o(u)}})}),JXe=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],ZXe=ye("corr",JXe,n=>{var{typed:e,matrix:t,sqrt:r,sum:i,add:s,subtract:o,multiply:a,pow:l,divide:c}=n;return e("corr",{"Array, Array":function(f,A){return u(f,A)},"Matrix, Matrix":function(f,A){var p=u(f.toArray(),A.toArray());return Array.isArray(p)?t(p):p}});function u(d,f){var A=[];if(Array.isArray(d[0])&&Array.isArray(f[0])){if(d.length!==f.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var p=0;p<d.length;p++){if(d[p].length!==f[p].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");A.push(h(d[p],f[p]))}return A}if(d.length!==f.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return h(d,f)}function h(d,f){var A=d.length,p=i(d),m=i(f),g=d.reduce((b,M,D)=>s(b,a(M,f[D])),0),y=i(d.map(b=>l(b,2))),v=i(f.map(b=>l(b,2))),_=o(a(A,g),a(p,m)),C=r(a(o(a(A,y),l(p,2)),o(a(A,v),l(m,2))));return c(_,C)}}),eYe=["typed","add","multiply","Complex","divide","matrix"],tYe=ye("freqz",eYe,n=>{var{typed:e,add:t,multiply:r,Complex:i,divide:s,matrix:o}=n;return e("freqz",{"Array, Array":function(u,h){return a(u,h,l(512))},"Array, Array, Array":function(u,h,d){return a(u,h,d)},"Array, Array, number":function(u,h,d){if(d<0)throw new Error("w must be a positive number");return a(u,h,l(d))},"Matrix, Matrix":function(u,h){var d=l(512),{w:f,h:A}=a(u.valueOf(),h.valueOf(),d);return{w:o(f),h:o(A)}},"Matrix, Matrix, Matrix":function(u,h,d){var{h:f}=a(u.valueOf(),h.valueOf(),d.valueOf());return{h:o(f),w:o(d)}},"Matrix, Matrix, number":function(u,h,d){if(d<0)throw new Error("w must be a positive number");var f=l(d),{h:A}=a(u.valueOf(),h.valueOf(),f);return{h:o(A),w:o(f)}}});function a(c,u,h){for(var d=[],f=[],A=0;A<h.length;A++){for(var p=i(0,0),m=i(0,0),g=0;g<c.length;g++)p=t(p,r(c[g],i(Math.cos(-g*h[A]),Math.sin(-g*h[A]))));for(var y=0;y<u.length;y++)m=t(m,r(u[y],i(Math.cos(-y*h[A]),Math.sin(-y*h[A]))));d.push(p),f.push(m)}for(var v=[],_=0;_<d.length;_++)v.push(s(d[_],f[_]));return{h:v,w:h}}function l(c){for(var u=[],h=0;h<c;h++)u.push(h/c*Math.PI);return u}}),nYe=["typed","abs","map","median","subtract"],rYe=ye("mad",nYe,n=>{var{typed:e,abs:t,map:r,median:i,subtract:s}=n;return e("mad",{"Array | Matrix":o,"...":function(l){return o(l)}});function o(a){if(0===(a=Qi(a.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(a);return i(r(a,function(c){return t(s(c,l))}))}catch(c){throw c instanceof TypeError&&c.message.includes("median")?new TypeError(c.message.replace("median","mad")):qc(c,"mad")}}}),iYe=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],sYe=ye("zeta",iYe,n=>{var{typed:e,config:t,multiply:r,pow:i,divide:s,factorial:o,equal:a,smallerEq:l,isNegative:c,gamma:u,sin:h,subtract:d,add:f,Complex:A,BigNumber:p,pi:m}=n;return e("zeta",{number:b=>g(b,M=>M,()=>20),BigNumber:b=>g(b,M=>new p(M),()=>Math.abs(Math.log10(t.relTol))),Complex:function y(b){return 0===b.re&&0===b.im?new A(-.5):1===b.re?new A(NaN,NaN):b.re===1/0&&0===b.im?new A(1):b.im===1/0||b.re===-1/0?new A(NaN,NaN):v(b,M=>M,M=>Math.round(19.5+.9*Math.abs(M.im)),M=>M.re)}});function g(b,M,D){return a(b,0)?M(-.5):a(b,1)?M(NaN):isFinite(b)?v(b,M,D,E=>E):c(b)?M(NaN):M(1)}function v(b,M,D,E){var T=D(b);if(E(b)>-(T-1)/2)return function C(b,M,D){for(var E=s(1,r(_(D(0),M),d(1,i(2,d(1,b))))),T=D(0),B=D(1);l(B,M);B=f(B,1))T=f(T,s(r((-1)**(B-1),_(B,M)),i(B,b)));return r(E,T)}(b,M(T),M);var B=r(i(2,b),i(M(m),d(b,1)));return B=r(B,h(r(s(M(m),2),b))),B=r(B,u(d(1,b))),r(B,v(d(1,b),M,D,E))}function _(b,M){for(var D=b,E=b;l(E,M);E=f(E,1)){var T=s(r(o(f(M,d(E,1))),i(4,E)),r(o(d(M,E)),o(r(2,E))));D=f(D,T)}return r(M,D)}}),oYe=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],aYe=ye("norm",oYe,n=>{var{typed:e,abs:t,add:r,pow:i,conj:s,sqrt:o,multiply:a,equalScalar:l,larger:c,smaller:u,matrix:h,ctranspose:d,eigs:f}=n;return e("norm",{number:Math.abs,Complex:function(D){return D.abs()},BigNumber:function(D){return D.abs()},boolean:function(D){return Math.abs(D)},Array:function(D){return b(h(D),2)},Matrix:function(D){return b(D,2)},"Array, number | BigNumber | string":function(D,E){return b(h(D),E)},"Matrix, number | BigNumber | string":function(D,E){return b(D,E)}});function b(M,D){var E=M.size();if(1===E.length)return function m(M,D){if(D===Number.POSITIVE_INFINITY||"inf"===D)return function A(M){var D=0;return M.forEach(function(E){var T=t(E);c(T,D)&&(D=T)},!0),D}(M);if(D===Number.NEGATIVE_INFINITY||"-inf"===D)return function p(M){var D;return M.forEach(function(E){var T=t(E);(!D||u(T,D))&&(D=T)},!0),D||0}(M);if("fro"===D)return b(M,2);if("number"==typeof D&&!isNaN(D)){if(!l(D,0)){var E=0;return M.forEach(function(T){E=r(i(t(T),D),E)},!0),i(E,1/D)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}(M,D);if(2===E.length){if(E[0]&&E[1])return function C(M,D){if(1===D)return function y(M){var D=[],E=0;return M.forEach(function(T,B){var R=B[1],U=r(D[R]||0,t(T));c(U,E)&&(E=U),D[R]=U},!0),E}(M);if(D===Number.POSITIVE_INFINITY||"inf"===D)return function _(M){var D=[],E=0;return M.forEach(function(T,B){var R=B[0],U=r(D[R]||0,t(T));c(U,E)&&(E=U),D[R]=U},!0),E}(M);if("fro"===D)return function g(M){var D=0;return M.forEach(function(E,T){D=r(D,a(E,s(E)))}),t(o(D))}(M);if(2===D)return function v(M){var D=M.size();if(D[0]!==D[1])throw new RangeError("Invalid matrix dimensions");var E=d(M),T=a(E,M),B=f(T).values.toArray();return t(o(B[B.length-1]))}(M);throw new Error("Unsupported parameter value "+D)}(M,D);throw new RangeError("Invalid matrix dimensions")}}}),$oe="rotationMatrix",lYe=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],cYe=ye($oe,lYe,n=>{var{typed:e,config:t,multiplyScalar:r,addScalar:i,unaryMinus:s,norm:o,BigNumber:a,matrix:l,DenseMatrix:c,SparseMatrix:u,cos:h,sin:d}=n;return e($oe,{"":function(){return"Matrix"===t.matrix?l([]):[]},string:function(v){return l(v)},"number | BigNumber | Complex | Unit":function(v){return f(v,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(v,_){return f(v,_)},"number | BigNumber | Complex | Unit, Array":function(v,_){var C=l(_);return A(C),g(v,C,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(v,_){A(_);var C=_.storage()||("Matrix"===t.matrix?"dense":void 0);return g(v,_,C)},"number | BigNumber | Complex | Unit, Array, string":function(v,_,C){var b=l(_);return A(b),g(v,b,C)},"number | BigNumber | Complex | Unit, Matrix, string":function(v,_,C){return A(_),g(v,_,C)}});function f(y,v){var C=Hr(y)?new a(-1):-1,b=h(y),M=d(y);return m([[b,r(C,M)],[M,b]],v)}function A(y){var v=y.size();if(v.length<1||3!==v[0])throw new RangeError("Vector must be of dimensions 1x3")}function p(y){return y.reduce((v,_)=>r(v,_))}function m(y,v){if(v){if("sparse"===v)return new u(y);if("dense"===v)return new c(y);throw new TypeError('Unknown matrix type "'.concat(v,'"'))}return y}function g(y,v,_){var C=o(v);if(0===C)throw new RangeError("Rotation around zero vector");var b=Hr(y)?a:null,M=b?new b(1):1,D=b?new b(-1):-1,E=b?new b(v.get([0])/C):v.get([0])/C,T=b?new b(v.get([1])/C):v.get([1])/C,B=b?new b(v.get([2])/C):v.get([2])/C,R=h(y),U=i(M,s(R)),k=d(y);return m([[i(R,p([E,E,U])),i(p([E,T,U]),p([D,B,k])),i(p([E,B,U]),p([T,k]))],[i(p([E,T,U]),p([B,k])),i(R,p([T,T,U])),i(p([T,B,U]),p([D,E,k]))],[i(p([E,B,U]),p([D,T,k])),i(p([T,B,U]),p([E,k])),i(R,p([B,B,U]))]],_)}}),uYe=["typed","matrix","identity","multiply","qr","norm","subtract"],hYe=ye("schur",uYe,n=>{var{typed:e,matrix:t,identity:r,multiply:i,qr:s,norm:o,subtract:a}=n;return e("schur",{Array:function(u){var h=l(t(u));return{U:h.U.valueOf(),T:h.T.valueOf()}},Matrix:function(u){return l(u)}});function l(c){var A,u=c.size()[0],h=c,d=r(u),f=0;do{A=h;var p=s(h),m=p.Q;if(h=i(p.R,m),d=i(d,m),f++>100)break}while(o(a(h,A))>1e-4);return{U:d,T:h}}}),fYe=["typed","multiply","rotationMatrix"],dYe=ye("rotate",fYe,n=>{var{typed:e,multiply:t,rotationMatrix:r}=n;return e("rotate",{"Array , number | BigNumber | Complex | Unit":function(o,a){return i(o,2),t(r(a),o).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,a){return i(o,2),t(r(a),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,a,l){return i(o,3),t(r(a,l),o)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,a,l){return i(o,3),t(r(a,l),o)}});function i(s,o){var a=Array.isArray(s)?Er(s):s.size();if(a.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(2===a.length&&1!==a[1])throw new RangeError("Vector must be of dimensions 1x".concat(o));if(a[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}}),AYe=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],pYe=ye("sylvester",AYe,n=>{var{typed:e,schur:t,matrixFromColumns:r,matrix:i,multiply:s,range:o,concat:a,transpose:l,index:c,subset:u,add:h,subtract:d,identity:f,lusolve:A,abs:p}=n;return e("sylvester",{"Matrix, Matrix, Matrix":m,"Array, Matrix, Matrix":function(y,v,_){return m(i(y),v,_)},"Array, Array, Matrix":function(y,v,_){return m(i(y),i(v),_)},"Array, Matrix, Array":function(y,v,_){return m(i(y),v,i(_))},"Matrix, Array, Matrix":function(y,v,_){return m(y,i(v),_)},"Matrix, Array, Array":function(y,v,_){return m(y,i(v),i(_))},"Matrix, Matrix, Array":function(y,v,_){return m(y,v,i(_))},"Array, Array, Array":function(y,v,_){return m(i(y),i(v),i(_)).toArray()}});function m(g,y,v){for(var _=y.size()[0],C=g.size()[0],b=t(g),M=b.T,D=b.U,E=t(s(-1,y)),T=E.T,B=E.U,R=s(s(l(D),v),B),U=o(0,C),k=[],q=(ge,Ee)=>a(ge,Ee,1),O=(ge,Ee)=>a(ge,Ee,0),P=0;P<_;P++)if(P<_-1&&p(u(T,c(P+1,P)))>1e-5){for(var G=O(u(R,c(U,P)),u(R,c(U,P+1))),H=0;H<P;H++)G=h(G,O(s(k[H],u(T,c(H,P))),s(k[H],u(T,c(H,P+1)))));var ae=s(f(C),s(-1,u(T,c(P,P)))),ve=s(f(C),s(-1,u(T,c(P+1,P)))),Q=s(f(C),s(-1,u(T,c(P,P+1)))),j=s(f(C),s(-1,u(T,c(P+1,P+1)))),K=O(q(h(M,ae),ve),q(Q,h(M,j))),oe=A(K,G);k[P]=oe.subset(c(o(0,C),0)),k[P+1]=oe.subset(c(o(C,2*C),0)),P++}else{for(var se=u(R,c(U,P)),le=0;le<P;le++)se=h(se,s(k[le],u(T,c(le,P))));var te=u(T,c(P,P)),ee=d(M,s(te,f(C)));k[P]=A(ee,se)}var Ae=i(r(...k));return s(D,s(Ae,l(B)))}}),gYe=["typed","matrix","sylvester","multiply","transpose"],mYe=ye("lyap",gYe,n=>{var{typed:e,matrix:t,sylvester:r,multiply:i,transpose:s}=n;return e("lyap",{"Matrix, Matrix":function(a,l){return r(a,s(a),i(-1,l))},"Array, Matrix":function(a,l){return r(t(a),s(t(a)),i(-1,l))},"Matrix, Array":function(a,l){return r(a,s(t(a)),t(i(-1,l)))},"Array, Array":function(a,l){return r(t(a),s(t(a)),t(i(-1,l))).toArray()}})}),un=sQe({config:It}),Ls=uQe({}),Zoe=DQe({BigNumber:un,config:It}),vYe=bQe({}),yYe=nze({BigNumber:un,config:It}),L0=kze({}),eae=OQe({Complex:Ls}),_Ye=CQe({BigNumber:un,config:It}),bYe=BQe({BigNumber:un,config:It}),wYe=IQe({BigNumber:un,config:It}),ZI=Qze({}),CYe=xQe({BigNumber:un,config:It}),xYe=wQe({}),EYe=MQe({BigNumber:un,config:It}),SYe=jze({}),tae=$ze({}),DYe=FQe({BigNumber:un,config:It}),MYe=bze({BigNumber:un,config:It}),nae=SQe({BigNumber:un,config:It}),TYe=_Qe({}),BYe=PQe({}),qr=Yze({Matrix:ZI}),NYe=hze({BigNumber:un,config:It}),IYe=TQe({BigNumber:un,config:It}),m8=EQe({BigNumber:un,config:It}),rae=e7e({}),FYe=RQe({BigNumber:un,config:It}),ke=n7e({BigNumber:un,Complex:Ls,DenseMatrix:qr,Fraction:L0}),RYe=uze({BigNumber:un,config:It}),Wc=f7e({typed:ke}),OYe=A7e({Complex:Ls,config:It,typed:ke}),PYe=S7e({BigNumber:un,typed:ke}),LYe=M7e({BigNumber:un,Complex:Ls,config:It,typed:ke}),Ka=B7e({typed:ke}),UYe=I7e({typed:ke}),kYe=R7e({BigNumber:un,Complex:Ls,config:It,typed:ke}),HYe=L7e({typed:ke}),iae=H7e({typed:ke}),VYe=Q7e({Complex:Ls,config:It,typed:ke}),QYe=j7e({typed:ke}),zYe=W7e({typed:ke}),GYe=K7e({typed:ke}),jYe=Y7e({typed:ke}),eF=Z7e({typed:ke}),tF=nGe({Complex:Ls,typed:ke}),U0=iGe({typed:ke}),v8=oGe({typed:ke}),qYe=lGe({BigNumber:un,typed:ke}),WYe=uGe({BigNumber:un,typed:ke}),$Ye=fGe({typed:ke}),oi=pGe({config:It,typed:ke}),KYe=vGe({typed:ke}),sae=CGe({typed:ke}),XYe=EGe({Complex:Ls,typed:ke}),YYe=Ste({typed:ke}),iS=DGe({typed:ke}),JYe=Bte({typed:ke}),Sb=TGe({typed:ke}),y8=NGe({typed:ke}),ZYe=FGe({format:Sb,typed:ke}),_8=OGe({typed:ke}),Du=LGe({typed:ke}),Em=VGe({config:It,typed:ke}),k0=zGe({config:It,typed:ke}),oA=jGe({equalScalar:oi,typed:ke}),eJe=NQe({BigNumber:un,config:It}),tJe=KGe({Complex:Ls,typed:ke}),nJe=YGe({Complex:Ls,config:It,typed:ke}),oae=ZGe({Complex:Ls,config:It,typed:ke}),H0=Nte({typed:ke}),$o=n9e({typed:ke}),nF=i9e({typed:ke}),Dp=c9e({typed:ke}),rJe=h9e({format:Sb,typed:ke}),iJe=A9e({config:It,typed:ke}),sJe=Gte({typed:ke}),oJe=g9e({config:It,typed:ke}),b8=v9e({typed:ke}),aJe=_9e({BigNumber:un,typed:ke}),aae=w9e({BigNumber:un,Fraction:L0,complex:tF,typed:ke}),rF=x9e({typed:ke}),Xa=D9e({Matrix:ZI,equalScalar:oi,typed:ke}),lJe=T9e({typed:ke}),cJe=N9e({typed:ke}),uJe=F9e({typed:ke}),Xh=O9e({typed:ke}),hJe=L9e({typed:ke}),w8=k9e({typed:ke}),fJe=V9e({Complex:Ls,config:It,typed:ke}),dJe=z9e({BigNumber:un,typed:ke}),C8=QH({isInteger:Du,typed:ke}),AJe=j9e({BigNumber:un,Complex:Ls,config:It,typed:ke}),Yh=$9e({BigNumber:un,typed:ke}),pJe=X9e({typed:ke}),gJe=J9e({typed:ke}),mJe=eje({BigNumber:un,typed:ke}),sS=nje({typed:ke}),vJe=ije({typed:ke}),yJe=oje({config:It,typed:ke}),_Je=lje({BigNumber:un,typed:ke}),bJe=uje({typed:ke}),wJe=fje({SparseMatrix:Xa,typed:ke}),ad=pje({Complex:Ls,config:It,typed:ke}),CJe=mje({typed:ke}),xJe=_je({typed:ke}),aA=wje({typed:ke}),EJe=xje({BigNumber:un,Complex:Ls,config:It,typed:ke}),SJe=Sje({format:Sb,typed:ke}),DJe=Mje({BigNumber:un,typed:ke}),oS=Nje({Fraction:L0,typed:ke}),V0=Fje({typed:ke}),sn=Oje({DenseMatrix:qr,Matrix:ZI,SparseMatrix:Xa,typed:ke}),MJe=Lje({isZero:oA,matrix:sn,typed:ke}),TJe=kje({isNaN:sS,isNumeric:V0,typed:ke}),Jh=Qje({bignumber:Yh,fraction:oS,number:Dp}),lae=Gje({config:It,multiplyScalar:$o,numeric:Jh,typed:ke}),cae=qje({isInteger:Du,matrix:sn,typed:ke}),Ul=$je({matrix:sn,config:It,typed:ke}),aS=Xje({matrix:sn,typed:ke}),uae=Jje({BigNumber:un,config:It,matrix:sn,typed:ke}),kl=eqe({BigNumber:un,config:It,matrix:sn,typed:ke}),BJe=nqe({Complex:Ls,config:It,typed:ke}),hae=iqe({BigNumber:un,Complex:Ls,Fraction:L0,config:It,isNegative:Em,matrix:sn,typed:ke,unaryMinus:aA}),Ni=kte({isInteger:Du,matrix:sn,typed:ke}),NJe=oqe({prod:lae,size:Ul,typed:ke}),x8=lqe({conj:U0,transpose:aS,typed:ke}),fae=uqe({DenseMatrix:qr,SparseMatrix:Xa,matrix:sn,typed:ke}),Mo=fqe({numeric:Jh,typed:ke}),lS=gqe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,divideScalar:Mo,equalScalar:oi,matrix:sn,typed:ke}),Zh=vqe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,equalScalar:oi,matrix:sn,typed:ke}),IJe=bqe({isNumeric:V0,typed:ke}),Sm=Cqe({BigNumber:un,DenseMatrix:qr,SparseMatrix:Xa,config:It,matrix:sn,typed:ke}),FJe=Eqe({matrix:sn,multiplyScalar:$o,typed:ke}),iF=Dqe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,config:It,matrix:sn,typed:ke}),RJe=Iqe({DenseMatrix:qr,concat:Ni,equalScalar:oi,matrix:sn,typed:ke,zeros:kl}),dae=Rqe({DenseMatrix:qr,divideScalar:Mo,equalScalar:oi,matrix:sn,multiplyScalar:$o,subtractScalar:Xh,typed:ke}),E8=Pqe({flatten:iS,matrix:sn,size:Ul,typed:ke}),OJe=Uqe({BigNumber:un,concat:Ni,equalScalar:oi,matrix:sn,typed:ke}),PJe=Vqe({BigNumber:un,config:It,matrix:sn,typed:ke}),S8=zqe({addScalar:Ka,complex:tF,conj:U0,divideScalar:Mo,equal:Zh,identity:Sm,isZero:oA,matrix:sn,multiplyScalar:$o,sign:aae,sqrt:ad,subtractScalar:Xh,typed:ke,unaryMinus:aA,zeros:kl}),LJe=qqe({config:It,matrix:sn}),UJe=$qe({DenseMatrix:qr,concat:Ni,equalScalar:oi,matrix:sn,typed:ke,zeros:kl}),Db=Xqe({BigNumber:un,DenseMatrix:qr,config:It,equalScalar:oi,matrix:sn,typed:ke,zeros:kl}),$c=Jqe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,config:It,matrix:sn,typed:ke}),da=tWe({DenseMatrix:qr,concat:Ni,equalScalar:oi,matrix:sn,subtractScalar:Xh,typed:ke,unaryMinus:aA}),kJe=rWe({concat:Ni,matrix:sn,typed:ke}),D8=sWe({config:It,numeric:Jh,typed:ke}),M8=aWe({DenseMatrix:qr,divideScalar:Mo,equalScalar:oi,matrix:sn,multiplyScalar:$o,subtractScalar:Xh,typed:ke}),HJe=cWe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,matrix:sn,typed:ke}),xi=hWe({DenseMatrix:qr,SparseMatrix:Xa,addScalar:Ka,concat:Ni,equalScalar:oi,matrix:sn,typed:ke}),VJe=pWe({BigNumber:un,DenseMatrix:qr,concat:Ni,equalScalar:oi,matrix:sn,typed:ke}),QJe=tne({concat:Ni,equalScalar:oi,matrix:sn,typed:ke}),zJe=hne({DenseMatrix:qr,concat:Ni,equalScalar:oi,matrix:sn,typed:ke}),GJe=mWe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,matrix:sn,typed:ke}),jJe=yWe({addScalar:Ka,combinations:eF,divideScalar:Mo,isInteger:Du,isNegative:Em,multiplyScalar:$o,typed:ke}),Q0=bWe({BigNumber:un,DenseMatrix:qr,Fraction:L0,concat:Ni,config:It,equalScalar:oi,matrix:sn,typed:ke}),Aae=xWe({concat:Ni,matrix:sn,typed:ke}),qJe=fne({add:xi,typed:ke,unaryPlus:D8}),T8=SWe({equal:Zh,typed:ke}),WJe=rne({matrix:sn,number:Dp,subtract:da,typed:ke}),$Je=MWe({abs:Wc,addScalar:Ka,deepEqual:T8,divideScalar:Mo,multiplyScalar:$o,sqrt:ad,subtractScalar:Xh,typed:ke}),sF=BWe({addScalar:Ka,conj:U0,multiplyScalar:$o,size:Ul,typed:ke}),KJe=IWe({compareText:Aae,isZero:oA,typed:ke}),pae=Ise({DenseMatrix:qr,config:It,equalScalar:oi,matrix:sn,round:Db,typed:ke,zeros:kl}),XJe=UWe({BigNumber:un,DenseMatrix:qr,concat:Ni,config:It,equalScalar:oi,matrix:sn,round:Db,typed:ke,zeros:kl}),YJe=HWe({abs:Wc,addScalar:Ka,divideScalar:Mo,isPositive:k0,multiplyScalar:$o,smaller:$c,sqrt:ad,typed:ke}),gae=zWe({DenseMatrix:qr,smaller:$c}),Ac=qWe({ImmutableDenseMatrix:gae,getMatrixDataType:y8}),Kc=$We({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,config:It,matrix:sn,typed:ke}),B8=YWe({Complex:Ls,config:It,divideScalar:Mo,typeOf:w8,typed:ke}),JJe=ZWe({DenseMatrix:qr,divideScalar:Mo,equalScalar:oi,matrix:sn,multiplyScalar:$o,subtractScalar:Xh,typed:ke}),ZJe=t$e({flatten:iS,matrix:sn,size:Ul,typed:ke}),eZe=one({config:It,numeric:Jh,smaller:$c,typed:ke}),mae=Rse({DenseMatrix:qr,concat:Ni,config:It,equalScalar:oi,matrix:sn,round:Db,typed:ke,zeros:kl}),Es=r$e({addScalar:Ka,dot:sF,equalScalar:oi,matrix:sn,multiplyScalar:$o,typed:ke}),tZe=s$e({Complex:Ls,config:It,divideScalar:Mo,typed:ke}),nZe=Ote({DenseMatrix:qr,concat:Ni,equalScalar:oi,matrix:sn,typed:ke}),oF=a$e({compare:Q0,isNaN:sS,isNumeric:V0,typed:ke}),rZe=c$e({DenseMatrix:qr,concat:Ni,equalScalar:oi,matrix:sn,typed:ke,zeros:kl}),vae=F$e({SparseMatrix:Xa,abs:Wc,add:xi,divideScalar:Mo,larger:Kc,largerEq:iF,multiply:Es,subtract:da,transpose:aS,typed:ke}),lh=lne({add:xi,matrix:sn,typed:ke,zeros:kl}),N8=pne({add:xi,config:It,numeric:Jh,typed:ke}),iZe=P$e({add:xi,matrix:sn,typed:ke}),yae=U$e({DenseMatrix:qr,divideScalar:Mo,equalScalar:oi,matrix:sn,multiplyScalar:$o,subtractScalar:Xh,typed:ke}),sZe=H$e({Complex:Ls,add:xi,multiply:Es,number:Dp,typed:ke}),I8=z$e({DenseMatrix:qr,config:It,equalScalar:oi,matrix:sn,round:Db,typed:ke,zeros:kl}),lA=j$e({compare:Q0,typed:ke}),oZe=$$e({addScalar:Ka,combinations:eF,isInteger:Du,isNegative:Em,isPositive:k0,larger:Kc,typed:ke}),aZe=X$e({matrix:sn,multiply:Es,subtract:da,typed:ke}),_ae=J$e({divideScalar:Mo,isZero:oA,matrix:sn,multiply:Es,subtractScalar:Xh,typed:ke,unaryMinus:aA}),lZe=eKe({concat:Ni,equalScalar:oi,matrix:sn,multiplyScalar:$o,typed:ke}),bae=rKe({larger:Kc,smaller:$c}),wae=oKe({Complex:Ls,DenseMatrix:qr,ceil:I8,equalScalar:oi,floor:pae,matrix:sn,typed:ke,zeros:kl}),Cae=lKe({Index:Ac,typed:ke}),cZe=hKe({abs:Wc,add:xi,addScalar:Ka,config:It,divideScalar:Mo,equalScalar:oi,flatten:iS,isNumeric:V0,isZero:oA,matrix:sn,multiply:Es,multiplyScalar:$o,smaller:$c,subtract:da,typed:ke}),uZe=dKe({BigNumber:un,add:xi,config:It,equal:Zh,isInteger:Du,mod:mae,smaller:$c,typed:ke,xgcd:uae}),hZe=pKe({concat:Ni,equalScalar:oi,matrix:sn,typed:ke}),fZe=mKe({Complex:Ls,config:It,divideScalar:Mo,log:B8,typed:ke}),F8=Vte({config:It,larger:Kc,numeric:Jh,typed:ke}),dZe=yKe({DenseMatrix:qr,Index:Ac,compareNatural:lA,size:Ul,subset:lh,typed:ke}),AZe=bKe({DenseMatrix:qr,Index:Ac,compareNatural:lA,size:Ul,subset:lh,typed:ke}),pZe=CKe({Index:Ac,compareNatural:lA,size:Ul,subset:lh,typed:ke}),gZe=EKe({Index:Ac,compareNatural:lA,size:Ul,subset:lh,typed:ke}),Mb=DKe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,config:It,matrix:sn,typed:ke}),mZe=BKe({compare:Q0,compareNatural:lA,matrix:sn,typed:ke}),vZe=IKe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,config:It,equalScalar:oi,matrix:sn,typed:ke}),yZe=Lte({concat:Ni,equalScalar:oi,matrix:sn,not:nF,typed:ke,zeros:kl}),Tb=vne({bignumber:Yh,matrix:sn,add:xi,config:It,isPositive:k0,larger:Kc,largerEq:iF,smaller:$c,smallerEq:Mb,typed:ke}),_Ze=_ne({Index:Ac,matrix:sn,range:Tb,typed:ke}),xae=OKe({DenseMatrix:qr,Index:Ac,compareNatural:lA,size:Ul,subset:lh,typed:ke}),bZe=LKe({Index:Ac,compareNatural:lA,size:Ul,subset:lh,typed:ke}),Eae=kKe({Index:Ac,concat:Ni,setDifference:xae,size:Ul,subset:lh,typed:ke}),Sae=QKe({FibonacciHeap:bae,addScalar:Ka,equalScalar:oi}),Dae=wne({Index:Ac,matrix:sn,range:Tb,typed:ke}),z0=GKe({abs:Wc,addScalar:Ka,det:_ae,divideScalar:Mo,identity:Sm,matrix:sn,multiply:Es,typed:ke,unaryMinus:aA}),Mae=qKe({DenseMatrix:qr,Spa:Sae,SparseMatrix:Xa,abs:Wc,addScalar:Ka,divideScalar:Mo,equalScalar:oi,larger:Kc,matrix:sn,multiplyScalar:$o,subtractScalar:Xh,typed:ke,unaryMinus:aA}),wZe=$Ke({Complex:Ls,add:xi,ctranspose:x8,deepEqual:T8,divideScalar:Mo,dot:sF,dotDivide:lS,equal:Zh,inv:z0,matrix:sn,multiply:Es,typed:ke}),ld=XKe({Complex:Ls,config:It,fraction:oS,identity:Sm,inv:z0,matrix:sn,multiply:Es,number:Dp,typed:ke}),Tae=JKe({DenseMatrix:qr,Index:Ac,compareNatural:lA,size:Ul,subset:lh,typed:ke}),CZe=eXe({Index:Ac,concat:Ni,setIntersect:Tae,setSymDifference:Eae,size:Ul,subset:lh,typed:ke}),xZe=nXe({abs:Wc,add:xi,identity:Sm,inv:z0,map:H0,max:F8,multiply:Es,size:Ul,sqrt:ad,subtract:da,typed:ke}),br=sXe({BigNumber:un,Complex:Ls,Fraction:L0,abs:Wc,addScalar:Ka,config:It,divideScalar:Mo,equal:Zh,fix:wae,format:Sb,isNumeric:V0,multiplyScalar:$o,number:Dp,pow:ld,round:Db,subtractScalar:Xh}),EZe=zQe({BigNumber:un,Unit:br,config:It}),SZe=xze({BigNumber:un,Unit:br,config:It}),DZe=fze({BigNumber:un,Unit:br,config:It}),MZe=qQe({BigNumber:un,Unit:br,config:It}),TZe=Aze({BigNumber:un,Unit:br,config:It}),BZe=WQe({BigNumber:un,Unit:br,config:It}),NZe=GQe({BigNumber:un,Unit:br,config:It}),IZe=sze({BigNumber:un,Unit:br,config:It}),FZe=aXe({DenseMatrix:qr,SparseMatrix:Xa,concat:Ni,equalScalar:oi,matrix:sn,pow:ld,typed:ke}),RZe=QQe({BigNumber:un,Unit:br,config:It}),OZe=jQe({BigNumber:un,Unit:br,config:It}),PZe=cXe({abs:Wc,add:xi,identity:Sm,inv:z0,multiply:Es,typed:ke}),LZe=pze({BigNumber:un,Unit:br,config:It}),Bae=hXe({addScalar:Ka,ceil:I8,conj:U0,divideScalar:Mo,dotDivide:lS,exp:sae,i:eae,log2:oae,matrix:sn,multiplyScalar:$o,pow:ld,tau:nae,typed:ke}),R8=dXe({BigNumber:un,Complex:Ls,config:It,multiplyScalar:$o,pow:ld,typed:ke}),UZe=UQe({BigNumber:un,Unit:br,config:It}),kZe=rze({BigNumber:un,Unit:br,config:It}),HZe=pXe({conj:U0,dotDivide:lS,fft:Bae,typed:ke}),VZe=YQe({BigNumber:un,Unit:br,config:It}),QZe=mze({BigNumber:un,Unit:br,config:It}),zZe=VQe({BigNumber:un,Unit:br,config:It}),GZe=Eze({BigNumber:un,Unit:br,config:It}),jZe=yze({BigNumber:un,Unit:br,config:It}),qZe=oze({BigNumber:un,Unit:br,config:It}),WZe=XQe({BigNumber:un,Unit:br,config:It}),$Ze=Nze({BigNumber:un,Unit:br,config:It}),KZe=Mze({BigNumber:un,Unit:br,config:It}),XZe=Ize({BigNumber:un,Unit:br,config:It}),YZe=ize({BigNumber:un,Unit:br,config:It}),JZe=aze({BigNumber:un,Unit:br,config:It}),ZZe=HQe({BigNumber:un,Unit:br,config:It}),eet=lze({BigNumber:un,Unit:br,config:It}),tet=wze({BigNumber:un,Unit:br,config:It}),net=LQe({BigNumber:un,Unit:br,config:It}),ret=Cze({BigNumber:un,Unit:br,config:It}),iet=cze({BigNumber:un,Unit:br,config:It}),set=dze({BigNumber:un,Unit:br,config:It}),oet=JQe({BigNumber:un,Unit:br,config:It}),aet=mXe({Unit:br,typed:ke}),Hl=_Xe({divideScalar:Mo,equalScalar:oi,inv:z0,matrix:sn,multiply:Es,typed:ke}),cet=eze({BigNumber:un,Unit:br,config:It}),cS=wXe({gamma:R8,typed:ke}),uet=gze({BigNumber:un,Unit:br,config:It}),het=Dze({BigNumber:un,Unit:br,config:It}),fet=$Qe({BigNumber:un,Unit:br,config:It}),Nae=xXe({DenseMatrix:qr,lsolve:dae,lup:Mae,matrix:sn,slu:vae,typed:ke,usolve:M8}),det=KQe({BigNumber:un,Unit:br,config:It}),Aet=Sze({BigNumber:un,Unit:br,config:It}),pet=SXe({add:xi,divide:Hl,factorial:cS,isInteger:Du,isPositive:k0,multiply:Es,typed:ke}),get=MXe({factorial:cS,typed:ke}),met=Tze({BigNumber:un,Unit:br,config:It}),vet=BXe({add:xi,cbrt:hae,divide:Hl,equalScalar:oi,im:_8,isZero:oA,multiply:Es,re:b8,sqrt:ad,subtract:da,typeOf:w8,typed:ke,unaryMinus:aA}),yet=IXe({compareNatural:lA,typed:ke}),_et=PXe({abs:Wc,add:xi,bignumber:Yh,divide:Hl,isNegative:Em,isPositive:k0,larger:Kc,map:H0,matrix:sn,max:F8,multiply:Es,smaller:$c,subtract:da,typed:ke,unaryMinus:aA}),Iae=UXe({bignumber:Yh,addScalar:Ka,combinations:eF,divideScalar:Mo,factorial:cS,isInteger:Du,isNegative:Em,larger:Kc,multiplyScalar:$o,number:Dp,pow:ld,subtractScalar:Xh,typed:ke}),bet=HXe({Unit:br,typed:ke}),wet=QXe({addScalar:Ka,isInteger:Du,isNegative:Em,stirlingS2:Iae,typed:ke}),Fae=WXe({abs:Wc,add:xi,addScalar:Ka,atan:iae,bignumber:Yh,column:Dae,complex:tF,config:It,cos:v8,diag:fae,divideScalar:Mo,dot:sF,equal:Zh,flatten:iS,im:_8,inv:z0,larger:Kc,matrix:sn,matrixFromColumns:E8,multiply:Es,multiplyScalar:$o,number:Dp,qr:S8,re:b8,reshape:cae,sin:rF,size:Ul,smaller:$c,sqrt:ad,subtract:da,typed:ke,usolve:M8,usolveAll:yae}),Cet=tze({BigNumber:un,Unit:br,config:It}),xet=vze({BigNumber:un,Unit:br,config:It}),Eet=KXe({divide:Hl,dotDivide:lS,isNumeric:V0,log:B8,map:H0,matrix:sn,multiply:Es,sum:N8,typed:ke}),Rae=xne({add:xi,divide:Hl,typed:ke}),Det=_ze({BigNumber:un,Unit:br,config:It}),Met=kQe({BigNumber:un,Unit:br,config:It}),Tet=Sne({bignumber:Yh,add:xi,compare:Q0,divide:Hl,isInteger:Du,larger:Kc,multiply:Es,partitionSelect:oF,smaller:$c,smallerEq:Mb,subtract:da,typed:ke}),O8=Mne({add:xi,apply:C8,divide:Hl,isNaN:sS,multiply:Es,subtract:da,typed:ke}),Bet=ZQe({BigNumber:un,Unit:br,config:It}),Oae=YXe({add:xi,compare:Q0,divide:Hl,partitionSelect:oF,typed:ke}),Net=ZXe({add:xi,divide:Hl,matrix:sn,mean:Rae,multiply:Es,pow:ld,sqrt:ad,subtract:da,sum:N8,typed:ke}),Iet=tYe({Complex:Ls,add:xi,divide:Hl,matrix:sn,multiply:Es,typed:ke}),Fet=rYe({abs:Wc,map:H0,median:Oae,subtract:da,typed:ke}),Ret=Nne({map:H0,sqrt:ad,typed:ke,variance:O8}),Oet=sYe({BigNumber:un,Complex:Ls,add:xi,config:It,divide:Hl,equal:Zh,factorial:cS,gamma:R8,isNegative:Em,multiply:Es,pi:m8,pow:ld,sin:rF,smallerEq:Mb,subtract:da,typed:ke}),P8=aYe({abs:Wc,add:xi,conj:U0,ctranspose:x8,eigs:Fae,equalScalar:oi,larger:Kc,matrix:sn,multiply:Es,pow:ld,smaller:$c,sqrt:ad,typed:ke}),Pae=cYe({BigNumber:un,DenseMatrix:qr,SparseMatrix:Xa,addScalar:Ka,config:It,cos:v8,matrix:sn,multiplyScalar:$o,norm:P8,sin:rF,typed:ke,unaryMinus:aA}),Pet=Bze({BigNumber:un,Unit:br,config:It}),Lae=hYe({identity:Sm,matrix:sn,multiply:Es,norm:P8,qr:S8,subtract:da,typed:ke}),Let=dYe({multiply:Es,rotationMatrix:Pae,typed:ke}),Uae=pYe({abs:Wc,add:xi,concat:Ni,identity:Sm,index:Cae,lusolve:Nae,matrix:sn,matrixFromColumns:E8,multiply:Es,range:Tb,schur:Lae,subset:lh,subtract:da,transpose:aS,typed:ke}),Uet=mYe({matrix:sn,multiply:Es,sylvester:Uae,transpose:aS,typed:ke}),Bb={},uS={},kae={},pc=f5e({mathWithTransform:uS}),Nb=O5e({Node:pc}),Mp=G5e({Node:pc}),G0=q5e({Node:pc}),Hae=$5e({Node:pc}),Ib=X5e({Node:pc}),Vae=J5e({Node:pc,ResultSet:tae}),Qae=eLe({Node:pc}),Dm=nLe({Node:pc}),zae=iLe({Node:pc}),ket=aLe({classes:kae}),L8=uLe({math:Bb,typed:ke}),Gae=fLe({Node:pc,typed:ke}),Het=ALe({Chain:L8,typed:ke}),Fb=gLe({Node:pc,size:Ul}),Rb=vLe({Node:pc,subset:lh}),jae=bLe({matrix:sn,Node:pc,subset:lh}),Mm=xLe({Unit:br,Node:pc,math:Bb}),Tm=SLe({Node:pc,SymbolNode:Mm,math:Bb}),cd=MLe({AccessorNode:Rb,ArrayNode:Ib,AssignmentNode:jae,BlockNode:Vae,ConditionalNode:Qae,ConstantNode:Dm,FunctionAssignmentNode:Gae,FunctionNode:Tm,IndexNode:Fb,ObjectNode:Nb,OperatorNode:Mp,ParenthesisNode:G0,RangeNode:zae,RelationalNode:Hae,SymbolNode:Mm,config:It,numeric:Jh,typed:ke}),qae=NLe({ConstantNode:Dm,FunctionNode:Tm,OperatorNode:Mp,ParenthesisNode:G0,parse:cd,typed:ke}),U8=PLe({bignumber:Yh,fraction:oS,AccessorNode:Rb,ArrayNode:Ib,ConstantNode:Dm,FunctionNode:Tm,IndexNode:Fb,ObjectNode:Nb,OperatorNode:Mp,SymbolNode:Mm,config:It,mathWithTransform:uS,matrix:sn,typed:ke}),Vet=ULe({parse:cd,typed:ke}),k8=HLe({AccessorNode:Rb,ArrayNode:Ib,ConstantNode:Dm,FunctionNode:Tm,IndexNode:Fb,ObjectNode:Nb,OperatorNode:Mp,ParenthesisNode:G0,SymbolNode:Mm,add:xi,divide:Hl,equal:Zh,isZero:oA,multiply:Es,parse:cd,pow:ld,subtract:da,typed:ke}),aF=QLe({parse:cd,typed:ke}),Wae=jLe({evaluate:aF}),$ae=$Le({evaluate:aF,parse:cd}),lF=YLe({AccessorNode:Rb,ArrayNode:Ib,ConstantNode:Dm,FunctionNode:Tm,IndexNode:Fb,ObjectNode:Nb,OperatorNode:Mp,ParenthesisNode:G0,SymbolNode:Mm,equal:Zh,parse:cd,replacer:rae,resolve:qae,simplifyConstant:U8,simplifyCore:k8,typed:ke}),Qet=ZLe({OperatorNode:Mp,parse:cd,simplify:lF,typed:ke}),zet=t3e({parse:cd,typed:ke}),Get=r3e({Parser:$ae,typed:ke}),jet=s3e({bignumber:Yh,fraction:oS,AccessorNode:Rb,ArrayNode:Ib,ConstantNode:Dm,FunctionNode:Tm,IndexNode:Fb,ObjectNode:Nb,OperatorNode:Mp,ParenthesisNode:G0,SymbolNode:Mm,add:xi,config:It,divide:Hl,equal:Zh,isZero:oA,mathWithTransform:uS,matrix:sn,multiply:Es,parse:cd,pow:ld,simplify:lF,simplifyConstant:U8,simplifyCore:k8,subtract:da,typed:ke}),qet=a3e({ConstantNode:Dm,FunctionNode:Tm,OperatorNode:Mp,ParenthesisNode:G0,SymbolNode:Mm,config:It,equal:Zh,isZero:oA,numeric:Jh,parse:cd,simplify:lF,typed:ke}),Wet=PHe({Help:Wae,mathWithTransform:uS,typed:ke});ja(Bb,{e:Zoe,false:vYe,fineStructure:yYe,i:eae,Infinity:_Ye,LN10:bYe,LOG10E:wYe,NaN:CYe,null:xYe,phi:EYe,SQRT1_2:DYe,sackurTetrode:MYe,tau:nae,true:TYe,E:Zoe,version:BYe,efimovFactor:NYe,LN2:IYe,pi:m8,replacer:rae,reviver:ket,SQRT2:FYe,typed:ke,PI:m8,weakMixingAngle:RYe,abs:Wc,acos:OYe,acot:PYe,acsc:LYe,addScalar:Ka,arg:UYe,asech:kYe,asinh:HYe,atan:iae,atanh:VYe,bigint:QYe,bitNot:zYe,boolean:GYe,clone:jYe,combinations:eF,complex:tF,conj:U0,cos:v8,cot:qYe,csc:WYe,cube:$Ye,equalScalar:oi,erf:KYe,exp:sae,expm1:XYe,filter:YYe,flatten:iS,forEach:JYe,format:Sb,getMatrixDataType:y8,hex:ZYe,im:_8,isInteger:Du,isNegative:Em,isPositive:k0,isZero:oA,LOG2E:eJe,lgamma:tJe,log10:nJe,log2:oae,map:H0,multiplyScalar:$o,not:nF,number:Dp,oct:rJe,pickRandom:iJe,print:sJe,random:oJe,re:b8,sec:aJe,sign:aae,sin:rF,splitUnit:lJe,square:cJe,string:uJe,subtractScalar:Xh,tan:hJe,typeOf:w8,acosh:fJe,acsch:dJe,apply:C8,asec:AJe,bignumber:Yh,chain:Het,combinationsWithRep:pJe,cosh:gJe,csch:mJe,isNaN:sS,isPrime:vJe,randomInt:yJe,sech:_Je,sinh:bJe,sparse:wJe,sqrt:ad,squeeze:CJe,tanh:xJe,unaryMinus:aA,acoth:EJe,bin:SJe,coth:DJe,fraction:oS,isNumeric:V0,matrix:sn,matrixFromFunction:MJe,mode:TJe,numeric:Jh,prod:lae,reshape:cae,size:Ul,transpose:aS,xgcd:uae,zeros:kl,asin:BJe,cbrt:hae,concat:Ni,count:NJe,ctranspose:x8,diag:fae,divideScalar:Mo,dotDivide:lS,equal:Zh,hasNumericValue:IJe,identity:Sm,kron:FJe,largerEq:iF,leftShift:RJe,lsolve:dae,matrixFromColumns:E8,nthRoot:OJe,ones:PJe,qr:S8,resize:LJe,rightArithShift:UJe,round:Db,smaller:$c,subtract:da,to:kJe,unaryPlus:D8,usolve:M8,xor:HJe,add:xi,atan2:VJe,bitAnd:QJe,bitOr:zJe,bitXor:GJe,catalan:jJe,compare:Q0,compareText:Aae,cumsum:qJe,deepEqual:T8,diff:WJe,distance:$Je,dot:sF,equalText:KJe,floor:pae,gcd:XJe,hypot:YJe,larger:Kc,log:B8,lsolveAll:JJe,matrixFromRows:ZJe,min:eZe,mod:mae,multiply:Es,nthRoots:tZe,or:nZe,partitionSelect:oF,rightLogShift:rZe,slu:vae,subset:lh,sum:N8,trace:iZe,usolveAll:yae,zpk2tf:sZe,ceil:I8,compareNatural:lA,composition:oZe,cross:aZe,det:_ae,dotMultiply:lZe,fix:wae,index:Cae,intersect:cZe,invmod:uZe,lcm:hZe,log1p:fZe,max:F8,setCartesian:dZe,setDistinct:AZe,setIsSubset:pZe,setPowerset:gZe,smallerEq:Mb,sort:mZe,unequal:vZe,and:yZe,range:Tb,row:_Ze,setDifference:xae,setMultiplicity:bZe,setSymDifference:Eae,column:Dae,inv:z0,lup:Mae,pinv:wZe,pow:ld,setIntersect:Tae,setUnion:CZe,sqrtm:xZe,vacuumImpedance:EZe,wienDisplacement:SZe,atomicMass:DZe,bohrMagneton:MZe,boltzmann:TZe,conductanceQuantum:BZe,coulomb:NZe,deuteronMass:IZe,dotPow:FZe,electricConstant:RZe,elementaryCharge:OZe,expm:PZe,faraday:LZe,fft:Bae,gamma:R8,gravitationConstant:UZe,hartreeEnergy:kZe,ifft:HZe,klitzing:VZe,loschmidt:QZe,magneticConstant:zZe,molarMass:GZe,molarPlanckConstant:jZe,neutronMass:qZe,nuclearMagneton:WZe,planckCharge:$Ze,planckLength:KZe,planckTemperature:XZe,protonMass:YZe,quantumOfCirculation:JZe,reducedPlanckConstant:ZZe,rydberg:eet,secondRadiation:tet,speedOfLight:net,stefanBoltzmann:ret,thomsonCrossSection:iet,avogadro:set,bohrRadius:oet,createUnit:aet,divide:Hl,electronMass:cet,factorial:cS,firstRadiation:uet,gravity:het,inverseConductanceQuantum:fet,lusolve:Nae,magneticFluxQuantum:det,molarMassC12:Aet,multinomial:pet,parse:cd,permutations:get,planckMass:met,polynomialRoot:vet,resolve:qae,setSize:yet,simplifyConstant:U8,solveODE:_et,stirlingS2:Iae,unit:bet,bellNumbers:wet,compile:Vet,eigs:Fae,fermiCoupling:Cet,gasConstant:xet,kldivergence:Eet,mean:Rae,molarVolume:Det,planckConstant:Met,quantileSeq:Tet,simplifyCore:k8,variance:O8,classicalElectronRadius:Bet,evaluate:aF,median:Oae,simplify:lF,symbolicEqual:Qet,corr:Net,freqz:Iet,leafCount:zet,mad:Fet,parser:Get,rationalize:jet,std:Ret,zeta:Oet,derivative:qet,norm:P8,rotationMatrix:Pae,help:Wet,planckTime:Pet,schur:Lae,rotate:Let,sylvester:Uae,lyap:Uet,config:It}),ja(uS,Bb,{filter:jHe({typed:ke}),forEach:XHe({typed:ke}),map:e8e({typed:ke}),apply:s8e({isInteger:Du,typed:ke}),or:x8e({DenseMatrix:qr,concat:Ni,equalScalar:oi,matrix:sn,typed:ke}),and:R8e({add:xi,concat:Ni,equalScalar:oi,matrix:sn,not:nF,typed:ke,zeros:kl}),concat:U8e({isInteger:Du,matrix:sn,typed:ke}),max:G8e({config:It,larger:Kc,numeric:Jh,typed:ke}),print:W8e({add:xi,matrix:sn,typed:ke,zeros:kl}),bitAnd:r6e({add:xi,concat:Ni,equalScalar:oi,matrix:sn,not:nF,typed:ke,zeros:kl}),diff:o6e({bignumber:Yh,matrix:sn,number:Dp,subtract:da,typed:ke}),min:u6e({config:It,numeric:Jh,smaller:$c,typed:ke}),subset:m6e({add:xi,matrix:sn,typed:ke,zeros:kl}),bitOr:D6e({DenseMatrix:qr,concat:Ni,equalScalar:oi,matrix:sn,typed:ke}),cumsum:B6e({add:xi,typed:ke,unaryPlus:D8}),index:F6e({Index:Ac,getMatrixDataType:y8}),sum:P6e({add:xi,config:It,numeric:Jh,typed:ke}),range:H6e({bignumber:Yh,matrix:sn,add:xi,config:It,isPositive:k0,larger:Kc,largerEq:iF,smaller:$c,smallerEq:Mb,typed:ke}),row:G6e({Index:Ac,matrix:sn,range:Tb,typed:ke}),column:$6e({Index:Ac,matrix:sn,range:Tb,typed:ke}),mean:J6e({add:xi,divide:Hl,typed:ke}),quantileSeq:nVe({add:xi,bignumber:Yh,compare:Q0,divide:Hl,isInteger:Du,larger:Kc,multiply:Es,partitionSelect:oF,smaller:$c,smallerEq:Mb,subtract:da,typed:ke}),variance:sVe({add:xi,apply:C8,divide:Hl,isNaN:sS,multiply:Es,subtract:da,typed:ke}),std:cVe({map:H0,sqrt:ad,typed:ke,variance:O8})}),ja(kae,{BigNumber:un,Complex:Ls,Fraction:L0,Matrix:ZI,Node:pc,ObjectNode:Nb,OperatorNode:Mp,ParenthesisNode:G0,Range:SYe,RelationalNode:Hae,ResultSet:tae,ArrayNode:Ib,BlockNode:Vae,ConditionalNode:Qae,ConstantNode:Dm,DenseMatrix:qr,RangeNode:zae,Chain:L8,FunctionAssignmentNode:Gae,SparseMatrix:Xa,IndexNode:Fb,ImmutableDenseMatrix:gae,Index:Ac,AccessorNode:Rb,AssignmentNode:jae,FibonacciHeap:bae,Spa:Sae,Unit:br,SymbolNode:Mm,FunctionNode:Tm,Help:Wae,Parser:$ae}),L8.createProxy(Bb);const $et=(n,e)=>({"bg-green-100":n,"bg-red-100":e});function Ket(n,e){if(1&n&&(fe(0,"div",18)(1,"strong"),Me(2,"Result:"),ce(),Me(3),ce()),2&n){const t=rn();qe("ngClass",lx(2,$et,!t.error,t.error)),Te(3),Hi(" ",t.result," ")}}function Xet(n,e){if(1&n&&(fe(0,"span",21),Me(1),ce()),2&n){const t=rn().$implicit;Te(),Hi(" (with ",t.variables,") ")}}function Yet(n,e){if(1&n){const t=bs();fe(0,"button",19),jt("click",function(){const i=Ln(t).$implicit;return Qn(rn().tryExample(i))}),Me(1),cn(2,Xet,2,1,"span",20),ce()}if(2&n){const t=e.$implicit;Te(),Hi(" ",t.expression," "),Te(),qe("ngIf",t.variables)}}let Jet=(()=>{class n{constructor(){this.expression="(x + y)",this.variables='{"x": 3, "y": 4}',this.result=null,this.error=!1,this.examples=[{expression:"2 * sin(45 deg) + sqrt(16)",variables:""},{expression:"x^2 + y^2",variables:'{"x": 3, "y": 4}'},{expression:'derivative("x^2 + 2x", "x")',variables:""},{expression:"log(10) + ln(e)",variables:""},{expression:"round(2.7) + ceil(3.2)",variables:""}]}evaluate(){try{let t={};if(this.variables)try{t=JSON.parse(this.variables)}catch{throw new Error("Invalid variables format. Use valid JSON.")}const r=aF(this.expression,t);this.result="number"==typeof r?Sb(r,{precision:14}):r.toString(),this.error=!1}catch(t){this.result=`Error: ${t.message}`,this.error=!0}}clear(){this.expression="",this.variables="",this.result=null,this.error=!1}tryExample(t){this.expression=t.expression,this.variables=t.variables,this.evaluate()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-math-parsing"]],decls:29,vars:4,consts:[["align","center"],[1,"container","mx-auto","p-6"],[1,"max-w-2xl","mx-auto","bg-white","p-6","rounded-lg","shadow"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","mb-2"],["placeholder","e.g., 2 * sin(45 deg)",1,"w-full","p-2","border","rounded",3,"ngModelChange","keyup.enter","ngModel"],["placeholder",'e.g., {"x": 10, "y": 5}',"value",'{"x": 10, "y": 5}',1,"w-full","p-2","border","rounded",3,"ngModelChange","keyup.enter","ngModel"],[1,"flex","gap-2","mb-4",2,"color","blueviolet"],[1,"px-4","py-2","bg-blue-500","text-white","rounded","hover:bg-blue-600",2,"background-color","#cccccc",3,"click"],[1,"px-4","py-2","bg-gray-500","text-white","rounded","hover:bg-gray-600",2,"background-color","#cccccc",3,"click"],["class","p-4 rounded",3,"ngClass",4,"ngIf"],[1,"mt-6"],[1,"font-bold","mb-2"],[1,"grid","gap-2"],["class","text-left p-2 hover:bg-gray-100 rounded",3,"click",4,"ngFor","ngForOf"],["align","right"],["routerLink","/StableReleases"],[1,"p-4","rounded",3,"ngClass"],[1,"text-left","p-2","hover:bg-gray-100","rounded",3,"click"],["class","text-sm text-gray-500",4,"ngIf"],[1,"text-sm","text-gray-500"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),Me(4,"Math Expression Parser"),ce(),lt(5,"hr"),fe(6,"div",4)(7,"label",5),Me(8,"Enter Expression:"),ce(),fe(9,"input",6),Lf("ngModelChange",function(o){return kd(i.expression,o)||(i.expression=o),o}),jt("keyup.enter",function(){return i.evaluate()}),ce()(),fe(10,"div",4)(11,"label",5),Me(12,"Variables (JSON format):"),ce(),fe(13,"input",7),Lf("ngModelChange",function(o){return kd(i.variables,o)||(i.variables=o),o}),jt("keyup.enter",function(){return i.evaluate()}),ce()(),fe(14,"div",8)(15,"button",9),jt("click",function(){return i.evaluate()}),Me(16," Calculate "),ce(),fe(17,"button",10),jt("click",function(){return i.clear()}),Me(18," Clear "),ce()(),cn(19,Ket,4,5,"div",11),fe(20,"div",12)(21,"h3",13),Me(22,"Example Expressions:"),ce(),fe(23,"div",14),cn(24,Yet,3,2,"button",15),ce()()()(),lt(25,"hr"),fe(26,"div",16)(27,"a",17),Me(28,"[Volver al Menu]"),ce()()()),2&r&&(Te(9),Pf("ngModel",i.expression),Te(4),Pf("ngModel",i.variables),Te(6),qe("ngIf",null!==i.result),Te(5),qe("ngForOf",i.examples))},dependencies:[xs,AL,Bl,ec,Qd,kg,Gv]})}}return n})();class cA{constructor(e,t,r){this._index=e,this._value=t,this._selected=r}}let Ob=(()=>{class n{get _baseUrlNetCore(){return this.__baseUrlNetCore}set _baseUrlNetCore(t){this.__baseUrlNetCore=t}get _baseUrlNodeJs(){return this.__baseUrlNodeJs}set _baseUrlNodeJs(t){this.__baseUrlNodeJs=t}get _baseUrlSpringBoot(){return this.__baseUrlSpringBoot}set _baseUrlSpringBoot(t){this.__baseUrlSpringBoot=t}get _baseUrlDjango(){return this.__baseUrlDjango}set _baseUrlDjango(t){this.__baseUrlDjango=t}ngOnInit(){console.log("Calling MCSDService initialization..."),this._baseUrlNetCore=this._configService.getConfigValue("baseUrlNetCore"),this._baseUrlNodeJs=this._configService.getConfigValue("baseUrlNodeJs"),this._baseUrlSpringBoot=this._configService.getConfigValue("baseUrlSpringBoot"),this._baseUrlDjango=this._configService.getConfigValue("baseUrlDjango")}constructor(t,r){this.http=t,this._configService=r,this.HTTPOptions_Text={headers:new Nl({Accept:"application/text"}),responseType:"text"},this.HTTPOptions_JSON={headers:new Nl({"Content-Type":"application/json"}),responseType:"text"},this.__baseUrlNetCore="",this.__baseUrlNodeJs="",this.__baseUrlSpringBoot="",this.__baseUrlDjango="",console.log("Calling MCSDService constructor..."),this._baseUrlNetCore=this._configService.getConfigValue("baseUrlNetCore"),this._baseUrlNodeJs=this._configService.getConfigValue("baseUrlNodeJs"),this._baseUrlSpringBoot=this._configService.getConfigValue("baseUrlSpringBoot"),this._baseUrlDjango=this._configService.getConfigValue("baseUrlDjango")}_GetWebApiAppVersion(){return this.http.get(`${this._baseUrlNetCore}demos/_GetAppVersion`,this.HTTPOptions_Text)}getCSVLinkGET(){return this.http.get(this._baseUrlNetCore+"demos/_GetCSVLinkJsonGET")}getCSVLink(){return this.http.post(this._baseUrlNetCore+"demos/_GetCSVLinkJson",this.HTTPOptions_Text)}getInformeRemotoCSV(){return this.http.get(this._baseUrlNetCore+"demos/GenerarInformeCSVJson",this.HTTPOptions_Text)}getInformeRemotoCSV_STAT(){return this.http.get(this._baseUrlNetCore+"demos/GenerarInformeCSVJsonSTAT",this.HTTPOptions_Text)}_SetSTATPieCache(t){let r=`${t}demos/_SetSTATPieCache`;console.log("Setting STAT Pie data to cache :  "+r),this.http.get(r,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetSTATPieCache - (return): "+o)},error:o=>{console.error("_SetSTATPieCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetSTATPieCache -  (COMPLETE)")}})}getInformeRemotoCSV_NodeJS(){let t=`${this._baseUrlNodeJs}GenerarInformeCSVJson`;console.warn(" REQUESTING URL : "+t);var r={headers:new Nl({Accept:"application/text"}),responseType:"text"};return this.http.get(t,r)}getLogRemoto(t){return this.http.get(`${this._baseUrlNetCore}demos/generarinformejson`)}getLogRemotoNodeJS(t){let r=`${this._baseUrlNetCore}demos/generarinformejson`,i=this.http.get(r,this.HTTPOptions_JSON);return console.log("getLogRemotoNodeJS : "+r),i}getInformeExcel(t){return this.http.get(this._baseUrlNetCore+"demos/generarinformexls",this.HTTPOptions_Text)}getLogStatPOST(){return this.http.post(`${this._baseUrlNetCore}demos/GetConsultaLogStatPost`,this.HTTPOptions_JSON)}getLogStatGET(){return this.http.get(`${this._baseUrlNetCore}demos/GetConsultaLogStatGet`)}_SetSTATBarCache(t){let r=`${t}demos/_SetSTATBarCache`;console.log("Setting STAT Bar data to cache :  "+r),this.http.get(r,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetSTATBarCache - (return): "+o)},error:o=>{console.error("_SetSTATBarCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetSTATBarCache -  (COMPLETE)")}})}upload(t){const r=new FormData;r.append("file",t);let i=`${this._baseUrlNetCore}demos/_ZipDemoGetFileName`;console.log("[GENERATE ZIP FILE] - (UPLOADING FILE) url: "+i);const s=new qA("POST",i,r,{reportProgress:!0,responseType:"text"});return this.http.request(s)}SetZip(t){let r=`${this._baseUrlNetCore}demos/_SetZip?p_fileName=${t}`;return console.log("[GENERATE ZIP FILE] - [GETTING ZIP] - fileName: "+t),console.log("[GENERATE ZIP FILE] - [GETTING ZIP] - url     : "+r),this.http.get(r,this.HTTPOptions_JSON)}GetPDF(t){let r=`${this._baseUrlNetCore}demos/_GetPdf?subjectName=${t}`;console.log("[GENERATE PDF FILE] - [GETTING ZIP] - subjectName  : "+t),console.log("[GENERATE PDF FILE] - [GETTING ZIP] - url          : "+r);const i=new qA("GET",r,{reportProgress:!0,responseType:"text"});return this.http.request(i)}getRandomVertex(t,r){return this.http.get(`${this._baseUrlNetCore}demos/GenerateRandomVertex?p_vertexSize=${t}&p_sourcePoint=${r}`,this.HTTPOptions_Text)}getRandomVertexCpp(t,r){return this.http.get(`${this._baseUrlNetCore}demos/GenerateRandomVertex_CPP?p_vertexSize=${t}&p_sourcePoint=${r}`,this.HTTPOptions_Text)}getNewSort(){return this.http.get(`${this._baseUrlNetCore}demos/_NewSort`,this.HTTPOptions_Text)}getSort(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_GetSort?p_sortAlgoritm=${t}&p_unsortedList=${r}`,this.HTTPOptions_Text)}getSort_CPP(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_GetSort_CPP?p_sortAlgoritm=${t}&p_unsortedList=${r}`,this.HTTPOptions_Text)}_GetXmlData(){return this.http.get(`${this._baseUrlNetCore}demos/_GetXmlData`,this.HTTPOptions_Text)}_SetXmlDataToCache(t){let r=`${t}demos/_SetXmlDataToCache`;console.log("Setting XML data to cache :  "+r),this.http.get(r,this.HTTPOptions_Text).subscribe({next:o=>{console.log("_SetXmlDataToCache - (return): "+o)},error:o=>{console.error("_SetXmlDataToCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{console.log("_SetXmlDataToCache -  (COMPLETE)")}})}_RegExEval(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_RegExEval?p_tagSearch=${t}&p_textSearch=${r}`,this.HTTPOptions_Text)}_RegExEval_CPP(t,r){return this.http.get(`${this._baseUrlNetCore}demos/_RegExEval_CPP?p_tagSearch=${t}&p_textSearch=${r}`,this.HTTPOptions_Text)}SetLog(t,r,i=oU.Info){let s,o=`${this._baseUrlNetCore}demos/_SetLog?p_logMsg=${r}&logType=${i.toString()}`;s=this.http.get(o,this.HTTPOptions_Text),s.subscribe({next:l=>{console.warn(t+" - [LOG] - [RESULT] : "+l)},error:l=>{console.error(t+" - [LOG] - [ERROR]  : "+l)},complete:()=>{console.info(t+" - [LOG] - [COMPLETE]")}})}_GetSudoku_NodeJS(){return this.http.get(`${this._baseUrlNodeJs}Sudoku_Generate_NodeJS`,this.HTTPOptions_JSON)}_GetSudoku(){return this.http.get(`${this._baseUrlNetCore}Demos/Sudoku_Generate_CPP`,this.HTTPOptions_Text)}_SolveSudoku(t){return this.http.get(`${this._baseUrlNetCore}Demos/Sudoku_Solve_CPP?p_matrix=${t}`,this.HTTPOptions_Text)}_SolveSudoku_NodeJS(t){return this.http.get(`${this.__baseUrlNodeJs}Sudoku_Solve_NodeJS?p_matrix=${t}`,this.HTTPOptions_Text)}uploadSudoku(t){const r=new FormData;r.append("file",t);let i=`${this._baseUrlNetCore}demos/Sudoku_Upload_File`;console.log("[SUDOKU] - (UPLOADING FILE) url: "+i);const s=new qA("POST",i,r,{reportProgress:!0,responseType:"text"});return this.http.request(s)}uploadBase64Image(t){let r=this._configService.getConfigValue("baseUrlNodeJsOcr");return this.http.post(r,{base64Image:t})}_TestNodeJs(){let t=this._configService.getConfigValue("baseUrlNodeJs")+"databaseconnect",r=this.http.get(t,this.HTTPOptions_JSON);return console.log("Testing Url : ["+t+"]"),r}_TestSprinbBoot(){let t=this._configService.getConfigValue("baseUrlSpringBoot")+"hello",r=this.http.get(t,this.HTTPOptions_Text);return console.log("Testing Url : ["+t+"]"),r}_TestDjango(){let t=this._configService.getConfigValue("baseUrlDjango"),r=this.http.get(t,this.HTTPOptions_Text);return console.log("Testing Url : ["+t+"]"),r}static{this.\u0275fac=function(r){return new(r||n)(Wt(kv),Wt(zg))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class cF{constructor(e,t,r){this.x=e,this.y=t,this.time=r||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class H8{constructor(e,t,r,i,s,o){this.startPoint=e,this.control2=t,this.control1=r,this.endPoint=i,this.startWidth=s,this.endWidth=o}static fromPoints(e,t){const r=this.calculateControlPoints(e[0],e[1],e[2]).c2,i=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new H8(e[1],r,i,e[2],t.start,t.end)}static calculateControlPoints(e,t,r){const i=e.x-t.x,s=e.y-t.y,o=t.x-r.x,a=t.y-r.y,l_x=(e.x+t.x)/2,l_y=(e.y+t.y)/2,c_x=(t.x+r.x)/2,c_y=(t.y+r.y)/2,u=Math.sqrt(i*i+s*s),h=Math.sqrt(o*o+a*a),A=h/(u+h),m=t.x-(c_x+(l_x-c_x)*A),g=t.y-(c_y+(l_y-c_y)*A);return{c1:new cF(l_x+m,l_y+g),c2:new cF(c_x+m,c_y+g)}}length(){let r,i,t=0;for(let s=0;s<=10;s+=1){const o=s/10,a=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){const c=a-r,u=l-i;t+=Math.sqrt(c*c+u*u)}r=a,i=l}return t}point(e,t,r,i,s){return t*(1-e)*(1-e)*(1-e)+3*r*(1-e)*(1-e)*e+3*i*(1-e)*e*e+s*e*e*e}}class uF{constructor(e,t={}){this.canvas=e,this.options=t,this._handleMouseDown=r=>{1===r.which&&(this._mouseButtonDown=!0,this._strokeBegin(r))},this._handleMouseMove=r=>{this._mouseButtonDown&&this._strokeMoveUpdate(r)},this._handleMouseUp=r=>{1===r.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(r))},this._handleTouchStart=r=>{r.preventDefault(),1===r.targetTouches.length&&this._strokeBegin(r.changedTouches[0])},this._handleTouchMove=r=>{r.preventDefault(),this._strokeMoveUpdate(r.targetTouches[0])},this._handleTouchEnd=r=>{r.target===this.canvas&&(r.preventDefault(),this._strokeEnd(r.changedTouches[0]))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this._strokeMoveUpdate=this.throttle?function ett(n,e=250){let i,s,o,t=0,r=null;const a=()=>{t=Date.now(),r=null,i=n.apply(s,o),r||(s=null,o=[])};return function(...l){const c=Date.now(),u=e-(c-t);return s=this,o=l,u<=0||u>e?(r&&(clearTimeout(r),r=null),t=c,i=n.apply(s,o),r||(s=null,o=[])):r||(r=window.setTimeout(a,u)),i}}(uF.prototype._strokeUpdate,this.throttle):uF.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._ctx=e.getContext("2d"),this.clear(),this.on()}clear(){const e=this._ctx,t=this.canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(e,t={},r){const i=new Image,s=t.ratio||window.devicePixelRatio||1,o=t.width||this.canvas.width/s,a=t.height||this.canvas.height/s;this._reset(),i.onload=()=>{this._ctx.drawImage(i,0,0,o,a),r&&r()},i.onerror=l=>{r&&r(l)},i.src=e,this._isEmpty=!1}toDataURL(e="image/png",t){return"image/svg+xml"===e?this._toSVG():this.canvas.toDataURL(e,t)}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e){this.clear(),this._fromData(e,({color:t,curve:r})=>this._drawCurve({color:t,curve:r}),({color:t,point:r})=>this._drawDot({color:t,point:r})),this._data=e}toData(){return this._data}_strokeBegin(e){this._data.push({color:this.penColor,points:[]}),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)}_strokeUpdate(e){const i=this._createPoint(e.clientX,e.clientY),s=this._data[this._data.length-1],o=s.points,a=o.length>0&&o[o.length-1],l=!!a&&i.distanceTo(a)<=this.minDistance,c=s.color;if(!a||!a||!l){const u=this._addPoint(i);a?u&&this._drawCurve({color:c,curve:u}):this._drawDot({color:c,point:i}),o.push({time:i.time,x:i.x,y:i.y})}}_strokeEnd(e){this._strokeUpdate(e),"function"==typeof this.onEnd&&this.onEnd(e)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(e,t){const r=this.canvas.getBoundingClientRect();return new cF(e-r.left,t-r.top,(new Date).getTime())}_addPoint(e){const{_lastPoints:t}=this;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);const r=this._calculateCurveWidths(t[1],t[2]),i=H8.fromPoints(t,r);return t.shift(),i}return null}_calculateCurveWidths(e,t){const r=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(r),s={end:i,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=i,s}_strokeWidth(e){return Math.max(this.maxWidth/(e+1),this.minWidth)}_drawCurveSegment(e,t,r){const i=this._ctx;i.moveTo(e,t),i.arc(e,t,r,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:e,curve:t}){const r=this._ctx,i=t.endWidth-t.startWidth,s=2*Math.floor(t.length());r.beginPath(),r.fillStyle=e;for(let o=0;o<s;o+=1){const a=o/s,l=a*a,c=l*a,u=1-a,h=u*u,d=h*u;let f=d*t.startPoint.x;f+=3*h*a*t.control1.x,f+=3*u*l*t.control2.x,f+=c*t.endPoint.x;let A=d*t.startPoint.y;A+=3*h*a*t.control1.y,A+=3*u*l*t.control2.y,A+=c*t.endPoint.y,this._drawCurveSegment(f,A,t.startWidth+c*i)}r.closePath(),r.fill()}_drawDot({color:e,point:t}){const r=this._ctx,i="function"==typeof this.dotSize?this.dotSize():this.dotSize;r.beginPath(),this._drawCurveSegment(t.x,t.y,i),r.closePath(),r.fillStyle=e,r.fill()}_fromData(e,t,r){for(const i of e){const{color:s,points:o}=i;if(o.length>1)for(let a=0;a<o.length;a+=1){const l=o[a],c=new cF(l.x,l.y,l.time);this.penColor=s,0===a&&this._reset();const u=this._addPoint(c);u&&t({color:s,curve:u})}else this._reset(),r({color:s,point:o[0]})}}_toSVG(){const e=this._data,t=Math.max(window.devicePixelRatio||1,1),s=this.canvas.width/t,o=this.canvas.height/t,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width",this.canvas.width.toString()),a.setAttribute("height",this.canvas.height.toString()),this._fromData(e,({color:f,curve:A})=>{const p=document.createElement("path");if(!(isNaN(A.control1.x)||isNaN(A.control1.y)||isNaN(A.control2.x)||isNaN(A.control2.y))){const m=`M ${A.startPoint.x.toFixed(3)},${A.startPoint.y.toFixed(3)} C ${A.control1.x.toFixed(3)},${A.control1.y.toFixed(3)} ${A.control2.x.toFixed(3)},${A.control2.y.toFixed(3)} ${A.endPoint.x.toFixed(3)},${A.endPoint.y.toFixed(3)}`;p.setAttribute("d",m),p.setAttribute("stroke-width",(2.25*A.endWidth).toFixed(3)),p.setAttribute("stroke",f),p.setAttribute("fill","none"),p.setAttribute("stroke-linecap","round"),a.appendChild(p)}},({color:f,point:A})=>{const p=document.createElement("circle"),m="function"==typeof this.dotSize?this.dotSize():this.dotSize;p.setAttribute("r",m.toString()),p.setAttribute("cx",A.x.toString()),p.setAttribute("cy",A.y.toString()),p.setAttribute("fill",f),a.appendChild(p)});const c=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ${s} ${o}" width="${s}" height="${o}">`;let u=a.innerHTML;if(void 0===u){const f=document.createElement("dummy"),A=a.childNodes;f.innerHTML="";for(let p=0;p<A.length;p+=1)f.appendChild(A[p].cloneNode(!0));u=f.innerHTML}return"data:image/svg+xml;base64,"+btoa(c+u+"</svg>")}}const Kae=uF;class V8{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class ttt extends V8{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class Xae extends V8{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class ntt extends V8{constructor(e){super(),this.element=e instanceof N?e.nativeElement:e}}class rtt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof ttt?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Xae?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof ntt?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class itt extends rtt{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||xo.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let stt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})();function Yae(n){return Array.isArray(n)?n:[n]}function Ma(n){return null==n?"":"string"==typeof n?n:`${n}px`}const ltt=["addListener","removeListener"],ctt=["addEventListener","removeEventListener"],utt=["on","off"];function pl(n,e,t,r){if(dn(t)&&(r=t,t=void 0),r)return pl(n,e,t).pipe(QL(r));const[i,s]=function dtt(n){return dn(n.addEventListener)&&dn(n.removeEventListener)}(n)?ctt.map(o=>a=>n[o](e,a,t)):function htt(n){return dn(n.addListener)&&dn(n.removeListener)}(n)?ltt.map(Jae(n,e)):function ftt(n){return dn(n.on)&&dn(n.off)}(n)?utt.map(Jae(n,e)):[];if(!i&&ML(n))return al(o=>pl(o,e,t))(ol(n));if(!i)throw new TypeError("Invalid event target");return new di(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function Jae(n,e){return t=>r=>n[t](e,r)}const hS={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=hS;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new mi(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=hS;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=hS;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class ptt extends nH{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Att extends eH{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=hS.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(hS.cancelAnimationFrame(t),e._scheduled=void 0)}});let Q8,mtt=1;const hF={};function Zae(n){return n in hF&&(delete hF[n],!0)}const vtt={setImmediate(n){const e=mtt++;return hF[e]=!0,Q8||(Q8=Promise.resolve()),Q8.then(()=>Zae(e)&&n()),e},clearImmediate(n){Zae(n)}},{setImmediate:ytt,clearImmediate:_tt}=vtt,fF={setImmediate(...n){const{delegate:e}=fF;return(e?.setImmediate||ytt)(...n)},clearImmediate(n){const{delegate:e}=fF;return(e?.clearImmediate||_tt)(n)},delegate:void 0};new class wtt extends nH{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class btt extends eH{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=fF.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(fF.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function ele(n,e=LE){return function xtt(n){return ji((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(qi(t,c=>{r=!0,i=c,s||ol(n(c)).subscribe(s=qi(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>kN(n,e))}let z8;try{z8=typeof Intl<"u"&&Intl.v8BreakIterator}catch{z8=!1}let j0,fS=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?HM(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!z8)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||n)(Wt(Nh))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Stt(){if(null==j0){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return j0=!1,j0;if("scrollBehavior"in document.documentElement.style)j0=!0;else{const n=Element.prototype.scrollTo;j0=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return j0}function nle(n){return n.composedPath?n.composedPath()[0]:n.target}function rle(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Mtt=new bn("cdk-dir-doc",{providedIn:"root",factory:function Ttt(){return Ve(rs)}}),Btt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Itt=(()=>{class n{constructor(t){this.value="ltr",this.change=new ie,t&&(this.value=function Ntt(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Btt.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||n)(Wt(Mtt,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),j8=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Rtt=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Lr,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new di(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(ele(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Zn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Ys(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function att(n){return n instanceof N?n.nativeElement:n}(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>pl(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||n)(Wt(Cr),Wt(fS),Wt(rs,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ile=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Lr,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ele(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||n)(Wt(fS),Wt(Cr),Wt(rs,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sle=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),ole=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({imports:[j8,sle,j8,sle]})}}return n})();const lle=Stt();class Ptt{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ma(-this._previousScrollPosition.left),e.style.top=Ma(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),lle&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),lle&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Ltt{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Ys(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class cle{enable(){}disable(){}attach(){}}function q8(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function ule(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Utt{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();q8(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ktt=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new cle,this.close=o=>new Ltt(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Ptt(this._viewportRuler,this._document),this.reposition=o=>new Utt(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(r){return new(r||n)(Wt(Rtt),Wt(ile),Wt(Cr),Wt(rs))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Htt{constructor(e){if(this.scrollStrategy=new cle,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Vtt{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let hle=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qtt=(()=>{class n extends hle{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs),Wt(Cr,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ztt=(()=>{class n extends hle{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=nle(s)},this._clickListener=s=>{const o=nle(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs),Wt(fS),Wt(Cr,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fle=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||rle()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),rle()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||n)(Wt(rs),Wt(fS))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Gtt{constructor(e,t,r,i,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Lr,this._attachments=new Lr,this._detachments=new Lr,this._locationChanges=mi.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new Lr,this._outsidePointerEvents=new Lr,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(wo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ma(this._config.width),e.height=Ma(this._config.height),e.minWidth=Ma(this._config.minWidth),e.minHeight=Ma(this._config.minHeight),e.maxWidth=Ma(this._config.maxWidth),e.maxHeight=Ma(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Yae(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ll(function ale(...n){const e=_x(n),t=function d_e(n,e){return"number"==typeof wL(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?ol(r[0]):P_(t)(jo(r,e)):wl}(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const dle="cdk-overlay-connected-position-bounding-box",jtt=/([A-Za-z%]+)$/;class qtt{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Lr,this._resizeSubscription=mi.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(dle),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&q0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(dle),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=ple(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let d=0-a,f=a+s.height-r.height,A=this._subtractOverflows(s.width,0-o,o+s.width-r.width),p=this._subtractOverflows(s.height,d,f),m=A*p;return{visibleArea:m,isCompletelyWithinViewport:s.width*s.height===m,fitsInViewportVertically:p===s.height,fitsInViewportHorizontally:A==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=Ale(this._overlayRef.getConfig().minHeight),a=Ale(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=ple(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,h=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,h=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:h},{x:e.x+u,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function Wtt(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new Vtt(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,h,d;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),A=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>A&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-A/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)d=r.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)h=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),A=this._lastBoundingBoxSize.width;u=2*f,h=e.x-f,u>A&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-A/2)}return{top:o,left:h,bottom:a,right:d,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Ma(r.height),i.top=Ma(r.top),i.bottom=Ma(r.bottom),i.width=Ma(r.width),i.left=Ma(r.left),i.right=Ma(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Ma(s)),o&&(i.maxWidth=Ma(o))}this._lastBoundingBoxSize=r,q0(this._boundingBox.style,i)}_resetBoundingBoxStyles(){q0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){q0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();q0(r,this._getExactOverlayY(t,e,u)),q0(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Ma(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Ma(o.maxWidth):s&&(r.maxWidth="")),q0(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Ma(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Ma(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ule(e,r),isOriginOutsideView:q8(e,r),isOverlayClipped:ule(t,r),isOverlayOutsideView:q8(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Yae(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof N)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function q0(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Ale(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(jtt);return t&&"px"!==t?null:parseFloat(e)}return n||null}function ple(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const gle="cdk-global-overlay-wrapper";class $tt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(gle),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,h=this._xOffset,d="rtl"===this._overlayRef.getConfig().direction;let f="",A="",p="";l?p="flex-start":"center"===u?(p="center",d?A=h:f=h):d?"left"===u||"end"===u?(p="flex-end",f=h):("right"===u||"start"===u)&&(p="flex-start",A=h):"left"===u||"start"===u?(p="flex-start",f=h):("right"===u||"end"===u)&&(p="flex-end",A=h),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":A,t.justifyContent=p,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(gle),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Ktt=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new $tt}flexibleConnectedTo(t){return new qtt(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||n)(Wt(ile),Wt(rs),Wt(fS),Wt(fle))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xtt=0,AF=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,h,d,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=d,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new Htt(t);return o.direction=o.direction||this._directionality.value,new Gtt(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Xtt++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(kf)),new itt(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||n)(Wt(ktt),Wt(fle),Wt(LC),Wt(Ktt),Wt(Qtt),Wt(xo),Wt(Cr),Wt(rs),Wt(Itt),Wt(E_),Wt(ztt),Wt(zO,8))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Ytt=new bn("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=Ve(AF);return()=>n.scrollStrategies.reposition()}}),Ztt={provide:Ytt,deps:[AF],useFactory:function Jtt(n){return()=>n.scrollStrategies.reposition()}};let ent=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({providers:[AF,Ztt],imports:[j8,stt,ole,ole]})}}return n})();const tnt=["fullScreenTpl"],nnt=["nspSmall"],rnt=["nspBig"],int=["*"],mle=n=>({height:n});function snt(n,e){if(1&n&&(fe(0,"div",3),lt(1,"div",4)(2,"canvas",null,2)(4,"div",5),sx(5),ce()),2&n){const t=rn();Te(),qe("ngStyle",Hd(2,mle,t.sectionHeight+"px")),Te(3),qe("ngStyle",Hd(4,mle,t.sectionHeight+"px"))}}let W8=(()=>{class n{renderer2;overlay;viewContainerRef;smallPad;bigPad;smallCanvas;bigCanvas;overlayRef;portal;signDataHistory=[];fullScreenWidth;fullScreenHeight;_isEmpty=!0;isFullScreen=!1;sectionHeight;get activePad(){return this.isFullScreen?this.bigPad:this.smallPad}options={};beginSign=new ie;endSign=new ie;fullScreenTpl;nspSmall;nspBig;fullScreen(){this.portal=new Xae(this.fullScreenTpl,this.viewContainerRef),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block(),height:"100%",width:"100%"}),this.overlayRef.attach(this.portal),setTimeout(()=>{this.initBigPad();const{width:t,height:r}=this.options,i=this.bigCanvas.getContext("2d");i.save(),i.translate(this.fullScreenWidth,0),i.rotate(90*Math.PI/180),i.drawImage(this.smallCanvas,0,0,t,r,0,0,this.fullScreenHeight,this.fullScreenWidth),i.restore()},0),this.isFullScreen=!0}miniScreen(){this.smallPad.clear();const{width:t,height:r}=this.options,i=t/this.fullScreenHeight,s=r/this.fullScreenWidth,o=this.smallCanvas.getContext("2d");o.save(),o.translate(0,r),o.rotate(-90*Math.PI/180),o.drawImage(this.bigCanvas,0,0,this.fullScreenWidth,this.fullScreenHeight,0,0,this.fullScreenWidth*i,this.fullScreenHeight*s),o.restore(),this.overlayRef.dispose(),this.bigCanvas=null,this.bigPad=null,this.isFullScreen=!1}toData(){return this.activePad.toData()}fromData(t){this.activePad.fromData(t)}toDataURL(t){switch(t){case"image/jpeg":return this.activePad.toDataURL("image/jpeg");case"image/svg+xml":return this.activePad.toDataURL("image/svg+xml");default:return this.activePad.toDataURL()}}fromDataURL(t,r,i){this.activePad.fromDataURL(t,r,i)}revert(){this.signDataHistory.pop(),this.fromData(this.signDataHistory),0===this.signDataHistory.length&&this.setEmpty()}clear(){this.setEmpty(),this.signDataHistory=[],this.activePad.clear()}isEmpty(){return this._isEmpty}setDirty(){this._isEmpty=!1}setEmpty(){this._isEmpty=!0}getContext(){return this.isFullScreen?this.bigCanvas.getContext("2d"):this.smallCanvas.getContext("2d")}initBigPad(){this.bigCanvas=this.nspBig.nativeElement;const t=JSON.parse(JSON.stringify(this.options));this.fullScreenWidth=document.documentElement.clientWidth;const{width:r,height:i}=this.options;this.fullScreenHeight=this.fullScreenWidth*r/i;const o=document.documentElement.clientHeight-this.fullScreenHeight;this.sectionHeight=o/2,t.width=this.fullScreenWidth,t.height=this.fullScreenHeight;const{css:a}=t;this.bigCanvas.width=this.fullScreenWidth,this.bigCanvas.height=this.fullScreenHeight;for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&this.renderer2.setStyle(this.bigCanvas,l,a[l]);this.bigPad=new Kae(this.bigCanvas,t),this.bigPad.onBegin=this._onBegin.bind(this),this.bigPad.onEnd=this._onEnd.bind(this)}initSmallPad(){this.smallCanvas=this.nspSmall.nativeElement;const{width:t,height:r,css:i}=this.options;this.options.width=t||300,this.options.height=r||150,this.smallCanvas.width=this.options.width,this.smallCanvas.height=this.options.height;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&this.renderer2.setStyle(this.smallCanvas,s,i[s]);this.smallPad=new Kae(this.smallCanvas,this.options),this.smallPad.onBegin=this._onBegin.bind(this),this.smallPad.onEnd=this._onEnd.bind(this)}_onBegin(){this.setDirty(),this.beginSign.emit()}_onEnd(){this.signDataHistory=this.toData(),this.endSign.emit()}setPadAttribute(t,r){this.bigPad&&(this.bigPad[t]=r),this.smallPad[t]=r}constructor(t,r,i){this.renderer2=t,this.overlay=r,this.viewContainerRef=i}ngAfterViewInit(){this.initSmallPad()}ngOnChanges(t){if(t.options.firstChange)return;const{dotSize:r,minWidth:i,maxWidth:s,throttle:o,minDistance:a,backgroundColor:l,penColor:c,velocityFilterWeight:u,width:h,height:d,css:f}=t.options.currentValue;if(r&&this.setPadAttribute("dotSize",r),i&&this.setPadAttribute("minWidth",i),s&&this.setPadAttribute("maxWidth",s),o&&this.setPadAttribute("throttle",o),a&&this.setPadAttribute("minDistance",a),l&&this.setPadAttribute("backgroundColor",l),c&&this.setPadAttribute("penColor",c),u&&this.setPadAttribute("velocityFilterWeight",u),h||d){const{width:A,height:p}=t.options.previousValue,m=this.smallPad.toDataURL(),g=new Image;g.src=m,g.onload=()=>{this.initSmallPad(),this.smallCanvas.getContext("2d").drawImage(g,0,0,A,p,0,0,h,d)}}if(f){if(this.bigCanvas)for(const A in f)Object.prototype.hasOwnProperty.call(f,A)&&this.renderer2.setStyle(this.bigCanvas,A,f[A]);if(this.smallCanvas)for(const A in f)Object.prototype.hasOwnProperty.call(f,A)&&this.renderer2.setStyle(this.smallCanvas,A,f[A])}}static \u0275fac=function(r){return new(r||n)(At(Bf),At(AF),At(cu))};static \u0275cmp=ar({type:n,selectors:[["ngx-signature-pad"]],viewQuery:function(r,i){if(1&r&&($i(tnt,5),$i(nnt,5),$i(rnt,5)),2&r){let s;lr(s=cr())&&(i.fullScreenTpl=s.first),lr(s=cr())&&(i.nspSmall=s.first),lr(s=cr())&&(i.nspBig=s.first)}},inputs:{options:"options"},outputs:{beginSign:"beginSign",endSign:"endSign"},features:[No],ngContentSelectors:int,decls:4,vars:0,consts:[["nspSmall",""],["fullScreenTpl",""],["nspBig",""],[1,"nsp-container"],[1,"section","left",2,"width","100%",3,"ngStyle"],[1,"section","right",2,"width","100%",3,"ngStyle"]],template:function(r,i){1&r&&(ix(),lt(0,"canvas",null,0),cn(2,snt,6,6,"ng-template",null,1,Uf))},dependencies:[UM],styles:[".nsp-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;left:0;top:0;width:100%;height:100vh;background:#fff}.nsp-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{flex:1}.nsp-container[_ngcontent-%COMP%]   .section.left[_ngcontent-%COMP%]{border-bottom:2px dashed #dedee5}.nsp-container[_ngcontent-%COMP%]   .section.right[_ngcontent-%COMP%]{border-top:2px dashed #dedee5}"]})}return n})(),ont=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Zr({type:n});static \u0275inj=Kr({imports:[Ng,ent]})}return n})();const ant=["signature"],lnt=["video"],cnt=["canvas"],unt=["_sourceList"],hnt=["_engineList"];function fnt(n,e){if(1&n&&lt(0,"img",28),2&n){const t=rn();qe("src",t.capturedImage,mo)("hidden",t.capturedImageHidden)}}function dnt(n,e){if(1&n&&(fe(0,"option",29),Me(1),ce()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Te(),Br(t._value)}}function Ant(n,e){if(1&n&&(fe(0,"option",29),Me(1),ce()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Te(),Br(t._value)}}let pnt=(()=>{class n{constructor(t){this.mcsdService=t,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[ORIGEN CAPTURA]",this.titleEngineList="[ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=0,this.selectedIndexEngines=0,this.detectedShapes=[],this.imageURL=null}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera()}ngAfterViewInit(){this.__sourceList=new Array,this.__sourceList.push(new cA(0,"(SELECCIONE OPCION..)",!1)),this.__sourceList.push(new cA(1,"(DESDE CANVAS)",!0)),this.__sourceList.push(new cA(2,"(DESDE CAMARA)",!1)),this.__engineList=new Array,this.__engineList.push(new cA(0,"(SELECCIONE OPCION..)",!1)),this.__engineList.push(new cA(1,"(OCR / TESSERACT - javascript)",!0))}ngOnDestroy(){this.stopCamera()}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status="",console.log(`Selected Source : ${this.selectedIndex}`)}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex}onBeginSign(){}onEndSign(){}saveSignature(){if(1===(console.log("Saving signature..."),this.selectionChangeEngines(),this.selectedIndexEngines)){let t=this.signature?.toDataURL();this.uploadImage(t)}else this.status="Favor seleccione la opci\xf3n [ENGINE]"}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}uploadImage(t){this.statusButton="..parsing..",this.statusButtonSaveImage="..parsing..",this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!0,this.mcsdService.uploadBase64Image(t).subscribe(r=>{console.log("Image uploaded successfully:",r),this.status=JSON.parse(JSON.stringify(r)).message;const i=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(i),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1},r=>{console.error("Error uploading image:",r),this.status=r,this.statusButton="[save]"})}startCamera(){var t=this;return(0,yt.A)(function*(){try{t.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:t.isFrontCamera?"user":"environment"}}),t.videoStream&&(t.videoElement.nativeElement.srcObject=t.videoStream)}catch(r){console.error("Error accessing the camera:",r)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(t=>t.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const t=this.videoElement.nativeElement,r=this.canvas.nativeElement,i=r.getContext("2d");i&&(r.width=t.videoWidth/4,r.height=t.videoHeight/4,console.log("width: "+r.width+" height: "+r.height),i.drawImage(t,0,0,r.width,r.height),this.capturedImage=r.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){1===(this.selectionChangeEngines(),this.selectedIndexEngines)?this.capturedImage&&this.uploadImage(this.capturedImage):this.status="Favor seleccione la opci\xf3n [ENGINE]"}dataURLToBlob(t){const r=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return new Blob([s],{type:i})}flipCamera(){var t=this;return(0,yt.A)(function*(){console.log("flippling camera"),t.isFrontCamera=!t.isFrontCamera,t.stopCamera(),yield t.startCamera()})()}static{this.\u0275fac=function(r){return new(r||n)(At(Ob))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-ocr-photo-capture"]],viewQuery:function(r,i){if(1&r&&($i(ant,5),$i(lnt,7),$i(cnt,5),$i(unt,5),$i(hnt,5)),2&r){let s;lr(s=cr())&&(i.signature=s.first),lr(s=cr())&&(i.videoElement=s.first),lr(s=cr())&&(i.canvas=s.first),lr(s=cr())&&(i._sourceList=s.first),lr(s=cr())&&(i._engineList=s.first)}},decls:53,vars:18,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[3,"click","disabled"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],["routerLink","/Dev"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(r,i){if(1&r){const s=bs();fe(0,"div",5)(1,"h1"),Me(2,"[MISCELANEOUS - OCR]"),ce(),fe(3,"div",6),lt(4,"hr"),fe(5,"ngx-signature-pad",7,0),jt("beginSign",function(){return Ln(s),Qn(i.onBeginSign())})("endSign",function(){return Ln(s),Qn(i.onEndSign())}),ce(),lt(7,"hr"),fe(8,"input",8),jt("click",function(){return Ln(s),Qn(i.saveSignature())}),ce(),Me(9," | "),fe(10,"button",9),jt("click",function(){return Ln(s),Qn(i.clearSignature())}),Me(11,"Clear Signature"),ce(),lt(12,"br"),ce(),fe(13,"div",10),lt(14,"hr"),fe(15,"div",11),lt(16,"video",12,1)(18,"canvas",13,2),ce(),cn(20,fnt,1,2,"img",14),lt(21,"hr"),fe(22,"button",15),jt("click",function(){return Ln(s),Qn(i.capturePhoto())}),Me(23),ce(),Me(24," | "),fe(25,"button",15),jt("click",function(){return Ln(s),Qn(i.saveImage())}),Me(26),ce(),Me(27," | "),fe(28,"button",9),jt("click",function(){return Ln(s),Qn(i.flipCamera())}),Me(29,"Flip Camera"),ce()(),lt(30,"hr"),fe(31,"span",16),Me(32),ce(),lt(33,"hr"),fe(34,"div",17)(35,"label",18)(36,"span",19),Me(37),ce()(),Me(38," \xa0"),fe(39,"select",20,3),jt("change",function(){return Ln(s),Qn(i.selectionChange())}),cn(41,dnt,2,3,"option",21),ce()(),fe(42,"div",22)(43,"label",23)(44,"span",24),Me(45),ce()(),Me(46," \xa0"),fe(47,"select",25,4),jt("change",function(){return Ln(s),Qn(i.selectionChangeEngines())}),cn(49,Ant,2,3,"option",21),ce()(),fe(50,"div",26)(51,"a",27),Me(52,"[Volver al Menu]"),ce()()()}2&r&&(Te(3),qe("hidden",i.hiddenCanvasContainer),Te(2),qe("options",i.options),Te(3),Mg("value",i.statusButton),qe("disabled","..parsing.."==i.statusButton),Te(5),qe("hidden",i.hiddenCameraContainer),Te(2),qe("hidden",i.cameraContainerHidden),Te(),Fh(i.videoStyle),Te(4),qe("ngIf",i.capturedImage),Te(2),qe("disabled",i.captureButtonDisabled),Te(),Br(i.captureButtonStatus),Te(2),qe("disabled",i.saveImageButtonDisabled),Te(),Br(i.statusButtonSaveImage),Te(6),Br(i.status),Te(5),Br(i.tituloListadOrigen),Te(4),qe("ngForOf",i.__sourceList),Te(4),Br(i.titleEngineList),Te(4),qe("ngForOf",i.__engineList))},dependencies:[xs,Bl,ec,jv,qv,W8],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})(),gnt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-stable-releases"]],decls:35,vars:0,consts:[["align","left"],["routerLink","/OcrPhotoCapture"],["routerLink","/Chat"],["routerLink","/Sudoku"],["routerLink","/Hanoi"],["routerLink","/Hanoi3d"],["routerLink","/TicTacToe"],["routerLink","/BouncingBall"],["routerLink","/Tetris"],["routerLink","/MathParsing"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h2"),Me(2,"[Stable Releases]"),ce(),fe(3,"ul")(4,"li")(5,"a",1),Me(6,"[OCR / COMPUTER VISION]"),ce()(),fe(7,"li")(8,"a",2),Me(9,"[chat]"),ce()(),fe(10,"li")(11,"a",3),Me(12,"[sudoku]"),ce()(),fe(13,"li")(14,"a",4),Me(15,"[hanoi towers - [ALGORITMOS - RECURSION]]"),ce()(),fe(16,"li")(17,"a",5),Me(18,"[Hanoi - 3d]"),ce()(),fe(19,"li")(20,"a",6),Me(21,"[tic tac toe (offline) - [ALGORITMOS - MINMAX]]"),ce()(),fe(22,"li")(23,"a",7),Me(24,"[Boucing Ball]"),ce()(),fe(25,"li")(26,"a",8),Me(27,"[Tetris]"),ce()(),fe(28,"li")(29,"a",9),Me(30,"[Math Parsing]"),ce()()()(),lt(31,"hr"),fe(32,"div",10)(33,"a",11),Me(34,"[Volver al Inicio]"),ce()())},dependencies:[xs]})}}return n})(),mnt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-dev"]],decls:38,vars:0,consts:[["align","left"],["routerLink","/HanoiAuto"],["routerLink","/HanoiRjxs"],["routerLink","/RxJsPlayground"],["routerLink","/TicTacToeOnline"],["routerLink","/Ocr"],["routerLink","/BackendTesting"],["routerLink","/SpeechRecognition"],["routerLink","/ShapeRecognition"],["routerLink","/ShapeReconCanvas"],["routerLink","/WebAssembly"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Me(2,"[Testing Releases]"),ce(),fe(3,"ul")(4,"li")(5,"a",1),Me(6,"[Hanoi RxJS - Auto]"),ce()(),fe(7,"li")(8,"a",2),Me(9,"[Hanoi RxJS - Manual]"),ce()(),fe(10,"li")(11,"a",3),Me(12,"[RxJS Playground]"),ce()(),fe(13,"li")(14,"a",4),Me(15,"[tic tac toe (online) - [ALGORITMOS - MINMAX]]"),ce()(),fe(16,"li")(17,"a",5),Me(18,"[OCR]"),ce()(),fe(19,"li")(20,"a",6),Me(21,"[Backend Testing]"),ce()(),fe(22,"li")(23,"a",7),Me(24,"[Speech Recognition]"),ce()(),fe(25,"li")(26,"a",8),Me(27,"[Shape Recognition]"),ce()(),fe(28,"li")(29,"a",9),Me(30,"[Shape Recognition - Canvas]"),ce()(),fe(31,"li")(32,"a",10),Me(33,"[Web Assemby Test]"),ce()()()(),lt(34,"hr"),fe(35,"div",11)(36,"a",12),Me(37,"[Volver al Inicio]"),ce()())},dependencies:[xs]})}}return n})(),vnt=(()=>{class n{constructor(t,r){this.backendervice=t,this.router=r,this.lblStatusNodeJs="",this.BtnTestNodeJSCaption="[TEST NODE.JS]",this.lblStatusSpringBoot="",this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]",this.lblStatusDjango="",this.BtnTestDjangoCaption="[TEST DJANGO]"}RedirectHome(){this.router.navigateByUrl("/Home")}TestNodeJs(){console.log("[TEST NODE.JS] \n"),this.BtnTestNodeJSCaption="...(retrieving data)...",this.backendervice._TestNodeJs().subscribe({next:i=>{this.lblStatusNodeJs=JSON.parse(i).recordsets[0][0].nombreCompleto,console.log("[TEST - NODEJS] - (return): "+this.lblStatusNodeJs),this.BtnTestNodeJSCaption="[TEST NODE.JS]"},error:i=>{console.error("[TEST - NODEJS] - (ERROR) : "+JSON.stringify(i.message)),this.lblStatusNodeJs=i.message,this.BtnTestNodeJSCaption="[TEST NODE.JS]"},complete:()=>{console.log("[TEST - NODEJS]  -  (COMPLETE)")}})}TestSpringBoot(){console.log("[TEST SPRINGBOOT] \n"),this.BtnTestSpringBootCaption="...(retrieving data)...",this.backendervice._TestSprinbBoot().subscribe({next:i=>{this.lblStatusSpringBoot=i,console.log("[TEST - NODEJS] - (return): "+this.lblStatusSpringBoot),this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"},error:i=>{let s=JSON.stringify(i.message);console.error("[TEST - SPRINBBOOT] - (ERROR) : "+s),this.lblStatusSpringBoot=s,this.BtnTestSpringBootCaption="[TEST SPRINGBOOT]"},complete:()=>{console.log("[TEST - springboot]  -  (COMPLETE)")}})}TestDjango(){console.log("[TEST SPRINGBOOT] \n"),this.BtnTestDjangoCaption="...(retrieving data)...",this.backendervice._TestDjango().subscribe({next:i=>{this.lblStatusDjango=i,console.log("[TEST - NODEJS] - (return): "+this.lblStatusDjango),this.BtnTestDjangoCaption="[TEST DJANGO]"},error:i=>{let s=JSON.stringify(i.message);console.error("[TEST - DJANGO] - (ERROR) : "+s),this.lblStatusDjango=s,this.BtnTestDjangoCaption="[TEST DJANGO]"},complete:()=>{console.log("[TEST - DJANGO]  -  (COMPLETE)")}})}static{this.\u0275fac=function(r){return new(r||n)(At(Ob),At(Rc))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-unt-testing"]],decls:28,vars:9,consts:[["align","left"],["type","button",3,"click","value","disabled"],["id","lblStatusNodeJs"],["id","lblStatusSprinbBoot"],["id","lblStatusDjango"],["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(fe(0,"div",0),lt(1,"hr"),fe(2,"h1"),Me(3,"[NODE.JS]"),ce(),lt(4,"br"),fe(5,"input",1),jt("click",function(){return i.TestNodeJs()}),ce(),lt(6,"br"),fe(7,"label",2),Me(8),ce(),lt(9,"hr"),fe(10,"h1"),Me(11,"[SPRING BOOT]"),ce(),fe(12,"input",1),jt("click",function(){return i.TestSpringBoot()}),ce(),lt(13,"br"),fe(14,"label",3),Me(15),ce(),lt(16,"hr"),fe(17,"h1"),Me(18,"[PYTHON / DJANGO]"),ce(),fe(19,"input",1),jt("click",function(){return i.TestDjango()}),ce(),lt(20,"br"),fe(21,"label",4),Me(22),ce(),lt(23,"hr"),ce(),lt(24,"hr"),fe(25,"div",5)(26,"a",6),Me(27,"[Volver al Menu]"),ce()()),2&r&&(Te(5),Mg("value",i.BtnTestNodeJSCaption),qe("disabled","[TEST NODE.JS]"!=i.BtnTestNodeJSCaption),Te(3),Hi("Test Result :[",i.lblStatusNodeJs,"]"),Te(4),Mg("value",i.BtnTestSpringBootCaption),qe("disabled","[TEST SPRINGBOOT]"!=i.BtnTestSpringBootCaption),Te(3),Hi("Test Result :[",i.lblStatusSpringBoot,"]"),Te(4),Mg("value",i.BtnTestDjangoCaption),qe("disabled","[TEST DJANGO]"!=i.BtnTestDjangoCaption),Te(3),Hi("Test Result :[",i.lblStatusDjango,"]"))},dependencies:[xs]})}}return n})();const ynt=["signature"];let _nt=(()=>{class n{constructor(t){this.backendService=t,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]"}onBeginSign(){}onEndSign(){}saveSignature(){console.log("Saving signature...");let t=this.signature?.toDataURL();console.log("Data URL:",t),this.uploadImage(t)}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}uploadImage(t){this.statusButton="..parsing..",this.backendService.uploadBase64Image(t).subscribe(r=>{console.log("Image uploaded successfully:",r),this.status=JSON.parse(JSON.stringify(r)).message,this.statusButton="[save]";const i=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(i)},r=>{console.error("Error uploading image:",r),this.status=r,this.statusButton="[save]"})}static{this.\u0275fac=function(r){return new(r||n)(At(Ob))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-ocr"]],viewQuery:function(r,i){if(1&r&&$i(ynt,5),2&r){let s;lr(s=cr())&&(i.signature=s.first)}},decls:19,vars:4,consts:[["signature",""],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","right"],["routerLink","/Dev"]],template:function(r,i){if(1&r){const s=bs();fe(0,"h1"),Me(1,"[OCR]"),ce(),lt(2,"hr"),fe(3,"div")(4,"ngx-signature-pad",1,0),jt("beginSign",function(){return Ln(s),Qn(i.onBeginSign())})("endSign",function(){return Ln(s),Qn(i.onEndSign())}),ce()(),lt(6,"hr"),fe(7,"input",2),jt("click",function(){return Ln(s),Qn(i.saveSignature())}),ce(),Me(8,"\n|\n"),fe(9,"button",3),jt("click",function(){return Ln(s),Qn(i.clearSignature())}),Me(10,"Clear Signature"),ce(),lt(11,"br")(12,"br"),fe(13,"span",4),Me(14),ce(),lt(15,"hr"),fe(16,"div",5)(17,"a",6),Me(18,"[Volver al Menu]"),ce()()}2&r&&(Te(4),qe("options",i.options),Te(3),Mg("value",i.statusButton),qe("disabled","..parsing.."==i.statusButton),Te(7),Br(i.status))},dependencies:[xs,W8],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}"]})}}return n})(),vle=(()=>{class n{constructor(){console.log("cv global variable : "+cv)}detectShapes(t){const r=[];if(cv.getBuildInformation){const i=cv.imread(t),s=new cv.Mat,o=new cv.Mat;cv.cvtColor(i,s,cv.COLOR_RGBA2GRAY,0),cv.Canny(s,o,50,150,3,!1);const a=new cv.MatVector,l=new cv.Mat;cv.findContours(o,a,l,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE);for(let c=0;c<a.size();c++){const u=a.get(c),h=new cv.Mat,d=.04*cv.arcLength(u,!0);cv.approxPolyDP(u,h,d,!0);let f="";if(3===h.rows)f="Tri\xe1ngulo";else if(4===h.rows){const A=cv.boundingRect(h),p=A.width/A.height;f=p>=.95&&p<=1.05?"Cuadrado":"Rect\xe1ngulo"}else h.rows>4&&(f="C\xedrculo");f&&r.push(f)}return i.delete(),s.delete(),o.delete(),a.delete(),l.delete(),r}return r}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const bnt=["video"];function wnt(n,e){if(1&n&&(fe(0,"div"),lt(1,"img",5),ce()),2&n){const t=rn();Te(),qe("src",t.imageURL,mo)}}function Cnt(n,e){if(1&n&&(fe(0,"li"),Me(1),ce()),2&n){const t=e.$implicit;Te(),Br(t)}}function xnt(n,e){if(1&n&&(fe(0,"div",6)(1,"h3"),Me(2,"Detected Shapes:"),ce(),fe(3,"ul"),cn(4,Cnt,2,1,"li",7),ce()()),2&n){const t=rn();Te(4),qe("ngForOf",t.detectedShapes)}}let Ent=(()=>{class n{constructor(t,r){this.mcsdService=t,this.shapeDetectionService=r,this.detectedShapes=[],this.imageURL=null,this.videoStyle="width: 150px;height:150px; transform : scaleX(1);"}onFileSelected(t){const r=t.target.files[0];if(r){const i=new FileReader;i.onload=s=>{this.imageURL=s.target.result,this.detectShapes()},i.readAsDataURL(r)}}detectShapes(){const t=new Image;t.onload=()=>{const r=this.shapeDetectionService.detectShapes(t);this.detectedShapes=r;const i=new SpeechSynthesisUtterance(this.detectedShapes.toString());speechSynthesis.speak(i)},t.src=this.imageURL}ngAfterViewInit(){}static{this.\u0275fac=function(r){return new(r||n)(At(Ob),At(vle))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-open-cv-shape-recon"]],viewQuery:function(r,i){if(1&r&&$i(bnt,7),2&r){let s;lr(s=cr())&&(i.videoElement=s.first)}},decls:11,vars:2,consts:[["type","file",3,"change"],[4,"ngIf"],["align","center",4,"ngIf"],["align","right"],["routerLink","/Dev"],["alt","Uploaded Image",2,"max-width","100%","height","auto",3,"src"],["align","center"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(fe(0,"h4"),Me(1,"[MISCELANEOUS / SHAPE RECOGNITION]"),ce(),lt(2,"hr"),fe(3,"div")(4,"input",0),jt("change",function(o){return i.onFileSelected(o)}),ce()(),cn(5,wnt,2,1,"div",1)(6,xnt,5,1,"div",2),lt(7,"hr"),fe(8,"div",3)(9,"a",4),Me(10,"[Volver al Menu]"),ce()()),2&r&&(Te(5),qe("ngIf",i.imageURL),Te(),qe("ngIf",i.detectedShapes.length>0))},dependencies:[xs,Bl,ec],styles:["input[type=file][_ngcontent-%COMP%]{margin-bottom:10px}img[_ngcontent-%COMP%]{margin-top:20px}","video[_ngcontent-%COMP%] {\n    \n\n    \n\n    width: 50%;\n    \n\n    height: 50%;\n    transform: scaleX(1);\n  }"]})}}return n})();function yle(n,e){return e?t=>Hx(e.pipe(wo(1),function Snt(){return ji((n,e)=>{n.subscribe(qi(e,Qs))})}()),t.pipe(yle(n))):al((t,r)=>ol(n(t,r)).pipe(wo(1),Y$(t)))}function pS(n,e=LE){const t=kN(n,e);return yle(()=>t)}let $8,K8,_le=Zn(1,2,3,4,5),ble=[],wle=["a","b","c","d","e"],Cle=new as(null),Dnt=Cle.asObservable();let Bnt=(()=>{class n{constructor(){this.TestBasicObservable()}TestBasicObservable(){$8=jo(_le).pipe(Fg(t=>Zn(t).pipe(pS(1e3)))),$8.subscribe({next(t){console.log("Observable emitted the next value from service to array : "+t),ble.push(t)},error(t){console.error("Behaviour subject erro: "+t)},complete(){console.log("Observable complete notification"),function Mnt(){qZ(1e3).pipe(wo(wle.length),Qr(n=>wle[n])).subscribe({next(n){console.log("Behaviour subject item : "+n),Cle.next(n)},error(n){console.error("Behaviour subject erro: "+n)},complete(){console.log("Behaviour subject complete notification"),function Tnt(){K8=jo(["A","B","C","D","E"]).pipe(Fg(t=>Zn(t).pipe(pS(1e3)))),K8.subscribe({next(t){console.log(`Iteration emitted Result: ${t}`)},error(t){console.error("Iteration emitted an error: "+t)},complete(){console.log("Iteration complete notification")}})}()}})}()}})}get CurrentValue(){return ble}get Numbers(){return _le}get CurrentItem(){return Dnt}get delayedObservable(){return $8}get delayedObservableIteration(){return K8}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Nnt=(()=>{class n{constructor(t){this.service=t}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||n)(At(Bnt))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-rx-jsplayground"]],decls:18,vars:9,consts:[["align","right"],["routerLink","/Dev"]],template:function(r,i){1&r&&(fe(0,"h1"),Me(1,"[RXJS PLAYGROUND]"),ce(),lt(2,"hr"),fe(3,"div"),Me(4),hu(5,"async"),ce(),lt(6,"hr"),fe(7,"div"),Me(8),hu(9,"async"),ce(),lt(10,"hr"),fe(11,"div"),Me(12),hu(13,"async"),ce(),lt(14,"hr"),fe(15,"div",0)(16,"a",1),Me(17,"[Volver al Menu]"),ce()()),2&r&&(Te(4),Hi(" Current observable value : ",fu(5,3,i.service.delayedObservable),"\n"),Te(4),Hi(" Current BehaviourSubject value : ",fu(9,5,i.service.CurrentItem),"\n"),Te(4),Hi(" Current Iteration value : ",fu(13,7,i.service.delayedObservableIteration),"\n"))},dependencies:[xs,M_]})}}return n})();const Int=["signature"],Fnt=["video"],Rnt=["canvas"],Ont=["_sourceList"],Pnt=["_engineList"];function Lnt(n,e){if(1&n&&lt(0,"img",28),2&n){const t=rn();qe("src",t.capturedImage,mo)("hidden",t.capturedImageHidden)}}function Unt(n,e){if(1&n&&(fe(0,"option",29),Me(1),ce()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Te(),Br(t._value)}}function knt(n,e){if(1&n&&(fe(0,"option",29),Me(1),ce()),2&n){const t=e.$implicit;qe("value",t._index)("selected",t._selected),Te(),Br(t._value)}}let Hnt=(()=>{class n{constructor(t,r){this.backendService=t,this.shapeDetectionService=r,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.status="",this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[ORIGEN CAPTURA]",this.titleEngineList="[ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=0,this.selectedIndexEngines=0,this.detectedShapes=[]}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera()}ngAfterViewInit(){this.__sourceList=new Array,this.__sourceList.push(new cA(0,"(SELECCIONE OPCION..)",!1)),this.__sourceList.push(new cA(1,"(DESDE CANVAS)",!0)),this.__sourceList.push(new cA(2,"(DESDE CAMARA)",!1)),this.__engineList=new Array,this.__engineList.push(new cA(0,"(SELECCIONE OPCION..)",!1)),this.__engineList.push(new cA(1,"(CV / OPENCV - javascript)",!0))}ngOnDestroy(){this.stopCamera()}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status="",console.log(`Selected Source : ${this.selectedIndex}`)}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex}onBeginSign(){}onEndSign(){}saveSignature(){1===(console.log("Saving signature..."),this.selectionChangeEngines(),this.selectedIndexEngines)?this.detectShapes(this.signature?.toDataURL()):this.status="Favor seleccione la opci\xf3n [ENGINE]"}clearSignature(){console.log("clearing signature..."),this.signature?.clear(),this.status="",this.statusButton="[save]"}startCamera(){var t=this;return(0,yt.A)(function*(){try{t.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:t.isFrontCamera?"user":"environment"}}),t.videoStream&&(t.videoElement.nativeElement.srcObject=t.videoStream)}catch(r){console.error("Error accessing the camera:",r)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(t=>t.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const t=this.videoElement.nativeElement,r=this.canvas.nativeElement,i=r.getContext("2d");i&&(r.width=t.videoWidth/4,r.height=t.videoHeight/4,console.log("width: "+r.width+" height: "+r.height),i.drawImage(t,0,0,r.width,r.height),this.capturedImage=r.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){1===(this.selectionChangeEngines(),this.selectedIndexEngines)?this.capturedImage&&(this.detectShapes(this.capturedImage),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1):this.status="Favor seleccione la opci\xf3n [ENGINE]"}dataURLToBlob(t){const r=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return new Blob([s],{type:i})}flipCamera(){var t=this;return(0,yt.A)(function*(){console.log("flippling camera"),t.isFrontCamera=!t.isFrontCamera,t.stopCamera(),yield t.startCamera()})()}detectShapes(t){const r=new Image;r.onload=()=>{const i=this.shapeDetectionService.detectShapes(r);console.log("Detected Shapes "+i),this.detectedShapes=i,this.status=this.detectedShapes.toString();const s=new SpeechSynthesisUtterance(this.status);speechSynthesis.speak(s)},r.src=t}static{this.\u0275fac=function(r){return new(r||n)(At(Ob),At(vle))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-shape-recon-canvas"]],viewQuery:function(r,i){if(1&r&&($i(Int,5),$i(Fnt,7),$i(Rnt,5),$i(Ont,5),$i(Pnt,5)),2&r){let s;lr(s=cr())&&(i.signature=s.first),lr(s=cr())&&(i.videoElement=s.first),lr(s=cr())&&(i.canvas=s.first),lr(s=cr())&&(i._sourceList=s.first),lr(s=cr())&&(i._engineList=s.first)}},decls:53,vars:18,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[3,"click","disabled"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],["routerLink","/Dev"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(r,i){if(1&r){const s=bs();fe(0,"div",5)(1,"h1"),Me(2,"[MISCELANEOUS - CV]"),ce(),fe(3,"div",6),lt(4,"hr"),fe(5,"ngx-signature-pad",7,0),jt("beginSign",function(){return Ln(s),Qn(i.onBeginSign())})("endSign",function(){return Ln(s),Qn(i.onEndSign())}),ce(),lt(7,"hr"),fe(8,"input",8),jt("click",function(){return Ln(s),Qn(i.saveSignature())}),ce(),Me(9," | "),fe(10,"button",9),jt("click",function(){return Ln(s),Qn(i.clearSignature())}),Me(11,"Clear Signature"),ce(),lt(12,"br"),ce(),fe(13,"div",10),lt(14,"hr"),fe(15,"div",11),lt(16,"video",12,1)(18,"canvas",13,2),ce(),cn(20,Lnt,1,2,"img",14),lt(21,"hr"),fe(22,"button",15),jt("click",function(){return Ln(s),Qn(i.capturePhoto())}),Me(23),ce(),Me(24," | "),fe(25,"button",15),jt("click",function(){return Ln(s),Qn(i.saveImage())}),Me(26),ce(),Me(27," | "),fe(28,"button",9),jt("click",function(){return Ln(s),Qn(i.flipCamera())}),Me(29,"Flip Camera"),ce()(),lt(30,"hr"),fe(31,"span",16),Me(32),ce(),lt(33,"hr"),fe(34,"div",17)(35,"label",18)(36,"span",19),Me(37),ce()(),Me(38," \xa0"),fe(39,"select",20,3),jt("change",function(){return Ln(s),Qn(i.selectionChange())}),cn(41,Unt,2,3,"option",21),ce()(),fe(42,"div",22)(43,"label",23)(44,"span",24),Me(45),ce()(),Me(46," \xa0"),fe(47,"select",25,4),jt("change",function(){return Ln(s),Qn(i.selectionChangeEngines())}),cn(49,knt,2,3,"option",21),ce()(),fe(50,"div",26)(51,"a",27),Me(52,"[Volver al Menu]"),ce()()()}2&r&&(Te(3),qe("hidden",i.hiddenCanvasContainer),Te(2),qe("options",i.options),Te(3),Mg("value",i.statusButton),qe("disabled","..parsing.."==i.statusButton),Te(5),qe("hidden",i.hiddenCameraContainer),Te(2),qe("hidden",i.cameraContainerHidden),Te(),Fh(i.videoStyle),Te(4),qe("ngIf",i.capturedImage),Te(2),qe("disabled",i.captureButtonDisabled),Te(),Br(i.captureButtonStatus),Te(2),qe("disabled",i.saveImageButtonDisabled),Te(),Br(i.statusButtonSaveImage),Te(6),Br(i.status),Te(5),Br(i.tituloListadOrigen),Te(4),qe("ngForOf",i.__sourceList),Te(4),Br(i.titleEngineList),Te(4),qe("ngForOf",i.__engineList))},dependencies:[xs,Bl,ec,jv,qv,W8],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})();function Vnt(n,e){if(1&n&&(fe(0,"div",8)(1,"p"),Me(2),ce()()),2&n){const t=rn();Te(2),Hi("Error: ",t.error,"")}}let Qnt=(()=>{class n{constructor(){this.isListening=!1,this.transcript="",this.error="";const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=r=>{this.transcript=r.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=r=>{this.error=r.error,console.error("Error:",this.error)},this.recognition.onend=()=>{this.isListening=!1,console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}ngOnInit(){}startListening(){this.recognition&&(this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t)}else alert("No text to speak!")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-speech-recognition"]],decls:20,vars:4,consts:[[1,"speech-recognition-container"],[1,"controls"],[3,"click","disabled"],[3,"click"],[1,"output"],["class","error",4,"ngIf"],["align","right"],["routerLink","/Dev"],[1,"error"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h2"),Me(2,"Speech Recognition with Angular"),ce(),fe(3,"div",1)(4,"button",2),jt("click",function(){return i.startListening()}),Me(5,"Start Listening"),ce(),fe(6,"button",2),jt("click",function(){return i.stopListening()}),Me(7,"Stop Listening"),ce(),fe(8,"button",3),jt("click",function(){return i.speakText()}),Me(9,"Speak Text"),ce()(),fe(10,"div",4)(11,"h3"),Me(12,"Transcript:"),ce(),fe(13,"p"),Me(14),ce()(),cn(15,Vnt,3,1,"div",5),ce(),lt(16,"hr"),fe(17,"div",6)(18,"a",7),Me(19,"[Volver al Menu]"),ce()()),2&r&&(Te(4),qe("disabled",i.isListening),Te(2),qe("disabled",!i.isListening),Te(8),Br(i.transcript||"No speech detected yet."),Te(),qe("ngIf",i.error))},dependencies:[xs,ec],styles:[".speech-recognition-container[_ngcontent-%COMP%]{text-align:center;margin:20px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;padding:10px 20px;font-size:16px;cursor:pointer}.output[_ngcontent-%COMP%]{margin-top:20px;font-size:18px}.error[_ngcontent-%COMP%]{color:red;margin-top:10px}"]})}}return n})();function znt(n,e){if(1&n&&(fe(0,"span",5)(1,"a",6)(2,"span",7),Me(3),ce()()()),2&n){const t=rn().$implicit;Te(),ox("routerLink","/",t.url,""),Te(2),Br(t.text)}}function Gnt(n,e){if(1&n&&(fe(0,"span"),cn(1,znt,4,3,"span",4),ce()),2&n){const t=e.$implicit;Te(),qe("ngIf",t)}}let xle=(()=>{class n{constructor(t,r,i,s){this.titleService=t,this.configService=r,this.customErrorHandler=i,this.loggingInterceptor=s,this._appBrand="",this._appVersion="",this._appEnv="",this._title="",this.pages=[{url:"/Dev",text:"[TESTING]"},{url:"/StableReleases",text:"[PRODUCTION]"},{url:"/SCM",text:"[SCM]"},{url:"/LLMs",text:"[LLMs]"}],this._appBrand=this.configService.getConfigValue("appBrand"),this._appVersion=this.configService.getConfigValue("appVersion"),this._appEnv=this.configService.getConfigValue("appEnv"),this._title=this._appBrand+"-"+this._appEnv+" - v["+this._appVersion+"]",console.log(this._title),this.titleService.setTitle(this._title)}static{this.\u0275fac=function(r){return new(r||n)(At(XM),At(zg),At(FF),At(RF))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-home"]],decls:19,vars:15,consts:[["align","center",1,"animate"],["routerLink","/"],[1,"me-1",2,"width","50px",3,"src","alt"],[4,"ngFor","ngForOf"],["style","padding:5px;",4,"ngIf"],[2,"padding","5px"],[3,"routerLink"],["align","left"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Me(2),ce(),lt(3,"hr"),fe(4,"a",1),lt(5,"img",2),ce(),fe(6,"a",1),lt(7,"img",2),ce(),fe(8,"a",1),lt(9,"img",2),ce(),fe(10,"a",1),lt(11,"img",2),ce(),fe(12,"a",1),lt(13,"img",2),ce(),fe(14,"a",1),lt(15,"img",2),ce(),lt(16,"hr"),cn(17,Gnt,2,1,"span",3),lt(18,"hr"),ce()),2&r&&(Te(2),uM("Welcome to ",i._appBrand," - ",i._appEnv,""),Te(3),qe("src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/800px-Angular_full_color_logo.svg.png",mo)("alt","Angular Logo"),Te(2),qe("src","https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1024px-Node.js_logo.svg.png",mo)("alt","NodeJs Logo"),Te(2),qe("src","https://upload.wikimedia.org/wikipedia/commons/d/d2/C_Sharp_Logo_2023.svg",mo)("alt","C# Logo"),Te(2),qe("src","https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/ISO_C%2B%2B_Logo.svg/306px-ISO_C%2B%2B_Logo.svg.png",mo)("alt","C++ Logo"),Te(2),qe("src","https://vmware.gallerycdn.vsassets.io/extensions/vmware/vscode-spring-boot/1.59.2024110900/1731113263936/Microsoft.VisualStudio.Services.Icons.Default",mo)("alt","SPRING BOOT Logo"),Te(2),qe("src","https://upload.wikimedia.org/wikipedia/commons/c/c3/Python-logo-notext.svg",mo)("alt","python Logo"),Te(2),qe("ngForOf",i.pages))},dependencies:[xs,Bl,ec],styles:[".animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale 2s}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}"]})}}return n})(),jnt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-not-found-page"]],decls:9,vars:0,consts:[["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"h1"),Me(1,"[Page not found]"),ce(),lt(2,"hr"),fe(3,"h4"),Me(4,"[PAGE NOT FOUND]"),ce(),lt(5,"hr"),fe(6,"div",0)(7,"a",1),Me(8,"[Volver al Inicio]"),ce()())},dependencies:[xs]})}}return n})();var X8=function(n){return n[n.RoleAnonyumous=0]="RoleAnonyumous",n[n.RoleAdmin=1]="RoleAdmin",n[n.RoleMarketing=2]="RoleMarketing",n[n.RoleConfig=3]="RoleConfig",n[n.RoleEducation=4]="RoleEducation",n}(X8||{});function Ele(n,e=LE){return ji((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(qi(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}let Sle=(()=>{class n{constructor(t){this.http=t,this._loggedUser=!1}canActivate(){return!0}get loggedUser(){return this._loggedUser}set loggedUser(t){this._loggedUser=t}matchRoles(t){return"0"==t||t==this.userRoles}static{this.\u0275fac=function(r){return new(r||n)(Wt(kv))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const{isArray:Knt}=Array;function Dle(n){return 1===n.length&&Knt(n[0])?n[0]:n}function Y8(...n){const e=GM(n),t=Dle(n);return t.length?new di(r=>{let i=t.map(()=>[]),s=t.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<t.length;o++)ol(t[o]).subscribe(qi(r,a=>{if(i[o].push(a),i.every(l=>l.length)){const l=i.map(c=>c.shift());r.next(e?e(...l):l),i.some((c,u)=>!c.length&&s[u])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):wl}function J8(...n){const e=GM(n);return ji((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let l=0;l<i;l++)ol(n[l]).subscribe(qi(r,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(As))&&(o=null))},Qs));t.subscribe(qi(r,l=>{if(a){const c=[l,...s];r.next(e?e(...c):c)}}))})}function Z8(n){return Ys((e,t)=>n<=t)}Math,Math,Math;const rit=["*"],Fit=["dialog"],Uit=(n,e,t)=>({$implicit:n,pages:e,disabled:t}),kit=n=>({disabled:!0,currentPage:n}),Hit=(n,e,t)=>({disabled:n,$implicit:e,currentPage:t}),u6=(n,e)=>({disabled:n,currentPage:e}),Vit=n=>({disabled:n});function Qit(n,e){1&n&&(fe(0,"span",13),rx(1,7),ce())}function zit(n,e){1&n&&(fe(0,"span",13),rx(1,8),ce())}function Git(n,e){1&n&&(fe(0,"span",13),rx(1,9),ce())}function jit(n,e){1&n&&(fe(0,"span",13),rx(1,10),ce())}function qit(n,e){1&n&&Me(0,"...")}function Wit(n,e){1&n&&Me(0),2&n&&Br(e.$implicit)}function $it(n,e){}function Kit(n,e){if(1&n&&(fe(0,"a",16),cn(1,$it,0,0,"ng-template",12),ce()),2&n){const t=rn(2).$implicit,r=rn(),i=Of(9);Te(),qe("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",Hd(2,kit,t))}}function Xit(n,e){}function Yit(n,e){if(1&n){const t=bs();fe(0,"a",17),jt("click",function(i){Ln(t);const s=rn().$implicit;return rn(2).selectPage(s),Qn(i.preventDefault())}),cn(1,Xit,0,0,"ng-template",12),ce()}if(2&n){const t=rn().$implicit,r=rn(),i=r.$implicit,s=r.disabled,o=rn(),a=Of(11);Bi("tabindex",s?"-1":null)("aria-disabled",s?"true":null),Te(),qe("ngTemplateOutlet",(null==o.tplNumber?null:o.tplNumber.templateRef)||a)("ngTemplateOutletContext",F5(4,Hit,s,t,i))}}function Jit(n,e){if(1&n&&(fe(0,"li",15),cn(1,Kit,2,4,"a",16)(2,Yit,2,8),ce()),2&n){const t=e.$implicit,r=rn(),i=r.$implicit,s=r.disabled,o=rn();Ci("active",t===i)("disabled",o.isEllipsis(t)||s),Bi("aria-current",t===i?"page":null),Te(),Fo(1,o.isEllipsis(t)?1:2)}}function Zit(n,e){1&n&&Ku(0,Jit,3,6,"li",14,Rf),2&n&&Xu(e.pages)}function est(n,e){}function tst(n,e){if(1&n){const t=bs();fe(0,"li",15)(1,"a",18),jt("click",function(i){return Ln(t),rn().selectPage(1),Qn(i.preventDefault())}),cn(2,est,0,0,"ng-template",12),ce()()}if(2&n){const t=rn(),r=Of(1);Ci("disabled",t.previousDisabled()),Te(),Bi("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),Te(),qe("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",lx(6,u6,t.previousDisabled(),t.page))}}function nst(n,e){}function rst(n,e){if(1&n){const t=bs();fe(0,"li",15)(1,"a",19),jt("click",function(i){Ln(t);const s=rn();return s.selectPage(s.page-1),Qn(i.preventDefault())}),cn(2,nst,0,0,"ng-template",12),ce()()}if(2&n){const t=rn(),r=Of(3);Ci("disabled",t.previousDisabled()),Te(),Bi("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),Te(),qe("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",Hd(6,Vit,t.previousDisabled()))}}function ist(n,e){}function sst(n,e){}function ost(n,e){if(1&n){const t=bs();fe(0,"li",15)(1,"a",20),jt("click",function(i){Ln(t);const s=rn();return s.selectPage(s.page+1),Qn(i.preventDefault())}),cn(2,sst,0,0,"ng-template",12),ce()()}if(2&n){const t=rn(),r=Of(5);Ci("disabled",t.nextDisabled()),Te(),Bi("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),Te(),qe("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",lx(6,u6,t.nextDisabled(),t.page))}}function ast(n,e){}function lst(n,e){if(1&n){const t=bs();fe(0,"li",15)(1,"a",21),jt("click",function(i){Ln(t);const s=rn();return s.selectPage(s.pageCount),Qn(i.preventDefault())}),cn(2,ast,0,0,"ng-template",12),ce()()}if(2&n){const t=rn(),r=Of(7);Ci("disabled",t.nextDisabled()),Te(),Bi("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),Te(),qe("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",lx(6,u6,t.nextDisabled(),t.page))}}function mst(n,e){if(1&n&&(fe(0,"span"),Me(1),ce()),2&n){const t=rn().$implicit;Dg(rn().highlightClass),Te(),Br(t)}}function vst(n,e){if(1&n&&(Rv(0),Me(1),Ov()),2&n){const t=rn().$implicit;Te(),Br(t)}}function yst(n,e){1&n&&cn(0,mst,2,4,"span",0)(1,vst,2,1),2&n&&Fo(0,e.$index%2!=0?0:1)}const qle={animation:!0,transitionTimerDelayMs:5};let yF=(()=>{class n{constructor(){this.animation=qle.animation}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Wle(n){return null!=n?`${n}`:""}function Vb(n){return"string"==typeof n}function Vl(n){return!isNaN(function Mu(n){return parseInt(`${n}`,10)}(n))}function K0(n){return null!=n}function Qb(n){return(n||document.body).getBoundingClientRect()}function Xle(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const Mst=()=>{},{transitionTimerDelayMs:Tst}=qle,wS=new Map,tf=(n,e,t,r)=>{let i=r.context||{};const s=wS.get(e);if(s)switch(r.runningTransition){case"continue":return wl;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),wS.delete(e)}const o=t(e,r.animation,i)||Mst;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>o()),Zn(void 0).pipe(function Dst(n){return e=>new di(t=>e.subscribe({next:o=>n.run(()=>t.next(o)),error:o=>n.run(()=>t.error(o)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new Lr,l=new Lr,c=a.pipe(function Ynt(...n){return e=>Hx(e,Zn(...n))}(!0));wS.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const u=function Cst(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const h=pl(e,"transitionend").pipe(ll(c),Ys(({target:f})=>f===e));(function Mle(...n){return 1===(n=Dle(n)).length?ol(n[0]):new di(function Xnt(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(ol(n[r]).subscribe(qi(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))})(kN(u+Tst).pipe(ll(c)),h,l).pipe(ll(c)).subscribe(()=>{wS.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()},Nst=(n,e,t)=>{let{direction:r,maxSize:i,dimension:s}=t;const{classList:o}=n;function a(){o.add("collapse"),"show"===r?o.add("show"):o.remove("show")}if(e)return i||(i=function Bst(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,s),t.maxSize=i,n.style[s]="show"!==r?i:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),Qb(n),o.add("collapsing")),n.style[s]="show"===r?i:"0px",()=>{a(),o.remove("collapsing"),n.style[s]=""};a()};let Ist=(()=>{class n{constructor(){this._ngbConfig=Ve(yF),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),h6=(()=>{class n{constructor(){this._config=Ve(Ist),this._element=Ve(N),this._zone=Ve(Cr),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ie,this.horizontal=this._config.horizontal,this.shown=new ie,this.hidden=new ie}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,r){return tf(this._zone,this._element.nativeElement,Nst,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(r,i){2&r&&Ci("collapse-horizontal",i.horizontal)},inputs:{animation:"animation",collapsed:[Fr.None,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return n})(),ece=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),d6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),rce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),ice=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})();var io=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(io||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const hce=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function fce(n){const e=Array.from(n.querySelectorAll(hce)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Mce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Bce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Iot=(()=>{class n{constructor(){this._ngbConfig=Ve(yF),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class ey{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let Fot=(()=>{class n{constructor(){this._document=Ve(rs)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=o),i.overflow=s}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rot=(()=>{class n{constructor(){this._nativeElement=Ve(N).nativeElement,this._zone=Ve(Cr)}ngOnInit(){this._zone.onStable.asObservable().pipe(wo(1)).subscribe(()=>{tf(this._zone,this._nativeElement,(t,r)=>{r&&Qb(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return tf(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(Dg("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Ci("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ca],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})();class Nce{update(e){}close(e){}dismiss(e){}}const Oot=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Pot=["animation","backdropClass"];class Lot{_applyWindowOptions(e,t){Oot.forEach(r=>{K0(t[r])&&(e[r]=t[r])})}_applyBackdropOptions(e,t){Pot.forEach(r=>{K0(t[r])&&(e[r]=t[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ll(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ll(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Lr,this._dismissed=new Lr,this._hidden=new Lr,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function $le(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Zn(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Y8(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var E6=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(E6||{});let Uot=(()=>{class n{constructor(){this._document=Ve(rs),this._elRef=Ve(N),this._zone=Ve(Cr),this._closed$=new Lr,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ie,this.shown=new Lr,this.hidden=new Lr}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Vb(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(wo(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=Y8(tf(this._zone,t,()=>t.classList.remove("show"),r),tf(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};Y8(tf(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Qb(s),s.classList.add("show")},t),tf(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{pl(t,"keydown").pipe(ll(this._closed$),Ys(i=>i.which===io.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(E6.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;pl(this._dialogEl.nativeElement,"mousedown").pipe(ll(this._closed$),Ro(()=>r=!1),du(()=>pl(t,"mouseup").pipe(ll(this._closed$),wo(1))),Ys(({target:i})=>t===i)).subscribe(()=>{r=!0}),pl(t,"click").pipe(ll(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(E6.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=fce(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&tf(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&$i(Fit,7),2&r){let s;lr(s=cr())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(Bi("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Dg("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Ci("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ca],ngContentSelectors:rit,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,i){1&r&&(ix(),fe(0,"div",1,0)(2,"div",2),sx(3),ce()()),2&r&&Dg("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return n})(),kot=(()=>{class n{constructor(){this._applicationRef=Ve(kf),this._injector=Ve(xo),this._environmentInjector=Ve(La),this._document=Ve(rs),this._scrollBar=Ve(Fot),this._activeWindowCmptHasChanged=new Lr,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ie;const t=Ve(Cr);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const r=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=pl(e,"focusin").pipe(ll(t),Qr(s=>s.target));pl(e,"keydown").pipe(ll(t),Ys(s=>s.which===io.Tab),J8(i)).subscribe(([s,o])=>{const[a,l]=fce(e);(o===a||o===e)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&pl(e,"click").pipe(ll(t),J8(i),Qr(s=>s[1])).subscribe(s=>s.focus())})})(t,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const s=i.container instanceof HTMLElement?i.container:K0(i.container)?this._document.querySelector(i.container):this._document.body;if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const o=new Nce,a=(t=i.injector||t).get(La,null)||this._environmentInjector,l=this._getContentRef(t,a,r,o,i);let c=!1!==i.backdrop?this._attachBackdrop(s):void 0,u=this._attachWindowComponent(s,l.nodes),h=new Lot(u,l,c,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(u),h.hidden.pipe(wo(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),o.close=d=>{h.close(d)},o.dismiss=d=>{h.dismiss(d)},o.update=d=>{h.update(d)},h.update(i),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=eL(Rot,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=eL(Uot,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_getContentRef(t,r,i,s,o){return i?i instanceof ra?this._createFromTemplateRef(i,s):Vb(i)?this._createFromString(i):this._createFromComponent(t,r,i,s,o):new ey([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new ey([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new ey([[r]])}_createFromComponent(t,r,i,s,o){const l=eL(i,{environmentInjector:r,elementInjector:xo.create({providers:[{provide:Nce,useValue:s}],parent:t})}),c=l.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new ey([[c]],l.hostView,l)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hot=(()=>{class n{constructor(){this._injector=Ve(xo),this._modalStack=Ve(kot),this._config=Ve(Iot)}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ice=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({providers:[Hot]})}}return n})(),Oce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),$ot=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pce=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0})}}return n})(),Lce=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0})}}return n})(),Uce=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0})}}return n})(),kce=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0})}}return n})(),Hce=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0})}}return n})(),Vce=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0})}}return n})(),Qce=(()=>{class n{constructor(){this.templateRef=Ve(ra)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0})}}return n})(),M6=(()=>{class n{constructor(){this._config=Ve($ot),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new ie(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=function xst(n,e,t=0){return Math.max(Math.min(n,e),t)}(t,this.pageCount,1),this.page!==r&&Vl(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Vl(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["ngb-pagination"]],contentQueries:function(r,i,s){if(1&r&&(wa(s,Pce,5),wa(s,Lce,5),wa(s,Uce,5),wa(s,kce,5),wa(s,Hce,5),wa(s,Vce,5),wa(s,Qce,5)),2&r){let o;lr(o=cr())&&(i.tplEllipsis=o.first),lr(o=cr())&&(i.tplFirst=o.first),lr(o=cr())&&(i.tplLast=o.first),lr(o=cr())&&(i.tplNext=o.first),lr(o=cr())&&(i.tplNumber=o.first),lr(o=cr())&&(i.tplPrevious=o.first),lr(o=cr())&&(i.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[No,Ca],decls:20,vars:12,consts:()=>{let t,r,i,s,o,a,l,c;return t=$localize`:@@ngb.pagination.first:««`,r=$localize`:@@ngb.pagination.previous:«`,i=$localize`:@@ngb.pagination.next:»`,s=$localize`:@@ngb.pagination.last:»»`,o=$localize`:@@ngb.pagination.first-aria:First`,a=$localize`:@@ngb.pagination.previous-aria:Previous`,l=$localize`:@@ngb.pagination.next-aria:Next`,c=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],t,r,i,s,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"]]},template:function(r,i){if(1&r&&(cn(0,Qit,2,0,"ng-template",null,0,Uf)(2,zit,2,0,"ng-template",null,1,Uf)(4,Git,2,0,"ng-template",null,2,Uf)(6,jit,2,0,"ng-template",null,3,Uf)(8,qit,1,0,"ng-template",null,4,Uf)(10,Wit,1,1,"ng-template",null,5,Uf)(12,Zit,2,0,"ng-template",null,6,Uf),fe(14,"ul"),cn(15,tst,3,9,"li",11)(16,rst,3,8,"li",11)(17,ist,0,0,"ng-template",12)(18,ost,3,9,"li",11)(19,lst,3,9,"li",11),ce()),2&r){const s=Of(13);Te(14),Dg("pagination"+(i.size?" pagination-"+i.size:"")),Te(),Fo(15,i.boundaryLinks?15:-1),Te(),Fo(16,i.directionLinks?16:-1),Te(),qe("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||s)("ngTemplateOutletContext",F5(8,Uit,i.page,i.pages,i.disabled)),Te(),Fo(18,i.directionLinks?18:-1),Te(),Fo(19,i.boundaryLinks?19:-1)}},dependencies:[D_],encapsulation:2,changeDetection:0})}}return n})(),IF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),zce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Gce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),jce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),qce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Wce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),$ce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Kce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),T6=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=Wle(this.result),i=Array.isArray(this.term)?this.term:[this.term],s=c=>this.accentSensitive?c:Xle(c),o=i.map(c=>function Est(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(s(Wle(c)))).filter(c=>c),a=this.accentSensitive?r:Xle(r),l=o.length?a.split(new RegExp(`(${o.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=l;else{let c=0;this.parts=l.map(u=>r.substring(c,c+=u.length))}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[No,Ca],decls:2,vars:0,consts:[[3,"class"]],template:function(r,i){1&r&&Ku(0,yst,2,1,null,null,Rf),2&r&&Xu(i.parts)},styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0})}}return n})();new bn("live announcer delay",{providedIn:"root",factory:()=>100});let Xce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})(),Yce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({})}}return n})();const tat=[ece,d6,rce,ice,Mce,Bce,Ice,Oce,Yce,IF,zce,Gce,jce,qce,Wce,$ce,Kce,Xce];let Jce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({imports:[tat,ece,d6,rce,ice,Mce,Bce,Ice,Oce,Yce,IF,zce,Gce,jce,qce,Wce,$ce,Kce,Xce]})}}return n})();const nat=(n,e)=>e.path;function rat(n,e){1&n&&(fe(0,"span",9),Me(1,"[Cargando...]"),ce())}function iat(n,e){1&n&&(fe(0,"span",9),Me(1,"[Escuchando...]"),ce())}function sat(n,e){if(1&n&&(fe(0,"span",19)(1,"p"),Me(2),ce()()),2&n){const t=rn();Te(2),Hi("Error: ",t.error,"")}}function oat(n,e){if(1&n&&(fe(0,"tr")(1,"td")(2,"a",21),lt(3,"ngb-highlight",22),ce()()()),2&n){const t=rn().$implicit,r=rn();Te(2),qe("routerLink","/"+t.path),Te(),qe("result",t.caption)("term",r.searchTerm)}}function aat(n,e){1&n&&cn(0,oat,4,3,"tr",20),2&n&&qe("ngIf",""!=e.$implicit.path)}function lat(n,e){1&n&&(fe(0,"tr")(1,"td",23),Me(2,"[NO SE ENCONTRARON DATOS]"),ce()())}const cat={asc:"desc",desc:"","":"asc"};let hat=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new ie}_rotatePage(){this.direction=cat[this.direction],this.sortevent.emit({column:this.sortable,direction:this.direction})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["th","_sortevent",""]],hostVars:4,hostBindings:function(r,i){1&r&&jt("click",function(){return i._rotatePage()}),2&r&&Ci("asc","asc"===i._direction)("desc","desc"===i._direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})(),fat=(()=>{class n{constructor(t,r){this.pipe=t,this._authService=r,this.ConfigRoleString=X8.RoleConfig.toString(),this._loading=new as(!0),this._total=new as(0),this._search$=new Lr,this._Pagelist=new as([]),this._state={page:1,pageSize:4,searchTerm:"",sortColumn:"",sortDirection:""},this.isListening=!1,this.transcript="",this.error="",this.ListeningButtonIconOn="./assets/images/mic_on.gif",this.ListeningButtonIconOff="./assets/images/mic_off.gif",this.SpeakerIcon="./assets/images/speaker_on.gif",this.clearFormIcon="./assets/images/clearForm.gif",this.InitializeSpeechRecognition(),this._search$.pipe(Ro(()=>this._loading.next(!0)),Ele(200),du(()=>this._search()),pS(200),Ro(()=>this._loading.next(!1))).subscribe(i=>{this._Pagelist.next(i.searchPages),this._total.next(i.total)}),this._search$.next()}InitializeSpeechRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=r=>{this.transcript=r.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=r=>{this.error=r.error,this.isListening=!1,console.error("Error:",this.error)},this.recognition.onend=()=>{console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}_search(){let t,r,i={searchPages:t,total:r};const{pageSize:a,page:l,searchTerm:c}=this._state;return t=eue,t=t.filter(u=>function uat(n,e,t){return n.caption?.toLowerCase().includes(e?.toLowerCase())}(u,c)),r=t.length,t=t.slice((l-1)*a,(l-1)*a+a),i={searchPages:t,total:r},Zn(i)}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(t){this._Pagelist=t}get page(){return this._state.page}set page(t){this._set({page:t})}get pageSize(){return this._state.pageSize}set pageSize(t){this._set({pageSize:t})}get searchTerm(){return this._state.searchTerm}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}onSort({column:t,direction:r}){this.headers?.forEach(i=>{i.sortable!==t&&(i.direction="")}),this.sortColumn=t,this.sortDirection=r}startListening(){this.recognition&&(console.log("listening started"),this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(console.log("listening ended"),this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t),this.searchTerm=this.transcript}else alert("No text to speak!")}clearText(){this.searchTerm=""}static{this.\u0275fac=function(r){return new(r||n)(At(kM),At(Sle))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-index"]],viewQuery:function(r,i){if(1&r&&$i(hat,5),2&r){let s;lr(s=cr())&&(i.headers=s)}},decls:49,vars:26,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"click","disabled"],[3,"src"],[3,"click"],[1,"col","col-form-label"],["class","error",4,"ngIf"],[1,"table","table-striped","table-dark"],["scope","col","sortable","path"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],["routerLink","/Home"],[1,"error"],[4,"ngIf"],[3,"routerLink"],[3,"result","term"],["colspan","4",2,"text-align","center"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Me(2,"[INDEX]"),ce(),lt(3,"hr"),fe(4,"form")(5,"div",1)(6,"label",2),Me(7,"Busqueda de Texto Completo:"),ce(),fe(8,"div",3)(9,"input",4),Lf("ngModelChange",function(o){return kd(i.searchTerm,o)||(i.searchTerm=o),o}),ce()(),fe(10,"span",5)(11,"button",6),jt("click",function(){return i.startListening()}),lt(12,"img",7),ce(),fe(13,"button",6),jt("click",function(){return i.stopListening()}),lt(14,"img",7),ce(),fe(15,"button",6),jt("click",function(){return i.speakText()}),lt(16,"img",7),ce(),fe(17,"button",8),jt("click",function(){return i.clearText()}),lt(18,"img",7),ce()(),cn(19,rat,2,0,"span",9),hu(20,"async"),cn(21,iat,2,0,"span",9)(22,sat,3,1,"span",10),ce(),fe(23,"table",11)(24,"thead")(25,"tr")(26,"th",12),Me(27,"[Pagina]"),ce()()(),fe(28,"tbody"),Ku(29,aat,1,1,"tr",null,nat,!1,lat,3,0,"tr"),hu(32,"async"),ce()(),fe(33,"div",13)(34,"ngb-pagination",14),hu(35,"async"),Lf("pageChange",function(o){return kd(i.page,o)||(i.page=o),o}),ce(),fe(36,"select",15),Lf("ngModelChange",function(o){return kd(i.pageSize,o)||(i.pageSize=o),o}),fe(37,"option",16),Me(38,"2 items por Pagina"),ce(),fe(39,"option",16),Me(40,"4 items por Pagina"),ce(),fe(41,"option",16),Me(42,"6 tems por Pagina"),ce(),fe(43,"option",16),Me(44,"10 items por Pagina"),ce()()()()(),lt(45,"hr"),fe(46,"div",17)(47,"a",18),Me(48,"[Volver al Inicio]"),ce()()),2&r&&(Te(9),Pf("ngModel",i.searchTerm),Te(2),qe("disabled",i.isListening),Te(),qe("src",i.ListeningButtonIconOn,mo),Te(),qe("disabled",!i.isListening),Te(),qe("src",i.ListeningButtonIconOff,mo),Te(),qe("disabled",i.isListening),Te(),qe("src",i.SpeakerIcon,mo),Te(2),qe("src",i.clearFormIcon,mo),Te(),Fo(19,fu(20,20,i.loading)?19:-1),Te(2),Fo(21,i.isListening&&!i.error?21:-1),Te(),qe("ngIf",i.error),Te(7),Xu(fu(32,22,i._Pagelist)),Te(5),qe("collectionSize",fu(35,24,i.total)),Pf("page",i.page),qe("pageSize",i.pageSize),Te(2),Pf("ngModel",i.pageSize),Te(),qe("ngValue",2),Te(2),qe("ngValue",4),Te(2),qe("ngValue",6),Te(2),qe("ngValue",10))},dependencies:[xs,ec,R_,jv,qv,Qd,Fx,kg,N_,Gv,F_,M6,T6,M_],styles:["img[_ngcontent-%COMP%]{width:15px;height:30px}"]})}}return n})();function dat(n,e){if(1&n&&(fe(0,"ul")(1,"li")(2,"a",5),Me(3),ce()()()),2&n){const t=e.$implicit;Te(2),qe("href",t.url,mo),Te(),Br(t.name)}}let Aat=(()=>{class n{constructor(){this.aiPrompts=[],console.log("AI Prompts: "+JSON.stringify(Qg.aiPrompts)),this.aiPrompts=Qg.aiPrompts}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["llm-list"]],decls:11,vars:1,consts:[["align","center"],["align","left"],[4,"ngFor","ngForOf"],["align","right"],["routerLink","/Home"],["target","_blank",3,"href"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h4")(2,"b"),Me(3,"[LLMs]"),ce()(),lt(4,"hr"),ce(),fe(5,"div",1),cn(6,dat,4,2,"ul",2),ce(),lt(7,"hr"),fe(8,"div",3)(9,"a",4),Me(10,"[Inicio]"),ce()()),2&r&&(Te(6),qe("ngForOf",i.aiPrompts))},dependencies:[xs,Bl]})}}return n})();class pat extends Lr{constructor(e=1/0,t=1/0,r=tH){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}class gat extends Lr{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:r,_value:i,thrownError:s,isStopped:o,_isComplete:a}=this;t?e.error(s):(o||a)&&(r&&e.next(i),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:r}=this;r||(this._isComplete=!0,e&&super.next(t),super.complete())}}class Zce{constructor(){}loadScript(e,t,r,i=null){if(typeof document<"u"&&!document.getElementById(e)){let s=document.createElement("script");s.async=!0,s.src=t,s.onload=r,i||(i=document.head),i.appendChild(s)}}}class B6{}const mat={oneTapEnabled:!0};let N6=(()=>{class n extends Zce{static{this.PROVIDER_ID="GOOGLE"}constructor(t,r){super(),this.clientId=t,this.initOptions=r,this.changeUser=new ie,this._socialUser=new as(null),this._accessToken=new as(null),this._receivedAccessToken=new ie,this.initOptions={...mat,...this.initOptions},this._socialUser.pipe(Z8(1)).subscribe(this.changeUser),this._accessToken.pipe(Z8(1)).subscribe(this._receivedAccessToken)}initialize(t,r){return new Promise((i,s)=>{try{this.loadScript(n.PROVIDER_ID,this.getGoogleLoginScriptSrc(r),()=>{if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:o})=>{const a=this.createSocialUser(o);this._socialUser.next(a)},prompt_parent_id:this.initOptions?.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled,use_fedcm_for_prompt:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe(Ys(o=>null===o)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const o=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(a=>a).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:o,prompt:this.initOptions.prompt,callback:a=>{a.error?this._accessToken.error({code:a.error,description:a.error_description,uri:a.error_uri}):this._accessToken.next(a.access_token)}})}i()})}catch(o){s(o)}})}getLoginStatus(){return new Promise((t,r)=>{this._socialUser.value?t(this._socialUser.value):r(`No user is currently logged in with ${n.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,r)=>{google.accounts.id.revoke(this._socialUser.value.id,i=>{i.error?r(i.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,r)=>{this._tokenClient?(this._tokenClient.requestAccessToken({hint:this._socialUser.value?.email}),this._receivedAccessToken.pipe(wo(1)).subscribe(t)):r(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,r)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):r("No access token to revoke"):r("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){var t=this;return(0,yt.A)(function*(){google.accounts.id.disableAutoSelect(),t._socialUser.next(null)})()}createSocialUser(t){const r=new B6;r.idToken=t;const i=this.decodeJwt(t);return r.id=i.sub,r.name=i.name,r.email=i.email,r.photoUrl=i.picture,r.firstName=i.given_name,r.lastName=i.family_name,r}decodeJwt(t){const i=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(i).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)}getGoogleLoginScriptSrc(t){return t?`https://accounts.google.com/gsi/client?hl=${t}`:"https://accounts.google.com/gsi/client"}}return n})(),I6=(()=>{class n{static{this.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found"}static{this.ERR_NOT_LOGGED_IN="Not logged in"}static{this.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?"}static{this.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token"}static{this.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token"}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}constructor(t,r,i){this._ngZone=r,this._injector=i,this.providers=new Map,this.autoLogin=!1,this.lang="",this._user=null,this._authState=new pat(1),this.initialized=!1,this._initState=new gat,t instanceof Promise?t.then(s=>{this.initialize(s)}):this.initialize(t)}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin,this.lang=void 0!==t.lang?t.lang:"";const{onError:r=console.error}=t;t.providers.forEach(i=>{this.providers.set(i.id,"prototype"in i.provider?this._injector.get(i.provider):i.provider)}),Promise.all(Array.from(this.providers.values()).map(i=>i.initialize(this.autoLogin,this.lang))).then(()=>{if(this.autoLogin){const i=[];let s=!1;this.providers.forEach((o,a)=>{const l=o.getLoginStatus();i.push(l),l.then(c=>{this.setUser(c,a),s=!0}).catch(console.debug)}),Promise.all(i).catch(()=>{s||(this._user=null,this._authState.next(null))})}this.providers.forEach((i,s)=>{q$(i.changeUser)&&i.changeUser.subscribe(o=>{this._ngZone.run(()=>{this.setUser(o,s)})})})}).catch(i=>{r(i)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(t){var r=this;return(0,yt.A)(function*(){const i=r.providers.get(t);if(!r.initialized)throw n.ERR_NOT_INITIALIZED;if(!i)throw n.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(i instanceof N6))throw n.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield i.getAccessToken()})()}refreshAuthToken(t){return new Promise((r,i)=>{if(this.initialized){const s=this.providers.get(t);s?"function"!=typeof s.refreshToken?i(n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):s.refreshToken().then(o=>{this.setUser(o,t),r()}).catch(o=>{i(o)}):i(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(n.ERR_NOT_INITIALIZED)})}refreshAccessToken(t){return new Promise((r,i)=>{if(this.initialized)if(t!==N6.PROVIDER_ID)i(n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const s=this.providers.get(t);s instanceof N6?s.revokeAccessToken().then(r).catch(i):i(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(n.ERR_NOT_INITIALIZED)})}signIn(t,r){return new Promise((i,s)=>{if(this.initialized){let o=this.providers.get(t);o?o.signIn(r).then(a=>{this.setUser(a,t),i(a)}).catch(a=>{s(a)}):s(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else s(n.ERR_NOT_INITIALIZED)})}signOut(t=!1){return new Promise((r,i)=>{if(this.initialized)if(this._user){let o=this.providers.get(this._user.provider);o?o.signOut(t).then(()=>{r(),this.setUser(null)}).catch(a=>{i(a)}):i(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(n.ERR_NOT_LOGGED_IN);else i(n.ERR_NOT_INITIALIZED)})}setUser(t,r){t&&r&&(t.provider=r),this._user=t,this._authState.next(t)}static{this.\u0275fac=function(r){return new(r||n)(Wt("SocialAuthServiceConfig"),Wt(Cr),Wt(xo))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vat=(()=>{class n{static initialize(t){return{ngModule:n,providers:[I6,{provide:"SocialAuthServiceConfig",useValue:t}]}}constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static{this.\u0275fac=function(r){return new(r||n)(Wt(n,12))}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({providers:[I6],imports:[Ng]})}}return n})(),F6=(()=>{class n extends Zce{static{this.PROVIDER_ID="FACEBOOK"}constructor(t,r={}){super(),this.clientId=t,this.requestOptions={scope:"email,public_profile",locale:"en_US",fields:"name,email,picture,first_name,last_name",version:"v10.0"},this.requestOptions={...this.requestOptions,...r}}initialize(){return new Promise((t,r)=>{try{this.loadScript(n.PROVIDER_ID,`//connect.facebook.net/${this.requestOptions.locale}/sdk.js`,()=>{FB.init({appId:this.clientId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:this.requestOptions.version}),t()})}catch(i){r(i)}})}getLoginStatus(){return new Promise((t,r)=>{FB.getLoginStatus(i=>{if("connected"===i.status){let s=i.authResponse;FB.api(`/me?fields=${this.requestOptions.fields}`,o=>{let a=new B6;a.id=o.id,a.name=o.name,a.email=o.email,a.photoUrl="https://graph.facebook.com/"+o.id+"/picture?type=normal&access_token="+s.accessToken,a.firstName=o.first_name,a.lastName=o.last_name,a.authToken=s.accessToken,a.response=o,t(a)})}else r(`No user is currently logged in with ${n.PROVIDER_ID}`)})})}signIn(t){const r={...this.requestOptions,...t};return new Promise((i,s)=>{FB.login(o=>{if(o.authResponse){let a=o.authResponse;FB.api(`/me?fields=${r.fields}`,l=>{let c=new B6;c.id=l.id,c.name=l.name,c.email=l.email,c.photoUrl="https://graph.facebook.com/"+l.id+"/picture?type=normal",c.firstName=l.first_name,c.lastName=l.last_name,c.authToken=a.accessToken,c.response=l,i(c)})}else s("User cancelled login or did not fully authorize.")},r)})}signOut(){return new Promise((t,r)=>{FB.logout(i=>{t()})})}}return n})();function _at(n,e){1&n&&(fe(0,"div",12),Me(1," Nombre es requerido y debe ser por lo menos 3 caracteres de largo. "),ce())}function bat(n,e){1&n&&(fe(0,"div",12),Me(1," Por favor ingrese un email v\xe1lido. "),ce())}function wat(n,e){1&n&&(fe(0,"div",12),Me(1," Mensaje es rquerido y debe ser al menos 10 caracteres de largo "),ce())}function Cat(n,e){if(1&n){const t=bs();fe(0,"div")(1,"div",1)(2,"form",2),jt("ngSubmit",function(){return Ln(t),Qn(rn().onSubmit())}),fe(3,"div",3)(4,"label",4),Me(5,"Nombre"),ce(),lt(6,"input",5),cn(7,_at,2,0,"div",6),ce(),fe(8,"div",3)(9,"label",7),Me(10,"Email"),ce(),lt(11,"input",8),cn(12,bat,2,0,"div",6),ce(),fe(13,"div",3)(14,"label",9),Me(15,"Mensaje"),ce(),lt(16,"textarea",10),cn(17,wat,2,0,"div",6),ce(),fe(18,"button",11),Me(19,"[Enviar]"),ce()()(),lt(20,"hr"),ce()}if(2&n){let t,r,i;const s=rn();Te(2),qe("formGroup",s.contactForm),Te(5),qe("ngIf",(null==(t=s.contactForm.get("name"))?null:t.invalid)&&(null==(t=s.contactForm.get("name"))?null:t.touched)),Te(5),qe("ngIf",(null==(r=s.contactForm.get("email"))?null:r.invalid)&&(null==(r=s.contactForm.get("email"))?null:r.touched)),Te(5),qe("ngIf",(null==(i=s.contactForm.get("message"))?null:i.invalid)&&(null==(i=s.contactForm.get("message"))?null:i.touched)),Te(),qe("disabled",s.contactForm.invalid)}}function xat(n,e){if(1&n){const t=bs();fe(0,"div")(1,"a",13),jt("click",function(){return Ln(t),Qn(rn().isLoggedIn=!0)}),Me(2,"Volver al Formulario"),ce(),lt(3,"hr"),ce()}}let Eat=(()=>{class n{constructor(t,r,i){this.authService=t,this.fb=r,this.http=i,this.user=null,this.isLoggedIn=!0,this.contactForm=this.fb.group({name:["",[Qv.required,Qv.minLength(3)]],email:["",[Qv.required,Qv.email]],message:["",[Qv.required,Qv.minLength(10)]]})}ngOnInit(){this.authService.authState.subscribe(t=>{this.isLoggedIn=null!=t,console.log("Facebook User:",this.user)})}onSubmit(){this.contactForm.valid?(console.log("Form Submitted!",this.contactForm.value),this.contactForm.valid?this.http.post("https://9rfn3t-4000.csb.app/contact",this.contactForm.value).subscribe(r=>{console.log("Form submitted successfully!",r),alert("Gracias! Se le enviar\xe1 pronto un email con m\xe1s informaci\xf3n."),this.contactForm.reset()},r=>{console.error("Error submitting form:",r),alert("There was an error submitting the form. Please try again.")}):console.log("Form is invalid"),this.logout()):console.log("Form is invalid")}loginWithFacebook(){this.authService.signIn(F6.PROVIDER_ID).then(t=>{console.log("User Data:",t),this.contactForm.get("name")?.reset(t.name),this.contactForm.get("email")?.reset(t.email)},t=>{console.error("Facebook login error:",t)})}logout(){this.authService.signOut(),this.user=null,this.isLoggedIn=!1}static{this.\u0275fac=function(r){return new(r||n)(At(I6),At(u$),At(kv))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-contact-form"]],decls:6,vars:2,consts:[[4,"ngIf"],[1,"contact-form-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","type","text","maxlength","100","formControlName","name","placeholder","Ingrese su nombre"],["class","error",4,"ngIf"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Ingrese su email"],["for","message"],["id","message","formControlName","message","maxlength","100","placeholder","Ingrese su mensaje (m\xe1ximo 100 caracteres)"],["type","submit",3,"disabled"],[1,"error"],[3,"click"]],template:function(r,i){1&r&&(lt(0,"hr"),fe(1,"h2"),Me(2,"Cont\xe1ctenos"),ce(),lt(3,"hr"),cn(4,Cat,21,5,"div",0)(5,xat,4,0,"div",0)),2&r&&(Te(4),qe("ngIf",i.isLoggedIn),Te(),qe("ngIf",!i.isLoggedIn))},dependencies:[ec,R_,Qd,kg,N_,cT,Ix,aT],styles:[".contact-form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc}.error[_ngcontent-%COMP%]{color:red;font-size:12px}"]})}}return n})();const Sat=(n,e)=>e.id;function Dat(n,e){1&n&&(fe(0,"span",9),Me(1,"[Cargando...]"),ce())}function Mat(n,e){1&n&&(fe(0,"span",9),Me(1,"[Escuchando...]"),ce())}function Tat(n,e){if(1&n&&(fe(0,"span",25)(1,"p"),Me(2),ce()()),2&n){const t=rn();Te(2),Hi("Error: ",t.error,"")}}function Bat(n,e){if(1&n&&(fe(0,"tr")(1,"th",26),Me(2),ce(),fe(3,"td"),lt(4,"input",27),ce(),fe(5,"td",0),lt(6,"ngb-highlight",28),ce(),fe(7,"td",0)(8,"a",29),lt(9,"ngb-highlight",28),ce()(),fe(10,"td",0)(11,"a",29),lt(12,"ngb-highlight",28),ce()(),fe(13,"td",0)(14,"a",29),lt(15,"ngb-highlight",28),ce()(),fe(16,"td",0)(17,"a",29),lt(18,"ngb-highlight",28),ce()()()),2&n){const t=e.$implicit,r=rn();Te(2),Br(t.id),Te(2),qe("checked",t.done),Te(2),qe("result",t.description)("term",r.searchTerm),Te(2),qe("href",t.field_1,mo),Te(),qe("result",t.name)("term",r.searchTerm),Te(2),qe("href",t.field_3,mo),Te(),qe("result",t.field_2)("term",r.searchTerm),Te(2),qe("href",t.field_5,mo),Te(),qe("result",t.field_4)("term",r.searchTerm),Te(2),qe("href",t.field_7,mo),Te(),qe("result",t.field_6)("term",r.searchTerm)}}function Nat(n,e){1&n&&(fe(0,"tr")(1,"td",30),Me(2,"[NO SE ENCONTRARON DATOS]"),ce()())}const Iat={asc:"desc",desc:"","":"asc"};let Rat=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new ie}_rotatePage(){this.direction=Iat[this.direction],this.sortevent.emit({column:this.sortable,direction:this.direction})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=mn({type:n,selectors:[["th","_sortevent",""]],hostVars:4,hostBindings:function(r,i){1&r&&jt("click",function(){return i._rotatePage()}),2&r&&Ci("asc","asc"===i._direction)("desc","desc"===i._direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})(),Oat=(()=>{class n{constructor(t,r){this.pipe=t,this._authService=r,this.ConfigRoleString=X8.RoleConfig.toString(),this._loading=new as(!0),this._total=new as(0),this._search$=new Lr,this._Pagelist=new as([]),this._state={page:1,pageSize:6,searchTerm:"",sortColumn:"",sortDirection:""},this.isListening=!1,this.transcript="",this.error="",this.ListeningButtonIconOn="./assets/images/mic_on.gif",this.ListeningButtonIconOff="./assets/images/mic_off.gif",this.SpeakerIcon="./assets/images/speaker_on.gif",this.clearFormIcon="./assets/images/clearForm.gif",this.InitializeSpeechRecognition(),this._search$.pipe(Ro(()=>this._loading.next(!0)),Ele(200),du(()=>this._search()),pS(200),Ro(()=>this._loading.next(!1))).subscribe(i=>{this._Pagelist.next(i.searchPages),this._total.next(i.total)}),this._search$.next()}_search(){let t,r,i={searchPages:t,total:r};const{pageSize:a,page:l,searchTerm:c}=this._state;return console.log("search : "+JSON.stringify(Qg.scmList)),t=Qg.scmList,t=t.filter(u=>function Fat(n,e,t){return n.name?.toLowerCase().includes(e?.toLowerCase())||n.description?.toLowerCase().includes(e?.toLowerCase())||n.field_1?.toLowerCase().includes(e?.toLowerCase())||n.field_2?.toLowerCase().includes(e?.toLowerCase())||n.field_3?.toLowerCase().includes(e?.toLowerCase())||n.field_4?.toLowerCase().includes(e?.toLowerCase())||n.field_5?.toLowerCase().includes(e?.toLowerCase())||n.field_6?.toLowerCase().includes(e?.toLowerCase())||n.field_7?.toLowerCase().includes(e?.toLowerCase())}(u,c)),r=t.length,t=t.slice((l-1)*a,(l-1)*a+a),i={searchPages:t,total:r},Zn(i)}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(t){this._Pagelist=t}get page(){return this._state.page}set page(t){this._set({page:t})}get pageSize(){return this._state.pageSize}set pageSize(t){this._set({pageSize:t})}get searchTerm(){return this._state.searchTerm}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}onSort({column:t,direction:r}){this.headers?.forEach(i=>{i.sortable!==t&&(i.direction="")}),this.sortColumn=t,this.sortDirection=r}InitializeSpeechRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.lang="es-CO",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=r=>{this.transcript=r.results[0][0].transcript,console.log("Transcript:",this.transcript)},this.recognition.onerror=r=>{this.error=r.error,this.isListening=!1,console.error("Error:",this.error)},this.recognition.onend=()=>{console.log("Recognition ended.")}):alert("Speech Recognition API is not supported in your browser.")}startListening(){this.recognition&&(console.log("listening started"),this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(console.log("listening ended"),this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const t=new SpeechSynthesisUtterance(this.transcript);t.lang="es-CO",window.speechSynthesis.speak(t),this.searchTerm=this.transcript}else alert("No text to speak!")}clearText(){this.searchTerm=""}static{this.\u0275fac=function(r){return new(r||n)(At(kM),At(Sle))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-scm"]],viewQuery:function(r,i){if(1&r&&$i(Rat,5),2&r){let s;lr(s=cr())&&(i.headers=s)}},decls:61,vars:26,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"click","disabled"],[3,"src"],[3,"click"],[1,"col","col-form-label"],["class","error",4,"ngIf"],[1,"table","table-striped","table-dark"],["align","left","scope","col","sortable","id"],["align","left","scope","col","sortable","done"],["align","left","scope","col","sortable","description"],["align","left","scope","col","sortable","name"],["align","left","scope","col","sortable","field_2"],["align","left","scope","col","sortable","field_4"],["align","left","scope","col","sortable","field_6"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],["routerLink","/Home"],[1,"error"],["scope","row"],["type","checkbox","name","done","id","done","value","done","readonly","",3,"checked"],[3,"result","term"],["target","_blank",3,"href"],["colspan","4",2,"text-align","center"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Me(2,"[SCM]"),ce()(),lt(3,"hr"),fe(4,"form")(5,"div",1)(6,"label",2),Me(7,"Busqueda de Texto Completo:"),ce(),fe(8,"div",3)(9,"input",4),Lf("ngModelChange",function(o){return kd(i.searchTerm,o)||(i.searchTerm=o),o}),ce()(),fe(10,"span",5)(11,"button",6),jt("click",function(){return i.startListening()}),lt(12,"img",7),ce(),fe(13,"button",6),jt("click",function(){return i.stopListening()}),lt(14,"img",7),ce(),fe(15,"button",6),jt("click",function(){return i.speakText()}),lt(16,"img",7),ce(),fe(17,"button",8),jt("click",function(){return i.clearText()}),lt(18,"img",7),ce()(),cn(19,Dat,2,0,"span",9),hu(20,"async"),cn(21,Mat,2,0,"span",9)(22,Tat,3,1,"span",10),ce(),fe(23,"table",11)(24,"thead")(25,"tr")(26,"th",12),Me(27,"#"),ce(),fe(28,"th",13),Me(29,"(Hecho)"),ce(),fe(30,"th",14),Me(31,"[Type]"),ce(),fe(32,"th",15),Me(33,"[desc_1]"),ce(),fe(34,"th",16),Me(35,"[desc_2]"),ce(),fe(36,"th",17),Me(37,"[desc_3]"),ce(),fe(38,"th",18),Me(39,"[desc_4]"),ce()()(),fe(40,"tbody"),Ku(41,Bat,19,16,"tr",null,Sat,!1,Nat,3,0,"tr"),hu(44,"async"),ce()(),fe(45,"div",19)(46,"ngb-pagination",20),hu(47,"async"),Lf("pageChange",function(o){return kd(i.page,o)||(i.page=o),o}),ce(),fe(48,"select",21),Lf("ngModelChange",function(o){return kd(i.pageSize,o)||(i.pageSize=o),o}),fe(49,"option",22),Me(50,"2 items por Pagina"),ce(),fe(51,"option",22),Me(52,"4 items por Pagina"),ce(),fe(53,"option",22),Me(54,"6 tems por Pagina"),ce(),fe(55,"option",22),Me(56,"10 items por Pagina"),ce()()()(),lt(57,"hr"),fe(58,"div",23)(59,"a",24),Me(60,"[Volver al Inicio]"),ce()()),2&r&&(Te(9),Pf("ngModel",i.searchTerm),Te(2),qe("disabled",i.isListening),Te(),qe("src",i.ListeningButtonIconOn,mo),Te(),qe("disabled",!i.isListening),Te(),qe("src",i.ListeningButtonIconOff,mo),Te(),qe("disabled",i.isListening),Te(),qe("src",i.SpeakerIcon,mo),Te(2),qe("src",i.clearFormIcon,mo),Te(),Fo(19,fu(20,20,i.loading)?19:-1),Te(2),Fo(21,i.isListening&&!i.error?21:-1),Te(),qe("ngIf",i.error),Te(19),Xu(fu(44,22,i._Pagelist)),Te(5),qe("collectionSize",fu(47,24,i.total)),Pf("page",i.page),qe("pageSize",i.pageSize),Te(2),Pf("ngModel",i.pageSize),Te(),qe("ngValue",2),Te(2),qe("ngValue",4),Te(2),qe("ngValue",6),Te(2),qe("ngValue",10))},dependencies:[xs,ec,R_,jv,qv,Qd,Fx,kg,N_,Gv,F_,M6,T6,M_],styles:["img[_ngcontent-%COMP%]{width:15px;height:30px}"]})}}return n})(),Pat=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-topics"]],decls:120,vars:0,consts:[["align","left"],["target","_blank","href","#"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h1"),Me(2,"[TOPICS]"),ce(),fe(3,"h2"),Me(4,"[Front End]"),ce(),fe(5,"ul")(6,"li")(7,"a",1),Me(8,"[Angular/Typescript]"),ce()(),fe(9,"li")(10,"a",1),Me(11,"[BootStrap]"),ce()(),fe(12,"li")(13,"a",1),Me(14,"[Angular Material]"),ce()(),fe(15,"li")(16,"a",1),Me(17,"[jquery/css/html]"),ce()()(),fe(18,"h2"),Me(19,"[Backend]"),ce(),fe(20,"ul")(21,"li")(22,"a",1),Me(23,"[c# / .NET CORE]"),ce()(),fe(24,"li")(25,"a",1),Me(26,"[node.js]"),ce()()(),fe(27,"h2"),Me(28,"[A.I.]"),ce(),fe(29,"ul")(30,"li")(31,"a",1),Me(32,"Google Gemini"),ce()(),fe(33,"li")(34,"a",1),Me(35,"Chat gtp"),ce()(),fe(36,"li")(37,"a",1),Me(38,"C# Accord"),ce()(),fe(39,"li")(40,"a",1),Me(41,"C++ OpenCV"),ce()()(),fe(42,"h2"),Me(43,"[Algorithm]"),ce(),fe(44,"ul")(45,"li")(46,"a",1),Me(47,"[TAOCP]"),ce()(),fe(48,"li")(49,"a",1),Me(50,"[Coursera / Neural Networks / Machine Learning]"),ce()()(),fe(51,"h2"),Me(52,"[Databases]"),ce(),fe(53,"ul")(54,"li")(55,"a",1),Me(56,"[MS SQL SERVER]"),ce()(),fe(57,"li")(58,"a",1),Me(59,"[ORACLE]"),ce()(),fe(60,"li")(61,"a",1),Me(62,"[MY SQL]"),ce()()(),fe(63,"h2"),Me(64,"[Software Engineering]"),ce(),fe(65,"ul")(66,"li")(67,"a",1),Me(68,"[Swebok]"),ce()(),fe(69,"li")(70,"a",1),Me(71,"[Solid]"),ce()(),fe(72,"li")(73,"a",1),Me(74,"[Softeware Patterns]"),ce()(),fe(75,"li")(76,"a",1),Me(77,"[Clean]"),ce()()(),lt(78,"hr"),fe(79,"h4"),Me(80,"[Angular - Listado por Tema]"),ce(),fe(81,"ul")(82,"li"),Me(83,"Formularios basados en plantillas."),ce(),fe(84,"li"),Me(85,"Fomulaios reactivos."),ce(),fe(86,"li"),Me(87,"Servicios (llamadas API Rest a backends .net o node.js)."),ce(),fe(88,"li"),Me(89,"Pipes (formato de fecha)."),ce(),fe(90,"li"),Me(91,"Injecci\xf3n de Dependencia."),ce()(),lt(92,"hr"),fe(93,"h4"),Me(94,"[Angular - Listado Por Caracter\xedstica]"),ce(),fe(95,"ul")(96,"li"),Me(97,"Lectura de archivos de configuraci\xf3n."),ce(),fe(98,"li"),Me(99,"Interceptores (registro de llamadas http)"),ce(),fe(100,"li"),Me(101,"Manejo de errores."),ce(),fe(102,"li"),Me(103,"Manejo de Graficos (canvas)."),ce(),fe(104,"li"),Me(105,"Graficos estadisticos tipo Pastel y barras."),ce(),fe(106,"li"),Me(107,"Exportaciones pdf, xls, csv, pdf."),ce(),fe(108,"li"),Me(109,"Algoritmos (minmax, camino m\xe1s corto)."),ce(),fe(110,"li"),Me(111,"OCR (Reconocimientos de Caracteres)."),ce(),fe(112,"li"),Me(113,"LLamado a Sockets via Node.js (Chat)."),ce(),fe(114,"li"),Me(115,"Manipulaci\xf3n de bases de datos MS SQL Server desde .net Core (backend)."),ce()()(),lt(116,"hr"),fe(117,"div",2)(118,"a",3),Me(119,"[Volver al Inicio]"),ce()())},dependencies:[xs]})}}return n})(),Lat=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ar({type:n,selectors:[["app-about"]],decls:23,vars:0,consts:[["align","left"],["routerLink","/Topics"],["routerLink","/LLMs"],["routerLink","/SCM"],["routerLink","/ContactForm"],["routerLink","/Index"],["align","right"],["routerLink","/Home"]],template:function(r,i){1&r&&(fe(0,"div",0)(1,"h2"),Me(2,"[ABOUT]"),ce(),fe(3,"ul")(4,"li")(5,"a",1),Me(6,"[Topics]"),ce()(),fe(7,"li")(8,"a",2),Me(9,"[Large Language Models List]"),ce()(),fe(10,"li")(11,"a",3),Me(12,"[Software Configuration Management]"),ce()(),fe(13,"li")(14,"a",4),Me(15,"[Contact Form]"),ce()(),fe(16,"li")(17,"a",5),Me(18,"[Index]"),ce()()()(),lt(19,"hr"),fe(20,"div",6)(21,"a",7),Me(22,"[Volver al Inicio]"),ce()())},dependencies:[xs]})}}return n})(),Uat=(()=>{class n{constructor(){this.isLoaded=!1}initialize(){var t=this;return(0,yt.A)(function*(){if(!t.isLoaded)try{fetch("assets/wasm/program.wasm").then(r=>r.arrayBuffer()).then(r=>WebAssembly.instantiate(r,{env:{memory:new WebAssembly.Memory({initial:256,maximum:512}),print:i=>console.log("WASM says:",i),abort:()=>console.error("WASM aborted!")}})).then(({instance:r})=>{console.log("WASM Loaded Successfully!",r),t.isLoaded=!0}).catch(r=>console.error("Failed to load WASM:",r))}catch(r){throw console.error("Failed to load WebAssembly module:",r),r}})()}processString(t){var r=this;return(0,yt.A)(function*(){r.isLoaded||(yield r.initialize());try{let i=r.wasmModule._process_string(t);return console.log("output : "+i),i}catch(i){throw console.error("Error processing string:",i),i}})()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const eue=[{path:"Home",component:xle,caption:"Home"},{path:"",component:xle,caption:""},{path:"Sudoku",component:VRe,caption:"Sudoku"},{path:"TicTacToe",component:rOe,caption:"TicTacToe"},{path:"TicTacToeOnline",component:rPe,caption:"TicTacToe-Online"},{path:"Hanoi",component:ISe,caption:"Hanoi - Timer"},{path:"HanoiRjxs",component:MSe,caption:"Hanoi - Rjxs"},{path:"HanoiAuto",component:ESe,caption:"Hanoi - Rjxs -Auto"},{path:"Hanoi3d",component:MFe,caption:"Hanoi - 3d"},{path:"RxJsPlayground",component:Nnt,caption:"RxJs-Playground"},{path:"OcrPhotoCapture",component:pnt,caption:"Ocr-Photo-Capture"},{path:"Ocr",component:_nt,caption:"Ocr"},{path:"Chat",component:PPe,caption:"Chat"},{path:"SpeechRecognition",component:Qnt,caption:"Speech       - Recognition"},{path:"ShapeReconCanvas",component:Hnt,caption:"Shape        - Recon - Canvas"},{path:"ShapeRecognition",component:Ent,caption:"Shape        - Recognition"},{path:"BackendTesting",component:vnt,caption:"Backend      - Testing"},{path:"BouncingBall",component:sPe,caption:"Boucing      - Testing"},{path:"Tetris",component:KRe,caption:"Tetris       - Testing"},{path:"MathParsing",component:Jet,caption:"Math         - Testing"},{path:"WebAssembly",component:(()=>{class n{constructor(t){this.stringProcessor=t,this.inputText="",this.processedText=""}ngOnInit(){var t=this;return(0,yt.A)(function*(){yield t.stringProcessor.initialize()})()}processText(){var t=this;return(0,yt.A)(function*(){try{t.processedText=yield t.stringProcessor.processString(t.inputText)}catch(r){console.error("Error:",r)}})()}static{this.\u0275fac=function(r){return new(r||n)(At(Uat))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-web-assembly"]],decls:4,vars:2,consts:[[3,"ngModelChange","input","ngModel"]],template:function(r,i){1&r&&(fe(0,"div")(1,"input",0),Lf("ngModelChange",function(o){return kd(i.inputText,o)||(i.inputText=o),o}),jt("input",function(){return i.processText()}),ce(),fe(2,"p"),Me(3),ce()()),2&r&&(Te(),Pf("ngModel",i.inputText),Te(2),Hi("Processed text: ",i.processedText,""))},dependencies:[Qd,kg,Gv]})}}return n})(),caption:"WebAsemmbly  - Testing"},{path:"Dev",component:mnt,caption:"Testing Releases"},{path:"StableReleases",component:gnt,caption:"Stable Releases"},{path:"SCM",component:Oat,caption:"About - SCM"},{path:"Topics",component:Pat,caption:"About - Topics"},{path:"LLMs",component:Aat,caption:"About - LLM List"},{path:"Index",component:fat,caption:"About - Index"},{path:"ContactForm",component:Eat,caption:"About - Contact Form"},{path:"About",component:Lat,caption:"About"},{path:"**",component:jnt,caption:""}];let kat=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n})}static{this.\u0275inj=Kr({imports:[YK.forRoot(eue),YK]})}}return n})();function Hat(n,e){if(1&n){const t=bs();fe(0,"ul",14)(1,"li",15)(2,"a",16),jt("click",function(){return Ln(t),Qn(rn().NavbarCollapsed=!0)}),fe(3,"div",17),Me(4),ce()()()()}if(2&n){const t=e.$implicit;Te(2),ox("routerLink","/",t.url,""),Te(2),Br(t.text)}}let Vat=(()=>{class n{get NavbarCollapsed(){return this.navbarCollapsed}set NavbarCollapsed(t){this.navbarCollapsed=t}constructor(t,r,i,s,o){this.router=t,this.configService=r,this.titleService=i,this.customErrorHandler=s,this.loggingInterceptor=o,this.title="PWA_DEMO_ENV_TEST",this._title="",this._appBrand="",this._appEnv="",this._appVersion="",this.runtimeVersion=T9.full,this.pages=[{url:"/Home",text:"[Home]"},{url:"/Dev",text:"[Testing Releases]"},{url:"/StableReleases",text:"[Stable Releases]"},{url:"/About",text:"[About]"}],this.navbarCollapsed=!0,this._appBrand=this.configService.getConfigValue("appBrand"),this._appEnv=this.configService.getConfigValue("appEnv"),this._appVersion=this.configService.getConfigValue("appVersion"),this._title=`${this._appBrand} - ${this._appEnv}  - v[${this._appVersion}]`,console.log(`${this._title}`)}ngOnInit(){this.titleService.setTitle(this._title)}static{this.\u0275fac=function(r){return new(r||n)(At(Rc),At(zg),At(XM),At(FF),At(RF))}}static{this.\u0275cmp=ar({type:n,selectors:[["app-nav"]],decls:25,vars:7,consts:[["navbarItems",""],[1,""],[1,"navbar","navbar-expand-lg","subtitle"],["type","button","data-toggle","collapse","data-target","#navbarItems","aria-controls","navbarItems","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand"],[1,"subtitle",3,"click"],["routerLink","/"],[1,"me-1",2,"width","25px",3,"src","alt"],["id","navbarItems",1,"collapse","navbar-collapse","subtitle",3,"ngbCollapse"],["class","navbar-nav",4,"ngFor","ngForOf"],["role","main",1,"content"],[1,"footer"],["routerLink","/Index"],[1,"navbar-nav"],[1,"nav-item"],[1,"nav-link",3,"click","routerLink"],["align","left"]],template:function(r,i){if(1&r){const s=bs();fe(0,"header",1)(1,"div",1)(2,"nav",2)(3,"button",3),jt("click",function(){return Ln(s),Qn(i.NavbarCollapsed=!i.NavbarCollapsed)}),lt(4,"span",4),ce(),fe(5,"a",5)(6,"div",6),jt("click",function(){return Ln(s),Qn(i.NavbarCollapsed=!0)}),fe(7,"a",7),lt(8,"img",8),ce()()(),fe(9,"div",9,0),cn(11,Hat,5,3,"ul",10),ce()()()(),lt(12,"hr"),fe(13,"div",11),lt(14,"router-outlet"),ce(),lt(15,"hr"),fe(16,"footer")(17,"div",12)(18,"h5")(19,"a",13),Me(20,"[Index]"),ce()(),fe(21,"h5"),Me(22),ce(),fe(23,"h5"),Me(24),ce()()()}2&r&&(Te(8),qe("src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/800px-Angular_full_color_logo.svg.png",mo)("alt","Angular Logo"),Te(),qe("ngbCollapse",i.NavbarCollapsed),Te(2),qe("ngForOf",i.pages),Te(11),uM("Aplication Name : ",i._appBrand," - ",i._appEnv,""),Te(2),Hi("Aplication Version : ",i._appVersion,""))},dependencies:[$3,xs,Bl,h6]})}}return n})(),FF=(()=>{class n{constructor(t){this.mcsdService=t}handleError(t){console.warn("[CUSTOM ERROR HANDLING]:\n"+t.name+"\n"+t.message),this.mcsdService.SetLog("[CUSTOM ERROR HANDLING]",t.message,oU.Error)}static{this.\u0275fac=function(r){return new(r||n)(Wt(Ob))}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),RF=(()=>{class n{constructor(){}intercept(t,r){const i=Date.now();let s;return r.handle(t).pipe(Ro({next:o=>s=o instanceof $A?"succeeded":"",error:o=>s="failed"}),T_(()=>{const o=Date.now()-i;console.warn(` [REQUEST URL (INTERCEPT)] : ${t.method} "${t.urlWithParams}" ${s} in ${o} ms.`)}))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Qat(n){return n.loadAiPrompts(),n.loadSCMList(),()=>n.loadConfig()}let zat=(()=>{class n{constructor(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Zr({type:n,bootstrap:[ZK]})}static{this.\u0275inj=Kr({providers:[mL,kM,kv,ibe(),[{provide:Mq,useClass:RF,multi:!0},{provide:ju,useClass:FF},zg,{provide:pM,useFactory:Qat,deps:[zg],multi:!0},{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:F6.PROVIDER_ID,provider:new F6("1763416537924183")}]}}]],imports:[KZ,tX,gee,kat,Ng,h$,rwe,S1e,rW,YCe,ont,Jce,Jce,IF,d6,T6,IF,h$,NPe,vat]})}}return n})();(function a9(n,e,t){const r=n.\u0275cmp;r.directiveDefs=xA(e,!1),r.pipeDefs=xA(t,!0)})(ZK,[Vat],[]),Z1e().bootstrapModule(zat).catch(n=>console.error(n))},1234:()=>{},6645:function(gr){gr.exports=function(){"use strict";function Kn(){return!0}function we(){return!1}function St(){}const yt="Argument is not a typed-function.";return function Ct(){function Mn(He){return"object"==typeof He&&null!==He&&He.constructor===Object}const Gn=[{name:"number",test:function(He){return"number"==typeof He}},{name:"string",test:function(He){return"string"==typeof He}},{name:"boolean",test:function(He){return"boolean"==typeof He}},{name:"Function",test:function(He){return"function"==typeof He}},{name:"Array",test:Array.isArray},{name:"Date",test:function(He){return He instanceof Date}},{name:"RegExp",test:function(He){return He instanceof RegExp}},{name:"Object",test:Mn},{name:"null",test:function(He){return null===He}},{name:"undefined",test:function(He){return void 0===He}}],Vn={name:"any",test:Kn,isAny:!0};let bt,Ge,Ot=0,Bt={createCount:0};function mt(He){const Je=bt.get(He);if(Je)return Je;let ct='Unknown type "'+He+'"';const Rt=He.toLowerCase();let qt;for(qt of Ge)if(qt.toLowerCase()===Rt){ct+='. Did you mean "'+qt+'" ?';break}throw new TypeError(ct)}function zt(He){let Je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const ct=Je?mt(Je).index:Ge.length,Rt=[];for(let Ht=0;Ht<He.length;++Ht){if(!He[Ht]||"string"!=typeof He[Ht].name||"function"!=typeof He[Ht].test)throw new TypeError("Object with properties {name: string, test: function} expected");const Cn=He[Ht].name;if(bt.has(Cn))throw new TypeError('Duplicate type name "'+Cn+'"');Rt.push(Cn),bt.set(Cn,{name:Cn,test:He[Ht].test,isAny:He[Ht].isAny,index:ct+Ht,conversionsTo:[]})}const qt=Ge.slice(ct);Ge=Ge.slice(0,ct).concat(Rt).concat(qt);for(let Ht=ct+Rt.length;Ht<Ge.length;++Ht)bt.get(Ge[Ht]).index=Ht}function Yt(){bt=new Map,Ge=[],Ot=0,zt([Vn],!1)}function Jr(He){const Je=Ge.filter(ct=>{const Rt=bt.get(ct);return!Rt.isAny&&Rt.test(He)});return Je.length?Je:["any"]}function ds(He){return He&&"function"==typeof He&&"_typedFunctionData"in He}function Hs(He,Je,ct){if(!ds(He))throw new TypeError(yt);const Rt=ct&&ct.exact,Ht=Pi(Array.isArray(Je)?Je.join(","):Je),Cn=mr(Ht);if(!Rt||Cn in He.signatures){const Li=He._typedFunctionData.signatureMap.get(Cn);if(Li)return Li}const en=Ht.length;let xn,Jt;if(Rt){let Li;for(Li in xn=[],He.signatures)xn.push(He._typedFunctionData.signatureMap.get(Li))}else xn=He._typedFunctionData.signatures;for(let Li=0;Li<en;++Li){const Gi=Ht[Li],ao=[];let ko;for(ko of xn){const As=Ja(ko.params,Li);if(As&&(!Gi.restParam||As.restParam)){if(!As.hasAny){const bl=Ds(As);if(Gi.types.some(Pa=>!bl.has(Pa.name)))continue}ao.push(ko)}}if(xn=ao,0===xn.length)break}for(Jt of xn)if(Jt.params.length<=en)return Jt;throw new TypeError("Signature not found (signature: "+(He.name||"unnamed")+"("+mr(Ht,", ")+"))")}function mr(He){let Je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return He.map(ct=>ct.name).join(Je)}function Oi(He){const Je=0===He.indexOf("..."),Rt=(Je?He.length>3?He.slice(3):"any":He).split("|").map(en=>mt(en.trim()));let qt=!1,Ht=Je?"...":"";return{types:Rt.map(function(en){return qt=en.isAny||qt,Ht+=en.name+"|",{name:en.name,typeIndex:en.index,test:en.test,isAny:en.isAny,conversion:null,conversionIndex:-1}}),name:Ht.slice(0,-1),hasAny:qt,hasConversion:!1,restParam:Je}}function po(He){const ct=function Wm(He){if(0===He.length)return[];const Je=He.map(mt);He.length>1&&Je.sort((qt,Ht)=>qt.index-Ht.index);let ct=Je[0].conversionsTo;if(1===He.length)return ct;ct=ct.concat([]);const Rt=new Set(He);for(let qt=1;qt<Je.length;++qt){let Ht;for(Ht of Je[qt].conversionsTo)Rt.has(Ht.from)||(ct.push(Ht),Rt.add(Ht.from))}return ct}(He.types.map(Cn=>Cn.name));let Rt=He.hasAny,qt=He.name;const Ht=ct.map(function(Cn){const en=mt(Cn.from);return Rt=en.isAny||Rt,qt+="|"+Cn.from,{name:Cn.from,typeIndex:en.index,test:en.test,isAny:en.isAny,conversion:Cn,conversionIndex:Cn.index}});return{types:He.types.concat(Ht),name:qt,hasAny:Rt,hasConversion:Ht.length>0,restParam:He.restParam}}function Ds(He){return He.typeSet||(He.typeSet=new Set,He.types.forEach(Je=>He.typeSet.add(Je.name))),He.typeSet}function Pi(He){const Je=[];if("string"!=typeof He)throw new TypeError("Signatures must be strings");const ct=He.trim();if(""===ct)return Je;const Rt=ct.split(",");for(let qt=0;qt<Rt.length;++qt){const Ht=Oi(Rt[qt].trim());if(Ht.restParam&&qt!==Rt.length-1)throw new SyntaxError('Unexpected rest parameter "'+Rt[qt]+'": only allowed for the last parameter');if(0===Ht.types.length)return null;Je.push(Ht)}return Je}function fi(He){const Je=Vs(He);return!!Je&&Je.restParam}function bi(He){if(!He||0===He.types.length)return Kn;if(1===He.types.length)return mt(He.types[0].name).test;if(2===He.types.length){const Je=mt(He.types[0].name).test,ct=mt(He.types[1].name).test;return function(qt){return Je(qt)||ct(qt)}}{const Je=He.types.map(function(ct){return mt(ct.name).test});return function(Rt){for(let qt=0;qt<Je.length;qt++)if(Je[qt](Rt))return!0;return!1}}}function ma(He){let Je,ct,Rt;if(fi(He)){Je=dn(He).map(bi);const qt=Je.length,Ht=bi(Vs(He)),Cn=function(en){for(let xn=qt;xn<en.length;xn++)if(!Ht(en[xn]))return!1;return!0};return function(xn){for(let Jt=0;Jt<Je.length;Jt++)if(!Je[Jt](xn[Jt]))return!1;return Cn(xn)&&xn.length>=qt+1}}return 0===He.length?function(Ht){return 0===Ht.length}:1===He.length?(ct=bi(He[0]),function(Ht){return ct(Ht[0])&&1===Ht.length}):2===He.length?(ct=bi(He[0]),Rt=bi(He[1]),function(Ht){return ct(Ht[0])&&Rt(Ht[1])&&2===Ht.length}):(Je=He.map(bi),function(Ht){for(let Cn=0;Cn<Je.length;Cn++)if(!Je[Cn](Ht[Cn]))return!1;return Ht.length===Je.length})}function Ja(He,Je){return Je<He.length?He[Je]:fi(He)?Vs(He):null}function va(He,Je){const ct=Ja(He,Je);return ct?Ds(ct):new Set}function Za(He){return null==He.conversion}function mh(He,Je){const ct=new Set;return He.forEach(Rt=>{const qt=va(Rt.params,Je);let Ht;for(Ht of qt)ct.add(Ht)}),ct.has("any")?["any"]:Array.from(ct)}function eu(He,Je,ct){let Rt,qt;const Ht=He||"unnamed";let en,Cn=ct;for(en=0;en<Je.length;en++){const Gi=[];if(Cn.forEach(ao=>{const As=bi(Ja(ao.params,en));(en<ao.params.length||fi(ao.params))&&As(Je[en])&&Gi.push(ao)}),0===Gi.length){if(qt=mh(Cn,en),qt.length>0){const ao=Jr(Je[en]);return Rt=new TypeError("Unexpected type of argument in function "+Ht+" (expected: "+qt.join(" or ")+", actual: "+ao.join(" | ")+", index: "+en+")"),Rt.data={category:"wrongType",fn:Ht,index:en,actual:ao,expected:qt},Rt}}else Cn=Gi}const xn=Cn.map(function(Gi){return fi(Gi.params)?1/0:Gi.params.length});if(Je.length<Math.min.apply(null,xn))return qt=mh(Cn,en),Rt=new TypeError("Too few arguments in function "+Ht+" (expected: "+qt.join(" or ")+", index: "+Je.length+")"),Rt.data={category:"tooFewArgs",fn:Ht,index:Je.length,expected:qt},Rt;const Jt=Math.max.apply(null,xn);if(Je.length>Jt)return Rt=new TypeError("Too many arguments in function "+Ht+" (expected: "+Jt+", actual: "+Je.length+")"),Rt.data={category:"tooManyArgs",fn:Ht,index:Je.length,expectedLength:Jt},Rt;const Li=[];for(let Gi=0;Gi<Je.length;++Gi)Li.push(Jr(Je[Gi]).join("|"));return Rt=new TypeError('Arguments of type "'+Li.join(", ")+'" do not match any of the defined signatures of function '+Ht+"."),Rt.data={category:"mismatch",actual:Li},Rt}function yd(He){let Je=Ge.length+1;for(let ct=0;ct<He.types.length;ct++)Za(He.types[ct])&&(Je=Math.min(Je,He.types[ct].typeIndex));return Je}function Vp(He){let Je=Ot+1;for(let ct=0;ct<He.types.length;ct++)Za(He.types[ct])||(Je=Math.min(Je,He.types[ct].conversionIndex));return Je}function Qp(He,Je){if(He.hasAny){if(!Je.hasAny)return 1}else if(Je.hasAny)return-1;if(He.restParam){if(!Je.restParam)return 1}else if(Je.restParam)return-1;if(He.hasConversion){if(!Je.hasConversion)return 1}else if(Je.hasConversion)return-1;const ct=yd(He)-yd(Je);if(ct<0)return-1;if(ct>0)return 1;const Rt=Vp(He)-Vp(Je);return Rt<0?-1:Rt>0?1:0}function _d(He,Je){const ct=He.params,Rt=Je.params,qt=Vs(ct),Ht=Vs(Rt),Cn=fi(ct),en=fi(Rt);if(Cn&&qt.hasAny){if(!en||!Ht.hasAny)return 1}else if(en&&Ht.hasAny)return-1;let Li,xn=0,Jt=0;for(Li of ct)Li.hasAny&&++xn,Li.hasConversion&&++Jt;let Gi=0,ao=0;for(Li of Rt)Li.hasAny&&++Gi,Li.hasConversion&&++ao;if(xn!==Gi)return xn-Gi;if(Cn&&qt.hasConversion){if(!en||!Ht.hasConversion)return 1}else if(en&&Ht.hasConversion)return-1;if(Jt!==ao)return Jt-ao;if(Cn){if(!en)return 1}else if(en)return-1;const ko=(ct.length-Rt.length)*(Cn?-1:1);if(0!==ko)return ko;const As=[];let Pa,bl=0;for(let di=0;di<ct.length;++di){const Af=Qp(ct[di],Rt[di]);As.push(Af),bl+=Af}if(0!==bl)return bl;for(Pa of As)if(0!==Pa)return Pa;return 0}function fw(He,Je){let ct=Je;if(He.some(qt=>qt.hasConversion)){const qt=fi(He),Ht=He.map(gA);ct=function(){const en=[],xn=qt?arguments.length-1:arguments.length;for(let Jt=0;Jt<xn;Jt++)en[Jt]=Ht[Jt](arguments[Jt]);return qt&&(en[xn]=arguments[xn].map(Ht[xn])),Je.apply(this,en)}}let Rt=ct;if(fi(He)){const qt=He.length-1;Rt=function(){return ct.apply(this,li(arguments,0,qt).concat([li(arguments,qt)]))}}return Rt}function gA(He){let Je,ct,Rt,qt;const Ht=[],Cn=[];switch(He.types.forEach(function(en){en.conversion&&(Ht.push(mt(en.conversion.from).test),Cn.push(en.conversion.convert))}),Cn.length){case 0:return function(xn){return xn};case 1:return Je=Ht[0],Rt=Cn[0],function(xn){return Je(xn)?Rt(xn):xn};case 2:return Je=Ht[0],ct=Ht[1],Rt=Cn[0],qt=Cn[1],function(xn){return Je(xn)?Rt(xn):ct(xn)?qt(xn):xn};default:return function(xn){for(let Jt=0;Jt<Cn.length;Jt++)if(Ht[Jt](xn))return Cn[Jt](xn);return xn}}}function bd(He){return function Je(ct,Rt,qt){if(Rt<ct.length){const Ht=ct[Rt];let Cn=[];if(Ht.restParam){const en=Ht.types.filter(Za);en.length<Ht.types.length&&Cn.push({types:en,name:"..."+en.map(xn=>xn.name).join("|"),hasAny:en.some(xn=>xn.isAny),hasConversion:!1,restParam:!0}),Cn.push(Ht)}else Cn=Ht.types.map(function(en){return{types:[en],name:en.name,hasAny:en.isAny,hasConversion:en.conversion,restParam:!1}});return function mi(He,Je){return Array.prototype.concat.apply([],He.map(Je))}(Cn,function(en){return Je(ct,Rt+1,qt.concat([en]))})}return[qt]}(He,0,[])}function zp(He,Je){const ct=Math.max(He.length,Je.length);for(let en=0;en<ct;en++){const xn=va(He,en),Jt=va(Je,en);let Gi,Li=!1;for(Gi of Jt)if(xn.has(Gi)){Li=!0;break}if(!Li)return!1}const Rt=He.length,qt=Je.length,Ht=fi(He),Cn=fi(Je);return Ht?Cn?Rt===qt:qt>=Rt:Cn?Rt>=qt:Rt===qt}function ft(He,Je,ct){const Rt=[];let qt;for(qt of He){let Ht=ct[qt];if("number"!=typeof Ht)throw new TypeError('No definition for referenced signature "'+qt+'"');if(Ht=Je[Ht],"function"!=typeof Ht)return!1;Rt.push(Ht)}return Rt}function vt(He,Je,ct){const Rt=function Gp(He){return He.map(Je=>bo(Je)?jl(Je.referToSelf.callback):el(Je)?Uu(Je.referTo.references,Je.referTo.callback):Je)}(He),qt=new Array(Rt.length).fill(!1);let Ht=!0;for(;Ht;){Ht=!1;let Cn=!0;for(let en=0;en<Rt.length;++en){if(qt[en])continue;const xn=Rt[en];if(bo(xn))Rt[en]=xn.referToSelf.callback(ct),Rt[en].referToSelf=xn.referToSelf,qt[en]=!0,Cn=!1;else if(el(xn)){const Jt=ft(xn.referTo.references,Rt,Je);Jt?(Rt[en]=xn.referTo.callback.apply(this,Jt),Rt[en].referTo=xn.referTo,qt[en]=!0,Cn=!1):Ht=!0}}if(Cn&&Ht)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Rt}function hn(He,Je){if(Bt.createCount++,0===Object.keys(Je).length)throw new SyntaxError("No signatures provided");Bt.warnAgainstDeprecatedThis&&function Xt(He){const Je=/\bthis(\(|\.signatures\b)/;Object.keys(He).forEach(ct=>{if(Je.test(He[ct].toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(Je);const ct=[],Rt=[],qt={},Ht=[];let Cn;for(Cn in Je){if(!Object.prototype.hasOwnProperty.call(Je,Cn))continue;const Wi=Pi(Cn);if(!Wi)continue;ct.forEach(function(nu){if(zp(nu,Wi))throw new TypeError('Conflicting signatures "'+mr(nu)+'" and "'+mr(Wi)+'".')}),ct.push(Wi);const Fs=Rt.length;Rt.push(Je[Cn]);const tu=Wi.map(po);let Hu;for(Hu of bd(tu)){const nu=mr(Hu);Ht.push({params:Hu,name:nu,fn:Fs}),Hu.every(py=>!py.hasConversion)&&(qt[nu]=Fs)}}Ht.sort(_d);const en=vt(Rt,qt,Kp);let xn;for(xn in qt)Object.prototype.hasOwnProperty.call(qt,xn)&&(qt[xn]=en[qt[xn]]);const Jt=[],Li=new Map;for(xn of Ht)Li.has(xn.name)||(xn.fn=en[xn.fn],Jt.push(xn),Li.set(xn.name,xn));const Gi=Jt[0]&&Jt[0].params.length<=2&&!fi(Jt[0].params),ao=Jt[1]&&Jt[1].params.length<=2&&!fi(Jt[1].params),ko=Jt[2]&&Jt[2].params.length<=2&&!fi(Jt[2].params),As=Jt[3]&&Jt[3].params.length<=2&&!fi(Jt[3].params),bl=Jt[4]&&Jt[4].params.length<=2&&!fi(Jt[4].params),Pa=Jt[5]&&Jt[5].params.length<=2&&!fi(Jt[5].params),di=Gi&&ao&&ko&&As&&bl&&Pa;for(let Wi=0;Wi<Jt.length;++Wi)Jt[Wi].test=ma(Jt[Wi].params);const Af=Gi?bi(Jt[0].params[0]):we,hy=ao?bi(Jt[1].params[0]):we,dw=ko?bi(Jt[2].params[0]):we,Aw=As?bi(Jt[3].params[0]):we,Lr=bl?bi(Jt[4].params[0]):we,ci=Pa?bi(Jt[5].params[0]):we,as=Gi?bi(Jt[0].params[1]):we,jp=ao?bi(Jt[1].params[1]):we,ji=ko?bi(Jt[2].params[1]):we,qi=As?bi(Jt[3].params[1]):we,fy=bl?bi(Jt[4].params[1]):we,Qr=Pa?bi(Jt[5].params[1]):we;for(let Wi=0;Wi<Jt.length;++Wi)Jt[Wi].implementation=fw(Jt[Wi].params,Jt[Wi].fn);const qp=Gi?Jt[0].implementation:St,Ys=ao?Jt[1].implementation:St,wl=ko?Jt[2].implementation:St,ZS=As?Jt[3].implementation:St,$m=bl?Jt[4].implementation:St,wo=Pa?Jt[5].implementation:St,Wp=Gi?Jt[0].params.length:-1,dy=ao?Jt[1].params.length:-1,pw=ko?Jt[2].params.length:-1,_h=As?Jt[3].params.length:-1,e2=bl?Jt[4].params.length:-1,Ay=Pa?Jt[5].params.length:-1,dt=di?6:0,ku=Jt.length,pf=Jt.map(Wi=>Wi.test),Km=Jt.map(Wi=>Wi.implementation),$p=function(){for(let Fs=dt;Fs<ku;Fs++)if(pf[Fs](arguments))return Km[Fs].apply(this,arguments);return Bt.onMismatch(He,arguments,Jt)};function Kp(Wi,Fs){return arguments.length===Wp&&Af(Wi)&&as(Fs)?qp.apply(this,arguments):arguments.length===dy&&hy(Wi)&&jp(Fs)?Ys.apply(this,arguments):arguments.length===pw&&dw(Wi)&&ji(Fs)?wl.apply(this,arguments):arguments.length===_h&&Aw(Wi)&&qi(Fs)?ZS.apply(this,arguments):arguments.length===e2&&Lr(Wi)&&fy(Fs)?$m.apply(this,arguments):arguments.length===Ay&&ci(Wi)&&Qr(Fs)?wo.apply(this,arguments):$p.apply(this,arguments)}try{Object.defineProperty(Kp,"name",{value:He})}catch{}return Kp.signatures=qt,Kp._typedFunctionData={signatures:Jt,signatureMap:Li},Kp}function qn(He,Je,ct){throw eu(He,Je,ct)}function dn(He){return li(He,0,He.length-1)}function Vs(He){return He[He.length-1]}function li(He,Je,ct){return Array.prototype.slice.call(He,Je,ct)}function Uu(He,Je){return{referTo:{references:He,callback:Je}}}function jl(He){if("function"!=typeof He)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:He}}}function el(He){return He&&"object"==typeof He.referTo&&Array.isArray(He.referTo.references)&&"function"==typeof He.referTo.callback}function bo(He){return He&&"object"==typeof He.referToSelf&&"function"==typeof He.referToSelf.callback}function ql(He,Je){if(!He)return Je;if(Je&&Je!==He){const ct=new Error("Function names do not match (expected: "+He+", actual: "+Je+")");throw ct.data={actual:Je,expected:He},ct}return He}function Qs(He){let Je;for(const ct in He)Object.prototype.hasOwnProperty.call(He,ct)&&(ds(He[ct])||"string"==typeof He[ct].signature)&&(Je=ql(Je,He[ct].name));return Je}function vh(He,Je){let ct;for(ct in Je)if(Object.prototype.hasOwnProperty.call(Je,ct)){if(ct in He&&Je[ct]!==He[ct]){const Rt=new Error('Signature "'+ct+'" is defined twice');throw Rt.data={signature:ct,sourceFunction:Je[ct],destFunction:He[ct]},Rt}He[ct]=Je[ct]}}Yt(),zt(Gn);const mA=Bt;function yh(He){if(!He||"string"!=typeof He.from||"string"!=typeof He.to||"function"!=typeof He.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(He.to===He.from)throw new SyntaxError('Illegal to define conversion from "'+He.from+'" to itself.')}return Bt=function(He){const Je="string"==typeof He;let Rt=Je?He:"";const qt={};for(let Ht=Je?1:0;Ht<arguments.length;++Ht){const Cn=arguments[Ht];let xn,en={};if("function"==typeof Cn?(xn=Cn.name,"string"==typeof Cn.signature?en[Cn.signature]=Cn:ds(Cn)&&(en=Cn.signatures)):Mn(Cn)&&(en=Cn,Je||(xn=Qs(Cn))),0===Object.keys(en).length){const Jt=new TypeError("Argument to 'typed' at index "+Ht+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Jt.data={index:Ht,argument:Cn},Jt}Je||(Rt=ql(Rt,xn)),vh(qt,en)}return hn(Rt||"",qt)},Bt.create=Ct,Bt.createCount=mA.createCount,Bt.onMismatch=qn,Bt.throwMismatchError=qn,Bt.createError=eu,Bt.clear=Yt,Bt.clearConversions=function nn(){let He;for(He of Ge)bt.get(He).conversionsTo=[];Ot=0},Bt.addTypes=zt,Bt._findType=mt,Bt.referTo=function bc(){const He=dn(arguments).map(ct=>mr(Pi(ct))),Je=Vs(arguments);if("function"!=typeof Je)throw new TypeError("Callback function expected as last argument");return Uu(He,Je)},Bt.referToSelf=jl,Bt.convert=function ga(He,Je){const ct=mt(Je);if(ct.test(He))return He;const Rt=ct.conversionsTo;if(0===Rt.length)throw new Error("There are no conversions to "+Je+" defined.");for(let qt=0;qt<Rt.length;qt++)if(mt(Rt[qt].from).test(He))return Rt[qt].convert(He);throw new Error("Cannot convert "+He+" to "+Je)},Bt.findSignature=Hs,Bt.find=function Is(He,Je,ct){return Hs(He,Je,ct).implementation},Bt.isTypedFunction=ds,Bt.warnAgainstDeprecatedThis=!0,Bt.addType=function(He,Je){let ct="any";!1!==Je&&bt.has("Object")&&(ct="Object"),Bt.addTypes([He],ct)},Bt.addConversion=function(He){let Je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};yh(He);const ct=mt(He.to),Rt=ct.conversionsTo.find(qt=>qt.from===He.from);if(Rt){if(!Je||!Je.override)throw new Error('There is already a conversion from "'+He.from+'" to "'+ct.name+'"');Bt.removeConversion({from:Rt.from,to:He.to,convert:Rt.convert})}ct.conversionsTo.push({from:He.from,convert:He.convert,index:Ot++})},Bt.addConversions=function(He,Je){He.forEach(ct=>Bt.addConversion(ct,Je))},Bt.removeConversion=function(He){yh(He);const Je=mt(He.to),ct=function Ti(He,Je){for(let ct=0;ct<He.length;ct++)if(Je(He[ct]))return He[ct]}(Je.conversionsTo,qt=>qt.from===He.from);if(!ct)throw new Error("Attempt to remove nonexistent conversion from "+He.from+" to "+He.to);if(ct.convert!==He.convert)throw new Error("Conversion to remove does not match existing conversion");const Rt=Je.conversionsTo.indexOf(ct);Je.conversionsTo.splice(Rt,1)},Bt.resolve=function(He,Je){if(!ds(He))throw new TypeError(yt);const ct=He._typedFunctionData.signatures;for(let Rt=0;Rt<ct.length;++Rt)if(ct[Rt].test(Je))return ct[Rt];return null},Bt}()}()},7617:()=>{"use strict";const gr=":";Error;const bd=function(ft,...vt){if(bd.translate){const hn=bd.translate(ft,vt);ft=hn[0],vt=hn[1]}let Xt=Gp(ft[0],ft.raw[0]);for(let hn=1;hn<ft.length;hn++)Xt+=vt[hn-1]+Gp(ft[hn],ft.raw[hn]);return Xt},zp=":";function Gp(ft,vt){return vt.charAt(0)===zp?ft.substring(function va(ft,vt){for(let Xt=1,hn=1;Xt<ft.length;Xt++,hn++)if("\\"===vt[hn])hn++;else if(ft[Xt]===gr)return Xt;throw new Error(`Unterminated $localize metadata block in "${vt}".`)}(ft,vt)+1):ft}globalThis.$localize=bd},3308:(gr,Kn,we)=>{"use strict";function St(Ct,An,Mn,Gn,Vn,bt,Ge){try{var Ot=Ct[bt](Ge),Bt=Ot.value}catch(mt){return void Mn(mt)}Ot.done?An(Bt):Promise.resolve(Bt).then(Gn,Vn)}function yt(Ct){return function(){var An=this,Mn=arguments;return new Promise(function(Gn,Vn){var bt=Ct.apply(An,Mn);function Ge(Bt){St(bt,Gn,Vn,Ge,Ot,"next",Bt)}function Ot(Bt){St(bt,Gn,Vn,Ge,Ot,"throw",Bt)}Ge(void 0)})}}we.d(Kn,{A:()=>yt})},9391:(gr,Kn,we)=>{"use strict";function St(yt){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ct){return typeof Ct}:function(Ct){return Ct&&"function"==typeof Symbol&&Ct.constructor===Symbol&&Ct!==Symbol.prototype?"symbol":typeof Ct})(yt)}we.d(Kn,{A:()=>St})}},gr=>{var Kn=St=>gr(gr.s=St);Kn(7617),Kn(5210)}]);